var dC=Object.defineProperty;var uC=(dt,et,$t)=>et in dt?dC(dt,et,{enumerable:!0,configurable:!0,writable:!0,value:$t}):dt[et]=$t;var ys=(dt,et,$t)=>(uC(dt,typeof et!="symbol"?et+"":et,$t),$t),H2=(dt,et,$t)=>{if(!et.has(dt))throw TypeError("Cannot "+$t)};var ar=(dt,et,$t)=>(H2(dt,et,"read from private field"),$t?$t.call(dt):et.get(dt)),yr=(dt,et,$t)=>{if(et.has(dt))throw TypeError("Cannot add the same private member more than once");et instanceof WeakSet?et.add(dt):et.set(dt,$t)},jr=(dt,et,$t,kt)=>(H2(dt,et,"write to private field"),kt?kt.call(dt,$t):et.set(dt,$t),$t);var xa=(dt,et,$t,kt)=>({set _(Tt){jr(dt,et,Tt,$t)},get _(){return ar(dt,et,kt)}}),Br=(dt,et,$t)=>(H2(dt,et,"access private method"),$t);function _mergeNamespaces(dt,et){for(var $t=0;$t<et.length;$t++){const kt=et[$t];if(typeof kt!="string"&&!Array.isArray(kt)){for(const Tt in kt)if(Tt!=="default"&&!(Tt in dt)){const Dt=Object.getOwnPropertyDescriptor(kt,Tt);Dt&&Object.defineProperty(dt,Tt,Dt.get?Dt:{enumerable:!0,get:()=>kt[Tt]})}}}return Object.freeze(Object.defineProperty(dt,Symbol.toStringTag,{value:"Module"}))}(function(){const et=document.createElement("link").relList;if(et&&et.supports&&et.supports("modulepreload"))return;for(const Tt of document.querySelectorAll('link[rel="modulepreload"]'))kt(Tt);new MutationObserver(Tt=>{for(const Dt of Tt)if(Dt.type==="childList")for(const Ft of Dt.addedNodes)Ft.tagName==="LINK"&&Ft.rel==="modulepreload"&&kt(Ft)}).observe(document,{childList:!0,subtree:!0});function $t(Tt){const Dt={};return Tt.integrity&&(Dt.integrity=Tt.integrity),Tt.referrerPolicy&&(Dt.referrerPolicy=Tt.referrerPolicy),Tt.crossOrigin==="use-credentials"?Dt.credentials="include":Tt.crossOrigin==="anonymous"?Dt.credentials="omit":Dt.credentials="same-origin",Dt}function kt(Tt){if(Tt.ep)return;Tt.ep=!0;const Dt=$t(Tt);fetch(Tt.href,Dt)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(dt){return dt&&dt.__esModule&&Object.prototype.hasOwnProperty.call(dt,"default")?dt.default:dt}function getAugmentedNamespace(dt){if(dt.__esModule)return dt;var et=dt.default;if(typeof et=="function"){var $t=function kt(){return this instanceof kt?Reflect.construct(et,arguments,this.constructor):et.apply(this,arguments)};$t.prototype=et.prototype}else $t={};return Object.defineProperty($t,"__esModule",{value:!0}),Object.keys(dt).forEach(function(kt){var Tt=Object.getOwnPropertyDescriptor(dt,kt);Object.defineProperty($t,kt,Tt.get?Tt:{enumerable:!0,get:function(){return dt[kt]}})}),$t}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react$1={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$3=Symbol.for("react.element"),n$4=Symbol.for("react.portal"),p$6=Symbol.for("react.fragment"),q$5=Symbol.for("react.strict_mode"),r$4=Symbol.for("react.profiler"),t$4=Symbol.for("react.provider"),u$6=Symbol.for("react.context"),v$6=Symbol.for("react.forward_ref"),w$8=Symbol.for("react.suspense"),x$2=Symbol.for("react.memo"),y$5=Symbol.for("react.lazy"),z$8=Symbol.iterator;function A$8(dt){return dt===null||typeof dt!="object"?null:(dt=z$8&&dt[z$8]||dt["@@iterator"],typeof dt=="function"?dt:null)}var B$6={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$9=Object.assign,D$5={};function E$8(dt,et,$t){this.props=dt,this.context=et,this.refs=D$5,this.updater=$t||B$6}E$8.prototype.isReactComponent={};E$8.prototype.setState=function(dt,et){if(typeof dt!="object"&&typeof dt!="function"&&dt!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,dt,et,"setState")};E$8.prototype.forceUpdate=function(dt){this.updater.enqueueForceUpdate(this,dt,"forceUpdate")};function F$4(){}F$4.prototype=E$8.prototype;function G$4(dt,et,$t){this.props=dt,this.context=et,this.refs=D$5,this.updater=$t||B$6}var H$3=G$4.prototype=new F$4;H$3.constructor=G$4;C$9(H$3,E$8.prototype);H$3.isPureReactComponent=!0;var I$5=Array.isArray,J$3=Object.prototype.hasOwnProperty,K$5={current:null},L$a={key:!0,ref:!0,__self:!0,__source:!0};function M$7(dt,et,$t){var kt,Tt={},Dt=null,Ft=null;if(et!=null)for(kt in et.ref!==void 0&&(Ft=et.ref),et.key!==void 0&&(Dt=""+et.key),et)J$3.call(et,kt)&&!L$a.hasOwnProperty(kt)&&(Tt[kt]=et[kt]);var Ut=arguments.length-2;if(Ut===1)Tt.children=$t;else if(1<Ut){for(var Ht=Array(Ut),Kt=0;Kt<Ut;Kt++)Ht[Kt]=arguments[Kt+2];Tt.children=Ht}if(dt&&dt.defaultProps)for(kt in Ut=dt.defaultProps,Ut)Tt[kt]===void 0&&(Tt[kt]=Ut[kt]);return{$$typeof:l$3,type:dt,key:Dt,ref:Ft,props:Tt,_owner:K$5.current}}function N$4(dt,et){return{$$typeof:l$3,type:dt.type,key:et,ref:dt.ref,props:dt.props,_owner:dt._owner}}function O$8(dt){return typeof dt=="object"&&dt!==null&&dt.$$typeof===l$3}function escape$1(dt){var et={"=":"=0",":":"=2"};return"$"+dt.replace(/[=:]/g,function($t){return et[$t]})}var P$7=/\/+/g;function Q$5(dt,et){return typeof dt=="object"&&dt!==null&&dt.key!=null?escape$1(""+dt.key):et.toString(36)}function R$5(dt,et,$t,kt,Tt){var Dt=typeof dt;(Dt==="undefined"||Dt==="boolean")&&(dt=null);var Ft=!1;if(dt===null)Ft=!0;else switch(Dt){case"string":case"number":Ft=!0;break;case"object":switch(dt.$$typeof){case l$3:case n$4:Ft=!0}}if(Ft)return Ft=dt,Tt=Tt(Ft),dt=kt===""?"."+Q$5(Ft,0):kt,I$5(Tt)?($t="",dt!=null&&($t=dt.replace(P$7,"$&/")+"/"),R$5(Tt,et,$t,"",function(Kt){return Kt})):Tt!=null&&(O$8(Tt)&&(Tt=N$4(Tt,$t+(!Tt.key||Ft&&Ft.key===Tt.key?"":(""+Tt.key).replace(P$7,"$&/")+"/")+dt)),et.push(Tt)),1;if(Ft=0,kt=kt===""?".":kt+":",I$5(dt))for(var Ut=0;Ut<dt.length;Ut++){Dt=dt[Ut];var Ht=kt+Q$5(Dt,Ut);Ft+=R$5(Dt,et,$t,Ht,Tt)}else if(Ht=A$8(dt),typeof Ht=="function")for(dt=Ht.call(dt),Ut=0;!(Dt=dt.next()).done;)Dt=Dt.value,Ht=kt+Q$5(Dt,Ut++),Ft+=R$5(Dt,et,$t,Ht,Tt);else if(Dt==="object")throw et=String(dt),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(dt).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.");return Ft}function S$5(dt,et,$t){if(dt==null)return dt;var kt=[],Tt=0;return R$5(dt,kt,"","",function(Dt){return et.call($t,Dt,Tt++)}),kt}function T$6(dt){if(dt._status===-1){var et=dt._result;et=et(),et.then(function($t){(dt._status===0||dt._status===-1)&&(dt._status=1,dt._result=$t)},function($t){(dt._status===0||dt._status===-1)&&(dt._status=2,dt._result=$t)}),dt._status===-1&&(dt._status=0,dt._result=et)}if(dt._status===1)return dt._result.default;throw dt._result}var U$6={current:null},V$4={transition:null},W$9={ReactCurrentDispatcher:U$6,ReactCurrentBatchConfig:V$4,ReactCurrentOwner:K$5};function X$8(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$5,forEach:function(dt,et,$t){S$5(dt,function(){et.apply(this,arguments)},$t)},count:function(dt){var et=0;return S$5(dt,function(){et++}),et},toArray:function(dt){return S$5(dt,function(et){return et})||[]},only:function(dt){if(!O$8(dt))throw Error("React.Children.only expected to receive a single React element child.");return dt}};react_production_min.Component=E$8;react_production_min.Fragment=p$6;react_production_min.Profiler=r$4;react_production_min.PureComponent=G$4;react_production_min.StrictMode=q$5;react_production_min.Suspense=w$8;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$9;react_production_min.act=X$8;react_production_min.cloneElement=function(dt,et,$t){if(dt==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+dt+".");var kt=C$9({},dt.props),Tt=dt.key,Dt=dt.ref,Ft=dt._owner;if(et!=null){if(et.ref!==void 0&&(Dt=et.ref,Ft=K$5.current),et.key!==void 0&&(Tt=""+et.key),dt.type&&dt.type.defaultProps)var Ut=dt.type.defaultProps;for(Ht in et)J$3.call(et,Ht)&&!L$a.hasOwnProperty(Ht)&&(kt[Ht]=et[Ht]===void 0&&Ut!==void 0?Ut[Ht]:et[Ht])}var Ht=arguments.length-2;if(Ht===1)kt.children=$t;else if(1<Ht){Ut=Array(Ht);for(var Kt=0;Kt<Ht;Kt++)Ut[Kt]=arguments[Kt+2];kt.children=Ut}return{$$typeof:l$3,type:dt.type,key:Tt,ref:Dt,props:kt,_owner:Ft}};react_production_min.createContext=function(dt){return dt={$$typeof:u$6,_currentValue:dt,_currentValue2:dt,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},dt.Provider={$$typeof:t$4,_context:dt},dt.Consumer=dt};react_production_min.createElement=M$7;react_production_min.createFactory=function(dt){var et=M$7.bind(null,dt);return et.type=dt,et};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(dt){return{$$typeof:v$6,render:dt}};react_production_min.isValidElement=O$8;react_production_min.lazy=function(dt){return{$$typeof:y$5,_payload:{_status:-1,_result:dt},_init:T$6}};react_production_min.memo=function(dt,et){return{$$typeof:x$2,type:dt,compare:et===void 0?null:et}};react_production_min.startTransition=function(dt){var et=V$4.transition;V$4.transition={};try{dt()}finally{V$4.transition=et}};react_production_min.unstable_act=X$8;react_production_min.useCallback=function(dt,et){return U$6.current.useCallback(dt,et)};react_production_min.useContext=function(dt){return U$6.current.useContext(dt)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(dt){return U$6.current.useDeferredValue(dt)};react_production_min.useEffect=function(dt,et){return U$6.current.useEffect(dt,et)};react_production_min.useId=function(){return U$6.current.useId()};react_production_min.useImperativeHandle=function(dt,et,$t){return U$6.current.useImperativeHandle(dt,et,$t)};react_production_min.useInsertionEffect=function(dt,et){return U$6.current.useInsertionEffect(dt,et)};react_production_min.useLayoutEffect=function(dt,et){return U$6.current.useLayoutEffect(dt,et)};react_production_min.useMemo=function(dt,et){return U$6.current.useMemo(dt,et)};react_production_min.useReducer=function(dt,et,$t){return U$6.current.useReducer(dt,et,$t)};react_production_min.useRef=function(dt){return U$6.current.useRef(dt)};react_production_min.useState=function(dt){return U$6.current.useState(dt)};react_production_min.useSyncExternalStore=function(dt,et,$t){return U$6.current.useSyncExternalStore(dt,et,$t)};react_production_min.useTransition=function(){return U$6.current.useTransition()};react_production_min.version="18.3.1";react$1.exports=react_production_min;var reactExports=react$1.exports;const React$2=getDefaultExportFromCjs(reactExports),t$3=_mergeNamespaces({__proto__:null,default:React$2},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$1=reactExports,k$5=Symbol.for("react.element"),l$2=Symbol.for("react.fragment"),m$4=Object.prototype.hasOwnProperty,n$3=f$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$5={key:!0,ref:!0,__self:!0,__source:!0};function q$4(dt,et,$t){var kt,Tt={},Dt=null,Ft=null;$t!==void 0&&(Dt=""+$t),et.key!==void 0&&(Dt=""+et.key),et.ref!==void 0&&(Ft=et.ref);for(kt in et)m$4.call(et,kt)&&!p$5.hasOwnProperty(kt)&&(Tt[kt]=et[kt]);if(dt&&dt.defaultProps)for(kt in et=dt.defaultProps,et)Tt[kt]===void 0&&(Tt[kt]=et[kt]);return{$$typeof:k$5,type:dt,key:Dt,ref:Ft,props:Tt,_owner:n$3.current}}reactJsxRuntime_production_min.Fragment=l$2;reactJsxRuntime_production_min.jsx=q$4;reactJsxRuntime_production_min.jsxs=q$4;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(dt){function et(xr,wr){var zr=xr.length;xr.push(wr);e:for(;0<zr;){var Hr=zr-1>>>1,Gr=xr[Hr];if(0<Tt(Gr,wr))xr[Hr]=wr,xr[zr]=Gr,zr=Hr;else break e}}function $t(xr){return xr.length===0?null:xr[0]}function kt(xr){if(xr.length===0)return null;var wr=xr[0],zr=xr.pop();if(zr!==wr){xr[0]=zr;e:for(var Hr=0,Gr=xr.length,Xr=Gr>>>1;Hr<Xr;){var rs=2*(Hr+1)-1,Yr=xr[rs],es=rs+1,ns=xr[es];if(0>Tt(Yr,zr))es<Gr&&0>Tt(ns,Yr)?(xr[Hr]=ns,xr[es]=zr,Hr=es):(xr[Hr]=Yr,xr[rs]=zr,Hr=rs);else if(es<Gr&&0>Tt(ns,zr))xr[Hr]=ns,xr[es]=zr,Hr=es;else break e}}return wr}function Tt(xr,wr){var zr=xr.sortIndex-wr.sortIndex;return zr!==0?zr:xr.id-wr.id}if(typeof performance=="object"&&typeof performance.now=="function"){var Dt=performance;dt.unstable_now=function(){return Dt.now()}}else{var Ft=Date,Ut=Ft.now();dt.unstable_now=function(){return Ft.now()-Ut}}var Ht=[],Kt=[],Yt=1,Jt=null,Zt=3,er=!1,rr=!1,sr=!1,ir=typeof setTimeout=="function"?setTimeout:null,nr=typeof clearTimeout=="function"?clearTimeout:null,or=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function lr(xr){for(var wr=$t(Kt);wr!==null;){if(wr.callback===null)kt(Kt);else if(wr.startTime<=xr)kt(Kt),wr.sortIndex=wr.expirationTime,et(Ht,wr);else break;wr=$t(Kt)}}function cr(xr){if(sr=!1,lr(xr),!rr)if($t(Ht)!==null)rr=!0,Rr(dr);else{var wr=$t(Kt);wr!==null&&Tr(cr,wr.startTime-xr)}}function dr(xr,wr){rr=!1,sr&&(sr=!1,nr(mr),mr=-1),er=!0;var zr=Zt;try{for(lr(wr),Jt=$t(Ht);Jt!==null&&(!(Jt.expirationTime>wr)||xr&&!br());){var Hr=Jt.callback;if(typeof Hr=="function"){Jt.callback=null,Zt=Jt.priorityLevel;var Gr=Hr(Jt.expirationTime<=wr);wr=dt.unstable_now(),typeof Gr=="function"?Jt.callback=Gr:Jt===$t(Ht)&&kt(Ht),lr(wr)}else kt(Ht);Jt=$t(Ht)}if(Jt!==null)var Xr=!0;else{var rs=$t(Kt);rs!==null&&Tr(cr,rs.startTime-wr),Xr=!1}return Xr}finally{Jt=null,Zt=zr,er=!1}}var ur=!1,pr=null,mr=-1,vr=5,kr=-1;function br(){return!(dt.unstable_now()-kr<vr)}function _r(){if(pr!==null){var xr=dt.unstable_now();kr=xr;var wr=!0;try{wr=pr(!0,xr)}finally{wr?Or():(ur=!1,pr=null)}}else ur=!1}var Or;if(typeof or=="function")Or=function(){or(_r)};else if(typeof MessageChannel<"u"){var Pr=new MessageChannel,Mr=Pr.port2;Pr.port1.onmessage=_r,Or=function(){Mr.postMessage(null)}}else Or=function(){ir(_r,0)};function Rr(xr){pr=xr,ur||(ur=!0,Or())}function Tr(xr,wr){mr=ir(function(){xr(dt.unstable_now())},wr)}dt.unstable_IdlePriority=5,dt.unstable_ImmediatePriority=1,dt.unstable_LowPriority=4,dt.unstable_NormalPriority=3,dt.unstable_Profiling=null,dt.unstable_UserBlockingPriority=2,dt.unstable_cancelCallback=function(xr){xr.callback=null},dt.unstable_continueExecution=function(){rr||er||(rr=!0,Rr(dr))},dt.unstable_forceFrameRate=function(xr){0>xr||125<xr?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):vr=0<xr?Math.floor(1e3/xr):5},dt.unstable_getCurrentPriorityLevel=function(){return Zt},dt.unstable_getFirstCallbackNode=function(){return $t(Ht)},dt.unstable_next=function(xr){switch(Zt){case 1:case 2:case 3:var wr=3;break;default:wr=Zt}var zr=Zt;Zt=wr;try{return xr()}finally{Zt=zr}},dt.unstable_pauseExecution=function(){},dt.unstable_requestPaint=function(){},dt.unstable_runWithPriority=function(xr,wr){switch(xr){case 1:case 2:case 3:case 4:case 5:break;default:xr=3}var zr=Zt;Zt=xr;try{return wr()}finally{Zt=zr}},dt.unstable_scheduleCallback=function(xr,wr,zr){var Hr=dt.unstable_now();switch(typeof zr=="object"&&zr!==null?(zr=zr.delay,zr=typeof zr=="number"&&0<zr?Hr+zr:Hr):zr=Hr,xr){case 1:var Gr=-1;break;case 2:Gr=250;break;case 5:Gr=1073741823;break;case 4:Gr=1e4;break;default:Gr=5e3}return Gr=zr+Gr,xr={id:Yt++,callback:wr,priorityLevel:xr,startTime:zr,expirationTime:Gr,sortIndex:-1},zr>Hr?(xr.sortIndex=zr,et(Kt,xr),$t(Ht)===null&&xr===$t(Kt)&&(sr?(nr(mr),mr=-1):sr=!0,Tr(cr,zr-Hr))):(xr.sortIndex=Gr,et(Ht,xr),rr||er||(rr=!0,Rr(dr))),xr},dt.unstable_shouldYield=br,dt.unstable_wrapCallback=function(xr){var wr=Zt;return function(){var zr=Zt;Zt=wr;try{return xr.apply(this,arguments)}finally{Zt=zr}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$4(dt){for(var et="https://reactjs.org/docs/error-decoder.html?invariant="+dt,$t=1;$t<arguments.length;$t++)et+="&args[]="+encodeURIComponent(arguments[$t]);return"Minified React error #"+dt+"; visit "+et+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(dt,et){ha(dt,et),ha(dt+"Capture",et)}function ha(dt,et){for(ea[dt]=et,dt=0;dt<et.length;dt++)da.add(et[dt])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(dt){return ja.call(ma,dt)?!0:ja.call(la,dt)?!1:ka.test(dt)?ma[dt]=!0:(la[dt]=!0,!1)}function pa(dt,et,$t,kt){if($t!==null&&$t.type===0)return!1;switch(typeof et){case"function":case"symbol":return!0;case"boolean":return kt?!1:$t!==null?!$t.acceptsBooleans:(dt=dt.toLowerCase().slice(0,5),dt!=="data-"&&dt!=="aria-");default:return!1}}function qa(dt,et,$t,kt){if(et===null||typeof et>"u"||pa(dt,et,$t,kt))return!0;if(kt)return!1;if($t!==null)switch($t.type){case 3:return!et;case 4:return et===!1;case 5:return isNaN(et);case 6:return isNaN(et)||1>et}return!1}function v$5(dt,et,$t,kt,Tt,Dt,Ft){this.acceptsBooleans=et===2||et===3||et===4,this.attributeName=kt,this.attributeNamespace=Tt,this.mustUseProperty=$t,this.propertyName=dt,this.type=et,this.sanitizeURL=Dt,this.removeEmptyString=Ft}var z$7={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(dt){z$7[dt]=new v$5(dt,0,!1,dt,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(dt){var et=dt[0];z$7[et]=new v$5(et,1,!1,dt[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(dt){z$7[dt]=new v$5(dt,2,!1,dt.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(dt){z$7[dt]=new v$5(dt,2,!1,dt,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(dt){z$7[dt]=new v$5(dt,3,!1,dt.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(dt){z$7[dt]=new v$5(dt,3,!0,dt,null,!1,!1)});["capture","download"].forEach(function(dt){z$7[dt]=new v$5(dt,4,!1,dt,null,!1,!1)});["cols","rows","size","span"].forEach(function(dt){z$7[dt]=new v$5(dt,6,!1,dt,null,!1,!1)});["rowSpan","start"].forEach(function(dt){z$7[dt]=new v$5(dt,5,!1,dt.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(dt){return dt[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(dt){var et=dt.replace(ra,sa);z$7[et]=new v$5(et,1,!1,dt,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(dt){var et=dt.replace(ra,sa);z$7[et]=new v$5(et,1,!1,dt,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(dt){var et=dt.replace(ra,sa);z$7[et]=new v$5(et,1,!1,dt,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(dt){z$7[dt]=new v$5(dt,1,!1,dt.toLowerCase(),null,!1,!1)});z$7.xlinkHref=new v$5("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(dt){z$7[dt]=new v$5(dt,1,!1,dt.toLowerCase(),null,!0,!0)});function ta$1(dt,et,$t,kt){var Tt=z$7.hasOwnProperty(et)?z$7[et]:null;(Tt!==null?Tt.type!==0:kt||!(2<et.length)||et[0]!=="o"&&et[0]!=="O"||et[1]!=="n"&&et[1]!=="N")&&(qa(et,$t,Tt,kt)&&($t=null),kt||Tt===null?oa(et)&&($t===null?dt.removeAttribute(et):dt.setAttribute(et,""+$t)):Tt.mustUseProperty?dt[Tt.propertyName]=$t===null?Tt.type===3?!1:"":$t:(et=Tt.attributeName,kt=Tt.attributeNamespace,$t===null?dt.removeAttribute(et):(Tt=Tt.type,$t=Tt===3||Tt===4&&$t===!0?"":""+$t,kt?dt.setAttributeNS(kt,et,$t):dt.setAttribute(et,$t))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(dt){return dt===null||typeof dt!="object"?null:(dt=Ja&&dt[Ja]||dt["@@iterator"],typeof dt=="function"?dt:null)}var A$7=Object.assign,La;function Ma(dt){if(La===void 0)try{throw Error()}catch($t){var et=$t.stack.trim().match(/\n( *(at )?)/);La=et&&et[1]||""}return`
`+La+dt}var Na=!1;function Oa(dt,et){if(!dt||Na)return"";Na=!0;var $t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(et)if(et=function(){throw Error()},Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(Kt){var kt=Kt}Reflect.construct(dt,[],et)}else{try{et.call()}catch(Kt){kt=Kt}dt.call(et.prototype)}else{try{throw Error()}catch(Kt){kt=Kt}dt()}}catch(Kt){if(Kt&&kt&&typeof Kt.stack=="string"){for(var Tt=Kt.stack.split(`
`),Dt=kt.stack.split(`
`),Ft=Tt.length-1,Ut=Dt.length-1;1<=Ft&&0<=Ut&&Tt[Ft]!==Dt[Ut];)Ut--;for(;1<=Ft&&0<=Ut;Ft--,Ut--)if(Tt[Ft]!==Dt[Ut]){if(Ft!==1||Ut!==1)do if(Ft--,Ut--,0>Ut||Tt[Ft]!==Dt[Ut]){var Ht=`
`+Tt[Ft].replace(" at new "," at ");return dt.displayName&&Ht.includes("<anonymous>")&&(Ht=Ht.replace("<anonymous>",dt.displayName)),Ht}while(1<=Ft&&0<=Ut);break}}}finally{Na=!1,Error.prepareStackTrace=$t}return(dt=dt?dt.displayName||dt.name:"")?Ma(dt):""}function Pa(dt){switch(dt.tag){case 5:return Ma(dt.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return dt=Oa(dt.type,!1),dt;case 11:return dt=Oa(dt.type.render,!1),dt;case 1:return dt=Oa(dt.type,!0),dt;default:return""}}function Qa(dt){if(dt==null)return null;if(typeof dt=="function")return dt.displayName||dt.name||null;if(typeof dt=="string")return dt;switch(dt){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof dt=="object")switch(dt.$$typeof){case Ca:return(dt.displayName||"Context")+".Consumer";case Ba:return(dt._context.displayName||"Context")+".Provider";case Da:var et=dt.render;return dt=dt.displayName,dt||(dt=et.displayName||et.name||"",dt=dt!==""?"ForwardRef("+dt+")":"ForwardRef"),dt;case Ga:return et=dt.displayName||null,et!==null?et:Qa(dt.type)||"Memo";case Ha:et=dt._payload,dt=dt._init;try{return Qa(dt(et))}catch{}}return null}function Ra(dt){var et=dt.type;switch(dt.tag){case 24:return"Cache";case 9:return(et.displayName||"Context")+".Consumer";case 10:return(et._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return dt=et.render,dt=dt.displayName||dt.name||"",et.displayName||(dt!==""?"ForwardRef("+dt+")":"ForwardRef");case 7:return"Fragment";case 5:return et;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(et);case 8:return et===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof et=="function")return et.displayName||et.name||null;if(typeof et=="string")return et}return null}function Sa(dt){switch(typeof dt){case"boolean":case"number":case"string":case"undefined":return dt;case"object":return dt;default:return""}}function Ta(dt){var et=dt.type;return(dt=dt.nodeName)&&dt.toLowerCase()==="input"&&(et==="checkbox"||et==="radio")}function Ua(dt){var et=Ta(dt)?"checked":"value",$t=Object.getOwnPropertyDescriptor(dt.constructor.prototype,et),kt=""+dt[et];if(!dt.hasOwnProperty(et)&&typeof $t<"u"&&typeof $t.get=="function"&&typeof $t.set=="function"){var Tt=$t.get,Dt=$t.set;return Object.defineProperty(dt,et,{configurable:!0,get:function(){return Tt.call(this)},set:function(Ft){kt=""+Ft,Dt.call(this,Ft)}}),Object.defineProperty(dt,et,{enumerable:$t.enumerable}),{getValue:function(){return kt},setValue:function(Ft){kt=""+Ft},stopTracking:function(){dt._valueTracker=null,delete dt[et]}}}}function Va(dt){dt._valueTracker||(dt._valueTracker=Ua(dt))}function Wa(dt){if(!dt)return!1;var et=dt._valueTracker;if(!et)return!0;var $t=et.getValue(),kt="";return dt&&(kt=Ta(dt)?dt.checked?"true":"false":dt.value),dt=kt,dt!==$t?(et.setValue(dt),!0):!1}function Xa(dt){if(dt=dt||(typeof document<"u"?document:void 0),typeof dt>"u")return null;try{return dt.activeElement||dt.body}catch{return dt.body}}function Ya(dt,et){var $t=et.checked;return A$7({},et,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:$t??dt._wrapperState.initialChecked})}function Za(dt,et){var $t=et.defaultValue==null?"":et.defaultValue,kt=et.checked!=null?et.checked:et.defaultChecked;$t=Sa(et.value!=null?et.value:$t),dt._wrapperState={initialChecked:kt,initialValue:$t,controlled:et.type==="checkbox"||et.type==="radio"?et.checked!=null:et.value!=null}}function ab(dt,et){et=et.checked,et!=null&&ta$1(dt,"checked",et,!1)}function bb(dt,et){ab(dt,et);var $t=Sa(et.value),kt=et.type;if($t!=null)kt==="number"?($t===0&&dt.value===""||dt.value!=$t)&&(dt.value=""+$t):dt.value!==""+$t&&(dt.value=""+$t);else if(kt==="submit"||kt==="reset"){dt.removeAttribute("value");return}et.hasOwnProperty("value")?cb(dt,et.type,$t):et.hasOwnProperty("defaultValue")&&cb(dt,et.type,Sa(et.defaultValue)),et.checked==null&&et.defaultChecked!=null&&(dt.defaultChecked=!!et.defaultChecked)}function db(dt,et,$t){if(et.hasOwnProperty("value")||et.hasOwnProperty("defaultValue")){var kt=et.type;if(!(kt!=="submit"&&kt!=="reset"||et.value!==void 0&&et.value!==null))return;et=""+dt._wrapperState.initialValue,$t||et===dt.value||(dt.value=et),dt.defaultValue=et}$t=dt.name,$t!==""&&(dt.name=""),dt.defaultChecked=!!dt._wrapperState.initialChecked,$t!==""&&(dt.name=$t)}function cb(dt,et,$t){(et!=="number"||Xa(dt.ownerDocument)!==dt)&&($t==null?dt.defaultValue=""+dt._wrapperState.initialValue:dt.defaultValue!==""+$t&&(dt.defaultValue=""+$t))}var eb=Array.isArray;function fb(dt,et,$t,kt){if(dt=dt.options,et){et={};for(var Tt=0;Tt<$t.length;Tt++)et["$"+$t[Tt]]=!0;for($t=0;$t<dt.length;$t++)Tt=et.hasOwnProperty("$"+dt[$t].value),dt[$t].selected!==Tt&&(dt[$t].selected=Tt),Tt&&kt&&(dt[$t].defaultSelected=!0)}else{for($t=""+Sa($t),et=null,Tt=0;Tt<dt.length;Tt++){if(dt[Tt].value===$t){dt[Tt].selected=!0,kt&&(dt[Tt].defaultSelected=!0);return}et!==null||dt[Tt].disabled||(et=dt[Tt])}et!==null&&(et.selected=!0)}}function gb(dt,et){if(et.dangerouslySetInnerHTML!=null)throw Error(p$4(91));return A$7({},et,{value:void 0,defaultValue:void 0,children:""+dt._wrapperState.initialValue})}function hb(dt,et){var $t=et.value;if($t==null){if($t=et.children,et=et.defaultValue,$t!=null){if(et!=null)throw Error(p$4(92));if(eb($t)){if(1<$t.length)throw Error(p$4(93));$t=$t[0]}et=$t}et==null&&(et=""),$t=et}dt._wrapperState={initialValue:Sa($t)}}function ib(dt,et){var $t=Sa(et.value),kt=Sa(et.defaultValue);$t!=null&&($t=""+$t,$t!==dt.value&&(dt.value=$t),et.defaultValue==null&&dt.defaultValue!==$t&&(dt.defaultValue=$t)),kt!=null&&(dt.defaultValue=""+kt)}function jb(dt){var et=dt.textContent;et===dt._wrapperState.initialValue&&et!==""&&et!==null&&(dt.value=et)}function kb(dt){switch(dt){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(dt,et){return dt==null||dt==="http://www.w3.org/1999/xhtml"?kb(et):dt==="http://www.w3.org/2000/svg"&&et==="foreignObject"?"http://www.w3.org/1999/xhtml":dt}var mb,nb=function(dt){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(et,$t,kt,Tt){MSApp.execUnsafeLocalFunction(function(){return dt(et,$t,kt,Tt)})}:dt}(function(dt,et){if(dt.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in dt)dt.innerHTML=et;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+et.valueOf().toString()+"</svg>",et=mb.firstChild;dt.firstChild;)dt.removeChild(dt.firstChild);for(;et.firstChild;)dt.appendChild(et.firstChild)}});function ob(dt,et){if(et){var $t=dt.firstChild;if($t&&$t===dt.lastChild&&$t.nodeType===3){$t.nodeValue=et;return}}dt.textContent=et}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(dt){qb.forEach(function(et){et=et+dt.charAt(0).toUpperCase()+dt.substring(1),pb[et]=pb[dt]})});function rb(dt,et,$t){return et==null||typeof et=="boolean"||et===""?"":$t||typeof et!="number"||et===0||pb.hasOwnProperty(dt)&&pb[dt]?(""+et).trim():et+"px"}function sb(dt,et){dt=dt.style;for(var $t in et)if(et.hasOwnProperty($t)){var kt=$t.indexOf("--")===0,Tt=rb($t,et[$t],kt);$t==="float"&&($t="cssFloat"),kt?dt.setProperty($t,Tt):dt[$t]=Tt}}var tb=A$7({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(dt,et){if(et){if(tb[dt]&&(et.children!=null||et.dangerouslySetInnerHTML!=null))throw Error(p$4(137,dt));if(et.dangerouslySetInnerHTML!=null){if(et.children!=null)throw Error(p$4(60));if(typeof et.dangerouslySetInnerHTML!="object"||!("__html"in et.dangerouslySetInnerHTML))throw Error(p$4(61))}if(et.style!=null&&typeof et.style!="object")throw Error(p$4(62))}}function vb(dt,et){if(dt.indexOf("-")===-1)return typeof et.is=="string";switch(dt){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(dt){return dt=dt.target||dt.srcElement||window,dt.correspondingUseElement&&(dt=dt.correspondingUseElement),dt.nodeType===3?dt.parentNode:dt}var yb=null,zb=null,Ab=null;function Bb(dt){if(dt=Cb(dt)){if(typeof yb!="function")throw Error(p$4(280));var et=dt.stateNode;et&&(et=Db(et),yb(dt.stateNode,dt.type,et))}}function Eb(dt){zb?Ab?Ab.push(dt):Ab=[dt]:zb=dt}function Fb(){if(zb){var dt=zb,et=Ab;if(Ab=zb=null,Bb(dt),et)for(dt=0;dt<et.length;dt++)Bb(et[dt])}}function Gb(dt,et){return dt(et)}function Hb(){}var Ib=!1;function Jb(dt,et,$t){if(Ib)return dt(et,$t);Ib=!0;try{return Gb(dt,et,$t)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(dt,et){var $t=dt.stateNode;if($t===null)return null;var kt=Db($t);if(kt===null)return null;$t=kt[et];e:switch(et){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(kt=!kt.disabled)||(dt=dt.type,kt=!(dt==="button"||dt==="input"||dt==="select"||dt==="textarea")),dt=!kt;break e;default:dt=!1}if(dt)return null;if($t&&typeof $t!="function")throw Error(p$4(231,et,typeof $t));return $t}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(dt,et,$t,kt,Tt,Dt,Ft,Ut,Ht){var Kt=Array.prototype.slice.call(arguments,3);try{et.apply($t,Kt)}catch(Yt){this.onError(Yt)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(dt){Ob=!0,Pb=dt}};function Tb(dt,et,$t,kt,Tt,Dt,Ft,Ut,Ht){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(dt,et,$t,kt,Tt,Dt,Ft,Ut,Ht){if(Tb.apply(this,arguments),Ob){if(Ob){var Kt=Pb;Ob=!1,Pb=null}else throw Error(p$4(198));Qb||(Qb=!0,Rb=Kt)}}function Vb(dt){var et=dt,$t=dt;if(dt.alternate)for(;et.return;)et=et.return;else{dt=et;do et=dt,et.flags&4098&&($t=et.return),dt=et.return;while(dt)}return et.tag===3?$t:null}function Wb(dt){if(dt.tag===13){var et=dt.memoizedState;if(et===null&&(dt=dt.alternate,dt!==null&&(et=dt.memoizedState)),et!==null)return et.dehydrated}return null}function Xb(dt){if(Vb(dt)!==dt)throw Error(p$4(188))}function Yb(dt){var et=dt.alternate;if(!et){if(et=Vb(dt),et===null)throw Error(p$4(188));return et!==dt?null:dt}for(var $t=dt,kt=et;;){var Tt=$t.return;if(Tt===null)break;var Dt=Tt.alternate;if(Dt===null){if(kt=Tt.return,kt!==null){$t=kt;continue}break}if(Tt.child===Dt.child){for(Dt=Tt.child;Dt;){if(Dt===$t)return Xb(Tt),dt;if(Dt===kt)return Xb(Tt),et;Dt=Dt.sibling}throw Error(p$4(188))}if($t.return!==kt.return)$t=Tt,kt=Dt;else{for(var Ft=!1,Ut=Tt.child;Ut;){if(Ut===$t){Ft=!0,$t=Tt,kt=Dt;break}if(Ut===kt){Ft=!0,kt=Tt,$t=Dt;break}Ut=Ut.sibling}if(!Ft){for(Ut=Dt.child;Ut;){if(Ut===$t){Ft=!0,$t=Dt,kt=Tt;break}if(Ut===kt){Ft=!0,kt=Dt,$t=Tt;break}Ut=Ut.sibling}if(!Ft)throw Error(p$4(189))}}if($t.alternate!==kt)throw Error(p$4(190))}if($t.tag!==3)throw Error(p$4(188));return $t.stateNode.current===$t?dt:et}function Zb(dt){return dt=Yb(dt),dt!==null?$b(dt):null}function $b(dt){if(dt.tag===5||dt.tag===6)return dt;for(dt=dt.child;dt!==null;){var et=$b(dt);if(et!==null)return et;dt=dt.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$5=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(dt){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,dt,void 0,(dt.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(dt){return dt>>>=0,dt===0?32:31-(pc(dt)/qc|0)|0}var rc=64,sc=4194304;function tc(dt){switch(dt&-dt){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return dt&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return dt&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return dt}}function uc(dt,et){var $t=dt.pendingLanes;if($t===0)return 0;var kt=0,Tt=dt.suspendedLanes,Dt=dt.pingedLanes,Ft=$t&268435455;if(Ft!==0){var Ut=Ft&~Tt;Ut!==0?kt=tc(Ut):(Dt&=Ft,Dt!==0&&(kt=tc(Dt)))}else Ft=$t&~Tt,Ft!==0?kt=tc(Ft):Dt!==0&&(kt=tc(Dt));if(kt===0)return 0;if(et!==0&&et!==kt&&!(et&Tt)&&(Tt=kt&-kt,Dt=et&-et,Tt>=Dt||Tt===16&&(Dt&4194240)!==0))return et;if(kt&4&&(kt|=$t&16),et=dt.entangledLanes,et!==0)for(dt=dt.entanglements,et&=kt;0<et;)$t=31-oc(et),Tt=1<<$t,kt|=dt[$t],et&=~Tt;return kt}function vc(dt,et){switch(dt){case 1:case 2:case 4:return et+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return et+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(dt,et){for(var $t=dt.suspendedLanes,kt=dt.pingedLanes,Tt=dt.expirationTimes,Dt=dt.pendingLanes;0<Dt;){var Ft=31-oc(Dt),Ut=1<<Ft,Ht=Tt[Ft];Ht===-1?(!(Ut&$t)||Ut&kt)&&(Tt[Ft]=vc(Ut,et)):Ht<=et&&(dt.expiredLanes|=Ut),Dt&=~Ut}}function xc(dt){return dt=dt.pendingLanes&-1073741825,dt!==0?dt:dt&1073741824?1073741824:0}function yc(){var dt=rc;return rc<<=1,!(rc&4194240)&&(rc=64),dt}function zc(dt){for(var et=[],$t=0;31>$t;$t++)et.push(dt);return et}function Ac(dt,et,$t){dt.pendingLanes|=et,et!==536870912&&(dt.suspendedLanes=0,dt.pingedLanes=0),dt=dt.eventTimes,et=31-oc(et),dt[et]=$t}function Bc(dt,et){var $t=dt.pendingLanes&~et;dt.pendingLanes=et,dt.suspendedLanes=0,dt.pingedLanes=0,dt.expiredLanes&=et,dt.mutableReadLanes&=et,dt.entangledLanes&=et,et=dt.entanglements;var kt=dt.eventTimes;for(dt=dt.expirationTimes;0<$t;){var Tt=31-oc($t),Dt=1<<Tt;et[Tt]=0,kt[Tt]=-1,dt[Tt]=-1,$t&=~Dt}}function Cc(dt,et){var $t=dt.entangledLanes|=et;for(dt=dt.entanglements;$t;){var kt=31-oc($t),Tt=1<<kt;Tt&et|dt[kt]&et&&(dt[kt]|=et),$t&=~Tt}}var C$8=0;function Dc(dt){return dt&=-dt,1<dt?4<dt?dt&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(dt,et){switch(dt){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(et.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(et.pointerId)}}function Tc(dt,et,$t,kt,Tt,Dt){return dt===null||dt.nativeEvent!==Dt?(dt={blockedOn:et,domEventName:$t,eventSystemFlags:kt,nativeEvent:Dt,targetContainers:[Tt]},et!==null&&(et=Cb(et),et!==null&&Fc(et)),dt):(dt.eventSystemFlags|=kt,et=dt.targetContainers,Tt!==null&&et.indexOf(Tt)===-1&&et.push(Tt),dt)}function Uc(dt,et,$t,kt,Tt){switch(et){case"focusin":return Lc=Tc(Lc,dt,et,$t,kt,Tt),!0;case"dragenter":return Mc=Tc(Mc,dt,et,$t,kt,Tt),!0;case"mouseover":return Nc=Tc(Nc,dt,et,$t,kt,Tt),!0;case"pointerover":var Dt=Tt.pointerId;return Oc.set(Dt,Tc(Oc.get(Dt)||null,dt,et,$t,kt,Tt)),!0;case"gotpointercapture":return Dt=Tt.pointerId,Pc.set(Dt,Tc(Pc.get(Dt)||null,dt,et,$t,kt,Tt)),!0}return!1}function Vc(dt){var et=Wc(dt.target);if(et!==null){var $t=Vb(et);if($t!==null){if(et=$t.tag,et===13){if(et=Wb($t),et!==null){dt.blockedOn=et,Ic(dt.priority,function(){Gc($t)});return}}else if(et===3&&$t.stateNode.current.memoizedState.isDehydrated){dt.blockedOn=$t.tag===3?$t.stateNode.containerInfo:null;return}}}dt.blockedOn=null}function Xc(dt){if(dt.blockedOn!==null)return!1;for(var et=dt.targetContainers;0<et.length;){var $t=Yc(dt.domEventName,dt.eventSystemFlags,et[0],dt.nativeEvent);if($t===null){$t=dt.nativeEvent;var kt=new $t.constructor($t.type,$t);wb=kt,$t.target.dispatchEvent(kt),wb=null}else return et=Cb($t),et!==null&&Fc(et),dt.blockedOn=$t,!1;et.shift()}return!0}function Zc(dt,et,$t){Xc(dt)&&$t.delete(et)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(dt,et){dt.blockedOn===et&&(dt.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(dt){function et(Tt){return ad(Tt,dt)}if(0<Kc.length){ad(Kc[0],dt);for(var $t=1;$t<Kc.length;$t++){var kt=Kc[$t];kt.blockedOn===dt&&(kt.blockedOn=null)}}for(Lc!==null&&ad(Lc,dt),Mc!==null&&ad(Mc,dt),Nc!==null&&ad(Nc,dt),Oc.forEach(et),Pc.forEach(et),$t=0;$t<Qc.length;$t++)kt=Qc[$t],kt.blockedOn===dt&&(kt.blockedOn=null);for(;0<Qc.length&&($t=Qc[0],$t.blockedOn===null);)Vc($t),$t.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(dt,et,$t,kt){var Tt=C$8,Dt=cd.transition;cd.transition=null;try{C$8=1,fd(dt,et,$t,kt)}finally{C$8=Tt,cd.transition=Dt}}function gd(dt,et,$t,kt){var Tt=C$8,Dt=cd.transition;cd.transition=null;try{C$8=4,fd(dt,et,$t,kt)}finally{C$8=Tt,cd.transition=Dt}}function fd(dt,et,$t,kt){if(dd){var Tt=Yc(dt,et,$t,kt);if(Tt===null)hd(dt,et,kt,id$2,$t),Sc(dt,kt);else if(Uc(Tt,dt,et,$t,kt))kt.stopPropagation();else if(Sc(dt,kt),et&4&&-1<Rc.indexOf(dt)){for(;Tt!==null;){var Dt=Cb(Tt);if(Dt!==null&&Ec(Dt),Dt=Yc(dt,et,$t,kt),Dt===null&&hd(dt,et,kt,id$2,$t),Dt===Tt)break;Tt=Dt}Tt!==null&&kt.stopPropagation()}else hd(dt,et,kt,null,$t)}}var id$2=null;function Yc(dt,et,$t,kt){if(id$2=null,dt=xb(kt),dt=Wc(dt),dt!==null)if(et=Vb(dt),et===null)dt=null;else if($t=et.tag,$t===13){if(dt=Wb(et),dt!==null)return dt;dt=null}else if($t===3){if(et.stateNode.current.memoizedState.isDehydrated)return et.tag===3?et.stateNode.containerInfo:null;dt=null}else et!==dt&&(dt=null);return id$2=dt,null}function jd(dt){switch(dt){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var dt,et=ld,$t=et.length,kt,Tt="value"in kd?kd.value:kd.textContent,Dt=Tt.length;for(dt=0;dt<$t&&et[dt]===Tt[dt];dt++);var Ft=$t-dt;for(kt=1;kt<=Ft&&et[$t-kt]===Tt[Dt-kt];kt++);return md=Tt.slice(dt,1<kt?1-kt:void 0)}function od(dt){var et=dt.keyCode;return"charCode"in dt?(dt=dt.charCode,dt===0&&et===13&&(dt=13)):dt=et,dt===10&&(dt=13),32<=dt||dt===13?dt:0}function pd(){return!0}function qd(){return!1}function rd(dt){function et($t,kt,Tt,Dt,Ft){this._reactName=$t,this._targetInst=Tt,this.type=kt,this.nativeEvent=Dt,this.target=Ft,this.currentTarget=null;for(var Ut in dt)dt.hasOwnProperty(Ut)&&($t=dt[Ut],this[Ut]=$t?$t(Dt):Dt[Ut]);return this.isDefaultPrevented=(Dt.defaultPrevented!=null?Dt.defaultPrevented:Dt.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$7(et.prototype,{preventDefault:function(){this.defaultPrevented=!0;var $t=this.nativeEvent;$t&&($t.preventDefault?$t.preventDefault():typeof $t.returnValue!="unknown"&&($t.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var $t=this.nativeEvent;$t&&($t.stopPropagation?$t.stopPropagation():typeof $t.cancelBubble!="unknown"&&($t.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),et}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(dt){return dt.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$7({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$7({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(dt){return dt.relatedTarget===void 0?dt.fromElement===dt.srcElement?dt.toElement:dt.fromElement:dt.relatedTarget},movementX:function(dt){return"movementX"in dt?dt.movementX:(dt!==yd&&(yd&&dt.type==="mousemove"?(wd=dt.screenX-yd.screenX,xd=dt.screenY-yd.screenY):xd=wd=0,yd=dt),wd)},movementY:function(dt){return"movementY"in dt?dt.movementY:xd}}),Bd=rd(Ad),Cd=A$7({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$7({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$7({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$7({},sd,{clipboardData:function(dt){return"clipboardData"in dt?dt.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$7({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(dt){var et=this.nativeEvent;return et.getModifierState?et.getModifierState(dt):(dt=Od[dt])?!!et[dt]:!1}function zd(){return Pd}var Qd=A$7({},ud,{key:function(dt){if(dt.key){var et=Md[dt.key]||dt.key;if(et!=="Unidentified")return et}return dt.type==="keypress"?(dt=od(dt),dt===13?"Enter":String.fromCharCode(dt)):dt.type==="keydown"||dt.type==="keyup"?Nd[dt.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(dt){return dt.type==="keypress"?od(dt):0},keyCode:function(dt){return dt.type==="keydown"||dt.type==="keyup"?dt.keyCode:0},which:function(dt){return dt.type==="keypress"?od(dt):dt.type==="keydown"||dt.type==="keyup"?dt.keyCode:0}}),Rd=rd(Qd),Sd=A$7({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$7({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$7({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$7({},Ad,{deltaX:function(dt){return"deltaX"in dt?dt.deltaX:"wheelDeltaX"in dt?-dt.wheelDeltaX:0},deltaY:function(dt){return"deltaY"in dt?dt.deltaY:"wheelDeltaY"in dt?-dt.wheelDeltaY:"wheelDelta"in dt?-dt.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae$2=ia&&"CompositionEvent"in window,be$2=null;ia&&"documentMode"in document&&(be$2=document.documentMode);var ce$2=ia&&"TextEvent"in window&&!be$2,de$3=ia&&(!ae$2||be$2&&8<be$2&&11>=be$2),ee$1=String.fromCharCode(32),fe$3=!1;function ge$2(dt,et){switch(dt){case"keyup":return $d.indexOf(et.keyCode)!==-1;case"keydown":return et.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$2(dt){return dt=dt.detail,typeof dt=="object"&&"data"in dt?dt.data:null}var ie$3=!1;function je$1(dt,et){switch(dt){case"compositionend":return he$2(et);case"keypress":return et.which!==32?null:(fe$3=!0,ee$1);case"textInput":return dt=et.data,dt===ee$1&&fe$3?null:dt;default:return null}}function ke$2(dt,et){if(ie$3)return dt==="compositionend"||!ae$2&&ge$2(dt,et)?(dt=nd(),md=ld=kd=null,ie$3=!1,dt):null;switch(dt){case"paste":return null;case"keypress":if(!(et.ctrlKey||et.altKey||et.metaKey)||et.ctrlKey&&et.altKey){if(et.char&&1<et.char.length)return et.char;if(et.which)return String.fromCharCode(et.which)}return null;case"compositionend":return de$3&&et.locale!=="ko"?null:et.data;default:return null}}var le$2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$3(dt){var et=dt&&dt.nodeName&&dt.nodeName.toLowerCase();return et==="input"?!!le$2[dt.type]:et==="textarea"}function ne$2(dt,et,$t,kt){Eb(kt),et=oe$1(et,"onChange"),0<et.length&&($t=new td("onChange","change",null,$t,kt),dt.push({event:$t,listeners:et}))}var pe$2=null,qe$1=null;function re$2(dt){se$2(dt,0)}function te$2(dt){var et=ue$3(dt);if(Wa(et))return dt}function ve$2(dt,et){if(dt==="change")return et}var we$1=!1;if(ia){var xe$1;if(ia){var ye$2="oninput"in document;if(!ye$2){var ze$2=document.createElement("div");ze$2.setAttribute("oninput","return;"),ye$2=typeof ze$2.oninput=="function"}xe$1=ye$2}else xe$1=!1;we$1=xe$1&&(!document.documentMode||9<document.documentMode)}function Ae$2(){pe$2&&(pe$2.detachEvent("onpropertychange",Be$1),qe$1=pe$2=null)}function Be$1(dt){if(dt.propertyName==="value"&&te$2(qe$1)){var et=[];ne$2(et,qe$1,dt,xb(dt)),Jb(re$2,et)}}function Ce$2(dt,et,$t){dt==="focusin"?(Ae$2(),pe$2=et,qe$1=$t,pe$2.attachEvent("onpropertychange",Be$1)):dt==="focusout"&&Ae$2()}function De$3(dt){if(dt==="selectionchange"||dt==="keyup"||dt==="keydown")return te$2(qe$1)}function Ee$1(dt,et){if(dt==="click")return te$2(et)}function Fe$3(dt,et){if(dt==="input"||dt==="change")return te$2(et)}function Ge$1(dt,et){return dt===et&&(dt!==0||1/dt===1/et)||dt!==dt&&et!==et}var He$3=typeof Object.is=="function"?Object.is:Ge$1;function Ie$2(dt,et){if(He$3(dt,et))return!0;if(typeof dt!="object"||dt===null||typeof et!="object"||et===null)return!1;var $t=Object.keys(dt),kt=Object.keys(et);if($t.length!==kt.length)return!1;for(kt=0;kt<$t.length;kt++){var Tt=$t[kt];if(!ja.call(et,Tt)||!He$3(dt[Tt],et[Tt]))return!1}return!0}function Je$1(dt){for(;dt&&dt.firstChild;)dt=dt.firstChild;return dt}function Ke$1(dt,et){var $t=Je$1(dt);dt=0;for(var kt;$t;){if($t.nodeType===3){if(kt=dt+$t.textContent.length,dt<=et&&kt>=et)return{node:$t,offset:et-dt};dt=kt}e:{for(;$t;){if($t.nextSibling){$t=$t.nextSibling;break e}$t=$t.parentNode}$t=void 0}$t=Je$1($t)}}function Le$2(dt,et){return dt&&et?dt===et?!0:dt&&dt.nodeType===3?!1:et&&et.nodeType===3?Le$2(dt,et.parentNode):"contains"in dt?dt.contains(et):dt.compareDocumentPosition?!!(dt.compareDocumentPosition(et)&16):!1:!1}function Me$2(){for(var dt=window,et=Xa();et instanceof dt.HTMLIFrameElement;){try{var $t=typeof et.contentWindow.location.href=="string"}catch{$t=!1}if($t)dt=et.contentWindow;else break;et=Xa(dt.document)}return et}function Ne(dt){var et=dt&&dt.nodeName&&dt.nodeName.toLowerCase();return et&&(et==="input"&&(dt.type==="text"||dt.type==="search"||dt.type==="tel"||dt.type==="url"||dt.type==="password")||et==="textarea"||dt.contentEditable==="true")}function Oe$1(dt){var et=Me$2(),$t=dt.focusedElem,kt=dt.selectionRange;if(et!==$t&&$t&&$t.ownerDocument&&Le$2($t.ownerDocument.documentElement,$t)){if(kt!==null&&Ne($t)){if(et=kt.start,dt=kt.end,dt===void 0&&(dt=et),"selectionStart"in $t)$t.selectionStart=et,$t.selectionEnd=Math.min(dt,$t.value.length);else if(dt=(et=$t.ownerDocument||document)&&et.defaultView||window,dt.getSelection){dt=dt.getSelection();var Tt=$t.textContent.length,Dt=Math.min(kt.start,Tt);kt=kt.end===void 0?Dt:Math.min(kt.end,Tt),!dt.extend&&Dt>kt&&(Tt=kt,kt=Dt,Dt=Tt),Tt=Ke$1($t,Dt);var Ft=Ke$1($t,kt);Tt&&Ft&&(dt.rangeCount!==1||dt.anchorNode!==Tt.node||dt.anchorOffset!==Tt.offset||dt.focusNode!==Ft.node||dt.focusOffset!==Ft.offset)&&(et=et.createRange(),et.setStart(Tt.node,Tt.offset),dt.removeAllRanges(),Dt>kt?(dt.addRange(et),dt.extend(Ft.node,Ft.offset)):(et.setEnd(Ft.node,Ft.offset),dt.addRange(et)))}}for(et=[],dt=$t;dt=dt.parentNode;)dt.nodeType===1&&et.push({element:dt,left:dt.scrollLeft,top:dt.scrollTop});for(typeof $t.focus=="function"&&$t.focus(),$t=0;$t<et.length;$t++)dt=et[$t],dt.element.scrollLeft=dt.left,dt.element.scrollTop=dt.top}}var Pe$2=ia&&"documentMode"in document&&11>=document.documentMode,Qe$1=null,Re$2=null,Se$2=null,Te$3=!1;function Ue$1(dt,et,$t){var kt=$t.window===$t?$t.document:$t.nodeType===9?$t:$t.ownerDocument;Te$3||Qe$1==null||Qe$1!==Xa(kt)||(kt=Qe$1,"selectionStart"in kt&&Ne(kt)?kt={start:kt.selectionStart,end:kt.selectionEnd}:(kt=(kt.ownerDocument&&kt.ownerDocument.defaultView||window).getSelection(),kt={anchorNode:kt.anchorNode,anchorOffset:kt.anchorOffset,focusNode:kt.focusNode,focusOffset:kt.focusOffset}),Se$2&&Ie$2(Se$2,kt)||(Se$2=kt,kt=oe$1(Re$2,"onSelect"),0<kt.length&&(et=new td("onSelect","select",null,et,$t),dt.push({event:et,listeners:kt}),et.target=Qe$1)))}function Ve$2(dt,et){var $t={};return $t[dt.toLowerCase()]=et.toLowerCase(),$t["Webkit"+dt]="webkit"+et,$t["Moz"+dt]="moz"+et,$t}var We$2={animationend:Ve$2("Animation","AnimationEnd"),animationiteration:Ve$2("Animation","AnimationIteration"),animationstart:Ve$2("Animation","AnimationStart"),transitionend:Ve$2("Transition","TransitionEnd")},Xe$2={},Ye$2={};ia&&(Ye$2=document.createElement("div").style,"AnimationEvent"in window||(delete We$2.animationend.animation,delete We$2.animationiteration.animation,delete We$2.animationstart.animation),"TransitionEvent"in window||delete We$2.transitionend.transition);function Ze(dt){if(Xe$2[dt])return Xe$2[dt];if(!We$2[dt])return dt;var et=We$2[dt],$t;for($t in et)if(et.hasOwnProperty($t)&&$t in Ye$2)return Xe$2[dt]=et[$t];return dt}var $e$1=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(dt,et){df.set(dt,et),fa(et,[dt])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e$1,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(dt,et,$t){var kt=dt.type||"unknown-event";dt.currentTarget=$t,Ub(kt,et,void 0,dt),dt.currentTarget=null}function se$2(dt,et){et=(et&4)!==0;for(var $t=0;$t<dt.length;$t++){var kt=dt[$t],Tt=kt.event;kt=kt.listeners;e:{var Dt=void 0;if(et)for(var Ft=kt.length-1;0<=Ft;Ft--){var Ut=kt[Ft],Ht=Ut.instance,Kt=Ut.currentTarget;if(Ut=Ut.listener,Ht!==Dt&&Tt.isPropagationStopped())break e;nf(Tt,Ut,Kt),Dt=Ht}else for(Ft=0;Ft<kt.length;Ft++){if(Ut=kt[Ft],Ht=Ut.instance,Kt=Ut.currentTarget,Ut=Ut.listener,Ht!==Dt&&Tt.isPropagationStopped())break e;nf(Tt,Ut,Kt),Dt=Ht}}}if(Qb)throw dt=Rb,Qb=!1,Rb=null,dt}function D$4(dt,et){var $t=et[of];$t===void 0&&($t=et[of]=new Set);var kt=dt+"__bubble";$t.has(kt)||(pf(et,dt,2,!1),$t.add(kt))}function qf(dt,et,$t){var kt=0;et&&(kt|=4),pf($t,dt,kt,et)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(dt){if(!dt[rf]){dt[rf]=!0,da.forEach(function($t){$t!=="selectionchange"&&(mf.has($t)||qf($t,!1,dt),qf($t,!0,dt))});var et=dt.nodeType===9?dt:dt.ownerDocument;et===null||et[rf]||(et[rf]=!0,qf("selectionchange",!1,et))}}function pf(dt,et,$t,kt){switch(jd(et)){case 1:var Tt=ed;break;case 4:Tt=gd;break;default:Tt=fd}$t=Tt.bind(null,et,$t,dt),Tt=void 0,!Lb||et!=="touchstart"&&et!=="touchmove"&&et!=="wheel"||(Tt=!0),kt?Tt!==void 0?dt.addEventListener(et,$t,{capture:!0,passive:Tt}):dt.addEventListener(et,$t,!0):Tt!==void 0?dt.addEventListener(et,$t,{passive:Tt}):dt.addEventListener(et,$t,!1)}function hd(dt,et,$t,kt,Tt){var Dt=kt;if(!(et&1)&&!(et&2)&&kt!==null)e:for(;;){if(kt===null)return;var Ft=kt.tag;if(Ft===3||Ft===4){var Ut=kt.stateNode.containerInfo;if(Ut===Tt||Ut.nodeType===8&&Ut.parentNode===Tt)break;if(Ft===4)for(Ft=kt.return;Ft!==null;){var Ht=Ft.tag;if((Ht===3||Ht===4)&&(Ht=Ft.stateNode.containerInfo,Ht===Tt||Ht.nodeType===8&&Ht.parentNode===Tt))return;Ft=Ft.return}for(;Ut!==null;){if(Ft=Wc(Ut),Ft===null)return;if(Ht=Ft.tag,Ht===5||Ht===6){kt=Dt=Ft;continue e}Ut=Ut.parentNode}}kt=kt.return}Jb(function(){var Kt=Dt,Yt=xb($t),Jt=[];e:{var Zt=df.get(dt);if(Zt!==void 0){var er=td,rr=dt;switch(dt){case"keypress":if(od($t)===0)break e;case"keydown":case"keyup":er=Rd;break;case"focusin":rr="focus",er=Fd;break;case"focusout":rr="blur",er=Fd;break;case"beforeblur":case"afterblur":er=Fd;break;case"click":if($t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":er=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":er=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":er=Vd;break;case $e$1:case af:case bf:er=Hd;break;case cf:er=Xd;break;case"scroll":er=vd;break;case"wheel":er=Zd;break;case"copy":case"cut":case"paste":er=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":er=Td}var sr=(et&4)!==0,ir=!sr&&dt==="scroll",nr=sr?Zt!==null?Zt+"Capture":null:Zt;sr=[];for(var or=Kt,lr;or!==null;){lr=or;var cr=lr.stateNode;if(lr.tag===5&&cr!==null&&(lr=cr,nr!==null&&(cr=Kb(or,nr),cr!=null&&sr.push(tf(or,cr,lr)))),ir)break;or=or.return}0<sr.length&&(Zt=new er(Zt,rr,null,$t,Yt),Jt.push({event:Zt,listeners:sr}))}}if(!(et&7)){e:{if(Zt=dt==="mouseover"||dt==="pointerover",er=dt==="mouseout"||dt==="pointerout",Zt&&$t!==wb&&(rr=$t.relatedTarget||$t.fromElement)&&(Wc(rr)||rr[uf]))break e;if((er||Zt)&&(Zt=Yt.window===Yt?Yt:(Zt=Yt.ownerDocument)?Zt.defaultView||Zt.parentWindow:window,er?(rr=$t.relatedTarget||$t.toElement,er=Kt,rr=rr?Wc(rr):null,rr!==null&&(ir=Vb(rr),rr!==ir||rr.tag!==5&&rr.tag!==6)&&(rr=null)):(er=null,rr=Kt),er!==rr)){if(sr=Bd,cr="onMouseLeave",nr="onMouseEnter",or="mouse",(dt==="pointerout"||dt==="pointerover")&&(sr=Td,cr="onPointerLeave",nr="onPointerEnter",or="pointer"),ir=er==null?Zt:ue$3(er),lr=rr==null?Zt:ue$3(rr),Zt=new sr(cr,or+"leave",er,$t,Yt),Zt.target=ir,Zt.relatedTarget=lr,cr=null,Wc(Yt)===Kt&&(sr=new sr(nr,or+"enter",rr,$t,Yt),sr.target=lr,sr.relatedTarget=ir,cr=sr),ir=cr,er&&rr)t:{for(sr=er,nr=rr,or=0,lr=sr;lr;lr=vf(lr))or++;for(lr=0,cr=nr;cr;cr=vf(cr))lr++;for(;0<or-lr;)sr=vf(sr),or--;for(;0<lr-or;)nr=vf(nr),lr--;for(;or--;){if(sr===nr||nr!==null&&sr===nr.alternate)break t;sr=vf(sr),nr=vf(nr)}sr=null}else sr=null;er!==null&&wf(Jt,Zt,er,sr,!1),rr!==null&&ir!==null&&wf(Jt,ir,rr,sr,!0)}}e:{if(Zt=Kt?ue$3(Kt):window,er=Zt.nodeName&&Zt.nodeName.toLowerCase(),er==="select"||er==="input"&&Zt.type==="file")var dr=ve$2;else if(me$3(Zt))if(we$1)dr=Fe$3;else{dr=De$3;var ur=Ce$2}else(er=Zt.nodeName)&&er.toLowerCase()==="input"&&(Zt.type==="checkbox"||Zt.type==="radio")&&(dr=Ee$1);if(dr&&(dr=dr(dt,Kt))){ne$2(Jt,dr,$t,Yt);break e}ur&&ur(dt,Zt,Kt),dt==="focusout"&&(ur=Zt._wrapperState)&&ur.controlled&&Zt.type==="number"&&cb(Zt,"number",Zt.value)}switch(ur=Kt?ue$3(Kt):window,dt){case"focusin":(me$3(ur)||ur.contentEditable==="true")&&(Qe$1=ur,Re$2=Kt,Se$2=null);break;case"focusout":Se$2=Re$2=Qe$1=null;break;case"mousedown":Te$3=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$3=!1,Ue$1(Jt,$t,Yt);break;case"selectionchange":if(Pe$2)break;case"keydown":case"keyup":Ue$1(Jt,$t,Yt)}var pr;if(ae$2)e:{switch(dt){case"compositionstart":var mr="onCompositionStart";break e;case"compositionend":mr="onCompositionEnd";break e;case"compositionupdate":mr="onCompositionUpdate";break e}mr=void 0}else ie$3?ge$2(dt,$t)&&(mr="onCompositionEnd"):dt==="keydown"&&$t.keyCode===229&&(mr="onCompositionStart");mr&&(de$3&&$t.locale!=="ko"&&(ie$3||mr!=="onCompositionStart"?mr==="onCompositionEnd"&&ie$3&&(pr=nd()):(kd=Yt,ld="value"in kd?kd.value:kd.textContent,ie$3=!0)),ur=oe$1(Kt,mr),0<ur.length&&(mr=new Ld(mr,dt,null,$t,Yt),Jt.push({event:mr,listeners:ur}),pr?mr.data=pr:(pr=he$2($t),pr!==null&&(mr.data=pr)))),(pr=ce$2?je$1(dt,$t):ke$2(dt,$t))&&(Kt=oe$1(Kt,"onBeforeInput"),0<Kt.length&&(Yt=new Ld("onBeforeInput","beforeinput",null,$t,Yt),Jt.push({event:Yt,listeners:Kt}),Yt.data=pr))}se$2(Jt,et)})}function tf(dt,et,$t){return{instance:dt,listener:et,currentTarget:$t}}function oe$1(dt,et){for(var $t=et+"Capture",kt=[];dt!==null;){var Tt=dt,Dt=Tt.stateNode;Tt.tag===5&&Dt!==null&&(Tt=Dt,Dt=Kb(dt,$t),Dt!=null&&kt.unshift(tf(dt,Dt,Tt)),Dt=Kb(dt,et),Dt!=null&&kt.push(tf(dt,Dt,Tt))),dt=dt.return}return kt}function vf(dt){if(dt===null)return null;do dt=dt.return;while(dt&&dt.tag!==5);return dt||null}function wf(dt,et,$t,kt,Tt){for(var Dt=et._reactName,Ft=[];$t!==null&&$t!==kt;){var Ut=$t,Ht=Ut.alternate,Kt=Ut.stateNode;if(Ht!==null&&Ht===kt)break;Ut.tag===5&&Kt!==null&&(Ut=Kt,Tt?(Ht=Kb($t,Dt),Ht!=null&&Ft.unshift(tf($t,Ht,Ut))):Tt||(Ht=Kb($t,Dt),Ht!=null&&Ft.push(tf($t,Ht,Ut)))),$t=$t.return}Ft.length!==0&&dt.push({event:et,listeners:Ft})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(dt){return(typeof dt=="string"?dt:""+dt).replace(xf,`
`).replace(yf,"")}function Af(dt,et,$t){if(et=zf(et),zf(dt)!==et&&$t)throw Error(p$4(425))}function Bf(){}var Cf=null,Df=null;function Ef(dt,et){return dt==="textarea"||dt==="noscript"||typeof et.children=="string"||typeof et.children=="number"||typeof et.dangerouslySetInnerHTML=="object"&&et.dangerouslySetInnerHTML!==null&&et.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(dt){return Hf.resolve(null).then(dt).catch(If)}:Ff;function If(dt){setTimeout(function(){throw dt})}function Kf(dt,et){var $t=et,kt=0;do{var Tt=$t.nextSibling;if(dt.removeChild($t),Tt&&Tt.nodeType===8)if($t=Tt.data,$t==="/$"){if(kt===0){dt.removeChild(Tt),bd(et);return}kt--}else $t!=="$"&&$t!=="$?"&&$t!=="$!"||kt++;$t=Tt}while($t);bd(et)}function Lf(dt){for(;dt!=null;dt=dt.nextSibling){var et=dt.nodeType;if(et===1||et===3)break;if(et===8){if(et=dt.data,et==="$"||et==="$!"||et==="$?")break;if(et==="/$")return null}}return dt}function Mf(dt){dt=dt.previousSibling;for(var et=0;dt;){if(dt.nodeType===8){var $t=dt.data;if($t==="$"||$t==="$!"||$t==="$?"){if(et===0)return dt;et--}else $t==="/$"&&et++}dt=dt.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(dt){var et=dt[Of];if(et)return et;for(var $t=dt.parentNode;$t;){if(et=$t[uf]||$t[Of]){if($t=et.alternate,et.child!==null||$t!==null&&$t.child!==null)for(dt=Mf(dt);dt!==null;){if($t=dt[Of])return $t;dt=Mf(dt)}return et}dt=$t,$t=dt.parentNode}return null}function Cb(dt){return dt=dt[Of]||dt[uf],!dt||dt.tag!==5&&dt.tag!==6&&dt.tag!==13&&dt.tag!==3?null:dt}function ue$3(dt){if(dt.tag===5||dt.tag===6)return dt.stateNode;throw Error(p$4(33))}function Db(dt){return dt[Pf]||null}var Sf=[],Tf=-1;function Uf(dt){return{current:dt}}function E$7(dt){0>Tf||(dt.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$3(dt,et){Tf++,Sf[Tf]=dt.current,dt.current=et}var Vf={},H$2=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(dt,et){var $t=dt.type.contextTypes;if(!$t)return Vf;var kt=dt.stateNode;if(kt&&kt.__reactInternalMemoizedUnmaskedChildContext===et)return kt.__reactInternalMemoizedMaskedChildContext;var Tt={},Dt;for(Dt in $t)Tt[Dt]=et[Dt];return kt&&(dt=dt.stateNode,dt.__reactInternalMemoizedUnmaskedChildContext=et,dt.__reactInternalMemoizedMaskedChildContext=Tt),Tt}function Zf(dt){return dt=dt.childContextTypes,dt!=null}function $f(){E$7(Wf),E$7(H$2)}function ag(dt,et,$t){if(H$2.current!==Vf)throw Error(p$4(168));G$3(H$2,et),G$3(Wf,$t)}function bg(dt,et,$t){var kt=dt.stateNode;if(et=et.childContextTypes,typeof kt.getChildContext!="function")return $t;kt=kt.getChildContext();for(var Tt in kt)if(!(Tt in et))throw Error(p$4(108,Ra(dt)||"Unknown",Tt));return A$7({},$t,kt)}function cg(dt){return dt=(dt=dt.stateNode)&&dt.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$2.current,G$3(H$2,dt),G$3(Wf,Wf.current),!0}function dg(dt,et,$t){var kt=dt.stateNode;if(!kt)throw Error(p$4(169));$t?(dt=bg(dt,et,Xf),kt.__reactInternalMemoizedMergedChildContext=dt,E$7(Wf),E$7(H$2),G$3(H$2,dt)):E$7(Wf),G$3(Wf,$t)}var eg=null,fg=!1,gg=!1;function hg(dt){eg===null?eg=[dt]:eg.push(dt)}function ig(dt){fg=!0,hg(dt)}function jg(){if(!gg&&eg!==null){gg=!0;var dt=0,et=C$8;try{var $t=eg;for(C$8=1;dt<$t.length;dt++){var kt=$t[dt];do kt=kt(!0);while(kt!==null)}eg=null,fg=!1}catch(Tt){throw eg!==null&&(eg=eg.slice(dt+1)),ac(fc,jg),Tt}finally{C$8=et,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(dt,et){kg[lg++]=ng,kg[lg++]=mg,mg=dt,ng=et}function ug(dt,et,$t){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=dt;var kt=rg;dt=sg;var Tt=32-oc(kt)-1;kt&=~(1<<Tt),$t+=1;var Dt=32-oc(et)+Tt;if(30<Dt){var Ft=Tt-Tt%5;Dt=(kt&(1<<Ft)-1).toString(32),kt>>=Ft,Tt-=Ft,rg=1<<32-oc(et)+Tt|$t<<Tt|kt,sg=Dt+dt}else rg=1<<Dt|$t<<Tt|kt,sg=dt}function vg(dt){dt.return!==null&&(tg(dt,1),ug(dt,1,0))}function wg(dt){for(;dt===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;dt===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$4=!1,zg=null;function Ag(dt,et){var $t=Bg(5,null,null,0);$t.elementType="DELETED",$t.stateNode=et,$t.return=dt,et=dt.deletions,et===null?(dt.deletions=[$t],dt.flags|=16):et.push($t)}function Cg(dt,et){switch(dt.tag){case 5:var $t=dt.type;return et=et.nodeType!==1||$t.toLowerCase()!==et.nodeName.toLowerCase()?null:et,et!==null?(dt.stateNode=et,xg=dt,yg=Lf(et.firstChild),!0):!1;case 6:return et=dt.pendingProps===""||et.nodeType!==3?null:et,et!==null?(dt.stateNode=et,xg=dt,yg=null,!0):!1;case 13:return et=et.nodeType!==8?null:et,et!==null?($t=qg!==null?{id:rg,overflow:sg}:null,dt.memoizedState={dehydrated:et,treeContext:$t,retryLane:1073741824},$t=Bg(18,null,null,0),$t.stateNode=et,$t.return=dt,dt.child=$t,xg=dt,yg=null,!0):!1;default:return!1}}function Dg(dt){return(dt.mode&1)!==0&&(dt.flags&128)===0}function Eg(dt){if(I$4){var et=yg;if(et){var $t=et;if(!Cg(dt,et)){if(Dg(dt))throw Error(p$4(418));et=Lf($t.nextSibling);var kt=xg;et&&Cg(dt,et)?Ag(kt,$t):(dt.flags=dt.flags&-4097|2,I$4=!1,xg=dt)}}else{if(Dg(dt))throw Error(p$4(418));dt.flags=dt.flags&-4097|2,I$4=!1,xg=dt}}}function Fg(dt){for(dt=dt.return;dt!==null&&dt.tag!==5&&dt.tag!==3&&dt.tag!==13;)dt=dt.return;xg=dt}function Gg(dt){if(dt!==xg)return!1;if(!I$4)return Fg(dt),I$4=!0,!1;var et;if((et=dt.tag!==3)&&!(et=dt.tag!==5)&&(et=dt.type,et=et!=="head"&&et!=="body"&&!Ef(dt.type,dt.memoizedProps)),et&&(et=yg)){if(Dg(dt))throw Hg(),Error(p$4(418));for(;et;)Ag(dt,et),et=Lf(et.nextSibling)}if(Fg(dt),dt.tag===13){if(dt=dt.memoizedState,dt=dt!==null?dt.dehydrated:null,!dt)throw Error(p$4(317));e:{for(dt=dt.nextSibling,et=0;dt;){if(dt.nodeType===8){var $t=dt.data;if($t==="/$"){if(et===0){yg=Lf(dt.nextSibling);break e}et--}else $t!=="$"&&$t!=="$!"&&$t!=="$?"||et++}dt=dt.nextSibling}yg=null}}else yg=xg?Lf(dt.stateNode.nextSibling):null;return!0}function Hg(){for(var dt=yg;dt;)dt=Lf(dt.nextSibling)}function Ig(){yg=xg=null,I$4=!1}function Jg(dt){zg===null?zg=[dt]:zg.push(dt)}var Kg=ua.ReactCurrentBatchConfig;function Lg(dt,et,$t){if(dt=$t.ref,dt!==null&&typeof dt!="function"&&typeof dt!="object"){if($t._owner){if($t=$t._owner,$t){if($t.tag!==1)throw Error(p$4(309));var kt=$t.stateNode}if(!kt)throw Error(p$4(147,dt));var Tt=kt,Dt=""+dt;return et!==null&&et.ref!==null&&typeof et.ref=="function"&&et.ref._stringRef===Dt?et.ref:(et=function(Ft){var Ut=Tt.refs;Ft===null?delete Ut[Dt]:Ut[Dt]=Ft},et._stringRef=Dt,et)}if(typeof dt!="string")throw Error(p$4(284));if(!$t._owner)throw Error(p$4(290,dt))}return dt}function Mg(dt,et){throw dt=Object.prototype.toString.call(et),Error(p$4(31,dt==="[object Object]"?"object with keys {"+Object.keys(et).join(", ")+"}":dt))}function Ng(dt){var et=dt._init;return et(dt._payload)}function Og(dt){function et(nr,or){if(dt){var lr=nr.deletions;lr===null?(nr.deletions=[or],nr.flags|=16):lr.push(or)}}function $t(nr,or){if(!dt)return null;for(;or!==null;)et(nr,or),or=or.sibling;return null}function kt(nr,or){for(nr=new Map;or!==null;)or.key!==null?nr.set(or.key,or):nr.set(or.index,or),or=or.sibling;return nr}function Tt(nr,or){return nr=Pg(nr,or),nr.index=0,nr.sibling=null,nr}function Dt(nr,or,lr){return nr.index=lr,dt?(lr=nr.alternate,lr!==null?(lr=lr.index,lr<or?(nr.flags|=2,or):lr):(nr.flags|=2,or)):(nr.flags|=1048576,or)}function Ft(nr){return dt&&nr.alternate===null&&(nr.flags|=2),nr}function Ut(nr,or,lr,cr){return or===null||or.tag!==6?(or=Qg(lr,nr.mode,cr),or.return=nr,or):(or=Tt(or,lr),or.return=nr,or)}function Ht(nr,or,lr,cr){var dr=lr.type;return dr===ya?Yt(nr,or,lr.props.children,cr,lr.key):or!==null&&(or.elementType===dr||typeof dr=="object"&&dr!==null&&dr.$$typeof===Ha&&Ng(dr)===or.type)?(cr=Tt(or,lr.props),cr.ref=Lg(nr,or,lr),cr.return=nr,cr):(cr=Rg(lr.type,lr.key,lr.props,null,nr.mode,cr),cr.ref=Lg(nr,or,lr),cr.return=nr,cr)}function Kt(nr,or,lr,cr){return or===null||or.tag!==4||or.stateNode.containerInfo!==lr.containerInfo||or.stateNode.implementation!==lr.implementation?(or=Sg(lr,nr.mode,cr),or.return=nr,or):(or=Tt(or,lr.children||[]),or.return=nr,or)}function Yt(nr,or,lr,cr,dr){return or===null||or.tag!==7?(or=Tg(lr,nr.mode,cr,dr),or.return=nr,or):(or=Tt(or,lr),or.return=nr,or)}function Jt(nr,or,lr){if(typeof or=="string"&&or!==""||typeof or=="number")return or=Qg(""+or,nr.mode,lr),or.return=nr,or;if(typeof or=="object"&&or!==null){switch(or.$$typeof){case va:return lr=Rg(or.type,or.key,or.props,null,nr.mode,lr),lr.ref=Lg(nr,null,or),lr.return=nr,lr;case wa:return or=Sg(or,nr.mode,lr),or.return=nr,or;case Ha:var cr=or._init;return Jt(nr,cr(or._payload),lr)}if(eb(or)||Ka(or))return or=Tg(or,nr.mode,lr,null),or.return=nr,or;Mg(nr,or)}return null}function Zt(nr,or,lr,cr){var dr=or!==null?or.key:null;if(typeof lr=="string"&&lr!==""||typeof lr=="number")return dr!==null?null:Ut(nr,or,""+lr,cr);if(typeof lr=="object"&&lr!==null){switch(lr.$$typeof){case va:return lr.key===dr?Ht(nr,or,lr,cr):null;case wa:return lr.key===dr?Kt(nr,or,lr,cr):null;case Ha:return dr=lr._init,Zt(nr,or,dr(lr._payload),cr)}if(eb(lr)||Ka(lr))return dr!==null?null:Yt(nr,or,lr,cr,null);Mg(nr,lr)}return null}function er(nr,or,lr,cr,dr){if(typeof cr=="string"&&cr!==""||typeof cr=="number")return nr=nr.get(lr)||null,Ut(or,nr,""+cr,dr);if(typeof cr=="object"&&cr!==null){switch(cr.$$typeof){case va:return nr=nr.get(cr.key===null?lr:cr.key)||null,Ht(or,nr,cr,dr);case wa:return nr=nr.get(cr.key===null?lr:cr.key)||null,Kt(or,nr,cr,dr);case Ha:var ur=cr._init;return er(nr,or,lr,ur(cr._payload),dr)}if(eb(cr)||Ka(cr))return nr=nr.get(lr)||null,Yt(or,nr,cr,dr,null);Mg(or,cr)}return null}function rr(nr,or,lr,cr){for(var dr=null,ur=null,pr=or,mr=or=0,vr=null;pr!==null&&mr<lr.length;mr++){pr.index>mr?(vr=pr,pr=null):vr=pr.sibling;var kr=Zt(nr,pr,lr[mr],cr);if(kr===null){pr===null&&(pr=vr);break}dt&&pr&&kr.alternate===null&&et(nr,pr),or=Dt(kr,or,mr),ur===null?dr=kr:ur.sibling=kr,ur=kr,pr=vr}if(mr===lr.length)return $t(nr,pr),I$4&&tg(nr,mr),dr;if(pr===null){for(;mr<lr.length;mr++)pr=Jt(nr,lr[mr],cr),pr!==null&&(or=Dt(pr,or,mr),ur===null?dr=pr:ur.sibling=pr,ur=pr);return I$4&&tg(nr,mr),dr}for(pr=kt(nr,pr);mr<lr.length;mr++)vr=er(pr,nr,mr,lr[mr],cr),vr!==null&&(dt&&vr.alternate!==null&&pr.delete(vr.key===null?mr:vr.key),or=Dt(vr,or,mr),ur===null?dr=vr:ur.sibling=vr,ur=vr);return dt&&pr.forEach(function(br){return et(nr,br)}),I$4&&tg(nr,mr),dr}function sr(nr,or,lr,cr){var dr=Ka(lr);if(typeof dr!="function")throw Error(p$4(150));if(lr=dr.call(lr),lr==null)throw Error(p$4(151));for(var ur=dr=null,pr=or,mr=or=0,vr=null,kr=lr.next();pr!==null&&!kr.done;mr++,kr=lr.next()){pr.index>mr?(vr=pr,pr=null):vr=pr.sibling;var br=Zt(nr,pr,kr.value,cr);if(br===null){pr===null&&(pr=vr);break}dt&&pr&&br.alternate===null&&et(nr,pr),or=Dt(br,or,mr),ur===null?dr=br:ur.sibling=br,ur=br,pr=vr}if(kr.done)return $t(nr,pr),I$4&&tg(nr,mr),dr;if(pr===null){for(;!kr.done;mr++,kr=lr.next())kr=Jt(nr,kr.value,cr),kr!==null&&(or=Dt(kr,or,mr),ur===null?dr=kr:ur.sibling=kr,ur=kr);return I$4&&tg(nr,mr),dr}for(pr=kt(nr,pr);!kr.done;mr++,kr=lr.next())kr=er(pr,nr,mr,kr.value,cr),kr!==null&&(dt&&kr.alternate!==null&&pr.delete(kr.key===null?mr:kr.key),or=Dt(kr,or,mr),ur===null?dr=kr:ur.sibling=kr,ur=kr);return dt&&pr.forEach(function(_r){return et(nr,_r)}),I$4&&tg(nr,mr),dr}function ir(nr,or,lr,cr){if(typeof lr=="object"&&lr!==null&&lr.type===ya&&lr.key===null&&(lr=lr.props.children),typeof lr=="object"&&lr!==null){switch(lr.$$typeof){case va:e:{for(var dr=lr.key,ur=or;ur!==null;){if(ur.key===dr){if(dr=lr.type,dr===ya){if(ur.tag===7){$t(nr,ur.sibling),or=Tt(ur,lr.props.children),or.return=nr,nr=or;break e}}else if(ur.elementType===dr||typeof dr=="object"&&dr!==null&&dr.$$typeof===Ha&&Ng(dr)===ur.type){$t(nr,ur.sibling),or=Tt(ur,lr.props),or.ref=Lg(nr,ur,lr),or.return=nr,nr=or;break e}$t(nr,ur);break}else et(nr,ur);ur=ur.sibling}lr.type===ya?(or=Tg(lr.props.children,nr.mode,cr,lr.key),or.return=nr,nr=or):(cr=Rg(lr.type,lr.key,lr.props,null,nr.mode,cr),cr.ref=Lg(nr,or,lr),cr.return=nr,nr=cr)}return Ft(nr);case wa:e:{for(ur=lr.key;or!==null;){if(or.key===ur)if(or.tag===4&&or.stateNode.containerInfo===lr.containerInfo&&or.stateNode.implementation===lr.implementation){$t(nr,or.sibling),or=Tt(or,lr.children||[]),or.return=nr,nr=or;break e}else{$t(nr,or);break}else et(nr,or);or=or.sibling}or=Sg(lr,nr.mode,cr),or.return=nr,nr=or}return Ft(nr);case Ha:return ur=lr._init,ir(nr,or,ur(lr._payload),cr)}if(eb(lr))return rr(nr,or,lr,cr);if(Ka(lr))return sr(nr,or,lr,cr);Mg(nr,lr)}return typeof lr=="string"&&lr!==""||typeof lr=="number"?(lr=""+lr,or!==null&&or.tag===6?($t(nr,or.sibling),or=Tt(or,lr),or.return=nr,nr=or):($t(nr,or),or=Qg(lr,nr.mode,cr),or.return=nr,nr=or),Ft(nr)):$t(nr,or)}return ir}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(dt){var et=Wg.current;E$7(Wg),dt._currentValue=et}function bh(dt,et,$t){for(;dt!==null;){var kt=dt.alternate;if((dt.childLanes&et)!==et?(dt.childLanes|=et,kt!==null&&(kt.childLanes|=et)):kt!==null&&(kt.childLanes&et)!==et&&(kt.childLanes|=et),dt===$t)break;dt=dt.return}}function ch(dt,et){Xg=dt,Zg=Yg=null,dt=dt.dependencies,dt!==null&&dt.firstContext!==null&&(dt.lanes&et&&(dh=!0),dt.firstContext=null)}function eh(dt){var et=dt._currentValue;if(Zg!==dt)if(dt={context:dt,memoizedValue:et,next:null},Yg===null){if(Xg===null)throw Error(p$4(308));Yg=dt,Xg.dependencies={lanes:0,firstContext:dt}}else Yg=Yg.next=dt;return et}var fh=null;function gh(dt){fh===null?fh=[dt]:fh.push(dt)}function hh(dt,et,$t,kt){var Tt=et.interleaved;return Tt===null?($t.next=$t,gh(et)):($t.next=Tt.next,Tt.next=$t),et.interleaved=$t,ih(dt,kt)}function ih(dt,et){dt.lanes|=et;var $t=dt.alternate;for($t!==null&&($t.lanes|=et),$t=dt,dt=dt.return;dt!==null;)dt.childLanes|=et,$t=dt.alternate,$t!==null&&($t.childLanes|=et),$t=dt,dt=dt.return;return $t.tag===3?$t.stateNode:null}var jh=!1;function kh(dt){dt.updateQueue={baseState:dt.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(dt,et){dt=dt.updateQueue,et.updateQueue===dt&&(et.updateQueue={baseState:dt.baseState,firstBaseUpdate:dt.firstBaseUpdate,lastBaseUpdate:dt.lastBaseUpdate,shared:dt.shared,effects:dt.effects})}function mh(dt,et){return{eventTime:dt,lane:et,tag:0,payload:null,callback:null,next:null}}function nh(dt,et,$t){var kt=dt.updateQueue;if(kt===null)return null;if(kt=kt.shared,K$4&2){var Tt=kt.pending;return Tt===null?et.next=et:(et.next=Tt.next,Tt.next=et),kt.pending=et,ih(dt,$t)}return Tt=kt.interleaved,Tt===null?(et.next=et,gh(kt)):(et.next=Tt.next,Tt.next=et),kt.interleaved=et,ih(dt,$t)}function oh(dt,et,$t){if(et=et.updateQueue,et!==null&&(et=et.shared,($t&4194240)!==0)){var kt=et.lanes;kt&=dt.pendingLanes,$t|=kt,et.lanes=$t,Cc(dt,$t)}}function ph(dt,et){var $t=dt.updateQueue,kt=dt.alternate;if(kt!==null&&(kt=kt.updateQueue,$t===kt)){var Tt=null,Dt=null;if($t=$t.firstBaseUpdate,$t!==null){do{var Ft={eventTime:$t.eventTime,lane:$t.lane,tag:$t.tag,payload:$t.payload,callback:$t.callback,next:null};Dt===null?Tt=Dt=Ft:Dt=Dt.next=Ft,$t=$t.next}while($t!==null);Dt===null?Tt=Dt=et:Dt=Dt.next=et}else Tt=Dt=et;$t={baseState:kt.baseState,firstBaseUpdate:Tt,lastBaseUpdate:Dt,shared:kt.shared,effects:kt.effects},dt.updateQueue=$t;return}dt=$t.lastBaseUpdate,dt===null?$t.firstBaseUpdate=et:dt.next=et,$t.lastBaseUpdate=et}function qh(dt,et,$t,kt){var Tt=dt.updateQueue;jh=!1;var Dt=Tt.firstBaseUpdate,Ft=Tt.lastBaseUpdate,Ut=Tt.shared.pending;if(Ut!==null){Tt.shared.pending=null;var Ht=Ut,Kt=Ht.next;Ht.next=null,Ft===null?Dt=Kt:Ft.next=Kt,Ft=Ht;var Yt=dt.alternate;Yt!==null&&(Yt=Yt.updateQueue,Ut=Yt.lastBaseUpdate,Ut!==Ft&&(Ut===null?Yt.firstBaseUpdate=Kt:Ut.next=Kt,Yt.lastBaseUpdate=Ht))}if(Dt!==null){var Jt=Tt.baseState;Ft=0,Yt=Kt=Ht=null,Ut=Dt;do{var Zt=Ut.lane,er=Ut.eventTime;if((kt&Zt)===Zt){Yt!==null&&(Yt=Yt.next={eventTime:er,lane:0,tag:Ut.tag,payload:Ut.payload,callback:Ut.callback,next:null});e:{var rr=dt,sr=Ut;switch(Zt=et,er=$t,sr.tag){case 1:if(rr=sr.payload,typeof rr=="function"){Jt=rr.call(er,Jt,Zt);break e}Jt=rr;break e;case 3:rr.flags=rr.flags&-65537|128;case 0:if(rr=sr.payload,Zt=typeof rr=="function"?rr.call(er,Jt,Zt):rr,Zt==null)break e;Jt=A$7({},Jt,Zt);break e;case 2:jh=!0}}Ut.callback!==null&&Ut.lane!==0&&(dt.flags|=64,Zt=Tt.effects,Zt===null?Tt.effects=[Ut]:Zt.push(Ut))}else er={eventTime:er,lane:Zt,tag:Ut.tag,payload:Ut.payload,callback:Ut.callback,next:null},Yt===null?(Kt=Yt=er,Ht=Jt):Yt=Yt.next=er,Ft|=Zt;if(Ut=Ut.next,Ut===null){if(Ut=Tt.shared.pending,Ut===null)break;Zt=Ut,Ut=Zt.next,Zt.next=null,Tt.lastBaseUpdate=Zt,Tt.shared.pending=null}}while(1);if(Yt===null&&(Ht=Jt),Tt.baseState=Ht,Tt.firstBaseUpdate=Kt,Tt.lastBaseUpdate=Yt,et=Tt.shared.interleaved,et!==null){Tt=et;do Ft|=Tt.lane,Tt=Tt.next;while(Tt!==et)}else Dt===null&&(Tt.shared.lanes=0);rh|=Ft,dt.lanes=Ft,dt.memoizedState=Jt}}function sh(dt,et,$t){if(dt=et.effects,et.effects=null,dt!==null)for(et=0;et<dt.length;et++){var kt=dt[et],Tt=kt.callback;if(Tt!==null){if(kt.callback=null,kt=$t,typeof Tt!="function")throw Error(p$4(191,Tt));Tt.call(kt)}}}var th={},uh=Uf(th),vh$1=Uf(th),wh=Uf(th);function xh(dt){if(dt===th)throw Error(p$4(174));return dt}function yh(dt,et){switch(G$3(wh,et),G$3(vh$1,dt),G$3(uh,th),dt=et.nodeType,dt){case 9:case 11:et=(et=et.documentElement)?et.namespaceURI:lb(null,"");break;default:dt=dt===8?et.parentNode:et,et=dt.namespaceURI||null,dt=dt.tagName,et=lb(et,dt)}E$7(uh),G$3(uh,et)}function zh(){E$7(uh),E$7(vh$1),E$7(wh)}function Ah(dt){xh(wh.current);var et=xh(uh.current),$t=lb(et,dt.type);et!==$t&&(G$3(vh$1,dt),G$3(uh,$t))}function Bh(dt){vh$1.current===dt&&(E$7(uh),E$7(vh$1))}var L$9=Uf(0);function Ch(dt){for(var et=dt;et!==null;){if(et.tag===13){var $t=et.memoizedState;if($t!==null&&($t=$t.dehydrated,$t===null||$t.data==="$?"||$t.data==="$!"))return et}else if(et.tag===19&&et.memoizedProps.revealOrder!==void 0){if(et.flags&128)return et}else if(et.child!==null){et.child.return=et,et=et.child;continue}if(et===dt)break;for(;et.sibling===null;){if(et.return===null||et.return===dt)return null;et=et.return}et.sibling.return=et.return,et=et.sibling}return null}var Dh=[];function Eh(){for(var dt=0;dt<Dh.length;dt++)Dh[dt]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M$6=null,N$3=null,O$7=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P$6(){throw Error(p$4(321))}function Mh(dt,et){if(et===null)return!1;for(var $t=0;$t<et.length&&$t<dt.length;$t++)if(!He$3(dt[$t],et[$t]))return!1;return!0}function Nh(dt,et,$t,kt,Tt,Dt){if(Hh=Dt,M$6=et,et.memoizedState=null,et.updateQueue=null,et.lanes=0,Fh.current=dt===null||dt.memoizedState===null?Oh:Ph,dt=$t(kt,Tt),Jh){Dt=0;do{if(Jh=!1,Kh=0,25<=Dt)throw Error(p$4(301));Dt+=1,O$7=N$3=null,et.updateQueue=null,Fh.current=Qh,dt=$t(kt,Tt)}while(Jh)}if(Fh.current=Rh,et=N$3!==null&&N$3.next!==null,Hh=0,O$7=N$3=M$6=null,Ih=!1,et)throw Error(p$4(300));return dt}function Sh(){var dt=Kh!==0;return Kh=0,dt}function Th(){var dt={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O$7===null?M$6.memoizedState=O$7=dt:O$7=O$7.next=dt,O$7}function Uh(){if(N$3===null){var dt=M$6.alternate;dt=dt!==null?dt.memoizedState:null}else dt=N$3.next;var et=O$7===null?M$6.memoizedState:O$7.next;if(et!==null)O$7=et,N$3=dt;else{if(dt===null)throw Error(p$4(310));N$3=dt,dt={memoizedState:N$3.memoizedState,baseState:N$3.baseState,baseQueue:N$3.baseQueue,queue:N$3.queue,next:null},O$7===null?M$6.memoizedState=O$7=dt:O$7=O$7.next=dt}return O$7}function Vh(dt,et){return typeof et=="function"?et(dt):et}function Wh(dt){var et=Uh(),$t=et.queue;if($t===null)throw Error(p$4(311));$t.lastRenderedReducer=dt;var kt=N$3,Tt=kt.baseQueue,Dt=$t.pending;if(Dt!==null){if(Tt!==null){var Ft=Tt.next;Tt.next=Dt.next,Dt.next=Ft}kt.baseQueue=Tt=Dt,$t.pending=null}if(Tt!==null){Dt=Tt.next,kt=kt.baseState;var Ut=Ft=null,Ht=null,Kt=Dt;do{var Yt=Kt.lane;if((Hh&Yt)===Yt)Ht!==null&&(Ht=Ht.next={lane:0,action:Kt.action,hasEagerState:Kt.hasEagerState,eagerState:Kt.eagerState,next:null}),kt=Kt.hasEagerState?Kt.eagerState:dt(kt,Kt.action);else{var Jt={lane:Yt,action:Kt.action,hasEagerState:Kt.hasEagerState,eagerState:Kt.eagerState,next:null};Ht===null?(Ut=Ht=Jt,Ft=kt):Ht=Ht.next=Jt,M$6.lanes|=Yt,rh|=Yt}Kt=Kt.next}while(Kt!==null&&Kt!==Dt);Ht===null?Ft=kt:Ht.next=Ut,He$3(kt,et.memoizedState)||(dh=!0),et.memoizedState=kt,et.baseState=Ft,et.baseQueue=Ht,$t.lastRenderedState=kt}if(dt=$t.interleaved,dt!==null){Tt=dt;do Dt=Tt.lane,M$6.lanes|=Dt,rh|=Dt,Tt=Tt.next;while(Tt!==dt)}else Tt===null&&($t.lanes=0);return[et.memoizedState,$t.dispatch]}function Xh(dt){var et=Uh(),$t=et.queue;if($t===null)throw Error(p$4(311));$t.lastRenderedReducer=dt;var kt=$t.dispatch,Tt=$t.pending,Dt=et.memoizedState;if(Tt!==null){$t.pending=null;var Ft=Tt=Tt.next;do Dt=dt(Dt,Ft.action),Ft=Ft.next;while(Ft!==Tt);He$3(Dt,et.memoizedState)||(dh=!0),et.memoizedState=Dt,et.baseQueue===null&&(et.baseState=Dt),$t.lastRenderedState=Dt}return[Dt,kt]}function Yh(){}function Zh(dt,et){var $t=M$6,kt=Uh(),Tt=et(),Dt=!He$3(kt.memoizedState,Tt);if(Dt&&(kt.memoizedState=Tt,dh=!0),kt=kt.queue,$h(ai.bind(null,$t,kt,dt),[dt]),kt.getSnapshot!==et||Dt||O$7!==null&&O$7.memoizedState.tag&1){if($t.flags|=2048,bi(9,ci.bind(null,$t,kt,Tt,et),void 0,null),Q$4===null)throw Error(p$4(349));Hh&30||di($t,et,Tt)}return Tt}function di(dt,et,$t){dt.flags|=16384,dt={getSnapshot:et,value:$t},et=M$6.updateQueue,et===null?(et={lastEffect:null,stores:null},M$6.updateQueue=et,et.stores=[dt]):($t=et.stores,$t===null?et.stores=[dt]:$t.push(dt))}function ci(dt,et,$t,kt){et.value=$t,et.getSnapshot=kt,ei(et)&&fi(dt)}function ai(dt,et,$t){return $t(function(){ei(et)&&fi(dt)})}function ei(dt){var et=dt.getSnapshot;dt=dt.value;try{var $t=et();return!He$3(dt,$t)}catch{return!0}}function fi(dt){var et=ih(dt,1);et!==null&&gi(et,dt,1,-1)}function hi(dt){var et=Th();return typeof dt=="function"&&(dt=dt()),et.memoizedState=et.baseState=dt,dt={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:dt},et.queue=dt,dt=dt.dispatch=ii.bind(null,M$6,dt),[et.memoizedState,dt]}function bi(dt,et,$t,kt){return dt={tag:dt,create:et,destroy:$t,deps:kt,next:null},et=M$6.updateQueue,et===null?(et={lastEffect:null,stores:null},M$6.updateQueue=et,et.lastEffect=dt.next=dt):($t=et.lastEffect,$t===null?et.lastEffect=dt.next=dt:(kt=$t.next,$t.next=dt,dt.next=kt,et.lastEffect=dt)),dt}function ji(){return Uh().memoizedState}function ki(dt,et,$t,kt){var Tt=Th();M$6.flags|=dt,Tt.memoizedState=bi(1|et,$t,void 0,kt===void 0?null:kt)}function li(dt,et,$t,kt){var Tt=Uh();kt=kt===void 0?null:kt;var Dt=void 0;if(N$3!==null){var Ft=N$3.memoizedState;if(Dt=Ft.destroy,kt!==null&&Mh(kt,Ft.deps)){Tt.memoizedState=bi(et,$t,Dt,kt);return}}M$6.flags|=dt,Tt.memoizedState=bi(1|et,$t,Dt,kt)}function mi(dt,et){return ki(8390656,8,dt,et)}function $h(dt,et){return li(2048,8,dt,et)}function ni(dt,et){return li(4,2,dt,et)}function oi(dt,et){return li(4,4,dt,et)}function pi(dt,et){if(typeof et=="function")return dt=dt(),et(dt),function(){et(null)};if(et!=null)return dt=dt(),et.current=dt,function(){et.current=null}}function qi(dt,et,$t){return $t=$t!=null?$t.concat([dt]):null,li(4,4,pi.bind(null,et,dt),$t)}function ri(){}function si(dt,et){var $t=Uh();et=et===void 0?null:et;var kt=$t.memoizedState;return kt!==null&&et!==null&&Mh(et,kt[1])?kt[0]:($t.memoizedState=[dt,et],dt)}function ti(dt,et){var $t=Uh();et=et===void 0?null:et;var kt=$t.memoizedState;return kt!==null&&et!==null&&Mh(et,kt[1])?kt[0]:(dt=dt(),$t.memoizedState=[dt,et],dt)}function ui(dt,et,$t){return Hh&21?(He$3($t,et)||($t=yc(),M$6.lanes|=$t,rh|=$t,dt.baseState=!0),et):(dt.baseState&&(dt.baseState=!1,dh=!0),dt.memoizedState=$t)}function vi(dt,et){var $t=C$8;C$8=$t!==0&&4>$t?$t:4,dt(!0);var kt=Gh.transition;Gh.transition={};try{dt(!1),et()}finally{C$8=$t,Gh.transition=kt}}function wi(){return Uh().memoizedState}function xi(dt,et,$t){var kt=yi(dt);if($t={lane:kt,action:$t,hasEagerState:!1,eagerState:null,next:null},zi(dt))Ai(et,$t);else if($t=hh(dt,et,$t,kt),$t!==null){var Tt=R$4();gi($t,dt,kt,Tt),Bi($t,et,kt)}}function ii(dt,et,$t){var kt=yi(dt),Tt={lane:kt,action:$t,hasEagerState:!1,eagerState:null,next:null};if(zi(dt))Ai(et,Tt);else{var Dt=dt.alternate;if(dt.lanes===0&&(Dt===null||Dt.lanes===0)&&(Dt=et.lastRenderedReducer,Dt!==null))try{var Ft=et.lastRenderedState,Ut=Dt(Ft,$t);if(Tt.hasEagerState=!0,Tt.eagerState=Ut,He$3(Ut,Ft)){var Ht=et.interleaved;Ht===null?(Tt.next=Tt,gh(et)):(Tt.next=Ht.next,Ht.next=Tt),et.interleaved=Tt;return}}catch{}finally{}$t=hh(dt,et,Tt,kt),$t!==null&&(Tt=R$4(),gi($t,dt,kt,Tt),Bi($t,et,kt))}}function zi(dt){var et=dt.alternate;return dt===M$6||et!==null&&et===M$6}function Ai(dt,et){Jh=Ih=!0;var $t=dt.pending;$t===null?et.next=et:(et.next=$t.next,$t.next=et),dt.pending=et}function Bi(dt,et,$t){if($t&4194240){var kt=et.lanes;kt&=dt.pendingLanes,$t|=kt,et.lanes=$t,Cc(dt,$t)}}var Rh={readContext:eh,useCallback:P$6,useContext:P$6,useEffect:P$6,useImperativeHandle:P$6,useInsertionEffect:P$6,useLayoutEffect:P$6,useMemo:P$6,useReducer:P$6,useRef:P$6,useState:P$6,useDebugValue:P$6,useDeferredValue:P$6,useTransition:P$6,useMutableSource:P$6,useSyncExternalStore:P$6,useId:P$6,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(dt,et){return Th().memoizedState=[dt,et===void 0?null:et],dt},useContext:eh,useEffect:mi,useImperativeHandle:function(dt,et,$t){return $t=$t!=null?$t.concat([dt]):null,ki(4194308,4,pi.bind(null,et,dt),$t)},useLayoutEffect:function(dt,et){return ki(4194308,4,dt,et)},useInsertionEffect:function(dt,et){return ki(4,2,dt,et)},useMemo:function(dt,et){var $t=Th();return et=et===void 0?null:et,dt=dt(),$t.memoizedState=[dt,et],dt},useReducer:function(dt,et,$t){var kt=Th();return et=$t!==void 0?$t(et):et,kt.memoizedState=kt.baseState=et,dt={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:dt,lastRenderedState:et},kt.queue=dt,dt=dt.dispatch=xi.bind(null,M$6,dt),[kt.memoizedState,dt]},useRef:function(dt){var et=Th();return dt={current:dt},et.memoizedState=dt},useState:hi,useDebugValue:ri,useDeferredValue:function(dt){return Th().memoizedState=dt},useTransition:function(){var dt=hi(!1),et=dt[0];return dt=vi.bind(null,dt[1]),Th().memoizedState=dt,[et,dt]},useMutableSource:function(){},useSyncExternalStore:function(dt,et,$t){var kt=M$6,Tt=Th();if(I$4){if($t===void 0)throw Error(p$4(407));$t=$t()}else{if($t=et(),Q$4===null)throw Error(p$4(349));Hh&30||di(kt,et,$t)}Tt.memoizedState=$t;var Dt={value:$t,getSnapshot:et};return Tt.queue=Dt,mi(ai.bind(null,kt,Dt,dt),[dt]),kt.flags|=2048,bi(9,ci.bind(null,kt,Dt,$t,et),void 0,null),$t},useId:function(){var dt=Th(),et=Q$4.identifierPrefix;if(I$4){var $t=sg,kt=rg;$t=(kt&~(1<<32-oc(kt)-1)).toString(32)+$t,et=":"+et+"R"+$t,$t=Kh++,0<$t&&(et+="H"+$t.toString(32)),et+=":"}else $t=Lh++,et=":"+et+"r"+$t.toString(32)+":";return dt.memoizedState=et},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(dt){var et=Uh();return ui(et,N$3.memoizedState,dt)},useTransition:function(){var dt=Wh(Vh)[0],et=Uh().memoizedState;return[dt,et]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(dt){var et=Uh();return N$3===null?et.memoizedState=dt:ui(et,N$3.memoizedState,dt)},useTransition:function(){var dt=Xh(Vh)[0],et=Uh().memoizedState;return[dt,et]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(dt,et){if(dt&&dt.defaultProps){et=A$7({},et),dt=dt.defaultProps;for(var $t in dt)et[$t]===void 0&&(et[$t]=dt[$t]);return et}return et}function Di(dt,et,$t,kt){et=dt.memoizedState,$t=$t(kt,et),$t=$t==null?et:A$7({},et,$t),dt.memoizedState=$t,dt.lanes===0&&(dt.updateQueue.baseState=$t)}var Ei={isMounted:function(dt){return(dt=dt._reactInternals)?Vb(dt)===dt:!1},enqueueSetState:function(dt,et,$t){dt=dt._reactInternals;var kt=R$4(),Tt=yi(dt),Dt=mh(kt,Tt);Dt.payload=et,$t!=null&&(Dt.callback=$t),et=nh(dt,Dt,Tt),et!==null&&(gi(et,dt,Tt,kt),oh(et,dt,Tt))},enqueueReplaceState:function(dt,et,$t){dt=dt._reactInternals;var kt=R$4(),Tt=yi(dt),Dt=mh(kt,Tt);Dt.tag=1,Dt.payload=et,$t!=null&&(Dt.callback=$t),et=nh(dt,Dt,Tt),et!==null&&(gi(et,dt,Tt,kt),oh(et,dt,Tt))},enqueueForceUpdate:function(dt,et){dt=dt._reactInternals;var $t=R$4(),kt=yi(dt),Tt=mh($t,kt);Tt.tag=2,et!=null&&(Tt.callback=et),et=nh(dt,Tt,kt),et!==null&&(gi(et,dt,kt,$t),oh(et,dt,kt))}};function Fi(dt,et,$t,kt,Tt,Dt,Ft){return dt=dt.stateNode,typeof dt.shouldComponentUpdate=="function"?dt.shouldComponentUpdate(kt,Dt,Ft):et.prototype&&et.prototype.isPureReactComponent?!Ie$2($t,kt)||!Ie$2(Tt,Dt):!0}function Gi(dt,et,$t){var kt=!1,Tt=Vf,Dt=et.contextType;return typeof Dt=="object"&&Dt!==null?Dt=eh(Dt):(Tt=Zf(et)?Xf:H$2.current,kt=et.contextTypes,Dt=(kt=kt!=null)?Yf(dt,Tt):Vf),et=new et($t,Dt),dt.memoizedState=et.state!==null&&et.state!==void 0?et.state:null,et.updater=Ei,dt.stateNode=et,et._reactInternals=dt,kt&&(dt=dt.stateNode,dt.__reactInternalMemoizedUnmaskedChildContext=Tt,dt.__reactInternalMemoizedMaskedChildContext=Dt),et}function Hi(dt,et,$t,kt){dt=et.state,typeof et.componentWillReceiveProps=="function"&&et.componentWillReceiveProps($t,kt),typeof et.UNSAFE_componentWillReceiveProps=="function"&&et.UNSAFE_componentWillReceiveProps($t,kt),et.state!==dt&&Ei.enqueueReplaceState(et,et.state,null)}function Ii(dt,et,$t,kt){var Tt=dt.stateNode;Tt.props=$t,Tt.state=dt.memoizedState,Tt.refs={},kh(dt);var Dt=et.contextType;typeof Dt=="object"&&Dt!==null?Tt.context=eh(Dt):(Dt=Zf(et)?Xf:H$2.current,Tt.context=Yf(dt,Dt)),Tt.state=dt.memoizedState,Dt=et.getDerivedStateFromProps,typeof Dt=="function"&&(Di(dt,et,Dt,$t),Tt.state=dt.memoizedState),typeof et.getDerivedStateFromProps=="function"||typeof Tt.getSnapshotBeforeUpdate=="function"||typeof Tt.UNSAFE_componentWillMount!="function"&&typeof Tt.componentWillMount!="function"||(et=Tt.state,typeof Tt.componentWillMount=="function"&&Tt.componentWillMount(),typeof Tt.UNSAFE_componentWillMount=="function"&&Tt.UNSAFE_componentWillMount(),et!==Tt.state&&Ei.enqueueReplaceState(Tt,Tt.state,null),qh(dt,$t,Tt,kt),Tt.state=dt.memoizedState),typeof Tt.componentDidMount=="function"&&(dt.flags|=4194308)}function Ji(dt,et){try{var $t="",kt=et;do $t+=Pa(kt),kt=kt.return;while(kt);var Tt=$t}catch(Dt){Tt=`
Error generating stack: `+Dt.message+`
`+Dt.stack}return{value:dt,source:et,stack:Tt,digest:null}}function Ki(dt,et,$t){return{value:dt,source:null,stack:$t??null,digest:et??null}}function Li(dt,et){try{console.error(et.value)}catch($t){setTimeout(function(){throw $t})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(dt,et,$t){$t=mh(-1,$t),$t.tag=3,$t.payload={element:null};var kt=et.value;return $t.callback=function(){Oi||(Oi=!0,Pi=kt),Li(dt,et)},$t}function Qi(dt,et,$t){$t=mh(-1,$t),$t.tag=3;var kt=dt.type.getDerivedStateFromError;if(typeof kt=="function"){var Tt=et.value;$t.payload=function(){return kt(Tt)},$t.callback=function(){Li(dt,et)}}var Dt=dt.stateNode;return Dt!==null&&typeof Dt.componentDidCatch=="function"&&($t.callback=function(){Li(dt,et),typeof kt!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var Ft=et.stack;this.componentDidCatch(et.value,{componentStack:Ft!==null?Ft:""})}),$t}function Si(dt,et,$t){var kt=dt.pingCache;if(kt===null){kt=dt.pingCache=new Mi;var Tt=new Set;kt.set(et,Tt)}else Tt=kt.get(et),Tt===void 0&&(Tt=new Set,kt.set(et,Tt));Tt.has($t)||(Tt.add($t),dt=Ti.bind(null,dt,et,$t),et.then(dt,dt))}function Ui(dt){do{var et;if((et=dt.tag===13)&&(et=dt.memoizedState,et=et!==null?et.dehydrated!==null:!0),et)return dt;dt=dt.return}while(dt!==null);return null}function Vi(dt,et,$t,kt,Tt){return dt.mode&1?(dt.flags|=65536,dt.lanes=Tt,dt):(dt===et?dt.flags|=65536:(dt.flags|=128,$t.flags|=131072,$t.flags&=-52805,$t.tag===1&&($t.alternate===null?$t.tag=17:(et=mh(-1,1),et.tag=2,nh($t,et,1))),$t.lanes|=1),dt)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(dt,et,$t,kt){et.child=dt===null?Vg(et,null,$t,kt):Ug(et,dt.child,$t,kt)}function Yi(dt,et,$t,kt,Tt){$t=$t.render;var Dt=et.ref;return ch(et,Tt),kt=Nh(dt,et,$t,kt,Dt,Tt),$t=Sh(),dt!==null&&!dh?(et.updateQueue=dt.updateQueue,et.flags&=-2053,dt.lanes&=~Tt,Zi(dt,et,Tt)):(I$4&&$t&&vg(et),et.flags|=1,Xi(dt,et,kt,Tt),et.child)}function $i(dt,et,$t,kt,Tt){if(dt===null){var Dt=$t.type;return typeof Dt=="function"&&!aj(Dt)&&Dt.defaultProps===void 0&&$t.compare===null&&$t.defaultProps===void 0?(et.tag=15,et.type=Dt,bj(dt,et,Dt,kt,Tt)):(dt=Rg($t.type,null,kt,et,et.mode,Tt),dt.ref=et.ref,dt.return=et,et.child=dt)}if(Dt=dt.child,!(dt.lanes&Tt)){var Ft=Dt.memoizedProps;if($t=$t.compare,$t=$t!==null?$t:Ie$2,$t(Ft,kt)&&dt.ref===et.ref)return Zi(dt,et,Tt)}return et.flags|=1,dt=Pg(Dt,kt),dt.ref=et.ref,dt.return=et,et.child=dt}function bj(dt,et,$t,kt,Tt){if(dt!==null){var Dt=dt.memoizedProps;if(Ie$2(Dt,kt)&&dt.ref===et.ref)if(dh=!1,et.pendingProps=kt=Dt,(dt.lanes&Tt)!==0)dt.flags&131072&&(dh=!0);else return et.lanes=dt.lanes,Zi(dt,et,Tt)}return cj(dt,et,$t,kt,Tt)}function dj(dt,et,$t){var kt=et.pendingProps,Tt=kt.children,Dt=dt!==null?dt.memoizedState:null;if(kt.mode==="hidden")if(!(et.mode&1))et.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$3(ej,fj),fj|=$t;else{if(!($t&1073741824))return dt=Dt!==null?Dt.baseLanes|$t:$t,et.lanes=et.childLanes=1073741824,et.memoizedState={baseLanes:dt,cachePool:null,transitions:null},et.updateQueue=null,G$3(ej,fj),fj|=dt,null;et.memoizedState={baseLanes:0,cachePool:null,transitions:null},kt=Dt!==null?Dt.baseLanes:$t,G$3(ej,fj),fj|=kt}else Dt!==null?(kt=Dt.baseLanes|$t,et.memoizedState=null):kt=$t,G$3(ej,fj),fj|=kt;return Xi(dt,et,Tt,$t),et.child}function gj(dt,et){var $t=et.ref;(dt===null&&$t!==null||dt!==null&&dt.ref!==$t)&&(et.flags|=512,et.flags|=2097152)}function cj(dt,et,$t,kt,Tt){var Dt=Zf($t)?Xf:H$2.current;return Dt=Yf(et,Dt),ch(et,Tt),$t=Nh(dt,et,$t,kt,Dt,Tt),kt=Sh(),dt!==null&&!dh?(et.updateQueue=dt.updateQueue,et.flags&=-2053,dt.lanes&=~Tt,Zi(dt,et,Tt)):(I$4&&kt&&vg(et),et.flags|=1,Xi(dt,et,$t,Tt),et.child)}function hj(dt,et,$t,kt,Tt){if(Zf($t)){var Dt=!0;cg(et)}else Dt=!1;if(ch(et,Tt),et.stateNode===null)ij(dt,et),Gi(et,$t,kt),Ii(et,$t,kt,Tt),kt=!0;else if(dt===null){var Ft=et.stateNode,Ut=et.memoizedProps;Ft.props=Ut;var Ht=Ft.context,Kt=$t.contextType;typeof Kt=="object"&&Kt!==null?Kt=eh(Kt):(Kt=Zf($t)?Xf:H$2.current,Kt=Yf(et,Kt));var Yt=$t.getDerivedStateFromProps,Jt=typeof Yt=="function"||typeof Ft.getSnapshotBeforeUpdate=="function";Jt||typeof Ft.UNSAFE_componentWillReceiveProps!="function"&&typeof Ft.componentWillReceiveProps!="function"||(Ut!==kt||Ht!==Kt)&&Hi(et,Ft,kt,Kt),jh=!1;var Zt=et.memoizedState;Ft.state=Zt,qh(et,kt,Ft,Tt),Ht=et.memoizedState,Ut!==kt||Zt!==Ht||Wf.current||jh?(typeof Yt=="function"&&(Di(et,$t,Yt,kt),Ht=et.memoizedState),(Ut=jh||Fi(et,$t,Ut,kt,Zt,Ht,Kt))?(Jt||typeof Ft.UNSAFE_componentWillMount!="function"&&typeof Ft.componentWillMount!="function"||(typeof Ft.componentWillMount=="function"&&Ft.componentWillMount(),typeof Ft.UNSAFE_componentWillMount=="function"&&Ft.UNSAFE_componentWillMount()),typeof Ft.componentDidMount=="function"&&(et.flags|=4194308)):(typeof Ft.componentDidMount=="function"&&(et.flags|=4194308),et.memoizedProps=kt,et.memoizedState=Ht),Ft.props=kt,Ft.state=Ht,Ft.context=Kt,kt=Ut):(typeof Ft.componentDidMount=="function"&&(et.flags|=4194308),kt=!1)}else{Ft=et.stateNode,lh(dt,et),Ut=et.memoizedProps,Kt=et.type===et.elementType?Ut:Ci(et.type,Ut),Ft.props=Kt,Jt=et.pendingProps,Zt=Ft.context,Ht=$t.contextType,typeof Ht=="object"&&Ht!==null?Ht=eh(Ht):(Ht=Zf($t)?Xf:H$2.current,Ht=Yf(et,Ht));var er=$t.getDerivedStateFromProps;(Yt=typeof er=="function"||typeof Ft.getSnapshotBeforeUpdate=="function")||typeof Ft.UNSAFE_componentWillReceiveProps!="function"&&typeof Ft.componentWillReceiveProps!="function"||(Ut!==Jt||Zt!==Ht)&&Hi(et,Ft,kt,Ht),jh=!1,Zt=et.memoizedState,Ft.state=Zt,qh(et,kt,Ft,Tt);var rr=et.memoizedState;Ut!==Jt||Zt!==rr||Wf.current||jh?(typeof er=="function"&&(Di(et,$t,er,kt),rr=et.memoizedState),(Kt=jh||Fi(et,$t,Kt,kt,Zt,rr,Ht)||!1)?(Yt||typeof Ft.UNSAFE_componentWillUpdate!="function"&&typeof Ft.componentWillUpdate!="function"||(typeof Ft.componentWillUpdate=="function"&&Ft.componentWillUpdate(kt,rr,Ht),typeof Ft.UNSAFE_componentWillUpdate=="function"&&Ft.UNSAFE_componentWillUpdate(kt,rr,Ht)),typeof Ft.componentDidUpdate=="function"&&(et.flags|=4),typeof Ft.getSnapshotBeforeUpdate=="function"&&(et.flags|=1024)):(typeof Ft.componentDidUpdate!="function"||Ut===dt.memoizedProps&&Zt===dt.memoizedState||(et.flags|=4),typeof Ft.getSnapshotBeforeUpdate!="function"||Ut===dt.memoizedProps&&Zt===dt.memoizedState||(et.flags|=1024),et.memoizedProps=kt,et.memoizedState=rr),Ft.props=kt,Ft.state=rr,Ft.context=Ht,kt=Kt):(typeof Ft.componentDidUpdate!="function"||Ut===dt.memoizedProps&&Zt===dt.memoizedState||(et.flags|=4),typeof Ft.getSnapshotBeforeUpdate!="function"||Ut===dt.memoizedProps&&Zt===dt.memoizedState||(et.flags|=1024),kt=!1)}return jj(dt,et,$t,kt,Dt,Tt)}function jj(dt,et,$t,kt,Tt,Dt){gj(dt,et);var Ft=(et.flags&128)!==0;if(!kt&&!Ft)return Tt&&dg(et,$t,!1),Zi(dt,et,Dt);kt=et.stateNode,Wi.current=et;var Ut=Ft&&typeof $t.getDerivedStateFromError!="function"?null:kt.render();return et.flags|=1,dt!==null&&Ft?(et.child=Ug(et,dt.child,null,Dt),et.child=Ug(et,null,Ut,Dt)):Xi(dt,et,Ut,Dt),et.memoizedState=kt.state,Tt&&dg(et,$t,!0),et.child}function kj(dt){var et=dt.stateNode;et.pendingContext?ag(dt,et.pendingContext,et.pendingContext!==et.context):et.context&&ag(dt,et.context,!1),yh(dt,et.containerInfo)}function lj(dt,et,$t,kt,Tt){return Ig(),Jg(Tt),et.flags|=256,Xi(dt,et,$t,kt),et.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(dt){return{baseLanes:dt,cachePool:null,transitions:null}}function oj(dt,et,$t){var kt=et.pendingProps,Tt=L$9.current,Dt=!1,Ft=(et.flags&128)!==0,Ut;if((Ut=Ft)||(Ut=dt!==null&&dt.memoizedState===null?!1:(Tt&2)!==0),Ut?(Dt=!0,et.flags&=-129):(dt===null||dt.memoizedState!==null)&&(Tt|=1),G$3(L$9,Tt&1),dt===null)return Eg(et),dt=et.memoizedState,dt!==null&&(dt=dt.dehydrated,dt!==null)?(et.mode&1?dt.data==="$!"?et.lanes=8:et.lanes=1073741824:et.lanes=1,null):(Ft=kt.children,dt=kt.fallback,Dt?(kt=et.mode,Dt=et.child,Ft={mode:"hidden",children:Ft},!(kt&1)&&Dt!==null?(Dt.childLanes=0,Dt.pendingProps=Ft):Dt=pj(Ft,kt,0,null),dt=Tg(dt,kt,$t,null),Dt.return=et,dt.return=et,Dt.sibling=dt,et.child=Dt,et.child.memoizedState=nj($t),et.memoizedState=mj,dt):qj(et,Ft));if(Tt=dt.memoizedState,Tt!==null&&(Ut=Tt.dehydrated,Ut!==null))return rj(dt,et,Ft,kt,Ut,Tt,$t);if(Dt){Dt=kt.fallback,Ft=et.mode,Tt=dt.child,Ut=Tt.sibling;var Ht={mode:"hidden",children:kt.children};return!(Ft&1)&&et.child!==Tt?(kt=et.child,kt.childLanes=0,kt.pendingProps=Ht,et.deletions=null):(kt=Pg(Tt,Ht),kt.subtreeFlags=Tt.subtreeFlags&14680064),Ut!==null?Dt=Pg(Ut,Dt):(Dt=Tg(Dt,Ft,$t,null),Dt.flags|=2),Dt.return=et,kt.return=et,kt.sibling=Dt,et.child=kt,kt=Dt,Dt=et.child,Ft=dt.child.memoizedState,Ft=Ft===null?nj($t):{baseLanes:Ft.baseLanes|$t,cachePool:null,transitions:Ft.transitions},Dt.memoizedState=Ft,Dt.childLanes=dt.childLanes&~$t,et.memoizedState=mj,kt}return Dt=dt.child,dt=Dt.sibling,kt=Pg(Dt,{mode:"visible",children:kt.children}),!(et.mode&1)&&(kt.lanes=$t),kt.return=et,kt.sibling=null,dt!==null&&($t=et.deletions,$t===null?(et.deletions=[dt],et.flags|=16):$t.push(dt)),et.child=kt,et.memoizedState=null,kt}function qj(dt,et){return et=pj({mode:"visible",children:et},dt.mode,0,null),et.return=dt,dt.child=et}function sj(dt,et,$t,kt){return kt!==null&&Jg(kt),Ug(et,dt.child,null,$t),dt=qj(et,et.pendingProps.children),dt.flags|=2,et.memoizedState=null,dt}function rj(dt,et,$t,kt,Tt,Dt,Ft){if($t)return et.flags&256?(et.flags&=-257,kt=Ki(Error(p$4(422))),sj(dt,et,Ft,kt)):et.memoizedState!==null?(et.child=dt.child,et.flags|=128,null):(Dt=kt.fallback,Tt=et.mode,kt=pj({mode:"visible",children:kt.children},Tt,0,null),Dt=Tg(Dt,Tt,Ft,null),Dt.flags|=2,kt.return=et,Dt.return=et,kt.sibling=Dt,et.child=kt,et.mode&1&&Ug(et,dt.child,null,Ft),et.child.memoizedState=nj(Ft),et.memoizedState=mj,Dt);if(!(et.mode&1))return sj(dt,et,Ft,null);if(Tt.data==="$!"){if(kt=Tt.nextSibling&&Tt.nextSibling.dataset,kt)var Ut=kt.dgst;return kt=Ut,Dt=Error(p$4(419)),kt=Ki(Dt,kt,void 0),sj(dt,et,Ft,kt)}if(Ut=(Ft&dt.childLanes)!==0,dh||Ut){if(kt=Q$4,kt!==null){switch(Ft&-Ft){case 4:Tt=2;break;case 16:Tt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Tt=32;break;case 536870912:Tt=268435456;break;default:Tt=0}Tt=Tt&(kt.suspendedLanes|Ft)?0:Tt,Tt!==0&&Tt!==Dt.retryLane&&(Dt.retryLane=Tt,ih(dt,Tt),gi(kt,dt,Tt,-1))}return tj(),kt=Ki(Error(p$4(421))),sj(dt,et,Ft,kt)}return Tt.data==="$?"?(et.flags|=128,et.child=dt.child,et=uj.bind(null,dt),Tt._reactRetry=et,null):(dt=Dt.treeContext,yg=Lf(Tt.nextSibling),xg=et,I$4=!0,zg=null,dt!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=dt.id,sg=dt.overflow,qg=et),et=qj(et,kt.children),et.flags|=4096,et)}function vj(dt,et,$t){dt.lanes|=et;var kt=dt.alternate;kt!==null&&(kt.lanes|=et),bh(dt.return,et,$t)}function wj(dt,et,$t,kt,Tt){var Dt=dt.memoizedState;Dt===null?dt.memoizedState={isBackwards:et,rendering:null,renderingStartTime:0,last:kt,tail:$t,tailMode:Tt}:(Dt.isBackwards=et,Dt.rendering=null,Dt.renderingStartTime=0,Dt.last=kt,Dt.tail=$t,Dt.tailMode=Tt)}function xj(dt,et,$t){var kt=et.pendingProps,Tt=kt.revealOrder,Dt=kt.tail;if(Xi(dt,et,kt.children,$t),kt=L$9.current,kt&2)kt=kt&1|2,et.flags|=128;else{if(dt!==null&&dt.flags&128)e:for(dt=et.child;dt!==null;){if(dt.tag===13)dt.memoizedState!==null&&vj(dt,$t,et);else if(dt.tag===19)vj(dt,$t,et);else if(dt.child!==null){dt.child.return=dt,dt=dt.child;continue}if(dt===et)break e;for(;dt.sibling===null;){if(dt.return===null||dt.return===et)break e;dt=dt.return}dt.sibling.return=dt.return,dt=dt.sibling}kt&=1}if(G$3(L$9,kt),!(et.mode&1))et.memoizedState=null;else switch(Tt){case"forwards":for($t=et.child,Tt=null;$t!==null;)dt=$t.alternate,dt!==null&&Ch(dt)===null&&(Tt=$t),$t=$t.sibling;$t=Tt,$t===null?(Tt=et.child,et.child=null):(Tt=$t.sibling,$t.sibling=null),wj(et,!1,Tt,$t,Dt);break;case"backwards":for($t=null,Tt=et.child,et.child=null;Tt!==null;){if(dt=Tt.alternate,dt!==null&&Ch(dt)===null){et.child=Tt;break}dt=Tt.sibling,Tt.sibling=$t,$t=Tt,Tt=dt}wj(et,!0,$t,null,Dt);break;case"together":wj(et,!1,null,null,void 0);break;default:et.memoizedState=null}return et.child}function ij(dt,et){!(et.mode&1)&&dt!==null&&(dt.alternate=null,et.alternate=null,et.flags|=2)}function Zi(dt,et,$t){if(dt!==null&&(et.dependencies=dt.dependencies),rh|=et.lanes,!($t&et.childLanes))return null;if(dt!==null&&et.child!==dt.child)throw Error(p$4(153));if(et.child!==null){for(dt=et.child,$t=Pg(dt,dt.pendingProps),et.child=$t,$t.return=et;dt.sibling!==null;)dt=dt.sibling,$t=$t.sibling=Pg(dt,dt.pendingProps),$t.return=et;$t.sibling=null}return et.child}function yj(dt,et,$t){switch(et.tag){case 3:kj(et),Ig();break;case 5:Ah(et);break;case 1:Zf(et.type)&&cg(et);break;case 4:yh(et,et.stateNode.containerInfo);break;case 10:var kt=et.type._context,Tt=et.memoizedProps.value;G$3(Wg,kt._currentValue),kt._currentValue=Tt;break;case 13:if(kt=et.memoizedState,kt!==null)return kt.dehydrated!==null?(G$3(L$9,L$9.current&1),et.flags|=128,null):$t&et.child.childLanes?oj(dt,et,$t):(G$3(L$9,L$9.current&1),dt=Zi(dt,et,$t),dt!==null?dt.sibling:null);G$3(L$9,L$9.current&1);break;case 19:if(kt=($t&et.childLanes)!==0,dt.flags&128){if(kt)return xj(dt,et,$t);et.flags|=128}if(Tt=et.memoizedState,Tt!==null&&(Tt.rendering=null,Tt.tail=null,Tt.lastEffect=null),G$3(L$9,L$9.current),kt)break;return null;case 22:case 23:return et.lanes=0,dj(dt,et,$t)}return Zi(dt,et,$t)}var zj,Aj,Bj,Cj;zj=function(dt,et){for(var $t=et.child;$t!==null;){if($t.tag===5||$t.tag===6)dt.appendChild($t.stateNode);else if($t.tag!==4&&$t.child!==null){$t.child.return=$t,$t=$t.child;continue}if($t===et)break;for(;$t.sibling===null;){if($t.return===null||$t.return===et)return;$t=$t.return}$t.sibling.return=$t.return,$t=$t.sibling}};Aj=function(){};Bj=function(dt,et,$t,kt){var Tt=dt.memoizedProps;if(Tt!==kt){dt=et.stateNode,xh(uh.current);var Dt=null;switch($t){case"input":Tt=Ya(dt,Tt),kt=Ya(dt,kt),Dt=[];break;case"select":Tt=A$7({},Tt,{value:void 0}),kt=A$7({},kt,{value:void 0}),Dt=[];break;case"textarea":Tt=gb(dt,Tt),kt=gb(dt,kt),Dt=[];break;default:typeof Tt.onClick!="function"&&typeof kt.onClick=="function"&&(dt.onclick=Bf)}ub($t,kt);var Ft;$t=null;for(Kt in Tt)if(!kt.hasOwnProperty(Kt)&&Tt.hasOwnProperty(Kt)&&Tt[Kt]!=null)if(Kt==="style"){var Ut=Tt[Kt];for(Ft in Ut)Ut.hasOwnProperty(Ft)&&($t||($t={}),$t[Ft]="")}else Kt!=="dangerouslySetInnerHTML"&&Kt!=="children"&&Kt!=="suppressContentEditableWarning"&&Kt!=="suppressHydrationWarning"&&Kt!=="autoFocus"&&(ea.hasOwnProperty(Kt)?Dt||(Dt=[]):(Dt=Dt||[]).push(Kt,null));for(Kt in kt){var Ht=kt[Kt];if(Ut=Tt!=null?Tt[Kt]:void 0,kt.hasOwnProperty(Kt)&&Ht!==Ut&&(Ht!=null||Ut!=null))if(Kt==="style")if(Ut){for(Ft in Ut)!Ut.hasOwnProperty(Ft)||Ht&&Ht.hasOwnProperty(Ft)||($t||($t={}),$t[Ft]="");for(Ft in Ht)Ht.hasOwnProperty(Ft)&&Ut[Ft]!==Ht[Ft]&&($t||($t={}),$t[Ft]=Ht[Ft])}else $t||(Dt||(Dt=[]),Dt.push(Kt,$t)),$t=Ht;else Kt==="dangerouslySetInnerHTML"?(Ht=Ht?Ht.__html:void 0,Ut=Ut?Ut.__html:void 0,Ht!=null&&Ut!==Ht&&(Dt=Dt||[]).push(Kt,Ht)):Kt==="children"?typeof Ht!="string"&&typeof Ht!="number"||(Dt=Dt||[]).push(Kt,""+Ht):Kt!=="suppressContentEditableWarning"&&Kt!=="suppressHydrationWarning"&&(ea.hasOwnProperty(Kt)?(Ht!=null&&Kt==="onScroll"&&D$4("scroll",dt),Dt||Ut===Ht||(Dt=[])):(Dt=Dt||[]).push(Kt,Ht))}$t&&(Dt=Dt||[]).push("style",$t);var Kt=Dt;(et.updateQueue=Kt)&&(et.flags|=4)}};Cj=function(dt,et,$t,kt){$t!==kt&&(et.flags|=4)};function Dj(dt,et){if(!I$4)switch(dt.tailMode){case"hidden":et=dt.tail;for(var $t=null;et!==null;)et.alternate!==null&&($t=et),et=et.sibling;$t===null?dt.tail=null:$t.sibling=null;break;case"collapsed":$t=dt.tail;for(var kt=null;$t!==null;)$t.alternate!==null&&(kt=$t),$t=$t.sibling;kt===null?et||dt.tail===null?dt.tail=null:dt.tail.sibling=null:kt.sibling=null}}function S$4(dt){var et=dt.alternate!==null&&dt.alternate.child===dt.child,$t=0,kt=0;if(et)for(var Tt=dt.child;Tt!==null;)$t|=Tt.lanes|Tt.childLanes,kt|=Tt.subtreeFlags&14680064,kt|=Tt.flags&14680064,Tt.return=dt,Tt=Tt.sibling;else for(Tt=dt.child;Tt!==null;)$t|=Tt.lanes|Tt.childLanes,kt|=Tt.subtreeFlags,kt|=Tt.flags,Tt.return=dt,Tt=Tt.sibling;return dt.subtreeFlags|=kt,dt.childLanes=$t,et}function Ej(dt,et,$t){var kt=et.pendingProps;switch(wg(et),et.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$4(et),null;case 1:return Zf(et.type)&&$f(),S$4(et),null;case 3:return kt=et.stateNode,zh(),E$7(Wf),E$7(H$2),Eh(),kt.pendingContext&&(kt.context=kt.pendingContext,kt.pendingContext=null),(dt===null||dt.child===null)&&(Gg(et)?et.flags|=4:dt===null||dt.memoizedState.isDehydrated&&!(et.flags&256)||(et.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(dt,et),S$4(et),null;case 5:Bh(et);var Tt=xh(wh.current);if($t=et.type,dt!==null&&et.stateNode!=null)Bj(dt,et,$t,kt,Tt),dt.ref!==et.ref&&(et.flags|=512,et.flags|=2097152);else{if(!kt){if(et.stateNode===null)throw Error(p$4(166));return S$4(et),null}if(dt=xh(uh.current),Gg(et)){kt=et.stateNode,$t=et.type;var Dt=et.memoizedProps;switch(kt[Of]=et,kt[Pf]=Dt,dt=(et.mode&1)!==0,$t){case"dialog":D$4("cancel",kt),D$4("close",kt);break;case"iframe":case"object":case"embed":D$4("load",kt);break;case"video":case"audio":for(Tt=0;Tt<lf.length;Tt++)D$4(lf[Tt],kt);break;case"source":D$4("error",kt);break;case"img":case"image":case"link":D$4("error",kt),D$4("load",kt);break;case"details":D$4("toggle",kt);break;case"input":Za(kt,Dt),D$4("invalid",kt);break;case"select":kt._wrapperState={wasMultiple:!!Dt.multiple},D$4("invalid",kt);break;case"textarea":hb(kt,Dt),D$4("invalid",kt)}ub($t,Dt),Tt=null;for(var Ft in Dt)if(Dt.hasOwnProperty(Ft)){var Ut=Dt[Ft];Ft==="children"?typeof Ut=="string"?kt.textContent!==Ut&&(Dt.suppressHydrationWarning!==!0&&Af(kt.textContent,Ut,dt),Tt=["children",Ut]):typeof Ut=="number"&&kt.textContent!==""+Ut&&(Dt.suppressHydrationWarning!==!0&&Af(kt.textContent,Ut,dt),Tt=["children",""+Ut]):ea.hasOwnProperty(Ft)&&Ut!=null&&Ft==="onScroll"&&D$4("scroll",kt)}switch($t){case"input":Va(kt),db(kt,Dt,!0);break;case"textarea":Va(kt),jb(kt);break;case"select":case"option":break;default:typeof Dt.onClick=="function"&&(kt.onclick=Bf)}kt=Tt,et.updateQueue=kt,kt!==null&&(et.flags|=4)}else{Ft=Tt.nodeType===9?Tt:Tt.ownerDocument,dt==="http://www.w3.org/1999/xhtml"&&(dt=kb($t)),dt==="http://www.w3.org/1999/xhtml"?$t==="script"?(dt=Ft.createElement("div"),dt.innerHTML="<script><\/script>",dt=dt.removeChild(dt.firstChild)):typeof kt.is=="string"?dt=Ft.createElement($t,{is:kt.is}):(dt=Ft.createElement($t),$t==="select"&&(Ft=dt,kt.multiple?Ft.multiple=!0:kt.size&&(Ft.size=kt.size))):dt=Ft.createElementNS(dt,$t),dt[Of]=et,dt[Pf]=kt,zj(dt,et,!1,!1),et.stateNode=dt;e:{switch(Ft=vb($t,kt),$t){case"dialog":D$4("cancel",dt),D$4("close",dt),Tt=kt;break;case"iframe":case"object":case"embed":D$4("load",dt),Tt=kt;break;case"video":case"audio":for(Tt=0;Tt<lf.length;Tt++)D$4(lf[Tt],dt);Tt=kt;break;case"source":D$4("error",dt),Tt=kt;break;case"img":case"image":case"link":D$4("error",dt),D$4("load",dt),Tt=kt;break;case"details":D$4("toggle",dt),Tt=kt;break;case"input":Za(dt,kt),Tt=Ya(dt,kt),D$4("invalid",dt);break;case"option":Tt=kt;break;case"select":dt._wrapperState={wasMultiple:!!kt.multiple},Tt=A$7({},kt,{value:void 0}),D$4("invalid",dt);break;case"textarea":hb(dt,kt),Tt=gb(dt,kt),D$4("invalid",dt);break;default:Tt=kt}ub($t,Tt),Ut=Tt;for(Dt in Ut)if(Ut.hasOwnProperty(Dt)){var Ht=Ut[Dt];Dt==="style"?sb(dt,Ht):Dt==="dangerouslySetInnerHTML"?(Ht=Ht?Ht.__html:void 0,Ht!=null&&nb(dt,Ht)):Dt==="children"?typeof Ht=="string"?($t!=="textarea"||Ht!=="")&&ob(dt,Ht):typeof Ht=="number"&&ob(dt,""+Ht):Dt!=="suppressContentEditableWarning"&&Dt!=="suppressHydrationWarning"&&Dt!=="autoFocus"&&(ea.hasOwnProperty(Dt)?Ht!=null&&Dt==="onScroll"&&D$4("scroll",dt):Ht!=null&&ta$1(dt,Dt,Ht,Ft))}switch($t){case"input":Va(dt),db(dt,kt,!1);break;case"textarea":Va(dt),jb(dt);break;case"option":kt.value!=null&&dt.setAttribute("value",""+Sa(kt.value));break;case"select":dt.multiple=!!kt.multiple,Dt=kt.value,Dt!=null?fb(dt,!!kt.multiple,Dt,!1):kt.defaultValue!=null&&fb(dt,!!kt.multiple,kt.defaultValue,!0);break;default:typeof Tt.onClick=="function"&&(dt.onclick=Bf)}switch($t){case"button":case"input":case"select":case"textarea":kt=!!kt.autoFocus;break e;case"img":kt=!0;break e;default:kt=!1}}kt&&(et.flags|=4)}et.ref!==null&&(et.flags|=512,et.flags|=2097152)}return S$4(et),null;case 6:if(dt&&et.stateNode!=null)Cj(dt,et,dt.memoizedProps,kt);else{if(typeof kt!="string"&&et.stateNode===null)throw Error(p$4(166));if($t=xh(wh.current),xh(uh.current),Gg(et)){if(kt=et.stateNode,$t=et.memoizedProps,kt[Of]=et,(Dt=kt.nodeValue!==$t)&&(dt=xg,dt!==null))switch(dt.tag){case 3:Af(kt.nodeValue,$t,(dt.mode&1)!==0);break;case 5:dt.memoizedProps.suppressHydrationWarning!==!0&&Af(kt.nodeValue,$t,(dt.mode&1)!==0)}Dt&&(et.flags|=4)}else kt=($t.nodeType===9?$t:$t.ownerDocument).createTextNode(kt),kt[Of]=et,et.stateNode=kt}return S$4(et),null;case 13:if(E$7(L$9),kt=et.memoizedState,dt===null||dt.memoizedState!==null&&dt.memoizedState.dehydrated!==null){if(I$4&&yg!==null&&et.mode&1&&!(et.flags&128))Hg(),Ig(),et.flags|=98560,Dt=!1;else if(Dt=Gg(et),kt!==null&&kt.dehydrated!==null){if(dt===null){if(!Dt)throw Error(p$4(318));if(Dt=et.memoizedState,Dt=Dt!==null?Dt.dehydrated:null,!Dt)throw Error(p$4(317));Dt[Of]=et}else Ig(),!(et.flags&128)&&(et.memoizedState=null),et.flags|=4;S$4(et),Dt=!1}else zg!==null&&(Fj(zg),zg=null),Dt=!0;if(!Dt)return et.flags&65536?et:null}return et.flags&128?(et.lanes=$t,et):(kt=kt!==null,kt!==(dt!==null&&dt.memoizedState!==null)&&kt&&(et.child.flags|=8192,et.mode&1&&(dt===null||L$9.current&1?T$5===0&&(T$5=3):tj())),et.updateQueue!==null&&(et.flags|=4),S$4(et),null);case 4:return zh(),Aj(dt,et),dt===null&&sf(et.stateNode.containerInfo),S$4(et),null;case 10:return ah(et.type._context),S$4(et),null;case 17:return Zf(et.type)&&$f(),S$4(et),null;case 19:if(E$7(L$9),Dt=et.memoizedState,Dt===null)return S$4(et),null;if(kt=(et.flags&128)!==0,Ft=Dt.rendering,Ft===null)if(kt)Dj(Dt,!1);else{if(T$5!==0||dt!==null&&dt.flags&128)for(dt=et.child;dt!==null;){if(Ft=Ch(dt),Ft!==null){for(et.flags|=128,Dj(Dt,!1),kt=Ft.updateQueue,kt!==null&&(et.updateQueue=kt,et.flags|=4),et.subtreeFlags=0,kt=$t,$t=et.child;$t!==null;)Dt=$t,dt=kt,Dt.flags&=14680066,Ft=Dt.alternate,Ft===null?(Dt.childLanes=0,Dt.lanes=dt,Dt.child=null,Dt.subtreeFlags=0,Dt.memoizedProps=null,Dt.memoizedState=null,Dt.updateQueue=null,Dt.dependencies=null,Dt.stateNode=null):(Dt.childLanes=Ft.childLanes,Dt.lanes=Ft.lanes,Dt.child=Ft.child,Dt.subtreeFlags=0,Dt.deletions=null,Dt.memoizedProps=Ft.memoizedProps,Dt.memoizedState=Ft.memoizedState,Dt.updateQueue=Ft.updateQueue,Dt.type=Ft.type,dt=Ft.dependencies,Dt.dependencies=dt===null?null:{lanes:dt.lanes,firstContext:dt.firstContext}),$t=$t.sibling;return G$3(L$9,L$9.current&1|2),et.child}dt=dt.sibling}Dt.tail!==null&&B$5()>Gj&&(et.flags|=128,kt=!0,Dj(Dt,!1),et.lanes=4194304)}else{if(!kt)if(dt=Ch(Ft),dt!==null){if(et.flags|=128,kt=!0,$t=dt.updateQueue,$t!==null&&(et.updateQueue=$t,et.flags|=4),Dj(Dt,!0),Dt.tail===null&&Dt.tailMode==="hidden"&&!Ft.alternate&&!I$4)return S$4(et),null}else 2*B$5()-Dt.renderingStartTime>Gj&&$t!==1073741824&&(et.flags|=128,kt=!0,Dj(Dt,!1),et.lanes=4194304);Dt.isBackwards?(Ft.sibling=et.child,et.child=Ft):($t=Dt.last,$t!==null?$t.sibling=Ft:et.child=Ft,Dt.last=Ft)}return Dt.tail!==null?(et=Dt.tail,Dt.rendering=et,Dt.tail=et.sibling,Dt.renderingStartTime=B$5(),et.sibling=null,$t=L$9.current,G$3(L$9,kt?$t&1|2:$t&1),et):(S$4(et),null);case 22:case 23:return Hj(),kt=et.memoizedState!==null,dt!==null&&dt.memoizedState!==null!==kt&&(et.flags|=8192),kt&&et.mode&1?fj&1073741824&&(S$4(et),et.subtreeFlags&6&&(et.flags|=8192)):S$4(et),null;case 24:return null;case 25:return null}throw Error(p$4(156,et.tag))}function Ij(dt,et){switch(wg(et),et.tag){case 1:return Zf(et.type)&&$f(),dt=et.flags,dt&65536?(et.flags=dt&-65537|128,et):null;case 3:return zh(),E$7(Wf),E$7(H$2),Eh(),dt=et.flags,dt&65536&&!(dt&128)?(et.flags=dt&-65537|128,et):null;case 5:return Bh(et),null;case 13:if(E$7(L$9),dt=et.memoizedState,dt!==null&&dt.dehydrated!==null){if(et.alternate===null)throw Error(p$4(340));Ig()}return dt=et.flags,dt&65536?(et.flags=dt&-65537|128,et):null;case 19:return E$7(L$9),null;case 4:return zh(),null;case 10:return ah(et.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U$5=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V$3=null;function Lj(dt,et){var $t=dt.ref;if($t!==null)if(typeof $t=="function")try{$t(null)}catch(kt){W$8(dt,et,kt)}else $t.current=null}function Mj(dt,et,$t){try{$t()}catch(kt){W$8(dt,et,kt)}}var Nj=!1;function Oj(dt,et){if(Cf=dd,dt=Me$2(),Ne(dt)){if("selectionStart"in dt)var $t={start:dt.selectionStart,end:dt.selectionEnd};else e:{$t=($t=dt.ownerDocument)&&$t.defaultView||window;var kt=$t.getSelection&&$t.getSelection();if(kt&&kt.rangeCount!==0){$t=kt.anchorNode;var Tt=kt.anchorOffset,Dt=kt.focusNode;kt=kt.focusOffset;try{$t.nodeType,Dt.nodeType}catch{$t=null;break e}var Ft=0,Ut=-1,Ht=-1,Kt=0,Yt=0,Jt=dt,Zt=null;t:for(;;){for(var er;Jt!==$t||Tt!==0&&Jt.nodeType!==3||(Ut=Ft+Tt),Jt!==Dt||kt!==0&&Jt.nodeType!==3||(Ht=Ft+kt),Jt.nodeType===3&&(Ft+=Jt.nodeValue.length),(er=Jt.firstChild)!==null;)Zt=Jt,Jt=er;for(;;){if(Jt===dt)break t;if(Zt===$t&&++Kt===Tt&&(Ut=Ft),Zt===Dt&&++Yt===kt&&(Ht=Ft),(er=Jt.nextSibling)!==null)break;Jt=Zt,Zt=Jt.parentNode}Jt=er}$t=Ut===-1||Ht===-1?null:{start:Ut,end:Ht}}else $t=null}$t=$t||{start:0,end:0}}else $t=null;for(Df={focusedElem:dt,selectionRange:$t},dd=!1,V$3=et;V$3!==null;)if(et=V$3,dt=et.child,(et.subtreeFlags&1028)!==0&&dt!==null)dt.return=et,V$3=dt;else for(;V$3!==null;){et=V$3;try{var rr=et.alternate;if(et.flags&1024)switch(et.tag){case 0:case 11:case 15:break;case 1:if(rr!==null){var sr=rr.memoizedProps,ir=rr.memoizedState,nr=et.stateNode,or=nr.getSnapshotBeforeUpdate(et.elementType===et.type?sr:Ci(et.type,sr),ir);nr.__reactInternalSnapshotBeforeUpdate=or}break;case 3:var lr=et.stateNode.containerInfo;lr.nodeType===1?lr.textContent="":lr.nodeType===9&&lr.documentElement&&lr.removeChild(lr.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$4(163))}}catch(cr){W$8(et,et.return,cr)}if(dt=et.sibling,dt!==null){dt.return=et.return,V$3=dt;break}V$3=et.return}return rr=Nj,Nj=!1,rr}function Pj(dt,et,$t){var kt=et.updateQueue;if(kt=kt!==null?kt.lastEffect:null,kt!==null){var Tt=kt=kt.next;do{if((Tt.tag&dt)===dt){var Dt=Tt.destroy;Tt.destroy=void 0,Dt!==void 0&&Mj(et,$t,Dt)}Tt=Tt.next}while(Tt!==kt)}}function Qj(dt,et){if(et=et.updateQueue,et=et!==null?et.lastEffect:null,et!==null){var $t=et=et.next;do{if(($t.tag&dt)===dt){var kt=$t.create;$t.destroy=kt()}$t=$t.next}while($t!==et)}}function Rj(dt){var et=dt.ref;if(et!==null){var $t=dt.stateNode;switch(dt.tag){case 5:dt=$t;break;default:dt=$t}typeof et=="function"?et(dt):et.current=dt}}function Sj(dt){var et=dt.alternate;et!==null&&(dt.alternate=null,Sj(et)),dt.child=null,dt.deletions=null,dt.sibling=null,dt.tag===5&&(et=dt.stateNode,et!==null&&(delete et[Of],delete et[Pf],delete et[of],delete et[Qf],delete et[Rf])),dt.stateNode=null,dt.return=null,dt.dependencies=null,dt.memoizedProps=null,dt.memoizedState=null,dt.pendingProps=null,dt.stateNode=null,dt.updateQueue=null}function Tj(dt){return dt.tag===5||dt.tag===3||dt.tag===4}function Uj(dt){e:for(;;){for(;dt.sibling===null;){if(dt.return===null||Tj(dt.return))return null;dt=dt.return}for(dt.sibling.return=dt.return,dt=dt.sibling;dt.tag!==5&&dt.tag!==6&&dt.tag!==18;){if(dt.flags&2||dt.child===null||dt.tag===4)continue e;dt.child.return=dt,dt=dt.child}if(!(dt.flags&2))return dt.stateNode}}function Vj(dt,et,$t){var kt=dt.tag;if(kt===5||kt===6)dt=dt.stateNode,et?$t.nodeType===8?$t.parentNode.insertBefore(dt,et):$t.insertBefore(dt,et):($t.nodeType===8?(et=$t.parentNode,et.insertBefore(dt,$t)):(et=$t,et.appendChild(dt)),$t=$t._reactRootContainer,$t!=null||et.onclick!==null||(et.onclick=Bf));else if(kt!==4&&(dt=dt.child,dt!==null))for(Vj(dt,et,$t),dt=dt.sibling;dt!==null;)Vj(dt,et,$t),dt=dt.sibling}function Wj(dt,et,$t){var kt=dt.tag;if(kt===5||kt===6)dt=dt.stateNode,et?$t.insertBefore(dt,et):$t.appendChild(dt);else if(kt!==4&&(dt=dt.child,dt!==null))for(Wj(dt,et,$t),dt=dt.sibling;dt!==null;)Wj(dt,et,$t),dt=dt.sibling}var X$7=null,Xj=!1;function Yj(dt,et,$t){for($t=$t.child;$t!==null;)Zj(dt,et,$t),$t=$t.sibling}function Zj(dt,et,$t){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,$t)}catch{}switch($t.tag){case 5:U$5||Lj($t,et);case 6:var kt=X$7,Tt=Xj;X$7=null,Yj(dt,et,$t),X$7=kt,Xj=Tt,X$7!==null&&(Xj?(dt=X$7,$t=$t.stateNode,dt.nodeType===8?dt.parentNode.removeChild($t):dt.removeChild($t)):X$7.removeChild($t.stateNode));break;case 18:X$7!==null&&(Xj?(dt=X$7,$t=$t.stateNode,dt.nodeType===8?Kf(dt.parentNode,$t):dt.nodeType===1&&Kf(dt,$t),bd(dt)):Kf(X$7,$t.stateNode));break;case 4:kt=X$7,Tt=Xj,X$7=$t.stateNode.containerInfo,Xj=!0,Yj(dt,et,$t),X$7=kt,Xj=Tt;break;case 0:case 11:case 14:case 15:if(!U$5&&(kt=$t.updateQueue,kt!==null&&(kt=kt.lastEffect,kt!==null))){Tt=kt=kt.next;do{var Dt=Tt,Ft=Dt.destroy;Dt=Dt.tag,Ft!==void 0&&(Dt&2||Dt&4)&&Mj($t,et,Ft),Tt=Tt.next}while(Tt!==kt)}Yj(dt,et,$t);break;case 1:if(!U$5&&(Lj($t,et),kt=$t.stateNode,typeof kt.componentWillUnmount=="function"))try{kt.props=$t.memoizedProps,kt.state=$t.memoizedState,kt.componentWillUnmount()}catch(Ut){W$8($t,et,Ut)}Yj(dt,et,$t);break;case 21:Yj(dt,et,$t);break;case 22:$t.mode&1?(U$5=(kt=U$5)||$t.memoizedState!==null,Yj(dt,et,$t),U$5=kt):Yj(dt,et,$t);break;default:Yj(dt,et,$t)}}function ak(dt){var et=dt.updateQueue;if(et!==null){dt.updateQueue=null;var $t=dt.stateNode;$t===null&&($t=dt.stateNode=new Kj),et.forEach(function(kt){var Tt=bk.bind(null,dt,kt);$t.has(kt)||($t.add(kt),kt.then(Tt,Tt))})}}function ck(dt,et){var $t=et.deletions;if($t!==null)for(var kt=0;kt<$t.length;kt++){var Tt=$t[kt];try{var Dt=dt,Ft=et,Ut=Ft;e:for(;Ut!==null;){switch(Ut.tag){case 5:X$7=Ut.stateNode,Xj=!1;break e;case 3:X$7=Ut.stateNode.containerInfo,Xj=!0;break e;case 4:X$7=Ut.stateNode.containerInfo,Xj=!0;break e}Ut=Ut.return}if(X$7===null)throw Error(p$4(160));Zj(Dt,Ft,Tt),X$7=null,Xj=!1;var Ht=Tt.alternate;Ht!==null&&(Ht.return=null),Tt.return=null}catch(Kt){W$8(Tt,et,Kt)}}if(et.subtreeFlags&12854)for(et=et.child;et!==null;)dk(et,dt),et=et.sibling}function dk(dt,et){var $t=dt.alternate,kt=dt.flags;switch(dt.tag){case 0:case 11:case 14:case 15:if(ck(et,dt),ek(dt),kt&4){try{Pj(3,dt,dt.return),Qj(3,dt)}catch(sr){W$8(dt,dt.return,sr)}try{Pj(5,dt,dt.return)}catch(sr){W$8(dt,dt.return,sr)}}break;case 1:ck(et,dt),ek(dt),kt&512&&$t!==null&&Lj($t,$t.return);break;case 5:if(ck(et,dt),ek(dt),kt&512&&$t!==null&&Lj($t,$t.return),dt.flags&32){var Tt=dt.stateNode;try{ob(Tt,"")}catch(sr){W$8(dt,dt.return,sr)}}if(kt&4&&(Tt=dt.stateNode,Tt!=null)){var Dt=dt.memoizedProps,Ft=$t!==null?$t.memoizedProps:Dt,Ut=dt.type,Ht=dt.updateQueue;if(dt.updateQueue=null,Ht!==null)try{Ut==="input"&&Dt.type==="radio"&&Dt.name!=null&&ab(Tt,Dt),vb(Ut,Ft);var Kt=vb(Ut,Dt);for(Ft=0;Ft<Ht.length;Ft+=2){var Yt=Ht[Ft],Jt=Ht[Ft+1];Yt==="style"?sb(Tt,Jt):Yt==="dangerouslySetInnerHTML"?nb(Tt,Jt):Yt==="children"?ob(Tt,Jt):ta$1(Tt,Yt,Jt,Kt)}switch(Ut){case"input":bb(Tt,Dt);break;case"textarea":ib(Tt,Dt);break;case"select":var Zt=Tt._wrapperState.wasMultiple;Tt._wrapperState.wasMultiple=!!Dt.multiple;var er=Dt.value;er!=null?fb(Tt,!!Dt.multiple,er,!1):Zt!==!!Dt.multiple&&(Dt.defaultValue!=null?fb(Tt,!!Dt.multiple,Dt.defaultValue,!0):fb(Tt,!!Dt.multiple,Dt.multiple?[]:"",!1))}Tt[Pf]=Dt}catch(sr){W$8(dt,dt.return,sr)}}break;case 6:if(ck(et,dt),ek(dt),kt&4){if(dt.stateNode===null)throw Error(p$4(162));Tt=dt.stateNode,Dt=dt.memoizedProps;try{Tt.nodeValue=Dt}catch(sr){W$8(dt,dt.return,sr)}}break;case 3:if(ck(et,dt),ek(dt),kt&4&&$t!==null&&$t.memoizedState.isDehydrated)try{bd(et.containerInfo)}catch(sr){W$8(dt,dt.return,sr)}break;case 4:ck(et,dt),ek(dt);break;case 13:ck(et,dt),ek(dt),Tt=dt.child,Tt.flags&8192&&(Dt=Tt.memoizedState!==null,Tt.stateNode.isHidden=Dt,!Dt||Tt.alternate!==null&&Tt.alternate.memoizedState!==null||(fk=B$5())),kt&4&&ak(dt);break;case 22:if(Yt=$t!==null&&$t.memoizedState!==null,dt.mode&1?(U$5=(Kt=U$5)||Yt,ck(et,dt),U$5=Kt):ck(et,dt),ek(dt),kt&8192){if(Kt=dt.memoizedState!==null,(dt.stateNode.isHidden=Kt)&&!Yt&&dt.mode&1)for(V$3=dt,Yt=dt.child;Yt!==null;){for(Jt=V$3=Yt;V$3!==null;){switch(Zt=V$3,er=Zt.child,Zt.tag){case 0:case 11:case 14:case 15:Pj(4,Zt,Zt.return);break;case 1:Lj(Zt,Zt.return);var rr=Zt.stateNode;if(typeof rr.componentWillUnmount=="function"){kt=Zt,$t=Zt.return;try{et=kt,rr.props=et.memoizedProps,rr.state=et.memoizedState,rr.componentWillUnmount()}catch(sr){W$8(kt,$t,sr)}}break;case 5:Lj(Zt,Zt.return);break;case 22:if(Zt.memoizedState!==null){gk(Jt);continue}}er!==null?(er.return=Zt,V$3=er):gk(Jt)}Yt=Yt.sibling}e:for(Yt=null,Jt=dt;;){if(Jt.tag===5){if(Yt===null){Yt=Jt;try{Tt=Jt.stateNode,Kt?(Dt=Tt.style,typeof Dt.setProperty=="function"?Dt.setProperty("display","none","important"):Dt.display="none"):(Ut=Jt.stateNode,Ht=Jt.memoizedProps.style,Ft=Ht!=null&&Ht.hasOwnProperty("display")?Ht.display:null,Ut.style.display=rb("display",Ft))}catch(sr){W$8(dt,dt.return,sr)}}}else if(Jt.tag===6){if(Yt===null)try{Jt.stateNode.nodeValue=Kt?"":Jt.memoizedProps}catch(sr){W$8(dt,dt.return,sr)}}else if((Jt.tag!==22&&Jt.tag!==23||Jt.memoizedState===null||Jt===dt)&&Jt.child!==null){Jt.child.return=Jt,Jt=Jt.child;continue}if(Jt===dt)break e;for(;Jt.sibling===null;){if(Jt.return===null||Jt.return===dt)break e;Yt===Jt&&(Yt=null),Jt=Jt.return}Yt===Jt&&(Yt=null),Jt.sibling.return=Jt.return,Jt=Jt.sibling}}break;case 19:ck(et,dt),ek(dt),kt&4&&ak(dt);break;case 21:break;default:ck(et,dt),ek(dt)}}function ek(dt){var et=dt.flags;if(et&2){try{e:{for(var $t=dt.return;$t!==null;){if(Tj($t)){var kt=$t;break e}$t=$t.return}throw Error(p$4(160))}switch(kt.tag){case 5:var Tt=kt.stateNode;kt.flags&32&&(ob(Tt,""),kt.flags&=-33);var Dt=Uj(dt);Wj(dt,Dt,Tt);break;case 3:case 4:var Ft=kt.stateNode.containerInfo,Ut=Uj(dt);Vj(dt,Ut,Ft);break;default:throw Error(p$4(161))}}catch(Ht){W$8(dt,dt.return,Ht)}dt.flags&=-3}et&4096&&(dt.flags&=-4097)}function hk(dt,et,$t){V$3=dt,ik(dt)}function ik(dt,et,$t){for(var kt=(dt.mode&1)!==0;V$3!==null;){var Tt=V$3,Dt=Tt.child;if(Tt.tag===22&&kt){var Ft=Tt.memoizedState!==null||Jj;if(!Ft){var Ut=Tt.alternate,Ht=Ut!==null&&Ut.memoizedState!==null||U$5;Ut=Jj;var Kt=U$5;if(Jj=Ft,(U$5=Ht)&&!Kt)for(V$3=Tt;V$3!==null;)Ft=V$3,Ht=Ft.child,Ft.tag===22&&Ft.memoizedState!==null?jk(Tt):Ht!==null?(Ht.return=Ft,V$3=Ht):jk(Tt);for(;Dt!==null;)V$3=Dt,ik(Dt),Dt=Dt.sibling;V$3=Tt,Jj=Ut,U$5=Kt}kk(dt)}else Tt.subtreeFlags&8772&&Dt!==null?(Dt.return=Tt,V$3=Dt):kk(dt)}}function kk(dt){for(;V$3!==null;){var et=V$3;if(et.flags&8772){var $t=et.alternate;try{if(et.flags&8772)switch(et.tag){case 0:case 11:case 15:U$5||Qj(5,et);break;case 1:var kt=et.stateNode;if(et.flags&4&&!U$5)if($t===null)kt.componentDidMount();else{var Tt=et.elementType===et.type?$t.memoizedProps:Ci(et.type,$t.memoizedProps);kt.componentDidUpdate(Tt,$t.memoizedState,kt.__reactInternalSnapshotBeforeUpdate)}var Dt=et.updateQueue;Dt!==null&&sh(et,Dt,kt);break;case 3:var Ft=et.updateQueue;if(Ft!==null){if($t=null,et.child!==null)switch(et.child.tag){case 5:$t=et.child.stateNode;break;case 1:$t=et.child.stateNode}sh(et,Ft,$t)}break;case 5:var Ut=et.stateNode;if($t===null&&et.flags&4){$t=Ut;var Ht=et.memoizedProps;switch(et.type){case"button":case"input":case"select":case"textarea":Ht.autoFocus&&$t.focus();break;case"img":Ht.src&&($t.src=Ht.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(et.memoizedState===null){var Kt=et.alternate;if(Kt!==null){var Yt=Kt.memoizedState;if(Yt!==null){var Jt=Yt.dehydrated;Jt!==null&&bd(Jt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$4(163))}U$5||et.flags&512&&Rj(et)}catch(Zt){W$8(et,et.return,Zt)}}if(et===dt){V$3=null;break}if($t=et.sibling,$t!==null){$t.return=et.return,V$3=$t;break}V$3=et.return}}function gk(dt){for(;V$3!==null;){var et=V$3;if(et===dt){V$3=null;break}var $t=et.sibling;if($t!==null){$t.return=et.return,V$3=$t;break}V$3=et.return}}function jk(dt){for(;V$3!==null;){var et=V$3;try{switch(et.tag){case 0:case 11:case 15:var $t=et.return;try{Qj(4,et)}catch(Ht){W$8(et,$t,Ht)}break;case 1:var kt=et.stateNode;if(typeof kt.componentDidMount=="function"){var Tt=et.return;try{kt.componentDidMount()}catch(Ht){W$8(et,Tt,Ht)}}var Dt=et.return;try{Rj(et)}catch(Ht){W$8(et,Dt,Ht)}break;case 5:var Ft=et.return;try{Rj(et)}catch(Ht){W$8(et,Ft,Ht)}}}catch(Ht){W$8(et,et.return,Ht)}if(et===dt){V$3=null;break}var Ut=et.sibling;if(Ut!==null){Ut.return=et.return,V$3=Ut;break}V$3=et.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K$4=0,Q$4=null,Y$4=null,Z$5=0,fj=0,ej=Uf(0),T$5=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk$1=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R$4(){return K$4&6?B$5():Ak!==-1?Ak:Ak=B$5()}function yi(dt){return dt.mode&1?K$4&2&&Z$5!==0?Z$5&-Z$5:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(dt=C$8,dt!==0||(dt=window.event,dt=dt===void 0?16:jd(dt.type)),dt):1}function gi(dt,et,$t,kt){if(50<yk)throw yk=0,zk=null,Error(p$4(185));Ac(dt,$t,kt),(!(K$4&2)||dt!==Q$4)&&(dt===Q$4&&(!(K$4&2)&&(qk|=$t),T$5===4&&Ck(dt,Z$5)),Dk(dt,kt),$t===1&&K$4===0&&!(et.mode&1)&&(Gj=B$5()+500,fg&&jg()))}function Dk(dt,et){var $t=dt.callbackNode;wc(dt,et);var kt=uc(dt,dt===Q$4?Z$5:0);if(kt===0)$t!==null&&bc($t),dt.callbackNode=null,dt.callbackPriority=0;else if(et=kt&-kt,dt.callbackPriority!==et){if($t!=null&&bc($t),et===1)dt.tag===0?ig(Ek.bind(null,dt)):hg(Ek.bind(null,dt)),Jf(function(){!(K$4&6)&&jg()}),$t=null;else{switch(Dc(kt)){case 1:$t=fc;break;case 4:$t=gc;break;case 16:$t=hc;break;case 536870912:$t=jc;break;default:$t=hc}$t=Fk($t,Gk.bind(null,dt))}dt.callbackPriority=et,dt.callbackNode=$t}}function Gk(dt,et){if(Ak=-1,Bk=0,K$4&6)throw Error(p$4(327));var $t=dt.callbackNode;if(Hk()&&dt.callbackNode!==$t)return null;var kt=uc(dt,dt===Q$4?Z$5:0);if(kt===0)return null;if(kt&30||kt&dt.expiredLanes||et)et=Ik(dt,kt);else{et=kt;var Tt=K$4;K$4|=2;var Dt=Jk();(Q$4!==dt||Z$5!==et)&&(uk=null,Gj=B$5()+500,Kk(dt,et));do try{Lk();break}catch(Ut){Mk(dt,Ut)}while(1);$g(),mk.current=Dt,K$4=Tt,Y$4!==null?et=0:(Q$4=null,Z$5=0,et=T$5)}if(et!==0){if(et===2&&(Tt=xc(dt),Tt!==0&&(kt=Tt,et=Nk(dt,Tt))),et===1)throw $t=pk,Kk(dt,0),Ck(dt,kt),Dk(dt,B$5()),$t;if(et===6)Ck(dt,kt);else{if(Tt=dt.current.alternate,!(kt&30)&&!Ok(Tt)&&(et=Ik(dt,kt),et===2&&(Dt=xc(dt),Dt!==0&&(kt=Dt,et=Nk(dt,Dt))),et===1))throw $t=pk,Kk(dt,0),Ck(dt,kt),Dk(dt,B$5()),$t;switch(dt.finishedWork=Tt,dt.finishedLanes=kt,et){case 0:case 1:throw Error(p$4(345));case 2:Pk(dt,tk$1,uk);break;case 3:if(Ck(dt,kt),(kt&130023424)===kt&&(et=fk+500-B$5(),10<et)){if(uc(dt,0)!==0)break;if(Tt=dt.suspendedLanes,(Tt&kt)!==kt){R$4(),dt.pingedLanes|=dt.suspendedLanes&Tt;break}dt.timeoutHandle=Ff(Pk.bind(null,dt,tk$1,uk),et);break}Pk(dt,tk$1,uk);break;case 4:if(Ck(dt,kt),(kt&4194240)===kt)break;for(et=dt.eventTimes,Tt=-1;0<kt;){var Ft=31-oc(kt);Dt=1<<Ft,Ft=et[Ft],Ft>Tt&&(Tt=Ft),kt&=~Dt}if(kt=Tt,kt=B$5()-kt,kt=(120>kt?120:480>kt?480:1080>kt?1080:1920>kt?1920:3e3>kt?3e3:4320>kt?4320:1960*lk(kt/1960))-kt,10<kt){dt.timeoutHandle=Ff(Pk.bind(null,dt,tk$1,uk),kt);break}Pk(dt,tk$1,uk);break;case 5:Pk(dt,tk$1,uk);break;default:throw Error(p$4(329))}}}return Dk(dt,B$5()),dt.callbackNode===$t?Gk.bind(null,dt):null}function Nk(dt,et){var $t=sk;return dt.current.memoizedState.isDehydrated&&(Kk(dt,et).flags|=256),dt=Ik(dt,et),dt!==2&&(et=tk$1,tk$1=$t,et!==null&&Fj(et)),dt}function Fj(dt){tk$1===null?tk$1=dt:tk$1.push.apply(tk$1,dt)}function Ok(dt){for(var et=dt;;){if(et.flags&16384){var $t=et.updateQueue;if($t!==null&&($t=$t.stores,$t!==null))for(var kt=0;kt<$t.length;kt++){var Tt=$t[kt],Dt=Tt.getSnapshot;Tt=Tt.value;try{if(!He$3(Dt(),Tt))return!1}catch{return!1}}}if($t=et.child,et.subtreeFlags&16384&&$t!==null)$t.return=et,et=$t;else{if(et===dt)break;for(;et.sibling===null;){if(et.return===null||et.return===dt)return!0;et=et.return}et.sibling.return=et.return,et=et.sibling}}return!0}function Ck(dt,et){for(et&=~rk,et&=~qk,dt.suspendedLanes|=et,dt.pingedLanes&=~et,dt=dt.expirationTimes;0<et;){var $t=31-oc(et),kt=1<<$t;dt[$t]=-1,et&=~kt}}function Ek(dt){if(K$4&6)throw Error(p$4(327));Hk();var et=uc(dt,0);if(!(et&1))return Dk(dt,B$5()),null;var $t=Ik(dt,et);if(dt.tag!==0&&$t===2){var kt=xc(dt);kt!==0&&(et=kt,$t=Nk(dt,kt))}if($t===1)throw $t=pk,Kk(dt,0),Ck(dt,et),Dk(dt,B$5()),$t;if($t===6)throw Error(p$4(345));return dt.finishedWork=dt.current.alternate,dt.finishedLanes=et,Pk(dt,tk$1,uk),Dk(dt,B$5()),null}function Qk(dt,et){var $t=K$4;K$4|=1;try{return dt(et)}finally{K$4=$t,K$4===0&&(Gj=B$5()+500,fg&&jg())}}function Rk(dt){wk!==null&&wk.tag===0&&!(K$4&6)&&Hk();var et=K$4;K$4|=1;var $t=ok.transition,kt=C$8;try{if(ok.transition=null,C$8=1,dt)return dt()}finally{C$8=kt,ok.transition=$t,K$4=et,!(K$4&6)&&jg()}}function Hj(){fj=ej.current,E$7(ej)}function Kk(dt,et){dt.finishedWork=null,dt.finishedLanes=0;var $t=dt.timeoutHandle;if($t!==-1&&(dt.timeoutHandle=-1,Gf($t)),Y$4!==null)for($t=Y$4.return;$t!==null;){var kt=$t;switch(wg(kt),kt.tag){case 1:kt=kt.type.childContextTypes,kt!=null&&$f();break;case 3:zh(),E$7(Wf),E$7(H$2),Eh();break;case 5:Bh(kt);break;case 4:zh();break;case 13:E$7(L$9);break;case 19:E$7(L$9);break;case 10:ah(kt.type._context);break;case 22:case 23:Hj()}$t=$t.return}if(Q$4=dt,Y$4=dt=Pg(dt.current,null),Z$5=fj=et,T$5=0,pk=null,rk=qk=rh=0,tk$1=sk=null,fh!==null){for(et=0;et<fh.length;et++)if($t=fh[et],kt=$t.interleaved,kt!==null){$t.interleaved=null;var Tt=kt.next,Dt=$t.pending;if(Dt!==null){var Ft=Dt.next;Dt.next=Tt,kt.next=Ft}$t.pending=kt}fh=null}return dt}function Mk(dt,et){do{var $t=Y$4;try{if($g(),Fh.current=Rh,Ih){for(var kt=M$6.memoizedState;kt!==null;){var Tt=kt.queue;Tt!==null&&(Tt.pending=null),kt=kt.next}Ih=!1}if(Hh=0,O$7=N$3=M$6=null,Jh=!1,Kh=0,nk.current=null,$t===null||$t.return===null){T$5=1,pk=et,Y$4=null;break}e:{var Dt=dt,Ft=$t.return,Ut=$t,Ht=et;if(et=Z$5,Ut.flags|=32768,Ht!==null&&typeof Ht=="object"&&typeof Ht.then=="function"){var Kt=Ht,Yt=Ut,Jt=Yt.tag;if(!(Yt.mode&1)&&(Jt===0||Jt===11||Jt===15)){var Zt=Yt.alternate;Zt?(Yt.updateQueue=Zt.updateQueue,Yt.memoizedState=Zt.memoizedState,Yt.lanes=Zt.lanes):(Yt.updateQueue=null,Yt.memoizedState=null)}var er=Ui(Ft);if(er!==null){er.flags&=-257,Vi(er,Ft,Ut,Dt,et),er.mode&1&&Si(Dt,Kt,et),et=er,Ht=Kt;var rr=et.updateQueue;if(rr===null){var sr=new Set;sr.add(Ht),et.updateQueue=sr}else rr.add(Ht);break e}else{if(!(et&1)){Si(Dt,Kt,et),tj();break e}Ht=Error(p$4(426))}}else if(I$4&&Ut.mode&1){var ir=Ui(Ft);if(ir!==null){!(ir.flags&65536)&&(ir.flags|=256),Vi(ir,Ft,Ut,Dt,et),Jg(Ji(Ht,Ut));break e}}Dt=Ht=Ji(Ht,Ut),T$5!==4&&(T$5=2),sk===null?sk=[Dt]:sk.push(Dt),Dt=Ft;do{switch(Dt.tag){case 3:Dt.flags|=65536,et&=-et,Dt.lanes|=et;var nr=Ni(Dt,Ht,et);ph(Dt,nr);break e;case 1:Ut=Ht;var or=Dt.type,lr=Dt.stateNode;if(!(Dt.flags&128)&&(typeof or.getDerivedStateFromError=="function"||lr!==null&&typeof lr.componentDidCatch=="function"&&(Ri===null||!Ri.has(lr)))){Dt.flags|=65536,et&=-et,Dt.lanes|=et;var cr=Qi(Dt,Ut,et);ph(Dt,cr);break e}}Dt=Dt.return}while(Dt!==null)}Sk($t)}catch(dr){et=dr,Y$4===$t&&$t!==null&&(Y$4=$t=$t.return);continue}break}while(1)}function Jk(){var dt=mk.current;return mk.current=Rh,dt===null?Rh:dt}function tj(){(T$5===0||T$5===3||T$5===2)&&(T$5=4),Q$4===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q$4,Z$5)}function Ik(dt,et){var $t=K$4;K$4|=2;var kt=Jk();(Q$4!==dt||Z$5!==et)&&(uk=null,Kk(dt,et));do try{Tk();break}catch(Tt){Mk(dt,Tt)}while(1);if($g(),K$4=$t,mk.current=kt,Y$4!==null)throw Error(p$4(261));return Q$4=null,Z$5=0,T$5}function Tk(){for(;Y$4!==null;)Uk(Y$4)}function Lk(){for(;Y$4!==null&&!cc();)Uk(Y$4)}function Uk(dt){var et=Vk(dt.alternate,dt,fj);dt.memoizedProps=dt.pendingProps,et===null?Sk(dt):Y$4=et,nk.current=null}function Sk(dt){var et=dt;do{var $t=et.alternate;if(dt=et.return,et.flags&32768){if($t=Ij($t,et),$t!==null){$t.flags&=32767,Y$4=$t;return}if(dt!==null)dt.flags|=32768,dt.subtreeFlags=0,dt.deletions=null;else{T$5=6,Y$4=null;return}}else if($t=Ej($t,et,fj),$t!==null){Y$4=$t;return}if(et=et.sibling,et!==null){Y$4=et;return}Y$4=et=dt}while(et!==null);T$5===0&&(T$5=5)}function Pk(dt,et,$t){var kt=C$8,Tt=ok.transition;try{ok.transition=null,C$8=1,Wk(dt,et,$t,kt)}finally{ok.transition=Tt,C$8=kt}return null}function Wk(dt,et,$t,kt){do Hk();while(wk!==null);if(K$4&6)throw Error(p$4(327));$t=dt.finishedWork;var Tt=dt.finishedLanes;if($t===null)return null;if(dt.finishedWork=null,dt.finishedLanes=0,$t===dt.current)throw Error(p$4(177));dt.callbackNode=null,dt.callbackPriority=0;var Dt=$t.lanes|$t.childLanes;if(Bc(dt,Dt),dt===Q$4&&(Y$4=Q$4=null,Z$5=0),!($t.subtreeFlags&2064)&&!($t.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),Dt=($t.flags&15990)!==0,$t.subtreeFlags&15990||Dt){Dt=ok.transition,ok.transition=null;var Ft=C$8;C$8=1;var Ut=K$4;K$4|=4,nk.current=null,Oj(dt,$t),dk($t,dt),Oe$1(Df),dd=!!Cf,Df=Cf=null,dt.current=$t,hk($t),dc(),K$4=Ut,C$8=Ft,ok.transition=Dt}else dt.current=$t;if(vk&&(vk=!1,wk=dt,xk=Tt),Dt=dt.pendingLanes,Dt===0&&(Ri=null),mc($t.stateNode),Dk(dt,B$5()),et!==null)for(kt=dt.onRecoverableError,$t=0;$t<et.length;$t++)Tt=et[$t],kt(Tt.value,{componentStack:Tt.stack,digest:Tt.digest});if(Oi)throw Oi=!1,dt=Pi,Pi=null,dt;return xk&1&&dt.tag!==0&&Hk(),Dt=dt.pendingLanes,Dt&1?dt===zk?yk++:(yk=0,zk=dt):yk=0,jg(),null}function Hk(){if(wk!==null){var dt=Dc(xk),et=ok.transition,$t=C$8;try{if(ok.transition=null,C$8=16>dt?16:dt,wk===null)var kt=!1;else{if(dt=wk,wk=null,xk=0,K$4&6)throw Error(p$4(331));var Tt=K$4;for(K$4|=4,V$3=dt.current;V$3!==null;){var Dt=V$3,Ft=Dt.child;if(V$3.flags&16){var Ut=Dt.deletions;if(Ut!==null){for(var Ht=0;Ht<Ut.length;Ht++){var Kt=Ut[Ht];for(V$3=Kt;V$3!==null;){var Yt=V$3;switch(Yt.tag){case 0:case 11:case 15:Pj(8,Yt,Dt)}var Jt=Yt.child;if(Jt!==null)Jt.return=Yt,V$3=Jt;else for(;V$3!==null;){Yt=V$3;var Zt=Yt.sibling,er=Yt.return;if(Sj(Yt),Yt===Kt){V$3=null;break}if(Zt!==null){Zt.return=er,V$3=Zt;break}V$3=er}}}var rr=Dt.alternate;if(rr!==null){var sr=rr.child;if(sr!==null){rr.child=null;do{var ir=sr.sibling;sr.sibling=null,sr=ir}while(sr!==null)}}V$3=Dt}}if(Dt.subtreeFlags&2064&&Ft!==null)Ft.return=Dt,V$3=Ft;else e:for(;V$3!==null;){if(Dt=V$3,Dt.flags&2048)switch(Dt.tag){case 0:case 11:case 15:Pj(9,Dt,Dt.return)}var nr=Dt.sibling;if(nr!==null){nr.return=Dt.return,V$3=nr;break e}V$3=Dt.return}}var or=dt.current;for(V$3=or;V$3!==null;){Ft=V$3;var lr=Ft.child;if(Ft.subtreeFlags&2064&&lr!==null)lr.return=Ft,V$3=lr;else e:for(Ft=or;V$3!==null;){if(Ut=V$3,Ut.flags&2048)try{switch(Ut.tag){case 0:case 11:case 15:Qj(9,Ut)}}catch(dr){W$8(Ut,Ut.return,dr)}if(Ut===Ft){V$3=null;break e}var cr=Ut.sibling;if(cr!==null){cr.return=Ut.return,V$3=cr;break e}V$3=Ut.return}}if(K$4=Tt,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,dt)}catch{}kt=!0}return kt}finally{C$8=$t,ok.transition=et}}return!1}function Xk(dt,et,$t){et=Ji($t,et),et=Ni(dt,et,1),dt=nh(dt,et,1),et=R$4(),dt!==null&&(Ac(dt,1,et),Dk(dt,et))}function W$8(dt,et,$t){if(dt.tag===3)Xk(dt,dt,$t);else for(;et!==null;){if(et.tag===3){Xk(et,dt,$t);break}else if(et.tag===1){var kt=et.stateNode;if(typeof et.type.getDerivedStateFromError=="function"||typeof kt.componentDidCatch=="function"&&(Ri===null||!Ri.has(kt))){dt=Ji($t,dt),dt=Qi(et,dt,1),et=nh(et,dt,1),dt=R$4(),et!==null&&(Ac(et,1,dt),Dk(et,dt));break}}et=et.return}}function Ti(dt,et,$t){var kt=dt.pingCache;kt!==null&&kt.delete(et),et=R$4(),dt.pingedLanes|=dt.suspendedLanes&$t,Q$4===dt&&(Z$5&$t)===$t&&(T$5===4||T$5===3&&(Z$5&130023424)===Z$5&&500>B$5()-fk?Kk(dt,0):rk|=$t),Dk(dt,et)}function Yk(dt,et){et===0&&(dt.mode&1?(et=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):et=1);var $t=R$4();dt=ih(dt,et),dt!==null&&(Ac(dt,et,$t),Dk(dt,$t))}function uj(dt){var et=dt.memoizedState,$t=0;et!==null&&($t=et.retryLane),Yk(dt,$t)}function bk(dt,et){var $t=0;switch(dt.tag){case 13:var kt=dt.stateNode,Tt=dt.memoizedState;Tt!==null&&($t=Tt.retryLane);break;case 19:kt=dt.stateNode;break;default:throw Error(p$4(314))}kt!==null&&kt.delete(et),Yk(dt,$t)}var Vk;Vk=function(dt,et,$t){if(dt!==null)if(dt.memoizedProps!==et.pendingProps||Wf.current)dh=!0;else{if(!(dt.lanes&$t)&&!(et.flags&128))return dh=!1,yj(dt,et,$t);dh=!!(dt.flags&131072)}else dh=!1,I$4&&et.flags&1048576&&ug(et,ng,et.index);switch(et.lanes=0,et.tag){case 2:var kt=et.type;ij(dt,et),dt=et.pendingProps;var Tt=Yf(et,H$2.current);ch(et,$t),Tt=Nh(null,et,kt,dt,Tt,$t);var Dt=Sh();return et.flags|=1,typeof Tt=="object"&&Tt!==null&&typeof Tt.render=="function"&&Tt.$$typeof===void 0?(et.tag=1,et.memoizedState=null,et.updateQueue=null,Zf(kt)?(Dt=!0,cg(et)):Dt=!1,et.memoizedState=Tt.state!==null&&Tt.state!==void 0?Tt.state:null,kh(et),Tt.updater=Ei,et.stateNode=Tt,Tt._reactInternals=et,Ii(et,kt,dt,$t),et=jj(null,et,kt,!0,Dt,$t)):(et.tag=0,I$4&&Dt&&vg(et),Xi(null,et,Tt,$t),et=et.child),et;case 16:kt=et.elementType;e:{switch(ij(dt,et),dt=et.pendingProps,Tt=kt._init,kt=Tt(kt._payload),et.type=kt,Tt=et.tag=Zk(kt),dt=Ci(kt,dt),Tt){case 0:et=cj(null,et,kt,dt,$t);break e;case 1:et=hj(null,et,kt,dt,$t);break e;case 11:et=Yi(null,et,kt,dt,$t);break e;case 14:et=$i(null,et,kt,Ci(kt.type,dt),$t);break e}throw Error(p$4(306,kt,""))}return et;case 0:return kt=et.type,Tt=et.pendingProps,Tt=et.elementType===kt?Tt:Ci(kt,Tt),cj(dt,et,kt,Tt,$t);case 1:return kt=et.type,Tt=et.pendingProps,Tt=et.elementType===kt?Tt:Ci(kt,Tt),hj(dt,et,kt,Tt,$t);case 3:e:{if(kj(et),dt===null)throw Error(p$4(387));kt=et.pendingProps,Dt=et.memoizedState,Tt=Dt.element,lh(dt,et),qh(et,kt,null,$t);var Ft=et.memoizedState;if(kt=Ft.element,Dt.isDehydrated)if(Dt={element:kt,isDehydrated:!1,cache:Ft.cache,pendingSuspenseBoundaries:Ft.pendingSuspenseBoundaries,transitions:Ft.transitions},et.updateQueue.baseState=Dt,et.memoizedState=Dt,et.flags&256){Tt=Ji(Error(p$4(423)),et),et=lj(dt,et,kt,$t,Tt);break e}else if(kt!==Tt){Tt=Ji(Error(p$4(424)),et),et=lj(dt,et,kt,$t,Tt);break e}else for(yg=Lf(et.stateNode.containerInfo.firstChild),xg=et,I$4=!0,zg=null,$t=Vg(et,null,kt,$t),et.child=$t;$t;)$t.flags=$t.flags&-3|4096,$t=$t.sibling;else{if(Ig(),kt===Tt){et=Zi(dt,et,$t);break e}Xi(dt,et,kt,$t)}et=et.child}return et;case 5:return Ah(et),dt===null&&Eg(et),kt=et.type,Tt=et.pendingProps,Dt=dt!==null?dt.memoizedProps:null,Ft=Tt.children,Ef(kt,Tt)?Ft=null:Dt!==null&&Ef(kt,Dt)&&(et.flags|=32),gj(dt,et),Xi(dt,et,Ft,$t),et.child;case 6:return dt===null&&Eg(et),null;case 13:return oj(dt,et,$t);case 4:return yh(et,et.stateNode.containerInfo),kt=et.pendingProps,dt===null?et.child=Ug(et,null,kt,$t):Xi(dt,et,kt,$t),et.child;case 11:return kt=et.type,Tt=et.pendingProps,Tt=et.elementType===kt?Tt:Ci(kt,Tt),Yi(dt,et,kt,Tt,$t);case 7:return Xi(dt,et,et.pendingProps,$t),et.child;case 8:return Xi(dt,et,et.pendingProps.children,$t),et.child;case 12:return Xi(dt,et,et.pendingProps.children,$t),et.child;case 10:e:{if(kt=et.type._context,Tt=et.pendingProps,Dt=et.memoizedProps,Ft=Tt.value,G$3(Wg,kt._currentValue),kt._currentValue=Ft,Dt!==null)if(He$3(Dt.value,Ft)){if(Dt.children===Tt.children&&!Wf.current){et=Zi(dt,et,$t);break e}}else for(Dt=et.child,Dt!==null&&(Dt.return=et);Dt!==null;){var Ut=Dt.dependencies;if(Ut!==null){Ft=Dt.child;for(var Ht=Ut.firstContext;Ht!==null;){if(Ht.context===kt){if(Dt.tag===1){Ht=mh(-1,$t&-$t),Ht.tag=2;var Kt=Dt.updateQueue;if(Kt!==null){Kt=Kt.shared;var Yt=Kt.pending;Yt===null?Ht.next=Ht:(Ht.next=Yt.next,Yt.next=Ht),Kt.pending=Ht}}Dt.lanes|=$t,Ht=Dt.alternate,Ht!==null&&(Ht.lanes|=$t),bh(Dt.return,$t,et),Ut.lanes|=$t;break}Ht=Ht.next}}else if(Dt.tag===10)Ft=Dt.type===et.type?null:Dt.child;else if(Dt.tag===18){if(Ft=Dt.return,Ft===null)throw Error(p$4(341));Ft.lanes|=$t,Ut=Ft.alternate,Ut!==null&&(Ut.lanes|=$t),bh(Ft,$t,et),Ft=Dt.sibling}else Ft=Dt.child;if(Ft!==null)Ft.return=Dt;else for(Ft=Dt;Ft!==null;){if(Ft===et){Ft=null;break}if(Dt=Ft.sibling,Dt!==null){Dt.return=Ft.return,Ft=Dt;break}Ft=Ft.return}Dt=Ft}Xi(dt,et,Tt.children,$t),et=et.child}return et;case 9:return Tt=et.type,kt=et.pendingProps.children,ch(et,$t),Tt=eh(Tt),kt=kt(Tt),et.flags|=1,Xi(dt,et,kt,$t),et.child;case 14:return kt=et.type,Tt=Ci(kt,et.pendingProps),Tt=Ci(kt.type,Tt),$i(dt,et,kt,Tt,$t);case 15:return bj(dt,et,et.type,et.pendingProps,$t);case 17:return kt=et.type,Tt=et.pendingProps,Tt=et.elementType===kt?Tt:Ci(kt,Tt),ij(dt,et),et.tag=1,Zf(kt)?(dt=!0,cg(et)):dt=!1,ch(et,$t),Gi(et,kt,Tt),Ii(et,kt,Tt,$t),jj(null,et,kt,!0,dt,$t);case 19:return xj(dt,et,$t);case 22:return dj(dt,et,$t)}throw Error(p$4(156,et.tag))};function Fk(dt,et){return ac(dt,et)}function $k(dt,et,$t,kt){this.tag=dt,this.key=$t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=et,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=kt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(dt,et,$t,kt){return new $k(dt,et,$t,kt)}function aj(dt){return dt=dt.prototype,!(!dt||!dt.isReactComponent)}function Zk(dt){if(typeof dt=="function")return aj(dt)?1:0;if(dt!=null){if(dt=dt.$$typeof,dt===Da)return 11;if(dt===Ga)return 14}return 2}function Pg(dt,et){var $t=dt.alternate;return $t===null?($t=Bg(dt.tag,et,dt.key,dt.mode),$t.elementType=dt.elementType,$t.type=dt.type,$t.stateNode=dt.stateNode,$t.alternate=dt,dt.alternate=$t):($t.pendingProps=et,$t.type=dt.type,$t.flags=0,$t.subtreeFlags=0,$t.deletions=null),$t.flags=dt.flags&14680064,$t.childLanes=dt.childLanes,$t.lanes=dt.lanes,$t.child=dt.child,$t.memoizedProps=dt.memoizedProps,$t.memoizedState=dt.memoizedState,$t.updateQueue=dt.updateQueue,et=dt.dependencies,$t.dependencies=et===null?null:{lanes:et.lanes,firstContext:et.firstContext},$t.sibling=dt.sibling,$t.index=dt.index,$t.ref=dt.ref,$t}function Rg(dt,et,$t,kt,Tt,Dt){var Ft=2;if(kt=dt,typeof dt=="function")aj(dt)&&(Ft=1);else if(typeof dt=="string")Ft=5;else e:switch(dt){case ya:return Tg($t.children,Tt,Dt,et);case za:Ft=8,Tt|=8;break;case Aa:return dt=Bg(12,$t,et,Tt|2),dt.elementType=Aa,dt.lanes=Dt,dt;case Ea:return dt=Bg(13,$t,et,Tt),dt.elementType=Ea,dt.lanes=Dt,dt;case Fa:return dt=Bg(19,$t,et,Tt),dt.elementType=Fa,dt.lanes=Dt,dt;case Ia:return pj($t,Tt,Dt,et);default:if(typeof dt=="object"&&dt!==null)switch(dt.$$typeof){case Ba:Ft=10;break e;case Ca:Ft=9;break e;case Da:Ft=11;break e;case Ga:Ft=14;break e;case Ha:Ft=16,kt=null;break e}throw Error(p$4(130,dt==null?dt:typeof dt,""))}return et=Bg(Ft,$t,et,Tt),et.elementType=dt,et.type=kt,et.lanes=Dt,et}function Tg(dt,et,$t,kt){return dt=Bg(7,dt,kt,et),dt.lanes=$t,dt}function pj(dt,et,$t,kt){return dt=Bg(22,dt,kt,et),dt.elementType=Ia,dt.lanes=$t,dt.stateNode={isHidden:!1},dt}function Qg(dt,et,$t){return dt=Bg(6,dt,null,et),dt.lanes=$t,dt}function Sg(dt,et,$t){return et=Bg(4,dt.children!==null?dt.children:[],dt.key,et),et.lanes=$t,et.stateNode={containerInfo:dt.containerInfo,pendingChildren:null,implementation:dt.implementation},et}function al(dt,et,$t,kt,Tt){this.tag=et,this.containerInfo=dt,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=kt,this.onRecoverableError=Tt,this.mutableSourceEagerHydrationData=null}function bl(dt,et,$t,kt,Tt,Dt,Ft,Ut,Ht){return dt=new al(dt,et,$t,Ut,Ht),et===1?(et=1,Dt===!0&&(et|=8)):et=0,Dt=Bg(3,null,null,et),dt.current=Dt,Dt.stateNode=dt,Dt.memoizedState={element:kt,isDehydrated:$t,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(Dt),dt}function cl(dt,et,$t){var kt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:kt==null?null:""+kt,children:dt,containerInfo:et,implementation:$t}}function dl(dt){if(!dt)return Vf;dt=dt._reactInternals;e:{if(Vb(dt)!==dt||dt.tag!==1)throw Error(p$4(170));var et=dt;do{switch(et.tag){case 3:et=et.stateNode.context;break e;case 1:if(Zf(et.type)){et=et.stateNode.__reactInternalMemoizedMergedChildContext;break e}}et=et.return}while(et!==null);throw Error(p$4(171))}if(dt.tag===1){var $t=dt.type;if(Zf($t))return bg(dt,$t,et)}return et}function el(dt,et,$t,kt,Tt,Dt,Ft,Ut,Ht){return dt=bl($t,kt,!0,dt,Tt,Dt,Ft,Ut,Ht),dt.context=dl(null),$t=dt.current,kt=R$4(),Tt=yi($t),Dt=mh(kt,Tt),Dt.callback=et??null,nh($t,Dt,Tt),dt.current.lanes=Tt,Ac(dt,Tt,kt),Dk(dt,kt),dt}function fl(dt,et,$t,kt){var Tt=et.current,Dt=R$4(),Ft=yi(Tt);return $t=dl($t),et.context===null?et.context=$t:et.pendingContext=$t,et=mh(Dt,Ft),et.payload={element:dt},kt=kt===void 0?null:kt,kt!==null&&(et.callback=kt),dt=nh(Tt,et,Ft),dt!==null&&(gi(dt,Tt,Ft,Dt),oh(dt,Tt,Ft)),Ft}function gl(dt){if(dt=dt.current,!dt.child)return null;switch(dt.child.tag){case 5:return dt.child.stateNode;default:return dt.child.stateNode}}function hl(dt,et){if(dt=dt.memoizedState,dt!==null&&dt.dehydrated!==null){var $t=dt.retryLane;dt.retryLane=$t!==0&&$t<et?$t:et}}function il(dt,et){hl(dt,et),(dt=dt.alternate)&&hl(dt,et)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(dt){console.error(dt)};function ll(dt){this._internalRoot=dt}ml.prototype.render=ll.prototype.render=function(dt){var et=this._internalRoot;if(et===null)throw Error(p$4(409));fl(dt,et,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var dt=this._internalRoot;if(dt!==null){this._internalRoot=null;var et=dt.containerInfo;Rk(function(){fl(null,dt,null,null)}),et[uf]=null}};function ml(dt){this._internalRoot=dt}ml.prototype.unstable_scheduleHydration=function(dt){if(dt){var et=Hc();dt={blockedOn:null,target:dt,priority:et};for(var $t=0;$t<Qc.length&&et!==0&&et<Qc[$t].priority;$t++);Qc.splice($t,0,dt),$t===0&&Vc(dt)}};function nl(dt){return!(!dt||dt.nodeType!==1&&dt.nodeType!==9&&dt.nodeType!==11)}function ol(dt){return!(!dt||dt.nodeType!==1&&dt.nodeType!==9&&dt.nodeType!==11&&(dt.nodeType!==8||dt.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(dt,et,$t,kt,Tt){if(Tt){if(typeof kt=="function"){var Dt=kt;kt=function(){var Kt=gl(Ft);Dt.call(Kt)}}var Ft=el(et,kt,dt,0,null,!1,!1,"",pl);return dt._reactRootContainer=Ft,dt[uf]=Ft.current,sf(dt.nodeType===8?dt.parentNode:dt),Rk(),Ft}for(;Tt=dt.lastChild;)dt.removeChild(Tt);if(typeof kt=="function"){var Ut=kt;kt=function(){var Kt=gl(Ht);Ut.call(Kt)}}var Ht=bl(dt,0,!1,null,null,!1,!1,"",pl);return dt._reactRootContainer=Ht,dt[uf]=Ht.current,sf(dt.nodeType===8?dt.parentNode:dt),Rk(function(){fl(et,Ht,$t,kt)}),Ht}function rl(dt,et,$t,kt,Tt){var Dt=$t._reactRootContainer;if(Dt){var Ft=Dt;if(typeof Tt=="function"){var Ut=Tt;Tt=function(){var Ht=gl(Ft);Ut.call(Ht)}}fl(et,Ft,dt,Tt)}else Ft=ql($t,et,dt,Tt,kt);return gl(Ft)}Ec=function(dt){switch(dt.tag){case 3:var et=dt.stateNode;if(et.current.memoizedState.isDehydrated){var $t=tc(et.pendingLanes);$t!==0&&(Cc(et,$t|1),Dk(et,B$5()),!(K$4&6)&&(Gj=B$5()+500,jg()))}break;case 13:Rk(function(){var kt=ih(dt,1);if(kt!==null){var Tt=R$4();gi(kt,dt,1,Tt)}}),il(dt,1)}};Fc=function(dt){if(dt.tag===13){var et=ih(dt,134217728);if(et!==null){var $t=R$4();gi(et,dt,134217728,$t)}il(dt,134217728)}};Gc=function(dt){if(dt.tag===13){var et=yi(dt),$t=ih(dt,et);if($t!==null){var kt=R$4();gi($t,dt,et,kt)}il(dt,et)}};Hc=function(){return C$8};Ic=function(dt,et){var $t=C$8;try{return C$8=dt,et()}finally{C$8=$t}};yb=function(dt,et,$t){switch(et){case"input":if(bb(dt,$t),et=$t.name,$t.type==="radio"&&et!=null){for($t=dt;$t.parentNode;)$t=$t.parentNode;for($t=$t.querySelectorAll("input[name="+JSON.stringify(""+et)+'][type="radio"]'),et=0;et<$t.length;et++){var kt=$t[et];if(kt!==dt&&kt.form===dt.form){var Tt=Db(kt);if(!Tt)throw Error(p$4(90));Wa(kt),bb(kt,Tt)}}}break;case"textarea":ib(dt,$t);break;case"select":et=$t.value,et!=null&&fb(dt,!!$t.multiple,et,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue$3,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(dt){return dt=Zb(dt),dt===null?null:dt.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(dt,et){var $t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(et))throw Error(p$4(200));return cl(dt,et,null,$t)};reactDom_production_min.createRoot=function(dt,et){if(!nl(dt))throw Error(p$4(299));var $t=!1,kt="",Tt=kl;return et!=null&&(et.unstable_strictMode===!0&&($t=!0),et.identifierPrefix!==void 0&&(kt=et.identifierPrefix),et.onRecoverableError!==void 0&&(Tt=et.onRecoverableError)),et=bl(dt,1,!1,null,null,$t,!1,kt,Tt),dt[uf]=et.current,sf(dt.nodeType===8?dt.parentNode:dt),new ll(et)};reactDom_production_min.findDOMNode=function(dt){if(dt==null)return null;if(dt.nodeType===1)return dt;var et=dt._reactInternals;if(et===void 0)throw typeof dt.render=="function"?Error(p$4(188)):(dt=Object.keys(dt).join(","),Error(p$4(268,dt)));return dt=Zb(et),dt=dt===null?null:dt.stateNode,dt};reactDom_production_min.flushSync=function(dt){return Rk(dt)};reactDom_production_min.hydrate=function(dt,et,$t){if(!ol(et))throw Error(p$4(200));return rl(null,dt,et,!0,$t)};reactDom_production_min.hydrateRoot=function(dt,et,$t){if(!nl(dt))throw Error(p$4(405));var kt=$t!=null&&$t.hydratedSources||null,Tt=!1,Dt="",Ft=kl;if($t!=null&&($t.unstable_strictMode===!0&&(Tt=!0),$t.identifierPrefix!==void 0&&(Dt=$t.identifierPrefix),$t.onRecoverableError!==void 0&&(Ft=$t.onRecoverableError)),et=el(et,null,dt,1,$t??null,Tt,!1,Dt,Ft),dt[uf]=et.current,sf(dt),kt)for(dt=0;dt<kt.length;dt++)$t=kt[dt],Tt=$t._getVersion,Tt=Tt($t._source),et.mutableSourceEagerHydrationData==null?et.mutableSourceEagerHydrationData=[$t,Tt]:et.mutableSourceEagerHydrationData.push($t,Tt);return new ml(et)};reactDom_production_min.render=function(dt,et,$t){if(!ol(et))throw Error(p$4(200));return rl(null,dt,et,!1,$t)};reactDom_production_min.unmountComponentAtNode=function(dt){if(!ol(dt))throw Error(p$4(40));return dt._reactRootContainer?(Rk(function(){rl(null,null,dt,!1,function(){dt._reactRootContainer=null,dt[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(dt,et,$t,kt){if(!ol($t))throw Error(p$4(200));if(dt==null||dt._reactInternals===void 0)throw Error(p$4(38));return rl(dt,et,$t,!1,kt)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(dt){console.error(dt)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;const ReactDOM=getDefaultExportFromCjs(reactDomExports);var createRoot,m$3=reactDomExports;createRoot=m$3.createRoot,m$3.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$4(){return _extends$4=Object.assign?Object.assign.bind():function(dt){for(var et=1;et<arguments.length;et++){var $t=arguments[et];for(var kt in $t)Object.prototype.hasOwnProperty.call($t,kt)&&(dt[kt]=$t[kt])}return dt},_extends$4.apply(this,arguments)}var Action$1;(function(dt){dt.Pop="POP",dt.Push="PUSH",dt.Replace="REPLACE"})(Action$1||(Action$1={}));const PopStateEventType="popstate";function createBrowserHistory(dt){dt===void 0&&(dt={});function et(kt,Tt){let{pathname:Dt,search:Ft,hash:Ut}=kt.location;return createLocation("",{pathname:Dt,search:Ft,hash:Ut},Tt.state&&Tt.state.usr||null,Tt.state&&Tt.state.key||"default")}function $t(kt,Tt){return typeof Tt=="string"?Tt:createPath(Tt)}return getUrlBasedHistory(et,$t,null,dt)}function invariant$2(dt,et){if(dt===!1||dt===null||typeof dt>"u")throw new Error(et)}function warning$2(dt,et){if(!dt){typeof console<"u"&&console.warn(et);try{throw new Error(et)}catch{}}}function createKey$1(){return Math.random().toString(36).substr(2,8)}function getHistoryState(dt,et){return{usr:dt.state,key:dt.key,idx:et}}function createLocation(dt,et,$t,kt){return $t===void 0&&($t=null),_extends$4({pathname:typeof dt=="string"?dt:dt.pathname,search:"",hash:""},typeof et=="string"?parsePath(et):et,{state:$t,key:et&&et.key||kt||createKey$1()})}function createPath(dt){let{pathname:et="/",search:$t="",hash:kt=""}=dt;return $t&&$t!=="?"&&(et+=$t.charAt(0)==="?"?$t:"?"+$t),kt&&kt!=="#"&&(et+=kt.charAt(0)==="#"?kt:"#"+kt),et}function parsePath(dt){let et={};if(dt){let $t=dt.indexOf("#");$t>=0&&(et.hash=dt.substr($t),dt=dt.substr(0,$t));let kt=dt.indexOf("?");kt>=0&&(et.search=dt.substr(kt),dt=dt.substr(0,kt)),dt&&(et.pathname=dt)}return et}function getUrlBasedHistory(dt,et,$t,kt){kt===void 0&&(kt={});let{window:Tt=document.defaultView,v5Compat:Dt=!1}=kt,Ft=Tt.history,Ut=Action$1.Pop,Ht=null,Kt=Yt();Kt==null&&(Kt=0,Ft.replaceState(_extends$4({},Ft.state,{idx:Kt}),""));function Yt(){return(Ft.state||{idx:null}).idx}function Jt(){Ut=Action$1.Pop;let ir=Yt(),nr=ir==null?null:ir-Kt;Kt=ir,Ht&&Ht({action:Ut,location:sr.location,delta:nr})}function Zt(ir,nr){Ut=Action$1.Push;let or=createLocation(sr.location,ir,nr);$t&&$t(or,ir),Kt=Yt()+1;let lr=getHistoryState(or,Kt),cr=sr.createHref(or);try{Ft.pushState(lr,"",cr)}catch(dr){if(dr instanceof DOMException&&dr.name==="DataCloneError")throw dr;Tt.location.assign(cr)}Dt&&Ht&&Ht({action:Ut,location:sr.location,delta:1})}function er(ir,nr){Ut=Action$1.Replace;let or=createLocation(sr.location,ir,nr);$t&&$t(or,ir),Kt=Yt();let lr=getHistoryState(or,Kt),cr=sr.createHref(or);Ft.replaceState(lr,"",cr),Dt&&Ht&&Ht({action:Ut,location:sr.location,delta:0})}function rr(ir){let nr=Tt.location.origin!=="null"?Tt.location.origin:Tt.location.href,or=typeof ir=="string"?ir:createPath(ir);return or=or.replace(/ $/,"%20"),invariant$2(nr,"No window.location.(origin|href) available to create URL for href: "+or),new URL(or,nr)}let sr={get action(){return Ut},get location(){return dt(Tt,Ft)},listen(ir){if(Ht)throw new Error("A history only accepts one active listener");return Tt.addEventListener(PopStateEventType,Jt),Ht=ir,()=>{Tt.removeEventListener(PopStateEventType,Jt),Ht=null}},createHref(ir){return et(Tt,ir)},createURL:rr,encodeLocation(ir){let nr=rr(ir);return{pathname:nr.pathname,search:nr.search,hash:nr.hash}},push:Zt,replace:er,go(ir){return Ft.go(ir)}};return sr}var ResultType;(function(dt){dt.data="data",dt.deferred="deferred",dt.redirect="redirect",dt.error="error"})(ResultType||(ResultType={}));function matchRoutes(dt,et,$t){return $t===void 0&&($t="/"),matchRoutesImpl(dt,et,$t,!1)}function matchRoutesImpl(dt,et,$t,kt){let Tt=typeof et=="string"?parsePath(et):et,Dt=stripBasename(Tt.pathname||"/",$t);if(Dt==null)return null;let Ft=flattenRoutes(dt);rankRouteBranches(Ft);let Ut=null;for(let Ht=0;Ut==null&&Ht<Ft.length;++Ht){let Kt=decodePath(Dt);Ut=matchRouteBranch(Ft[Ht],Kt,kt)}return Ut}function flattenRoutes(dt,et,$t,kt){et===void 0&&(et=[]),$t===void 0&&($t=[]),kt===void 0&&(kt="");let Tt=(Dt,Ft,Ut)=>{let Ht={relativePath:Ut===void 0?Dt.path||"":Ut,caseSensitive:Dt.caseSensitive===!0,childrenIndex:Ft,route:Dt};Ht.relativePath.startsWith("/")&&(invariant$2(Ht.relativePath.startsWith(kt),'Absolute route path "'+Ht.relativePath+'" nested under path '+('"'+kt+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),Ht.relativePath=Ht.relativePath.slice(kt.length));let Kt=joinPaths([kt,Ht.relativePath]),Yt=$t.concat(Ht);Dt.children&&Dt.children.length>0&&(invariant$2(Dt.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+Kt+'".')),flattenRoutes(Dt.children,et,Yt,Kt)),!(Dt.path==null&&!Dt.index)&&et.push({path:Kt,score:computeScore(Kt,Dt.index),routesMeta:Yt})};return dt.forEach((Dt,Ft)=>{var Ut;if(Dt.path===""||!((Ut=Dt.path)!=null&&Ut.includes("?")))Tt(Dt,Ft);else for(let Ht of explodeOptionalSegments(Dt.path))Tt(Dt,Ft,Ht)}),et}function explodeOptionalSegments(dt){let et=dt.split("/");if(et.length===0)return[];let[$t,...kt]=et,Tt=$t.endsWith("?"),Dt=$t.replace(/\?$/,"");if(kt.length===0)return Tt?[Dt,""]:[Dt];let Ft=explodeOptionalSegments(kt.join("/")),Ut=[];return Ut.push(...Ft.map(Ht=>Ht===""?Dt:[Dt,Ht].join("/"))),Tt&&Ut.push(...Ft),Ut.map(Ht=>dt.startsWith("/")&&Ht===""?"/":Ht)}function rankRouteBranches(dt){dt.sort((et,$t)=>et.score!==$t.score?$t.score-et.score:compareIndexes(et.routesMeta.map(kt=>kt.childrenIndex),$t.routesMeta.map(kt=>kt.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=dt=>dt==="*";function computeScore(dt,et){let $t=dt.split("/"),kt=$t.length;return $t.some(isSplat)&&(kt+=splatPenalty),et&&(kt+=indexRouteValue),$t.filter(Tt=>!isSplat(Tt)).reduce((Tt,Dt)=>Tt+(paramRe.test(Dt)?dynamicSegmentValue:Dt===""?emptySegmentValue:staticSegmentValue),kt)}function compareIndexes(dt,et){return dt.length===et.length&&dt.slice(0,-1).every((kt,Tt)=>kt===et[Tt])?dt[dt.length-1]-et[et.length-1]:0}function matchRouteBranch(dt,et,$t){$t===void 0&&($t=!1);let{routesMeta:kt}=dt,Tt={},Dt="/",Ft=[];for(let Ut=0;Ut<kt.length;++Ut){let Ht=kt[Ut],Kt=Ut===kt.length-1,Yt=Dt==="/"?et:et.slice(Dt.length)||"/",Jt=matchPath({path:Ht.relativePath,caseSensitive:Ht.caseSensitive,end:Kt},Yt),Zt=Ht.route;if(!Jt&&Kt&&$t&&!kt[kt.length-1].route.index&&(Jt=matchPath({path:Ht.relativePath,caseSensitive:Ht.caseSensitive,end:!1},Yt)),!Jt)return null;Object.assign(Tt,Jt.params),Ft.push({params:Tt,pathname:joinPaths([Dt,Jt.pathname]),pathnameBase:normalizePathname(joinPaths([Dt,Jt.pathnameBase])),route:Zt}),Jt.pathnameBase!=="/"&&(Dt=joinPaths([Dt,Jt.pathnameBase]))}return Ft}function matchPath(dt,et){typeof dt=="string"&&(dt={path:dt,caseSensitive:!1,end:!0});let[$t,kt]=compilePath(dt.path,dt.caseSensitive,dt.end),Tt=et.match($t);if(!Tt)return null;let Dt=Tt[0],Ft=Dt.replace(/(.)\/+$/,"$1"),Ut=Tt.slice(1);return{params:kt.reduce((Kt,Yt,Jt)=>{let{paramName:Zt,isOptional:er}=Yt;if(Zt==="*"){let sr=Ut[Jt]||"";Ft=Dt.slice(0,Dt.length-sr.length).replace(/(.)\/+$/,"$1")}const rr=Ut[Jt];return er&&!rr?Kt[Zt]=void 0:Kt[Zt]=(rr||"").replace(/%2F/g,"/"),Kt},{}),pathname:Dt,pathnameBase:Ft,pattern:dt}}function compilePath(dt,et,$t){et===void 0&&(et=!1),$t===void 0&&($t=!0),warning$2(dt==="*"||!dt.endsWith("*")||dt.endsWith("/*"),'Route path "'+dt+'" will be treated as if it were '+('"'+dt.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+dt.replace(/\*$/,"/*")+'".'));let kt=[],Tt="^"+dt.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(Ft,Ut,Ht)=>(kt.push({paramName:Ut,isOptional:Ht!=null}),Ht?"/?([^\\/]+)?":"/([^\\/]+)"));return dt.endsWith("*")?(kt.push({paramName:"*"}),Tt+=dt==="*"||dt==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):$t?Tt+="\\/*$":dt!==""&&dt!=="/"&&(Tt+="(?:(?=\\/|$))"),[new RegExp(Tt,et?void 0:"i"),kt]}function decodePath(dt){try{return dt.split("/").map(et=>decodeURIComponent(et).replace(/\//g,"%2F")).join("/")}catch(et){return warning$2(!1,'The URL path "'+dt+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+et+").")),dt}}function stripBasename(dt,et){if(et==="/")return dt;if(!dt.toLowerCase().startsWith(et.toLowerCase()))return null;let $t=et.endsWith("/")?et.length-1:et.length,kt=dt.charAt($t);return kt&&kt!=="/"?null:dt.slice($t)||"/"}function resolvePath(dt,et){et===void 0&&(et="/");let{pathname:$t,search:kt="",hash:Tt=""}=typeof dt=="string"?parsePath(dt):dt;return{pathname:$t?$t.startsWith("/")?$t:resolvePathname($t,et):et,search:normalizeSearch(kt),hash:normalizeHash(Tt)}}function resolvePathname(dt,et){let $t=et.replace(/\/+$/,"").split("/");return dt.split("/").forEach(Tt=>{Tt===".."?$t.length>1&&$t.pop():Tt!=="."&&$t.push(Tt)}),$t.length>1?$t.join("/"):"/"}function getInvalidPathError(dt,et,$t,kt){return"Cannot include a '"+dt+"' character in a manually specified "+("`to."+et+"` field ["+JSON.stringify(kt)+"].  Please separate it out to the ")+("`to."+$t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(dt){return dt.filter((et,$t)=>$t===0||et.route.path&&et.route.path.length>0)}function getResolveToMatches(dt,et){let $t=getPathContributingMatches(dt);return et?$t.map((kt,Tt)=>Tt===$t.length-1?kt.pathname:kt.pathnameBase):$t.map(kt=>kt.pathnameBase)}function resolveTo(dt,et,$t,kt){kt===void 0&&(kt=!1);let Tt;typeof dt=="string"?Tt=parsePath(dt):(Tt=_extends$4({},dt),invariant$2(!Tt.pathname||!Tt.pathname.includes("?"),getInvalidPathError("?","pathname","search",Tt)),invariant$2(!Tt.pathname||!Tt.pathname.includes("#"),getInvalidPathError("#","pathname","hash",Tt)),invariant$2(!Tt.search||!Tt.search.includes("#"),getInvalidPathError("#","search","hash",Tt)));let Dt=dt===""||Tt.pathname==="",Ft=Dt?"/":Tt.pathname,Ut;if(Ft==null)Ut=$t;else{let Jt=et.length-1;if(!kt&&Ft.startsWith("..")){let Zt=Ft.split("/");for(;Zt[0]==="..";)Zt.shift(),Jt-=1;Tt.pathname=Zt.join("/")}Ut=Jt>=0?et[Jt]:"/"}let Ht=resolvePath(Tt,Ut),Kt=Ft&&Ft!=="/"&&Ft.endsWith("/"),Yt=(Dt||Ft===".")&&$t.endsWith("/");return!Ht.pathname.endsWith("/")&&(Kt||Yt)&&(Ht.pathname+="/"),Ht}const joinPaths=dt=>dt.join("/").replace(/\/\/+/g,"/"),normalizePathname=dt=>dt.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=dt=>!dt||dt==="?"?"":dt.startsWith("?")?dt:"?"+dt,normalizeHash=dt=>!dt||dt==="#"?"":dt.startsWith("#")?dt:"#"+dt;function isRouteErrorResponse(dt){return dt!=null&&typeof dt.status=="number"&&typeof dt.statusText=="string"&&typeof dt.internal=="boolean"&&"data"in dt}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(dt){for(var et=1;et<arguments.length;et++){var $t=arguments[et];for(var kt in $t)Object.prototype.hasOwnProperty.call($t,kt)&&(dt[kt]=$t[kt])}return dt},_extends$3.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useHref(dt,et){let{relative:$t}=et===void 0?{}:et;useInRouterContext()||invariant$2(!1);let{basename:kt,navigator:Tt}=reactExports.useContext(NavigationContext),{hash:Dt,pathname:Ft,search:Ut}=useResolvedPath(dt,{relative:$t}),Ht=Ft;return kt!=="/"&&(Ht=Ft==="/"?kt:joinPaths([kt,Ft])),Tt.createHref({pathname:Ht,search:Ut,hash:Dt})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant$2(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect$9(dt){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(dt)}function useNavigate(){let{isDataRoute:dt}=reactExports.useContext(RouteContext);return dt?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant$2(!1);let dt=reactExports.useContext(DataRouterContext),{basename:et,future:$t,navigator:kt}=reactExports.useContext(NavigationContext),{matches:Tt}=reactExports.useContext(RouteContext),{pathname:Dt}=useLocation(),Ft=JSON.stringify(getResolveToMatches(Tt,$t.v7_relativeSplatPath)),Ut=reactExports.useRef(!1);return useIsomorphicLayoutEffect$9(()=>{Ut.current=!0}),reactExports.useCallback(function(Kt,Yt){if(Yt===void 0&&(Yt={}),!Ut.current)return;if(typeof Kt=="number"){kt.go(Kt);return}let Jt=resolveTo(Kt,JSON.parse(Ft),Dt,Yt.relative==="path");dt==null&&et!=="/"&&(Jt.pathname=Jt.pathname==="/"?et:joinPaths([et,Jt.pathname])),(Yt.replace?kt.replace:kt.push)(Jt,Yt.state,Yt)},[et,kt,Ft,Dt,dt])}const OutletContext=reactExports.createContext(null);function useOutlet(dt){let et=reactExports.useContext(RouteContext).outlet;return et&&reactExports.createElement(OutletContext.Provider,{value:dt},et)}function useParams(){let{matches:dt}=reactExports.useContext(RouteContext),et=dt[dt.length-1];return et?et.params:{}}function useResolvedPath(dt,et){let{relative:$t}=et===void 0?{}:et,{future:kt}=reactExports.useContext(NavigationContext),{matches:Tt}=reactExports.useContext(RouteContext),{pathname:Dt}=useLocation(),Ft=JSON.stringify(getResolveToMatches(Tt,kt.v7_relativeSplatPath));return reactExports.useMemo(()=>resolveTo(dt,JSON.parse(Ft),Dt,$t==="path"),[dt,Ft,Dt,$t])}function useRoutes(dt,et){return useRoutesImpl(dt,et)}function useRoutesImpl(dt,et,$t,kt){useInRouterContext()||invariant$2(!1);let{navigator:Tt}=reactExports.useContext(NavigationContext),{matches:Dt}=reactExports.useContext(RouteContext),Ft=Dt[Dt.length-1],Ut=Ft?Ft.params:{};Ft&&Ft.pathname;let Ht=Ft?Ft.pathnameBase:"/";Ft&&Ft.route;let Kt=useLocation(),Yt;if(et){var Jt;let ir=typeof et=="string"?parsePath(et):et;Ht==="/"||(Jt=ir.pathname)!=null&&Jt.startsWith(Ht)||invariant$2(!1),Yt=ir}else Yt=Kt;let Zt=Yt.pathname||"/",er=Zt;if(Ht!=="/"){let ir=Ht.replace(/^\//,"").split("/");er="/"+Zt.replace(/^\//,"").split("/").slice(ir.length).join("/")}let rr=matchRoutes(dt,{pathname:er}),sr=_renderMatches(rr&&rr.map(ir=>Object.assign({},ir,{params:Object.assign({},Ut,ir.params),pathname:joinPaths([Ht,Tt.encodeLocation?Tt.encodeLocation(ir.pathname).pathname:ir.pathname]),pathnameBase:ir.pathnameBase==="/"?Ht:joinPaths([Ht,Tt.encodeLocation?Tt.encodeLocation(ir.pathnameBase).pathname:ir.pathnameBase])})),Dt,$t,kt);return et&&sr?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$3({pathname:"/",search:"",hash:"",state:null,key:"default"},Yt),navigationType:Action$1.Pop}},sr):sr}function DefaultErrorComponent(){let dt=useRouteError(),et=isRouteErrorResponse(dt)?dt.status+" "+dt.statusText:dt instanceof Error?dt.message:JSON.stringify(dt),$t=dt instanceof Error?dt.stack:null,Tt={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},Dt=null;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},et),$t?reactExports.createElement("pre",{style:Tt},$t):null,Dt)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(et){super(et),this.state={location:et.location,revalidation:et.revalidation,error:et.error}}static getDerivedStateFromError(et){return{error:et}}static getDerivedStateFromProps(et,$t){return $t.location!==et.location||$t.revalidation!=="idle"&&et.revalidation==="idle"?{error:et.error,location:et.location,revalidation:et.revalidation}:{error:et.error!==void 0?et.error:$t.error,location:$t.location,revalidation:et.revalidation||$t.revalidation}}componentDidCatch(et,$t){console.error("React Router caught the following error during render",et,$t)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(dt){let{routeContext:et,match:$t,children:kt}=dt,Tt=reactExports.useContext(DataRouterContext);return Tt&&Tt.static&&Tt.staticContext&&($t.route.errorElement||$t.route.ErrorBoundary)&&(Tt.staticContext._deepestRenderedBoundaryId=$t.route.id),reactExports.createElement(RouteContext.Provider,{value:et},kt)}function _renderMatches(dt,et,$t,kt){var Tt;if(et===void 0&&(et=[]),$t===void 0&&($t=null),kt===void 0&&(kt=null),dt==null){var Dt;if(!$t)return null;if($t.errors)dt=$t.matches;else if((Dt=kt)!=null&&Dt.v7_partialHydration&&et.length===0&&!$t.initialized&&$t.matches.length>0)dt=$t.matches;else return null}let Ft=dt,Ut=(Tt=$t)==null?void 0:Tt.errors;if(Ut!=null){let Yt=Ft.findIndex(Jt=>Jt.route.id&&(Ut==null?void 0:Ut[Jt.route.id])!==void 0);Yt>=0||invariant$2(!1),Ft=Ft.slice(0,Math.min(Ft.length,Yt+1))}let Ht=!1,Kt=-1;if($t&&kt&&kt.v7_partialHydration)for(let Yt=0;Yt<Ft.length;Yt++){let Jt=Ft[Yt];if((Jt.route.HydrateFallback||Jt.route.hydrateFallbackElement)&&(Kt=Yt),Jt.route.id){let{loaderData:Zt,errors:er}=$t,rr=Jt.route.loader&&Zt[Jt.route.id]===void 0&&(!er||er[Jt.route.id]===void 0);if(Jt.route.lazy||rr){Ht=!0,Kt>=0?Ft=Ft.slice(0,Kt+1):Ft=[Ft[0]];break}}}return Ft.reduceRight((Yt,Jt,Zt)=>{let er,rr=!1,sr=null,ir=null;$t&&(er=Ut&&Jt.route.id?Ut[Jt.route.id]:void 0,sr=Jt.route.errorElement||defaultErrorElement,Ht&&(Kt<0&&Zt===0?(warningOnce("route-fallback",!1),rr=!0,ir=null):Kt===Zt&&(rr=!0,ir=Jt.route.hydrateFallbackElement||null)));let nr=et.concat(Ft.slice(0,Zt+1)),or=()=>{let lr;return er?lr=sr:rr?lr=ir:Jt.route.Component?lr=reactExports.createElement(Jt.route.Component,null):Jt.route.element?lr=Jt.route.element:lr=Yt,reactExports.createElement(RenderedRoute,{match:Jt,routeContext:{outlet:Yt,matches:nr,isDataRoute:$t!=null},children:lr})};return $t&&(Jt.route.ErrorBoundary||Jt.route.errorElement||Zt===0)?reactExports.createElement(RenderErrorBoundary,{location:$t.location,revalidation:$t.revalidation,component:sr,error:er,children:or(),routeContext:{outlet:null,matches:nr,isDataRoute:!0}}):or()},null)}var DataRouterHook$1=function(dt){return dt.UseBlocker="useBlocker",dt.UseRevalidator="useRevalidator",dt.UseNavigateStable="useNavigate",dt}(DataRouterHook$1||{}),DataRouterStateHook$1=function(dt){return dt.UseBlocker="useBlocker",dt.UseLoaderData="useLoaderData",dt.UseActionData="useActionData",dt.UseRouteError="useRouteError",dt.UseNavigation="useNavigation",dt.UseRouteLoaderData="useRouteLoaderData",dt.UseMatches="useMatches",dt.UseRevalidator="useRevalidator",dt.UseNavigateStable="useNavigate",dt.UseRouteId="useRouteId",dt}(DataRouterStateHook$1||{});function useDataRouterContext(dt){let et=reactExports.useContext(DataRouterContext);return et||invariant$2(!1),et}function useDataRouterState(dt){let et=reactExports.useContext(DataRouterStateContext);return et||invariant$2(!1),et}function useRouteContext(dt){let et=reactExports.useContext(RouteContext);return et||invariant$2(!1),et}function useCurrentRouteId(dt){let et=useRouteContext(),$t=et.matches[et.matches.length-1];return $t.route.id||invariant$2(!1),$t.route.id}function useRouteError(){var dt;let et=reactExports.useContext(RouteErrorContext),$t=useDataRouterState(DataRouterStateHook$1.UseRouteError),kt=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return et!==void 0?et:(dt=$t.errors)==null?void 0:dt[kt]}function useNavigateStable(){let{router:dt}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),et=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),$t=reactExports.useRef(!1);return useIsomorphicLayoutEffect$9(()=>{$t.current=!0}),reactExports.useCallback(function(Tt,Dt){Dt===void 0&&(Dt={}),$t.current&&(typeof Tt=="number"?dt.navigate(Tt):dt.navigate(Tt,_extends$3({fromRouteId:et},Dt)))},[dt,et])}const alreadyWarned$1={};function warningOnce(dt,et,$t){!et&&!alreadyWarned$1[dt]&&(alreadyWarned$1[dt]=!0)}const alreadyWarned={};function warnOnce(dt,et){alreadyWarned[et]||(alreadyWarned[et]=!0,console.warn(et))}const logDeprecation=(dt,et,$t)=>warnOnce(dt," React Router Future Flag Warning: "+et+". "+("You can use the `"+dt+"` future flag to opt-in early. ")+("For more information, see "+$t+"."));function logV6DeprecationWarnings(dt,et){(dt==null?void 0:dt.v7_startTransition)===void 0&&logDeprecation("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),(dt==null?void 0:dt.v7_relativeSplatPath)===void 0&&(!et||!et.v7_relativeSplatPath)&&logDeprecation("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"),et&&(et.v7_fetcherPersist===void 0&&logDeprecation("v7_fetcherPersist","The persistence behavior of fetchers is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist"),et.v7_normalizeFormMethod===void 0&&logDeprecation("v7_normalizeFormMethod","Casing of `formMethod` fields is being normalized to uppercase in v7","https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod"),et.v7_partialHydration===void 0&&logDeprecation("v7_partialHydration","`RouterProvider` hydration behavior is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_partialhydration"),et.v7_skipActionErrorRevalidation===void 0&&logDeprecation("v7_skipActionErrorRevalidation","The revalidation behavior after 4xx/5xx `action` responses is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation"))}function Navigate(dt){let{to:et,replace:$t,state:kt,relative:Tt}=dt;useInRouterContext()||invariant$2(!1);let{future:Dt,static:Ft}=reactExports.useContext(NavigationContext),{matches:Ut}=reactExports.useContext(RouteContext),{pathname:Ht}=useLocation(),Kt=useNavigate(),Yt=resolveTo(et,getResolveToMatches(Ut,Dt.v7_relativeSplatPath),Ht,Tt==="path"),Jt=JSON.stringify(Yt);return reactExports.useEffect(()=>Kt(JSON.parse(Jt),{replace:$t,state:kt,relative:Tt}),[Kt,Jt,Tt,$t,kt]),null}function Outlet(dt){return useOutlet(dt.context)}function Route(dt){invariant$2(!1)}function Router(dt){let{basename:et="/",children:$t=null,location:kt,navigationType:Tt=Action$1.Pop,navigator:Dt,static:Ft=!1,future:Ut}=dt;useInRouterContext()&&invariant$2(!1);let Ht=et.replace(/^\/*/,"/"),Kt=reactExports.useMemo(()=>({basename:Ht,navigator:Dt,static:Ft,future:_extends$3({v7_relativeSplatPath:!1},Ut)}),[Ht,Ut,Dt,Ft]);typeof kt=="string"&&(kt=parsePath(kt));let{pathname:Yt="/",search:Jt="",hash:Zt="",state:er=null,key:rr="default"}=kt,sr=reactExports.useMemo(()=>{let ir=stripBasename(Yt,Ht);return ir==null?null:{location:{pathname:ir,search:Jt,hash:Zt,state:er,key:rr},navigationType:Tt}},[Ht,Yt,Jt,Zt,er,rr,Tt]);return sr==null?null:reactExports.createElement(NavigationContext.Provider,{value:Kt},reactExports.createElement(LocationContext.Provider,{children:$t,value:sr}))}function Routes(dt){let{children:et,location:$t}=dt;return useRoutes(createRoutesFromChildren(et),$t)}new Promise(()=>{});function createRoutesFromChildren(dt,et){et===void 0&&(et=[]);let $t=[];return reactExports.Children.forEach(dt,(kt,Tt)=>{if(!reactExports.isValidElement(kt))return;let Dt=[...et,Tt];if(kt.type===reactExports.Fragment){$t.push.apply($t,createRoutesFromChildren(kt.props.children,Dt));return}kt.type!==Route&&invariant$2(!1),!kt.props.index||!kt.props.children||invariant$2(!1);let Ft={id:kt.props.id||Dt.join("-"),caseSensitive:kt.props.caseSensitive,element:kt.props.element,Component:kt.props.Component,index:kt.props.index,path:kt.props.path,loader:kt.props.loader,action:kt.props.action,errorElement:kt.props.errorElement,ErrorBoundary:kt.props.ErrorBoundary,hasErrorBoundary:kt.props.ErrorBoundary!=null||kt.props.errorElement!=null,shouldRevalidate:kt.props.shouldRevalidate,handle:kt.props.handle,lazy:kt.props.lazy};kt.props.children&&(Ft.children=createRoutesFromChildren(kt.props.children,Dt)),$t.push(Ft)}),$t}/**
 * React Router DOM v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(dt){for(var et=1;et<arguments.length;et++){var $t=arguments[et];for(var kt in $t)Object.prototype.hasOwnProperty.call($t,kt)&&(dt[kt]=$t[kt])}return dt},_extends$2.apply(this,arguments)}function _objectWithoutPropertiesLoose$2(dt,et){if(dt==null)return{};var $t={},kt=Object.keys(dt),Tt,Dt;for(Dt=0;Dt<kt.length;Dt++)Tt=kt[Dt],!(et.indexOf(Tt)>=0)&&($t[Tt]=dt[Tt]);return $t}function isModifiedEvent(dt){return!!(dt.metaKey||dt.altKey||dt.ctrlKey||dt.shiftKey)}function shouldProcessLinkClick(dt,et){return dt.button===0&&(!et||et==="_self")&&!isModifiedEvent(dt)}function createSearchParams(dt){return dt===void 0&&(dt=""),new URLSearchParams(typeof dt=="string"||Array.isArray(dt)||dt instanceof URLSearchParams?dt:Object.keys(dt).reduce((et,$t)=>{let kt=dt[$t];return et.concat(Array.isArray(kt)?kt.map(Tt=>[$t,Tt]):[[$t,kt]])},[]))}function getSearchParamsForLocation(dt,et){let $t=createSearchParams(dt);return et&&et.forEach((kt,Tt)=>{$t.has(Tt)||et.getAll(Tt).forEach(Dt=>{$t.append(Tt,Dt)})}),$t}const _excluded$3=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const START_TRANSITION="startTransition",startTransitionImpl=t$3[START_TRANSITION];function BrowserRouter(dt){let{basename:et,children:$t,future:kt,window:Tt}=dt,Dt=reactExports.useRef();Dt.current==null&&(Dt.current=createBrowserHistory({window:Tt,v5Compat:!0}));let Ft=Dt.current,[Ut,Ht]=reactExports.useState({action:Ft.action,location:Ft.location}),{v7_startTransition:Kt}=kt||{},Yt=reactExports.useCallback(Jt=>{Kt&&startTransitionImpl?startTransitionImpl(()=>Ht(Jt)):Ht(Jt)},[Ht,Kt]);return reactExports.useLayoutEffect(()=>Ft.listen(Yt),[Ft,Yt]),reactExports.useEffect(()=>logV6DeprecationWarnings(kt),[kt]),reactExports.createElement(Router,{basename:et,children:$t,location:Ut.location,navigationType:Ut.action,navigator:Ft,future:kt})}const isBrowser$2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link$2=reactExports.forwardRef(function(et,$t){let{onClick:kt,relative:Tt,reloadDocument:Dt,replace:Ft,state:Ut,target:Ht,to:Kt,preventScrollReset:Yt,viewTransition:Jt}=et,Zt=_objectWithoutPropertiesLoose$2(et,_excluded$3),{basename:er}=reactExports.useContext(NavigationContext),rr,sr=!1;if(typeof Kt=="string"&&ABSOLUTE_URL_REGEX.test(Kt)&&(rr=Kt,isBrowser$2))try{let lr=new URL(window.location.href),cr=Kt.startsWith("//")?new URL(lr.protocol+Kt):new URL(Kt),dr=stripBasename(cr.pathname,er);cr.origin===lr.origin&&dr!=null?Kt=dr+cr.search+cr.hash:sr=!0}catch{}let ir=useHref(Kt,{relative:Tt}),nr=useLinkClickHandler(Kt,{replace:Ft,state:Ut,target:Ht,preventScrollReset:Yt,relative:Tt,viewTransition:Jt});function or(lr){kt&&kt(lr),lr.defaultPrevented||nr(lr)}return reactExports.createElement("a",_extends$2({},Zt,{href:rr||ir,onClick:sr||Dt?kt:or,ref:$t,target:Ht}))});var DataRouterHook;(function(dt){dt.UseScrollRestoration="useScrollRestoration",dt.UseSubmit="useSubmit",dt.UseSubmitFetcher="useSubmitFetcher",dt.UseFetcher="useFetcher",dt.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(dt){dt.UseFetcher="useFetcher",dt.UseFetchers="useFetchers",dt.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useLinkClickHandler(dt,et){let{target:$t,replace:kt,state:Tt,preventScrollReset:Dt,relative:Ft,viewTransition:Ut}=et===void 0?{}:et,Ht=useNavigate(),Kt=useLocation(),Yt=useResolvedPath(dt,{relative:Ft});return reactExports.useCallback(Jt=>{if(shouldProcessLinkClick(Jt,$t)){Jt.preventDefault();let Zt=kt!==void 0?kt:createPath(Kt)===createPath(Yt);Ht(dt,{replace:Zt,state:Tt,preventScrollReset:Dt,relative:Ft,viewTransition:Ut})}},[Kt,Ht,Yt,kt,Tt,$t,dt,Dt,Ft,Ut])}function useSearchParams(dt){let et=reactExports.useRef(createSearchParams(dt)),$t=reactExports.useRef(!1),kt=useLocation(),Tt=reactExports.useMemo(()=>getSearchParamsForLocation(kt.search,$t.current?null:et.current),[kt.search]),Dt=useNavigate(),Ft=reactExports.useCallback((Ut,Ht)=>{const Kt=createSearchParams(typeof Ut=="function"?Ut(Tt):Ut);$t.current=!0,Dt("?"+Kt,Ht)},[Dt,Tt]);return[Tt,Ft]}function createDOMMotionComponentProxy(dt){if(typeof Proxy>"u")return dt;const et=new Map,$t=(...kt)=>dt(...kt);return new Proxy($t,{get:(kt,Tt)=>Tt==="create"?dt:(et.has(Tt)||et.set(Tt,dt(Tt)),et.get(Tt))})}function isAnimationControls(dt){return dt!==null&&typeof dt=="object"&&typeof dt.start=="function"}const isKeyframesTarget=dt=>Array.isArray(dt);function shallowCompare(dt,et){if(!Array.isArray(et))return!1;const $t=et.length;if($t!==dt.length)return!1;for(let kt=0;kt<$t;kt++)if(et[kt]!==dt[kt])return!1;return!0}function isVariantLabel(dt){return typeof dt=="string"||Array.isArray(dt)}function getValueState(dt){const et=[{},{}];return dt==null||dt.values.forEach(($t,kt)=>{et[0][kt]=$t.get(),et[1][kt]=$t.getVelocity()}),et}function resolveVariantFromProps(dt,et,$t,kt){if(typeof et=="function"){const[Tt,Dt]=getValueState(kt);et=et($t!==void 0?$t:dt.custom,Tt,Dt)}if(typeof et=="string"&&(et=dt.variants&&dt.variants[et]),typeof et=="function"){const[Tt,Dt]=getValueState(kt);et=et($t!==void 0?$t:dt.custom,Tt,Dt)}return et}function resolveVariant(dt,et,$t){const kt=dt.getProps();return resolveVariantFromProps(kt,et,$t!==void 0?$t:kt.custom,dt)}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder],transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder),secondsToMilliseconds=dt=>dt*1e3,millisecondsToSeconds=dt=>dt/1e3,underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=dt=>({type:"spring",stiffness:550,damping:dt===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(dt,{keyframes:et})=>et.length>2?keyframesTransition:transformProps.has(dt)?dt.startsWith("scale")?criticallyDampedSpring(et[1]):underDampedSpring:ease;function getValueTransition(dt,et){return dt?dt[et]||dt.default||dt:void 0}const MotionGlobalConfig={skipAnimations:!1,useManualTiming:!1},isNotNull=dt=>dt!==null;function getFinalKeyframe(dt,{repeat:et,repeatType:$t="loop"},kt){const Tt=dt.filter(isNotNull),Dt=et&&$t!=="loop"&&et%2===1?0:Tt.length-1;return!Dt||kt===void 0?Tt[Dt]:kt}const noop$c=dt=>dt;let invariant$1=noop$c;function createRenderStep(dt){let et=new Set,$t=new Set,kt=!1,Tt=!1;const Dt=new WeakSet;let Ft={delta:0,timestamp:0,isProcessing:!1};function Ut(Kt){Dt.has(Kt)&&(Ht.schedule(Kt),dt()),Kt(Ft)}const Ht={schedule:(Kt,Yt=!1,Jt=!1)=>{const er=Jt&&kt?et:$t;return Yt&&Dt.add(Kt),er.has(Kt)||er.add(Kt),Kt},cancel:Kt=>{$t.delete(Kt),Dt.delete(Kt)},process:Kt=>{if(Ft=Kt,kt){Tt=!0;return}kt=!0,[et,$t]=[$t,et],et.forEach(Ut),et.clear(),kt=!1,Tt&&(Tt=!1,Ht.process(Kt))}};return Ht}const stepsOrder=["read","resolveKeyframes","update","preRender","render","postRender"],maxElapsed=40;function createRenderBatcher(dt,et){let $t=!1,kt=!0;const Tt={delta:0,timestamp:0,isProcessing:!1},Dt=()=>$t=!0,Ft=stepsOrder.reduce((nr,or)=>(nr[or]=createRenderStep(Dt),nr),{}),{read:Ut,resolveKeyframes:Ht,update:Kt,preRender:Yt,render:Jt,postRender:Zt}=Ft,er=()=>{const nr=performance.now();$t=!1,Tt.delta=kt?1e3/60:Math.max(Math.min(nr-Tt.timestamp,maxElapsed),1),Tt.timestamp=nr,Tt.isProcessing=!0,Ut.process(Tt),Ht.process(Tt),Kt.process(Tt),Yt.process(Tt),Jt.process(Tt),Zt.process(Tt),Tt.isProcessing=!1,$t&&et&&(kt=!1,dt(er))},rr=()=>{$t=!0,kt=!0,Tt.isProcessing||dt(er)};return{schedule:stepsOrder.reduce((nr,or)=>{const lr=Ft[or];return nr[or]=(cr,dr=!1,ur=!1)=>($t||rr(),lr.schedule(cr,dr,ur)),nr},{}),cancel:nr=>{for(let or=0;or<stepsOrder.length;or++)Ft[stepsOrder[or]].cancel(nr)},state:Tt,steps:Ft}}const{schedule:frame,cancel:cancelFrame$1,state:frameData,steps:frameSteps}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop$c,!0),calcBezier=(dt,et,$t)=>(((1-3*$t+3*et)*dt+(3*$t-6*et))*dt+3*et)*dt,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(dt,et,$t,kt,Tt){let Dt,Ft,Ut=0;do Ft=et+($t-et)/2,Dt=calcBezier(Ft,kt,Tt)-dt,Dt>0?$t=Ft:et=Ft;while(Math.abs(Dt)>subdivisionPrecision&&++Ut<subdivisionMaxIterations);return Ft}function cubicBezier(dt,et,$t,kt){if(dt===et&&$t===kt)return noop$c;const Tt=Dt=>binarySubdivide(Dt,0,1,dt,$t);return Dt=>Dt===0||Dt===1?Dt:calcBezier(Tt(Dt),et,kt)}const mirrorEasing=dt=>et=>et<=.5?dt(2*et)/2:(2-dt(2*(1-et)))/2,reverseEasing=dt=>et=>1-dt(1-et),backOut=cubicBezier(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=dt=>(dt*=2)<1?.5*backIn(dt):.5*(2-Math.pow(2,-10*(dt-1))),circIn=dt=>1-Math.sin(Math.acos(dt)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circIn),isZeroValueString=dt=>/^0[^.\s]+$/u.test(dt);function isNone(dt){return typeof dt=="number"?dt===0:dt!==null?dt==="none"||dt==="0"||isZeroValueString(dt):!0}const isNumericalString=dt=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(dt),checkStringStartsWith=dt=>et=>typeof et=="string"&&et.startsWith(dt),isCSSVariableName=checkStringStartsWith("--"),startsAsVariableToken=checkStringStartsWith("var(--"),isCSSVariableToken=dt=>startsAsVariableToken(dt)?singleCssVariableRegex.test(dt.split("/*")[0].trim()):!1,singleCssVariableRegex=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,splitCSSVariableRegex=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function parseCSSVariable$6(dt){const et=splitCSSVariableRegex.exec(dt);if(!et)return[,];const[,$t,kt,Tt]=et;return[`--${$t??kt}`,Tt]}function getVariableValue(dt,et,$t=1){const[kt,Tt]=parseCSSVariable$6(dt);if(!kt)return;const Dt=window.getComputedStyle(et).getPropertyValue(kt);if(Dt){const Ft=Dt.trim();return isNumericalString(Ft)?parseFloat(Ft):Ft}return isCSSVariableToken(Tt)?getVariableValue(Tt,et,$t+1):Tt}const clamp$6=(dt,et,$t)=>$t>et?et:$t<dt?dt:$t,number$3={test:dt=>typeof dt=="number",parse:parseFloat,transform:dt=>dt},alpha$1={...number$3,transform:dt=>clamp$6(0,1,dt)},scale={...number$3,default:1},createUnitType=dt=>({test:et=>typeof et=="string"&&et.endsWith(dt)&&et.split(" ").length===1,parse:parseFloat,transform:et=>`${et}${dt}`}),degrees$1=createUnitType("deg"),percent=createUnitType("%"),px=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:dt=>percent.parse(dt)/100,transform:dt=>percent.transform(dt*100)},positionalKeys=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),isNumOrPxType=dt=>dt===number$3||dt===px,getPosFromMatrix=(dt,et)=>parseFloat(dt.split(", ")[et]),getTranslateFromMatrix=(dt,et)=>($t,{transform:kt})=>{if(kt==="none"||!kt)return 0;const Tt=kt.match(/^matrix3d\((.+)\)$/u);if(Tt)return getPosFromMatrix(Tt[1],et);{const Dt=kt.match(/^matrix\((.+)\)$/u);return Dt?getPosFromMatrix(Dt[1],dt):0}},transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(dt=>!transformKeys.has(dt));function removeNonTranslationalTransform(dt){const et=[];return nonTranslationalTransformKeys.forEach($t=>{const kt=dt.getValue($t);kt!==void 0&&(et.push([$t,kt.get()]),kt.set($t.startsWith("scale")?1:0))}),et}const positionalValues={width:({x:dt},{paddingLeft:et="0",paddingRight:$t="0"})=>dt.max-dt.min-parseFloat(et)-parseFloat($t),height:({y:dt},{paddingTop:et="0",paddingBottom:$t="0"})=>dt.max-dt.min-parseFloat(et)-parseFloat($t),top:(dt,{top:et})=>parseFloat(et),left:(dt,{left:et})=>parseFloat(et),bottom:({y:dt},{top:et})=>parseFloat(et)+(dt.max-dt.min),right:({x:dt},{left:et})=>parseFloat(et)+(dt.max-dt.min),x:getTranslateFromMatrix(4,13),y:getTranslateFromMatrix(5,14)};positionalValues.translateX=positionalValues.x;positionalValues.translateY=positionalValues.y;const testValueType=dt=>et=>et.test(dt),auto={test:dt=>dt==="auto",parse:dt=>dt},dimensionValueTypes=[number$3,px,percent,degrees$1,vw,vh,auto],findDimensionValueType=dt=>dimensionValueTypes.find(testValueType(dt)),toResolve=new Set;let isScheduled=!1,anyNeedsMeasurement=!1;function measureAllKeyframes(){if(anyNeedsMeasurement){const dt=Array.from(toResolve).filter(kt=>kt.needsMeasurement),et=new Set(dt.map(kt=>kt.element)),$t=new Map;et.forEach(kt=>{const Tt=removeNonTranslationalTransform(kt);Tt.length&&($t.set(kt,Tt),kt.render())}),dt.forEach(kt=>kt.measureInitialState()),et.forEach(kt=>{kt.render();const Tt=$t.get(kt);Tt&&Tt.forEach(([Dt,Ft])=>{var Ut;(Ut=kt.getValue(Dt))===null||Ut===void 0||Ut.set(Ft)})}),dt.forEach(kt=>kt.measureEndState()),dt.forEach(kt=>{kt.suspendedScrollY!==void 0&&window.scrollTo(0,kt.suspendedScrollY)})}anyNeedsMeasurement=!1,isScheduled=!1,toResolve.forEach(dt=>dt.complete()),toResolve.clear()}function readAllKeyframes(){toResolve.forEach(dt=>{dt.readKeyframes(),dt.needsMeasurement&&(anyNeedsMeasurement=!0)})}function flushKeyframeResolvers(){readAllKeyframes(),measureAllKeyframes()}class KeyframeResolver{constructor(et,$t,kt,Tt,Dt,Ft=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...et],this.onComplete=$t,this.name=kt,this.motionValue=Tt,this.element=Dt,this.isAsync=Ft}scheduleResolve(){this.isScheduled=!0,this.isAsync?(toResolve.add(this),isScheduled||(isScheduled=!0,frame.read(readAllKeyframes),frame.resolveKeyframes(measureAllKeyframes))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:et,name:$t,element:kt,motionValue:Tt}=this;for(let Dt=0;Dt<et.length;Dt++)if(et[Dt]===null)if(Dt===0){const Ft=Tt==null?void 0:Tt.get(),Ut=et[et.length-1];if(Ft!==void 0)et[0]=Ft;else if(kt&&$t){const Ht=kt.readValue($t,Ut);Ht!=null&&(et[0]=Ht)}et[0]===void 0&&(et[0]=Ut),Tt&&Ft===void 0&&Tt.set(et[0])}else et[Dt]=et[Dt-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),toResolve.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,toResolve.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const sanitize=dt=>Math.round(dt*1e5)/1e5,floatRegex=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function isNullish(dt){return dt==null}const singleColorRegex=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,isColorString=(dt,et)=>$t=>!!(typeof $t=="string"&&singleColorRegex.test($t)&&$t.startsWith(dt)||et&&!isNullish($t)&&Object.prototype.hasOwnProperty.call($t,et)),splitColor=(dt,et,$t)=>kt=>{if(typeof kt!="string")return kt;const[Tt,Dt,Ft,Ut]=kt.match(floatRegex);return{[dt]:parseFloat(Tt),[et]:parseFloat(Dt),[$t]:parseFloat(Ft),alpha:Ut!==void 0?parseFloat(Ut):1}},clampRgbUnit=dt=>clamp$6(0,255,dt),rgbUnit={...number$3,transform:dt=>Math.round(clampRgbUnit(dt))},rgba$7={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:dt,green:et,blue:$t,alpha:kt=1})=>"rgba("+rgbUnit.transform(dt)+", "+rgbUnit.transform(et)+", "+rgbUnit.transform($t)+", "+sanitize(alpha$1.transform(kt))+")"};function parseHex(dt){let et="",$t="",kt="",Tt="";return dt.length>5?(et=dt.substring(1,3),$t=dt.substring(3,5),kt=dt.substring(5,7),Tt=dt.substring(7,9)):(et=dt.substring(1,2),$t=dt.substring(2,3),kt=dt.substring(3,4),Tt=dt.substring(4,5),et+=et,$t+=$t,kt+=kt,Tt+=Tt),{red:parseInt(et,16),green:parseInt($t,16),blue:parseInt(kt,16),alpha:Tt?parseInt(Tt,16)/255:1}}const hex$1={test:isColorString("#"),parse:parseHex,transform:rgba$7.transform},hsla$7={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:dt,saturation:et,lightness:$t,alpha:kt=1})=>"hsla("+Math.round(dt)+", "+percent.transform(sanitize(et))+", "+percent.transform(sanitize($t))+", "+sanitize(alpha$1.transform(kt))+")"},color$1={test:dt=>rgba$7.test(dt)||hex$1.test(dt)||hsla$7.test(dt),parse:dt=>rgba$7.test(dt)?rgba$7.parse(dt):hsla$7.test(dt)?hsla$7.parse(dt):hex$1.parse(dt),transform:dt=>typeof dt=="string"?dt:dt.hasOwnProperty("red")?rgba$7.transform(dt):hsla$7.transform(dt)},colorRegex$6=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function test$1(dt){var et,$t;return isNaN(dt)&&typeof dt=="string"&&(((et=dt.match(floatRegex))===null||et===void 0?void 0:et.length)||0)+((($t=dt.match(colorRegex$6))===null||$t===void 0?void 0:$t.length)||0)>0}const NUMBER_TOKEN="number",COLOR_TOKEN="color",VAR_TOKEN="var",VAR_FUNCTION_TOKEN="var(",SPLIT_TOKEN="${}",complexRegex=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function analyseComplexValue(dt){const et=dt.toString(),$t=[],kt={color:[],number:[],var:[]},Tt=[];let Dt=0;const Ut=et.replace(complexRegex,Ht=>(color$1.test(Ht)?(kt.color.push(Dt),Tt.push(COLOR_TOKEN),$t.push(color$1.parse(Ht))):Ht.startsWith(VAR_FUNCTION_TOKEN)?(kt.var.push(Dt),Tt.push(VAR_TOKEN),$t.push(Ht)):(kt.number.push(Dt),Tt.push(NUMBER_TOKEN),$t.push(parseFloat(Ht))),++Dt,SPLIT_TOKEN)).split(SPLIT_TOKEN);return{values:$t,split:Ut,indexes:kt,types:Tt}}function parseComplexValue(dt){return analyseComplexValue(dt).values}function createTransformer(dt){const{split:et,types:$t}=analyseComplexValue(dt),kt=et.length;return Tt=>{let Dt="";for(let Ft=0;Ft<kt;Ft++)if(Dt+=et[Ft],Tt[Ft]!==void 0){const Ut=$t[Ft];Ut===NUMBER_TOKEN?Dt+=sanitize(Tt[Ft]):Ut===COLOR_TOKEN?Dt+=color$1.transform(Tt[Ft]):Dt+=Tt[Ft]}return Dt}}const convertNumbersToZero=dt=>typeof dt=="number"?0:dt;function getAnimatableNone$1(dt){const et=parseComplexValue(dt);return createTransformer(dt)(et.map(convertNumbersToZero))}const complex={test:test$1,parse:parseComplexValue,createTransformer,getAnimatableNone:getAnimatableNone$1},maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(dt){const[et,$t]=dt.slice(0,-1).split("(");if(et==="drop-shadow")return dt;const[kt]=$t.match(floatRegex)||[];if(!kt)return dt;const Tt=$t.replace(kt,"");let Dt=maxDefaults.has(et)?1:0;return kt!==$t&&(Dt*=100),et+"("+Dt+Tt+")"}const functionRegex=/\b([a-z-]*)\(.*?\)/gu,filter$1={...complex,getAnimatableNone:dt=>{const et=dt.match(functionRegex);return et?et.map(applyDefaultFilter).join(" "):dt}},browserNumberValueTypes={borderWidth:px,borderTopWidth:px,borderRightWidth:px,borderBottomWidth:px,borderLeftWidth:px,borderRadius:px,radius:px,borderTopLeftRadius:px,borderTopRightRadius:px,borderBottomRightRadius:px,borderBottomLeftRadius:px,width:px,maxWidth:px,height:px,maxHeight:px,top:px,right:px,bottom:px,left:px,padding:px,paddingTop:px,paddingRight:px,paddingBottom:px,paddingLeft:px,margin:px,marginTop:px,marginRight:px,marginBottom:px,marginLeft:px,backgroundPositionX:px,backgroundPositionY:px},transformValueTypes={rotate:degrees$1,rotateX:degrees$1,rotateY:degrees$1,rotateZ:degrees$1,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees$1,skewX:degrees$1,skewY:degrees$1,distance:px,translateX:px,translateY:px,translateZ:px,x:px,y:px,z:px,perspective:px,transformPerspective:px,opacity:alpha$1,originX:progressPercentage,originY:progressPercentage,originZ:px},int={...number$3,transform:Math.round},numberValueTypes={...browserNumberValueTypes,...transformValueTypes,zIndex:int,size:px,fillOpacity:alpha$1,strokeOpacity:alpha$1,numOctaves:int},defaultValueTypes={...numberValueTypes,color:color$1,backgroundColor:color$1,outlineColor:color$1,fill:color$1,stroke:color$1,borderColor:color$1,borderTopColor:color$1,borderRightColor:color$1,borderBottomColor:color$1,borderLeftColor:color$1,filter:filter$1,WebkitFilter:filter$1},getDefaultValueType=dt=>defaultValueTypes[dt];function getAnimatableNone(dt,et){let $t=getDefaultValueType(dt);return $t!==filter$1&&($t=complex),$t.getAnimatableNone?$t.getAnimatableNone(et):void 0}const invalidTemplates=new Set(["auto","none","0"]);function makeNoneKeyframesAnimatable(dt,et,$t){let kt=0,Tt;for(;kt<dt.length&&!Tt;){const Dt=dt[kt];typeof Dt=="string"&&!invalidTemplates.has(Dt)&&analyseComplexValue(Dt).values.length&&(Tt=dt[kt]),kt++}if(Tt&&$t)for(const Dt of et)dt[Dt]=getAnimatableNone($t,Tt)}class DOMKeyframesResolver extends KeyframeResolver{constructor(et,$t,kt,Tt,Dt){super(et,$t,kt,Tt,Dt,!0)}readKeyframes(){const{unresolvedKeyframes:et,element:$t,name:kt}=this;if(!$t||!$t.current)return;super.readKeyframes();for(let Ht=0;Ht<et.length;Ht++){let Kt=et[Ht];if(typeof Kt=="string"&&(Kt=Kt.trim(),isCSSVariableToken(Kt))){const Yt=getVariableValue(Kt,$t.current);Yt!==void 0&&(et[Ht]=Yt),Ht===et.length-1&&(this.finalKeyframe=Kt)}}if(this.resolveNoneKeyframes(),!positionalKeys.has(kt)||et.length!==2)return;const[Tt,Dt]=et,Ft=findDimensionValueType(Tt),Ut=findDimensionValueType(Dt);if(Ft!==Ut)if(isNumOrPxType(Ft)&&isNumOrPxType(Ut))for(let Ht=0;Ht<et.length;Ht++){const Kt=et[Ht];typeof Kt=="string"&&(et[Ht]=parseFloat(Kt))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:et,name:$t}=this,kt=[];for(let Tt=0;Tt<et.length;Tt++)isNone(et[Tt])&&kt.push(Tt);kt.length&&makeNoneKeyframesAnimatable(et,kt,$t)}measureInitialState(){const{element:et,unresolvedKeyframes:$t,name:kt}=this;if(!et||!et.current)return;kt==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=positionalValues[kt](et.measureViewportBox(),window.getComputedStyle(et.current)),$t[0]=this.measuredOrigin;const Tt=$t[$t.length-1];Tt!==void 0&&et.getValue(kt,Tt).jump(Tt,!1)}measureEndState(){var et;const{element:$t,name:kt,unresolvedKeyframes:Tt}=this;if(!$t||!$t.current)return;const Dt=$t.getValue(kt);Dt&&Dt.jump(this.measuredOrigin,!1);const Ft=Tt.length-1,Ut=Tt[Ft];Tt[Ft]=positionalValues[kt]($t.measureViewportBox(),window.getComputedStyle($t.current)),Ut!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=Ut),!((et=this.removedTransforms)===null||et===void 0)&&et.length&&this.removedTransforms.forEach(([Ht,Kt])=>{$t.getValue(Ht).set(Kt)}),this.resolveNoneKeyframes()}}function isGenerator(dt){return typeof dt=="function"}let now;function clearTime(){now=void 0}const time$1={now:()=>(now===void 0&&time$1.set(frameData.isProcessing||MotionGlobalConfig.useManualTiming?frameData.timestamp:performance.now()),now),set:dt=>{now=dt,queueMicrotask(clearTime)}},isAnimatable=(dt,et)=>et==="zIndex"?!1:!!(typeof dt=="number"||Array.isArray(dt)||typeof dt=="string"&&(complex.test(dt)||dt==="0")&&!dt.startsWith("url("));function hasKeyframesChanged(dt){const et=dt[0];if(dt.length===1)return!0;for(let $t=0;$t<dt.length;$t++)if(dt[$t]!==et)return!0}function canAnimate(dt,et,$t,kt){const Tt=dt[0];if(Tt===null)return!1;if(et==="display"||et==="visibility")return!0;const Dt=dt[dt.length-1],Ft=isAnimatable(Tt,et),Ut=isAnimatable(Dt,et);return!Ft||!Ut?!1:hasKeyframesChanged(dt)||($t==="spring"||isGenerator($t))&&kt}const MAX_RESOLVE_DELAY=40;class BaseAnimation{constructor({autoplay:et=!0,delay:$t=0,type:kt="keyframes",repeat:Tt=0,repeatDelay:Dt=0,repeatType:Ft="loop",...Ut}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=time$1.now(),this.options={autoplay:et,delay:$t,type:kt,repeat:Tt,repeatDelay:Dt,repeatType:Ft,...Ut},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>MAX_RESOLVE_DELAY?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&flushKeyframeResolvers(),this._resolved}onKeyframesResolved(et,$t){this.resolvedAt=time$1.now(),this.hasAttemptedResolve=!0;const{name:kt,type:Tt,velocity:Dt,delay:Ft,onComplete:Ut,onUpdate:Ht,isGenerator:Kt}=this.options;if(!Kt&&!canAnimate(et,kt,Tt,Dt))if(Ft)this.options.duration=0;else{Ht==null||Ht(getFinalKeyframe(et,this.options,$t)),Ut==null||Ut(),this.resolveFinishedPromise();return}const Yt=this.initPlayback(et,$t);Yt!==!1&&(this._resolved={keyframes:et,finalKeyframe:$t,...Yt},this.onPostResolved())}onPostResolved(){}then(et,$t){return this.currentFinishedPromise.then(et,$t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(et=>{this.resolveFinishedPromise=et})}}const progress=(dt,et,$t)=>{const kt=et-dt;return kt===0?1:($t-dt)/kt},generateLinearEasing=(dt,et,$t=10)=>{let kt="";const Tt=Math.max(Math.round(et/$t),2);for(let Dt=0;Dt<Tt;Dt++)kt+=dt(progress(0,Tt-1,Dt))+", ";return`linear(${kt.substring(0,kt.length-2)})`};function velocityPerSecond(dt,et){return et?dt*(1e3/et):0}const velocitySampleDuration=5;function calcGeneratorVelocity(dt,et,$t){const kt=Math.max(et-velocitySampleDuration,0);return velocityPerSecond($t-dt(kt),et-kt)}const springDefaults={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},safeMin=.001;function findSpring({duration:dt=springDefaults.duration,bounce:et=springDefaults.bounce,velocity:$t=springDefaults.velocity,mass:kt=springDefaults.mass}){let Tt,Dt,Ft=1-et;Ft=clamp$6(springDefaults.minDamping,springDefaults.maxDamping,Ft),dt=clamp$6(springDefaults.minDuration,springDefaults.maxDuration,millisecondsToSeconds(dt)),Ft<1?(Tt=Kt=>{const Yt=Kt*Ft,Jt=Yt*dt,Zt=Yt-$t,er=calcAngularFreq(Kt,Ft),rr=Math.exp(-Jt);return safeMin-Zt/er*rr},Dt=Kt=>{const Jt=Kt*Ft*dt,Zt=Jt*$t+$t,er=Math.pow(Ft,2)*Math.pow(Kt,2)*dt,rr=Math.exp(-Jt),sr=calcAngularFreq(Math.pow(Kt,2),Ft);return(-Tt(Kt)+safeMin>0?-1:1)*((Zt-er)*rr)/sr}):(Tt=Kt=>{const Yt=Math.exp(-Kt*dt),Jt=(Kt-$t)*dt+1;return-safeMin+Yt*Jt},Dt=Kt=>{const Yt=Math.exp(-Kt*dt),Jt=($t-Kt)*(dt*dt);return Yt*Jt});const Ut=5/dt,Ht=approximateRoot(Tt,Dt,Ut);if(dt=secondsToMilliseconds(dt),isNaN(Ht))return{stiffness:springDefaults.stiffness,damping:springDefaults.damping,duration:dt};{const Kt=Math.pow(Ht,2)*kt;return{stiffness:Kt,damping:Ft*2*Math.sqrt(kt*Kt),duration:dt}}}const rootIterations=12;function approximateRoot(dt,et,$t){let kt=$t;for(let Tt=1;Tt<rootIterations;Tt++)kt=kt-dt(kt)/et(kt);return kt}function calcAngularFreq(dt,et){return dt*Math.sqrt(1-et*et)}const maxGeneratorDuration=2e4;function calcGeneratorDuration(dt){let et=0;const $t=50;let kt=dt.next(et);for(;!kt.done&&et<maxGeneratorDuration;)et+=$t,kt=dt.next(et);return et>=maxGeneratorDuration?1/0:et}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(dt,et){return et.some($t=>dt[$t]!==void 0)}function getSpringOptions(dt){let et={velocity:springDefaults.velocity,stiffness:springDefaults.stiffness,damping:springDefaults.damping,mass:springDefaults.mass,isResolvedFromDuration:!1,...dt};if(!isSpringType(dt,physicsKeys)&&isSpringType(dt,durationKeys))if(dt.visualDuration){const $t=dt.visualDuration,kt=2*Math.PI/($t*1.2),Tt=kt*kt,Dt=2*clamp$6(.05,1,1-dt.bounce)*Math.sqrt(Tt);et={...et,mass:springDefaults.mass,stiffness:Tt,damping:Dt}}else{const $t=findSpring(dt);et={...et,...$t,mass:springDefaults.mass},et.isResolvedFromDuration=!0}return et}function spring(dt=springDefaults.visualDuration,et=springDefaults.bounce){const $t=typeof dt!="object"?{visualDuration:dt,keyframes:[0,1],bounce:et}:dt;let{restSpeed:kt,restDelta:Tt}=$t;const Dt=$t.keyframes[0],Ft=$t.keyframes[$t.keyframes.length-1],Ut={done:!1,value:Dt},{stiffness:Ht,damping:Kt,mass:Yt,duration:Jt,velocity:Zt,isResolvedFromDuration:er}=getSpringOptions({...$t,velocity:-millisecondsToSeconds($t.velocity||0)}),rr=Zt||0,sr=Kt/(2*Math.sqrt(Ht*Yt)),ir=Ft-Dt,nr=millisecondsToSeconds(Math.sqrt(Ht/Yt)),or=Math.abs(ir)<5;kt||(kt=or?springDefaults.restSpeed.granular:springDefaults.restSpeed.default),Tt||(Tt=or?springDefaults.restDelta.granular:springDefaults.restDelta.default);let lr;if(sr<1){const dr=calcAngularFreq(nr,sr);lr=ur=>{const pr=Math.exp(-sr*nr*ur);return Ft-pr*((rr+sr*nr*ir)/dr*Math.sin(dr*ur)+ir*Math.cos(dr*ur))}}else if(sr===1)lr=dr=>Ft-Math.exp(-nr*dr)*(ir+(rr+nr*ir)*dr);else{const dr=nr*Math.sqrt(sr*sr-1);lr=ur=>{const pr=Math.exp(-sr*nr*ur),mr=Math.min(dr*ur,300);return Ft-pr*((rr+sr*nr*ir)*Math.sinh(mr)+dr*ir*Math.cosh(mr))/dr}}const cr={calculatedDuration:er&&Jt||null,next:dr=>{const ur=lr(dr);if(er)Ut.done=dr>=Jt;else{let pr=0;sr<1&&(pr=dr===0?secondsToMilliseconds(rr):calcGeneratorVelocity(lr,dr,ur));const mr=Math.abs(pr)<=kt,vr=Math.abs(Ft-ur)<=Tt;Ut.done=mr&&vr}return Ut.value=Ut.done?Ft:ur,Ut},toString:()=>{const dr=Math.min(calcGeneratorDuration(cr),maxGeneratorDuration),ur=generateLinearEasing(pr=>cr.next(dr*pr).value,dr,30);return dr+"ms "+ur}};return cr}function inertia({keyframes:dt,velocity:et=0,power:$t=.8,timeConstant:kt=325,bounceDamping:Tt=10,bounceStiffness:Dt=500,modifyTarget:Ft,min:Ut,max:Ht,restDelta:Kt=.5,restSpeed:Yt}){const Jt=dt[0],Zt={done:!1,value:Jt},er=mr=>Ut!==void 0&&mr<Ut||Ht!==void 0&&mr>Ht,rr=mr=>Ut===void 0?Ht:Ht===void 0||Math.abs(Ut-mr)<Math.abs(Ht-mr)?Ut:Ht;let sr=$t*et;const ir=Jt+sr,nr=Ft===void 0?ir:Ft(ir);nr!==ir&&(sr=nr-Jt);const or=mr=>-sr*Math.exp(-mr/kt),lr=mr=>nr+or(mr),cr=mr=>{const vr=or(mr),kr=lr(mr);Zt.done=Math.abs(vr)<=Kt,Zt.value=Zt.done?nr:kr};let dr,ur;const pr=mr=>{er(Zt.value)&&(dr=mr,ur=spring({keyframes:[Zt.value,rr(Zt.value)],velocity:calcGeneratorVelocity(lr,mr,Zt.value),damping:Tt,stiffness:Dt,restDelta:Kt,restSpeed:Yt}))};return pr(0),{calculatedDuration:null,next:mr=>{let vr=!1;return!ur&&dr===void 0&&(vr=!0,cr(mr),pr(mr)),dr!==void 0&&mr>=dr?ur.next(mr-dr):(!vr&&cr(mr),Zt)}}}const easeIn=cubicBezier(.42,0,1,1),easeOut=cubicBezier(0,0,.58,1),easeInOut=cubicBezier(.42,0,.58,1),isEasingArray=dt=>Array.isArray(dt)&&typeof dt[0]!="number",isBezierDefinition=dt=>Array.isArray(dt)&&typeof dt[0]=="number",easingLookup={linear:noop$c,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},easingDefinitionToFunction=dt=>{if(isBezierDefinition(dt)){invariant$1(dt.length===4);const[et,$t,kt,Tt]=dt;return cubicBezier(et,$t,kt,Tt)}else if(typeof dt=="string")return easingLookup[dt];return dt},combineFunctions=(dt,et)=>$t=>et(dt($t)),pipe=(...dt)=>dt.reduce(combineFunctions),mixNumber$1=(dt,et,$t)=>dt+(et-dt)*$t;function hueToRgb(dt,et,$t){return $t<0&&($t+=1),$t>1&&($t-=1),$t<1/6?dt+(et-dt)*6*$t:$t<1/2?et:$t<2/3?dt+(et-dt)*(2/3-$t)*6:dt}function hslaToRgba({hue:dt,saturation:et,lightness:$t,alpha:kt}){dt/=360,et/=100,$t/=100;let Tt=0,Dt=0,Ft=0;if(!et)Tt=Dt=Ft=$t;else{const Ut=$t<.5?$t*(1+et):$t+et-$t*et,Ht=2*$t-Ut;Tt=hueToRgb(Ht,Ut,dt+1/3),Dt=hueToRgb(Ht,Ut,dt),Ft=hueToRgb(Ht,Ut,dt-1/3)}return{red:Math.round(Tt*255),green:Math.round(Dt*255),blue:Math.round(Ft*255),alpha:kt}}function mixImmediate(dt,et){return $t=>$t>0?et:dt}const mixLinearColor=(dt,et,$t)=>{const kt=dt*dt,Tt=$t*(et*et-kt)+kt;return Tt<0?0:Math.sqrt(Tt)},colorTypes=[hex$1,rgba$7,hsla$7],getColorType=dt=>colorTypes.find(et=>et.test(dt));function asRGBA(dt){const et=getColorType(dt);if(!et)return!1;let $t=et.parse(dt);return et===hsla$7&&($t=hslaToRgba($t)),$t}const mixColor=(dt,et)=>{const $t=asRGBA(dt),kt=asRGBA(et);if(!$t||!kt)return mixImmediate(dt,et);const Tt={...$t};return Dt=>(Tt.red=mixLinearColor($t.red,kt.red,Dt),Tt.green=mixLinearColor($t.green,kt.green,Dt),Tt.blue=mixLinearColor($t.blue,kt.blue,Dt),Tt.alpha=mixNumber$1($t.alpha,kt.alpha,Dt),rgba$7.transform(Tt))},invisibleValues=new Set(["none","hidden"]);function mixVisibility(dt,et){return invisibleValues.has(dt)?$t=>$t<=0?dt:et:$t=>$t>=1?et:dt}function mixNumber(dt,et){return $t=>mixNumber$1(dt,et,$t)}function getMixer(dt){return typeof dt=="number"?mixNumber:typeof dt=="string"?isCSSVariableToken(dt)?mixImmediate:color$1.test(dt)?mixColor:mixComplex:Array.isArray(dt)?mixArray:typeof dt=="object"?color$1.test(dt)?mixColor:mixObject:mixImmediate}function mixArray(dt,et){const $t=[...dt],kt=$t.length,Tt=dt.map((Dt,Ft)=>getMixer(Dt)(Dt,et[Ft]));return Dt=>{for(let Ft=0;Ft<kt;Ft++)$t[Ft]=Tt[Ft](Dt);return $t}}function mixObject(dt,et){const $t={...dt,...et},kt={};for(const Tt in $t)dt[Tt]!==void 0&&et[Tt]!==void 0&&(kt[Tt]=getMixer(dt[Tt])(dt[Tt],et[Tt]));return Tt=>{for(const Dt in kt)$t[Dt]=kt[Dt](Tt);return $t}}function matchOrder(dt,et){var $t;const kt=[],Tt={color:0,var:0,number:0};for(let Dt=0;Dt<et.values.length;Dt++){const Ft=et.types[Dt],Ut=dt.indexes[Ft][Tt[Ft]],Ht=($t=dt.values[Ut])!==null&&$t!==void 0?$t:0;kt[Dt]=Ht,Tt[Ft]++}return kt}const mixComplex=(dt,et)=>{const $t=complex.createTransformer(et),kt=analyseComplexValue(dt),Tt=analyseComplexValue(et);return kt.indexes.var.length===Tt.indexes.var.length&&kt.indexes.color.length===Tt.indexes.color.length&&kt.indexes.number.length>=Tt.indexes.number.length?invisibleValues.has(dt)&&!Tt.values.length||invisibleValues.has(et)&&!kt.values.length?mixVisibility(dt,et):pipe(mixArray(matchOrder(kt,Tt),Tt.values),$t):mixImmediate(dt,et)};function mix(dt,et,$t){return typeof dt=="number"&&typeof et=="number"&&typeof $t=="number"?mixNumber$1(dt,et,$t):getMixer(dt)(dt,et)}function createMixers(dt,et,$t){const kt=[],Tt=$t||mix,Dt=dt.length-1;for(let Ft=0;Ft<Dt;Ft++){let Ut=Tt(dt[Ft],dt[Ft+1]);if(et){const Ht=Array.isArray(et)?et[Ft]||noop$c:et;Ut=pipe(Ht,Ut)}kt.push(Ut)}return kt}function interpolate$7(dt,et,{clamp:$t=!0,ease:kt,mixer:Tt}={}){const Dt=dt.length;if(invariant$1(Dt===et.length),Dt===1)return()=>et[0];if(Dt===2&&dt[0]===dt[1])return()=>et[1];dt[0]>dt[Dt-1]&&(dt=[...dt].reverse(),et=[...et].reverse());const Ft=createMixers(et,kt,Tt),Ut=Ft.length,Ht=Kt=>{let Yt=0;if(Ut>1)for(;Yt<dt.length-2&&!(Kt<dt[Yt+1]);Yt++);const Jt=progress(dt[Yt],dt[Yt+1],Kt);return Ft[Yt](Jt)};return $t?Kt=>Ht(clamp$6(dt[0],dt[Dt-1],Kt)):Ht}function fillOffset(dt,et){const $t=dt[dt.length-1];for(let kt=1;kt<=et;kt++){const Tt=progress(0,et,kt);dt.push(mixNumber$1($t,1,Tt))}}function defaultOffset(dt){const et=[0];return fillOffset(et,dt.length-1),et}function convertOffsetToTimes(dt,et){return dt.map($t=>$t*et)}function defaultEasing(dt,et){return dt.map(()=>et||easeInOut).splice(0,dt.length-1)}function keyframes({duration:dt=300,keyframes:et,times:$t,ease:kt="easeInOut"}){const Tt=isEasingArray(kt)?kt.map(easingDefinitionToFunction):easingDefinitionToFunction(kt),Dt={done:!1,value:et[0]},Ft=convertOffsetToTimes($t&&$t.length===et.length?$t:defaultOffset(et),dt),Ut=interpolate$7(Ft,et,{ease:Array.isArray(Tt)?Tt:defaultEasing(et,Tt)});return{calculatedDuration:dt,next:Ht=>(Dt.value=Ut(Ht),Dt.done=Ht>=dt,Dt)}}const frameloopDriver=dt=>{const et=({timestamp:$t})=>dt($t);return{start:()=>frame.update(et,!0),stop:()=>cancelFrame$1(et),now:()=>frameData.isProcessing?frameData.timestamp:time$1.now()}},generators={decay:inertia,inertia,tween:keyframes,keyframes,spring},percentToProgress=dt=>dt/100;class MainThreadAnimation extends BaseAnimation{constructor(et){super(et),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:Ht}=this.options;Ht&&Ht()};const{name:$t,motionValue:kt,element:Tt,keyframes:Dt}=this.options,Ft=(Tt==null?void 0:Tt.KeyframeResolver)||KeyframeResolver,Ut=(Ht,Kt)=>this.onKeyframesResolved(Ht,Kt);this.resolver=new Ft(Dt,Ut,$t,kt,Tt),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(et){const{type:$t="keyframes",repeat:kt=0,repeatDelay:Tt=0,repeatType:Dt,velocity:Ft=0}=this.options,Ut=isGenerator($t)?$t:generators[$t]||keyframes;let Ht,Kt;Ut!==keyframes&&typeof et[0]!="number"&&(Ht=pipe(percentToProgress,mix(et[0],et[1])),et=[0,100]);const Yt=Ut({...this.options,keyframes:et});Dt==="mirror"&&(Kt=Ut({...this.options,keyframes:[...et].reverse(),velocity:-Ft})),Yt.calculatedDuration===null&&(Yt.calculatedDuration=calcGeneratorDuration(Yt));const{calculatedDuration:Jt}=Yt,Zt=Jt+Tt,er=Zt*(kt+1)-Tt;return{generator:Yt,mirroredGenerator:Kt,mapPercentToKeyframes:Ht,calculatedDuration:Jt,resolvedDuration:Zt,totalDuration:er}}onPostResolved(){const{autoplay:et=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!et?this.pause():this.state=this.pendingPlayState}tick(et,$t=!1){const{resolved:kt}=this;if(!kt){const{keyframes:mr}=this.options;return{done:!0,value:mr[mr.length-1]}}const{finalKeyframe:Tt,generator:Dt,mirroredGenerator:Ft,mapPercentToKeyframes:Ut,keyframes:Ht,calculatedDuration:Kt,totalDuration:Yt,resolvedDuration:Jt}=kt;if(this.startTime===null)return Dt.next(0);const{delay:Zt,repeat:er,repeatType:rr,repeatDelay:sr,onUpdate:ir}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,et):this.speed<0&&(this.startTime=Math.min(et-Yt/this.speed,this.startTime)),$t?this.currentTime=et:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(et-this.startTime)*this.speed;const nr=this.currentTime-Zt*(this.speed>=0?1:-1),or=this.speed>=0?nr<0:nr>Yt;this.currentTime=Math.max(nr,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=Yt);let lr=this.currentTime,cr=Dt;if(er){const mr=Math.min(this.currentTime,Yt)/Jt;let vr=Math.floor(mr),kr=mr%1;!kr&&mr>=1&&(kr=1),kr===1&&vr--,vr=Math.min(vr,er+1),!!(vr%2)&&(rr==="reverse"?(kr=1-kr,sr&&(kr-=sr/Jt)):rr==="mirror"&&(cr=Ft)),lr=clamp$6(0,1,kr)*Jt}const dr=or?{done:!1,value:Ht[0]}:cr.next(lr);Ut&&(dr.value=Ut(dr.value));let{done:ur}=dr;!or&&Kt!==null&&(ur=this.speed>=0?this.currentTime>=Yt:this.currentTime<=0);const pr=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ur);return pr&&Tt!==void 0&&(dr.value=getFinalKeyframe(Ht,this.options,Tt)),ir&&ir(dr.value),pr&&this.finish(),dr}get duration(){const{resolved:et}=this;return et?millisecondsToSeconds(et.calculatedDuration):0}get time(){return millisecondsToSeconds(this.currentTime)}set time(et){et=secondsToMilliseconds(et),this.currentTime=et,this.holdTime!==null||this.speed===0?this.holdTime=et:this.driver&&(this.startTime=this.driver.now()-et/this.speed)}get speed(){return this.playbackSpeed}set speed(et){const $t=this.playbackSpeed!==et;this.playbackSpeed=et,$t&&(this.time=millisecondsToSeconds(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:et=frameloopDriver,onPlay:$t,startTime:kt}=this.options;this.driver||(this.driver=et(Dt=>this.tick(Dt))),$t&&$t();const Tt=this.driver.now();this.holdTime!==null?this.startTime=Tt-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=Tt):this.startTime=kt??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var et;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(et=this.currentTime)!==null&&et!==void 0?et:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:et}=this.options;et&&et()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(et){return this.startTime=0,this.tick(et,!0)}}const acceleratedValues=new Set(["opacity","clipPath","filter","transform"]);function memo(dt){let et;return()=>(et===void 0&&(et=dt()),et)}const supportsFlags={linearEasing:void 0};function memoSupports(dt,et){const $t=memo(dt);return()=>{var kt;return(kt=supportsFlags[et])!==null&&kt!==void 0?kt:$t()}}const supportsLinearEasing=memoSupports(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function isWaapiSupportedEasing(dt){return!!(typeof dt=="function"&&supportsLinearEasing()||!dt||typeof dt=="string"&&(dt in supportedWaapiEasing||supportsLinearEasing())||isBezierDefinition(dt)||Array.isArray(dt)&&dt.every(isWaapiSupportedEasing))}const cubicBezierAsString=([dt,et,$t,kt])=>`cubic-bezier(${dt}, ${et}, ${$t}, ${kt})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasing(dt,et){if(dt)return typeof dt=="function"&&supportsLinearEasing()?generateLinearEasing(dt,et):isBezierDefinition(dt)?cubicBezierAsString(dt):Array.isArray(dt)?dt.map($t=>mapEasingToNativeEasing($t,et)||supportedWaapiEasing.easeOut):supportedWaapiEasing[dt]}function startWaapiAnimation(dt,et,$t,{delay:kt=0,duration:Tt=300,repeat:Dt=0,repeatType:Ft="loop",ease:Ut="easeInOut",times:Ht}={}){const Kt={[et]:$t};Ht&&(Kt.offset=Ht);const Yt=mapEasingToNativeEasing(Ut,Tt);return Array.isArray(Yt)&&(Kt.easing=Yt),dt.animate(Kt,{delay:kt,duration:Tt,easing:Array.isArray(Yt)?"linear":Yt,fill:"both",iterations:Dt+1,direction:Ft==="reverse"?"alternate":"normal"})}function attachTimeline(dt,et){dt.timeline=et,dt.onfinish=null}const supportsWaapi=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),sampleDelta=10,maxDuration=2e4;function requiresPregeneratedKeyframes(dt){return isGenerator(dt.type)||dt.type==="spring"||!isWaapiSupportedEasing(dt.ease)}function pregenerateKeyframes(dt,et){const $t=new MainThreadAnimation({...et,keyframes:dt,repeat:0,delay:0,isGenerator:!0});let kt={done:!1,value:dt[0]};const Tt=[];let Dt=0;for(;!kt.done&&Dt<maxDuration;)kt=$t.sample(Dt),Tt.push(kt.value),Dt+=sampleDelta;return{times:void 0,keyframes:Tt,duration:Dt-sampleDelta,ease:"linear"}}const unsupportedEasingFunctions={anticipate,backInOut,circInOut};function isUnsupportedEase(dt){return dt in unsupportedEasingFunctions}class AcceleratedAnimation extends BaseAnimation{constructor(et){super(et);const{name:$t,motionValue:kt,element:Tt,keyframes:Dt}=this.options;this.resolver=new DOMKeyframesResolver(Dt,(Ft,Ut)=>this.onKeyframesResolved(Ft,Ut),$t,kt,Tt),this.resolver.scheduleResolve()}initPlayback(et,$t){var kt;let{duration:Tt=300,times:Dt,ease:Ft,type:Ut,motionValue:Ht,name:Kt,startTime:Yt}=this.options;if(!(!((kt=Ht.owner)===null||kt===void 0)&&kt.current))return!1;if(typeof Ft=="string"&&supportsLinearEasing()&&isUnsupportedEase(Ft)&&(Ft=unsupportedEasingFunctions[Ft]),requiresPregeneratedKeyframes(this.options)){const{onComplete:Zt,onUpdate:er,motionValue:rr,element:sr,...ir}=this.options,nr=pregenerateKeyframes(et,ir);et=nr.keyframes,et.length===1&&(et[1]=et[0]),Tt=nr.duration,Dt=nr.times,Ft=nr.ease,Ut="keyframes"}const Jt=startWaapiAnimation(Ht.owner.current,Kt,et,{...this.options,duration:Tt,times:Dt,ease:Ft});return Jt.startTime=Yt??this.calcStartTime(),this.pendingTimeline?(attachTimeline(Jt,this.pendingTimeline),this.pendingTimeline=void 0):Jt.onfinish=()=>{const{onComplete:Zt}=this.options;Ht.set(getFinalKeyframe(et,this.options,$t)),Zt&&Zt(),this.cancel(),this.resolveFinishedPromise()},{animation:Jt,duration:Tt,times:Dt,type:Ut,ease:Ft,keyframes:et}}get duration(){const{resolved:et}=this;if(!et)return 0;const{duration:$t}=et;return millisecondsToSeconds($t)}get time(){const{resolved:et}=this;if(!et)return 0;const{animation:$t}=et;return millisecondsToSeconds($t.currentTime||0)}set time(et){const{resolved:$t}=this;if(!$t)return;const{animation:kt}=$t;kt.currentTime=secondsToMilliseconds(et)}get speed(){const{resolved:et}=this;if(!et)return 1;const{animation:$t}=et;return $t.playbackRate}set speed(et){const{resolved:$t}=this;if(!$t)return;const{animation:kt}=$t;kt.playbackRate=et}get state(){const{resolved:et}=this;if(!et)return"idle";const{animation:$t}=et;return $t.playState}get startTime(){const{resolved:et}=this;if(!et)return null;const{animation:$t}=et;return $t.startTime}attachTimeline(et){if(!this._resolved)this.pendingTimeline=et;else{const{resolved:$t}=this;if(!$t)return noop$c;const{animation:kt}=$t;attachTimeline(kt,et)}return noop$c}play(){if(this.isStopped)return;const{resolved:et}=this;if(!et)return;const{animation:$t}=et;$t.playState==="finished"&&this.updateFinishedPromise(),$t.play()}pause(){const{resolved:et}=this;if(!et)return;const{animation:$t}=et;$t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:et}=this;if(!et)return;const{animation:$t,keyframes:kt,duration:Tt,type:Dt,ease:Ft,times:Ut}=et;if($t.playState==="idle"||$t.playState==="finished")return;if(this.time){const{motionValue:Kt,onUpdate:Yt,onComplete:Jt,element:Zt,...er}=this.options,rr=new MainThreadAnimation({...er,keyframes:kt,duration:Tt,type:Dt,ease:Ft,times:Ut,isGenerator:!0}),sr=secondsToMilliseconds(this.time);Kt.setWithVelocity(rr.sample(sr-sampleDelta).value,rr.sample(sr).value,sampleDelta)}const{onStop:Ht}=this.options;Ht&&Ht(),this.cancel()}complete(){const{resolved:et}=this;et&&et.animation.finish()}cancel(){const{resolved:et}=this;et&&et.animation.cancel()}static supports(et){const{motionValue:$t,name:kt,repeatDelay:Tt,repeatType:Dt,damping:Ft,type:Ut}=et;return supportsWaapi()&&kt&&acceleratedValues.has(kt)&&$t&&$t.owner&&$t.owner.current instanceof HTMLElement&&!$t.owner.getProps().onUpdate&&!Tt&&Dt!=="mirror"&&Ft!==0&&Ut!=="inertia"}}const supportsScrollTimeline=memo(()=>window.ScrollTimeline!==void 0);class GroupPlaybackControls{constructor(et){this.stop=()=>this.runAll("stop"),this.animations=et.filter(Boolean)}then(et,$t){return Promise.all(this.animations).then(et).catch($t)}getAll(et){return this.animations[0][et]}setAll(et,$t){for(let kt=0;kt<this.animations.length;kt++)this.animations[kt][et]=$t}attachTimeline(et,$t){const kt=this.animations.map(Tt=>supportsScrollTimeline()&&Tt.attachTimeline?Tt.attachTimeline(et):$t(Tt));return()=>{kt.forEach((Tt,Dt)=>{Tt&&Tt(),this.animations[Dt].stop()})}}get time(){return this.getAll("time")}set time(et){this.setAll("time",et)}get speed(){return this.getAll("speed")}set speed(et){this.setAll("speed",et)}get startTime(){return this.getAll("startTime")}get duration(){let et=0;for(let $t=0;$t<this.animations.length;$t++)et=Math.max(et,this.animations[$t].duration);return et}runAll(et){this.animations.forEach($t=>$t[et]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function isTransitionDefined({when:dt,delay:et,delayChildren:$t,staggerChildren:kt,staggerDirection:Tt,repeat:Dt,repeatType:Ft,repeatDelay:Ut,from:Ht,elapsed:Kt,...Yt}){return!!Object.keys(Yt).length}const animateMotionValue=(dt,et,$t,kt={},Tt,Dt)=>Ft=>{const Ut=getValueTransition(kt,dt)||{},Ht=Ut.delay||kt.delay||0;let{elapsed:Kt=0}=kt;Kt=Kt-secondsToMilliseconds(Ht);let Yt={keyframes:Array.isArray($t)?$t:[null,$t],ease:"easeOut",velocity:et.getVelocity(),...Ut,delay:-Kt,onUpdate:Zt=>{et.set(Zt),Ut.onUpdate&&Ut.onUpdate(Zt)},onComplete:()=>{Ft(),Ut.onComplete&&Ut.onComplete()},name:dt,motionValue:et,element:Dt?void 0:Tt};isTransitionDefined(Ut)||(Yt={...Yt,...getDefaultTransition(dt,Yt)}),Yt.duration&&(Yt.duration=secondsToMilliseconds(Yt.duration)),Yt.repeatDelay&&(Yt.repeatDelay=secondsToMilliseconds(Yt.repeatDelay)),Yt.from!==void 0&&(Yt.keyframes[0]=Yt.from);let Jt=!1;if((Yt.type===!1||Yt.duration===0&&!Yt.repeatDelay)&&(Yt.duration=0,Yt.delay===0&&(Jt=!0)),Jt&&!Dt&&et.get()!==void 0){const Zt=getFinalKeyframe(Yt.keyframes,Ut);if(Zt!==void 0)return frame.update(()=>{Yt.onUpdate(Zt),Yt.onComplete()}),new GroupPlaybackControls([])}return!Dt&&AcceleratedAnimation.supports(Yt)?new AcceleratedAnimation(Yt):new MainThreadAnimation(Yt)},isCustomValue=dt=>!!(dt&&typeof dt=="object"&&dt.mix&&dt.toValue),resolveFinalValueInKeyframes=dt=>isKeyframesTarget(dt)?dt[dt.length-1]||0:dt;function addUniqueItem(dt,et){dt.indexOf(et)===-1&&dt.push(et)}function removeItem(dt,et){const $t=dt.indexOf(et);$t>-1&&dt.splice($t,1)}class SubscriptionManager{constructor(){this.subscriptions=[]}add(et){return addUniqueItem(this.subscriptions,et),()=>removeItem(this.subscriptions,et)}notify(et,$t,kt){const Tt=this.subscriptions.length;if(Tt)if(Tt===1)this.subscriptions[0](et,$t,kt);else for(let Dt=0;Dt<Tt;Dt++){const Ft=this.subscriptions[Dt];Ft&&Ft(et,$t,kt)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const MAX_VELOCITY_DELTA=30,isFloat=dt=>!isNaN(parseFloat(dt));class MotionValue{constructor(et,$t={}){this.version="11.15.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(kt,Tt=!0)=>{const Dt=time$1.now();this.updatedAt!==Dt&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(kt),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),Tt&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(et),this.owner=$t.owner}setCurrent(et){this.current=et,this.updatedAt=time$1.now(),this.canTrackVelocity===null&&et!==void 0&&(this.canTrackVelocity=isFloat(this.current))}setPrevFrameValue(et=this.current){this.prevFrameValue=et,this.prevUpdatedAt=this.updatedAt}onChange(et){return this.on("change",et)}on(et,$t){this.events[et]||(this.events[et]=new SubscriptionManager);const kt=this.events[et].add($t);return et==="change"?()=>{kt(),frame.read(()=>{this.events.change.getSize()||this.stop()})}:kt}clearListeners(){for(const et in this.events)this.events[et].clear()}attach(et,$t){this.passiveEffect=et,this.stopPassiveEffect=$t}set(et,$t=!0){!$t||!this.passiveEffect?this.updateAndNotify(et,$t):this.passiveEffect(et,this.updateAndNotify)}setWithVelocity(et,$t,kt){this.set($t),this.prev=void 0,this.prevFrameValue=et,this.prevUpdatedAt=this.updatedAt-kt}jump(et,$t=!0){this.updateAndNotify(et),this.prev=et,this.prevUpdatedAt=this.prevFrameValue=void 0,$t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const et=time$1.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||et-this.updatedAt>MAX_VELOCITY_DELTA)return 0;const $t=Math.min(this.updatedAt-this.prevUpdatedAt,MAX_VELOCITY_DELTA);return velocityPerSecond(parseFloat(this.current)-parseFloat(this.prevFrameValue),$t)}start(et){return this.stop(),new Promise($t=>{this.hasAnimated=!0,this.animation=et($t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(dt,et){return new MotionValue(dt,et)}function setMotionValue(dt,et,$t){dt.hasValue(et)?dt.getValue(et).set($t):dt.addValue(et,motionValue($t))}function setTarget(dt,et){const $t=resolveVariant(dt,et);let{transitionEnd:kt={},transition:Tt={},...Dt}=$t||{};Dt={...Dt,...kt};for(const Ft in Dt){const Ut=resolveFinalValueInKeyframes(Dt[Ft]);setMotionValue(dt,Ft,Ut)}}const camelToDash=dt=>dt.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId);function getOptimisedAppearId(dt){return dt.props[optimizedAppearDataAttribute]}const isMotionValue=dt=>!!(dt&&dt.getVelocity);function isWillChangeMotionValue(dt){return!!(isMotionValue(dt)&&dt.add)}function addValueToWillChange(dt,et){const $t=dt.getValue("willChange");if(isWillChangeMotionValue($t))return $t.add(et)}function shouldBlockAnimation({protectedKeys:dt,needsAnimating:et},$t){const kt=dt.hasOwnProperty($t)&&et[$t]!==!0;return et[$t]=!1,kt}function animateTarget(dt,et,{delay:$t=0,transitionOverride:kt,type:Tt}={}){var Dt;let{transition:Ft=dt.getDefaultTransition(),transitionEnd:Ut,...Ht}=et;kt&&(Ft=kt);const Kt=[],Yt=Tt&&dt.animationState&&dt.animationState.getState()[Tt];for(const Jt in Ht){const Zt=dt.getValue(Jt,(Dt=dt.latestValues[Jt])!==null&&Dt!==void 0?Dt:null),er=Ht[Jt];if(er===void 0||Yt&&shouldBlockAnimation(Yt,Jt))continue;const rr={delay:$t,...getValueTransition(Ft||{},Jt)};let sr=!1;if(window.MotionHandoffAnimation){const nr=getOptimisedAppearId(dt);if(nr){const or=window.MotionHandoffAnimation(nr,Jt,frame);or!==null&&(rr.startTime=or,sr=!0)}}addValueToWillChange(dt,Jt),Zt.start(animateMotionValue(Jt,Zt,er,dt.shouldReduceMotion&&transformProps.has(Jt)?{type:!1}:rr,dt,sr));const ir=Zt.animation;ir&&Kt.push(ir)}return Ut&&Promise.all(Kt).then(()=>{frame.update(()=>{Ut&&setTarget(dt,Ut)})}),Kt}function animateVariant(dt,et,$t={}){var kt;const Tt=resolveVariant(dt,et,$t.type==="exit"?(kt=dt.presenceContext)===null||kt===void 0?void 0:kt.custom:void 0);let{transition:Dt=dt.getDefaultTransition()||{}}=Tt||{};$t.transitionOverride&&(Dt=$t.transitionOverride);const Ft=Tt?()=>Promise.all(animateTarget(dt,Tt,$t)):()=>Promise.resolve(),Ut=dt.variantChildren&&dt.variantChildren.size?(Kt=0)=>{const{delayChildren:Yt=0,staggerChildren:Jt,staggerDirection:Zt}=Dt;return animateChildren(dt,et,Yt+Kt,Jt,Zt,$t)}:()=>Promise.resolve(),{when:Ht}=Dt;if(Ht){const[Kt,Yt]=Ht==="beforeChildren"?[Ft,Ut]:[Ut,Ft];return Kt().then(()=>Yt())}else return Promise.all([Ft(),Ut($t.delay)])}function animateChildren(dt,et,$t=0,kt=0,Tt=1,Dt){const Ft=[],Ut=(dt.variantChildren.size-1)*kt,Ht=Tt===1?(Kt=0)=>Kt*kt:(Kt=0)=>Ut-Kt*kt;return Array.from(dt.variantChildren).sort(sortByTreeOrder).forEach((Kt,Yt)=>{Kt.notify("AnimationStart",et),Ft.push(animateVariant(Kt,et,{...Dt,delay:$t+Ht(Yt)}).then(()=>Kt.notify("AnimationComplete",et)))}),Promise.all(Ft)}function sortByTreeOrder(dt,et){return dt.sortNodePosition(et)}function animateVisualElement(dt,et,$t={}){dt.notify("AnimationStart",et);let kt;if(Array.isArray(et)){const Tt=et.map(Dt=>animateVariant(dt,Dt,$t));kt=Promise.all(Tt)}else if(typeof et=="string")kt=animateVariant(dt,et,$t);else{const Tt=typeof et=="function"?resolveVariant(dt,et,$t.custom):et;kt=Promise.all(animateTarget(dt,Tt,$t))}return kt.then(()=>{dt.notify("AnimationComplete",et)})}const numVariantProps=variantProps.length;function getVariantContext(dt){if(!dt)return;if(!dt.isControllingVariants){const $t=dt.parent?getVariantContext(dt.parent)||{}:{};return dt.props.initial!==void 0&&($t.initial=dt.props.initial),$t}const et={};for(let $t=0;$t<numVariantProps;$t++){const kt=variantProps[$t],Tt=dt.props[kt];(isVariantLabel(Tt)||Tt===!1)&&(et[kt]=Tt)}return et}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(dt){return et=>Promise.all(et.map(({animation:$t,options:kt})=>animateVisualElement(dt,$t,kt)))}function createAnimationState(dt){let et=animateList(dt),$t=createState(),kt=!0;const Tt=Ht=>(Kt,Yt)=>{var Jt;const Zt=resolveVariant(dt,Yt,Ht==="exit"?(Jt=dt.presenceContext)===null||Jt===void 0?void 0:Jt.custom:void 0);if(Zt){const{transition:er,transitionEnd:rr,...sr}=Zt;Kt={...Kt,...sr,...rr}}return Kt};function Dt(Ht){et=Ht(dt)}function Ft(Ht){const{props:Kt}=dt,Yt=getVariantContext(dt.parent)||{},Jt=[],Zt=new Set;let er={},rr=1/0;for(let ir=0;ir<numAnimationTypes;ir++){const nr=reversePriorityOrder[ir],or=$t[nr],lr=Kt[nr]!==void 0?Kt[nr]:Yt[nr],cr=isVariantLabel(lr),dr=nr===Ht?or.isActive:null;dr===!1&&(rr=ir);let ur=lr===Yt[nr]&&lr!==Kt[nr]&&cr;if(ur&&kt&&dt.manuallyAnimateOnMount&&(ur=!1),or.protectedKeys={...er},!or.isActive&&dr===null||!lr&&!or.prevProp||isAnimationControls(lr)||typeof lr=="boolean")continue;const pr=checkVariantsDidChange(or.prevProp,lr);let mr=pr||nr===Ht&&or.isActive&&!ur&&cr||ir>rr&&cr,vr=!1;const kr=Array.isArray(lr)?lr:[lr];let br=kr.reduce(Tt(nr),{});dr===!1&&(br={});const{prevResolvedValues:_r={}}=or,Or={..._r,...br},Pr=Tr=>{mr=!0,Zt.has(Tr)&&(vr=!0,Zt.delete(Tr)),or.needsAnimating[Tr]=!0;const xr=dt.getValue(Tr);xr&&(xr.liveStyle=!1)};for(const Tr in Or){const xr=br[Tr],wr=_r[Tr];if(er.hasOwnProperty(Tr))continue;let zr=!1;isKeyframesTarget(xr)&&isKeyframesTarget(wr)?zr=!shallowCompare(xr,wr):zr=xr!==wr,zr?xr!=null?Pr(Tr):Zt.add(Tr):xr!==void 0&&Zt.has(Tr)?Pr(Tr):or.protectedKeys[Tr]=!0}or.prevProp=lr,or.prevResolvedValues=br,or.isActive&&(er={...er,...br}),kt&&dt.blockInitialAnimation&&(mr=!1),mr&&(!(ur&&pr)||vr)&&Jt.push(...kr.map(Tr=>({animation:Tr,options:{type:nr}})))}if(Zt.size){const ir={};Zt.forEach(nr=>{const or=dt.getBaseTarget(nr),lr=dt.getValue(nr);lr&&(lr.liveStyle=!0),ir[nr]=or??null}),Jt.push({animation:ir})}let sr=!!Jt.length;return kt&&(Kt.initial===!1||Kt.initial===Kt.animate)&&!dt.manuallyAnimateOnMount&&(sr=!1),kt=!1,sr?et(Jt):Promise.resolve()}function Ut(Ht,Kt){var Yt;if($t[Ht].isActive===Kt)return Promise.resolve();(Yt=dt.variantChildren)===null||Yt===void 0||Yt.forEach(Zt=>{var er;return(er=Zt.animationState)===null||er===void 0?void 0:er.setActive(Ht,Kt)}),$t[Ht].isActive=Kt;const Jt=Ft(Ht);for(const Zt in $t)$t[Zt].protectedKeys={};return Jt}return{animateChanges:Ft,setActive:Ut,setAnimateFunction:Dt,getState:()=>$t,reset:()=>{$t=createState(),kt=!0}}}function checkVariantsDidChange(dt,et){return typeof et=="string"?et!==dt:Array.isArray(et)?!shallowCompare(et,dt):!1}function createTypeState(dt=!1){return{isActive:dt,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}let Feature$1=class{constructor(et){this.isMounted=!1,this.node=et}update(){}};class AnimationFeature extends Feature$1{constructor(et){super(et),et.animationState||(et.animationState=createAnimationState(et))}updateAnimationControlsSubscription(){const{animate:et}=this.node.getProps();isAnimationControls(et)&&(this.unmountControls=et.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:et}=this.node.getProps(),{animate:$t}=this.node.prevProps||{};et!==$t&&this.updateAnimationControlsSubscription()}unmount(){var et;this.node.animationState.reset(),(et=this.unmountControls)===null||et===void 0||et.call(this)}}let id$1=0;class ExitAnimationFeature extends Feature$1{constructor(){super(...arguments),this.id=id$1++}update(){if(!this.node.presenceContext)return;const{isPresent:et,onExitComplete:$t}=this.node.presenceContext,{isPresent:kt}=this.node.prevPresenceContext||{};if(!this.node.animationState||et===kt)return;const Tt=this.node.animationState.setActive("exit",!et);$t&&!et&&Tt.then(()=>$t(this.id))}mount(){const{register:et}=this.node.presenceContext||{};et&&(this.unmount=et(this.id))}unmount(){}}const animations={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}},isDragging={x:!1,y:!1};function isDragActive(){return isDragging.x||isDragging.y}function resolveElements(dt,et,$t){var kt;if(dt instanceof Element)return[dt];if(typeof dt=="string"){let Tt=document;et&&(Tt=et.current);const Dt=(kt=$t==null?void 0:$t[dt])!==null&&kt!==void 0?kt:Tt.querySelectorAll(dt);return Dt?Array.from(Dt):[]}return Array.from(dt)}function setupGesture(dt,et){const $t=resolveElements(dt),kt=new AbortController,Tt={passive:!0,...et,signal:kt.signal};return[$t,Tt,()=>kt.abort()]}function filterEvents$1(dt){return et=>{et.pointerType==="touch"||isDragActive()||dt(et)}}function hover(dt,et,$t={}){const[kt,Tt,Dt]=setupGesture(dt,$t),Ft=filterEvents$1(Ut=>{const{target:Ht}=Ut,Kt=et(Ut);if(!Kt||!Ht)return;const Yt=filterEvents$1(Jt=>{Kt(Jt),Ht.removeEventListener("pointerleave",Yt)});Ht.addEventListener("pointerleave",Yt,Tt)});return kt.forEach(Ut=>{Ut.addEventListener("pointerenter",Ft,Tt)}),Dt}const isPrimaryPointer=dt=>dt.pointerType==="mouse"?typeof dt.button!="number"||dt.button<=0:dt.isPrimary!==!1,isPressing=new WeakSet;function filterEvents(dt){return et=>{et.key==="Enter"&&dt(et)}}function firePointerEvent(dt,et){dt.dispatchEvent(new PointerEvent("pointer"+et,{isPrimary:!0,bubbles:!0}))}const enableKeyboardPress=(dt,et)=>{const $t=dt.currentTarget;if(!$t)return;const kt=filterEvents(()=>{if(isPressing.has($t))return;firePointerEvent($t,"down");const Tt=filterEvents(()=>{firePointerEvent($t,"up")}),Dt=()=>firePointerEvent($t,"cancel");$t.addEventListener("keyup",Tt,et),$t.addEventListener("blur",Dt,et)});$t.addEventListener("keydown",kt,et),$t.addEventListener("blur",()=>$t.removeEventListener("keydown",kt),et)},focusableElements=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function isElementKeyboardAccessible(dt){return focusableElements.has(dt.tagName)||dt.tabIndex!==-1}const isNodeOrChild=(dt,et)=>et?dt===et?!0:isNodeOrChild(dt,et.parentElement):!1;function isValidPressEvent(dt){return isPrimaryPointer(dt)&&!isDragActive()}function press(dt,et,$t={}){const[kt,Tt,Dt]=setupGesture(dt,$t),Ft=Ut=>{const Ht=Ut.currentTarget;if(!isValidPressEvent(Ut)||isPressing.has(Ht))return;isPressing.add(Ht);const Kt=et(Ut),Yt=(er,rr)=>{window.removeEventListener("pointerup",Jt),window.removeEventListener("pointercancel",Zt),!(!isValidPressEvent(er)||!isPressing.has(Ht))&&(isPressing.delete(Ht),Kt&&Kt(er,{success:rr}))},Jt=er=>{Yt(er,$t.useGlobalTarget||isNodeOrChild(Ht,er.target))},Zt=er=>{Yt(er,!1)};window.addEventListener("pointerup",Jt,Tt),window.addEventListener("pointercancel",Zt,Tt)};return kt.forEach(Ut=>{isElementKeyboardAccessible(Ut)||(Ut.tabIndex=0),($t.useGlobalTarget?window:Ut).addEventListener("pointerdown",Ft,Tt),Ut.addEventListener("focus",Kt=>enableKeyboardPress(Kt,Tt),Tt)}),Dt}function setDragLock(dt){return dt==="x"||dt==="y"?isDragging[dt]?null:(isDragging[dt]=!0,()=>{isDragging[dt]=!1}):isDragging.x||isDragging.y?null:(isDragging.x=isDragging.y=!0,()=>{isDragging.x=isDragging.y=!1})}function extractEventInfo(dt){return{point:{x:dt.pageX,y:dt.pageY}}}const addPointerInfo=dt=>et=>isPrimaryPointer(et)&&dt(et,extractEventInfo(et));function addDomEvent(dt,et,$t,kt={passive:!0}){return dt.addEventListener(et,$t,kt),()=>dt.removeEventListener(et,$t)}function addPointerEvent(dt,et,$t,kt){return addDomEvent(dt,et,addPointerInfo($t),kt)}const distance=(dt,et)=>Math.abs(dt-et);function distance2D(dt,et){const $t=distance(dt.x,et.x),kt=distance(dt.y,et.y);return Math.sqrt($t**2+kt**2)}class PanSession{constructor(et,$t,{transformPagePoint:kt,contextWindow:Tt,dragSnapToOrigin:Dt=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const Jt=getPanInfo(this.lastMoveEventInfo,this.history),Zt=this.startEvent!==null,er=distance2D(Jt.offset,{x:0,y:0})>=3;if(!Zt&&!er)return;const{point:rr}=Jt,{timestamp:sr}=frameData;this.history.push({...rr,timestamp:sr});const{onStart:ir,onMove:nr}=this.handlers;Zt||(ir&&ir(this.lastMoveEvent,Jt),this.startEvent=this.lastMoveEvent),nr&&nr(this.lastMoveEvent,Jt)},this.handlePointerMove=(Jt,Zt)=>{this.lastMoveEvent=Jt,this.lastMoveEventInfo=transformPoint(Zt,this.transformPagePoint),frame.update(this.updatePoint,!0)},this.handlePointerUp=(Jt,Zt)=>{this.end();const{onEnd:er,onSessionEnd:rr,resumeAnimation:sr}=this.handlers;if(this.dragSnapToOrigin&&sr&&sr(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const ir=getPanInfo(Jt.type==="pointercancel"?this.lastMoveEventInfo:transformPoint(Zt,this.transformPagePoint),this.history);this.startEvent&&er&&er(Jt,ir),rr&&rr(Jt,ir)},!isPrimaryPointer(et))return;this.dragSnapToOrigin=Dt,this.handlers=$t,this.transformPagePoint=kt,this.contextWindow=Tt||window;const Ft=extractEventInfo(et),Ut=transformPoint(Ft,this.transformPagePoint),{point:Ht}=Ut,{timestamp:Kt}=frameData;this.history=[{...Ht,timestamp:Kt}];const{onSessionStart:Yt}=$t;Yt&&Yt(et,getPanInfo(Ut,this.history)),this.removeListeners=pipe(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(et){this.handlers=et}end(){this.removeListeners&&this.removeListeners(),cancelFrame$1(this.updatePoint)}}function transformPoint(dt,et){return et?{point:et(dt.point)}:dt}function subtractPoint(dt,et){return{x:dt.x-et.x,y:dt.y-et.y}}function getPanInfo({point:dt},et){return{point:dt,delta:subtractPoint(dt,lastDevicePoint(et)),offset:subtractPoint(dt,startDevicePoint(et)),velocity:getVelocity(et,.1)}}function startDevicePoint(dt){return dt[0]}function lastDevicePoint(dt){return dt[dt.length-1]}function getVelocity(dt,et){if(dt.length<2)return{x:0,y:0};let $t=dt.length-1,kt=null;const Tt=lastDevicePoint(dt);for(;$t>=0&&(kt=dt[$t],!(Tt.timestamp-kt.timestamp>secondsToMilliseconds(et)));)$t--;if(!kt)return{x:0,y:0};const Dt=millisecondsToSeconds(Tt.timestamp-kt.timestamp);if(Dt===0)return{x:0,y:0};const Ft={x:(Tt.x-kt.x)/Dt,y:(Tt.y-kt.y)/Dt};return Ft.x===1/0&&(Ft.x=0),Ft.y===1/0&&(Ft.y=0),Ft}function isRefObject(dt){return dt&&typeof dt=="object"&&Object.prototype.hasOwnProperty.call(dt,"current")}const SCALE_PRECISION=1e-4,SCALE_MIN=1-SCALE_PRECISION,SCALE_MAX=1+SCALE_PRECISION,TRANSLATE_PRECISION=.01,TRANSLATE_MIN=0-TRANSLATE_PRECISION,TRANSLATE_MAX=0+TRANSLATE_PRECISION;function calcLength(dt){return dt.max-dt.min}function isNear$1(dt,et,$t){return Math.abs(dt-et)<=$t}function calcAxisDelta(dt,et,$t,kt=.5){dt.origin=kt,dt.originPoint=mixNumber$1(et.min,et.max,dt.origin),dt.scale=calcLength($t)/calcLength(et),dt.translate=mixNumber$1($t.min,$t.max,dt.origin)-dt.originPoint,(dt.scale>=SCALE_MIN&&dt.scale<=SCALE_MAX||isNaN(dt.scale))&&(dt.scale=1),(dt.translate>=TRANSLATE_MIN&&dt.translate<=TRANSLATE_MAX||isNaN(dt.translate))&&(dt.translate=0)}function calcBoxDelta(dt,et,$t,kt){calcAxisDelta(dt.x,et.x,$t.x,kt?kt.originX:void 0),calcAxisDelta(dt.y,et.y,$t.y,kt?kt.originY:void 0)}function calcRelativeAxis(dt,et,$t){dt.min=$t.min+et.min,dt.max=dt.min+calcLength(et)}function calcRelativeBox(dt,et,$t){calcRelativeAxis(dt.x,et.x,$t.x),calcRelativeAxis(dt.y,et.y,$t.y)}function calcRelativeAxisPosition(dt,et,$t){dt.min=et.min-$t.min,dt.max=dt.min+calcLength(et)}function calcRelativePosition(dt,et,$t){calcRelativeAxisPosition(dt.x,et.x,$t.x),calcRelativeAxisPosition(dt.y,et.y,$t.y)}function applyConstraints(dt,{min:et,max:$t},kt){return et!==void 0&&dt<et?dt=kt?mixNumber$1(et,dt,kt.min):Math.max(dt,et):$t!==void 0&&dt>$t&&(dt=kt?mixNumber$1($t,dt,kt.max):Math.min(dt,$t)),dt}function calcRelativeAxisConstraints(dt,et,$t){return{min:et!==void 0?dt.min+et:void 0,max:$t!==void 0?dt.max+$t-(dt.max-dt.min):void 0}}function calcRelativeConstraints(dt,{top:et,left:$t,bottom:kt,right:Tt}){return{x:calcRelativeAxisConstraints(dt.x,$t,Tt),y:calcRelativeAxisConstraints(dt.y,et,kt)}}function calcViewportAxisConstraints(dt,et){let $t=et.min-dt.min,kt=et.max-dt.max;return et.max-et.min<dt.max-dt.min&&([$t,kt]=[kt,$t]),{min:$t,max:kt}}function calcViewportConstraints(dt,et){return{x:calcViewportAxisConstraints(dt.x,et.x),y:calcViewportAxisConstraints(dt.y,et.y)}}function calcOrigin$1(dt,et){let $t=.5;const kt=calcLength(dt),Tt=calcLength(et);return Tt>kt?$t=progress(et.min,et.max-kt,dt.min):kt>Tt&&($t=progress(dt.min,dt.max-Tt,et.min)),clamp$6(0,1,$t)}function rebaseAxisConstraints(dt,et){const $t={};return et.min!==void 0&&($t.min=et.min-dt.min),et.max!==void 0&&($t.max=et.max-dt.min),$t}const defaultElastic=.35;function resolveDragElastic(dt=defaultElastic){return dt===!1?dt=0:dt===!0&&(dt=defaultElastic),{x:resolveAxisElastic(dt,"left","right"),y:resolveAxisElastic(dt,"top","bottom")}}function resolveAxisElastic(dt,et,$t){return{min:resolvePointElastic(dt,et),max:resolvePointElastic(dt,$t)}}function resolvePointElastic(dt,et){return typeof dt=="number"?dt:dt[et]||0}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()});function eachAxis(dt){return[dt("x"),dt("y")]}function convertBoundingBoxToBox({top:dt,left:et,right:$t,bottom:kt}){return{x:{min:et,max:$t},y:{min:dt,max:kt}}}function convertBoxToBoundingBox({x:dt,y:et}){return{top:et.min,right:dt.max,bottom:et.max,left:dt.min}}function transformBoxPoints(dt,et){if(!et)return dt;const $t=et({x:dt.left,y:dt.top}),kt=et({x:dt.right,y:dt.bottom});return{top:$t.y,left:$t.x,bottom:kt.y,right:kt.x}}function isIdentityScale(dt){return dt===void 0||dt===1}function hasScale({scale:dt,scaleX:et,scaleY:$t}){return!isIdentityScale(dt)||!isIdentityScale(et)||!isIdentityScale($t)}function hasTransform(dt){return hasScale(dt)||has2DTranslate(dt)||dt.z||dt.rotate||dt.rotateX||dt.rotateY||dt.skewX||dt.skewY}function has2DTranslate(dt){return is2DTranslate(dt.x)||is2DTranslate(dt.y)}function is2DTranslate(dt){return dt&&dt!=="0%"}function scalePoint(dt,et,$t){const kt=dt-$t,Tt=et*kt;return $t+Tt}function applyPointDelta(dt,et,$t,kt,Tt){return Tt!==void 0&&(dt=scalePoint(dt,Tt,kt)),scalePoint(dt,$t,kt)+et}function applyAxisDelta(dt,et=0,$t=1,kt,Tt){dt.min=applyPointDelta(dt.min,et,$t,kt,Tt),dt.max=applyPointDelta(dt.max,et,$t,kt,Tt)}function applyBoxDelta(dt,{x:et,y:$t}){applyAxisDelta(dt.x,et.translate,et.scale,et.originPoint),applyAxisDelta(dt.y,$t.translate,$t.scale,$t.originPoint)}const TREE_SCALE_SNAP_MIN=.999999999999,TREE_SCALE_SNAP_MAX=1.0000000000001;function applyTreeDeltas(dt,et,$t,kt=!1){const Tt=$t.length;if(!Tt)return;et.x=et.y=1;let Dt,Ft;for(let Ut=0;Ut<Tt;Ut++){Dt=$t[Ut],Ft=Dt.projectionDelta;const{visualElement:Ht}=Dt.options;Ht&&Ht.props.style&&Ht.props.style.display==="contents"||(kt&&Dt.options.layoutScroll&&Dt.scroll&&Dt!==Dt.root&&transformBox(dt,{x:-Dt.scroll.offset.x,y:-Dt.scroll.offset.y}),Ft&&(et.x*=Ft.x.scale,et.y*=Ft.y.scale,applyBoxDelta(dt,Ft)),kt&&hasTransform(Dt.latestValues)&&transformBox(dt,Dt.latestValues))}et.x<TREE_SCALE_SNAP_MAX&&et.x>TREE_SCALE_SNAP_MIN&&(et.x=1),et.y<TREE_SCALE_SNAP_MAX&&et.y>TREE_SCALE_SNAP_MIN&&(et.y=1)}function translateAxis(dt,et){dt.min=dt.min+et,dt.max=dt.max+et}function transformAxis(dt,et,$t,kt,Tt=.5){const Dt=mixNumber$1(dt.min,dt.max,Tt);applyAxisDelta(dt,et,$t,Dt,kt)}function transformBox(dt,et){transformAxis(dt.x,et.x,et.scaleX,et.scale,et.originX),transformAxis(dt.y,et.y,et.scaleY,et.scale,et.originY)}function measureViewportBox(dt,et){return convertBoundingBoxToBox(transformBoxPoints(dt.getBoundingClientRect(),et))}function measurePageBox(dt,et,$t){const kt=measureViewportBox(dt,$t),{scroll:Tt}=et;return Tt&&(translateAxis(kt.x,Tt.offset.x),translateAxis(kt.y,Tt.offset.y)),kt}const getContextWindow=({current:dt})=>dt?dt.ownerDocument.defaultView:null,elementDragControls=new WeakMap;class VisualElementDragControls{constructor(et){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.visualElement=et}start(et,{snapToCursor:$t=!1}={}){const{presenceContext:kt}=this.visualElement;if(kt&&kt.isPresent===!1)return;const Tt=Yt=>{const{dragSnapToOrigin:Jt}=this.getProps();Jt?this.pauseAnimation():this.stopAnimation(),$t&&this.snapToCursor(extractEventInfo(Yt).point)},Dt=(Yt,Jt)=>{const{drag:Zt,dragPropagation:er,onDragStart:rr}=this.getProps();if(Zt&&!er&&(this.openDragLock&&this.openDragLock(),this.openDragLock=setDragLock(Zt),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(ir=>{let nr=this.getAxisMotionValue(ir).get()||0;if(percent.test(nr)){const{projection:or}=this.visualElement;if(or&&or.layout){const lr=or.layout.layoutBox[ir];lr&&(nr=calcLength(lr)*(parseFloat(nr)/100))}}this.originPoint[ir]=nr}),rr&&frame.postRender(()=>rr(Yt,Jt)),addValueToWillChange(this.visualElement,"transform");const{animationState:sr}=this.visualElement;sr&&sr.setActive("whileDrag",!0)},Ft=(Yt,Jt)=>{const{dragPropagation:Zt,dragDirectionLock:er,onDirectionLock:rr,onDrag:sr}=this.getProps();if(!Zt&&!this.openDragLock)return;const{offset:ir}=Jt;if(er&&this.currentDirection===null){this.currentDirection=getCurrentDirection(ir),this.currentDirection!==null&&rr&&rr(this.currentDirection);return}this.updateAxis("x",Jt.point,ir),this.updateAxis("y",Jt.point,ir),this.visualElement.render(),sr&&sr(Yt,Jt)},Ut=(Yt,Jt)=>this.stop(Yt,Jt),Ht=()=>eachAxis(Yt=>{var Jt;return this.getAnimationState(Yt)==="paused"&&((Jt=this.getAxisMotionValue(Yt).animation)===null||Jt===void 0?void 0:Jt.play())}),{dragSnapToOrigin:Kt}=this.getProps();this.panSession=new PanSession(et,{onSessionStart:Tt,onStart:Dt,onMove:Ft,onSessionEnd:Ut,resumeAnimation:Ht},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:Kt,contextWindow:getContextWindow(this.visualElement)})}stop(et,$t){const kt=this.isDragging;if(this.cancel(),!kt)return;const{velocity:Tt}=$t;this.startAnimation(Tt);const{onDragEnd:Dt}=this.getProps();Dt&&frame.postRender(()=>Dt(et,$t))}cancel(){this.isDragging=!1;const{projection:et,animationState:$t}=this.visualElement;et&&(et.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:kt}=this.getProps();!kt&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),$t&&$t.setActive("whileDrag",!1)}updateAxis(et,$t,kt){const{drag:Tt}=this.getProps();if(!kt||!shouldDrag(et,Tt,this.currentDirection))return;const Dt=this.getAxisMotionValue(et);let Ft=this.originPoint[et]+kt[et];this.constraints&&this.constraints[et]&&(Ft=applyConstraints(Ft,this.constraints[et],this.elastic[et])),Dt.set(Ft)}resolveConstraints(){var et;const{dragConstraints:$t,dragElastic:kt}=this.getProps(),Tt=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(et=this.visualElement.projection)===null||et===void 0?void 0:et.layout,Dt=this.constraints;$t&&isRefObject($t)?this.constraints||(this.constraints=this.resolveRefConstraints()):$t&&Tt?this.constraints=calcRelativeConstraints(Tt.layoutBox,$t):this.constraints=!1,this.elastic=resolveDragElastic(kt),Dt!==this.constraints&&Tt&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(Ft=>{this.constraints!==!1&&this.getAxisMotionValue(Ft)&&(this.constraints[Ft]=rebaseAxisConstraints(Tt.layoutBox[Ft],this.constraints[Ft]))})}resolveRefConstraints(){const{dragConstraints:et,onMeasureDragConstraints:$t}=this.getProps();if(!et||!isRefObject(et))return!1;const kt=et.current,{projection:Tt}=this.visualElement;if(!Tt||!Tt.layout)return!1;const Dt=measurePageBox(kt,Tt.root,this.visualElement.getTransformPagePoint());let Ft=calcViewportConstraints(Tt.layout.layoutBox,Dt);if($t){const Ut=$t(convertBoxToBoundingBox(Ft));this.hasMutatedConstraints=!!Ut,Ut&&(Ft=convertBoundingBoxToBox(Ut))}return Ft}startAnimation(et){const{drag:$t,dragMomentum:kt,dragElastic:Tt,dragTransition:Dt,dragSnapToOrigin:Ft,onDragTransitionEnd:Ut}=this.getProps(),Ht=this.constraints||{},Kt=eachAxis(Yt=>{if(!shouldDrag(Yt,$t,this.currentDirection))return;let Jt=Ht&&Ht[Yt]||{};Ft&&(Jt={min:0,max:0});const Zt=Tt?200:1e6,er=Tt?40:1e7,rr={type:"inertia",velocity:kt?et[Yt]:0,bounceStiffness:Zt,bounceDamping:er,timeConstant:750,restDelta:1,restSpeed:10,...Dt,...Jt};return this.startAxisValueAnimation(Yt,rr)});return Promise.all(Kt).then(Ut)}startAxisValueAnimation(et,$t){const kt=this.getAxisMotionValue(et);return addValueToWillChange(this.visualElement,et),kt.start(animateMotionValue(et,kt,0,$t,this.visualElement,!1))}stopAnimation(){eachAxis(et=>this.getAxisMotionValue(et).stop())}pauseAnimation(){eachAxis(et=>{var $t;return($t=this.getAxisMotionValue(et).animation)===null||$t===void 0?void 0:$t.pause()})}getAnimationState(et){var $t;return($t=this.getAxisMotionValue(et).animation)===null||$t===void 0?void 0:$t.state}getAxisMotionValue(et){const $t=`_drag${et.toUpperCase()}`,kt=this.visualElement.getProps(),Tt=kt[$t];return Tt||this.visualElement.getValue(et,(kt.initial?kt.initial[et]:void 0)||0)}snapToCursor(et){eachAxis($t=>{const{drag:kt}=this.getProps();if(!shouldDrag($t,kt,this.currentDirection))return;const{projection:Tt}=this.visualElement,Dt=this.getAxisMotionValue($t);if(Tt&&Tt.layout){const{min:Ft,max:Ut}=Tt.layout.layoutBox[$t];Dt.set(et[$t]-mixNumber$1(Ft,Ut,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:et,dragConstraints:$t}=this.getProps(),{projection:kt}=this.visualElement;if(!isRefObject($t)||!kt||!this.constraints)return;this.stopAnimation();const Tt={x:0,y:0};eachAxis(Ft=>{const Ut=this.getAxisMotionValue(Ft);if(Ut&&this.constraints!==!1){const Ht=Ut.get();Tt[Ft]=calcOrigin$1({min:Ht,max:Ht},this.constraints[Ft])}});const{transformTemplate:Dt}=this.visualElement.getProps();this.visualElement.current.style.transform=Dt?Dt({},""):"none",kt.root&&kt.root.updateScroll(),kt.updateLayout(),this.resolveConstraints(),eachAxis(Ft=>{if(!shouldDrag(Ft,et,null))return;const Ut=this.getAxisMotionValue(Ft),{min:Ht,max:Kt}=this.constraints[Ft];Ut.set(mixNumber$1(Ht,Kt,Tt[Ft]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const et=this.visualElement.current,$t=addPointerEvent(et,"pointerdown",Ht=>{const{drag:Kt,dragListener:Yt=!0}=this.getProps();Kt&&Yt&&this.start(Ht)}),kt=()=>{const{dragConstraints:Ht}=this.getProps();isRefObject(Ht)&&Ht.current&&(this.constraints=this.resolveRefConstraints())},{projection:Tt}=this.visualElement,Dt=Tt.addEventListener("measure",kt);Tt&&!Tt.layout&&(Tt.root&&Tt.root.updateScroll(),Tt.updateLayout()),frame.read(kt);const Ft=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),Ut=Tt.addEventListener("didUpdate",({delta:Ht,hasLayoutChanged:Kt})=>{this.isDragging&&Kt&&(eachAxis(Yt=>{const Jt=this.getAxisMotionValue(Yt);Jt&&(this.originPoint[Yt]+=Ht[Yt].translate,Jt.set(Jt.get()+Ht[Yt].translate))}),this.visualElement.render())});return()=>{Ft(),$t(),Dt(),Ut&&Ut()}}getProps(){const et=this.visualElement.getProps(),{drag:$t=!1,dragDirectionLock:kt=!1,dragPropagation:Tt=!1,dragConstraints:Dt=!1,dragElastic:Ft=defaultElastic,dragMomentum:Ut=!0}=et;return{...et,drag:$t,dragDirectionLock:kt,dragPropagation:Tt,dragConstraints:Dt,dragElastic:Ft,dragMomentum:Ut}}}function shouldDrag(dt,et,$t){return(et===!0||et===dt)&&($t===null||$t===dt)}function getCurrentDirection(dt,et=10){let $t=null;return Math.abs(dt.y)>et?$t="y":Math.abs(dt.x)>et&&($t="x"),$t}class DragGesture extends Feature$1{constructor(et){super(et),this.removeGroupControls=noop$c,this.removeListeners=noop$c,this.controls=new VisualElementDragControls(et)}mount(){const{dragControls:et}=this.node.getProps();et&&(this.removeGroupControls=et.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop$c}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=dt=>(et,$t)=>{dt&&frame.postRender(()=>dt(et,$t))};class PanGesture extends Feature$1{constructor(){super(...arguments),this.removePointerDownListener=noop$c}onPointerDown(et){this.session=new PanSession(et,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:et,onPanStart:$t,onPan:kt,onPanEnd:Tt}=this.node.getProps();return{onSessionStart:asyncHandler(et),onStart:asyncHandler($t),onMove:kt,onEnd:(Dt,Ft)=>{delete this.session,Tt&&frame.postRender(()=>Tt(Dt,Ft))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",et=>this.onPointerDown(et))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const PresenceContext=reactExports.createContext(null);function usePresence(){const dt=reactExports.useContext(PresenceContext);if(dt===null)return[!0,null];const{isPresent:et,onExitComplete:$t,register:kt}=dt,Tt=reactExports.useId();reactExports.useEffect(()=>kt(Tt),[]);const Dt=reactExports.useCallback(()=>$t&&$t(Tt),[Tt,$t]);return!et&&$t?[!1,Dt]:[!0]}const LayoutGroupContext=reactExports.createContext({}),SwitchLayoutGroupContext=reactExports.createContext({}),globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent(dt,et){return et.max===et.min?0:dt/(et.max-et.min)*100}const correctBorderRadius={correct:(dt,et)=>{if(!et.target)return dt;if(typeof dt=="string")if(px.test(dt))dt=parseFloat(dt);else return dt;const $t=pixelsToPercent(dt,et.target.x),kt=pixelsToPercent(dt,et.target.y);return`${$t}% ${kt}%`}},correctBoxShadow={correct:(dt,{treeScale:et,projectionDelta:$t})=>{const kt=dt,Tt=complex.parse(dt);if(Tt.length>5)return kt;const Dt=complex.createTransformer(dt),Ft=typeof Tt[0]!="number"?1:0,Ut=$t.x.scale*et.x,Ht=$t.y.scale*et.y;Tt[0+Ft]/=Ut,Tt[1+Ft]/=Ht;const Kt=mixNumber$1(Ut,Ht,.5);return typeof Tt[2+Ft]=="number"&&(Tt[2+Ft]/=Kt),typeof Tt[3+Ft]=="number"&&(Tt[3+Ft]/=Kt),Dt(Tt)}},scaleCorrectors={};function addScaleCorrector(dt){Object.assign(scaleCorrectors,dt)}const{schedule:microtask,cancel:cancelMicrotask}=createRenderBatcher(queueMicrotask,!1);class MeasureLayoutWithContext extends reactExports.Component{componentDidMount(){const{visualElement:et,layoutGroup:$t,switchLayoutGroup:kt,layoutId:Tt}=this.props,{projection:Dt}=et;addScaleCorrector(defaultScaleCorrectors),Dt&&($t.group&&$t.group.add(Dt),kt&&kt.register&&Tt&&kt.register(Dt),Dt.root.didUpdate(),Dt.addEventListener("animationComplete",()=>{this.safeToRemove()}),Dt.setOptions({...Dt.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate(et){const{layoutDependency:$t,visualElement:kt,drag:Tt,isPresent:Dt}=this.props,Ft=kt.projection;return Ft&&(Ft.isPresent=Dt,Tt||et.layoutDependency!==$t||$t===void 0?Ft.willUpdate():this.safeToRemove(),et.isPresent!==Dt&&(Dt?Ft.promote():Ft.relegate()||frame.postRender(()=>{const Ut=Ft.getStack();(!Ut||!Ut.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:et}=this.props.visualElement;et&&(et.root.didUpdate(),microtask.postRender(()=>{!et.currentAnimation&&et.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:et,layoutGroup:$t,switchLayoutGroup:kt}=this.props,{projection:Tt}=et;Tt&&(Tt.scheduleCheckAfterUnmount(),$t&&$t.group&&$t.group.remove(Tt),kt&&kt.deregister&&kt.deregister(Tt))}safeToRemove(){const{safeToRemove:et}=this.props;et&&et()}render(){return null}}function MeasureLayout(dt){const[et,$t]=usePresence(),kt=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(MeasureLayoutWithContext,{...dt,layoutGroup:kt,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:et,safeToRemove:$t})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow},borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=dt=>typeof dt=="string"?parseFloat(dt):dt,isPx=dt=>typeof dt=="number"||px.test(dt);function mixValues(dt,et,$t,kt,Tt,Dt){Tt?(dt.opacity=mixNumber$1(0,$t.opacity!==void 0?$t.opacity:1,easeCrossfadeIn(kt)),dt.opacityExit=mixNumber$1(et.opacity!==void 0?et.opacity:1,0,easeCrossfadeOut(kt))):Dt&&(dt.opacity=mixNumber$1(et.opacity!==void 0?et.opacity:1,$t.opacity!==void 0?$t.opacity:1,kt));for(let Ft=0;Ft<numBorders;Ft++){const Ut=`border${borders[Ft]}Radius`;let Ht=getRadius(et,Ut),Kt=getRadius($t,Ut);if(Ht===void 0&&Kt===void 0)continue;Ht||(Ht=0),Kt||(Kt=0),Ht===0||Kt===0||isPx(Ht)===isPx(Kt)?(dt[Ut]=Math.max(mixNumber$1(asNumber(Ht),asNumber(Kt),kt),0),(percent.test(Kt)||percent.test(Ht))&&(dt[Ut]+="%")):dt[Ut]=Kt}(et.rotate||$t.rotate)&&(dt.rotate=mixNumber$1(et.rotate||0,$t.rotate||0,kt))}function getRadius(dt,et){return dt[et]!==void 0?dt[et]:dt.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop$c);function compress(dt,et,$t){return kt=>kt<dt?0:kt>et?1:$t(progress(dt,et,kt))}function copyAxisInto(dt,et){dt.min=et.min,dt.max=et.max}function copyBoxInto(dt,et){copyAxisInto(dt.x,et.x),copyAxisInto(dt.y,et.y)}function copyAxisDeltaInto(dt,et){dt.translate=et.translate,dt.scale=et.scale,dt.originPoint=et.originPoint,dt.origin=et.origin}function removePointDelta(dt,et,$t,kt,Tt){return dt-=et,dt=scalePoint(dt,1/$t,kt),Tt!==void 0&&(dt=scalePoint(dt,1/Tt,kt)),dt}function removeAxisDelta(dt,et=0,$t=1,kt=.5,Tt,Dt=dt,Ft=dt){if(percent.test(et)&&(et=parseFloat(et),et=mixNumber$1(Ft.min,Ft.max,et/100)-Ft.min),typeof et!="number")return;let Ut=mixNumber$1(Dt.min,Dt.max,kt);dt===Dt&&(Ut-=et),dt.min=removePointDelta(dt.min,et,$t,Ut,Tt),dt.max=removePointDelta(dt.max,et,$t,Ut,Tt)}function removeAxisTransforms(dt,et,[$t,kt,Tt],Dt,Ft){removeAxisDelta(dt,et[$t],et[kt],et[Tt],et.scale,Dt,Ft)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(dt,et,$t,kt){removeAxisTransforms(dt.x,et,xKeys,$t?$t.x:void 0,kt?kt.x:void 0),removeAxisTransforms(dt.y,et,yKeys,$t?$t.y:void 0,kt?kt.y:void 0)}function isAxisDeltaZero(dt){return dt.translate===0&&dt.scale===1}function isDeltaZero(dt){return isAxisDeltaZero(dt.x)&&isAxisDeltaZero(dt.y)}function axisEquals(dt,et){return dt.min===et.min&&dt.max===et.max}function boxEquals(dt,et){return axisEquals(dt.x,et.x)&&axisEquals(dt.y,et.y)}function axisEqualsRounded(dt,et){return Math.round(dt.min)===Math.round(et.min)&&Math.round(dt.max)===Math.round(et.max)}function boxEqualsRounded(dt,et){return axisEqualsRounded(dt.x,et.x)&&axisEqualsRounded(dt.y,et.y)}function aspectRatio(dt){return calcLength(dt.x)/calcLength(dt.y)}function axisDeltaEquals(dt,et){return dt.translate===et.translate&&dt.scale===et.scale&&dt.originPoint===et.originPoint}class NodeStack{constructor(){this.members=[]}add(et){addUniqueItem(this.members,et),et.scheduleRender()}remove(et){if(removeItem(this.members,et),et===this.prevLead&&(this.prevLead=void 0),et===this.lead){const $t=this.members[this.members.length-1];$t&&this.promote($t)}}relegate(et){const $t=this.members.findIndex(Tt=>et===Tt);if($t===0)return!1;let kt;for(let Tt=$t;Tt>=0;Tt--){const Dt=this.members[Tt];if(Dt.isPresent!==!1){kt=Dt;break}}return kt?(this.promote(kt),!0):!1}promote(et,$t){const kt=this.lead;if(et!==kt&&(this.prevLead=kt,this.lead=et,et.show(),kt)){kt.instance&&kt.scheduleRender(),et.scheduleRender(),et.resumeFrom=kt,$t&&(et.resumeFrom.preserveOpacity=!0),kt.snapshot&&(et.snapshot=kt.snapshot,et.snapshot.latestValues=kt.animationValues||kt.latestValues),et.root&&et.root.isUpdating&&(et.isLayoutDirty=!0);const{crossfade:Tt}=et.options;Tt===!1&&kt.hide()}}exitAnimationComplete(){this.members.forEach(et=>{const{options:$t,resumingFrom:kt}=et;$t.onExitComplete&&$t.onExitComplete(),kt&&kt.options.onExitComplete&&kt.options.onExitComplete()})}scheduleRender(){this.members.forEach(et=>{et.instance&&et.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(dt,et,$t){let kt="";const Tt=dt.x.translate/et.x,Dt=dt.y.translate/et.y,Ft=($t==null?void 0:$t.z)||0;if((Tt||Dt||Ft)&&(kt=`translate3d(${Tt}px, ${Dt}px, ${Ft}px) `),(et.x!==1||et.y!==1)&&(kt+=`scale(${1/et.x}, ${1/et.y}) `),$t){const{transformPerspective:Kt,rotate:Yt,rotateX:Jt,rotateY:Zt,skewX:er,skewY:rr}=$t;Kt&&(kt=`perspective(${Kt}px) ${kt}`),Yt&&(kt+=`rotate(${Yt}deg) `),Jt&&(kt+=`rotateX(${Jt}deg) `),Zt&&(kt+=`rotateY(${Zt}deg) `),er&&(kt+=`skewX(${er}deg) `),rr&&(kt+=`skewY(${rr}deg) `)}const Ut=dt.x.scale*et.x,Ht=dt.y.scale*et.y;return(Ut!==1||Ht!==1)&&(kt+=`scale(${Ut}, ${Ht})`),kt||"none"}const compareByDepth=(dt,et)=>dt.depth-et.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(et){addUniqueItem(this.children,et),this.isDirty=!0}remove(et){removeItem(this.children,et),this.isDirty=!0}forEach(et){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(et)}}function resolveMotionValue(dt){const et=isMotionValue(dt)?dt.get():dt;return isCustomValue(et)?et.toValue():et}function delay(dt,et){const $t=time$1.now(),kt=({timestamp:Tt})=>{const Dt=Tt-$t;Dt>=et&&(cancelFrame$1(kt),dt(Dt-et))};return frame.read(kt,!0),()=>cancelFrame$1(kt)}function isSVGElement$1(dt){return dt instanceof SVGElement&&dt.tagName!=="svg"}function animateSingleValue(dt,et,$t){const kt=isMotionValue(dt)?dt:motionValue(dt);return kt.start(animateMotionValue("",kt,et,$t)),kt.animation}const metrics={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},isDebug=typeof window<"u"&&window.MotionDebug!==void 0,transformAxes=["","X","Y","Z"],hiddenVisibility={visibility:"hidden"},animationTarget=1e3;let id=0;function resetDistortingTransform(dt,et,$t,kt){const{latestValues:Tt}=et;Tt[dt]&&($t[dt]=Tt[dt],et.setStaticValue(dt,0),kt&&(kt[dt]=0))}function cancelTreeOptimisedTransformAnimations(dt){if(dt.hasCheckedOptimisedAppear=!0,dt.root===dt)return;const{visualElement:et}=dt.options;if(!et)return;const $t=getOptimisedAppearId(et);if(window.MotionHasOptimisedAnimation($t,"transform")){const{layout:Tt,layoutId:Dt}=dt.options;window.MotionCancelOptimisedAnimation($t,"transform",frame,!(Tt||Dt))}const{parent:kt}=dt;kt&&!kt.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(kt)}function createProjectionNode$1({attachResizeListener:dt,defaultParent:et,measureScroll:$t,checkIsScrollRoot:kt,resetTransform:Tt}){return class{constructor(Ft={},Ut=et==null?void 0:et()){this.id=id++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,isDebug&&(metrics.totalNodes=metrics.resolvedTargetDeltas=metrics.recalculatedProjection=0),this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes),isDebug&&window.MotionDebug.record(metrics)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=Ft,this.root=Ut?Ut.root||Ut:this,this.path=Ut?[...Ut.path,Ut]:[],this.parent=Ut,this.depth=Ut?Ut.depth+1:0;for(let Ht=0;Ht<this.path.length;Ht++)this.path[Ht].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(Ft,Ut){return this.eventHandlers.has(Ft)||this.eventHandlers.set(Ft,new SubscriptionManager),this.eventHandlers.get(Ft).add(Ut)}notifyListeners(Ft,...Ut){const Ht=this.eventHandlers.get(Ft);Ht&&Ht.notify(...Ut)}hasListeners(Ft){return this.eventHandlers.has(Ft)}mount(Ft,Ut=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=isSVGElement$1(Ft),this.instance=Ft;const{layoutId:Ht,layout:Kt,visualElement:Yt}=this.options;if(Yt&&!Yt.current&&Yt.mount(Ft),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),Ut&&(Kt||Ht)&&(this.isLayoutDirty=!0),dt){let Jt;const Zt=()=>this.root.updateBlockedByResize=!1;dt(Ft,()=>{this.root.updateBlockedByResize=!0,Jt&&Jt(),Jt=delay(Zt,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation))})}Ht&&this.root.registerSharedNode(Ht,this),this.options.animate!==!1&&Yt&&(Ht||Kt)&&this.addEventListener("didUpdate",({delta:Jt,hasLayoutChanged:Zt,hasRelativeTargetChanged:er,layout:rr})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const sr=this.options.transition||Yt.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:ir,onLayoutAnimationComplete:nr}=Yt.getProps(),or=!this.targetLayout||!boxEqualsRounded(this.targetLayout,rr)||er,lr=!Zt&&er;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||lr||Zt&&(or||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(Jt,lr);const cr={...getValueTransition(sr,"layout"),onPlay:ir,onComplete:nr};(Yt.shouldReduceMotion||this.options.layoutRoot)&&(cr.delay=0,cr.type=!1),this.startAnimation(cr)}else Zt||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=rr})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const Ft=this.getStack();Ft&&Ft.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,cancelFrame$1(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetSkewAndRotation),this.animationId++)}getTransformTemplate(){const{visualElement:Ft}=this.options;return Ft&&Ft.getProps().transformTemplate}willUpdate(Ft=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let Yt=0;Yt<this.path.length;Yt++){const Jt=this.path[Yt];Jt.shouldResetTransform=!0,Jt.updateScroll("snapshot"),Jt.options.layoutRoot&&Jt.willUpdate(!1)}const{layoutId:Ut,layout:Ht}=this.options;if(Ut===void 0&&!Ht)return;const Kt=this.getTransformTemplate();this.prevTransformTemplateValue=Kt?Kt(this.latestValues,""):void 0,this.updateSnapshot(),Ft&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}this.isUpdating||this.nodes.forEach(clearIsLayoutDirty),this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate),this.clearAllSnapshots();const Ut=time$1.now();frameData.delta=clamp$6(0,1e3/60,Ut-frameData.timestamp),frameData.timestamp=Ut,frameData.isProcessing=!0,frameSteps.update.process(frameData),frameSteps.preRender.process(frameData),frameSteps.render.process(frameData),frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,microtask.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let Ht=0;Ht<this.path.length;Ht++)this.path[Ht].updateScroll();const Ft=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:Ut}=this.options;Ut&&Ut.notify("LayoutMeasure",this.layout.layoutBox,Ft?Ft.layoutBox:void 0)}updateScroll(Ft="measure"){let Ut=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===Ft&&(Ut=!1),Ut){const Ht=kt(this.instance);this.scroll={animationId:this.root.animationId,phase:Ft,isRoot:Ht,offset:$t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:Ht}}}resetTransform(){if(!Tt)return;const Ft=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,Ut=this.projectionDelta&&!isDeltaZero(this.projectionDelta),Ht=this.getTransformTemplate(),Kt=Ht?Ht(this.latestValues,""):void 0,Yt=Kt!==this.prevTransformTemplateValue;Ft&&(Ut||hasTransform(this.latestValues)||Yt)&&(Tt(this.instance,Kt),this.shouldResetTransform=!1,this.scheduleRender())}measure(Ft=!0){const Ut=this.measurePageBox();let Ht=this.removeElementScroll(Ut);return Ft&&(Ht=this.removeTransform(Ht)),roundBox(Ht),{animationId:this.root.animationId,measuredBox:Ut,layoutBox:Ht,latestValues:{},source:this.id}}measurePageBox(){var Ft;const{visualElement:Ut}=this.options;if(!Ut)return createBox();const Ht=Ut.measureViewportBox();if(!(((Ft=this.scroll)===null||Ft===void 0?void 0:Ft.wasRoot)||this.path.some(checkNodeWasScrollRoot))){const{scroll:Yt}=this.root;Yt&&(translateAxis(Ht.x,Yt.offset.x),translateAxis(Ht.y,Yt.offset.y))}return Ht}removeElementScroll(Ft){var Ut;const Ht=createBox();if(copyBoxInto(Ht,Ft),!((Ut=this.scroll)===null||Ut===void 0)&&Ut.wasRoot)return Ht;for(let Kt=0;Kt<this.path.length;Kt++){const Yt=this.path[Kt],{scroll:Jt,options:Zt}=Yt;Yt!==this.root&&Jt&&Zt.layoutScroll&&(Jt.wasRoot&&copyBoxInto(Ht,Ft),translateAxis(Ht.x,Jt.offset.x),translateAxis(Ht.y,Jt.offset.y))}return Ht}applyTransform(Ft,Ut=!1){const Ht=createBox();copyBoxInto(Ht,Ft);for(let Kt=0;Kt<this.path.length;Kt++){const Yt=this.path[Kt];!Ut&&Yt.options.layoutScroll&&Yt.scroll&&Yt!==Yt.root&&transformBox(Ht,{x:-Yt.scroll.offset.x,y:-Yt.scroll.offset.y}),hasTransform(Yt.latestValues)&&transformBox(Ht,Yt.latestValues)}return hasTransform(this.latestValues)&&transformBox(Ht,this.latestValues),Ht}removeTransform(Ft){const Ut=createBox();copyBoxInto(Ut,Ft);for(let Ht=0;Ht<this.path.length;Ht++){const Kt=this.path[Ht];if(!Kt.instance||!hasTransform(Kt.latestValues))continue;hasScale(Kt.latestValues)&&Kt.updateSnapshot();const Yt=createBox(),Jt=Kt.measurePageBox();copyBoxInto(Yt,Jt),removeBoxTransforms(Ut,Kt.latestValues,Kt.snapshot?Kt.snapshot.layoutBox:void 0,Yt)}return hasTransform(this.latestValues)&&removeBoxTransforms(Ut,this.latestValues),Ut}setTargetDelta(Ft){this.targetDelta=Ft,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(Ft){this.options={...this.options,...Ft,crossfade:Ft.crossfade!==void 0?Ft.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(Ft=!1){var Ut;const Ht=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=Ht.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=Ht.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=Ht.isSharedProjectionDirty);const Kt=!!this.resumingFrom||this!==Ht;if(!(Ft||Kt&&this.isSharedProjectionDirty||this.isProjectionDirty||!((Ut=this.parent)===null||Ut===void 0)&&Ut.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:Jt,layoutId:Zt}=this.options;if(!(!this.layout||!(Jt||Zt))){if(this.resolvedRelativeTargetAt=frameData.timestamp,!this.targetDelta&&!this.relativeTarget){const er=this.getClosestProjectingParent();er&&er.layout&&this.animationProgress!==1?(this.relativeParent=er,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,er.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const er=this.getClosestProjectingParent();er&&!!er.resumingFrom==!!this.resumingFrom&&!er.options.layoutScroll&&er.target&&this.animationProgress!==1?(this.relativeParent=er,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,er.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}isDebug&&metrics.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var Ft;const Ut=this.getLead(),Ht=!!this.resumingFrom||this!==Ut;let Kt=!0;if((this.isProjectionDirty||!((Ft=this.parent)===null||Ft===void 0)&&Ft.isProjectionDirty)&&(Kt=!1),Ht&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(Kt=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(Kt=!1),Kt)return;const{layout:Yt,layoutId:Jt}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(Yt||Jt))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const Zt=this.treeScale.x,er=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,Ht),Ut.layout&&!Ut.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(Ut.target=Ut.layout.layoutBox,Ut.targetWithTransforms=createBox());const{target:rr}=Ut;if(!rr){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(copyAxisDeltaInto(this.prevProjectionDelta.x,this.projectionDelta.x),copyAxisDeltaInto(this.prevProjectionDelta.y,this.projectionDelta.y)),calcBoxDelta(this.projectionDelta,this.layoutCorrected,rr,this.latestValues),(this.treeScale.x!==Zt||this.treeScale.y!==er||!axisDeltaEquals(this.projectionDelta.x,this.prevProjectionDelta.x)||!axisDeltaEquals(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",rr)),isDebug&&metrics.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(Ft=!0){var Ut;if((Ut=this.options.visualElement)===null||Ut===void 0||Ut.scheduleRender(),Ft){const Ht=this.getStack();Ht&&Ht.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=createDelta(),this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta()}setAnimationOrigin(Ft,Ut=!1){const Ht=this.snapshot,Kt=Ht?Ht.latestValues:{},Yt={...this.latestValues},Jt=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!Ut;const Zt=createBox(),er=Ht?Ht.source:void 0,rr=this.layout?this.layout.source:void 0,sr=er!==rr,ir=this.getStack(),nr=!ir||ir.members.length<=1,or=!!(sr&&!nr&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let lr;this.mixTargetDelta=cr=>{const dr=cr/1e3;mixAxisDelta(Jt.x,Ft.x,dr),mixAxisDelta(Jt.y,Ft.y,dr),this.setTargetDelta(Jt),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition(Zt,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,Zt,dr),lr&&boxEquals(this.relativeTarget,lr)&&(this.isProjectionDirty=!1),lr||(lr=createBox()),copyBoxInto(lr,this.relativeTarget)),sr&&(this.animationValues=Yt,mixValues(Yt,Kt,this.latestValues,dr,or,nr)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=dr},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(Ft){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(cancelFrame$1(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.currentAnimation=animateSingleValue(0,animationTarget,{...Ft,onUpdate:Ut=>{this.mixTargetDelta(Ut),Ft.onUpdate&&Ft.onUpdate(Ut)},onComplete:()=>{Ft.onComplete&&Ft.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const Ft=this.getStack();Ft&&Ft.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const Ft=this.getLead();let{targetWithTransforms:Ut,target:Ht,layout:Kt,latestValues:Yt}=Ft;if(!(!Ut||!Ht||!Kt)){if(this!==Ft&&this.layout&&Kt&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,Kt.layoutBox)){Ht=this.target||createBox();const Jt=calcLength(this.layout.layoutBox.x);Ht.x.min=Ft.target.x.min,Ht.x.max=Ht.x.min+Jt;const Zt=calcLength(this.layout.layoutBox.y);Ht.y.min=Ft.target.y.min,Ht.y.max=Ht.y.min+Zt}copyBoxInto(Ut,Ht),transformBox(Ut,Yt),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,Ut,Yt)}}registerSharedNode(Ft,Ut){this.sharedNodes.has(Ft)||this.sharedNodes.set(Ft,new NodeStack),this.sharedNodes.get(Ft).add(Ut);const Kt=Ut.options.initialPromotionConfig;Ut.promote({transition:Kt?Kt.transition:void 0,preserveFollowOpacity:Kt&&Kt.shouldPreserveFollowOpacity?Kt.shouldPreserveFollowOpacity(Ut):void 0})}isLead(){const Ft=this.getStack();return Ft?Ft.lead===this:!0}getLead(){var Ft;const{layoutId:Ut}=this.options;return Ut?((Ft=this.getStack())===null||Ft===void 0?void 0:Ft.lead)||this:this}getPrevLead(){var Ft;const{layoutId:Ut}=this.options;return Ut?(Ft=this.getStack())===null||Ft===void 0?void 0:Ft.prevLead:void 0}getStack(){const{layoutId:Ft}=this.options;if(Ft)return this.root.sharedNodes.get(Ft)}promote({needsReset:Ft,transition:Ut,preserveFollowOpacity:Ht}={}){const Kt=this.getStack();Kt&&Kt.promote(this,Ht),Ft&&(this.projectionDelta=void 0,this.needsReset=!0),Ut&&this.setOptions({transition:Ut})}relegate(){const Ft=this.getStack();return Ft?Ft.relegate(this):!1}resetSkewAndRotation(){const{visualElement:Ft}=this.options;if(!Ft)return;let Ut=!1;const{latestValues:Ht}=Ft;if((Ht.z||Ht.rotate||Ht.rotateX||Ht.rotateY||Ht.rotateZ||Ht.skewX||Ht.skewY)&&(Ut=!0),!Ut)return;const Kt={};Ht.z&&resetDistortingTransform("z",Ft,Kt,this.animationValues);for(let Yt=0;Yt<transformAxes.length;Yt++)resetDistortingTransform(`rotate${transformAxes[Yt]}`,Ft,Kt,this.animationValues),resetDistortingTransform(`skew${transformAxes[Yt]}`,Ft,Kt,this.animationValues);Ft.render();for(const Yt in Kt)Ft.setStaticValue(Yt,Kt[Yt]),this.animationValues&&(this.animationValues[Yt]=Kt[Yt]);Ft.scheduleRender()}getProjectionStyles(Ft){var Ut,Ht;if(!this.instance||this.isSVG)return;if(!this.isVisible)return hiddenVisibility;const Kt={visibility:""},Yt=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,Kt.opacity="",Kt.pointerEvents=resolveMotionValue(Ft==null?void 0:Ft.pointerEvents)||"",Kt.transform=Yt?Yt(this.latestValues,""):"none",Kt;const Jt=this.getLead();if(!this.projectionDelta||!this.layout||!Jt.target){const sr={};return this.options.layoutId&&(sr.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,sr.pointerEvents=resolveMotionValue(Ft==null?void 0:Ft.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(sr.transform=Yt?Yt({},""):"none",this.hasProjected=!1),sr}const Zt=Jt.animationValues||Jt.latestValues;this.applyTransformsToTarget(),Kt.transform=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,Zt),Yt&&(Kt.transform=Yt(Zt,Kt.transform));const{x:er,y:rr}=this.projectionDelta;Kt.transformOrigin=`${er.origin*100}% ${rr.origin*100}% 0`,Jt.animationValues?Kt.opacity=Jt===this?(Ht=(Ut=Zt.opacity)!==null&&Ut!==void 0?Ut:this.latestValues.opacity)!==null&&Ht!==void 0?Ht:1:this.preserveOpacity?this.latestValues.opacity:Zt.opacityExit:Kt.opacity=Jt===this?Zt.opacity!==void 0?Zt.opacity:"":Zt.opacityExit!==void 0?Zt.opacityExit:0;for(const sr in scaleCorrectors){if(Zt[sr]===void 0)continue;const{correct:ir,applyTo:nr}=scaleCorrectors[sr],or=Kt.transform==="none"?Zt[sr]:ir(Zt[sr],Jt);if(nr){const lr=nr.length;for(let cr=0;cr<lr;cr++)Kt[nr[cr]]=or}else Kt[sr]=or}return this.options.layoutId&&(Kt.pointerEvents=Jt===this?resolveMotionValue(Ft==null?void 0:Ft.pointerEvents)||"":"none"),Kt}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(Ft=>{var Ut;return(Ut=Ft.currentAnimation)===null||Ut===void 0?void 0:Ut.stop()}),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(dt){dt.updateLayout()}function notifyLayoutUpdate(dt){var et;const $t=((et=dt.resumeFrom)===null||et===void 0?void 0:et.snapshot)||dt.snapshot;if(dt.isLead()&&dt.layout&&$t&&dt.hasListeners("didUpdate")){const{layoutBox:kt,measuredBox:Tt}=dt.layout,{animationType:Dt}=dt.options,Ft=$t.source!==dt.layout.source;Dt==="size"?eachAxis(Jt=>{const Zt=Ft?$t.measuredBox[Jt]:$t.layoutBox[Jt],er=calcLength(Zt);Zt.min=kt[Jt].min,Zt.max=Zt.min+er}):shouldAnimatePositionOnly(Dt,$t.layoutBox,kt)&&eachAxis(Jt=>{const Zt=Ft?$t.measuredBox[Jt]:$t.layoutBox[Jt],er=calcLength(kt[Jt]);Zt.max=Zt.min+er,dt.relativeTarget&&!dt.currentAnimation&&(dt.isProjectionDirty=!0,dt.relativeTarget[Jt].max=dt.relativeTarget[Jt].min+er)});const Ut=createDelta();calcBoxDelta(Ut,kt,$t.layoutBox);const Ht=createDelta();Ft?calcBoxDelta(Ht,dt.applyTransform(Tt,!0),$t.measuredBox):calcBoxDelta(Ht,kt,$t.layoutBox);const Kt=!isDeltaZero(Ut);let Yt=!1;if(!dt.resumeFrom){const Jt=dt.getClosestProjectingParent();if(Jt&&!Jt.resumeFrom){const{snapshot:Zt,layout:er}=Jt;if(Zt&&er){const rr=createBox();calcRelativePosition(rr,$t.layoutBox,Zt.layoutBox);const sr=createBox();calcRelativePosition(sr,kt,er.layoutBox),boxEqualsRounded(rr,sr)||(Yt=!0),Jt.options.layoutRoot&&(dt.relativeTarget=sr,dt.relativeTargetOrigin=rr,dt.relativeParent=Jt)}}}dt.notifyListeners("didUpdate",{layout:kt,snapshot:$t,delta:Ht,layoutDelta:Ut,hasLayoutChanged:Kt,hasRelativeTargetChanged:Yt})}else if(dt.isLead()){const{onExitComplete:kt}=dt.options;kt&&kt()}dt.options.transition=void 0}function propagateDirtyNodes(dt){isDebug&&metrics.totalNodes++,dt.parent&&(dt.isProjecting()||(dt.isProjectionDirty=dt.parent.isProjectionDirty),dt.isSharedProjectionDirty||(dt.isSharedProjectionDirty=!!(dt.isProjectionDirty||dt.parent.isProjectionDirty||dt.parent.isSharedProjectionDirty)),dt.isTransformDirty||(dt.isTransformDirty=dt.parent.isTransformDirty))}function cleanDirtyNodes(dt){dt.isProjectionDirty=dt.isSharedProjectionDirty=dt.isTransformDirty=!1}function clearSnapshot(dt){dt.clearSnapshot()}function clearMeasurements(dt){dt.clearMeasurements()}function clearIsLayoutDirty(dt){dt.isLayoutDirty=!1}function resetTransformStyle(dt){const{visualElement:et}=dt.options;et&&et.getProps().onBeforeLayoutMeasure&&et.notify("BeforeLayoutMeasure"),dt.resetTransform()}function finishAnimation(dt){dt.finishAnimation(),dt.targetDelta=dt.relativeTarget=dt.target=void 0,dt.isProjectionDirty=!0}function resolveTargetDelta(dt){dt.resolveTargetDelta()}function calcProjection(dt){dt.calcProjection()}function resetSkewAndRotation(dt){dt.resetSkewAndRotation()}function removeLeadSnapshots(dt){dt.removeLeadSnapshot()}function mixAxisDelta(dt,et,$t){dt.translate=mixNumber$1(et.translate,0,$t),dt.scale=mixNumber$1(et.scale,1,$t),dt.origin=et.origin,dt.originPoint=et.originPoint}function mixAxis(dt,et,$t,kt){dt.min=mixNumber$1(et.min,$t.min,kt),dt.max=mixNumber$1(et.max,$t.max,kt)}function mixBox(dt,et,$t,kt){mixAxis(dt.x,et.x,$t.x,kt),mixAxis(dt.y,et.y,$t.y,kt)}function hasOpacityCrossfade(dt){return dt.animationValues&&dt.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]},userAgentContains=dt=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(dt),roundPoint=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop$c;function roundAxis(dt){dt.min=roundPoint(dt.min),dt.max=roundPoint(dt.max)}function roundBox(dt){roundAxis(dt.x),roundAxis(dt.y)}function shouldAnimatePositionOnly(dt,et,$t){return dt==="position"||dt==="preserve-aspect"&&!isNear$1(aspectRatio(et),aspectRatio($t),.2)}function checkNodeWasScrollRoot(dt){var et;return dt!==dt.root&&((et=dt.scroll)===null||et===void 0?void 0:et.wasRoot)}const DocumentProjectionNode=createProjectionNode$1({attachResizeListener:(dt,et)=>addDomEvent(dt,"resize",et),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode$1({measureScroll:dt=>({x:dt.scrollLeft,y:dt.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const dt=new DocumentProjectionNode({});dt.mount(window),dt.setOptions({layoutScroll:!0}),rootProjectionNode.current=dt}return rootProjectionNode.current},resetTransform:(dt,et)=>{dt.style.transform=et!==void 0?et:"none"},checkIsScrollRoot:dt=>window.getComputedStyle(dt).position==="fixed"}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}};function handleHoverEvent(dt,et,$t){const{props:kt}=dt;dt.animationState&&kt.whileHover&&dt.animationState.setActive("whileHover",$t==="Start");const Tt="onHover"+$t,Dt=kt[Tt];Dt&&frame.postRender(()=>Dt(et,extractEventInfo(et)))}class HoverGesture extends Feature$1{mount(){const{current:et}=this.node;et&&(this.unmount=hover(et,$t=>(handleHoverEvent(this.node,$t,"Start"),kt=>handleHoverEvent(this.node,kt,"End"))))}unmount(){}}class FocusGesture extends Feature$1{constructor(){super(...arguments),this.isActive=!1}onFocus(){let et=!1;try{et=this.node.current.matches(":focus-visible")}catch{et=!0}!et||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function handlePressEvent(dt,et,$t){const{props:kt}=dt;dt.animationState&&kt.whileTap&&dt.animationState.setActive("whileTap",$t==="Start");const Tt="onTap"+($t==="End"?"":$t),Dt=kt[Tt];Dt&&frame.postRender(()=>Dt(et,extractEventInfo(et)))}class PressGesture extends Feature$1{mount(){const{current:et}=this.node;et&&(this.unmount=press(et,$t=>(handlePressEvent(this.node,$t,"Start"),(kt,{success:Tt})=>handlePressEvent(this.node,kt,Tt?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=dt=>{const et=observerCallbacks.get(dt.target);et&&et(dt)},fireAllObserverCallbacks=dt=>{dt.forEach(fireObserverCallback)};function initIntersectionObserver({root:dt,...et}){const $t=dt||document;observers.has($t)||observers.set($t,{});const kt=observers.get($t),Tt=JSON.stringify(et);return kt[Tt]||(kt[Tt]=new IntersectionObserver(fireAllObserverCallbacks,{root:dt,...et})),kt[Tt]}function observeIntersection(dt,et,$t){const kt=initIntersectionObserver(et);return observerCallbacks.set(dt,$t),kt.observe(dt),()=>{observerCallbacks.delete(dt),kt.unobserve(dt)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature$1{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:et={}}=this.node.getProps(),{root:$t,margin:kt,amount:Tt="some",once:Dt}=et,Ft={root:$t?$t.current:void 0,rootMargin:kt,threshold:typeof Tt=="number"?Tt:thresholdNames[Tt]},Ut=Ht=>{const{isIntersecting:Kt}=Ht;if(this.isInView===Kt||(this.isInView=Kt,Dt&&!Kt&&this.hasEnteredView))return;Kt&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",Kt);const{onViewportEnter:Yt,onViewportLeave:Jt}=this.node.getProps(),Zt=Kt?Yt:Jt;Zt&&Zt(Ht)};return observeIntersection(this.node.current,Ft,Ut)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:et,prevProps:$t}=this.node;["amount","margin","root"].some(hasViewportOptionChanged(et,$t))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:dt={}},{viewport:et={}}={}){return $t=>dt[$t]!==et[$t]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}},layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},MotionConfigContext=reactExports.createContext({transformPagePoint:dt=>dt,isStatic:!1,reducedMotion:"never"}),MotionContext=reactExports.createContext({}),isBrowser$1=typeof window<"u",useIsomorphicLayoutEffect$8=isBrowser$1?reactExports.useLayoutEffect:reactExports.useEffect,LazyContext=reactExports.createContext({strict:!1});function useVisualElement(dt,et,$t,kt,Tt){var Dt,Ft;const{visualElement:Ut}=reactExports.useContext(MotionContext),Ht=reactExports.useContext(LazyContext),Kt=reactExports.useContext(PresenceContext),Yt=reactExports.useContext(MotionConfigContext).reducedMotion,Jt=reactExports.useRef(null);kt=kt||Ht.renderer,!Jt.current&&kt&&(Jt.current=kt(dt,{visualState:et,parent:Ut,props:$t,presenceContext:Kt,blockInitialAnimation:Kt?Kt.initial===!1:!1,reducedMotionConfig:Yt}));const Zt=Jt.current,er=reactExports.useContext(SwitchLayoutGroupContext);Zt&&!Zt.projection&&Tt&&(Zt.type==="html"||Zt.type==="svg")&&createProjectionNode(Jt.current,$t,Tt,er);const rr=reactExports.useRef(!1);reactExports.useInsertionEffect(()=>{Zt&&rr.current&&Zt.update($t,Kt)});const sr=$t[optimizedAppearDataAttribute],ir=reactExports.useRef(!!sr&&!(!((Dt=window.MotionHandoffIsComplete)===null||Dt===void 0)&&Dt.call(window,sr))&&((Ft=window.MotionHasOptimisedAnimation)===null||Ft===void 0?void 0:Ft.call(window,sr)));return useIsomorphicLayoutEffect$8(()=>{Zt&&(rr.current=!0,window.MotionIsMounted=!0,Zt.updateFeatures(),microtask.render(Zt.render),ir.current&&Zt.animationState&&Zt.animationState.animateChanges())}),reactExports.useEffect(()=>{Zt&&(!ir.current&&Zt.animationState&&Zt.animationState.animateChanges(),ir.current&&(queueMicrotask(()=>{var nr;(nr=window.MotionHandoffMarkAsComplete)===null||nr===void 0||nr.call(window,sr)}),ir.current=!1))}),Zt}function createProjectionNode(dt,et,$t,kt){const{layoutId:Tt,layout:Dt,drag:Ft,dragConstraints:Ut,layoutScroll:Ht,layoutRoot:Kt}=et;dt.projection=new $t(dt.latestValues,et["data-framer-portal-id"]?void 0:getClosestProjectingNode(dt.parent)),dt.projection.setOptions({layoutId:Tt,layout:Dt,alwaysMeasureLayout:!!Ft||Ut&&isRefObject(Ut),visualElement:dt,animationType:typeof Dt=="string"?Dt:"both",initialPromotionConfig:kt,layoutScroll:Ht,layoutRoot:Kt})}function getClosestProjectingNode(dt){if(dt)return dt.options.allowProjection!==!1?dt.projection:getClosestProjectingNode(dt.parent)}function useMotionRef(dt,et,$t){return reactExports.useCallback(kt=>{kt&&dt.mount&&dt.mount(kt),et&&(kt?et.mount(kt):et.unmount()),$t&&(typeof $t=="function"?$t(kt):isRefObject($t)&&($t.current=kt))},[et])}function isControllingVariants(dt){return isAnimationControls(dt.animate)||variantProps.some(et=>isVariantLabel(dt[et]))}function isVariantNode(dt){return!!(isControllingVariants(dt)||dt.variants)}function getCurrentTreeVariants(dt,et){if(isControllingVariants(dt)){const{initial:$t,animate:kt}=dt;return{initial:$t===!1||isVariantLabel($t)?$t:void 0,animate:isVariantLabel(kt)?kt:void 0}}return dt.inherit!==!1?et:{}}function useCreateMotionContext(dt){const{initial:et,animate:$t}=getCurrentTreeVariants(dt,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:et,animate:$t}),[variantLabelsAsDependency(et),variantLabelsAsDependency($t)])}function variantLabelsAsDependency(dt){return Array.isArray(dt)?dt.join(" "):dt}const featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const dt in featureProps)featureDefinitions[dt]={isEnabled:et=>featureProps[dt].some($t=>!!et[$t])};function loadFeatures(dt){for(const et in dt)featureDefinitions[et]={...featureDefinitions[et],...dt[et]}}const motionComponentSymbol=Symbol.for("motionComponentSymbol");function createRendererMotionComponent({preloadedFeatures:dt,createVisualElement:et,useRender:$t,useVisualState:kt,Component:Tt}){dt&&loadFeatures(dt);function Dt(Ut,Ht){let Kt;const Yt={...reactExports.useContext(MotionConfigContext),...Ut,layoutId:useLayoutId(Ut)},{isStatic:Jt}=Yt,Zt=useCreateMotionContext(Ut),er=kt(Ut,Jt);if(!Jt&&isBrowser$1){useStrictMode();const rr=getProjectionFunctionality(Yt);Kt=rr.MeasureLayout,Zt.visualElement=useVisualElement(Tt,er,Yt,et,rr.ProjectionNode)}return jsxRuntimeExports.jsxs(MotionContext.Provider,{value:Zt,children:[Kt&&Zt.visualElement?jsxRuntimeExports.jsx(Kt,{visualElement:Zt.visualElement,...Yt}):null,$t(Tt,Ut,useMotionRef(er,Zt.visualElement,Ht),er,Jt,Zt.visualElement)]})}const Ft=reactExports.forwardRef(Dt);return Ft[motionComponentSymbol]=Tt,Ft}function useLayoutId({layoutId:dt}){const et=reactExports.useContext(LayoutGroupContext).id;return et&&dt!==void 0?et+"-"+dt:dt}function useStrictMode(dt,et){reactExports.useContext(LazyContext).strict}function getProjectionFunctionality(dt){const{drag:et,layout:$t}=featureDefinitions;if(!et&&!$t)return{};const kt={...et,...$t};return{MeasureLayout:et!=null&&et.isEnabled(dt)||$t!=null&&$t.isEnabled(dt)?kt.MeasureLayout:void 0,ProjectionNode:kt.ProjectionNode}}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(dt){return typeof dt!="string"||dt.includes("-")?!1:!!(lowercaseSVGElements.indexOf(dt)>-1||/[A-Z]/u.test(dt))}function renderHTML(dt,{style:et,vars:$t},kt,Tt){Object.assign(dt.style,et,Tt&&Tt.getProjectionStyles(kt));for(const Dt in $t)dt.style.setProperty(Dt,$t[Dt])}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(dt,et,$t,kt){renderHTML(dt,et,void 0,kt);for(const Tt in et.attrs)dt.setAttribute(camelCaseAttributes.has(Tt)?Tt:camelToDash(Tt),et.attrs[Tt])}function isForcedMotionValue(dt,{layout:et,layoutId:$t}){return transformProps.has(dt)||dt.startsWith("origin")||(et||$t!==void 0)&&(!!scaleCorrectors[dt]||dt==="opacity")}function scrapeMotionValuesFromProps$1(dt,et,$t){var kt;const{style:Tt}=dt,Dt={};for(const Ft in Tt)(isMotionValue(Tt[Ft])||et.style&&isMotionValue(et.style[Ft])||isForcedMotionValue(Ft,dt)||((kt=$t==null?void 0:$t.getValue(Ft))===null||kt===void 0?void 0:kt.liveStyle)!==void 0)&&(Dt[Ft]=Tt[Ft]);return Dt}function scrapeMotionValuesFromProps(dt,et,$t){const kt=scrapeMotionValuesFromProps$1(dt,et,$t);for(const Tt in dt)if(isMotionValue(dt[Tt])||isMotionValue(et[Tt])){const Dt=transformPropOrder.indexOf(Tt)!==-1?"attr"+Tt.charAt(0).toUpperCase()+Tt.substring(1):Tt;kt[Dt]=dt[Tt]}return kt}function useConstant(dt){const et=reactExports.useRef(null);return et.current===null&&(et.current=dt()),et.current}function makeState$1({scrapeMotionValuesFromProps:dt,createRenderState:et,onMount:$t},kt,Tt,Dt){const Ft={latestValues:makeLatestValues(kt,Tt,Dt,dt),renderState:et()};return $t&&(Ft.mount=Ut=>$t(kt,Ut,Ft)),Ft}const makeUseVisualState=dt=>(et,$t)=>{const kt=reactExports.useContext(MotionContext),Tt=reactExports.useContext(PresenceContext),Dt=()=>makeState$1(dt,et,kt,Tt);return $t?Dt():useConstant(Dt)};function makeLatestValues(dt,et,$t,kt){const Tt={},Dt=kt(dt,{});for(const Zt in Dt)Tt[Zt]=resolveMotionValue(Dt[Zt]);let{initial:Ft,animate:Ut}=dt;const Ht=isControllingVariants(dt),Kt=isVariantNode(dt);et&&Kt&&!Ht&&dt.inherit!==!1&&(Ft===void 0&&(Ft=et.initial),Ut===void 0&&(Ut=et.animate));let Yt=$t?$t.initial===!1:!1;Yt=Yt||Ft===!1;const Jt=Yt?Ut:Ft;if(Jt&&typeof Jt!="boolean"&&!isAnimationControls(Jt)){const Zt=Array.isArray(Jt)?Jt:[Jt];for(let er=0;er<Zt.length;er++){const rr=resolveVariantFromProps(dt,Zt[er]);if(rr){const{transitionEnd:sr,transition:ir,...nr}=rr;for(const or in nr){let lr=nr[or];if(Array.isArray(lr)){const cr=Yt?lr.length-1:0;lr=lr[cr]}lr!==null&&(Tt[or]=lr)}for(const or in sr)Tt[or]=sr[or]}}}return Tt}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),getValueAsType=(dt,et)=>et&&typeof dt=="number"?et.transform(dt):dt,translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(dt,et,$t){let kt="",Tt=!0;for(let Dt=0;Dt<numTransforms;Dt++){const Ft=transformPropOrder[Dt],Ut=dt[Ft];if(Ut===void 0)continue;let Ht=!0;if(typeof Ut=="number"?Ht=Ut===(Ft.startsWith("scale")?1:0):Ht=parseFloat(Ut)===0,!Ht||$t){const Kt=getValueAsType(Ut,numberValueTypes[Ft]);if(!Ht){Tt=!1;const Yt=translateAlias[Ft]||Ft;kt+=`${Yt}(${Kt}) `}$t&&(et[Ft]=Kt)}}return kt=kt.trim(),$t?kt=$t(et,Tt?"":kt):Tt&&(kt="none"),kt}function buildHTMLStyles(dt,et,$t){const{style:kt,vars:Tt,transformOrigin:Dt}=dt;let Ft=!1,Ut=!1;for(const Ht in et){const Kt=et[Ht];if(transformProps.has(Ht)){Ft=!0;continue}else if(isCSSVariableName(Ht)){Tt[Ht]=Kt;continue}else{const Yt=getValueAsType(Kt,numberValueTypes[Ht]);Ht.startsWith("origin")?(Ut=!0,Dt[Ht]=Yt):kt[Ht]=Yt}}if(et.transform||(Ft||$t?kt.transform=buildTransform(et,dt.transform,$t):kt.transform&&(kt.transform="none")),Ut){const{originX:Ht="50%",originY:Kt="50%",originZ:Yt=0}=Dt;kt.transformOrigin=`${Ht} ${Kt} ${Yt}`}}function calcOrigin(dt,et,$t){return typeof dt=="string"?dt:px.transform(et+$t*dt)}function calcSVGTransformOrigin(dt,et,$t){const kt=calcOrigin(et,dt.x,dt.width),Tt=calcOrigin($t,dt.y,dt.height);return`${kt} ${Tt}`}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(dt,et,$t=1,kt=0,Tt=!0){dt.pathLength=1;const Dt=Tt?dashKeys:camelKeys;dt[Dt.offset]=px.transform(-kt);const Ft=px.transform(et),Ut=px.transform($t);dt[Dt.array]=`${Ft} ${Ut}`}function buildSVGAttrs(dt,{attrX:et,attrY:$t,attrScale:kt,originX:Tt,originY:Dt,pathLength:Ft,pathSpacing:Ut=1,pathOffset:Ht=0,...Kt},Yt,Jt){if(buildHTMLStyles(dt,Kt,Jt),Yt){dt.style.viewBox&&(dt.attrs.viewBox=dt.style.viewBox);return}dt.attrs=dt.style,dt.style={};const{attrs:Zt,style:er,dimensions:rr}=dt;Zt.transform&&(rr&&(er.transform=Zt.transform),delete Zt.transform),rr&&(Tt!==void 0||Dt!==void 0||er.transform)&&(er.transformOrigin=calcSVGTransformOrigin(rr,Tt!==void 0?Tt:.5,Dt!==void 0?Dt:.5)),et!==void 0&&(Zt.x=et),$t!==void 0&&(Zt.y=$t),kt!==void 0&&(Zt.scale=kt),Ft!==void 0&&buildSVGPath(Zt,Ft,Ut,Ht,!1)}const isSVGTag=dt=>typeof dt=="string"&&dt.toLowerCase()==="svg",svgMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState,onMount:(dt,et,{renderState:$t,latestValues:kt})=>{frame.read(()=>{try{$t.dimensions=typeof et.getBBox=="function"?et.getBBox():et.getBoundingClientRect()}catch{$t.dimensions={x:0,y:0,width:0,height:0}}}),frame.render(()=>{buildSVGAttrs($t,kt,isSVGTag(et.tagName),dt.transformTemplate),renderSVG(et,$t)})}})},htmlMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState})};function copyRawValuesOnly(dt,et,$t){for(const kt in et)!isMotionValue(et[kt])&&!isForcedMotionValue(kt,$t)&&(dt[kt]=et[kt])}function useInitialMotionValues({transformTemplate:dt},et){return reactExports.useMemo(()=>{const $t=createHtmlRenderState();return buildHTMLStyles($t,et,dt),Object.assign({},$t.vars,$t.style)},[et])}function useStyle(dt,et){const $t=dt.style||{},kt={};return copyRawValuesOnly(kt,$t,dt),Object.assign(kt,useInitialMotionValues(dt,et)),kt}function useHTMLProps(dt,et){const $t={},kt=useStyle(dt,et);return dt.drag&&dt.dragListener!==!1&&($t.draggable=!1,kt.userSelect=kt.WebkitUserSelect=kt.WebkitTouchCallout="none",kt.touchAction=dt.drag===!0?"none":`pan-${dt.drag==="x"?"y":"x"}`),dt.tabIndex===void 0&&(dt.onTap||dt.onTapStart||dt.whileTap)&&($t.tabIndex=0),$t.style=kt,$t}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp(dt){return dt.startsWith("while")||dt.startsWith("drag")&&dt!=="draggable"||dt.startsWith("layout")||dt.startsWith("onTap")||dt.startsWith("onPan")||dt.startsWith("onLayout")||validMotionProps.has(dt)}let shouldForward=dt=>!isValidMotionProp(dt);function loadExternalIsValidProp(dt){dt&&(shouldForward=et=>et.startsWith("on")?!isValidMotionProp(et):dt(et))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch{}function filterProps(dt,et,$t){const kt={};for(const Tt in dt)Tt==="values"&&typeof dt.values=="object"||(shouldForward(Tt)||$t===!0&&isValidMotionProp(Tt)||!et&&!isValidMotionProp(Tt)||dt.draggable&&Tt.startsWith("onDrag"))&&(kt[Tt]=dt[Tt]);return kt}function useSVGProps(dt,et,$t,kt){const Tt=reactExports.useMemo(()=>{const Dt=createSvgRenderState();return buildSVGAttrs(Dt,et,isSVGTag(kt),dt.transformTemplate),{...Dt.attrs,style:{...Dt.style}}},[et]);if(dt.style){const Dt={};copyRawValuesOnly(Dt,dt.style,dt),Tt.style={...Dt,...Tt.style}}return Tt}function createUseRender(dt=!1){return($t,kt,Tt,{latestValues:Dt},Ft)=>{const Ht=(isSVGComponent($t)?useSVGProps:useHTMLProps)(kt,Dt,Ft,$t),Kt=filterProps(kt,typeof $t=="string",dt),Yt=$t!==reactExports.Fragment?{...Kt,...Ht,ref:Tt}:{},{children:Jt}=kt,Zt=reactExports.useMemo(()=>isMotionValue(Jt)?Jt.get():Jt,[Jt]);return reactExports.createElement($t,{...Yt,children:Zt})}}function createMotionComponentFactory(dt,et){return function(kt,{forwardMotionProps:Tt}={forwardMotionProps:!1}){const Ft={...isSVGComponent(kt)?svgMotionConfig:htmlMotionConfig,preloadedFeatures:dt,useRender:createUseRender(Tt),createVisualElement:et,Component:kt};return createRendererMotionComponent(Ft)}}const prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser$1)if(window.matchMedia){const dt=window.matchMedia("(prefers-reduced-motion)"),et=()=>prefersReducedMotion.current=dt.matches;dt.addListener(et),et()}else prefersReducedMotion.current=!1}function updateMotionValuesFromProps(dt,et,$t){for(const kt in et){const Tt=et[kt],Dt=$t[kt];if(isMotionValue(Tt))dt.addValue(kt,Tt);else if(isMotionValue(Dt))dt.addValue(kt,motionValue(Tt,{owner:dt}));else if(Dt!==Tt)if(dt.hasValue(kt)){const Ft=dt.getValue(kt);Ft.liveStyle===!0?Ft.jump(Tt):Ft.hasAnimated||Ft.set(Tt)}else{const Ft=dt.getStaticValue(kt);dt.addValue(kt,motionValue(Ft!==void 0?Ft:Tt,{owner:dt}))}}for(const kt in $t)et[kt]===void 0&&dt.removeValue(kt);return et}const visualElementStore=new WeakMap,valueTypes=[...dimensionValueTypes,color$1,complex],findValueType=dt=>valueTypes.find(testValueType(dt)),propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VisualElement{scrapeMotionValuesFromProps(et,$t,kt){return{}}constructor({parent:et,props:$t,presenceContext:kt,reducedMotionConfig:Tt,blockInitialAnimation:Dt,visualState:Ft},Ut={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KeyframeResolver,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const Zt=time$1.now();this.renderScheduledAt<Zt&&(this.renderScheduledAt=Zt,frame.render(this.render,!1,!0))};const{latestValues:Ht,renderState:Kt}=Ft;this.latestValues=Ht,this.baseTarget={...Ht},this.initialValues=$t.initial?{...Ht}:{},this.renderState=Kt,this.parent=et,this.props=$t,this.presenceContext=kt,this.depth=et?et.depth+1:0,this.reducedMotionConfig=Tt,this.options=Ut,this.blockInitialAnimation=!!Dt,this.isControllingVariants=isControllingVariants($t),this.isVariantNode=isVariantNode($t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(et&&et.current);const{willChange:Yt,...Jt}=this.scrapeMotionValuesFromProps($t,{},this);for(const Zt in Jt){const er=Jt[Zt];Ht[Zt]!==void 0&&isMotionValue(er)&&er.set(Ht[Zt],!1)}}mount(et){this.current=et,visualElementStore.set(et,this),this.projection&&!this.projection.instance&&this.projection.mount(et),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(($t,kt)=>this.bindToMotionValue(kt,$t)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){visualElementStore.delete(this.current),this.projection&&this.projection.unmount(),cancelFrame$1(this.notifyUpdate),cancelFrame$1(this.render),this.valueSubscriptions.forEach(et=>et()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const et in this.events)this.events[et].clear();for(const et in this.features){const $t=this.features[et];$t&&($t.unmount(),$t.isMounted=!1)}this.current=null}bindToMotionValue(et,$t){this.valueSubscriptions.has(et)&&this.valueSubscriptions.get(et)();const kt=transformProps.has(et),Tt=$t.on("change",Ut=>{this.latestValues[et]=Ut,this.props.onUpdate&&frame.preRender(this.notifyUpdate),kt&&this.projection&&(this.projection.isTransformDirty=!0)}),Dt=$t.on("renderRequest",this.scheduleRender);let Ft;window.MotionCheckAppearSync&&(Ft=window.MotionCheckAppearSync(this,et,$t)),this.valueSubscriptions.set(et,()=>{Tt(),Dt(),Ft&&Ft(),$t.owner&&$t.stop()})}sortNodePosition(et){return!this.current||!this.sortInstanceNodePosition||this.type!==et.type?0:this.sortInstanceNodePosition(this.current,et.current)}updateFeatures(){let et="animation";for(et in featureDefinitions){const $t=featureDefinitions[et];if(!$t)continue;const{isEnabled:kt,Feature:Tt}=$t;if(!this.features[et]&&Tt&&kt(this.props)&&(this.features[et]=new Tt(this)),this.features[et]){const Dt=this.features[et];Dt.isMounted?Dt.update():(Dt.mount(),Dt.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue(et){return this.latestValues[et]}setStaticValue(et,$t){this.latestValues[et]=$t}update(et,$t){(et.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=et,this.prevPresenceContext=this.presenceContext,this.presenceContext=$t;for(let kt=0;kt<propEventHandlers.length;kt++){const Tt=propEventHandlers[kt];this.propEventSubscriptions[Tt]&&(this.propEventSubscriptions[Tt](),delete this.propEventSubscriptions[Tt]);const Dt="on"+Tt,Ft=et[Dt];Ft&&(this.propEventSubscriptions[Tt]=this.on(Tt,Ft))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps(et,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(et){return this.props.variants?this.props.variants[et]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(et){const $t=this.getClosestVariantNode();if($t)return $t.variantChildren&&$t.variantChildren.add(et),()=>$t.variantChildren.delete(et)}addValue(et,$t){const kt=this.values.get(et);$t!==kt&&(kt&&this.removeValue(et),this.bindToMotionValue(et,$t),this.values.set(et,$t),this.latestValues[et]=$t.get())}removeValue(et){this.values.delete(et);const $t=this.valueSubscriptions.get(et);$t&&($t(),this.valueSubscriptions.delete(et)),delete this.latestValues[et],this.removeValueFromRenderState(et,this.renderState)}hasValue(et){return this.values.has(et)}getValue(et,$t){if(this.props.values&&this.props.values[et])return this.props.values[et];let kt=this.values.get(et);return kt===void 0&&$t!==void 0&&(kt=motionValue($t===null?void 0:$t,{owner:this}),this.addValue(et,kt)),kt}readValue(et,$t){var kt;let Tt=this.latestValues[et]!==void 0||!this.current?this.latestValues[et]:(kt=this.getBaseTargetFromProps(this.props,et))!==null&&kt!==void 0?kt:this.readValueFromInstance(this.current,et,this.options);return Tt!=null&&(typeof Tt=="string"&&(isNumericalString(Tt)||isZeroValueString(Tt))?Tt=parseFloat(Tt):!findValueType(Tt)&&complex.test($t)&&(Tt=getAnimatableNone(et,$t)),this.setBaseTarget(et,isMotionValue(Tt)?Tt.get():Tt)),isMotionValue(Tt)?Tt.get():Tt}setBaseTarget(et,$t){this.baseTarget[et]=$t}getBaseTarget(et){var $t;const{initial:kt}=this.props;let Tt;if(typeof kt=="string"||typeof kt=="object"){const Ft=resolveVariantFromProps(this.props,kt,($t=this.presenceContext)===null||$t===void 0?void 0:$t.custom);Ft&&(Tt=Ft[et])}if(kt&&Tt!==void 0)return Tt;const Dt=this.getBaseTargetFromProps(this.props,et);return Dt!==void 0&&!isMotionValue(Dt)?Dt:this.initialValues[et]!==void 0&&Tt===void 0?void 0:this.baseTarget[et]}on(et,$t){return this.events[et]||(this.events[et]=new SubscriptionManager),this.events[et].add($t)}notify(et,...$t){this.events[et]&&this.events[et].notify(...$t)}}class DOMVisualElement extends VisualElement{constructor(){super(...arguments),this.KeyframeResolver=DOMKeyframesResolver}sortInstanceNodePosition(et,$t){return et.compareDocumentPosition($t)&2?1:-1}getBaseTargetFromProps(et,$t){return et.style?et.style[$t]:void 0}removeValueFromRenderState(et,{vars:$t,style:kt}){delete $t[et],delete kt[et]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:et}=this.props;isMotionValue(et)&&(this.childSubscription=et.on("change",$t=>{this.current&&(this.current.textContent=`${$t}`)}))}}function getComputedStyle$1(dt){return window.getComputedStyle(dt)}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html",this.renderInstance=renderHTML}readValueFromInstance(et,$t){if(transformProps.has($t)){const kt=getDefaultValueType($t);return kt&&kt.default||0}else{const kt=getComputedStyle$1(et),Tt=(isCSSVariableName($t)?kt.getPropertyValue($t):kt[$t])||0;return typeof Tt=="string"?Tt.trim():Tt}}measureInstanceViewportBox(et,{transformPagePoint:$t}){return measureViewportBox(et,$t)}build(et,$t,kt){buildHTMLStyles(et,$t,kt.transformTemplate)}scrapeMotionValuesFromProps(et,$t,kt){return scrapeMotionValuesFromProps$1(et,$t,kt)}}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=createBox}getBaseTargetFromProps(et,$t){return et[$t]}readValueFromInstance(et,$t){if(transformProps.has($t)){const kt=getDefaultValueType($t);return kt&&kt.default||0}return $t=camelCaseAttributes.has($t)?$t:camelToDash($t),et.getAttribute($t)}scrapeMotionValuesFromProps(et,$t,kt){return scrapeMotionValuesFromProps(et,$t,kt)}build(et,$t,kt){buildSVGAttrs(et,$t,this.isSVGTag,kt.transformTemplate)}renderInstance(et,$t,kt,Tt){renderSVG(et,$t,kt,Tt)}mount(et){this.isSVGTag=isSVGTag(et.tagName),super.mount(et)}}const createDomVisualElement=(dt,et)=>isSVGComponent(dt)?new SVGVisualElement(et):new HTMLVisualElement(et,{allowProjection:dt!==reactExports.Fragment}),createMotionComponent=createMotionComponentFactory({...animations,...gestureAnimations,...drag,...layout},createDomVisualElement),motion=createDOMMotionComponentProxy(createMotionComponent);class PopChildMeasure extends reactExports.Component{getSnapshotBeforeUpdate(et){const $t=this.props.childRef.current;if($t&&et.isPresent&&!this.props.isPresent){const kt=this.props.sizeRef.current;kt.height=$t.offsetHeight||0,kt.width=$t.offsetWidth||0,kt.top=$t.offsetTop,kt.left=$t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children:dt,isPresent:et}){const $t=reactExports.useId(),kt=reactExports.useRef(null),Tt=reactExports.useRef({width:0,height:0,top:0,left:0}),{nonce:Dt}=reactExports.useContext(MotionConfigContext);return reactExports.useInsertionEffect(()=>{const{width:Ft,height:Ut,top:Ht,left:Kt}=Tt.current;if(et||!kt.current||!Ft||!Ut)return;kt.current.dataset.motionPopId=$t;const Yt=document.createElement("style");return Dt&&(Yt.nonce=Dt),document.head.appendChild(Yt),Yt.sheet&&Yt.sheet.insertRule(`
          [data-motion-pop-id="${$t}"] {
            position: absolute !important;
            width: ${Ft}px !important;
            height: ${Ut}px !important;
            top: ${Ht}px !important;
            left: ${Kt}px !important;
          }
        `),()=>{document.head.removeChild(Yt)}},[et]),jsxRuntimeExports.jsx(PopChildMeasure,{isPresent:et,childRef:kt,sizeRef:Tt,children:reactExports.cloneElement(dt,{ref:kt})})}const PresenceChild=({children:dt,initial:et,isPresent:$t,onExitComplete:kt,custom:Tt,presenceAffectsLayout:Dt,mode:Ft})=>{const Ut=useConstant(newChildrenMap),Ht=reactExports.useId(),Kt=reactExports.useCallback(Jt=>{Ut.set(Jt,!0);for(const Zt of Ut.values())if(!Zt)return;kt&&kt()},[Ut,kt]),Yt=reactExports.useMemo(()=>({id:Ht,initial:et,isPresent:$t,custom:Tt,onExitComplete:Kt,register:Jt=>(Ut.set(Jt,!1),()=>Ut.delete(Jt))}),Dt?[Math.random(),Kt]:[$t,Kt]);return reactExports.useMemo(()=>{Ut.forEach((Jt,Zt)=>Ut.set(Zt,!1))},[$t]),reactExports.useEffect(()=>{!$t&&!Ut.size&&kt&&kt()},[$t]),Ft==="popLayout"&&(dt=jsxRuntimeExports.jsx(PopChild,{isPresent:$t,children:dt})),jsxRuntimeExports.jsx(PresenceContext.Provider,{value:Yt,children:dt})};function newChildrenMap(){return new Map}const getChildKey=dt=>dt.key||"";function onlyElements(dt){const et=[];return reactExports.Children.forEach(dt,$t=>{reactExports.isValidElement($t)&&et.push($t)}),et}const AnimatePresence=({children:dt,exitBeforeEnter:et,custom:$t,initial:kt=!0,onExitComplete:Tt,presenceAffectsLayout:Dt=!0,mode:Ft="sync"})=>{const Ut=reactExports.useMemo(()=>onlyElements(dt),[dt]),Ht=Ut.map(getChildKey),Kt=reactExports.useRef(!0),Yt=reactExports.useRef(Ut),Jt=useConstant(()=>new Map),[Zt,er]=reactExports.useState(Ut),[rr,sr]=reactExports.useState(Ut);useIsomorphicLayoutEffect$8(()=>{Kt.current=!1,Yt.current=Ut;for(let or=0;or<rr.length;or++){const lr=getChildKey(rr[or]);Ht.includes(lr)?Jt.delete(lr):Jt.get(lr)!==!0&&Jt.set(lr,!1)}},[rr,Ht.length,Ht.join("-")]);const ir=[];if(Ut!==Zt){let or=[...Ut];for(let lr=0;lr<rr.length;lr++){const cr=rr[lr],dr=getChildKey(cr);Ht.includes(dr)||(or.splice(lr,0,cr),ir.push(cr))}Ft==="wait"&&ir.length&&(or=ir),sr(onlyElements(or)),er(Ut);return}const{forceRender:nr}=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:rr.map(or=>{const lr=getChildKey(or),cr=Ut===rr||Ht.includes(lr),dr=()=>{if(Jt.has(lr))Jt.set(lr,!0);else return;let ur=!0;Jt.forEach(pr=>{pr||(ur=!1)}),ur&&(nr==null||nr(),sr(Yt.current),Tt&&Tt())};return jsxRuntimeExports.jsx(PresenceChild,{isPresent:cr,initial:!Kt.current||kt?void 0:!1,custom:cr?void 0:$t,presenceAffectsLayout:Dt,mode:Ft,onExitComplete:cr?void 0:dr,children:or},lr)})})};function bind$1(dt,et){return function(){return dt.apply(et,arguments)}}const{toString:toString$2}=Object.prototype,{getPrototypeOf}=Object,kindOf=(dt=>et=>{const $t=toString$2.call(et);return dt[$t]||(dt[$t]=$t.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=dt=>(dt=dt.toLowerCase(),et=>kindOf(et)===dt),typeOfTest=dt=>et=>typeof et===dt,{isArray:isArray$f}=Array,isUndefined=typeOfTest("undefined");function isBuffer$5(dt){return dt!==null&&!isUndefined(dt)&&dt.constructor!==null&&!isUndefined(dt.constructor)&&isFunction$5(dt.constructor.isBuffer)&&dt.constructor.isBuffer(dt)}const isArrayBuffer$1=kindOfTest("ArrayBuffer");function isArrayBufferView(dt){let et;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?et=ArrayBuffer.isView(dt):et=dt&&dt.buffer&&isArrayBuffer$1(dt.buffer),et}const isString$2=typeOfTest("string"),isFunction$5=typeOfTest("function"),isNumber$2=typeOfTest("number"),isObject$b=dt=>dt!==null&&typeof dt=="object",isBoolean=dt=>dt===!0||dt===!1,isPlainObject$4=dt=>{if(kindOf(dt)!=="object")return!1;const et=getPrototypeOf(dt);return(et===null||et===Object.prototype||Object.getPrototypeOf(et)===null)&&!(Symbol.toStringTag in dt)&&!(Symbol.iterator in dt)},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob$1=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=dt=>isObject$b(dt)&&isFunction$5(dt.pipe),isFormData=dt=>{let et;return dt&&(typeof FormData=="function"&&dt instanceof FormData||isFunction$5(dt.append)&&((et=kindOf(dt))==="formdata"||et==="object"&&isFunction$5(dt.toString)&&dt.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim=dt=>dt.trim?dt.trim():dt.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach$1(dt,et,{allOwnKeys:$t=!1}={}){if(dt===null||typeof dt>"u")return;let kt,Tt;if(typeof dt!="object"&&(dt=[dt]),isArray$f(dt))for(kt=0,Tt=dt.length;kt<Tt;kt++)et.call(null,dt[kt],kt,dt);else{const Dt=$t?Object.getOwnPropertyNames(dt):Object.keys(dt),Ft=Dt.length;let Ut;for(kt=0;kt<Ft;kt++)Ut=Dt[kt],et.call(null,dt[Ut],Ut,dt)}}function findKey(dt,et){et=et.toLowerCase();const $t=Object.keys(dt);let kt=$t.length,Tt;for(;kt-- >0;)if(Tt=$t[kt],et===Tt.toLowerCase())return Tt;return null}const _global=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),isContextDefined=dt=>!isUndefined(dt)&&dt!==_global;function merge$1(){const{caseless:dt}=isContextDefined(this)&&this||{},et={},$t=(kt,Tt)=>{const Dt=dt&&findKey(et,Tt)||Tt;isPlainObject$4(et[Dt])&&isPlainObject$4(kt)?et[Dt]=merge$1(et[Dt],kt):isPlainObject$4(kt)?et[Dt]=merge$1({},kt):isArray$f(kt)?et[Dt]=kt.slice():et[Dt]=kt};for(let kt=0,Tt=arguments.length;kt<Tt;kt++)arguments[kt]&&forEach$1(arguments[kt],$t);return et}const extend$1=(dt,et,$t,{allOwnKeys:kt}={})=>(forEach$1(et,(Tt,Dt)=>{$t&&isFunction$5(Tt)?dt[Dt]=bind$1(Tt,$t):dt[Dt]=Tt},{allOwnKeys:kt}),dt),stripBOM=dt=>(dt.charCodeAt(0)===65279&&(dt=dt.slice(1)),dt),inherits=(dt,et,$t,kt)=>{dt.prototype=Object.create(et.prototype,kt),dt.prototype.constructor=dt,Object.defineProperty(dt,"super",{value:et.prototype}),$t&&Object.assign(dt.prototype,$t)},toFlatObject=(dt,et,$t,kt)=>{let Tt,Dt,Ft;const Ut={};if(et=et||{},dt==null)return et;do{for(Tt=Object.getOwnPropertyNames(dt),Dt=Tt.length;Dt-- >0;)Ft=Tt[Dt],(!kt||kt(Ft,dt,et))&&!Ut[Ft]&&(et[Ft]=dt[Ft],Ut[Ft]=!0);dt=$t!==!1&&getPrototypeOf(dt)}while(dt&&(!$t||$t(dt,et))&&dt!==Object.prototype);return et},endsWith=(dt,et,$t)=>{dt=String(dt),($t===void 0||$t>dt.length)&&($t=dt.length),$t-=et.length;const kt=dt.indexOf(et,$t);return kt!==-1&&kt===$t},toArray$6=dt=>{if(!dt)return null;if(isArray$f(dt))return dt;let et=dt.length;if(!isNumber$2(et))return null;const $t=new Array(et);for(;et-- >0;)$t[et]=dt[et];return $t},isTypedArray$4=(dt=>et=>dt&&et instanceof dt)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(dt,et)=>{const kt=(dt&&dt[Symbol.iterator]).call(dt);let Tt;for(;(Tt=kt.next())&&!Tt.done;){const Dt=Tt.value;et.call(dt,Dt[0],Dt[1])}},matchAll=(dt,et)=>{let $t;const kt=[];for(;($t=dt.exec(et))!==null;)kt.push($t);return kt},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase$1=dt=>dt.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function($t,kt,Tt){return kt.toUpperCase()+Tt}),hasOwnProperty$d=(({hasOwnProperty:dt})=>(et,$t)=>dt.call(et,$t))(Object.prototype),isRegExp$1=kindOfTest("RegExp"),reduceDescriptors=(dt,et)=>{const $t=Object.getOwnPropertyDescriptors(dt),kt={};forEach$1($t,(Tt,Dt)=>{let Ft;(Ft=et(Tt,Dt,dt))!==!1&&(kt[Dt]=Ft||Tt)}),Object.defineProperties(dt,kt)},freezeMethods=dt=>{reduceDescriptors(dt,(et,$t)=>{if(isFunction$5(dt)&&["arguments","caller","callee"].indexOf($t)!==-1)return!1;const kt=dt[$t];if(isFunction$5(kt)){if(et.enumerable=!1,"writable"in et){et.writable=!1;return}et.set||(et.set=()=>{throw Error("Can not rewrite read-only method '"+$t+"'")})}})},toObjectSet=(dt,et)=>{const $t={},kt=Tt=>{Tt.forEach(Dt=>{$t[Dt]=!0})};return isArray$f(dt)?kt(dt):kt(String(dt).split(et)),$t},noop$b=()=>{},toFiniteNumber=(dt,et)=>dt!=null&&Number.isFinite(dt=+dt)?dt:et,ALPHA="abcdefghijklmnopqrstuvwxyz",DIGIT$1="0123456789",ALPHABET={DIGIT:DIGIT$1,ALPHA,ALPHA_DIGIT:ALPHA+ALPHA.toUpperCase()+DIGIT$1},generateString=(dt=16,et=ALPHABET.ALPHA_DIGIT)=>{let $t="";const{length:kt}=et;for(;dt--;)$t+=et[Math.random()*kt|0];return $t};function isSpecCompliantForm(dt){return!!(dt&&isFunction$5(dt.append)&&dt[Symbol.toStringTag]==="FormData"&&dt[Symbol.iterator])}const toJSONObject=dt=>{const et=new Array(10),$t=(kt,Tt)=>{if(isObject$b(kt)){if(et.indexOf(kt)>=0)return;if(!("toJSON"in kt)){et[Tt]=kt;const Dt=isArray$f(kt)?[]:{};return forEach$1(kt,(Ft,Ut)=>{const Ht=$t(Ft,Tt+1);!isUndefined(Ht)&&(Dt[Ut]=Ht)}),et[Tt]=void 0,Dt}}return kt};return $t(dt,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=dt=>dt&&(isObject$b(dt)||isFunction$5(dt))&&isFunction$5(dt.then)&&isFunction$5(dt.catch),_setImmediate=((dt,et)=>dt?setImmediate:et?(($t,kt)=>(_global.addEventListener("message",({source:Tt,data:Dt})=>{Tt===_global&&Dt===$t&&kt.length&&kt.shift()()},!1),Tt=>{kt.push(Tt),_global.postMessage($t,"*")}))(`axios@${Math.random()}`,[]):$t=>setTimeout($t))(typeof setImmediate=="function",isFunction$5(_global.postMessage)),asap=typeof queueMicrotask<"u"?queueMicrotask.bind(_global):typeof process<"u"&&process.nextTick||_setImmediate,utils$1={isArray:isArray$f,isArrayBuffer:isArrayBuffer$1,isBuffer:isBuffer$5,isFormData,isArrayBufferView,isString:isString$2,isNumber:isNumber$2,isBoolean,isObject:isObject$b,isPlainObject:isPlainObject$4,isReadableStream,isRequest,isResponse,isHeaders,isUndefined,isDate,isFile,isBlob:isBlob$1,isRegExp:isRegExp$1,isFunction:isFunction$5,isStream,isURLSearchParams,isTypedArray:isTypedArray$4,isFileList,forEach:forEach$1,merge:merge$1,extend:extend$1,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray:toArray$6,forEachEntry,matchAll,isHTMLForm,hasOwnProperty:hasOwnProperty$d,hasOwnProp:hasOwnProperty$d,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase:toCamelCase$1,noop:noop$b,toFiniteNumber,findKey,global:_global,isContextDefined,ALPHABET,generateString,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable,setImmediate:_setImmediate,asap};function AxiosError(dt,et,$t,kt,Tt){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=dt,this.name="AxiosError",et&&(this.code=et),$t&&(this.config=$t),kt&&(this.request=kt),Tt&&(this.response=Tt,this.status=Tt.status?Tt.status:null)}utils$1.inherits(AxiosError,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$1.toJSONObject(this.config),code:this.code,status:this.status}}});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(dt=>{descriptors[dt]={value:dt}});Object.defineProperties(AxiosError,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError.from=(dt,et,$t,kt,Tt,Dt)=>{const Ft=Object.create(prototype$1);return utils$1.toFlatObject(dt,Ft,function(Ht){return Ht!==Error.prototype},Ut=>Ut!=="isAxiosError"),AxiosError.call(Ft,dt.message,et,$t,kt,Tt),Ft.cause=dt,Ft.name=dt.name,Dt&&Object.assign(Ft,Dt),Ft};const httpAdapter=null;function isVisitable(dt){return utils$1.isPlainObject(dt)||utils$1.isArray(dt)}function removeBrackets(dt){return utils$1.endsWith(dt,"[]")?dt.slice(0,-2):dt}function renderKey(dt,et,$t){return dt?dt.concat(et).map(function(Tt,Dt){return Tt=removeBrackets(Tt),!$t&&Dt?"["+Tt+"]":Tt}).join($t?".":""):et}function isFlatArray(dt){return utils$1.isArray(dt)&&!dt.some(isVisitable)}const predicates=utils$1.toFlatObject(utils$1,{},null,function(et){return/^is[A-Z]/.test(et)});function toFormData(dt,et,$t){if(!utils$1.isObject(dt))throw new TypeError("target must be an object");et=et||new FormData,$t=utils$1.toFlatObject($t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(sr,ir){return!utils$1.isUndefined(ir[sr])});const kt=$t.metaTokens,Tt=$t.visitor||Yt,Dt=$t.dots,Ft=$t.indexes,Ht=($t.Blob||typeof Blob<"u"&&Blob)&&utils$1.isSpecCompliantForm(et);if(!utils$1.isFunction(Tt))throw new TypeError("visitor must be a function");function Kt(rr){if(rr===null)return"";if(utils$1.isDate(rr))return rr.toISOString();if(!Ht&&utils$1.isBlob(rr))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils$1.isArrayBuffer(rr)||utils$1.isTypedArray(rr)?Ht&&typeof Blob=="function"?new Blob([rr]):Buffer.from(rr):rr}function Yt(rr,sr,ir){let nr=rr;if(rr&&!ir&&typeof rr=="object"){if(utils$1.endsWith(sr,"{}"))sr=kt?sr:sr.slice(0,-2),rr=JSON.stringify(rr);else if(utils$1.isArray(rr)&&isFlatArray(rr)||(utils$1.isFileList(rr)||utils$1.endsWith(sr,"[]"))&&(nr=utils$1.toArray(rr)))return sr=removeBrackets(sr),nr.forEach(function(lr,cr){!(utils$1.isUndefined(lr)||lr===null)&&et.append(Ft===!0?renderKey([sr],cr,Dt):Ft===null?sr:sr+"[]",Kt(lr))}),!1}return isVisitable(rr)?!0:(et.append(renderKey(ir,sr,Dt),Kt(rr)),!1)}const Jt=[],Zt=Object.assign(predicates,{defaultVisitor:Yt,convertValue:Kt,isVisitable});function er(rr,sr){if(!utils$1.isUndefined(rr)){if(Jt.indexOf(rr)!==-1)throw Error("Circular reference detected in "+sr.join("."));Jt.push(rr),utils$1.forEach(rr,function(nr,or){(!(utils$1.isUndefined(nr)||nr===null)&&Tt.call(et,nr,utils$1.isString(or)?or.trim():or,sr,Zt))===!0&&er(nr,sr?sr.concat(or):[or])}),Jt.pop()}}if(!utils$1.isObject(dt))throw new TypeError("data must be an object");return er(dt),et}function encode$1(dt){const et={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(dt).replace(/[!'()~]|%20|%00/g,function(kt){return et[kt]})}function AxiosURLSearchParams(dt,et){this._pairs=[],dt&&toFormData(dt,this,et)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function(et,$t){this._pairs.push([et,$t])};prototype.toString=function(et){const $t=et?function(kt){return et.call(this,kt,encode$1)}:encode$1;return this._pairs.map(function(Tt){return $t(Tt[0])+"="+$t(Tt[1])},"").join("&")};function encode(dt){return encodeURIComponent(dt).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(dt,et,$t){if(!et)return dt;const kt=$t&&$t.encode||encode;utils$1.isFunction($t)&&($t={serialize:$t});const Tt=$t&&$t.serialize;let Dt;if(Tt?Dt=Tt(et,$t):Dt=utils$1.isURLSearchParams(et)?et.toString():new AxiosURLSearchParams(et,$t).toString(kt),Dt){const Ft=dt.indexOf("#");Ft!==-1&&(dt=dt.slice(0,Ft)),dt+=(dt.indexOf("?")===-1?"?":"&")+Dt}return dt}class InterceptorManager{constructor(){this.handlers=[]}use(et,$t,kt){return this.handlers.push({fulfilled:et,rejected:$t,synchronous:kt?kt.synchronous:!1,runWhen:kt?kt.runWhen:null}),this.handlers.length-1}eject(et){this.handlers[et]&&(this.handlers[et]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(et){utils$1.forEach(this.handlers,function(kt){kt!==null&&et(kt)})}}const InterceptorManager$1=InterceptorManager,transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",_navigator=typeof navigator=="object"&&navigator||void 0,hasStandardBrowserEnv=hasBrowserEnv&&(!_navigator||["ReactNative","NativeScript","NS"].indexOf(_navigator.product)<0),hasStandardBrowserWebWorkerEnv=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),origin=hasBrowserEnv&&window.location.href||"http://localhost",utils=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv,navigator:_navigator,origin},Symbol.toStringTag,{value:"Module"})),platform={...utils,...platform$1};function toURLEncodedForm(dt,et){return toFormData(dt,new platform.classes.URLSearchParams,Object.assign({visitor:function($t,kt,Tt,Dt){return platform.isNode&&utils$1.isBuffer($t)?(this.append(kt,$t.toString("base64")),!1):Dt.defaultVisitor.apply(this,arguments)}},et))}function parsePropPath(dt){return utils$1.matchAll(/\w+|\[(\w*)]/g,dt).map(et=>et[0]==="[]"?"":et[1]||et[0])}function arrayToObject(dt){const et={},$t=Object.keys(dt);let kt;const Tt=$t.length;let Dt;for(kt=0;kt<Tt;kt++)Dt=$t[kt],et[Dt]=dt[Dt];return et}function formDataToJSON(dt){function et($t,kt,Tt,Dt){let Ft=$t[Dt++];if(Ft==="__proto__")return!0;const Ut=Number.isFinite(+Ft),Ht=Dt>=$t.length;return Ft=!Ft&&utils$1.isArray(Tt)?Tt.length:Ft,Ht?(utils$1.hasOwnProp(Tt,Ft)?Tt[Ft]=[Tt[Ft],kt]:Tt[Ft]=kt,!Ut):((!Tt[Ft]||!utils$1.isObject(Tt[Ft]))&&(Tt[Ft]=[]),et($t,kt,Tt[Ft],Dt)&&utils$1.isArray(Tt[Ft])&&(Tt[Ft]=arrayToObject(Tt[Ft])),!Ut)}if(utils$1.isFormData(dt)&&utils$1.isFunction(dt.entries)){const $t={};return utils$1.forEachEntry(dt,(kt,Tt)=>{et(parsePropPath(kt),Tt,$t,0)}),$t}return null}function stringifySafely(dt,et,$t){if(utils$1.isString(dt))try{return(et||JSON.parse)(dt),utils$1.trim(dt)}catch(kt){if(kt.name!=="SyntaxError")throw kt}return($t||JSON.stringify)(dt)}const defaults$6={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function(et,$t){const kt=$t.getContentType()||"",Tt=kt.indexOf("application/json")>-1,Dt=utils$1.isObject(et);if(Dt&&utils$1.isHTMLForm(et)&&(et=new FormData(et)),utils$1.isFormData(et))return Tt?JSON.stringify(formDataToJSON(et)):et;if(utils$1.isArrayBuffer(et)||utils$1.isBuffer(et)||utils$1.isStream(et)||utils$1.isFile(et)||utils$1.isBlob(et)||utils$1.isReadableStream(et))return et;if(utils$1.isArrayBufferView(et))return et.buffer;if(utils$1.isURLSearchParams(et))return $t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),et.toString();let Ut;if(Dt){if(kt.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(et,this.formSerializer).toString();if((Ut=utils$1.isFileList(et))||kt.indexOf("multipart/form-data")>-1){const Ht=this.env&&this.env.FormData;return toFormData(Ut?{"files[]":et}:et,Ht&&new Ht,this.formSerializer)}}return Dt||Tt?($t.setContentType("application/json",!1),stringifySafely(et)):et}],transformResponse:[function(et){const $t=this.transitional||defaults$6.transitional,kt=$t&&$t.forcedJSONParsing,Tt=this.responseType==="json";if(utils$1.isResponse(et)||utils$1.isReadableStream(et))return et;if(et&&utils$1.isString(et)&&(kt&&!this.responseType||Tt)){const Ft=!($t&&$t.silentJSONParsing)&&Tt;try{return JSON.parse(et)}catch(Ut){if(Ft)throw Ut.name==="SyntaxError"?AxiosError.from(Ut,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):Ut}}return et}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function(et){return et>=200&&et<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$1.forEach(["delete","get","head","post","put","patch"],dt=>{defaults$6.headers[dt]={}});const defaults$7=defaults$6,ignoreDuplicateOf=utils$1.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=dt=>{const et={};let $t,kt,Tt;return dt&&dt.split(`
`).forEach(function(Ft){Tt=Ft.indexOf(":"),$t=Ft.substring(0,Tt).trim().toLowerCase(),kt=Ft.substring(Tt+1).trim(),!(!$t||et[$t]&&ignoreDuplicateOf[$t])&&($t==="set-cookie"?et[$t]?et[$t].push(kt):et[$t]=[kt]:et[$t]=et[$t]?et[$t]+", "+kt:kt)}),et},$internals=Symbol("internals");function normalizeHeader(dt){return dt&&String(dt).trim().toLowerCase()}function normalizeValue(dt){return dt===!1||dt==null?dt:utils$1.isArray(dt)?dt.map(normalizeValue):String(dt)}function parseTokens(dt){const et=Object.create(null),$t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let kt;for(;kt=$t.exec(dt);)et[kt[1]]=kt[2];return et}const isValidHeaderName=dt=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(dt.trim());function matchHeaderValue(dt,et,$t,kt,Tt){if(utils$1.isFunction(kt))return kt.call(this,et,$t);if(Tt&&(et=$t),!!utils$1.isString(et)){if(utils$1.isString(kt))return et.indexOf(kt)!==-1;if(utils$1.isRegExp(kt))return kt.test(et)}}function formatHeader(dt){return dt.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(et,$t,kt)=>$t.toUpperCase()+kt)}function buildAccessors(dt,et){const $t=utils$1.toCamelCase(" "+et);["get","set","has"].forEach(kt=>{Object.defineProperty(dt,kt+$t,{value:function(Tt,Dt,Ft){return this[kt].call(this,et,Tt,Dt,Ft)},configurable:!0})})}class AxiosHeaders{constructor(et){et&&this.set(et)}set(et,$t,kt){const Tt=this;function Dt(Ut,Ht,Kt){const Yt=normalizeHeader(Ht);if(!Yt)throw new Error("header name must be a non-empty string");const Jt=utils$1.findKey(Tt,Yt);(!Jt||Tt[Jt]===void 0||Kt===!0||Kt===void 0&&Tt[Jt]!==!1)&&(Tt[Jt||Ht]=normalizeValue(Ut))}const Ft=(Ut,Ht)=>utils$1.forEach(Ut,(Kt,Yt)=>Dt(Kt,Yt,Ht));if(utils$1.isPlainObject(et)||et instanceof this.constructor)Ft(et,$t);else if(utils$1.isString(et)&&(et=et.trim())&&!isValidHeaderName(et))Ft(parseHeaders(et),$t);else if(utils$1.isHeaders(et))for(const[Ut,Ht]of et.entries())Dt(Ht,Ut,kt);else et!=null&&Dt($t,et,kt);return this}get(et,$t){if(et=normalizeHeader(et),et){const kt=utils$1.findKey(this,et);if(kt){const Tt=this[kt];if(!$t)return Tt;if($t===!0)return parseTokens(Tt);if(utils$1.isFunction($t))return $t.call(this,Tt,kt);if(utils$1.isRegExp($t))return $t.exec(Tt);throw new TypeError("parser must be boolean|regexp|function")}}}has(et,$t){if(et=normalizeHeader(et),et){const kt=utils$1.findKey(this,et);return!!(kt&&this[kt]!==void 0&&(!$t||matchHeaderValue(this,this[kt],kt,$t)))}return!1}delete(et,$t){const kt=this;let Tt=!1;function Dt(Ft){if(Ft=normalizeHeader(Ft),Ft){const Ut=utils$1.findKey(kt,Ft);Ut&&(!$t||matchHeaderValue(kt,kt[Ut],Ut,$t))&&(delete kt[Ut],Tt=!0)}}return utils$1.isArray(et)?et.forEach(Dt):Dt(et),Tt}clear(et){const $t=Object.keys(this);let kt=$t.length,Tt=!1;for(;kt--;){const Dt=$t[kt];(!et||matchHeaderValue(this,this[Dt],Dt,et,!0))&&(delete this[Dt],Tt=!0)}return Tt}normalize(et){const $t=this,kt={};return utils$1.forEach(this,(Tt,Dt)=>{const Ft=utils$1.findKey(kt,Dt);if(Ft){$t[Ft]=normalizeValue(Tt),delete $t[Dt];return}const Ut=et?formatHeader(Dt):String(Dt).trim();Ut!==Dt&&delete $t[Dt],$t[Ut]=normalizeValue(Tt),kt[Ut]=!0}),this}concat(...et){return this.constructor.concat(this,...et)}toJSON(et){const $t=Object.create(null);return utils$1.forEach(this,(kt,Tt)=>{kt!=null&&kt!==!1&&($t[Tt]=et&&utils$1.isArray(kt)?kt.join(", "):kt)}),$t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([et,$t])=>et+": "+$t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(et){return et instanceof this?et:new this(et)}static concat(et,...$t){const kt=new this(et);return $t.forEach(Tt=>kt.set(Tt)),kt}static accessor(et){const kt=(this[$internals]=this[$internals]={accessors:{}}).accessors,Tt=this.prototype;function Dt(Ft){const Ut=normalizeHeader(Ft);kt[Ut]||(buildAccessors(Tt,Ft),kt[Ut]=!0)}return utils$1.isArray(et)?et.forEach(Dt):Dt(et),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$1.reduceDescriptors(AxiosHeaders.prototype,({value:dt},et)=>{let $t=et[0].toUpperCase()+et.slice(1);return{get:()=>dt,set(kt){this[$t]=kt}}});utils$1.freezeMethods(AxiosHeaders);const AxiosHeaders$1=AxiosHeaders;function transformData(dt,et){const $t=this||defaults$7,kt=et||$t,Tt=AxiosHeaders$1.from(kt.headers);let Dt=kt.data;return utils$1.forEach(dt,function(Ut){Dt=Ut.call($t,Dt,Tt.normalize(),et?et.status:void 0)}),Tt.normalize(),Dt}function isCancel(dt){return!!(dt&&dt.__CANCEL__)}function CanceledError(dt,et,$t){AxiosError.call(this,dt??"canceled",AxiosError.ERR_CANCELED,et,$t),this.name="CanceledError"}utils$1.inherits(CanceledError,AxiosError,{__CANCEL__:!0});function settle(dt,et,$t){const kt=$t.config.validateStatus;!$t.status||!kt||kt($t.status)?dt($t):et(new AxiosError("Request failed with status code "+$t.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor($t.status/100)-4],$t.config,$t.request,$t))}function parseProtocol(dt){const et=/^([-+\w]{1,25})(:?\/\/|:)/.exec(dt);return et&&et[1]||""}function speedometer(dt,et){dt=dt||10;const $t=new Array(dt),kt=new Array(dt);let Tt=0,Dt=0,Ft;return et=et!==void 0?et:1e3,function(Ht){const Kt=Date.now(),Yt=kt[Dt];Ft||(Ft=Kt),$t[Tt]=Ht,kt[Tt]=Kt;let Jt=Dt,Zt=0;for(;Jt!==Tt;)Zt+=$t[Jt++],Jt=Jt%dt;if(Tt=(Tt+1)%dt,Tt===Dt&&(Dt=(Dt+1)%dt),Kt-Ft<et)return;const er=Yt&&Kt-Yt;return er?Math.round(Zt*1e3/er):void 0}}function throttle(dt,et){let $t=0,kt=1e3/et,Tt,Dt;const Ft=(Kt,Yt=Date.now())=>{$t=Yt,Tt=null,Dt&&(clearTimeout(Dt),Dt=null),dt.apply(null,Kt)};return[(...Kt)=>{const Yt=Date.now(),Jt=Yt-$t;Jt>=kt?Ft(Kt,Yt):(Tt=Kt,Dt||(Dt=setTimeout(()=>{Dt=null,Ft(Tt)},kt-Jt)))},()=>Tt&&Ft(Tt)]}const progressEventReducer=(dt,et,$t=3)=>{let kt=0;const Tt=speedometer(50,250);return throttle(Dt=>{const Ft=Dt.loaded,Ut=Dt.lengthComputable?Dt.total:void 0,Ht=Ft-kt,Kt=Tt(Ht),Yt=Ft<=Ut;kt=Ft;const Jt={loaded:Ft,total:Ut,progress:Ut?Ft/Ut:void 0,bytes:Ht,rate:Kt||void 0,estimated:Kt&&Ut&&Yt?(Ut-Ft)/Kt:void 0,event:Dt,lengthComputable:Ut!=null,[et?"download":"upload"]:!0};dt(Jt)},$t)},progressEventDecorator=(dt,et)=>{const $t=dt!=null;return[kt=>et[0]({lengthComputable:$t,total:dt,loaded:kt}),et[1]]},asyncDecorator=dt=>(...et)=>utils$1.asap(()=>dt(...et)),isURLSameOrigin=platform.hasStandardBrowserEnv?((dt,et)=>$t=>($t=new URL($t,platform.origin),dt.protocol===$t.protocol&&dt.host===$t.host&&(et||dt.port===$t.port)))(new URL(platform.origin),platform.navigator&&/(msie|trident)/i.test(platform.navigator.userAgent)):()=>!0,cookies=platform.hasStandardBrowserEnv?{write(dt,et,$t,kt,Tt,Dt){const Ft=[dt+"="+encodeURIComponent(et)];utils$1.isNumber($t)&&Ft.push("expires="+new Date($t).toGMTString()),utils$1.isString(kt)&&Ft.push("path="+kt),utils$1.isString(Tt)&&Ft.push("domain="+Tt),Dt===!0&&Ft.push("secure"),document.cookie=Ft.join("; ")},read(dt){const et=document.cookie.match(new RegExp("(^|;\\s*)("+dt+")=([^;]*)"));return et?decodeURIComponent(et[3]):null},remove(dt){this.write(dt,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(dt){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(dt)}function combineURLs(dt,et){return et?dt.replace(/\/?\/$/,"")+"/"+et.replace(/^\/+/,""):dt}function buildFullPath(dt,et){return dt&&!isAbsoluteURL(et)?combineURLs(dt,et):et}const headersToObject=dt=>dt instanceof AxiosHeaders$1?{...dt}:dt;function mergeConfig$5(dt,et){et=et||{};const $t={};function kt(Kt,Yt,Jt,Zt){return utils$1.isPlainObject(Kt)&&utils$1.isPlainObject(Yt)?utils$1.merge.call({caseless:Zt},Kt,Yt):utils$1.isPlainObject(Yt)?utils$1.merge({},Yt):utils$1.isArray(Yt)?Yt.slice():Yt}function Tt(Kt,Yt,Jt,Zt){if(utils$1.isUndefined(Yt)){if(!utils$1.isUndefined(Kt))return kt(void 0,Kt,Jt,Zt)}else return kt(Kt,Yt,Jt,Zt)}function Dt(Kt,Yt){if(!utils$1.isUndefined(Yt))return kt(void 0,Yt)}function Ft(Kt,Yt){if(utils$1.isUndefined(Yt)){if(!utils$1.isUndefined(Kt))return kt(void 0,Kt)}else return kt(void 0,Yt)}function Ut(Kt,Yt,Jt){if(Jt in et)return kt(Kt,Yt);if(Jt in dt)return kt(void 0,Kt)}const Ht={url:Dt,method:Dt,data:Dt,baseURL:Ft,transformRequest:Ft,transformResponse:Ft,paramsSerializer:Ft,timeout:Ft,timeoutMessage:Ft,withCredentials:Ft,withXSRFToken:Ft,adapter:Ft,responseType:Ft,xsrfCookieName:Ft,xsrfHeaderName:Ft,onUploadProgress:Ft,onDownloadProgress:Ft,decompress:Ft,maxContentLength:Ft,maxBodyLength:Ft,beforeRedirect:Ft,transport:Ft,httpAgent:Ft,httpsAgent:Ft,cancelToken:Ft,socketPath:Ft,responseEncoding:Ft,validateStatus:Ut,headers:(Kt,Yt,Jt)=>Tt(headersToObject(Kt),headersToObject(Yt),Jt,!0)};return utils$1.forEach(Object.keys(Object.assign({},dt,et)),function(Yt){const Jt=Ht[Yt]||Tt,Zt=Jt(dt[Yt],et[Yt],Yt);utils$1.isUndefined(Zt)&&Jt!==Ut||($t[Yt]=Zt)}),$t}const resolveConfig=dt=>{const et=mergeConfig$5({},dt);let{data:$t,withXSRFToken:kt,xsrfHeaderName:Tt,xsrfCookieName:Dt,headers:Ft,auth:Ut}=et;et.headers=Ft=AxiosHeaders$1.from(Ft),et.url=buildURL(buildFullPath(et.baseURL,et.url),dt.params,dt.paramsSerializer),Ut&&Ft.set("Authorization","Basic "+btoa((Ut.username||"")+":"+(Ut.password?unescape(encodeURIComponent(Ut.password)):"")));let Ht;if(utils$1.isFormData($t)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)Ft.setContentType(void 0);else if((Ht=Ft.getContentType())!==!1){const[Kt,...Yt]=Ht?Ht.split(";").map(Jt=>Jt.trim()).filter(Boolean):[];Ft.setContentType([Kt||"multipart/form-data",...Yt].join("; "))}}if(platform.hasStandardBrowserEnv&&(kt&&utils$1.isFunction(kt)&&(kt=kt(et)),kt||kt!==!1&&isURLSameOrigin(et.url))){const Kt=Tt&&Dt&&cookies.read(Dt);Kt&&Ft.set(Tt,Kt)}return et},isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(dt){return new Promise(function($t,kt){const Tt=resolveConfig(dt);let Dt=Tt.data;const Ft=AxiosHeaders$1.from(Tt.headers).normalize();let{responseType:Ut,onUploadProgress:Ht,onDownloadProgress:Kt}=Tt,Yt,Jt,Zt,er,rr;function sr(){er&&er(),rr&&rr(),Tt.cancelToken&&Tt.cancelToken.unsubscribe(Yt),Tt.signal&&Tt.signal.removeEventListener("abort",Yt)}let ir=new XMLHttpRequest;ir.open(Tt.method.toUpperCase(),Tt.url,!0),ir.timeout=Tt.timeout;function nr(){if(!ir)return;const lr=AxiosHeaders$1.from("getAllResponseHeaders"in ir&&ir.getAllResponseHeaders()),dr={data:!Ut||Ut==="text"||Ut==="json"?ir.responseText:ir.response,status:ir.status,statusText:ir.statusText,headers:lr,config:dt,request:ir};settle(function(pr){$t(pr),sr()},function(pr){kt(pr),sr()},dr),ir=null}"onloadend"in ir?ir.onloadend=nr:ir.onreadystatechange=function(){!ir||ir.readyState!==4||ir.status===0&&!(ir.responseURL&&ir.responseURL.indexOf("file:")===0)||setTimeout(nr)},ir.onabort=function(){ir&&(kt(new AxiosError("Request aborted",AxiosError.ECONNABORTED,dt,ir)),ir=null)},ir.onerror=function(){kt(new AxiosError("Network Error",AxiosError.ERR_NETWORK,dt,ir)),ir=null},ir.ontimeout=function(){let cr=Tt.timeout?"timeout of "+Tt.timeout+"ms exceeded":"timeout exceeded";const dr=Tt.transitional||transitionalDefaults;Tt.timeoutErrorMessage&&(cr=Tt.timeoutErrorMessage),kt(new AxiosError(cr,dr.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,dt,ir)),ir=null},Dt===void 0&&Ft.setContentType(null),"setRequestHeader"in ir&&utils$1.forEach(Ft.toJSON(),function(cr,dr){ir.setRequestHeader(dr,cr)}),utils$1.isUndefined(Tt.withCredentials)||(ir.withCredentials=!!Tt.withCredentials),Ut&&Ut!=="json"&&(ir.responseType=Tt.responseType),Kt&&([Zt,rr]=progressEventReducer(Kt,!0),ir.addEventListener("progress",Zt)),Ht&&ir.upload&&([Jt,er]=progressEventReducer(Ht),ir.upload.addEventListener("progress",Jt),ir.upload.addEventListener("loadend",er)),(Tt.cancelToken||Tt.signal)&&(Yt=lr=>{ir&&(kt(!lr||lr.type?new CanceledError(null,dt,ir):lr),ir.abort(),ir=null)},Tt.cancelToken&&Tt.cancelToken.subscribe(Yt),Tt.signal&&(Tt.signal.aborted?Yt():Tt.signal.addEventListener("abort",Yt)));const or=parseProtocol(Tt.url);if(or&&platform.protocols.indexOf(or)===-1){kt(new AxiosError("Unsupported protocol "+or+":",AxiosError.ERR_BAD_REQUEST,dt));return}ir.send(Dt||null)})},composeSignals=(dt,et)=>{const{length:$t}=dt=dt?dt.filter(Boolean):[];if(et||$t){let kt=new AbortController,Tt;const Dt=function(Kt){if(!Tt){Tt=!0,Ut();const Yt=Kt instanceof Error?Kt:this.reason;kt.abort(Yt instanceof AxiosError?Yt:new CanceledError(Yt instanceof Error?Yt.message:Yt))}};let Ft=et&&setTimeout(()=>{Ft=null,Dt(new AxiosError(`timeout ${et} of ms exceeded`,AxiosError.ETIMEDOUT))},et);const Ut=()=>{dt&&(Ft&&clearTimeout(Ft),Ft=null,dt.forEach(Kt=>{Kt.unsubscribe?Kt.unsubscribe(Dt):Kt.removeEventListener("abort",Dt)}),dt=null)};dt.forEach(Kt=>Kt.addEventListener("abort",Dt));const{signal:Ht}=kt;return Ht.unsubscribe=()=>utils$1.asap(Ut),Ht}},composeSignals$1=composeSignals,streamChunk=function*(dt,et){let $t=dt.byteLength;if(!et||$t<et){yield dt;return}let kt=0,Tt;for(;kt<$t;)Tt=kt+et,yield dt.slice(kt,Tt),kt=Tt},readBytes=async function*(dt,et){for await(const $t of readStream(dt))yield*streamChunk($t,et)},readStream=async function*(dt){if(dt[Symbol.asyncIterator]){yield*dt;return}const et=dt.getReader();try{for(;;){const{done:$t,value:kt}=await et.read();if($t)break;yield kt}}finally{await et.cancel()}},trackStream=(dt,et,$t,kt)=>{const Tt=readBytes(dt,et);let Dt=0,Ft,Ut=Ht=>{Ft||(Ft=!0,kt&&kt(Ht))};return new ReadableStream({async pull(Ht){try{const{done:Kt,value:Yt}=await Tt.next();if(Kt){Ut(),Ht.close();return}let Jt=Yt.byteLength;if($t){let Zt=Dt+=Jt;$t(Zt)}Ht.enqueue(new Uint8Array(Yt))}catch(Kt){throw Ut(Kt),Kt}},cancel(Ht){return Ut(Ht),Tt.return()}},{highWaterMark:2})},isFetchSupported=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",isReadableStreamSupported=isFetchSupported&&typeof ReadableStream=="function",encodeText=isFetchSupported&&(typeof TextEncoder=="function"?(dt=>et=>dt.encode(et))(new TextEncoder):async dt=>new Uint8Array(await new Response(dt).arrayBuffer())),test=(dt,...et)=>{try{return!!dt(...et)}catch{return!1}},supportsRequestStream=isReadableStreamSupported&&test(()=>{let dt=!1;const et=new Request(platform.origin,{body:new ReadableStream,method:"POST",get duplex(){return dt=!0,"half"}}).headers.has("Content-Type");return dt&&!et}),DEFAULT_CHUNK_SIZE=64*1024,supportsResponseStream=isReadableStreamSupported&&test(()=>utils$1.isReadableStream(new Response("").body)),resolvers={stream:supportsResponseStream&&(dt=>dt.body)};isFetchSupported&&(dt=>{["text","arrayBuffer","blob","formData","stream"].forEach(et=>{!resolvers[et]&&(resolvers[et]=utils$1.isFunction(dt[et])?$t=>$t[et]():($t,kt)=>{throw new AxiosError(`Response type '${et}' is not supported`,AxiosError.ERR_NOT_SUPPORT,kt)})})})(new Response);const getBodyLength=async dt=>{if(dt==null)return 0;if(utils$1.isBlob(dt))return dt.size;if(utils$1.isSpecCompliantForm(dt))return(await new Request(platform.origin,{method:"POST",body:dt}).arrayBuffer()).byteLength;if(utils$1.isArrayBufferView(dt)||utils$1.isArrayBuffer(dt))return dt.byteLength;if(utils$1.isURLSearchParams(dt)&&(dt=dt+""),utils$1.isString(dt))return(await encodeText(dt)).byteLength},resolveBodyLength=async(dt,et)=>{const $t=utils$1.toFiniteNumber(dt.getContentLength());return $t??getBodyLength(et)},fetchAdapter=isFetchSupported&&(async dt=>{let{url:et,method:$t,data:kt,signal:Tt,cancelToken:Dt,timeout:Ft,onDownloadProgress:Ut,onUploadProgress:Ht,responseType:Kt,headers:Yt,withCredentials:Jt="same-origin",fetchOptions:Zt}=resolveConfig(dt);Kt=Kt?(Kt+"").toLowerCase():"text";let er=composeSignals$1([Tt,Dt&&Dt.toAbortSignal()],Ft),rr;const sr=er&&er.unsubscribe&&(()=>{er.unsubscribe()});let ir;try{if(Ht&&supportsRequestStream&&$t!=="get"&&$t!=="head"&&(ir=await resolveBodyLength(Yt,kt))!==0){let dr=new Request(et,{method:"POST",body:kt,duplex:"half"}),ur;if(utils$1.isFormData(kt)&&(ur=dr.headers.get("content-type"))&&Yt.setContentType(ur),dr.body){const[pr,mr]=progressEventDecorator(ir,progressEventReducer(asyncDecorator(Ht)));kt=trackStream(dr.body,DEFAULT_CHUNK_SIZE,pr,mr)}}utils$1.isString(Jt)||(Jt=Jt?"include":"omit");const nr="credentials"in Request.prototype;rr=new Request(et,{...Zt,signal:er,method:$t.toUpperCase(),headers:Yt.normalize().toJSON(),body:kt,duplex:"half",credentials:nr?Jt:void 0});let or=await fetch(rr);const lr=supportsResponseStream&&(Kt==="stream"||Kt==="response");if(supportsResponseStream&&(Ut||lr&&sr)){const dr={};["status","statusText","headers"].forEach(vr=>{dr[vr]=or[vr]});const ur=utils$1.toFiniteNumber(or.headers.get("content-length")),[pr,mr]=Ut&&progressEventDecorator(ur,progressEventReducer(asyncDecorator(Ut),!0))||[];or=new Response(trackStream(or.body,DEFAULT_CHUNK_SIZE,pr,()=>{mr&&mr(),sr&&sr()}),dr)}Kt=Kt||"text";let cr=await resolvers[utils$1.findKey(resolvers,Kt)||"text"](or,dt);return!lr&&sr&&sr(),await new Promise((dr,ur)=>{settle(dr,ur,{data:cr,headers:AxiosHeaders$1.from(or.headers),status:or.status,statusText:or.statusText,config:dt,request:rr})})}catch(nr){throw sr&&sr(),nr&&nr.name==="TypeError"&&/fetch/i.test(nr.message)?Object.assign(new AxiosError("Network Error",AxiosError.ERR_NETWORK,dt,rr),{cause:nr.cause||nr}):AxiosError.from(nr,nr&&nr.code,dt,rr)}}),knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:fetchAdapter};utils$1.forEach(knownAdapters,(dt,et)=>{if(dt){try{Object.defineProperty(dt,"name",{value:et})}catch{}Object.defineProperty(dt,"adapterName",{value:et})}});const renderReason=dt=>`- ${dt}`,isResolvedHandle=dt=>utils$1.isFunction(dt)||dt===null||dt===!1,adapters={getAdapter:dt=>{dt=utils$1.isArray(dt)?dt:[dt];const{length:et}=dt;let $t,kt;const Tt={};for(let Dt=0;Dt<et;Dt++){$t=dt[Dt];let Ft;if(kt=$t,!isResolvedHandle($t)&&(kt=knownAdapters[(Ft=String($t)).toLowerCase()],kt===void 0))throw new AxiosError(`Unknown adapter '${Ft}'`);if(kt)break;Tt[Ft||"#"+Dt]=kt}if(!kt){const Dt=Object.entries(Tt).map(([Ut,Ht])=>`adapter ${Ut} `+(Ht===!1?"is not supported by the environment":"is not available in the build"));let Ft=et?Dt.length>1?`since :
`+Dt.map(renderReason).join(`
`):" "+renderReason(Dt[0]):"as no adapter specified";throw new AxiosError("There is no suitable adapter to dispatch the request "+Ft,"ERR_NOT_SUPPORT")}return kt},adapters:knownAdapters};function throwIfCancellationRequested(dt){if(dt.cancelToken&&dt.cancelToken.throwIfRequested(),dt.signal&&dt.signal.aborted)throw new CanceledError(null,dt)}function dispatchRequest(dt){return throwIfCancellationRequested(dt),dt.headers=AxiosHeaders$1.from(dt.headers),dt.data=transformData.call(dt,dt.transformRequest),["post","put","patch"].indexOf(dt.method)!==-1&&dt.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(dt.adapter||defaults$7.adapter)(dt).then(function(kt){return throwIfCancellationRequested(dt),kt.data=transformData.call(dt,dt.transformResponse,kt),kt.headers=AxiosHeaders$1.from(kt.headers),kt},function(kt){return isCancel(kt)||(throwIfCancellationRequested(dt),kt&&kt.response&&(kt.response.data=transformData.call(dt,dt.transformResponse,kt.response),kt.response.headers=AxiosHeaders$1.from(kt.response.headers))),Promise.reject(kt)})}const VERSION="1.7.9",validators$1={};["object","boolean","number","function","string","symbol"].forEach((dt,et)=>{validators$1[dt]=function(kt){return typeof kt===dt||"a"+(et<1?"n ":" ")+dt}});const deprecatedWarnings={};validators$1.transitional=function(et,$t,kt){function Tt(Dt,Ft){return"[Axios v"+VERSION+"] Transitional option '"+Dt+"'"+Ft+(kt?". "+kt:"")}return(Dt,Ft,Ut)=>{if(et===!1)throw new AxiosError(Tt(Ft," has been removed"+($t?" in "+$t:"")),AxiosError.ERR_DEPRECATED);return $t&&!deprecatedWarnings[Ft]&&(deprecatedWarnings[Ft]=!0,console.warn(Tt(Ft," has been deprecated since v"+$t+" and will be removed in the near future"))),et?et(Dt,Ft,Ut):!0}};validators$1.spelling=function(et){return($t,kt)=>(console.warn(`${kt} is likely a misspelling of ${et}`),!0)};function assertOptions(dt,et,$t){if(typeof dt!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const kt=Object.keys(dt);let Tt=kt.length;for(;Tt-- >0;){const Dt=kt[Tt],Ft=et[Dt];if(Ft){const Ut=dt[Dt],Ht=Ut===void 0||Ft(Ut,Dt,dt);if(Ht!==!0)throw new AxiosError("option "+Dt+" must be "+Ht,AxiosError.ERR_BAD_OPTION_VALUE);continue}if($t!==!0)throw new AxiosError("Unknown option "+Dt,AxiosError.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;class Axios{constructor(et){this.defaults=et,this.interceptors={request:new InterceptorManager$1,response:new InterceptorManager$1}}async request(et,$t){try{return await this._request(et,$t)}catch(kt){if(kt instanceof Error){let Tt={};Error.captureStackTrace?Error.captureStackTrace(Tt):Tt=new Error;const Dt=Tt.stack?Tt.stack.replace(/^.+\n/,""):"";try{kt.stack?Dt&&!String(kt.stack).endsWith(Dt.replace(/^.+\n.+\n/,""))&&(kt.stack+=`
`+Dt):kt.stack=Dt}catch{}}throw kt}}_request(et,$t){typeof et=="string"?($t=$t||{},$t.url=et):$t=et||{},$t=mergeConfig$5(this.defaults,$t);const{transitional:kt,paramsSerializer:Tt,headers:Dt}=$t;kt!==void 0&&validator.assertOptions(kt,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),Tt!=null&&(utils$1.isFunction(Tt)?$t.paramsSerializer={serialize:Tt}:validator.assertOptions(Tt,{encode:validators.function,serialize:validators.function},!0)),validator.assertOptions($t,{baseUrl:validators.spelling("baseURL"),withXsrfToken:validators.spelling("withXSRFToken")},!0),$t.method=($t.method||this.defaults.method||"get").toLowerCase();let Ft=Dt&&utils$1.merge(Dt.common,Dt[$t.method]);Dt&&utils$1.forEach(["delete","get","head","post","put","patch","common"],rr=>{delete Dt[rr]}),$t.headers=AxiosHeaders$1.concat(Ft,Dt);const Ut=[];let Ht=!0;this.interceptors.request.forEach(function(sr){typeof sr.runWhen=="function"&&sr.runWhen($t)===!1||(Ht=Ht&&sr.synchronous,Ut.unshift(sr.fulfilled,sr.rejected))});const Kt=[];this.interceptors.response.forEach(function(sr){Kt.push(sr.fulfilled,sr.rejected)});let Yt,Jt=0,Zt;if(!Ht){const rr=[dispatchRequest.bind(this),void 0];for(rr.unshift.apply(rr,Ut),rr.push.apply(rr,Kt),Zt=rr.length,Yt=Promise.resolve($t);Jt<Zt;)Yt=Yt.then(rr[Jt++],rr[Jt++]);return Yt}Zt=Ut.length;let er=$t;for(Jt=0;Jt<Zt;){const rr=Ut[Jt++],sr=Ut[Jt++];try{er=rr(er)}catch(ir){sr.call(this,ir);break}}try{Yt=dispatchRequest.call(this,er)}catch(rr){return Promise.reject(rr)}for(Jt=0,Zt=Kt.length;Jt<Zt;)Yt=Yt.then(Kt[Jt++],Kt[Jt++]);return Yt}getUri(et){et=mergeConfig$5(this.defaults,et);const $t=buildFullPath(et.baseURL,et.url);return buildURL($t,et.params,et.paramsSerializer)}}utils$1.forEach(["delete","get","head","options"],function(et){Axios.prototype[et]=function($t,kt){return this.request(mergeConfig$5(kt||{},{method:et,url:$t,data:(kt||{}).data}))}});utils$1.forEach(["post","put","patch"],function(et){function $t(kt){return function(Dt,Ft,Ut){return this.request(mergeConfig$5(Ut||{},{method:et,headers:kt?{"Content-Type":"multipart/form-data"}:{},url:Dt,data:Ft}))}}Axios.prototype[et]=$t(),Axios.prototype[et+"Form"]=$t(!0)});const Axios$1=Axios;class CancelToken{constructor(et){if(typeof et!="function")throw new TypeError("executor must be a function.");let $t;this.promise=new Promise(function(Dt){$t=Dt});const kt=this;this.promise.then(Tt=>{if(!kt._listeners)return;let Dt=kt._listeners.length;for(;Dt-- >0;)kt._listeners[Dt](Tt);kt._listeners=null}),this.promise.then=Tt=>{let Dt;const Ft=new Promise(Ut=>{kt.subscribe(Ut),Dt=Ut}).then(Tt);return Ft.cancel=function(){kt.unsubscribe(Dt)},Ft},et(function(Dt,Ft,Ut){kt.reason||(kt.reason=new CanceledError(Dt,Ft,Ut),$t(kt.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(et){if(this.reason){et(this.reason);return}this._listeners?this._listeners.push(et):this._listeners=[et]}unsubscribe(et){if(!this._listeners)return;const $t=this._listeners.indexOf(et);$t!==-1&&this._listeners.splice($t,1)}toAbortSignal(){const et=new AbortController,$t=kt=>{et.abort(kt)};return this.subscribe($t),et.signal.unsubscribe=()=>this.unsubscribe($t),et.signal}static source(){let et;return{token:new CancelToken(function(Tt){et=Tt}),cancel:et}}}const CancelToken$1=CancelToken;function spread(dt){return function($t){return dt.apply(null,$t)}}function isAxiosError(dt){return utils$1.isObject(dt)&&dt.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([dt,et])=>{HttpStatusCode[et]=dt});const HttpStatusCode$1=HttpStatusCode;function createInstance(dt){const et=new Axios$1(dt),$t=bind$1(Axios$1.prototype.request,et);return utils$1.extend($t,Axios$1.prototype,et,{allOwnKeys:!0}),utils$1.extend($t,et,null,{allOwnKeys:!0}),$t.create=function(Tt){return createInstance(mergeConfig$5(dt,Tt))},$t}const axios=createInstance(defaults$7);axios.Axios=Axios$1;axios.CanceledError=CanceledError;axios.CancelToken=CancelToken$1;axios.isCancel=isCancel;axios.VERSION=VERSION;axios.toFormData=toFormData;axios.AxiosError=AxiosError;axios.Cancel=axios.CanceledError;axios.all=function(et){return Promise.all(et)};axios.spread=spread;axios.isAxiosError=isAxiosError;axios.mergeConfig=mergeConfig$5;axios.AxiosHeaders=AxiosHeaders$1;axios.formToJSON=dt=>formDataToJSON(utils$1.isHTMLForm(dt)?new FormData(dt):dt);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode$1;axios.default=axios;const axios$1=axios;function r$3(dt){var et,$t,kt="";if(typeof dt=="string"||typeof dt=="number")kt+=dt;else if(typeof dt=="object")if(Array.isArray(dt)){var Tt=dt.length;for(et=0;et<Tt;et++)dt[et]&&($t=r$3(dt[et]))&&(kt&&(kt+=" "),kt+=$t)}else for($t in dt)dt[$t]&&(kt&&(kt+=" "),kt+=$t);return kt}function clsx(){for(var dt,et,$t=0,kt="",Tt=arguments.length;$t<Tt;$t++)(dt=arguments[$t])&&(et=r$3(dt))&&(kt&&(kt+=" "),kt+=et);return kt}function Mt$1(dt){if(!dt||typeof document>"u")return;let et=document.head||document.getElementsByTagName("head")[0],$t=document.createElement("style");$t.type="text/css",et.firstChild?et.insertBefore($t,et.firstChild):et.appendChild($t),$t.styleSheet?$t.styleSheet.cssText=dt:$t.appendChild(document.createTextNode(dt))}Mt$1(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var L$8=dt=>typeof dt=="number"&&!isNaN(dt),N$2=dt=>typeof dt=="string",P$5=dt=>typeof dt=="function",mt$1=dt=>N$2(dt)||L$8(dt),B$4=dt=>N$2(dt)||P$5(dt)?dt:null,pt=(dt,et)=>dt===!1||L$8(dt)&&dt>0?dt:et,z$6=dt=>reactExports.isValidElement(dt)||N$2(dt)||P$5(dt)||L$8(dt);function Z$4(dt,et,$t=300){let{scrollHeight:kt,style:Tt}=dt;requestAnimationFrame(()=>{Tt.minHeight="initial",Tt.height=kt+"px",Tt.transition=`all ${$t}ms`,requestAnimationFrame(()=>{Tt.height="0",Tt.padding="0",Tt.margin="0",setTimeout(et,$t)})})}function $$3({enter:dt,exit:et,appendPosition:$t=!1,collapse:kt=!0,collapseDuration:Tt=300}){return function({children:Dt,position:Ft,preventExitTransition:Ut,done:Ht,nodeRef:Kt,isIn:Yt,playToast:Jt}){let Zt=$t?`${dt}--${Ft}`:dt,er=$t?`${et}--${Ft}`:et,rr=reactExports.useRef(0);return reactExports.useLayoutEffect(()=>{let sr=Kt.current,ir=Zt.split(" "),nr=or=>{or.target===Kt.current&&(Jt(),sr.removeEventListener("animationend",nr),sr.removeEventListener("animationcancel",nr),rr.current===0&&or.type!=="animationcancel"&&sr.classList.remove(...ir))};sr.classList.add(...ir),sr.addEventListener("animationend",nr),sr.addEventListener("animationcancel",nr)},[]),reactExports.useEffect(()=>{let sr=Kt.current,ir=()=>{sr.removeEventListener("animationend",ir),kt?Z$4(sr,Ht,Tt):Ht()};Yt||(Ut?ir():(rr.current=1,sr.className+=` ${er}`,sr.addEventListener("animationend",ir)))},[Yt]),React$2.createElement(React$2.Fragment,null,Dt)}}function J$2(dt,et){return{content:tt$2(dt.content,dt.props),containerId:dt.props.containerId,id:dt.props.toastId,theme:dt.props.theme,type:dt.props.type,data:dt.props.data||{},isLoading:dt.props.isLoading,icon:dt.props.icon,reason:dt.removalReason,status:et}}function tt$2(dt,et,$t=!1){return reactExports.isValidElement(dt)&&!N$2(dt.type)?reactExports.cloneElement(dt,{closeToast:et.closeToast,toastProps:et,data:et.data,isPaused:$t}):P$5(dt)?dt({closeToast:et.closeToast,toastProps:et,data:et.data,isPaused:$t}):dt}function yt({closeToast:dt,theme:et,ariaLabel:$t="close"}){return React$2.createElement("button",{className:`Toastify__close-button Toastify__close-button--${et}`,type:"button",onClick:kt=>{kt.stopPropagation(),dt(!0)},"aria-label":$t},React$2.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},React$2.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function gt$1({delay:dt,isRunning:et,closeToast:$t,type:kt="default",hide:Tt,className:Dt,controlledProgress:Ft,progress:Ut,rtl:Ht,isIn:Kt,theme:Yt}){let Jt=Tt||Ft&&Ut===0,Zt={animationDuration:`${dt}ms`,animationPlayState:et?"running":"paused"};Ft&&(Zt.transform=`scaleX(${Ut})`);let er=clsx("Toastify__progress-bar",Ft?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${Yt}`,`Toastify__progress-bar--${kt}`,{"Toastify__progress-bar--rtl":Ht}),rr=P$5(Dt)?Dt({rtl:Ht,type:kt,defaultClassName:er}):clsx(er,Dt),sr={[Ft&&Ut>=1?"onTransitionEnd":"onAnimationEnd"]:Ft&&Ut<1?null:()=>{Kt&&$t()}};return React$2.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":Jt},React$2.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${Yt} Toastify__progress-bar--${kt}`}),React$2.createElement("div",{role:"progressbar","aria-hidden":Jt?"true":"false","aria-label":"notification timer",className:rr,style:Zt,...sr}))}var Xt=1,at$1=()=>`${Xt++}`;function _t$1(dt,et,$t){let kt=1,Tt=0,Dt=[],Ft=[],Ut=et,Ht=new Map,Kt=new Set,Yt=or=>(Kt.add(or),()=>Kt.delete(or)),Jt=()=>{Ft=Array.from(Ht.values()),Kt.forEach(or=>or())},Zt=({containerId:or,toastId:lr,updateId:cr})=>{let dr=or?or!==dt:dt!==1,ur=Ht.has(lr)&&cr==null;return dr||ur},er=(or,lr)=>{Ht.forEach(cr=>{var dr;(lr==null||lr===cr.props.toastId)&&((dr=cr.toggle)==null||dr.call(cr,or))})},rr=or=>{var lr,cr;(cr=(lr=or.props)==null?void 0:lr.onClose)==null||cr.call(lr,or.removalReason),or.isActive=!1},sr=or=>{if(or==null)Ht.forEach(rr);else{let lr=Ht.get(or);lr&&rr(lr)}Jt()},ir=()=>{Tt-=Dt.length,Dt=[]},nr=or=>{var lr,cr;let{toastId:dr,updateId:ur}=or.props,pr=ur==null;or.staleId&&Ht.delete(or.staleId),or.isActive=!0,Ht.set(dr,or),Jt(),$t(J$2(or,pr?"added":"updated")),pr&&((cr=(lr=or.props).onOpen)==null||cr.call(lr))};return{id:dt,props:Ut,observe:Yt,toggle:er,removeToast:sr,toasts:Ht,clearQueue:ir,buildToast:(or,lr)=>{if(Zt(lr))return;let{toastId:cr,updateId:dr,data:ur,staleId:pr,delay:mr}=lr,vr=dr==null;vr&&Tt++;let kr={...Ut,style:Ut.toastStyle,key:kt++,...Object.fromEntries(Object.entries(lr).filter(([_r,Or])=>Or!=null)),toastId:cr,updateId:dr,data:ur,isIn:!1,className:B$4(lr.className||Ut.toastClassName),progressClassName:B$4(lr.progressClassName||Ut.progressClassName),autoClose:lr.isLoading?!1:pt(lr.autoClose,Ut.autoClose),closeToast(_r){Ht.get(cr).removalReason=_r,sr(cr)},deleteToast(){let _r=Ht.get(cr);if(_r!=null){if($t(J$2(_r,"removed")),Ht.delete(cr),Tt--,Tt<0&&(Tt=0),Dt.length>0){nr(Dt.shift());return}Jt()}}};kr.closeButton=Ut.closeButton,lr.closeButton===!1||z$6(lr.closeButton)?kr.closeButton=lr.closeButton:lr.closeButton===!0&&(kr.closeButton=z$6(Ut.closeButton)?Ut.closeButton:!0);let br={content:or,props:kr,staleId:pr};Ut.limit&&Ut.limit>0&&Tt>Ut.limit&&vr?Dt.push(br):L$8(mr)?setTimeout(()=>{nr(br)},mr):nr(br)},setProps(or){Ut=or},setToggle:(or,lr)=>{let cr=Ht.get(or);cr&&(cr.toggle=lr)},isToastActive:or=>{var lr;return(lr=Ht.get(or))==null?void 0:lr.isActive},getSnapshot:()=>Ft}}var I$3=new Map,F$3=[],st=new Set,Vt=dt=>st.forEach(et=>et(dt)),bt=()=>I$3.size>0;function Qt(){F$3.forEach(dt=>nt(dt.content,dt.options)),F$3=[]}var vt$1=(dt,{containerId:et})=>{var $t;return($t=I$3.get(et||1))==null?void 0:$t.toasts.get(dt)};function X$6(dt,et){var $t;if(et)return!!(($t=I$3.get(et))!=null&&$t.isToastActive(dt));let kt=!1;return I$3.forEach(Tt=>{Tt.isToastActive(dt)&&(kt=!0)}),kt}function ht$1(dt){if(!bt()){F$3=F$3.filter(et=>dt!=null&&et.options.toastId!==dt);return}if(dt==null||mt$1(dt))I$3.forEach(et=>{et.removeToast(dt)});else if(dt&&("containerId"in dt||"id"in dt)){let et=I$3.get(dt.containerId);et?et.removeToast(dt.id):I$3.forEach($t=>{$t.removeToast(dt.id)})}}var Ct=(dt={})=>{I$3.forEach(et=>{et.props.limit&&(!dt.containerId||et.id===dt.containerId)&&et.clearQueue()})};function nt(dt,et){z$6(dt)&&(bt()||F$3.push({content:dt,options:et}),I$3.forEach($t=>{$t.buildToast(dt,et)}))}function xt$1(dt){var et;(et=I$3.get(dt.containerId||1))==null||et.setToggle(dt.id,dt.fn)}function rt$1(dt,et){I$3.forEach($t=>{(et==null||!(et!=null&&et.containerId)||(et==null?void 0:et.containerId)===$t.id)&&$t.toggle(dt,et==null?void 0:et.id)})}function Et(dt){let et=dt.containerId||1;return{subscribe($t){let kt=_t$1(et,dt,Vt);I$3.set(et,kt);let Tt=kt.observe($t);return Qt(),()=>{Tt(),I$3.delete(et)}},setProps($t){var kt;(kt=I$3.get(et))==null||kt.setProps($t)},getSnapshot(){var $t;return($t=I$3.get(et))==null?void 0:$t.getSnapshot()}}}function Pt$1(dt){return st.add(dt),()=>{st.delete(dt)}}function Wt(dt){return dt&&(N$2(dt.toastId)||L$8(dt.toastId))?dt.toastId:at$1()}function U$4(dt,et){return nt(dt,et),et.toastId}function V$2(dt,et){return{...et,type:et&&et.type||dt,toastId:Wt(et)}}function Q$3(dt){return(et,$t)=>U$4(et,V$2(dt,$t))}function y$4(dt,et){return U$4(dt,V$2("default",et))}y$4.loading=(dt,et)=>U$4(dt,V$2("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...et}));function Gt(dt,{pending:et,error:$t,success:kt},Tt){let Dt;et&&(Dt=N$2(et)?y$4.loading(et,Tt):y$4.loading(et.render,{...Tt,...et}));let Ft={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},Ut=(Kt,Yt,Jt)=>{if(Yt==null){y$4.dismiss(Dt);return}let Zt={type:Kt,...Ft,...Tt,data:Jt},er=N$2(Yt)?{render:Yt}:Yt;return Dt?y$4.update(Dt,{...Zt,...er}):y$4(er.render,{...Zt,...er}),Jt},Ht=P$5(dt)?dt():dt;return Ht.then(Kt=>Ut("success",kt,Kt)).catch(Kt=>Ut("error",$t,Kt)),Ht}y$4.promise=Gt;y$4.success=Q$3("success");y$4.info=Q$3("info");y$4.error=Q$3("error");y$4.warning=Q$3("warning");y$4.warn=y$4.warning;y$4.dark=(dt,et)=>U$4(dt,V$2("default",{theme:"dark",...et}));function qt(dt){ht$1(dt)}y$4.dismiss=qt;y$4.clearWaitingQueue=Ct;y$4.isActive=X$6;y$4.update=(dt,et={})=>{let $t=vt$1(dt,et);if($t){let{props:kt,content:Tt}=$t,Dt={delay:100,...kt,...et,toastId:et.toastId||dt,updateId:at$1()};Dt.toastId!==dt&&(Dt.staleId=dt);let Ft=Dt.render||Tt;delete Dt.render,U$4(Ft,Dt)}};y$4.done=dt=>{y$4.update(dt,{progress:1})};y$4.onChange=Pt$1;y$4.play=dt=>rt$1(!0,dt);y$4.pause=dt=>rt$1(!1,dt);function It$1(dt){var et;let{subscribe:$t,getSnapshot:kt,setProps:Tt}=reactExports.useRef(Et(dt)).current;Tt(dt);let Dt=(et=reactExports.useSyncExternalStore($t,kt,kt))==null?void 0:et.slice();function Ft(Ut){if(!Dt)return[];let Ht=new Map;return dt.newestOnTop&&Dt.reverse(),Dt.forEach(Kt=>{let{position:Yt}=Kt.props;Ht.has(Yt)||Ht.set(Yt,[]),Ht.get(Yt).push(Kt)}),Array.from(Ht,Kt=>Ut(Kt[0],Kt[1]))}return{getToastToRender:Ft,isToastActive:X$6,count:Dt==null?void 0:Dt.length}}function At(dt){let[et,$t]=reactExports.useState(!1),[kt,Tt]=reactExports.useState(!1),Dt=reactExports.useRef(null),Ft=reactExports.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:Ut,pauseOnHover:Ht,closeToast:Kt,onClick:Yt,closeOnClick:Jt}=dt;xt$1({id:dt.toastId,containerId:dt.containerId,fn:$t}),reactExports.useEffect(()=>{if(dt.pauseOnFocusLoss)return Zt(),()=>{er()}},[dt.pauseOnFocusLoss]);function Zt(){document.hasFocus()||nr(),window.addEventListener("focus",ir),window.addEventListener("blur",nr)}function er(){window.removeEventListener("focus",ir),window.removeEventListener("blur",nr)}function rr(pr){if(dt.draggable===!0||dt.draggable===pr.pointerType){or();let mr=Dt.current;Ft.canCloseOnClick=!0,Ft.canDrag=!0,mr.style.transition="none",dt.draggableDirection==="x"?(Ft.start=pr.clientX,Ft.removalDistance=mr.offsetWidth*(dt.draggablePercent/100)):(Ft.start=pr.clientY,Ft.removalDistance=mr.offsetHeight*(dt.draggablePercent===80?dt.draggablePercent*1.5:dt.draggablePercent)/100)}}function sr(pr){let{top:mr,bottom:vr,left:kr,right:br}=Dt.current.getBoundingClientRect();pr.nativeEvent.type!=="touchend"&&dt.pauseOnHover&&pr.clientX>=kr&&pr.clientX<=br&&pr.clientY>=mr&&pr.clientY<=vr?nr():ir()}function ir(){$t(!0)}function nr(){$t(!1)}function or(){Ft.didMove=!1,document.addEventListener("pointermove",cr),document.addEventListener("pointerup",dr)}function lr(){document.removeEventListener("pointermove",cr),document.removeEventListener("pointerup",dr)}function cr(pr){let mr=Dt.current;if(Ft.canDrag&&mr){Ft.didMove=!0,et&&nr(),dt.draggableDirection==="x"?Ft.delta=pr.clientX-Ft.start:Ft.delta=pr.clientY-Ft.start,Ft.start!==pr.clientX&&(Ft.canCloseOnClick=!1);let vr=dt.draggableDirection==="x"?`${Ft.delta}px, var(--y)`:`0, calc(${Ft.delta}px + var(--y))`;mr.style.transform=`translate3d(${vr},0)`,mr.style.opacity=`${1-Math.abs(Ft.delta/Ft.removalDistance)}`}}function dr(){lr();let pr=Dt.current;if(Ft.canDrag&&Ft.didMove&&pr){if(Ft.canDrag=!1,Math.abs(Ft.delta)>Ft.removalDistance){Tt(!0),dt.closeToast(!0),dt.collapseAll();return}pr.style.transition="transform 0.2s, opacity 0.2s",pr.style.removeProperty("transform"),pr.style.removeProperty("opacity")}}let ur={onPointerDown:rr,onPointerUp:sr};return Ut&&Ht&&(ur.onMouseEnter=nr,dt.stacked||(ur.onMouseLeave=ir)),Jt&&(ur.onClick=pr=>{Yt&&Yt(pr),Ft.canCloseOnClick&&Kt(!0)}),{playToast:ir,pauseToast:nr,isRunning:et,preventExitTransition:kt,toastRef:Dt,eventHandlers:ur}}var Ot$1=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,G$2=({theme:dt,type:et,isLoading:$t,...kt})=>React$2.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:dt==="colored"?"currentColor":`var(--toastify-icon-color-${et})`,...kt});function ao(dt){return React$2.createElement(G$2,{...dt},React$2.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function so(dt){return React$2.createElement(G$2,{...dt},React$2.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function no(dt){return React$2.createElement(G$2,{...dt},React$2.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function ro(dt){return React$2.createElement(G$2,{...dt},React$2.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function io(){return React$2.createElement("div",{className:"Toastify__spinner"})}var W$7={info:so,warning:ao,success:no,error:ro,spinner:io},lo=dt=>dt in W$7;function Nt({theme:dt,type:et,isLoading:$t,icon:kt}){let Tt=null,Dt={theme:dt,type:et};return kt===!1||(P$5(kt)?Tt=kt({...Dt,isLoading:$t}):reactExports.isValidElement(kt)?Tt=reactExports.cloneElement(kt,Dt):$t?Tt=W$7.spinner():lo(et)&&(Tt=W$7[et](Dt))),Tt}var wt$1=dt=>{let{isRunning:et,preventExitTransition:$t,toastRef:kt,eventHandlers:Tt,playToast:Dt}=At(dt),{closeButton:Ft,children:Ut,autoClose:Ht,onClick:Kt,type:Yt,hideProgressBar:Jt,closeToast:Zt,transition:er,position:rr,className:sr,style:ir,progressClassName:nr,updateId:or,role:lr,progress:cr,rtl:dr,toastId:ur,deleteToast:pr,isIn:mr,isLoading:vr,closeOnClick:kr,theme:br,ariaLabel:_r}=dt,Or=clsx("Toastify__toast",`Toastify__toast-theme--${br}`,`Toastify__toast--${Yt}`,{"Toastify__toast--rtl":dr},{"Toastify__toast--close-on-click":kr}),Pr=P$5(sr)?sr({rtl:dr,position:rr,type:Yt,defaultClassName:Or}):clsx(Or,sr),Mr=Nt(dt),Rr=!!cr||!Ht,Tr={closeToast:Zt,type:Yt,theme:br},xr=null;return Ft===!1||(P$5(Ft)?xr=Ft(Tr):reactExports.isValidElement(Ft)?xr=reactExports.cloneElement(Ft,Tr):xr=yt(Tr)),React$2.createElement(er,{isIn:mr,done:pr,position:rr,preventExitTransition:$t,nodeRef:kt,playToast:Dt},React$2.createElement("div",{id:ur,tabIndex:0,onClick:Kt,"data-in":mr,className:Pr,...Tt,style:ir,ref:kt,...mr&&{role:lr,"aria-label":_r}},Mr!=null&&React$2.createElement("div",{className:clsx("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!vr})},Mr),tt$2(Ut,dt,!et),xr,!dt.customProgressBar&&React$2.createElement(gt$1,{...or&&!Rr?{key:`p-${or}`}:{},rtl:dr,theme:br,delay:Ht,isRunning:et,isIn:mr,closeToast:Zt,hide:Jt,type:Yt,className:nr,controlledProgress:Rr,progress:cr||0})))},K$3=(dt,et=!1)=>({enter:`Toastify--animate Toastify__${dt}-enter`,exit:`Toastify--animate Toastify__${dt}-exit`,appendPosition:et}),lt=$$3(K$3("bounce",!0)),_o={position:"top-right",transition:lt,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:dt=>dt.altKey&&dt.code==="KeyT"};function Lt$1(dt){let et={..._o,...dt},$t=dt.stacked,[kt,Tt]=reactExports.useState(!0),Dt=reactExports.useRef(null),{getToastToRender:Ft,isToastActive:Ut,count:Ht}=It$1(et),{className:Kt,style:Yt,rtl:Jt,containerId:Zt,hotKeys:er}=et;function rr(ir){let nr=clsx("Toastify__toast-container",`Toastify__toast-container--${ir}`,{"Toastify__toast-container--rtl":Jt});return P$5(Kt)?Kt({position:ir,rtl:Jt,defaultClassName:nr}):clsx(nr,B$4(Kt))}function sr(){$t&&(Tt(!0),y$4.play())}return Ot$1(()=>{var ir;if($t){let nr=Dt.current.querySelectorAll('[data-in="true"]'),or=12,lr=(ir=et.position)==null?void 0:ir.includes("top"),cr=0,dr=0;Array.from(nr).reverse().forEach((ur,pr)=>{let mr=ur;mr.classList.add("Toastify__toast--stacked"),pr>0&&(mr.dataset.collapsed=`${kt}`),mr.dataset.pos||(mr.dataset.pos=lr?"top":"bot");let vr=cr*(kt?.2:1)+(kt?0:or*pr);mr.style.setProperty("--y",`${lr?vr:vr*-1}px`),mr.style.setProperty("--g",`${or}`),mr.style.setProperty("--s",`${1-(kt?dr:0)}`),cr+=mr.offsetHeight,dr+=.025})}},[kt,Ht,$t]),reactExports.useEffect(()=>{function ir(nr){var or;let lr=Dt.current;er(nr)&&((or=lr.querySelector('[tabIndex="0"]'))==null||or.focus(),Tt(!1),y$4.pause()),nr.key==="Escape"&&(document.activeElement===lr||lr!=null&&lr.contains(document.activeElement))&&(Tt(!0),y$4.play())}return document.addEventListener("keydown",ir),()=>{document.removeEventListener("keydown",ir)}},[er]),React$2.createElement("section",{ref:Dt,className:"Toastify",id:Zt,onMouseEnter:()=>{$t&&(Tt(!1),y$4.pause())},onMouseLeave:sr,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":et["aria-label"]},Ft((ir,nr)=>{let or=nr.length?{...Yt}:{...Yt,pointerEvents:"none"};return React$2.createElement("div",{tabIndex:-1,className:rr(ir),"data-stacked":$t,style:or,key:`c-${ir}`},nr.map(({content:lr,props:cr})=>React$2.createElement(wt$1,{...cr,stacked:$t,collapseAll:sr,isIn:Ut(cr.toastId,cr.containerId),key:`t-${cr.key}`},lr)))}))}const BASE_URL$1="https://themessyattic.com/api";let refreshInFlight=!1,refreshPromise=null;function isTokenExpired(dt){try{return JSON.parse(atob(dt.split(".")[1])).exp*1e3<Date.now()}catch{return!0}}async function refreshAccessToken(){if(refreshInFlight)return refreshPromise;const dt=localStorage.getItem("refreshToken");return dt?(refreshInFlight=!0,refreshPromise=(async()=>{try{const et=await axios$1.post(`${BASE_URL$1}/auth/refresh`,{token:dt}),{accessToken:$t,refreshToken:kt}=et.data;return localStorage.setItem("accessToken",$t),kt&&localStorage.setItem("refreshToken",kt),$t}catch(et){throw localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),et}finally{refreshInFlight=!1,refreshPromise=null}})(),refreshPromise):null}const BASE_URL="https://themessyattic.com/api",axiosInstance=axios$1.create({baseURL:BASE_URL,timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!0});axiosInstance.interceptors.request.use(async dt=>{let et=localStorage.getItem("accessToken");return et&&isTokenExpired(et)&&(et=await refreshAccessToken()),et&&(dt.headers.Authorization=`Bearer ${et}`),dt});axiosInstance.interceptors.response.use(dt=>dt,dt=>{var et,$t;return(((et=dt.response)==null?void 0:et.status)===401||(($t=dt.response)==null?void 0:$t.status)===403)&&(y$4.warning("Your session expired. Please log in again."),localStorage.clear(),window.location.href="/"),Promise.reject(dt)});axiosInstance.interceptors.response.use(dt=>dt,async dt=>{var et;if(((et=dt.response)==null?void 0:et.status)===401)try{await refreshAccessToken(),window.location.reload()}catch{localStorage.clear(),window.location.href="/"}return Promise.reject(dt)});const AuthContext=reactExports.createContext();function applyTheme(dt){dt&&(document.documentElement.classList.remove("light","dark"),document.documentElement.classList.add(dt),localStorage.setItem("theme",dt))}function AuthProvider({children:dt}){const[et,$t]=reactExports.useState(null),[kt,Tt]=reactExports.useState(null),[Dt,Ft]=reactExports.useState(!0);function Ut(er){if(!er)return null;const rr=new Date,sr=er.free_trial_expires_at&&new Date(er.free_trial_expires_at)<rr;return{...er,theme:er.theme||"dark",isFreeTier:er.has_free_magnet===1&&er.magnet_slots===1,trialExpired:sr}}function Ht(er,rr,sr){const ir=Ut(er);$t(ir),Tt(rr),applyTheme(ir.theme),localStorage.setItem("user",JSON.stringify(ir)),localStorage.setItem("accessToken",rr),sr&&localStorage.setItem("refreshToken",sr)}async function Kt(er,rr){try{const ir=(await axiosInstance.post("/auth/login",{email:er,password:rr})).data;if(ir.requires2FA&&ir.twofaToken)return{requires2FA:!0,twofaToken:ir.twofaToken,message:ir.message};const nr=ir.accessToken,or=ir.refreshToken;if(!nr)throw new Error("Missing access token from login");Tt(nr),localStorage.setItem("accessToken",nr),or&&localStorage.setItem("refreshToken",or);const lr=await axiosInstance.get("/auth/me",{headers:{Authorization:`Bearer ${nr}`}}),cr=Ut(lr.data);return $t(cr),applyTheme(cr.theme),localStorage.setItem("user",JSON.stringify(cr)),{requires2FA:!1}}catch(sr){throw console.error("Login failed:",sr),sr}}function Yt(){try{axiosInstance.post("/auth/logout")}catch{}$t(null),Tt(null),localStorage.removeItem("user"),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken")}async function Jt(er){try{applyTheme(er),await axiosInstance.post("/auth/theme",{theme:er}),$t(rr=>{if(!rr)return rr;const sr={...rr,theme:er};return localStorage.setItem("user",JSON.stringify(sr)),sr})}catch(rr){console.error("Failed to save theme:",rr)}}reactExports.useEffect(()=>{async function er(){try{const rr=localStorage.getItem("user"),sr=localStorage.getItem("accessToken");if(rr){const ir=JSON.parse(rr);$t(ir),applyTheme(ir.theme)}if(sr&&Tt(sr),sr){const ir=await axiosInstance.get("/auth/me"),nr=Ut(ir.data);$t(nr),localStorage.setItem("user",JSON.stringify(nr)),applyTheme(nr.theme)}}catch(rr){console.error("Failed to restore user:",rr)}finally{Ft(!1)}}er()},[]);async function Zt(){if(!localStorage.getItem("accessToken"))return null;try{const rr=await axiosInstance.get("/auth/me"),sr=Ut(rr.data);return $t(sr),localStorage.setItem("user",JSON.stringify(sr)),sr}catch(rr){return console.error("Failed to refresh user data:",rr),null}}return jsxRuntimeExports.jsx(AuthContext.Provider,{value:{user:et,setUser:$t,accessToken:kt,authLoading:Dt,login:Kt,logout:Yt,refreshUser:Zt,saveAuth:Ht,updateTheme:Jt},children:dt})}function useAuth(){return reactExports.useContext(AuthContext)}function AuthProviderWithRouter({children:dt}){const et=useNavigate();return jsxRuntimeExports.jsx(AuthProvider,{navigate:et,children:dt})}function PrivateRoute({children:dt,role:et}){const{user:$t,authLoading:kt}=useAuth();return kt?null:$t?et&&!(Array.isArray(et)?et:[et]).includes($t.role)?jsxRuntimeExports.jsx(Navigate,{to:"/",replace:!0}):dt:jsxRuntimeExports.jsx(Navigate,{to:"/login",replace:!0})}var lottie$1={exports:{}};(function(module,exports){typeof navigator<"u"&&function(dt,et){module.exports=et()}(commonjsGlobal,function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(et){_useWebWorker=!!et},getWebWorker=function(){return _useWebWorker},setLocationHref=function(et){locationHref=et},getLocationHref=function(){return locationHref};function createTag(dt){return document.createElement(dt)}function extendPrototype(dt,et){var $t,kt=dt.length,Tt;for($t=0;$t<kt;$t+=1){Tt=dt[$t].prototype;for(var Dt in Tt)Object.prototype.hasOwnProperty.call(Tt,Dt)&&(et.prototype[Dt]=Tt[Dt])}}function getDescriptor(dt,et){return Object.getOwnPropertyDescriptor(dt,et)}function createProxyFunction(dt){function et(){}return et.prototype=dt,et}var audioControllerFactory=function(){function dt(et){this.audios=[],this.audioFactory=et,this._volume=1,this._isMuted=!1}return dt.prototype={addAudio:function($t){this.audios.push($t)},pause:function(){var $t,kt=this.audios.length;for($t=0;$t<kt;$t+=1)this.audios[$t].pause()},resume:function(){var $t,kt=this.audios.length;for($t=0;$t<kt;$t+=1)this.audios[$t].resume()},setRate:function($t){var kt,Tt=this.audios.length;for(kt=0;kt<Tt;kt+=1)this.audios[kt].setRate($t)},createAudio:function($t){return this.audioFactory?this.audioFactory($t):window.Howl?new window.Howl({src:[$t]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function($t){this.audioFactory=$t},setVolume:function($t){this._volume=$t,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var $t,kt=this.audios.length;for($t=0;$t<kt;$t+=1)this.audios[$t].volume(this._volume*(this._isMuted?0:1))}},function(){return new dt}}(),createTypedArray=function(){function dt($t,kt){var Tt=0,Dt=[],Ft;switch($t){case"int16":case"uint8c":Ft=1;break;default:Ft=1.1;break}for(Tt=0;Tt<kt;Tt+=1)Dt.push(Ft);return Dt}function et($t,kt){return $t==="float32"?new Float32Array(kt):$t==="int16"?new Int16Array(kt):$t==="uint8c"?new Uint8ClampedArray(kt):dt($t,kt)}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?et:dt}();function createSizedArray(dt){return Array.apply(null,{length:dt})}function _typeof$6(dt){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$6=function($t){return typeof $t}:_typeof$6=function($t){return $t&&typeof Symbol=="function"&&$t.constructor===Symbol&&$t!==Symbol.prototype?"symbol":typeof $t},_typeof$6(dt)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var dt=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],et,$t=dt.length;for(et=0;et<$t;et+=1)BMMath[dt[et]]=Math[dt[et]]})(),BMMath.random=Math.random,BMMath.abs=function(dt){var et=_typeof$6(dt);if(et==="object"&&dt.length){var $t=createSizedArray(dt.length),kt,Tt=dt.length;for(kt=0;kt<Tt;kt+=1)$t[kt]=Math.abs(dt[kt]);return $t}return Math.abs(dt)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(dt){dt.style.position="absolute",dt.style.top=0,dt.style.left=0,dt.style.display="block",dt.style.transformOrigin="0 0",dt.style.webkitTransformOrigin="0 0",dt.style.backfaceVisibility="visible",dt.style.webkitBackfaceVisibility="visible",dt.style.transformStyle="preserve-3d",dt.style.webkitTransformStyle="preserve-3d",dt.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(dt,et,$t,kt){this.type=dt,this.currentTime=et,this.totalTime=$t,this.direction=kt<0?-1:1}function BMCompleteEvent(dt,et){this.type=dt,this.direction=et<0?-1:1}function BMCompleteLoopEvent(dt,et,$t,kt){this.type=dt,this.currentLoop=$t,this.totalLoops=et,this.direction=kt<0?-1:1}function BMSegmentStartEvent(dt,et,$t){this.type=dt,this.firstFrame=et,this.totalFrames=$t}function BMDestroyEvent(dt,et){this.type=dt,this.target=et}function BMRenderFrameErrorEvent(dt,et){this.type="renderFrameError",this.nativeError=dt,this.currentTime=et}function BMConfigErrorEvent(dt){this.type="configError",this.nativeError=dt}var createElementID=function(){var dt=0;return function(){return dt+=1,idPrefix$1+"__lottie_element_"+dt}}();function HSVtoRGB(dt,et,$t){var kt,Tt,Dt,Ft,Ut,Ht,Kt,Yt;switch(Ft=Math.floor(dt*6),Ut=dt*6-Ft,Ht=$t*(1-et),Kt=$t*(1-Ut*et),Yt=$t*(1-(1-Ut)*et),Ft%6){case 0:kt=$t,Tt=Yt,Dt=Ht;break;case 1:kt=Kt,Tt=$t,Dt=Ht;break;case 2:kt=Ht,Tt=$t,Dt=Yt;break;case 3:kt=Ht,Tt=Kt,Dt=$t;break;case 4:kt=Yt,Tt=Ht,Dt=$t;break;case 5:kt=$t,Tt=Ht,Dt=Kt;break}return[kt,Tt,Dt]}function RGBtoHSV(dt,et,$t){var kt=Math.max(dt,et,$t),Tt=Math.min(dt,et,$t),Dt=kt-Tt,Ft,Ut=kt===0?0:Dt/kt,Ht=kt/255;switch(kt){case Tt:Ft=0;break;case dt:Ft=et-$t+Dt*(et<$t?6:0),Ft/=6*Dt;break;case et:Ft=$t-dt+Dt*2,Ft/=6*Dt;break;case $t:Ft=dt-et+Dt*4,Ft/=6*Dt;break}return[Ft,Ut,Ht]}function addSaturationToRGB(dt,et){var $t=RGBtoHSV(dt[0]*255,dt[1]*255,dt[2]*255);return $t[1]+=et,$t[1]>1?$t[1]=1:$t[1]<=0&&($t[1]=0),HSVtoRGB($t[0],$t[1],$t[2])}function addBrightnessToRGB(dt,et){var $t=RGBtoHSV(dt[0]*255,dt[1]*255,dt[2]*255);return $t[2]+=et,$t[2]>1?$t[2]=1:$t[2]<0&&($t[2]=0),HSVtoRGB($t[0],$t[1],$t[2])}function addHueToRGB(dt,et){var $t=RGBtoHSV(dt[0]*255,dt[1]*255,dt[2]*255);return $t[0]+=et/360,$t[0]>1?$t[0]-=1:$t[0]<0&&($t[0]+=1),HSVtoRGB($t[0],$t[1],$t[2])}var rgbToHex=function(){var dt=[],et,$t;for(et=0;et<256;et+=1)$t=et.toString(16),dt[et]=$t.length===1?"0"+$t:$t;return function(kt,Tt,Dt){return kt<0&&(kt=0),Tt<0&&(Tt=0),Dt<0&&(Dt=0),"#"+dt[kt]+dt[Tt]+dt[Dt]}}(),setSubframeEnabled=function(et){subframeEnabled=!!et},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(et){expressionsPlugin=et},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(et){expressionsInterfaces=et},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(et){defaultCurveSegments=et},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(et){idPrefix$1=et};function createNS(dt){return document.createElementNS(svgNS,dt)}function _typeof$5(dt){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$5=function($t){return typeof $t}:_typeof$5=function($t){return $t&&typeof Symbol=="function"&&$t.constructor===Symbol&&$t!==Symbol.prototype?"symbol":typeof $t},_typeof$5(dt)}var dataManager=function(){var dt=1,et=[],$t,kt,Tt={onmessage:function(){},postMessage:function(er){$t({data:er})}},Dt={postMessage:function(er){Tt.onmessage({data:er})}};function Ft(Zt){if(window.Worker&&window.Blob&&getWebWorker()){var er=new Blob(["var _workerSelf = self; self.onmessage = ",Zt.toString()],{type:"text/javascript"}),rr=URL.createObjectURL(er);return new Worker(rr)}return $t=Zt,Tt}function Ut(){kt||(kt=Ft(function(er){function rr(){function ir(Mr,Rr){var Tr,xr,wr=Mr.length,zr,Hr,Gr,Xr;for(xr=0;xr<wr;xr+=1)if(Tr=Mr[xr],"ks"in Tr&&!Tr.completed){if(Tr.completed=!0,Tr.hasMask){var rs=Tr.masksProperties;for(Hr=rs.length,zr=0;zr<Hr;zr+=1)if(rs[zr].pt.k.i)dr(rs[zr].pt.k);else for(Xr=rs[zr].pt.k.length,Gr=0;Gr<Xr;Gr+=1)rs[zr].pt.k[Gr].s&&dr(rs[zr].pt.k[Gr].s[0]),rs[zr].pt.k[Gr].e&&dr(rs[zr].pt.k[Gr].e[0])}Tr.ty===0?(Tr.layers=lr(Tr.refId,Rr),ir(Tr.layers,Rr)):Tr.ty===4?cr(Tr.shapes):Tr.ty===5&&Or(Tr)}}function nr(Mr,Rr){if(Mr){var Tr=0,xr=Mr.length;for(Tr=0;Tr<xr;Tr+=1)Mr[Tr].t===1&&(Mr[Tr].data.layers=lr(Mr[Tr].data.refId,Rr),ir(Mr[Tr].data.layers,Rr))}}function or(Mr,Rr){for(var Tr=0,xr=Rr.length;Tr<xr;){if(Rr[Tr].id===Mr)return Rr[Tr];Tr+=1}return null}function lr(Mr,Rr){var Tr=or(Mr,Rr);return Tr?Tr.layers.__used?JSON.parse(JSON.stringify(Tr.layers)):(Tr.layers.__used=!0,Tr.layers):null}function cr(Mr){var Rr,Tr=Mr.length,xr,wr;for(Rr=Tr-1;Rr>=0;Rr-=1)if(Mr[Rr].ty==="sh")if(Mr[Rr].ks.k.i)dr(Mr[Rr].ks.k);else for(wr=Mr[Rr].ks.k.length,xr=0;xr<wr;xr+=1)Mr[Rr].ks.k[xr].s&&dr(Mr[Rr].ks.k[xr].s[0]),Mr[Rr].ks.k[xr].e&&dr(Mr[Rr].ks.k[xr].e[0]);else Mr[Rr].ty==="gr"&&cr(Mr[Rr].it)}function dr(Mr){var Rr,Tr=Mr.i.length;for(Rr=0;Rr<Tr;Rr+=1)Mr.i[Rr][0]+=Mr.v[Rr][0],Mr.i[Rr][1]+=Mr.v[Rr][1],Mr.o[Rr][0]+=Mr.v[Rr][0],Mr.o[Rr][1]+=Mr.v[Rr][1]}function ur(Mr,Rr){var Tr=Rr?Rr.split("."):[100,100,100];return Mr[0]>Tr[0]?!0:Tr[0]>Mr[0]?!1:Mr[1]>Tr[1]?!0:Tr[1]>Mr[1]?!1:Mr[2]>Tr[2]?!0:Tr[2]>Mr[2]?!1:null}var pr=function(){var Mr=[4,4,14];function Rr(xr){var wr=xr.t.d;xr.t.d={k:[{s:wr,t:0}]}}function Tr(xr){var wr,zr=xr.length;for(wr=0;wr<zr;wr+=1)xr[wr].ty===5&&Rr(xr[wr])}return function(xr){if(ur(Mr,xr.v)&&(Tr(xr.layers),xr.assets)){var wr,zr=xr.assets.length;for(wr=0;wr<zr;wr+=1)xr.assets[wr].layers&&Tr(xr.assets[wr].layers)}}}(),mr=function(){var Mr=[4,7,99];return function(Rr){if(Rr.chars&&!ur(Mr,Rr.v)){var Tr,xr=Rr.chars.length;for(Tr=0;Tr<xr;Tr+=1){var wr=Rr.chars[Tr];wr.data&&wr.data.shapes&&(cr(wr.data.shapes),wr.data.ip=0,wr.data.op=99999,wr.data.st=0,wr.data.sr=1,wr.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},Rr.chars[Tr].t||(wr.data.shapes.push({ty:"no"}),wr.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}}(),vr=function(){var Mr=[5,7,15];function Rr(xr){var wr=xr.t.p;typeof wr.a=="number"&&(wr.a={a:0,k:wr.a}),typeof wr.p=="number"&&(wr.p={a:0,k:wr.p}),typeof wr.r=="number"&&(wr.r={a:0,k:wr.r})}function Tr(xr){var wr,zr=xr.length;for(wr=0;wr<zr;wr+=1)xr[wr].ty===5&&Rr(xr[wr])}return function(xr){if(ur(Mr,xr.v)&&(Tr(xr.layers),xr.assets)){var wr,zr=xr.assets.length;for(wr=0;wr<zr;wr+=1)xr.assets[wr].layers&&Tr(xr.assets[wr].layers)}}}(),kr=function(){var Mr=[4,1,9];function Rr(xr){var wr,zr=xr.length,Hr,Gr;for(wr=0;wr<zr;wr+=1)if(xr[wr].ty==="gr")Rr(xr[wr].it);else if(xr[wr].ty==="fl"||xr[wr].ty==="st")if(xr[wr].c.k&&xr[wr].c.k[0].i)for(Gr=xr[wr].c.k.length,Hr=0;Hr<Gr;Hr+=1)xr[wr].c.k[Hr].s&&(xr[wr].c.k[Hr].s[0]/=255,xr[wr].c.k[Hr].s[1]/=255,xr[wr].c.k[Hr].s[2]/=255,xr[wr].c.k[Hr].s[3]/=255),xr[wr].c.k[Hr].e&&(xr[wr].c.k[Hr].e[0]/=255,xr[wr].c.k[Hr].e[1]/=255,xr[wr].c.k[Hr].e[2]/=255,xr[wr].c.k[Hr].e[3]/=255);else xr[wr].c.k[0]/=255,xr[wr].c.k[1]/=255,xr[wr].c.k[2]/=255,xr[wr].c.k[3]/=255}function Tr(xr){var wr,zr=xr.length;for(wr=0;wr<zr;wr+=1)xr[wr].ty===4&&Rr(xr[wr].shapes)}return function(xr){if(ur(Mr,xr.v)&&(Tr(xr.layers),xr.assets)){var wr,zr=xr.assets.length;for(wr=0;wr<zr;wr+=1)xr.assets[wr].layers&&Tr(xr.assets[wr].layers)}}}(),br=function(){var Mr=[4,4,18];function Rr(xr){var wr,zr=xr.length,Hr,Gr;for(wr=zr-1;wr>=0;wr-=1)if(xr[wr].ty==="sh")if(xr[wr].ks.k.i)xr[wr].ks.k.c=xr[wr].closed;else for(Gr=xr[wr].ks.k.length,Hr=0;Hr<Gr;Hr+=1)xr[wr].ks.k[Hr].s&&(xr[wr].ks.k[Hr].s[0].c=xr[wr].closed),xr[wr].ks.k[Hr].e&&(xr[wr].ks.k[Hr].e[0].c=xr[wr].closed);else xr[wr].ty==="gr"&&Rr(xr[wr].it)}function Tr(xr){var wr,zr,Hr=xr.length,Gr,Xr,rs,Yr;for(zr=0;zr<Hr;zr+=1){if(wr=xr[zr],wr.hasMask){var es=wr.masksProperties;for(Xr=es.length,Gr=0;Gr<Xr;Gr+=1)if(es[Gr].pt.k.i)es[Gr].pt.k.c=es[Gr].cl;else for(Yr=es[Gr].pt.k.length,rs=0;rs<Yr;rs+=1)es[Gr].pt.k[rs].s&&(es[Gr].pt.k[rs].s[0].c=es[Gr].cl),es[Gr].pt.k[rs].e&&(es[Gr].pt.k[rs].e[0].c=es[Gr].cl)}wr.ty===4&&Rr(wr.shapes)}}return function(xr){if(ur(Mr,xr.v)&&(Tr(xr.layers),xr.assets)){var wr,zr=xr.assets.length;for(wr=0;wr<zr;wr+=1)xr.assets[wr].layers&&Tr(xr.assets[wr].layers)}}}();function _r(Mr){Mr.__complete||(kr(Mr),pr(Mr),mr(Mr),vr(Mr),br(Mr),ir(Mr.layers,Mr.assets),nr(Mr.chars,Mr.assets),Mr.__complete=!0)}function Or(Mr){Mr.t.a.length===0&&"m"in Mr.t.p}var Pr={};return Pr.completeData=_r,Pr.checkColors=kr,Pr.checkChars=mr,Pr.checkPathProperties=vr,Pr.checkShapes=br,Pr.completeLayers=ir,Pr}if(Dt.dataManager||(Dt.dataManager=rr()),Dt.assetLoader||(Dt.assetLoader=function(){function ir(or){var lr=or.getResponseHeader("content-type");return lr&&or.responseType==="json"&&lr.indexOf("json")!==-1||or.response&&_typeof$5(or.response)==="object"?or.response:or.response&&typeof or.response=="string"?JSON.parse(or.response):or.responseText?JSON.parse(or.responseText):null}function nr(or,lr,cr,dr){var ur,pr=new XMLHttpRequest;try{pr.responseType="json"}catch{}pr.onreadystatechange=function(){if(pr.readyState===4)if(pr.status===200)ur=ir(pr),cr(ur);else try{ur=ir(pr),cr(ur)}catch(mr){dr&&dr(mr)}};try{pr.open(["G","E","T"].join(""),or,!0)}catch{pr.open(["G","E","T"].join(""),lr+"/"+or,!0)}pr.send()}return{load:nr}}()),er.data.type==="loadAnimation")Dt.assetLoader.load(er.data.path,er.data.fullPath,function(ir){Dt.dataManager.completeData(ir),Dt.postMessage({id:er.data.id,payload:ir,status:"success"})},function(){Dt.postMessage({id:er.data.id,status:"error"})});else if(er.data.type==="complete"){var sr=er.data.animation;Dt.dataManager.completeData(sr),Dt.postMessage({id:er.data.id,payload:sr,status:"success"})}else er.data.type==="loadData"&&Dt.assetLoader.load(er.data.path,er.data.fullPath,function(ir){Dt.postMessage({id:er.data.id,payload:ir,status:"success"})},function(){Dt.postMessage({id:er.data.id,status:"error"})})}),kt.onmessage=function(Zt){var er=Zt.data,rr=er.id,sr=et[rr];et[rr]=null,er.status==="success"?sr.onComplete(er.payload):sr.onError&&sr.onError()})}function Ht(Zt,er){dt+=1;var rr="processId_"+dt;return et[rr]={onComplete:Zt,onError:er},rr}function Kt(Zt,er,rr){Ut();var sr=Ht(er,rr);kt.postMessage({type:"loadAnimation",path:Zt,fullPath:window.location.origin+window.location.pathname,id:sr})}function Yt(Zt,er,rr){Ut();var sr=Ht(er,rr);kt.postMessage({type:"loadData",path:Zt,fullPath:window.location.origin+window.location.pathname,id:sr})}function Jt(Zt,er,rr){Ut();var sr=Ht(er,rr);kt.postMessage({type:"complete",animation:Zt,id:sr})}return{loadAnimation:Kt,loadData:Yt,completeAnimation:Jt}}(),ImagePreloader=function(){var dt=function(){var nr=createTag("canvas");nr.width=1,nr.height=1;var or=nr.getContext("2d");return or.fillStyle="rgba(0,0,0,0)",or.fillRect(0,0,1,1),nr}();function et(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function $t(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function kt(nr,or,lr){var cr="";if(nr.e)cr=nr.p;else if(or){var dr=nr.p;dr.indexOf("images/")!==-1&&(dr=dr.split("/")[1]),cr=or+dr}else cr=lr,cr+=nr.u?nr.u:"",cr+=nr.p;return cr}function Tt(nr){var or=0,lr=setInterval((function(){var cr=nr.getBBox();(cr.width||or>500)&&(this._imageLoaded(),clearInterval(lr)),or+=1}).bind(this),50)}function Dt(nr){var or=kt(nr,this.assetsPath,this.path),lr=createNS("image");isSafari?this.testImageLoaded(lr):lr.addEventListener("load",this._imageLoaded,!1),lr.addEventListener("error",(function(){cr.img=dt,this._imageLoaded()}).bind(this),!1),lr.setAttributeNS("http://www.w3.org/1999/xlink","href",or),this._elementHelper.append?this._elementHelper.append(lr):this._elementHelper.appendChild(lr);var cr={img:lr,assetData:nr};return cr}function Ft(nr){var or=kt(nr,this.assetsPath,this.path),lr=createTag("img");lr.crossOrigin="anonymous",lr.addEventListener("load",this._imageLoaded,!1),lr.addEventListener("error",(function(){cr.img=dt,this._imageLoaded()}).bind(this),!1),lr.src=or;var cr={img:lr,assetData:nr};return cr}function Ut(nr){var or={assetData:nr},lr=kt(nr,this.assetsPath,this.path);return dataManager.loadData(lr,(function(cr){or.img=cr,this._footageLoaded()}).bind(this),(function(){or.img={},this._footageLoaded()}).bind(this)),or}function Ht(nr,or){this.imagesLoadedCb=or;var lr,cr=nr.length;for(lr=0;lr<cr;lr+=1)nr[lr].layers||(!nr[lr].t||nr[lr].t==="seq"?(this.totalImages+=1,this.images.push(this._createImageData(nr[lr]))):nr[lr].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(nr[lr]))))}function Kt(nr){this.path=nr||""}function Yt(nr){this.assetsPath=nr||""}function Jt(nr){for(var or=0,lr=this.images.length;or<lr;){if(this.images[or].assetData===nr)return this.images[or].img;or+=1}return null}function Zt(){this.imagesLoadedCb=null,this.images.length=0}function er(){return this.totalImages===this.loadedAssets}function rr(){return this.totalFootages===this.loadedFootagesCount}function sr(nr,or){nr==="svg"?(this._elementHelper=or,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function ir(){this._imageLoaded=et.bind(this),this._footageLoaded=$t.bind(this),this.testImageLoaded=Tt.bind(this),this.createFootageData=Ut.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return ir.prototype={loadAssets:Ht,setAssetsPath:Yt,setPath:Kt,loadedImages:er,loadedFootages:rr,destroy:Zt,getAsset:Jt,createImgData:Ft,createImageData:Dt,imageLoaded:et,footageLoaded:$t,setCacheType:sr},ir}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(et,$t){if(this._cbs[et])for(var kt=this._cbs[et],Tt=0;Tt<kt.length;Tt+=1)kt[Tt]($t)},addEventListener:function(et,$t){return this._cbs[et]||(this._cbs[et]=[]),this._cbs[et].push($t),(function(){this.removeEventListener(et,$t)}).bind(this)},removeEventListener:function(et,$t){if(!$t)this._cbs[et]=null;else if(this._cbs[et]){for(var kt=0,Tt=this._cbs[et].length;kt<Tt;)this._cbs[et][kt]===$t&&(this._cbs[et].splice(kt,1),kt-=1,Tt-=1),kt+=1;this._cbs[et].length||(this._cbs[et]=null)}}};var markerParser=function(){function dt(et){for(var $t=et.split(`\r
`),kt={},Tt,Dt=0,Ft=0;Ft<$t.length;Ft+=1)Tt=$t[Ft].split(":"),Tt.length===2&&(kt[Tt[0]]=Tt[1].trim(),Dt+=1);if(Dt===0)throw new Error;return kt}return function(et){for(var $t=[],kt=0;kt<et.length;kt+=1){var Tt=et[kt],Dt={time:Tt.tm,duration:Tt.dr};try{Dt.payload=JSON.parse(et[kt].cm)}catch{try{Dt.payload=dt(et[kt].cm)}catch{Dt.payload={name:et[kt].cm}}}$t.push(Dt)}return $t}}(),ProjectInterface=function(){function dt(et){this.compositions.push(et)}return function(){function et($t){for(var kt=0,Tt=this.compositions.length;kt<Tt;){if(this.compositions[kt].data&&this.compositions[kt].data.nm===$t)return this.compositions[kt].prepareFrame&&this.compositions[kt].data.xt&&this.compositions[kt].prepareFrame(this.currentFrame),this.compositions[kt].compInterface;kt+=1}return null}return et.compositions=[],et.currentFrame=0,et.registerComposition=dt,et}}(),renderers={},registerRenderer=function(et,$t){renderers[et]=$t};function getRenderer(dt){return renderers[dt]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var dt in renderers)if(renderers[dt])return dt;return""}function _typeof$4(dt){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$4=function($t){return typeof $t}:_typeof$4=function($t){return $t&&typeof Symbol=="function"&&$t.constructor===Symbol&&$t!==Symbol.prototype?"symbol":typeof $t},_typeof$4(dt)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(dt){(dt.wrapper||dt.container)&&(this.wrapper=dt.wrapper||dt.container);var et="svg";dt.animType?et=dt.animType:dt.renderer&&(et=dt.renderer);var $t=getRenderer(et);this.renderer=new $t(this,dt.rendererSettings),this.imagePreloader.setCacheType(et,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=et,dt.loop===""||dt.loop===null||dt.loop===void 0||dt.loop===!0?this.loop=!0:dt.loop===!1?this.loop=!1:this.loop=parseInt(dt.loop,10),this.autoplay="autoplay"in dt?dt.autoplay:!0,this.name=dt.name?dt.name:"",this.autoloadSegments=Object.prototype.hasOwnProperty.call(dt,"autoloadSegments")?dt.autoloadSegments:!0,this.assetsPath=dt.assetsPath,this.initialSegment=dt.initialSegment,dt.audioFactory&&this.audioController.setAudioFactory(dt.audioFactory),dt.animationData?this.setupAnimation(dt.animationData):dt.path&&(dt.path.lastIndexOf("\\")!==-1?this.path=dt.path.substr(0,dt.path.lastIndexOf("\\")+1):this.path=dt.path.substr(0,dt.path.lastIndexOf("/")+1),this.fileName=dt.path.substr(dt.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(dt.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(dt){dataManager.completeAnimation(dt,this.configAnimation)},AnimationItem.prototype.setData=function(dt,et){et&&_typeof$4(et)!=="object"&&(et=JSON.parse(et));var $t={wrapper:dt,animationData:et},kt=dt.attributes;$t.path=kt.getNamedItem("data-animation-path")?kt.getNamedItem("data-animation-path").value:kt.getNamedItem("data-bm-path")?kt.getNamedItem("data-bm-path").value:kt.getNamedItem("bm-path")?kt.getNamedItem("bm-path").value:"",$t.animType=kt.getNamedItem("data-anim-type")?kt.getNamedItem("data-anim-type").value:kt.getNamedItem("data-bm-type")?kt.getNamedItem("data-bm-type").value:kt.getNamedItem("bm-type")?kt.getNamedItem("bm-type").value:kt.getNamedItem("data-bm-renderer")?kt.getNamedItem("data-bm-renderer").value:kt.getNamedItem("bm-renderer")?kt.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var Tt=kt.getNamedItem("data-anim-loop")?kt.getNamedItem("data-anim-loop").value:kt.getNamedItem("data-bm-loop")?kt.getNamedItem("data-bm-loop").value:kt.getNamedItem("bm-loop")?kt.getNamedItem("bm-loop").value:"";Tt==="false"?$t.loop=!1:Tt==="true"?$t.loop=!0:Tt!==""&&($t.loop=parseInt(Tt,10));var Dt=kt.getNamedItem("data-anim-autoplay")?kt.getNamedItem("data-anim-autoplay").value:kt.getNamedItem("data-bm-autoplay")?kt.getNamedItem("data-bm-autoplay").value:kt.getNamedItem("bm-autoplay")?kt.getNamedItem("bm-autoplay").value:!0;$t.autoplay=Dt!=="false",$t.name=kt.getNamedItem("data-name")?kt.getNamedItem("data-name").value:kt.getNamedItem("data-bm-name")?kt.getNamedItem("data-bm-name").value:kt.getNamedItem("bm-name")?kt.getNamedItem("bm-name").value:"";var Ft=kt.getNamedItem("data-anim-prerender")?kt.getNamedItem("data-anim-prerender").value:kt.getNamedItem("data-bm-prerender")?kt.getNamedItem("data-bm-prerender").value:kt.getNamedItem("bm-prerender")?kt.getNamedItem("bm-prerender").value:"";Ft==="false"&&($t.prerender=!1),$t.path?this.setParams($t):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(dt){dt.op>this.animationData.op&&(this.animationData.op=dt.op,this.totalFrames=Math.floor(dt.op-this.animationData.ip));var et=this.animationData.layers,$t,kt=et.length,Tt=dt.layers,Dt,Ft=Tt.length;for(Dt=0;Dt<Ft;Dt+=1)for($t=0;$t<kt;){if(et[$t].id===Tt[Dt].id){et[$t]=Tt[Dt];break}$t+=1}if((dt.chars||dt.fonts)&&(this.renderer.globalData.fontManager.addChars(dt.chars),this.renderer.globalData.fontManager.addFonts(dt.fonts,this.renderer.globalData.defs)),dt.assets)for(kt=dt.assets.length,$t=0;$t<kt;$t+=1)this.animationData.assets.push(dt.assets[$t]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(dt){this.animationData=dt;var et=getExpressionsPlugin();et&&et.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var dt=this.animationData.segments;if(!dt||dt.length===0||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var et=dt.shift();this.timeCompleted=et.time*this.frameRate;var $t=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData($t,this.includeLayers.bind(this),(function(){this.trigger("data_failed")}).bind(this))},AnimationItem.prototype.loadSegments=function(){var dt=this.animationData.segments;dt||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(dt){if(this.renderer)try{this.animationData=dt,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(dt),dt.assets||(dt.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(dt.assets),this.markers=markerParser(dt.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(et){this.triggerConfigError(et)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var dt=getExpressionsPlugin();dt&&dt.initExpressions(this),this.renderer.initItems(),setTimeout((function(){this.trigger("DOMLoaded")}).bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(dt,et){var $t=typeof dt=="number"?dt:void 0,kt=typeof et=="number"?et:void 0;this.renderer.updateContainerSize($t,kt)},AnimationItem.prototype.setSubframe=function(dt){this.isSubframeEnabled=!!dt},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!(this.isLoaded===!1||!this.renderer))try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(dt){this.triggerRenderFrameError(dt)}},AnimationItem.prototype.play=function(dt){dt&&this.name!==dt||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(dt){dt&&this.name!==dt||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(dt){dt&&this.name!==dt||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(dt){dt&&this.name!==dt||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(dt){for(var et,$t=0;$t<this.markers.length;$t+=1)if(et=this.markers[$t],et.payload&&et.payload.name===dt)return et;return null},AnimationItem.prototype.goToAndStop=function(dt,et,$t){if(!($t&&this.name!==$t)){var kt=Number(dt);if(isNaN(kt)){var Tt=this.getMarkerData(dt);Tt&&this.goToAndStop(Tt.time,!0)}else et?this.setCurrentRawFrameValue(dt):this.setCurrentRawFrameValue(dt*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(dt,et,$t){if(!($t&&this.name!==$t)){var kt=Number(dt);if(isNaN(kt)){var Tt=this.getMarkerData(dt);Tt&&(Tt.duration?this.playSegments([Tt.time,Tt.time+Tt.duration],!0):this.goToAndStop(Tt.time,!0))}else this.goToAndStop(kt,et,$t);this.play()}},AnimationItem.prototype.advanceTime=function(dt){if(!(this.isPaused===!0||this.isLoaded===!1)){var et=this.currentRawFrame+dt*this.frameModifier,$t=!1;et>=this.totalFrames-1&&this.frameModifier>0?!this.loop||this.playCount===this.loop?this.checkSegments(et>this.totalFrames?et%this.totalFrames:0)||($t=!0,et=this.totalFrames-1):et>=this.totalFrames?(this.playCount+=1,this.checkSegments(et%this.totalFrames)||(this.setCurrentRawFrameValue(et%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(et):et<0?this.checkSegments(et%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&this.loop!==!0)?(this.setCurrentRawFrameValue(this.totalFrames+et%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):($t=!0,et=0)):this.setCurrentRawFrameValue(et),$t&&(this.setCurrentRawFrameValue(et),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(dt,et){this.playCount=0,dt[1]<dt[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=dt[0]-dt[1],this.timeCompleted=this.totalFrames,this.firstFrame=dt[1],this.setCurrentRawFrameValue(this.totalFrames-.001-et)):dt[1]>dt[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=dt[1]-dt[0],this.timeCompleted=this.totalFrames,this.firstFrame=dt[0],this.setCurrentRawFrameValue(.001+et)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(dt,et){var $t=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<dt?$t=dt:this.currentRawFrame+this.firstFrame>et&&($t=et-dt)),this.firstFrame=dt,this.totalFrames=et-dt,this.timeCompleted=this.totalFrames,$t!==-1&&this.goToAndStop($t,!0)},AnimationItem.prototype.playSegments=function(dt,et){if(et&&(this.segments.length=0),_typeof$4(dt[0])==="object"){var $t,kt=dt.length;for($t=0;$t<kt;$t+=1)this.segments.push(dt[$t])}else this.segments.push(dt);this.segments.length&&et&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(dt){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),dt&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(dt){return this.segments.length?(this.adjustSegment(this.segments.shift(),dt),!0):!1},AnimationItem.prototype.destroy=function(dt){dt&&this.name!==dt||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(dt){this.currentRawFrame=dt,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(dt){this.playSpeed=dt,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(dt){this.playDirection=dt<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(dt){this.loop=dt},AnimationItem.prototype.setVolume=function(dt,et){et&&this.name!==et||this.audioController.setVolume(dt)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(dt){dt&&this.name!==dt||this.audioController.mute()},AnimationItem.prototype.unmute=function(dt){dt&&this.name!==dt||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(dt){var et="";if(dt.e)et=dt.p;else if(this.assetsPath){var $t=dt.p;$t.indexOf("images/")!==-1&&($t=$t.split("/")[1]),et=this.assetsPath+$t}else et=this.path,et+=dt.u?dt.u:"",et+=dt.p;return et},AnimationItem.prototype.getAssetData=function(dt){for(var et=0,$t=this.assets.length;et<$t;){if(dt===this.assets[et].id)return this.assets[et];et+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(dt){return dt?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(dt,et,$t){try{var kt=this.renderer.getElementByPath(dt);kt.updateDocumentData(et,$t)}catch{}},AnimationItem.prototype.trigger=function(dt){if(this._cbs&&this._cbs[dt])switch(dt){case"enterFrame":this.triggerEvent(dt,new BMEnterFrameEvent(dt,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(dt,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(dt,new BMCompleteLoopEvent(dt,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(dt,new BMCompleteEvent(dt,this.frameMult));break;case"segmentStart":this.triggerEvent(dt,new BMSegmentStartEvent(dt,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(dt,new BMDestroyEvent(dt,this));break;default:this.triggerEvent(dt)}dt==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(dt,this.currentFrame,this.totalFrames,this.frameMult)),dt==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(dt,this.loop,this.playCount,this.frameMult)),dt==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(dt,this.frameMult)),dt==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(dt,this.firstFrame,this.totalFrames)),dt==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(dt,this))},AnimationItem.prototype.triggerRenderFrameError=function(dt){var et=new BMRenderFrameErrorEvent(dt,this.currentFrame);this.triggerEvent("error",et),this.onError&&this.onError.call(this,et)},AnimationItem.prototype.triggerConfigError=function(dt){var et=new BMConfigErrorEvent(dt,this.currentFrame);this.triggerEvent("error",et),this.onError&&this.onError.call(this,et)};var animationManager=function(){var dt={},et=[],$t=0,kt=0,Tt=0,Dt=!0,Ft=!1;function Ut(Rr){for(var Tr=0,xr=Rr.target;Tr<kt;)et[Tr].animation===xr&&(et.splice(Tr,1),Tr-=1,kt-=1,xr.isPaused||Jt()),Tr+=1}function Ht(Rr,Tr){if(!Rr)return null;for(var xr=0;xr<kt;){if(et[xr].elem===Rr&&et[xr].elem!==null)return et[xr].animation;xr+=1}var wr=new AnimationItem;return Zt(wr,Rr),wr.setData(Rr,Tr),wr}function Kt(){var Rr,Tr=et.length,xr=[];for(Rr=0;Rr<Tr;Rr+=1)xr.push(et[Rr].animation);return xr}function Yt(){Tt+=1,kr()}function Jt(){Tt-=1}function Zt(Rr,Tr){Rr.addEventListener("destroy",Ut),Rr.addEventListener("_active",Yt),Rr.addEventListener("_idle",Jt),et.push({elem:Tr,animation:Rr}),kt+=1}function er(Rr){var Tr=new AnimationItem;return Zt(Tr,null),Tr.setParams(Rr),Tr}function rr(Rr,Tr){var xr;for(xr=0;xr<kt;xr+=1)et[xr].animation.setSpeed(Rr,Tr)}function sr(Rr,Tr){var xr;for(xr=0;xr<kt;xr+=1)et[xr].animation.setDirection(Rr,Tr)}function ir(Rr){var Tr;for(Tr=0;Tr<kt;Tr+=1)et[Tr].animation.play(Rr)}function nr(Rr){var Tr=Rr-$t,xr;for(xr=0;xr<kt;xr+=1)et[xr].animation.advanceTime(Tr);$t=Rr,Tt&&!Ft?window.requestAnimationFrame(nr):Dt=!0}function or(Rr){$t=Rr,window.requestAnimationFrame(nr)}function lr(Rr){var Tr;for(Tr=0;Tr<kt;Tr+=1)et[Tr].animation.pause(Rr)}function cr(Rr,Tr,xr){var wr;for(wr=0;wr<kt;wr+=1)et[wr].animation.goToAndStop(Rr,Tr,xr)}function dr(Rr){var Tr;for(Tr=0;Tr<kt;Tr+=1)et[Tr].animation.stop(Rr)}function ur(Rr){var Tr;for(Tr=0;Tr<kt;Tr+=1)et[Tr].animation.togglePause(Rr)}function pr(Rr){var Tr;for(Tr=kt-1;Tr>=0;Tr-=1)et[Tr].animation.destroy(Rr)}function mr(Rr,Tr,xr){var wr=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),zr,Hr=wr.length;for(zr=0;zr<Hr;zr+=1)xr&&wr[zr].setAttribute("data-bm-type",xr),Ht(wr[zr],Rr);if(Tr&&Hr===0){xr||(xr="svg");var Gr=document.getElementsByTagName("body")[0];Gr.innerText="";var Xr=createTag("div");Xr.style.width="100%",Xr.style.height="100%",Xr.setAttribute("data-bm-type",xr),Gr.appendChild(Xr),Ht(Xr,Rr)}}function vr(){var Rr;for(Rr=0;Rr<kt;Rr+=1)et[Rr].animation.resize()}function kr(){!Ft&&Tt&&Dt&&(window.requestAnimationFrame(or),Dt=!1)}function br(){Ft=!0}function _r(){Ft=!1,kr()}function Or(Rr,Tr){var xr;for(xr=0;xr<kt;xr+=1)et[xr].animation.setVolume(Rr,Tr)}function Pr(Rr){var Tr;for(Tr=0;Tr<kt;Tr+=1)et[Tr].animation.mute(Rr)}function Mr(Rr){var Tr;for(Tr=0;Tr<kt;Tr+=1)et[Tr].animation.unmute(Rr)}return dt.registerAnimation=Ht,dt.loadAnimation=er,dt.setSpeed=rr,dt.setDirection=sr,dt.play=ir,dt.pause=lr,dt.stop=dr,dt.togglePause=ur,dt.searchAnimations=mr,dt.resize=vr,dt.goToAndStop=cr,dt.destroy=pr,dt.freeze=br,dt.unfreeze=_r,dt.setVolume=Or,dt.mute=Pr,dt.unmute=Mr,dt.getRegisteredAnimations=Kt,dt}(),BezierFactory=function(){var dt={};dt.getBezierEasing=$t;var et={};function $t(or,lr,cr,dr,ur){var pr=ur||("bez_"+or+"_"+lr+"_"+cr+"_"+dr).replace(/\./g,"p");if(et[pr])return et[pr];var mr=new nr([or,lr,cr,dr]);return et[pr]=mr,mr}var kt=4,Tt=.001,Dt=1e-7,Ft=10,Ut=11,Ht=1/(Ut-1),Kt=typeof Float32Array=="function";function Yt(or,lr){return 1-3*lr+3*or}function Jt(or,lr){return 3*lr-6*or}function Zt(or){return 3*or}function er(or,lr,cr){return((Yt(lr,cr)*or+Jt(lr,cr))*or+Zt(lr))*or}function rr(or,lr,cr){return 3*Yt(lr,cr)*or*or+2*Jt(lr,cr)*or+Zt(lr)}function sr(or,lr,cr,dr,ur){var pr,mr,vr=0;do mr=lr+(cr-lr)/2,pr=er(mr,dr,ur)-or,pr>0?cr=mr:lr=mr;while(Math.abs(pr)>Dt&&++vr<Ft);return mr}function ir(or,lr,cr,dr){for(var ur=0;ur<kt;++ur){var pr=rr(lr,cr,dr);if(pr===0)return lr;var mr=er(lr,cr,dr)-or;lr-=mr/pr}return lr}function nr(or){this._p=or,this._mSampleValues=Kt?new Float32Array(Ut):new Array(Ut),this._precomputed=!1,this.get=this.get.bind(this)}return nr.prototype={get:function(lr){var cr=this._p[0],dr=this._p[1],ur=this._p[2],pr=this._p[3];return this._precomputed||this._precompute(),cr===dr&&ur===pr?lr:lr===0?0:lr===1?1:er(this._getTForX(lr),dr,pr)},_precompute:function(){var lr=this._p[0],cr=this._p[1],dr=this._p[2],ur=this._p[3];this._precomputed=!0,(lr!==cr||dr!==ur)&&this._calcSampleValues()},_calcSampleValues:function(){for(var lr=this._p[0],cr=this._p[2],dr=0;dr<Ut;++dr)this._mSampleValues[dr]=er(dr*Ht,lr,cr)},_getTForX:function(lr){for(var cr=this._p[0],dr=this._p[2],ur=this._mSampleValues,pr=0,mr=1,vr=Ut-1;mr!==vr&&ur[mr]<=lr;++mr)pr+=Ht;--mr;var kr=(lr-ur[mr])/(ur[mr+1]-ur[mr]),br=pr+kr*Ht,_r=rr(br,cr,dr);return _r>=Tt?ir(lr,br,cr,dr):_r===0?br:sr(lr,pr,pr+Ht,cr,dr)}},dt}(),pooling=function(){function dt(et){return et.concat(createSizedArray(et.length))}return{double:dt}}(),poolFactory=function(){return function(dt,et,$t){var kt=0,Tt=dt,Dt=createSizedArray(Tt),Ft={newElement:Ut,release:Ht};function Ut(){var Kt;return kt?(kt-=1,Kt=Dt[kt]):Kt=et(),Kt}function Ht(Kt){kt===Tt&&(Dt=pooling.double(Dt),Tt*=2),$t&&$t(Kt),Dt[kt]=Kt,kt+=1}return Ft}}(),bezierLengthPool=function(){function dt(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}return poolFactory(8,dt)}(),segmentsLengthPool=function(){function dt(){return{lengths:[],totalLength:0}}function et($t){var kt,Tt=$t.lengths.length;for(kt=0;kt<Tt;kt+=1)bezierLengthPool.release($t.lengths[kt]);$t.lengths.length=0}return poolFactory(8,dt,et)}();function bezFunction(){var dt=Math;function et(Zt,er,rr,sr,ir,nr){var or=Zt*sr+er*ir+rr*nr-ir*sr-nr*Zt-rr*er;return or>-.001&&or<.001}function $t(Zt,er,rr,sr,ir,nr,or,lr,cr){if(rr===0&&nr===0&&cr===0)return et(Zt,er,sr,ir,or,lr);var dr=dt.sqrt(dt.pow(sr-Zt,2)+dt.pow(ir-er,2)+dt.pow(nr-rr,2)),ur=dt.sqrt(dt.pow(or-Zt,2)+dt.pow(lr-er,2)+dt.pow(cr-rr,2)),pr=dt.sqrt(dt.pow(or-sr,2)+dt.pow(lr-ir,2)+dt.pow(cr-nr,2)),mr;return dr>ur?dr>pr?mr=dr-ur-pr:mr=pr-ur-dr:pr>ur?mr=pr-ur-dr:mr=ur-dr-pr,mr>-1e-4&&mr<1e-4}var kt=function(){return function(Zt,er,rr,sr){var ir=getDefaultCurveSegments(),nr,or,lr,cr,dr,ur=0,pr,mr=[],vr=[],kr=bezierLengthPool.newElement();for(lr=rr.length,nr=0;nr<ir;nr+=1){for(dr=nr/(ir-1),pr=0,or=0;or<lr;or+=1)cr=bmPow(1-dr,3)*Zt[or]+3*bmPow(1-dr,2)*dr*rr[or]+3*(1-dr)*bmPow(dr,2)*sr[or]+bmPow(dr,3)*er[or],mr[or]=cr,vr[or]!==null&&(pr+=bmPow(mr[or]-vr[or],2)),vr[or]=mr[or];pr&&(pr=bmSqrt(pr),ur+=pr),kr.percents[nr]=dr,kr.lengths[nr]=ur}return kr.addedLength=ur,kr}}();function Tt(Zt){var er=segmentsLengthPool.newElement(),rr=Zt.c,sr=Zt.v,ir=Zt.o,nr=Zt.i,or,lr=Zt._length,cr=er.lengths,dr=0;for(or=0;or<lr-1;or+=1)cr[or]=kt(sr[or],sr[or+1],ir[or],nr[or+1]),dr+=cr[or].addedLength;return rr&&lr&&(cr[or]=kt(sr[or],sr[0],ir[or],nr[0]),dr+=cr[or].addedLength),er.totalLength=dr,er}function Dt(Zt){this.segmentLength=0,this.points=new Array(Zt)}function Ft(Zt,er){this.partialLength=Zt,this.point=er}var Ut=function(){var Zt={};return function(er,rr,sr,ir){var nr=(er[0]+"_"+er[1]+"_"+rr[0]+"_"+rr[1]+"_"+sr[0]+"_"+sr[1]+"_"+ir[0]+"_"+ir[1]).replace(/\./g,"p");if(!Zt[nr]){var or=getDefaultCurveSegments(),lr,cr,dr,ur,pr,mr=0,vr,kr,br=null;er.length===2&&(er[0]!==rr[0]||er[1]!==rr[1])&&et(er[0],er[1],rr[0],rr[1],er[0]+sr[0],er[1]+sr[1])&&et(er[0],er[1],rr[0],rr[1],rr[0]+ir[0],rr[1]+ir[1])&&(or=2);var _r=new Dt(or);for(dr=sr.length,lr=0;lr<or;lr+=1){for(kr=createSizedArray(dr),pr=lr/(or-1),vr=0,cr=0;cr<dr;cr+=1)ur=bmPow(1-pr,3)*er[cr]+3*bmPow(1-pr,2)*pr*(er[cr]+sr[cr])+3*(1-pr)*bmPow(pr,2)*(rr[cr]+ir[cr])+bmPow(pr,3)*rr[cr],kr[cr]=ur,br!==null&&(vr+=bmPow(kr[cr]-br[cr],2));vr=bmSqrt(vr),mr+=vr,_r.points[lr]=new Ft(vr,kr),br=kr}_r.segmentLength=mr,Zt[nr]=_r}return Zt[nr]}}();function Ht(Zt,er){var rr=er.percents,sr=er.lengths,ir=rr.length,nr=bmFloor((ir-1)*Zt),or=Zt*er.addedLength,lr=0;if(nr===ir-1||nr===0||or===sr[nr])return rr[nr];for(var cr=sr[nr]>or?-1:1,dr=!0;dr;)if(sr[nr]<=or&&sr[nr+1]>or?(lr=(or-sr[nr])/(sr[nr+1]-sr[nr]),dr=!1):nr+=cr,nr<0||nr>=ir-1){if(nr===ir-1)return rr[nr];dr=!1}return rr[nr]+(rr[nr+1]-rr[nr])*lr}function Kt(Zt,er,rr,sr,ir,nr){var or=Ht(ir,nr),lr=1-or,cr=dt.round((lr*lr*lr*Zt[0]+(or*lr*lr+lr*or*lr+lr*lr*or)*rr[0]+(or*or*lr+lr*or*or+or*lr*or)*sr[0]+or*or*or*er[0])*1e3)/1e3,dr=dt.round((lr*lr*lr*Zt[1]+(or*lr*lr+lr*or*lr+lr*lr*or)*rr[1]+(or*or*lr+lr*or*or+or*lr*or)*sr[1]+or*or*or*er[1])*1e3)/1e3;return[cr,dr]}var Yt=createTypedArray("float32",8);function Jt(Zt,er,rr,sr,ir,nr,or){ir<0?ir=0:ir>1&&(ir=1);var lr=Ht(ir,or);nr=nr>1?1:nr;var cr=Ht(nr,or),dr,ur=Zt.length,pr=1-lr,mr=1-cr,vr=pr*pr*pr,kr=lr*pr*pr*3,br=lr*lr*pr*3,_r=lr*lr*lr,Or=pr*pr*mr,Pr=lr*pr*mr+pr*lr*mr+pr*pr*cr,Mr=lr*lr*mr+pr*lr*cr+lr*pr*cr,Rr=lr*lr*cr,Tr=pr*mr*mr,xr=lr*mr*mr+pr*cr*mr+pr*mr*cr,wr=lr*cr*mr+pr*cr*cr+lr*mr*cr,zr=lr*cr*cr,Hr=mr*mr*mr,Gr=cr*mr*mr+mr*cr*mr+mr*mr*cr,Xr=cr*cr*mr+mr*cr*cr+cr*mr*cr,rs=cr*cr*cr;for(dr=0;dr<ur;dr+=1)Yt[dr*4]=dt.round((vr*Zt[dr]+kr*rr[dr]+br*sr[dr]+_r*er[dr])*1e3)/1e3,Yt[dr*4+1]=dt.round((Or*Zt[dr]+Pr*rr[dr]+Mr*sr[dr]+Rr*er[dr])*1e3)/1e3,Yt[dr*4+2]=dt.round((Tr*Zt[dr]+xr*rr[dr]+wr*sr[dr]+zr*er[dr])*1e3)/1e3,Yt[dr*4+3]=dt.round((Hr*Zt[dr]+Gr*rr[dr]+Xr*sr[dr]+rs*er[dr])*1e3)/1e3;return Yt}return{getSegmentsLength:Tt,getNewSegment:Jt,getPointInSegment:Kt,buildBezierData:Ut,pointOnLine2D:et,pointOnLine3D:$t}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(dt,et){var $t=this.offsetTime,kt;this.propType==="multidimensional"&&(kt=createTypedArray("float32",this.pv.length));for(var Tt=et.lastIndex,Dt=Tt,Ft=this.keyframes.length-1,Ut=!0,Ht,Kt,Yt;Ut;){if(Ht=this.keyframes[Dt],Kt=this.keyframes[Dt+1],Dt===Ft-1&&dt>=Kt.t-$t){Ht.h&&(Ht=Kt),Tt=0;break}if(Kt.t-$t>dt){Tt=Dt;break}Dt<Ft-1?Dt+=1:(Tt=0,Ut=!1)}Yt=this.keyframesMetadata[Dt]||{};var Jt,Zt,er,rr,sr,ir,nr=Kt.t-$t,or=Ht.t-$t,lr;if(Ht.to){Yt.bezierData||(Yt.bezierData=bez.buildBezierData(Ht.s,Kt.s||Ht.e,Ht.to,Ht.ti));var cr=Yt.bezierData;if(dt>=nr||dt<or){var dr=dt>=nr?cr.points.length-1:0;for(Zt=cr.points[dr].point.length,Jt=0;Jt<Zt;Jt+=1)kt[Jt]=cr.points[dr].point[Jt]}else{Yt.__fnct?ir=Yt.__fnct:(ir=BezierFactory.getBezierEasing(Ht.o.x,Ht.o.y,Ht.i.x,Ht.i.y,Ht.n).get,Yt.__fnct=ir),er=ir((dt-or)/(nr-or));var ur=cr.segmentLength*er,pr,mr=et.lastFrame<dt&&et._lastKeyframeIndex===Dt?et._lastAddedLength:0;for(sr=et.lastFrame<dt&&et._lastKeyframeIndex===Dt?et._lastPoint:0,Ut=!0,rr=cr.points.length;Ut;){if(mr+=cr.points[sr].partialLength,ur===0||er===0||sr===cr.points.length-1){for(Zt=cr.points[sr].point.length,Jt=0;Jt<Zt;Jt+=1)kt[Jt]=cr.points[sr].point[Jt];break}else if(ur>=mr&&ur<mr+cr.points[sr+1].partialLength){for(pr=(ur-mr)/cr.points[sr+1].partialLength,Zt=cr.points[sr].point.length,Jt=0;Jt<Zt;Jt+=1)kt[Jt]=cr.points[sr].point[Jt]+(cr.points[sr+1].point[Jt]-cr.points[sr].point[Jt])*pr;break}sr<rr-1?sr+=1:Ut=!1}et._lastPoint=sr,et._lastAddedLength=mr-cr.points[sr].partialLength,et._lastKeyframeIndex=Dt}}else{var vr,kr,br,_r,Or;if(Ft=Ht.s.length,lr=Kt.s||Ht.e,this.sh&&Ht.h!==1)if(dt>=nr)kt[0]=lr[0],kt[1]=lr[1],kt[2]=lr[2];else if(dt<=or)kt[0]=Ht.s[0],kt[1]=Ht.s[1],kt[2]=Ht.s[2];else{var Pr=createQuaternion(Ht.s),Mr=createQuaternion(lr),Rr=(dt-or)/(nr-or);quaternionToEuler(kt,slerp(Pr,Mr,Rr))}else for(Dt=0;Dt<Ft;Dt+=1)Ht.h!==1&&(dt>=nr?er=1:dt<or?er=0:(Ht.o.x.constructor===Array?(Yt.__fnct||(Yt.__fnct=[]),Yt.__fnct[Dt]?ir=Yt.__fnct[Dt]:(vr=Ht.o.x[Dt]===void 0?Ht.o.x[0]:Ht.o.x[Dt],kr=Ht.o.y[Dt]===void 0?Ht.o.y[0]:Ht.o.y[Dt],br=Ht.i.x[Dt]===void 0?Ht.i.x[0]:Ht.i.x[Dt],_r=Ht.i.y[Dt]===void 0?Ht.i.y[0]:Ht.i.y[Dt],ir=BezierFactory.getBezierEasing(vr,kr,br,_r).get,Yt.__fnct[Dt]=ir)):Yt.__fnct?ir=Yt.__fnct:(vr=Ht.o.x,kr=Ht.o.y,br=Ht.i.x,_r=Ht.i.y,ir=BezierFactory.getBezierEasing(vr,kr,br,_r).get,Ht.keyframeMetadata=ir),er=ir((dt-or)/(nr-or)))),lr=Kt.s||Ht.e,Or=Ht.h===1?Ht.s[Dt]:Ht.s[Dt]+(lr[Dt]-Ht.s[Dt])*er,this.propType==="multidimensional"?kt[Dt]=Or:kt=Or}return et.lastIndex=Tt,kt}function slerp(dt,et,$t){var kt=[],Tt=dt[0],Dt=dt[1],Ft=dt[2],Ut=dt[3],Ht=et[0],Kt=et[1],Yt=et[2],Jt=et[3],Zt,er,rr,sr,ir;return er=Tt*Ht+Dt*Kt+Ft*Yt+Ut*Jt,er<0&&(er=-er,Ht=-Ht,Kt=-Kt,Yt=-Yt,Jt=-Jt),1-er>1e-6?(Zt=Math.acos(er),rr=Math.sin(Zt),sr=Math.sin((1-$t)*Zt)/rr,ir=Math.sin($t*Zt)/rr):(sr=1-$t,ir=$t),kt[0]=sr*Tt+ir*Ht,kt[1]=sr*Dt+ir*Kt,kt[2]=sr*Ft+ir*Yt,kt[3]=sr*Ut+ir*Jt,kt}function quaternionToEuler(dt,et){var $t=et[0],kt=et[1],Tt=et[2],Dt=et[3],Ft=Math.atan2(2*kt*Dt-2*$t*Tt,1-2*kt*kt-2*Tt*Tt),Ut=Math.asin(2*$t*kt+2*Tt*Dt),Ht=Math.atan2(2*$t*Dt-2*kt*Tt,1-2*$t*$t-2*Tt*Tt);dt[0]=Ft/degToRads,dt[1]=Ut/degToRads,dt[2]=Ht/degToRads}function createQuaternion(dt){var et=dt[0]*degToRads,$t=dt[1]*degToRads,kt=dt[2]*degToRads,Tt=Math.cos(et/2),Dt=Math.cos($t/2),Ft=Math.cos(kt/2),Ut=Math.sin(et/2),Ht=Math.sin($t/2),Kt=Math.sin(kt/2),Yt=Tt*Dt*Ft-Ut*Ht*Kt,Jt=Ut*Ht*Ft+Tt*Dt*Kt,Zt=Ut*Dt*Ft+Tt*Ht*Kt,er=Tt*Ht*Ft-Ut*Dt*Kt;return[Jt,Zt,er,Yt]}function getValueAtCurrentTime(){var dt=this.comp.renderedFrame-this.offsetTime,et=this.keyframes[0].t-this.offsetTime,$t=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(dt===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=$t&&dt>=$t||this._caching.lastFrame<et&&dt<et))){this._caching.lastFrame>=dt&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var kt=this.interpolateValue(dt,this._caching);this.pv=kt}return this._caching.lastFrame=dt,this.pv}function setVValue(dt){var et;if(this.propType==="unidimensional")et=dt*this.mult,mathAbs(this.v-et)>1e-5&&(this.v=et,this._mdf=!0);else for(var $t=0,kt=this.v.length;$t<kt;)et=dt[$t]*this.mult,mathAbs(this.v[$t]-et)>1e-5&&(this.v[$t]=et,this._mdf=!0),$t+=1}function processEffectsSequence(){if(!(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)){if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=this._isFirstFrame;var dt,et=this.effectsSequence.length,$t=this.kf?this.pv:this.data.k;for(dt=0;dt<et;dt+=1)$t=this.effectsSequence[dt]($t);this.setVValue($t),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(dt){this.effectsSequence.push(dt),this.container.addDynamicProperty(this)}function ValueProperty(dt,et,$t,kt){this.propType="unidimensional",this.mult=$t||1,this.data=et,this.v=$t?et.k*$t:et.k,this.pv=et.k,this._mdf=!1,this.elem=dt,this.container=kt,this.comp=dt.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(dt,et,$t,kt){this.propType="multidimensional",this.mult=$t||1,this.data=et,this._mdf=!1,this.elem=dt,this.container=kt,this.comp=dt.comp,this.k=!1,this.kf=!1,this.frameId=-1;var Tt,Dt=et.k.length;for(this.v=createTypedArray("float32",Dt),this.pv=createTypedArray("float32",Dt),this.vel=createTypedArray("float32",Dt),Tt=0;Tt<Dt;Tt+=1)this.v[Tt]=et.k[Tt]*this.mult,this.pv[Tt]=et.k[Tt];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(dt,et,$t,kt){this.propType="unidimensional",this.keyframes=et.k,this.keyframesMetadata=[],this.offsetTime=dt.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=et,this.mult=$t||1,this.elem=dt,this.container=kt,this.comp=dt.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(dt,et,$t,kt){this.propType="multidimensional";var Tt,Dt=et.k.length,Ft,Ut,Ht,Kt;for(Tt=0;Tt<Dt-1;Tt+=1)et.k[Tt].to&&et.k[Tt].s&&et.k[Tt+1]&&et.k[Tt+1].s&&(Ft=et.k[Tt].s,Ut=et.k[Tt+1].s,Ht=et.k[Tt].to,Kt=et.k[Tt].ti,(Ft.length===2&&!(Ft[0]===Ut[0]&&Ft[1]===Ut[1])&&bez.pointOnLine2D(Ft[0],Ft[1],Ut[0],Ut[1],Ft[0]+Ht[0],Ft[1]+Ht[1])&&bez.pointOnLine2D(Ft[0],Ft[1],Ut[0],Ut[1],Ut[0]+Kt[0],Ut[1]+Kt[1])||Ft.length===3&&!(Ft[0]===Ut[0]&&Ft[1]===Ut[1]&&Ft[2]===Ut[2])&&bez.pointOnLine3D(Ft[0],Ft[1],Ft[2],Ut[0],Ut[1],Ut[2],Ft[0]+Ht[0],Ft[1]+Ht[1],Ft[2]+Ht[2])&&bez.pointOnLine3D(Ft[0],Ft[1],Ft[2],Ut[0],Ut[1],Ut[2],Ut[0]+Kt[0],Ut[1]+Kt[1],Ut[2]+Kt[2]))&&(et.k[Tt].to=null,et.k[Tt].ti=null),Ft[0]===Ut[0]&&Ft[1]===Ut[1]&&Ht[0]===0&&Ht[1]===0&&Kt[0]===0&&Kt[1]===0&&(Ft.length===2||Ft[2]===Ut[2]&&Ht[2]===0&&Kt[2]===0)&&(et.k[Tt].to=null,et.k[Tt].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=et,this.keyframes=et.k,this.keyframesMetadata=[],this.offsetTime=dt.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=$t||1,this.elem=dt,this.container=kt,this.comp=dt.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var Yt=et.k[0].s.length;for(this.v=createTypedArray("float32",Yt),this.pv=createTypedArray("float32",Yt),Tt=0;Tt<Yt;Tt+=1)this.v[Tt]=initFrame,this.pv[Tt]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",Yt)},this.addEffect=addEffect}var PropertyFactory=function(){function dt($t,kt,Tt,Dt,Ft){kt.sid&&(kt=$t.globalData.slotManager.getProp(kt));var Ut;if(!kt.k.length)Ut=new ValueProperty($t,kt,Dt,Ft);else if(typeof kt.k[0]=="number")Ut=new MultiDimensionalProperty($t,kt,Dt,Ft);else switch(Tt){case 0:Ut=new KeyframedValueProperty($t,kt,Dt,Ft);break;case 1:Ut=new KeyframedMultidimensionalProperty($t,kt,Dt,Ft);break}return Ut.effectsSequence.length&&Ft.addDynamicProperty(Ut),Ut}var et={getProp:dt};return et}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(et){this.dynamicProperties.indexOf(et)===-1&&(this.dynamicProperties.push(et),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var et,$t=this.dynamicProperties.length;for(et=0;et<$t;et+=1)this.dynamicProperties[et].getValue(),this.dynamicProperties[et]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(et){this.container=et,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=function(){function dt(){return createTypedArray("float32",2)}return poolFactory(8,dt)}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(dt,et){this.c=dt,this.setLength(et);for(var $t=0;$t<et;)this.v[$t]=pointPool.newElement(),this.o[$t]=pointPool.newElement(),this.i[$t]=pointPool.newElement(),$t+=1},ShapePath.prototype.setLength=function(dt){for(;this._maxLength<dt;)this.doubleArrayLength();this._length=dt},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(dt,et,$t,kt,Tt){var Dt;switch(this._length=Math.max(this._length,kt+1),this._length>=this._maxLength&&this.doubleArrayLength(),$t){case"v":Dt=this.v;break;case"i":Dt=this.i;break;case"o":Dt=this.o;break;default:Dt=[];break}(!Dt[kt]||Dt[kt]&&!Tt)&&(Dt[kt]=pointPool.newElement()),Dt[kt][0]=dt,Dt[kt][1]=et},ShapePath.prototype.setTripleAt=function(dt,et,$t,kt,Tt,Dt,Ft,Ut){this.setXYAt(dt,et,"v",Ft,Ut),this.setXYAt($t,kt,"o",Ft,Ut),this.setXYAt(Tt,Dt,"i",Ft,Ut)},ShapePath.prototype.reverse=function(){var dt=new ShapePath;dt.setPathData(this.c,this._length);var et=this.v,$t=this.o,kt=this.i,Tt=0;this.c&&(dt.setTripleAt(et[0][0],et[0][1],kt[0][0],kt[0][1],$t[0][0],$t[0][1],0,!1),Tt=1);var Dt=this._length-1,Ft=this._length,Ut;for(Ut=Tt;Ut<Ft;Ut+=1)dt.setTripleAt(et[Dt][0],et[Dt][1],kt[Dt][0],kt[Dt][1],$t[Dt][0],$t[Dt][1],Ut,!1),Dt-=1;return dt},ShapePath.prototype.length=function(){return this._length};var shapePool=function(){function dt(){return new ShapePath}function et(Tt){var Dt=Tt._length,Ft;for(Ft=0;Ft<Dt;Ft+=1)pointPool.release(Tt.v[Ft]),pointPool.release(Tt.i[Ft]),pointPool.release(Tt.o[Ft]),Tt.v[Ft]=null,Tt.i[Ft]=null,Tt.o[Ft]=null;Tt._length=0,Tt.c=!1}function $t(Tt){var Dt=kt.newElement(),Ft,Ut=Tt._length===void 0?Tt.v.length:Tt._length;for(Dt.setLength(Ut),Dt.c=Tt.c,Ft=0;Ft<Ut;Ft+=1)Dt.setTripleAt(Tt.v[Ft][0],Tt.v[Ft][1],Tt.o[Ft][0],Tt.o[Ft][1],Tt.i[Ft][0],Tt.i[Ft][1],Ft);return Dt}var kt=poolFactory(4,dt,et);return kt.clone=$t,kt}();function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(dt){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=dt,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var dt;for(dt=0;dt<this._length;dt+=1)shapePool.release(this.shapes[dt]);this._length=0};var shapeCollectionPool=function(){var dt={newShapeCollection:Tt,release:Dt},et=0,$t=4,kt=createSizedArray($t);function Tt(){var Ft;return et?(et-=1,Ft=kt[et]):Ft=new ShapeCollection,Ft}function Dt(Ft){var Ut,Ht=Ft._length;for(Ut=0;Ut<Ht;Ut+=1)shapePool.release(Ft.shapes[Ut]);Ft._length=0,et===$t&&(kt=pooling.double(kt),$t*=2),kt[et]=Ft,et+=1}return dt}(),ShapePropertyFactory=function(){var dt=-999999;function et(nr,or,lr){var cr=lr.lastIndex,dr,ur,pr,mr,vr,kr,br,_r,Or,Pr=this.keyframes;if(nr<Pr[0].t-this.offsetTime)dr=Pr[0].s[0],pr=!0,cr=0;else if(nr>=Pr[Pr.length-1].t-this.offsetTime)dr=Pr[Pr.length-1].s?Pr[Pr.length-1].s[0]:Pr[Pr.length-2].e[0],pr=!0;else{for(var Mr=cr,Rr=Pr.length-1,Tr=!0,xr,wr,zr;Tr&&(xr=Pr[Mr],wr=Pr[Mr+1],!(wr.t-this.offsetTime>nr));)Mr<Rr-1?Mr+=1:Tr=!1;if(zr=this.keyframesMetadata[Mr]||{},pr=xr.h===1,cr=Mr,!pr){if(nr>=wr.t-this.offsetTime)_r=1;else if(nr<xr.t-this.offsetTime)_r=0;else{var Hr;zr.__fnct?Hr=zr.__fnct:(Hr=BezierFactory.getBezierEasing(xr.o.x,xr.o.y,xr.i.x,xr.i.y).get,zr.__fnct=Hr),_r=Hr((nr-(xr.t-this.offsetTime))/(wr.t-this.offsetTime-(xr.t-this.offsetTime)))}ur=wr.s?wr.s[0]:xr.e[0]}dr=xr.s[0]}for(kr=or._length,br=dr.i[0].length,lr.lastIndex=cr,mr=0;mr<kr;mr+=1)for(vr=0;vr<br;vr+=1)Or=pr?dr.i[mr][vr]:dr.i[mr][vr]+(ur.i[mr][vr]-dr.i[mr][vr])*_r,or.i[mr][vr]=Or,Or=pr?dr.o[mr][vr]:dr.o[mr][vr]+(ur.o[mr][vr]-dr.o[mr][vr])*_r,or.o[mr][vr]=Or,Or=pr?dr.v[mr][vr]:dr.v[mr][vr]+(ur.v[mr][vr]-dr.v[mr][vr])*_r,or.v[mr][vr]=Or}function $t(){var nr=this.comp.renderedFrame-this.offsetTime,or=this.keyframes[0].t-this.offsetTime,lr=this.keyframes[this.keyframes.length-1].t-this.offsetTime,cr=this._caching.lastFrame;return cr!==dt&&(cr<or&&nr<or||cr>lr&&nr>lr)||(this._caching.lastIndex=cr<nr?this._caching.lastIndex:0,this.interpolateShape(nr,this.pv,this._caching)),this._caching.lastFrame=nr,this.pv}function kt(){this.paths=this.localShapeCollection}function Tt(nr,or){if(nr._length!==or._length||nr.c!==or.c)return!1;var lr,cr=nr._length;for(lr=0;lr<cr;lr+=1)if(nr.v[lr][0]!==or.v[lr][0]||nr.v[lr][1]!==or.v[lr][1]||nr.o[lr][0]!==or.o[lr][0]||nr.o[lr][1]!==or.o[lr][1]||nr.i[lr][0]!==or.i[lr][0]||nr.i[lr][1]!==or.i[lr][1])return!1;return!0}function Dt(nr){Tt(this.v,nr)||(this.v=shapePool.clone(nr),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function Ft(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=!1;var nr;this.kf?nr=this.pv:this.data.ks?nr=this.data.ks.k:nr=this.data.pt.k;var or,lr=this.effectsSequence.length;for(or=0;or<lr;or+=1)nr=this.effectsSequence[or](nr);this.setVValue(nr),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function Ut(nr,or,lr){this.propType="shape",this.comp=nr.comp,this.container=nr,this.elem=nr,this.data=or,this.k=!1,this.kf=!1,this._mdf=!1;var cr=lr===3?or.pt.k:or.ks.k;this.v=shapePool.clone(cr),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=kt,this.effectsSequence=[]}function Ht(nr){this.effectsSequence.push(nr),this.container.addDynamicProperty(this)}Ut.prototype.interpolateShape=et,Ut.prototype.getValue=Ft,Ut.prototype.setVValue=Dt,Ut.prototype.addEffect=Ht;function Kt(nr,or,lr){this.propType="shape",this.comp=nr.comp,this.elem=nr,this.container=nr,this.offsetTime=nr.data.st,this.keyframes=lr===3?or.pt.k:or.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var cr=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,cr),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=dt,this.reset=kt,this._caching={lastFrame:dt,lastIndex:0},this.effectsSequence=[$t.bind(this)]}Kt.prototype.getValue=Ft,Kt.prototype.interpolateShape=et,Kt.prototype.setVValue=Dt,Kt.prototype.addEffect=Ht;var Yt=function(){var nr=roundCorner;function or(lr,cr){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=cr.d,this.elem=lr,this.comp=lr.comp,this.frameId=-1,this.initDynamicPropertyContainer(lr),this.p=PropertyFactory.getProp(lr,cr.p,1,0,this),this.s=PropertyFactory.getProp(lr,cr.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return or.prototype={reset:kt,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var cr=this.p.v[0],dr=this.p.v[1],ur=this.s.v[0]/2,pr=this.s.v[1]/2,mr=this.d!==3,vr=this.v;vr.v[0][0]=cr,vr.v[0][1]=dr-pr,vr.v[1][0]=mr?cr+ur:cr-ur,vr.v[1][1]=dr,vr.v[2][0]=cr,vr.v[2][1]=dr+pr,vr.v[3][0]=mr?cr-ur:cr+ur,vr.v[3][1]=dr,vr.i[0][0]=mr?cr-ur*nr:cr+ur*nr,vr.i[0][1]=dr-pr,vr.i[1][0]=mr?cr+ur:cr-ur,vr.i[1][1]=dr-pr*nr,vr.i[2][0]=mr?cr+ur*nr:cr-ur*nr,vr.i[2][1]=dr+pr,vr.i[3][0]=mr?cr-ur:cr+ur,vr.i[3][1]=dr+pr*nr,vr.o[0][0]=mr?cr+ur*nr:cr-ur*nr,vr.o[0][1]=dr-pr,vr.o[1][0]=mr?cr+ur:cr-ur,vr.o[1][1]=dr+pr*nr,vr.o[2][0]=mr?cr-ur*nr:cr+ur*nr,vr.o[2][1]=dr+pr,vr.o[3][0]=mr?cr-ur:cr+ur,vr.o[3][1]=dr-pr*nr}},extendPrototype([DynamicPropertyContainer],or),or}(),Jt=function(){function nr(or,lr){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=or,this.comp=or.comp,this.data=lr,this.frameId=-1,this.d=lr.d,this.initDynamicPropertyContainer(or),lr.sy===1?(this.ir=PropertyFactory.getProp(or,lr.ir,0,0,this),this.is=PropertyFactory.getProp(or,lr.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(or,lr.pt,0,0,this),this.p=PropertyFactory.getProp(or,lr.p,1,0,this),this.r=PropertyFactory.getProp(or,lr.r,0,degToRads,this),this.or=PropertyFactory.getProp(or,lr.or,0,0,this),this.os=PropertyFactory.getProp(or,lr.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return nr.prototype={reset:kt,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var lr=Math.floor(this.pt.v)*2,cr=Math.PI*2/lr,dr=!0,ur=this.or.v,pr=this.ir.v,mr=this.os.v,vr=this.is.v,kr=2*Math.PI*ur/(lr*2),br=2*Math.PI*pr/(lr*2),_r,Or,Pr,Mr,Rr=-Math.PI/2;Rr+=this.r.v;var Tr=this.data.d===3?-1:1;for(this.v._length=0,_r=0;_r<lr;_r+=1){Or=dr?ur:pr,Pr=dr?mr:vr,Mr=dr?kr:br;var xr=Or*Math.cos(Rr),wr=Or*Math.sin(Rr),zr=xr===0&&wr===0?0:wr/Math.sqrt(xr*xr+wr*wr),Hr=xr===0&&wr===0?0:-xr/Math.sqrt(xr*xr+wr*wr);xr+=+this.p.v[0],wr+=+this.p.v[1],this.v.setTripleAt(xr,wr,xr-zr*Mr*Pr*Tr,wr-Hr*Mr*Pr*Tr,xr+zr*Mr*Pr*Tr,wr+Hr*Mr*Pr*Tr,_r,!0),dr=!dr,Rr+=cr*Tr}},convertPolygonToPath:function(){var lr=Math.floor(this.pt.v),cr=Math.PI*2/lr,dr=this.or.v,ur=this.os.v,pr=2*Math.PI*dr/(lr*4),mr,vr=-Math.PI*.5,kr=this.data.d===3?-1:1;for(vr+=this.r.v,this.v._length=0,mr=0;mr<lr;mr+=1){var br=dr*Math.cos(vr),_r=dr*Math.sin(vr),Or=br===0&&_r===0?0:_r/Math.sqrt(br*br+_r*_r),Pr=br===0&&_r===0?0:-br/Math.sqrt(br*br+_r*_r);br+=+this.p.v[0],_r+=+this.p.v[1],this.v.setTripleAt(br,_r,br-Or*pr*ur*kr,_r-Pr*pr*ur*kr,br+Or*pr*ur*kr,_r+Pr*pr*ur*kr,mr,!0),vr+=cr*kr}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],nr),nr}(),Zt=function(){function nr(or,lr){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=or,this.comp=or.comp,this.frameId=-1,this.d=lr.d,this.initDynamicPropertyContainer(or),this.p=PropertyFactory.getProp(or,lr.p,1,0,this),this.s=PropertyFactory.getProp(or,lr.s,1,0,this),this.r=PropertyFactory.getProp(or,lr.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return nr.prototype={convertRectToPath:function(){var lr=this.p.v[0],cr=this.p.v[1],dr=this.s.v[0]/2,ur=this.s.v[1]/2,pr=bmMin(dr,ur,this.r.v),mr=pr*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(lr+dr,cr-ur+pr,lr+dr,cr-ur+pr,lr+dr,cr-ur+mr,0,!0),this.v.setTripleAt(lr+dr,cr+ur-pr,lr+dr,cr+ur-mr,lr+dr,cr+ur-pr,1,!0),pr!==0?(this.v.setTripleAt(lr+dr-pr,cr+ur,lr+dr-pr,cr+ur,lr+dr-mr,cr+ur,2,!0),this.v.setTripleAt(lr-dr+pr,cr+ur,lr-dr+mr,cr+ur,lr-dr+pr,cr+ur,3,!0),this.v.setTripleAt(lr-dr,cr+ur-pr,lr-dr,cr+ur-pr,lr-dr,cr+ur-mr,4,!0),this.v.setTripleAt(lr-dr,cr-ur+pr,lr-dr,cr-ur+mr,lr-dr,cr-ur+pr,5,!0),this.v.setTripleAt(lr-dr+pr,cr-ur,lr-dr+pr,cr-ur,lr-dr+mr,cr-ur,6,!0),this.v.setTripleAt(lr+dr-pr,cr-ur,lr+dr-mr,cr-ur,lr+dr-pr,cr-ur,7,!0)):(this.v.setTripleAt(lr-dr,cr+ur,lr-dr+mr,cr+ur,lr-dr,cr+ur,2),this.v.setTripleAt(lr-dr,cr-ur,lr-dr,cr-ur+mr,lr-dr,cr-ur,3))):(this.v.setTripleAt(lr+dr,cr-ur+pr,lr+dr,cr-ur+mr,lr+dr,cr-ur+pr,0,!0),pr!==0?(this.v.setTripleAt(lr+dr-pr,cr-ur,lr+dr-pr,cr-ur,lr+dr-mr,cr-ur,1,!0),this.v.setTripleAt(lr-dr+pr,cr-ur,lr-dr+mr,cr-ur,lr-dr+pr,cr-ur,2,!0),this.v.setTripleAt(lr-dr,cr-ur+pr,lr-dr,cr-ur+pr,lr-dr,cr-ur+mr,3,!0),this.v.setTripleAt(lr-dr,cr+ur-pr,lr-dr,cr+ur-mr,lr-dr,cr+ur-pr,4,!0),this.v.setTripleAt(lr-dr+pr,cr+ur,lr-dr+pr,cr+ur,lr-dr+mr,cr+ur,5,!0),this.v.setTripleAt(lr+dr-pr,cr+ur,lr+dr-mr,cr+ur,lr+dr-pr,cr+ur,6,!0),this.v.setTripleAt(lr+dr,cr+ur-pr,lr+dr,cr+ur-pr,lr+dr,cr+ur-mr,7,!0)):(this.v.setTripleAt(lr-dr,cr-ur,lr-dr+mr,cr-ur,lr-dr,cr-ur,1,!0),this.v.setTripleAt(lr-dr,cr+ur,lr-dr,cr+ur-mr,lr-dr,cr+ur,2,!0),this.v.setTripleAt(lr+dr,cr+ur,lr+dr-mr,cr+ur,lr+dr,cr+ur,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:kt},extendPrototype([DynamicPropertyContainer],nr),nr}();function er(nr,or,lr){var cr;if(lr===3||lr===4){var dr=lr===3?or.pt:or.ks,ur=dr.k;ur.length?cr=new Kt(nr,or,lr):cr=new Ut(nr,or,lr)}else lr===5?cr=new Zt(nr,or):lr===6?cr=new Yt(nr,or):lr===7&&(cr=new Jt(nr,or));return cr.k&&nr.addDynamicProperty(cr),cr}function rr(){return Ut}function sr(){return Kt}var ir={};return ir.getShapeProp=er,ir.getConstructorFunction=rr,ir.getKeyframedConstructorFunction=sr,ir}();/*!
 Transformation Matrix v2.0
 (c) Epistemex 2014-2015
 www.epistemex.com
 By Ken Fyrstenberg
 Contributions by leeoniya.
 License: MIT, header required.
 */var Matrix=function(){var dt=Math.cos,et=Math.sin,$t=Math.tan,kt=Math.round;function Tt(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function Dt(xr){if(xr===0)return this;var wr=dt(xr),zr=et(xr);return this._t(wr,-zr,0,0,zr,wr,0,0,0,0,1,0,0,0,0,1)}function Ft(xr){if(xr===0)return this;var wr=dt(xr),zr=et(xr);return this._t(1,0,0,0,0,wr,-zr,0,0,zr,wr,0,0,0,0,1)}function Ut(xr){if(xr===0)return this;var wr=dt(xr),zr=et(xr);return this._t(wr,0,zr,0,0,1,0,0,-zr,0,wr,0,0,0,0,1)}function Ht(xr){if(xr===0)return this;var wr=dt(xr),zr=et(xr);return this._t(wr,-zr,0,0,zr,wr,0,0,0,0,1,0,0,0,0,1)}function Kt(xr,wr){return this._t(1,wr,xr,1,0,0)}function Yt(xr,wr){return this.shear($t(xr),$t(wr))}function Jt(xr,wr){var zr=dt(wr),Hr=et(wr);return this._t(zr,Hr,0,0,-Hr,zr,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,$t(xr),1,0,0,0,0,1,0,0,0,0,1)._t(zr,-Hr,0,0,Hr,zr,0,0,0,0,1,0,0,0,0,1)}function Zt(xr,wr,zr){return!zr&&zr!==0&&(zr=1),xr===1&&wr===1&&zr===1?this:this._t(xr,0,0,0,0,wr,0,0,0,0,zr,0,0,0,0,1)}function er(xr,wr,zr,Hr,Gr,Xr,rs,Yr,es,ns,ms,ls,ds,fs,cs,xs){return this.props[0]=xr,this.props[1]=wr,this.props[2]=zr,this.props[3]=Hr,this.props[4]=Gr,this.props[5]=Xr,this.props[6]=rs,this.props[7]=Yr,this.props[8]=es,this.props[9]=ns,this.props[10]=ms,this.props[11]=ls,this.props[12]=ds,this.props[13]=fs,this.props[14]=cs,this.props[15]=xs,this}function rr(xr,wr,zr){return zr=zr||0,xr!==0||wr!==0||zr!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,xr,wr,zr,1):this}function sr(xr,wr,zr,Hr,Gr,Xr,rs,Yr,es,ns,ms,ls,ds,fs,cs,xs){var us=this.props;if(xr===1&&wr===0&&zr===0&&Hr===0&&Gr===0&&Xr===1&&rs===0&&Yr===0&&es===0&&ns===0&&ms===1&&ls===0)return us[12]=us[12]*xr+us[15]*ds,us[13]=us[13]*Xr+us[15]*fs,us[14]=us[14]*ms+us[15]*cs,us[15]*=xs,this._identityCalculated=!1,this;var $s=us[0],ks=us[1],Ds=us[2],Cs=us[3],Ts=us[4],Ns=us[5],Ms=us[6],Us=us[7],Ws=us[8],Ks=us[9],Qs=us[10],qs=us[11],zs=us[12],Js=us[13],_s=us[14],Fs=us[15];return us[0]=$s*xr+ks*Gr+Ds*es+Cs*ds,us[1]=$s*wr+ks*Xr+Ds*ns+Cs*fs,us[2]=$s*zr+ks*rs+Ds*ms+Cs*cs,us[3]=$s*Hr+ks*Yr+Ds*ls+Cs*xs,us[4]=Ts*xr+Ns*Gr+Ms*es+Us*ds,us[5]=Ts*wr+Ns*Xr+Ms*ns+Us*fs,us[6]=Ts*zr+Ns*rs+Ms*ms+Us*cs,us[7]=Ts*Hr+Ns*Yr+Ms*ls+Us*xs,us[8]=Ws*xr+Ks*Gr+Qs*es+qs*ds,us[9]=Ws*wr+Ks*Xr+Qs*ns+qs*fs,us[10]=Ws*zr+Ks*rs+Qs*ms+qs*cs,us[11]=Ws*Hr+Ks*Yr+Qs*ls+qs*xs,us[12]=zs*xr+Js*Gr+_s*es+Fs*ds,us[13]=zs*wr+Js*Xr+_s*ns+Fs*fs,us[14]=zs*zr+Js*rs+_s*ms+Fs*cs,us[15]=zs*Hr+Js*Yr+_s*ls+Fs*xs,this._identityCalculated=!1,this}function ir(xr){var wr=xr.props;return this.transform(wr[0],wr[1],wr[2],wr[3],wr[4],wr[5],wr[6],wr[7],wr[8],wr[9],wr[10],wr[11],wr[12],wr[13],wr[14],wr[15])}function nr(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function or(xr){for(var wr=0;wr<16;){if(xr.props[wr]!==this.props[wr])return!1;wr+=1}return!0}function lr(xr){var wr;for(wr=0;wr<16;wr+=1)xr.props[wr]=this.props[wr];return xr}function cr(xr){var wr;for(wr=0;wr<16;wr+=1)this.props[wr]=xr[wr]}function dr(xr,wr,zr){return{x:xr*this.props[0]+wr*this.props[4]+zr*this.props[8]+this.props[12],y:xr*this.props[1]+wr*this.props[5]+zr*this.props[9]+this.props[13],z:xr*this.props[2]+wr*this.props[6]+zr*this.props[10]+this.props[14]}}function ur(xr,wr,zr){return xr*this.props[0]+wr*this.props[4]+zr*this.props[8]+this.props[12]}function pr(xr,wr,zr){return xr*this.props[1]+wr*this.props[5]+zr*this.props[9]+this.props[13]}function mr(xr,wr,zr){return xr*this.props[2]+wr*this.props[6]+zr*this.props[10]+this.props[14]}function vr(){var xr=this.props[0]*this.props[5]-this.props[1]*this.props[4],wr=this.props[5]/xr,zr=-this.props[1]/xr,Hr=-this.props[4]/xr,Gr=this.props[0]/xr,Xr=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/xr,rs=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/xr,Yr=new Matrix;return Yr.props[0]=wr,Yr.props[1]=zr,Yr.props[4]=Hr,Yr.props[5]=Gr,Yr.props[12]=Xr,Yr.props[13]=rs,Yr}function kr(xr){var wr=this.getInverseMatrix();return wr.applyToPointArray(xr[0],xr[1],xr[2]||0)}function br(xr){var wr,zr=xr.length,Hr=[];for(wr=0;wr<zr;wr+=1)Hr[wr]=kr(xr[wr]);return Hr}function _r(xr,wr,zr){var Hr=createTypedArray("float32",6);if(this.isIdentity())Hr[0]=xr[0],Hr[1]=xr[1],Hr[2]=wr[0],Hr[3]=wr[1],Hr[4]=zr[0],Hr[5]=zr[1];else{var Gr=this.props[0],Xr=this.props[1],rs=this.props[4],Yr=this.props[5],es=this.props[12],ns=this.props[13];Hr[0]=xr[0]*Gr+xr[1]*rs+es,Hr[1]=xr[0]*Xr+xr[1]*Yr+ns,Hr[2]=wr[0]*Gr+wr[1]*rs+es,Hr[3]=wr[0]*Xr+wr[1]*Yr+ns,Hr[4]=zr[0]*Gr+zr[1]*rs+es,Hr[5]=zr[0]*Xr+zr[1]*Yr+ns}return Hr}function Or(xr,wr,zr){var Hr;return this.isIdentity()?Hr=[xr,wr,zr]:Hr=[xr*this.props[0]+wr*this.props[4]+zr*this.props[8]+this.props[12],xr*this.props[1]+wr*this.props[5]+zr*this.props[9]+this.props[13],xr*this.props[2]+wr*this.props[6]+zr*this.props[10]+this.props[14]],Hr}function Pr(xr,wr){if(this.isIdentity())return xr+","+wr;var zr=this.props;return Math.round((xr*zr[0]+wr*zr[4]+zr[12])*100)/100+","+Math.round((xr*zr[1]+wr*zr[5]+zr[13])*100)/100}function Mr(){for(var xr=0,wr=this.props,zr="matrix3d(",Hr=1e4;xr<16;)zr+=kt(wr[xr]*Hr)/Hr,zr+=xr===15?")":",",xr+=1;return zr}function Rr(xr){var wr=1e4;return xr<1e-6&&xr>0||xr>-1e-6&&xr<0?kt(xr*wr)/wr:xr}function Tr(){var xr=this.props,wr=Rr(xr[0]),zr=Rr(xr[1]),Hr=Rr(xr[4]),Gr=Rr(xr[5]),Xr=Rr(xr[12]),rs=Rr(xr[13]);return"matrix("+wr+","+zr+","+Hr+","+Gr+","+Xr+","+rs+")"}return function(){this.reset=Tt,this.rotate=Dt,this.rotateX=Ft,this.rotateY=Ut,this.rotateZ=Ht,this.skew=Yt,this.skewFromAxis=Jt,this.shear=Kt,this.scale=Zt,this.setTransform=er,this.translate=rr,this.transform=sr,this.multiply=ir,this.applyToPoint=dr,this.applyToX=ur,this.applyToY=pr,this.applyToZ=mr,this.applyToPointArray=Or,this.applyToTriplePoints=_r,this.applyToPointStringified=Pr,this.toCSS=Mr,this.to2dCSS=Tr,this.clone=lr,this.cloneFromProps=cr,this.equals=or,this.inversePoints=br,this.inversePoint=kr,this.getInverseMatrix=vr,this._t=this.transform,this.isIdentity=nr,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(dt){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$3=function($t){return typeof $t}:_typeof$3=function($t){return $t&&typeof Symbol=="function"&&$t.constructor===Symbol&&$t!==Symbol.prototype?"symbol":typeof $t},_typeof$3(dt)}var lottie={};function setLocation(dt){setLocationHref(dt)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(dt){setSubframeEnabled(dt)}function setPrefix(dt){setIdPrefix(dt)}function loadAnimation(dt){return animationManager.loadAnimation(dt)}function setQuality(dt){if(typeof dt=="string")switch(dt){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10);break}else!isNaN(dt)&&dt>1&&setDefaultCurveSegments(dt)}function inBrowser(){return typeof navigator<"u"}function installPlugin(dt,et){dt==="expressions"&&setExpressionsPlugin(et)}function getFactory(dt){switch(dt){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.12.2";function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(dt){for(var et=queryString.split("&"),$t=0;$t<et.length;$t+=1){var kt=et[$t].split("=");if(decodeURIComponent(kt[0])==dt)return decodeURIComponent(kt[1])}return null}var queryString="";{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)!=="object"&&(window.bodymovin=lottie)}catch(dt){}var ShapeModifiers=function(){var dt={},et={};dt.registerModifier=$t,dt.getModifier=kt;function $t(Tt,Dt){et[Tt]||(et[Tt]=Dt)}function kt(Tt,Dt,Ft){return new et[Tt](Dt,Ft)}return dt}();function ShapeModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(dt){if(!this.closed){dt.sh.container.addDynamicProperty(dt.sh);var et={shape:dt.sh,data:dt,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(et),this.addShapeToModifier(et),this._isAnimated&&dt.setAsAnimated()}},ShapeModifier.prototype.init=function(dt,et){this.shapes=[],this.elem=dt,this.initDynamicPropertyContainer(dt),this.initModifierProperties(dt,et),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier);function TrimModifier(){}extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(dt,et){this.s=PropertyFactory.getProp(dt,et.s,0,.01,this),this.e=PropertyFactory.getProp(dt,et.e,0,.01,this),this.o=PropertyFactory.getProp(dt,et.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=et.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(dt){dt.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(dt,et,$t,kt,Tt){var Dt=[];et<=1?Dt.push({s:dt,e:et}):dt>=1?Dt.push({s:dt-1,e:et-1}):(Dt.push({s:dt,e:1}),Dt.push({s:0,e:et-1}));var Ft=[],Ut,Ht=Dt.length,Kt;for(Ut=0;Ut<Ht;Ut+=1)if(Kt=Dt[Ut],!(Kt.e*Tt<kt||Kt.s*Tt>kt+$t)){var Yt,Jt;Kt.s*Tt<=kt?Yt=0:Yt=(Kt.s*Tt-kt)/$t,Kt.e*Tt>=kt+$t?Jt=1:Jt=(Kt.e*Tt-kt)/$t,Ft.push([Yt,Jt])}return Ft.length||Ft.push([0,0]),Ft},TrimModifier.prototype.releasePathsData=function(dt){var et,$t=dt.length;for(et=0;et<$t;et+=1)segmentsLengthPool.release(dt[et]);return dt.length=0,dt},TrimModifier.prototype.processShapes=function(dt){var et,$t;if(this._mdf||dt){var kt=this.o.v%360/360;if(kt<0&&(kt+=1),this.s.v>1?et=1+kt:this.s.v<0?et=0+kt:et=this.s.v+kt,this.e.v>1?$t=1+kt:this.e.v<0?$t=0+kt:$t=this.e.v+kt,et>$t){var Tt=et;et=$t,$t=Tt}et=Math.round(et*1e4)*1e-4,$t=Math.round($t*1e4)*1e-4,this.sValue=et,this.eValue=$t}else et=this.sValue,$t=this.eValue;var Dt,Ft,Ut=this.shapes.length,Ht,Kt,Yt,Jt,Zt,er=0;if($t===et)for(Ft=0;Ft<Ut;Ft+=1)this.shapes[Ft].localShapeCollection.releaseShapes(),this.shapes[Ft].shape._mdf=!0,this.shapes[Ft].shape.paths=this.shapes[Ft].localShapeCollection,this._mdf&&(this.shapes[Ft].pathsData.length=0);else if($t===1&&et===0||$t===0&&et===1){if(this._mdf)for(Ft=0;Ft<Ut;Ft+=1)this.shapes[Ft].pathsData.length=0,this.shapes[Ft].shape._mdf=!0}else{var rr=[],sr,ir;for(Ft=0;Ft<Ut;Ft+=1)if(sr=this.shapes[Ft],!sr.shape._mdf&&!this._mdf&&!dt&&this.m!==2)sr.shape.paths=sr.localShapeCollection;else{if(Dt=sr.shape.paths,Kt=Dt._length,Zt=0,!sr.shape._mdf&&sr.pathsData.length)Zt=sr.totalShapeLength;else{for(Yt=this.releasePathsData(sr.pathsData),Ht=0;Ht<Kt;Ht+=1)Jt=bez.getSegmentsLength(Dt.shapes[Ht]),Yt.push(Jt),Zt+=Jt.totalLength;sr.totalShapeLength=Zt,sr.pathsData=Yt}er+=Zt,sr.shape._mdf=!0}var nr=et,or=$t,lr=0,cr;for(Ft=Ut-1;Ft>=0;Ft-=1)if(sr=this.shapes[Ft],sr.shape._mdf){for(ir=sr.localShapeCollection,ir.releaseShapes(),this.m===2&&Ut>1?(cr=this.calculateShapeEdges(et,$t,sr.totalShapeLength,lr,er),lr+=sr.totalShapeLength):cr=[[nr,or]],Kt=cr.length,Ht=0;Ht<Kt;Ht+=1){nr=cr[Ht][0],or=cr[Ht][1],rr.length=0,or<=1?rr.push({s:sr.totalShapeLength*nr,e:sr.totalShapeLength*or}):nr>=1?rr.push({s:sr.totalShapeLength*(nr-1),e:sr.totalShapeLength*(or-1)}):(rr.push({s:sr.totalShapeLength*nr,e:sr.totalShapeLength}),rr.push({s:0,e:sr.totalShapeLength*(or-1)}));var dr=this.addShapes(sr,rr[0]);if(rr[0].s!==rr[0].e){if(rr.length>1){var ur=sr.shape.paths.shapes[sr.shape.paths._length-1];if(ur.c){var pr=dr.pop();this.addPaths(dr,ir),dr=this.addShapes(sr,rr[1],pr)}else this.addPaths(dr,ir),dr=this.addShapes(sr,rr[1])}this.addPaths(dr,ir)}}sr.shape.paths=ir}}},TrimModifier.prototype.addPaths=function(dt,et){var $t,kt=dt.length;for($t=0;$t<kt;$t+=1)et.addShape(dt[$t])},TrimModifier.prototype.addSegment=function(dt,et,$t,kt,Tt,Dt,Ft){Tt.setXYAt(et[0],et[1],"o",Dt),Tt.setXYAt($t[0],$t[1],"i",Dt+1),Ft&&Tt.setXYAt(dt[0],dt[1],"v",Dt),Tt.setXYAt(kt[0],kt[1],"v",Dt+1)},TrimModifier.prototype.addSegmentFromArray=function(dt,et,$t,kt){et.setXYAt(dt[1],dt[5],"o",$t),et.setXYAt(dt[2],dt[6],"i",$t+1),kt&&et.setXYAt(dt[0],dt[4],"v",$t),et.setXYAt(dt[3],dt[7],"v",$t+1)},TrimModifier.prototype.addShapes=function(dt,et,$t){var kt=dt.pathsData,Tt=dt.shape.paths.shapes,Dt,Ft=dt.shape.paths._length,Ut,Ht,Kt=0,Yt,Jt,Zt,er,rr=[],sr,ir=!0;for($t?(Jt=$t._length,sr=$t._length):($t=shapePool.newElement(),Jt=0,sr=0),rr.push($t),Dt=0;Dt<Ft;Dt+=1){for(Zt=kt[Dt].lengths,$t.c=Tt[Dt].c,Ht=Tt[Dt].c?Zt.length:Zt.length+1,Ut=1;Ut<Ht;Ut+=1)if(Yt=Zt[Ut-1],Kt+Yt.addedLength<et.s)Kt+=Yt.addedLength,$t.c=!1;else if(Kt>et.e){$t.c=!1;break}else et.s<=Kt&&et.e>=Kt+Yt.addedLength?(this.addSegment(Tt[Dt].v[Ut-1],Tt[Dt].o[Ut-1],Tt[Dt].i[Ut],Tt[Dt].v[Ut],$t,Jt,ir),ir=!1):(er=bez.getNewSegment(Tt[Dt].v[Ut-1],Tt[Dt].v[Ut],Tt[Dt].o[Ut-1],Tt[Dt].i[Ut],(et.s-Kt)/Yt.addedLength,(et.e-Kt)/Yt.addedLength,Zt[Ut-1]),this.addSegmentFromArray(er,$t,Jt,ir),ir=!1,$t.c=!1),Kt+=Yt.addedLength,Jt+=1;if(Tt[Dt].c&&Zt.length){if(Yt=Zt[Ut-1],Kt<=et.e){var nr=Zt[Ut-1].addedLength;et.s<=Kt&&et.e>=Kt+nr?(this.addSegment(Tt[Dt].v[Ut-1],Tt[Dt].o[Ut-1],Tt[Dt].i[0],Tt[Dt].v[0],$t,Jt,ir),ir=!1):(er=bez.getNewSegment(Tt[Dt].v[Ut-1],Tt[Dt].v[0],Tt[Dt].o[Ut-1],Tt[Dt].i[0],(et.s-Kt)/nr,(et.e-Kt)/nr,Zt[Ut-1]),this.addSegmentFromArray(er,$t,Jt,ir),ir=!1,$t.c=!1)}else $t.c=!1;Kt+=Yt.addedLength,Jt+=1}if($t._length&&($t.setXYAt($t.v[sr][0],$t.v[sr][1],"i",sr),$t.setXYAt($t.v[$t._length-1][0],$t.v[$t._length-1][1],"o",$t._length-1)),Kt>et.e)break;Dt<Ft-1&&($t=shapePool.newElement(),ir=!0,rr.push($t),Jt=0)}return rr};function PuckerAndBloatModifier(){}extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(dt,et){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(dt,et.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(dt,et){var $t=et/100,kt=[0,0],Tt=dt._length,Dt=0;for(Dt=0;Dt<Tt;Dt+=1)kt[0]+=dt.v[Dt][0],kt[1]+=dt.v[Dt][1];kt[0]/=Tt,kt[1]/=Tt;var Ft=shapePool.newElement();Ft.c=dt.c;var Ut,Ht,Kt,Yt,Jt,Zt;for(Dt=0;Dt<Tt;Dt+=1)Ut=dt.v[Dt][0]+(kt[0]-dt.v[Dt][0])*$t,Ht=dt.v[Dt][1]+(kt[1]-dt.v[Dt][1])*$t,Kt=dt.o[Dt][0]+(kt[0]-dt.o[Dt][0])*-$t,Yt=dt.o[Dt][1]+(kt[1]-dt.o[Dt][1])*-$t,Jt=dt.i[Dt][0]+(kt[0]-dt.i[Dt][0])*-$t,Zt=dt.i[Dt][1]+(kt[1]-dt.i[Dt][1])*-$t,Ft.setTripleAt(Ut,Ht,Kt,Yt,Jt,Zt,Dt);return Ft},PuckerAndBloatModifier.prototype.processShapes=function(dt){var et,$t,kt=this.shapes.length,Tt,Dt,Ft=this.amount.v;if(Ft!==0){var Ut,Ht;for($t=0;$t<kt;$t+=1){if(Ut=this.shapes[$t],Ht=Ut.localShapeCollection,!(!Ut.shape._mdf&&!this._mdf&&!dt))for(Ht.releaseShapes(),Ut.shape._mdf=!0,et=Ut.shape.paths.shapes,Dt=Ut.shape.paths._length,Tt=0;Tt<Dt;Tt+=1)Ht.addShape(this.processPath(et[Tt],Ft));Ut.shape.paths=Ut.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var dt=[0,0];function et(Ht){var Kt=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||Kt,this.a&&Ht.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&Ht.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&Ht.skewFromAxis(-this.sk.v,this.sa.v),this.r?Ht.rotate(-this.r.v):Ht.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?Ht.translate(this.px.v,this.py.v,-this.pz.v):Ht.translate(this.px.v,this.py.v,0):Ht.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function $t(Ht){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||Ht){var Kt;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var Yt,Jt;if(Kt=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(Yt=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/Kt,0),Jt=this.p.getValueAtTime(this.p.keyframes[0].t/Kt,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(Yt=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/Kt,0),Jt=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/Kt,0)):(Yt=this.p.pv,Jt=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/Kt,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){Yt=[],Jt=[];var Zt=this.px,er=this.py;Zt._caching.lastFrame+Zt.offsetTime<=Zt.keyframes[0].t?(Yt[0]=Zt.getValueAtTime((Zt.keyframes[0].t+.01)/Kt,0),Yt[1]=er.getValueAtTime((er.keyframes[0].t+.01)/Kt,0),Jt[0]=Zt.getValueAtTime(Zt.keyframes[0].t/Kt,0),Jt[1]=er.getValueAtTime(er.keyframes[0].t/Kt,0)):Zt._caching.lastFrame+Zt.offsetTime>=Zt.keyframes[Zt.keyframes.length-1].t?(Yt[0]=Zt.getValueAtTime(Zt.keyframes[Zt.keyframes.length-1].t/Kt,0),Yt[1]=er.getValueAtTime(er.keyframes[er.keyframes.length-1].t/Kt,0),Jt[0]=Zt.getValueAtTime((Zt.keyframes[Zt.keyframes.length-1].t-.01)/Kt,0),Jt[1]=er.getValueAtTime((er.keyframes[er.keyframes.length-1].t-.01)/Kt,0)):(Yt=[Zt.pv,er.pv],Jt[0]=Zt.getValueAtTime((Zt._caching.lastFrame+Zt.offsetTime-.01)/Kt,Zt.offsetTime),Jt[1]=er.getValueAtTime((er._caching.lastFrame+er.offsetTime-.01)/Kt,er.offsetTime))}else Jt=dt,Yt=Jt;this.v.rotate(-Math.atan2(Yt[1]-Jt[1],Yt[0]-Jt[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function kt(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length)this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1;else return;if(!this.s.effectsSequence.length)this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2;else return;if(this.sk)if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length)this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;else return;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}function Tt(){}function Dt(Ht){this._addDynamicProperty(Ht),this.elem.addDynamicProperty(Ht),this._isDirty=!0}function Ft(Ht,Kt,Yt){if(this.elem=Ht,this.frameId=-1,this.propType="transform",this.data=Kt,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(Yt||Ht),Kt.p&&Kt.p.s?(this.px=PropertyFactory.getProp(Ht,Kt.p.x,0,0,this),this.py=PropertyFactory.getProp(Ht,Kt.p.y,0,0,this),Kt.p.z&&(this.pz=PropertyFactory.getProp(Ht,Kt.p.z,0,0,this))):this.p=PropertyFactory.getProp(Ht,Kt.p||{k:[0,0,0]},1,0,this),Kt.rx){if(this.rx=PropertyFactory.getProp(Ht,Kt.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(Ht,Kt.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(Ht,Kt.rz,0,degToRads,this),Kt.or.k[0].ti){var Jt,Zt=Kt.or.k.length;for(Jt=0;Jt<Zt;Jt+=1)Kt.or.k[Jt].to=null,Kt.or.k[Jt].ti=null}this.or=PropertyFactory.getProp(Ht,Kt.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(Ht,Kt.r||{k:0},0,degToRads,this);Kt.sk&&(this.sk=PropertyFactory.getProp(Ht,Kt.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(Ht,Kt.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(Ht,Kt.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(Ht,Kt.s||{k:[100,100,100]},1,.01,this),Kt.o?this.o=PropertyFactory.getProp(Ht,Kt.o,0,.01,Ht):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}Ft.prototype={applyToMatrix:et,getValue:$t,precalculateMatrix:kt,autoOrient:Tt},extendPrototype([DynamicPropertyContainer],Ft),Ft.prototype.addDynamicProperty=Dt,Ft.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty;function Ut(Ht,Kt,Yt){return new Ft(Ht,Kt,Yt)}return{getTransformProperty:Ut}}();function RepeaterModifier(){}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(dt,et){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(dt,et.c,0,null,this),this.o=PropertyFactory.getProp(dt,et.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(dt,et.tr,this),this.so=PropertyFactory.getProp(dt,et.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(dt,et.tr.eo,0,.01,this),this.data=et,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(dt,et,$t,kt,Tt,Dt){var Ft=Dt?-1:1,Ut=kt.s.v[0]+(1-kt.s.v[0])*(1-Tt),Ht=kt.s.v[1]+(1-kt.s.v[1])*(1-Tt);dt.translate(kt.p.v[0]*Ft*Tt,kt.p.v[1]*Ft*Tt,kt.p.v[2]),et.translate(-kt.a.v[0],-kt.a.v[1],kt.a.v[2]),et.rotate(-kt.r.v*Ft*Tt),et.translate(kt.a.v[0],kt.a.v[1],kt.a.v[2]),$t.translate(-kt.a.v[0],-kt.a.v[1],kt.a.v[2]),$t.scale(Dt?1/Ut:Ut,Dt?1/Ht:Ht),$t.translate(kt.a.v[0],kt.a.v[1],kt.a.v[2])},RepeaterModifier.prototype.init=function(dt,et,$t,kt){for(this.elem=dt,this.arr=et,this.pos=$t,this.elemsData=kt,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(dt),this.initModifierProperties(dt,et[$t]);$t>0;)$t-=1,this._elements.unshift(et[$t]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(dt){var et,$t=dt.length;for(et=0;et<$t;et+=1)dt[et]._processed=!1,dt[et].ty==="gr"&&this.resetElements(dt[et].it)},RepeaterModifier.prototype.cloneElements=function(dt){var et=JSON.parse(JSON.stringify(dt));return this.resetElements(et),et},RepeaterModifier.prototype.changeGroupRender=function(dt,et){var $t,kt=dt.length;for($t=0;$t<kt;$t+=1)dt[$t]._render=et,dt[$t].ty==="gr"&&this.changeGroupRender(dt[$t].it,et)},RepeaterModifier.prototype.processShapes=function(dt){var et,$t,kt,Tt,Dt,Ft=!1;if(this._mdf||dt){var Ut=Math.ceil(this.c.v);if(this._groups.length<Ut){for(;this._groups.length<Ut;){var Ht={it:this.cloneElements(this._elements),ty:"gr"};Ht.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,Ht),this._groups.splice(0,0,Ht),this._currentCopies+=1}this.elem.reloadShapes(),Ft=!0}Dt=0;var Kt;for(kt=0;kt<=this._groups.length-1;kt+=1){if(Kt=Dt<Ut,this._groups[kt]._render=Kt,this.changeGroupRender(this._groups[kt].it,Kt),!Kt){var Yt=this.elemsData[kt].it,Jt=Yt[Yt.length-1];Jt.transform.op.v!==0?(Jt.transform.op._mdf=!0,Jt.transform.op.v=0):Jt.transform.op._mdf=!1}Dt+=1}this._currentCopies=Ut;var Zt=this.o.v,er=Zt%1,rr=Zt>0?Math.floor(Zt):Math.ceil(Zt),sr=this.pMatrix.props,ir=this.rMatrix.props,nr=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var or=0;if(Zt>0){for(;or<rr;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),or+=1;er&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,er,!1),or+=er)}else if(Zt<0){for(;or>rr;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),or-=1;er&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-er,!0),or-=er)}kt=this.data.m===1?0:this._currentCopies-1,Tt=this.data.m===1?1:-1,Dt=this._currentCopies;for(var lr,cr;Dt;){if(et=this.elemsData[kt].it,$t=et[et.length-1].transform.mProps.v.props,cr=$t.length,et[et.length-1].transform.mProps._mdf=!0,et[et.length-1].transform.op._mdf=!0,et[et.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(kt/(this._currentCopies-1)),or!==0){for((kt!==0&&Tt===1||kt!==this._currentCopies-1&&Tt===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(ir[0],ir[1],ir[2],ir[3],ir[4],ir[5],ir[6],ir[7],ir[8],ir[9],ir[10],ir[11],ir[12],ir[13],ir[14],ir[15]),this.matrix.transform(nr[0],nr[1],nr[2],nr[3],nr[4],nr[5],nr[6],nr[7],nr[8],nr[9],nr[10],nr[11],nr[12],nr[13],nr[14],nr[15]),this.matrix.transform(sr[0],sr[1],sr[2],sr[3],sr[4],sr[5],sr[6],sr[7],sr[8],sr[9],sr[10],sr[11],sr[12],sr[13],sr[14],sr[15]),lr=0;lr<cr;lr+=1)$t[lr]=this.matrix.props[lr];this.matrix.reset()}else for(this.matrix.reset(),lr=0;lr<cr;lr+=1)$t[lr]=this.matrix.props[lr];or+=1,Dt-=1,kt+=Tt}}else for(Dt=this._currentCopies,kt=0,Tt=1;Dt;)et=this.elemsData[kt].it,$t=et[et.length-1].transform.mProps.v.props,et[et.length-1].transform.mProps._mdf=!1,et[et.length-1].transform.op._mdf=!1,Dt-=1,kt+=Tt;return Ft},RepeaterModifier.prototype.addShape=function(){};function RoundCornersModifier(){}extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(dt,et){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(dt,et.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(dt,et){var $t=shapePool.newElement();$t.c=dt.c;var kt,Tt=dt._length,Dt,Ft,Ut,Ht,Kt,Yt,Jt=0,Zt,er,rr,sr,ir,nr;for(kt=0;kt<Tt;kt+=1)Dt=dt.v[kt],Ut=dt.o[kt],Ft=dt.i[kt],Dt[0]===Ut[0]&&Dt[1]===Ut[1]&&Dt[0]===Ft[0]&&Dt[1]===Ft[1]?(kt===0||kt===Tt-1)&&!dt.c?($t.setTripleAt(Dt[0],Dt[1],Ut[0],Ut[1],Ft[0],Ft[1],Jt),Jt+=1):(kt===0?Ht=dt.v[Tt-1]:Ht=dt.v[kt-1],Kt=Math.sqrt(Math.pow(Dt[0]-Ht[0],2)+Math.pow(Dt[1]-Ht[1],2)),Yt=Kt?Math.min(Kt/2,et)/Kt:0,ir=Dt[0]+(Ht[0]-Dt[0])*Yt,Zt=ir,nr=Dt[1]-(Dt[1]-Ht[1])*Yt,er=nr,rr=Zt-(Zt-Dt[0])*roundCorner,sr=er-(er-Dt[1])*roundCorner,$t.setTripleAt(Zt,er,rr,sr,ir,nr,Jt),Jt+=1,kt===Tt-1?Ht=dt.v[0]:Ht=dt.v[kt+1],Kt=Math.sqrt(Math.pow(Dt[0]-Ht[0],2)+Math.pow(Dt[1]-Ht[1],2)),Yt=Kt?Math.min(Kt/2,et)/Kt:0,rr=Dt[0]+(Ht[0]-Dt[0])*Yt,Zt=rr,sr=Dt[1]+(Ht[1]-Dt[1])*Yt,er=sr,ir=Zt-(Zt-Dt[0])*roundCorner,nr=er-(er-Dt[1])*roundCorner,$t.setTripleAt(Zt,er,rr,sr,ir,nr,Jt),Jt+=1):($t.setTripleAt(dt.v[kt][0],dt.v[kt][1],dt.o[kt][0],dt.o[kt][1],dt.i[kt][0],dt.i[kt][1],Jt),Jt+=1);return $t},RoundCornersModifier.prototype.processShapes=function(dt){var et,$t,kt=this.shapes.length,Tt,Dt,Ft=this.rd.v;if(Ft!==0){var Ut,Ht;for($t=0;$t<kt;$t+=1){if(Ut=this.shapes[$t],Ht=Ut.localShapeCollection,!(!Ut.shape._mdf&&!this._mdf&&!dt))for(Ht.releaseShapes(),Ut.shape._mdf=!0,et=Ut.shape.paths.shapes,Dt=Ut.shape.paths._length,Tt=0;Tt<Dt;Tt+=1)Ht.addShape(this.processPath(et[Tt],Ft));Ut.shape.paths=Ut.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function floatEqual(dt,et){return Math.abs(dt-et)*1e5<=Math.min(Math.abs(dt),Math.abs(et))}function floatZero(dt){return Math.abs(dt)<=1e-5}function lerp(dt,et,$t){return dt*(1-$t)+et*$t}function lerpPoint(dt,et,$t){return[lerp(dt[0],et[0],$t),lerp(dt[1],et[1],$t)]}function quadRoots(dt,et,$t){if(dt===0)return[];var kt=et*et-4*dt*$t;if(kt<0)return[];var Tt=-et/(2*dt);if(kt===0)return[Tt];var Dt=Math.sqrt(kt)/(2*dt);return[Tt-Dt,Tt+Dt]}function polynomialCoefficients(dt,et,$t,kt){return[-dt+3*et-3*$t+kt,3*dt-6*et+3*$t,-3*dt+3*et,dt]}function singlePoint(dt){return new PolynomialBezier(dt,dt,dt,dt,!1)}function PolynomialBezier(dt,et,$t,kt,Tt){Tt&&pointEqual(dt,et)&&(et=lerpPoint(dt,kt,1/3)),Tt&&pointEqual($t,kt)&&($t=lerpPoint(dt,kt,2/3));var Dt=polynomialCoefficients(dt[0],et[0],$t[0],kt[0]),Ft=polynomialCoefficients(dt[1],et[1],$t[1],kt[1]);this.a=[Dt[0],Ft[0]],this.b=[Dt[1],Ft[1]],this.c=[Dt[2],Ft[2]],this.d=[Dt[3],Ft[3]],this.points=[dt,et,$t,kt]}PolynomialBezier.prototype.point=function(dt){return[((this.a[0]*dt+this.b[0])*dt+this.c[0])*dt+this.d[0],((this.a[1]*dt+this.b[1])*dt+this.c[1])*dt+this.d[1]]},PolynomialBezier.prototype.derivative=function(dt){return[(3*dt*this.a[0]+2*this.b[0])*dt+this.c[0],(3*dt*this.a[1]+2*this.b[1])*dt+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(dt){var et=this.derivative(dt);return Math.atan2(et[1],et[0])},PolynomialBezier.prototype.normalAngle=function(dt){var et=this.derivative(dt);return Math.atan2(et[0],et[1])},PolynomialBezier.prototype.inflectionPoints=function(){var dt=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(dt))return[];var et=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/dt,$t=et*et-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/dt;if($t<0)return[];var kt=Math.sqrt($t);return floatZero(kt)?kt>0&&kt<1?[et]:[]:[et-kt,et+kt].filter(function(Tt){return Tt>0&&Tt<1})},PolynomialBezier.prototype.split=function(dt){if(dt<=0)return[singlePoint(this.points[0]),this];if(dt>=1)return[this,singlePoint(this.points[this.points.length-1])];var et=lerpPoint(this.points[0],this.points[1],dt),$t=lerpPoint(this.points[1],this.points[2],dt),kt=lerpPoint(this.points[2],this.points[3],dt),Tt=lerpPoint(et,$t,dt),Dt=lerpPoint($t,kt,dt),Ft=lerpPoint(Tt,Dt,dt);return[new PolynomialBezier(this.points[0],et,Tt,Ft,!0),new PolynomialBezier(Ft,Dt,kt,this.points[3],!0)]};function extrema(dt,et){var $t=dt.points[0][et],kt=dt.points[dt.points.length-1][et];if($t>kt){var Tt=kt;kt=$t,$t=Tt}for(var Dt=quadRoots(3*dt.a[et],2*dt.b[et],dt.c[et]),Ft=0;Ft<Dt.length;Ft+=1)if(Dt[Ft]>0&&Dt[Ft]<1){var Ut=dt.point(Dt[Ft])[et];Ut<$t?$t=Ut:Ut>kt&&(kt=Ut)}return{min:$t,max:kt}}PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var dt=this.bounds();return{left:dt.x.min,right:dt.x.max,top:dt.y.min,bottom:dt.y.max,width:dt.x.max-dt.x.min,height:dt.y.max-dt.y.min,cx:(dt.x.max+dt.x.min)/2,cy:(dt.y.max+dt.y.min)/2}};function intersectData(dt,et,$t){var kt=dt.boundingBox();return{cx:kt.cx,cy:kt.cy,width:kt.width,height:kt.height,bez:dt,t:(et+$t)/2,t1:et,t2:$t}}function splitData(dt){var et=dt.bez.split(.5);return[intersectData(et[0],dt.t1,dt.t),intersectData(et[1],dt.t,dt.t2)]}function boxIntersect(dt,et){return Math.abs(dt.cx-et.cx)*2<dt.width+et.width&&Math.abs(dt.cy-et.cy)*2<dt.height+et.height}function intersectsImpl(dt,et,$t,kt,Tt,Dt){if(boxIntersect(dt,et)){if($t>=Dt||dt.width<=kt&&dt.height<=kt&&et.width<=kt&&et.height<=kt){Tt.push([dt.t,et.t]);return}var Ft=splitData(dt),Ut=splitData(et);intersectsImpl(Ft[0],Ut[0],$t+1,kt,Tt,Dt),intersectsImpl(Ft[0],Ut[1],$t+1,kt,Tt,Dt),intersectsImpl(Ft[1],Ut[0],$t+1,kt,Tt,Dt),intersectsImpl(Ft[1],Ut[1],$t+1,kt,Tt,Dt)}}PolynomialBezier.prototype.intersections=function(dt,et,$t){et===void 0&&(et=2),$t===void 0&&($t=7);var kt=[];return intersectsImpl(intersectData(this,0,1),intersectData(dt,0,1),0,et,kt,$t),kt},PolynomialBezier.shapeSegment=function(dt,et){var $t=(et+1)%dt.length();return new PolynomialBezier(dt.v[et],dt.o[et],dt.i[$t],dt.v[$t],!0)},PolynomialBezier.shapeSegmentInverted=function(dt,et){var $t=(et+1)%dt.length();return new PolynomialBezier(dt.v[$t],dt.i[$t],dt.o[et],dt.v[et],!0)};function crossProduct(dt,et){return[dt[1]*et[2]-dt[2]*et[1],dt[2]*et[0]-dt[0]*et[2],dt[0]*et[1]-dt[1]*et[0]]}function lineIntersection(dt,et,$t,kt){var Tt=[dt[0],dt[1],1],Dt=[et[0],et[1],1],Ft=[$t[0],$t[1],1],Ut=[kt[0],kt[1],1],Ht=crossProduct(crossProduct(Tt,Dt),crossProduct(Ft,Ut));return floatZero(Ht[2])?null:[Ht[0]/Ht[2],Ht[1]/Ht[2]]}function polarOffset(dt,et,$t){return[dt[0]+Math.cos(et)*$t,dt[1]-Math.sin(et)*$t]}function pointDistance(dt,et){return Math.hypot(dt[0]-et[0],dt[1]-et[1])}function pointEqual(dt,et){return floatEqual(dt[0],et[0])&&floatEqual(dt[1],et[1])}function ZigZagModifier(){}extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(dt,et){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(dt,et.s,0,null,this),this.frequency=PropertyFactory.getProp(dt,et.r,0,null,this),this.pointsType=PropertyFactory.getProp(dt,et.pt,0,null,this),this._isAnimated=this.amplitude.effectsSequence.length!==0||this.frequency.effectsSequence.length!==0||this.pointsType.effectsSequence.length!==0};function setPoint(dt,et,$t,kt,Tt,Dt,Ft){var Ut=$t-Math.PI/2,Ht=$t+Math.PI/2,Kt=et[0]+Math.cos($t)*kt*Tt,Yt=et[1]-Math.sin($t)*kt*Tt;dt.setTripleAt(Kt,Yt,Kt+Math.cos(Ut)*Dt,Yt-Math.sin(Ut)*Dt,Kt+Math.cos(Ht)*Ft,Yt-Math.sin(Ht)*Ft,dt.length())}function getPerpendicularVector(dt,et){var $t=[et[0]-dt[0],et[1]-dt[1]],kt=-Math.PI*.5,Tt=[Math.cos(kt)*$t[0]-Math.sin(kt)*$t[1],Math.sin(kt)*$t[0]+Math.cos(kt)*$t[1]];return Tt}function getProjectingAngle(dt,et){var $t=et===0?dt.length()-1:et-1,kt=(et+1)%dt.length(),Tt=dt.v[$t],Dt=dt.v[kt],Ft=getPerpendicularVector(Tt,Dt);return Math.atan2(0,1)-Math.atan2(Ft[1],Ft[0])}function zigZagCorner(dt,et,$t,kt,Tt,Dt,Ft){var Ut=getProjectingAngle(et,$t),Ht=et.v[$t%et._length],Kt=et.v[$t===0?et._length-1:$t-1],Yt=et.v[($t+1)%et._length],Jt=Dt===2?Math.sqrt(Math.pow(Ht[0]-Kt[0],2)+Math.pow(Ht[1]-Kt[1],2)):0,Zt=Dt===2?Math.sqrt(Math.pow(Ht[0]-Yt[0],2)+Math.pow(Ht[1]-Yt[1],2)):0;setPoint(dt,et.v[$t%et._length],Ut,Ft,kt,Zt/((Tt+1)*2),Jt/((Tt+1)*2))}function zigZagSegment(dt,et,$t,kt,Tt,Dt){for(var Ft=0;Ft<kt;Ft+=1){var Ut=(Ft+1)/(kt+1),Ht=Tt===2?Math.sqrt(Math.pow(et.points[3][0]-et.points[0][0],2)+Math.pow(et.points[3][1]-et.points[0][1],2)):0,Kt=et.normalAngle(Ut),Yt=et.point(Ut);setPoint(dt,Yt,Kt,Dt,$t,Ht/((kt+1)*2),Ht/((kt+1)*2)),Dt=-Dt}return Dt}ZigZagModifier.prototype.processPath=function(dt,et,$t,kt){var Tt=dt._length,Dt=shapePool.newElement();if(Dt.c=dt.c,dt.c||(Tt-=1),Tt===0)return Dt;var Ft=-1,Ut=PolynomialBezier.shapeSegment(dt,0);zigZagCorner(Dt,dt,0,et,$t,kt,Ft);for(var Ht=0;Ht<Tt;Ht+=1)Ft=zigZagSegment(Dt,Ut,et,$t,kt,-Ft),Ht===Tt-1&&!dt.c?Ut=null:Ut=PolynomialBezier.shapeSegment(dt,(Ht+1)%Tt),zigZagCorner(Dt,dt,Ht+1,et,$t,kt,Ft);return Dt},ZigZagModifier.prototype.processShapes=function(dt){var et,$t,kt=this.shapes.length,Tt,Dt,Ft=this.amplitude.v,Ut=Math.max(0,Math.round(this.frequency.v)),Ht=this.pointsType.v;if(Ft!==0){var Kt,Yt;for($t=0;$t<kt;$t+=1){if(Kt=this.shapes[$t],Yt=Kt.localShapeCollection,!(!Kt.shape._mdf&&!this._mdf&&!dt))for(Yt.releaseShapes(),Kt.shape._mdf=!0,et=Kt.shape.paths.shapes,Dt=Kt.shape.paths._length,Tt=0;Tt<Dt;Tt+=1)Yt.addShape(this.processPath(et[Tt],Ft,Ut,Ht));Kt.shape.paths=Kt.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function linearOffset(dt,et,$t){var kt=Math.atan2(et[0]-dt[0],et[1]-dt[1]);return[polarOffset(dt,kt,$t),polarOffset(et,kt,$t)]}function offsetSegment(dt,et){var $t,kt,Tt,Dt,Ft,Ut,Ht;Ht=linearOffset(dt.points[0],dt.points[1],et),$t=Ht[0],kt=Ht[1],Ht=linearOffset(dt.points[1],dt.points[2],et),Tt=Ht[0],Dt=Ht[1],Ht=linearOffset(dt.points[2],dt.points[3],et),Ft=Ht[0],Ut=Ht[1];var Kt=lineIntersection($t,kt,Tt,Dt);Kt===null&&(Kt=kt);var Yt=lineIntersection(Ft,Ut,Tt,Dt);return Yt===null&&(Yt=Ft),new PolynomialBezier($t,Kt,Yt,Ut)}function joinLines(dt,et,$t,kt,Tt){var Dt=et.points[3],Ft=$t.points[0];if(kt===3||pointEqual(Dt,Ft))return Dt;if(kt===2){var Ut=-et.tangentAngle(1),Ht=-$t.tangentAngle(0)+Math.PI,Kt=lineIntersection(Dt,polarOffset(Dt,Ut+Math.PI/2,100),Ft,polarOffset(Ft,Ut+Math.PI/2,100)),Yt=Kt?pointDistance(Kt,Dt):pointDistance(Dt,Ft)/2,Jt=polarOffset(Dt,Ut,2*Yt*roundCorner);return dt.setXYAt(Jt[0],Jt[1],"o",dt.length()-1),Jt=polarOffset(Ft,Ht,2*Yt*roundCorner),dt.setTripleAt(Ft[0],Ft[1],Ft[0],Ft[1],Jt[0],Jt[1],dt.length()),Ft}var Zt=pointEqual(Dt,et.points[2])?et.points[0]:et.points[2],er=pointEqual(Ft,$t.points[1])?$t.points[3]:$t.points[1],rr=lineIntersection(Zt,Dt,Ft,er);return rr&&pointDistance(rr,Dt)<Tt?(dt.setTripleAt(rr[0],rr[1],rr[0],rr[1],rr[0],rr[1],dt.length()),rr):Dt}function getIntersection(dt,et){var $t=dt.intersections(et);return $t.length&&floatEqual($t[0][0],1)&&$t.shift(),$t.length?$t[0]:null}function pruneSegmentIntersection(dt,et){var $t=dt.slice(),kt=et.slice(),Tt=getIntersection(dt[dt.length-1],et[0]);return Tt&&($t[dt.length-1]=dt[dt.length-1].split(Tt[0])[0],kt[0]=et[0].split(Tt[1])[1]),dt.length>1&&et.length>1&&(Tt=getIntersection(dt[0],et[et.length-1]),Tt)?[[dt[0].split(Tt[0])[0]],[et[et.length-1].split(Tt[1])[1]]]:[$t,kt]}function pruneIntersections(dt){for(var et,$t=1;$t<dt.length;$t+=1)et=pruneSegmentIntersection(dt[$t-1],dt[$t]),dt[$t-1]=et[0],dt[$t]=et[1];return dt.length>1&&(et=pruneSegmentIntersection(dt[dt.length-1],dt[0]),dt[dt.length-1]=et[0],dt[0]=et[1]),dt}function offsetSegmentSplit(dt,et){var $t=dt.inflectionPoints(),kt,Tt,Dt,Ft;if($t.length===0)return[offsetSegment(dt,et)];if($t.length===1||floatEqual($t[1],1))return Dt=dt.split($t[0]),kt=Dt[0],Tt=Dt[1],[offsetSegment(kt,et),offsetSegment(Tt,et)];Dt=dt.split($t[0]),kt=Dt[0];var Ut=($t[1]-$t[0])/(1-$t[0]);return Dt=Dt[1].split(Ut),Ft=Dt[0],Tt=Dt[1],[offsetSegment(kt,et),offsetSegment(Ft,et),offsetSegment(Tt,et)]}function OffsetPathModifier(){}extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(dt,et){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(dt,et.a,0,null,this),this.miterLimit=PropertyFactory.getProp(dt,et.ml,0,null,this),this.lineJoin=et.lj,this._isAnimated=this.amount.effectsSequence.length!==0},OffsetPathModifier.prototype.processPath=function(dt,et,$t,kt){var Tt=shapePool.newElement();Tt.c=dt.c;var Dt=dt.length();dt.c||(Dt-=1);var Ft,Ut,Ht,Kt=[];for(Ft=0;Ft<Dt;Ft+=1)Ht=PolynomialBezier.shapeSegment(dt,Ft),Kt.push(offsetSegmentSplit(Ht,et));if(!dt.c)for(Ft=Dt-1;Ft>=0;Ft-=1)Ht=PolynomialBezier.shapeSegmentInverted(dt,Ft),Kt.push(offsetSegmentSplit(Ht,et));Kt=pruneIntersections(Kt);var Yt=null,Jt=null;for(Ft=0;Ft<Kt.length;Ft+=1){var Zt=Kt[Ft];for(Jt&&(Yt=joinLines(Tt,Jt,Zt[0],$t,kt)),Jt=Zt[Zt.length-1],Ut=0;Ut<Zt.length;Ut+=1)Ht=Zt[Ut],Yt&&pointEqual(Ht.points[0],Yt)?Tt.setXYAt(Ht.points[1][0],Ht.points[1][1],"o",Tt.length()-1):Tt.setTripleAt(Ht.points[0][0],Ht.points[0][1],Ht.points[1][0],Ht.points[1][1],Ht.points[0][0],Ht.points[0][1],Tt.length()),Tt.setTripleAt(Ht.points[3][0],Ht.points[3][1],Ht.points[3][0],Ht.points[3][1],Ht.points[2][0],Ht.points[2][1],Tt.length()),Yt=Ht.points[3]}return Kt.length&&joinLines(Tt,Jt,Kt[0][0],$t,kt),Tt},OffsetPathModifier.prototype.processShapes=function(dt){var et,$t,kt=this.shapes.length,Tt,Dt,Ft=this.amount.v,Ut=this.miterLimit.v,Ht=this.lineJoin;if(Ft!==0){var Kt,Yt;for($t=0;$t<kt;$t+=1){if(Kt=this.shapes[$t],Yt=Kt.localShapeCollection,!(!Kt.shape._mdf&&!this._mdf&&!dt))for(Yt.releaseShapes(),Kt.shape._mdf=!0,et=Kt.shape.paths.shapes,Dt=Kt.shape.paths._length,Tt=0;Tt<Dt;Tt+=1)Yt.addShape(this.processPath(et[Tt],Ft,Ht,Ut));Kt.shape.paths=Kt.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function getFontProperties(dt){for(var et=dt.fStyle?dt.fStyle.split(" "):[],$t="normal",kt="normal",Tt=et.length,Dt,Ft=0;Ft<Tt;Ft+=1)switch(Dt=et[Ft].toLowerCase(),Dt){case"italic":kt="italic";break;case"bold":$t="700";break;case"black":$t="900";break;case"medium":$t="500";break;case"regular":case"normal":$t="400";break;case"light":case"thin":$t="200";break}return{style:kt,weight:dt.fWeight||$t}}var FontManager=function(){var dt=5e3,et={w:0,size:0,shapes:[],data:{shapes:[]}},$t=[];$t=$t.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var kt=127988,Tt=917631,Dt=917601,Ft=917626,Ut=65039,Ht=8205,Kt=127462,Yt=127487,Jt=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function Zt(Rr){var Tr=Rr.split(","),xr,wr=Tr.length,zr=[];for(xr=0;xr<wr;xr+=1)Tr[xr]!=="sans-serif"&&Tr[xr]!=="monospace"&&zr.push(Tr[xr]);return zr.join(",")}function er(Rr,Tr){var xr=createTag("span");xr.setAttribute("aria-hidden",!0),xr.style.fontFamily=Tr;var wr=createTag("span");wr.innerText="giItT1WQy@!-/#",xr.style.position="absolute",xr.style.left="-10000px",xr.style.top="-10000px",xr.style.fontSize="300px",xr.style.fontVariant="normal",xr.style.fontStyle="normal",xr.style.fontWeight="normal",xr.style.letterSpacing="0",xr.appendChild(wr),document.body.appendChild(xr);var zr=wr.offsetWidth;return wr.style.fontFamily=Zt(Rr)+", "+Tr,{node:wr,w:zr,parent:xr}}function rr(){var Rr,Tr=this.fonts.length,xr,wr,zr=Tr;for(Rr=0;Rr<Tr;Rr+=1)this.fonts[Rr].loaded?zr-=1:this.fonts[Rr].fOrigin==="n"||this.fonts[Rr].origin===0?this.fonts[Rr].loaded=!0:(xr=this.fonts[Rr].monoCase.node,wr=this.fonts[Rr].monoCase.w,xr.offsetWidth!==wr?(zr-=1,this.fonts[Rr].loaded=!0):(xr=this.fonts[Rr].sansCase.node,wr=this.fonts[Rr].sansCase.w,xr.offsetWidth!==wr&&(zr-=1,this.fonts[Rr].loaded=!0)),this.fonts[Rr].loaded&&(this.fonts[Rr].sansCase.parent.parentNode.removeChild(this.fonts[Rr].sansCase.parent),this.fonts[Rr].monoCase.parent.parentNode.removeChild(this.fonts[Rr].monoCase.parent)));zr!==0&&Date.now()-this.initTime<dt?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function sr(Rr,Tr){var xr=document.body&&Tr?"svg":"canvas",wr,zr=getFontProperties(Rr);if(xr==="svg"){var Hr=createNS("text");Hr.style.fontSize="100px",Hr.setAttribute("font-family",Rr.fFamily),Hr.setAttribute("font-style",zr.style),Hr.setAttribute("font-weight",zr.weight),Hr.textContent="1",Rr.fClass?(Hr.style.fontFamily="inherit",Hr.setAttribute("class",Rr.fClass)):Hr.style.fontFamily=Rr.fFamily,Tr.appendChild(Hr),wr=Hr}else{var Gr=new OffscreenCanvas(500,500).getContext("2d");Gr.font=zr.style+" "+zr.weight+" 100px "+Rr.fFamily,wr=Gr}function Xr(rs){return xr==="svg"?(wr.textContent=rs,wr.getComputedTextLength()):wr.measureText(rs).width}return{measureText:Xr}}function ir(Rr,Tr){if(!Rr){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=Rr.list;return}if(!document.body){this.isLoaded=!0,Rr.list.forEach(function(ms){ms.helper=sr(ms),ms.cache={}}),this.fonts=Rr.list;return}var xr=Rr.list,wr,zr=xr.length,Hr=zr;for(wr=0;wr<zr;wr+=1){var Gr=!0,Xr,rs;if(xr[wr].loaded=!1,xr[wr].monoCase=er(xr[wr].fFamily,"monospace"),xr[wr].sansCase=er(xr[wr].fFamily,"sans-serif"),!xr[wr].fPath)xr[wr].loaded=!0,Hr-=1;else if(xr[wr].fOrigin==="p"||xr[wr].origin===3){if(Xr=document.querySelectorAll('style[f-forigin="p"][f-family="'+xr[wr].fFamily+'"], style[f-origin="3"][f-family="'+xr[wr].fFamily+'"]'),Xr.length>0&&(Gr=!1),Gr){var Yr=createTag("style");Yr.setAttribute("f-forigin",xr[wr].fOrigin),Yr.setAttribute("f-origin",xr[wr].origin),Yr.setAttribute("f-family",xr[wr].fFamily),Yr.type="text/css",Yr.innerText="@font-face {font-family: "+xr[wr].fFamily+"; font-style: normal; src: url('"+xr[wr].fPath+"');}",Tr.appendChild(Yr)}}else if(xr[wr].fOrigin==="g"||xr[wr].origin===1){for(Xr=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),rs=0;rs<Xr.length;rs+=1)Xr[rs].href.indexOf(xr[wr].fPath)!==-1&&(Gr=!1);if(Gr){var es=createTag("link");es.setAttribute("f-forigin",xr[wr].fOrigin),es.setAttribute("f-origin",xr[wr].origin),es.type="text/css",es.rel="stylesheet",es.href=xr[wr].fPath,document.body.appendChild(es)}}else if(xr[wr].fOrigin==="t"||xr[wr].origin===2){for(Xr=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),rs=0;rs<Xr.length;rs+=1)xr[wr].fPath===Xr[rs].src&&(Gr=!1);if(Gr){var ns=createTag("link");ns.setAttribute("f-forigin",xr[wr].fOrigin),ns.setAttribute("f-origin",xr[wr].origin),ns.setAttribute("rel","stylesheet"),ns.setAttribute("href",xr[wr].fPath),Tr.appendChild(ns)}}xr[wr].helper=sr(xr[wr],Tr),xr[wr].cache={},this.fonts.push(xr[wr])}Hr===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function nr(Rr){if(Rr){this.chars||(this.chars=[]);var Tr,xr=Rr.length,wr,zr=this.chars.length,Hr;for(Tr=0;Tr<xr;Tr+=1){for(wr=0,Hr=!1;wr<zr;)this.chars[wr].style===Rr[Tr].style&&this.chars[wr].fFamily===Rr[Tr].fFamily&&this.chars[wr].ch===Rr[Tr].ch&&(Hr=!0),wr+=1;Hr||(this.chars.push(Rr[Tr]),zr+=1)}}}function or(Rr,Tr,xr){for(var wr=0,zr=this.chars.length;wr<zr;){if(this.chars[wr].ch===Rr&&this.chars[wr].style===Tr&&this.chars[wr].fFamily===xr)return this.chars[wr];wr+=1}return(typeof Rr=="string"&&Rr.charCodeAt(0)!==13||!Rr)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",Rr,Tr,xr)),et}function lr(Rr,Tr,xr){var wr=this.getFontByName(Tr),zr=Rr;if(!wr.cache[zr]){var Hr=wr.helper;if(Rr===" "){var Gr=Hr.measureText("|"+Rr+"|"),Xr=Hr.measureText("||");wr.cache[zr]=(Gr-Xr)/100}else wr.cache[zr]=Hr.measureText(Rr)/100}return wr.cache[zr]*xr}function cr(Rr){for(var Tr=0,xr=this.fonts.length;Tr<xr;){if(this.fonts[Tr].fName===Rr)return this.fonts[Tr];Tr+=1}return this.fonts[0]}function dr(Rr){var Tr=0,xr=Rr.charCodeAt(0);if(xr>=55296&&xr<=56319){var wr=Rr.charCodeAt(1);wr>=56320&&wr<=57343&&(Tr=(xr-55296)*1024+wr-56320+65536)}return Tr}function ur(Rr,Tr){var xr=Rr.toString(16)+Tr.toString(16);return Jt.indexOf(xr)!==-1}function pr(Rr){return Rr===Ht}function mr(Rr){return Rr===Ut}function vr(Rr){var Tr=dr(Rr);return Tr>=Kt&&Tr<=Yt}function kr(Rr){return vr(Rr.substr(0,2))&&vr(Rr.substr(2,2))}function br(Rr){return $t.indexOf(Rr)!==-1}function _r(Rr,Tr){var xr=dr(Rr.substr(Tr,2));if(xr!==kt)return!1;var wr=0;for(Tr+=2;wr<5;){if(xr=dr(Rr.substr(Tr,2)),xr<Dt||xr>Ft)return!1;wr+=1,Tr+=2}return dr(Rr.substr(Tr,2))===Tt}function Or(){this.isLoaded=!0}var Pr=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};Pr.isModifier=ur,Pr.isZeroWidthJoiner=pr,Pr.isFlagEmoji=kr,Pr.isRegionalCode=vr,Pr.isCombinedCharacter=br,Pr.isRegionalFlag=_r,Pr.isVariationSelector=mr,Pr.BLACK_FLAG_CODE_POINT=kt;var Mr={addChars:nr,addFonts:ir,getCharData:or,getFontByName:cr,measureText:lr,checkLoadedFonts:rr,setIsLoaded:Or};return Pr.prototype=Mr,Pr}();function SlotManager(dt){this.animationData=dt}SlotManager.prototype.getProp=function(dt){return this.animationData.slots&&this.animationData.slots[dt.sid]?Object.assign(dt,this.animationData.slots[dt.sid].p):dt};function slotFactory(dt){return new SlotManager(dt)}function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(et){this.renderableComponents.indexOf(et)===-1&&this.renderableComponents.push(et)},removeRenderableComponent:function(et){this.renderableComponents.indexOf(et)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(et),1)},prepareRenderableFrame:function(et){this.checkLayerLimits(et)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(et){this.data.ip-this.data.st<=et&&this.data.op-this.data.st>et?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var et,$t=this.renderableComponents.length;for(et=0;et<$t;et+=1)this.renderableComponents[et].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=function(){var dt={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(et){return dt[et]||""}}();function SliderEffect(dt,et,$t){this.p=PropertyFactory.getProp(et,dt.v,0,0,$t)}function AngleEffect(dt,et,$t){this.p=PropertyFactory.getProp(et,dt.v,0,0,$t)}function ColorEffect(dt,et,$t){this.p=PropertyFactory.getProp(et,dt.v,1,0,$t)}function PointEffect(dt,et,$t){this.p=PropertyFactory.getProp(et,dt.v,1,0,$t)}function LayerIndexEffect(dt,et,$t){this.p=PropertyFactory.getProp(et,dt.v,0,0,$t)}function MaskIndexEffect(dt,et,$t){this.p=PropertyFactory.getProp(et,dt.v,0,0,$t)}function CheckboxEffect(dt,et,$t){this.p=PropertyFactory.getProp(et,dt.v,0,0,$t)}function NoValueEffect(){this.p={}}function EffectsManager(dt,et){var $t=dt.ef||[];this.effectElements=[];var kt,Tt=$t.length,Dt;for(kt=0;kt<Tt;kt+=1)Dt=new GroupEffect($t[kt],et),this.effectElements.push(Dt)}function GroupEffect(dt,et){this.init(dt,et)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(dt,et){this.data=dt,this.effectElements=[],this.initDynamicPropertyContainer(et);var $t,kt=this.data.ef.length,Tt,Dt=this.data.ef;for($t=0;$t<kt;$t+=1){switch(Tt=null,Dt[$t].ty){case 0:Tt=new SliderEffect(Dt[$t],et,this);break;case 1:Tt=new AngleEffect(Dt[$t],et,this);break;case 2:Tt=new ColorEffect(Dt[$t],et,this);break;case 3:Tt=new PointEffect(Dt[$t],et,this);break;case 4:case 7:Tt=new CheckboxEffect(Dt[$t],et,this);break;case 10:Tt=new LayerIndexEffect(Dt[$t],et,this);break;case 11:Tt=new MaskIndexEffect(Dt[$t],et,this);break;case 5:Tt=new EffectsManager(Dt[$t],et);break;default:Tt=new NoValueEffect(Dt[$t]);break}Tt&&this.effectElements.push(Tt)}};function BaseElement(){}BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var et=0,$t=this.data.masksProperties.length;et<$t;){if(this.data.masksProperties[et].mode!=="n"&&this.data.masksProperties[et].cl!==!1)return!0;et+=1}return!1},initExpressions:function(){var et=getExpressionInterfaces();if(et){var $t=et("layer"),kt=et("effects"),Tt=et("shape"),Dt=et("text"),Ft=et("comp");this.layerInterface=$t(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var Ut=kt.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(Ut),this.data.ty===0||this.data.xt?this.compInterface=Ft(this):this.data.ty===4?(this.layerInterface.shapeInterface=Tt(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=Dt(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var et=getBlendMode(this.data.bm),$t=this.baseElement||this.layerElement;$t.style["mix-blend-mode"]=et},initBaseData:function(et,$t,kt){this.globalData=$t,this.comp=kt,this.data=et,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}};function FrameElement(){}FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(et,$t){var kt,Tt=this.dynamicProperties.length;for(kt=0;kt<Tt;kt+=1)($t||this._isParent&&this.dynamicProperties[kt].propType==="transform")&&(this.dynamicProperties[kt].getValue(),this.dynamicProperties[kt]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(et){this.dynamicProperties.indexOf(et)===-1&&this.dynamicProperties.push(et)}};function FootageElement(dt,et,$t){this.initFrame(),this.initRenderable(),this.assetData=et.getAssetData(dt.refId),this.footageData=et.imageLoader.getAsset(this.assetData),this.initBaseData(dt,et,$t)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var dt=getExpressionInterfaces();if(dt){var et=dt("footage");this.layerInterface=et(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData};function AudioElement(dt,et,$t){this.initFrame(),this.initRenderable(),this.assetData=et.getAssetData(dt.refId),this.initBaseData(dt,et,$t),this._isPlaying=!1,this._canPlay=!1;var kt=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(kt),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=dt.tm?PropertyFactory.getProp(this,dt.tm,0,et.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,dt.au&&dt.au.lv?dt.au.lv:{k:[100]},1,.01,this)}AudioElement.prototype.prepareFrame=function(dt){if(this.prepareRenderableFrame(dt,!0),this.prepareProperties(dt,!0),this.tm._placeholder)this._currentTime=dt/this.data.sr;else{var et=this.tm.v;this._currentTime=et}this._volume=this.lv.v[0];var $t=this._volume*this._volumeMultiplier;this._previousVolume!==$t&&(this._previousVolume=$t,this.audio.volume($t))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(dt){this.audio.rate(dt)},AudioElement.prototype.volume=function(dt){this._volumeMultiplier=dt,this._previousVolume=dt*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){};function BaseRenderer(){}BaseRenderer.prototype.checkLayers=function(dt){var et,$t=this.layers.length,kt;for(this.completeLayers=!0,et=$t-1;et>=0;et-=1)this.elements[et]||(kt=this.layers[et],kt.ip-kt.st<=dt-this.layers[et].st&&kt.op-kt.st>dt-this.layers[et].st&&this.buildItem(et)),this.completeLayers=this.elements[et]?this.completeLayers:!1;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(dt){switch(dt.ty){case 2:return this.createImage(dt);case 0:return this.createComp(dt);case 1:return this.createSolid(dt);case 3:return this.createNull(dt);case 4:return this.createShape(dt);case 5:return this.createText(dt);case 6:return this.createAudio(dt);case 13:return this.createCamera(dt);case 15:return this.createFootage(dt);default:return this.createNull(dt)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(dt){return new AudioElement(dt,this.globalData,this)},BaseRenderer.prototype.createFootage=function(dt){return new FootageElement(dt,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var dt,et=this.layers.length;for(dt=0;dt<et;dt+=1)this.buildItem(dt);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(dt){this.completeLayers=!1;var et,$t=dt.length,kt,Tt=this.layers.length;for(et=0;et<$t;et+=1)for(kt=0;kt<Tt;){if(this.layers[kt].id===dt[et].id){this.layers[kt]=dt[et];break}kt+=1}},BaseRenderer.prototype.setProjectInterface=function(dt){this.globalData.projectInterface=dt},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(dt,et,$t){for(var kt=this.elements,Tt=this.layers,Dt=0,Ft=Tt.length;Dt<Ft;)Tt[Dt].ind==et&&(!kt[Dt]||kt[Dt]===!0?(this.buildItem(Dt),this.addPendingElement(dt)):($t.push(kt[Dt]),kt[Dt].setAsParent(),Tt[Dt].parent!==void 0?this.buildElementParenting(dt,Tt[Dt].parent,$t):dt.setHierarchy($t))),Dt+=1},BaseRenderer.prototype.addPendingElement=function(dt){this.pendingElements.push(dt)},BaseRenderer.prototype.searchExtraCompositions=function(dt){var et,$t=dt.length;for(et=0;et<$t;et+=1)if(dt[et].xt){var kt=this.createComp(dt[et]);kt.initExpressions(),this.globalData.projectInterface.registerComposition(kt)}},BaseRenderer.prototype.getElementById=function(dt){var et,$t=this.elements.length;for(et=0;et<$t;et+=1)if(this.elements[et].data.ind===dt)return this.elements[et];return null},BaseRenderer.prototype.getElementByPath=function(dt){var et=dt.shift(),$t;if(typeof et=="number")$t=this.elements[et];else{var kt,Tt=this.elements.length;for(kt=0;kt<Tt;kt+=1)if(this.elements[kt].data.nm===et){$t=this.elements[kt];break}}return dt.length===0?$t:$t.getElementByPath(dt)},BaseRenderer.prototype.setupGlobalData=function(dt,et){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(dt),this.globalData.fontManager.addChars(dt.chars),this.globalData.fontManager.addFonts(dt.fonts,et),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=dt.fr,this.globalData.nm=dt.nm,this.globalData.compSize={w:dt.w,h:dt.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}TransformElement.prototype={initTransform:function(){var et=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:et,localMat:et,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var et,$t=this.finalTransform.mat,kt=0,Tt=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;kt<Tt;){if(this.hierarchy[kt].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}kt+=1}if(this.finalTransform._matMdf)for(et=this.finalTransform.mProp.v.props,$t.cloneFromProps(et),kt=0;kt<Tt;kt+=1)$t.multiply(this.hierarchy[kt].finalTransform.mProp.v)}this.finalTransform._matMdf&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var et=0,$t=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;et<$t;)this.localTransforms[et]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[et]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),et+=1;if(this.finalTransform._localMatMdf){var kt=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(kt),et=1;et<$t;et+=1){var Tt=this.localTransforms[et].matrix;kt.multiply(Tt)}kt.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var Dt=this.finalTransform.localOpacity;for(et=0;et<$t;et+=1)Dt*=this.localTransforms[et].opacity*.01;this.finalTransform.localOpacity=Dt}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var et=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(et.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var $t=0,kt=et.length;for($t=0;$t<kt;$t+=1)this.localTransforms.push(et[$t])}}},globalToLocal:function(et){var $t=[];$t.push(this.finalTransform);for(var kt=!0,Tt=this.comp;kt;)Tt.finalTransform?(Tt.data.hasMask&&$t.splice(0,0,Tt.finalTransform),Tt=Tt.comp):kt=!1;var Dt,Ft=$t.length,Ut;for(Dt=0;Dt<Ft;Dt+=1)Ut=$t[Dt].mat.applyToPointArray(0,0,0),et=[et[0]-Ut[0],et[1]-Ut[1],0];return et},mHelper:new Matrix};function MaskElement(dt,et,$t){this.data=dt,this.element=et,this.globalData=$t,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var kt=this.globalData.defs,Tt,Dt=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(Dt),this.solidPath="";var Ft,Ut=this.masksProperties,Ht=0,Kt=[],Yt,Jt,Zt=createElementID(),er,rr,sr,ir,nr="clipPath",or="clip-path";for(Tt=0;Tt<Dt;Tt+=1)if((Ut[Tt].mode!=="a"&&Ut[Tt].mode!=="n"||Ut[Tt].inv||Ut[Tt].o.k!==100||Ut[Tt].o.x)&&(nr="mask",or="mask"),(Ut[Tt].mode==="s"||Ut[Tt].mode==="i")&&Ht===0?(er=createNS("rect"),er.setAttribute("fill","#ffffff"),er.setAttribute("width",this.element.comp.data.w||0),er.setAttribute("height",this.element.comp.data.h||0),Kt.push(er)):er=null,Ft=createNS("path"),Ut[Tt].mode==="n")this.viewData[Tt]={op:PropertyFactory.getProp(this.element,Ut[Tt].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,Ut[Tt],3),elem:Ft,lastPath:""},kt.appendChild(Ft);else{Ht+=1,Ft.setAttribute("fill",Ut[Tt].mode==="s"?"#000000":"#ffffff"),Ft.setAttribute("clip-rule","nonzero");var lr;if(Ut[Tt].x.k!==0?(nr="mask",or="mask",ir=PropertyFactory.getProp(this.element,Ut[Tt].x,0,null,this.element),lr=createElementID(),rr=createNS("filter"),rr.setAttribute("id",lr),sr=createNS("feMorphology"),sr.setAttribute("operator","erode"),sr.setAttribute("in","SourceGraphic"),sr.setAttribute("radius","0"),rr.appendChild(sr),kt.appendChild(rr),Ft.setAttribute("stroke",Ut[Tt].mode==="s"?"#000000":"#ffffff")):(sr=null,ir=null),this.storedData[Tt]={elem:Ft,x:ir,expan:sr,lastPath:"",lastOperator:"",filterId:lr,lastRadius:0},Ut[Tt].mode==="i"){Jt=Kt.length;var cr=createNS("g");for(Yt=0;Yt<Jt;Yt+=1)cr.appendChild(Kt[Yt]);var dr=createNS("mask");dr.setAttribute("mask-type","alpha"),dr.setAttribute("id",Zt+"_"+Ht),dr.appendChild(Ft),kt.appendChild(dr),cr.setAttribute("mask","url("+getLocationHref()+"#"+Zt+"_"+Ht+")"),Kt.length=0,Kt.push(cr)}else Kt.push(Ft);Ut[Tt].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[Tt]={elem:Ft,lastPath:"",op:PropertyFactory.getProp(this.element,Ut[Tt].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,Ut[Tt],3),invRect:er},this.viewData[Tt].prop.k||this.drawPath(Ut[Tt],this.viewData[Tt].prop.v,this.viewData[Tt])}for(this.maskElement=createNS(nr),Dt=Kt.length,Tt=0;Tt<Dt;Tt+=1)this.maskElement.appendChild(Kt[Tt]);Ht>0&&(this.maskElement.setAttribute("id",Zt),this.element.maskedElement.setAttribute(or,"url("+getLocationHref()+"#"+Zt+")"),kt.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}MaskElement.prototype.getMaskProperty=function(dt){return this.viewData[dt].prop},MaskElement.prototype.renderFrame=function(dt){var et=this.element.finalTransform.mat,$t,kt=this.masksProperties.length;for($t=0;$t<kt;$t+=1)if((this.viewData[$t].prop._mdf||dt)&&this.drawPath(this.masksProperties[$t],this.viewData[$t].prop.v,this.viewData[$t]),(this.viewData[$t].op._mdf||dt)&&this.viewData[$t].elem.setAttribute("fill-opacity",this.viewData[$t].op.v),this.masksProperties[$t].mode!=="n"&&(this.viewData[$t].invRect&&(this.element.finalTransform.mProp._mdf||dt)&&this.viewData[$t].invRect.setAttribute("transform",et.getInverseMatrix().to2dCSS()),this.storedData[$t].x&&(this.storedData[$t].x._mdf||dt))){var Tt=this.storedData[$t].expan;this.storedData[$t].x.v<0?(this.storedData[$t].lastOperator!=="erode"&&(this.storedData[$t].lastOperator="erode",this.storedData[$t].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[$t].filterId+")")),Tt.setAttribute("radius",-this.storedData[$t].x.v)):(this.storedData[$t].lastOperator!=="dilate"&&(this.storedData[$t].lastOperator="dilate",this.storedData[$t].elem.setAttribute("filter",null)),this.storedData[$t].elem.setAttribute("stroke-width",this.storedData[$t].x.v*2))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var dt="M0,0 ";return dt+=" h"+this.globalData.compSize.w,dt+=" v"+this.globalData.compSize.h,dt+=" h-"+this.globalData.compSize.w,dt+=" v-"+this.globalData.compSize.h+" ",dt},MaskElement.prototype.drawPath=function(dt,et,$t){var kt=" M"+et.v[0][0]+","+et.v[0][1],Tt,Dt;for(Dt=et._length,Tt=1;Tt<Dt;Tt+=1)kt+=" C"+et.o[Tt-1][0]+","+et.o[Tt-1][1]+" "+et.i[Tt][0]+","+et.i[Tt][1]+" "+et.v[Tt][0]+","+et.v[Tt][1];if(et.c&&Dt>1&&(kt+=" C"+et.o[Tt-1][0]+","+et.o[Tt-1][1]+" "+et.i[0][0]+","+et.i[0][1]+" "+et.v[0][0]+","+et.v[0][1]),$t.lastPath!==kt){var Ft="";$t.elem&&(et.c&&(Ft=dt.inv?this.solidPath+kt:kt),$t.elem.setAttribute("d",Ft)),$t.lastPath=kt}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var dt={};dt.createFilter=et,dt.createAlphaToLuminanceFilter=$t;function et(kt,Tt){var Dt=createNS("filter");return Dt.setAttribute("id",kt),Tt!==!0&&(Dt.setAttribute("filterUnits","objectBoundingBox"),Dt.setAttribute("x","0%"),Dt.setAttribute("y","0%"),Dt.setAttribute("width","100%"),Dt.setAttribute("height","100%")),Dt}function $t(){var kt=createNS("feColorMatrix");return kt.setAttribute("type","matrix"),kt.setAttribute("color-interpolation-filters","sRGB"),kt.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),kt}return dt}(),featureSupport=function(){var dt={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas<"u"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(dt.maskType=!1),/firefox/i.test(navigator.userAgent)&&(dt.svgLumaHidden=!1),dt}(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(dt){var et,$t="SourceGraphic",kt=dt.data.ef?dt.data.ef.length:0,Tt=createElementID(),Dt=filtersFactory.createFilter(Tt,!0),Ft=0;this.filters=[];var Ut;for(et=0;et<kt;et+=1){Ut=null;var Ht=dt.data.ef[et].ty;if(registeredEffects$1[Ht]){var Kt=registeredEffects$1[Ht].effect;Ut=new Kt(Dt,dt.effectsManager.effectElements[et],dt,idPrefix+Ft,$t),$t=idPrefix+Ft,registeredEffects$1[Ht].countsAsEffect&&(Ft+=1)}Ut&&this.filters.push(Ut)}Ft&&(dt.globalData.defs.appendChild(Dt),dt.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+Tt+")")),this.filters.length&&dt.addRenderableComponent(this)}SVGEffects.prototype.renderFrame=function(dt){var et,$t=this.filters.length;for(et=0;et<$t;et+=1)this.filters[et].renderFrame(dt)},SVGEffects.prototype.getEffects=function(dt){var et,$t=this.filters.length,kt=[];for(et=0;et<$t;et+=1)this.filters[et].type===dt&&kt.push(this.filters[et]);return kt};function registerEffect$1(dt,et,$t){registeredEffects$1[dt]={effect:et,countsAsEffect:$t}}function SVGBaseElement(){}SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var et=null;if(this.data.td){this.matteMasks={};var $t=createNS("g");$t.setAttribute("id",this.layerId),$t.appendChild(this.layerElement),et=$t,this.globalData.defs.appendChild($t)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),et=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var kt=createNS("clipPath"),Tt=createNS("path");Tt.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var Dt=createElementID();if(kt.setAttribute("id",Dt),kt.appendChild(Tt),this.globalData.defs.appendChild(kt),this.checkMasks()){var Ft=createNS("g");Ft.setAttribute("clip-path","url("+getLocationHref()+"#"+Dt+")"),Ft.appendChild(this.layerElement),this.transformedElement=Ft,et?et.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+Dt+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(et){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[et]){var $t=this.layerId+"_"+et,kt,Tt,Dt,Ft;if(et===1||et===3){var Ut=createNS("mask");Ut.setAttribute("id",$t),Ut.setAttribute("mask-type",et===3?"luminance":"alpha"),Dt=createNS("use"),Dt.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),Ut.appendChild(Dt),this.globalData.defs.appendChild(Ut),!featureSupport.maskType&&et===1&&(Ut.setAttribute("mask-type","luminance"),kt=createElementID(),Tt=filtersFactory.createFilter(kt),this.globalData.defs.appendChild(Tt),Tt.appendChild(filtersFactory.createAlphaToLuminanceFilter()),Ft=createNS("g"),Ft.appendChild(Dt),Ut.appendChild(Ft),Ft.setAttribute("filter","url("+getLocationHref()+"#"+kt+")"))}else if(et===2){var Ht=createNS("mask");Ht.setAttribute("id",$t),Ht.setAttribute("mask-type","alpha");var Kt=createNS("g");Ht.appendChild(Kt),kt=createElementID(),Tt=filtersFactory.createFilter(kt);var Yt=createNS("feComponentTransfer");Yt.setAttribute("in","SourceGraphic"),Tt.appendChild(Yt);var Jt=createNS("feFuncA");Jt.setAttribute("type","table"),Jt.setAttribute("tableValues","1.0 0.0"),Yt.appendChild(Jt),this.globalData.defs.appendChild(Tt);var Zt=createNS("rect");Zt.setAttribute("width",this.comp.data.w),Zt.setAttribute("height",this.comp.data.h),Zt.setAttribute("x","0"),Zt.setAttribute("y","0"),Zt.setAttribute("fill","#ffffff"),Zt.setAttribute("opacity","0"),Kt.setAttribute("filter","url("+getLocationHref()+"#"+kt+")"),Kt.appendChild(Zt),Dt=createNS("use"),Dt.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),Kt.appendChild(Dt),featureSupport.maskType||(Ht.setAttribute("mask-type","luminance"),Tt.appendChild(filtersFactory.createAlphaToLuminanceFilter()),Ft=createNS("g"),Kt.appendChild(Zt),Ft.appendChild(this.layerElement),Kt.appendChild(Ft)),this.globalData.defs.appendChild(Ht)}this.matteMasks[et]=$t}return this.matteMasks[et]},setMatte:function(et){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+et+")")}};function HierarchyElement(){}HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(et){this.hierarchy=et},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}};function RenderableDOMElement(){}(function(){var dt={initElement:function($t,kt,Tt){this.initFrame(),this.initBaseData($t,kt,Tt),this.initTransform($t,kt,Tt),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var $t=this.baseElement||this.layerElement;$t.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var $t=this.baseElement||this.layerElement;$t.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function($t){this._mdf=!1,this.prepareRenderableFrame($t),this.prepareProperties($t,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};extendPrototype([RenderableElement,createProxyFunction(dt)],RenderableDOMElement)})();function IImageElement(dt,et,$t){this.assetData=et.getAssetData(dt.refId),this.assetData&&this.assetData.sid&&(this.assetData=et.slotManager.getProp(this.assetData)),this.initElement(dt,et,$t),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var dt=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",dt),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect};function ProcessedElement(dt,et){this.elem=dt,this.pos=et}function IShapeElement(){}IShapeElement.prototype={addShapeToModifiers:function(et){var $t,kt=this.shapeModifiers.length;for($t=0;$t<kt;$t+=1)this.shapeModifiers[$t].addShape(et)},isShapeInAnimatedModifiers:function(et){for(var $t=0,kt=this.shapeModifiers.length;$t<kt;)if(this.shapeModifiers[$t].isAnimatedWithShape(et))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var et,$t=this.shapes.length;for(et=0;et<$t;et+=1)this.shapes[et].sh.reset();$t=this.shapeModifiers.length;var kt;for(et=$t-1;et>=0&&(kt=this.shapeModifiers[et].processShapes(this._isFirstFrame),!kt);et-=1);}},searchProcessedElement:function(et){for(var $t=this.processedElements,kt=0,Tt=$t.length;kt<Tt;){if($t[kt].elem===et)return $t[kt].pos;kt+=1}return 0},addProcessedElement:function(et,$t){for(var kt=this.processedElements,Tt=kt.length;Tt;)if(Tt-=1,kt[Tt].elem===et){kt[Tt].pos=$t;return}kt.push(new ProcessedElement(et,$t))},prepareFrame:function(et){this.prepareRenderableFrame(et),this.prepareProperties(et,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(dt,et,$t){this.caches=[],this.styles=[],this.transformers=dt,this.lStr="",this.sh=$t,this.lvl=et,this._isAnimated=!!$t.k;for(var kt=0,Tt=dt.length;kt<Tt;){if(dt[kt].mProps.dynamicProperties.length){this._isAnimated=!0;break}kt+=1}}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0};function SVGStyleData(dt,et){this.data=dt,this.type=dt.ty,this.d="",this.lvl=et,this._mdf=!1,this.closed=dt.hd===!0,this.pElem=createNS("path"),this.msElem=null}SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1};function DashProperty(dt,et,$t,kt){this.elem=dt,this.frameId=-1,this.dataProps=createSizedArray(et.length),this.renderer=$t,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",et.length?et.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(kt);var Tt,Dt=et.length||0,Ft;for(Tt=0;Tt<Dt;Tt+=1)Ft=PropertyFactory.getProp(dt,et[Tt].v,0,0,this),this.k=Ft.k||this.k,this.dataProps[Tt]={n:et[Tt].n,p:Ft};this.k||this.getValue(!0),this._isAnimated=this.k}DashProperty.prototype.getValue=function(dt){if(!(this.elem.globalData.frameId===this.frameId&&!dt)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||dt,this._mdf)){var et=0,$t=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),et=0;et<$t;et+=1)this.dataProps[et].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[et].p.v:this.dashArray[et]=this.dataProps[et].p.v:this.dashoffset[0]=this.dataProps[et].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty);function SVGStrokeStyleData(dt,et,$t){this.initDynamicPropertyContainer(dt),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(dt,et.o,0,.01,this),this.w=PropertyFactory.getProp(dt,et.w,0,null,this),this.d=new DashProperty(dt,et.d||{},"svg",this),this.c=PropertyFactory.getProp(dt,et.c,1,255,this),this.style=$t,this._isAnimated=!!this._isAnimated}extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData);function SVGFillStyleData(dt,et,$t){this.initDynamicPropertyContainer(dt),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(dt,et.o,0,.01,this),this.c=PropertyFactory.getProp(dt,et.c,1,255,this),this.style=$t}extendPrototype([DynamicPropertyContainer],SVGFillStyleData);function SVGNoStyleData(dt,et,$t){this.initDynamicPropertyContainer(dt),this.getValue=this.iterateDynamicProperties,this.style=$t}extendPrototype([DynamicPropertyContainer],SVGNoStyleData);function GradientProperty(dt,et,$t){this.data=et,this.c=createTypedArray("uint8c",et.p*4);var kt=et.k.k[0].s?et.k.k[0].s.length-et.p*4:et.k.k.length-et.p*4;this.o=createTypedArray("float32",kt),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=kt,this.initDynamicPropertyContainer($t),this.prop=PropertyFactory.getProp(dt,et.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}GradientProperty.prototype.comparePoints=function(dt,et){for(var $t=0,kt=this.o.length/2,Tt;$t<kt;){if(Tt=Math.abs(dt[$t*4]-dt[et*4+$t*2]),Tt>.01)return!1;$t+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var dt=0,et=this.data.k.k.length;dt<et;){if(!this.comparePoints(this.data.k.k[dt].s,this.data.p))return!1;dt+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(dt){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||dt){var et,$t=this.data.p*4,kt,Tt;for(et=0;et<$t;et+=1)kt=et%4===0?100:255,Tt=Math.round(this.prop.v[et]*kt),this.c[et]!==Tt&&(this.c[et]=Tt,this._cmdf=!dt);if(this.o.length)for($t=this.prop.v.length,et=this.data.p*4;et<$t;et+=1)kt=et%2===0?100:1,Tt=et%2===0?Math.round(this.prop.v[et]*100):this.prop.v[et],this.o[et-this.data.p*4]!==Tt&&(this.o[et-this.data.p*4]=Tt,this._omdf=!dt);this._mdf=!dt}},extendPrototype([DynamicPropertyContainer],GradientProperty);function SVGGradientFillStyleData(dt,et,$t){this.initDynamicPropertyContainer(dt),this.getValue=this.iterateDynamicProperties,this.initGradientData(dt,et,$t)}SVGGradientFillStyleData.prototype.initGradientData=function(dt,et,$t){this.o=PropertyFactory.getProp(dt,et.o,0,.01,this),this.s=PropertyFactory.getProp(dt,et.s,1,null,this),this.e=PropertyFactory.getProp(dt,et.e,1,null,this),this.h=PropertyFactory.getProp(dt,et.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(dt,et.a||{k:0},0,degToRads,this),this.g=new GradientProperty(dt,et.g,this),this.style=$t,this.stops=[],this.setGradientData($t.pElem,et),this.setGradientOpacity(et,$t),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(dt,et){var $t=createElementID(),kt=createNS(et.t===1?"linearGradient":"radialGradient");kt.setAttribute("id",$t),kt.setAttribute("spreadMethod","pad"),kt.setAttribute("gradientUnits","userSpaceOnUse");var Tt=[],Dt,Ft,Ut;for(Ut=et.g.p*4,Ft=0;Ft<Ut;Ft+=4)Dt=createNS("stop"),kt.appendChild(Dt),Tt.push(Dt);dt.setAttribute(et.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+$t+")"),this.gf=kt,this.cst=Tt},SVGGradientFillStyleData.prototype.setGradientOpacity=function(dt,et){if(this.g._hasOpacity&&!this.g._collapsable){var $t,kt,Tt,Dt=createNS("mask"),Ft=createNS("path");Dt.appendChild(Ft);var Ut=createElementID(),Ht=createElementID();Dt.setAttribute("id",Ht);var Kt=createNS(dt.t===1?"linearGradient":"radialGradient");Kt.setAttribute("id",Ut),Kt.setAttribute("spreadMethod","pad"),Kt.setAttribute("gradientUnits","userSpaceOnUse"),Tt=dt.g.k.k[0].s?dt.g.k.k[0].s.length:dt.g.k.k.length;var Yt=this.stops;for(kt=dt.g.p*4;kt<Tt;kt+=2)$t=createNS("stop"),$t.setAttribute("stop-color","rgb(255,255,255)"),Kt.appendChild($t),Yt.push($t);Ft.setAttribute(dt.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+Ut+")"),dt.ty==="gs"&&(Ft.setAttribute("stroke-linecap",lineCapEnum[dt.lc||2]),Ft.setAttribute("stroke-linejoin",lineJoinEnum[dt.lj||2]),dt.lj===1&&Ft.setAttribute("stroke-miterlimit",dt.ml)),this.of=Kt,this.ms=Dt,this.ost=Yt,this.maskId=Ht,et.msElem=Ft}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData);function SVGGradientStrokeStyleData(dt,et,$t){this.initDynamicPropertyContainer(dt),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(dt,et.w,0,null,this),this.d=new DashProperty(dt,et.d||{},"svg",this),this.initGradientData(dt,et,$t),this._isAnimated=!!this._isAnimated}extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(dt,et,$t){this.transform={mProps:dt,op:et,container:$t},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}var buildShapeString=function(et,$t,kt,Tt){if($t===0)return"";var Dt=et.o,Ft=et.i,Ut=et.v,Ht,Kt=" M"+Tt.applyToPointStringified(Ut[0][0],Ut[0][1]);for(Ht=1;Ht<$t;Ht+=1)Kt+=" C"+Tt.applyToPointStringified(Dt[Ht-1][0],Dt[Ht-1][1])+" "+Tt.applyToPointStringified(Ft[Ht][0],Ft[Ht][1])+" "+Tt.applyToPointStringified(Ut[Ht][0],Ut[Ht][1]);return kt&&$t&&(Kt+=" C"+Tt.applyToPointStringified(Dt[Ht-1][0],Dt[Ht-1][1])+" "+Tt.applyToPointStringified(Ft[0][0],Ft[0][1])+" "+Tt.applyToPointStringified(Ut[0][0],Ut[0][1]),Kt+="z"),Kt},SVGElementsRenderer=function(){var dt=new Matrix,et=new Matrix,$t={createRenderFunction:kt};function kt(Jt){switch(Jt.ty){case"fl":return Ut;case"gf":return Kt;case"gs":return Ht;case"st":return Yt;case"sh":case"el":case"rc":case"sr":return Ft;case"tr":return Tt;case"no":return Dt;default:return null}}function Tt(Jt,Zt,er){(er||Zt.transform.op._mdf)&&Zt.transform.container.setAttribute("opacity",Zt.transform.op.v),(er||Zt.transform.mProps._mdf)&&Zt.transform.container.setAttribute("transform",Zt.transform.mProps.v.to2dCSS())}function Dt(){}function Ft(Jt,Zt,er){var rr,sr,ir,nr,or,lr,cr=Zt.styles.length,dr=Zt.lvl,ur,pr,mr,vr;for(lr=0;lr<cr;lr+=1){if(nr=Zt.sh._mdf||er,Zt.styles[lr].lvl<dr){for(pr=et.reset(),mr=dr-Zt.styles[lr].lvl,vr=Zt.transformers.length-1;!nr&&mr>0;)nr=Zt.transformers[vr].mProps._mdf||nr,mr-=1,vr-=1;if(nr)for(mr=dr-Zt.styles[lr].lvl,vr=Zt.transformers.length-1;mr>0;)pr.multiply(Zt.transformers[vr].mProps.v),mr-=1,vr-=1}else pr=dt;if(ur=Zt.sh.paths,sr=ur._length,nr){for(ir="",rr=0;rr<sr;rr+=1)or=ur.shapes[rr],or&&or._length&&(ir+=buildShapeString(or,or._length,or.c,pr));Zt.caches[lr]=ir}else ir=Zt.caches[lr];Zt.styles[lr].d+=Jt.hd===!0?"":ir,Zt.styles[lr]._mdf=nr||Zt.styles[lr]._mdf}}function Ut(Jt,Zt,er){var rr=Zt.style;(Zt.c._mdf||er)&&rr.pElem.setAttribute("fill","rgb("+bmFloor(Zt.c.v[0])+","+bmFloor(Zt.c.v[1])+","+bmFloor(Zt.c.v[2])+")"),(Zt.o._mdf||er)&&rr.pElem.setAttribute("fill-opacity",Zt.o.v)}function Ht(Jt,Zt,er){Kt(Jt,Zt,er),Yt(Jt,Zt,er)}function Kt(Jt,Zt,er){var rr=Zt.gf,sr=Zt.g._hasOpacity,ir=Zt.s.v,nr=Zt.e.v;if(Zt.o._mdf||er){var or=Jt.ty==="gf"?"fill-opacity":"stroke-opacity";Zt.style.pElem.setAttribute(or,Zt.o.v)}if(Zt.s._mdf||er){var lr=Jt.t===1?"x1":"cx",cr=lr==="x1"?"y1":"cy";rr.setAttribute(lr,ir[0]),rr.setAttribute(cr,ir[1]),sr&&!Zt.g._collapsable&&(Zt.of.setAttribute(lr,ir[0]),Zt.of.setAttribute(cr,ir[1]))}var dr,ur,pr,mr;if(Zt.g._cmdf||er){dr=Zt.cst;var vr=Zt.g.c;for(pr=dr.length,ur=0;ur<pr;ur+=1)mr=dr[ur],mr.setAttribute("offset",vr[ur*4]+"%"),mr.setAttribute("stop-color","rgb("+vr[ur*4+1]+","+vr[ur*4+2]+","+vr[ur*4+3]+")")}if(sr&&(Zt.g._omdf||er)){var kr=Zt.g.o;for(Zt.g._collapsable?dr=Zt.cst:dr=Zt.ost,pr=dr.length,ur=0;ur<pr;ur+=1)mr=dr[ur],Zt.g._collapsable||mr.setAttribute("offset",kr[ur*2]+"%"),mr.setAttribute("stop-opacity",kr[ur*2+1])}if(Jt.t===1)(Zt.e._mdf||er)&&(rr.setAttribute("x2",nr[0]),rr.setAttribute("y2",nr[1]),sr&&!Zt.g._collapsable&&(Zt.of.setAttribute("x2",nr[0]),Zt.of.setAttribute("y2",nr[1])));else{var br;if((Zt.s._mdf||Zt.e._mdf||er)&&(br=Math.sqrt(Math.pow(ir[0]-nr[0],2)+Math.pow(ir[1]-nr[1],2)),rr.setAttribute("r",br),sr&&!Zt.g._collapsable&&Zt.of.setAttribute("r",br)),Zt.e._mdf||Zt.h._mdf||Zt.a._mdf||er){br||(br=Math.sqrt(Math.pow(ir[0]-nr[0],2)+Math.pow(ir[1]-nr[1],2)));var _r=Math.atan2(nr[1]-ir[1],nr[0]-ir[0]),Or=Zt.h.v;Or>=1?Or=.99:Or<=-1&&(Or=-.99);var Pr=br*Or,Mr=Math.cos(_r+Zt.a.v)*Pr+ir[0],Rr=Math.sin(_r+Zt.a.v)*Pr+ir[1];rr.setAttribute("fx",Mr),rr.setAttribute("fy",Rr),sr&&!Zt.g._collapsable&&(Zt.of.setAttribute("fx",Mr),Zt.of.setAttribute("fy",Rr))}}}function Yt(Jt,Zt,er){var rr=Zt.style,sr=Zt.d;sr&&(sr._mdf||er)&&sr.dashStr&&(rr.pElem.setAttribute("stroke-dasharray",sr.dashStr),rr.pElem.setAttribute("stroke-dashoffset",sr.dashoffset[0])),Zt.c&&(Zt.c._mdf||er)&&rr.pElem.setAttribute("stroke","rgb("+bmFloor(Zt.c.v[0])+","+bmFloor(Zt.c.v[1])+","+bmFloor(Zt.c.v[2])+")"),(Zt.o._mdf||er)&&rr.pElem.setAttribute("stroke-opacity",Zt.o.v),(Zt.w._mdf||er)&&(rr.pElem.setAttribute("stroke-width",Zt.w.v),rr.msElem&&rr.msElem.setAttribute("stroke-width",Zt.w.v))}return $t}();function SVGShapeElement(dt,et,$t){this.shapes=[],this.shapesData=dt.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(dt,et,$t),this.prevViewData=[]}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var dt,et=this.shapes.length,$t,kt,Tt=this.stylesList.length,Dt,Ft=[],Ut=!1;for(kt=0;kt<Tt;kt+=1){for(Dt=this.stylesList[kt],Ut=!1,Ft.length=0,dt=0;dt<et;dt+=1)$t=this.shapes[dt],$t.styles.indexOf(Dt)!==-1&&(Ft.push($t),Ut=$t._isAnimated||Ut);Ft.length>1&&Ut&&this.setShapesAsAnimated(Ft)}},SVGShapeElement.prototype.setShapesAsAnimated=function(dt){var et,$t=dt.length;for(et=0;et<$t;et+=1)dt[et].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(dt,et){var $t,kt=new SVGStyleData(dt,et),Tt=kt.pElem;if(dt.ty==="st")$t=new SVGStrokeStyleData(this,dt,kt);else if(dt.ty==="fl")$t=new SVGFillStyleData(this,dt,kt);else if(dt.ty==="gf"||dt.ty==="gs"){var Dt=dt.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData;$t=new Dt(this,dt,kt),this.globalData.defs.appendChild($t.gf),$t.maskId&&(this.globalData.defs.appendChild($t.ms),this.globalData.defs.appendChild($t.of),Tt.setAttribute("mask","url("+getLocationHref()+"#"+$t.maskId+")"))}else dt.ty==="no"&&($t=new SVGNoStyleData(this,dt,kt));return(dt.ty==="st"||dt.ty==="gs")&&(Tt.setAttribute("stroke-linecap",lineCapEnum[dt.lc||2]),Tt.setAttribute("stroke-linejoin",lineJoinEnum[dt.lj||2]),Tt.setAttribute("fill-opacity","0"),dt.lj===1&&Tt.setAttribute("stroke-miterlimit",dt.ml)),dt.r===2&&Tt.setAttribute("fill-rule","evenodd"),dt.ln&&Tt.setAttribute("id",dt.ln),dt.cl&&Tt.setAttribute("class",dt.cl),dt.bm&&(Tt.style["mix-blend-mode"]=getBlendMode(dt.bm)),this.stylesList.push(kt),this.addToAnimatedContents(dt,$t),$t},SVGShapeElement.prototype.createGroupElement=function(dt){var et=new ShapeGroupData;return dt.ln&&et.gr.setAttribute("id",dt.ln),dt.cl&&et.gr.setAttribute("class",dt.cl),dt.bm&&(et.gr.style["mix-blend-mode"]=getBlendMode(dt.bm)),et},SVGShapeElement.prototype.createTransformElement=function(dt,et){var $t=TransformPropertyFactory.getTransformProperty(this,dt,this),kt=new SVGTransformData($t,$t.o,et);return this.addToAnimatedContents(dt,kt),kt},SVGShapeElement.prototype.createShapeElement=function(dt,et,$t){var kt=4;dt.ty==="rc"?kt=5:dt.ty==="el"?kt=6:dt.ty==="sr"&&(kt=7);var Tt=ShapePropertyFactory.getShapeProp(this,dt,kt,this),Dt=new SVGShapeData(et,$t,Tt);return this.shapes.push(Dt),this.addShapeToModifiers(Dt),this.addToAnimatedContents(dt,Dt),Dt},SVGShapeElement.prototype.addToAnimatedContents=function(dt,et){for(var $t=0,kt=this.animatedContents.length;$t<kt;){if(this.animatedContents[$t].element===et)return;$t+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(dt),element:et,data:dt})},SVGShapeElement.prototype.setElementStyles=function(dt){var et=dt.styles,$t,kt=this.stylesList.length;for($t=0;$t<kt;$t+=1)this.stylesList[$t].closed||et.push(this.stylesList[$t])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var dt,et=this.itemsData.length;for(dt=0;dt<et;dt+=1)this.prevViewData[dt]=this.itemsData[dt];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),et=this.dynamicProperties.length,dt=0;dt<et;dt+=1)this.dynamicProperties[dt].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(dt,et,$t,kt,Tt,Dt,Ft){var Ut=[].concat(Dt),Ht,Kt=dt.length-1,Yt,Jt,Zt=[],er=[],rr,sr,ir;for(Ht=Kt;Ht>=0;Ht-=1){if(ir=this.searchProcessedElement(dt[Ht]),ir?et[Ht]=$t[ir-1]:dt[Ht]._render=Ft,dt[Ht].ty==="fl"||dt[Ht].ty==="st"||dt[Ht].ty==="gf"||dt[Ht].ty==="gs"||dt[Ht].ty==="no")ir?et[Ht].style.closed=!1:et[Ht]=this.createStyleElement(dt[Ht],Tt),dt[Ht]._render&&et[Ht].style.pElem.parentNode!==kt&&kt.appendChild(et[Ht].style.pElem),Zt.push(et[Ht].style);else if(dt[Ht].ty==="gr"){if(!ir)et[Ht]=this.createGroupElement(dt[Ht]);else for(Jt=et[Ht].it.length,Yt=0;Yt<Jt;Yt+=1)et[Ht].prevViewData[Yt]=et[Ht].it[Yt];this.searchShapes(dt[Ht].it,et[Ht].it,et[Ht].prevViewData,et[Ht].gr,Tt+1,Ut,Ft),dt[Ht]._render&&et[Ht].gr.parentNode!==kt&&kt.appendChild(et[Ht].gr)}else dt[Ht].ty==="tr"?(ir||(et[Ht]=this.createTransformElement(dt[Ht],kt)),rr=et[Ht].transform,Ut.push(rr)):dt[Ht].ty==="sh"||dt[Ht].ty==="rc"||dt[Ht].ty==="el"||dt[Ht].ty==="sr"?(ir||(et[Ht]=this.createShapeElement(dt[Ht],Ut,Tt)),this.setElementStyles(et[Ht])):dt[Ht].ty==="tm"||dt[Ht].ty==="rd"||dt[Ht].ty==="ms"||dt[Ht].ty==="pb"||dt[Ht].ty==="zz"||dt[Ht].ty==="op"?(ir?(sr=et[Ht],sr.closed=!1):(sr=ShapeModifiers.getModifier(dt[Ht].ty),sr.init(this,dt[Ht]),et[Ht]=sr,this.shapeModifiers.push(sr)),er.push(sr)):dt[Ht].ty==="rp"&&(ir?(sr=et[Ht],sr.closed=!0):(sr=ShapeModifiers.getModifier(dt[Ht].ty),et[Ht]=sr,sr.init(this,dt,Ht,et),this.shapeModifiers.push(sr),Ft=!1),er.push(sr));this.addProcessedElement(dt[Ht],Ht+1)}for(Kt=Zt.length,Ht=0;Ht<Kt;Ht+=1)Zt[Ht].closed=!0;for(Kt=er.length,Ht=0;Ht<Kt;Ht+=1)er[Ht].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var dt,et=this.stylesList.length;for(dt=0;dt<et;dt+=1)this.stylesList[dt].reset();for(this.renderShape(),dt=0;dt<et;dt+=1)(this.stylesList[dt]._mdf||this._isFirstFrame)&&(this.stylesList[dt].msElem&&(this.stylesList[dt].msElem.setAttribute("d",this.stylesList[dt].d),this.stylesList[dt].d="M0 0"+this.stylesList[dt].d),this.stylesList[dt].pElem.setAttribute("d",this.stylesList[dt].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var dt,et=this.animatedContents.length,$t;for(dt=0;dt<et;dt+=1)$t=this.animatedContents[dt],(this._isFirstFrame||$t.element._isAnimated)&&$t.data!==!0&&$t.fn($t.data,$t.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null};function LetterProps(dt,et,$t,kt,Tt,Dt){this.o=dt,this.sw=et,this.sc=$t,this.fc=kt,this.m=Tt,this.p=Dt,this._mdf={o:!0,sw:!!et,sc:!!$t,fc:!!kt,m:!0,p:!0}}LetterProps.prototype.update=function(dt,et,$t,kt,Tt,Dt){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var Ft=!1;return this.o!==dt&&(this.o=dt,this._mdf.o=!0,Ft=!0),this.sw!==et&&(this.sw=et,this._mdf.sw=!0,Ft=!0),this.sc!==$t&&(this.sc=$t,this._mdf.sc=!0,Ft=!0),this.fc!==kt&&(this.fc=kt,this._mdf.fc=!0,Ft=!0),this.m!==Tt&&(this.m=Tt,this._mdf.m=!0,Ft=!0),Dt.length&&(this.p[0]!==Dt[0]||this.p[1]!==Dt[1]||this.p[4]!==Dt[4]||this.p[5]!==Dt[5]||this.p[12]!==Dt[12]||this.p[13]!==Dt[13])&&(this.p=Dt,this._mdf.p=!0,Ft=!0),Ft};function TextProperty(dt,et){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,et.d&&et.d.sid&&(et.d=dt.globalData.slotManager.getProp(et.d)),this.data=et,this.elem=dt,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(dt,et){for(var $t in et)Object.prototype.hasOwnProperty.call(et,$t)&&(dt[$t]=et[$t]);return dt},TextProperty.prototype.setCurrentData=function(dt){dt.__complete||this.completeTextData(dt),this.currentData=dt,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(dt){this.effectsSequence.push(dt),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(dt){if(!((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!dt)){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var et=this.currentData,$t=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return}this.lock=!0,this._mdf=!1;var kt,Tt=this.effectsSequence.length,Dt=dt||this.data.d.k[this.keysIndex].s;for(kt=0;kt<Tt;kt+=1)$t!==this.keysIndex?Dt=this.effectsSequence[kt](Dt,Dt.t):Dt=this.effectsSequence[kt](this.currentData,Dt.t);et!==Dt&&this.setCurrentData(Dt),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var dt=this.data.d.k,et=this.elem.comp.renderedFrame,$t=0,kt=dt.length;$t<=kt-1&&!($t===kt-1||dt[$t+1].t>et);)$t+=1;return this.keysIndex!==$t&&(this.keysIndex=$t),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(dt){for(var et=[],$t=0,kt=dt.length,Tt,Dt,Ft=!1,Ut=!1,Ht="";$t<kt;)Ft=Ut,Ut=!1,Tt=dt.charCodeAt($t),Ht=dt.charAt($t),FontManager.isCombinedCharacter(Tt)?Ft=!0:Tt>=55296&&Tt<=56319?FontManager.isRegionalFlag(dt,$t)?Ht=dt.substr($t,14):(Dt=dt.charCodeAt($t+1),Dt>=56320&&Dt<=57343&&(FontManager.isModifier(Tt,Dt)?(Ht=dt.substr($t,2),Ft=!0):FontManager.isFlagEmoji(dt.substr($t,4))?Ht=dt.substr($t,4):Ht=dt.substr($t,2))):Tt>56319?(Dt=dt.charCodeAt($t+1),FontManager.isVariationSelector(Tt)&&(Ft=!0)):FontManager.isZeroWidthJoiner(Tt)&&(Ft=!0,Ut=!0),Ft?(et[et.length-1]+=Ht,Ft=!1):et.push(Ht),$t+=Ht.length;return et},TextProperty.prototype.completeTextData=function(dt){dt.__complete=!0;var et=this.elem.globalData.fontManager,$t=this.data,kt=[],Tt,Dt,Ft,Ut=0,Ht,Kt=$t.m.g,Yt=0,Jt=0,Zt=0,er=[],rr=0,sr=0,ir,nr,or=et.getFontByName(dt.f),lr,cr=0,dr=getFontProperties(or);dt.fWeight=dr.weight,dt.fStyle=dr.style,dt.finalSize=dt.s,dt.finalText=this.buildFinalText(dt.t),Dt=dt.finalText.length,dt.finalLineHeight=dt.lh;var ur=dt.tr/1e3*dt.finalSize,pr;if(dt.sz)for(var mr=!0,vr=dt.sz[0],kr=dt.sz[1],br,_r;mr;){_r=this.buildFinalText(dt.t),br=0,rr=0,Dt=_r.length,ur=dt.tr/1e3*dt.finalSize;var Or=-1;for(Tt=0;Tt<Dt;Tt+=1)pr=_r[Tt].charCodeAt(0),Ft=!1,_r[Tt]===" "?Or=Tt:(pr===13||pr===3)&&(rr=0,Ft=!0,br+=dt.finalLineHeight||dt.finalSize*1.2),et.chars?(lr=et.getCharData(_r[Tt],or.fStyle,or.fFamily),cr=Ft?0:lr.w*dt.finalSize/100):cr=et.measureText(_r[Tt],dt.f,dt.finalSize),rr+cr>vr&&_r[Tt]!==" "?(Or===-1?Dt+=1:Tt=Or,br+=dt.finalLineHeight||dt.finalSize*1.2,_r.splice(Tt,Or===Tt?1:0,"\r"),Or=-1,rr=0):(rr+=cr,rr+=ur);br+=or.ascent*dt.finalSize/100,this.canResize&&dt.finalSize>this.minimumFontSize&&kr<br?(dt.finalSize-=1,dt.finalLineHeight=dt.finalSize*dt.lh/dt.s):(dt.finalText=_r,Dt=dt.finalText.length,mr=!1)}rr=-ur,cr=0;var Pr=0,Mr;for(Tt=0;Tt<Dt;Tt+=1)if(Ft=!1,Mr=dt.finalText[Tt],pr=Mr.charCodeAt(0),pr===13||pr===3?(Pr=0,er.push(rr),sr=rr>sr?rr:sr,rr=-2*ur,Ht="",Ft=!0,Zt+=1):Ht=Mr,et.chars?(lr=et.getCharData(Mr,or.fStyle,et.getFontByName(dt.f).fFamily),cr=Ft?0:lr.w*dt.finalSize/100):cr=et.measureText(Ht,dt.f,dt.finalSize),Mr===" "?Pr+=cr+ur:(rr+=cr+ur+Pr,Pr=0),kt.push({l:cr,an:cr,add:Yt,n:Ft,anIndexes:[],val:Ht,line:Zt,animatorJustifyOffset:0}),Kt==2){if(Yt+=cr,Ht===""||Ht===" "||Tt===Dt-1){for((Ht===""||Ht===" ")&&(Yt-=cr);Jt<=Tt;)kt[Jt].an=Yt,kt[Jt].ind=Ut,kt[Jt].extra=cr,Jt+=1;Ut+=1,Yt=0}}else if(Kt==3){if(Yt+=cr,Ht===""||Tt===Dt-1){for(Ht===""&&(Yt-=cr);Jt<=Tt;)kt[Jt].an=Yt,kt[Jt].ind=Ut,kt[Jt].extra=cr,Jt+=1;Yt=0,Ut+=1}}else kt[Ut].ind=Ut,kt[Ut].extra=0,Ut+=1;if(dt.l=kt,sr=rr>sr?rr:sr,er.push(rr),dt.sz)dt.boxWidth=dt.sz[0],dt.justifyOffset=0;else switch(dt.boxWidth=sr,dt.j){case 1:dt.justifyOffset=-dt.boxWidth;break;case 2:dt.justifyOffset=-dt.boxWidth/2;break;default:dt.justifyOffset=0}dt.lineWidths=er;var Rr=$t.a,Tr,xr;nr=Rr.length;var wr,zr,Hr=[];for(ir=0;ir<nr;ir+=1){for(Tr=Rr[ir],Tr.a.sc&&(dt.strokeColorAnim=!0),Tr.a.sw&&(dt.strokeWidthAnim=!0),(Tr.a.fc||Tr.a.fh||Tr.a.fs||Tr.a.fb)&&(dt.fillColorAnim=!0),zr=0,wr=Tr.s.b,Tt=0;Tt<Dt;Tt+=1)xr=kt[Tt],xr.anIndexes[ir]=zr,(wr==1&&xr.val!==""||wr==2&&xr.val!==""&&xr.val!==" "||wr==3&&(xr.n||xr.val==" "||Tt==Dt-1)||wr==4&&(xr.n||Tt==Dt-1))&&(Tr.s.rn===1&&Hr.push(zr),zr+=1);$t.a[ir].s.totalChars=zr;var Gr=-1,Xr;if(Tr.s.rn===1)for(Tt=0;Tt<Dt;Tt+=1)xr=kt[Tt],Gr!=xr.anIndexes[ir]&&(Gr=xr.anIndexes[ir],Xr=Hr.splice(Math.floor(Math.random()*Hr.length),1)[0]),xr.anIndexes[ir]=Xr}dt.yOffset=dt.finalLineHeight||dt.finalSize*1.2,dt.ls=dt.ls||0,dt.ascent=or.ascent*dt.finalSize/100},TextProperty.prototype.updateDocumentData=function(dt,et){et=et===void 0?this.keysIndex:et;var $t=this.copyData({},this.data.d.k[et].s);$t=this.copyData($t,dt),this.data.d.k[et].s=$t,this.recalculate(et),this.setCurrentData($t),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(dt){var et=this.data.d.k[dt].s;et.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(et)},TextProperty.prototype.canResizeFont=function(dt){this.canResize=dt,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(dt){this.minimumFontSize=Math.floor(dt)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var dt=Math.max,et=Math.min,$t=Math.floor;function kt(Dt,Ft){this._currentTextLength=-1,this.k=!1,this.data=Ft,this.elem=Dt,this.comp=Dt.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(Dt),this.s=PropertyFactory.getProp(Dt,Ft.s||{k:0},0,0,this),"e"in Ft?this.e=PropertyFactory.getProp(Dt,Ft.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(Dt,Ft.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(Dt,Ft.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(Dt,Ft.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(Dt,Ft.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(Dt,Ft.a,0,.01,this),this.dynamicProperties.length||this.getValue()}kt.prototype={getMult:function(Ft){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var Ut=0,Ht=0,Kt=1,Yt=1;this.ne.v>0?Ut=this.ne.v/100:Ht=-this.ne.v/100,this.xe.v>0?Kt=1-this.xe.v/100:Yt=1+this.xe.v/100;var Jt=BezierFactory.getBezierEasing(Ut,Ht,Kt,Yt).get,Zt=0,er=this.finalS,rr=this.finalE,sr=this.data.sh;if(sr===2)rr===er?Zt=Ft>=rr?1:0:Zt=dt(0,et(.5/(rr-er)+(Ft-er)/(rr-er),1)),Zt=Jt(Zt);else if(sr===3)rr===er?Zt=Ft>=rr?0:1:Zt=1-dt(0,et(.5/(rr-er)+(Ft-er)/(rr-er),1)),Zt=Jt(Zt);else if(sr===4)rr===er?Zt=0:(Zt=dt(0,et(.5/(rr-er)+(Ft-er)/(rr-er),1)),Zt<.5?Zt*=2:Zt=1-2*(Zt-.5)),Zt=Jt(Zt);else if(sr===5){if(rr===er)Zt=0;else{var ir=rr-er;Ft=et(dt(0,Ft+.5-er),rr-er);var nr=-ir/2+Ft,or=ir/2;Zt=Math.sqrt(1-nr*nr/(or*or))}Zt=Jt(Zt)}else sr===6?(rr===er?Zt=0:(Ft=et(dt(0,Ft+.5-er),rr-er),Zt=(1+Math.cos(Math.PI+Math.PI*2*Ft/(rr-er)))/2),Zt=Jt(Zt)):(Ft>=$t(er)&&(Ft-er<0?Zt=dt(0,et(et(rr,1)-(er-Ft),1)):Zt=dt(0,et(rr-Ft,1))),Zt=Jt(Zt));if(this.sm.v!==100){var lr=this.sm.v*.01;lr===0&&(lr=1e-8);var cr=.5-lr*.5;Zt<cr?Zt=0:(Zt=(Zt-cr)/lr,Zt>1&&(Zt=1))}return Zt*this.a.v},getValue:function(Ft){this.iterateDynamicProperties(),this._mdf=Ft||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,Ft&&this.data.r===2&&(this.e.v=this._currentTextLength);var Ut=this.data.r===2?1:100/this.data.totalChars,Ht=this.o.v/Ut,Kt=this.s.v/Ut+Ht,Yt=this.e.v/Ut+Ht;if(Kt>Yt){var Jt=Kt;Kt=Yt,Yt=Jt}this.finalS=Kt,this.finalE=Yt}},extendPrototype([DynamicPropertyContainer],kt);function Tt(Dt,Ft,Ut){return new kt(Dt,Ft)}return{getTextSelectorProp:Tt}}();function TextAnimatorDataProperty(dt,et,$t){var kt={propType:!1},Tt=PropertyFactory.getProp,Dt=et.a;this.a={r:Dt.r?Tt(dt,Dt.r,0,degToRads,$t):kt,rx:Dt.rx?Tt(dt,Dt.rx,0,degToRads,$t):kt,ry:Dt.ry?Tt(dt,Dt.ry,0,degToRads,$t):kt,sk:Dt.sk?Tt(dt,Dt.sk,0,degToRads,$t):kt,sa:Dt.sa?Tt(dt,Dt.sa,0,degToRads,$t):kt,s:Dt.s?Tt(dt,Dt.s,1,.01,$t):kt,a:Dt.a?Tt(dt,Dt.a,1,0,$t):kt,o:Dt.o?Tt(dt,Dt.o,0,.01,$t):kt,p:Dt.p?Tt(dt,Dt.p,1,0,$t):kt,sw:Dt.sw?Tt(dt,Dt.sw,0,0,$t):kt,sc:Dt.sc?Tt(dt,Dt.sc,1,0,$t):kt,fc:Dt.fc?Tt(dt,Dt.fc,1,0,$t):kt,fh:Dt.fh?Tt(dt,Dt.fh,0,0,$t):kt,fs:Dt.fs?Tt(dt,Dt.fs,0,.01,$t):kt,fb:Dt.fb?Tt(dt,Dt.fb,0,.01,$t):kt,t:Dt.t?Tt(dt,Dt.t,0,0,$t):kt},this.s=TextSelectorProp.getTextSelectorProp(dt,et.s,$t),this.s.t=et.s.t}function TextAnimatorProperty(dt,et,$t){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=dt,this._renderType=et,this._elem=$t,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer($t)}TextAnimatorProperty.prototype.searchProperties=function(){var dt,et=this._textData.a.length,$t,kt=PropertyFactory.getProp;for(dt=0;dt<et;dt+=1)$t=this._textData.a[dt],this._animatorsData[dt]=new TextAnimatorDataProperty(this._elem,$t,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:kt(this._elem,this._textData.p.a,0,0,this),f:kt(this._elem,this._textData.p.f,0,0,this),l:kt(this._elem,this._textData.p.l,0,0,this),r:kt(this._elem,this._textData.p.r,0,0,this),p:kt(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=kt(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(dt,et){if(this.lettersChangedFlag=et,!(!this._mdf&&!this._isFirstFrame&&!et&&(!this._hasMaskedPath||!this._pathData.m._mdf))){this._isFirstFrame=!1;var $t=this._moreOptions.alignment.v,kt=this._animatorsData,Tt=this._textData,Dt=this.mHelper,Ft=this._renderType,Ut=this.renderedLetters.length,Ht,Kt,Yt,Jt,Zt=dt.l,er,rr,sr,ir,nr,or,lr,cr,dr,ur,pr,mr,vr,kr,br;if(this._hasMaskedPath){if(br=this._pathData.m,!this._pathData.n||this._pathData._mdf){var _r=br.v;this._pathData.r.v&&(_r=_r.reverse()),er={tLength:0,segments:[]},Jt=_r._length-1;var Or;for(mr=0,Yt=0;Yt<Jt;Yt+=1)Or=bez.buildBezierData(_r.v[Yt],_r.v[Yt+1],[_r.o[Yt][0]-_r.v[Yt][0],_r.o[Yt][1]-_r.v[Yt][1]],[_r.i[Yt+1][0]-_r.v[Yt+1][0],_r.i[Yt+1][1]-_r.v[Yt+1][1]]),er.tLength+=Or.segmentLength,er.segments.push(Or),mr+=Or.segmentLength;Yt=Jt,br.v.c&&(Or=bez.buildBezierData(_r.v[Yt],_r.v[0],[_r.o[Yt][0]-_r.v[Yt][0],_r.o[Yt][1]-_r.v[Yt][1]],[_r.i[0][0]-_r.v[0][0],_r.i[0][1]-_r.v[0][1]]),er.tLength+=Or.segmentLength,er.segments.push(Or),mr+=Or.segmentLength),this._pathData.pi=er}if(er=this._pathData.pi,rr=this._pathData.f.v,lr=0,or=1,ir=0,nr=!0,ur=er.segments,rr<0&&br.v.c)for(er.tLength<Math.abs(rr)&&(rr=-Math.abs(rr)%er.tLength),lr=ur.length-1,dr=ur[lr].points,or=dr.length-1;rr<0;)rr+=dr[or].partialLength,or-=1,or<0&&(lr-=1,dr=ur[lr].points,or=dr.length-1);dr=ur[lr].points,cr=dr[or-1],sr=dr[or],pr=sr.partialLength}Jt=Zt.length,Ht=0,Kt=0;var Pr=dt.finalSize*1.2*.714,Mr=!0,Rr,Tr,xr,wr,zr;wr=kt.length;var Hr,Gr=-1,Xr,rs,Yr,es=rr,ns=lr,ms=or,ls=-1,ds,fs,cs,xs,us,$s,ks,Ds,Cs="",Ts=this.defaultPropsArray,Ns;if(dt.j===2||dt.j===1){var Ms=0,Us=0,Ws=dt.j===2?-.5:-1,Ks=0,Qs=!0;for(Yt=0;Yt<Jt;Yt+=1)if(Zt[Yt].n){for(Ms&&(Ms+=Us);Ks<Yt;)Zt[Ks].animatorJustifyOffset=Ms,Ks+=1;Ms=0,Qs=!0}else{for(xr=0;xr<wr;xr+=1)Rr=kt[xr].a,Rr.t.propType&&(Qs&&dt.j===2&&(Us+=Rr.t.v*Ws),Tr=kt[xr].s,Hr=Tr.getMult(Zt[Yt].anIndexes[xr],Tt.a[xr].s.totalChars),Hr.length?Ms+=Rr.t.v*Hr[0]*Ws:Ms+=Rr.t.v*Hr*Ws);Qs=!1}for(Ms&&(Ms+=Us);Ks<Yt;)Zt[Ks].animatorJustifyOffset=Ms,Ks+=1}for(Yt=0;Yt<Jt;Yt+=1){if(Dt.reset(),ds=1,Zt[Yt].n)Ht=0,Kt+=dt.yOffset,Kt+=Mr?1:0,rr=es,Mr=!1,this._hasMaskedPath&&(lr=ns,or=ms,dr=ur[lr].points,cr=dr[or-1],sr=dr[or],pr=sr.partialLength,ir=0),Cs="",Ds="",$s="",Ns="",Ts=this.defaultPropsArray;else{if(this._hasMaskedPath){if(ls!==Zt[Yt].line){switch(dt.j){case 1:rr+=mr-dt.lineWidths[Zt[Yt].line];break;case 2:rr+=(mr-dt.lineWidths[Zt[Yt].line])/2;break}ls=Zt[Yt].line}Gr!==Zt[Yt].ind&&(Zt[Gr]&&(rr+=Zt[Gr].extra),rr+=Zt[Yt].an/2,Gr=Zt[Yt].ind),rr+=$t[0]*Zt[Yt].an*.005;var qs=0;for(xr=0;xr<wr;xr+=1)Rr=kt[xr].a,Rr.p.propType&&(Tr=kt[xr].s,Hr=Tr.getMult(Zt[Yt].anIndexes[xr],Tt.a[xr].s.totalChars),Hr.length?qs+=Rr.p.v[0]*Hr[0]:qs+=Rr.p.v[0]*Hr),Rr.a.propType&&(Tr=kt[xr].s,Hr=Tr.getMult(Zt[Yt].anIndexes[xr],Tt.a[xr].s.totalChars),Hr.length?qs+=Rr.a.v[0]*Hr[0]:qs+=Rr.a.v[0]*Hr);for(nr=!0,this._pathData.a.v&&(rr=Zt[0].an*.5+(mr-this._pathData.f.v-Zt[0].an*.5-Zt[Zt.length-1].an*.5)*Gr/(Jt-1),rr+=this._pathData.f.v);nr;)ir+pr>=rr+qs||!dr?(vr=(rr+qs-ir)/sr.partialLength,rs=cr.point[0]+(sr.point[0]-cr.point[0])*vr,Yr=cr.point[1]+(sr.point[1]-cr.point[1])*vr,Dt.translate(-$t[0]*Zt[Yt].an*.005,-($t[1]*Pr)*.01),nr=!1):dr&&(ir+=sr.partialLength,or+=1,or>=dr.length&&(or=0,lr+=1,ur[lr]?dr=ur[lr].points:br.v.c?(or=0,lr=0,dr=ur[lr].points):(ir-=sr.partialLength,dr=null)),dr&&(cr=sr,sr=dr[or],pr=sr.partialLength));Xr=Zt[Yt].an/2-Zt[Yt].add,Dt.translate(-Xr,0,0)}else Xr=Zt[Yt].an/2-Zt[Yt].add,Dt.translate(-Xr,0,0),Dt.translate(-$t[0]*Zt[Yt].an*.005,-$t[1]*Pr*.01,0);for(xr=0;xr<wr;xr+=1)Rr=kt[xr].a,Rr.t.propType&&(Tr=kt[xr].s,Hr=Tr.getMult(Zt[Yt].anIndexes[xr],Tt.a[xr].s.totalChars),(Ht!==0||dt.j!==0)&&(this._hasMaskedPath?Hr.length?rr+=Rr.t.v*Hr[0]:rr+=Rr.t.v*Hr:Hr.length?Ht+=Rr.t.v*Hr[0]:Ht+=Rr.t.v*Hr));for(dt.strokeWidthAnim&&(cs=dt.sw||0),dt.strokeColorAnim&&(dt.sc?fs=[dt.sc[0],dt.sc[1],dt.sc[2]]:fs=[0,0,0]),dt.fillColorAnim&&dt.fc&&(xs=[dt.fc[0],dt.fc[1],dt.fc[2]]),xr=0;xr<wr;xr+=1)Rr=kt[xr].a,Rr.a.propType&&(Tr=kt[xr].s,Hr=Tr.getMult(Zt[Yt].anIndexes[xr],Tt.a[xr].s.totalChars),Hr.length?Dt.translate(-Rr.a.v[0]*Hr[0],-Rr.a.v[1]*Hr[1],Rr.a.v[2]*Hr[2]):Dt.translate(-Rr.a.v[0]*Hr,-Rr.a.v[1]*Hr,Rr.a.v[2]*Hr));for(xr=0;xr<wr;xr+=1)Rr=kt[xr].a,Rr.s.propType&&(Tr=kt[xr].s,Hr=Tr.getMult(Zt[Yt].anIndexes[xr],Tt.a[xr].s.totalChars),Hr.length?Dt.scale(1+(Rr.s.v[0]-1)*Hr[0],1+(Rr.s.v[1]-1)*Hr[1],1):Dt.scale(1+(Rr.s.v[0]-1)*Hr,1+(Rr.s.v[1]-1)*Hr,1));for(xr=0;xr<wr;xr+=1){if(Rr=kt[xr].a,Tr=kt[xr].s,Hr=Tr.getMult(Zt[Yt].anIndexes[xr],Tt.a[xr].s.totalChars),Rr.sk.propType&&(Hr.length?Dt.skewFromAxis(-Rr.sk.v*Hr[0],Rr.sa.v*Hr[1]):Dt.skewFromAxis(-Rr.sk.v*Hr,Rr.sa.v*Hr)),Rr.r.propType&&(Hr.length?Dt.rotateZ(-Rr.r.v*Hr[2]):Dt.rotateZ(-Rr.r.v*Hr)),Rr.ry.propType&&(Hr.length?Dt.rotateY(Rr.ry.v*Hr[1]):Dt.rotateY(Rr.ry.v*Hr)),Rr.rx.propType&&(Hr.length?Dt.rotateX(Rr.rx.v*Hr[0]):Dt.rotateX(Rr.rx.v*Hr)),Rr.o.propType&&(Hr.length?ds+=(Rr.o.v*Hr[0]-ds)*Hr[0]:ds+=(Rr.o.v*Hr-ds)*Hr),dt.strokeWidthAnim&&Rr.sw.propType&&(Hr.length?cs+=Rr.sw.v*Hr[0]:cs+=Rr.sw.v*Hr),dt.strokeColorAnim&&Rr.sc.propType)for(us=0;us<3;us+=1)Hr.length?fs[us]+=(Rr.sc.v[us]-fs[us])*Hr[0]:fs[us]+=(Rr.sc.v[us]-fs[us])*Hr;if(dt.fillColorAnim&&dt.fc){if(Rr.fc.propType)for(us=0;us<3;us+=1)Hr.length?xs[us]+=(Rr.fc.v[us]-xs[us])*Hr[0]:xs[us]+=(Rr.fc.v[us]-xs[us])*Hr;Rr.fh.propType&&(Hr.length?xs=addHueToRGB(xs,Rr.fh.v*Hr[0]):xs=addHueToRGB(xs,Rr.fh.v*Hr)),Rr.fs.propType&&(Hr.length?xs=addSaturationToRGB(xs,Rr.fs.v*Hr[0]):xs=addSaturationToRGB(xs,Rr.fs.v*Hr)),Rr.fb.propType&&(Hr.length?xs=addBrightnessToRGB(xs,Rr.fb.v*Hr[0]):xs=addBrightnessToRGB(xs,Rr.fb.v*Hr))}}for(xr=0;xr<wr;xr+=1)Rr=kt[xr].a,Rr.p.propType&&(Tr=kt[xr].s,Hr=Tr.getMult(Zt[Yt].anIndexes[xr],Tt.a[xr].s.totalChars),this._hasMaskedPath?Hr.length?Dt.translate(0,Rr.p.v[1]*Hr[0],-Rr.p.v[2]*Hr[1]):Dt.translate(0,Rr.p.v[1]*Hr,-Rr.p.v[2]*Hr):Hr.length?Dt.translate(Rr.p.v[0]*Hr[0],Rr.p.v[1]*Hr[1],-Rr.p.v[2]*Hr[2]):Dt.translate(Rr.p.v[0]*Hr,Rr.p.v[1]*Hr,-Rr.p.v[2]*Hr));if(dt.strokeWidthAnim&&($s=cs<0?0:cs),dt.strokeColorAnim&&(ks="rgb("+Math.round(fs[0]*255)+","+Math.round(fs[1]*255)+","+Math.round(fs[2]*255)+")"),dt.fillColorAnim&&dt.fc&&(Ds="rgb("+Math.round(xs[0]*255)+","+Math.round(xs[1]*255)+","+Math.round(xs[2]*255)+")"),this._hasMaskedPath){if(Dt.translate(0,-dt.ls),Dt.translate(0,$t[1]*Pr*.01+Kt,0),this._pathData.p.v){kr=(sr.point[1]-cr.point[1])/(sr.point[0]-cr.point[0]);var zs=Math.atan(kr)*180/Math.PI;sr.point[0]<cr.point[0]&&(zs+=180),Dt.rotate(-zs*Math.PI/180)}Dt.translate(rs,Yr,0),rr-=$t[0]*Zt[Yt].an*.005,Zt[Yt+1]&&Gr!==Zt[Yt+1].ind&&(rr+=Zt[Yt].an/2,rr+=dt.tr*.001*dt.finalSize)}else{switch(Dt.translate(Ht,Kt,0),dt.ps&&Dt.translate(dt.ps[0],dt.ps[1]+dt.ascent,0),dt.j){case 1:Dt.translate(Zt[Yt].animatorJustifyOffset+dt.justifyOffset+(dt.boxWidth-dt.lineWidths[Zt[Yt].line]),0,0);break;case 2:Dt.translate(Zt[Yt].animatorJustifyOffset+dt.justifyOffset+(dt.boxWidth-dt.lineWidths[Zt[Yt].line])/2,0,0);break}Dt.translate(0,-dt.ls),Dt.translate(Xr,0,0),Dt.translate($t[0]*Zt[Yt].an*.005,$t[1]*Pr*.01,0),Ht+=Zt[Yt].l+dt.tr*.001*dt.finalSize}Ft==="html"?Cs=Dt.toCSS():Ft==="svg"?Cs=Dt.to2dCSS():Ts=[Dt.props[0],Dt.props[1],Dt.props[2],Dt.props[3],Dt.props[4],Dt.props[5],Dt.props[6],Dt.props[7],Dt.props[8],Dt.props[9],Dt.props[10],Dt.props[11],Dt.props[12],Dt.props[13],Dt.props[14],Dt.props[15]],Ns=ds}Ut<=Yt?(zr=new LetterProps(Ns,$s,ks,Ds,Cs,Ts),this.renderedLetters.push(zr),Ut+=1,this.lettersChangedFlag=!0):(zr=this.renderedLetters[Yt],this.lettersChangedFlag=zr.update(Ns,$s,ks,Ds,Cs,Ts)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty);function ITextElement(){}ITextElement.prototype.initElement=function(dt,et,$t){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(dt,et,$t),this.textProperty=new TextProperty(this,dt.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(dt.t,this.renderType,this),this.initTransform(dt,et,$t),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(dt){this._mdf=!1,this.prepareRenderableFrame(dt),this.prepareProperties(dt,this.isInRange)},ITextElement.prototype.createPathShape=function(dt,et){var $t,kt=et.length,Tt,Dt="";for($t=0;$t<kt;$t+=1)et[$t].ty==="sh"&&(Tt=et[$t].ks.k,Dt+=buildShapeString(Tt,Tt.i.length,!0,dt));return Dt},ITextElement.prototype.updateDocumentData=function(dt,et){this.textProperty.updateDocumentData(dt,et)},ITextElement.prototype.canResizeFont=function(dt){this.textProperty.canResizeFont(dt)},ITextElement.prototype.setMinimumFontSize=function(dt){this.textProperty.setMinimumFontSize(dt)},ITextElement.prototype.applyTextPropertiesToMatrix=function(dt,et,$t,kt,Tt){switch(dt.ps&&et.translate(dt.ps[0],dt.ps[1]+dt.ascent,0),et.translate(0,-dt.ls,0),dt.j){case 1:et.translate(dt.justifyOffset+(dt.boxWidth-dt.lineWidths[$t]),0,0);break;case 2:et.translate(dt.justifyOffset+(dt.boxWidth-dt.lineWidths[$t])/2,0,0);break}et.translate(kt,Tt,0)},ITextElement.prototype.buildColor=function(dt){return"rgb("+Math.round(dt[0]*255)+","+Math.round(dt[1]*255)+","+Math.round(dt[2]*255)+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(dt,et,$t){this.textSpans=[],this.renderType="svg",this.initElement(dt,et,$t)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(dt){for(var et=0,$t=dt.length,kt=[],Tt="";et<$t;)dt[et]===String.fromCharCode(13)||dt[et]===String.fromCharCode(3)?(kt.push(Tt),Tt=""):Tt+=dt[et],et+=1;return kt.push(Tt),kt},SVGTextLottieElement.prototype.buildShapeData=function(dt,et){if(dt.shapes&&dt.shapes.length){var $t=dt.shapes[0];if($t.it){var kt=$t.it[$t.it.length-1];kt.s&&(kt.s.k[0]=et,kt.s.k[1]=et)}}return dt},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var dt,et,$t=this.textProperty.currentData;this.renderedLetters=createSizedArray($t?$t.l.length:0),$t.fc?this.layerElement.setAttribute("fill",this.buildColor($t.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),$t.sc&&(this.layerElement.setAttribute("stroke",this.buildColor($t.sc)),this.layerElement.setAttribute("stroke-width",$t.sw)),this.layerElement.setAttribute("font-size",$t.finalSize);var kt=this.globalData.fontManager.getFontByName($t.f);if(kt.fClass)this.layerElement.setAttribute("class",kt.fClass);else{this.layerElement.setAttribute("font-family",kt.fFamily);var Tt=$t.fWeight,Dt=$t.fStyle;this.layerElement.setAttribute("font-style",Dt),this.layerElement.setAttribute("font-weight",Tt)}this.layerElement.setAttribute("aria-label",$t.t);var Ft=$t.l||[],Ut=!!this.globalData.fontManager.chars;et=Ft.length;var Ht,Kt=this.mHelper,Yt="",Jt=this.data.singleShape,Zt=0,er=0,rr=!0,sr=$t.tr*.001*$t.finalSize;if(Jt&&!Ut&&!$t.sz){var ir=this.textContainer,nr="start";switch($t.j){case 1:nr="end";break;case 2:nr="middle";break;default:nr="start";break}ir.setAttribute("text-anchor",nr),ir.setAttribute("letter-spacing",sr);var or=this.buildTextContents($t.finalText);for(et=or.length,er=$t.ps?$t.ps[1]+$t.ascent:0,dt=0;dt<et;dt+=1)Ht=this.textSpans[dt].span||createNS("tspan"),Ht.textContent=or[dt],Ht.setAttribute("x",0),Ht.setAttribute("y",er),Ht.style.display="inherit",ir.appendChild(Ht),this.textSpans[dt]||(this.textSpans[dt]={span:null,glyph:null}),this.textSpans[dt].span=Ht,er+=$t.finalLineHeight;this.layerElement.appendChild(ir)}else{var lr=this.textSpans.length,cr;for(dt=0;dt<et;dt+=1){if(this.textSpans[dt]||(this.textSpans[dt]={span:null,childSpan:null,glyph:null}),!Ut||!Jt||dt===0){if(Ht=lr>dt?this.textSpans[dt].span:createNS(Ut?"g":"text"),lr<=dt){if(Ht.setAttribute("stroke-linecap","butt"),Ht.setAttribute("stroke-linejoin","round"),Ht.setAttribute("stroke-miterlimit","4"),this.textSpans[dt].span=Ht,Ut){var dr=createNS("g");Ht.appendChild(dr),this.textSpans[dt].childSpan=dr}this.textSpans[dt].span=Ht,this.layerElement.appendChild(Ht)}Ht.style.display="inherit"}if(Kt.reset(),Jt&&(Ft[dt].n&&(Zt=-sr,er+=$t.yOffset,er+=rr?1:0,rr=!1),this.applyTextPropertiesToMatrix($t,Kt,Ft[dt].line,Zt,er),Zt+=Ft[dt].l||0,Zt+=sr),Ut){cr=this.globalData.fontManager.getCharData($t.finalText[dt],kt.fStyle,this.globalData.fontManager.getFontByName($t.f).fFamily);var ur;if(cr.t===1)ur=new SVGCompElement(cr.data,this.globalData,this);else{var pr=emptyShapeData;cr.data&&cr.data.shapes&&(pr=this.buildShapeData(cr.data,$t.finalSize)),ur=new SVGShapeElement(pr,this.globalData,this)}if(this.textSpans[dt].glyph){var mr=this.textSpans[dt].glyph;this.textSpans[dt].childSpan.removeChild(mr.layerElement),mr.destroy()}this.textSpans[dt].glyph=ur,ur._debug=!0,ur.prepareFrame(0),ur.renderFrame(),this.textSpans[dt].childSpan.appendChild(ur.layerElement),cr.t===1&&this.textSpans[dt].childSpan.setAttribute("transform","scale("+$t.finalSize/100+","+$t.finalSize/100+")")}else Jt&&Ht.setAttribute("transform","translate("+Kt.props[12]+","+Kt.props[13]+")"),Ht.textContent=Ft[dt].val,Ht.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}Jt&&Ht&&Ht.setAttribute("d",Yt)}for(;dt<this.textSpans.length;)this.textSpans[dt].span.style.display="none",dt+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var dt=this.layerElement.getBBox();this.bbox={top:dt.y,left:dt.x,width:dt.width,height:dt.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var dt,et=this.textSpans.length,$t;for(this.renderedFrame=this.comp.renderedFrame,dt=0;dt<et;dt+=1)$t=this.textSpans[dt].glyph,$t&&($t.prepareFrame(this.comp.renderedFrame-this.data.st),$t._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var dt,et,$t=this.textAnimator.renderedLetters,kt=this.textProperty.currentData.l;et=kt.length;var Tt,Dt,Ft;for(dt=0;dt<et;dt+=1)kt[dt].n||(Tt=$t[dt],Dt=this.textSpans[dt].span,Ft=this.textSpans[dt].glyph,Ft&&Ft.renderFrame(),Tt._mdf.m&&Dt.setAttribute("transform",Tt.m),Tt._mdf.o&&Dt.setAttribute("opacity",Tt.o),Tt._mdf.sw&&Dt.setAttribute("stroke-width",Tt.sw),Tt._mdf.sc&&Dt.setAttribute("stroke",Tt.sc),Tt._mdf.fc&&Dt.setAttribute("fill",Tt.fc))}};function ISolidElement(dt,et,$t){this.initElement(dt,et,$t)}extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var dt=createNS("rect");dt.setAttribute("width",this.data.sw),dt.setAttribute("height",this.data.sh),dt.setAttribute("fill",this.data.sc),this.layerElement.appendChild(dt)};function NullElement(dt,et,$t){this.initFrame(),this.initBaseData(dt,et,$t),this.initFrame(),this.initTransform(dt,et,$t),this.initHierarchy()}NullElement.prototype.prepareFrame=function(dt){this.prepareProperties(dt,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement);function SVGRendererBase(){}extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(dt){return new NullElement(dt,this.globalData,this)},SVGRendererBase.prototype.createShape=function(dt){return new SVGShapeElement(dt,this.globalData,this)},SVGRendererBase.prototype.createText=function(dt){return new SVGTextLottieElement(dt,this.globalData,this)},SVGRendererBase.prototype.createImage=function(dt){return new IImageElement(dt,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(dt){return new ISolidElement(dt,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(dt){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+dt.w+" "+dt.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",dt.w),this.svgElement.setAttribute("height",dt.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var et=this.globalData.defs;this.setupGlobalData(dt,et),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=dt;var $t=createNS("clipPath"),kt=createNS("rect");kt.setAttribute("width",dt.w),kt.setAttribute("height",dt.h),kt.setAttribute("x",0),kt.setAttribute("y",0);var Tt=createElementID();$t.setAttribute("id",Tt),$t.appendChild(kt),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+Tt+")"),et.appendChild($t),this.layers=dt.layers,this.elements=createSizedArray(dt.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var dt,et=this.layers?this.layers.length:0;for(dt=0;dt<et;dt+=1)this.elements[dt]&&this.elements[dt].destroy&&this.elements[dt].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(dt){var et=0,$t=this.layers.length;for(et=0;et<$t;et+=1)if(this.layers[et].ind===dt)return et;return-1},SVGRendererBase.prototype.buildItem=function(dt){var et=this.elements;if(!(et[dt]||this.layers[dt].ty===99)){et[dt]=!0;var $t=this.createItem(this.layers[dt]);if(et[dt]=$t,getExpressionsPlugin()&&(this.layers[dt].ty===0&&this.globalData.projectInterface.registerComposition($t),$t.initExpressions()),this.appendElementInPos($t,dt),this.layers[dt].tt){var kt="tp"in this.layers[dt]?this.findIndexByInd(this.layers[dt].tp):dt-1;if(kt===-1)return;if(!this.elements[kt]||this.elements[kt]===!0)this.buildItem(kt),this.addPendingElement($t);else{var Tt=et[kt],Dt=Tt.getMatte(this.layers[dt].tt);$t.setMatte(Dt)}}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var dt=this.pendingElements.pop();if(dt.checkParenting(),dt.data.tt)for(var et=0,$t=this.elements.length;et<$t;){if(this.elements[et]===dt){var kt="tp"in dt.data?this.findIndexByInd(dt.data.tp):et-1,Tt=this.elements[kt],Dt=Tt.getMatte(this.layers[et].tt);dt.setMatte(Dt);break}et+=1}}},SVGRendererBase.prototype.renderFrame=function(dt){if(!(this.renderedFrame===dt||this.destroyed)){dt===null?dt=this.renderedFrame:this.renderedFrame=dt,this.globalData.frameNum=dt,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=dt,this.globalData._mdf=!1;var et,$t=this.layers.length;for(this.completeLayers||this.checkLayers(dt),et=$t-1;et>=0;et-=1)(this.completeLayers||this.elements[et])&&this.elements[et].prepareFrame(dt-this.layers[et].st);if(this.globalData._mdf)for(et=0;et<$t;et+=1)(this.completeLayers||this.elements[et])&&this.elements[et].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(dt,et){var $t=dt.getBaseElement();if($t){for(var kt=0,Tt;kt<et;)this.elements[kt]&&this.elements[kt]!==!0&&this.elements[kt].getBaseElement()&&(Tt=this.elements[kt].getBaseElement()),kt+=1;Tt?this.layerElement.insertBefore($t,Tt):this.layerElement.appendChild($t)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"};function ICompElement(){}extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(dt,et,$t){this.initFrame(),this.initBaseData(dt,et,$t),this.initTransform(dt,et,$t),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!et.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(dt){if(this._mdf=!1,this.prepareRenderableFrame(dt),this.prepareProperties(dt,this.isInRange),!(!this.isInRange&&!this.data.xt)){if(this.tm._placeholder)this.renderedFrame=dt/this.data.sr;else{var et=this.tm.v;et===this.data.op&&(et=this.data.op-1),this.renderedFrame=et}var $t,kt=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),$t=kt-1;$t>=0;$t-=1)(this.completeLayers||this.elements[$t])&&(this.elements[$t].prepareFrame(this.renderedFrame-this.layers[$t].st),this.elements[$t]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var dt,et=this.layers.length;for(dt=0;dt<et;dt+=1)(this.completeLayers||this.elements[dt])&&this.elements[dt].renderFrame()},ICompElement.prototype.setElements=function(dt){this.elements=dt},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var dt,et=this.layers.length;for(dt=0;dt<et;dt+=1)this.elements[dt]&&this.elements[dt].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()};function SVGCompElement(dt,et,$t){this.layers=dt.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(dt,et,$t),this.tm=dt.tm?PropertyFactory.getProp(this,dt.tm,0,et.frameRate,this):{_placeholder:!0}}extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(dt){return new SVGCompElement(dt,this.globalData,this)};function SVGRenderer(dt,et){this.animationItem=dt,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var $t="";if(et&&et.title){var kt=createNS("title"),Tt=createElementID();kt.setAttribute("id",Tt),kt.textContent=et.title,this.svgElement.appendChild(kt),$t+=Tt}if(et&&et.description){var Dt=createNS("desc"),Ft=createElementID();Dt.setAttribute("id",Ft),Dt.textContent=et.description,this.svgElement.appendChild(Dt),$t+=" "+Ft}$t&&this.svgElement.setAttribute("aria-labelledby",$t);var Ut=createNS("defs");this.svgElement.appendChild(Ut);var Ht=createNS("g");this.svgElement.appendChild(Ht),this.layerElement=Ht,this.renderConfig={preserveAspectRatio:et&&et.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:et&&et.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:et&&et.contentVisibility||"visible",progressiveLoad:et&&et.progressiveLoad||!1,hideOnTransparent:!(et&&et.hideOnTransparent===!1),viewBoxOnly:et&&et.viewBoxOnly||!1,viewBoxSize:et&&et.viewBoxSize||!1,className:et&&et.className||"",id:et&&et.id||"",focusable:et&&et.focusable,filterSize:{width:et&&et.filterSize&&et.filterSize.width||"100%",height:et&&et.filterSize&&et.filterSize.height||"100%",x:et&&et.filterSize&&et.filterSize.x||"0%",y:et&&et.filterSize&&et.filterSize.y||"0%"},width:et&&et.width,height:et&&et.height,runExpressions:!et||et.runExpressions===void 0||et.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:Ut,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(dt){return new SVGCompElement(dt,this.globalData,this)};function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}ShapeTransformManager.prototype={addTransformSequence:function(et){var $t,kt=et.length,Tt="_";for($t=0;$t<kt;$t+=1)Tt+=et[$t].transform.key+"_";var Dt=this.sequences[Tt];return Dt||(Dt={transforms:[].concat(et),finalTransform:new Matrix,_mdf:!1},this.sequences[Tt]=Dt,this.sequenceList.push(Dt)),Dt},processSequence:function(et,$t){for(var kt=0,Tt=et.transforms.length,Dt=$t;kt<Tt&&!$t;){if(et.transforms[kt].transform.mProps._mdf){Dt=!0;break}kt+=1}if(Dt)for(et.finalTransform.reset(),kt=Tt-1;kt>=0;kt-=1)et.finalTransform.multiply(et.transforms[kt].transform.mProps.v);et._mdf=Dt},processSequences:function(et){var $t,kt=this.sequenceList.length;for($t=0;$t<kt;$t+=1)this.processSequence(this.sequenceList[$t],et)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var et="__lottie_element_luma_buffer",$t=null,kt=null,Tt=null;function Dt(){var Ht=createNS("svg"),Kt=createNS("filter"),Yt=createNS("feColorMatrix");return Kt.setAttribute("id",et),Yt.setAttribute("type","matrix"),Yt.setAttribute("color-interpolation-filters","sRGB"),Yt.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),Kt.appendChild(Yt),Ht.appendChild(Kt),Ht.setAttribute("id",et+"_svg"),featureSupport.svgLumaHidden&&(Ht.style.display="none"),Ht}function Ft(){$t||(Tt=Dt(),document.body.appendChild(Tt),$t=createTag("canvas"),kt=$t.getContext("2d"),kt.filter="url(#"+et+")",kt.fillStyle="rgba(0,0,0,0)",kt.fillRect(0,0,1,1))}function Ut(Ht){return $t||Ft(),$t.width=Ht.width,$t.height=Ht.height,kt.filter="url(#"+et+")",$t}return{load:Ft,get:Ut}};function createCanvas(dt,et){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(dt,et);var $t=createTag("canvas");return $t.width=dt,$t.height=et,$t}var assetLoader=function(){return{loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas}}(),registeredEffects={};function CVEffects(dt){var et,$t=dt.data.ef?dt.data.ef.length:0;this.filters=[];var kt;for(et=0;et<$t;et+=1){kt=null;var Tt=dt.data.ef[et].ty;if(registeredEffects[Tt]){var Dt=registeredEffects[Tt].effect;kt=new Dt(dt.effectsManager.effectElements[et],dt)}kt&&this.filters.push(kt)}this.filters.length&&dt.addRenderableComponent(this)}CVEffects.prototype.renderFrame=function(dt){var et,$t=this.filters.length;for(et=0;et<$t;et+=1)this.filters[et].renderFrame(dt)},CVEffects.prototype.getEffects=function(dt){var et,$t=this.filters.length,kt=[];for(et=0;et<$t;et+=1)this.filters[et].type===dt&&kt.push(this.filters[et]);return kt};function registerEffect(dt,et){registeredEffects[dt]={effect:et}}function CVMaskElement(dt,et){this.data=dt,this.element=et,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var $t,kt=this.masksProperties.length,Tt=!1;for($t=0;$t<kt;$t+=1)this.masksProperties[$t].mode!=="n"&&(Tt=!0),this.viewData[$t]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[$t],3);this.hasMasks=Tt,Tt&&this.element.addRenderableComponent(this)}CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var dt=this.element.finalTransform.mat,et=this.element.canvasContext,$t,kt=this.masksProperties.length,Tt,Dt,Ft;for(et.beginPath(),$t=0;$t<kt;$t+=1)if(this.masksProperties[$t].mode!=="n"){this.masksProperties[$t].inv&&(et.moveTo(0,0),et.lineTo(this.element.globalData.compSize.w,0),et.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),et.lineTo(0,this.element.globalData.compSize.h),et.lineTo(0,0)),Ft=this.viewData[$t].v,Tt=dt.applyToPointArray(Ft.v[0][0],Ft.v[0][1],0),et.moveTo(Tt[0],Tt[1]);var Ut,Ht=Ft._length;for(Ut=1;Ut<Ht;Ut+=1)Dt=dt.applyToTriplePoints(Ft.o[Ut-1],Ft.i[Ut],Ft.v[Ut]),et.bezierCurveTo(Dt[0],Dt[1],Dt[2],Dt[3],Dt[4],Dt[5]);Dt=dt.applyToTriplePoints(Ft.o[Ut-1],Ft.i[0],Ft.v[0]),et.bezierCurveTo(Dt[0],Dt[1],Dt[2],Dt[3],Dt[4],Dt[5])}this.element.globalData.renderer.save(!0),et.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};function CVBaseElement(){}var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var et=this.globalData.canvasContext,$t=assetLoader.createCanvas(et.canvas.width,et.canvas.height);this.buffers.push($t);var kt=assetLoader.createCanvas(et.canvas.width,et.canvas.height);this.buffers.push(kt),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var et=this.globalData;if(et.blendMode!==this.data.bm){et.blendMode=this.data.bm;var $t=getBlendMode(this.data.bm);et.canvasContext.globalCompositeOperation=$t}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(et){et.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var et=this.buffers[0],$t=et.getContext("2d");this.clearCanvas($t),$t.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var et=this.buffers[1],$t=et.getContext("2d");this.clearCanvas($t),$t.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform);var kt=this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1);if(kt.renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var Tt=assetLoader.getLumaCanvas(this.canvasContext.canvas),Dt=Tt.getContext("2d");Dt.drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(Tt,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(et,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(et){if(!(this.hidden||this.data.hd)&&!(this.data.td===1&&!et)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var $t=this.data.ty===0;this.prepareLayer(),this.globalData.renderer.save($t),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore($t),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement;function CVShapeData(dt,et,$t,kt){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var Tt=4;et.ty==="rc"?Tt=5:et.ty==="el"?Tt=6:et.ty==="sr"&&(Tt=7),this.sh=ShapePropertyFactory.getShapeProp(dt,et,Tt,dt);var Dt,Ft=$t.length,Ut;for(Dt=0;Dt<Ft;Dt+=1)$t[Dt].closed||(Ut={transforms:kt.addTransformSequence($t[Dt].transforms),trNodes:[]},this.styledShapes.push(Ut),$t[Dt].elements.push(Ut))}CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated;function CVShapeElement(dt,et,$t){this.shapes=[],this.shapesData=dt.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(dt,et,$t)}extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(dt,et){var $t={data:dt,type:dt.ty,preTransforms:this.transformsManager.addTransformSequence(et),transforms:[],elements:[],closed:dt.hd===!0},kt={};if(dt.ty==="fl"||dt.ty==="st"?(kt.c=PropertyFactory.getProp(this,dt.c,1,255,this),kt.c.k||($t.co="rgb("+bmFloor(kt.c.v[0])+","+bmFloor(kt.c.v[1])+","+bmFloor(kt.c.v[2])+")")):(dt.ty==="gf"||dt.ty==="gs")&&(kt.s=PropertyFactory.getProp(this,dt.s,1,null,this),kt.e=PropertyFactory.getProp(this,dt.e,1,null,this),kt.h=PropertyFactory.getProp(this,dt.h||{k:0},0,.01,this),kt.a=PropertyFactory.getProp(this,dt.a||{k:0},0,degToRads,this),kt.g=new GradientProperty(this,dt.g,this)),kt.o=PropertyFactory.getProp(this,dt.o,0,.01,this),dt.ty==="st"||dt.ty==="gs"){if($t.lc=lineCapEnum[dt.lc||2],$t.lj=lineJoinEnum[dt.lj||2],dt.lj==1&&($t.ml=dt.ml),kt.w=PropertyFactory.getProp(this,dt.w,0,null,this),kt.w.k||($t.wi=kt.w.v),dt.d){var Tt=new DashProperty(this,dt.d,"canvas",this);kt.d=Tt,kt.d.k||($t.da=kt.d.dashArray,$t.do=kt.d.dashoffset[0])}}else $t.r=dt.r===2?"evenodd":"nonzero";return this.stylesList.push($t),kt.style=$t,kt},CVShapeElement.prototype.createGroupElement=function(){var dt={it:[],prevViewData:[]};return dt},CVShapeElement.prototype.createTransformElement=function(dt){var et={transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,dt.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,dt,this)}};return et},CVShapeElement.prototype.createShapeElement=function(dt){var et=new CVShapeData(this,dt,this.stylesList,this.transformsManager);return this.shapes.push(et),this.addShapeToModifiers(et),et},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var dt,et=this.itemsData.length;for(dt=0;dt<et;dt+=1)this.prevViewData[dt]=this.itemsData[dt];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),et=this.dynamicProperties.length,dt=0;dt<et;dt+=1)this.dynamicProperties[dt].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(dt){var et,$t=this.stylesList.length;for(et=0;et<$t;et+=1)this.stylesList[et].closed||this.stylesList[et].transforms.push(dt)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var dt,et=this.stylesList.length;for(dt=0;dt<et;dt+=1)this.stylesList[dt].closed||this.stylesList[dt].transforms.pop()},CVShapeElement.prototype.closeStyles=function(dt){var et,$t=dt.length;for(et=0;et<$t;et+=1)dt[et].closed=!0},CVShapeElement.prototype.searchShapes=function(dt,et,$t,kt,Tt){var Dt,Ft=dt.length-1,Ut,Ht,Kt=[],Yt=[],Jt,Zt,er,rr=[].concat(Tt);for(Dt=Ft;Dt>=0;Dt-=1){if(Jt=this.searchProcessedElement(dt[Dt]),Jt?et[Dt]=$t[Jt-1]:dt[Dt]._shouldRender=kt,dt[Dt].ty==="fl"||dt[Dt].ty==="st"||dt[Dt].ty==="gf"||dt[Dt].ty==="gs")Jt?et[Dt].style.closed=!1:et[Dt]=this.createStyleElement(dt[Dt],rr),Kt.push(et[Dt].style);else if(dt[Dt].ty==="gr"){if(!Jt)et[Dt]=this.createGroupElement(dt[Dt]);else for(Ht=et[Dt].it.length,Ut=0;Ut<Ht;Ut+=1)et[Dt].prevViewData[Ut]=et[Dt].it[Ut];this.searchShapes(dt[Dt].it,et[Dt].it,et[Dt].prevViewData,kt,rr)}else dt[Dt].ty==="tr"?(Jt||(er=this.createTransformElement(dt[Dt]),et[Dt]=er),rr.push(et[Dt]),this.addTransformToStyleList(et[Dt])):dt[Dt].ty==="sh"||dt[Dt].ty==="rc"||dt[Dt].ty==="el"||dt[Dt].ty==="sr"?Jt||(et[Dt]=this.createShapeElement(dt[Dt])):dt[Dt].ty==="tm"||dt[Dt].ty==="rd"||dt[Dt].ty==="pb"||dt[Dt].ty==="zz"||dt[Dt].ty==="op"?(Jt?(Zt=et[Dt],Zt.closed=!1):(Zt=ShapeModifiers.getModifier(dt[Dt].ty),Zt.init(this,dt[Dt]),et[Dt]=Zt,this.shapeModifiers.push(Zt)),Yt.push(Zt)):dt[Dt].ty==="rp"&&(Jt?(Zt=et[Dt],Zt.closed=!0):(Zt=ShapeModifiers.getModifier(dt[Dt].ty),et[Dt]=Zt,Zt.init(this,dt,Dt,et),this.shapeModifiers.push(Zt),kt=!1),Yt.push(Zt));this.addProcessedElement(dt[Dt],Dt+1)}for(this.removeTransformFromStyleList(),this.closeStyles(Kt),Ft=Yt.length,Dt=0;Dt<Ft;Dt+=1)Yt[Dt].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(dt,et){(dt._opMdf||et.op._mdf||this._isFirstFrame)&&(et.opacity=dt.opacity,et.opacity*=et.op.v,et._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var dt,et=this.stylesList.length,$t,kt,Tt,Dt,Ft,Ut,Ht=this.globalData.renderer,Kt=this.globalData.canvasContext,Yt,Jt;for(dt=0;dt<et;dt+=1)if(Jt=this.stylesList[dt],Yt=Jt.type,!((Yt==="st"||Yt==="gs")&&Jt.wi===0||!Jt.data._shouldRender||Jt.coOp===0||this.globalData.currentGlobalAlpha===0)){for(Ht.save(),Ft=Jt.elements,Yt==="st"||Yt==="gs"?(Ht.ctxStrokeStyle(Yt==="st"?Jt.co:Jt.grd),Ht.ctxLineWidth(Jt.wi),Ht.ctxLineCap(Jt.lc),Ht.ctxLineJoin(Jt.lj),Ht.ctxMiterLimit(Jt.ml||0)):Ht.ctxFillStyle(Yt==="fl"?Jt.co:Jt.grd),Ht.ctxOpacity(Jt.coOp),Yt!=="st"&&Yt!=="gs"&&Kt.beginPath(),Ht.ctxTransform(Jt.preTransforms.finalTransform.props),kt=Ft.length,$t=0;$t<kt;$t+=1){for((Yt==="st"||Yt==="gs")&&(Kt.beginPath(),Jt.da&&(Kt.setLineDash(Jt.da),Kt.lineDashOffset=Jt.do)),Ut=Ft[$t].trNodes,Dt=Ut.length,Tt=0;Tt<Dt;Tt+=1)Ut[Tt].t==="m"?Kt.moveTo(Ut[Tt].p[0],Ut[Tt].p[1]):Ut[Tt].t==="c"?Kt.bezierCurveTo(Ut[Tt].pts[0],Ut[Tt].pts[1],Ut[Tt].pts[2],Ut[Tt].pts[3],Ut[Tt].pts[4],Ut[Tt].pts[5]):Kt.closePath();(Yt==="st"||Yt==="gs")&&(Ht.ctxStroke(),Jt.da&&Kt.setLineDash(this.dashResetter))}Yt!=="st"&&Yt!=="gs"&&this.globalData.renderer.ctxFill(Jt.r),Ht.restore()}},CVShapeElement.prototype.renderShape=function(dt,et,$t,kt){var Tt,Dt=et.length-1,Ft;for(Ft=dt,Tt=Dt;Tt>=0;Tt-=1)et[Tt].ty==="tr"?(Ft=$t[Tt].transform,this.renderShapeTransform(dt,Ft)):et[Tt].ty==="sh"||et[Tt].ty==="el"||et[Tt].ty==="rc"||et[Tt].ty==="sr"?this.renderPath(et[Tt],$t[Tt]):et[Tt].ty==="fl"?this.renderFill(et[Tt],$t[Tt],Ft):et[Tt].ty==="st"?this.renderStroke(et[Tt],$t[Tt],Ft):et[Tt].ty==="gf"||et[Tt].ty==="gs"?this.renderGradientFill(et[Tt],$t[Tt],Ft):et[Tt].ty==="gr"?this.renderShape(Ft,et[Tt].it,$t[Tt].it):et[Tt].ty;kt&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(dt,et){if(this._isFirstFrame||et._mdf||dt.transforms._mdf){var $t=dt.trNodes,kt=et.paths,Tt,Dt,Ft,Ut=kt._length;$t.length=0;var Ht=dt.transforms.finalTransform;for(Ft=0;Ft<Ut;Ft+=1){var Kt=kt.shapes[Ft];if(Kt&&Kt.v){for(Dt=Kt._length,Tt=1;Tt<Dt;Tt+=1)Tt===1&&$t.push({t:"m",p:Ht.applyToPointArray(Kt.v[0][0],Kt.v[0][1],0)}),$t.push({t:"c",pts:Ht.applyToTriplePoints(Kt.o[Tt-1],Kt.i[Tt],Kt.v[Tt])});Dt===1&&$t.push({t:"m",p:Ht.applyToPointArray(Kt.v[0][0],Kt.v[0][1],0)}),Kt.c&&Dt&&($t.push({t:"c",pts:Ht.applyToTriplePoints(Kt.o[Tt-1],Kt.i[0],Kt.v[0])}),$t.push({t:"z"}))}}dt.trNodes=$t}},CVShapeElement.prototype.renderPath=function(dt,et){if(dt.hd!==!0&&dt._shouldRender){var $t,kt=et.styledShapes.length;for($t=0;$t<kt;$t+=1)this.renderStyledShape(et.styledShapes[$t],et.sh)}},CVShapeElement.prototype.renderFill=function(dt,et,$t){var kt=et.style;(et.c._mdf||this._isFirstFrame)&&(kt.co="rgb("+bmFloor(et.c.v[0])+","+bmFloor(et.c.v[1])+","+bmFloor(et.c.v[2])+")"),(et.o._mdf||$t._opMdf||this._isFirstFrame)&&(kt.coOp=et.o.v*$t.opacity)},CVShapeElement.prototype.renderGradientFill=function(dt,et,$t){var kt=et.style,Tt;if(!kt.grd||et.g._mdf||et.s._mdf||et.e._mdf||dt.t!==1&&(et.h._mdf||et.a._mdf)){var Dt=this.globalData.canvasContext,Ft=et.s.v,Ut=et.e.v;if(dt.t===1)Tt=Dt.createLinearGradient(Ft[0],Ft[1],Ut[0],Ut[1]);else{var Ht=Math.sqrt(Math.pow(Ft[0]-Ut[0],2)+Math.pow(Ft[1]-Ut[1],2)),Kt=Math.atan2(Ut[1]-Ft[1],Ut[0]-Ft[0]),Yt=et.h.v;Yt>=1?Yt=.99:Yt<=-1&&(Yt=-.99);var Jt=Ht*Yt,Zt=Math.cos(Kt+et.a.v)*Jt+Ft[0],er=Math.sin(Kt+et.a.v)*Jt+Ft[1];Tt=Dt.createRadialGradient(Zt,er,0,Ft[0],Ft[1],Ht)}var rr,sr=dt.g.p,ir=et.g.c,nr=1;for(rr=0;rr<sr;rr+=1)et.g._hasOpacity&&et.g._collapsable&&(nr=et.g.o[rr*2+1]),Tt.addColorStop(ir[rr*4]/100,"rgba("+ir[rr*4+1]+","+ir[rr*4+2]+","+ir[rr*4+3]+","+nr+")");kt.grd=Tt}kt.coOp=et.o.v*$t.opacity},CVShapeElement.prototype.renderStroke=function(dt,et,$t){var kt=et.style,Tt=et.d;Tt&&(Tt._mdf||this._isFirstFrame)&&(kt.da=Tt.dashArray,kt.do=Tt.dashoffset[0]),(et.c._mdf||this._isFirstFrame)&&(kt.co="rgb("+bmFloor(et.c.v[0])+","+bmFloor(et.c.v[1])+","+bmFloor(et.c.v[2])+")"),(et.o._mdf||$t._opMdf||this._isFirstFrame)&&(kt.coOp=et.o.v*$t.opacity),(et.w._mdf||this._isFirstFrame)&&(kt.wi=et.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0};function CVTextElement(dt,et,$t){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(dt,et,$t)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var dt=this.textProperty.currentData;this.renderedLetters=createSizedArray(dt.l?dt.l.length:0);var et=!1;dt.fc?(et=!0,this.values.fill=this.buildColor(dt.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=et;var $t=!1;dt.sc&&($t=!0,this.values.stroke=this.buildColor(dt.sc),this.values.sWidth=dt.sw);var kt=this.globalData.fontManager.getFontByName(dt.f),Tt,Dt,Ft=dt.l,Ut=this.mHelper;this.stroke=$t,this.values.fValue=dt.finalSize+"px "+this.globalData.fontManager.getFontByName(dt.f).fFamily,Dt=dt.finalText.length;var Ht,Kt,Yt,Jt,Zt,er,rr,sr,ir,nr,or=this.data.singleShape,lr=dt.tr*.001*dt.finalSize,cr=0,dr=0,ur=!0,pr=0;for(Tt=0;Tt<Dt;Tt+=1){Ht=this.globalData.fontManager.getCharData(dt.finalText[Tt],kt.fStyle,this.globalData.fontManager.getFontByName(dt.f).fFamily),Kt=Ht&&Ht.data||{},Ut.reset(),or&&Ft[Tt].n&&(cr=-lr,dr+=dt.yOffset,dr+=ur?1:0,ur=!1),Zt=Kt.shapes?Kt.shapes[0].it:[],rr=Zt.length,Ut.scale(dt.finalSize/100,dt.finalSize/100),or&&this.applyTextPropertiesToMatrix(dt,Ut,Ft[Tt].line,cr,dr),ir=createSizedArray(rr-1);var mr=0;for(er=0;er<rr;er+=1)if(Zt[er].ty==="sh"){for(Jt=Zt[er].ks.k.i.length,sr=Zt[er].ks.k,nr=[],Yt=1;Yt<Jt;Yt+=1)Yt===1&&nr.push(Ut.applyToX(sr.v[0][0],sr.v[0][1],0),Ut.applyToY(sr.v[0][0],sr.v[0][1],0)),nr.push(Ut.applyToX(sr.o[Yt-1][0],sr.o[Yt-1][1],0),Ut.applyToY(sr.o[Yt-1][0],sr.o[Yt-1][1],0),Ut.applyToX(sr.i[Yt][0],sr.i[Yt][1],0),Ut.applyToY(sr.i[Yt][0],sr.i[Yt][1],0),Ut.applyToX(sr.v[Yt][0],sr.v[Yt][1],0),Ut.applyToY(sr.v[Yt][0],sr.v[Yt][1],0));nr.push(Ut.applyToX(sr.o[Yt-1][0],sr.o[Yt-1][1],0),Ut.applyToY(sr.o[Yt-1][0],sr.o[Yt-1][1],0),Ut.applyToX(sr.i[0][0],sr.i[0][1],0),Ut.applyToY(sr.i[0][0],sr.i[0][1],0),Ut.applyToX(sr.v[0][0],sr.v[0][1],0),Ut.applyToY(sr.v[0][0],sr.v[0][1],0)),ir[mr]=nr,mr+=1}or&&(cr+=Ft[Tt].l,cr+=lr),this.textSpans[pr]?this.textSpans[pr].elem=ir:this.textSpans[pr]={elem:ir},pr+=1}},CVTextElement.prototype.renderInnerContent=function(){this.validateText();var dt=this.canvasContext;dt.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var et,$t,kt,Tt,Dt,Ft,Ut=this.textAnimator.renderedLetters,Ht=this.textProperty.currentData.l;$t=Ht.length;var Kt,Yt=null,Jt=null,Zt=null,er,rr,sr=this.globalData.renderer;for(et=0;et<$t;et+=1)if(!Ht[et].n){if(Kt=Ut[et],Kt&&(sr.save(),sr.ctxTransform(Kt.p),sr.ctxOpacity(Kt.o)),this.fill){for(Kt&&Kt.fc?Yt!==Kt.fc&&(sr.ctxFillStyle(Kt.fc),Yt=Kt.fc):Yt!==this.values.fill&&(Yt=this.values.fill,sr.ctxFillStyle(this.values.fill)),er=this.textSpans[et].elem,Tt=er.length,this.globalData.canvasContext.beginPath(),kt=0;kt<Tt;kt+=1)for(rr=er[kt],Ft=rr.length,this.globalData.canvasContext.moveTo(rr[0],rr[1]),Dt=2;Dt<Ft;Dt+=6)this.globalData.canvasContext.bezierCurveTo(rr[Dt],rr[Dt+1],rr[Dt+2],rr[Dt+3],rr[Dt+4],rr[Dt+5]);this.globalData.canvasContext.closePath(),sr.ctxFill()}if(this.stroke){for(Kt&&Kt.sw?Zt!==Kt.sw&&(Zt=Kt.sw,sr.ctxLineWidth(Kt.sw)):Zt!==this.values.sWidth&&(Zt=this.values.sWidth,sr.ctxLineWidth(this.values.sWidth)),Kt&&Kt.sc?Jt!==Kt.sc&&(Jt=Kt.sc,sr.ctxStrokeStyle(Kt.sc)):Jt!==this.values.stroke&&(Jt=this.values.stroke,sr.ctxStrokeStyle(this.values.stroke)),er=this.textSpans[et].elem,Tt=er.length,this.globalData.canvasContext.beginPath(),kt=0;kt<Tt;kt+=1)for(rr=er[kt],Ft=rr.length,this.globalData.canvasContext.moveTo(rr[0],rr[1]),Dt=2;Dt<Ft;Dt+=6)this.globalData.canvasContext.bezierCurveTo(rr[Dt],rr[Dt+1],rr[Dt+2],rr[Dt+3],rr[Dt+4],rr[Dt+5]);this.globalData.canvasContext.closePath(),sr.ctxStroke()}Kt&&this.globalData.renderer.restore()}};function CVImageElement(dt,et,$t){this.assetData=et.getAssetData(dt.refId),this.img=et.imageLoader.getAsset(this.assetData),this.initElement(dt,et,$t)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var dt=createTag("canvas");dt.width=this.assetData.w,dt.height=this.assetData.h;var et=dt.getContext("2d"),$t=this.img.width,kt=this.img.height,Tt=$t/kt,Dt=this.assetData.w/this.assetData.h,Ft,Ut,Ht=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;Tt>Dt&&Ht==="xMidYMid slice"||Tt<Dt&&Ht!=="xMidYMid slice"?(Ut=kt,Ft=Ut*Dt):(Ft=$t,Ut=Ft/Dt),et.drawImage(this.img,($t-Ft)/2,(kt-Ut)/2,Ft,Ut,0,0,this.assetData.w,this.assetData.h),this.img=dt}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null};function CVSolidElement(dt,et,$t){this.initElement(dt,et,$t)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)};function CanvasRendererBase(){}extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(dt){return new CVShapeElement(dt,this.globalData,this)},CanvasRendererBase.prototype.createText=function(dt){return new CVTextElement(dt,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(dt){return new CVImageElement(dt,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(dt){return new CVSolidElement(dt,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(dt){dt[0]===1&&dt[1]===0&&dt[4]===0&&dt[5]===1&&dt[12]===0&&dt[13]===0||this.canvasContext.transform(dt[0],dt[1],dt[4],dt[5],dt[12],dt[13])},CanvasRendererBase.prototype.ctxOpacity=function(dt){this.canvasContext.globalAlpha*=dt<0?0:dt},CanvasRendererBase.prototype.ctxFillStyle=function(dt){this.canvasContext.fillStyle=dt},CanvasRendererBase.prototype.ctxStrokeStyle=function(dt){this.canvasContext.strokeStyle=dt},CanvasRendererBase.prototype.ctxLineWidth=function(dt){this.canvasContext.lineWidth=dt},CanvasRendererBase.prototype.ctxLineCap=function(dt){this.canvasContext.lineCap=dt},CanvasRendererBase.prototype.ctxLineJoin=function(dt){this.canvasContext.lineJoin=dt},CanvasRendererBase.prototype.ctxMiterLimit=function(dt){this.canvasContext.miterLimit=dt},CanvasRendererBase.prototype.ctxFill=function(dt){this.canvasContext.fill(dt)},CanvasRendererBase.prototype.ctxFillRect=function(dt,et,$t,kt){this.canvasContext.fillRect(dt,et,$t,kt)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}this.contextData.reset()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(dt){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}dt&&(this.globalData.blendMode="source-over"),this.contextData.restore(dt)},CanvasRendererBase.prototype.configAnimation=function(dt){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var et=this.animationItem.container.style;et.width="100%",et.height="100%";var $t="0px 0px 0px";et.transformOrigin=$t,et.mozTransformOrigin=$t,et.webkitTransformOrigin=$t,et["-webkit-transform"]=$t,et.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=dt,this.layers=dt.layers,this.transformCanvas={w:dt.w,h:dt.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(dt,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(dt.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(dt,et){this.reset();var $t,kt;dt?($t=dt,kt=et,this.canvasContext.canvas.width=$t,this.canvasContext.canvas.height=kt):(this.animationItem.wrapper&&this.animationItem.container?($t=this.animationItem.wrapper.offsetWidth,kt=this.animationItem.wrapper.offsetHeight):($t=this.canvasContext.canvas.width,kt=this.canvasContext.canvas.height),this.canvasContext.canvas.width=$t*this.renderConfig.dpr,this.canvasContext.canvas.height=kt*this.renderConfig.dpr);var Tt,Dt;if(this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var Ft=this.renderConfig.preserveAspectRatio.split(" "),Ut=Ft[1]||"meet",Ht=Ft[0]||"xMidYMid",Kt=Ht.substr(0,4),Yt=Ht.substr(4);Tt=$t/kt,Dt=this.transformCanvas.w/this.transformCanvas.h,Dt>Tt&&Ut==="meet"||Dt<Tt&&Ut==="slice"?(this.transformCanvas.sx=$t/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=$t/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=kt/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=kt/(this.transformCanvas.h/this.renderConfig.dpr)),Kt==="xMid"&&(Dt<Tt&&Ut==="meet"||Dt>Tt&&Ut==="slice")?this.transformCanvas.tx=($t-this.transformCanvas.w*(kt/this.transformCanvas.h))/2*this.renderConfig.dpr:Kt==="xMax"&&(Dt<Tt&&Ut==="meet"||Dt>Tt&&Ut==="slice")?this.transformCanvas.tx=($t-this.transformCanvas.w*(kt/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,Yt==="YMid"&&(Dt>Tt&&Ut==="meet"||Dt<Tt&&Ut==="slice")?this.transformCanvas.ty=(kt-this.transformCanvas.h*($t/this.transformCanvas.w))/2*this.renderConfig.dpr:Yt==="YMax"&&(Dt>Tt&&Ut==="meet"||Dt<Tt&&Ut==="slice")?this.transformCanvas.ty=(kt-this.transformCanvas.h*($t/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=$t/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=kt/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");var dt,et=this.layers?this.layers.length:0;for(dt=et-1;dt>=0;dt-=1)this.elements[dt]&&this.elements[dt].destroy&&this.elements[dt].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(dt,et){if(!(this.renderedFrame===dt&&this.renderConfig.clearCanvas===!0&&!et||this.destroyed||dt===-1)){this.renderedFrame=dt,this.globalData.frameNum=dt-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||et,this.globalData.projectInterface.currentFrame=dt;var $t,kt=this.layers.length;for(this.completeLayers||this.checkLayers(dt),$t=kt-1;$t>=0;$t-=1)(this.completeLayers||this.elements[$t])&&this.elements[$t].prepareFrame(dt-this.layers[$t].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),$t=kt-1;$t>=0;$t-=1)(this.completeLayers||this.elements[$t])&&this.elements[$t].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(dt){var et=this.elements;if(!(et[dt]||this.layers[dt].ty===99)){var $t=this.createItem(this.layers[dt],this,this.globalData);et[dt]=$t,$t.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var dt=this.pendingElements.pop();dt.checkParenting()}},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"};function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){this.stack=[],this.cArrPos=0,this.cTr=new Matrix;var dt,et=15;for(dt=0;dt<et;dt+=1){var $t=new CanvasContext;this.stack[dt]=$t}this._length=et,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}CVContextData.prototype.duplicate=function(){var dt=this._length*2,et=0;for(et=this._length;et<dt;et+=1)this.stack[et]=new CanvasContext;this._length=dt},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(dt){this.cArrPos-=1;var et=this.stack[this.cArrPos],$t=et.transform,kt,Tt=this.cTr.props;for(kt=0;kt<16;kt+=1)Tt[kt]=$t[kt];if(dt){this.nativeContext.restore();var Dt=this.stack[this.cArrPos+1];this.appliedFillStyle=Dt.fillStyle,this.appliedStrokeStyle=Dt.strokeStyle,this.appliedLineWidth=Dt.lineWidth,this.appliedLineCap=Dt.lineCap,this.appliedLineJoin=Dt.lineJoin,this.appliedMiterLimit=Dt.miterLimit}this.nativeContext.setTransform($t[0],$t[1],$t[4],$t[5],$t[12],$t[13]),(dt||et.opacity!==-1&&this.currentOpacity!==et.opacity)&&(this.nativeContext.globalAlpha=et.opacity,this.currentOpacity=et.opacity),this.currentFillStyle=et.fillStyle,this.currentStrokeStyle=et.strokeStyle,this.currentLineWidth=et.lineWidth,this.currentLineCap=et.lineCap,this.currentLineJoin=et.lineJoin,this.currentMiterLimit=et.miterLimit},CVContextData.prototype.save=function(dt){dt&&this.nativeContext.save();var et=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var $t=this.stack[this.cArrPos],kt;for(kt=0;kt<16;kt+=1)$t.transform[kt]=et[kt];this.cArrPos+=1;var Tt=this.stack[this.cArrPos];Tt.opacity=$t.opacity,Tt.fillStyle=$t.fillStyle,Tt.strokeStyle=$t.strokeStyle,Tt.lineWidth=$t.lineWidth,Tt.lineCap=$t.lineCap,Tt.lineJoin=$t.lineJoin,Tt.miterLimit=$t.miterLimit},CVContextData.prototype.setOpacity=function(dt){this.stack[this.cArrPos].opacity=dt},CVContextData.prototype.setContext=function(dt){this.nativeContext=dt},CVContextData.prototype.fillStyle=function(dt){this.stack[this.cArrPos].fillStyle!==dt&&(this.currentFillStyle=dt,this.stack[this.cArrPos].fillStyle=dt)},CVContextData.prototype.strokeStyle=function(dt){this.stack[this.cArrPos].strokeStyle!==dt&&(this.currentStrokeStyle=dt,this.stack[this.cArrPos].strokeStyle=dt)},CVContextData.prototype.lineWidth=function(dt){this.stack[this.cArrPos].lineWidth!==dt&&(this.currentLineWidth=dt,this.stack[this.cArrPos].lineWidth=dt)},CVContextData.prototype.lineCap=function(dt){this.stack[this.cArrPos].lineCap!==dt&&(this.currentLineCap=dt,this.stack[this.cArrPos].lineCap=dt)},CVContextData.prototype.lineJoin=function(dt){this.stack[this.cArrPos].lineJoin!==dt&&(this.currentLineJoin=dt,this.stack[this.cArrPos].lineJoin=dt)},CVContextData.prototype.miterLimit=function(dt){this.stack[this.cArrPos].miterLimit!==dt&&(this.currentMiterLimit=dt,this.stack[this.cArrPos].miterLimit=dt)},CVContextData.prototype.transform=function(dt){this.transformMat.cloneFromProps(dt);var et=this.cTr;this.transformMat.multiply(et),et.cloneFromProps(this.transformMat.props);var $t=et.props;this.nativeContext.setTransform($t[0],$t[1],$t[4],$t[5],$t[12],$t[13])},CVContextData.prototype.opacity=function(dt){var et=this.stack[this.cArrPos].opacity;et*=dt<0?0:dt,this.stack[this.cArrPos].opacity!==et&&(this.currentOpacity!==dt&&(this.nativeContext.globalAlpha=dt,this.currentOpacity=dt),this.stack[this.cArrPos].opacity=et)},CVContextData.prototype.fill=function(dt){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(dt)},CVContextData.prototype.fillRect=function(dt,et,$t,kt){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(dt,et,$t,kt)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()};function CVCompElement(dt,et,$t){this.completeLayers=!1,this.layers=dt.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(dt,et,$t),this.tm=dt.tm?PropertyFactory.getProp(this,dt.tm,0,et.frameRate,this):{_placeholder:!0}}extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var dt=this.canvasContext;dt.beginPath(),dt.moveTo(0,0),dt.lineTo(this.data.w,0),dt.lineTo(this.data.w,this.data.h),dt.lineTo(0,this.data.h),dt.lineTo(0,0),dt.clip();var et,$t=this.layers.length;for(et=$t-1;et>=0;et-=1)(this.completeLayers||this.elements[et])&&this.elements[et].renderFrame()},CVCompElement.prototype.destroy=function(){var dt,et=this.layers.length;for(dt=et-1;dt>=0;dt-=1)this.elements[dt]&&this.elements[dt].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(dt){return new CVCompElement(dt,this.globalData,this)};function CanvasRenderer(dt,et){this.animationItem=dt,this.renderConfig={clearCanvas:et&&et.clearCanvas!==void 0?et.clearCanvas:!0,context:et&&et.context||null,progressiveLoad:et&&et.progressiveLoad||!1,preserveAspectRatio:et&&et.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:et&&et.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:et&&et.contentVisibility||"visible",className:et&&et.className||"",id:et&&et.id||"",runExpressions:!et||et.runExpressions===void 0||et.runExpressions},this.renderConfig.dpr=et&&et.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=et&&et.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(dt){return new CVCompElement(dt,this.globalData,this)};function HBaseElement(){}HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var et=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var $t=this.finalTransform.mat.toCSS();et.transform=$t,et.webkitTransform=$t}this.finalTransform._opMdf&&(et.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting;function HSolidElement(dt,et,$t){this.initElement(dt,et,$t)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var dt;this.data.hasMask?(dt=createNS("rect"),dt.setAttribute("width",this.data.sw),dt.setAttribute("height",this.data.sh),dt.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):(dt=createTag("div"),dt.style.width=this.data.sw+"px",dt.style.height=this.data.sh+"px",dt.style.backgroundColor=this.data.sc),this.layerElement.appendChild(dt)};function HShapeElement(dt,et,$t){this.shapes=[],this.shapesData=dt.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(dt,et,$t),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var dt;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),dt=this.svgElement;else{dt=createNS("svg");var et=this.comp.data?this.comp.data:this.globalData.compSize;dt.setAttribute("width",et.w),dt.setAttribute("height",et.h),dt.appendChild(this.shapesContainer),this.layerElement.appendChild(dt)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=dt},HShapeElement.prototype.getTransformedPoint=function(dt,et){var $t,kt=dt.length;for($t=0;$t<kt;$t+=1)et=dt[$t].mProps.v.applyToPointArray(et[0],et[1],0);return et},HShapeElement.prototype.calculateShapeBoundingBox=function(dt,et){var $t=dt.sh.v,kt=dt.transformers,Tt,Dt=$t._length,Ft,Ut,Ht,Kt;if(!(Dt<=1)){for(Tt=0;Tt<Dt-1;Tt+=1)Ft=this.getTransformedPoint(kt,$t.v[Tt]),Ut=this.getTransformedPoint(kt,$t.o[Tt]),Ht=this.getTransformedPoint(kt,$t.i[Tt+1]),Kt=this.getTransformedPoint(kt,$t.v[Tt+1]),this.checkBounds(Ft,Ut,Ht,Kt,et);$t.c&&(Ft=this.getTransformedPoint(kt,$t.v[Tt]),Ut=this.getTransformedPoint(kt,$t.o[Tt]),Ht=this.getTransformedPoint(kt,$t.i[0]),Kt=this.getTransformedPoint(kt,$t.v[0]),this.checkBounds(Ft,Ut,Ht,Kt,et))}},HShapeElement.prototype.checkBounds=function(dt,et,$t,kt,Tt){this.getBoundsOfCurve(dt,et,$t,kt);var Dt=this.shapeBoundingBox;Tt.x=bmMin(Dt.left,Tt.x),Tt.xMax=bmMax(Dt.right,Tt.xMax),Tt.y=bmMin(Dt.top,Tt.y),Tt.yMax=bmMax(Dt.bottom,Tt.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(dt,et,$t,kt){for(var Tt=[[dt[0],kt[0]],[dt[1],kt[1]]],Dt,Ft,Ut,Ht,Kt,Yt,Jt,Zt=0;Zt<2;++Zt)Ft=6*dt[Zt]-12*et[Zt]+6*$t[Zt],Dt=-3*dt[Zt]+9*et[Zt]-9*$t[Zt]+3*kt[Zt],Ut=3*et[Zt]-3*dt[Zt],Ft|=0,Dt|=0,Ut|=0,Dt===0&&Ft===0||(Dt===0?(Ht=-Ut/Ft,Ht>0&&Ht<1&&Tt[Zt].push(this.calculateF(Ht,dt,et,$t,kt,Zt))):(Kt=Ft*Ft-4*Ut*Dt,Kt>=0&&(Yt=(-Ft+bmSqrt(Kt))/(2*Dt),Yt>0&&Yt<1&&Tt[Zt].push(this.calculateF(Yt,dt,et,$t,kt,Zt)),Jt=(-Ft-bmSqrt(Kt))/(2*Dt),Jt>0&&Jt<1&&Tt[Zt].push(this.calculateF(Jt,dt,et,$t,kt,Zt)))));this.shapeBoundingBox.left=bmMin.apply(null,Tt[0]),this.shapeBoundingBox.top=bmMin.apply(null,Tt[1]),this.shapeBoundingBox.right=bmMax.apply(null,Tt[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,Tt[1])},HShapeElement.prototype.calculateF=function(dt,et,$t,kt,Tt,Dt){return bmPow(1-dt,3)*et[Dt]+3*bmPow(1-dt,2)*dt*$t[Dt]+3*(1-dt)*bmPow(dt,2)*kt[Dt]+bmPow(dt,3)*Tt[Dt]},HShapeElement.prototype.calculateBoundingBox=function(dt,et){var $t,kt=dt.length;for($t=0;$t<kt;$t+=1)dt[$t]&&dt[$t].sh?this.calculateShapeBoundingBox(dt[$t],et):dt[$t]&&dt[$t].it?this.calculateBoundingBox(dt[$t].it,et):dt[$t]&&dt[$t].style&&dt[$t].w&&this.expandStrokeBoundingBox(dt[$t].w,et)},HShapeElement.prototype.expandStrokeBoundingBox=function(dt,et){var $t=0;if(dt.keyframes){for(var kt=0;kt<dt.keyframes.length;kt+=1){var Tt=dt.keyframes[kt].s;Tt>$t&&($t=Tt)}$t*=dt.mult}else $t=dt.v*dt.mult;et.x-=$t,et.xMax+=$t,et.y-=$t,et.yMax+=$t},HShapeElement.prototype.currentBoxContains=function(dt){return this.currentBBox.x<=dt.x&&this.currentBBox.y<=dt.y&&this.currentBBox.width+this.currentBBox.x>=dt.x+dt.width&&this.currentBBox.height+this.currentBBox.y>=dt.y+dt.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var dt=this.tempBoundingBox,et=999999;if(dt.x=et,dt.xMax=-et,dt.y=et,dt.yMax=-et,this.calculateBoundingBox(this.itemsData,dt),dt.width=dt.xMax<dt.x?0:dt.xMax-dt.x,dt.height=dt.yMax<dt.y?0:dt.yMax-dt.y,this.currentBoxContains(dt))return;var $t=!1;if(this.currentBBox.w!==dt.width&&(this.currentBBox.w=dt.width,this.shapeCont.setAttribute("width",dt.width),$t=!0),this.currentBBox.h!==dt.height&&(this.currentBBox.h=dt.height,this.shapeCont.setAttribute("height",dt.height),$t=!0),$t||this.currentBBox.x!==dt.x||this.currentBBox.y!==dt.y){this.currentBBox.w=dt.width,this.currentBBox.h=dt.height,this.currentBBox.x=dt.x,this.currentBBox.y=dt.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var kt=this.shapeCont.style,Tt="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";kt.transform=Tt,kt.webkitTransform=Tt}}};function HTextElement(dt,et,$t){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(dt,et,$t)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var dt=createNS("g");this.maskedElement.appendChild(dt),this.innerElem=dt}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var dt=this.textProperty.currentData;this.renderedLetters=createSizedArray(dt.l?dt.l.length:0);var et=this.innerElem.style,$t=dt.fc?this.buildColor(dt.fc):"rgba(0,0,0,0)";et.fill=$t,et.color=$t,dt.sc&&(et.stroke=this.buildColor(dt.sc),et.strokeWidth=dt.sw+"px");var kt=this.globalData.fontManager.getFontByName(dt.f);if(!this.globalData.fontManager.chars)if(et.fontSize=dt.finalSize+"px",et.lineHeight=dt.finalSize+"px",kt.fClass)this.innerElem.className=kt.fClass;else{et.fontFamily=kt.fFamily;var Tt=dt.fWeight,Dt=dt.fStyle;et.fontStyle=Dt,et.fontWeight=Tt}var Ft,Ut,Ht=dt.l;Ut=Ht.length;var Kt,Yt,Jt,Zt=this.mHelper,er,rr="",sr=0;for(Ft=0;Ft<Ut;Ft+=1){if(this.globalData.fontManager.chars?(this.textPaths[sr]?Kt=this.textPaths[sr]:(Kt=createNS("path"),Kt.setAttribute("stroke-linecap",lineCapEnum[1]),Kt.setAttribute("stroke-linejoin",lineJoinEnum[2]),Kt.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[sr]?(Yt=this.textSpans[sr],Jt=Yt.children[0]):(Yt=createTag("div"),Yt.style.lineHeight=0,Jt=createNS("svg"),Jt.appendChild(Kt),styleDiv(Yt)))):this.isMasked?Kt=this.textPaths[sr]?this.textPaths[sr]:createNS("text"):this.textSpans[sr]?(Yt=this.textSpans[sr],Kt=this.textPaths[sr]):(Yt=createTag("span"),styleDiv(Yt),Kt=createTag("span"),styleDiv(Kt),Yt.appendChild(Kt)),this.globalData.fontManager.chars){var ir=this.globalData.fontManager.getCharData(dt.finalText[Ft],kt.fStyle,this.globalData.fontManager.getFontByName(dt.f).fFamily),nr;if(ir?nr=ir.data:nr=null,Zt.reset(),nr&&nr.shapes&&nr.shapes.length&&(er=nr.shapes[0].it,Zt.scale(dt.finalSize/100,dt.finalSize/100),rr=this.createPathShape(Zt,er),Kt.setAttribute("d",rr)),this.isMasked)this.innerElem.appendChild(Kt);else{if(this.innerElem.appendChild(Yt),nr&&nr.shapes){document.body.appendChild(Jt);var or=Jt.getBBox();Jt.setAttribute("width",or.width+2),Jt.setAttribute("height",or.height+2),Jt.setAttribute("viewBox",or.x-1+" "+(or.y-1)+" "+(or.width+2)+" "+(or.height+2));var lr=Jt.style,cr="translate("+(or.x-1)+"px,"+(or.y-1)+"px)";lr.transform=cr,lr.webkitTransform=cr,Ht[Ft].yOffset=or.y-1}else Jt.setAttribute("width",1),Jt.setAttribute("height",1);Yt.appendChild(Jt)}}else if(Kt.textContent=Ht[Ft].val,Kt.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(Kt);else{this.innerElem.appendChild(Yt);var dr=Kt.style,ur="translate3d(0,"+-dt.finalSize/1.2+"px,0)";dr.transform=ur,dr.webkitTransform=ur}this.isMasked?this.textSpans[sr]=Kt:this.textSpans[sr]=Yt,this.textSpans[sr].style.display="block",this.textPaths[sr]=Kt,sr+=1}for(;sr<this.textSpans.length;)this.textSpans[sr].style.display="none",sr+=1},HTextElement.prototype.renderInnerContent=function(){this.validateText();var dt;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),dt=this.svgElement.style;var et="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";dt.transform=et,dt.webkitTransform=et}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),!(!this.lettersChangedFlag&&!this.textAnimator.lettersChangedFlag)){var $t,kt,Tt=0,Dt=this.textAnimator.renderedLetters,Ft=this.textProperty.currentData.l;kt=Ft.length;var Ut,Ht,Kt;for($t=0;$t<kt;$t+=1)Ft[$t].n?Tt+=1:(Ht=this.textSpans[$t],Kt=this.textPaths[$t],Ut=Dt[Tt],Tt+=1,Ut._mdf.m&&(this.isMasked?Ht.setAttribute("transform",Ut.m):(Ht.style.webkitTransform=Ut.m,Ht.style.transform=Ut.m)),Ht.style.opacity=Ut.o,Ut.sw&&Ut._mdf.sw&&Kt.setAttribute("stroke-width",Ut.sw),Ut.sc&&Ut._mdf.sc&&Kt.setAttribute("stroke",Ut.sc),Ut.fc&&Ut._mdf.fc&&(Kt.setAttribute("fill",Ut.fc),Kt.style.color=Ut.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var Yt=this.innerElem.getBBox();this.currentBBox.w!==Yt.width&&(this.currentBBox.w=Yt.width,this.svgElement.setAttribute("width",Yt.width)),this.currentBBox.h!==Yt.height&&(this.currentBBox.h=Yt.height,this.svgElement.setAttribute("height",Yt.height));var Jt=1;if(this.currentBBox.w!==Yt.width+Jt*2||this.currentBBox.h!==Yt.height+Jt*2||this.currentBBox.x!==Yt.x-Jt||this.currentBBox.y!==Yt.y-Jt){this.currentBBox.w=Yt.width+Jt*2,this.currentBBox.h=Yt.height+Jt*2,this.currentBBox.x=Yt.x-Jt,this.currentBBox.y=Yt.y-Jt,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),dt=this.svgElement.style;var Zt="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";dt.transform=Zt,dt.webkitTransform=Zt}}}};function HCameraElement(dt,et,$t){this.initFrame(),this.initBaseData(dt,et,$t),this.initHierarchy();var kt=PropertyFactory.getProp;if(this.pe=kt(this,dt.pe,0,0,this),dt.ks.p.s?(this.px=kt(this,dt.ks.p.x,1,0,this),this.py=kt(this,dt.ks.p.y,1,0,this),this.pz=kt(this,dt.ks.p.z,1,0,this)):this.p=kt(this,dt.ks.p,1,0,this),dt.ks.a&&(this.a=kt(this,dt.ks.a,1,0,this)),dt.ks.or.k.length&&dt.ks.or.k[0].to){var Tt,Dt=dt.ks.or.k.length;for(Tt=0;Tt<Dt;Tt+=1)dt.ks.or.k[Tt].to=null,dt.ks.or.k[Tt].ti=null}this.or=kt(this,dt.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=kt(this,dt.ks.rx,0,degToRads,this),this.ry=kt(this,dt.ks.ry,0,degToRads,this),this.rz=kt(this,dt.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var dt,et=this.comp.threeDElements.length,$t,kt,Tt;for(dt=0;dt<et;dt+=1)if($t=this.comp.threeDElements[dt],$t.type==="3d"){kt=$t.perspectiveElem.style,Tt=$t.container.style;var Dt=this.pe.v+"px",Ft="0px 0px 0px",Ut="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";kt.perspective=Dt,kt.webkitPerspective=Dt,Tt.transformOrigin=Ft,Tt.mozTransformOrigin=Ft,Tt.webkitTransformOrigin=Ft,kt.transform=Ut,kt.webkitTransform=Ut}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var dt=this._isFirstFrame,et,$t;if(this.hierarchy)for($t=this.hierarchy.length,et=0;et<$t;et+=1)dt=this.hierarchy[et].finalTransform.mProp._mdf||dt;if(dt||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for($t=this.hierarchy.length-1,et=$t;et>=0;et-=1){var kt=this.hierarchy[et].finalTransform.mProp;this.mat.translate(-kt.p.v[0],-kt.p.v[1],kt.p.v[2]),this.mat.rotateX(-kt.or.v[0]).rotateY(-kt.or.v[1]).rotateZ(kt.or.v[2]),this.mat.rotateX(-kt.rx.v).rotateY(-kt.ry.v).rotateZ(kt.rz.v),this.mat.scale(1/kt.s.v[0],1/kt.s.v[1],1/kt.s.v[2]),this.mat.translate(kt.a.v[0],kt.a.v[1],kt.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var Tt;this.p?Tt=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:Tt=[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var Dt=Math.sqrt(Math.pow(Tt[0],2)+Math.pow(Tt[1],2)+Math.pow(Tt[2],2)),Ft=[Tt[0]/Dt,Tt[1]/Dt,Tt[2]/Dt],Ut=Math.sqrt(Ft[2]*Ft[2]+Ft[0]*Ft[0]),Ht=Math.atan2(Ft[1],Ut),Kt=Math.atan2(Ft[0],-Ft[2]);this.mat.rotateY(Kt).rotateX(-Ht)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var Yt=!this._prevMat.equals(this.mat);if((Yt||this.pe._mdf)&&this.comp.threeDElements){$t=this.comp.threeDElements.length;var Jt,Zt,er;for(et=0;et<$t;et+=1)if(Jt=this.comp.threeDElements[et],Jt.type==="3d"){if(Yt){var rr=this.mat.toCSS();er=Jt.container.style,er.transform=rr,er.webkitTransform=rr}this.pe._mdf&&(Zt=Jt.perspectiveElem.style,Zt.perspective=this.pe.v+"px",Zt.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(dt){this.prepareProperties(dt,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};function HImageElement(dt,et,$t){this.assetData=et.getAssetData(dt.refId),this.initElement(dt,et,$t)}extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var dt=this.globalData.getAssetsPath(this.assetData),et=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",dt),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(et),et.crossOrigin="anonymous",et.src=dt,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)};function HybridRendererBase(dt,et){this.animationItem=dt,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:et&&et.className||"",imagePreserveAspectRatio:et&&et.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(et&&et.hideOnTransparent===!1),filterSize:{width:et&&et.filterSize&&et.filterSize.width||"400%",height:et&&et.filterSize&&et.filterSize.height||"400%",x:et&&et.filterSize&&et.filterSize.x||"-100%",y:et&&et.filterSize&&et.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var dt=this.pendingElements.pop();dt.checkParenting()}},HybridRendererBase.prototype.appendElementInPos=function(dt,et){var $t=dt.getBaseElement();if($t){var kt=this.layers[et];if(!kt.ddd||!this.supports3d)if(this.threeDElements)this.addTo3dContainer($t,et);else{for(var Tt=0,Dt,Ft,Ut;Tt<et;)this.elements[Tt]&&this.elements[Tt]!==!0&&this.elements[Tt].getBaseElement&&(Ft=this.elements[Tt],Ut=this.layers[Tt].ddd?this.getThreeDContainerByPos(Tt):Ft.getBaseElement(),Dt=Ut||Dt),Tt+=1;Dt?(!kt.ddd||!this.supports3d)&&this.layerElement.insertBefore($t,Dt):(!kt.ddd||!this.supports3d)&&this.layerElement.appendChild($t)}else this.addTo3dContainer($t,et)}},HybridRendererBase.prototype.createShape=function(dt){return this.supports3d?new HShapeElement(dt,this.globalData,this):new SVGShapeElement(dt,this.globalData,this)},HybridRendererBase.prototype.createText=function(dt){return this.supports3d?new HTextElement(dt,this.globalData,this):new SVGTextLottieElement(dt,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(dt){return this.camera=new HCameraElement(dt,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(dt){return this.supports3d?new HImageElement(dt,this.globalData,this):new IImageElement(dt,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(dt){return this.supports3d?new HSolidElement(dt,this.globalData,this):new ISolidElement(dt,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(dt){for(var et=0,$t=this.threeDElements.length;et<$t;){if(this.threeDElements[et].startPos<=dt&&this.threeDElements[et].endPos>=dt)return this.threeDElements[et].perspectiveElem;et+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(dt,et){var $t=createTag("div"),kt,Tt;styleDiv($t);var Dt=createTag("div");if(styleDiv(Dt),et==="3d"){kt=$t.style,kt.width=this.globalData.compSize.w+"px",kt.height=this.globalData.compSize.h+"px";var Ft="50% 50%";kt.webkitTransformOrigin=Ft,kt.mozTransformOrigin=Ft,kt.transformOrigin=Ft,Tt=Dt.style;var Ut="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";Tt.transform=Ut,Tt.webkitTransform=Ut}$t.appendChild(Dt);var Ht={container:Dt,perspectiveElem:$t,startPos:dt,endPos:dt,type:et};return this.threeDElements.push(Ht),Ht},HybridRendererBase.prototype.build3dContainers=function(){var dt,et=this.layers.length,$t,kt="";for(dt=0;dt<et;dt+=1)this.layers[dt].ddd&&this.layers[dt].ty!==3?(kt!=="3d"&&(kt="3d",$t=this.createThreeDContainer(dt,"3d")),$t.endPos=Math.max($t.endPos,dt)):(kt!=="2d"&&(kt="2d",$t=this.createThreeDContainer(dt,"2d")),$t.endPos=Math.max($t.endPos,dt));for(et=this.threeDElements.length,dt=et-1;dt>=0;dt-=1)this.resizerElem.appendChild(this.threeDElements[dt].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(dt,et){for(var $t=0,kt=this.threeDElements.length;$t<kt;){if(et<=this.threeDElements[$t].endPos){for(var Tt=this.threeDElements[$t].startPos,Dt;Tt<et;)this.elements[Tt]&&this.elements[Tt].getBaseElement&&(Dt=this.elements[Tt].getBaseElement()),Tt+=1;Dt?this.threeDElements[$t].container.insertBefore(dt,Dt):this.threeDElements[$t].container.appendChild(dt);break}$t+=1}},HybridRendererBase.prototype.configAnimation=function(dt){var et=createTag("div"),$t=this.animationItem.wrapper,kt=et.style;kt.width=dt.w+"px",kt.height=dt.h+"px",this.resizerElem=et,styleDiv(et),kt.transformStyle="flat",kt.mozTransformStyle="flat",kt.webkitTransformStyle="flat",this.renderConfig.className&&et.setAttribute("class",this.renderConfig.className),$t.appendChild(et),kt.overflow="hidden";var Tt=createNS("svg");Tt.setAttribute("width","1"),Tt.setAttribute("height","1"),styleDiv(Tt),this.resizerElem.appendChild(Tt);var Dt=createNS("defs");Tt.appendChild(Dt),this.data=dt,this.setupGlobalData(dt,Tt),this.globalData.defs=Dt,this.layers=dt.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var dt,et=this.layers?this.layers.length:0;for(dt=0;dt<et;dt+=1)this.elements[dt]&&this.elements[dt].destroy&&this.elements[dt].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var dt=this.animationItem.wrapper.offsetWidth,et=this.animationItem.wrapper.offsetHeight,$t=dt/et,kt=this.globalData.compSize.w/this.globalData.compSize.h,Tt,Dt,Ft,Ut;kt>$t?(Tt=dt/this.globalData.compSize.w,Dt=dt/this.globalData.compSize.w,Ft=0,Ut=(et-this.globalData.compSize.h*(dt/this.globalData.compSize.w))/2):(Tt=et/this.globalData.compSize.h,Dt=et/this.globalData.compSize.h,Ft=(dt-this.globalData.compSize.w*(et/this.globalData.compSize.h))/2,Ut=0);var Ht=this.resizerElem.style;Ht.webkitTransform="matrix3d("+Tt+",0,0,0,0,"+Dt+",0,0,0,0,1,0,"+Ft+","+Ut+",0,1)",Ht.transform=Ht.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var dt=this.globalData.compSize.w,et=this.globalData.compSize.h,$t,kt=this.threeDElements.length;for($t=0;$t<kt;$t+=1){var Tt=this.threeDElements[$t].perspectiveElem.style;Tt.webkitPerspective=Math.sqrt(Math.pow(dt,2)+Math.pow(et,2))+"px",Tt.perspective=Tt.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(dt){var et,$t=dt.length,kt=createTag("div");for(et=0;et<$t;et+=1)if(dt[et].xt){var Tt=this.createComp(dt[et],kt,this.globalData.comp,null);Tt.initExpressions(),this.globalData.projectInterface.registerComposition(Tt)}};function HCompElement(dt,et,$t){this.layers=dt.layers,this.supports3d=!dt.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(dt,et,$t),this.tm=dt.tm?PropertyFactory.getProp(this,dt.tm,0,et.frameRate,this):{_placeholder:!0}}extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(dt,et){for(var $t=0,kt;$t<et;)this.elements[$t]&&this.elements[$t].getBaseElement&&(kt=this.elements[$t].getBaseElement()),$t+=1;kt?this.layerElement.insertBefore(dt,kt):this.layerElement.appendChild(dt)},HCompElement.prototype.createComp=function(dt){return this.supports3d?new HCompElement(dt,this.globalData,this):new SVGCompElement(dt,this.globalData,this)};function HybridRenderer(dt,et){this.animationItem=dt,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:et&&et.className||"",imagePreserveAspectRatio:et&&et.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(et&&et.hideOnTransparent===!1),filterSize:{width:et&&et.filterSize&&et.filterSize.width||"400%",height:et&&et.filterSize&&et.filterSize.height||"400%",x:et&&et.filterSize&&et.filterSize.x||"-100%",y:et&&et.filterSize&&et.filterSize.y||"-100%"},runExpressions:!et||et.runExpressions===void 0||et.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(dt){return this.supports3d?new HCompElement(dt,this.globalData,this):new SVGCompElement(dt,this.globalData,this)};var CompExpressionInterface=function(){return function(dt){function et($t){for(var kt=0,Tt=dt.layers.length;kt<Tt;){if(dt.layers[kt].nm===$t||dt.layers[kt].ind===$t)return dt.elements[kt].layerInterface;kt+=1}return null}return Object.defineProperty(et,"_name",{value:dt.data.nm}),et.layer=et,et.pixelAspect=1,et.height=dt.data.h||dt.globalData.compSize.h,et.width=dt.data.w||dt.globalData.compSize.w,et.pixelAspect=1,et.frameDuration=1/dt.globalData.frameRate,et.displayStartTime=0,et.numLayers=dt.layers.length,et}}();function _typeof$2(dt){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$2=function($t){return typeof $t}:_typeof$2=function($t){return $t&&typeof Symbol=="function"&&$t.constructor===Symbol&&$t!==Symbol.prototype?"symbol":typeof $t},_typeof$2(dt)}function seedRandom(dt,et){var $t=this,kt=256,Tt=6,Dt=52,Ft="random",Ut=et.pow(kt,Tt),Ht=et.pow(2,Dt),Kt=Ht*2,Yt=kt-1,Jt;function Zt(lr,cr,dr){var ur=[];cr=cr===!0?{entropy:!0}:cr||{};var pr=ir(sr(cr.entropy?[lr,or(dt)]:lr===null?nr():lr,3),ur),mr=new er(ur),vr=function(){for(var br=mr.g(Tt),_r=Ut,Or=0;br<Ht;)br=(br+Or)*kt,_r*=kt,Or=mr.g(1);for(;br>=Kt;)br/=2,_r/=2,Or>>>=1;return(br+Or)/_r};return vr.int32=function(){return mr.g(4)|0},vr.quick=function(){return mr.g(4)/4294967296},vr.double=vr,ir(or(mr.S),dt),(cr.pass||dr||function(kr,br,_r,Or){return Or&&(Or.S&&rr(Or,mr),kr.state=function(){return rr(mr,{})}),_r?(et[Ft]=kr,br):kr})(vr,pr,"global"in cr?cr.global:this==et,cr.state)}et["seed"+Ft]=Zt;function er(lr){var cr,dr=lr.length,ur=this,pr=0,mr=ur.i=ur.j=0,vr=ur.S=[];for(dr||(lr=[dr++]);pr<kt;)vr[pr]=pr++;for(pr=0;pr<kt;pr++)vr[pr]=vr[mr=Yt&mr+lr[pr%dr]+(cr=vr[pr])],vr[mr]=cr;ur.g=function(kr){for(var br,_r=0,Or=ur.i,Pr=ur.j,Mr=ur.S;kr--;)br=Mr[Or=Yt&Or+1],_r=_r*kt+Mr[Yt&(Mr[Or]=Mr[Pr=Yt&Pr+br])+(Mr[Pr]=br)];return ur.i=Or,ur.j=Pr,_r}}function rr(lr,cr){return cr.i=lr.i,cr.j=lr.j,cr.S=lr.S.slice(),cr}function sr(lr,cr){var dr=[],ur=_typeof$2(lr),pr;if(cr&&ur=="object")for(pr in lr)try{dr.push(sr(lr[pr],cr-1))}catch{}return dr.length?dr:ur=="string"?lr:lr+"\0"}function ir(lr,cr){for(var dr=lr+"",ur,pr=0;pr<dr.length;)cr[Yt&pr]=Yt&(ur^=cr[Yt&pr]*19)+dr.charCodeAt(pr++);return or(cr)}function nr(){try{var lr=new Uint8Array(kt);return($t.crypto||$t.msCrypto).getRandomValues(lr),or(lr)}catch{var cr=$t.navigator,dr=cr&&cr.plugins;return[+new Date,$t,dr,$t.screen,or(dt)]}}function or(lr){return String.fromCharCode.apply(0,lr)}ir(et.random(),dt)}function initialize$2(dt){seedRandom([],dt)}var propTypes={SHAPE:"shape"};function _typeof$1(dt){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$1=function($t){return typeof $t}:_typeof$1=function($t){return $t&&typeof Symbol=="function"&&$t.constructor===Symbol&&$t!==Symbol.prototype?"symbol":typeof $t},_typeof$1(dt)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};initialize$2(BMMath);function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(dt){return dt.constructor===Array||dt.constructor===Float32Array}function isNumerable(dt,et){return dt==="number"||et instanceof Number||dt==="boolean"||dt==="string"}function $bm_neg(dt){var et=_typeof$1(dt);if(et==="number"||dt instanceof Number||et==="boolean")return-dt;if($bm_isInstanceOfArray(dt)){var $t,kt=dt.length,Tt=[];for($t=0;$t<kt;$t+=1)Tt[$t]=-dt[$t];return Tt}return dt.propType?dt.v:-dt}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(dt,et){var $t=_typeof$1(dt),kt=_typeof$1(et);if(isNumerable($t,dt)&&isNumerable(kt,et)||$t==="string"||kt==="string")return dt+et;if($bm_isInstanceOfArray(dt)&&isNumerable(kt,et))return dt=dt.slice(0),dt[0]+=et,dt;if(isNumerable($t,dt)&&$bm_isInstanceOfArray(et))return et=et.slice(0),et[0]=dt+et[0],et;if($bm_isInstanceOfArray(dt)&&$bm_isInstanceOfArray(et)){for(var Tt=0,Dt=dt.length,Ft=et.length,Ut=[];Tt<Dt||Tt<Ft;)(typeof dt[Tt]=="number"||dt[Tt]instanceof Number)&&(typeof et[Tt]=="number"||et[Tt]instanceof Number)?Ut[Tt]=dt[Tt]+et[Tt]:Ut[Tt]=et[Tt]===void 0?dt[Tt]:dt[Tt]||et[Tt],Tt+=1;return Ut}return 0}var add=sum;function sub(dt,et){var $t=_typeof$1(dt),kt=_typeof$1(et);if(isNumerable($t,dt)&&isNumerable(kt,et))return $t==="string"&&(dt=parseInt(dt,10)),kt==="string"&&(et=parseInt(et,10)),dt-et;if($bm_isInstanceOfArray(dt)&&isNumerable(kt,et))return dt=dt.slice(0),dt[0]-=et,dt;if(isNumerable($t,dt)&&$bm_isInstanceOfArray(et))return et=et.slice(0),et[0]=dt-et[0],et;if($bm_isInstanceOfArray(dt)&&$bm_isInstanceOfArray(et)){for(var Tt=0,Dt=dt.length,Ft=et.length,Ut=[];Tt<Dt||Tt<Ft;)(typeof dt[Tt]=="number"||dt[Tt]instanceof Number)&&(typeof et[Tt]=="number"||et[Tt]instanceof Number)?Ut[Tt]=dt[Tt]-et[Tt]:Ut[Tt]=et[Tt]===void 0?dt[Tt]:dt[Tt]||et[Tt],Tt+=1;return Ut}return 0}function mul(dt,et){var $t=_typeof$1(dt),kt=_typeof$1(et),Tt;if(isNumerable($t,dt)&&isNumerable(kt,et))return dt*et;var Dt,Ft;if($bm_isInstanceOfArray(dt)&&isNumerable(kt,et)){for(Ft=dt.length,Tt=createTypedArray("float32",Ft),Dt=0;Dt<Ft;Dt+=1)Tt[Dt]=dt[Dt]*et;return Tt}if(isNumerable($t,dt)&&$bm_isInstanceOfArray(et)){for(Ft=et.length,Tt=createTypedArray("float32",Ft),Dt=0;Dt<Ft;Dt+=1)Tt[Dt]=dt*et[Dt];return Tt}return 0}function div(dt,et){var $t=_typeof$1(dt),kt=_typeof$1(et),Tt;if(isNumerable($t,dt)&&isNumerable(kt,et))return dt/et;var Dt,Ft;if($bm_isInstanceOfArray(dt)&&isNumerable(kt,et)){for(Ft=dt.length,Tt=createTypedArray("float32",Ft),Dt=0;Dt<Ft;Dt+=1)Tt[Dt]=dt[Dt]/et;return Tt}if(isNumerable($t,dt)&&$bm_isInstanceOfArray(et)){for(Ft=et.length,Tt=createTypedArray("float32",Ft),Dt=0;Dt<Ft;Dt+=1)Tt[Dt]=dt/et[Dt];return Tt}return 0}function mod(dt,et){return typeof dt=="string"&&(dt=parseInt(dt,10)),typeof et=="string"&&(et=parseInt(et,10)),dt%et}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(dt,et,$t){if(et>$t){var kt=$t;$t=et,et=kt}return Math.min(Math.max(dt,et),$t)}function radiansToDegrees(dt){return dt/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(dt){return dt*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(dt,et){if(typeof dt=="number"||dt instanceof Number)return et=et||0,Math.abs(dt-et);et||(et=helperLengthArray);var $t,kt=Math.min(dt.length,et.length),Tt=0;for($t=0;$t<kt;$t+=1)Tt+=Math.pow(et[$t]-dt[$t],2);return Math.sqrt(Tt)}function normalize(dt){return div(dt,length(dt))}function rgbToHsl(dt){var et=dt[0],$t=dt[1],kt=dt[2],Tt=Math.max(et,$t,kt),Dt=Math.min(et,$t,kt),Ft,Ut,Ht=(Tt+Dt)/2;if(Tt===Dt)Ft=0,Ut=0;else{var Kt=Tt-Dt;switch(Ut=Ht>.5?Kt/(2-Tt-Dt):Kt/(Tt+Dt),Tt){case et:Ft=($t-kt)/Kt+($t<kt?6:0);break;case $t:Ft=(kt-et)/Kt+2;break;case kt:Ft=(et-$t)/Kt+4;break}Ft/=6}return[Ft,Ut,Ht,dt[3]]}function hue2rgb(dt,et,$t){return $t<0&&($t+=1),$t>1&&($t-=1),$t<1/6?dt+(et-dt)*6*$t:$t<1/2?et:$t<2/3?dt+(et-dt)*(2/3-$t)*6:dt}function hslToRgb(dt){var et=dt[0],$t=dt[1],kt=dt[2],Tt,Dt,Ft;if($t===0)Tt=kt,Ft=kt,Dt=kt;else{var Ut=kt<.5?kt*(1+$t):kt+$t-kt*$t,Ht=2*kt-Ut;Tt=hue2rgb(Ht,Ut,et+1/3),Dt=hue2rgb(Ht,Ut,et),Ft=hue2rgb(Ht,Ut,et-1/3)}return[Tt,Dt,Ft,dt[3]]}function linear(dt,et,$t,kt,Tt){if((kt===void 0||Tt===void 0)&&(kt=et,Tt=$t,et=0,$t=1),$t<et){var Dt=$t;$t=et,et=Dt}if(dt<=et)return kt;if(dt>=$t)return Tt;var Ft=$t===et?0:(dt-et)/($t-et);if(!kt.length)return kt+(Tt-kt)*Ft;var Ut,Ht=kt.length,Kt=createTypedArray("float32",Ht);for(Ut=0;Ut<Ht;Ut+=1)Kt[Ut]=kt[Ut]+(Tt[Ut]-kt[Ut])*Ft;return Kt}function random(dt,et){if(et===void 0&&(dt===void 0?(dt=0,et=1):(et=dt,dt=void 0)),et.length){var $t,kt=et.length;dt||(dt=createTypedArray("float32",kt));var Tt=createTypedArray("float32",kt),Dt=BMMath.random();for($t=0;$t<kt;$t+=1)Tt[$t]=dt[$t]+Dt*(et[$t]-dt[$t]);return Tt}dt===void 0&&(dt=0);var Ft=BMMath.random();return dt+Ft*(et-dt)}function createPath(dt,et,$t,kt){var Tt,Dt=dt.length,Ft=shapePool.newElement();Ft.setPathData(!!kt,Dt);var Ut=[0,0],Ht,Kt;for(Tt=0;Tt<Dt;Tt+=1)Ht=et&&et[Tt]?et[Tt]:Ut,Kt=$t&&$t[Tt]?$t[Tt]:Ut,Ft.setTripleAt(dt[Tt][0],dt[Tt][1],Kt[0]+dt[Tt][0],Kt[1]+dt[Tt][1],Ht[0]+dt[Tt][0],Ht[1]+dt[Tt][1],Tt,!0);return Ft}function initiateExpression(elem,data,property){function noOp(dt){return dt}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=(function dt(et,$t){var kt,Tt,Dt=this.pv.length?this.pv.length:1,Ft=createTypedArray("float32",Dt);et=5;var Ut=Math.floor(time*et);for(kt=0,Tt=0;kt<Ut;){for(Tt=0;Tt<Dt;Tt+=1)Ft[Tt]+=-$t+$t*2*BMMath.random();kt+=1}var Ht=time*et,Kt=Ht-Math.floor(Ht),Yt=createTypedArray("float32",Dt);if(Dt>1){for(Tt=0;Tt<Dt;Tt+=1)Yt[Tt]=this.pv[Tt]+Ft[Tt]+(-$t+$t*2*BMMath.random())*Kt;return Yt}return this.pv+Ft[0]+(-$t+$t*2*BMMath.random())*Kt}).bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty));function loopInDuration(dt,et){return loopIn(dt,et,!0)}function loopOutDuration(dt,et){return loopOut(dt,et,!0)}this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(dt,et){var $t=[et[0]-dt[0],et[1]-dt[1],et[2]-dt[2]],kt=Math.atan2($t[0],Math.sqrt($t[1]*$t[1]+$t[2]*$t[2]))/degToRads,Tt=-Math.atan2($t[1],$t[2])/degToRads;return[Tt,kt,0]}function easeOut(dt,et,$t,kt,Tt){return applyEase(easeOutBez,dt,et,$t,kt,Tt)}function easeIn(dt,et,$t,kt,Tt){return applyEase(easeInBez,dt,et,$t,kt,Tt)}function ease(dt,et,$t,kt,Tt){return applyEase(easeInOutBez,dt,et,$t,kt,Tt)}function applyEase(dt,et,$t,kt,Tt,Dt){Tt===void 0?(Tt=$t,Dt=kt):et=(et-$t)/(kt-$t),et>1?et=1:et<0&&(et=0);var Ft=dt(et);if($bm_isInstanceOfArray(Tt)){var Ut,Ht=Tt.length,Kt=createTypedArray("float32",Ht);for(Ut=0;Ut<Ht;Ut+=1)Kt[Ut]=(Dt[Ut]-Tt[Ut])*Ft+Tt[Ut];return Kt}return(Dt-Tt)*Ft+Tt}function nearestKey(dt){var et,$t=data.k.length,kt,Tt;if(!data.k.length||typeof data.k[0]=="number")kt=0,Tt=0;else if(kt=-1,dt*=elem.comp.globalData.frameRate,dt<data.k[0].t)kt=1,Tt=data.k[0].t;else{for(et=0;et<$t-1;et+=1)if(dt===data.k[et].t){kt=et+1,Tt=data.k[et].t;break}else if(dt>data.k[et].t&&dt<data.k[et+1].t){dt-data.k[et].t>data.k[et+1].t-dt?(kt=et+2,Tt=data.k[et+1].t):(kt=et+1,Tt=data.k[et].t);break}kt===-1&&(kt=et+1,Tt=data.k[et].t)}var Dt={};return Dt.index=kt,Dt.time=Tt/elem.comp.globalData.frameRate,Dt}function key(dt){var et,$t,kt;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+dt);dt-=1,et={time:data.k[dt].t/elem.comp.globalData.frameRate,value:[]};var Tt=Object.prototype.hasOwnProperty.call(data.k[dt],"s")?data.k[dt].s:data.k[dt-1].e;for(kt=Tt.length,$t=0;$t<kt;$t+=1)et[$t]=Tt[$t],et.value[$t]=Tt[$t];return et}function framesToTime(dt,et){return et||(et=elem.comp.globalData.frameRate),dt/et}function timeToFrames(dt,et){return!dt&&dt!==0&&(dt=time),et||(et=elem.comp.globalData.frameRate),dt*et}function seedRandom(dt){BMMath.seedrandom(randSeed+dt)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(dt,et){return typeof value=="string"?et===void 0?value.substring(dt):value.substring(dt,et):""}function substr(dt,et){return typeof value=="string"?et===void 0?value.substr(dt):value.substr(dt,et):""}function posterizeTime(dt){time=dt===0?0:Math.floor(time*dt)/dt,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!!(elem.hierarchy&&elem.hierarchy.length),parent,randSeed=Math.floor(Math.random()*1e6),globalData=elem.globalData;function executeExpression(dt){return value=dt,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType===4&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!!(elem.hierarchy&&elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt,scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob}(),Expressions=function(){var dt={};dt.initExpressions=et,dt.resetFrame=ExpressionManager.resetFrame;function et($t){var kt=0,Tt=[];function Dt(){kt+=1}function Ft(){kt-=1,kt===0&&Ht()}function Ut(Kt){Tt.indexOf(Kt)===-1&&Tt.push(Kt)}function Ht(){var Kt,Yt=Tt.length;for(Kt=0;Kt<Yt;Kt+=1)Tt[Kt].release();Tt.length=0}$t.renderer.compInterface=CompExpressionInterface($t.renderer),$t.renderer.globalData.projectInterface.registerComposition($t.renderer),$t.renderer.globalData.pushExpression=Dt,$t.renderer.globalData.popExpression=Ft,$t.renderer.globalData.registerExpressionProperty=Ut}return dt}(),MaskManagerInterface=function(){function dt($t,kt){this._mask=$t,this._data=kt}Object.defineProperty(dt.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(dt.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),this._mask.op.v*100}});var et=function(kt){var Tt=createSizedArray(kt.viewData.length),Dt,Ft=kt.viewData.length;for(Dt=0;Dt<Ft;Dt+=1)Tt[Dt]=new dt(kt.viewData[Dt],kt.masksProperties[Dt]);var Ut=function(Kt){for(Dt=0;Dt<Ft;){if(kt.masksProperties[Dt].nm===Kt)return Tt[Dt];Dt+=1}return null};return Ut};return et}(),ExpressionPropertyInterface=function(){var dt={pv:0,v:0,mult:1},et={pv:[0,0,0],v:[0,0,0],mult:1};function $t(Ft,Ut,Ht){Object.defineProperty(Ft,"velocity",{get:function(){return Ut.getVelocityAtTime(Ut.comp.currentFrame)}}),Ft.numKeys=Ut.keyframes?Ut.keyframes.length:0,Ft.key=function(Kt){if(!Ft.numKeys)return 0;var Yt="";"s"in Ut.keyframes[Kt-1]?Yt=Ut.keyframes[Kt-1].s:"e"in Ut.keyframes[Kt-2]?Yt=Ut.keyframes[Kt-2].e:Yt=Ut.keyframes[Kt-2].s;var Jt=Ht==="unidimensional"?new Number(Yt):Object.assign({},Yt);return Jt.time=Ut.keyframes[Kt-1].t/Ut.elem.comp.globalData.frameRate,Jt.value=Ht==="unidimensional"?Yt[0]:Yt,Jt},Ft.valueAtTime=Ut.getValueAtTime,Ft.speedAtTime=Ut.getSpeedAtTime,Ft.velocityAtTime=Ut.getVelocityAtTime,Ft.propertyGroup=Ut.propertyGroup}function kt(Ft){(!Ft||!("pv"in Ft))&&(Ft=dt);var Ut=1/Ft.mult,Ht=Ft.pv*Ut,Kt=new Number(Ht);return Kt.value=Ht,$t(Kt,Ft,"unidimensional"),function(){return Ft.k&&Ft.getValue(),Ht=Ft.v*Ut,Kt.value!==Ht&&(Kt=new Number(Ht),Kt.value=Ht,$t(Kt,Ft,"unidimensional")),Kt}}function Tt(Ft){(!Ft||!("pv"in Ft))&&(Ft=et);var Ut=1/Ft.mult,Ht=Ft.data&&Ft.data.l||Ft.pv.length,Kt=createTypedArray("float32",Ht),Yt=createTypedArray("float32",Ht);return Kt.value=Yt,$t(Kt,Ft,"multidimensional"),function(){Ft.k&&Ft.getValue();for(var Jt=0;Jt<Ht;Jt+=1)Yt[Jt]=Ft.v[Jt]*Ut,Kt[Jt]=Yt[Jt];return Kt}}function Dt(){return dt}return function(Ft){return Ft?Ft.propType==="unidimensional"?kt(Ft):Tt(Ft):Dt}}(),TransformExpressionInterface=function(){return function(dt){function et(Ft){switch(Ft){case"scale":case"Scale":case"ADBE Scale":case 6:return et.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return et.rotation;case"ADBE Rotate X":return et.xRotation;case"ADBE Rotate Y":return et.yRotation;case"position":case"Position":case"ADBE Position":case 2:return et.position;case"ADBE Position_0":return et.xPosition;case"ADBE Position_1":return et.yPosition;case"ADBE Position_2":return et.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return et.anchorPoint;case"opacity":case"Opacity":case 11:return et.opacity;default:return null}}Object.defineProperty(et,"rotation",{get:ExpressionPropertyInterface(dt.r||dt.rz)}),Object.defineProperty(et,"zRotation",{get:ExpressionPropertyInterface(dt.rz||dt.r)}),Object.defineProperty(et,"xRotation",{get:ExpressionPropertyInterface(dt.rx)}),Object.defineProperty(et,"yRotation",{get:ExpressionPropertyInterface(dt.ry)}),Object.defineProperty(et,"scale",{get:ExpressionPropertyInterface(dt.s)});var $t,kt,Tt,Dt;return dt.p?Dt=ExpressionPropertyInterface(dt.p):($t=ExpressionPropertyInterface(dt.px),kt=ExpressionPropertyInterface(dt.py),dt.pz&&(Tt=ExpressionPropertyInterface(dt.pz))),Object.defineProperty(et,"position",{get:function(){return dt.p?Dt():[$t(),kt(),Tt?Tt():0]}}),Object.defineProperty(et,"xPosition",{get:ExpressionPropertyInterface(dt.px)}),Object.defineProperty(et,"yPosition",{get:ExpressionPropertyInterface(dt.py)}),Object.defineProperty(et,"zPosition",{get:ExpressionPropertyInterface(dt.pz)}),Object.defineProperty(et,"anchorPoint",{get:ExpressionPropertyInterface(dt.a)}),Object.defineProperty(et,"opacity",{get:ExpressionPropertyInterface(dt.o)}),Object.defineProperty(et,"skew",{get:ExpressionPropertyInterface(dt.sk)}),Object.defineProperty(et,"skewAxis",{get:ExpressionPropertyInterface(dt.sa)}),Object.defineProperty(et,"orientation",{get:ExpressionPropertyInterface(dt.or)}),et}}(),LayerExpressionInterface=function(){function dt(Kt){var Yt=new Matrix;if(Kt!==void 0){var Jt=this._elem.finalTransform.mProp.getValueAtTime(Kt);Jt.clone(Yt)}else{var Zt=this._elem.finalTransform.mProp;Zt.applyToMatrix(Yt)}return Yt}function et(Kt,Yt){var Jt=this.getMatrix(Yt);return Jt.props[12]=0,Jt.props[13]=0,Jt.props[14]=0,this.applyPoint(Jt,Kt)}function $t(Kt,Yt){var Jt=this.getMatrix(Yt);return this.applyPoint(Jt,Kt)}function kt(Kt,Yt){var Jt=this.getMatrix(Yt);return Jt.props[12]=0,Jt.props[13]=0,Jt.props[14]=0,this.invertPoint(Jt,Kt)}function Tt(Kt,Yt){var Jt=this.getMatrix(Yt);return this.invertPoint(Jt,Kt)}function Dt(Kt,Yt){if(this._elem.hierarchy&&this._elem.hierarchy.length){var Jt,Zt=this._elem.hierarchy.length;for(Jt=0;Jt<Zt;Jt+=1)this._elem.hierarchy[Jt].finalTransform.mProp.applyToMatrix(Kt)}return Kt.applyToPointArray(Yt[0],Yt[1],Yt[2]||0)}function Ft(Kt,Yt){if(this._elem.hierarchy&&this._elem.hierarchy.length){var Jt,Zt=this._elem.hierarchy.length;for(Jt=0;Jt<Zt;Jt+=1)this._elem.hierarchy[Jt].finalTransform.mProp.applyToMatrix(Kt)}return Kt.inversePoint(Yt)}function Ut(Kt){var Yt=new Matrix;if(Yt.reset(),this._elem.finalTransform.mProp.applyToMatrix(Yt),this._elem.hierarchy&&this._elem.hierarchy.length){var Jt,Zt=this._elem.hierarchy.length;for(Jt=0;Jt<Zt;Jt+=1)this._elem.hierarchy[Jt].finalTransform.mProp.applyToMatrix(Yt);return Yt.inversePoint(Kt)}return Yt.inversePoint(Kt)}function Ht(){return[1,1,1,1]}return function(Kt){var Yt;function Jt(sr){er.mask=new MaskManagerInterface(sr,Kt)}function Zt(sr){er.effect=sr}function er(sr){switch(sr){case"ADBE Root Vectors Group":case"Contents":case 2:return er.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return Yt;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return er.effect;case"ADBE Text Properties":return er.textInterface;default:return null}}er.getMatrix=dt,er.invertPoint=Ft,er.applyPoint=Dt,er.toWorld=$t,er.toWorldVec=et,er.fromWorld=Tt,er.fromWorldVec=kt,er.toComp=$t,er.fromComp=Ut,er.sampleImage=Ht,er.sourceRectAtTime=Kt.sourceRectAtTime.bind(Kt),er._elem=Kt,Yt=TransformExpressionInterface(Kt.finalTransform.mProp);var rr=getDescriptor(Yt,"anchorPoint");return Object.defineProperties(er,{hasParent:{get:function(){return Kt.hierarchy.length}},parent:{get:function(){return Kt.hierarchy[0].layerInterface}},rotation:getDescriptor(Yt,"rotation"),scale:getDescriptor(Yt,"scale"),position:getDescriptor(Yt,"position"),opacity:getDescriptor(Yt,"opacity"),anchorPoint:rr,anchor_point:rr,transform:{get:function(){return Yt}},active:{get:function(){return Kt.isInRange}}}),er.startTime=Kt.data.st,er.index=Kt.data.ind,er.source=Kt.data.refId,er.height=Kt.data.ty===0?Kt.data.h:100,er.width=Kt.data.ty===0?Kt.data.w:100,er.inPoint=Kt.data.ip/Kt.comp.globalData.frameRate,er.outPoint=Kt.data.op/Kt.comp.globalData.frameRate,er._name=Kt.data.nm,er.registerMaskInterface=Jt,er.registerEffectsInterface=Zt,er}}(),propertyGroupFactory=function(){return function(dt,et){return function($t){return $t=$t===void 0?1:$t,$t<=0?dt:et($t-1)}}}(),PropertyInterface=function(){return function(dt,et){var $t={_name:dt};function kt(Tt){return Tt=Tt===void 0?1:Tt,Tt<=0?$t:et(Tt-1)}return kt}}(),EffectsExpressionInterface=function(){var dt={createEffectsInterface:et};function et(Tt,Dt){if(Tt.effectsManager){var Ft=[],Ut=Tt.data.ef,Ht,Kt=Tt.effectsManager.effectElements.length;for(Ht=0;Ht<Kt;Ht+=1)Ft.push($t(Ut[Ht],Tt.effectsManager.effectElements[Ht],Dt,Tt));var Yt=Tt.data.ef||[],Jt=function(er){for(Ht=0,Kt=Yt.length;Ht<Kt;){if(er===Yt[Ht].nm||er===Yt[Ht].mn||er===Yt[Ht].ix)return Ft[Ht];Ht+=1}return null};return Object.defineProperty(Jt,"numProperties",{get:function(){return Yt.length}}),Jt}return null}function $t(Tt,Dt,Ft,Ut){function Ht(er){for(var rr=Tt.ef,sr=0,ir=rr.length;sr<ir;){if(er===rr[sr].nm||er===rr[sr].mn||er===rr[sr].ix)return rr[sr].ty===5?Yt[sr]:Yt[sr]();sr+=1}throw new Error}var Kt=propertyGroupFactory(Ht,Ft),Yt=[],Jt,Zt=Tt.ef.length;for(Jt=0;Jt<Zt;Jt+=1)Tt.ef[Jt].ty===5?Yt.push($t(Tt.ef[Jt],Dt.effectElements[Jt],Dt.effectElements[Jt].propertyGroup,Ut)):Yt.push(kt(Dt.effectElements[Jt],Tt.ef[Jt].ty,Ut,Kt));return Tt.mn==="ADBE Color Control"&&Object.defineProperty(Ht,"color",{get:function(){return Yt[0]()}}),Object.defineProperties(Ht,{numProperties:{get:function(){return Tt.np}},_name:{value:Tt.nm},propertyGroup:{value:Kt}}),Ht.enabled=Tt.en!==0,Ht.active=Ht.enabled,Ht}function kt(Tt,Dt,Ft,Ut){var Ht=ExpressionPropertyInterface(Tt.p);function Kt(){return Dt===10?Ft.comp.compInterface(Tt.p.v):Ht()}return Tt.p.setGroupProperty&&Tt.p.setGroupProperty(PropertyInterface("",Ut)),Kt}return dt}(),ShapePathInterface=function(){return function(et,$t,kt){var Tt=$t.sh;function Dt(Ut){return Ut==="Shape"||Ut==="shape"||Ut==="Path"||Ut==="path"||Ut==="ADBE Vector Shape"||Ut===2?Dt.path:null}var Ft=propertyGroupFactory(Dt,kt);return Tt.setGroupProperty(PropertyInterface("Path",Ft)),Object.defineProperties(Dt,{path:{get:function(){return Tt.k&&Tt.getValue(),Tt}},shape:{get:function(){return Tt.k&&Tt.getValue(),Tt}},_name:{value:et.nm},ix:{value:et.ix},propertyIndex:{value:et.ix},mn:{value:et.mn},propertyGroup:{value:kt}}),Dt}}(),ShapeExpressionInterface=function(){function dt(rr,sr,ir){var nr=[],or,lr=rr?rr.length:0;for(or=0;or<lr;or+=1)rr[or].ty==="gr"?nr.push($t(rr[or],sr[or],ir)):rr[or].ty==="fl"?nr.push(kt(rr[or],sr[or],ir)):rr[or].ty==="st"?nr.push(Ft(rr[or],sr[or],ir)):rr[or].ty==="tm"?nr.push(Ut(rr[or],sr[or],ir)):rr[or].ty==="tr"||(rr[or].ty==="el"?nr.push(Kt(rr[or],sr[or],ir)):rr[or].ty==="sr"?nr.push(Yt(rr[or],sr[or],ir)):rr[or].ty==="sh"?nr.push(ShapePathInterface(rr[or],sr[or],ir)):rr[or].ty==="rc"?nr.push(Jt(rr[or],sr[or],ir)):rr[or].ty==="rd"?nr.push(Zt(rr[or],sr[or],ir)):rr[or].ty==="rp"?nr.push(er(rr[or],sr[or],ir)):rr[or].ty==="gf"?nr.push(Tt(rr[or],sr[or],ir)):nr.push(Dt(rr[or],sr[or])));return nr}function et(rr,sr,ir){var nr,or=function(dr){for(var ur=0,pr=nr.length;ur<pr;){if(nr[ur]._name===dr||nr[ur].mn===dr||nr[ur].propertyIndex===dr||nr[ur].ix===dr||nr[ur].ind===dr)return nr[ur];ur+=1}return typeof dr=="number"?nr[dr-1]:null};or.propertyGroup=propertyGroupFactory(or,ir),nr=dt(rr.it,sr.it,or.propertyGroup),or.numProperties=nr.length;var lr=Ht(rr.it[rr.it.length-1],sr.it[sr.it.length-1],or.propertyGroup);return or.transform=lr,or.propertyIndex=rr.cix,or._name=rr.nm,or}function $t(rr,sr,ir){var nr=function(dr){switch(dr){case"ADBE Vectors Group":case"Contents":case 2:return nr.content;default:return nr.transform}};nr.propertyGroup=propertyGroupFactory(nr,ir);var or=et(rr,sr,nr.propertyGroup),lr=Ht(rr.it[rr.it.length-1],sr.it[sr.it.length-1],nr.propertyGroup);return nr.content=or,nr.transform=lr,Object.defineProperty(nr,"_name",{get:function(){return rr.nm}}),nr.numProperties=rr.np,nr.propertyIndex=rr.ix,nr.nm=rr.nm,nr.mn=rr.mn,nr}function kt(rr,sr,ir){function nr(or){return or==="Color"||or==="color"?nr.color:or==="Opacity"||or==="opacity"?nr.opacity:null}return Object.defineProperties(nr,{color:{get:ExpressionPropertyInterface(sr.c)},opacity:{get:ExpressionPropertyInterface(sr.o)},_name:{value:rr.nm},mn:{value:rr.mn}}),sr.c.setGroupProperty(PropertyInterface("Color",ir)),sr.o.setGroupProperty(PropertyInterface("Opacity",ir)),nr}function Tt(rr,sr,ir){function nr(or){return or==="Start Point"||or==="start point"?nr.startPoint:or==="End Point"||or==="end point"?nr.endPoint:or==="Opacity"||or==="opacity"?nr.opacity:null}return Object.defineProperties(nr,{startPoint:{get:ExpressionPropertyInterface(sr.s)},endPoint:{get:ExpressionPropertyInterface(sr.e)},opacity:{get:ExpressionPropertyInterface(sr.o)},type:{get:function(){return"a"}},_name:{value:rr.nm},mn:{value:rr.mn}}),sr.s.setGroupProperty(PropertyInterface("Start Point",ir)),sr.e.setGroupProperty(PropertyInterface("End Point",ir)),sr.o.setGroupProperty(PropertyInterface("Opacity",ir)),nr}function Dt(){function rr(){return null}return rr}function Ft(rr,sr,ir){var nr=propertyGroupFactory(pr,ir),or=propertyGroupFactory(ur,nr);function lr(mr){Object.defineProperty(ur,rr.d[mr].nm,{get:ExpressionPropertyInterface(sr.d.dataProps[mr].p)})}var cr,dr=rr.d?rr.d.length:0,ur={};for(cr=0;cr<dr;cr+=1)lr(cr),sr.d.dataProps[cr].p.setGroupProperty(or);function pr(mr){return mr==="Color"||mr==="color"?pr.color:mr==="Opacity"||mr==="opacity"?pr.opacity:mr==="Stroke Width"||mr==="stroke width"?pr.strokeWidth:null}return Object.defineProperties(pr,{color:{get:ExpressionPropertyInterface(sr.c)},opacity:{get:ExpressionPropertyInterface(sr.o)},strokeWidth:{get:ExpressionPropertyInterface(sr.w)},dash:{get:function(){return ur}},_name:{value:rr.nm},mn:{value:rr.mn}}),sr.c.setGroupProperty(PropertyInterface("Color",nr)),sr.o.setGroupProperty(PropertyInterface("Opacity",nr)),sr.w.setGroupProperty(PropertyInterface("Stroke Width",nr)),pr}function Ut(rr,sr,ir){function nr(lr){return lr===rr.e.ix||lr==="End"||lr==="end"?nr.end:lr===rr.s.ix?nr.start:lr===rr.o.ix?nr.offset:null}var or=propertyGroupFactory(nr,ir);return nr.propertyIndex=rr.ix,sr.s.setGroupProperty(PropertyInterface("Start",or)),sr.e.setGroupProperty(PropertyInterface("End",or)),sr.o.setGroupProperty(PropertyInterface("Offset",or)),nr.propertyIndex=rr.ix,nr.propertyGroup=ir,Object.defineProperties(nr,{start:{get:ExpressionPropertyInterface(sr.s)},end:{get:ExpressionPropertyInterface(sr.e)},offset:{get:ExpressionPropertyInterface(sr.o)},_name:{value:rr.nm}}),nr.mn=rr.mn,nr}function Ht(rr,sr,ir){function nr(lr){return rr.a.ix===lr||lr==="Anchor Point"?nr.anchorPoint:rr.o.ix===lr||lr==="Opacity"?nr.opacity:rr.p.ix===lr||lr==="Position"?nr.position:rr.r.ix===lr||lr==="Rotation"||lr==="ADBE Vector Rotation"?nr.rotation:rr.s.ix===lr||lr==="Scale"?nr.scale:rr.sk&&rr.sk.ix===lr||lr==="Skew"?nr.skew:rr.sa&&rr.sa.ix===lr||lr==="Skew Axis"?nr.skewAxis:null}var or=propertyGroupFactory(nr,ir);return sr.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",or)),sr.transform.mProps.p.setGroupProperty(PropertyInterface("Position",or)),sr.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",or)),sr.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",or)),sr.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",or)),sr.transform.mProps.sk&&(sr.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",or)),sr.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",or))),sr.transform.op.setGroupProperty(PropertyInterface("Opacity",or)),Object.defineProperties(nr,{opacity:{get:ExpressionPropertyInterface(sr.transform.mProps.o)},position:{get:ExpressionPropertyInterface(sr.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(sr.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(sr.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(sr.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(sr.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(sr.transform.mProps.sa)},_name:{value:rr.nm}}),nr.ty="tr",nr.mn=rr.mn,nr.propertyGroup=ir,nr}function Kt(rr,sr,ir){function nr(cr){return rr.p.ix===cr?nr.position:rr.s.ix===cr?nr.size:null}var or=propertyGroupFactory(nr,ir);nr.propertyIndex=rr.ix;var lr=sr.sh.ty==="tm"?sr.sh.prop:sr.sh;return lr.s.setGroupProperty(PropertyInterface("Size",or)),lr.p.setGroupProperty(PropertyInterface("Position",or)),Object.defineProperties(nr,{size:{get:ExpressionPropertyInterface(lr.s)},position:{get:ExpressionPropertyInterface(lr.p)},_name:{value:rr.nm}}),nr.mn=rr.mn,nr}function Yt(rr,sr,ir){function nr(cr){return rr.p.ix===cr?nr.position:rr.r.ix===cr?nr.rotation:rr.pt.ix===cr?nr.points:rr.or.ix===cr||cr==="ADBE Vector Star Outer Radius"?nr.outerRadius:rr.os.ix===cr?nr.outerRoundness:rr.ir&&(rr.ir.ix===cr||cr==="ADBE Vector Star Inner Radius")?nr.innerRadius:rr.is&&rr.is.ix===cr?nr.innerRoundness:null}var or=propertyGroupFactory(nr,ir),lr=sr.sh.ty==="tm"?sr.sh.prop:sr.sh;return nr.propertyIndex=rr.ix,lr.or.setGroupProperty(PropertyInterface("Outer Radius",or)),lr.os.setGroupProperty(PropertyInterface("Outer Roundness",or)),lr.pt.setGroupProperty(PropertyInterface("Points",or)),lr.p.setGroupProperty(PropertyInterface("Position",or)),lr.r.setGroupProperty(PropertyInterface("Rotation",or)),rr.ir&&(lr.ir.setGroupProperty(PropertyInterface("Inner Radius",or)),lr.is.setGroupProperty(PropertyInterface("Inner Roundness",or))),Object.defineProperties(nr,{position:{get:ExpressionPropertyInterface(lr.p)},rotation:{get:ExpressionPropertyInterface(lr.r)},points:{get:ExpressionPropertyInterface(lr.pt)},outerRadius:{get:ExpressionPropertyInterface(lr.or)},outerRoundness:{get:ExpressionPropertyInterface(lr.os)},innerRadius:{get:ExpressionPropertyInterface(lr.ir)},innerRoundness:{get:ExpressionPropertyInterface(lr.is)},_name:{value:rr.nm}}),nr.mn=rr.mn,nr}function Jt(rr,sr,ir){function nr(cr){return rr.p.ix===cr?nr.position:rr.r.ix===cr?nr.roundness:rr.s.ix===cr||cr==="Size"||cr==="ADBE Vector Rect Size"?nr.size:null}var or=propertyGroupFactory(nr,ir),lr=sr.sh.ty==="tm"?sr.sh.prop:sr.sh;return nr.propertyIndex=rr.ix,lr.p.setGroupProperty(PropertyInterface("Position",or)),lr.s.setGroupProperty(PropertyInterface("Size",or)),lr.r.setGroupProperty(PropertyInterface("Rotation",or)),Object.defineProperties(nr,{position:{get:ExpressionPropertyInterface(lr.p)},roundness:{get:ExpressionPropertyInterface(lr.r)},size:{get:ExpressionPropertyInterface(lr.s)},_name:{value:rr.nm}}),nr.mn=rr.mn,nr}function Zt(rr,sr,ir){function nr(cr){return rr.r.ix===cr||cr==="Round Corners 1"?nr.radius:null}var or=propertyGroupFactory(nr,ir),lr=sr;return nr.propertyIndex=rr.ix,lr.rd.setGroupProperty(PropertyInterface("Radius",or)),Object.defineProperties(nr,{radius:{get:ExpressionPropertyInterface(lr.rd)},_name:{value:rr.nm}}),nr.mn=rr.mn,nr}function er(rr,sr,ir){function nr(cr){return rr.c.ix===cr||cr==="Copies"?nr.copies:rr.o.ix===cr||cr==="Offset"?nr.offset:null}var or=propertyGroupFactory(nr,ir),lr=sr;return nr.propertyIndex=rr.ix,lr.c.setGroupProperty(PropertyInterface("Copies",or)),lr.o.setGroupProperty(PropertyInterface("Offset",or)),Object.defineProperties(nr,{copies:{get:ExpressionPropertyInterface(lr.c)},offset:{get:ExpressionPropertyInterface(lr.o)},_name:{value:rr.nm}}),nr.mn=rr.mn,nr}return function(rr,sr,ir){var nr;function or(cr){if(typeof cr=="number")return cr=cr===void 0?1:cr,cr===0?ir:nr[cr-1];for(var dr=0,ur=nr.length;dr<ur;){if(nr[dr]._name===cr)return nr[dr];dr+=1}return null}function lr(){return ir}return or.propertyGroup=propertyGroupFactory(or,lr),nr=dt(rr,sr,or.propertyGroup),or.numProperties=nr.length,or._name="Contents",or}}(),TextExpressionInterface=function(){return function(dt){var et;function $t(kt){switch(kt){case"ADBE Text Document":return $t.sourceText;default:return null}}return Object.defineProperty($t,"sourceText",{get:function(){dt.textProperty.getValue();var Tt=dt.textProperty.currentData.t;return(!et||Tt!==et.value)&&(et=new String(Tt),et.value=Tt||new String(Tt),Object.defineProperty(et,"style",{get:function(){return{fillColor:dt.textProperty.currentData.fc}}})),et}}),$t}}();function _typeof(dt){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function($t){return typeof $t}:_typeof=function($t){return $t&&typeof Symbol=="function"&&$t.constructor===Symbol&&$t!==Symbol.prototype?"symbol":typeof $t},_typeof(dt)}var FootageInterface=function(){var dt=function(kt){var Tt="",Dt=kt.getFootageData();function Ft(){return Tt="",Dt=kt.getFootageData(),Ut}function Ut(Ht){if(Dt[Ht])return Tt=Ht,Dt=Dt[Ht],_typeof(Dt)==="object"?Ut:Dt;var Kt=Ht.indexOf(Tt);if(Kt!==-1){var Yt=parseInt(Ht.substr(Kt+Tt.length),10);return Dt=Dt[Yt],_typeof(Dt)==="object"?Ut:Dt}return""}return Ft},et=function(kt){function Tt(Dt){return Dt==="Outline"?Tt.outlineInterface():null}return Tt._name="Outline",Tt.outlineInterface=dt(kt),Tt};return function($t){function kt(Tt){return Tt==="Data"?kt.dataInterface:null}return kt._name="Data",kt.dataInterface=et($t),kt}}(),interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(dt){return interfaces[dt]||null}var expressionHelpers=function(){function dt(Ft,Ut,Ht){Ut.x&&(Ht.k=!0,Ht.x=!0,Ht.initiateExpression=ExpressionManager.initiateExpression,Ht.effectsSequence.push(Ht.initiateExpression(Ft,Ut,Ht).bind(Ht)))}function et(Ft){return Ft*=this.elem.globalData.frameRate,Ft-=this.offsetTime,Ft!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<Ft?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(Ft,this._cachingAtTime),this._cachingAtTime.lastFrame=Ft),this._cachingAtTime.value}function $t(Ft){var Ut=-.01,Ht=this.getValueAtTime(Ft),Kt=this.getValueAtTime(Ft+Ut),Yt=0;if(Ht.length){var Jt;for(Jt=0;Jt<Ht.length;Jt+=1)Yt+=Math.pow(Kt[Jt]-Ht[Jt],2);Yt=Math.sqrt(Yt)*100}else Yt=0;return Yt}function kt(Ft){if(this.vel!==void 0)return this.vel;var Ut=-.001,Ht=this.getValueAtTime(Ft),Kt=this.getValueAtTime(Ft+Ut),Yt;if(Ht.length){Yt=createTypedArray("float32",Ht.length);var Jt;for(Jt=0;Jt<Ht.length;Jt+=1)Yt[Jt]=(Kt[Jt]-Ht[Jt])/Ut}else Yt=(Kt-Ht)/Ut;return Yt}function Tt(){return this.pv}function Dt(Ft){this.propertyGroup=Ft}return{searchExpressions:dt,getSpeedAtTime:$t,getVelocityAtTime:kt,getValueAtTime:et,getStaticValueAtTime:Tt,setGroupProperty:Dt}}();function addPropertyDecorator(){function dt(Zt,er,rr){if(!this.k||!this.keyframes)return this.pv;Zt=Zt?Zt.toLowerCase():"";var sr=this.comp.renderedFrame,ir=this.keyframes,nr=ir[ir.length-1].t;if(sr<=nr)return this.pv;var or,lr;rr?(er?or=Math.abs(nr-this.elem.comp.globalData.frameRate*er):or=Math.max(0,nr-this.elem.data.ip),lr=nr-or):((!er||er>ir.length-1)&&(er=ir.length-1),lr=ir[ir.length-1-er].t,or=nr-lr);var cr,dr,ur;if(Zt==="pingpong"){var pr=Math.floor((sr-lr)/or);if(pr%2!==0)return this.getValueAtTime((or-(sr-lr)%or+lr)/this.comp.globalData.frameRate,0)}else if(Zt==="offset"){var mr=this.getValueAtTime(lr/this.comp.globalData.frameRate,0),vr=this.getValueAtTime(nr/this.comp.globalData.frameRate,0),kr=this.getValueAtTime(((sr-lr)%or+lr)/this.comp.globalData.frameRate,0),br=Math.floor((sr-lr)/or);if(this.pv.length){for(ur=new Array(mr.length),dr=ur.length,cr=0;cr<dr;cr+=1)ur[cr]=(vr[cr]-mr[cr])*br+kr[cr];return ur}return(vr-mr)*br+kr}else if(Zt==="continue"){var _r=this.getValueAtTime(nr/this.comp.globalData.frameRate,0),Or=this.getValueAtTime((nr-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(ur=new Array(_r.length),dr=ur.length,cr=0;cr<dr;cr+=1)ur[cr]=_r[cr]+(_r[cr]-Or[cr])*((sr-nr)/this.comp.globalData.frameRate)/5e-4;return ur}return _r+(_r-Or)*((sr-nr)/.001)}return this.getValueAtTime(((sr-lr)%or+lr)/this.comp.globalData.frameRate,0)}function et(Zt,er,rr){if(!this.k)return this.pv;Zt=Zt?Zt.toLowerCase():"";var sr=this.comp.renderedFrame,ir=this.keyframes,nr=ir[0].t;if(sr>=nr)return this.pv;var or,lr;rr?(er?or=Math.abs(this.elem.comp.globalData.frameRate*er):or=Math.max(0,this.elem.data.op-nr),lr=nr+or):((!er||er>ir.length-1)&&(er=ir.length-1),lr=ir[er].t,or=lr-nr);var cr,dr,ur;if(Zt==="pingpong"){var pr=Math.floor((nr-sr)/or);if(pr%2===0)return this.getValueAtTime(((nr-sr)%or+nr)/this.comp.globalData.frameRate,0)}else if(Zt==="offset"){var mr=this.getValueAtTime(nr/this.comp.globalData.frameRate,0),vr=this.getValueAtTime(lr/this.comp.globalData.frameRate,0),kr=this.getValueAtTime((or-(nr-sr)%or+nr)/this.comp.globalData.frameRate,0),br=Math.floor((nr-sr)/or)+1;if(this.pv.length){for(ur=new Array(mr.length),dr=ur.length,cr=0;cr<dr;cr+=1)ur[cr]=kr[cr]-(vr[cr]-mr[cr])*br;return ur}return kr-(vr-mr)*br}else if(Zt==="continue"){var _r=this.getValueAtTime(nr/this.comp.globalData.frameRate,0),Or=this.getValueAtTime((nr+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(ur=new Array(_r.length),dr=ur.length,cr=0;cr<dr;cr+=1)ur[cr]=_r[cr]+(_r[cr]-Or[cr])*(nr-sr)/.001;return ur}return _r+(_r-Or)*(nr-sr)/.001}return this.getValueAtTime((or-((nr-sr)%or+nr))/this.comp.globalData.frameRate,0)}function $t(Zt,er){if(!this.k)return this.pv;if(Zt=(Zt||.4)*.5,er=Math.floor(er||5),er<=1)return this.pv;var rr=this.comp.renderedFrame/this.comp.globalData.frameRate,sr=rr-Zt,ir=rr+Zt,nr=er>1?(ir-sr)/(er-1):1,or=0,lr=0,cr;this.pv.length?cr=createTypedArray("float32",this.pv.length):cr=0;for(var dr;or<er;){if(dr=this.getValueAtTime(sr+or*nr),this.pv.length)for(lr=0;lr<this.pv.length;lr+=1)cr[lr]+=dr[lr];else cr+=dr;or+=1}if(this.pv.length)for(lr=0;lr<this.pv.length;lr+=1)cr[lr]/=er;else cr/=er;return cr}function kt(Zt){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var er=this._transformCachingAtTime.v;if(er.cloneFromProps(this.pre.props),this.appliedTransformations<1){var rr=this.a.getValueAtTime(Zt);er.translate(-rr[0]*this.a.mult,-rr[1]*this.a.mult,rr[2]*this.a.mult)}if(this.appliedTransformations<2){var sr=this.s.getValueAtTime(Zt);er.scale(sr[0]*this.s.mult,sr[1]*this.s.mult,sr[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var ir=this.sk.getValueAtTime(Zt),nr=this.sa.getValueAtTime(Zt);er.skewFromAxis(-ir*this.sk.mult,nr*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var or=this.r.getValueAtTime(Zt);er.rotate(-or*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var lr=this.rz.getValueAtTime(Zt),cr=this.ry.getValueAtTime(Zt),dr=this.rx.getValueAtTime(Zt),ur=this.or.getValueAtTime(Zt);er.rotateZ(-lr*this.rz.mult).rotateY(cr*this.ry.mult).rotateX(dr*this.rx.mult).rotateZ(-ur[2]*this.or.mult).rotateY(ur[1]*this.or.mult).rotateX(ur[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var pr=this.px.getValueAtTime(Zt),mr=this.py.getValueAtTime(Zt);if(this.data.p.z){var vr=this.pz.getValueAtTime(Zt);er.translate(pr*this.px.mult,mr*this.py.mult,-vr*this.pz.mult)}else er.translate(pr*this.px.mult,mr*this.py.mult,0)}else{var kr=this.p.getValueAtTime(Zt);er.translate(kr[0]*this.p.mult,kr[1]*this.p.mult,-kr[2]*this.p.mult)}return er}function Tt(){return this.v.clone(new Matrix)}var Dt=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(Zt,er,rr){var sr=Dt(Zt,er,rr);return sr.dynamicProperties.length?sr.getValueAtTime=kt.bind(sr):sr.getValueAtTime=Tt.bind(sr),sr.setGroupProperty=expressionHelpers.setGroupProperty,sr};var Ft=PropertyFactory.getProp;PropertyFactory.getProp=function(Zt,er,rr,sr,ir){var nr=Ft(Zt,er,rr,sr,ir);nr.kf?nr.getValueAtTime=expressionHelpers.getValueAtTime.bind(nr):nr.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(nr),nr.setGroupProperty=expressionHelpers.setGroupProperty,nr.loopOut=dt,nr.loopIn=et,nr.smooth=$t,nr.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(nr),nr.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(nr),nr.numKeys=er.a===1?er.k.length:0,nr.propertyIndex=er.ix;var or=0;return rr!==0&&(or=createTypedArray("float32",er.a===1?er.k[0].s.length:er.k.length)),nr._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:or},expressionHelpers.searchExpressions(Zt,er,nr),nr.k&&ir.addDynamicProperty(nr),nr};function Ut(Zt){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),Zt*=this.elem.globalData.frameRate,Zt-=this.offsetTime,Zt!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<Zt?this._caching.lastIndex:0,this._cachingAtTime.lastTime=Zt,this.interpolateShape(Zt,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}var Ht=ShapePropertyFactory.getConstructorFunction(),Kt=ShapePropertyFactory.getKeyframedConstructorFunction();function Yt(){}Yt.prototype={vertices:function(er,rr){this.k&&this.getValue();var sr=this.v;rr!==void 0&&(sr=this.getValueAtTime(rr,0));var ir,nr=sr._length,or=sr[er],lr=sr.v,cr=createSizedArray(nr);for(ir=0;ir<nr;ir+=1)er==="i"||er==="o"?cr[ir]=[or[ir][0]-lr[ir][0],or[ir][1]-lr[ir][1]]:cr[ir]=[or[ir][0],or[ir][1]];return cr},points:function(er){return this.vertices("v",er)},inTangents:function(er){return this.vertices("i",er)},outTangents:function(er){return this.vertices("o",er)},isClosed:function(){return this.v.c},pointOnPath:function(er,rr){var sr=this.v;rr!==void 0&&(sr=this.getValueAtTime(rr,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(sr));for(var ir=this._segmentsLength,nr=ir.lengths,or=ir.totalLength*er,lr=0,cr=nr.length,dr=0,ur;lr<cr;){if(dr+nr[lr].addedLength>or){var pr=lr,mr=sr.c&&lr===cr-1?0:lr+1,vr=(or-dr)/nr[lr].addedLength;ur=bez.getPointInSegment(sr.v[pr],sr.v[mr],sr.o[pr],sr.i[mr],vr,nr[lr]);break}else dr+=nr[lr].addedLength;lr+=1}return ur||(ur=sr.c?[sr.v[0][0],sr.v[0][1]]:[sr.v[sr._length-1][0],sr.v[sr._length-1][1]]),ur},vectorOnPath:function(er,rr,sr){er==1?er=this.v.c:er==0&&(er=.999);var ir=this.pointOnPath(er,rr),nr=this.pointOnPath(er+.001,rr),or=nr[0]-ir[0],lr=nr[1]-ir[1],cr=Math.sqrt(Math.pow(or,2)+Math.pow(lr,2));if(cr===0)return[0,0];var dr=sr==="tangent"?[or/cr,lr/cr]:[-lr/cr,or/cr];return dr},tangentOnPath:function(er,rr){return this.vectorOnPath(er,rr,"tangent")},normalOnPath:function(er,rr){return this.vectorOnPath(er,rr,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([Yt],Ht),extendPrototype([Yt],Kt),Kt.prototype.getValueAtTime=Ut,Kt.prototype.initiateExpression=ExpressionManager.initiateExpression;var Jt=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(Zt,er,rr,sr,ir){var nr=Jt(Zt,er,rr,sr,ir);return nr.propertyIndex=er.ix,nr.lock=!1,rr===3?expressionHelpers.searchExpressions(Zt,er.pt,nr):rr===4&&expressionHelpers.searchExpressions(Zt,er.ks,nr),nr.k&&Zt.addDynamicProperty(nr),nr}}function initialize$1(){addPropertyDecorator()}function addDecorator(){function dt(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}TextProperty.prototype.getExpressionValue=function(et,$t){var kt=this.calculateExpression($t);if(et.t!==kt){var Tt={};return this.copyData(Tt,et),Tt.t=kt.toString(),Tt.__complete=!1,Tt}return et},TextProperty.prototype.searchProperty=function(){var et=this.searchKeyframes(),$t=this.searchExpressions();return this.kf=et||$t,this.kf},TextProperty.prototype.searchExpressions=dt}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function dt(et,$t){var kt=createNS("feMerge");kt.setAttribute("result",et);var Tt,Dt;for(Dt=0;Dt<$t.length;Dt+=1)Tt=createNS("feMergeNode"),Tt.setAttribute("in",$t[Dt]),kt.appendChild(Tt),kt.appendChild(Tt);return kt}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(dt,et,$t,kt,Tt){this.filterManager=et;var Dt=createNS("feColorMatrix");Dt.setAttribute("type","matrix"),Dt.setAttribute("color-interpolation-filters","linearRGB"),Dt.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=Dt,Dt.setAttribute("result",kt+"_tint_1"),dt.appendChild(Dt),Dt=createNS("feColorMatrix"),Dt.setAttribute("type","matrix"),Dt.setAttribute("color-interpolation-filters","sRGB"),Dt.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),Dt.setAttribute("result",kt+"_tint_2"),dt.appendChild(Dt),this.matrixFilter=Dt;var Ft=this.createMergeNode(kt,[Tt,kt+"_tint_1",kt+"_tint_2"]);dt.appendChild(Ft)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(dt){if(dt||this.filterManager._mdf){var et=this.filterManager.effectElements[0].p.v,$t=this.filterManager.effectElements[1].p.v,kt=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+kt+" 0"),this.matrixFilter.setAttribute("values",$t[0]-et[0]+" 0 0 0 "+et[0]+" "+($t[1]-et[1])+" 0 0 0 "+et[1]+" "+($t[2]-et[2])+" 0 0 0 "+et[2]+" 0 0 0 1 0")}};function SVGFillFilter(dt,et,$t,kt){this.filterManager=et;var Tt=createNS("feColorMatrix");Tt.setAttribute("type","matrix"),Tt.setAttribute("color-interpolation-filters","sRGB"),Tt.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),Tt.setAttribute("result",kt),dt.appendChild(Tt),this.matrixFilter=Tt}SVGFillFilter.prototype.renderFrame=function(dt){if(dt||this.filterManager._mdf){var et=this.filterManager.effectElements[2].p.v,$t=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+et[0]+" 0 0 0 0 "+et[1]+" 0 0 0 0 "+et[2]+" 0 0 0 "+$t+" 0")}};function SVGStrokeEffect(dt,et,$t){this.initialized=!1,this.filterManager=et,this.elem=$t,this.paths=[]}SVGStrokeEffect.prototype.initialize=function(){var dt=this.elem.layerElement.children||this.elem.layerElement.childNodes,et,$t,kt,Tt;for(this.filterManager.effectElements[1].p.v===1?(Tt=this.elem.maskManager.masksProperties.length,kt=0):(kt=this.filterManager.effectElements[0].p.v-1,Tt=kt+1),$t=createNS("g"),$t.setAttribute("fill","none"),$t.setAttribute("stroke-linecap","round"),$t.setAttribute("stroke-dashoffset",1),kt;kt<Tt;kt+=1)et=createNS("path"),$t.appendChild(et),this.paths.push({p:et,m:kt});if(this.filterManager.effectElements[10].p.v===3){var Dt=createNS("mask"),Ft=createElementID();Dt.setAttribute("id",Ft),Dt.setAttribute("mask-type","alpha"),Dt.appendChild($t),this.elem.globalData.defs.appendChild(Dt);var Ut=createNS("g");for(Ut.setAttribute("mask","url("+getLocationHref()+"#"+Ft+")");dt[0];)Ut.appendChild(dt[0]);this.elem.layerElement.appendChild(Ut),this.masker=Dt,$t.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(dt=this.elem.layerElement.children||this.elem.layerElement.childNodes;dt.length;)this.elem.layerElement.removeChild(dt[0]);this.elem.layerElement.appendChild($t),this.elem.layerElement.removeAttribute("mask"),$t.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=$t},SVGStrokeEffect.prototype.renderFrame=function(dt){this.initialized||this.initialize();var et,$t=this.paths.length,kt,Tt;for(et=0;et<$t;et+=1)if(this.paths[et].m!==-1&&(kt=this.elem.maskManager.viewData[this.paths[et].m],Tt=this.paths[et].p,(dt||this.filterManager._mdf||kt.prop._mdf)&&Tt.setAttribute("d",kt.lastPath),dt||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||kt.prop._mdf)){var Dt;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var Ft=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,Ut=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,Ht=Tt.getTotalLength();Dt="0 0 0 "+Ht*Ft+" ";var Kt=Ht*(Ut-Ft),Yt=1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01,Jt=Math.floor(Kt/Yt),Zt;for(Zt=0;Zt<Jt;Zt+=1)Dt+="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01+" ";Dt+="0 "+Ht*10+" 0 0"}else Dt="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01;Tt.setAttribute("stroke-dasharray",Dt)}if((dt||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",this.filterManager.effectElements[4].p.v*2),(dt||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(dt||this.filterManager.effectElements[3].p._mdf)){var er=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(er[0]*255)+","+bmFloor(er[1]*255)+","+bmFloor(er[2]*255)+")")}};function SVGTritoneFilter(dt,et,$t,kt){this.filterManager=et;var Tt=createNS("feColorMatrix");Tt.setAttribute("type","matrix"),Tt.setAttribute("color-interpolation-filters","linearRGB"),Tt.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),dt.appendChild(Tt);var Dt=createNS("feComponentTransfer");Dt.setAttribute("color-interpolation-filters","sRGB"),Dt.setAttribute("result",kt),this.matrixFilter=Dt;var Ft=createNS("feFuncR");Ft.setAttribute("type","table"),Dt.appendChild(Ft),this.feFuncR=Ft;var Ut=createNS("feFuncG");Ut.setAttribute("type","table"),Dt.appendChild(Ut),this.feFuncG=Ut;var Ht=createNS("feFuncB");Ht.setAttribute("type","table"),Dt.appendChild(Ht),this.feFuncB=Ht,dt.appendChild(Dt)}SVGTritoneFilter.prototype.renderFrame=function(dt){if(dt||this.filterManager._mdf){var et=this.filterManager.effectElements[0].p.v,$t=this.filterManager.effectElements[1].p.v,kt=this.filterManager.effectElements[2].p.v,Tt=kt[0]+" "+$t[0]+" "+et[0],Dt=kt[1]+" "+$t[1]+" "+et[1],Ft=kt[2]+" "+$t[2]+" "+et[2];this.feFuncR.setAttribute("tableValues",Tt),this.feFuncG.setAttribute("tableValues",Dt),this.feFuncB.setAttribute("tableValues",Ft)}};function SVGProLevelsFilter(dt,et,$t,kt){this.filterManager=et;var Tt=this.filterManager.effectElements,Dt=createNS("feComponentTransfer");(Tt[10].p.k||Tt[10].p.v!==0||Tt[11].p.k||Tt[11].p.v!==1||Tt[12].p.k||Tt[12].p.v!==1||Tt[13].p.k||Tt[13].p.v!==0||Tt[14].p.k||Tt[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",Dt)),(Tt[17].p.k||Tt[17].p.v!==0||Tt[18].p.k||Tt[18].p.v!==1||Tt[19].p.k||Tt[19].p.v!==1||Tt[20].p.k||Tt[20].p.v!==0||Tt[21].p.k||Tt[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",Dt)),(Tt[24].p.k||Tt[24].p.v!==0||Tt[25].p.k||Tt[25].p.v!==1||Tt[26].p.k||Tt[26].p.v!==1||Tt[27].p.k||Tt[27].p.v!==0||Tt[28].p.k||Tt[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",Dt)),(Tt[31].p.k||Tt[31].p.v!==0||Tt[32].p.k||Tt[32].p.v!==1||Tt[33].p.k||Tt[33].p.v!==1||Tt[34].p.k||Tt[34].p.v!==0||Tt[35].p.k||Tt[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",Dt)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(Dt.setAttribute("color-interpolation-filters","sRGB"),dt.appendChild(Dt)),(Tt[3].p.k||Tt[3].p.v!==0||Tt[4].p.k||Tt[4].p.v!==1||Tt[5].p.k||Tt[5].p.v!==1||Tt[6].p.k||Tt[6].p.v!==0||Tt[7].p.k||Tt[7].p.v!==1)&&(Dt=createNS("feComponentTransfer"),Dt.setAttribute("color-interpolation-filters","sRGB"),Dt.setAttribute("result",kt),dt.appendChild(Dt),this.feFuncRComposed=this.createFeFunc("feFuncR",Dt),this.feFuncGComposed=this.createFeFunc("feFuncG",Dt),this.feFuncBComposed=this.createFeFunc("feFuncB",Dt))}SVGProLevelsFilter.prototype.createFeFunc=function(dt,et){var $t=createNS(dt);return $t.setAttribute("type","table"),et.appendChild($t),$t},SVGProLevelsFilter.prototype.getTableValue=function(dt,et,$t,kt,Tt){for(var Dt=0,Ft=256,Ut,Ht=Math.min(dt,et),Kt=Math.max(dt,et),Yt=Array.call(null,{length:Ft}),Jt,Zt=0,er=Tt-kt,rr=et-dt;Dt<=256;)Ut=Dt/256,Ut<=Ht?Jt=rr<0?Tt:kt:Ut>=Kt?Jt=rr<0?kt:Tt:Jt=kt+er*Math.pow((Ut-dt)/rr,1/$t),Yt[Zt]=Jt,Zt+=1,Dt+=256/(Ft-1);return Yt.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(dt){if(dt||this.filterManager._mdf){var et,$t=this.filterManager.effectElements;this.feFuncRComposed&&(dt||$t[3].p._mdf||$t[4].p._mdf||$t[5].p._mdf||$t[6].p._mdf||$t[7].p._mdf)&&(et=this.getTableValue($t[3].p.v,$t[4].p.v,$t[5].p.v,$t[6].p.v,$t[7].p.v),this.feFuncRComposed.setAttribute("tableValues",et),this.feFuncGComposed.setAttribute("tableValues",et),this.feFuncBComposed.setAttribute("tableValues",et)),this.feFuncR&&(dt||$t[10].p._mdf||$t[11].p._mdf||$t[12].p._mdf||$t[13].p._mdf||$t[14].p._mdf)&&(et=this.getTableValue($t[10].p.v,$t[11].p.v,$t[12].p.v,$t[13].p.v,$t[14].p.v),this.feFuncR.setAttribute("tableValues",et)),this.feFuncG&&(dt||$t[17].p._mdf||$t[18].p._mdf||$t[19].p._mdf||$t[20].p._mdf||$t[21].p._mdf)&&(et=this.getTableValue($t[17].p.v,$t[18].p.v,$t[19].p.v,$t[20].p.v,$t[21].p.v),this.feFuncG.setAttribute("tableValues",et)),this.feFuncB&&(dt||$t[24].p._mdf||$t[25].p._mdf||$t[26].p._mdf||$t[27].p._mdf||$t[28].p._mdf)&&(et=this.getTableValue($t[24].p.v,$t[25].p.v,$t[26].p.v,$t[27].p.v,$t[28].p.v),this.feFuncB.setAttribute("tableValues",et)),this.feFuncA&&(dt||$t[31].p._mdf||$t[32].p._mdf||$t[33].p._mdf||$t[34].p._mdf||$t[35].p._mdf)&&(et=this.getTableValue($t[31].p.v,$t[32].p.v,$t[33].p.v,$t[34].p.v,$t[35].p.v),this.feFuncA.setAttribute("tableValues",et))}};function SVGDropShadowEffect(dt,et,$t,kt,Tt){var Dt=et.container.globalData.renderConfig.filterSize,Ft=et.data.fs||Dt;dt.setAttribute("x",Ft.x||Dt.x),dt.setAttribute("y",Ft.y||Dt.y),dt.setAttribute("width",Ft.width||Dt.width),dt.setAttribute("height",Ft.height||Dt.height),this.filterManager=et;var Ut=createNS("feGaussianBlur");Ut.setAttribute("in","SourceAlpha"),Ut.setAttribute("result",kt+"_drop_shadow_1"),Ut.setAttribute("stdDeviation","0"),this.feGaussianBlur=Ut,dt.appendChild(Ut);var Ht=createNS("feOffset");Ht.setAttribute("dx","25"),Ht.setAttribute("dy","0"),Ht.setAttribute("in",kt+"_drop_shadow_1"),Ht.setAttribute("result",kt+"_drop_shadow_2"),this.feOffset=Ht,dt.appendChild(Ht);var Kt=createNS("feFlood");Kt.setAttribute("flood-color","#00ff00"),Kt.setAttribute("flood-opacity","1"),Kt.setAttribute("result",kt+"_drop_shadow_3"),this.feFlood=Kt,dt.appendChild(Kt);var Yt=createNS("feComposite");Yt.setAttribute("in",kt+"_drop_shadow_3"),Yt.setAttribute("in2",kt+"_drop_shadow_2"),Yt.setAttribute("operator","in"),Yt.setAttribute("result",kt+"_drop_shadow_4"),dt.appendChild(Yt);var Jt=this.createMergeNode(kt,[kt+"_drop_shadow_4",Tt]);dt.appendChild(Jt)}extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(dt){if(dt||this.filterManager._mdf){if((dt||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),dt||this.filterManager.effectElements[0].p._mdf){var et=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(et[0]*255),Math.round(et[1]*255),Math.round(et[2]*255)))}if((dt||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),dt||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var $t=this.filterManager.effectElements[3].p.v,kt=(this.filterManager.effectElements[2].p.v-90)*degToRads,Tt=$t*Math.cos(kt),Dt=$t*Math.sin(kt);this.feOffset.setAttribute("dx",Tt),this.feOffset.setAttribute("dy",Dt)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(dt,et,$t){this.initialized=!1,this.filterManager=et,this.filterElem=dt,this.elem=$t,$t.matteElement=createNS("g"),$t.matteElement.appendChild($t.layerElement),$t.matteElement.appendChild($t.transformedElement),$t.baseElement=$t.matteElement}SVGMatte3Effect.prototype.findSymbol=function(dt){for(var et=0,$t=_svgMatteSymbols.length;et<$t;){if(_svgMatteSymbols[et]===dt)return _svgMatteSymbols[et];et+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(dt,et){var $t=dt.layerElement.parentNode;if($t){for(var kt=$t.children,Tt=0,Dt=kt.length;Tt<Dt&&kt[Tt]!==dt.layerElement;)Tt+=1;var Ft;Tt<=Dt-2&&(Ft=kt[Tt+1]);var Ut=createNS("use");Ut.setAttribute("href","#"+et),Ft?$t.insertBefore(Ut,Ft):$t.appendChild(Ut)}},SVGMatte3Effect.prototype.setElementAsMask=function(dt,et){if(!this.findSymbol(et)){var $t=createElementID(),kt=createNS("mask");kt.setAttribute("id",et.layerId),kt.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(et);var Tt=dt.globalData.defs;Tt.appendChild(kt);var Dt=createNS("symbol");Dt.setAttribute("id",$t),this.replaceInParent(et,$t),Dt.appendChild(et.layerElement),Tt.appendChild(Dt);var Ft=createNS("use");Ft.setAttribute("href","#"+$t),kt.appendChild(Ft),et.data.hd=!1,et.show()}dt.setMatte(et.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var dt=this.filterManager.effectElements[0].p.v,et=this.elem.comp.elements,$t=0,kt=et.length;$t<kt;)et[$t]&&et[$t].data.ind===dt&&this.setElementAsMask(this.elem,et[$t]),$t+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()};function SVGGaussianBlurEffect(dt,et,$t,kt){dt.setAttribute("x","-100%"),dt.setAttribute("y","-100%"),dt.setAttribute("width","300%"),dt.setAttribute("height","300%"),this.filterManager=et;var Tt=createNS("feGaussianBlur");Tt.setAttribute("result",kt),dt.appendChild(Tt),this.feGaussianBlur=Tt}SVGGaussianBlurEffect.prototype.renderFrame=function(dt){if(dt||this.filterManager._mdf){var et=.3,$t=this.filterManager.effectElements[0].p.v*et,kt=this.filterManager.effectElements[1].p.v,Tt=kt==3?0:$t,Dt=kt==2?0:$t;this.feGaussianBlur.setAttribute("stdDeviation",Tt+" "+Dt);var Ft=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",Ft)}};function TransformEffect(){}TransformEffect.prototype.init=function(dt){this.effectsManager=dt,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(dt){if(this._opMdf=!1,this._mdf=!1,dt||this.effectsManager._mdf){var et=this.effectsManager.effectElements,$t=et[0].p.v,kt=et[1].p.v,Tt=et[2].p.v===1,Dt=et[3].p.v,Ft=Tt?Dt:et[4].p.v,Ut=et[5].p.v,Ht=et[6].p.v,Kt=et[7].p.v;this.matrix.reset(),this.matrix.translate(-$t[0],-$t[1],$t[2]),this.matrix.scale(Ft*.01,Dt*.01,1),this.matrix.rotate(-Kt*degToRads),this.matrix.skewFromAxis(-Ut*degToRads,(Ht+90)*degToRads),this.matrix.translate(kt[0],kt[1],0),this._mdf=!0,this.opacity!==et[8].p.v&&(this.opacity=et[8].p.v,this._opMdf=!0)}};function SVGTransformEffect(dt,et){this.init(et)}extendPrototype([TransformEffect],SVGTransformEffect);function CVTransformEffect(dt){this.init(dt)}return extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie})})(lottie$1,lottie$1.exports);var lottieExports=lottie$1.exports;const lottie=getDefaultExportFromCjs(lottieExports);function _iterableToArrayLimit(dt,et){var $t=dt==null?null:typeof Symbol<"u"&&dt[Symbol.iterator]||dt["@@iterator"];if($t!=null){var kt,Tt,Dt,Ft,Ut=[],Ht=!0,Kt=!1;try{if(Dt=($t=$t.call(dt)).next,et===0){if(Object($t)!==$t)return;Ht=!1}else for(;!(Ht=(kt=Dt.call($t)).done)&&(Ut.push(kt.value),Ut.length!==et);Ht=!0);}catch(Yt){Kt=!0,Tt=Yt}finally{try{if(!Ht&&$t.return!=null&&(Ft=$t.return(),Object(Ft)!==Ft))return}finally{if(Kt)throw Tt}}return Ut}}function ownKeys$2(dt,et){var $t=Object.keys(dt);if(Object.getOwnPropertySymbols){var kt=Object.getOwnPropertySymbols(dt);et&&(kt=kt.filter(function(Tt){return Object.getOwnPropertyDescriptor(dt,Tt).enumerable})),$t.push.apply($t,kt)}return $t}function _objectSpread2(dt){for(var et=1;et<arguments.length;et++){var $t=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$2(Object($t),!0).forEach(function(kt){_defineProperty$2(dt,kt,$t[kt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(dt,Object.getOwnPropertyDescriptors($t)):ownKeys$2(Object($t)).forEach(function(kt){Object.defineProperty(dt,kt,Object.getOwnPropertyDescriptor($t,kt))})}return dt}function _defineProperty$2(dt,et,$t){return et=_toPropertyKey(et),et in dt?Object.defineProperty(dt,et,{value:$t,enumerable:!0,configurable:!0,writable:!0}):dt[et]=$t,dt}function _objectWithoutPropertiesLoose$1(dt,et){if(dt==null)return{};var $t={},kt=Object.keys(dt),Tt,Dt;for(Dt=0;Dt<kt.length;Dt++)Tt=kt[Dt],!(et.indexOf(Tt)>=0)&&($t[Tt]=dt[Tt]);return $t}function _objectWithoutProperties$2(dt,et){if(dt==null)return{};var $t=_objectWithoutPropertiesLoose$1(dt,et),kt,Tt;if(Object.getOwnPropertySymbols){var Dt=Object.getOwnPropertySymbols(dt);for(Tt=0;Tt<Dt.length;Tt++)kt=Dt[Tt],!(et.indexOf(kt)>=0)&&Object.prototype.propertyIsEnumerable.call(dt,kt)&&($t[kt]=dt[kt])}return $t}function _slicedToArray(dt,et){return _arrayWithHoles(dt)||_iterableToArrayLimit(dt,et)||_unsupportedIterableToArray(dt,et)||_nonIterableRest()}function _arrayWithHoles(dt){if(Array.isArray(dt))return dt}function _unsupportedIterableToArray(dt,et){if(dt){if(typeof dt=="string")return _arrayLikeToArray(dt,et);var $t=Object.prototype.toString.call(dt).slice(8,-1);if($t==="Object"&&dt.constructor&&($t=dt.constructor.name),$t==="Map"||$t==="Set")return Array.from(dt);if($t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($t))return _arrayLikeToArray(dt,et)}}function _arrayLikeToArray(dt,et){(et==null||et>dt.length)&&(et=dt.length);for(var $t=0,kt=new Array(et);$t<et;$t++)kt[$t]=dt[$t];return kt}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _toPrimitive(dt,et){if(typeof dt!="object"||dt===null)return dt;var $t=dt[Symbol.toPrimitive];if($t!==void 0){var kt=$t.call(dt,et||"default");if(typeof kt!="object")return kt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(dt)}function _toPropertyKey(dt){var et=_toPrimitive(dt,"string");return typeof et=="symbol"?et:String(et)}var _excluded$1=["animationData","loop","autoplay","initialSegment","onComplete","onLoopComplete","onEnterFrame","onSegmentStart","onConfigReady","onDataReady","onDataFailed","onLoadedImages","onDOMLoaded","onDestroy","lottieRef","renderer","name","assetsPath","rendererSettings"],useLottie=function dt(et,$t){var kt=et.animationData,Tt=et.loop,Dt=et.autoplay,Ft=et.initialSegment,Ut=et.onComplete,Ht=et.onLoopComplete,Kt=et.onEnterFrame,Yt=et.onSegmentStart,Jt=et.onConfigReady,Zt=et.onDataReady,er=et.onDataFailed,rr=et.onLoadedImages,sr=et.onDOMLoaded,ir=et.onDestroy;et.lottieRef,et.renderer,et.name,et.assetsPath,et.rendererSettings;var nr=_objectWithoutProperties$2(et,_excluded$1),or=reactExports.useState(!1),lr=_slicedToArray(or,2),cr=lr[0],dr=lr[1],ur=reactExports.useRef(),pr=reactExports.useRef(null),mr=function(){var Gr;(Gr=ur.current)===null||Gr===void 0||Gr.play()},vr=function(){var Gr;(Gr=ur.current)===null||Gr===void 0||Gr.stop()},kr=function(){var Gr;(Gr=ur.current)===null||Gr===void 0||Gr.pause()},br=function(Gr){var Xr;(Xr=ur.current)===null||Xr===void 0||Xr.setSpeed(Gr)},_r=function(Gr,Xr){var rs;(rs=ur.current)===null||rs===void 0||rs.goToAndPlay(Gr,Xr)},Or=function(Gr,Xr){var rs;(rs=ur.current)===null||rs===void 0||rs.goToAndStop(Gr,Xr)},Pr=function(Gr){var Xr;(Xr=ur.current)===null||Xr===void 0||Xr.setDirection(Gr)},Mr=function(Gr,Xr){var rs;(rs=ur.current)===null||rs===void 0||rs.playSegments(Gr,Xr)},Rr=function(Gr){var Xr;(Xr=ur.current)===null||Xr===void 0||Xr.setSubframe(Gr)},Tr=function(Gr){var Xr;return(Xr=ur.current)===null||Xr===void 0?void 0:Xr.getDuration(Gr)},xr=function(){var Gr;(Gr=ur.current)===null||Gr===void 0||Gr.destroy(),ur.current=void 0},wr=function(){var Gr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Xr;if(pr.current){(Xr=ur.current)===null||Xr===void 0||Xr.destroy();var rs=_objectSpread2(_objectSpread2(_objectSpread2({},et),Gr),{},{container:pr.current});return ur.current=lottie.loadAnimation(rs),dr(!!ur.current),function(){var Yr;(Yr=ur.current)===null||Yr===void 0||Yr.destroy(),ur.current=void 0}}};reactExports.useEffect(function(){var Hr=wr();return function(){return Hr==null?void 0:Hr()}},[kt,Tt]),reactExports.useEffect(function(){ur.current&&(ur.current.autoplay=!!Dt)},[Dt]),reactExports.useEffect(function(){if(ur.current){if(!Ft){ur.current.resetSegments(!0);return}!Array.isArray(Ft)||!Ft.length||((ur.current.currentRawFrame<Ft[0]||ur.current.currentRawFrame>Ft[1])&&(ur.current.currentRawFrame=Ft[0]),ur.current.setSegment(Ft[0],Ft[1]))}},[Ft]),reactExports.useEffect(function(){var Hr=[{name:"complete",handler:Ut},{name:"loopComplete",handler:Ht},{name:"enterFrame",handler:Kt},{name:"segmentStart",handler:Yt},{name:"config_ready",handler:Jt},{name:"data_ready",handler:Zt},{name:"data_failed",handler:er},{name:"loaded_images",handler:rr},{name:"DOMLoaded",handler:sr},{name:"destroy",handler:ir}],Gr=Hr.filter(function(rs){return rs.handler!=null});if(Gr.length){var Xr=Gr.map(function(rs){var Yr;return(Yr=ur.current)===null||Yr===void 0||Yr.addEventListener(rs.name,rs.handler),function(){var es;(es=ur.current)===null||es===void 0||es.removeEventListener(rs.name,rs.handler)}});return function(){Xr.forEach(function(rs){return rs()})}}},[Ut,Ht,Kt,Yt,Jt,Zt,er,rr,sr,ir]);var zr=React$2.createElement("div",_objectSpread2({style:$t,ref:pr},nr));return{View:zr,play:mr,stop:vr,pause:kr,setSpeed:br,goToAndStop:Or,goToAndPlay:_r,setDirection:Pr,playSegments:Mr,setSubframe:Rr,getDuration:Tr,destroy:xr,animationContainerRef:pr,animationLoaded:cr,animationItem:ur.current}};function getContainerVisibility(dt){var et=dt.getBoundingClientRect(),$t=et.top,kt=et.height,Tt=window.innerHeight-$t,Dt=window.innerHeight+kt;return Tt/Dt}function getContainerCursorPosition(dt,et,$t){var kt=dt.getBoundingClientRect(),Tt=kt.top,Dt=kt.left,Ft=kt.width,Ut=kt.height,Ht=(et-Dt)/Ft,Kt=($t-Tt)/Ut;return{x:Ht,y:Kt}}var useInitInteractivity=function dt(et){var $t=et.wrapperRef,kt=et.animationItem,Tt=et.mode,Dt=et.actions;reactExports.useEffect(function(){var Ft=$t.current;if(!(!Ft||!kt||!Dt.length)){kt.stop();var Ut=function(){var Yt=null,Jt=function(){var er=getContainerVisibility(Ft),rr=Dt.find(function(ir){var nr=ir.visibility;return nr&&er>=nr[0]&&er<=nr[1]});if(rr){if(rr.type==="seek"&&rr.visibility&&rr.frames.length===2){var sr=rr.frames[0]+Math.ceil((er-rr.visibility[0])/(rr.visibility[1]-rr.visibility[0])*rr.frames[1]);//! goToAndStop must be relative to the start of the current segment
kt.goToAndStop(sr-kt.firstFrame-1,!0)}rr.type==="loop"&&(Yt===null||Yt!==rr.frames||kt.isPaused)&&(kt.playSegments(rr.frames,!0),Yt=rr.frames),rr.type==="play"&&kt.isPaused&&(kt.resetSegments(!0),kt.play()),rr.type==="stop"&&kt.goToAndStop(rr.frames[0]-kt.firstFrame-1,!0)}};return document.addEventListener("scroll",Jt),function(){document.removeEventListener("scroll",Jt)}},Ht=function(){var Yt=function(rr,sr){var ir=rr,nr=sr;if(ir!==-1&&nr!==-1){var or=getContainerCursorPosition(Ft,ir,nr);ir=or.x,nr=or.y}var lr=Dt.find(function(ur){var pr=ur.position;return pr&&Array.isArray(pr.x)&&Array.isArray(pr.y)?ir>=pr.x[0]&&ir<=pr.x[1]&&nr>=pr.y[0]&&nr<=pr.y[1]:pr&&!Number.isNaN(pr.x)&&!Number.isNaN(pr.y)?ir===pr.x&&nr===pr.y:!1});if(lr){if(lr.type==="seek"&&lr.position&&Array.isArray(lr.position.x)&&Array.isArray(lr.position.y)&&lr.frames.length===2){var cr=(ir-lr.position.x[0])/(lr.position.x[1]-lr.position.x[0]),dr=(nr-lr.position.y[0])/(lr.position.y[1]-lr.position.y[0]);kt.playSegments(lr.frames,!0),kt.goToAndStop(Math.ceil((cr+dr)/2*(lr.frames[1]-lr.frames[0])),!0)}lr.type==="loop"&&kt.playSegments(lr.frames,!0),lr.type==="play"&&(kt.isPaused&&kt.resetSegments(!1),kt.playSegments(lr.frames)),lr.type==="stop"&&kt.goToAndStop(lr.frames[0],!0)}},Jt=function(rr){Yt(rr.clientX,rr.clientY)},Zt=function(){Yt(-1,-1)};return Ft.addEventListener("mousemove",Jt),Ft.addEventListener("mouseout",Zt),function(){Ft.removeEventListener("mousemove",Jt),Ft.removeEventListener("mouseout",Zt)}};switch(Tt){case"scroll":return Ut();case"cursor":return Ht()}}},[Tt,kt])},useLottieInteractivity=function dt(et){var $t=et.actions,kt=et.mode,Tt=et.lottieObj,Dt=Tt.animationItem,Ft=Tt.View,Ut=Tt.animationContainerRef;return useInitInteractivity({actions:$t,animationItem:Dt,mode:kt,wrapperRef:Ut}),Ft},_excluded$2=["style","interactivity"],Lottie=function dt(et){var $t,kt,Tt,Dt=et.style,Ft=et.interactivity,Ut=_objectWithoutProperties$2(et,_excluded$2),Ht=useLottie(Ut,Dt),Kt=Ht.View,Yt=Ht.play,Jt=Ht.stop,Zt=Ht.pause,er=Ht.setSpeed,rr=Ht.goToAndStop,sr=Ht.goToAndPlay,ir=Ht.setDirection,nr=Ht.playSegments,or=Ht.setSubframe,lr=Ht.getDuration,cr=Ht.destroy,dr=Ht.animationContainerRef,ur=Ht.animationLoaded,pr=Ht.animationItem;return reactExports.useEffect(function(){et.lottieRef&&(et.lottieRef.current={play:Yt,stop:Jt,pause:Zt,setSpeed:er,goToAndPlay:sr,goToAndStop:rr,setDirection:ir,playSegments:nr,setSubframe:or,getDuration:lr,destroy:cr,animationContainerRef:dr,animationLoaded:ur,animationItem:pr})},[($t=et.lottieRef)===null||$t===void 0?void 0:$t.current]),useLottieInteractivity({lottieObj:{View:Kt,play:Yt,stop:Jt,pause:Zt,setSpeed:er,goToAndStop:rr,goToAndPlay:sr,setDirection:ir,playSegments:nr,setSubframe:or,getDuration:lr,destroy:cr,animationContainerRef:dr,animationLoaded:ur,animationItem:pr},actions:(kt=Ft==null?void 0:Ft.actions)!==null&&kt!==void 0?kt:[],mode:(Tt=Ft==null?void 0:Ft.mode)!==null&&Tt!==void 0?Tt:"scroll"})};const nm="error",ddd=0,h$3=495,w$7=610,meta={g:"@lottiefiles/toolkit-js 0.26.1"},layers=[{ty:4,nm:"onda contornos",sr:1,st:0,op:1750,ip:0,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[215.177,7.452,0],ix:1},s:{a:1,k:[{o:{x:.333,y:0},i:{x:.667,y:1},s:[100,100,100],t:0},{o:{x:.333,y:0},i:{x:.667,y:1},s:[98,98,100],t:25},{s:[100,100,100],t:50}],ix:6},sk:{a:0,k:0},p:{a:0,k:[290.23,391.787,0],ix:2},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 1",ix:1,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[18.019,-3.444],[11.925,3.71],[15.246,-5.628],[13.16,-1.326],[6.095,1.06],[18.549,-4.579],[20.669,-11.401],[0,0]],o:[[-18.019,3.445],[-11.924,-3.71],[-15.247,5.627],[-13.16,1.325],[-6.094,-1.06],[-18.549,4.579],[0,0],[0,0]],v:[[172.782,-2.665],[120.58,-2.135],[64.933,1.575],[-12.001,-5.314],[-55.9,2.105],[-108.102,-.619],[-214.927,4.199],[214.927,4.171]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[.7608,.7961,.9176],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[215.177,7.452],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]}],ind:1},{ty:4,nm:"mascara contornos",sr:1,st:0,op:1750,ip:0,hd:!1,ddd:0,bm:0,hasMask:!1,td:1,ao:0,ks:{a:{a:0,k:[236.75,48.666,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{a:0,k:[306.5,443.092,0],ix:2},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 1",ix:1,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[236.5,48.416],[-236.5,48.416],[-236.5,-48.416],[236.5,-48.416]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[1,1,1],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[236.75,48.666],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]}],ind:2},{ty:4,nm:"barco contornos",sr:1,st:0,op:1750,ip:0,hd:!1,ddd:0,bm:0,tt:2,hasMask:!1,ao:0,ks:{a:{a:0,k:[238.525,103.168,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{a:1,k:[{o:{x:.333,y:0},i:{x:.667,y:1},s:[298.895,340.028,0],t:0,ti:[0,0,0],to:[0,.995,0]},{o:{x:.333,y:0},i:{x:.667,y:1},s:[298.895,346,0],t:25,ti:[0,.995,0],to:[0,0,0]},{s:[298.895,340.028,0],t:50}],ix:2},r:{a:1,k:[{o:{x:.333,y:0},i:{x:.667,y:1},s:[0],t:0},{o:{x:.333,y:0},i:{x:.667,y:1},s:[1],t:25},{s:[0],t:50}],ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 1",ix:1,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,0],[34.934,18.014],[.174,.101],[0,0],[-20.846,-10.75],[-11.059,-3.23],[0,0]],o:[[-8.314,-1.72],[-20.869,-10.761],[0,0],[.173,.102],[27.561,14.213],[0,0],[0,0]],v:[[50.064,23.648],[-12.12,-2.247],[-50.064,-23.648],[-48.52,-23.283],[-11.623,-3.201],[48.425,22.504],[48.994,22.88]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[.1686,.1608,.3686],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[50.595,73.639],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 2",ix:2,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[.734,-5.533],[2.44,-4.275],[0,0],[-.479,3.608],[.983,3.414],[0,0]],o:[[-.688,5.183],[0,0],[1.73,-2.956],[.497,-3.745],[0,0],[1.453,5.042]],v:[[7.355,.862],[2.555,15.132],[-8.089,9.167],[-4.699,-.739],[-5.492,-11.566],[6.178,-15.132]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[.9098,.4275,.1882],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[115.743,122.502],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 3",ix:3,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[-1.194,-3.664],[0,0],[-.797,6.003],[-2.282,4.144],[0,0],[.434,-3.271]],o:[[0,0],[-1.756,-5.397],[.66,-4.971],[0,0],[-1.473,2.748],[-.541,4.075]],v:[[6.506,11.687],[-6,15.504],[-7.563,-1.76],[-3.057,-15.504],[8.36,-9.109],[5.44,-.034]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[.9098,.4275,.1882],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[52.884,114.798],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 4",ix:4,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,0],[5.822,.774],[4.058,2.181],[0,0],[-3.355,-.445],[-3.466,1.022]],o:[[-5.262,1.636],[-4.837,-.641],[0,0],[2.8,1.537],[3.812,.506],[0,0]],v:[[15.093,5.954],[-1.685,7.362],[-15.093,3.043],[-8.832,-8.136],[.45,-5.101],[11.458,-5.945]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[.9098,.4275,.1882],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[80.698,149.982],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 5",ix:5,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[-4.76,-3.116],[0,0],[4.006,.532],[3.244,-.853],[0,0],[-5.01,-.665]],o:[[0,0],[-3.188,-2.051],[-3.528,-.468],[0,0],[4.627,-1.143],[6.014,.799]],v:[[15.421,-1.916],[8.808,8.618],[-2.064,4.637],[-12.292,5.268],[-15.421,-7.166],[-.872,-7.954]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[.9098,.4275,.1882],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[90.212,87.524],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 6",ix:6,cix:2,np:6,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[1.729,-2.957],[6.489,-1.913],[3.812,.506],[2.799,1.537],[2.086,6.41],[-.541,4.074],[-1.472,2.748],[-7.128,1.866],[-3.527,-.468],[-3.188,-2.051],[-1.781,-6.203],[.498,-3.746]],o:[[-3.416,5.852],[-3.466,1.023],[-3.355,-.445],[-5.946,-3.261],[-1.194,-3.663],[.435,-3.273],[3.497,-6.508],[3.244,-.852],[4.007,.532],[5.417,3.48],[.983,3.413],[-.479,3.607]],v:[[23.477,13.415],[8.012,25.525],[-2.997,26.37],[-12.279,23.335],[-24.788,8.229],[-25.854,-3.49],[-22.934,-12.566],[-6.225,-25.72],[4.003,-26.349],[14.876,-22.368],[26.073,-7.317],[26.865,3.51]]},ix:2}},{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 2",ix:2,d:1,ks:{a:0,k:{c:!0,i:[[1.452,5.041],[7.856,5.136],[6.015,.797],[4.626,-1.143],[5.274,-9.583],[.66,-4.971],[-1.756,-5.399],[-8.926,-4.799],[-4.837,-.642],[-5.262,1.636],[-4.931,8.644],[-.688,5.182]],o:[[-2.601,-9.045],[-4.761,-3.117],[-5.009,-.667],[-10.62,2.619],[-2.282,4.144],[-.797,6.003],[3.109,9.567],[4.058,2.18],[5.822,.773],[9.469,-2.94],[2.439,-4.276],[.735,-5.533]],v:[[37.744,-10.884],[21.488,-32.902],[5.196,-38.939],[-9.353,-38.152],[-34.352,-18.961],[-38.856,-5.217],[-37.294,12.048],[-18.539,34.514],[-5.132,38.833],[11.646,37.425],[34.121,19.379],[38.919,5.11]]},ix:2}},{ty:"mm",bm:0,hd:!1,mn:"ADBE Vector Filter - Merge",nm:"Mesclar caminhos 1",mm:1},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[.8784,.8784,.8784],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[84.144,118.511],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 7",ix:7,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[18.726,2.442],[0,0],[-.705,.04],[0,0]],o:[[0,0],[18.626,2.429],[0,0],[-.706,.041]],v:[[-45.038,-.021],[-44.899,-1.085],[43.292,-2.421],[45.038,-2.008]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[.1686,.1608,.3686],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[147.494,97.467],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 8",ix:8,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[130.107,-38.817],[35.758,50.211],[-130.107,28.187],[-111.111,-50.211]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[0,.1255,.2627],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[346.693,155.875],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 9",ix:9,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,0],[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0],[0,0]],v:[[238.275,-10.946],[143.925,78.082],[-158.527,37.921],[-238.275,-78.082],[-2.944,-22.34]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[0,.8078,.7882],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[238.525,128.004],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 10",ix:10,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[-30.452,-11.733],[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0],[22.546,8.675]],v:[[54.447,15.708],[-29.446,6.601],[-54.448,2.22],[-45.036,-5.08],[-31.336,-15.708]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[0,.1255,.2627],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[181.186,89.557],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 11",ix:11,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0]],v:[[64.818,58.717],[-64.818,-61.806],[.327,61.806]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[0,.1255,.2627],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[309.542,62.056],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 12",ix:12,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],v:[[91.565,61.805],[16.21,48.604],[-66.562,34.103],[-91.564,29.721],[-82.154,22.422],[-68.452,11.794],[-64.768,8.934],[26.419,-61.805],[75.721,31.747]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[0,.8078,.7882],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[218.304,62.056],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]}],ind:3},{ty:4,nm:"bandeira contornos",sr:1,st:0,op:1750,ip:0,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[3.333,103.527,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{a:0,k:[508.393,364.277,0],ix:2},r:{a:1,k:[{o:{x:.167,y:.167},i:{x:.833,y:.833},s:[0],t:0},{o:{x:.167,y:.167},i:{x:.833,y:.833},s:[-2],t:25},{s:[0],t:50}],ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 1",ix:1,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[.658,-2.953],[0,0],[0,0],[1.126,4.839]],o:[[-.67,2.999],[0,0],[1.614,-1.725],[.1,.1]],v:[[3.548,.438],[-4.206,5.982],[-4.206,5.979],[.835,-5.982]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[.9098,.4275,.1882],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[40.042,10.085],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 2",ix:2,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,0],[7.587,6.536],[2.491,-.102],[.116,.13],[0,0],[-.384,.003],[0,0],[0,-.002],[1.614,-1.724],[0,0],[0,0],[0,0],[0,0],[0,0],[-.505,-.066],[0,0],[-7.421,-5.626],[0,0],[0,0]],o:[[0,0],[-6.49,-5.591],[-.022,-.006],[0,0],[0,0],[0,0],[0,.001],[1.126,4.839],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[2.297,-.311],[8.902,6.748],[0,0],[0,0]],v:[[19.81,-1.324],[4.701,-6.806],[-13.361,-12.344],[-14.212,-12.72],[-14.578,-11.828],[-13.731,-11.387],[-13.729,-11.388],[-13.729,-11.384],[-18.77,.577],[-18.77,.58],[-18.771,.58],[-19.525,.237],[-19.809,.93],[-19.81,.932],[-18.689,1.354],[-18.549,1.01],[-1.682,5.948],[16.577,12.72],[14.09,4.741]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[.9098,.4275,.1882],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[54.606,15.487],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 3",ix:3,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[.027,-.206],[.013,-.035],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[-.219,-.085]],o:[[-.005,.036],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[.089,-.218],[.201,.081]],v:[[20.93,-49.702],[20.902,-49.594],[20.04,-47.383],[20.04,-47.382],[19.668,-46.43],[19.668,-46.428],[15.306,-35.217],[15.079,-34.632],[14.954,-34.311],[14.71,-33.687],[-17.967,50.277],[-20.956,50.137],[13.589,-34.109],[13.59,-34.111],[13.874,-34.805],[18.821,-46.868],[19.188,-47.762],[20.087,-49.956],[20.641,-50.193]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[.8118,.8314,.9255],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[21.206,50.527],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]}],ind:4},{ty:4,nm:"hominho contornos",sr:1,st:0,op:1750,ip:0,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[61,205,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{a:0,k:[153.864,377.089,0],ix:2},r:{a:1,k:[{o:{x:.333,y:0},i:{x:.667,y:1},s:[0],t:0},{o:{x:.333,y:0},i:{x:.667,y:1},s:[2],t:25},{s:[0],t:50}],ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 1",ix:1,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[3.986,-3.765],[-.075,4.263],[-3.986,-.553],[-3.493,-4.263]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[.9176,.5529,.3059],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[97.339,38.926],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 2",ix:2,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[-.562,-8.323],[0,0],[0,0],[1.36,.35],[0,0],[5.078,1.566],[0,0],[.814,1.124],[-5.522,-2.048]],o:[[0,0],[-.808,.107],[0,0],[-1.359,-.356],[0,0],[0,0],[-1.596,-.485],[-3.418,-4.711],[5.522,2.048]],v:[[13.008,-2.493],[12.001,4.652],[10.312,5.359],[7.791,10.466],[6.728,.137],[-5.829,-.359],[-5.828,-.365],[-9.59,-2.727],[-5.788,-7.58]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[.2,.2,.2],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[95.438,17.148],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 3",ix:3,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[-.809,.107],[-.116,-.991],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[-.629,4.74],[-.194,.58],[0,0],[0,0],[-1.359,-.356],[0,0]],o:[[.624,-.087],[.272,2.269],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[.146,-1.094],[0,0],[5.078,1.566],[0,0],[1.359,.35],[0,0]],v:[[8.821,-8.33],[10.152,-7.222],[7.611,-2.644],[6.924,7.179],[-1.544,13.34],[2.518,5.313],[-4.963,4.813],[-9.338,3.738],[-10.424,2.403],[-9.585,-10.532],[-9.079,-13.115],[-9.01,-13.34],[3.549,-12.844],[4.611,-2.515],[7.132,-7.623]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[.949,.6,.2902],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[98.577,30.124],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 4",ix:4,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[-27.616,-9.801],[0,0],[0,0],[0,0]],v:[[9.572,21.137],[-18.343,-21.136],[-3.118,6.541],[18.343,4.45]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[0,.2039,.4196],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[96.057,55.643],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 5",ix:5,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,0],[0,0],[.764,.72],[-.083,1.851],[1.039,2.566],[-.396,.279],[-1.226,.312],[-.102,-1.634],[-.007,-.046],[-.404,-1.421]],o:[[0,0],[0,0],[-.996,-.933],[.115,-2.484],[-.334,-.82],[.504,-.363],[2.714,-.681],[.001,.039],[.064,.647],[1.219,4.354]],v:[[6.884,6.578],[1.556,9.341],[.103,8.224],[-1.936,3.969],[-6.475,-5.63],[-6.488,-7.344],[-3.696,-8.419],[2.648,-7.707],[2.663,-7.576],[3.415,-4.318]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[.949,.6,.2902],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[78.549,23.927],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 6",ix:6,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[-3.947,.211],[0,0],[0,0],[1.336,-.011],[10.934,5.859],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[-6.258,.062],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[.764,.719],[0,0],[0,0],[0,0]],v:[[40.412,1.789],[31.641,18.477],[28.509,35.442],[26.4,35.488],[-9.476,29.344],[-2.174,8.72],[-2.025,-8.292],[-27.405,-8.849],[-40.412,-31.214],[-38.108,-32.53],[-32.811,-35.549],[-19.9,-19.09],[4.664,-26.152],[6.117,-25.035],[3.726,-23.797],[18.953,3.862]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[0,.8078,.7882],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[73.989,58.304],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 7",ix:7,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,0],[0,0],[.27,.029],[0,0],[0,0]],o:[[0,0],[-.244,-.072],[-3.801,-.447],[0,0],[0,0]],v:[[-1.025,-5.379],[9.493,.432],[8.726,.278],[-5.761,5.379],[-9.493,.782]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[0,.2039,.4196],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[106.756,42.408],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 8",ix:8,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,0],[0,0],[0,0],[-3.801,-.446],[-.244,-.072],[1.081,-3.632],[3.946,-.205],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[.269,.029],[3.283,.917],[-1.164,3.914],[-3.947,.211],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],v:[[-6.037,-7.682],[-2.126,-2.866],[1.606,1.731],[16.092,-3.37],[16.859,-3.216],[20.594,5.476],[15.011,14.038],[-6.449,16.11],[-21.675,-11.549],[-19.284,-12.787],[-13.956,-15.55],[-12.88,-16.11],[-11.005,-13.804],[-9.919,-12.469]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[0,.8078,.7882],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[99.39,46.056],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 9",ix:9,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0]],v:[[2.188,-1.317],[1.694,2.393],[-2.188,-2.393]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[0,.2039,.4196],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[91.658,35.98],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 10",ix:10,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,0],[0,0],[-.65,3.078],[0,0],[-.889,.37],[-1.354,-1.521],[-.21,-.673]],o:[[0,0],[0,0],[0,0],[.065,-1.079],[1.178,-.489],[.277,.317],[.805,2.561]],v:[[5.163,4.06],[-.135,7.082],[-4.512,-2.895],[-1.344,-2.878],[-.154,-6.592],[3.301,-4.383],[4.035,-2.846]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[.949,.6,.2902],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[36.015,18.694],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 11",ix:11,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],v:[[10.718,3.027],[10.627,3.713],[-11.228,.811],[-10.627,-3.713],[11.228,-.811],[11.13,-.076]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[.8627,.2784,.3294],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[52.567,14.101],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 12",ix:12,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,0],[0,0],[0,0],[.063,.647],[0,0]],o:[[0,0],[0,0],[-.404,-1.421],[0,0],[0,0]],v:[[3.357,.796],[3.193,2.03],[-2.853,1.228],[-3.605,-2.03],[3.605,-1.072]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[.0667,.0627,.1373],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[84.818,18.382],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 13",ix:13,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,0],[0,0],[.504,-.363],[-.334,-.819],[0,0]],o:[[0,0],[-1.226,.313],[-.395,.279],[0,0],[0,0]],v:[[-5.372,-2.135],[5.785,-.654],[2.992,.421],[3.005,2.135],[-5.785,.968]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[.0667,.0627,.1373],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[69.069,16.161],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 14",ix:14,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[-.021,.206],[.454,1.336],[.738,.319],[0,0],[.701,-3.656],[.043,-.319],[-.212,-1.246],[-1.247,-.166],[-.132,.015],[-.518,3.902]],o:[[.185,-1.929],[-.388,-1.146],[0,0],[-1.798,-.141],[-.066,.304],[-.204,1.542],[.366,2.145],[.135,.017],[1.848,-.184],[.028,-.211]],v:[[3.624,-.078],[3.172,-5.105],[1.451,-7.391],[.883,-7.532],[-3.448,-1.343],[-3.605,-.407],[-3.57,3.843],[-1.036,7.656],[-.626,7.658],[3.554,.544]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[.8627,.2784,.3294],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[4.059,7.923],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 15",ix:15,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,0],[0,0],[0,0],[.277,.317],[1.178,-.488],[.065,-1.079],[0,0],[0,0],[0,0],[-.518,3.902],[1.686,.732],[0,0],[0,0]],o:[[0,0],[0,0],[-.21,-.673],[-1.354,-1.521],[-.889,.371],[0,0],[0,0],[0,0],[1.848,-.185],[.512,-3.851],[0,0],[0,0],[0,0]],v:[[18.604,6.72],[18.479,7.66],[17.313,7.656],[16.58,6.119],[13.124,3.909],[11.934,7.625],[8.766,7.608],[-19.296,7.443],[-19.303,7.39],[-15.124,.276],[-17.227,-7.66],[19.303,1.449],[19.204,2.197]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[.9098,.4275,.1882],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[22.736,8.191],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 16",ix:16,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,0],[0,0],[0,0],[0,0],[0,0],[-7.889,-.188],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0],[-1.424,-7.763],[0,0],[0,0],[17.34,5.523],[0,0]],v:[[15.789,-4.481],[-5.23,-8.073],[-6.092,24.732],[-21.09,27.96],[-24.038,-13.084],[-11.495,-27.772],[-5.111,-27.618],[-5.104,-27.617],[25.462,-3.139]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[0,.1255,.2627],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[52.459,114.844],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 17",ix:17,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,0],[0,0],[1.246,-7.213],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],v:[[-3.821,-6.273],[-4.877,-2.729],[-11.295,4.52],[1.911,6.273],[10.017,.222],[11.295,-4.265]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[.5137,.6,.702],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[82.042,197.797],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 18",ix:18,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,0],[-2.653,-12.601],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-.527,-11.795],[-9.312,13.551],[11.965,-10.136],[10.064,-13.551]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[.5137,.6,.702],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[34.803,153.627],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 19",ix:19,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,0],[0,0],[0,0],[17.34,5.522],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],v:[[20.148,53.268],[3.293,51.029],[2.995,-28.791],[-27.572,-53.268],[-10.414,-52.845],[27.572,-46.748]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[0,.2039,.4196],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[74.927,140.495],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]}],ind:5},{ty:4,nm:"nuvem contornos 3",sr:1,st:0,op:1750,ip:0,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[48.338,13.382,0],ix:1},s:{a:0,k:[173,173,100],ix:6},sk:{a:0,k:0},p:{a:0,k:[441.196,174.382,0],ix:2},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 1",ix:1,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[-13.305,-1.026],[-18.691,-.966],[0,0],[-9.991,-13.554],[0,0]],o:[[0,0],[18.69,.967],[0,0],[0,0],[0,0]],v:[[-29.094,4.319],[-1.289,-13.346],[23.524,4.319],[48.338,13.382],[-48.338,13.382]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[.8706,.8902,.9569],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[48.338,13.382],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]}],ind:6},{ty:4,nm:"nuvem contornos 2",sr:1,st:0,op:1750,ip:0,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[48.338,13.382,0],ix:1},s:{a:0,k:[248,248,100],ix:6},sk:{a:0,k:0},p:{a:0,k:[171.196,120.382,0],ix:2},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 1",ix:1,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[-13.305,-1.026],[-18.691,-.966],[0,0],[-9.991,-13.554],[0,0]],o:[[0,0],[18.69,.967],[0,0],[0,0],[0,0]],v:[[-29.094,4.319],[-1.289,-13.346],[23.524,4.319],[48.338,13.382],[-48.338,13.382]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[.8706,.8902,.9569],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[48.338,13.382],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]}],ind:7},{ty:4,nm:"nuvem contornos",sr:1,st:0,op:1750,ip:0,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[48.338,13.382,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{a:0,k:[532.196,98.382,0],ix:2},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 1",ix:1,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[-13.305,-1.026],[-18.691,-.966],[0,0],[-9.991,-13.554],[0,0]],o:[[0,0],[18.69,.967],[0,0],[0,0],[0,0]],v:[[-29.094,4.319],[-1.289,-13.346],[23.524,4.319],[48.338,13.382],[-48.338,13.382]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[.8706,.8902,.9569],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[48.338,13.382],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]}],ind:8}],v$4="5.7.3",fr=25,op=50,ip=0,assets=[],notFound={nm,ddd,h:h$3,w:w$7,meta,layers,v:v$4,fr,op,ip,assets},NotFound=()=>jsxRuntimeExports.jsxs("section",{className:"max-xl h-screen bg-gradient-to-r from-black to-silver",children:[jsxRuntimeExports.jsx("div",{className:" flex justify-center items-center",children:jsxRuntimeExports.jsx(Lottie,{className:"w-[500px] h-[500px]",animationData:notFound,loop:!0})}),jsxRuntimeExports.jsx("h3",{className:"font-palanquin padding-x text-center text-8xl font-bold text-phlokkGreen",children:"4 0 4"}),jsxRuntimeExports.jsx("p",{className:"m-auto mt-4 max-w-lg text-center notFound-text",children:"Page does not exist!"}),jsxRuntimeExports.jsx("div",{className:"mt-24 flex-1 justify-center items-center text-center text-white max-lg:flex-col gap-14",children:jsxRuntimeExports.jsxs("h1",{children:["Go back to ",jsxRuntimeExports.jsxs(Link$2,{to:"/",children:[" ",jsxRuntimeExports.jsx("span",{className:"text-phlokkGreen",children:"Homepage"})]})]})})]});function ThankYou(){const{search:dt}=useLocation(),et=reactExports.useMemo(()=>new URLSearchParams(dt).get("session_id"),[dt]),[$t,kt]=reactExports.useState(null),[Tt,Dt]=reactExports.useState(!0);if(reactExports.useEffect(()=>{async function Jt(){var Zt;if(et)try{const er=await axiosInstance.get(`/seller-checkout/downloads/${et}/info`);(Zt=er.data)!=null&&Zt.success&&kt(er.data)}catch(er){console.error(" Failed to load delivery:",er)}finally{Dt(!1)}}Jt()},[et]),Tt)return jsxRuntimeExports.jsx("main",{className:"min-h-screen flex items-center justify-center text-white",children:"Loading your purchase..."});if(!$t)return jsxRuntimeExports.jsx("main",{className:"min-h-screen flex items-center justify-center text-white",children:"No delivery record found."});const Ft=$t.download_url;let Ut=!1,Ht=!1,Kt=[];try{const Jt=JSON.parse(Ft);Array.isArray(Jt)&&(Ht=!0,Kt=Jt)}catch{Kt=[Ft]}(Ft.endsWith(".pdf")||Ft.includes(".pdf"))&&(Ut=!0);const Yt=Ut?`https://themessyattic.com/api/seller-checkout/downloads/${et}/file`:null;return jsxRuntimeExports.jsx("main",{className:"min-h-screen bg-[#0b0b0b] text-white flex items-center justify-center px-6",children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-xl text-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl md:text-4xl font-bold",children:"Thank you for your purchase!"}),$t.cover_url&&jsxRuntimeExports.jsx("img",{src:$t.cover_url,className:"w-40 h-40 object-cover rounded-xl mx-auto mt-6 border border-white/10"}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-lg font-semibold",children:$t.product_name}),jsxRuntimeExports.jsx("p",{className:"mt-3 text-slate-300",children:"Your download is ready."}),Ut&&jsxRuntimeExports.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row items-center justify-center gap-4",children:[jsxRuntimeExports.jsx("a",{href:Yt,className:"inline-flex items-center justify-center rounded-xl px-6 py-3 font-semibold text-black hover:opacity-90 transition",style:{backgroundColor:"#7bed9f"},download:!0,children:"Download PDF"}),jsxRuntimeExports.jsx("a",{href:Yt,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center rounded-xl px-6 py-3 font-semibold border border-white/20 hover:bg-white/10 transition",children:"Open in New Tab"})]}),!Ut&&!Ht&&jsxRuntimeExports.jsx("div",{className:"mt-8",children:jsxRuntimeExports.jsx("a",{href:Kt[0],download:!0,className:"inline-flex items-center justify-center rounded-xl px-6 py-3 font-semibold text-black hover:opacity-90 transition",style:{backgroundColor:"#7bed9f"},children:"Download Audio"})}),Ht&&jsxRuntimeExports.jsxs("div",{className:"mt-8",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Album Tracks"}),Kt.map((Jt,Zt)=>jsxRuntimeExports.jsxs("a",{href:Jt,download:!0,className:"block text-left w-full bg-white/10 p-3 rounded mb-2 hover:bg-white/20 transition",children:["Track ",Zt+1]},Zt))]}),jsxRuntimeExports.jsx("div",{className:"mt-10 text-xs text-slate-500",children:"Having trouble? Forward your receipt email to support and well help."})]})})}const Terms=()=>jsxRuntimeExports.jsx("div",{className:"padding",children:jsxRuntimeExports.jsxs("div",{className:"max-container",children:[jsxRuntimeExports.jsx("div",{className:"header-title-text",children:"Terms and Conditions"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"These Terms and Conditions (Agreement) govern your access to and use of the The Messy Attic website, platform, and all related products and services (collectively, Services). By creating an account, making a purchase, or otherwise using our Services, you (User, you, or your) agree to be legally bound by this Agreement. If you do not agree, you must discontinue use of our Services immediately."}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h1",{className:"document-title-text",children:"Ownership and License"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"The Messy Attic owns and retains all rights, title, and interest in the Services, including all software, source code, algorithms, designs, trade secrets, and intellectual property. Your purchase provides a limited, non-transferable, non-exclusive license to use the Services for your personal or business needs in accordance with this Agreement. No ownership rights are transferred to you. Any attempt to copy, reverse-engineer, resell, or distribute the software or digital output without written permission is strictly prohibited."}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h1",{className:"document-title-text",children:"Accounts and Membership"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"You must be at least 18 years old to use our Services. You are responsible for providing accurate account information and maintaining the confidentiality of your login credentials. You are fully responsible for all activity that occurs under your account. We reserve the right to suspend or terminate accounts that provide false information, violate these terms, or attempt to bypass usage limits (including the maximum 25-page PDF limit per slot)."}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h1",{className:"document-title-text",children:"Custom Domains"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"The Messy Attic may allow eligible users to connect and use a custom domain name with their landing pages and digital products. By adding a custom domain, you represent and warrant that you are the legal owner of the domain or have full authorization to use and control it. You grant The Messy Attic permission to route traffic, provision security certificates, and host content associated with the domain for the purpose of providing the Services."}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"Custom domains are not activated until ownership has been verified through DNS configuration or other technical validation methods determined by The Messy Attic. We do not serve content on unverified domains. You are solely responsible for maintaining control of your domain and ensuring that it does not infringe upon trademarks, intellectual property rights, or applicable laws."}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"The Messy Attic reserves the right, in its sole discretion, to suspend, disable, or remove any custom domain that is used for unlawful activity, trademark infringement, impersonation, abuse, or violation of these Terms, without prior notice. Loss of access to a custom domain does not entitle you to a refund of subscription fees or credits."}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h1",{className:"document-title-text",children:"Purchases and Payments"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"All purchases, subscriptions, and credits made through our platform are final, as outlined in our Refund Policy. By making a purchase, you agree to provide valid and accurate payment details. We reserve the right to refuse or cancel any order suspected of fraud or unauthorized use. Pricing is subject to change at our discretion."}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h1",{className:"document-title-text",children:"Seller Dashboard, Marketplace Sales, and Stripe Connect"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs("p",{className:"document-p-text",children:["The Messy Attic provides tools that allow independent sellers to upload, price, and sell their digital products through their own landing pages using the Seller Dashboard. By becoming a seller, you acknowledge and agree to the following:",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{})," All seller payments and payouts are processed through Stripe Connect, and sellers must maintain a valid Stripe Express account to receive funds.",jsxRuntimeExports.jsx("br",{})," The Messy Attic is a platform provider and is not the merchant of record for seller products. All digital items sold through landing pages are created and owned by the seller.",jsxRuntimeExports.jsx("br",{})," Sellers are fully responsible for the accuracy, legality, and quality of the digital products they provide, including PDFs, guides, templates, or any uploaded content.",jsxRuntimeExports.jsx("br",{})," All sales made through seller landing pages are final. Cre8tly Studio does not issue refunds for seller products and is not responsible for disputes between buyers and sellers.",jsxRuntimeExports.jsx("br",{})," In the event of a technical issue involving file delivery, Cre8tly Studio may assist in verifying delivery errors but is not required to modify, replace, or refund seller content.",jsxRuntimeExports.jsx("br",{})," Sellers are responsible for complying with all applicable laws, including taxes, content rights, and consumer protection regulations related to the digital products they offer.",jsxRuntimeExports.jsx("br",{})]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h1",{className:"document-title-text",children:"Digital Products and Slots"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"Lead magnet slots and generated PDFs are digital products licensed for your own use. You may not resell, redistribute, or use them for automated scraping or mass content generation beyond what is permitted by your plan. Slots cannot be exchanged, refunded, or rolled over once purchased. Misuse of slots, including attempts to exceed system safeguards, may result in account suspension without refund."}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h1",{className:"document-title-text",children:"Prohibited Uses"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"You may not use our Services for any unlawful purpose, to attempt unauthorized access to our systems, to exceed usage caps, to infringe on intellectual property rights, or to interfere with the operation of the Services, including connecting or attempting to use a custom domain without proper ownership or authorization. We reserve the right to suspend or terminate accounts engaged in abuse, fraud, or misuse."}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h1",{className:"document-title-text",children:"Intellectual Property"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"All software, designs, branding, content, and related intellectual property are owned exclusively by The Messy Attic or its licensors. You may not reproduce, republish, modify, or exploit any part of the Services without our express written consent."}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h1",{className:"document-title-text",children:"Disclaimer of Warranties"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"The Services are provided as is and as available without any warranties of any kind, express or implied. We do not guarantee that the Services will be uninterrupted, error-free, or suitable for your specific purpose. You assume full responsibility for your use of the Services."}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h1",{className:"document-title-text",children:"Limitation of Liability"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"To the fullest extent permitted by law, The Messy Attic, its owners, employees, and affiliates shall not be liable for any indirect, incidental, consequential, or punitive damages, including but not limited to loss of profits, business interruption, or data loss, arising out of or related to your use of the Services."}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h1",{className:"document-title-text",children:"Changes to Terms"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"We may revise these Terms at any time by posting an updated version on our website. Continued use of the Services after updates constitutes acceptance of the revised Terms."}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h1",{className:"document-title-text",children:"Governing Law"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"This Agreement shall be governed by and construed under the laws of Tennessee, United States, without regard to its conflict of law principles. Any disputes shall be resolved exclusively in the courts of Tennessee, United States."}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h1",{className:"document-title-text",children:"Contact Us"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"For questions regarding these Terms and Conditions, please contact us at:"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"legal@themessyattic.com"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"This document was last updated on August 26, 2025."}),jsxRuntimeExports.jsx("br",{})]})}),Privacy=()=>jsxRuntimeExports.jsx("div",{className:"padding",children:jsxRuntimeExports.jsxs("div",{className:"max-container",children:[jsxRuntimeExports.jsx("div",{className:"header-title-text",children:"Privacy Policy"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"The Messy Attic respects your privacy and is committed to protecting it in accordance with this Privacy Policy (Policy). This Policy explains how we collect, use, and safeguard your personal information when you visit our website, purchase subscriptions or credits, or use any of our software services (Services)."}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"By accessing or using The Messy Attic's Services, you acknowledge that you have read and understood this Policy and agree to its terms. If you do not agree, please do not use our Services."}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h1",{className:"document-title-text",children:"Information We Collect"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs("p",{className:"document-p-text",children:["We may collect personal information you provide directly to us, such as:",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{})," Name and contact information (email, phone, billing address)",jsxRuntimeExports.jsx("br",{})," Account login details (if you create an account)",jsxRuntimeExports.jsx("br",{})," Payment and billing information (processed securely by third-party providers)",jsxRuntimeExports.jsx("br",{})," Prompts, themes, and preferences you submit to generate lead magnets or PDFs",jsxRuntimeExports.jsx("br",{})," Device and usage data (IP address, browser type, access times)",jsxRuntimeExports.jsx("br",{})]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h1",{className:"document-title-text",children:"How We Use Your Information"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs("p",{className:"document-p-text",children:["We may use the information we collect for purposes including:",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{})," To process payments and deliver your purchased slots or PDFs",jsxRuntimeExports.jsx("br",{})," To provide, operate, and improve our Services",jsxRuntimeExports.jsx("br",{})," To personalize your experience (themes, saved prompts)",jsxRuntimeExports.jsx("br",{})," To respond to customer inquiries and provide support",jsxRuntimeExports.jsx("br",{})," To send updates, promotional offers, or newsletters (with your consent)",jsxRuntimeExports.jsx("br",{})," To comply with legal obligations",jsxRuntimeExports.jsx("br",{})," To detect and prevent fraud or misuse of our Services",jsxRuntimeExports.jsx("br",{})]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h1",{className:"document-title-text",children:"Custom Domains and Technical Data"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"If you choose to connect a custom domain to your The Messy Attic account, we may process limited technical information related to that domain, such as the domain name, DNS configuration status, and connection metadata, for the sole purpose of verifying domain ownership, enabling secure connections, and providing the Services. We do not access, store, or control your domain registrar account."}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"Domain-related data is used strictly for operational and security purposes, including preventing unauthorized domain use, abuse, or misconfiguration, and is not shared with third parties except where required to provide secure infrastructure services or comply with legal obligations."}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h1",{className:"document-title-text",children:"Payment Processing"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"Payments for subscriptions, slots, or digital products are processed securely through third-party providers (such as Stripe). Cre8tly Studio does not store your full payment details. Payment providers may collect certain personal data in accordance with their own privacy policies, which we encourage you to review."}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h1",{className:"document-title-text",children:"Seller Accounts and Stripe Connect"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs("p",{className:"document-p-text",children:["If you choose to become a seller on The Messy Attic, we may collect additional information necessary to operate your Seller Dashboard and process payments through Stripe Connect. This may include:",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{})," Name, email, and business details used for your Stripe Express account",jsxRuntimeExports.jsx("br",{})," Digital products, PDFs, images, and descriptions you upload to the platform",jsxRuntimeExports.jsx("br",{})," Pricing information, customer purchase data, and sales analytics",jsxRuntimeExports.jsx("br",{})," Transaction history and payout activity (visible to you, processed by Stripe)",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),"Stripe Connect handles identity verification, tax information, payout processing, and bank account details. The Messy Attic does not store your full financial or banking information. Any data collected by Stripe is governed by Stripes own privacy policy.",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),"When buyers purchase your digital products, limited information (such as the customers email) may be shared with you solely for product delivery or support. Sellers must use buyer information responsibly and in accordance with applicable privacy laws."]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h1",{className:"document-title-text",children:"Seller Privacy and Data Handling Policy"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs("p",{className:"document-p-text",children:["Sellers on The Messy Attic are responsible for the handling, storage, and use of any customer information they receive through product purchases on their landing pages. By offering digital products as a seller, you agree to the following:",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{})," You will only use customer information (such as name or email) for delivering the purchased digital product or providing requested support.",jsxRuntimeExports.jsx("br",{})," You may not sell, rent, share, export, or repurpose customer information for advertising, marketing, or any unrelated activity without explicit consent from the customer.",jsxRuntimeExports.jsx("br",{})," You are responsible for complying with all applicable privacy laws and data protection standards in your region, including but not limited to GDPR or CCPA where required.",jsxRuntimeExports.jsx("br",{})," You understand that The Messy Attic does not control or monitor how you use customer information after it has been provided to you. You are independently accountable for your actions as a seller.",jsxRuntimeExports.jsx("br",{})," Any misuse of customer data, including spam, unauthorized marketing, or failure to protect customer information, may result in suspension or termination of your Seller Dashboard access.",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),"The Messy Attic does not provide legal advice to sellers. You are responsible for ensuring that your digital products and data practices comply with all applicable laws and platform requirements."]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h1",{className:"document-title-text",children:"Cookies and Tracking"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"Our website may use cookies and similar technologies to improve your experience, analyze site traffic, and deliver personalized content. You can control cookie preferences through your browser settings."}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h1",{className:"document-title-text",children:"Data Retention"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"We will retain your personal information only for as long as necessary to fulfill the purposes outlined in this Policy, comply with legal obligations, resolve disputes, and enforce agreements. After this period, your data will be securely deleted or anonymized."}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h1",{className:"document-title-text",children:"Your Rights"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs("p",{className:"document-p-text",children:["Depending on your location, you may have rights under applicable data protection laws (such as GDPR or CCPA). These may include:",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{})," The right to access, correct, or delete your personal information",jsxRuntimeExports.jsx("br",{})," The right to object to processing or withdraw consent",jsxRuntimeExports.jsx("br",{})," The right to request data portability",jsxRuntimeExports.jsx("br",{})," The right to lodge a complaint with a data protection authority",jsxRuntimeExports.jsx("br",{})]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h1",{className:"document-title-text",children:"Childrens Privacy"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"The Messy Attic does not knowingly collect personal information from children under the age of 18. If you believe we may have collected such information, please contact us immediately and we will delete it."}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h1",{className:"document-title-text",children:"Security"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"We implement reasonable technical and organizational measures to protect your personal information. However, no system can be 100% secure. You are responsible for maintaining the confidentiality of any account credentials and taking steps to protect your devices."}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h1",{className:"document-title-text",children:"Changes to This Policy"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"We may update this Privacy Policy from time to time. Updates will be posted on this page with a revised last updated date. Continued use of our Services after changes indicates acceptance of the revised Policy."}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h1",{className:"document-title-text",children:"Contact Us"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"If you have any questions, concerns, or requests regarding this Privacy Policy, please contact us at:"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"privacy@themessyattic.com"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"This document was last updated on August 26, 2025."}),jsxRuntimeExports.jsx("br",{})]})}),Refund=()=>jsxRuntimeExports.jsx("div",{className:"padding",children:jsxRuntimeExports.jsxs("div",{className:"max-container",children:[jsxRuntimeExports.jsx("div",{className:"header-title-text",children:"Refund Policy"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs("p",{className:"document-p-text",children:["At The Messy Attic, all purchases of subscriptions, credits, and lead magnet slots are final. Because our Services involve the instant creation and delivery of digital content,"," ",jsxRuntimeExports.jsx("strong",{children:"no refunds will be issued under any circumstances."})]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h1",{className:"document-title-text",children:"All Sales Are Final"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs("p",{className:"document-p-text",children:["By completing a purchase, you acknowledge and agree that:",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{})," You are purchasing access to digital services and instantly usable content.",jsxRuntimeExports.jsx("br",{})," We do not provide refunds or exchanges for unused slots, cancelled accounts, or change of mind.",jsxRuntimeExports.jsx("br",{})," Errors caused by incorrect prompt entry, theme selection, or user setup are not eligible for refunds.",jsxRuntimeExports.jsx("br",{})]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h1",{className:"document-title-text",children:"Seller Products and Landing Page Purchases"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs("p",{className:"document-p-text",children:["The Messy Attic allows independent sellers to offer digital products such as PDFs, lead magnets, guides, and templates through their custom landing pages. When you purchase a digital product from a seller:",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{})," All sales are final.",jsxRuntimeExports.jsx("br",{})," Digital product purchases are delivered instantly and are not eligible for refunds, returns, or exchanges.",jsxRuntimeExports.jsx("br",{})," The Messy Attic is not responsible for the sellers content, descriptions, or deliverables.",jsxRuntimeExports.jsx("br",{})," Any issues with the product should be addressed directly with the seller, although The Messy Attic may assist in reviewing technical problems involving file delivery.",jsxRuntimeExports.jsx("br",{})]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h1",{className:"document-title-text",children:"Service Quality"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"While no refunds are available, if you experience a technical problem with your order (such as the PDF not generating correctly), please contact us. Our team will investigate and, where appropriate, provide a replacement or re-issue the digital content you purchased."}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h1",{className:"document-title-text",children:"Contact Us"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"For questions or technical support regarding your order, you can reach us at:"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"support@themessyattic.com"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"This document was last updated on August 26, 2025."}),jsxRuntimeExports.jsx("br",{})]})}),Cookie=()=>jsxRuntimeExports.jsx("div",{className:"padding",children:jsxRuntimeExports.jsxs("div",{className:"max-container",children:[jsxRuntimeExports.jsx("div",{className:"header-title-text",children:"Cookie Policy"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"This Cookie Policy (Policy) explains how The Messy Attic (we, us, or our) uses cookies and similar technologies when you visit our website (Website) or use our related products and services (Services), including generating lead magnets, accessing customer dashboards, or making purchases. By using our Website, you agree to the use of cookies as described in this Policy. For details on how we handle personal data, please also review our Privacy Policy."}),jsxRuntimeExports.jsx("h1",{className:"document-title-text",children:"Types of cookies we use"}),jsxRuntimeExports.jsxs("p",{className:"document-p-text",children:[" ",jsxRuntimeExports.jsx("strong",{children:"Essential cookies"}),": Required for logging into your account, keeping sessions secure, processing payments, and generating your purchased lead magnets.",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{})," ",jsxRuntimeExports.jsx("strong",{children:"Preferences cookies"}),": Remember your settings (such as selected themes or region) to make your experience smoother.",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{})," ",jsxRuntimeExports.jsx("strong",{children:"Analytics cookies"}),": Help us understand how customers use dashboards, downloads, and checkout so we can improve our Services.",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{})," ",jsxRuntimeExports.jsx("strong",{children:"Marketing cookies"}),": May be used (if you opt in) to deliver personalized offers or measure the performance of ad campaigns."]}),jsxRuntimeExports.jsx("h1",{className:"document-title-text",children:"Managing cookies"}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"You can control or disable cookies in your browser settings. Please note that blocking essential cookies may prevent checkout, login, or access to your purchased lead magnets from working properly."}),jsxRuntimeExports.jsx("h1",{className:"document-title-text",children:"Changes to this Policy"}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"We may update this Cookie Policy from time to time. Any updates will be posted on this page with a new last revised date. Continued use of our Website after changes means you accept the updated Policy."}),jsxRuntimeExports.jsx("h1",{className:"document-title-text",children:"Contact Us"}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"If you have any questions about this Cookie Policy, please contact us at:"}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"legal@themessyattic.com"}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"This document was last updated on October 3rd, 2025."}),jsxRuntimeExports.jsx("br",{})]})});/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=dt=>dt.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),toCamelCase=dt=>dt.replace(/^([A-Z])|[\s-_]+(\w)/g,(et,$t,kt)=>kt?kt.toUpperCase():$t.toLowerCase()),toPascalCase=dt=>{const et=toCamelCase(dt);return et.charAt(0).toUpperCase()+et.slice(1)},mergeClasses=(...dt)=>dt.filter((et,$t,kt)=>!!et&&et.trim()!==""&&kt.indexOf(et)===$t).join(" ").trim(),hasA11yProp=dt=>{for(const et in dt)if(et.startsWith("aria-")||et==="role"||et==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes$1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Icon=reactExports.forwardRef(({color:dt="currentColor",size:et=24,strokeWidth:$t=2,absoluteStrokeWidth:kt,className:Tt="",children:Dt,iconNode:Ft,...Ut},Ht)=>reactExports.createElement("svg",{ref:Ht,...defaultAttributes$1,width:et,height:et,stroke:dt,strokeWidth:kt?Number($t)*24/Number(et):$t,className:mergeClasses("lucide",Tt),...!Dt&&!hasA11yProp(Ut)&&{"aria-hidden":"true"},...Ut},[...Ft.map(([Kt,Yt])=>reactExports.createElement(Kt,Yt)),...Array.isArray(Dt)?Dt:[Dt]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const createLucideIcon=(dt,et)=>{const $t=reactExports.forwardRef(({className:kt,...Tt},Dt)=>reactExports.createElement(Icon,{ref:Dt,iconNode:et,className:mergeClasses(`lucide-${toKebabCase(toPascalCase(dt))}`,`lucide-${dt}`,kt),...Tt}));return $t.displayName=toPascalCase(dt),$t};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1D=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Activity=createLucideIcon("activity",__iconNode$1D);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1C=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ArrowLeft=createLucideIcon("arrow-left",__iconNode$1C);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1B=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ArrowRight=createLucideIcon("arrow-right",__iconNode$1B);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1A=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],Banknote=createLucideIcon("banknote",__iconNode$1A);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1z=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]],BellRing=createLucideIcon("bell-ring",__iconNode$1z);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1y=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Bell=createLucideIcon("bell",__iconNode$1y);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1x=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],Bold$1=createLucideIcon("bold",__iconNode$1x);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1w=[["path",{d:"M12 21V7",key:"gj6g52"}],["path",{d:"m16 12 2 2 4-4",key:"mdajum"}],["path",{d:"M22 6V4a1 1 0 0 0-1-1h-5a4 4 0 0 0-4 4 4 4 0 0 0-4-4H3a1 1 0 0 0-1 1v13a1 1 0 0 0 1 1h6a3 3 0 0 1 3 3 3 3 0 0 1 3-3h6a1 1 0 0 0 1-1v-1.3",key:"8arnkb"}]],BookOpenCheck=createLucideIcon("book-open-check",__iconNode$1w);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1v=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],BookOpen=createLucideIcon("book-open",__iconNode$1v);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1u=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],Book=createLucideIcon("book",__iconNode$1u);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1t=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],Bookmark=createLucideIcon("bookmark",__iconNode$1t);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1s=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Calendar=createLucideIcon("calendar",__iconNode$1s);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1r=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],ChartColumn=createLucideIcon("chart-column",__iconNode$1r);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1q=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],ChartNoAxesColumn=createLucideIcon("chart-no-axes-column",__iconNode$1q);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1p=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Check$1=createLucideIcon("check",__iconNode$1p);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1o=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ChevronDown=createLucideIcon("chevron-down",__iconNode$1o);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1n=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ChevronLeft=createLucideIcon("chevron-left",__iconNode$1n);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1m=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],ChevronUp=createLucideIcon("chevron-up",__iconNode$1m);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1l=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],CircleCheckBig=createLucideIcon("circle-check-big",__iconNode$1l);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1k=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],CircleQuestionMark=createLucideIcon("circle-question-mark",__iconNode$1k);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1j=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Clock=createLucideIcon("clock",__iconNode$1j);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1i=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],CloudUpload=createLucideIcon("cloud-upload",__iconNode$1i);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1h=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],Code$1=createLucideIcon("code",__iconNode$1h);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1g=[["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["circle",{cx:"12",cy:"12",r:"8",key:"46899m"}]],Cog=createLucideIcon("cog",__iconNode$1g);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1f=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Copy=createLucideIcon("copy",__iconNode$1f);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1e=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],CreditCard=createLucideIcon("credit-card",__iconNode$1e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1d=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Crown=createLucideIcon("crown",__iconNode$1d);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1c=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],DollarSign=createLucideIcon("dollar-sign",__iconNode$1c);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1b=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Download=createLucideIcon("download",__iconNode$1b);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1a=[["path",{d:"M6 8.5a6.5 6.5 0 1 1 13 0c0 6-6 6-6 10a3.5 3.5 0 1 1-7 0",key:"1dfaln"}],["path",{d:"M15 8.5a2.5 2.5 0 0 0-5 0v1a2 2 0 1 1 0 4",key:"1qnva7"}]],Ear=createLucideIcon("ear",__iconNode$1a);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$19=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],Ellipsis=createLucideIcon("ellipsis",__iconNode$19);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$18=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],ExternalLink=createLucideIcon("external-link",__iconNode$18);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$17=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],EyeOff=createLucideIcon("eye-off",__iconNode$17);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$16=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Eye=createLucideIcon("eye",__iconNode$16);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$15=[["path",{d:"M12.67 19a2 2 0 0 0 1.416-.588l6.154-6.172a6 6 0 0 0-8.49-8.49L5.586 9.914A2 2 0 0 0 5 11.328V18a1 1 0 0 0 1 1z",key:"18jl4k"}],["path",{d:"M16 8 2 22",key:"vp34q"}],["path",{d:"M17.5 15H9",key:"1oz8nu"}]],Feather=createLucideIcon("feather",__iconNode$15);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$14=[["path",{d:"M12.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v9.5",key:"1couwa"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M13.378 15.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1y4qbx"}]],FilePen=createLucideIcon("file-pen",__iconNode$14);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$13=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],FileText=createLucideIcon("file-text",__iconNode$13);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$12=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Globe=createLucideIcon("globe",__iconNode$12);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$11=[["path",{d:"M11 14h2a2 2 0 0 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 16",key:"1v1a37"}],["path",{d:"m14.45 13.39 5.05-4.694C20.196 8 21 6.85 21 5.75a2.75 2.75 0 0 0-4.797-1.837.276.276 0 0 1-.406 0A2.75 2.75 0 0 0 11 5.75c0 1.2.802 2.248 1.5 2.946L16 11.95",key:"fhfbnt"}],["path",{d:"m2 15 6 6",key:"10dquu"}],["path",{d:"m7 20 1.6-1.4c.3-.4.8-.6 1.4-.6h4c1.1 0 2.1-.4 2.8-1.2l4.6-4.4a1 1 0 0 0-2.75-2.91",key:"1x6kdw"}]],HandHeart=createLucideIcon("hand-heart",__iconNode$11);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$10=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Heart=createLucideIcon("heart",__iconNode$10);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$$=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],House=createLucideIcon("house",__iconNode$$);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$_=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Image$2=createLucideIcon("image",__iconNode$_);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$Z=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],Inbox$1=createLucideIcon("inbox",__iconNode$Z);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$Y=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Info=createLucideIcon("info",__iconNode$Y);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$X=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],Italic$1=createLucideIcon("italic",__iconNode$X);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$W=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],KeyRound=createLucideIcon("key-round",__iconNode$W);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$V=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],Landmark=createLucideIcon("landmark",__iconNode$V);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$U=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Layers=createLucideIcon("layers",__iconNode$U);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$T=[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]],LayoutTemplate=createLucideIcon("layout-template",__iconNode$T);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$S=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],Link2=createLucideIcon("link-2",__iconNode$S);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$R=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Link$1=createLucideIcon("link",__iconNode$R);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$Q=[["path",{d:"M11 5h10",key:"1cz7ny"}],["path",{d:"M11 12h10",key:"1438ji"}],["path",{d:"M11 19h10",key:"11t30w"}],["path",{d:"M4 4h1v5",key:"10yrso"}],["path",{d:"M4 9h2",key:"r1h2o0"}],["path",{d:"M6.5 20H3.4c0-1 2.6-1.925 2.6-3.5a1.5 1.5 0 0 0-2.6-1.02",key:"xtkcd5"}]],ListOrdered=createLucideIcon("list-ordered",__iconNode$Q);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$P=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],List=createLucideIcon("list",__iconNode$P);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$O=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],LoaderCircle=createLucideIcon("loader-circle",__iconNode$O);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$N=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Lock=createLucideIcon("lock",__iconNode$N);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$M=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],LogOut=createLucideIcon("log-out",__iconNode$M);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$L=[["path",{d:"M22 13V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h8",key:"12jkf8"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}],["path",{d:"m16 19 2 2 4-4",key:"1b14m6"}]],MailCheck=createLucideIcon("mail-check",__iconNode$L);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$K=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Mail=createLucideIcon("mail",__iconNode$K);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$J=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Menu=createLucideIcon("menu",__iconNode$J);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$I=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],MessageCircleQuestionMark=createLucideIcon("message-circle-question-mark",__iconNode$I);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$H=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],MessageCircle=createLucideIcon("message-circle",__iconNode$H);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$G=[["path",{d:"M22 8.5V5a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v16.286a.71.71 0 0 0 1.212.502l2.202-2.202A2 2 0 0 1 6.828 19H10",key:"fu6chl"}],["path",{d:"M20 15v-2a2 2 0 0 0-4 0v2",key:"vl8a78"}],["rect",{x:"14",y:"15",width:"8",height:"5",rx:"1",key:"37aafw"}]],MessageSquareLock=createLucideIcon("message-square-lock",__iconNode$G);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$F=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],MessageSquare=createLucideIcon("message-square",__iconNode$F);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$E=[["path",{d:"M16 10a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 14.286V4a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z",key:"1n2ejm"}],["path",{d:"M20 9a2 2 0 0 1 2 2v10.286a.71.71 0 0 1-1.212.502l-2.202-2.202A2 2 0 0 0 17.172 19H10a2 2 0 0 1-2-2v-1",key:"1qfcsi"}]],MessagesSquare=createLucideIcon("messages-square",__iconNode$E);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$D=[["path",{d:"M5 12h14",key:"1ays0h"}]],Minus=createLucideIcon("minus",__iconNode$D);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$C=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Moon=createLucideIcon("moon",__iconNode$C);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$B=[["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"M9.037 9.69a.498.498 0 0 1 .653-.653l11 4.5a.5.5 0 0 1-.074.949l-4.349 1.041a1 1 0 0 0-.74.739l-1.04 4.35a.5.5 0 0 1-.95.074z",key:"s0h3yz"}]],MousePointerClick=createLucideIcon("mouse-pointer-click",__iconNode$B);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$A=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],PanelsTopLeft=createLucideIcon("panels-top-left",__iconNode$A);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$z=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],PenLine=createLucideIcon("pen-line",__iconNode$z);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$y=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],PenTool=createLucideIcon("pen-tool",__iconNode$y);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$x=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Pencil=createLucideIcon("pencil",__iconNode$x);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$w=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Plus=createLucideIcon("plus",__iconNode$w);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$v=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],Repeat=createLucideIcon("repeat",__iconNode$v);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$u=[["path",{d:"M14 4a2 2 0 0 1 2-2",key:"1w2hp7"}],["path",{d:"M16 10a2 2 0 0 1-2-2",key:"shjach"}],["path",{d:"M20 2a2 2 0 0 1 2 2",key:"188mtx"}],["path",{d:"M22 8a2 2 0 0 1-2 2",key:"ddf4tu"}],["path",{d:"m3 7 3 3 3-3",key:"x25e72"}],["path",{d:"M6 10V5a3 3 0 0 1 3-3h1",key:"3y3t5z"}],["rect",{x:"2",y:"14",width:"8",height:"8",rx:"2",key:"4rksxw"}]],Replace=createLucideIcon("replace",__iconNode$u);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$t=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],Rocket=createLucideIcon("rocket",__iconNode$t);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$s=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],RotateCcw=createLucideIcon("rotate-ccw",__iconNode$s);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$r=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Search=createLucideIcon("search",__iconNode$r);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$q=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Settings=createLucideIcon("settings",__iconNode$q);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$p=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Share2=createLucideIcon("share-2",__iconNode$p);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$o=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ShieldCheck=createLucideIcon("shield-check",__iconNode$o);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$n=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ShieldQuestionMark=createLucideIcon("shield-question-mark",__iconNode$n);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$m=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Sparkles=createLucideIcon("sparkles",__iconNode$m);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$l=[["rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",key:"h1oib"}],["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}]],SquarePlay=createLucideIcon("square-play",__iconNode$l);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$k=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Star=createLucideIcon("star",__iconNode$k);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$j=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Sun=createLucideIcon("sun",__iconNode$j);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$i=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 19H5",key:"vjpgq2"}]],TextAlignCenter=createLucideIcon("text-align-center",__iconNode$i);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$h=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 19H7",key:"4cu937"}]],TextAlignEnd=createLucideIcon("text-align-end",__iconNode$h);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$g=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],TextAlignStart=createLucideIcon("text-align-start",__iconNode$g);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$f=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],Timer=createLucideIcon("timer",__iconNode$f);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$e=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Trash2=createLucideIcon("trash-2",__iconNode$e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$d=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Trash=createLucideIcon("trash",__iconNode$d);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$c=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],TrendingUp=createLucideIcon("trending-up",__iconNode$c);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$b=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],TriangleAlert=createLucideIcon("triangle-alert",__iconNode$b);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$a=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],Type=createLucideIcon("type",__iconNode$a);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$9=[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]],Unlink=createLucideIcon("unlink",__iconNode$9);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$8=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Upload=createLucideIcon("upload",__iconNode$8);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$7=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],User=createLucideIcon("user",__iconNode$7);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Users=createLucideIcon("users",__iconNode$6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$5=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],WandSparkles=createLucideIcon("wand-sparkles",__iconNode$5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$4=[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]],Workflow=createLucideIcon("workflow",__iconNode$4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],X$5=createLucideIcon("x",__iconNode$3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$2=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Zap=createLucideIcon("zap",__iconNode$2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],ZoomIn=createLucideIcon("zoom-in",__iconNode$1);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],ZoomOut=createLucideIcon("zoom-out",__iconNode),headerLogo="/assets/themessyattic-logo-adb8bd55.svg",landing="/assets/landing-2fb13e19.webp",blocks="/assets/blocks-78cb89c6.webp",downLoadFeature="/assets/download-feature-52486457.webp",leadCapture="/assets/leads-capture-f03d63f9.webp",stripeCheckout="/assets/stripe-checkout-4bb3f659.webp",versions="/assets/versions-8ffb9da6.webp",containers="/assets/containers-aef4f254.webp",offer="/assets/offer-f052c9e6.webp",freeOffer="/assets/free-offer-30b1d3d4.webp",customBranding="/assets/custom-branding-cbb1ed9c.webp",landingPreview="/assets/landing-page-preview-5ea55918.webp",blockFeatures="/assets/block-features-294072f8.webp",blockConversion="/assets/block-conversion-7bc01fb2.webp",secureCheckout="/assets/secure-checkout-a620c5b5.webp",audioPlayer="/assets/audio-player-660b6a61.webp",freeSubDomain="/assets/subdomain-f7ee7110.webp",tools="/assets/tools-3fb83eed.webp",defaultImage="/assets/userImage-def15e8d.png",bookFeature="/assets/white-author-cd108d4c.webp",aiCopy="/assets/ai-copy-landing-d8ff8e51.webp";function SignupPage(){const{login:dt}=useAuth(),[et,$t]=reactExports.useState(!1),kt=useNavigate(),[Tt,Dt]=reactExports.useState({name:"",email:"",username:"",password:""}),[Ft,Ut]=reactExports.useState(!1),[Ht,Kt]=reactExports.useState(""),[Yt]=useSearchParams(),Jt=Yt.get("ref");reactExports.useEffect(()=>{if(Ht){const rr=setTimeout(()=>Kt(""),5e3);return()=>clearTimeout(rr)}},[Ht]);const Zt=rr=>{const{name:sr,value:ir}=rr.target;Dt({...Tt,[sr]:sr==="username"?ir.toLowerCase():ir})},er=async rr=>{var sr,ir;rr.preventDefault(),Ut(!0),Kt("");try{const nr=Tt.username.trim();if(!/^[a-zA-Z0-9_]{3,20}$/.test(nr)){Kt("Username must be 320 characters and contain only letters, numbers, or underscores."),Ut(!1);return}const or={name:Tt.name,email:Tt.email,password:Tt.password,username:nr,...Jt&&{refSlug:Jt}},lr=await axios$1.post("https://themessyattic.com/api/auth/signup",or);lr.status===201?(await dt(Tt.email,Tt.password),kt("/community")):Kt(lr.data.message||"Something went wrong")}catch(nr){(ir=(sr=nr.response)==null?void 0:sr.data)!=null&&ir.message?Kt(nr.response.data.message):Kt("Signup failed. Please try again later.")}finally{Ut(!1)}};return reactExports.useEffect(()=>(document.body.style.overflow="auto",document.body.style.position="",document.body.style.width="",()=>{document.body.style.overflow="auto",document.body.style.position="",document.body.style.width=""}),[]),jsxRuntimeExports.jsx("div",{className:"min-h-screen flex flex-col bg-white",children:jsxRuntimeExports.jsx("section",{className:"flex flex-col justify-center items-center flex-grow px-6 py-20",children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-md bg-white p-8 rounded-2xl border border-gray-200 shadow-xl",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 mb-5",children:[jsxRuntimeExports.jsx("img",{src:headerLogo,alt:"The Messy Attic",className:"h-12 w-12 object-contain"}),jsxRuntimeExports.jsx("div",{className:"flex flex-col leading-tight",children:jsxRuntimeExports.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"The Messy Attic"})})]}),jsxRuntimeExports.jsxs("div",{className:"mb-5",children:[jsxRuntimeExports.jsx("h3",{className:"text-3xl font-bold text-gray-900",children:"Create your account"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Already have an account?"," ",jsxRuntimeExports.jsx("a",{href:"/login",className:"font-semibold hover:underline",children:"Log in"})]})]}),Ht&&jsxRuntimeExports.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 text-sm rounded-lg p-3 mb-4 text-center transition-opacity duration-700",children:Ht}),jsxRuntimeExports.jsxs("form",{onSubmit:er,className:"space-y-4",children:[jsxRuntimeExports.jsx("input",{type:"text",name:"name",value:Tt.name,onChange:Zt,placeholder:"Full Name",required:!0,className:`
              w-full h-[48px] px-4 py-3 rounded-lg
              bg-white
              border border-gray-300
              text-gray-900
              placeholder-gray-400
              focus:outline-none focus:ring-2 focus:ring-black/10 focus:border-black
            `}),jsxRuntimeExports.jsx("input",{type:"text",name:"username",value:Tt.username,onChange:Zt,placeholder:"Username",required:!0,autoComplete:"username",className:`
              w-full h-[48px] px-4 py-3 rounded-lg
              bg-white
              border border-gray-300
              text-gray-900
              placeholder-gray-400
              focus:outline-none focus:ring-2 focus:ring-black/10 focus:border-black
            `}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"320 characters, letters, numbers, underscores only"}),jsxRuntimeExports.jsx("input",{type:"email",name:"email",value:Tt.email,onChange:Zt,placeholder:"Email Address",required:!0,className:`
              w-full h-[48px] px-4 py-3 rounded-lg
              bg-white
              border border-gray-300
              text-gray-900
              placeholder-gray-400
              focus:outline-none focus:ring-2 focus:ring-black/10 focus:border-black
            `}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:et?"text":"password",name:"password",value:Tt.password,onChange:Zt,placeholder:"Password",required:!0,className:`
                w-full h-[48px] px-4 py-3 pr-12 rounded-lg
                bg-white
                border border-gray-300
                text-gray-900
                placeholder-gray-400
                focus:outline-none focus:ring-2 focus:ring-black/10 focus:border-black
              `}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>$t(!et),className:"absolute inset-y-0 right-3 flex items-center text-gray-400 hover:text-gray-600","aria-label":et?"Hide password":"Show password",children:et?jsxRuntimeExports.jsx(EyeOff,{size:18}):jsxRuntimeExports.jsx(Eye,{size:18})})]}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:Ft,className:`
              w-full bg-black text-white
              font-semibold py-3 rounded-lg
              hover:opacity-90 transition
            `,children:Ft?"Creating Account...":"Get Started"})]})]})})})}var i$6=Object.defineProperty,d$2=(dt,et,$t)=>et in dt?i$6(dt,et,{enumerable:!0,configurable:!0,writable:!0,value:$t}):dt[et]=$t,r$2=(dt,et,$t)=>(d$2(dt,typeof et!="symbol"?et+"":et,$t),$t);let o$5=class{constructor(){r$2(this,"current",this.detect()),r$2(this,"handoffState","pending"),r$2(this,"currentId",0)}set(et){this.current!==et&&(this.handoffState="pending",this.currentId=0,this.current=et)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},s$4=new o$5;function t$2(dt){typeof queueMicrotask=="function"?queueMicrotask(dt):Promise.resolve().then(dt).catch(et=>setTimeout(()=>{throw et}))}function o$4(){let dt=[],et={addEventListener($t,kt,Tt,Dt){return $t.addEventListener(kt,Tt,Dt),et.add(()=>$t.removeEventListener(kt,Tt,Dt))},requestAnimationFrame(...$t){let kt=requestAnimationFrame(...$t);return et.add(()=>cancelAnimationFrame(kt))},nextFrame(...$t){return et.requestAnimationFrame(()=>et.requestAnimationFrame(...$t))},setTimeout(...$t){let kt=setTimeout(...$t);return et.add(()=>clearTimeout(kt))},microTask(...$t){let kt={current:!0};return t$2(()=>{kt.current&&$t[0]()}),et.add(()=>{kt.current=!1})},style($t,kt,Tt){let Dt=$t.style.getPropertyValue(kt);return Object.assign($t.style,{[kt]:Tt}),this.add(()=>{Object.assign($t.style,{[kt]:Dt})})},group($t){let kt=o$4();return $t(kt),this.add(()=>kt.dispose())},add($t){return dt.includes($t)||dt.push($t),()=>{let kt=dt.indexOf($t);if(kt>=0)for(let Tt of dt.splice(kt,1))Tt()}},dispose(){for(let $t of dt.splice(0))$t()}};return et}function p$3(){let[dt]=reactExports.useState(o$4);return reactExports.useEffect(()=>()=>dt.dispose(),[dt]),dt}let n$2=(dt,et)=>{s$4.isServer?reactExports.useEffect(dt,et):reactExports.useLayoutEffect(dt,et)};function s$3(dt){let et=reactExports.useRef(dt);return n$2(()=>{et.current=dt},[dt]),et}let o$3=function(dt){let et=s$3(dt);return React$2.useCallback((...$t)=>et.current(...$t),[et])};function t$1(...dt){return Array.from(new Set(dt.flatMap(et=>typeof et=="string"?et.split(" "):[]))).filter(Boolean).join(" ")}function u$5(dt,et,...$t){if(dt in et){let Tt=et[dt];return typeof Tt=="function"?Tt(...$t):Tt}let kt=new Error(`Tried to handle "${dt}" but there is no handler defined. Only defined handlers are: ${Object.keys(et).map(Tt=>`"${Tt}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(kt,u$5),kt}var O$6=(dt=>(dt[dt.None=0]="None",dt[dt.RenderStrategy=1]="RenderStrategy",dt[dt.Static=2]="Static",dt))(O$6||{}),A$6=(dt=>(dt[dt.Unmount=0]="Unmount",dt[dt.Hidden=1]="Hidden",dt))(A$6||{});function L$7(){let dt=U$3();return reactExports.useCallback(et=>C$7({mergeRefs:dt,...et}),[dt])}function C$7({ourProps:dt,theirProps:et,slot:$t,defaultTag:kt,features:Tt,visible:Dt=!0,name:Ft,mergeRefs:Ut}){Ut=Ut??$$2;let Ht=P$4(et,dt);if(Dt)return F$2(Ht,$t,kt,Ft,Ut);let Kt=Tt??0;if(Kt&2){let{static:Yt=!1,...Jt}=Ht;if(Yt)return F$2(Jt,$t,kt,Ft,Ut)}if(Kt&1){let{unmount:Yt=!0,...Jt}=Ht;return u$5(Yt?0:1,{0(){return null},1(){return F$2({...Jt,hidden:!0,style:{display:"none"}},$t,kt,Ft,Ut)}})}return F$2(Ht,$t,kt,Ft,Ut)}function F$2(dt,et={},$t,kt,Tt){let{as:Dt=$t,children:Ft,refName:Ut="ref",...Ht}=h$2(dt,["unmount","static"]),Kt=dt.ref!==void 0?{[Ut]:dt.ref}:{},Yt=typeof Ft=="function"?Ft(et):Ft;"className"in Ht&&Ht.className&&typeof Ht.className=="function"&&(Ht.className=Ht.className(et)),Ht["aria-labelledby"]&&Ht["aria-labelledby"]===Ht.id&&(Ht["aria-labelledby"]=void 0);let Jt={};if(et){let Zt=!1,er=[];for(let[rr,sr]of Object.entries(et))typeof sr=="boolean"&&(Zt=!0),sr===!0&&er.push(rr.replace(/([A-Z])/g,ir=>`-${ir.toLowerCase()}`));if(Zt){Jt["data-headlessui-state"]=er.join(" ");for(let rr of er)Jt[`data-${rr}`]=""}}if(Dt===reactExports.Fragment&&(Object.keys(m$2(Ht)).length>0||Object.keys(m$2(Jt)).length>0))if(!reactExports.isValidElement(Yt)||Array.isArray(Yt)&&Yt.length>1){if(Object.keys(m$2(Ht)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${kt} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(m$2(Ht)).concat(Object.keys(m$2(Jt))).map(Zt=>`  - ${Zt}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(Zt=>`  - ${Zt}`).join(`
`)].join(`
`))}else{let Zt=Yt.props,er=Zt==null?void 0:Zt.className,rr=typeof er=="function"?(...nr)=>t$1(er(...nr),Ht.className):t$1(er,Ht.className),sr=rr?{className:rr}:{},ir=P$4(Yt.props,m$2(h$2(Ht,["ref"])));for(let nr in Jt)nr in ir&&delete Jt[nr];return reactExports.cloneElement(Yt,Object.assign({},ir,Jt,Kt,{ref:Tt(H$1(Yt),Kt.ref)},sr))}return reactExports.createElement(Dt,Object.assign({},h$2(Ht,["ref"]),Dt!==reactExports.Fragment&&Kt,Dt!==reactExports.Fragment&&Jt),Yt)}function U$3(){let dt=reactExports.useRef([]),et=reactExports.useCallback($t=>{for(let kt of dt.current)kt!=null&&(typeof kt=="function"?kt($t):kt.current=$t)},[]);return(...$t)=>{if(!$t.every(kt=>kt==null))return dt.current=$t,et}}function $$2(...dt){return dt.every(et=>et==null)?void 0:et=>{for(let $t of dt)$t!=null&&(typeof $t=="function"?$t(et):$t.current=et)}}function P$4(...dt){if(dt.length===0)return{};if(dt.length===1)return dt[0];let et={},$t={};for(let kt of dt)for(let Tt in kt)Tt.startsWith("on")&&typeof kt[Tt]=="function"?($t[Tt]!=null||($t[Tt]=[]),$t[Tt].push(kt[Tt])):et[Tt]=kt[Tt];if(et.disabled||et["aria-disabled"])for(let kt in $t)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(kt)&&($t[kt]=[Tt=>{var Dt;return(Dt=Tt==null?void 0:Tt.preventDefault)==null?void 0:Dt.call(Tt)}]);for(let kt in $t)Object.assign(et,{[kt](Tt,...Dt){let Ft=$t[kt];for(let Ut of Ft){if((Tt instanceof Event||(Tt==null?void 0:Tt.nativeEvent)instanceof Event)&&Tt.defaultPrevented)return;Ut(Tt,...Dt)}}});return et}function K$2(dt){var et;return Object.assign(reactExports.forwardRef(dt),{displayName:(et=dt.displayName)!=null?et:dt.name})}function m$2(dt){let et=Object.assign({},dt);for(let $t in et)et[$t]===void 0&&delete et[$t];return et}function h$2(dt,et=[]){let $t=Object.assign({},dt);for(let kt of et)kt in $t&&delete $t[kt];return $t}function H$1(dt){return React$2.version.split(".")[0]>="19"?dt.props.ref:dt.ref}let u$4=Symbol();function y$3(...dt){let et=reactExports.useRef(dt);reactExports.useEffect(()=>{et.current=dt},[dt]);let $t=o$3(kt=>{for(let Tt of et.current)Tt!=null&&(typeof Tt=="function"?Tt(kt):Tt.current=kt)});return dt.every(kt=>kt==null||(kt==null?void 0:kt[u$4]))?void 0:$t}function c$5(dt=0){let[et,$t]=reactExports.useState(dt),kt=reactExports.useCallback(Ht=>$t(Ht),[et]),Tt=reactExports.useCallback(Ht=>$t(Kt=>Kt|Ht),[et]),Dt=reactExports.useCallback(Ht=>(et&Ht)===Ht,[et]),Ft=reactExports.useCallback(Ht=>$t(Kt=>Kt&~Ht),[$t]),Ut=reactExports.useCallback(Ht=>$t(Kt=>Kt^Ht),[$t]);return{flags:et,setFlag:kt,addFlag:Tt,hasFlag:Dt,removeFlag:Ft,toggleFlag:Ut}}var T$4,b$6;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((T$4=process==null?void 0:process.env)==null?void 0:T$4.NODE_ENV)==="test"&&typeof((b$6=Element==null?void 0:Element.prototype)==null?void 0:b$6.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var L$6=(dt=>(dt[dt.None=0]="None",dt[dt.Closed=1]="Closed",dt[dt.Enter=2]="Enter",dt[dt.Leave=4]="Leave",dt))(L$6||{});function R$3(dt){let et={};for(let $t in dt)dt[$t]===!0&&(et[`data-${$t}`]="");return et}function x$1(dt,et,$t,kt){let[Tt,Dt]=reactExports.useState($t),{hasFlag:Ft,addFlag:Ut,removeFlag:Ht}=c$5(dt&&Tt?3:0),Kt=reactExports.useRef(!1),Yt=reactExports.useRef(!1),Jt=p$3();return n$2(()=>{var Zt;if(dt){if($t&&Dt(!0),!et){$t&&Ut(3);return}return(Zt=kt==null?void 0:kt.start)==null||Zt.call(kt,$t),C$6(et,{inFlight:Kt,prepare(){Yt.current?Yt.current=!1:Yt.current=Kt.current,Kt.current=!0,!Yt.current&&($t?(Ut(3),Ht(4)):(Ut(4),Ht(2)))},run(){Yt.current?$t?(Ht(3),Ut(4)):(Ht(4),Ut(3)):$t?Ht(1):Ut(1)},done(){var er;Yt.current&&typeof et.getAnimations=="function"&&et.getAnimations().length>0||(Kt.current=!1,Ht(7),$t||Dt(!1),(er=kt==null?void 0:kt.end)==null||er.call(kt,$t))}})}},[dt,$t,et,Jt]),dt?[Tt,{closed:Ft(1),enter:Ft(2),leave:Ft(4),transition:Ft(2)||Ft(4)}]:[$t,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function C$6(dt,{prepare:et,run:$t,done:kt,inFlight:Tt}){let Dt=o$4();return j$6(dt,{prepare:et,inFlight:Tt}),Dt.nextFrame(()=>{$t(),Dt.requestAnimationFrame(()=>{Dt.add(M$5(dt,kt))})}),Dt.dispose}function M$5(dt,et){var $t,kt;let Tt=o$4();if(!dt)return Tt.dispose;let Dt=!1;Tt.add(()=>{Dt=!0});let Ft=(kt=($t=dt.getAnimations)==null?void 0:$t.call(dt).filter(Ut=>Ut instanceof CSSTransition))!=null?kt:[];return Ft.length===0?(et(),Tt.dispose):(Promise.allSettled(Ft.map(Ut=>Ut.finished)).then(()=>{Dt||et()}),Tt.dispose)}function j$6(dt,{inFlight:et,prepare:$t}){if(et!=null&&et.current){$t();return}let kt=dt.style.transition;dt.style.transition="none",$t(),dt.offsetHeight,dt.style.transition=kt}let n$1=reactExports.createContext(null);n$1.displayName="OpenClosedContext";var i$5=(dt=>(dt[dt.Open=1]="Open",dt[dt.Closed=2]="Closed",dt[dt.Closing=4]="Closing",dt[dt.Opening=8]="Opening",dt))(i$5||{});function u$3(){return reactExports.useContext(n$1)}function c$4({value:dt,children:et}){return React$2.createElement(n$1.Provider,{value:dt},et)}function s$2(){let dt=typeof document>"u";return"useSyncExternalStore"in t$3?(et=>et.useSyncExternalStore)(t$3)(()=>()=>{},()=>!1,()=>!dt):!1}function l$1(){let dt=s$2(),[et,$t]=reactExports.useState(s$4.isHandoffComplete);return et&&s$4.isHandoffComplete===!1&&$t(!1),reactExports.useEffect(()=>{et!==!0&&$t(!0)},[et]),reactExports.useEffect(()=>s$4.handoff(),[]),dt?!1:et}function f(){let dt=reactExports.useRef(!1);return n$2(()=>(dt.current=!0,()=>{dt.current=!1}),[]),dt}function ue$2(dt){var et;return!!(dt.enter||dt.enterFrom||dt.enterTo||dt.leave||dt.leaveFrom||dt.leaveTo)||((et=dt.as)!=null?et:de$2)!==reactExports.Fragment||React$2.Children.count(dt.children)===1}let w$6=reactExports.createContext(null);w$6.displayName="TransitionContext";var _e$1=(dt=>(dt.Visible="visible",dt.Hidden="hidden",dt))(_e$1||{});function De$2(){let dt=reactExports.useContext(w$6);if(dt===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return dt}function He$2(){let dt=reactExports.useContext(M$4);if(dt===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return dt}let M$4=reactExports.createContext(null);M$4.displayName="NestingContext";function U$2(dt){return"children"in dt?U$2(dt.children):dt.current.filter(({el:et})=>et.current!==null).filter(({state:et})=>et==="visible").length>0}function Te$2(dt,et){let $t=s$3(dt),kt=reactExports.useRef([]),Tt=f(),Dt=p$3(),Ft=o$3((er,rr=A$6.Hidden)=>{let sr=kt.current.findIndex(({el:ir})=>ir===er);sr!==-1&&(u$5(rr,{[A$6.Unmount](){kt.current.splice(sr,1)},[A$6.Hidden](){kt.current[sr].state="hidden"}}),Dt.microTask(()=>{var ir;!U$2(kt)&&Tt.current&&((ir=$t.current)==null||ir.call($t))}))}),Ut=o$3(er=>{let rr=kt.current.find(({el:sr})=>sr===er);return rr?rr.state!=="visible"&&(rr.state="visible"):kt.current.push({el:er,state:"visible"}),()=>Ft(er,A$6.Unmount)}),Ht=reactExports.useRef([]),Kt=reactExports.useRef(Promise.resolve()),Yt=reactExports.useRef({enter:[],leave:[]}),Jt=o$3((er,rr,sr)=>{Ht.current.splice(0),et&&(et.chains.current[rr]=et.chains.current[rr].filter(([ir])=>ir!==er)),et==null||et.chains.current[rr].push([er,new Promise(ir=>{Ht.current.push(ir)})]),et==null||et.chains.current[rr].push([er,new Promise(ir=>{Promise.all(Yt.current[rr].map(([nr,or])=>or)).then(()=>ir())})]),rr==="enter"?Kt.current=Kt.current.then(()=>et==null?void 0:et.wait.current).then(()=>sr(rr)):sr(rr)}),Zt=o$3((er,rr,sr)=>{Promise.all(Yt.current[rr].splice(0).map(([ir,nr])=>nr)).then(()=>{var ir;(ir=Ht.current.shift())==null||ir()}).then(()=>sr(rr))});return reactExports.useMemo(()=>({children:kt,register:Ut,unregister:Ft,onStart:Jt,onStop:Zt,wait:Kt,chains:Yt}),[Ut,Ft,kt,Jt,Zt,Yt,Kt])}let de$2=reactExports.Fragment,fe$2=O$6.RenderStrategy;function Ae$1(dt,et){var $t,kt;let{transition:Tt=!0,beforeEnter:Dt,afterEnter:Ft,beforeLeave:Ut,afterLeave:Ht,enter:Kt,enterFrom:Yt,enterTo:Jt,entered:Zt,leave:er,leaveFrom:rr,leaveTo:sr,...ir}=dt,[nr,or]=reactExports.useState(null),lr=reactExports.useRef(null),cr=ue$2(dt),dr=y$3(...cr?[lr,et,or]:et===null?[]:[et]),ur=($t=ir.unmount)==null||$t?A$6.Unmount:A$6.Hidden,{show:pr,appear:mr,initial:vr}=De$2(),[kr,br]=reactExports.useState(pr?"visible":"hidden"),_r=He$2(),{register:Or,unregister:Pr}=_r;n$2(()=>Or(lr),[Or,lr]),n$2(()=>{if(ur===A$6.Hidden&&lr.current){if(pr&&kr!=="visible"){br("visible");return}return u$5(kr,{hidden:()=>Pr(lr),visible:()=>Or(lr)})}},[kr,lr,Or,Pr,pr,ur]);let Mr=l$1();n$2(()=>{if(cr&&Mr&&kr==="visible"&&lr.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[lr,kr,Mr,cr]);let Rr=vr&&!mr,Tr=mr&&pr&&vr,xr=reactExports.useRef(!1),wr=Te$2(()=>{xr.current||(br("hidden"),Pr(lr))},_r),zr=o$3(ns=>{xr.current=!0;let ms=ns?"enter":"leave";wr.onStart(lr,ms,ls=>{ls==="enter"?Dt==null||Dt():ls==="leave"&&(Ut==null||Ut())})}),Hr=o$3(ns=>{let ms=ns?"enter":"leave";xr.current=!1,wr.onStop(lr,ms,ls=>{ls==="enter"?Ft==null||Ft():ls==="leave"&&(Ht==null||Ht())}),ms==="leave"&&!U$2(wr)&&(br("hidden"),Pr(lr))});reactExports.useEffect(()=>{cr&&Tt||(zr(pr),Hr(pr))},[pr,cr,Tt]);let Gr=(()=>!(!Tt||!cr||!Mr||Rr))(),[,Xr]=x$1(Gr,nr,pr,{start:zr,end:Hr}),rs=m$2({ref:dr,className:((kt=t$1(ir.className,Tr&&Kt,Tr&&Yt,Xr.enter&&Kt,Xr.enter&&Xr.closed&&Yt,Xr.enter&&!Xr.closed&&Jt,Xr.leave&&er,Xr.leave&&!Xr.closed&&rr,Xr.leave&&Xr.closed&&sr,!Xr.transition&&pr&&Zt))==null?void 0:kt.trim())||void 0,...R$3(Xr)}),Yr=0;kr==="visible"&&(Yr|=i$5.Open),kr==="hidden"&&(Yr|=i$5.Closed),Xr.enter&&(Yr|=i$5.Opening),Xr.leave&&(Yr|=i$5.Closing);let es=L$7();return React$2.createElement(M$4.Provider,{value:wr},React$2.createElement(c$4,{value:Yr},es({ourProps:rs,theirProps:ir,defaultTag:de$2,features:fe$2,visible:kr==="visible",name:"Transition.Child"})))}function Ie$1(dt,et){let{show:$t,appear:kt=!1,unmount:Tt=!0,...Dt}=dt,Ft=reactExports.useRef(null),Ut=ue$2(dt),Ht=y$3(...Ut?[Ft,et]:et===null?[]:[et]);l$1();let Kt=u$3();if($t===void 0&&Kt!==null&&($t=(Kt&i$5.Open)===i$5.Open),$t===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[Yt,Jt]=reactExports.useState($t?"visible":"hidden"),Zt=Te$2(()=>{$t||Jt("hidden")}),[er,rr]=reactExports.useState(!0),sr=reactExports.useRef([$t]);n$2(()=>{er!==!1&&sr.current[sr.current.length-1]!==$t&&(sr.current.push($t),rr(!1))},[sr,$t]);let ir=reactExports.useMemo(()=>({show:$t,appear:kt,initial:er}),[$t,kt,er]);n$2(()=>{$t?Jt("visible"):!U$2(Zt)&&Ft.current!==null&&Jt("hidden")},[$t,Zt]);let nr={unmount:Tt},or=o$3(()=>{var dr;er&&rr(!1),(dr=dt.beforeEnter)==null||dr.call(dt)}),lr=o$3(()=>{var dr;er&&rr(!1),(dr=dt.beforeLeave)==null||dr.call(dt)}),cr=L$7();return React$2.createElement(M$4.Provider,{value:Zt},React$2.createElement(w$6.Provider,{value:ir},cr({ourProps:{...nr,as:reactExports.Fragment,children:React$2.createElement(me$2,{ref:Ht,...nr,...Dt,beforeEnter:or,beforeLeave:lr})},theirProps:{},defaultTag:reactExports.Fragment,features:fe$2,visible:Yt==="visible",name:"Transition"})))}function Le$1(dt,et){let $t=reactExports.useContext(w$6)!==null,kt=u$3()!==null;return React$2.createElement(React$2.Fragment,null,!$t&&kt?React$2.createElement(X$4,{ref:et,...dt}):React$2.createElement(me$2,{ref:et,...dt}))}let X$4=K$2(Ie$1),me$2=K$2(Ae$1),Fe$2=K$2(Le$1),ze$1=Object.assign(X$4,{Child:Fe$2,Root:X$4});const navLinks=[{href:"/",label:"Home"},{href:"/sign-up",label:"Sign Up"},{href:"/contact",label:"Contact Us"},{href:"/shop",label:"Shop"},{href:"/login",label:"Login"}],colorThemes=[{name:"ivory",label:"Ivory",preview:"#fefce8"},{name:"cream",label:"Cream",preview:"#fef9c3"},{name:"classic",label:"Classic",preview:"#fffaf5"},{name:"platinum",label:"Platinum",preview:"#f3f4f6"},{name:"modern",label:"Modern",preview:"#e2e8f0"},{name:"fog",label:"Fog",preview:"#cbd5e1"},{name:"stone",label:"Stone",preview:"#d6d3d1"},{name:"smoke",label:"Smoke",preview:"#737373"},{name:"storm",label:"Storm",preview:"#64748b"},{name:"steel",label:"Steel",preview:"#475569"},{name:"slate",label:"Slate",preview:"#334155"},{name:"graphite",label:"Graphite",preview:"#1f2937"},{name:"midnight",label:"Midnight",preview:"#1e293b"},{name:"carbon",label:"Carbon",preview:"#1e293b"},{name:"charcoal",label:"Charcoal",preview:"#111827"},{name:"onyx",label:"Onyx",preview:"#0f172a"},{name:"shadow",label:"Shadow",preview:"#171717"},{name:"jet",label:"Jet",preview:"#0a0a0a"},{name:"dark",label:"Dark",preview:"#030712"},{name:"ice",label:"Ice",preview:"#e0f2fe"},{name:"arcticBlue",label:"Arctic Blue",preview:"#7dd3fc"},{name:"ocean",label:"Ocean",preview:"#bae6fd"},{name:"arctic",label:"Arctic",preview:"#bae6fd"},{name:"sky",label:"Sky",preview:"#60a5fa"},{name:"aqua",label:"Aqua",preview:"#0ea5e9"},{name:"periwinkle",label:"Periwinkle",preview:"#a5b4fc"},{name:"iris",label:"Iris",preview:"#6366f1"},{name:"denim",label:"Denim",preview:"#1d4ed8"},{name:"navy",label:"Navy",preview:"#1e3a8a"},{name:"bold",label:"Bold",preview:"#f9e8ff"},{name:"orchid",label:"Orchid",preview:"#d8b4fe"},{name:"lavender",label:"Lavender",preview:"#c084fc"},{name:"berry",label:"Berry",preview:"#7e22ce"},{name:"ultraviolet",label:"Ultraviolet",preview:"#6d28d9"},{name:"velvet",label:"Velvet",preview:"#581c87"},{name:"royal",label:"Royal",preview:"#2E026D"},{name:"rose",label:"Rose",preview:"#fce7f3"},{name:"blush",label:"Blush",preview:"#fecdd3"},{name:"coral",label:"Coral",preview:"#fb7185"},{name:"candy",label:"Candy",preview:"#ec4899"},{name:"ruby",label:"Ruby",preview:"#be123c"},{name:"cherry",label:"Cherry",preview:"#991b1b"},{name:"wine",label:"Wine",preview:"#7f1d1d"},{name:"rosewood",label:"Rosewood",preview:"#4a0404"},{name:"sand",label:"Sand",preview:"#fcd34d"},{name:"honey",label:"Honey",preview:"#facc15"},{name:"amber",label:"Amber",preview:"#fbbf24"},{name:"gold",label:"Gold",preview:"#f59e0b"},{name:"sunrise",label:"Sunrise",preview:"#fed7aa"},{name:"sunset",label:"Sunset",preview:"#fb923c"},{name:"peach",label:"Peach",preview:"#f97316"},{name:"tangerine",label:"Tangerine",preview:"#f97316"},{name:"copper",label:"Copper",preview:"#b45309"},{name:"bronze",label:"Bronze",preview:"#78350f"},{name:"wineGold",label:"Wine Gold",preview:"#854d0e"},{name:"mintCream",label:"Mint Cream",preview:"#dcfce7"},{name:"mint",label:"Mint",preview:"#d1fae5"},{name:"opal",label:"Opal",preview:"#a7f3d0"},{name:"emerald",label:"Emerald",preview:"#10b981"},{name:"teal",label:"Teal",preview:"#0d9488"},{name:"forest",label:"Forest",preview:"#065f46"},{name:"pine",label:"Pine",preview:"#064e3b"},{name:"moss",label:"Moss",preview:"#14532d"},{name:"coffee",label:"Coffee",preview:"#6b4f4f"},{name:"mocha",label:"Mocha",preview:"#78350f"}],gradientThemes=[{name:"gradientIvory",label:"Gradient Ivory",preview:"linear-gradient(135deg, #fefce8, #fef9c3)"},{name:"gradientCream",label:"Gradient Cream",preview:"linear-gradient(135deg, #fef9c3, #fde68a)"},{name:"gradientClassic",label:"Gradient Classic",preview:"linear-gradient(135deg, #fffaf5, #fde68a)"},{name:"gradientPlatinum",label:"Gradient Platinum",preview:"linear-gradient(135deg, #f3f4f6, #e5e7eb)"},{name:"gradientModern",label:"Gradient Modern",preview:"linear-gradient(135deg, #e2e8f0, #94a3b8)"},{name:"gradientFog",label:"Gradient Fog",preview:"linear-gradient(135deg, #cbd5e1, #94a3b8)"},{name:"gradientStone",label:"Gradient Stone",preview:"linear-gradient(135deg, #d6d3d1, #e7e5e4)"},{name:"gradientSmoke",label:"Gradient Smoke",preview:"linear-gradient(135deg, #737373, #a3a3a3)"},{name:"gradientStorm",label:"Gradient Storm",preview:"linear-gradient(135deg, #64748b, #475569)"},{name:"gradientSteel",label:"Gradient Steel",preview:"linear-gradient(135deg, #475569, #94a3b8)"},{name:"gradientSlate",label:"Gradient Slate",preview:"linear-gradient(135deg, #334155, #475569)"},{name:"gradientGraphite",label:"Gradient Graphite",preview:"linear-gradient(135deg, #1f2937, #4b5563)"},{name:"gradientCarbon",label:"Gradient Carbon",preview:"linear-gradient(135deg, #1e293b, #334155)"},{name:"gradientMidnight",label:"Gradient Midnight",preview:"linear-gradient(135deg, #1e293b, #0f172a)"},{name:"gradientCharcoal",label:"Gradient Charcoal",preview:"linear-gradient(135deg, #111827, #1f2937)"},{name:"gradientOnyx",label:"Gradient Onyx",preview:"linear-gradient(135deg, #0f172a, #1e293b)"},{name:"gradientShadow",label:"Gradient Shadow",preview:"linear-gradient(135deg, #171717, #262626)"},{name:"gradientJet",label:"Gradient Jet",preview:"linear-gradient(135deg, #0a0a0a, #171717)"},{name:"gradientDark",label:"Gradient Dark",preview:"linear-gradient(135deg, #030712, #1e293b)"},{name:"gradientIce",label:"Gradient Ice",preview:"linear-gradient(135deg, #e0f2fe, #7dd3fc)"},{name:"gradientArctic",label:"Gradient Arctic",preview:"linear-gradient(135deg, #bae6fd, #7dd3fc)"},{name:"gradientArcticBlue",label:"Gradient Arctic Blue",preview:"linear-gradient(135deg, #7dd3fc, #38bdf8)"},{name:"gradientOcean",label:"Gradient Ocean",preview:"linear-gradient(135deg, #bae6fd, #0ea5e9)"},{name:"gradientSky",label:"Gradient Sky",preview:"linear-gradient(135deg, #60a5fa, #3b82f6)"},{name:"gradientAqua",label:"Gradient Aqua",preview:"linear-gradient(135deg, #0ea5e9, #06b6d4)"},{name:"gradientSapphire",label:"Gradient Sapphire",preview:"linear-gradient(135deg, #0ea5e9, #2563eb)"},{name:"gradientDenim",label:"Gradient Denim",preview:"linear-gradient(135deg, #1d4ed8, #3b82f6)"},{name:"gradientNavy",label:"Gradient Navy",preview:"linear-gradient(135deg, #1e3a8a, #2563eb)"},{name:"gradientBold",label:"Gradient Bold",preview:"linear-gradient(135deg, #f9e8ff, #e879f9)"},{name:"gradientOrchid",label:"Gradient Orchid",preview:"linear-gradient(135deg, #d8b4fe, #c084fc)"},{name:"gradientLavender",label:"Gradient Lavender",preview:"linear-gradient(135deg, #c084fc, #a855f7)"},{name:"gradientPeriwinkle",label:"Gradient Periwinkle",preview:"linear-gradient(135deg, #a5b4fc, #c7d2fe)"},{name:"gradientIris",label:"Gradient Iris",preview:"linear-gradient(135deg, #6366f1, #818cf8)"},{name:"gradientBerry",label:"Gradient Berry",preview:"linear-gradient(135deg, #7e22ce, #a855f7)"},{name:"gradientUltraviolet",label:"Gradient Ultraviolet",preview:"linear-gradient(135deg, #6d28d9, #7c3aed)"},{name:"gradientVelvet",label:"Gradient Velvet",preview:"linear-gradient(135deg, #581c87, #7e22ce)"},{name:"gradientRoyal",label:"Gradient Royal",preview:"linear-gradient(135deg, #2E026D, #9333ea)"},{name:"gradientRose",label:"Gradient Rose",preview:"linear-gradient(135deg, #fce7f3, #ec4899)"},{name:"gradientBlush",label:"Gradient Blush",preview:"linear-gradient(135deg, #fecdd3, #fda4af)"},{name:"gradientCoral",label:"Gradient Coral",preview:"linear-gradient(135deg, #fb7185, #f43f5e)"},{name:"gradientCandy",label:"Gradient Candy",preview:"linear-gradient(135deg, #ec4899, #f472b6)"},{name:"gradientRuby",label:"Gradient Ruby",preview:"linear-gradient(135deg, #be123c, #e11d48)"},{name:"gradientCherry",label:"Gradient Cherry",preview:"linear-gradient(135deg, #991b1b, #dc2626)"},{name:"gradientWine",label:"Gradient Wine",preview:"linear-gradient(135deg, #7f1d1d, #991b1b)"},{name:"gradientRosewood",label:"Gradient Rosewood",preview:"linear-gradient(135deg, #4a0404, #7f1d1d)"},{name:"gradientSand",label:"Gradient Sand",preview:"linear-gradient(135deg, #fcd34d, #fbbf24)"},{name:"gradientHoney",label:"Gradient Honey",preview:"linear-gradient(135deg, #facc15, #fbbf24)"},{name:"gradientAmber",label:"Gradient Amber",preview:"linear-gradient(135deg, #fbbf24, #f59e0b)"},{name:"gradientGold",label:"Gradient Gold",preview:"linear-gradient(135deg, #f59e0b, #fbbf24)"},{name:"gradientSunrise",label:"Gradient Sunrise",preview:"linear-gradient(135deg, #fed7aa, #fb923c)"},{name:"gradientSunset",label:"Gradient Sunset",preview:"linear-gradient(135deg, #fb923c, #f97316)"},{name:"gradientPeach",label:"Gradient Peach",preview:"linear-gradient(135deg, #f97316, #fb923c)"},{name:"gradientTangerine",label:"Gradient Tangerine",preview:"linear-gradient(135deg, #f97316, #fb923c)"},{name:"gradientCopper",label:"Gradient Copper",preview:"linear-gradient(135deg, #b45309, #f59e0b)"},{name:"gradientBronze",label:"Gradient Bronze",preview:"linear-gradient(135deg, #78350f, #b45309)"},{name:"gradientMocha",label:"Gradient Mocha",preview:"linear-gradient(135deg, #78350f, #b45309)"},{name:"gradientWineGold",label:"Gradient Wine Gold",preview:"linear-gradient(135deg, #854d0e, #f59e0b)"},{name:"gradientMintCream",label:"Gradient Mint Cream",preview:"linear-gradient(135deg, #dcfce7, #bbf7d0)"},{name:"gradientMint",label:"Gradient Mint",preview:"linear-gradient(135deg, #d1fae5, #10b981)"},{name:"gradientOpal",label:"Gradient Opal",preview:"linear-gradient(135deg, #a7f3d0, #6ee7b7)"},{name:"gradientEmerald",label:"Gradient Emerald",preview:"linear-gradient(135deg, #10b981, #34d399)"},{name:"gradientTeal",label:"Gradient Teal",preview:"linear-gradient(135deg, #0d9488, #14b8a6)"},{name:"gradientForest",label:"Gradient Forest",preview:"linear-gradient(135deg, #065f46, #059669)"},{name:"gradientPine",label:"Gradient Pine",preview:"linear-gradient(135deg, #064e3b, #065f46)"},{name:"gradientMoss",label:"Gradient Moss",preview:"linear-gradient(135deg, #14532d, #166534)"},{name:"gradientCoffee",label:"Gradient Coffee",preview:"linear-gradient(135deg, #6b4f4f, #8b5e5e)"}],fontThemes=[{name:"Roboto",label:"Appeal",file:"/fonts/Roboto-Regular.ttf"},{name:"Academy",label:"Academy",file:"/fonts/Academy-Engraved LET-Fonts.ttf"},{name:"Aloevera-Regular",label:"Big Win",file:"/fonts/Aloevera-Regular.ttf"},{name:"ACaslonPro",label:"Blissful",file:"/fonts/ACaslonPro-Regular.ttf"},{name:"Baskerville",label:"Brilliance",file:"/fonts/Baskerville.ttf"},{name:"Frank",label:"Business",file:"/fonts/frank.ttf"},{name:"Butler_Medium",label:"Butler",file:"/fonts/Butler_Medium.ttf"},{name:"AdobeArabic",label:"Classic",file:"/fonts/AdobeArabic-Regular.ttf"},{name:"agencyfb",label:"Dazzle",file:"/fonts/agencyfb-bold.ttf"},{name:"Aloevera-Thin",label:"Excellence",file:"/fonts/Aloevera-Thin.ttf"},{name:"ChopinScript",label:"Fancy",file:"/fonts/ChopinScript.ttf"},{name:"Acens",label:"Financial",file:"/fonts/Acens.ttf"},{name:"cambriab",label:"Footloose",file:"/fonts/cambriab.ttf"},{name:"Archivo",label:"Gorgeous",file:"/fonts/Archivo-Regular.ttf"},{name:"Berylium",label:"Guru",file:"/fonts/Berylium.ttf"},{name:"Impact",label:"Impactful",file:"/fonts/impact.ttf"},{name:"Absalom",label:"Lovely",file:"/fonts/Absalom.ttf"},{name:"Montserrat",label:"Modern",file:"/fonts/Montserrat-Regular.ttf"},{name:"Altoysitalic",label:"Mountain",file:"/fonts/Altoysitalic_personal_only.ttf"},{name:"BigShouldersDisplay",label:"Paradise",file:"/fonts/BigShouldersDisplay-Regular.ttf"},{name:"Bodoni_72",label:"Radiance",file:"/fonts/Bodoni_72.ttf"},{name:"Alipne",label:"Showcase",file:"/fonts/Alpine.ttf"},{name:"cordia",label:"Spontaneous",file:"/fonts/cordia.ttf"},{name:"Bebas Neue",label:"Statement",file:"/fonts/BebasNeue-Regular.ttf"},{name:"Advert",label:"Sunshine",file:"/fonts/Advert.ttf"},{name:"AdobeNaskh",label:"Urgency",file:"/fonts/AdobeNaskh-Medium.ttf"},{name:"Cochin",label:"Wonder",file:"/fonts/Cochin.ttf"},{name:"Galvji",label:"Vexar",file:"/fonts/Galvji.ttf"}],BLOCK_PILL_STYLES={"Heading (H1)":"text-green border-green bg-green/10","Subheading (H2)":"text-green border-green bg-green/10","Sub-Subheading (H3)":"text-green border-green bg-green/10","List Heading":"text-green border-green bg-green/10",Paragraph:"text-green border-green bg-green/10",FAQ:"text-green border-green bg-green/10",Divider:"text-green border-green bg-green/10","Pro Image":"text-mediaBlue border-mediaBlue bg-mediaBlue/10",Video:"text-mediaBlue border-mediaBlue bg-mediaBlue/10","Audio Player":"text-mediaBlue border-mediaBlue bg-mediaBlue/10","Single Offer":"text-mediaBlue border-mediaBlue bg-mediaBlue/10","Mini Offer":"text-mediaBlue border-mediaBlue bg-mediaBlue/10","Profile Card":"text-mediaBlue border-mediaBlue bg-mediaBlue/10","Scroll Arrow":"text-mediaBlue border-mediaBlue bg-mediaBlue/10","Offer Banner":"text-brightPurple border-brightPurple bg-brightPurple/10","Stripe Checkout":"text-brightPurple border-brightPurple bg-brightPurple/10","Secure Checkout":"text-brightPurple border-brightPurple bg-brightPurple/10","Verified Reviews":"text-brightPurple border-brightPurple bg-brightPurple/10","Button Url":"text-brightPurple border-brightPurple bg-brightPurple/10",Calendly:"text-newAgeOrange border-newAgeOrange bg-newAgeOrange/15","Countdown Timer":"text-newAgeOrange border-newAgeOrange bg-newAgeOrange/15","Social Links Row":"text-newAgeOrange border-newAgeOrange bg-newAgeOrange/15","Section Container":"text-white-400 border-white/20 bg-white/5","Referral Button":"text-white-400 border-white/20 bg-white/5"},BLOCK_TYPE_TO_LABEL={heading:"Heading (H1)",subheading:"Subheading (H2)",subsubheading:"Sub-Subheading (H3)",list_heading:"List Heading",paragraph:"Paragraph",faq:"FAQ",image:"Pro Image",profile_card:"Profile Card",video:"Video",audio_player:"Audio Player",single_offer:"Single Offer",mini_offer:"Mini Offer",scroll_arrow:"Scroll Arrow",offer_banner:"Offer Banner",stripe_checkout:"Stripe Checkout",secure_checkout:"Secure Checkout",verified_reviews:"Verified Reviews",button_url:"Button Url",calendly:"Calendly",countdown:"Countdown Timer",social_links:"Social Links Row",divider:"Divider",container:"Section Container",referral_button:"Referral Button"},TRUST_ICONS=[{key:"lock",icon:"",label:"Secure"},{key:"shield",icon:"",label:"Protected"},{key:"bolt",icon:"",label:"Instant"},{key:"download",icon:"",label:"Download"},{key:"check",icon:"",label:"Verified"},{key:"star",icon:"",label:"Trusted"},{key:"card",icon:"",label:"Payments"}],SCROLL_ARROW_STYLES={single:{label:"Single Arrow",count:1,stagger:0},double:{label:"Double Arrow",count:2,stagger:.15},triple:{label:"Triple Arrow",count:3,stagger:.18}},Nav=()=>{const{user:dt,logout:et}=useAuth(),$t=useNavigate(),[kt,Tt]=reactExports.useState(!1),Dt=useLocation(),Ft=reactExports.useRef(null),Ut=reactExports.useRef(null),[Ht,Kt]=reactExports.useState(!1),[Yt,Jt]=reactExports.useState(!1);reactExports.useEffect(()=>{const ir=nr=>{var or,lr;!((or=Ut.current)!=null&&or.contains(nr.target))&&!((lr=Ft.current)!=null&&lr.contains(nr.target))&&Kt(!1)};return document.addEventListener("pointerdown",ir),()=>document.removeEventListener("pointerdown",ir)},[]),reactExports.useEffect(()=>{const ir=()=>{window.innerWidth>=768&&kt&&Tt(!1)};return window.addEventListener("resize",ir),()=>window.removeEventListener("resize",ir)},[kt]);const Zt=({icon:ir,title:nr,desc:or,onClick:lr,disabled:cr})=>jsxRuntimeExports.jsxs("button",{type:"button",disabled:cr,onClick:()=>{cr||(lr(),Kt(!1))},className:`
      w-full flex items-start gap-3 mb-4 rounded-md p-2 text-left transition
      ${cr?"cursor-default opacity-40":"hover:bg-gray-50 cursor-pointer"}
    `,children:[jsxRuntimeExports.jsx("div",{className:`mt-1 ${cr?"text-gray-400":"text-gray-700"}`,children:jsxRuntimeExports.jsx(ir,{className:"h-5 w-5"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:`text-sm font-semibold ${cr?"text-gray-400":"text-gray-900"}`,children:nr}),jsxRuntimeExports.jsx("div",{className:`text-xs leading-snug ${cr?"text-gray-400":"text-gray-500"}`,children:or})]})]});function er({title:ir,desc:nr,icon:or,onClick:lr}){return jsxRuntimeExports.jsxs("button",{onClick:lr,className:"w-full flex items-start gap-4 py-3 px-3 text-left hover:bg-gray-50 rounded-xl transition",children:[jsxRuntimeExports.jsx("div",{className:"mt-1 flex h-6 w-6 items-center justify-center rounded-lg bg-gray-100",children:or&&jsxRuntimeExports.jsx(or,{className:"h-5 w-5 text-gray-700"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"font-bold text-gray-900",children:ir}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500",children:nr})]})]})}const rr=ir=>{const nr=localStorage.getItem("ref_slug");return $t(nr?`${ir}?ref=${nr}`:ir)};return reactExports.useEffect(()=>{kt?(document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.width="100%"):(document.body.style.overflow="",document.body.style.position="",document.body.style.width="")},[kt]),["/dashboard","/books","/settings","/prompts","/notifications","/canvas-editor","/landing-page-builder","/leads","/landing-analytics","/seller-dashboard","/docs/pro-document","/docs/lead-magnets","/docs/smartprompt","/docs/canvas-editor","/docs/landing-page-builder","/docs/analytics-docs","/docs/analytics","/docs/settings","/docs"].includes(Dt.pathname)||Dt.pathname==="/community"?null:(navLinks.filter(ir=>!(ir.label==="Home"&&Dt.pathname==="/"||ir.label==="Contact Us"&&Dt.pathname==="/contact")),jsxRuntimeExports.jsxs("div",{className:"fixed top-0 left-0 w-full z-50 bg-white border-b border-gray-200",children:[jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:jsxRuntimeExports.jsxs("nav",{onClick:ir=>ir.stopPropagation(),className:"flex justify-between md:grid md:grid-cols-3 items-center h-[72px]",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center cursor-pointer",onClick:()=>rr("/"),children:[jsxRuntimeExports.jsx(motion.img,{src:headerLogo,width:50,height:50,initial:{opacity:0},animate:{opacity:1},transition:{duration:.6}}),jsxRuntimeExports.jsx("span",{style:{fontFamily:'"PT Serif", serif'},className:"ml-2 text-lg font-semibold text-black tracking-tight whitespace-nowrap",children:"The Messy Attic"})]})}),jsxRuntimeExports.jsx("div",{className:"hidden md:flex items-center justify-center gap-8 text-sm font-medium text-gray-700",children:jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsxs("button",{ref:Ft,onClick:ir=>{ir.stopPropagation(),Kt(nr=>!nr)},className:"flex items-center gap-1 text-[16.5px] md:text-[16.5px] lg:text-[16.5px] font-medium text-gray-800 hover:text-black",children:["Products",jsxRuntimeExports.jsx("svg",{className:`h-4 w-4 transition-transform ${Ht?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),jsxRuntimeExports.jsx("div",{ref:Ut,className:`fixed left-0 top-[72px] w-full pt-2
                bg-white border border-gray-200 shadow-2xl z-50
                transition-all duration-150 ease-out
                ${Ht?"opacity-100 translate-y-0 pointer-events-auto":"opacity-0 -translate-y-2 pointer-events-none"}`,children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-4 gap-10 p-12",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-lg font-bold uppercase tracking-wide text-gray-900 mb-6 border-b pb-3",children:"Build & Launch"}),jsxRuntimeExports.jsx(Zt,{icon:LayoutTemplate,title:"Landing Pages",desc:"Create landing pages that sell your books",onClick:()=>rr("/landing")}),jsxRuntimeExports.jsx(Zt,{icon:Users,title:"Communities",desc:"Where writers come to grow",onClick:()=>rr("/community-feature")})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-lg font-bold uppercase tracking-wide text-gray-900 mb-6 border-b pb-3",children:"Scale"}),jsxRuntimeExports.jsx(Zt,{icon:Workflow,title:"Authors Assistant",desc:"Book writing software",onClick:()=>rr("/authors-assistant")})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-lg font-bold uppercase tracking-wide text-gray-900 mb-6 border-b pb-3",children:"Earn & Measure"}),jsxRuntimeExports.jsx(Zt,{icon:CreditCard,title:"Payments",desc:"Accept and track revenue",onClick:()=>rr("/stripe-payments")}),jsxRuntimeExports.jsx(Zt,{icon:ChartColumn,title:"Growth & Analytics",desc:"Performance and insights",onClick:()=>rr("/analytics")})]})]})})]})}),jsxRuntimeExports.jsx("div",{className:"hidden md:flex items-center justify-end relative",children:dt?jsxRuntimeExports.jsxs("div",{className:"relative ml-4",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>Jt(ir=>!ir),className:"flex items-center gap-2 text-sm font-medium text-gray-800 hover:text-black",children:[jsxRuntimeExports.jsx(User,{className:"h-4 w-4"}),"Account",jsxRuntimeExports.jsx("svg",{className:`h-4 w-4 transition-transform duration-150 ${Yt?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),Yt&&jsxRuntimeExports.jsxs("div",{className:"absolute right-0 top-full mt-2 w-44 rounded-lg border bg-white shadow-lg z-50",onMouseLeave:()=>Jt(!1),children:[jsxRuntimeExports.jsx("button",{onClick:()=>{$t("/dashboard"),Jt(!1)},className:"w-full px-4 py-2 text-left text-sm text-black hover:bg-gray-50",children:"Dashboard"}),jsxRuntimeExports.jsx("button",{onClick:()=>{et(),Jt(!1),$t("/login")},className:"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-gray-50",children:"Logout"})]})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{onClick:()=>$t("/login"),className:"text-[16.5px] md:text-[16.5px] lg:text-[16.5px] font-medium text-gray-700 hover:text-black px-5",children:"Login"}),jsxRuntimeExports.jsxs("button",{onClick:()=>rr("/signup-community"),className:"relative overflow-hidden px-5 py-2 rounded-full bg-black text-white text-sm font-semibold hover:bg-gray-900 transition",children:[jsxRuntimeExports.jsx("span",{className:`
                    pointer-events-none
                    absolute top-0 left-[-40%]
                    w-[180%] h-full
                    bg-gradient-to-r
                    from-transparent
                    via-white/25
                    to-transparent
                    animate-button-glide
                    `}),jsxRuntimeExports.jsx("span",{className:"relative z-10",children:"Join for Free "})]})]})}),jsxRuntimeExports.jsx("div",{className:"md:hidden flex justify-end",children:jsxRuntimeExports.jsx("button",{onClick:()=>Tt(!kt),className:"text-black focus:outline-none z-50 relative",children:kt?jsxRuntimeExports.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):jsxRuntimeExports.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16m-7 6h7"})})})})]})}),jsxRuntimeExports.jsx(ze$1,{show:kt,enter:"transition duration-300 ease-out",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition duration-200 ease-in",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:ir=>jsxRuntimeExports.jsxs("div",{ref:ir,className:"fixed inset-0 z-50 bg-white md:hidden flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b",children:[jsxRuntimeExports.jsx("span",{className:"font-extrabold text-lg text-black",children:"The Messy Attic"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[!dt&&jsxRuntimeExports.jsx("button",{onClick:()=>{rr("/signup-community"),Tt(!1)},className:"rounded-full bg-black px-4 py-2 text-sm font-bold text-white",children:"Get Started"}),jsxRuntimeExports.jsx("button",{onClick:()=>Tt(!1),className:"h-10 w-10 rounded-full bg-gray-600 flex items-center justify-center text-xl text-white hover:bg-gray-500 transition",children:""})]})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-8 overscroll-contain",children:jsxRuntimeExports.jsxs("div",{className:"mx-auto max-w-md rounded-3xl border bg-white shadow-xl p-6 space-y-10",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-extrabold tracking-wide mb-4 text-gray-600",children:"BUILD & LAUNCH"}),jsxRuntimeExports.jsx(er,{icon:LayoutTemplate,title:"Landing Pages",desc:"Create landing pages that sell your books",onClick:()=>{rr("/landing"),Tt(!1)}})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-extrabold tracking-wide mb-4 text-gray-600",children:"SCALE"}),jsxRuntimeExports.jsx(er,{icon:Users,title:"Communities",desc:"Where writers come to grow",onClick:()=>{rr("/community-feature"),Tt(!1)}}),jsxRuntimeExports.jsx(er,{icon:BookOpen,title:"Authors Assistant",desc:"Book writing software",onClick:()=>{rr("/authors-assistant"),Tt(!1)}})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-extrabold tracking-wide mb-4 text-gray-600",children:"EARN & MEASURE"}),jsxRuntimeExports.jsx(er,{icon:CreditCard,title:"Payments & Payouts",desc:"Accept payments with Stripe",onClick:()=>{rr("/stripe-payments"),Tt(!1)}}),jsxRuntimeExports.jsx(er,{icon:ChartColumn,title:"Growth & Analytics",desc:"Track clicks, downloads, and performance",onClick:()=>{rr("/analytics"),Tt(!1)}})]}),jsxRuntimeExports.jsxs("div",{className:"pt-4 border-t space-y-3",children:[!dt&&jsxRuntimeExports.jsx("button",{onClick:()=>{rr("/login"),Tt(!1)},className:"w-full text-left font-semibold text-gray-700",children:"Log in"}),dt&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{onClick:()=>{$t("/dashboard"),Tt(!1)},className:"w-full text-left font-semibold text-gray-700",children:"Dashboard"}),jsxRuntimeExports.jsx("button",{onClick:()=>{et(),Tt(!1),$t("/login")},className:"w-full text-left font-semibold text-gray-700",children:"Log out"})]})]})]})})]})})]}))},Landing=()=>{const dt=useNavigate(),et=$t=>{const kt=localStorage.getItem("ref_slug");return dt(kt?`${$t}?ref=${kt}`:$t)};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen w-full bg-white text-black flex flex-col font-sans overflow-x-hidden",children:[jsxRuntimeExports.jsxs("section",{className:"flex flex-col items-center justify-center text-center px-4 sm:px-6 py-36 relative",children:[jsxRuntimeExports.jsxs(motion.h1,{className:`
           header-landing-font
            text-[36px] sm:text-[48px] md:text-[64px]
            font-semibold
            tracking-tight
            leading-[1.15]
          `,initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.9},children:["A quiet place for writers ",jsxRuntimeExports.jsx("br",{}),"to grow together"]}),jsxRuntimeExports.jsx(motion.p,{style:{fontFamily:'"PT Serif", serif'},className:`
            mt-8
            text-lg sm:text-xl
            text-gray-700
            max-w-2xl
            leading-relaxed
          `,initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},children:"The Messy Attic is a supportive writing community where drafts are welcomed, feedback is honest, and writers help each other improve. Share your work, read thoughtfully, and grow without algorithms or noise."}),jsxRuntimeExports.jsxs(motion.div,{className:"mt-12 flex gap-4",initial:{opacity:0},animate:{opacity:1},transition:{delay:1},children:[jsxRuntimeExports.jsx("button",{onClick:()=>et("/signup-community"),className:`
            px-8 py-4
            rounded-xl
            bg-black text-white
            text-sm font-medium
            hover:bg-gray-900
            transition
          `,children:"Join the community"}),jsxRuntimeExports.jsx("button",{onClick:()=>dt("/community-feature"),className:`
            px-8 py-4
            rounded-xl
            border border-gray-300
            text-sm font-medium
            hover:bg-gray-50
            transition
          `,children:"Read how it works"})]})]}),jsxRuntimeExports.jsxs("section",{className:"mx-auto max-w-6xl px-6 py-28",children:[jsxRuntimeExports.jsxs("div",{className:"text-center max-w-3xl mx-auto",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl sm:text-4xl font-semibold tracking-tight header-landing-font",children:"What is The Messy Attic?"}),jsxRuntimeExports.jsx("p",{style:{fontFamily:'"PT Serif", serif'},className:"mt-6 text-lg text-gray-700 leading-relaxed",children:"The Messy Attic is a quiet, supportive writing community where writers share work, exchange thoughtful feedback, and grow together. There are no social feeds, and visibility is earned through real reader engagement."})]}),jsxRuntimeExports.jsx("div",{className:"mt-20 grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:[{icon:PenTool,title:"Write without pressure",desc:"Share drafts, ideas, and finished pieces in a space designed for honest feedback, not performance."},{icon:MessageSquare,title:"Real discussion",desc:"Comments and replies are the heart of the community. Readers engage thoughtfully and writers respond."},{icon:Lock,title:"Intentional access",desc:"Membership is subscription-based, keeping the space focused, respectful, and free from noise."},{icon:TrendingUp,title:"Earned visibility",desc:"Writing rises through thoughtful discussion and genuine reader interest, not popularity contests."},{icon:FileText,title:"Long-form friendly",desc:"A clean editor built for serious writing, not short posts, trends, or distractions."},{icon:Users,title:"Built for writers",desc:"This isnt social media. Its a place to write, read deeply, and improve together."}].map(({icon:$t,title:kt,desc:Tt})=>jsxRuntimeExports.jsxs("div",{className:`
          rounded-2xl
          border border-gray-200
          bg-white
          p-6
          shadow-sm
          transition
          hover:-translate-y-1
        `,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:`
              flex h-10 w-10 items-center justify-center
              rounded-md
              border border-gray-200
              text-gray-700
            `,children:jsxRuntimeExports.jsx($t,{className:"h-5 w-5"})}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:kt})]}),jsxRuntimeExports.jsx("p",{className:"mt-4 text-gray-600 leading-relaxed",children:Tt})]},kt))})]})]})},Footer=()=>jsxRuntimeExports.jsx("footer",{className:"text-white py-8 px-6",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto border-t border-white/10 pt-6 flex flex-col md:flex-row justify-between items-center text-xs text-black/60",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center md:flex-row md:items-center gap-4 md:gap-6",children:[jsxRuntimeExports.jsx("a",{href:"/",className:"flex-shrink-0",children:jsxRuntimeExports.jsx("img",{src:headerLogo,alt:"The Messy Attic Logo",width:50,height:50})}),jsxRuntimeExports.jsxs("p",{children:[" ",new Date().getFullYear()," The Messy Attic. All rights reserved"]})]}),jsxRuntimeExports.jsx("div",{className:"flex flex-col items-center md:items-end gap-2 mt-6 md:mt-0",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Link$2,{to:"/terms",className:"hover:text-black transition-colors",children:"Terms"}),jsxRuntimeExports.jsx("span",{children:"|"}),jsxRuntimeExports.jsx(Link$2,{to:"/privacy-policy",className:"hover:text-black transition-colors",children:"Privacy"}),jsxRuntimeExports.jsx("span",{children:"|"}),jsxRuntimeExports.jsx(Link$2,{to:"/cookie-policy",className:"hover:text-black transition-colors",children:"Cookies"}),jsxRuntimeExports.jsx("span",{children:"|"}),jsxRuntimeExports.jsx(Link$2,{to:"/refund-policy",className:"hover:text-black transition-colors",children:"Refunds"}),jsxRuntimeExports.jsx("span",{children:"|"})]})})]})});function LoginPage(){const{login:dt,saveAuth:et}=useAuth(),$t=useNavigate(),kt=useLocation(),[Tt,Dt]=reactExports.useState({email:"",password:""}),[Ft,Ut]=reactExports.useState(!1),[Ht,Kt]=reactExports.useState(!1),[Yt,Jt]=reactExports.useState(""),[Zt,er]=reactExports.useState(!1),[rr,sr]=reactExports.useState(!1),[ir,nr]=reactExports.useState(""),[or,lr]=reactExports.useState(""),[cr,dr]=reactExports.useState(!1);reactExports.useEffect(()=>{const Or=new URLSearchParams(kt.search).get("ref");Or&&localStorage.setItem("ref_slug",Or)},[kt.search]);const ur=_r=>{Dt({...Tt,[_r.target.name]:_r.target.value})},pr=async _r=>{var Or,Pr;_r.preventDefault(),Ut(!0),Jt("");try{const Mr=await dt(Tt.email,Tt.password);if(Mr!=null&&Mr.requires2FA){lr(Mr.twofaToken),sr(!0),Ut(!1);return}$t("/community")}catch(Mr){(Pr=(Or=Mr.response)==null?void 0:Or.data)!=null&&Pr.message?Jt(Mr.response.data.message):Jt("Login failed. Please try again later.")}finally{Ut(!1)}};function mr(_r){return btoa(String.fromCharCode(...new Uint8Array(_r))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}const vr=async()=>{try{const{email:_r}=Tt;if(!_r){Jt("Enter your email first to use Passkey login.");return}const{data:Or}=await axiosInstance.post("/auth/webauthn/login-options",{email:_r}),Pr=await navigator.credentials.get({publicKey:{...Or,challenge:Uint8Array.from(atob(Or.challenge.replace(/-/g,"+").replace(/_/g,"/")),Rr=>Rr.charCodeAt(0)),allowCredentials:Or.allowCredentials.map(Rr=>({...Rr,id:Uint8Array.from(atob(Rr.id.replace(/-/g,"+").replace(/_/g,"/")),Tr=>Tr.charCodeAt(0))}))}}),{data:Mr}=await axiosInstance.post("/auth/webauthn/login-verify",{email:_r,assertionResp:{id:Pr.id,rawId:mr(Pr.rawId),type:Pr.type,response:{authenticatorData:mr(Pr.response.authenticatorData),clientDataJSON:mr(Pr.response.clientDataJSON),signature:mr(Pr.response.signature),userHandle:Pr.response.userHandle?mr(Pr.response.userHandle):null}}});Mr.success?(et(Mr.user,Mr.accessToken,Mr.refreshToken),$t("/community")):Jt("Passkey login failed. Try again.")}catch(_r){console.error("Passkey login error:",_r),Jt("Passkey login failed.")}},kr=async()=>{if(!ir.trim()){Jt("Enter the 6-digit code first.");return}dr(!0),Jt("");try{const _r=await axiosInstance.post("https://themessyattic.com/api/auth/user/verify-login-2fa",{token:ir,twofaToken:or});_r.data.success?(et(_r.data.user,_r.data.accessToken,_r.data.refreshToken),$t("/community")):Jt("Invalid 2FA code. Try again.")}catch(_r){console.error("2FA verify error:",_r),Jt("Invalid or expired 2FA code.")}finally{dr(!1)}},br=()=>{const _r=localStorage.getItem("ref_slug");$t(_r?`/plans?ref=${_r}`:"/plans")};return reactExports.useEffect(()=>{if(Yt){er(!1);const _r=setTimeout(()=>er(!0),4e3),Or=setTimeout(()=>Jt(""),5e3);return()=>{clearTimeout(_r),clearTimeout(Or)}}},[Yt]),reactExports.useEffect(()=>(document.body.style.overflow="auto",document.body.style.position="",document.body.style.width="",()=>{document.body.style.overflow="auto",document.body.style.position="",document.body.style.width=""}),[]),jsxRuntimeExports.jsx("div",{className:"min-h-screen flex flex-col bg-white",children:jsxRuntimeExports.jsx("section",{className:"flex flex-col justify-center items-center flex-grow px-6 py-20",children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-md bg-white p-8 rounded-2xl border border-gray-200 shadow-xl",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 mb-5",children:[jsxRuntimeExports.jsx("img",{src:headerLogo,alt:"The Messy Attic",className:"h-12 w-12 object-contain"}),jsxRuntimeExports.jsx("div",{className:"flex flex-col leading-tight",children:jsxRuntimeExports.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"The Messy Attic"})})]}),jsxRuntimeExports.jsx("div",{className:"flex items-start gap-3 mb-2",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col",children:[jsxRuntimeExports.jsx("h3",{className:"text-3xl font-bold text-gray-900",children:"Sign in to your account"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600 mb-5",children:["New to The Messy Attic?"," ",jsxRuntimeExports.jsx("button",{onClick:br,className:"font-semibold hover:underline",children:"Sign Up"})]})]})}),Yt&&jsxRuntimeExports.jsx("div",{className:`bg-red-50 border border-red-200 text-red-700 text-sm rounded-lg p-3 mb-4 text-center transition-opacity duration-1000 ${Zt?"opacity-0":"opacity-100"}`,children:Yt}),rr?jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-3 text-gray-900",children:"Two-Factor Authentication"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Enter the 6-digit code from your Authenticator app."}),jsxRuntimeExports.jsx("input",{type:"text",value:ir,onChange:_r=>nr(_r.target.value),placeholder:"123456",maxLength:"6",className:`
                w-32 text-center py-2 px-3 rounded-md
                bg-white border border-gray-300
                text-gray-900
                focus:ring-2 focus:ring-black/10 outline-none mb-4
              `}),jsxRuntimeExports.jsx("button",{onClick:kr,disabled:cr,className:`
                w-full bg-black text-white
                font-semibold py-2 rounded-lg
                hover:opacity-90 transition
              `,children:cr?"Verifying...":"Verify Code"})]}):jsxRuntimeExports.jsxs("form",{onSubmit:pr,className:"space-y-4",children:[jsxRuntimeExports.jsx("input",{type:"email",name:"email",value:Tt.email,onChange:ur,placeholder:"Email Address",required:!0,className:`
                w-full h-[48px] px-4 py-3 rounded-lg
                bg-white
                border border-gray-300
                text-gray-900
                placeholder-gray-400
                focus:outline-none focus:ring-2 focus:ring-black/10 focus:border-black 
              `}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:Ht?"text":"password",name:"password",value:Tt.password,onChange:ur,placeholder:"Password",required:!0,className:`
                  w-full h-[48px] px-4 py-3 pr-12 rounded-lg
                  bg-white
                  border border-gray-300
                  text-gray-900
                  placeholder-gray-400
                  focus:outline-none focus:ring-2 focus:ring-black/10 focus:border-black
                `}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>Kt(!Ht),className:"absolute inset-y-0 right-3 flex items-center text-gray-400 hover:text-gray-600","aria-label":Ht?"Hide password":"Show password",children:Ht?jsxRuntimeExports.jsx(EyeOff,{size:18}):jsxRuntimeExports.jsx(Eye,{size:18})})]}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:Ft,className:`
                w-full bg-black text-white
                font-semibold py-3 rounded-lg
                hover:opacity-90 transition
              `,children:Ft?"Logging In...":"Log In"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:vr,className:`
                w-full mt-2
                bg-gray-100 text-gray-900
                font-semibold py-3 rounded-lg
                border border-gray-300
                hover:bg-gray-200 transition
              `,children:"Sign in with Passkey"})]}),!rr&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 text-center mt-4",children:jsxRuntimeExports.jsx("a",{href:"/forgot-password",className:"hover:underline",children:"Forgot Password?"})})})]})})})}function Contact(){const[dt,et]=reactExports.useState({name:"",email:"",subject:"",message:""}),[$t,kt]=reactExports.useState(!1),Tt=Ft=>{et({...dt,[Ft.target.name]:Ft.target.value})},Dt=async Ft=>{Ft.preventDefault(),kt(!0);try{await axiosInstance.post("/support/contact",dt),y$4.success(" Message sent! We'll get back to you soon.",{position:"top-center"}),et({name:"",email:"",subject:"",message:""})}catch(Ut){console.error(Ut),y$4.error(" Something went wrong. Please try again later.",{position:"top-center"})}finally{kt(!1)}};return reactExports.useEffect(()=>(document.body.style.overflow="auto",document.body.style.position="",document.body.style.width="",()=>{document.body.style.overflow="auto",document.body.style.position="",document.body.style.width=""}),[]),jsxRuntimeExports.jsx("div",{className:"min-h-screen flex flex-col bg-white",children:jsxRuntimeExports.jsx("section",{className:"flex flex-col justify-center items-center flex-grow px-6 py-20",children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-xl bg-white p-8 rounded-2xl border border-gray-200 shadow-xl",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center mb-6 text-center",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 mb-5",children:[jsxRuntimeExports.jsx("img",{src:headerLogo,alt:"The Messy Attic",className:"h-12 w-12 object-contain"}),jsxRuntimeExports.jsx("div",{className:"flex flex-col leading-tight",children:jsxRuntimeExports.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"The Messy Attic"})})]}),jsxRuntimeExports.jsx("h3",{className:"text-3xl font-bold text-gray-900",children:"Contact Support"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Have questions or need help? Our support team typically responds within 24 to 48 hours."})]}),jsxRuntimeExports.jsxs("form",{onSubmit:Dt,className:"space-y-4",children:[jsxRuntimeExports.jsx("input",{type:"text",name:"name",value:dt.name,onChange:Tt,placeholder:"Your Name",required:!0,className:`
              w-full h-[48px] px-4 py-3 rounded-lg
              bg-white
              border border-gray-300
              text-gray-900
              placeholder-gray-400
              focus:outline-none focus:ring-2 focus:ring-black/10 focus:border-black
            `}),jsxRuntimeExports.jsx("input",{type:"email",name:"email",value:dt.email,onChange:Tt,placeholder:"Email Address",required:!0,className:`
              w-full h-[48px] px-4 py-3 rounded-lg
              bg-white
              border border-gray-300
              text-gray-900
              placeholder-gray-400
              focus:outline-none focus:ring-2 focus:ring-black/10 focus:border-black
            `}),jsxRuntimeExports.jsx("input",{type:"text",name:"subject",value:dt.subject,onChange:Tt,placeholder:"Subject (optional)",className:`
              w-full h-[48px] px-4 py-3 rounded-lg
              bg-white
              border border-gray-300
              text-gray-900
              placeholder-gray-400
              focus:outline-none focus:ring-2 focus:ring-black/10 focus:border-black
            `}),jsxRuntimeExports.jsx("textarea",{name:"message",value:dt.message,onChange:Tt,placeholder:"Write your message...",rows:5,required:!0,className:`
              w-full px-4 py-3 rounded-lg resize-none
              bg-white
              border border-gray-300
              text-gray-900
              placeholder-gray-400
              focus:outline-none focus:ring-2 focus:ring-black/10 focus:border-black
            `}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:$t,className:`
              w-full bg-black text-white
              font-semibold py-3 rounded-lg
              hover:opacity-90 transition
            `,children:$t?"Sending...":"Send Message"})]})]})})})}function PlanDetailsModal({plan:dt,onClose:et}){if(!dt)return null;reactExports.useEffect(()=>{const Dt=window.innerWidth-document.documentElement.clientWidth;return document.body.style.overflow="hidden",document.body.style.paddingRight=`${Dt}px`,()=>{document.body.style.overflow="",document.body.style.paddingRight=""}},[]);const $t={basic:{title:"Basic Creator",content:`
The Basic Creator Plan gives you 5 Lead Magnet Slots to design professional, conversion-ready lead magnets using Cre8tlys AI tools. Access standard templates, custom branding, and editable layouts so you can attract new subscribers and showcase your expertise with ease.`},business_basic_builder:{title:"Business Basic Builder",content:`
The Business Basic Builder plan is designed for creators and entrepreneurs who want to start selling without the full Pro commitment.

This plan includes:
 7 Lead Magnet Slots  
 Sell directly on your landing pages  
 No platform fees: keep what you make  
 Pro Covers for books and lead magnets  
 Prompt Memory for consistent AI writing  
 Access to millions of royalty-free Unsplash images  
 Built-in email capture for lead generation  

Business Basic gives you everything you need to launch, validate, and grow without advanced analytics or custom landing page features. Upgrade anytime when you're ready to scale.`},author:{title:"Authors Assistant",content:`
Transform your writing with intelligent support, not automation.
Authors Assistant is a complete book creation and publishing system designed for serious writers. It helps you plan structure, develop chapters, revise with intention, and move deliberately from draft to finished work. Write and edit up to 750 pages, per book, with full control over revisions, section locking, and finalization. When your book is ready, combine all chapters into a single publishable EPUB, compatible with Kindle and major ebook platforms. Your voice stays intact, your thinking stays clear, and your work ends as a finished, authoritative book, not an endless draft.
`},business_builder_pack:{title:"Pro Business Builder Pack",content:`
The Pro Business Builder Pack is the ultimate growth suite for creators, entrepreneurs, and marketers who want to look professional, build trust, and scale with confidence.

It gives you everything you need to build high-converting landing pages, capture leads automatically, and sell digital products under your own brand using The Messy Attics advanced tools.

Features include:
 High-converting landing pages and lead forms  
 Mini Offers for quick digital sales and upsells  
 Animated sections and scroll effects for premium page engagement  
 Custom domain support (use your own branded domain)  
 Built-in analytics to track performance and conversions  
 No platform fees, keep what you make  
 AI-powered email content generator  
 Premium conversion-optimized templates  
 Priority support and one-year updates  

This plan is designed for creators who want full brand control, higher trust, and the ability to scale their digital business without limitations.`}},{title:kt,content:Tt}=$t[dt]||{};return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 bg-black/90 backdrop-blur-sm flex items-start sm:items-center justify-center p-4 sm:p-6",children:jsxRuntimeExports.jsxs("div",{className:"bg-[#141414] border border-gray-700 rounded-2xl w-full max-w-lg relative max-h-[90vh] flex flex-col shadow-2xl shadow-black/40 mt-6 sm:mt-0",children:[jsxRuntimeExports.jsx("button",{onClick:et,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition z-10",children:jsxRuntimeExports.jsx(X$5,{size:22})}),jsxRuntimeExports.jsx("div",{className:"px-8 pt-8 pb-4",children:jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-center text-white",children:kt})}),jsxRuntimeExports.jsx("div",{className:"px-8 pb-6 overflow-y-auto text-gray-300 whitespace-pre-line leading-relaxed",children:Tt}),jsxRuntimeExports.jsx("div",{className:"px-8 pb-6 pt-4 text-center border-t border-gray-800",children:jsxRuntimeExports.jsx("button",{onClick:et,className:"px-6 py-2 bg-blue rounded-lg font-semibold hover:opacity-90 transition",children:"Got it"})})]})})}function PlansPage(){const[dt,et]=reactExports.useState(null),[$t,kt]=reactExports.useState(null),Tt=useLocation(),{user:Dt}=useAuth();reactExports.useEffect(()=>{const Ht=new URLSearchParams(Tt.search).get("ref");if(Ht){localStorage.setItem("ref_slug",Ht);return}},[Tt]);const Ft=async Ut=>{if(!Dt||!Dt.id){y$4.warning("Create a free account to continue. No credit card required.");return}try{et(Ut);const Ht=localStorage.getItem("accessToken");if(Ut==="author"){const Zt=await axiosInstance.post("/seller-checkout/create-authors-assistant-subscription",{},{headers:{Authorization:`Bearer ${Ht}`}});window.location.href=Zt.data.url;return}let Kt=Ut,Yt=null;Ut==="business_builder_pack_annual"?(Kt="business_builder_pack",Yt="annual"):Ut==="business_builder_pack_monthly"?(Kt="business_builder_pack",Yt="monthly"):Ut==="business_basic_builder"&&(Kt="business_basic_builder",Yt="annual");const Jt=await axiosInstance.post("/checkout",{userId:Dt.id,productType:Kt,billingCycle:Yt},{headers:{Authorization:`Bearer ${Ht}`}});window.location.href=Jt.data.url}catch(Ht){console.error("Checkout error:",Ht),y$4.error("Failed to start checkout session"),et(null)}};return reactExports.useEffect(()=>(document.body.style.overflow="auto",document.body.style.position="",document.body.style.width="",()=>{document.body.style.overflow="auto",document.body.style.position="",document.body.style.width=""}),[]),jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-[#fff] text-white flex flex-col items-center px-6 py-20",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center mb-10",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl font-extrabold tracking-tight text-center design-text text-black mt-20",children:"Pricing"}),jsxRuntimeExports.jsxs("p",{className:"text-black mt-4 text-center max-w-xl",children:["Start free. Upgrade anytime for professional tools, branding,",jsxRuntimeExports.jsx("br",{})," and automation built for authors."]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-10 w-full max-w-6xl mx-auto place-items-stretch",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col rounded-2xl border border-gray-800 bg-[#111]/80 p-10 text-left hover:border-green/50 transition",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold mb-1 text-white design-text",children:"Free Builder Trial"}),jsxRuntimeExports.jsx("p",{className:"text-4xl font-extrabold text-white",children:"$0"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 mb-3 text-sm",children:"No credit card required  7 days"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 mb-6",children:"Best for testing an idea and building your first lead magnet."}),jsxRuntimeExports.jsxs("ul",{className:"text-sm text-gray-300 space-y-2 mb-6",children:[jsxRuntimeExports.jsx("li",{children:" 1 lead magnet (up to 5 pages)"}),jsxRuntimeExports.jsx("li",{children:" Basic templates"}),jsxRuntimeExports.jsx("li",{children:" AI-assisted writing tools"}),jsxRuntimeExports.jsx("li",{children:" Full access for 7 days"})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mb-8",children:"Upgrade anytime to unlock selling, custom domains, analytics, and branding."}),Dt?(Dt==null?void 0:Dt.has_free_magnet)===1?jsxRuntimeExports.jsx("button",{disabled:!0,className:"mt-auto w-full py-3 text-lg font-semibold rounded-lg bg-gray-700 text-gray-300 cursor-not-allowed",children:"Trial Active"}):jsxRuntimeExports.jsx("button",{onClick:()=>window.location.href="/dashboard",className:"mt-auto w-full py-3 text-lg font-semibold rounded-lg bg-gradient-to-r from-green to-royalPurple text-black hover:opacity-90 transition",children:"Go to Dashboard"}):jsxRuntimeExports.jsx("button",{onClick:()=>{const Ut=localStorage.getItem("ref_slug");window.location.href=Ut?`/sign-up?ref=${Ut}`:"/sign-up"},className:"mt-auto w-full py-3 text-lg font-semibold rounded-lg bg-green text-black hover:opacity-90 transition",children:"Start Building for Free"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col rounded-2xl border border-gray-800 bg-[#111]/80 p-10 text-left hover:border-pink-400 transition",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold mb-1 text-pink-400 design-text",children:"Authors Assistant"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Active subscription  Up to 750 pages per book"}),jsxRuntimeExports.jsxs("p",{className:"text-4xl font-extrabold text-pink-400",children:["$49.99",jsxRuntimeExports.jsx("span",{className:"text-lg font-medium text-gray-400",children:"/month"})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"Cancel anytime  Access ends when subscription ends"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 mb-6 text-sm leading-relaxed",children:"A structured writing and publishing system designed to help you plan, write, finalize, and publish a full-length book, while preserving your unique voice and intent."}),jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("p",{className:"text-xs uppercase tracking-wide text-pink-400 mb-2",children:"Write with confidence"}),jsxRuntimeExports.jsxs("ul",{className:"text-sm text-gray-300 space-y-2",children:[jsxRuntimeExports.jsx("li",{children:" Generate chapters and structured sections"}),jsxRuntimeExports.jsx("li",{children:" Rewrite, expand, or shorten any passage"}),jsxRuntimeExports.jsx("li",{children:" Save unlimited revisions without losing progress"}),jsxRuntimeExports.jsx("li",{children:" Continue writing with full book-level context"})]})]}),jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("p",{className:"text-xs uppercase tracking-wide text-pink-400 mb-2",children:"Maintain continuity"}),jsxRuntimeExports.jsxs("ul",{className:"text-sm text-gray-300 space-y-2",children:[jsxRuntimeExports.jsx("li",{children:" Up to 750 pages across a single book project"}),jsxRuntimeExports.jsx("li",{children:" Import existing drafts, notes, or research"}),jsxRuntimeExports.jsx("li",{children:" Edit chapters individually without breaking structure"})]})]}),jsxRuntimeExports.jsxs("div",{className:"mb-8",children:[jsxRuntimeExports.jsx("p",{className:"text-xs uppercase tracking-wide text-pink-400 mb-2",children:"Publish professionally"}),jsxRuntimeExports.jsxs("ul",{className:"text-sm text-gray-300 space-y-2",children:[jsxRuntimeExports.jsx("li",{children:" Finalize and lock your completed book"}),jsxRuntimeExports.jsx("li",{children:" Combine all chapters into a single EPUB"}),jsxRuntimeExports.jsx("li",{children:" Publish EPUBs compatible with Kindle and major platforms"})]})]}),jsxRuntimeExports.jsx("button",{onClick:()=>Ft("author"),disabled:dt==="author",className:`mt-auto w-full py-3 text-lg font-semibold rounded-lg transition-all ${dt==="author"?"opacity-50 cursor-not-allowed bg-gray-700":"bg-gradient-to-r from-pink-500 to-rose-400 text-white hover:opacity-90"}`,children:dt==="author"?"Redirecting...":"Start Writing with Authors Assistant"}),jsxRuntimeExports.jsx("button",{onClick:()=>kt("author"),className:"text-pink-400 text-sm hover:underline mt-3 text-center",children:"Learn more about Authors Assistant"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col rounded-2xl border border-gray-800 bg-[#111]/80 p-10 text-left hover:border-emerald-400/50 transition",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold mb-1 text-white design-text",children:"Business Basic"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"(Annual)"}),jsxRuntimeExports.jsx("p",{className:"text-4xl font-extrabold text-white",children:"$65"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 mb-3 text-sm",children:"Billed annually ($780/year)"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 mb-6",children:"Best for launching a professional landing page and capturing leads."}),jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-400 mb-2",children:"Whats included"}),jsxRuntimeExports.jsxs("ul",{className:"text-sm text-gray-300 space-y-2",children:[jsxRuntimeExports.jsx("li",{children:" 7 Lead Magnet Slots per month"}),jsxRuntimeExports.jsx("li",{children:" Sell directly on your landing page"}),jsxRuntimeExports.jsx("li",{children:" No platform fees, keep what you make"}),jsxRuntimeExports.jsx("li",{children:" Pro covers and prompt memory"}),jsxRuntimeExports.jsx("li",{children:" 5M Unsplash image library"}),jsxRuntimeExports.jsx("li",{children:" Custom subdomain and email capture"})]})]}),jsxRuntimeExports.jsxs("div",{className:"mb-8",children:[jsxRuntimeExports.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500 mb-2",children:"Advanced tools for scaling revenue"}),jsxRuntimeExports.jsxs("ul",{className:"text-[13px] text-gray-500 space-y-1 opacity-70",children:[jsxRuntimeExports.jsx("li",{children:" Custom domain"}),jsxRuntimeExports.jsx("li",{children:" Animations and scroll effects"}),jsxRuntimeExports.jsx("li",{children:" Gradient themes"}),jsxRuntimeExports.jsx("li",{children:" Custom branding"}),jsxRuntimeExports.jsx("li",{children:" Audio player"}),jsxRuntimeExports.jsx("li",{children:" Calendly integration"}),jsxRuntimeExports.jsx("li",{children:" Verified reviews"}),jsxRuntimeExports.jsx("li",{children:" Advanced analytics"}),jsxRuntimeExports.jsx("li",{children:" Mini offers"})]})]}),jsxRuntimeExports.jsx("button",{onClick:()=>Ft("business_basic_builder"),disabled:dt==="business_basic_builder",className:`mt-auto w-full py-3 text-lg font-semibold rounded-lg border transition-all ${dt==="business_basic_builder"?"opacity-50 cursor-not-allowed bg-gray-700 border-gray-700":"text-white border-blue-400 hover:opacity-90 shadow-lg shadow-blue-400/30"}`,children:dt==="business_basic_builder"?"Redirecting...":"Start with Business Basic"}),jsxRuntimeExports.jsx("button",{onClick:()=>kt("business_basic_builder"),className:"mt-4 text-sm text-gray-400 hover:text-white hover:underline text-center",children:"Learn more about this plan"})]}),jsxRuntimeExports.jsxs("div",{className:"relative flex flex-col rounded-2xl border border-blue-500/40 bg-[#111]/90 p-10 text-left shadow-xl shadow-blue-500/10 transition hover:border-blue-400",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold mb-1 text-blue-400 design-text",children:"Business Builder"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"(Annual  Full Platform Access)"}),jsxRuntimeExports.jsx("p",{className:"text-4xl font-extrabold text-white",children:"$129.99"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 mb-3 text-sm",children:"Billed annually ($1,560/year)"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 mb-6",children:"Built for creators and entrepreneurs who want to launch, sell, and scale digital products from one platform."}),jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("p",{className:"text-xs uppercase tracking-wide text-blue-400 mb-2",children:"Everything you need to sell"}),jsxRuntimeExports.jsxs("ul",{className:"text-sm text-gray-300 space-y-2",children:[jsxRuntimeExports.jsx("li",{children:" 15 lead magnet slots per month"}),jsxRuntimeExports.jsx("li",{children:" Sell directly on high-converting landing pages"}),jsxRuntimeExports.jsx("li",{children:" No platform fees, keep 100% of your sales"}),jsxRuntimeExports.jsx("li",{children:" Mini offers, verified reviews, and audio products"}),jsxRuntimeExports.jsx("li",{children:" Custom domain, branding, and advanced themes"}),jsxRuntimeExports.jsx("li",{children:" Advanced analytics and priority support"})]})]}),jsxRuntimeExports.jsxs("div",{className:"mb-8",children:[jsxRuntimeExports.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500 mb-2",children:"Full feature access"}),jsxRuntimeExports.jsxs("ul",{className:"text-[13px] text-gray-500 space-y-1 opacity-75",children:[jsxRuntimeExports.jsx("li",{children:" Animated sections and scroll effects"}),jsxRuntimeExports.jsx("li",{children:" Pro covers and prompt memory"}),jsxRuntimeExports.jsx("li",{children:" 5M Unsplash image library"}),jsxRuntimeExports.jsx("li",{children:" Audio player and Calendly integration"}),jsxRuntimeExports.jsx("li",{children:" Custom branding and gradient themes"}),jsxRuntimeExports.jsx("li",{children:" Advanced analytics and verified reviews"})]})]}),jsxRuntimeExports.jsx("button",{onClick:()=>Ft("business_builder_pack_annual"),disabled:dt==="business_builder_pack_annual",className:`mt-auto w-full py-3 text-lg font-semibold rounded-lg border transition-all ${dt==="business_builder_pack_annual"?"opacity-50 cursor-not-allowed bg-gray-700 border-gray-700":"text-white bg-blue-500 border-blue-500 hover:bg-blue-400 shadow-lg shadow-blue-500/30"}`,children:dt==="business_builder_pack_annual"?"Redirecting...":"Build with Business Builder"}),jsxRuntimeExports.jsx("button",{onClick:()=>kt("business_builder_pack"),className:"mt-4 text-sm text-blue-400 hover:underline text-center",children:"See everything included"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col rounded-2xl border border-gray-800 bg-[#111]/70 p-10 text-left transition hover:border-sky-400/40",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold mb-1 text-white design-text",children:"Business Builder"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Monthly billing  Same features as annual"}),jsxRuntimeExports.jsx("p",{className:"text-4xl font-extrabold text-white",children:"$199.99"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 mb-3 text-sm",children:"Billed monthly (12-month commitment)"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 mb-6",children:"For builders who want maximum flexibility while running their business month-to-month."}),jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("p",{className:"text-xs uppercase tracking-wide text-sky-400 mb-2",children:"Full Business Builder access"}),jsxRuntimeExports.jsxs("ul",{className:"text-sm text-gray-300 space-y-2",children:[jsxRuntimeExports.jsx("li",{children:" Everything included in Business Builder"}),jsxRuntimeExports.jsx("li",{children:" 15 lead magnets per month"}),jsxRuntimeExports.jsx("li",{children:" Selling, branding, analytics, and automation"}),jsxRuntimeExports.jsx("li",{children:" Custom domains, advanced themes, and integrations"}),jsxRuntimeExports.jsx("li",{children:" Priority support"})]})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-300 mb-8",children:"Prefer the best value? Save significantly with annual billing."}),jsxRuntimeExports.jsx("button",{onClick:()=>Ft("business_builder_pack_monthly"),disabled:dt==="business_builder_pack_monthly",className:`mt-auto w-full py-3 text-lg font-semibold rounded-lg border transition-all ${dt==="business_builder_pack_monthly"?"opacity-50 cursor-not-allowed bg-gray-700 border-gray-700":"text-white border-sky-400 hover:bg-sky-400/10"}`,children:dt==="business_builder_pack_monthly"?"Redirecting...":"Choose Monthly Billing"}),jsxRuntimeExports.jsx("button",{onClick:()=>kt("business_builder_pack"),className:"mt-4 text-sm text-gray-400 hover:text-white hover:underline text-center",children:"Compare with annual option"})]})]}),$t&&jsxRuntimeExports.jsx(PlanDetailsModal,{plan:$t,onClose:()=>kt(null)}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-sm mt-16 text-center",children:" Secure checkout  powered by Stripe"})]})}const ReactToastify="",quill_snow="",index="";function ForgotPassword(){const[dt,et]=reactExports.useState(""),[$t,kt]=reactExports.useState(!1),Tt=useNavigate();reactExports.useEffect(()=>{document.body.style.overflow="auto",document.body.style.position="",document.body.style.width=""},[]);const Dt=async Ft=>{var Ut,Ht;if(Ft.preventDefault(),!!dt){kt(!0);try{const Kt=await axiosInstance.post("/auth/forgot-password",{email:dt});y$4.success(Kt.data.message||"Reset link sent"),et(""),setTimeout(()=>Tt("/login"),2500)}catch(Kt){y$4.error(((Ht=(Ut=Kt.response)==null?void 0:Ut.data)==null?void 0:Ht.message)||"Error sending reset email")}finally{kt(!1)}}};return jsxRuntimeExports.jsx("div",{className:"min-h-screen flex flex-col bg-white",children:jsxRuntimeExports.jsx("section",{className:"flex flex-col justify-center items-center flex-grow px-6 py-20",children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-md bg-white p-8 rounded-2xl border border-gray-200 shadow-xl",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[jsxRuntimeExports.jsx("img",{src:headerLogo,alt:"The Messy Attic",className:"h-12 w-12 object-contain"}),jsxRuntimeExports.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"The Messy Attic"})]}),jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Forgot your password?"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Enter your email and well send you a reset link."}),jsxRuntimeExports.jsxs("form",{onSubmit:Dt,className:"space-y-4",children:[jsxRuntimeExports.jsx("input",{type:"email",value:dt,onChange:Ft=>et(Ft.target.value),placeholder:"Email Address",required:!0,className:`
                w-full h-[48px] px-4 rounded-lg
                bg-white
                border border-gray-300
                text-gray-900
                placeholder-gray-400
                focus:outline-none focus:ring-2 focus:ring-black/10 focus:border-black
              `}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:$t,className:`
                w-full bg-black text-white
                font-semibold py-3 rounded-lg
                hover:opacity-90 transition
              `,children:$t?"Sending...":"Send reset link"})]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600 text-center mt-6",children:["Remember your password?"," ",jsxRuntimeExports.jsx("button",{onClick:()=>Tt("/login"),className:"font-semibold hover:underline",children:"Back to Login"})]})]})})})}function ResetPassword(){const[dt]=useSearchParams(),[et,$t]=reactExports.useState(""),[kt,Tt]=reactExports.useState(""),[Dt,Ft]=reactExports.useState(!1),[Ut,Ht]=reactExports.useState(!1),Kt=useNavigate(),Yt=dt.get("token");reactExports.useEffect(()=>{Yt||(y$4.error("Invalid or missing reset token."),Kt("/login"))},[Yt,Kt]);const Jt=async Zt=>{var er,rr;if(Zt.preventDefault(),!et||!kt)return y$4.error("Please enter and confirm your new password.");if(et!==kt)return y$4.error("Passwords do not match.");Ft(!0);try{const sr=await axiosInstance.post("/auth/reset-password",{token:Yt,newPassword:et});y$4.success(sr.data.message||"Password reset successful!"),Ht(!0),setTimeout(()=>Kt("/login"),3500)}catch(sr){console.error("Reset password error:",sr),y$4.error(((rr=(er=sr.response)==null?void 0:er.data)==null?void 0:rr.message)||"Error resetting password.")}finally{Ft(!1)}};return jsxRuntimeExports.jsx("div",{className:"min-h-screen flex flex-col bg-white",children:jsxRuntimeExports.jsx("section",{className:"flex flex-col justify-center items-center flex-grow px-6 py-20",children:jsxRuntimeExports.jsx(AnimatePresence,{mode:"wait",children:Ut?jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,scale:.96},animate:{opacity:1,scale:1},transition:{duration:.4},className:"w-full max-w-md bg-white p-8 rounded-2xl border border-gray-200 shadow-xl text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Password updated"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-6",children:"Your password has been reset successfully. You can now sign in with your new password."}),jsxRuntimeExports.jsx("button",{onClick:()=>Kt("/login"),className:`
                  w-full bg-black text-white
                  font-semibold py-3 rounded-lg
                  hover:opacity-90 transition
                `,children:"Go to Login"})]},"success"):jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4},className:"w-full max-w-md bg-white p-8 rounded-2xl border border-gray-200 shadow-xl",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[jsxRuntimeExports.jsx("img",{src:headerLogo,alt:"The Messy Attic",className:"h-12 w-12 object-contain"}),jsxRuntimeExports.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"The Messy Attic"})]}),jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Reset your password"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Enter a new password for your account."}),jsxRuntimeExports.jsxs("form",{onSubmit:Jt,className:"space-y-4",children:[jsxRuntimeExports.jsx("input",{type:"password",value:et,onChange:Zt=>$t(Zt.target.value),placeholder:"New password",required:!0,className:`
                    w-full h-[48px] px-4 rounded-lg
                    bg-white
                    border border-gray-300
                    text-gray-900
                    placeholder-gray-400
                    focus:outline-none focus:ring-2 focus:ring-black/10 focus:border-black
                  `}),jsxRuntimeExports.jsx("input",{type:"password",value:kt,onChange:Zt=>Tt(Zt.target.value),placeholder:"Confirm new password",required:!0,className:`
                    w-full h-[48px] px-4 rounded-lg
                    bg-white
                    border border-gray-300
                    text-gray-900
                    placeholder-gray-400
                    focus:outline-none focus:ring-2 focus:ring-black/10 focus:border-black
                  `}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:Dt,className:`
                    w-full bg-black text-white
                    font-semibold py-3 rounded-lg
                    hover:opacity-90 transition
                  `,children:Dt?"Resetting...":"Reset password"})]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600 text-center mt-6",children:["Remembered your password?"," ",jsxRuntimeExports.jsx("button",{onClick:()=>Kt("/login"),className:"font-semibold hover:underline",children:"Back to Login"})]})]},"form")})})})}const BookContext=reactExports.createContext();function BookProvider({children:dt}){const{accessToken:et}=useAuth(),[$t,kt]=reactExports.useState([]),[Tt,Dt]=reactExports.useState(!0),[Ft,Ut]=reactExports.useState(null),Ht=async()=>{if(et)try{const Kt=await axios$1.get("https://themessyattic.com/api/books",{headers:{Authorization:`Bearer ${et}`}});kt(Kt.data)}catch(Kt){console.error("Error fetching books:",Kt),Ut(Kt)}finally{Dt(!1)}};return reactExports.useEffect(()=>{if(!et)return;Ht();const Kt=setInterval(async()=>{try{const Yt=await axios$1.get("https://themessyattic.com/api/books",{headers:{Authorization:`Bearer ${et}`}});kt(Jt=>JSON.stringify(Jt)===JSON.stringify(Yt.data)?Jt:Yt.data)}catch(Yt){console.warn("Polling error:",Yt.message)}},5e3);return()=>clearInterval(Kt)},[et]),jsxRuntimeExports.jsx(BookContext.Provider,{value:{books:$t,setBooks:kt,fetchBooks:Ht,loading:Tt,error:Ft},children:dt})}function useBooks(){return reactExports.useContext(BookContext)}function LoadingState({label:dt="Loading your lead magnets..."}){return jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center text-center min-h-[60vh]",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-green mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-silver",children:dt})]})}function EmptyState({type:dt="magnet"}){const et=dt==="book";return jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center text-center min-h-[60vh]",children:[jsxRuntimeExports.jsx("p",{className:"text-silver text-lg max-w-md leading-relaxed italic",children:et?"You havent written any books yet.":"You havent created any lead magnets yet."}),jsxRuntimeExports.jsx("p",{className:"text-dashboard-muted-light dark:text-dashboard-muted-dark text-sm mt-2",children:"Get started whenever youre ready."})]})}function PaginationControls({currentPage:dt,totalPages:et,onPageChange:$t}){return et<=1?null:jsxRuntimeExports.jsxs("div",{className:"flex justify-center items-center gap-4 mt-6",children:[jsxRuntimeExports.jsx("button",{disabled:dt===1,onClick:()=>$t(dt-1),className:`
        px-4 py-2 rounded transition
        bg-gray-200 text-black
        dark:bg-gray-700 dark:text-white
        disabled:opacity-50 disabled:cursor-not-allowed
      `,children:"Prev"}),jsxRuntimeExports.jsxs("span",{className:"text-black dark:text-white",children:["Page ",dt," of ",et]}),jsxRuntimeExports.jsx("button",{disabled:dt===et,onClick:()=>$t(dt+1),className:`
        px-4 py-2 rounded transition
        bg-gray-200 text-black
        dark:bg-gray-700 dark:text-white
        disabled:opacity-50 disabled:cursor-not-allowed
      `,children:"Next"})]})}function SupportTab(){const[dt,et]=reactExports.useState(!1),$t=[{q:"What is a lead magnet in Cre8tly Studio?",a:"A lead magnet is a downloadable PDF you create to capture emails or deliver value to your audience. Cre8tly Studio generates a fully designed, ready-to-use PDF based on your prompt, theme, and branding."},{q:"How do I create a lead magnet?",a:"Enter your prompt, choose a theme, optionally upload a logo or link, and click Generate. Cre8tly Studio builds your PDF automatically and saves it to your dashboard."},{q:"How long does it take to generate a PDF?",a:"Most lead magnets are generated within 515 seconds, depending on content length and selected design options."},{q:"Where can I find my generated PDFs?",a:"All completed PDFs are stored in your dashboard under My Lead Magnets. From there you can view, download, or attach them to landing pages."},{q:"Can I create multiple lead magnets?",a:"Yes. You can create multiple lead magnets as long as you have available slots or credits on your plan."},{q:"Can I regenerate an existing PDF?",a:"No. Each lead magnet slot is intended for one finalized PDF. This prevents abuse and ensures consistent system performance. To make changes, youll need to generate a new lead magnet using a new slot."},{q:"Can I use my own branding?",a:"Yes. You can upload your logo and add your own links. Themes automatically adapt to your branding for a consistent look."},{q:"What are Pro Covers?",a:"Pro Covers lets you upload a custom cover image that becomes the first page of your PDF. It also includes access to thousands of royalty-free Unsplash images you can use as covers or backgrounds. This feature is available only with the Business Basic and Business Builder plan."},{q:"What happens if I reach my plan limit?",a:"If you hit your limit, youll be prompted to upgrade or purchase additional credits. Your existing PDFs remain accessible at all times."},{q:"Can I upgrade my plan later?",a:"Yes. You can upgrade your plan or buy more credits directly from your dashboard at any time."},{q:"Do you offer refunds?",a:"Because Cre8tly Studio delivers instant, custom-generated digital content, refunds are not available after generation. If you encounter a technical issue or duplicate charge, contact support and well help resolve it."},{q:"How do I contact support?",a:"You can reach our support team through the Contact page. Responses typically arrive within 2448 hours, Monday through Friday."}];return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{onClick:()=>et(!0),className:"fixed bottom-6 right-6 bg-green text-black font-semibold px-2 py-2 rounded-full shadow-lg hover:opacity-90 transition-all z-50 design-text text-sm",children:jsxRuntimeExports.jsx(MessageCircleQuestionMark,{size:20})}),dt&&jsxRuntimeExports.jsx("div",{onClick:()=>et(!1),className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{onClick:kt=>kt.stopPropagation(),className:"bg-gray-900 text-white p-8 rounded-2xl w-full max-w-2xl border border-gray-700 shadow-2xl relative max-h-[80vh] overflow-y-auto",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-4 left-4 right-4 flex justify-between",children:jsxRuntimeExports.jsx("button",{onClick:()=>et(!1),className:"text-gray-400 hover:text-red-400 text-xl",children:""})}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold mb-6 text-center text-green",children:"Frequently Asked Questions"}),jsxRuntimeExports.jsx("div",{className:"space-y-5 text-gray-300",children:$t.map((kt,Tt)=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-white",children:kt.q}),jsxRuntimeExports.jsx("p",{className:"text-sm mt-1 leading-relaxed",children:kt.a})]},Tt))}),jsxRuntimeExports.jsx("div",{className:"mt-6 text-center",children:jsxRuntimeExports.jsx(Link$2,{to:"/docs",className:"text-green font-medium hover:underline",children:"Need more help? Visit our Docs "})})]})})]})}function GenerationOverlay({visible:dt,type:et="lead",onClose:$t}){const kt=et==="book"?"book":et==="lead"?"lead magnet":"content";return dt?jsxRuntimeExports.jsx("div",{className:`
      fixed inset-0 z-[9999]
      flex items-center justify-center
      bg-black/80
      backdrop-blur-sm
      px-6
    `,children:jsxRuntimeExports.jsxs("div",{className:`
        w-full max-w-md rounded-3xl
        bg-[#0b0b0b]
        border border-white/15
        px-10 py-9
        text-center
        shadow-[0_30px_90px_rgba(0,0,0,0.7)]
      `,children:[jsxRuntimeExports.jsx("h2",{className:"text-white text-[22px] font-semibold tracking-tight mb-3",children:"In progress"}),jsxRuntimeExports.jsxs("p",{className:"text-gray-300 text-[15px] leading-relaxed mb-1",children:["Were creating your ",kt,"."]}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-[14px] leading-relaxed mb-8",children:"Youll be notified by email when its ready."}),jsxRuntimeExports.jsx("button",{onClick:$t,className:`
          inline-flex items-center justify-center
          px-7 py-2.5
          rounded-full
          bg-green
          text-black
          text-[14px] font-medium
          transition
          hover:opacity-90
          focus:outline-none
          focus:ring-2 focus:ring-green/40
        `,children:"Continue"})]})}):null}function OutOfSlotsModal({open:dt,onClose:et,context:$t="books"}){if(!dt)return null;const kt={books:{title:"Book Limit Reached",message:`You can only have 3 active books at one time. Finish or archive an existing book
 to create a new one.`}},{title:Tt,message:Dt}=kt[$t];return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-md flex items-center justify-center z-50 animate-fadeIn font-montserrat",children:jsxRuntimeExports.jsxs("div",{className:"relative bg-gradient-to-br from-[#0b0b0b] via-[#111827] to-[#1f2937] border border-[#00E07A]/40 shadow-[0_0_25px_rgba(0,224,122,0.3)] rounded-2xl p-8 max-w-md mx-auto text-center",children:[jsxRuntimeExports.jsx("div",{className:"absolute -inset-[1px] rounded-2xl bg-gradient-to-r from-[#00E07A] to-[#6A5ACD] opacity-20 blur-2xl"}),jsxRuntimeExports.jsxs("div",{className:"relative z-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-extrabold mb-4 bg-gradient-to-r from-[#00E07A] to-[#6A5ACD] bg-clip-text text-transparent",children:Tt}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 mb-6 leading-relaxed text-[15px] whitespace-pre-line",children:Dt}),jsxRuntimeExports.jsx("button",{onClick:et,className:"bg-gradient-to-r from-[#00E07A] to-[#6A5ACD] text-white px-8 py-3 rounded-xl font-semibold tracking-wide shadow-[0_0_12px_rgba(0,224,122,0.6)] hover:shadow-[0_0_20px_rgba(106,90,205,0.8)] hover:scale-[1.03] transition-all duration-200",children:"Close"})]})]})})}const scriptRel="modulepreload",assetsURL=function(dt){return"/"+dt},seen={},__vitePreload=function dt(et,$t,kt){if(!$t||$t.length===0)return et();const Tt=document.getElementsByTagName("link");return Promise.all($t.map(Dt=>{if(Dt=assetsURL(Dt),Dt in seen)return;seen[Dt]=!0;const Ft=Dt.endsWith(".css"),Ut=Ft?'[rel="stylesheet"]':"";if(!!kt)for(let Yt=Tt.length-1;Yt>=0;Yt--){const Jt=Tt[Yt];if(Jt.href===Dt&&(!Ft||Jt.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${Dt}"]${Ut}`))return;const Kt=document.createElement("link");if(Kt.rel=Ft?"stylesheet":scriptRel,Ft||(Kt.as="script",Kt.crossOrigin=""),Kt.href=Dt,document.head.appendChild(Kt),Ft)return new Promise((Yt,Jt)=>{Kt.addEventListener("load",Yt),Kt.addEventListener("error",()=>Jt(new Error(`Unable to preload CSS for ${Dt}`)))})})).then(()=>et()).catch(Dt=>{const Ft=new Event("vite:preloadError",{cancelable:!0});if(Ft.payload=Dt,window.dispatchEvent(Ft),!Ft.defaultPrevented)throw Dt})};function UnsplashImagePicker({onSelect:dt}){const[et,$t]=reactExports.useState(""),[kt,Tt]=reactExports.useState([]),[Dt,Ft]=reactExports.useState(1),[Ut,Ht]=reactExports.useState(!1),[Kt,Yt]=reactExports.useState(!1),Jt=reactExports.useRef(null);reactExports.useEffect(()=>{et.trim()===""&&(Tt([]),Ft(1),Yt(!1))},[et]);async function Zt(rr=1,sr=!1){if(et.trim()){Ht(!0);try{const ir=await axiosInstance.get(`https://themessyattic.com/api/unsplash/search?query=${encodeURIComponent(et)}&per_page=30&page=${rr}`),nr=ir.data.results||ir.data;(!nr||nr.length===0)&&y$4.info("No results found",{position:"top-right",autoClose:2500,hideProgressBar:!0,theme:"dark"}),Tt(or=>sr?[...or,...nr]:nr),Yt(nr.length>0),Ft(rr)}catch(ir){console.error("Unsplash fetch failed:",ir),y$4.error("Failed to fetch images. Please try again.",{position:"top-right",autoClose:2500,hideProgressBar:!0,theme:"dark"})}finally{Ht(!1)}}}const er=()=>{Tt([]),Ft(1),Zt(1,!1)};return reactExports.useEffect(()=>{if(!Jt.current)return;const rr=new IntersectionObserver(sr=>{sr[0].isIntersecting&&Kt&&!Ut&&Zt(Dt+1,!0)});return rr.observe(Jt.current),()=>rr.disconnect()},[Kt,Ut,Dt,et]),jsxRuntimeExports.jsxs("div",{className:`
  space-y-4
  bg-dashboard-sidebar-light
  dark:bg-dashboard-sidebar-dark
  p-4
  rounded-lg
  border border-dashboard-border-light
  dark:border-dashboard-border-dark
`,children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[jsxRuntimeExports.jsx("input",{value:et,onChange:rr=>$t(rr.target.value),placeholder:"Search Unsplash images (e.g. fitness, coffee, nature)",className:`
          w-full
          p-3
          rounded-lg
          bg-dashboard-bg-light
          dark:bg-dashboard-bg-dark
          border border-dashboard-border-light
          dark:border-dashboard-border-dark
          text-dashboard-text-light
          dark:text-dashboard-text-dark
          placeholder-dashboard-muted-light
          dark:placeholder-dashboard-muted-dark
          `}),jsxRuntimeExports.jsx("button",{type:"button",onClick:er,disabled:Ut,className:`
          w-full
          sm:w-auto
          px-4
          py-3
          rounded-lg
          font-bold
          bg-dashboard-hover-light
          dark:bg-dashboard-hover-dark
          text-dashboard-text-light
          dark:text-dashboard-text-dark
          hover:bg-green
          hover:text-dashboard-bg-dark
          transition
          disabled:opacity-60
          disabled:cursor-not-allowed
          `,children:Ut?"Searching...":"Search"})]}),jsxRuntimeExports.jsxs("div",{className:`grid
    grid-cols-2
    sm:grid-cols-3
    md:grid-cols-4
    gap-3
    overflow-y-auto
    relative
    max-h-[45vh]
    sm:max-h-[400px]`,children:[kt.map(rr=>jsxRuntimeExports.jsxs("div",{className:"relative group cursor-pointer",onClick:()=>dt(rr.urls.full,rr),children:[jsxRuntimeExports.jsx("img",{src:rr.urls.small,alt:rr.alt_description,className:`rounded-lg w-full h-32
    sm:h-40 object-cover group-hover:opacity-75 transition`}),jsxRuntimeExports.jsx("span",{className:`
              absolute bottom-1 left-1
              text-xs
              px-1
              rounded
              bg-dashboard-bg-dark/70
              text-dashboard-text-dark
            `,children:rr.user.name})]},rr.id)),Kt&&!Ut&&jsxRuntimeExports.jsx("div",{ref:Jt,className:"col-span-full h-8"}),Ut&&jsxRuntimeExports.jsx("div",{className:"col-span-full flex justify-center py-4",children:jsxRuntimeExports.jsx("div",{className:`
              w-6 h-6
              border-2
              border-dashboard-border-light
              dark:border-dashboard-border-dark
              border-t-green
              rounded-full
              animate-spin
            `})})]})]})}function CoverUpload({setCover:dt}){const[et,$t]=reactExports.useState(null),[kt,Tt]=reactExports.useState(null),{user:Dt}=useAuth(),Ft=reactExports.useRef(null),Ut=useNavigate(),Ht=!(Dt!=null&&Dt.pro_covers),Kt=er=>{var nr;const rr=(nr=er.target.files)==null?void 0:nr[0];if(!rr)return;const sr=10;if(rr.size>sr*1024*1024){y$4.error(`File too large. Maximum ${sr} MB allowed.`);return}const ir=new FileReader;ir.onloadend=()=>{const or=ir.result;dt(or),$t(or),Tt(null)},ir.readAsDataURL(rr)},Yt=()=>Ut("/plans"),Jt=(er,rr)=>{dt(er),$t(rr.urls.small),Tt({name:rr.user.name,profile:rr.user.links.html}),y$4.success("Cover image selected!")},Zt=()=>{dt(null),$t(null),Tt(null),Ft.current&&(Ft.current.value=""),y$4.info("Cover image removed")};return jsxRuntimeExports.jsxs("div",{className:`
  relative mt-6
  border border-dashboard-border-light
  dark:border-dashboard-border-dark
  rounded-xl p-4
  bg-dashboard-sidebar-light
  dark:bg-dashboard-sidebar-dark
  overflow-hidden
`,children:[Ht&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm flex flex-col items-center justify-center z-10 rounded-xl",children:jsxRuntimeExports.jsxs("button",{onClick:Yt,className:`px-8 py-2.5 rounded-lg border border-royalPurple bg-gradient-to-r from-[#a98aff] via-[#d2b6ff] to-[#8e66ff]
             text-black font-semibold hover:opacity-90 transition shadow-lg flex items-center gap-2 justify-center`,children:[jsxRuntimeExports.jsx(Lock,{size:15,className:"text-black"}),jsxRuntimeExports.jsx("span",{children:"Upgrade to Unlock"})]})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 mb-3",children:[jsxRuntimeExports.jsxs("label",{className:`block font-semibold text-lg tracking-wide
        text-dashboard-text-light
        dark:text-dashboard-text-dark`,children:["Upload or Choose a Cover"," ",jsxRuntimeExports.jsx("span",{className:`text-sm ml-1
          text-dashboard-muted-light
          dark:text-dashboard-muted-dark`,children:"(Max 667  1000)"})]}),jsxRuntimeExports.jsx("span",{className:`
  self-start

  text-[11px]
  px-3 py-1
  rounded-full
  bg-dashboard-hover-light
dark:bg-dashboard-hover-dark
text-dashboard-muted-light
dark:text-dashboard-muted-dark
  border border-[#7c3aed]/60
  tracking-wide
  uppercase
  shadow-[inset_0_0_0_1px_rgba(124,58,237,0.15)]
  ${Ht?"opacity-50":""}
`,children:"PRO"})]}),jsxRuntimeExports.jsx("input",{ref:Ft,type:"file",accept:"image/*",onChange:Kt,className:"hidden",disabled:Ht}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>!Ht&&Ft.current.click(),disabled:Ht,className:`w-full sm:w-auto px-5 py-3 rounded-md font-semibold text-sm shadow-md transition 
    flex items-center justify-center gap-2
    ${Ht?"bg-dashboard-hover-light dark:bg-dashboard-hover-dark text-dashboard-muted-light dark:text-dashboard-muted-dark cursor-not-allowed":"bg-dashboard-hover-light dark:bg-dashboard-hover-dark text-dashboard-text-light dark:text-dashboard-text-dark hover:bg-green hover:text-dashboard-bg-dark"}`,children:[jsxRuntimeExports.jsx(Image$2,{size:16})," Choose File"]}),!Ht&&jsxRuntimeExports.jsx("div",{className:"mt-4",children:jsxRuntimeExports.jsx("div",{className:"flex flex-col gap-3",children:jsxRuntimeExports.jsx(UnsplashImagePicker,{onSelect:Jt})})}),et&&!Ht&&jsxRuntimeExports.jsxs("div",{className:"mt-4 text-center",children:[jsxRuntimeExports.jsx("img",{src:et,alt:"Cover Preview",className:"w-[225px] h-[320px] object-cover rounded-lg shadow-lg mx-auto"}),jsxRuntimeExports.jsx("p",{className:`text-xs mt-1
          text-dashboard-muted-light
          dark:text-dashboard-muted-dark`,children:"This cover will appear before your first page."}),jsxRuntimeExports.jsx("button",{type:"button",onClick:Zt,className:`
    mt-3
    w-full
    sm:w-auto
    text-sm
    font-semibold
    text-red-500
    border
    border-red-400/30
    px-4
    py-2
    rounded-lg
    hover:bg-red-500/10
    hover:text-red-300
    transition
  `,children:"Remove cover image"}),kt&&jsxRuntimeExports.jsxs("p",{className:`text-[10px] mt-1 italic
            text-dashboard-muted-light
            dark:text-dashboard-muted-dark`,children:["Photo by"," ",jsxRuntimeExports.jsx("a",{href:kt.profile,target:"_blank",rel:"noopener noreferrer",className:"underline text-blue hover:opacity-80",children:kt.name})," ","on"," ",jsxRuntimeExports.jsx("a",{href:"https://unsplash.com",target:"_blank",rel:"noopener noreferrer",className:"underline text-blue hover:opacity-80",children:"Unsplash"})]})]})]})}var shim$2={exports:{}},useSyncExternalStoreShim_production={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var React$1=reactExports;function is$7(dt,et){return dt===et&&(dt!==0||1/dt===1/et)||dt!==dt&&et!==et}var objectIs$1=typeof Object.is=="function"?Object.is:is$7,useState=React$1.useState,useEffect$1=React$1.useEffect,useLayoutEffect=React$1.useLayoutEffect,useDebugValue$1=React$1.useDebugValue;function useSyncExternalStore$2(dt,et){var $t=et(),kt=useState({inst:{value:$t,getSnapshot:et}}),Tt=kt[0].inst,Dt=kt[1];return useLayoutEffect(function(){Tt.value=$t,Tt.getSnapshot=et,checkIfSnapshotChanged(Tt)&&Dt({inst:Tt})},[dt,$t,et]),useEffect$1(function(){return checkIfSnapshotChanged(Tt)&&Dt({inst:Tt}),dt(function(){checkIfSnapshotChanged(Tt)&&Dt({inst:Tt})})},[dt]),useDebugValue$1($t),$t}function checkIfSnapshotChanged(dt){var et=dt.getSnapshot;dt=dt.value;try{var $t=et();return!objectIs$1(dt,$t)}catch{return!0}}function useSyncExternalStore$1(dt,et){return et()}var shim$1=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?useSyncExternalStore$1:useSyncExternalStore$2;useSyncExternalStoreShim_production.useSyncExternalStore=React$1.useSyncExternalStore!==void 0?React$1.useSyncExternalStore:shim$1;shim$2.exports=useSyncExternalStoreShim_production;var shimExports=shim$2.exports;function OrderedMap(dt){this.content=dt}OrderedMap.prototype={constructor:OrderedMap,find:function(dt){for(var et=0;et<this.content.length;et+=2)if(this.content[et]===dt)return et;return-1},get:function(dt){var et=this.find(dt);return et==-1?void 0:this.content[et+1]},update:function(dt,et,$t){var kt=$t&&$t!=dt?this.remove($t):this,Tt=kt.find(dt),Dt=kt.content.slice();return Tt==-1?Dt.push($t||dt,et):(Dt[Tt+1]=et,$t&&(Dt[Tt]=$t)),new OrderedMap(Dt)},remove:function(dt){var et=this.find(dt);if(et==-1)return this;var $t=this.content.slice();return $t.splice(et,2),new OrderedMap($t)},addToStart:function(dt,et){return new OrderedMap([dt,et].concat(this.remove(dt).content))},addToEnd:function(dt,et){var $t=this.remove(dt).content.slice();return $t.push(dt,et),new OrderedMap($t)},addBefore:function(dt,et,$t){var kt=this.remove(et),Tt=kt.content.slice(),Dt=kt.find(dt);return Tt.splice(Dt==-1?Tt.length:Dt,0,et,$t),new OrderedMap(Tt)},forEach:function(dt){for(var et=0;et<this.content.length;et+=2)dt(this.content[et],this.content[et+1])},prepend:function(dt){return dt=OrderedMap.from(dt),dt.size?new OrderedMap(dt.content.concat(this.subtract(dt).content)):this},append:function(dt){return dt=OrderedMap.from(dt),dt.size?new OrderedMap(this.subtract(dt).content.concat(dt.content)):this},subtract:function(dt){var et=this;dt=OrderedMap.from(dt);for(var $t=0;$t<dt.content.length;$t+=2)et=et.remove(dt.content[$t]);return et},toObject:function(){var dt={};return this.forEach(function(et,$t){dt[et]=$t}),dt},get size(){return this.content.length>>1}};OrderedMap.from=function(dt){if(dt instanceof OrderedMap)return dt;var et=[];if(dt)for(var $t in dt)et.push($t,dt[$t]);return new OrderedMap(et)};function findDiffStart(dt,et,$t){for(let kt=0;;kt++){if(kt==dt.childCount||kt==et.childCount)return dt.childCount==et.childCount?null:$t;let Tt=dt.child(kt),Dt=et.child(kt);if(Tt==Dt){$t+=Tt.nodeSize;continue}if(!Tt.sameMarkup(Dt))return $t;if(Tt.isText&&Tt.text!=Dt.text){for(let Ft=0;Tt.text[Ft]==Dt.text[Ft];Ft++)$t++;return $t}if(Tt.content.size||Dt.content.size){let Ft=findDiffStart(Tt.content,Dt.content,$t+1);if(Ft!=null)return Ft}$t+=Tt.nodeSize}}function findDiffEnd(dt,et,$t,kt){for(let Tt=dt.childCount,Dt=et.childCount;;){if(Tt==0||Dt==0)return Tt==Dt?null:{a:$t,b:kt};let Ft=dt.child(--Tt),Ut=et.child(--Dt),Ht=Ft.nodeSize;if(Ft==Ut){$t-=Ht,kt-=Ht;continue}if(!Ft.sameMarkup(Ut))return{a:$t,b:kt};if(Ft.isText&&Ft.text!=Ut.text){let Kt=0,Yt=Math.min(Ft.text.length,Ut.text.length);for(;Kt<Yt&&Ft.text[Ft.text.length-Kt-1]==Ut.text[Ut.text.length-Kt-1];)Kt++,$t--,kt--;return{a:$t,b:kt}}if(Ft.content.size||Ut.content.size){let Kt=findDiffEnd(Ft.content,Ut.content,$t-1,kt-1);if(Kt)return Kt}$t-=Ht,kt-=Ht}}class Fragment{constructor(et,$t){if(this.content=et,this.size=$t||0,$t==null)for(let kt=0;kt<et.length;kt++)this.size+=et[kt].nodeSize}nodesBetween(et,$t,kt,Tt=0,Dt){for(let Ft=0,Ut=0;Ut<$t;Ft++){let Ht=this.content[Ft],Kt=Ut+Ht.nodeSize;if(Kt>et&&kt(Ht,Tt+Ut,Dt||null,Ft)!==!1&&Ht.content.size){let Yt=Ut+1;Ht.nodesBetween(Math.max(0,et-Yt),Math.min(Ht.content.size,$t-Yt),kt,Tt+Yt)}Ut=Kt}}descendants(et){this.nodesBetween(0,this.size,et)}textBetween(et,$t,kt,Tt){let Dt="",Ft=!0;return this.nodesBetween(et,$t,(Ut,Ht)=>{let Kt=Ut.isText?Ut.text.slice(Math.max(et,Ht)-Ht,$t-Ht):Ut.isLeaf?Tt?typeof Tt=="function"?Tt(Ut):Tt:Ut.type.spec.leafText?Ut.type.spec.leafText(Ut):"":"";Ut.isBlock&&(Ut.isLeaf&&Kt||Ut.isTextblock)&&kt&&(Ft?Ft=!1:Dt+=kt),Dt+=Kt},0),Dt}append(et){if(!et.size)return this;if(!this.size)return et;let $t=this.lastChild,kt=et.firstChild,Tt=this.content.slice(),Dt=0;for($t.isText&&$t.sameMarkup(kt)&&(Tt[Tt.length-1]=$t.withText($t.text+kt.text),Dt=1);Dt<et.content.length;Dt++)Tt.push(et.content[Dt]);return new Fragment(Tt,this.size+et.size)}cut(et,$t=this.size){if(et==0&&$t==this.size)return this;let kt=[],Tt=0;if($t>et)for(let Dt=0,Ft=0;Ft<$t;Dt++){let Ut=this.content[Dt],Ht=Ft+Ut.nodeSize;Ht>et&&((Ft<et||Ht>$t)&&(Ut.isText?Ut=Ut.cut(Math.max(0,et-Ft),Math.min(Ut.text.length,$t-Ft)):Ut=Ut.cut(Math.max(0,et-Ft-1),Math.min(Ut.content.size,$t-Ft-1))),kt.push(Ut),Tt+=Ut.nodeSize),Ft=Ht}return new Fragment(kt,Tt)}cutByIndex(et,$t){return et==$t?Fragment.empty:et==0&&$t==this.content.length?this:new Fragment(this.content.slice(et,$t))}replaceChild(et,$t){let kt=this.content[et];if(kt==$t)return this;let Tt=this.content.slice(),Dt=this.size+$t.nodeSize-kt.nodeSize;return Tt[et]=$t,new Fragment(Tt,Dt)}addToStart(et){return new Fragment([et].concat(this.content),this.size+et.nodeSize)}addToEnd(et){return new Fragment(this.content.concat(et),this.size+et.nodeSize)}eq(et){if(this.content.length!=et.content.length)return!1;for(let $t=0;$t<this.content.length;$t++)if(!this.content[$t].eq(et.content[$t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(et){let $t=this.content[et];if(!$t)throw new RangeError("Index "+et+" out of range for "+this);return $t}maybeChild(et){return this.content[et]||null}forEach(et){for(let $t=0,kt=0;$t<this.content.length;$t++){let Tt=this.content[$t];et(Tt,kt,$t),kt+=Tt.nodeSize}}findDiffStart(et,$t=0){return findDiffStart(this,et,$t)}findDiffEnd(et,$t=this.size,kt=et.size){return findDiffEnd(this,et,$t,kt)}findIndex(et){if(et==0)return retIndex(0,et);if(et==this.size)return retIndex(this.content.length,et);if(et>this.size||et<0)throw new RangeError(`Position ${et} outside of fragment (${this})`);for(let $t=0,kt=0;;$t++){let Tt=this.child($t),Dt=kt+Tt.nodeSize;if(Dt>=et)return Dt==et?retIndex($t+1,Dt):retIndex($t,kt);kt=Dt}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(et=>et.toJSON()):null}static fromJSON(et,$t){if(!$t)return Fragment.empty;if(!Array.isArray($t))throw new RangeError("Invalid input for Fragment.fromJSON");return new Fragment($t.map(et.nodeFromJSON))}static fromArray(et){if(!et.length)return Fragment.empty;let $t,kt=0;for(let Tt=0;Tt<et.length;Tt++){let Dt=et[Tt];kt+=Dt.nodeSize,Tt&&Dt.isText&&et[Tt-1].sameMarkup(Dt)?($t||($t=et.slice(0,Tt)),$t[$t.length-1]=Dt.withText($t[$t.length-1].text+Dt.text)):$t&&$t.push(Dt)}return new Fragment($t||et,kt)}static from(et){if(!et)return Fragment.empty;if(et instanceof Fragment)return et;if(Array.isArray(et))return this.fromArray(et);if(et.attrs)return new Fragment([et],et.nodeSize);throw new RangeError("Can not convert "+et+" to a Fragment"+(et.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Fragment.empty=new Fragment([],0);const found={index:0,offset:0};function retIndex(dt,et){return found.index=dt,found.offset=et,found}function compareDeep(dt,et){if(dt===et)return!0;if(!(dt&&typeof dt=="object")||!(et&&typeof et=="object"))return!1;let $t=Array.isArray(dt);if(Array.isArray(et)!=$t)return!1;if($t){if(dt.length!=et.length)return!1;for(let kt=0;kt<dt.length;kt++)if(!compareDeep(dt[kt],et[kt]))return!1}else{for(let kt in dt)if(!(kt in et)||!compareDeep(dt[kt],et[kt]))return!1;for(let kt in et)if(!(kt in dt))return!1}return!0}let Mark$1=class G2{constructor(et,$t){this.type=et,this.attrs=$t}addToSet(et){let $t,kt=!1;for(let Tt=0;Tt<et.length;Tt++){let Dt=et[Tt];if(this.eq(Dt))return et;if(this.type.excludes(Dt.type))$t||($t=et.slice(0,Tt));else{if(Dt.type.excludes(this.type))return et;!kt&&Dt.type.rank>this.type.rank&&($t||($t=et.slice(0,Tt)),$t.push(this),kt=!0),$t&&$t.push(Dt)}}return $t||($t=et.slice()),kt||$t.push(this),$t}removeFromSet(et){for(let $t=0;$t<et.length;$t++)if(this.eq(et[$t]))return et.slice(0,$t).concat(et.slice($t+1));return et}isInSet(et){for(let $t=0;$t<et.length;$t++)if(this.eq(et[$t]))return!0;return!1}eq(et){return this==et||this.type==et.type&&compareDeep(this.attrs,et.attrs)}toJSON(){let et={type:this.type.name};for(let $t in this.attrs){et.attrs=this.attrs;break}return et}static fromJSON(et,$t){if(!$t)throw new RangeError("Invalid input for Mark.fromJSON");let kt=et.marks[$t.type];if(!kt)throw new RangeError(`There is no mark type ${$t.type} in this schema`);let Tt=kt.create($t.attrs);return kt.checkAttrs(Tt.attrs),Tt}static sameSet(et,$t){if(et==$t)return!0;if(et.length!=$t.length)return!1;for(let kt=0;kt<et.length;kt++)if(!et[kt].eq($t[kt]))return!1;return!0}static setFrom(et){if(!et||Array.isArray(et)&&et.length==0)return G2.none;if(et instanceof G2)return[et];let $t=et.slice();return $t.sort((kt,Tt)=>kt.type.rank-Tt.type.rank),$t}};Mark$1.none=[];class ReplaceError extends Error{}class Slice{constructor(et,$t,kt){this.content=et,this.openStart=$t,this.openEnd=kt}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(et,$t){let kt=insertInto(this.content,et+this.openStart,$t);return kt&&new Slice(kt,this.openStart,this.openEnd)}removeBetween(et,$t){return new Slice(removeRange(this.content,et+this.openStart,$t+this.openStart),this.openStart,this.openEnd)}eq(et){return this.content.eq(et.content)&&this.openStart==et.openStart&&this.openEnd==et.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let et={content:this.content.toJSON()};return this.openStart>0&&(et.openStart=this.openStart),this.openEnd>0&&(et.openEnd=this.openEnd),et}static fromJSON(et,$t){if(!$t)return Slice.empty;let kt=$t.openStart||0,Tt=$t.openEnd||0;if(typeof kt!="number"||typeof Tt!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Slice(Fragment.fromJSON(et,$t.content),kt,Tt)}static maxOpen(et,$t=!0){let kt=0,Tt=0;for(let Dt=et.firstChild;Dt&&!Dt.isLeaf&&($t||!Dt.type.spec.isolating);Dt=Dt.firstChild)kt++;for(let Dt=et.lastChild;Dt&&!Dt.isLeaf&&($t||!Dt.type.spec.isolating);Dt=Dt.lastChild)Tt++;return new Slice(et,kt,Tt)}}Slice.empty=new Slice(Fragment.empty,0,0);function removeRange(dt,et,$t){let{index:kt,offset:Tt}=dt.findIndex(et),Dt=dt.maybeChild(kt),{index:Ft,offset:Ut}=dt.findIndex($t);if(Tt==et||Dt.isText){if(Ut!=$t&&!dt.child(Ft).isText)throw new RangeError("Removing non-flat range");return dt.cut(0,et).append(dt.cut($t))}if(kt!=Ft)throw new RangeError("Removing non-flat range");return dt.replaceChild(kt,Dt.copy(removeRange(Dt.content,et-Tt-1,$t-Tt-1)))}function insertInto(dt,et,$t,kt){let{index:Tt,offset:Dt}=dt.findIndex(et),Ft=dt.maybeChild(Tt);if(Dt==et||Ft.isText)return kt&&!kt.canReplace(Tt,Tt,$t)?null:dt.cut(0,et).append($t).append(dt.cut(et));let Ut=insertInto(Ft.content,et-Dt-1,$t,Ft);return Ut&&dt.replaceChild(Tt,Ft.copy(Ut))}function replace(dt,et,$t){if($t.openStart>dt.depth)throw new ReplaceError("Inserted content deeper than insertion position");if(dt.depth-$t.openStart!=et.depth-$t.openEnd)throw new ReplaceError("Inconsistent open depths");return replaceOuter(dt,et,$t,0)}function replaceOuter(dt,et,$t,kt){let Tt=dt.index(kt),Dt=dt.node(kt);if(Tt==et.index(kt)&&kt<dt.depth-$t.openStart){let Ft=replaceOuter(dt,et,$t,kt+1);return Dt.copy(Dt.content.replaceChild(Tt,Ft))}else if($t.content.size)if(!$t.openStart&&!$t.openEnd&&dt.depth==kt&&et.depth==kt){let Ft=dt.parent,Ut=Ft.content;return close(Ft,Ut.cut(0,dt.parentOffset).append($t.content).append(Ut.cut(et.parentOffset)))}else{let{start:Ft,end:Ut}=prepareSliceForReplace($t,dt);return close(Dt,replaceThreeWay(dt,Ft,Ut,et,kt))}else return close(Dt,replaceTwoWay(dt,et,kt))}function checkJoin(dt,et){if(!et.type.compatibleContent(dt.type))throw new ReplaceError("Cannot join "+et.type.name+" onto "+dt.type.name)}function joinable$1(dt,et,$t){let kt=dt.node($t);return checkJoin(kt,et.node($t)),kt}function addNode(dt,et){let $t=et.length-1;$t>=0&&dt.isText&&dt.sameMarkup(et[$t])?et[$t]=dt.withText(et[$t].text+dt.text):et.push(dt)}function addRange(dt,et,$t,kt){let Tt=(et||dt).node($t),Dt=0,Ft=et?et.index($t):Tt.childCount;dt&&(Dt=dt.index($t),dt.depth>$t?Dt++:dt.textOffset&&(addNode(dt.nodeAfter,kt),Dt++));for(let Ut=Dt;Ut<Ft;Ut++)addNode(Tt.child(Ut),kt);et&&et.depth==$t&&et.textOffset&&addNode(et.nodeBefore,kt)}function close(dt,et){return dt.type.checkContent(et),dt.copy(et)}function replaceThreeWay(dt,et,$t,kt,Tt){let Dt=dt.depth>Tt&&joinable$1(dt,et,Tt+1),Ft=kt.depth>Tt&&joinable$1($t,kt,Tt+1),Ut=[];return addRange(null,dt,Tt,Ut),Dt&&Ft&&et.index(Tt)==$t.index(Tt)?(checkJoin(Dt,Ft),addNode(close(Dt,replaceThreeWay(dt,et,$t,kt,Tt+1)),Ut)):(Dt&&addNode(close(Dt,replaceTwoWay(dt,et,Tt+1)),Ut),addRange(et,$t,Tt,Ut),Ft&&addNode(close(Ft,replaceTwoWay($t,kt,Tt+1)),Ut)),addRange(kt,null,Tt,Ut),new Fragment(Ut)}function replaceTwoWay(dt,et,$t){let kt=[];if(addRange(null,dt,$t,kt),dt.depth>$t){let Tt=joinable$1(dt,et,$t+1);addNode(close(Tt,replaceTwoWay(dt,et,$t+1)),kt)}return addRange(et,null,$t,kt),new Fragment(kt)}function prepareSliceForReplace(dt,et){let $t=et.depth-dt.openStart,Tt=et.node($t).copy(dt.content);for(let Dt=$t-1;Dt>=0;Dt--)Tt=et.node(Dt).copy(Fragment.from(Tt));return{start:Tt.resolveNoCache(dt.openStart+$t),end:Tt.resolveNoCache(Tt.content.size-dt.openEnd-$t)}}class ResolvedPos{constructor(et,$t,kt){this.pos=et,this.path=$t,this.parentOffset=kt,this.depth=$t.length/3-1}resolveDepth(et){return et==null?this.depth:et<0?this.depth+et:et}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(et){return this.path[this.resolveDepth(et)*3]}index(et){return this.path[this.resolveDepth(et)*3+1]}indexAfter(et){return et=this.resolveDepth(et),this.index(et)+(et==this.depth&&!this.textOffset?0:1)}start(et){return et=this.resolveDepth(et),et==0?0:this.path[et*3-1]+1}end(et){return et=this.resolveDepth(et),this.start(et)+this.node(et).content.size}before(et){if(et=this.resolveDepth(et),!et)throw new RangeError("There is no position before the top-level node");return et==this.depth+1?this.pos:this.path[et*3-1]}after(et){if(et=this.resolveDepth(et),!et)throw new RangeError("There is no position after the top-level node");return et==this.depth+1?this.pos:this.path[et*3-1]+this.path[et*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let et=this.parent,$t=this.index(this.depth);if($t==et.childCount)return null;let kt=this.pos-this.path[this.path.length-1],Tt=et.child($t);return kt?et.child($t).cut(kt):Tt}get nodeBefore(){let et=this.index(this.depth),$t=this.pos-this.path[this.path.length-1];return $t?this.parent.child(et).cut(0,$t):et==0?null:this.parent.child(et-1)}posAtIndex(et,$t){$t=this.resolveDepth($t);let kt=this.path[$t*3],Tt=$t==0?0:this.path[$t*3-1]+1;for(let Dt=0;Dt<et;Dt++)Tt+=kt.child(Dt).nodeSize;return Tt}marks(){let et=this.parent,$t=this.index();if(et.content.size==0)return Mark$1.none;if(this.textOffset)return et.child($t).marks;let kt=et.maybeChild($t-1),Tt=et.maybeChild($t);if(!kt){let Ut=kt;kt=Tt,Tt=Ut}let Dt=kt.marks;for(var Ft=0;Ft<Dt.length;Ft++)Dt[Ft].type.spec.inclusive===!1&&(!Tt||!Dt[Ft].isInSet(Tt.marks))&&(Dt=Dt[Ft--].removeFromSet(Dt));return Dt}marksAcross(et){let $t=this.parent.maybeChild(this.index());if(!$t||!$t.isInline)return null;let kt=$t.marks,Tt=et.parent.maybeChild(et.index());for(var Dt=0;Dt<kt.length;Dt++)kt[Dt].type.spec.inclusive===!1&&(!Tt||!kt[Dt].isInSet(Tt.marks))&&(kt=kt[Dt--].removeFromSet(kt));return kt}sharedDepth(et){for(let $t=this.depth;$t>0;$t--)if(this.start($t)<=et&&this.end($t)>=et)return $t;return 0}blockRange(et=this,$t){if(et.pos<this.pos)return et.blockRange(this);for(let kt=this.depth-(this.parent.inlineContent||this.pos==et.pos?1:0);kt>=0;kt--)if(et.pos<=this.end(kt)&&(!$t||$t(this.node(kt))))return new NodeRange(this,et,kt);return null}sameParent(et){return this.pos-this.parentOffset==et.pos-et.parentOffset}max(et){return et.pos>this.pos?et:this}min(et){return et.pos<this.pos?et:this}toString(){let et="";for(let $t=1;$t<=this.depth;$t++)et+=(et?"/":"")+this.node($t).type.name+"_"+this.index($t-1);return et+":"+this.parentOffset}static resolve(et,$t){if(!($t>=0&&$t<=et.content.size))throw new RangeError("Position "+$t+" out of range");let kt=[],Tt=0,Dt=$t;for(let Ft=et;;){let{index:Ut,offset:Ht}=Ft.content.findIndex(Dt),Kt=Dt-Ht;if(kt.push(Ft,Ut,Tt+Ht),!Kt||(Ft=Ft.child(Ut),Ft.isText))break;Dt=Kt-1,Tt+=Ht+1}return new ResolvedPos($t,kt,Dt)}static resolveCached(et,$t){let kt=resolveCache.get(et);if(kt)for(let Dt=0;Dt<kt.elts.length;Dt++){let Ft=kt.elts[Dt];if(Ft.pos==$t)return Ft}else resolveCache.set(et,kt=new ResolveCache);let Tt=kt.elts[kt.i]=ResolvedPos.resolve(et,$t);return kt.i=(kt.i+1)%resolveCacheSize,Tt}}class ResolveCache{constructor(){this.elts=[],this.i=0}}const resolveCacheSize=12,resolveCache=new WeakMap;class NodeRange{constructor(et,$t,kt){this.$from=et,this.$to=$t,this.depth=kt}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const emptyAttrs=Object.create(null);let Node$1=class W2{constructor(et,$t,kt,Tt=Mark$1.none){this.type=et,this.attrs=$t,this.marks=Tt,this.content=kt||Fragment.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(et){return this.content.child(et)}maybeChild(et){return this.content.maybeChild(et)}forEach(et){this.content.forEach(et)}nodesBetween(et,$t,kt,Tt=0){this.content.nodesBetween(et,$t,kt,Tt,this)}descendants(et){this.nodesBetween(0,this.content.size,et)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(et,$t,kt,Tt){return this.content.textBetween(et,$t,kt,Tt)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(et){return this==et||this.sameMarkup(et)&&this.content.eq(et.content)}sameMarkup(et){return this.hasMarkup(et.type,et.attrs,et.marks)}hasMarkup(et,$t,kt){return this.type==et&&compareDeep(this.attrs,$t||et.defaultAttrs||emptyAttrs)&&Mark$1.sameSet(this.marks,kt||Mark$1.none)}copy(et=null){return et==this.content?this:new W2(this.type,this.attrs,et,this.marks)}mark(et){return et==this.marks?this:new W2(this.type,this.attrs,this.content,et)}cut(et,$t=this.content.size){return et==0&&$t==this.content.size?this:this.copy(this.content.cut(et,$t))}slice(et,$t=this.content.size,kt=!1){if(et==$t)return Slice.empty;let Tt=this.resolve(et),Dt=this.resolve($t),Ft=kt?0:Tt.sharedDepth($t),Ut=Tt.start(Ft),Kt=Tt.node(Ft).content.cut(Tt.pos-Ut,Dt.pos-Ut);return new Slice(Kt,Tt.depth-Ft,Dt.depth-Ft)}replace(et,$t,kt){return replace(this.resolve(et),this.resolve($t),kt)}nodeAt(et){for(let $t=this;;){let{index:kt,offset:Tt}=$t.content.findIndex(et);if($t=$t.maybeChild(kt),!$t)return null;if(Tt==et||$t.isText)return $t;et-=Tt+1}}childAfter(et){let{index:$t,offset:kt}=this.content.findIndex(et);return{node:this.content.maybeChild($t),index:$t,offset:kt}}childBefore(et){if(et==0)return{node:null,index:0,offset:0};let{index:$t,offset:kt}=this.content.findIndex(et);if(kt<et)return{node:this.content.child($t),index:$t,offset:kt};let Tt=this.content.child($t-1);return{node:Tt,index:$t-1,offset:kt-Tt.nodeSize}}resolve(et){return ResolvedPos.resolveCached(this,et)}resolveNoCache(et){return ResolvedPos.resolve(this,et)}rangeHasMark(et,$t,kt){let Tt=!1;return $t>et&&this.nodesBetween(et,$t,Dt=>(kt.isInSet(Dt.marks)&&(Tt=!0),!Tt)),Tt}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let et=this.type.name;return this.content.size&&(et+="("+this.content.toStringInner()+")"),wrapMarks(this.marks,et)}contentMatchAt(et){let $t=this.type.contentMatch.matchFragment(this.content,0,et);if(!$t)throw new Error("Called contentMatchAt on a node with invalid content");return $t}canReplace(et,$t,kt=Fragment.empty,Tt=0,Dt=kt.childCount){let Ft=this.contentMatchAt(et).matchFragment(kt,Tt,Dt),Ut=Ft&&Ft.matchFragment(this.content,$t);if(!Ut||!Ut.validEnd)return!1;for(let Ht=Tt;Ht<Dt;Ht++)if(!this.type.allowsMarks(kt.child(Ht).marks))return!1;return!0}canReplaceWith(et,$t,kt,Tt){if(Tt&&!this.type.allowsMarks(Tt))return!1;let Dt=this.contentMatchAt(et).matchType(kt),Ft=Dt&&Dt.matchFragment(this.content,$t);return Ft?Ft.validEnd:!1}canAppend(et){return et.content.size?this.canReplace(this.childCount,this.childCount,et.content):this.type.compatibleContent(et.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let et=Mark$1.none;for(let $t=0;$t<this.marks.length;$t++){let kt=this.marks[$t];kt.type.checkAttrs(kt.attrs),et=kt.addToSet(et)}if(!Mark$1.sameSet(et,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map($t=>$t.type.name)}`);this.content.forEach($t=>$t.check())}toJSON(){let et={type:this.type.name};for(let $t in this.attrs){et.attrs=this.attrs;break}return this.content.size&&(et.content=this.content.toJSON()),this.marks.length&&(et.marks=this.marks.map($t=>$t.toJSON())),et}static fromJSON(et,$t){if(!$t)throw new RangeError("Invalid input for Node.fromJSON");let kt;if($t.marks){if(!Array.isArray($t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");kt=$t.marks.map(et.markFromJSON)}if($t.type=="text"){if(typeof $t.text!="string")throw new RangeError("Invalid text node in JSON");return et.text($t.text,kt)}let Tt=Fragment.fromJSON(et,$t.content),Dt=et.nodeType($t.type).create($t.attrs,Tt,kt);return Dt.type.checkAttrs(Dt.attrs),Dt}};Node$1.prototype.text=void 0;class TextNode extends Node$1{constructor(et,$t,kt,Tt){if(super(et,$t,null,Tt),!kt)throw new RangeError("Empty text nodes are not allowed");this.text=kt}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):wrapMarks(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(et,$t){return this.text.slice(et,$t)}get nodeSize(){return this.text.length}mark(et){return et==this.marks?this:new TextNode(this.type,this.attrs,this.text,et)}withText(et){return et==this.text?this:new TextNode(this.type,this.attrs,et,this.marks)}cut(et=0,$t=this.text.length){return et==0&&$t==this.text.length?this:this.withText(this.text.slice(et,$t))}eq(et){return this.sameMarkup(et)&&this.text==et.text}toJSON(){let et=super.toJSON();return et.text=this.text,et}}function wrapMarks(dt,et){for(let $t=dt.length-1;$t>=0;$t--)et=dt[$t].type.name+"("+et+")";return et}class ContentMatch{constructor(et){this.validEnd=et,this.next=[],this.wrapCache=[]}static parse(et,$t){let kt=new TokenStream(et,$t);if(kt.next==null)return ContentMatch.empty;let Tt=parseExpr(kt);kt.next&&kt.err("Unexpected trailing text");let Dt=dfa(nfa(Tt));return checkForDeadEnds(Dt,kt),Dt}matchType(et){for(let $t=0;$t<this.next.length;$t++)if(this.next[$t].type==et)return this.next[$t].next;return null}matchFragment(et,$t=0,kt=et.childCount){let Tt=this;for(let Dt=$t;Tt&&Dt<kt;Dt++)Tt=Tt.matchType(et.child(Dt).type);return Tt}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let et=0;et<this.next.length;et++){let{type:$t}=this.next[et];if(!($t.isText||$t.hasRequiredAttrs()))return $t}return null}compatible(et){for(let $t=0;$t<this.next.length;$t++)for(let kt=0;kt<et.next.length;kt++)if(this.next[$t].type==et.next[kt].type)return!0;return!1}fillBefore(et,$t=!1,kt=0){let Tt=[this];function Dt(Ft,Ut){let Ht=Ft.matchFragment(et,kt);if(Ht&&(!$t||Ht.validEnd))return Fragment.from(Ut.map(Kt=>Kt.createAndFill()));for(let Kt=0;Kt<Ft.next.length;Kt++){let{type:Yt,next:Jt}=Ft.next[Kt];if(!(Yt.isText||Yt.hasRequiredAttrs())&&Tt.indexOf(Jt)==-1){Tt.push(Jt);let Zt=Dt(Jt,Ut.concat(Yt));if(Zt)return Zt}}return null}return Dt(this,[])}findWrapping(et){for(let kt=0;kt<this.wrapCache.length;kt+=2)if(this.wrapCache[kt]==et)return this.wrapCache[kt+1];let $t=this.computeWrapping(et);return this.wrapCache.push(et,$t),$t}computeWrapping(et){let $t=Object.create(null),kt=[{match:this,type:null,via:null}];for(;kt.length;){let Tt=kt.shift(),Dt=Tt.match;if(Dt.matchType(et)){let Ft=[];for(let Ut=Tt;Ut.type;Ut=Ut.via)Ft.push(Ut.type);return Ft.reverse()}for(let Ft=0;Ft<Dt.next.length;Ft++){let{type:Ut,next:Ht}=Dt.next[Ft];!Ut.isLeaf&&!Ut.hasRequiredAttrs()&&!(Ut.name in $t)&&(!Tt.type||Ht.validEnd)&&(kt.push({match:Ut.contentMatch,type:Ut,via:Tt}),$t[Ut.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(et){if(et>=this.next.length)throw new RangeError(`There's no ${et}th edge in this content match`);return this.next[et]}toString(){let et=[];function $t(kt){et.push(kt);for(let Tt=0;Tt<kt.next.length;Tt++)et.indexOf(kt.next[Tt].next)==-1&&$t(kt.next[Tt].next)}return $t(this),et.map((kt,Tt)=>{let Dt=Tt+(kt.validEnd?"*":" ")+" ";for(let Ft=0;Ft<kt.next.length;Ft++)Dt+=(Ft?", ":"")+kt.next[Ft].type.name+"->"+et.indexOf(kt.next[Ft].next);return Dt}).join(`
`)}}ContentMatch.empty=new ContentMatch(!0);class TokenStream{constructor(et,$t){this.string=et,this.nodeTypes=$t,this.inline=null,this.pos=0,this.tokens=et.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(et){return this.next==et&&(this.pos++||!0)}err(et){throw new SyntaxError(et+" (in content expression '"+this.string+"')")}}function parseExpr(dt){let et=[];do et.push(parseExprSeq(dt));while(dt.eat("|"));return et.length==1?et[0]:{type:"choice",exprs:et}}function parseExprSeq(dt){let et=[];do et.push(parseExprSubscript(dt));while(dt.next&&dt.next!=")"&&dt.next!="|");return et.length==1?et[0]:{type:"seq",exprs:et}}function parseExprSubscript(dt){let et=parseExprAtom(dt);for(;;)if(dt.eat("+"))et={type:"plus",expr:et};else if(dt.eat("*"))et={type:"star",expr:et};else if(dt.eat("?"))et={type:"opt",expr:et};else if(dt.eat("{"))et=parseExprRange(dt,et);else break;return et}function parseNum(dt){/\D/.test(dt.next)&&dt.err("Expected number, got '"+dt.next+"'");let et=Number(dt.next);return dt.pos++,et}function parseExprRange(dt,et){let $t=parseNum(dt),kt=$t;return dt.eat(",")&&(dt.next!="}"?kt=parseNum(dt):kt=-1),dt.eat("}")||dt.err("Unclosed braced range"),{type:"range",min:$t,max:kt,expr:et}}function resolveName(dt,et){let $t=dt.nodeTypes,kt=$t[et];if(kt)return[kt];let Tt=[];for(let Dt in $t){let Ft=$t[Dt];Ft.isInGroup(et)&&Tt.push(Ft)}return Tt.length==0&&dt.err("No node type or group '"+et+"' found"),Tt}function parseExprAtom(dt){if(dt.eat("(")){let et=parseExpr(dt);return dt.eat(")")||dt.err("Missing closing paren"),et}else if(/\W/.test(dt.next))dt.err("Unexpected token '"+dt.next+"'");else{let et=resolveName(dt,dt.next).map($t=>(dt.inline==null?dt.inline=$t.isInline:dt.inline!=$t.isInline&&dt.err("Mixing inline and block content"),{type:"name",value:$t}));return dt.pos++,et.length==1?et[0]:{type:"choice",exprs:et}}}function nfa(dt){let et=[[]];return Tt(Dt(dt,0),$t()),et;function $t(){return et.push([])-1}function kt(Ft,Ut,Ht){let Kt={term:Ht,to:Ut};return et[Ft].push(Kt),Kt}function Tt(Ft,Ut){Ft.forEach(Ht=>Ht.to=Ut)}function Dt(Ft,Ut){if(Ft.type=="choice")return Ft.exprs.reduce((Ht,Kt)=>Ht.concat(Dt(Kt,Ut)),[]);if(Ft.type=="seq")for(let Ht=0;;Ht++){let Kt=Dt(Ft.exprs[Ht],Ut);if(Ht==Ft.exprs.length-1)return Kt;Tt(Kt,Ut=$t())}else if(Ft.type=="star"){let Ht=$t();return kt(Ut,Ht),Tt(Dt(Ft.expr,Ht),Ht),[kt(Ht)]}else if(Ft.type=="plus"){let Ht=$t();return Tt(Dt(Ft.expr,Ut),Ht),Tt(Dt(Ft.expr,Ht),Ht),[kt(Ht)]}else{if(Ft.type=="opt")return[kt(Ut)].concat(Dt(Ft.expr,Ut));if(Ft.type=="range"){let Ht=Ut;for(let Kt=0;Kt<Ft.min;Kt++){let Yt=$t();Tt(Dt(Ft.expr,Ht),Yt),Ht=Yt}if(Ft.max==-1)Tt(Dt(Ft.expr,Ht),Ht);else for(let Kt=Ft.min;Kt<Ft.max;Kt++){let Yt=$t();kt(Ht,Yt),Tt(Dt(Ft.expr,Ht),Yt),Ht=Yt}return[kt(Ht)]}else{if(Ft.type=="name")return[kt(Ut,void 0,Ft.value)];throw new Error("Unknown expr type")}}}}function cmp(dt,et){return et-dt}function nullFrom(dt,et){let $t=[];return kt(et),$t.sort(cmp);function kt(Tt){let Dt=dt[Tt];if(Dt.length==1&&!Dt[0].term)return kt(Dt[0].to);$t.push(Tt);for(let Ft=0;Ft<Dt.length;Ft++){let{term:Ut,to:Ht}=Dt[Ft];!Ut&&$t.indexOf(Ht)==-1&&kt(Ht)}}}function dfa(dt){let et=Object.create(null);return $t(nullFrom(dt,0));function $t(kt){let Tt=[];kt.forEach(Ft=>{dt[Ft].forEach(({term:Ut,to:Ht})=>{if(!Ut)return;let Kt;for(let Yt=0;Yt<Tt.length;Yt++)Tt[Yt][0]==Ut&&(Kt=Tt[Yt][1]);nullFrom(dt,Ht).forEach(Yt=>{Kt||Tt.push([Ut,Kt=[]]),Kt.indexOf(Yt)==-1&&Kt.push(Yt)})})});let Dt=et[kt.join(",")]=new ContentMatch(kt.indexOf(dt.length-1)>-1);for(let Ft=0;Ft<Tt.length;Ft++){let Ut=Tt[Ft][1].sort(cmp);Dt.next.push({type:Tt[Ft][0],next:et[Ut.join(",")]||$t(Ut)})}return Dt}}function checkForDeadEnds(dt,et){for(let $t=0,kt=[dt];$t<kt.length;$t++){let Tt=kt[$t],Dt=!Tt.validEnd,Ft=[];for(let Ut=0;Ut<Tt.next.length;Ut++){let{type:Ht,next:Kt}=Tt.next[Ut];Ft.push(Ht.name),Dt&&!(Ht.isText||Ht.hasRequiredAttrs())&&(Dt=!1),kt.indexOf(Kt)==-1&&kt.push(Kt)}Dt&&et.err("Only non-generatable nodes ("+Ft.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function defaultAttrs(dt){let et=Object.create(null);for(let $t in dt){let kt=dt[$t];if(!kt.hasDefault)return null;et[$t]=kt.default}return et}function computeAttrs(dt,et){let $t=Object.create(null);for(let kt in dt){let Tt=et&&et[kt];if(Tt===void 0){let Dt=dt[kt];if(Dt.hasDefault)Tt=Dt.default;else throw new RangeError("No value supplied for attribute "+kt)}$t[kt]=Tt}return $t}function checkAttrs(dt,et,$t,kt){for(let Tt in et)if(!(Tt in dt))throw new RangeError(`Unsupported attribute ${Tt} for ${$t} of type ${Tt}`);for(let Tt in dt){let Dt=dt[Tt];Dt.validate&&Dt.validate(et[Tt])}}function initAttrs(dt,et){let $t=Object.create(null);if(et)for(let kt in et)$t[kt]=new Attribute(dt,kt,et[kt]);return $t}let NodeType$1=class nS{constructor(et,$t,kt){this.name=et,this.schema=$t,this.spec=kt,this.markSet=null,this.groups=kt.group?kt.group.split(" "):[],this.attrs=initAttrs(et,kt.attrs),this.defaultAttrs=defaultAttrs(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(kt.inline||et=="text"),this.isText=et=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==ContentMatch.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(et){return this.groups.indexOf(et)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let et in this.attrs)if(this.attrs[et].isRequired)return!0;return!1}compatibleContent(et){return this==et||this.contentMatch.compatible(et.contentMatch)}computeAttrs(et){return!et&&this.defaultAttrs?this.defaultAttrs:computeAttrs(this.attrs,et)}create(et=null,$t,kt){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Node$1(this,this.computeAttrs(et),Fragment.from($t),Mark$1.setFrom(kt))}createChecked(et=null,$t,kt){return $t=Fragment.from($t),this.checkContent($t),new Node$1(this,this.computeAttrs(et),$t,Mark$1.setFrom(kt))}createAndFill(et=null,$t,kt){if(et=this.computeAttrs(et),$t=Fragment.from($t),$t.size){let Ft=this.contentMatch.fillBefore($t);if(!Ft)return null;$t=Ft.append($t)}let Tt=this.contentMatch.matchFragment($t),Dt=Tt&&Tt.fillBefore(Fragment.empty,!0);return Dt?new Node$1(this,et,$t.append(Dt),Mark$1.setFrom(kt)):null}validContent(et){let $t=this.contentMatch.matchFragment(et);if(!$t||!$t.validEnd)return!1;for(let kt=0;kt<et.childCount;kt++)if(!this.allowsMarks(et.child(kt).marks))return!1;return!0}checkContent(et){if(!this.validContent(et))throw new RangeError(`Invalid content for node ${this.name}: ${et.toString().slice(0,50)}`)}checkAttrs(et){checkAttrs(this.attrs,et,"node",this.name)}allowsMarkType(et){return this.markSet==null||this.markSet.indexOf(et)>-1}allowsMarks(et){if(this.markSet==null)return!0;for(let $t=0;$t<et.length;$t++)if(!this.allowsMarkType(et[$t].type))return!1;return!0}allowedMarks(et){if(this.markSet==null)return et;let $t;for(let kt=0;kt<et.length;kt++)this.allowsMarkType(et[kt].type)?$t&&$t.push(et[kt]):$t||($t=et.slice(0,kt));return $t?$t.length?$t:Mark$1.none:et}static compile(et,$t){let kt=Object.create(null);et.forEach((Dt,Ft)=>kt[Dt]=new nS(Dt,$t,Ft));let Tt=$t.spec.topNode||"doc";if(!kt[Tt])throw new RangeError("Schema is missing its top node type ('"+Tt+"')");if(!kt.text)throw new RangeError("Every schema needs a 'text' type");for(let Dt in kt.text.attrs)throw new RangeError("The text node type should not have attributes");return kt}};function validateType(dt,et,$t){let kt=$t.split("|");return Tt=>{let Dt=Tt===null?"null":typeof Tt;if(kt.indexOf(Dt)<0)throw new RangeError(`Expected value of type ${kt} for attribute ${et} on type ${dt}, got ${Dt}`)}}class Attribute{constructor(et,$t,kt){this.hasDefault=Object.prototype.hasOwnProperty.call(kt,"default"),this.default=kt.default,this.validate=typeof kt.validate=="string"?validateType(et,$t,kt.validate):kt.validate}get isRequired(){return!this.hasDefault}}class MarkType{constructor(et,$t,kt,Tt){this.name=et,this.rank=$t,this.schema=kt,this.spec=Tt,this.attrs=initAttrs(et,Tt.attrs),this.excluded=null;let Dt=defaultAttrs(this.attrs);this.instance=Dt?new Mark$1(this,Dt):null}create(et=null){return!et&&this.instance?this.instance:new Mark$1(this,computeAttrs(this.attrs,et))}static compile(et,$t){let kt=Object.create(null),Tt=0;return et.forEach((Dt,Ft)=>kt[Dt]=new MarkType(Dt,Tt++,$t,Ft)),kt}removeFromSet(et){for(var $t=0;$t<et.length;$t++)et[$t].type==this&&(et=et.slice(0,$t).concat(et.slice($t+1)),$t--);return et}isInSet(et){for(let $t=0;$t<et.length;$t++)if(et[$t].type==this)return et[$t]}checkAttrs(et){checkAttrs(this.attrs,et,"mark",this.name)}excludes(et){return this.excluded.indexOf(et)>-1}}class Schema{constructor(et){this.linebreakReplacement=null,this.cached=Object.create(null);let $t=this.spec={};for(let Tt in et)$t[Tt]=et[Tt];$t.nodes=OrderedMap.from(et.nodes),$t.marks=OrderedMap.from(et.marks||{}),this.nodes=NodeType$1.compile(this.spec.nodes,this),this.marks=MarkType.compile(this.spec.marks,this);let kt=Object.create(null);for(let Tt in this.nodes){if(Tt in this.marks)throw new RangeError(Tt+" can not be both a node and a mark");let Dt=this.nodes[Tt],Ft=Dt.spec.content||"",Ut=Dt.spec.marks;if(Dt.contentMatch=kt[Ft]||(kt[Ft]=ContentMatch.parse(Ft,this.nodes)),Dt.inlineContent=Dt.contentMatch.inlineContent,Dt.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!Dt.isInline||!Dt.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=Dt}Dt.markSet=Ut=="_"?null:Ut?gatherMarks(this,Ut.split(" ")):Ut==""||!Dt.inlineContent?[]:null}for(let Tt in this.marks){let Dt=this.marks[Tt],Ft=Dt.spec.excludes;Dt.excluded=Ft==null?[Dt]:Ft==""?[]:gatherMarks(this,Ft.split(" "))}this.nodeFromJSON=Tt=>Node$1.fromJSON(this,Tt),this.markFromJSON=Tt=>Mark$1.fromJSON(this,Tt),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(et,$t=null,kt,Tt){if(typeof et=="string")et=this.nodeType(et);else if(et instanceof NodeType$1){if(et.schema!=this)throw new RangeError("Node type from different schema used ("+et.name+")")}else throw new RangeError("Invalid node type: "+et);return et.createChecked($t,kt,Tt)}text(et,$t){let kt=this.nodes.text;return new TextNode(kt,kt.defaultAttrs,et,Mark$1.setFrom($t))}mark(et,$t){return typeof et=="string"&&(et=this.marks[et]),et.create($t)}nodeType(et){let $t=this.nodes[et];if(!$t)throw new RangeError("Unknown node type: "+et);return $t}}function gatherMarks(dt,et){let $t=[];for(let kt=0;kt<et.length;kt++){let Tt=et[kt],Dt=dt.marks[Tt],Ft=Dt;if(Dt)$t.push(Dt);else for(let Ut in dt.marks){let Ht=dt.marks[Ut];(Tt=="_"||Ht.spec.group&&Ht.spec.group.split(" ").indexOf(Tt)>-1)&&$t.push(Ft=Ht)}if(!Ft)throw new SyntaxError("Unknown mark type: '"+et[kt]+"'")}return $t}function isTagRule(dt){return dt.tag!=null}function isStyleRule(dt){return dt.style!=null}class DOMParser{constructor(et,$t){this.schema=et,this.rules=$t,this.tags=[],this.styles=[];let kt=this.matchedStyles=[];$t.forEach(Tt=>{if(isTagRule(Tt))this.tags.push(Tt);else if(isStyleRule(Tt)){let Dt=/[^=]*/.exec(Tt.style)[0];kt.indexOf(Dt)<0&&kt.push(Dt),this.styles.push(Tt)}}),this.normalizeLists=!this.tags.some(Tt=>{if(!/^(ul|ol)\b/.test(Tt.tag)||!Tt.node)return!1;let Dt=et.nodes[Tt.node];return Dt.contentMatch.matchType(Dt)})}parse(et,$t={}){let kt=new ParseContext(this,$t,!1);return kt.addAll(et,Mark$1.none,$t.from,$t.to),kt.finish()}parseSlice(et,$t={}){let kt=new ParseContext(this,$t,!0);return kt.addAll(et,Mark$1.none,$t.from,$t.to),Slice.maxOpen(kt.finish())}matchTag(et,$t,kt){for(let Tt=kt?this.tags.indexOf(kt)+1:0;Tt<this.tags.length;Tt++){let Dt=this.tags[Tt];if(matches(et,Dt.tag)&&(Dt.namespace===void 0||et.namespaceURI==Dt.namespace)&&(!Dt.context||$t.matchesContext(Dt.context))){if(Dt.getAttrs){let Ft=Dt.getAttrs(et);if(Ft===!1)continue;Dt.attrs=Ft||void 0}return Dt}}}matchStyle(et,$t,kt,Tt){for(let Dt=Tt?this.styles.indexOf(Tt)+1:0;Dt<this.styles.length;Dt++){let Ft=this.styles[Dt],Ut=Ft.style;if(!(Ut.indexOf(et)!=0||Ft.context&&!kt.matchesContext(Ft.context)||Ut.length>et.length&&(Ut.charCodeAt(et.length)!=61||Ut.slice(et.length+1)!=$t))){if(Ft.getAttrs){let Ht=Ft.getAttrs($t);if(Ht===!1)continue;Ft.attrs=Ht||void 0}return Ft}}}static schemaRules(et){let $t=[];function kt(Tt){let Dt=Tt.priority==null?50:Tt.priority,Ft=0;for(;Ft<$t.length;Ft++){let Ut=$t[Ft];if((Ut.priority==null?50:Ut.priority)<Dt)break}$t.splice(Ft,0,Tt)}for(let Tt in et.marks){let Dt=et.marks[Tt].spec.parseDOM;Dt&&Dt.forEach(Ft=>{kt(Ft=copy$1(Ft)),Ft.mark||Ft.ignore||Ft.clearMark||(Ft.mark=Tt)})}for(let Tt in et.nodes){let Dt=et.nodes[Tt].spec.parseDOM;Dt&&Dt.forEach(Ft=>{kt(Ft=copy$1(Ft)),Ft.node||Ft.ignore||Ft.mark||(Ft.node=Tt)})}return $t}static fromSchema(et){return et.cached.domParser||(et.cached.domParser=new DOMParser(et,DOMParser.schemaRules(et)))}}const blockTags={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},ignoreTags={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},listTags={ol:!0,ul:!0},OPT_PRESERVE_WS=1,OPT_PRESERVE_WS_FULL=2,OPT_OPEN_LEFT=4;function wsOptionsFor(dt,et,$t){return et!=null?(et?OPT_PRESERVE_WS:0)|(et==="full"?OPT_PRESERVE_WS_FULL:0):dt&&dt.whitespace=="pre"?OPT_PRESERVE_WS|OPT_PRESERVE_WS_FULL:$t&~OPT_OPEN_LEFT}class NodeContext{constructor(et,$t,kt,Tt,Dt,Ft){this.type=et,this.attrs=$t,this.marks=kt,this.solid=Tt,this.options=Ft,this.content=[],this.activeMarks=Mark$1.none,this.match=Dt||(Ft&OPT_OPEN_LEFT?null:et.contentMatch)}findWrapping(et){if(!this.match){if(!this.type)return[];let $t=this.type.contentMatch.fillBefore(Fragment.from(et));if($t)this.match=this.type.contentMatch.matchFragment($t);else{let kt=this.type.contentMatch,Tt;return(Tt=kt.findWrapping(et.type))?(this.match=kt,Tt):null}}return this.match.findWrapping(et.type)}finish(et){if(!(this.options&OPT_PRESERVE_WS)){let kt=this.content[this.content.length-1],Tt;if(kt&&kt.isText&&(Tt=/[ \t\r\n\u000c]+$/.exec(kt.text))){let Dt=kt;kt.text.length==Tt[0].length?this.content.pop():this.content[this.content.length-1]=Dt.withText(Dt.text.slice(0,Dt.text.length-Tt[0].length))}}let $t=Fragment.from(this.content);return!et&&this.match&&($t=$t.append(this.match.fillBefore(Fragment.empty,!0))),this.type?this.type.create(this.attrs,$t,this.marks):$t}inlineContext(et){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:et.parentNode&&!blockTags.hasOwnProperty(et.parentNode.nodeName.toLowerCase())}}class ParseContext{constructor(et,$t,kt){this.parser=et,this.options=$t,this.isOpen=kt,this.open=0,this.localPreserveWS=!1;let Tt=$t.topNode,Dt,Ft=wsOptionsFor(null,$t.preserveWhitespace,0)|(kt?OPT_OPEN_LEFT:0);Tt?Dt=new NodeContext(Tt.type,Tt.attrs,Mark$1.none,!0,$t.topMatch||Tt.type.contentMatch,Ft):kt?Dt=new NodeContext(null,null,Mark$1.none,!0,null,Ft):Dt=new NodeContext(et.schema.topNodeType,null,Mark$1.none,!0,null,Ft),this.nodes=[Dt],this.find=$t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(et,$t){et.nodeType==3?this.addTextNode(et,$t):et.nodeType==1&&this.addElement(et,$t)}addTextNode(et,$t){let kt=et.nodeValue,Tt=this.top,Dt=Tt.options&OPT_PRESERVE_WS_FULL?"full":this.localPreserveWS||(Tt.options&OPT_PRESERVE_WS)>0;if(Dt==="full"||Tt.inlineContext(et)||/[^ \t\r\n\u000c]/.test(kt)){if(Dt)Dt!=="full"?kt=kt.replace(/\r?\n|\r/g," "):kt=kt.replace(/\r\n?/g,`
`);else if(kt=kt.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(kt)&&this.open==this.nodes.length-1){let Ft=Tt.content[Tt.content.length-1],Ut=et.previousSibling;(!Ft||Ut&&Ut.nodeName=="BR"||Ft.isText&&/[ \t\r\n\u000c]$/.test(Ft.text))&&(kt=kt.slice(1))}kt&&this.insertNode(this.parser.schema.text(kt),$t,!/\S/.test(kt)),this.findInText(et)}else this.findInside(et)}addElement(et,$t,kt){let Tt=this.localPreserveWS,Dt=this.top;(et.tagName=="PRE"||/pre/.test(et.style&&et.style.whiteSpace))&&(this.localPreserveWS=!0);let Ft=et.nodeName.toLowerCase(),Ut;listTags.hasOwnProperty(Ft)&&this.parser.normalizeLists&&normalizeList(et);let Ht=this.options.ruleFromNode&&this.options.ruleFromNode(et)||(Ut=this.parser.matchTag(et,this,kt));e:if(Ht?Ht.ignore:ignoreTags.hasOwnProperty(Ft))this.findInside(et),this.ignoreFallback(et,$t);else if(!Ht||Ht.skip||Ht.closeParent){Ht&&Ht.closeParent?this.open=Math.max(0,this.open-1):Ht&&Ht.skip.nodeType&&(et=Ht.skip);let Kt,Yt=this.needsBlock;if(blockTags.hasOwnProperty(Ft))Dt.content.length&&Dt.content[0].isInline&&this.open&&(this.open--,Dt=this.top),Kt=!0,Dt.type||(this.needsBlock=!0);else if(!et.firstChild){this.leafFallback(et,$t);break e}let Jt=Ht&&Ht.skip?$t:this.readStyles(et,$t);Jt&&this.addAll(et,Jt),Kt&&this.sync(Dt),this.needsBlock=Yt}else{let Kt=this.readStyles(et,$t);Kt&&this.addElementByRule(et,Ht,Kt,Ht.consuming===!1?Ut:void 0)}this.localPreserveWS=Tt}leafFallback(et,$t){et.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(et.ownerDocument.createTextNode(`
`),$t)}ignoreFallback(et,$t){et.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),$t,!0)}readStyles(et,$t){let kt=et.style;if(kt&&kt.length)for(let Tt=0;Tt<this.parser.matchedStyles.length;Tt++){let Dt=this.parser.matchedStyles[Tt],Ft=kt.getPropertyValue(Dt);if(Ft)for(let Ut=void 0;;){let Ht=this.parser.matchStyle(Dt,Ft,this,Ut);if(!Ht)break;if(Ht.ignore)return null;if(Ht.clearMark?$t=$t.filter(Kt=>!Ht.clearMark(Kt)):$t=$t.concat(this.parser.schema.marks[Ht.mark].create(Ht.attrs)),Ht.consuming===!1)Ut=Ht;else break}}return $t}addElementByRule(et,$t,kt,Tt){let Dt,Ft;if($t.node)if(Ft=this.parser.schema.nodes[$t.node],Ft.isLeaf)this.insertNode(Ft.create($t.attrs),kt,et.nodeName=="BR")||this.leafFallback(et,kt);else{let Ht=this.enter(Ft,$t.attrs||null,kt,$t.preserveWhitespace);Ht&&(Dt=!0,kt=Ht)}else{let Ht=this.parser.schema.marks[$t.mark];kt=kt.concat(Ht.create($t.attrs))}let Ut=this.top;if(Ft&&Ft.isLeaf)this.findInside(et);else if(Tt)this.addElement(et,kt,Tt);else if($t.getContent)this.findInside(et),$t.getContent(et,this.parser.schema).forEach(Ht=>this.insertNode(Ht,kt,!1));else{let Ht=et;typeof $t.contentElement=="string"?Ht=et.querySelector($t.contentElement):typeof $t.contentElement=="function"?Ht=$t.contentElement(et):$t.contentElement&&(Ht=$t.contentElement),this.findAround(et,Ht,!0),this.addAll(Ht,kt),this.findAround(et,Ht,!1)}Dt&&this.sync(Ut)&&this.open--}addAll(et,$t,kt,Tt){let Dt=kt||0;for(let Ft=kt?et.childNodes[kt]:et.firstChild,Ut=Tt==null?null:et.childNodes[Tt];Ft!=Ut;Ft=Ft.nextSibling,++Dt)this.findAtPoint(et,Dt),this.addDOM(Ft,$t);this.findAtPoint(et,Dt)}findPlace(et,$t,kt){let Tt,Dt;for(let Ft=this.open,Ut=0;Ft>=0;Ft--){let Ht=this.nodes[Ft],Kt=Ht.findWrapping(et);if(Kt&&(!Tt||Tt.length>Kt.length+Ut)&&(Tt=Kt,Dt=Ht,!Kt.length))break;if(Ht.solid){if(kt)break;Ut+=2}}if(!Tt)return null;this.sync(Dt);for(let Ft=0;Ft<Tt.length;Ft++)$t=this.enterInner(Tt[Ft],null,$t,!1);return $t}insertNode(et,$t,kt){if(et.isInline&&this.needsBlock&&!this.top.type){let Dt=this.textblockFromContext();Dt&&($t=this.enterInner(Dt,null,$t))}let Tt=this.findPlace(et,$t,kt);if(Tt){this.closeExtra();let Dt=this.top;Dt.match&&(Dt.match=Dt.match.matchType(et.type));let Ft=Mark$1.none;for(let Ut of Tt.concat(et.marks))(Dt.type?Dt.type.allowsMarkType(Ut.type):markMayApply(Ut.type,et.type))&&(Ft=Ut.addToSet(Ft));return Dt.content.push(et.mark(Ft)),!0}return!1}enter(et,$t,kt,Tt){let Dt=this.findPlace(et.create($t),kt,!1);return Dt&&(Dt=this.enterInner(et,$t,kt,!0,Tt)),Dt}enterInner(et,$t,kt,Tt=!1,Dt){this.closeExtra();let Ft=this.top;Ft.match=Ft.match&&Ft.match.matchType(et);let Ut=wsOptionsFor(et,Dt,Ft.options);Ft.options&OPT_OPEN_LEFT&&Ft.content.length==0&&(Ut|=OPT_OPEN_LEFT);let Ht=Mark$1.none;return kt=kt.filter(Kt=>(Ft.type?Ft.type.allowsMarkType(Kt.type):markMayApply(Kt.type,et))?(Ht=Kt.addToSet(Ht),!1):!0),this.nodes.push(new NodeContext(et,$t,Ht,Tt,null,Ut)),this.open++,kt}closeExtra(et=!1){let $t=this.nodes.length-1;if($t>this.open){for(;$t>this.open;$t--)this.nodes[$t-1].content.push(this.nodes[$t].finish(et));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(et){for(let $t=this.open;$t>=0;$t--){if(this.nodes[$t]==et)return this.open=$t,!0;this.localPreserveWS&&(this.nodes[$t].options|=OPT_PRESERVE_WS)}return!1}get currentPos(){this.closeExtra();let et=0;for(let $t=this.open;$t>=0;$t--){let kt=this.nodes[$t].content;for(let Tt=kt.length-1;Tt>=0;Tt--)et+=kt[Tt].nodeSize;$t&&et++}return et}findAtPoint(et,$t){if(this.find)for(let kt=0;kt<this.find.length;kt++)this.find[kt].node==et&&this.find[kt].offset==$t&&(this.find[kt].pos=this.currentPos)}findInside(et){if(this.find)for(let $t=0;$t<this.find.length;$t++)this.find[$t].pos==null&&et.nodeType==1&&et.contains(this.find[$t].node)&&(this.find[$t].pos=this.currentPos)}findAround(et,$t,kt){if(et!=$t&&this.find)for(let Tt=0;Tt<this.find.length;Tt++)this.find[Tt].pos==null&&et.nodeType==1&&et.contains(this.find[Tt].node)&&$t.compareDocumentPosition(this.find[Tt].node)&(kt?2:4)&&(this.find[Tt].pos=this.currentPos)}findInText(et){if(this.find)for(let $t=0;$t<this.find.length;$t++)this.find[$t].node==et&&(this.find[$t].pos=this.currentPos-(et.nodeValue.length-this.find[$t].offset))}matchesContext(et){if(et.indexOf("|")>-1)return et.split(/\s*\|\s*/).some(this.matchesContext,this);let $t=et.split("/"),kt=this.options.context,Tt=!this.isOpen&&(!kt||kt.parent.type==this.nodes[0].type),Dt=-(kt?kt.depth+1:0)+(Tt?0:1),Ft=(Ut,Ht)=>{for(;Ut>=0;Ut--){let Kt=$t[Ut];if(Kt==""){if(Ut==$t.length-1||Ut==0)continue;for(;Ht>=Dt;Ht--)if(Ft(Ut-1,Ht))return!0;return!1}else{let Yt=Ht>0||Ht==0&&Tt?this.nodes[Ht].type:kt&&Ht>=Dt?kt.node(Ht-Dt).type:null;if(!Yt||Yt.name!=Kt&&!Yt.isInGroup(Kt))return!1;Ht--}}return!0};return Ft($t.length-1,this.open)}textblockFromContext(){let et=this.options.context;if(et)for(let $t=et.depth;$t>=0;$t--){let kt=et.node($t).contentMatchAt(et.indexAfter($t)).defaultType;if(kt&&kt.isTextblock&&kt.defaultAttrs)return kt}for(let $t in this.parser.schema.nodes){let kt=this.parser.schema.nodes[$t];if(kt.isTextblock&&kt.defaultAttrs)return kt}}}function normalizeList(dt){for(let et=dt.firstChild,$t=null;et;et=et.nextSibling){let kt=et.nodeType==1?et.nodeName.toLowerCase():null;kt&&listTags.hasOwnProperty(kt)&&$t?($t.appendChild(et),et=$t):kt=="li"?$t=et:kt&&($t=null)}}function matches(dt,et){return(dt.matches||dt.msMatchesSelector||dt.webkitMatchesSelector||dt.mozMatchesSelector).call(dt,et)}function copy$1(dt){let et={};for(let $t in dt)et[$t]=dt[$t];return et}function markMayApply(dt,et){let $t=et.schema.nodes;for(let kt in $t){let Tt=$t[kt];if(!Tt.allowsMarkType(dt))continue;let Dt=[],Ft=Ut=>{Dt.push(Ut);for(let Ht=0;Ht<Ut.edgeCount;Ht++){let{type:Kt,next:Yt}=Ut.edge(Ht);if(Kt==et||Dt.indexOf(Yt)<0&&Ft(Yt))return!0}};if(Ft(Tt.contentMatch))return!0}}class DOMSerializer{constructor(et,$t){this.nodes=et,this.marks=$t}serializeFragment(et,$t={},kt){kt||(kt=doc$1($t).createDocumentFragment());let Tt=kt,Dt=[];return et.forEach(Ft=>{if(Dt.length||Ft.marks.length){let Ut=0,Ht=0;for(;Ut<Dt.length&&Ht<Ft.marks.length;){let Kt=Ft.marks[Ht];if(!this.marks[Kt.type.name]){Ht++;continue}if(!Kt.eq(Dt[Ut][0])||Kt.type.spec.spanning===!1)break;Ut++,Ht++}for(;Ut<Dt.length;)Tt=Dt.pop()[1];for(;Ht<Ft.marks.length;){let Kt=Ft.marks[Ht++],Yt=this.serializeMark(Kt,Ft.isInline,$t);Yt&&(Dt.push([Kt,Tt]),Tt.appendChild(Yt.dom),Tt=Yt.contentDOM||Yt.dom)}}Tt.appendChild(this.serializeNodeInner(Ft,$t))}),kt}serializeNodeInner(et,$t){let{dom:kt,contentDOM:Tt}=renderSpec(doc$1($t),this.nodes[et.type.name](et),null,et.attrs);if(Tt){if(et.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(et.content,$t,Tt)}return kt}serializeNode(et,$t={}){let kt=this.serializeNodeInner(et,$t);for(let Tt=et.marks.length-1;Tt>=0;Tt--){let Dt=this.serializeMark(et.marks[Tt],et.isInline,$t);Dt&&((Dt.contentDOM||Dt.dom).appendChild(kt),kt=Dt.dom)}return kt}serializeMark(et,$t,kt={}){let Tt=this.marks[et.type.name];return Tt&&renderSpec(doc$1(kt),Tt(et,$t),null,et.attrs)}static renderSpec(et,$t,kt=null,Tt){return renderSpec(et,$t,kt,Tt)}static fromSchema(et){return et.cached.domSerializer||(et.cached.domSerializer=new DOMSerializer(this.nodesFromSchema(et),this.marksFromSchema(et)))}static nodesFromSchema(et){let $t=gatherToDOM(et.nodes);return $t.text||($t.text=kt=>kt.text),$t}static marksFromSchema(et){return gatherToDOM(et.marks)}}function gatherToDOM(dt){let et={};for(let $t in dt){let kt=dt[$t].spec.toDOM;kt&&(et[$t]=kt)}return et}function doc$1(dt){return dt.document||window.document}const suspiciousAttributeCache=new WeakMap;function suspiciousAttributes(dt){let et=suspiciousAttributeCache.get(dt);return et===void 0&&suspiciousAttributeCache.set(dt,et=suspiciousAttributesInner(dt)),et}function suspiciousAttributesInner(dt){let et=null;function $t(kt){if(kt&&typeof kt=="object")if(Array.isArray(kt))if(typeof kt[0]=="string")et||(et=[]),et.push(kt);else for(let Tt=0;Tt<kt.length;Tt++)$t(kt[Tt]);else for(let Tt in kt)$t(kt[Tt])}return $t(dt),et}function renderSpec(dt,et,$t,kt){if(typeof et=="string")return{dom:dt.createTextNode(et)};if(et.nodeType!=null)return{dom:et};if(et.dom&&et.dom.nodeType!=null)return et;let Tt=et[0],Dt;if(typeof Tt!="string")throw new RangeError("Invalid array passed to renderSpec");if(kt&&(Dt=suspiciousAttributes(kt))&&Dt.indexOf(et)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let Ft=Tt.indexOf(" ");Ft>0&&($t=Tt.slice(0,Ft),Tt=Tt.slice(Ft+1));let Ut,Ht=$t?dt.createElementNS($t,Tt):dt.createElement(Tt),Kt=et[1],Yt=1;if(Kt&&typeof Kt=="object"&&Kt.nodeType==null&&!Array.isArray(Kt)){Yt=2;for(let Jt in Kt)if(Kt[Jt]!=null){let Zt=Jt.indexOf(" ");Zt>0?Ht.setAttributeNS(Jt.slice(0,Zt),Jt.slice(Zt+1),Kt[Jt]):Jt=="style"&&Ht.style?Ht.style.cssText=Kt[Jt]:Ht.setAttribute(Jt,Kt[Jt])}}for(let Jt=Yt;Jt<et.length;Jt++){let Zt=et[Jt];if(Zt===0){if(Jt<et.length-1||Jt>Yt)throw new RangeError("Content hole must be the only child of its parent node");return{dom:Ht,contentDOM:Ht}}else{let{dom:er,contentDOM:rr}=renderSpec(dt,Zt,$t,kt);if(Ht.appendChild(er),rr){if(Ut)throw new RangeError("Multiple content holes");Ut=rr}}}return{dom:Ht,contentDOM:Ut}}const lower16=65535,factor16=Math.pow(2,16);function makeRecover(dt,et){return dt+et*factor16}function recoverIndex(dt){return dt&lower16}function recoverOffset(dt){return(dt-(dt&lower16))/factor16}const DEL_BEFORE=1,DEL_AFTER=2,DEL_ACROSS=4,DEL_SIDE=8;class MapResult{constructor(et,$t,kt){this.pos=et,this.delInfo=$t,this.recover=kt}get deleted(){return(this.delInfo&DEL_SIDE)>0}get deletedBefore(){return(this.delInfo&(DEL_BEFORE|DEL_ACROSS))>0}get deletedAfter(){return(this.delInfo&(DEL_AFTER|DEL_ACROSS))>0}get deletedAcross(){return(this.delInfo&DEL_ACROSS)>0}}class StepMap{constructor(et,$t=!1){if(this.ranges=et,this.inverted=$t,!et.length&&StepMap.empty)return StepMap.empty}recover(et){let $t=0,kt=recoverIndex(et);if(!this.inverted)for(let Tt=0;Tt<kt;Tt++)$t+=this.ranges[Tt*3+2]-this.ranges[Tt*3+1];return this.ranges[kt*3]+$t+recoverOffset(et)}mapResult(et,$t=1){return this._map(et,$t,!1)}map(et,$t=1){return this._map(et,$t,!0)}_map(et,$t,kt){let Tt=0,Dt=this.inverted?2:1,Ft=this.inverted?1:2;for(let Ut=0;Ut<this.ranges.length;Ut+=3){let Ht=this.ranges[Ut]-(this.inverted?Tt:0);if(Ht>et)break;let Kt=this.ranges[Ut+Dt],Yt=this.ranges[Ut+Ft],Jt=Ht+Kt;if(et<=Jt){let Zt=Kt?et==Ht?-1:et==Jt?1:$t:$t,er=Ht+Tt+(Zt<0?0:Yt);if(kt)return er;let rr=et==($t<0?Ht:Jt)?null:makeRecover(Ut/3,et-Ht),sr=et==Ht?DEL_AFTER:et==Jt?DEL_BEFORE:DEL_ACROSS;return($t<0?et!=Ht:et!=Jt)&&(sr|=DEL_SIDE),new MapResult(er,sr,rr)}Tt+=Yt-Kt}return kt?et+Tt:new MapResult(et+Tt,0,null)}touches(et,$t){let kt=0,Tt=recoverIndex($t),Dt=this.inverted?2:1,Ft=this.inverted?1:2;for(let Ut=0;Ut<this.ranges.length;Ut+=3){let Ht=this.ranges[Ut]-(this.inverted?kt:0);if(Ht>et)break;let Kt=this.ranges[Ut+Dt],Yt=Ht+Kt;if(et<=Yt&&Ut==Tt*3)return!0;kt+=this.ranges[Ut+Ft]-Kt}return!1}forEach(et){let $t=this.inverted?2:1,kt=this.inverted?1:2;for(let Tt=0,Dt=0;Tt<this.ranges.length;Tt+=3){let Ft=this.ranges[Tt],Ut=Ft-(this.inverted?Dt:0),Ht=Ft+(this.inverted?0:Dt),Kt=this.ranges[Tt+$t],Yt=this.ranges[Tt+kt];et(Ut,Ut+Kt,Ht,Ht+Yt),Dt+=Yt-Kt}}invert(){return new StepMap(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(et){return et==0?StepMap.empty:new StepMap(et<0?[0,-et,0]:[0,0,et])}}StepMap.empty=new StepMap([]);class Mapping{constructor(et,$t,kt=0,Tt=et?et.length:0){this.mirror=$t,this.from=kt,this.to=Tt,this._maps=et||[],this.ownData=!(et||$t)}get maps(){return this._maps}slice(et=0,$t=this.maps.length){return new Mapping(this._maps,this.mirror,et,$t)}appendMap(et,$t){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(et),$t!=null&&this.setMirror(this._maps.length-1,$t)}appendMapping(et){for(let $t=0,kt=this._maps.length;$t<et._maps.length;$t++){let Tt=et.getMirror($t);this.appendMap(et._maps[$t],Tt!=null&&Tt<$t?kt+Tt:void 0)}}getMirror(et){if(this.mirror){for(let $t=0;$t<this.mirror.length;$t++)if(this.mirror[$t]==et)return this.mirror[$t+($t%2?-1:1)]}}setMirror(et,$t){this.mirror||(this.mirror=[]),this.mirror.push(et,$t)}appendMappingInverted(et){for(let $t=et.maps.length-1,kt=this._maps.length+et._maps.length;$t>=0;$t--){let Tt=et.getMirror($t);this.appendMap(et._maps[$t].invert(),Tt!=null&&Tt>$t?kt-Tt-1:void 0)}}invert(){let et=new Mapping;return et.appendMappingInverted(this),et}map(et,$t=1){if(this.mirror)return this._map(et,$t,!0);for(let kt=this.from;kt<this.to;kt++)et=this._maps[kt].map(et,$t);return et}mapResult(et,$t=1){return this._map(et,$t,!1)}_map(et,$t,kt){let Tt=0;for(let Dt=this.from;Dt<this.to;Dt++){let Ft=this._maps[Dt],Ut=Ft.mapResult(et,$t);if(Ut.recover!=null){let Ht=this.getMirror(Dt);if(Ht!=null&&Ht>Dt&&Ht<this.to){Dt=Ht,et=this._maps[Ht].recover(Ut.recover);continue}}Tt|=Ut.delInfo,et=Ut.pos}return kt?et:new MapResult(et,Tt,null)}}const stepsByID=Object.create(null);let Step$1=class{getMap(){return StepMap.empty}merge(et){return null}static fromJSON(et,$t){if(!$t||!$t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let kt=stepsByID[$t.stepType];if(!kt)throw new RangeError(`No step type ${$t.stepType} defined`);return kt.fromJSON(et,$t)}static jsonID(et,$t){if(et in stepsByID)throw new RangeError("Duplicate use of step JSON ID "+et);return stepsByID[et]=$t,$t.prototype.jsonID=et,$t}};class StepResult{constructor(et,$t){this.doc=et,this.failed=$t}static ok(et){return new StepResult(et,null)}static fail(et){return new StepResult(null,et)}static fromReplace(et,$t,kt,Tt){try{return StepResult.ok(et.replace($t,kt,Tt))}catch(Dt){if(Dt instanceof ReplaceError)return StepResult.fail(Dt.message);throw Dt}}}function mapFragment(dt,et,$t){let kt=[];for(let Tt=0;Tt<dt.childCount;Tt++){let Dt=dt.child(Tt);Dt.content.size&&(Dt=Dt.copy(mapFragment(Dt.content,et,Dt))),Dt.isInline&&(Dt=et(Dt,$t,Tt)),kt.push(Dt)}return Fragment.fromArray(kt)}class AddMarkStep extends Step$1{constructor(et,$t,kt){super(),this.from=et,this.to=$t,this.mark=kt}apply(et){let $t=et.slice(this.from,this.to),kt=et.resolve(this.from),Tt=kt.node(kt.sharedDepth(this.to)),Dt=new Slice(mapFragment($t.content,(Ft,Ut)=>!Ft.isAtom||!Ut.type.allowsMarkType(this.mark.type)?Ft:Ft.mark(this.mark.addToSet(Ft.marks)),Tt),$t.openStart,$t.openEnd);return StepResult.fromReplace(et,this.from,this.to,Dt)}invert(){return new RemoveMarkStep(this.from,this.to,this.mark)}map(et){let $t=et.mapResult(this.from,1),kt=et.mapResult(this.to,-1);return $t.deleted&&kt.deleted||$t.pos>=kt.pos?null:new AddMarkStep($t.pos,kt.pos,this.mark)}merge(et){return et instanceof AddMarkStep&&et.mark.eq(this.mark)&&this.from<=et.to&&this.to>=et.from?new AddMarkStep(Math.min(this.from,et.from),Math.max(this.to,et.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(et,$t){if(typeof $t.from!="number"||typeof $t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new AddMarkStep($t.from,$t.to,et.markFromJSON($t.mark))}}Step$1.jsonID("addMark",AddMarkStep);class RemoveMarkStep extends Step$1{constructor(et,$t,kt){super(),this.from=et,this.to=$t,this.mark=kt}apply(et){let $t=et.slice(this.from,this.to),kt=new Slice(mapFragment($t.content,Tt=>Tt.mark(this.mark.removeFromSet(Tt.marks)),et),$t.openStart,$t.openEnd);return StepResult.fromReplace(et,this.from,this.to,kt)}invert(){return new AddMarkStep(this.from,this.to,this.mark)}map(et){let $t=et.mapResult(this.from,1),kt=et.mapResult(this.to,-1);return $t.deleted&&kt.deleted||$t.pos>=kt.pos?null:new RemoveMarkStep($t.pos,kt.pos,this.mark)}merge(et){return et instanceof RemoveMarkStep&&et.mark.eq(this.mark)&&this.from<=et.to&&this.to>=et.from?new RemoveMarkStep(Math.min(this.from,et.from),Math.max(this.to,et.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(et,$t){if(typeof $t.from!="number"||typeof $t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new RemoveMarkStep($t.from,$t.to,et.markFromJSON($t.mark))}}Step$1.jsonID("removeMark",RemoveMarkStep);class AddNodeMarkStep extends Step$1{constructor(et,$t){super(),this.pos=et,this.mark=$t}apply(et){let $t=et.nodeAt(this.pos);if(!$t)return StepResult.fail("No node at mark step's position");let kt=$t.type.create($t.attrs,null,this.mark.addToSet($t.marks));return StepResult.fromReplace(et,this.pos,this.pos+1,new Slice(Fragment.from(kt),0,$t.isLeaf?0:1))}invert(et){let $t=et.nodeAt(this.pos);if($t){let kt=this.mark.addToSet($t.marks);if(kt.length==$t.marks.length){for(let Tt=0;Tt<$t.marks.length;Tt++)if(!$t.marks[Tt].isInSet(kt))return new AddNodeMarkStep(this.pos,$t.marks[Tt]);return new AddNodeMarkStep(this.pos,this.mark)}}return new RemoveNodeMarkStep(this.pos,this.mark)}map(et){let $t=et.mapResult(this.pos,1);return $t.deletedAfter?null:new AddNodeMarkStep($t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(et,$t){if(typeof $t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new AddNodeMarkStep($t.pos,et.markFromJSON($t.mark))}}Step$1.jsonID("addNodeMark",AddNodeMarkStep);class RemoveNodeMarkStep extends Step$1{constructor(et,$t){super(),this.pos=et,this.mark=$t}apply(et){let $t=et.nodeAt(this.pos);if(!$t)return StepResult.fail("No node at mark step's position");let kt=$t.type.create($t.attrs,null,this.mark.removeFromSet($t.marks));return StepResult.fromReplace(et,this.pos,this.pos+1,new Slice(Fragment.from(kt),0,$t.isLeaf?0:1))}invert(et){let $t=et.nodeAt(this.pos);return!$t||!this.mark.isInSet($t.marks)?this:new AddNodeMarkStep(this.pos,this.mark)}map(et){let $t=et.mapResult(this.pos,1);return $t.deletedAfter?null:new RemoveNodeMarkStep($t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(et,$t){if(typeof $t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new RemoveNodeMarkStep($t.pos,et.markFromJSON($t.mark))}}Step$1.jsonID("removeNodeMark",RemoveNodeMarkStep);class ReplaceStep extends Step$1{constructor(et,$t,kt,Tt=!1){super(),this.from=et,this.to=$t,this.slice=kt,this.structure=Tt}apply(et){return this.structure&&contentBetween(et,this.from,this.to)?StepResult.fail("Structure replace would overwrite content"):StepResult.fromReplace(et,this.from,this.to,this.slice)}getMap(){return new StepMap([this.from,this.to-this.from,this.slice.size])}invert(et){return new ReplaceStep(this.from,this.from+this.slice.size,et.slice(this.from,this.to))}map(et){let $t=et.mapResult(this.from,1),kt=et.mapResult(this.to,-1);return $t.deletedAcross&&kt.deletedAcross?null:new ReplaceStep($t.pos,Math.max($t.pos,kt.pos),this.slice,this.structure)}merge(et){if(!(et instanceof ReplaceStep)||et.structure||this.structure)return null;if(this.from+this.slice.size==et.from&&!this.slice.openEnd&&!et.slice.openStart){let $t=this.slice.size+et.slice.size==0?Slice.empty:new Slice(this.slice.content.append(et.slice.content),this.slice.openStart,et.slice.openEnd);return new ReplaceStep(this.from,this.to+(et.to-et.from),$t,this.structure)}else if(et.to==this.from&&!this.slice.openStart&&!et.slice.openEnd){let $t=this.slice.size+et.slice.size==0?Slice.empty:new Slice(et.slice.content.append(this.slice.content),et.slice.openStart,this.slice.openEnd);return new ReplaceStep(et.from,this.to,$t,this.structure)}else return null}toJSON(){let et={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(et.slice=this.slice.toJSON()),this.structure&&(et.structure=!0),et}static fromJSON(et,$t){if(typeof $t.from!="number"||typeof $t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new ReplaceStep($t.from,$t.to,Slice.fromJSON(et,$t.slice),!!$t.structure)}}Step$1.jsonID("replace",ReplaceStep);class ReplaceAroundStep extends Step$1{constructor(et,$t,kt,Tt,Dt,Ft,Ut=!1){super(),this.from=et,this.to=$t,this.gapFrom=kt,this.gapTo=Tt,this.slice=Dt,this.insert=Ft,this.structure=Ut}apply(et){if(this.structure&&(contentBetween(et,this.from,this.gapFrom)||contentBetween(et,this.gapTo,this.to)))return StepResult.fail("Structure gap-replace would overwrite content");let $t=et.slice(this.gapFrom,this.gapTo);if($t.openStart||$t.openEnd)return StepResult.fail("Gap is not a flat range");let kt=this.slice.insertAt(this.insert,$t.content);return kt?StepResult.fromReplace(et,this.from,this.to,kt):StepResult.fail("Content does not fit in gap")}getMap(){return new StepMap([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(et){let $t=this.gapTo-this.gapFrom;return new ReplaceAroundStep(this.from,this.from+this.slice.size+$t,this.from+this.insert,this.from+this.insert+$t,et.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(et){let $t=et.mapResult(this.from,1),kt=et.mapResult(this.to,-1),Tt=this.from==this.gapFrom?$t.pos:et.map(this.gapFrom,-1),Dt=this.to==this.gapTo?kt.pos:et.map(this.gapTo,1);return $t.deletedAcross&&kt.deletedAcross||Tt<$t.pos||Dt>kt.pos?null:new ReplaceAroundStep($t.pos,kt.pos,Tt,Dt,this.slice,this.insert,this.structure)}toJSON(){let et={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(et.slice=this.slice.toJSON()),this.structure&&(et.structure=!0),et}static fromJSON(et,$t){if(typeof $t.from!="number"||typeof $t.to!="number"||typeof $t.gapFrom!="number"||typeof $t.gapTo!="number"||typeof $t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new ReplaceAroundStep($t.from,$t.to,$t.gapFrom,$t.gapTo,Slice.fromJSON(et,$t.slice),$t.insert,!!$t.structure)}}Step$1.jsonID("replaceAround",ReplaceAroundStep);function contentBetween(dt,et,$t){let kt=dt.resolve(et),Tt=$t-et,Dt=kt.depth;for(;Tt>0&&Dt>0&&kt.indexAfter(Dt)==kt.node(Dt).childCount;)Dt--,Tt--;if(Tt>0){let Ft=kt.node(Dt).maybeChild(kt.indexAfter(Dt));for(;Tt>0;){if(!Ft||Ft.isLeaf)return!0;Ft=Ft.firstChild,Tt--}}return!1}function addMark(dt,et,$t,kt){let Tt=[],Dt=[],Ft,Ut;dt.doc.nodesBetween(et,$t,(Ht,Kt,Yt)=>{if(!Ht.isInline)return;let Jt=Ht.marks;if(!kt.isInSet(Jt)&&Yt.type.allowsMarkType(kt.type)){let Zt=Math.max(Kt,et),er=Math.min(Kt+Ht.nodeSize,$t),rr=kt.addToSet(Jt);for(let sr=0;sr<Jt.length;sr++)Jt[sr].isInSet(rr)||(Ft&&Ft.to==Zt&&Ft.mark.eq(Jt[sr])?Ft.to=er:Tt.push(Ft=new RemoveMarkStep(Zt,er,Jt[sr])));Ut&&Ut.to==Zt?Ut.to=er:Dt.push(Ut=new AddMarkStep(Zt,er,kt))}}),Tt.forEach(Ht=>dt.step(Ht)),Dt.forEach(Ht=>dt.step(Ht))}function removeMark(dt,et,$t,kt){let Tt=[],Dt=0;dt.doc.nodesBetween(et,$t,(Ft,Ut)=>{if(!Ft.isInline)return;Dt++;let Ht=null;if(kt instanceof MarkType){let Kt=Ft.marks,Yt;for(;Yt=kt.isInSet(Kt);)(Ht||(Ht=[])).push(Yt),Kt=Yt.removeFromSet(Kt)}else kt?kt.isInSet(Ft.marks)&&(Ht=[kt]):Ht=Ft.marks;if(Ht&&Ht.length){let Kt=Math.min(Ut+Ft.nodeSize,$t);for(let Yt=0;Yt<Ht.length;Yt++){let Jt=Ht[Yt],Zt;for(let er=0;er<Tt.length;er++){let rr=Tt[er];rr.step==Dt-1&&Jt.eq(Tt[er].style)&&(Zt=rr)}Zt?(Zt.to=Kt,Zt.step=Dt):Tt.push({style:Jt,from:Math.max(Ut,et),to:Kt,step:Dt})}}}),Tt.forEach(Ft=>dt.step(new RemoveMarkStep(Ft.from,Ft.to,Ft.style)))}function clearIncompatible(dt,et,$t,kt=$t.contentMatch,Tt=!0){let Dt=dt.doc.nodeAt(et),Ft=[],Ut=et+1;for(let Ht=0;Ht<Dt.childCount;Ht++){let Kt=Dt.child(Ht),Yt=Ut+Kt.nodeSize,Jt=kt.matchType(Kt.type);if(!Jt)Ft.push(new ReplaceStep(Ut,Yt,Slice.empty));else{kt=Jt;for(let Zt=0;Zt<Kt.marks.length;Zt++)$t.allowsMarkType(Kt.marks[Zt].type)||dt.step(new RemoveMarkStep(Ut,Yt,Kt.marks[Zt]));if(Tt&&Kt.isText&&$t.whitespace!="pre"){let Zt,er=/\r?\n|\r/g,rr;for(;Zt=er.exec(Kt.text);)rr||(rr=new Slice(Fragment.from($t.schema.text(" ",$t.allowedMarks(Kt.marks))),0,0)),Ft.push(new ReplaceStep(Ut+Zt.index,Ut+Zt.index+Zt[0].length,rr))}}Ut=Yt}if(!kt.validEnd){let Ht=kt.fillBefore(Fragment.empty,!0);dt.replace(Ut,Ut,new Slice(Ht,0,0))}for(let Ht=Ft.length-1;Ht>=0;Ht--)dt.step(Ft[Ht])}function canCut(dt,et,$t){return(et==0||dt.canReplace(et,dt.childCount))&&($t==dt.childCount||dt.canReplace(0,$t))}function liftTarget(dt){let $t=dt.parent.content.cutByIndex(dt.startIndex,dt.endIndex);for(let kt=dt.depth;;--kt){let Tt=dt.$from.node(kt),Dt=dt.$from.index(kt),Ft=dt.$to.indexAfter(kt);if(kt<dt.depth&&Tt.canReplace(Dt,Ft,$t))return kt;if(kt==0||Tt.type.spec.isolating||!canCut(Tt,Dt,Ft))break}return null}function lift$2(dt,et,$t){let{$from:kt,$to:Tt,depth:Dt}=et,Ft=kt.before(Dt+1),Ut=Tt.after(Dt+1),Ht=Ft,Kt=Ut,Yt=Fragment.empty,Jt=0;for(let rr=Dt,sr=!1;rr>$t;rr--)sr||kt.index(rr)>0?(sr=!0,Yt=Fragment.from(kt.node(rr).copy(Yt)),Jt++):Ht--;let Zt=Fragment.empty,er=0;for(let rr=Dt,sr=!1;rr>$t;rr--)sr||Tt.after(rr+1)<Tt.end(rr)?(sr=!0,Zt=Fragment.from(Tt.node(rr).copy(Zt)),er++):Kt++;dt.step(new ReplaceAroundStep(Ht,Kt,Ft,Ut,new Slice(Yt.append(Zt),Jt,er),Yt.size-Jt,!0))}function findWrapping(dt,et,$t=null,kt=dt){let Tt=findWrappingOutside(dt,et),Dt=Tt&&findWrappingInside(kt,et);return Dt?Tt.map(withAttrs).concat({type:et,attrs:$t}).concat(Dt.map(withAttrs)):null}function withAttrs(dt){return{type:dt,attrs:null}}function findWrappingOutside(dt,et){let{parent:$t,startIndex:kt,endIndex:Tt}=dt,Dt=$t.contentMatchAt(kt).findWrapping(et);if(!Dt)return null;let Ft=Dt.length?Dt[0]:et;return $t.canReplaceWith(kt,Tt,Ft)?Dt:null}function findWrappingInside(dt,et){let{parent:$t,startIndex:kt,endIndex:Tt}=dt,Dt=$t.child(kt),Ft=et.contentMatch.findWrapping(Dt.type);if(!Ft)return null;let Ht=(Ft.length?Ft[Ft.length-1]:et).contentMatch;for(let Kt=kt;Ht&&Kt<Tt;Kt++)Ht=Ht.matchType($t.child(Kt).type);return!Ht||!Ht.validEnd?null:Ft}function wrap(dt,et,$t){let kt=Fragment.empty;for(let Ft=$t.length-1;Ft>=0;Ft--){if(kt.size){let Ut=$t[Ft].type.contentMatch.matchFragment(kt);if(!Ut||!Ut.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}kt=Fragment.from($t[Ft].type.create($t[Ft].attrs,kt))}let Tt=et.start,Dt=et.end;dt.step(new ReplaceAroundStep(Tt,Dt,Tt,Dt,new Slice(kt,0,0),$t.length,!0))}function setBlockType$1(dt,et,$t,kt,Tt){if(!kt.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let Dt=dt.steps.length;dt.doc.nodesBetween(et,$t,(Ft,Ut)=>{let Ht=typeof Tt=="function"?Tt(Ft):Tt;if(Ft.isTextblock&&!Ft.hasMarkup(kt,Ht)&&canChangeType(dt.doc,dt.mapping.slice(Dt).map(Ut),kt)){let Kt=null;if(kt.schema.linebreakReplacement){let er=kt.whitespace=="pre",rr=!!kt.contentMatch.matchType(kt.schema.linebreakReplacement);er&&!rr?Kt=!1:!er&&rr&&(Kt=!0)}Kt===!1&&replaceLinebreaks(dt,Ft,Ut,Dt),clearIncompatible(dt,dt.mapping.slice(Dt).map(Ut,1),kt,void 0,Kt===null);let Yt=dt.mapping.slice(Dt),Jt=Yt.map(Ut,1),Zt=Yt.map(Ut+Ft.nodeSize,1);return dt.step(new ReplaceAroundStep(Jt,Zt,Jt+1,Zt-1,new Slice(Fragment.from(kt.create(Ht,null,Ft.marks)),0,0),1,!0)),Kt===!0&&replaceNewlines(dt,Ft,Ut,Dt),!1}})}function replaceNewlines(dt,et,$t,kt){et.forEach((Tt,Dt)=>{if(Tt.isText){let Ft,Ut=/\r?\n|\r/g;for(;Ft=Ut.exec(Tt.text);){let Ht=dt.mapping.slice(kt).map($t+1+Dt+Ft.index);dt.replaceWith(Ht,Ht+1,et.type.schema.linebreakReplacement.create())}}})}function replaceLinebreaks(dt,et,$t,kt){et.forEach((Tt,Dt)=>{if(Tt.type==Tt.type.schema.linebreakReplacement){let Ft=dt.mapping.slice(kt).map($t+1+Dt);dt.replaceWith(Ft,Ft+1,et.type.schema.text(`
`))}})}function canChangeType(dt,et,$t){let kt=dt.resolve(et),Tt=kt.index();return kt.parent.canReplaceWith(Tt,Tt+1,$t)}function setNodeMarkup(dt,et,$t,kt,Tt){let Dt=dt.doc.nodeAt(et);if(!Dt)throw new RangeError("No node at given position");$t||($t=Dt.type);let Ft=$t.create(kt,null,Tt||Dt.marks);if(Dt.isLeaf)return dt.replaceWith(et,et+Dt.nodeSize,Ft);if(!$t.validContent(Dt.content))throw new RangeError("Invalid content for node type "+$t.name);dt.step(new ReplaceAroundStep(et,et+Dt.nodeSize,et+1,et+Dt.nodeSize-1,new Slice(Fragment.from(Ft),0,0),1,!0))}function canSplit(dt,et,$t=1,kt){let Tt=dt.resolve(et),Dt=Tt.depth-$t,Ft=kt&&kt[kt.length-1]||Tt.parent;if(Dt<0||Tt.parent.type.spec.isolating||!Tt.parent.canReplace(Tt.index(),Tt.parent.childCount)||!Ft.type.validContent(Tt.parent.content.cutByIndex(Tt.index(),Tt.parent.childCount)))return!1;for(let Kt=Tt.depth-1,Yt=$t-2;Kt>Dt;Kt--,Yt--){let Jt=Tt.node(Kt),Zt=Tt.index(Kt);if(Jt.type.spec.isolating)return!1;let er=Jt.content.cutByIndex(Zt,Jt.childCount),rr=kt&&kt[Yt+1];rr&&(er=er.replaceChild(0,rr.type.create(rr.attrs)));let sr=kt&&kt[Yt]||Jt;if(!Jt.canReplace(Zt+1,Jt.childCount)||!sr.type.validContent(er))return!1}let Ut=Tt.indexAfter(Dt),Ht=kt&&kt[0];return Tt.node(Dt).canReplaceWith(Ut,Ut,Ht?Ht.type:Tt.node(Dt+1).type)}function split(dt,et,$t=1,kt){let Tt=dt.doc.resolve(et),Dt=Fragment.empty,Ft=Fragment.empty;for(let Ut=Tt.depth,Ht=Tt.depth-$t,Kt=$t-1;Ut>Ht;Ut--,Kt--){Dt=Fragment.from(Tt.node(Ut).copy(Dt));let Yt=kt&&kt[Kt];Ft=Fragment.from(Yt?Yt.type.create(Yt.attrs,Ft):Tt.node(Ut).copy(Ft))}dt.step(new ReplaceStep(et,et,new Slice(Dt.append(Ft),$t,$t),!0))}function canJoin(dt,et){let $t=dt.resolve(et),kt=$t.index();return joinable($t.nodeBefore,$t.nodeAfter)&&$t.parent.canReplace(kt,kt+1)}function canAppendWithSubstitutedLinebreaks(dt,et){et.content.size||dt.type.compatibleContent(et.type);let $t=dt.contentMatchAt(dt.childCount),{linebreakReplacement:kt}=dt.type.schema;for(let Tt=0;Tt<et.childCount;Tt++){let Dt=et.child(Tt),Ft=Dt.type==kt?dt.type.schema.nodes.text:Dt.type;if($t=$t.matchType(Ft),!$t||!dt.type.allowsMarks(Dt.marks))return!1}return $t.validEnd}function joinable(dt,et){return!!(dt&&et&&!dt.isLeaf&&canAppendWithSubstitutedLinebreaks(dt,et))}function joinPoint(dt,et,$t=-1){let kt=dt.resolve(et);for(let Tt=kt.depth;;Tt--){let Dt,Ft,Ut=kt.index(Tt);if(Tt==kt.depth?(Dt=kt.nodeBefore,Ft=kt.nodeAfter):$t>0?(Dt=kt.node(Tt+1),Ut++,Ft=kt.node(Tt).maybeChild(Ut)):(Dt=kt.node(Tt).maybeChild(Ut-1),Ft=kt.node(Tt+1)),Dt&&!Dt.isTextblock&&joinable(Dt,Ft)&&kt.node(Tt).canReplace(Ut,Ut+1))return et;if(Tt==0)break;et=$t<0?kt.before(Tt):kt.after(Tt)}}function join(dt,et,$t){let kt=null,{linebreakReplacement:Tt}=dt.doc.type.schema,Dt=dt.doc.resolve(et-$t),Ft=Dt.node().type;if(Tt&&Ft.inlineContent){let Yt=Ft.whitespace=="pre",Jt=!!Ft.contentMatch.matchType(Tt);Yt&&!Jt?kt=!1:!Yt&&Jt&&(kt=!0)}let Ut=dt.steps.length;if(kt===!1){let Yt=dt.doc.resolve(et+$t);replaceLinebreaks(dt,Yt.node(),Yt.before(),Ut)}Ft.inlineContent&&clearIncompatible(dt,et+$t-1,Ft,Dt.node().contentMatchAt(Dt.index()),kt==null);let Ht=dt.mapping.slice(Ut),Kt=Ht.map(et-$t);if(dt.step(new ReplaceStep(Kt,Ht.map(et+$t,-1),Slice.empty,!0)),kt===!0){let Yt=dt.doc.resolve(Kt);replaceNewlines(dt,Yt.node(),Yt.before(),dt.steps.length)}return dt}function insertPoint(dt,et,$t){let kt=dt.resolve(et);if(kt.parent.canReplaceWith(kt.index(),kt.index(),$t))return et;if(kt.parentOffset==0)for(let Tt=kt.depth-1;Tt>=0;Tt--){let Dt=kt.index(Tt);if(kt.node(Tt).canReplaceWith(Dt,Dt,$t))return kt.before(Tt+1);if(Dt>0)return null}if(kt.parentOffset==kt.parent.content.size)for(let Tt=kt.depth-1;Tt>=0;Tt--){let Dt=kt.indexAfter(Tt);if(kt.node(Tt).canReplaceWith(Dt,Dt,$t))return kt.after(Tt+1);if(Dt<kt.node(Tt).childCount)return null}return null}function dropPoint(dt,et,$t){let kt=dt.resolve(et);if(!$t.content.size)return et;let Tt=$t.content;for(let Dt=0;Dt<$t.openStart;Dt++)Tt=Tt.firstChild.content;for(let Dt=1;Dt<=($t.openStart==0&&$t.size?2:1);Dt++)for(let Ft=kt.depth;Ft>=0;Ft--){let Ut=Ft==kt.depth?0:kt.pos<=(kt.start(Ft+1)+kt.end(Ft+1))/2?-1:1,Ht=kt.index(Ft)+(Ut>0?1:0),Kt=kt.node(Ft),Yt=!1;if(Dt==1)Yt=Kt.canReplace(Ht,Ht,Tt);else{let Jt=Kt.contentMatchAt(Ht).findWrapping(Tt.firstChild.type);Yt=Jt&&Kt.canReplaceWith(Ht,Ht,Jt[0])}if(Yt)return Ut==0?kt.pos:Ut<0?kt.before(Ft+1):kt.after(Ft+1)}return null}function replaceStep(dt,et,$t=et,kt=Slice.empty){if(et==$t&&!kt.size)return null;let Tt=dt.resolve(et),Dt=dt.resolve($t);return fitsTrivially(Tt,Dt,kt)?new ReplaceStep(et,$t,kt):new Fitter(Tt,Dt,kt).fit()}function fitsTrivially(dt,et,$t){return!$t.openStart&&!$t.openEnd&&dt.start()==et.start()&&dt.parent.canReplace(dt.index(),et.index(),$t.content)}class Fitter{constructor(et,$t,kt){this.$from=et,this.$to=$t,this.unplaced=kt,this.frontier=[],this.placed=Fragment.empty;for(let Tt=0;Tt<=et.depth;Tt++){let Dt=et.node(Tt);this.frontier.push({type:Dt.type,match:Dt.contentMatchAt(et.indexAfter(Tt))})}for(let Tt=et.depth;Tt>0;Tt--)this.placed=Fragment.from(et.node(Tt).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let Kt=this.findFittable();Kt?this.placeNodes(Kt):this.openMore()||this.dropNode()}let et=this.mustMoveInline(),$t=this.placed.size-this.depth-this.$from.depth,kt=this.$from,Tt=this.close(et<0?this.$to:kt.doc.resolve(et));if(!Tt)return null;let Dt=this.placed,Ft=kt.depth,Ut=Tt.depth;for(;Ft&&Ut&&Dt.childCount==1;)Dt=Dt.firstChild.content,Ft--,Ut--;let Ht=new Slice(Dt,Ft,Ut);return et>-1?new ReplaceAroundStep(kt.pos,et,this.$to.pos,this.$to.end(),Ht,$t):Ht.size||kt.pos!=this.$to.pos?new ReplaceStep(kt.pos,Tt.pos,Ht):null}findFittable(){let et=this.unplaced.openStart;for(let $t=this.unplaced.content,kt=0,Tt=this.unplaced.openEnd;kt<et;kt++){let Dt=$t.firstChild;if($t.childCount>1&&(Tt=0),Dt.type.spec.isolating&&Tt<=kt){et=kt;break}$t=Dt.content}for(let $t=1;$t<=2;$t++)for(let kt=$t==1?et:this.unplaced.openStart;kt>=0;kt--){let Tt,Dt=null;kt?(Dt=contentAt(this.unplaced.content,kt-1).firstChild,Tt=Dt.content):Tt=this.unplaced.content;let Ft=Tt.firstChild;for(let Ut=this.depth;Ut>=0;Ut--){let{type:Ht,match:Kt}=this.frontier[Ut],Yt,Jt=null;if($t==1&&(Ft?Kt.matchType(Ft.type)||(Jt=Kt.fillBefore(Fragment.from(Ft),!1)):Dt&&Ht.compatibleContent(Dt.type)))return{sliceDepth:kt,frontierDepth:Ut,parent:Dt,inject:Jt};if($t==2&&Ft&&(Yt=Kt.findWrapping(Ft.type)))return{sliceDepth:kt,frontierDepth:Ut,parent:Dt,wrap:Yt};if(Dt&&Kt.matchType(Dt.type))break}}}openMore(){let{content:et,openStart:$t,openEnd:kt}=this.unplaced,Tt=contentAt(et,$t);return!Tt.childCount||Tt.firstChild.isLeaf?!1:(this.unplaced=new Slice(et,$t+1,Math.max(kt,Tt.size+$t>=et.size-kt?$t+1:0)),!0)}dropNode(){let{content:et,openStart:$t,openEnd:kt}=this.unplaced,Tt=contentAt(et,$t);if(Tt.childCount<=1&&$t>0){let Dt=et.size-$t<=$t+Tt.size;this.unplaced=new Slice(dropFromFragment(et,$t-1,1),$t-1,Dt?$t-1:kt)}else this.unplaced=new Slice(dropFromFragment(et,$t,1),$t,kt)}placeNodes({sliceDepth:et,frontierDepth:$t,parent:kt,inject:Tt,wrap:Dt}){for(;this.depth>$t;)this.closeFrontierNode();if(Dt)for(let sr=0;sr<Dt.length;sr++)this.openFrontierNode(Dt[sr]);let Ft=this.unplaced,Ut=kt?kt.content:Ft.content,Ht=Ft.openStart-et,Kt=0,Yt=[],{match:Jt,type:Zt}=this.frontier[$t];if(Tt){for(let sr=0;sr<Tt.childCount;sr++)Yt.push(Tt.child(sr));Jt=Jt.matchFragment(Tt)}let er=Ut.size+et-(Ft.content.size-Ft.openEnd);for(;Kt<Ut.childCount;){let sr=Ut.child(Kt),ir=Jt.matchType(sr.type);if(!ir)break;Kt++,(Kt>1||Ht==0||sr.content.size)&&(Jt=ir,Yt.push(closeNodeStart(sr.mark(Zt.allowedMarks(sr.marks)),Kt==1?Ht:0,Kt==Ut.childCount?er:-1)))}let rr=Kt==Ut.childCount;rr||(er=-1),this.placed=addToFragment(this.placed,$t,Fragment.from(Yt)),this.frontier[$t].match=Jt,rr&&er<0&&kt&&kt.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let sr=0,ir=Ut;sr<er;sr++){let nr=ir.lastChild;this.frontier.push({type:nr.type,match:nr.contentMatchAt(nr.childCount)}),ir=nr.content}this.unplaced=rr?et==0?Slice.empty:new Slice(dropFromFragment(Ft.content,et-1,1),et-1,er<0?Ft.openEnd:et-1):new Slice(dropFromFragment(Ft.content,et,Kt),Ft.openStart,Ft.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let et=this.frontier[this.depth],$t;if(!et.type.isTextblock||!contentAfterFits(this.$to,this.$to.depth,et.type,et.match,!1)||this.$to.depth==this.depth&&($t=this.findCloseLevel(this.$to))&&$t.depth==this.depth)return-1;let{depth:kt}=this.$to,Tt=this.$to.after(kt);for(;kt>1&&Tt==this.$to.end(--kt);)++Tt;return Tt}findCloseLevel(et){e:for(let $t=Math.min(this.depth,et.depth);$t>=0;$t--){let{match:kt,type:Tt}=this.frontier[$t],Dt=$t<et.depth&&et.end($t+1)==et.pos+(et.depth-($t+1)),Ft=contentAfterFits(et,$t,Tt,kt,Dt);if(Ft){for(let Ut=$t-1;Ut>=0;Ut--){let{match:Ht,type:Kt}=this.frontier[Ut],Yt=contentAfterFits(et,Ut,Kt,Ht,!0);if(!Yt||Yt.childCount)continue e}return{depth:$t,fit:Ft,move:Dt?et.doc.resolve(et.after($t+1)):et}}}}close(et){let $t=this.findCloseLevel(et);if(!$t)return null;for(;this.depth>$t.depth;)this.closeFrontierNode();$t.fit.childCount&&(this.placed=addToFragment(this.placed,$t.depth,$t.fit)),et=$t.move;for(let kt=$t.depth+1;kt<=et.depth;kt++){let Tt=et.node(kt),Dt=Tt.type.contentMatch.fillBefore(Tt.content,!0,et.index(kt));this.openFrontierNode(Tt.type,Tt.attrs,Dt)}return et}openFrontierNode(et,$t=null,kt){let Tt=this.frontier[this.depth];Tt.match=Tt.match.matchType(et),this.placed=addToFragment(this.placed,this.depth,Fragment.from(et.create($t,kt))),this.frontier.push({type:et,match:et.contentMatch})}closeFrontierNode(){let $t=this.frontier.pop().match.fillBefore(Fragment.empty,!0);$t.childCount&&(this.placed=addToFragment(this.placed,this.frontier.length,$t))}}function dropFromFragment(dt,et,$t){return et==0?dt.cutByIndex($t,dt.childCount):dt.replaceChild(0,dt.firstChild.copy(dropFromFragment(dt.firstChild.content,et-1,$t)))}function addToFragment(dt,et,$t){return et==0?dt.append($t):dt.replaceChild(dt.childCount-1,dt.lastChild.copy(addToFragment(dt.lastChild.content,et-1,$t)))}function contentAt(dt,et){for(let $t=0;$t<et;$t++)dt=dt.firstChild.content;return dt}function closeNodeStart(dt,et,$t){if(et<=0)return dt;let kt=dt.content;return et>1&&(kt=kt.replaceChild(0,closeNodeStart(kt.firstChild,et-1,kt.childCount==1?$t-1:0))),et>0&&(kt=dt.type.contentMatch.fillBefore(kt).append(kt),$t<=0&&(kt=kt.append(dt.type.contentMatch.matchFragment(kt).fillBefore(Fragment.empty,!0)))),dt.copy(kt)}function contentAfterFits(dt,et,$t,kt,Tt){let Dt=dt.node(et),Ft=Tt?dt.indexAfter(et):dt.index(et);if(Ft==Dt.childCount&&!$t.compatibleContent(Dt.type))return null;let Ut=kt.fillBefore(Dt.content,!0,Ft);return Ut&&!invalidMarks($t,Dt.content,Ft)?Ut:null}function invalidMarks(dt,et,$t){for(let kt=$t;kt<et.childCount;kt++)if(!dt.allowsMarks(et.child(kt).marks))return!0;return!1}function definesContent(dt){return dt.spec.defining||dt.spec.definingForContent}function replaceRange(dt,et,$t,kt){if(!kt.size)return dt.deleteRange(et,$t);let Tt=dt.doc.resolve(et),Dt=dt.doc.resolve($t);if(fitsTrivially(Tt,Dt,kt))return dt.step(new ReplaceStep(et,$t,kt));let Ft=coveredDepths(Tt,dt.doc.resolve($t));Ft[Ft.length-1]==0&&Ft.pop();let Ut=-(Tt.depth+1);Ft.unshift(Ut);for(let Zt=Tt.depth,er=Tt.pos-1;Zt>0;Zt--,er--){let rr=Tt.node(Zt).type.spec;if(rr.defining||rr.definingAsContext||rr.isolating)break;Ft.indexOf(Zt)>-1?Ut=Zt:Tt.before(Zt)==er&&Ft.splice(1,0,-Zt)}let Ht=Ft.indexOf(Ut),Kt=[],Yt=kt.openStart;for(let Zt=kt.content,er=0;;er++){let rr=Zt.firstChild;if(Kt.push(rr),er==kt.openStart)break;Zt=rr.content}for(let Zt=Yt-1;Zt>=0;Zt--){let er=Kt[Zt],rr=definesContent(er.type);if(rr&&!er.sameMarkup(Tt.node(Math.abs(Ut)-1)))Yt=Zt;else if(rr||!er.type.isTextblock)break}for(let Zt=kt.openStart;Zt>=0;Zt--){let er=(Zt+Yt+1)%(kt.openStart+1),rr=Kt[er];if(rr)for(let sr=0;sr<Ft.length;sr++){let ir=Ft[(sr+Ht)%Ft.length],nr=!0;ir<0&&(nr=!1,ir=-ir);let or=Tt.node(ir-1),lr=Tt.index(ir-1);if(or.canReplaceWith(lr,lr,rr.type,rr.marks))return dt.replace(Tt.before(ir),nr?Dt.after(ir):$t,new Slice(closeFragment(kt.content,0,kt.openStart,er),er,kt.openEnd))}}let Jt=dt.steps.length;for(let Zt=Ft.length-1;Zt>=0&&(dt.replace(et,$t,kt),!(dt.steps.length>Jt));Zt--){let er=Ft[Zt];er<0||(et=Tt.before(er),$t=Dt.after(er))}}function closeFragment(dt,et,$t,kt,Tt){if(et<$t){let Dt=dt.firstChild;dt=dt.replaceChild(0,Dt.copy(closeFragment(Dt.content,et+1,$t,kt,Dt)))}if(et>kt){let Dt=Tt.contentMatchAt(0),Ft=Dt.fillBefore(dt).append(dt);dt=Ft.append(Dt.matchFragment(Ft).fillBefore(Fragment.empty,!0))}return dt}function replaceRangeWith(dt,et,$t,kt){if(!kt.isInline&&et==$t&&dt.doc.resolve(et).parent.content.size){let Tt=insertPoint(dt.doc,et,kt.type);Tt!=null&&(et=$t=Tt)}dt.replaceRange(et,$t,new Slice(Fragment.from(kt),0,0))}function deleteRange$1(dt,et,$t){let kt=dt.doc.resolve(et),Tt=dt.doc.resolve($t),Dt=coveredDepths(kt,Tt);for(let Ft=0;Ft<Dt.length;Ft++){let Ut=Dt[Ft],Ht=Ft==Dt.length-1;if(Ht&&Ut==0||kt.node(Ut).type.contentMatch.validEnd)return dt.delete(kt.start(Ut),Tt.end(Ut));if(Ut>0&&(Ht||kt.node(Ut-1).canReplace(kt.index(Ut-1),Tt.indexAfter(Ut-1))))return dt.delete(kt.before(Ut),Tt.after(Ut))}for(let Ft=1;Ft<=kt.depth&&Ft<=Tt.depth;Ft++)if(et-kt.start(Ft)==kt.depth-Ft&&$t>kt.end(Ft)&&Tt.end(Ft)-$t!=Tt.depth-Ft&&kt.start(Ft-1)==Tt.start(Ft-1)&&kt.node(Ft-1).canReplace(kt.index(Ft-1),Tt.index(Ft-1)))return dt.delete(kt.before(Ft),$t);dt.delete(et,$t)}function coveredDepths(dt,et){let $t=[],kt=Math.min(dt.depth,et.depth);for(let Tt=kt;Tt>=0;Tt--){let Dt=dt.start(Tt);if(Dt<dt.pos-(dt.depth-Tt)||et.end(Tt)>et.pos+(et.depth-Tt)||dt.node(Tt).type.spec.isolating||et.node(Tt).type.spec.isolating)break;(Dt==et.start(Tt)||Tt==dt.depth&&Tt==et.depth&&dt.parent.inlineContent&&et.parent.inlineContent&&Tt&&et.start(Tt-1)==Dt-1)&&$t.push(Tt)}return $t}class AttrStep extends Step$1{constructor(et,$t,kt){super(),this.pos=et,this.attr=$t,this.value=kt}apply(et){let $t=et.nodeAt(this.pos);if(!$t)return StepResult.fail("No node at attribute step's position");let kt=Object.create(null);for(let Dt in $t.attrs)kt[Dt]=$t.attrs[Dt];kt[this.attr]=this.value;let Tt=$t.type.create(kt,null,$t.marks);return StepResult.fromReplace(et,this.pos,this.pos+1,new Slice(Fragment.from(Tt),0,$t.isLeaf?0:1))}getMap(){return StepMap.empty}invert(et){return new AttrStep(this.pos,this.attr,et.nodeAt(this.pos).attrs[this.attr])}map(et){let $t=et.mapResult(this.pos,1);return $t.deletedAfter?null:new AttrStep($t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(et,$t){if(typeof $t.pos!="number"||typeof $t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new AttrStep($t.pos,$t.attr,$t.value)}}Step$1.jsonID("attr",AttrStep);class DocAttrStep extends Step$1{constructor(et,$t){super(),this.attr=et,this.value=$t}apply(et){let $t=Object.create(null);for(let Tt in et.attrs)$t[Tt]=et.attrs[Tt];$t[this.attr]=this.value;let kt=et.type.create($t,et.content,et.marks);return StepResult.ok(kt)}getMap(){return StepMap.empty}invert(et){return new DocAttrStep(this.attr,et.attrs[this.attr])}map(et){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(et,$t){if(typeof $t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new DocAttrStep($t.attr,$t.value)}}Step$1.jsonID("docAttr",DocAttrStep);let TransformError=class extends Error{};TransformError=function dt(et){let $t=Error.call(this,et);return $t.__proto__=dt.prototype,$t};TransformError.prototype=Object.create(Error.prototype);TransformError.prototype.constructor=TransformError;TransformError.prototype.name="TransformError";class Transform{constructor(et){this.doc=et,this.steps=[],this.docs=[],this.mapping=new Mapping}get before(){return this.docs.length?this.docs[0]:this.doc}step(et){let $t=this.maybeStep(et);if($t.failed)throw new TransformError($t.failed);return this}maybeStep(et){let $t=et.apply(this.doc);return $t.failed||this.addStep(et,$t.doc),$t}get docChanged(){return this.steps.length>0}addStep(et,$t){this.docs.push(this.doc),this.steps.push(et),this.mapping.appendMap(et.getMap()),this.doc=$t}replace(et,$t=et,kt=Slice.empty){let Tt=replaceStep(this.doc,et,$t,kt);return Tt&&this.step(Tt),this}replaceWith(et,$t,kt){return this.replace(et,$t,new Slice(Fragment.from(kt),0,0))}delete(et,$t){return this.replace(et,$t,Slice.empty)}insert(et,$t){return this.replaceWith(et,et,$t)}replaceRange(et,$t,kt){return replaceRange(this,et,$t,kt),this}replaceRangeWith(et,$t,kt){return replaceRangeWith(this,et,$t,kt),this}deleteRange(et,$t){return deleteRange$1(this,et,$t),this}lift(et,$t){return lift$2(this,et,$t),this}join(et,$t=1){return join(this,et,$t),this}wrap(et,$t){return wrap(this,et,$t),this}setBlockType(et,$t=et,kt,Tt=null){return setBlockType$1(this,et,$t,kt,Tt),this}setNodeMarkup(et,$t,kt=null,Tt){return setNodeMarkup(this,et,$t,kt,Tt),this}setNodeAttribute(et,$t,kt){return this.step(new AttrStep(et,$t,kt)),this}setDocAttribute(et,$t){return this.step(new DocAttrStep(et,$t)),this}addNodeMark(et,$t){return this.step(new AddNodeMarkStep(et,$t)),this}removeNodeMark(et,$t){let kt=this.doc.nodeAt(et);if(!kt)throw new RangeError("No node at position "+et);if($t instanceof Mark$1)$t.isInSet(kt.marks)&&this.step(new RemoveNodeMarkStep(et,$t));else{let Tt=kt.marks,Dt,Ft=[];for(;Dt=$t.isInSet(Tt);)Ft.push(new RemoveNodeMarkStep(et,Dt)),Tt=Dt.removeFromSet(Tt);for(let Ut=Ft.length-1;Ut>=0;Ut--)this.step(Ft[Ut])}return this}split(et,$t=1,kt){return split(this,et,$t,kt),this}addMark(et,$t,kt){return addMark(this,et,$t,kt),this}removeMark(et,$t,kt){return removeMark(this,et,$t,kt),this}clearIncompatible(et,$t,kt){return clearIncompatible(this,et,$t,kt),this}}const classesById=Object.create(null);class Selection{constructor(et,$t,kt){this.$anchor=et,this.$head=$t,this.ranges=kt||[new SelectionRange(et.min($t),et.max($t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let et=this.ranges;for(let $t=0;$t<et.length;$t++)if(et[$t].$from.pos!=et[$t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(et,$t=Slice.empty){let kt=$t.content.lastChild,Tt=null;for(let Ut=0;Ut<$t.openEnd;Ut++)Tt=kt,kt=kt.lastChild;let Dt=et.steps.length,Ft=this.ranges;for(let Ut=0;Ut<Ft.length;Ut++){let{$from:Ht,$to:Kt}=Ft[Ut],Yt=et.mapping.slice(Dt);et.replaceRange(Yt.map(Ht.pos),Yt.map(Kt.pos),Ut?Slice.empty:$t),Ut==0&&selectionToInsertionEnd$1(et,Dt,(kt?kt.isInline:Tt&&Tt.isTextblock)?-1:1)}}replaceWith(et,$t){let kt=et.steps.length,Tt=this.ranges;for(let Dt=0;Dt<Tt.length;Dt++){let{$from:Ft,$to:Ut}=Tt[Dt],Ht=et.mapping.slice(kt),Kt=Ht.map(Ft.pos),Yt=Ht.map(Ut.pos);Dt?et.deleteRange(Kt,Yt):(et.replaceRangeWith(Kt,Yt,$t),selectionToInsertionEnd$1(et,kt,$t.isInline?-1:1))}}static findFrom(et,$t,kt=!1){let Tt=et.parent.inlineContent?new TextSelection(et):findSelectionIn(et.node(0),et.parent,et.pos,et.index(),$t,kt);if(Tt)return Tt;for(let Dt=et.depth-1;Dt>=0;Dt--){let Ft=$t<0?findSelectionIn(et.node(0),et.node(Dt),et.before(Dt+1),et.index(Dt),$t,kt):findSelectionIn(et.node(0),et.node(Dt),et.after(Dt+1),et.index(Dt)+1,$t,kt);if(Ft)return Ft}return null}static near(et,$t=1){return this.findFrom(et,$t)||this.findFrom(et,-$t)||new AllSelection(et.node(0))}static atStart(et){return findSelectionIn(et,et,0,0,1)||new AllSelection(et)}static atEnd(et){return findSelectionIn(et,et,et.content.size,et.childCount,-1)||new AllSelection(et)}static fromJSON(et,$t){if(!$t||!$t.type)throw new RangeError("Invalid input for Selection.fromJSON");let kt=classesById[$t.type];if(!kt)throw new RangeError(`No selection type ${$t.type} defined`);return kt.fromJSON(et,$t)}static jsonID(et,$t){if(et in classesById)throw new RangeError("Duplicate use of selection JSON ID "+et);return classesById[et]=$t,$t.prototype.jsonID=et,$t}getBookmark(){return TextSelection.between(this.$anchor,this.$head).getBookmark()}}Selection.prototype.visible=!0;class SelectionRange{constructor(et,$t){this.$from=et,this.$to=$t}}let warnedAboutTextSelection=!1;function checkTextSelection(dt){!warnedAboutTextSelection&&!dt.parent.inlineContent&&(warnedAboutTextSelection=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+dt.parent.type.name+")"))}class TextSelection extends Selection{constructor(et,$t=et){checkTextSelection(et),checkTextSelection($t),super(et,$t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(et,$t){let kt=et.resolve($t.map(this.head));if(!kt.parent.inlineContent)return Selection.near(kt);let Tt=et.resolve($t.map(this.anchor));return new TextSelection(Tt.parent.inlineContent?Tt:kt,kt)}replace(et,$t=Slice.empty){if(super.replace(et,$t),$t==Slice.empty){let kt=this.$from.marksAcross(this.$to);kt&&et.ensureMarks(kt)}}eq(et){return et instanceof TextSelection&&et.anchor==this.anchor&&et.head==this.head}getBookmark(){return new TextBookmark(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(et,$t){if(typeof $t.anchor!="number"||typeof $t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new TextSelection(et.resolve($t.anchor),et.resolve($t.head))}static create(et,$t,kt=$t){let Tt=et.resolve($t);return new this(Tt,kt==$t?Tt:et.resolve(kt))}static between(et,$t,kt){let Tt=et.pos-$t.pos;if((!kt||Tt)&&(kt=Tt>=0?1:-1),!$t.parent.inlineContent){let Dt=Selection.findFrom($t,kt,!0)||Selection.findFrom($t,-kt,!0);if(Dt)$t=Dt.$head;else return Selection.near($t,kt)}return et.parent.inlineContent||(Tt==0?et=$t:(et=(Selection.findFrom(et,-kt,!0)||Selection.findFrom(et,kt,!0)).$anchor,et.pos<$t.pos!=Tt<0&&(et=$t))),new TextSelection(et,$t)}}Selection.jsonID("text",TextSelection);class TextBookmark{constructor(et,$t){this.anchor=et,this.head=$t}map(et){return new TextBookmark(et.map(this.anchor),et.map(this.head))}resolve(et){return TextSelection.between(et.resolve(this.anchor),et.resolve(this.head))}}class NodeSelection extends Selection{constructor(et){let $t=et.nodeAfter,kt=et.node(0).resolve(et.pos+$t.nodeSize);super(et,kt),this.node=$t}map(et,$t){let{deleted:kt,pos:Tt}=$t.mapResult(this.anchor),Dt=et.resolve(Tt);return kt?Selection.near(Dt):new NodeSelection(Dt)}content(){return new Slice(Fragment.from(this.node),0,0)}eq(et){return et instanceof NodeSelection&&et.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new NodeBookmark(this.anchor)}static fromJSON(et,$t){if(typeof $t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new NodeSelection(et.resolve($t.anchor))}static create(et,$t){return new NodeSelection(et.resolve($t))}static isSelectable(et){return!et.isText&&et.type.spec.selectable!==!1}}NodeSelection.prototype.visible=!1;Selection.jsonID("node",NodeSelection);class NodeBookmark{constructor(et){this.anchor=et}map(et){let{deleted:$t,pos:kt}=et.mapResult(this.anchor);return $t?new TextBookmark(kt,kt):new NodeBookmark(kt)}resolve(et){let $t=et.resolve(this.anchor),kt=$t.nodeAfter;return kt&&NodeSelection.isSelectable(kt)?new NodeSelection($t):Selection.near($t)}}class AllSelection extends Selection{constructor(et){super(et.resolve(0),et.resolve(et.content.size))}replace(et,$t=Slice.empty){if($t==Slice.empty){et.delete(0,et.doc.content.size);let kt=Selection.atStart(et.doc);kt.eq(et.selection)||et.setSelection(kt)}else super.replace(et,$t)}toJSON(){return{type:"all"}}static fromJSON(et){return new AllSelection(et)}map(et){return new AllSelection(et)}eq(et){return et instanceof AllSelection}getBookmark(){return AllBookmark}}Selection.jsonID("all",AllSelection);const AllBookmark={map(){return this},resolve(dt){return new AllSelection(dt)}};function findSelectionIn(dt,et,$t,kt,Tt,Dt=!1){if(et.inlineContent)return TextSelection.create(dt,$t);for(let Ft=kt-(Tt>0?0:1);Tt>0?Ft<et.childCount:Ft>=0;Ft+=Tt){let Ut=et.child(Ft);if(Ut.isAtom){if(!Dt&&NodeSelection.isSelectable(Ut))return NodeSelection.create(dt,$t-(Tt<0?Ut.nodeSize:0))}else{let Ht=findSelectionIn(dt,Ut,$t+Tt,Tt<0?Ut.childCount:0,Tt,Dt);if(Ht)return Ht}$t+=Ut.nodeSize*Tt}return null}function selectionToInsertionEnd$1(dt,et,$t){let kt=dt.steps.length-1;if(kt<et)return;let Tt=dt.steps[kt];if(!(Tt instanceof ReplaceStep||Tt instanceof ReplaceAroundStep))return;let Dt=dt.mapping.maps[kt],Ft;Dt.forEach((Ut,Ht,Kt,Yt)=>{Ft==null&&(Ft=Yt)}),dt.setSelection(Selection.near(dt.doc.resolve(Ft),$t))}const UPDATED_SEL=1,UPDATED_MARKS=2,UPDATED_SCROLL=4;class Transaction extends Transform{constructor(et){super(et.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=et.selection,this.storedMarks=et.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(et){if(et.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=et,this.curSelectionFor=this.steps.length,this.updated=(this.updated|UPDATED_SEL)&~UPDATED_MARKS,this.storedMarks=null,this}get selectionSet(){return(this.updated&UPDATED_SEL)>0}setStoredMarks(et){return this.storedMarks=et,this.updated|=UPDATED_MARKS,this}ensureMarks(et){return Mark$1.sameSet(this.storedMarks||this.selection.$from.marks(),et)||this.setStoredMarks(et),this}addStoredMark(et){return this.ensureMarks(et.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(et){return this.ensureMarks(et.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&UPDATED_MARKS)>0}addStep(et,$t){super.addStep(et,$t),this.updated=this.updated&~UPDATED_MARKS,this.storedMarks=null}setTime(et){return this.time=et,this}replaceSelection(et){return this.selection.replace(this,et),this}replaceSelectionWith(et,$t=!0){let kt=this.selection;return $t&&(et=et.mark(this.storedMarks||(kt.empty?kt.$from.marks():kt.$from.marksAcross(kt.$to)||Mark$1.none))),kt.replaceWith(this,et),this}deleteSelection(){return this.selection.replace(this),this}insertText(et,$t,kt){let Tt=this.doc.type.schema;if($t==null)return et?this.replaceSelectionWith(Tt.text(et),!0):this.deleteSelection();{if(kt==null&&(kt=$t),kt=kt??$t,!et)return this.deleteRange($t,kt);let Dt=this.storedMarks;if(!Dt){let Ft=this.doc.resolve($t);Dt=kt==$t?Ft.marks():Ft.marksAcross(this.doc.resolve(kt))}return this.replaceRangeWith($t,kt,Tt.text(et,Dt)),this.selection.empty||this.setSelection(Selection.near(this.selection.$to)),this}}setMeta(et,$t){return this.meta[typeof et=="string"?et:et.key]=$t,this}getMeta(et){return this.meta[typeof et=="string"?et:et.key]}get isGeneric(){for(let et in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=UPDATED_SCROLL,this}get scrolledIntoView(){return(this.updated&UPDATED_SCROLL)>0}}function bind(dt,et){return!et||!dt?dt:dt.bind(et)}class FieldDesc{constructor(et,$t,kt){this.name=et,this.init=bind($t.init,kt),this.apply=bind($t.apply,kt)}}const baseFields=[new FieldDesc("doc",{init(dt){return dt.doc||dt.schema.topNodeType.createAndFill()},apply(dt){return dt.doc}}),new FieldDesc("selection",{init(dt,et){return dt.selection||Selection.atStart(et.doc)},apply(dt){return dt.selection}}),new FieldDesc("storedMarks",{init(dt){return dt.storedMarks||null},apply(dt,et,$t,kt){return kt.selection.$cursor?dt.storedMarks:null}}),new FieldDesc("scrollToSelection",{init(){return 0},apply(dt,et){return dt.scrolledIntoView?et+1:et}})];class Configuration{constructor(et,$t){this.schema=et,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=baseFields.slice(),$t&&$t.forEach(kt=>{if(this.pluginsByKey[kt.key])throw new RangeError("Adding different instances of a keyed plugin ("+kt.key+")");this.plugins.push(kt),this.pluginsByKey[kt.key]=kt,kt.spec.state&&this.fields.push(new FieldDesc(kt.key,kt.spec.state,kt))})}}class EditorState{constructor(et){this.config=et}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(et){return this.applyTransaction(et).state}filterTransaction(et,$t=-1){for(let kt=0;kt<this.config.plugins.length;kt++)if(kt!=$t){let Tt=this.config.plugins[kt];if(Tt.spec.filterTransaction&&!Tt.spec.filterTransaction.call(Tt,et,this))return!1}return!0}applyTransaction(et){if(!this.filterTransaction(et))return{state:this,transactions:[]};let $t=[et],kt=this.applyInner(et),Tt=null;for(;;){let Dt=!1;for(let Ft=0;Ft<this.config.plugins.length;Ft++){let Ut=this.config.plugins[Ft];if(Ut.spec.appendTransaction){let Ht=Tt?Tt[Ft].n:0,Kt=Tt?Tt[Ft].state:this,Yt=Ht<$t.length&&Ut.spec.appendTransaction.call(Ut,Ht?$t.slice(Ht):$t,Kt,kt);if(Yt&&kt.filterTransaction(Yt,Ft)){if(Yt.setMeta("appendedTransaction",et),!Tt){Tt=[];for(let Jt=0;Jt<this.config.plugins.length;Jt++)Tt.push(Jt<Ft?{state:kt,n:$t.length}:{state:this,n:0})}$t.push(Yt),kt=kt.applyInner(Yt),Dt=!0}Tt&&(Tt[Ft]={state:kt,n:$t.length})}}if(!Dt)return{state:kt,transactions:$t}}}applyInner(et){if(!et.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let $t=new EditorState(this.config),kt=this.config.fields;for(let Tt=0;Tt<kt.length;Tt++){let Dt=kt[Tt];$t[Dt.name]=Dt.apply(et,this[Dt.name],this,$t)}return $t}get tr(){return new Transaction(this)}static create(et){let $t=new Configuration(et.doc?et.doc.type.schema:et.schema,et.plugins),kt=new EditorState($t);for(let Tt=0;Tt<$t.fields.length;Tt++)kt[$t.fields[Tt].name]=$t.fields[Tt].init(et,kt);return kt}reconfigure(et){let $t=new Configuration(this.schema,et.plugins),kt=$t.fields,Tt=new EditorState($t);for(let Dt=0;Dt<kt.length;Dt++){let Ft=kt[Dt].name;Tt[Ft]=this.hasOwnProperty(Ft)?this[Ft]:kt[Dt].init(et,Tt)}return Tt}toJSON(et){let $t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&($t.storedMarks=this.storedMarks.map(kt=>kt.toJSON())),et&&typeof et=="object")for(let kt in et){if(kt=="doc"||kt=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let Tt=et[kt],Dt=Tt.spec.state;Dt&&Dt.toJSON&&($t[kt]=Dt.toJSON.call(Tt,this[Tt.key]))}return $t}static fromJSON(et,$t,kt){if(!$t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!et.schema)throw new RangeError("Required config field 'schema' missing");let Tt=new Configuration(et.schema,et.plugins),Dt=new EditorState(Tt);return Tt.fields.forEach(Ft=>{if(Ft.name=="doc")Dt.doc=Node$1.fromJSON(et.schema,$t.doc);else if(Ft.name=="selection")Dt.selection=Selection.fromJSON(Dt.doc,$t.selection);else if(Ft.name=="storedMarks")$t.storedMarks&&(Dt.storedMarks=$t.storedMarks.map(et.schema.markFromJSON));else{if(kt)for(let Ut in kt){let Ht=kt[Ut],Kt=Ht.spec.state;if(Ht.key==Ft.name&&Kt&&Kt.fromJSON&&Object.prototype.hasOwnProperty.call($t,Ut)){Dt[Ft.name]=Kt.fromJSON.call(Ht,et,$t[Ut],Dt);return}}Dt[Ft.name]=Ft.init(et,Dt)}}),Dt}}function bindProps(dt,et,$t){for(let kt in dt){let Tt=dt[kt];Tt instanceof Function?Tt=Tt.bind(et):kt=="handleDOMEvents"&&(Tt=bindProps(Tt,et,{})),$t[kt]=Tt}return $t}class Plugin{constructor(et){this.spec=et,this.props={},et.props&&bindProps(et.props,this,this.props),this.key=et.key?et.key.key:createKey("plugin")}getState(et){return et[this.key]}}const keys$6=Object.create(null);function createKey(dt){return dt in keys$6?dt+"$"+ ++keys$6[dt]:(keys$6[dt]=0,dt+"$")}class PluginKey{constructor(et="key"){this.key=createKey(et)}get(et){return et.config.pluginsByKey[this.key]}getState(et){return et[this.key]}}const deleteSelection$1=(dt,et)=>dt.selection.empty?!1:(et&&et(dt.tr.deleteSelection().scrollIntoView()),!0);function atBlockStart(dt,et){let{$cursor:$t}=dt.selection;return!$t||(et?!et.endOfTextblock("backward",dt):$t.parentOffset>0)?null:$t}const joinBackward$1=(dt,et,$t)=>{let kt=atBlockStart(dt,$t);if(!kt)return!1;let Tt=findCutBefore(kt);if(!Tt){let Ft=kt.blockRange(),Ut=Ft&&liftTarget(Ft);return Ut==null?!1:(et&&et(dt.tr.lift(Ft,Ut).scrollIntoView()),!0)}let Dt=Tt.nodeBefore;if(deleteBarrier(dt,Tt,et,-1))return!0;if(kt.parent.content.size==0&&(textblockAt(Dt,"end")||NodeSelection.isSelectable(Dt)))for(let Ft=kt.depth;;Ft--){let Ut=replaceStep(dt.doc,kt.before(Ft),kt.after(Ft),Slice.empty);if(Ut&&Ut.slice.size<Ut.to-Ut.from){if(et){let Ht=dt.tr.step(Ut);Ht.setSelection(textblockAt(Dt,"end")?Selection.findFrom(Ht.doc.resolve(Ht.mapping.map(Tt.pos,-1)),-1):NodeSelection.create(Ht.doc,Tt.pos-Dt.nodeSize)),et(Ht.scrollIntoView())}return!0}if(Ft==1||kt.node(Ft-1).childCount>1)break}return Dt.isAtom&&Tt.depth==kt.depth-1?(et&&et(dt.tr.delete(Tt.pos-Dt.nodeSize,Tt.pos).scrollIntoView()),!0):!1},joinTextblockBackward$1=(dt,et,$t)=>{let kt=atBlockStart(dt,$t);if(!kt)return!1;let Tt=findCutBefore(kt);return Tt?joinTextblocksAround(dt,Tt,et):!1},joinTextblockForward$1=(dt,et,$t)=>{let kt=atBlockEnd(dt,$t);if(!kt)return!1;let Tt=findCutAfter(kt);return Tt?joinTextblocksAround(dt,Tt,et):!1};function joinTextblocksAround(dt,et,$t){let kt=et.nodeBefore,Tt=kt,Dt=et.pos-1;for(;!Tt.isTextblock;Dt--){if(Tt.type.spec.isolating)return!1;let Yt=Tt.lastChild;if(!Yt)return!1;Tt=Yt}let Ft=et.nodeAfter,Ut=Ft,Ht=et.pos+1;for(;!Ut.isTextblock;Ht++){if(Ut.type.spec.isolating)return!1;let Yt=Ut.firstChild;if(!Yt)return!1;Ut=Yt}let Kt=replaceStep(dt.doc,Dt,Ht,Slice.empty);if(!Kt||Kt.from!=Dt||Kt instanceof ReplaceStep&&Kt.slice.size>=Ht-Dt)return!1;if($t){let Yt=dt.tr.step(Kt);Yt.setSelection(TextSelection.create(Yt.doc,Dt)),$t(Yt.scrollIntoView())}return!0}function textblockAt(dt,et,$t=!1){for(let kt=dt;kt;kt=et=="start"?kt.firstChild:kt.lastChild){if(kt.isTextblock)return!0;if($t&&kt.childCount!=1)return!1}return!1}const selectNodeBackward$1=(dt,et,$t)=>{let{$head:kt,empty:Tt}=dt.selection,Dt=kt;if(!Tt)return!1;if(kt.parent.isTextblock){if($t?!$t.endOfTextblock("backward",dt):kt.parentOffset>0)return!1;Dt=findCutBefore(kt)}let Ft=Dt&&Dt.nodeBefore;return!Ft||!NodeSelection.isSelectable(Ft)?!1:(et&&et(dt.tr.setSelection(NodeSelection.create(dt.doc,Dt.pos-Ft.nodeSize)).scrollIntoView()),!0)};function findCutBefore(dt){if(!dt.parent.type.spec.isolating)for(let et=dt.depth-1;et>=0;et--){if(dt.index(et)>0)return dt.doc.resolve(dt.before(et+1));if(dt.node(et).type.spec.isolating)break}return null}function atBlockEnd(dt,et){let{$cursor:$t}=dt.selection;return!$t||(et?!et.endOfTextblock("forward",dt):$t.parentOffset<$t.parent.content.size)?null:$t}const joinForward$1=(dt,et,$t)=>{let kt=atBlockEnd(dt,$t);if(!kt)return!1;let Tt=findCutAfter(kt);if(!Tt)return!1;let Dt=Tt.nodeAfter;if(deleteBarrier(dt,Tt,et,1))return!0;if(kt.parent.content.size==0&&(textblockAt(Dt,"start")||NodeSelection.isSelectable(Dt))){let Ft=replaceStep(dt.doc,kt.before(),kt.after(),Slice.empty);if(Ft&&Ft.slice.size<Ft.to-Ft.from){if(et){let Ut=dt.tr.step(Ft);Ut.setSelection(textblockAt(Dt,"start")?Selection.findFrom(Ut.doc.resolve(Ut.mapping.map(Tt.pos)),1):NodeSelection.create(Ut.doc,Ut.mapping.map(Tt.pos))),et(Ut.scrollIntoView())}return!0}}return Dt.isAtom&&Tt.depth==kt.depth-1?(et&&et(dt.tr.delete(Tt.pos,Tt.pos+Dt.nodeSize).scrollIntoView()),!0):!1},selectNodeForward$1=(dt,et,$t)=>{let{$head:kt,empty:Tt}=dt.selection,Dt=kt;if(!Tt)return!1;if(kt.parent.isTextblock){if($t?!$t.endOfTextblock("forward",dt):kt.parentOffset<kt.parent.content.size)return!1;Dt=findCutAfter(kt)}let Ft=Dt&&Dt.nodeAfter;return!Ft||!NodeSelection.isSelectable(Ft)?!1:(et&&et(dt.tr.setSelection(NodeSelection.create(dt.doc,Dt.pos)).scrollIntoView()),!0)};function findCutAfter(dt){if(!dt.parent.type.spec.isolating)for(let et=dt.depth-1;et>=0;et--){let $t=dt.node(et);if(dt.index(et)+1<$t.childCount)return dt.doc.resolve(dt.after(et+1));if($t.type.spec.isolating)break}return null}const joinUp$1=(dt,et)=>{let $t=dt.selection,kt=$t instanceof NodeSelection,Tt;if(kt){if($t.node.isTextblock||!canJoin(dt.doc,$t.from))return!1;Tt=$t.from}else if(Tt=joinPoint(dt.doc,$t.from,-1),Tt==null)return!1;if(et){let Dt=dt.tr.join(Tt);kt&&Dt.setSelection(NodeSelection.create(Dt.doc,Tt-dt.doc.resolve(Tt).nodeBefore.nodeSize)),et(Dt.scrollIntoView())}return!0},joinDown$1=(dt,et)=>{let $t=dt.selection,kt;if($t instanceof NodeSelection){if($t.node.isTextblock||!canJoin(dt.doc,$t.to))return!1;kt=$t.to}else if(kt=joinPoint(dt.doc,$t.to,1),kt==null)return!1;return et&&et(dt.tr.join(kt).scrollIntoView()),!0},lift$1=(dt,et)=>{let{$from:$t,$to:kt}=dt.selection,Tt=$t.blockRange(kt),Dt=Tt&&liftTarget(Tt);return Dt==null?!1:(et&&et(dt.tr.lift(Tt,Dt).scrollIntoView()),!0)},newlineInCode$1=(dt,et)=>{let{$head:$t,$anchor:kt}=dt.selection;return!$t.parent.type.spec.code||!$t.sameParent(kt)?!1:(et&&et(dt.tr.insertText(`
`).scrollIntoView()),!0)};function defaultBlockAt$1(dt){for(let et=0;et<dt.edgeCount;et++){let{type:$t}=dt.edge(et);if($t.isTextblock&&!$t.hasRequiredAttrs())return $t}return null}const exitCode$1=(dt,et)=>{let{$head:$t,$anchor:kt}=dt.selection;if(!$t.parent.type.spec.code||!$t.sameParent(kt))return!1;let Tt=$t.node(-1),Dt=$t.indexAfter(-1),Ft=defaultBlockAt$1(Tt.contentMatchAt(Dt));if(!Ft||!Tt.canReplaceWith(Dt,Dt,Ft))return!1;if(et){let Ut=$t.after(),Ht=dt.tr.replaceWith(Ut,Ut,Ft.createAndFill());Ht.setSelection(Selection.near(Ht.doc.resolve(Ut),1)),et(Ht.scrollIntoView())}return!0},createParagraphNear$1=(dt,et)=>{let $t=dt.selection,{$from:kt,$to:Tt}=$t;if($t instanceof AllSelection||kt.parent.inlineContent||Tt.parent.inlineContent)return!1;let Dt=defaultBlockAt$1(Tt.parent.contentMatchAt(Tt.indexAfter()));if(!Dt||!Dt.isTextblock)return!1;if(et){let Ft=(!kt.parentOffset&&Tt.index()<Tt.parent.childCount?kt:Tt).pos,Ut=dt.tr.insert(Ft,Dt.createAndFill());Ut.setSelection(TextSelection.create(Ut.doc,Ft+1)),et(Ut.scrollIntoView())}return!0},liftEmptyBlock$1=(dt,et)=>{let{$cursor:$t}=dt.selection;if(!$t||$t.parent.content.size)return!1;if($t.depth>1&&$t.after()!=$t.end(-1)){let Dt=$t.before();if(canSplit(dt.doc,Dt))return et&&et(dt.tr.split(Dt).scrollIntoView()),!0}let kt=$t.blockRange(),Tt=kt&&liftTarget(kt);return Tt==null?!1:(et&&et(dt.tr.lift(kt,Tt).scrollIntoView()),!0)},selectParentNode$1=(dt,et)=>{let{$from:$t,to:kt}=dt.selection,Tt,Dt=$t.sharedDepth(kt);return Dt==0?!1:(Tt=$t.before(Dt),et&&et(dt.tr.setSelection(NodeSelection.create(dt.doc,Tt))),!0)};function joinMaybeClear(dt,et,$t){let kt=et.nodeBefore,Tt=et.nodeAfter,Dt=et.index();return!kt||!Tt||!kt.type.compatibleContent(Tt.type)?!1:!kt.content.size&&et.parent.canReplace(Dt-1,Dt)?($t&&$t(dt.tr.delete(et.pos-kt.nodeSize,et.pos).scrollIntoView()),!0):!et.parent.canReplace(Dt,Dt+1)||!(Tt.isTextblock||canJoin(dt.doc,et.pos))?!1:($t&&$t(dt.tr.join(et.pos).scrollIntoView()),!0)}function deleteBarrier(dt,et,$t,kt){let Tt=et.nodeBefore,Dt=et.nodeAfter,Ft,Ut,Ht=Tt.type.spec.isolating||Dt.type.spec.isolating;if(!Ht&&joinMaybeClear(dt,et,$t))return!0;let Kt=!Ht&&et.parent.canReplace(et.index(),et.index()+1);if(Kt&&(Ft=(Ut=Tt.contentMatchAt(Tt.childCount)).findWrapping(Dt.type))&&Ut.matchType(Ft[0]||Dt.type).validEnd){if($t){let er=et.pos+Dt.nodeSize,rr=Fragment.empty;for(let nr=Ft.length-1;nr>=0;nr--)rr=Fragment.from(Ft[nr].create(null,rr));rr=Fragment.from(Tt.copy(rr));let sr=dt.tr.step(new ReplaceAroundStep(et.pos-1,er,et.pos,er,new Slice(rr,1,0),Ft.length,!0)),ir=sr.doc.resolve(er+2*Ft.length);ir.nodeAfter&&ir.nodeAfter.type==Tt.type&&canJoin(sr.doc,ir.pos)&&sr.join(ir.pos),$t(sr.scrollIntoView())}return!0}let Yt=Dt.type.spec.isolating||kt>0&&Ht?null:Selection.findFrom(et,1),Jt=Yt&&Yt.$from.blockRange(Yt.$to),Zt=Jt&&liftTarget(Jt);if(Zt!=null&&Zt>=et.depth)return $t&&$t(dt.tr.lift(Jt,Zt).scrollIntoView()),!0;if(Kt&&textblockAt(Dt,"start",!0)&&textblockAt(Tt,"end")){let er=Tt,rr=[];for(;rr.push(er),!er.isTextblock;)er=er.lastChild;let sr=Dt,ir=1;for(;!sr.isTextblock;sr=sr.firstChild)ir++;if(er.canReplace(er.childCount,er.childCount,sr.content)){if($t){let nr=Fragment.empty;for(let lr=rr.length-1;lr>=0;lr--)nr=Fragment.from(rr[lr].copy(nr));let or=dt.tr.step(new ReplaceAroundStep(et.pos-rr.length,et.pos+Dt.nodeSize,et.pos+ir,et.pos+Dt.nodeSize-ir,new Slice(nr,rr.length,0),0,!0));$t(or.scrollIntoView())}return!0}}return!1}function selectTextblockSide(dt){return function(et,$t){let kt=et.selection,Tt=dt<0?kt.$from:kt.$to,Dt=Tt.depth;for(;Tt.node(Dt).isInline;){if(!Dt)return!1;Dt--}return Tt.node(Dt).isTextblock?($t&&$t(et.tr.setSelection(TextSelection.create(et.doc,dt<0?Tt.start(Dt):Tt.end(Dt)))),!0):!1}}const selectTextblockStart$1=selectTextblockSide(-1),selectTextblockEnd$1=selectTextblockSide(1);function wrapIn$1(dt,et=null){return function($t,kt){let{$from:Tt,$to:Dt}=$t.selection,Ft=Tt.blockRange(Dt),Ut=Ft&&findWrapping(Ft,dt,et);return Ut?(kt&&kt($t.tr.wrap(Ft,Ut).scrollIntoView()),!0):!1}}function setBlockType(dt,et=null){return function($t,kt){let Tt=!1;for(let Dt=0;Dt<$t.selection.ranges.length&&!Tt;Dt++){let{$from:{pos:Ft},$to:{pos:Ut}}=$t.selection.ranges[Dt];$t.doc.nodesBetween(Ft,Ut,(Ht,Kt)=>{if(Tt)return!1;if(!(!Ht.isTextblock||Ht.hasMarkup(dt,et)))if(Ht.type==dt)Tt=!0;else{let Yt=$t.doc.resolve(Kt),Jt=Yt.index();Tt=Yt.parent.canReplaceWith(Jt,Jt+1,dt)}})}if(!Tt)return!1;if(kt){let Dt=$t.tr;for(let Ft=0;Ft<$t.selection.ranges.length;Ft++){let{$from:{pos:Ut},$to:{pos:Ht}}=$t.selection.ranges[Ft];Dt.setBlockType(Ut,Ht,dt,et)}kt(Dt.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function wrapInList$1(dt,et=null){return function($t,kt){let{$from:Tt,$to:Dt}=$t.selection,Ft=Tt.blockRange(Dt);if(!Ft)return!1;let Ut=kt?$t.tr:null;return wrapRangeInList(Ut,Ft,dt,et)?(kt&&kt(Ut.scrollIntoView()),!0):!1}}function wrapRangeInList(dt,et,$t,kt=null){let Tt=!1,Dt=et,Ft=et.$from.doc;if(et.depth>=2&&et.$from.node(et.depth-1).type.compatibleContent($t)&&et.startIndex==0){if(et.$from.index(et.depth-1)==0)return!1;let Ht=Ft.resolve(et.start-2);Dt=new NodeRange(Ht,Ht,et.depth),et.endIndex<et.parent.childCount&&(et=new NodeRange(et.$from,Ft.resolve(et.$to.end(et.depth)),et.depth)),Tt=!0}let Ut=findWrapping(Dt,$t,kt,et);return Ut?(dt&&doWrapInList(dt,et,Ut,Tt,$t),!0):!1}function doWrapInList(dt,et,$t,kt,Tt){let Dt=Fragment.empty;for(let Yt=$t.length-1;Yt>=0;Yt--)Dt=Fragment.from($t[Yt].type.create($t[Yt].attrs,Dt));dt.step(new ReplaceAroundStep(et.start-(kt?2:0),et.end,et.start,et.end,new Slice(Dt,0,0),$t.length,!0));let Ft=0;for(let Yt=0;Yt<$t.length;Yt++)$t[Yt].type==Tt&&(Ft=Yt+1);let Ut=$t.length-Ft,Ht=et.start+$t.length-(kt?2:0),Kt=et.parent;for(let Yt=et.startIndex,Jt=et.endIndex,Zt=!0;Yt<Jt;Yt++,Zt=!1)!Zt&&canSplit(dt.doc,Ht,Ut)&&(dt.split(Ht,Ut),Ht+=2*Ut),Ht+=Kt.child(Yt).nodeSize;return dt}function liftListItem$1(dt){return function(et,$t){let{$from:kt,$to:Tt}=et.selection,Dt=kt.blockRange(Tt,Ft=>Ft.childCount>0&&Ft.firstChild.type==dt);return Dt?$t?kt.node(Dt.depth-1).type==dt?liftToOuterList(et,$t,dt,Dt):liftOutOfList(et,$t,Dt):!0:!1}}function liftToOuterList(dt,et,$t,kt){let Tt=dt.tr,Dt=kt.end,Ft=kt.$to.end(kt.depth);Dt<Ft&&(Tt.step(new ReplaceAroundStep(Dt-1,Ft,Dt,Ft,new Slice(Fragment.from($t.create(null,kt.parent.copy())),1,0),1,!0)),kt=new NodeRange(Tt.doc.resolve(kt.$from.pos),Tt.doc.resolve(Ft),kt.depth));const Ut=liftTarget(kt);if(Ut==null)return!1;Tt.lift(kt,Ut);let Ht=Tt.doc.resolve(Tt.mapping.map(Dt,-1)-1);return canJoin(Tt.doc,Ht.pos)&&Ht.nodeBefore.type==Ht.nodeAfter.type&&Tt.join(Ht.pos),et(Tt.scrollIntoView()),!0}function liftOutOfList(dt,et,$t){let kt=dt.tr,Tt=$t.parent;for(let er=$t.end,rr=$t.endIndex-1,sr=$t.startIndex;rr>sr;rr--)er-=Tt.child(rr).nodeSize,kt.delete(er-1,er+1);let Dt=kt.doc.resolve($t.start),Ft=Dt.nodeAfter;if(kt.mapping.map($t.end)!=$t.start+Dt.nodeAfter.nodeSize)return!1;let Ut=$t.startIndex==0,Ht=$t.endIndex==Tt.childCount,Kt=Dt.node(-1),Yt=Dt.index(-1);if(!Kt.canReplace(Yt+(Ut?0:1),Yt+1,Ft.content.append(Ht?Fragment.empty:Fragment.from(Tt))))return!1;let Jt=Dt.pos,Zt=Jt+Ft.nodeSize;return kt.step(new ReplaceAroundStep(Jt-(Ut?1:0),Zt+(Ht?1:0),Jt+1,Zt-1,new Slice((Ut?Fragment.empty:Fragment.from(Tt.copy(Fragment.empty))).append(Ht?Fragment.empty:Fragment.from(Tt.copy(Fragment.empty))),Ut?0:1,Ht?0:1),Ut?0:1)),et(kt.scrollIntoView()),!0}function sinkListItem$1(dt){return function(et,$t){let{$from:kt,$to:Tt}=et.selection,Dt=kt.blockRange(Tt,Kt=>Kt.childCount>0&&Kt.firstChild.type==dt);if(!Dt)return!1;let Ft=Dt.startIndex;if(Ft==0)return!1;let Ut=Dt.parent,Ht=Ut.child(Ft-1);if(Ht.type!=dt)return!1;if($t){let Kt=Ht.lastChild&&Ht.lastChild.type==Ut.type,Yt=Fragment.from(Kt?dt.create():null),Jt=new Slice(Fragment.from(dt.create(null,Fragment.from(Ut.type.create(null,Yt)))),Kt?3:1,0),Zt=Dt.start,er=Dt.end;$t(et.tr.step(new ReplaceAroundStep(Zt-(Kt?3:1),er,Zt,er,Jt,1,!0)).scrollIntoView())}return!0}}const domIndex=function(dt){for(var et=0;;et++)if(dt=dt.previousSibling,!dt)return et},parentNode=function(dt){let et=dt.assignedSlot||dt.parentNode;return et&&et.nodeType==11?et.host:et};let reusedRange=null;const textRange=function(dt,et,$t){let kt=reusedRange||(reusedRange=document.createRange());return kt.setEnd(dt,$t??dt.nodeValue.length),kt.setStart(dt,et||0),kt},clearReusedRange=function(){reusedRange=null},isEquivalentPosition=function(dt,et,$t,kt){return $t&&(scanFor(dt,et,$t,kt,-1)||scanFor(dt,et,$t,kt,1))},atomElements=/^(img|br|input|textarea|hr)$/i;function scanFor(dt,et,$t,kt,Tt){for(var Dt;;){if(dt==$t&&et==kt)return!0;if(et==(Tt<0?0:nodeSize(dt))){let Ft=dt.parentNode;if(!Ft||Ft.nodeType!=1||hasBlockDesc(dt)||atomElements.test(dt.nodeName)||dt.contentEditable=="false")return!1;et=domIndex(dt)+(Tt<0?0:1),dt=Ft}else if(dt.nodeType==1){let Ft=dt.childNodes[et+(Tt<0?-1:0)];if(Ft.nodeType==1&&Ft.contentEditable=="false")if(!((Dt=Ft.pmViewDesc)===null||Dt===void 0)&&Dt.ignoreForSelection)et+=Tt;else return!1;else dt=Ft,et=Tt<0?nodeSize(dt):0}else return!1}}function nodeSize(dt){return dt.nodeType==3?dt.nodeValue.length:dt.childNodes.length}function textNodeBefore$1(dt,et){for(;;){if(dt.nodeType==3&&et)return dt;if(dt.nodeType==1&&et>0){if(dt.contentEditable=="false")return null;dt=dt.childNodes[et-1],et=nodeSize(dt)}else if(dt.parentNode&&!hasBlockDesc(dt))et=domIndex(dt),dt=dt.parentNode;else return null}}function textNodeAfter$1(dt,et){for(;;){if(dt.nodeType==3&&et<dt.nodeValue.length)return dt;if(dt.nodeType==1&&et<dt.childNodes.length){if(dt.contentEditable=="false")return null;dt=dt.childNodes[et],et=0}else if(dt.parentNode&&!hasBlockDesc(dt))et=domIndex(dt)+1,dt=dt.parentNode;else return null}}function isOnEdge(dt,et,$t){for(let kt=et==0,Tt=et==nodeSize(dt);kt||Tt;){if(dt==$t)return!0;let Dt=domIndex(dt);if(dt=dt.parentNode,!dt)return!1;kt=kt&&Dt==0,Tt=Tt&&Dt==nodeSize(dt)}}function hasBlockDesc(dt){let et;for(let $t=dt;$t&&!(et=$t.pmViewDesc);$t=$t.parentNode);return et&&et.node&&et.node.isBlock&&(et.dom==dt||et.contentDOM==dt)}const selectionCollapsed=function(dt){return dt.focusNode&&isEquivalentPosition(dt.focusNode,dt.focusOffset,dt.anchorNode,dt.anchorOffset)};function keyEvent(dt,et){let $t=document.createEvent("Event");return $t.initEvent("keydown",!0,!0),$t.keyCode=dt,$t.key=$t.code=et,$t}function deepActiveElement(dt){let et=dt.activeElement;for(;et&&et.shadowRoot;)et=et.shadowRoot.activeElement;return et}function caretFromPoint(dt,et,$t){if(dt.caretPositionFromPoint)try{let kt=dt.caretPositionFromPoint(et,$t);if(kt)return{node:kt.offsetNode,offset:Math.min(nodeSize(kt.offsetNode),kt.offset)}}catch{}if(dt.caretRangeFromPoint){let kt=dt.caretRangeFromPoint(et,$t);if(kt)return{node:kt.startContainer,offset:Math.min(nodeSize(kt.startContainer),kt.startOffset)}}}const nav=typeof navigator<"u"?navigator:null,doc=typeof document<"u"?document:null,agent=nav&&nav.userAgent||"",ie_edge=/Edge\/(\d+)/.exec(agent),ie_upto10=/MSIE \d/.exec(agent),ie_11up=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(agent),ie$2=!!(ie_upto10||ie_11up||ie_edge),ie_version=ie_upto10?document.documentMode:ie_11up?+ie_11up[1]:ie_edge?+ie_edge[1]:0,gecko=!ie$2&&/gecko\/(\d+)/i.test(agent);gecko&&+(/Firefox\/(\d+)/.exec(agent)||[0,0])[1];const _chrome$1=!ie$2&&/Chrome\/(\d+)/.exec(agent),chrome=!!_chrome$1,chrome_version=_chrome$1?+_chrome$1[1]:0,safari=!ie$2&&!!nav&&/Apple Computer/.test(nav.vendor),ios=safari&&(/Mobile\/\w+/.test(agent)||!!nav&&nav.maxTouchPoints>2),mac$2=ios||(nav?/Mac/.test(nav.platform):!1),windows$1=nav?/Win/.test(nav.platform):!1,android=/Android \d/.test(agent),webkit=!!doc&&"webkitFontSmoothing"in doc.documentElement.style,webkit_version=webkit?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function windowRect(dt){let et=dt.defaultView&&dt.defaultView.visualViewport;return et?{left:0,right:et.width,top:0,bottom:et.height}:{left:0,right:dt.documentElement.clientWidth,top:0,bottom:dt.documentElement.clientHeight}}function getSide(dt,et){return typeof dt=="number"?dt:dt[et]}function clientRect(dt){let et=dt.getBoundingClientRect(),$t=et.width/dt.offsetWidth||1,kt=et.height/dt.offsetHeight||1;return{left:et.left,right:et.left+dt.clientWidth*$t,top:et.top,bottom:et.top+dt.clientHeight*kt}}function scrollRectIntoView(dt,et,$t){let kt=dt.someProp("scrollThreshold")||0,Tt=dt.someProp("scrollMargin")||5,Dt=dt.dom.ownerDocument;for(let Ft=$t||dt.dom;Ft;){if(Ft.nodeType!=1){Ft=parentNode(Ft);continue}let Ut=Ft,Ht=Ut==Dt.body,Kt=Ht?windowRect(Dt):clientRect(Ut),Yt=0,Jt=0;if(et.top<Kt.top+getSide(kt,"top")?Jt=-(Kt.top-et.top+getSide(Tt,"top")):et.bottom>Kt.bottom-getSide(kt,"bottom")&&(Jt=et.bottom-et.top>Kt.bottom-Kt.top?et.top+getSide(Tt,"top")-Kt.top:et.bottom-Kt.bottom+getSide(Tt,"bottom")),et.left<Kt.left+getSide(kt,"left")?Yt=-(Kt.left-et.left+getSide(Tt,"left")):et.right>Kt.right-getSide(kt,"right")&&(Yt=et.right-Kt.right+getSide(Tt,"right")),Yt||Jt)if(Ht)Dt.defaultView.scrollBy(Yt,Jt);else{let er=Ut.scrollLeft,rr=Ut.scrollTop;Jt&&(Ut.scrollTop+=Jt),Yt&&(Ut.scrollLeft+=Yt);let sr=Ut.scrollLeft-er,ir=Ut.scrollTop-rr;et={left:et.left-sr,top:et.top-ir,right:et.right-sr,bottom:et.bottom-ir}}let Zt=Ht?"fixed":getComputedStyle(Ft).position;if(/^(fixed|sticky)$/.test(Zt))break;Ft=Zt=="absolute"?Ft.offsetParent:parentNode(Ft)}}function storeScrollPos(dt){let et=dt.dom.getBoundingClientRect(),$t=Math.max(0,et.top),kt,Tt;for(let Dt=(et.left+et.right)/2,Ft=$t+1;Ft<Math.min(innerHeight,et.bottom);Ft+=5){let Ut=dt.root.elementFromPoint(Dt,Ft);if(!Ut||Ut==dt.dom||!dt.dom.contains(Ut))continue;let Ht=Ut.getBoundingClientRect();if(Ht.top>=$t-20){kt=Ut,Tt=Ht.top;break}}return{refDOM:kt,refTop:Tt,stack:scrollStack(dt.dom)}}function scrollStack(dt){let et=[],$t=dt.ownerDocument;for(let kt=dt;kt&&(et.push({dom:kt,top:kt.scrollTop,left:kt.scrollLeft}),dt!=$t);kt=parentNode(kt));return et}function resetScrollPos({refDOM:dt,refTop:et,stack:$t}){let kt=dt?dt.getBoundingClientRect().top:0;restoreScrollStack($t,kt==0?0:kt-et)}function restoreScrollStack(dt,et){for(let $t=0;$t<dt.length;$t++){let{dom:kt,top:Tt,left:Dt}=dt[$t];kt.scrollTop!=Tt+et&&(kt.scrollTop=Tt+et),kt.scrollLeft!=Dt&&(kt.scrollLeft=Dt)}}let preventScrollSupported=null;function focusPreventScroll(dt){if(dt.setActive)return dt.setActive();if(preventScrollSupported)return dt.focus(preventScrollSupported);let et=scrollStack(dt);dt.focus(preventScrollSupported==null?{get preventScroll(){return preventScrollSupported={preventScroll:!0},!0}}:void 0),preventScrollSupported||(preventScrollSupported=!1,restoreScrollStack(et,0))}function findOffsetInNode(dt,et){let $t,kt=2e8,Tt,Dt=0,Ft=et.top,Ut=et.top,Ht,Kt;for(let Yt=dt.firstChild,Jt=0;Yt;Yt=Yt.nextSibling,Jt++){let Zt;if(Yt.nodeType==1)Zt=Yt.getClientRects();else if(Yt.nodeType==3)Zt=textRange(Yt).getClientRects();else continue;for(let er=0;er<Zt.length;er++){let rr=Zt[er];if(rr.top<=Ft&&rr.bottom>=Ut){Ft=Math.max(rr.bottom,Ft),Ut=Math.min(rr.top,Ut);let sr=rr.left>et.left?rr.left-et.left:rr.right<et.left?et.left-rr.right:0;if(sr<kt){$t=Yt,kt=sr,Tt=sr&&$t.nodeType==3?{left:rr.right<et.left?rr.right:rr.left,top:et.top}:et,Yt.nodeType==1&&sr&&(Dt=Jt+(et.left>=(rr.left+rr.right)/2?1:0));continue}}else rr.top>et.top&&!Ht&&rr.left<=et.left&&rr.right>=et.left&&(Ht=Yt,Kt={left:Math.max(rr.left,Math.min(rr.right,et.left)),top:rr.top});!$t&&(et.left>=rr.right&&et.top>=rr.top||et.left>=rr.left&&et.top>=rr.bottom)&&(Dt=Jt+1)}}return!$t&&Ht&&($t=Ht,Tt=Kt,kt=0),$t&&$t.nodeType==3?findOffsetInText($t,Tt):!$t||kt&&$t.nodeType==1?{node:dt,offset:Dt}:findOffsetInNode($t,Tt)}function findOffsetInText(dt,et){let $t=dt.nodeValue.length,kt=document.createRange();for(let Tt=0;Tt<$t;Tt++){kt.setEnd(dt,Tt+1),kt.setStart(dt,Tt);let Dt=singleRect(kt,1);if(Dt.top!=Dt.bottom&&inRect(et,Dt))return{node:dt,offset:Tt+(et.left>=(Dt.left+Dt.right)/2?1:0)}}return{node:dt,offset:0}}function inRect(dt,et){return dt.left>=et.left-1&&dt.left<=et.right+1&&dt.top>=et.top-1&&dt.top<=et.bottom+1}function targetKludge(dt,et){let $t=dt.parentNode;return $t&&/^li$/i.test($t.nodeName)&&et.left<dt.getBoundingClientRect().left?$t:dt}function posFromElement(dt,et,$t){let{node:kt,offset:Tt}=findOffsetInNode(et,$t),Dt=-1;if(kt.nodeType==1&&!kt.firstChild){let Ft=kt.getBoundingClientRect();Dt=Ft.left!=Ft.right&&$t.left>(Ft.left+Ft.right)/2?1:-1}return dt.docView.posFromDOM(kt,Tt,Dt)}function posFromCaret(dt,et,$t,kt){let Tt=-1;for(let Dt=et,Ft=!1;Dt!=dt.dom;){let Ut=dt.docView.nearestDesc(Dt,!0),Ht;if(!Ut)return null;if(Ut.dom.nodeType==1&&(Ut.node.isBlock&&Ut.parent||!Ut.contentDOM)&&((Ht=Ut.dom.getBoundingClientRect()).width||Ht.height)&&(Ut.node.isBlock&&Ut.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(Ut.dom.nodeName)&&(!Ft&&Ht.left>kt.left||Ht.top>kt.top?Tt=Ut.posBefore:(!Ft&&Ht.right<kt.left||Ht.bottom<kt.top)&&(Tt=Ut.posAfter),Ft=!0),!Ut.contentDOM&&Tt<0&&!Ut.node.isText))return(Ut.node.isBlock?kt.top<(Ht.top+Ht.bottom)/2:kt.left<(Ht.left+Ht.right)/2)?Ut.posBefore:Ut.posAfter;Dt=Ut.dom.parentNode}return Tt>-1?Tt:dt.docView.posFromDOM(et,$t,-1)}function elementFromPoint(dt,et,$t){let kt=dt.childNodes.length;if(kt&&$t.top<$t.bottom)for(let Tt=Math.max(0,Math.min(kt-1,Math.floor(kt*(et.top-$t.top)/($t.bottom-$t.top))-2)),Dt=Tt;;){let Ft=dt.childNodes[Dt];if(Ft.nodeType==1){let Ut=Ft.getClientRects();for(let Ht=0;Ht<Ut.length;Ht++){let Kt=Ut[Ht];if(inRect(et,Kt))return elementFromPoint(Ft,et,Kt)}}if((Dt=(Dt+1)%kt)==Tt)break}return dt}function posAtCoords(dt,et){let $t=dt.dom.ownerDocument,kt,Tt=0,Dt=caretFromPoint($t,et.left,et.top);Dt&&({node:kt,offset:Tt}=Dt);let Ft=(dt.root.elementFromPoint?dt.root:$t).elementFromPoint(et.left,et.top),Ut;if(!Ft||!dt.dom.contains(Ft.nodeType!=1?Ft.parentNode:Ft)){let Kt=dt.dom.getBoundingClientRect();if(!inRect(et,Kt)||(Ft=elementFromPoint(dt.dom,et,Kt),!Ft))return null}if(safari)for(let Kt=Ft;kt&&Kt;Kt=parentNode(Kt))Kt.draggable&&(kt=void 0);if(Ft=targetKludge(Ft,et),kt){if(gecko&&kt.nodeType==1&&(Tt=Math.min(Tt,kt.childNodes.length),Tt<kt.childNodes.length)){let Yt=kt.childNodes[Tt],Jt;Yt.nodeName=="IMG"&&(Jt=Yt.getBoundingClientRect()).right<=et.left&&Jt.bottom>et.top&&Tt++}let Kt;webkit&&Tt&&kt.nodeType==1&&(Kt=kt.childNodes[Tt-1]).nodeType==1&&Kt.contentEditable=="false"&&Kt.getBoundingClientRect().top>=et.top&&Tt--,kt==dt.dom&&Tt==kt.childNodes.length-1&&kt.lastChild.nodeType==1&&et.top>kt.lastChild.getBoundingClientRect().bottom?Ut=dt.state.doc.content.size:(Tt==0||kt.nodeType!=1||kt.childNodes[Tt-1].nodeName!="BR")&&(Ut=posFromCaret(dt,kt,Tt,et))}Ut==null&&(Ut=posFromElement(dt,Ft,et));let Ht=dt.docView.nearestDesc(Ft,!0);return{pos:Ut,inside:Ht?Ht.posAtStart-Ht.border:-1}}function nonZero(dt){return dt.top<dt.bottom||dt.left<dt.right}function singleRect(dt,et){let $t=dt.getClientRects();if($t.length){let kt=$t[et<0?0:$t.length-1];if(nonZero(kt))return kt}return Array.prototype.find.call($t,nonZero)||dt.getBoundingClientRect()}const BIDI=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function coordsAtPos(dt,et,$t){let{node:kt,offset:Tt,atom:Dt}=dt.docView.domFromPos(et,$t<0?-1:1),Ft=webkit||gecko;if(kt.nodeType==3)if(Ft&&(BIDI.test(kt.nodeValue)||($t<0?!Tt:Tt==kt.nodeValue.length))){let Ht=singleRect(textRange(kt,Tt,Tt),$t);if(gecko&&Tt&&/\s/.test(kt.nodeValue[Tt-1])&&Tt<kt.nodeValue.length){let Kt=singleRect(textRange(kt,Tt-1,Tt-1),-1);if(Kt.top==Ht.top){let Yt=singleRect(textRange(kt,Tt,Tt+1),-1);if(Yt.top!=Ht.top)return flattenV(Yt,Yt.left<Kt.left)}}return Ht}else{let Ht=Tt,Kt=Tt,Yt=$t<0?1:-1;return $t<0&&!Tt?(Kt++,Yt=-1):$t>=0&&Tt==kt.nodeValue.length?(Ht--,Yt=1):$t<0?Ht--:Kt++,flattenV(singleRect(textRange(kt,Ht,Kt),Yt),Yt<0)}if(!dt.state.doc.resolve(et-(Dt||0)).parent.inlineContent){if(Dt==null&&Tt&&($t<0||Tt==nodeSize(kt))){let Ht=kt.childNodes[Tt-1];if(Ht.nodeType==1)return flattenH(Ht.getBoundingClientRect(),!1)}if(Dt==null&&Tt<nodeSize(kt)){let Ht=kt.childNodes[Tt];if(Ht.nodeType==1)return flattenH(Ht.getBoundingClientRect(),!0)}return flattenH(kt.getBoundingClientRect(),$t>=0)}if(Dt==null&&Tt&&($t<0||Tt==nodeSize(kt))){let Ht=kt.childNodes[Tt-1],Kt=Ht.nodeType==3?textRange(Ht,nodeSize(Ht)-(Ft?0:1)):Ht.nodeType==1&&(Ht.nodeName!="BR"||!Ht.nextSibling)?Ht:null;if(Kt)return flattenV(singleRect(Kt,1),!1)}if(Dt==null&&Tt<nodeSize(kt)){let Ht=kt.childNodes[Tt];for(;Ht.pmViewDesc&&Ht.pmViewDesc.ignoreForCoords;)Ht=Ht.nextSibling;let Kt=Ht?Ht.nodeType==3?textRange(Ht,0,Ft?0:1):Ht.nodeType==1?Ht:null:null;if(Kt)return flattenV(singleRect(Kt,-1),!0)}return flattenV(singleRect(kt.nodeType==3?textRange(kt):kt,-$t),$t>=0)}function flattenV(dt,et){if(dt.width==0)return dt;let $t=et?dt.left:dt.right;return{top:dt.top,bottom:dt.bottom,left:$t,right:$t}}function flattenH(dt,et){if(dt.height==0)return dt;let $t=et?dt.top:dt.bottom;return{top:$t,bottom:$t,left:dt.left,right:dt.right}}function withFlushedState(dt,et,$t){let kt=dt.state,Tt=dt.root.activeElement;kt!=et&&dt.updateState(et),Tt!=dt.dom&&dt.focus();try{return $t()}finally{kt!=et&&dt.updateState(kt),Tt!=dt.dom&&Tt&&Tt.focus()}}function endOfTextblockVertical(dt,et,$t){let kt=et.selection,Tt=$t=="up"?kt.$from:kt.$to;return withFlushedState(dt,et,()=>{let{node:Dt}=dt.docView.domFromPos(Tt.pos,$t=="up"?-1:1);for(;;){let Ut=dt.docView.nearestDesc(Dt,!0);if(!Ut)break;if(Ut.node.isBlock){Dt=Ut.contentDOM||Ut.dom;break}Dt=Ut.dom.parentNode}let Ft=coordsAtPos(dt,Tt.pos,1);for(let Ut=Dt.firstChild;Ut;Ut=Ut.nextSibling){let Ht;if(Ut.nodeType==1)Ht=Ut.getClientRects();else if(Ut.nodeType==3)Ht=textRange(Ut,0,Ut.nodeValue.length).getClientRects();else continue;for(let Kt=0;Kt<Ht.length;Kt++){let Yt=Ht[Kt];if(Yt.bottom>Yt.top+1&&($t=="up"?Ft.top-Yt.top>(Yt.bottom-Ft.top)*2:Yt.bottom-Ft.bottom>(Ft.bottom-Yt.top)*2))return!1}}return!0})}const maybeRTL=/[\u0590-\u08ac]/;function endOfTextblockHorizontal(dt,et,$t){let{$head:kt}=et.selection;if(!kt.parent.isTextblock)return!1;let Tt=kt.parentOffset,Dt=!Tt,Ft=Tt==kt.parent.content.size,Ut=dt.domSelection();return Ut?!maybeRTL.test(kt.parent.textContent)||!Ut.modify?$t=="left"||$t=="backward"?Dt:Ft:withFlushedState(dt,et,()=>{let{focusNode:Ht,focusOffset:Kt,anchorNode:Yt,anchorOffset:Jt}=dt.domSelectionRange(),Zt=Ut.caretBidiLevel;Ut.modify("move",$t,"character");let er=kt.depth?dt.docView.domAfterPos(kt.before()):dt.dom,{focusNode:rr,focusOffset:sr}=dt.domSelectionRange(),ir=rr&&!er.contains(rr.nodeType==1?rr:rr.parentNode)||Ht==rr&&Kt==sr;try{Ut.collapse(Yt,Jt),Ht&&(Ht!=Yt||Kt!=Jt)&&Ut.extend&&Ut.extend(Ht,Kt)}catch{}return Zt!=null&&(Ut.caretBidiLevel=Zt),ir}):kt.pos==kt.start()||kt.pos==kt.end()}let cachedState=null,cachedDir=null,cachedResult=!1;function endOfTextblock(dt,et,$t){return cachedState==et&&cachedDir==$t?cachedResult:(cachedState=et,cachedDir=$t,cachedResult=$t=="up"||$t=="down"?endOfTextblockVertical(dt,et,$t):endOfTextblockHorizontal(dt,et,$t))}const NOT_DIRTY=0,CHILD_DIRTY=1,CONTENT_DIRTY=2,NODE_DIRTY=3;class ViewDesc{constructor(et,$t,kt,Tt){this.parent=et,this.children=$t,this.dom=kt,this.contentDOM=Tt,this.dirty=NOT_DIRTY,kt.pmViewDesc=this}matchesWidget(et){return!1}matchesMark(et){return!1}matchesNode(et,$t,kt){return!1}matchesHack(et){return!1}parseRule(){return null}stopEvent(et){return!1}get size(){let et=0;for(let $t=0;$t<this.children.length;$t++)et+=this.children[$t].size;return et}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let et=0;et<this.children.length;et++)this.children[et].destroy()}posBeforeChild(et){for(let $t=0,kt=this.posAtStart;;$t++){let Tt=this.children[$t];if(Tt==et)return kt;kt+=Tt.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(et,$t,kt){if(this.contentDOM&&this.contentDOM.contains(et.nodeType==1?et:et.parentNode))if(kt<0){let Dt,Ft;if(et==this.contentDOM)Dt=et.childNodes[$t-1];else{for(;et.parentNode!=this.contentDOM;)et=et.parentNode;Dt=et.previousSibling}for(;Dt&&!((Ft=Dt.pmViewDesc)&&Ft.parent==this);)Dt=Dt.previousSibling;return Dt?this.posBeforeChild(Ft)+Ft.size:this.posAtStart}else{let Dt,Ft;if(et==this.contentDOM)Dt=et.childNodes[$t];else{for(;et.parentNode!=this.contentDOM;)et=et.parentNode;Dt=et.nextSibling}for(;Dt&&!((Ft=Dt.pmViewDesc)&&Ft.parent==this);)Dt=Dt.nextSibling;return Dt?this.posBeforeChild(Ft):this.posAtEnd}let Tt;if(et==this.dom&&this.contentDOM)Tt=$t>domIndex(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))Tt=et.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if($t==0)for(let Dt=et;;Dt=Dt.parentNode){if(Dt==this.dom){Tt=!1;break}if(Dt.previousSibling)break}if(Tt==null&&$t==et.childNodes.length)for(let Dt=et;;Dt=Dt.parentNode){if(Dt==this.dom){Tt=!0;break}if(Dt.nextSibling)break}}return Tt??kt>0?this.posAtEnd:this.posAtStart}nearestDesc(et,$t=!1){for(let kt=!0,Tt=et;Tt;Tt=Tt.parentNode){let Dt=this.getDesc(Tt),Ft;if(Dt&&(!$t||Dt.node))if(kt&&(Ft=Dt.nodeDOM)&&!(Ft.nodeType==1?Ft.contains(et.nodeType==1?et:et.parentNode):Ft==et))kt=!1;else return Dt}}getDesc(et){let $t=et.pmViewDesc;for(let kt=$t;kt;kt=kt.parent)if(kt==this)return $t}posFromDOM(et,$t,kt){for(let Tt=et;Tt;Tt=Tt.parentNode){let Dt=this.getDesc(Tt);if(Dt)return Dt.localPosFromDOM(et,$t,kt)}return-1}descAt(et){for(let $t=0,kt=0;$t<this.children.length;$t++){let Tt=this.children[$t],Dt=kt+Tt.size;if(kt==et&&Dt!=kt){for(;!Tt.border&&Tt.children.length;)for(let Ft=0;Ft<Tt.children.length;Ft++){let Ut=Tt.children[Ft];if(Ut.size){Tt=Ut;break}}return Tt}if(et<Dt)return Tt.descAt(et-kt-Tt.border);kt=Dt}}domFromPos(et,$t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:et+1};let kt=0,Tt=0;for(let Dt=0;kt<this.children.length;kt++){let Ft=this.children[kt],Ut=Dt+Ft.size;if(Ut>et||Ft instanceof TrailingHackViewDesc){Tt=et-Dt;break}Dt=Ut}if(Tt)return this.children[kt].domFromPos(Tt-this.children[kt].border,$t);for(let Dt;kt&&!(Dt=this.children[kt-1]).size&&Dt instanceof WidgetViewDesc&&Dt.side>=0;kt--);if($t<=0){let Dt,Ft=!0;for(;Dt=kt?this.children[kt-1]:null,!(!Dt||Dt.dom.parentNode==this.contentDOM);kt--,Ft=!1);return Dt&&$t&&Ft&&!Dt.border&&!Dt.domAtom?Dt.domFromPos(Dt.size,$t):{node:this.contentDOM,offset:Dt?domIndex(Dt.dom)+1:0}}else{let Dt,Ft=!0;for(;Dt=kt<this.children.length?this.children[kt]:null,!(!Dt||Dt.dom.parentNode==this.contentDOM);kt++,Ft=!1);return Dt&&Ft&&!Dt.border&&!Dt.domAtom?Dt.domFromPos(0,$t):{node:this.contentDOM,offset:Dt?domIndex(Dt.dom):this.contentDOM.childNodes.length}}}parseRange(et,$t,kt=0){if(this.children.length==0)return{node:this.contentDOM,from:et,to:$t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let Tt=-1,Dt=-1;for(let Ft=kt,Ut=0;;Ut++){let Ht=this.children[Ut],Kt=Ft+Ht.size;if(Tt==-1&&et<=Kt){let Yt=Ft+Ht.border;if(et>=Yt&&$t<=Kt-Ht.border&&Ht.node&&Ht.contentDOM&&this.contentDOM.contains(Ht.contentDOM))return Ht.parseRange(et,$t,Yt);et=Ft;for(let Jt=Ut;Jt>0;Jt--){let Zt=this.children[Jt-1];if(Zt.size&&Zt.dom.parentNode==this.contentDOM&&!Zt.emptyChildAt(1)){Tt=domIndex(Zt.dom)+1;break}et-=Zt.size}Tt==-1&&(Tt=0)}if(Tt>-1&&(Kt>$t||Ut==this.children.length-1)){$t=Kt;for(let Yt=Ut+1;Yt<this.children.length;Yt++){let Jt=this.children[Yt];if(Jt.size&&Jt.dom.parentNode==this.contentDOM&&!Jt.emptyChildAt(-1)){Dt=domIndex(Jt.dom);break}$t+=Jt.size}Dt==-1&&(Dt=this.contentDOM.childNodes.length);break}Ft=Kt}return{node:this.contentDOM,from:et,to:$t,fromOffset:Tt,toOffset:Dt}}emptyChildAt(et){if(this.border||!this.contentDOM||!this.children.length)return!1;let $t=this.children[et<0?0:this.children.length-1];return $t.size==0||$t.emptyChildAt(et)}domAfterPos(et){let{node:$t,offset:kt}=this.domFromPos(et,0);if($t.nodeType!=1||kt==$t.childNodes.length)throw new RangeError("No node after pos "+et);return $t.childNodes[kt]}setSelection(et,$t,kt,Tt=!1){let Dt=Math.min(et,$t),Ft=Math.max(et,$t);for(let er=0,rr=0;er<this.children.length;er++){let sr=this.children[er],ir=rr+sr.size;if(Dt>rr&&Ft<ir)return sr.setSelection(et-rr-sr.border,$t-rr-sr.border,kt,Tt);rr=ir}let Ut=this.domFromPos(et,et?-1:1),Ht=$t==et?Ut:this.domFromPos($t,$t?-1:1),Kt=kt.root.getSelection(),Yt=kt.domSelectionRange(),Jt=!1;if((gecko||safari)&&et==$t){let{node:er,offset:rr}=Ut;if(er.nodeType==3){if(Jt=!!(rr&&er.nodeValue[rr-1]==`
`),Jt&&rr==er.nodeValue.length)for(let sr=er,ir;sr;sr=sr.parentNode){if(ir=sr.nextSibling){ir.nodeName=="BR"&&(Ut=Ht={node:ir.parentNode,offset:domIndex(ir)+1});break}let nr=sr.pmViewDesc;if(nr&&nr.node&&nr.node.isBlock)break}}else{let sr=er.childNodes[rr-1];Jt=sr&&(sr.nodeName=="BR"||sr.contentEditable=="false")}}if(gecko&&Yt.focusNode&&Yt.focusNode!=Ht.node&&Yt.focusNode.nodeType==1){let er=Yt.focusNode.childNodes[Yt.focusOffset];er&&er.contentEditable=="false"&&(Tt=!0)}if(!(Tt||Jt&&safari)&&isEquivalentPosition(Ut.node,Ut.offset,Yt.anchorNode,Yt.anchorOffset)&&isEquivalentPosition(Ht.node,Ht.offset,Yt.focusNode,Yt.focusOffset))return;let Zt=!1;if((Kt.extend||et==$t)&&!(Jt&&gecko)){Kt.collapse(Ut.node,Ut.offset);try{et!=$t&&Kt.extend(Ht.node,Ht.offset),Zt=!0}catch{}}if(!Zt){if(et>$t){let rr=Ut;Ut=Ht,Ht=rr}let er=document.createRange();er.setEnd(Ht.node,Ht.offset),er.setStart(Ut.node,Ut.offset),Kt.removeAllRanges(),Kt.addRange(er)}}ignoreMutation(et){return!this.contentDOM&&et.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(et,$t){for(let kt=0,Tt=0;Tt<this.children.length;Tt++){let Dt=this.children[Tt],Ft=kt+Dt.size;if(kt==Ft?et<=Ft&&$t>=kt:et<Ft&&$t>kt){let Ut=kt+Dt.border,Ht=Ft-Dt.border;if(et>=Ut&&$t<=Ht){this.dirty=et==kt||$t==Ft?CONTENT_DIRTY:CHILD_DIRTY,et==Ut&&$t==Ht&&(Dt.contentLost||Dt.dom.parentNode!=this.contentDOM)?Dt.dirty=NODE_DIRTY:Dt.markDirty(et-Ut,$t-Ut);return}else Dt.dirty=Dt.dom==Dt.contentDOM&&Dt.dom.parentNode==this.contentDOM&&!Dt.children.length?CONTENT_DIRTY:NODE_DIRTY}kt=Ft}this.dirty=CONTENT_DIRTY}markParentsDirty(){let et=1;for(let $t=this.parent;$t;$t=$t.parent,et++){let kt=et==1?CONTENT_DIRTY:CHILD_DIRTY;$t.dirty<kt&&($t.dirty=kt)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(et){return!1}}class WidgetViewDesc extends ViewDesc{constructor(et,$t,kt,Tt){let Dt,Ft=$t.type.toDOM;if(typeof Ft=="function"&&(Ft=Ft(kt,()=>{if(!Dt)return Tt;if(Dt.parent)return Dt.parent.posBeforeChild(Dt)})),!$t.type.spec.raw){if(Ft.nodeType!=1){let Ut=document.createElement("span");Ut.appendChild(Ft),Ft=Ut}Ft.contentEditable="false",Ft.classList.add("ProseMirror-widget")}super(et,[],Ft,null),this.widget=$t,this.widget=$t,Dt=this}matchesWidget(et){return this.dirty==NOT_DIRTY&&et.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(et){let $t=this.widget.spec.stopEvent;return $t?$t(et):!1}ignoreMutation(et){return et.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class CompositionViewDesc extends ViewDesc{constructor(et,$t,kt,Tt){super(et,[],$t,null),this.textDOM=kt,this.text=Tt}get size(){return this.text.length}localPosFromDOM(et,$t){return et!=this.textDOM?this.posAtStart+($t?this.size:0):this.posAtStart+$t}domFromPos(et){return{node:this.textDOM,offset:et}}ignoreMutation(et){return et.type==="characterData"&&et.target.nodeValue==et.oldValue}}class MarkViewDesc extends ViewDesc{constructor(et,$t,kt,Tt,Dt){super(et,[],kt,Tt),this.mark=$t,this.spec=Dt}static create(et,$t,kt,Tt){let Dt=Tt.nodeViews[$t.type.name],Ft=Dt&&Dt($t,Tt,kt);return(!Ft||!Ft.dom)&&(Ft=DOMSerializer.renderSpec(document,$t.type.spec.toDOM($t,kt),null,$t.attrs)),new MarkViewDesc(et,$t,Ft.dom,Ft.contentDOM||Ft.dom,Ft)}parseRule(){return this.dirty&NODE_DIRTY||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(et){return this.dirty!=NODE_DIRTY&&this.mark.eq(et)}markDirty(et,$t){if(super.markDirty(et,$t),this.dirty!=NOT_DIRTY){let kt=this.parent;for(;!kt.node;)kt=kt.parent;kt.dirty<this.dirty&&(kt.dirty=this.dirty),this.dirty=NOT_DIRTY}}slice(et,$t,kt){let Tt=MarkViewDesc.create(this.parent,this.mark,!0,kt),Dt=this.children,Ft=this.size;$t<Ft&&(Dt=replaceNodes(Dt,$t,Ft,kt)),et>0&&(Dt=replaceNodes(Dt,0,et,kt));for(let Ut=0;Ut<Dt.length;Ut++)Dt[Ut].parent=Tt;return Tt.children=Dt,Tt}ignoreMutation(et){return this.spec.ignoreMutation?this.spec.ignoreMutation(et):super.ignoreMutation(et)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class NodeViewDesc extends ViewDesc{constructor(et,$t,kt,Tt,Dt,Ft,Ut,Ht,Kt){super(et,[],Dt,Ft),this.node=$t,this.outerDeco=kt,this.innerDeco=Tt,this.nodeDOM=Ut}static create(et,$t,kt,Tt,Dt,Ft){let Ut=Dt.nodeViews[$t.type.name],Ht,Kt=Ut&&Ut($t,Dt,()=>{if(!Ht)return Ft;if(Ht.parent)return Ht.parent.posBeforeChild(Ht)},kt,Tt),Yt=Kt&&Kt.dom,Jt=Kt&&Kt.contentDOM;if($t.isText){if(!Yt)Yt=document.createTextNode($t.text);else if(Yt.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else Yt||({dom:Yt,contentDOM:Jt}=DOMSerializer.renderSpec(document,$t.type.spec.toDOM($t),null,$t.attrs));!Jt&&!$t.isText&&Yt.nodeName!="BR"&&(Yt.hasAttribute("contenteditable")||(Yt.contentEditable="false"),$t.type.spec.draggable&&(Yt.draggable=!0));let Zt=Yt;return Yt=applyOuterDeco(Yt,kt,$t),Kt?Ht=new CustomNodeViewDesc(et,$t,kt,Tt,Yt,Jt||null,Zt,Kt,Dt,Ft+1):$t.isText?new TextViewDesc(et,$t,kt,Tt,Yt,Zt,Dt):new NodeViewDesc(et,$t,kt,Tt,Yt,Jt||null,Zt,Dt,Ft+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let et={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(et.preserveWhitespace="full"),!this.contentDOM)et.getContent=()=>this.node.content;else if(!this.contentLost)et.contentElement=this.contentDOM;else{for(let $t=this.children.length-1;$t>=0;$t--){let kt=this.children[$t];if(this.dom.contains(kt.dom.parentNode)){et.contentElement=kt.dom.parentNode;break}}et.contentElement||(et.getContent=()=>Fragment.empty)}return et}matchesNode(et,$t,kt){return this.dirty==NOT_DIRTY&&et.eq(this.node)&&sameOuterDeco($t,this.outerDeco)&&kt.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(et,$t){let kt=this.node.inlineContent,Tt=$t,Dt=et.composing?this.localCompositionInfo(et,$t):null,Ft=Dt&&Dt.pos>-1?Dt:null,Ut=Dt&&Dt.pos<0,Ht=new ViewTreeUpdater(this,Ft&&Ft.node,et);iterDeco(this.node,this.innerDeco,(Kt,Yt,Jt)=>{Kt.spec.marks?Ht.syncToMarks(Kt.spec.marks,kt,et):Kt.type.side>=0&&!Jt&&Ht.syncToMarks(Yt==this.node.childCount?Mark$1.none:this.node.child(Yt).marks,kt,et),Ht.placeWidget(Kt,et,Tt)},(Kt,Yt,Jt,Zt)=>{Ht.syncToMarks(Kt.marks,kt,et);let er;Ht.findNodeMatch(Kt,Yt,Jt,Zt)||Ut&&et.state.selection.from>Tt&&et.state.selection.to<Tt+Kt.nodeSize&&(er=Ht.findIndexWithChild(Dt.node))>-1&&Ht.updateNodeAt(Kt,Yt,Jt,er,et)||Ht.updateNextNode(Kt,Yt,Jt,et,Zt,Tt)||Ht.addNode(Kt,Yt,Jt,et,Tt),Tt+=Kt.nodeSize}),Ht.syncToMarks([],kt,et),this.node.isTextblock&&Ht.addTextblockHacks(),Ht.destroyRest(),(Ht.changed||this.dirty==CONTENT_DIRTY)&&(Ft&&this.protectLocalComposition(et,Ft),renderDescs(this.contentDOM,this.children,et),ios&&iosHacks(this.dom))}localCompositionInfo(et,$t){let{from:kt,to:Tt}=et.state.selection;if(!(et.state.selection instanceof TextSelection)||kt<$t||Tt>$t+this.node.content.size)return null;let Dt=et.input.compositionNode;if(!Dt||!this.dom.contains(Dt.parentNode))return null;if(this.node.inlineContent){let Ft=Dt.nodeValue,Ut=findTextInFragment(this.node.content,Ft,kt-$t,Tt-$t);return Ut<0?null:{node:Dt,pos:Ut,text:Ft}}else return{node:Dt,pos:-1,text:""}}protectLocalComposition(et,{node:$t,pos:kt,text:Tt}){if(this.getDesc($t))return;let Dt=$t;for(;Dt.parentNode!=this.contentDOM;Dt=Dt.parentNode){for(;Dt.previousSibling;)Dt.parentNode.removeChild(Dt.previousSibling);for(;Dt.nextSibling;)Dt.parentNode.removeChild(Dt.nextSibling);Dt.pmViewDesc&&(Dt.pmViewDesc=void 0)}let Ft=new CompositionViewDesc(this,Dt,$t,Tt);et.input.compositionNodes.push(Ft),this.children=replaceNodes(this.children,kt,kt+Tt.length,et,Ft)}update(et,$t,kt,Tt){return this.dirty==NODE_DIRTY||!et.sameMarkup(this.node)?!1:(this.updateInner(et,$t,kt,Tt),!0)}updateInner(et,$t,kt,Tt){this.updateOuterDeco($t),this.node=et,this.innerDeco=kt,this.contentDOM&&this.updateChildren(Tt,this.posAtStart),this.dirty=NOT_DIRTY}updateOuterDeco(et){if(sameOuterDeco(et,this.outerDeco))return;let $t=this.nodeDOM.nodeType!=1,kt=this.dom;this.dom=patchOuterDeco(this.dom,this.nodeDOM,computeOuterDeco(this.outerDeco,this.node,$t),computeOuterDeco(et,this.node,$t)),this.dom!=kt&&(kt.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=et}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function docViewDesc(dt,et,$t,kt,Tt){applyOuterDeco(kt,et,dt);let Dt=new NodeViewDesc(void 0,dt,et,$t,kt,kt,kt,Tt,0);return Dt.contentDOM&&Dt.updateChildren(Tt,0),Dt}class TextViewDesc extends NodeViewDesc{constructor(et,$t,kt,Tt,Dt,Ft,Ut){super(et,$t,kt,Tt,Dt,null,Ft,Ut,0)}parseRule(){let et=this.nodeDOM.parentNode;for(;et&&et!=this.dom&&!et.pmIsDeco;)et=et.parentNode;return{skip:et||!0}}update(et,$t,kt,Tt){return this.dirty==NODE_DIRTY||this.dirty!=NOT_DIRTY&&!this.inParent()||!et.sameMarkup(this.node)?!1:(this.updateOuterDeco($t),(this.dirty!=NOT_DIRTY||et.text!=this.node.text)&&et.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=et.text,Tt.trackWrites==this.nodeDOM&&(Tt.trackWrites=null)),this.node=et,this.dirty=NOT_DIRTY,!0)}inParent(){let et=this.parent.contentDOM;for(let $t=this.nodeDOM;$t;$t=$t.parentNode)if($t==et)return!0;return!1}domFromPos(et){return{node:this.nodeDOM,offset:et}}localPosFromDOM(et,$t,kt){return et==this.nodeDOM?this.posAtStart+Math.min($t,this.node.text.length):super.localPosFromDOM(et,$t,kt)}ignoreMutation(et){return et.type!="characterData"&&et.type!="selection"}slice(et,$t,kt){let Tt=this.node.cut(et,$t),Dt=document.createTextNode(Tt.text);return new TextViewDesc(this.parent,Tt,this.outerDeco,this.innerDeco,Dt,Dt,kt)}markDirty(et,$t){super.markDirty(et,$t),this.dom!=this.nodeDOM&&(et==0||$t==this.nodeDOM.nodeValue.length)&&(this.dirty=NODE_DIRTY)}get domAtom(){return!1}isText(et){return this.node.text==et}}class TrailingHackViewDesc extends ViewDesc{parseRule(){return{ignore:!0}}matchesHack(et){return this.dirty==NOT_DIRTY&&this.dom.nodeName==et}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class CustomNodeViewDesc extends NodeViewDesc{constructor(et,$t,kt,Tt,Dt,Ft,Ut,Ht,Kt,Yt){super(et,$t,kt,Tt,Dt,Ft,Ut,Kt,Yt),this.spec=Ht}update(et,$t,kt,Tt){if(this.dirty==NODE_DIRTY)return!1;if(this.spec.update&&(this.node.type==et.type||this.spec.multiType)){let Dt=this.spec.update(et,$t,kt);return Dt&&this.updateInner(et,$t,kt,Tt),Dt}else return!this.contentDOM&&!et.isLeaf?!1:super.update(et,$t,kt,Tt)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(et,$t,kt,Tt){this.spec.setSelection?this.spec.setSelection(et,$t,kt.root):super.setSelection(et,$t,kt,Tt)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(et){return this.spec.stopEvent?this.spec.stopEvent(et):!1}ignoreMutation(et){return this.spec.ignoreMutation?this.spec.ignoreMutation(et):super.ignoreMutation(et)}}function renderDescs(dt,et,$t){let kt=dt.firstChild,Tt=!1;for(let Dt=0;Dt<et.length;Dt++){let Ft=et[Dt],Ut=Ft.dom;if(Ut.parentNode==dt){for(;Ut!=kt;)kt=rm(kt),Tt=!0;kt=kt.nextSibling}else Tt=!0,dt.insertBefore(Ut,kt);if(Ft instanceof MarkViewDesc){let Ht=kt?kt.previousSibling:dt.lastChild;renderDescs(Ft.contentDOM,Ft.children,$t),kt=Ht?Ht.nextSibling:dt.firstChild}}for(;kt;)kt=rm(kt),Tt=!0;Tt&&$t.trackWrites==dt&&($t.trackWrites=null)}const OuterDecoLevel=function(dt){dt&&(this.nodeName=dt)};OuterDecoLevel.prototype=Object.create(null);const noDeco=[new OuterDecoLevel];function computeOuterDeco(dt,et,$t){if(dt.length==0)return noDeco;let kt=$t?noDeco[0]:new OuterDecoLevel,Tt=[kt];for(let Dt=0;Dt<dt.length;Dt++){let Ft=dt[Dt].type.attrs;if(Ft){Ft.nodeName&&Tt.push(kt=new OuterDecoLevel(Ft.nodeName));for(let Ut in Ft){let Ht=Ft[Ut];Ht!=null&&($t&&Tt.length==1&&Tt.push(kt=new OuterDecoLevel(et.isInline?"span":"div")),Ut=="class"?kt.class=(kt.class?kt.class+" ":"")+Ht:Ut=="style"?kt.style=(kt.style?kt.style+";":"")+Ht:Ut!="nodeName"&&(kt[Ut]=Ht))}}}return Tt}function patchOuterDeco(dt,et,$t,kt){if($t==noDeco&&kt==noDeco)return et;let Tt=et;for(let Dt=0;Dt<kt.length;Dt++){let Ft=kt[Dt],Ut=$t[Dt];if(Dt){let Ht;Ut&&Ut.nodeName==Ft.nodeName&&Tt!=dt&&(Ht=Tt.parentNode)&&Ht.nodeName.toLowerCase()==Ft.nodeName||(Ht=document.createElement(Ft.nodeName),Ht.pmIsDeco=!0,Ht.appendChild(Tt),Ut=noDeco[0]),Tt=Ht}patchAttributes(Tt,Ut||noDeco[0],Ft)}return Tt}function patchAttributes(dt,et,$t){for(let kt in et)kt!="class"&&kt!="style"&&kt!="nodeName"&&!(kt in $t)&&dt.removeAttribute(kt);for(let kt in $t)kt!="class"&&kt!="style"&&kt!="nodeName"&&$t[kt]!=et[kt]&&dt.setAttribute(kt,$t[kt]);if(et.class!=$t.class){let kt=et.class?et.class.split(" ").filter(Boolean):[],Tt=$t.class?$t.class.split(" ").filter(Boolean):[];for(let Dt=0;Dt<kt.length;Dt++)Tt.indexOf(kt[Dt])==-1&&dt.classList.remove(kt[Dt]);for(let Dt=0;Dt<Tt.length;Dt++)kt.indexOf(Tt[Dt])==-1&&dt.classList.add(Tt[Dt]);dt.classList.length==0&&dt.removeAttribute("class")}if(et.style!=$t.style){if(et.style){let kt=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,Tt;for(;Tt=kt.exec(et.style);)dt.style.removeProperty(Tt[1])}$t.style&&(dt.style.cssText+=$t.style)}}function applyOuterDeco(dt,et,$t){return patchOuterDeco(dt,dt,noDeco,computeOuterDeco(et,$t,dt.nodeType!=1))}function sameOuterDeco(dt,et){if(dt.length!=et.length)return!1;for(let $t=0;$t<dt.length;$t++)if(!dt[$t].type.eq(et[$t].type))return!1;return!0}function rm(dt){let et=dt.nextSibling;return dt.parentNode.removeChild(dt),et}class ViewTreeUpdater{constructor(et,$t,kt){this.lock=$t,this.view=kt,this.index=0,this.stack=[],this.changed=!1,this.top=et,this.preMatch=preMatch(et.node.content,et)}destroyBetween(et,$t){if(et!=$t){for(let kt=et;kt<$t;kt++)this.top.children[kt].destroy();this.top.children.splice(et,$t-et),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(et,$t,kt){let Tt=0,Dt=this.stack.length>>1,Ft=Math.min(Dt,et.length);for(;Tt<Ft&&(Tt==Dt-1?this.top:this.stack[Tt+1<<1]).matchesMark(et[Tt])&&et[Tt].type.spec.spanning!==!1;)Tt++;for(;Tt<Dt;)this.destroyRest(),this.top.dirty=NOT_DIRTY,this.index=this.stack.pop(),this.top=this.stack.pop(),Dt--;for(;Dt<et.length;){this.stack.push(this.top,this.index+1);let Ut=-1;for(let Ht=this.index;Ht<Math.min(this.index+3,this.top.children.length);Ht++){let Kt=this.top.children[Ht];if(Kt.matchesMark(et[Dt])&&!this.isLocked(Kt.dom)){Ut=Ht;break}}if(Ut>-1)Ut>this.index&&(this.changed=!0,this.destroyBetween(this.index,Ut)),this.top=this.top.children[this.index];else{let Ht=MarkViewDesc.create(this.top,et[Dt],$t,kt);this.top.children.splice(this.index,0,Ht),this.top=Ht,this.changed=!0}this.index=0,Dt++}}findNodeMatch(et,$t,kt,Tt){let Dt=-1,Ft;if(Tt>=this.preMatch.index&&(Ft=this.preMatch.matches[Tt-this.preMatch.index]).parent==this.top&&Ft.matchesNode(et,$t,kt))Dt=this.top.children.indexOf(Ft,this.index);else for(let Ut=this.index,Ht=Math.min(this.top.children.length,Ut+5);Ut<Ht;Ut++){let Kt=this.top.children[Ut];if(Kt.matchesNode(et,$t,kt)&&!this.preMatch.matched.has(Kt)){Dt=Ut;break}}return Dt<0?!1:(this.destroyBetween(this.index,Dt),this.index++,!0)}updateNodeAt(et,$t,kt,Tt,Dt){let Ft=this.top.children[Tt];return Ft.dirty==NODE_DIRTY&&Ft.dom==Ft.contentDOM&&(Ft.dirty=CONTENT_DIRTY),Ft.update(et,$t,kt,Dt)?(this.destroyBetween(this.index,Tt),this.index++,!0):!1}findIndexWithChild(et){for(;;){let $t=et.parentNode;if(!$t)return-1;if($t==this.top.contentDOM){let kt=et.pmViewDesc;if(kt){for(let Tt=this.index;Tt<this.top.children.length;Tt++)if(this.top.children[Tt]==kt)return Tt}return-1}et=$t}}updateNextNode(et,$t,kt,Tt,Dt,Ft){for(let Ut=this.index;Ut<this.top.children.length;Ut++){let Ht=this.top.children[Ut];if(Ht instanceof NodeViewDesc){let Kt=this.preMatch.matched.get(Ht);if(Kt!=null&&Kt!=Dt)return!1;let Yt=Ht.dom,Jt,Zt=this.isLocked(Yt)&&!(et.isText&&Ht.node&&Ht.node.isText&&Ht.nodeDOM.nodeValue==et.text&&Ht.dirty!=NODE_DIRTY&&sameOuterDeco($t,Ht.outerDeco));if(!Zt&&Ht.update(et,$t,kt,Tt))return this.destroyBetween(this.index,Ut),Ht.dom!=Yt&&(this.changed=!0),this.index++,!0;if(!Zt&&(Jt=this.recreateWrapper(Ht,et,$t,kt,Tt,Ft)))return this.destroyBetween(this.index,Ut),this.top.children[this.index]=Jt,Jt.contentDOM&&(Jt.dirty=CONTENT_DIRTY,Jt.updateChildren(Tt,Ft+1),Jt.dirty=NOT_DIRTY),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(et,$t,kt,Tt,Dt,Ft){if(et.dirty||$t.isAtom||!et.children.length||!et.node.content.eq($t.content)||!sameOuterDeco(kt,et.outerDeco)||!Tt.eq(et.innerDeco))return null;let Ut=NodeViewDesc.create(this.top,$t,kt,Tt,Dt,Ft);if(Ut.contentDOM){Ut.children=et.children,et.children=[];for(let Ht of Ut.children)Ht.parent=Ut}return et.destroy(),Ut}addNode(et,$t,kt,Tt,Dt){let Ft=NodeViewDesc.create(this.top,et,$t,kt,Tt,Dt);Ft.contentDOM&&Ft.updateChildren(Tt,Dt+1),this.top.children.splice(this.index++,0,Ft),this.changed=!0}placeWidget(et,$t,kt){let Tt=this.index<this.top.children.length?this.top.children[this.index]:null;if(Tt&&Tt.matchesWidget(et)&&(et==Tt.widget||!Tt.widget.type.toDOM.parentNode))this.index++;else{let Dt=new WidgetViewDesc(this.top,et,$t,kt);this.top.children.splice(this.index++,0,Dt),this.changed=!0}}addTextblockHacks(){let et=this.top.children[this.index-1],$t=this.top;for(;et instanceof MarkViewDesc;)$t=et,et=$t.children[$t.children.length-1];(!et||!(et instanceof TextViewDesc)||/\n$/.test(et.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(et.node.text))&&((safari||chrome)&&et&&et.dom.contentEditable=="false"&&this.addHackNode("IMG",$t),this.addHackNode("BR",this.top))}addHackNode(et,$t){if($t==this.top&&this.index<$t.children.length&&$t.children[this.index].matchesHack(et))this.index++;else{let kt=document.createElement(et);et=="IMG"&&(kt.className="ProseMirror-separator",kt.alt=""),et=="BR"&&(kt.className="ProseMirror-trailingBreak");let Tt=new TrailingHackViewDesc(this.top,[],kt,null);$t!=this.top?$t.children.push(Tt):$t.children.splice(this.index++,0,Tt),this.changed=!0}}isLocked(et){return this.lock&&(et==this.lock||et.nodeType==1&&et.contains(this.lock.parentNode))}}function preMatch(dt,et){let $t=et,kt=$t.children.length,Tt=dt.childCount,Dt=new Map,Ft=[];e:for(;Tt>0;){let Ut;for(;;)if(kt){let Kt=$t.children[kt-1];if(Kt instanceof MarkViewDesc)$t=Kt,kt=Kt.children.length;else{Ut=Kt,kt--;break}}else{if($t==et)break e;kt=$t.parent.children.indexOf($t),$t=$t.parent}let Ht=Ut.node;if(Ht){if(Ht!=dt.child(Tt-1))break;--Tt,Dt.set(Ut,Tt),Ft.push(Ut)}}return{index:Tt,matched:Dt,matches:Ft.reverse()}}function compareSide(dt,et){return dt.type.side-et.type.side}function iterDeco(dt,et,$t,kt){let Tt=et.locals(dt),Dt=0;if(Tt.length==0){for(let Kt=0;Kt<dt.childCount;Kt++){let Yt=dt.child(Kt);kt(Yt,Tt,et.forChild(Dt,Yt),Kt),Dt+=Yt.nodeSize}return}let Ft=0,Ut=[],Ht=null;for(let Kt=0;;){let Yt,Jt;for(;Ft<Tt.length&&Tt[Ft].to==Dt;){let ir=Tt[Ft++];ir.widget&&(Yt?(Jt||(Jt=[Yt])).push(ir):Yt=ir)}if(Yt)if(Jt){Jt.sort(compareSide);for(let ir=0;ir<Jt.length;ir++)$t(Jt[ir],Kt,!!Ht)}else $t(Yt,Kt,!!Ht);let Zt,er;if(Ht)er=-1,Zt=Ht,Ht=null;else if(Kt<dt.childCount)er=Kt,Zt=dt.child(Kt++);else break;for(let ir=0;ir<Ut.length;ir++)Ut[ir].to<=Dt&&Ut.splice(ir--,1);for(;Ft<Tt.length&&Tt[Ft].from<=Dt&&Tt[Ft].to>Dt;)Ut.push(Tt[Ft++]);let rr=Dt+Zt.nodeSize;if(Zt.isText){let ir=rr;Ft<Tt.length&&Tt[Ft].from<ir&&(ir=Tt[Ft].from);for(let nr=0;nr<Ut.length;nr++)Ut[nr].to<ir&&(ir=Ut[nr].to);ir<rr&&(Ht=Zt.cut(ir-Dt),Zt=Zt.cut(0,ir-Dt),rr=ir,er=-1)}else for(;Ft<Tt.length&&Tt[Ft].to<rr;)Ft++;let sr=Zt.isInline&&!Zt.isLeaf?Ut.filter(ir=>!ir.inline):Ut.slice();kt(Zt,sr,et.forChild(Dt,Zt),er),Dt=rr}}function iosHacks(dt){if(dt.nodeName=="UL"||dt.nodeName=="OL"){let et=dt.style.cssText;dt.style.cssText=et+"; list-style: square !important",window.getComputedStyle(dt).listStyle,dt.style.cssText=et}}function findTextInFragment(dt,et,$t,kt){for(let Tt=0,Dt=0;Tt<dt.childCount&&Dt<=kt;){let Ft=dt.child(Tt++),Ut=Dt;if(Dt+=Ft.nodeSize,!Ft.isText)continue;let Ht=Ft.text;for(;Tt<dt.childCount;){let Kt=dt.child(Tt++);if(Dt+=Kt.nodeSize,!Kt.isText)break;Ht+=Kt.text}if(Dt>=$t){if(Dt>=kt&&Ht.slice(kt-et.length-Ut,kt-Ut)==et)return kt-et.length;let Kt=Ut<kt?Ht.lastIndexOf(et,kt-Ut-1):-1;if(Kt>=0&&Kt+et.length+Ut>=$t)return Ut+Kt;if($t==kt&&Ht.length>=kt+et.length-Ut&&Ht.slice(kt-Ut,kt-Ut+et.length)==et)return kt}}return-1}function replaceNodes(dt,et,$t,kt,Tt){let Dt=[];for(let Ft=0,Ut=0;Ft<dt.length;Ft++){let Ht=dt[Ft],Kt=Ut,Yt=Ut+=Ht.size;Kt>=$t||Yt<=et?Dt.push(Ht):(Kt<et&&Dt.push(Ht.slice(0,et-Kt,kt)),Tt&&(Dt.push(Tt),Tt=void 0),Yt>$t&&Dt.push(Ht.slice($t-Kt,Ht.size,kt)))}return Dt}function selectionFromDOM(dt,et=null){let $t=dt.domSelectionRange(),kt=dt.state.doc;if(!$t.focusNode)return null;let Tt=dt.docView.nearestDesc($t.focusNode),Dt=Tt&&Tt.size==0,Ft=dt.docView.posFromDOM($t.focusNode,$t.focusOffset,1);if(Ft<0)return null;let Ut=kt.resolve(Ft),Ht,Kt;if(selectionCollapsed($t)){for(Ht=Ft;Tt&&!Tt.node;)Tt=Tt.parent;let Jt=Tt.node;if(Tt&&Jt.isAtom&&NodeSelection.isSelectable(Jt)&&Tt.parent&&!(Jt.isInline&&isOnEdge($t.focusNode,$t.focusOffset,Tt.dom))){let Zt=Tt.posBefore;Kt=new NodeSelection(Ft==Zt?Ut:kt.resolve(Zt))}}else{if($t instanceof dt.dom.ownerDocument.defaultView.Selection&&$t.rangeCount>1){let Jt=Ft,Zt=Ft;for(let er=0;er<$t.rangeCount;er++){let rr=$t.getRangeAt(er);Jt=Math.min(Jt,dt.docView.posFromDOM(rr.startContainer,rr.startOffset,1)),Zt=Math.max(Zt,dt.docView.posFromDOM(rr.endContainer,rr.endOffset,-1))}if(Jt<0)return null;[Ht,Ft]=Zt==dt.state.selection.anchor?[Zt,Jt]:[Jt,Zt],Ut=kt.resolve(Ft)}else Ht=dt.docView.posFromDOM($t.anchorNode,$t.anchorOffset,1);if(Ht<0)return null}let Yt=kt.resolve(Ht);if(!Kt){let Jt=et=="pointer"||dt.state.selection.head<Ut.pos&&!Dt?1:-1;Kt=selectionBetween(dt,Yt,Ut,Jt)}return Kt}function editorOwnsSelection(dt){return dt.editable?dt.hasFocus():hasSelection(dt)&&document.activeElement&&document.activeElement.contains(dt.dom)}function selectionToDOM(dt,et=!1){let $t=dt.state.selection;if(syncNodeSelection(dt,$t),!!editorOwnsSelection(dt)){if(!et&&dt.input.mouseDown&&dt.input.mouseDown.allowDefault&&chrome){let kt=dt.domSelectionRange(),Tt=dt.domObserver.currentSelection;if(kt.anchorNode&&Tt.anchorNode&&isEquivalentPosition(kt.anchorNode,kt.anchorOffset,Tt.anchorNode,Tt.anchorOffset)){dt.input.mouseDown.delayedSelectionSync=!0,dt.domObserver.setCurSelection();return}}if(dt.domObserver.disconnectSelection(),dt.cursorWrapper)selectCursorWrapper(dt);else{let{anchor:kt,head:Tt}=$t,Dt,Ft;brokenSelectBetweenUneditable&&!($t instanceof TextSelection)&&($t.$from.parent.inlineContent||(Dt=temporarilyEditableNear(dt,$t.from)),!$t.empty&&!$t.$from.parent.inlineContent&&(Ft=temporarilyEditableNear(dt,$t.to))),dt.docView.setSelection(kt,Tt,dt,et),brokenSelectBetweenUneditable&&(Dt&&resetEditable(Dt),Ft&&resetEditable(Ft)),$t.visible?dt.dom.classList.remove("ProseMirror-hideselection"):(dt.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&removeClassOnSelectionChange(dt))}dt.domObserver.setCurSelection(),dt.domObserver.connectSelection()}}const brokenSelectBetweenUneditable=safari||chrome&&chrome_version<63;function temporarilyEditableNear(dt,et){let{node:$t,offset:kt}=dt.docView.domFromPos(et,0),Tt=kt<$t.childNodes.length?$t.childNodes[kt]:null,Dt=kt?$t.childNodes[kt-1]:null;if(safari&&Tt&&Tt.contentEditable=="false")return setEditable(Tt);if((!Tt||Tt.contentEditable=="false")&&(!Dt||Dt.contentEditable=="false")){if(Tt)return setEditable(Tt);if(Dt)return setEditable(Dt)}}function setEditable(dt){return dt.contentEditable="true",safari&&dt.draggable&&(dt.draggable=!1,dt.wasDraggable=!0),dt}function resetEditable(dt){dt.contentEditable="false",dt.wasDraggable&&(dt.draggable=!0,dt.wasDraggable=null)}function removeClassOnSelectionChange(dt){let et=dt.dom.ownerDocument;et.removeEventListener("selectionchange",dt.input.hideSelectionGuard);let $t=dt.domSelectionRange(),kt=$t.anchorNode,Tt=$t.anchorOffset;et.addEventListener("selectionchange",dt.input.hideSelectionGuard=()=>{($t.anchorNode!=kt||$t.anchorOffset!=Tt)&&(et.removeEventListener("selectionchange",dt.input.hideSelectionGuard),setTimeout(()=>{(!editorOwnsSelection(dt)||dt.state.selection.visible)&&dt.dom.classList.remove("ProseMirror-hideselection")},20))})}function selectCursorWrapper(dt){let et=dt.domSelection();if(!et)return;let $t=dt.cursorWrapper.dom,kt=$t.nodeName=="IMG";kt?et.collapse($t.parentNode,domIndex($t)+1):et.collapse($t,0),!kt&&!dt.state.selection.visible&&ie$2&&ie_version<=11&&($t.disabled=!0,$t.disabled=!1)}function syncNodeSelection(dt,et){if(et instanceof NodeSelection){let $t=dt.docView.descAt(et.from);$t!=dt.lastSelectedViewDesc&&(clearNodeSelection(dt),$t&&$t.selectNode(),dt.lastSelectedViewDesc=$t)}else clearNodeSelection(dt)}function clearNodeSelection(dt){dt.lastSelectedViewDesc&&(dt.lastSelectedViewDesc.parent&&dt.lastSelectedViewDesc.deselectNode(),dt.lastSelectedViewDesc=void 0)}function selectionBetween(dt,et,$t,kt){return dt.someProp("createSelectionBetween",Tt=>Tt(dt,et,$t))||TextSelection.between(et,$t,kt)}function hasFocusAndSelection(dt){return dt.editable&&!dt.hasFocus()?!1:hasSelection(dt)}function hasSelection(dt){let et=dt.domSelectionRange();if(!et.anchorNode)return!1;try{return dt.dom.contains(et.anchorNode.nodeType==3?et.anchorNode.parentNode:et.anchorNode)&&(dt.editable||dt.dom.contains(et.focusNode.nodeType==3?et.focusNode.parentNode:et.focusNode))}catch{return!1}}function anchorInRightPlace(dt){let et=dt.docView.domFromPos(dt.state.selection.anchor,0),$t=dt.domSelectionRange();return isEquivalentPosition(et.node,et.offset,$t.anchorNode,$t.anchorOffset)}function moveSelectionBlock(dt,et){let{$anchor:$t,$head:kt}=dt.selection,Tt=et>0?$t.max(kt):$t.min(kt),Dt=Tt.parent.inlineContent?Tt.depth?dt.doc.resolve(et>0?Tt.after():Tt.before()):null:Tt;return Dt&&Selection.findFrom(Dt,et)}function apply$2(dt,et){return dt.dispatch(dt.state.tr.setSelection(et).scrollIntoView()),!0}function selectHorizontally(dt,et,$t){let kt=dt.state.selection;if(kt instanceof TextSelection)if($t.indexOf("s")>-1){let{$head:Tt}=kt,Dt=Tt.textOffset?null:et<0?Tt.nodeBefore:Tt.nodeAfter;if(!Dt||Dt.isText||!Dt.isLeaf)return!1;let Ft=dt.state.doc.resolve(Tt.pos+Dt.nodeSize*(et<0?-1:1));return apply$2(dt,new TextSelection(kt.$anchor,Ft))}else if(kt.empty){if(dt.endOfTextblock(et>0?"forward":"backward")){let Tt=moveSelectionBlock(dt.state,et);return Tt&&Tt instanceof NodeSelection?apply$2(dt,Tt):!1}else if(!(mac$2&&$t.indexOf("m")>-1)){let Tt=kt.$head,Dt=Tt.textOffset?null:et<0?Tt.nodeBefore:Tt.nodeAfter,Ft;if(!Dt||Dt.isText)return!1;let Ut=et<0?Tt.pos-Dt.nodeSize:Tt.pos;return Dt.isAtom||(Ft=dt.docView.descAt(Ut))&&!Ft.contentDOM?NodeSelection.isSelectable(Dt)?apply$2(dt,new NodeSelection(et<0?dt.state.doc.resolve(Tt.pos-Dt.nodeSize):Tt)):webkit?apply$2(dt,new TextSelection(dt.state.doc.resolve(et<0?Ut:Ut+Dt.nodeSize))):!1:!1}}else return!1;else{if(kt instanceof NodeSelection&&kt.node.isInline)return apply$2(dt,new TextSelection(et>0?kt.$to:kt.$from));{let Tt=moveSelectionBlock(dt.state,et);return Tt?apply$2(dt,Tt):!1}}}function nodeLen(dt){return dt.nodeType==3?dt.nodeValue.length:dt.childNodes.length}function isIgnorable(dt,et){let $t=dt.pmViewDesc;return $t&&$t.size==0&&(et<0||dt.nextSibling||dt.nodeName!="BR")}function skipIgnoredNodes(dt,et){return et<0?skipIgnoredNodesBefore(dt):skipIgnoredNodesAfter(dt)}function skipIgnoredNodesBefore(dt){let et=dt.domSelectionRange(),$t=et.focusNode,kt=et.focusOffset;if(!$t)return;let Tt,Dt,Ft=!1;for(gecko&&$t.nodeType==1&&kt<nodeLen($t)&&isIgnorable($t.childNodes[kt],-1)&&(Ft=!0);;)if(kt>0){if($t.nodeType!=1)break;{let Ut=$t.childNodes[kt-1];if(isIgnorable(Ut,-1))Tt=$t,Dt=--kt;else if(Ut.nodeType==3)$t=Ut,kt=$t.nodeValue.length;else break}}else{if(isBlockNode($t))break;{let Ut=$t.previousSibling;for(;Ut&&isIgnorable(Ut,-1);)Tt=$t.parentNode,Dt=domIndex(Ut),Ut=Ut.previousSibling;if(Ut)$t=Ut,kt=nodeLen($t);else{if($t=$t.parentNode,$t==dt.dom)break;kt=0}}}Ft?setSelFocus(dt,$t,kt):Tt&&setSelFocus(dt,Tt,Dt)}function skipIgnoredNodesAfter(dt){let et=dt.domSelectionRange(),$t=et.focusNode,kt=et.focusOffset;if(!$t)return;let Tt=nodeLen($t),Dt,Ft;for(;;)if(kt<Tt){if($t.nodeType!=1)break;let Ut=$t.childNodes[kt];if(isIgnorable(Ut,1))Dt=$t,Ft=++kt;else break}else{if(isBlockNode($t))break;{let Ut=$t.nextSibling;for(;Ut&&isIgnorable(Ut,1);)Dt=Ut.parentNode,Ft=domIndex(Ut)+1,Ut=Ut.nextSibling;if(Ut)$t=Ut,kt=0,Tt=nodeLen($t);else{if($t=$t.parentNode,$t==dt.dom)break;kt=Tt=0}}}Dt&&setSelFocus(dt,Dt,Ft)}function isBlockNode(dt){let et=dt.pmViewDesc;return et&&et.node&&et.node.isBlock}function textNodeAfter(dt,et){for(;dt&&et==dt.childNodes.length&&!hasBlockDesc(dt);)et=domIndex(dt)+1,dt=dt.parentNode;for(;dt&&et<dt.childNodes.length;){let $t=dt.childNodes[et];if($t.nodeType==3)return $t;if($t.nodeType==1&&$t.contentEditable=="false")break;dt=$t,et=0}}function textNodeBefore(dt,et){for(;dt&&!et&&!hasBlockDesc(dt);)et=domIndex(dt),dt=dt.parentNode;for(;dt&&et;){let $t=dt.childNodes[et-1];if($t.nodeType==3)return $t;if($t.nodeType==1&&$t.contentEditable=="false")break;dt=$t,et=dt.childNodes.length}}function setSelFocus(dt,et,$t){if(et.nodeType!=3){let Dt,Ft;(Ft=textNodeAfter(et,$t))?(et=Ft,$t=0):(Dt=textNodeBefore(et,$t))&&(et=Dt,$t=Dt.nodeValue.length)}let kt=dt.domSelection();if(!kt)return;if(selectionCollapsed(kt)){let Dt=document.createRange();Dt.setEnd(et,$t),Dt.setStart(et,$t),kt.removeAllRanges(),kt.addRange(Dt)}else kt.extend&&kt.extend(et,$t);dt.domObserver.setCurSelection();let{state:Tt}=dt;setTimeout(()=>{dt.state==Tt&&selectionToDOM(dt)},50)}function findDirection(dt,et){let $t=dt.state.doc.resolve(et);if(!(chrome||windows$1)&&$t.parent.inlineContent){let Tt=dt.coordsAtPos(et);if(et>$t.start()){let Dt=dt.coordsAtPos(et-1),Ft=(Dt.top+Dt.bottom)/2;if(Ft>Tt.top&&Ft<Tt.bottom&&Math.abs(Dt.left-Tt.left)>1)return Dt.left<Tt.left?"ltr":"rtl"}if(et<$t.end()){let Dt=dt.coordsAtPos(et+1),Ft=(Dt.top+Dt.bottom)/2;if(Ft>Tt.top&&Ft<Tt.bottom&&Math.abs(Dt.left-Tt.left)>1)return Dt.left>Tt.left?"ltr":"rtl"}}return getComputedStyle(dt.dom).direction=="rtl"?"rtl":"ltr"}function selectVertically(dt,et,$t){let kt=dt.state.selection;if(kt instanceof TextSelection&&!kt.empty||$t.indexOf("s")>-1||mac$2&&$t.indexOf("m")>-1)return!1;let{$from:Tt,$to:Dt}=kt;if(!Tt.parent.inlineContent||dt.endOfTextblock(et<0?"up":"down")){let Ft=moveSelectionBlock(dt.state,et);if(Ft&&Ft instanceof NodeSelection)return apply$2(dt,Ft)}if(!Tt.parent.inlineContent){let Ft=et<0?Tt:Dt,Ut=kt instanceof AllSelection?Selection.near(Ft,et):Selection.findFrom(Ft,et);return Ut?apply$2(dt,Ut):!1}return!1}function stopNativeHorizontalDelete(dt,et){if(!(dt.state.selection instanceof TextSelection))return!0;let{$head:$t,$anchor:kt,empty:Tt}=dt.state.selection;if(!$t.sameParent(kt))return!0;if(!Tt)return!1;if(dt.endOfTextblock(et>0?"forward":"backward"))return!0;let Dt=!$t.textOffset&&(et<0?$t.nodeBefore:$t.nodeAfter);if(Dt&&!Dt.isText){let Ft=dt.state.tr;return et<0?Ft.delete($t.pos-Dt.nodeSize,$t.pos):Ft.delete($t.pos,$t.pos+Dt.nodeSize),dt.dispatch(Ft),!0}return!1}function switchEditable(dt,et,$t){dt.domObserver.stop(),et.contentEditable=$t,dt.domObserver.start()}function safariDownArrowBug(dt){if(!safari||dt.state.selection.$head.parentOffset>0)return!1;let{focusNode:et,focusOffset:$t}=dt.domSelectionRange();if(et&&et.nodeType==1&&$t==0&&et.firstChild&&et.firstChild.contentEditable=="false"){let kt=et.firstChild;switchEditable(dt,kt,"true"),setTimeout(()=>switchEditable(dt,kt,"false"),20)}return!1}function getMods(dt){let et="";return dt.ctrlKey&&(et+="c"),dt.metaKey&&(et+="m"),dt.altKey&&(et+="a"),dt.shiftKey&&(et+="s"),et}function captureKeyDown(dt,et){let $t=et.keyCode,kt=getMods(et);if($t==8||mac$2&&$t==72&&kt=="c")return stopNativeHorizontalDelete(dt,-1)||skipIgnoredNodes(dt,-1);if($t==46&&!et.shiftKey||mac$2&&$t==68&&kt=="c")return stopNativeHorizontalDelete(dt,1)||skipIgnoredNodes(dt,1);if($t==13||$t==27)return!0;if($t==37||mac$2&&$t==66&&kt=="c"){let Tt=$t==37?findDirection(dt,dt.state.selection.from)=="ltr"?-1:1:-1;return selectHorizontally(dt,Tt,kt)||skipIgnoredNodes(dt,Tt)}else if($t==39||mac$2&&$t==70&&kt=="c"){let Tt=$t==39?findDirection(dt,dt.state.selection.from)=="ltr"?1:-1:1;return selectHorizontally(dt,Tt,kt)||skipIgnoredNodes(dt,Tt)}else{if($t==38||mac$2&&$t==80&&kt=="c")return selectVertically(dt,-1,kt)||skipIgnoredNodes(dt,-1);if($t==40||mac$2&&$t==78&&kt=="c")return safariDownArrowBug(dt)||selectVertically(dt,1,kt)||skipIgnoredNodes(dt,1);if(kt==(mac$2?"m":"c")&&($t==66||$t==73||$t==89||$t==90))return!0}return!1}function serializeForClipboard(dt,et){dt.someProp("transformCopied",er=>{et=er(et,dt)});let $t=[],{content:kt,openStart:Tt,openEnd:Dt}=et;for(;Tt>1&&Dt>1&&kt.childCount==1&&kt.firstChild.childCount==1;){Tt--,Dt--;let er=kt.firstChild;$t.push(er.type.name,er.attrs!=er.type.defaultAttrs?er.attrs:null),kt=er.content}let Ft=dt.someProp("clipboardSerializer")||DOMSerializer.fromSchema(dt.state.schema),Ut=detachedDoc(),Ht=Ut.createElement("div");Ht.appendChild(Ft.serializeFragment(kt,{document:Ut}));let Kt=Ht.firstChild,Yt,Jt=0;for(;Kt&&Kt.nodeType==1&&(Yt=wrapMap[Kt.nodeName.toLowerCase()]);){for(let er=Yt.length-1;er>=0;er--){let rr=Ut.createElement(Yt[er]);for(;Ht.firstChild;)rr.appendChild(Ht.firstChild);Ht.appendChild(rr),Jt++}Kt=Ht.firstChild}Kt&&Kt.nodeType==1&&Kt.setAttribute("data-pm-slice",`${Tt} ${Dt}${Jt?` -${Jt}`:""} ${JSON.stringify($t)}`);let Zt=dt.someProp("clipboardTextSerializer",er=>er(et,dt))||et.content.textBetween(0,et.content.size,`

`);return{dom:Ht,text:Zt,slice:et}}function parseFromClipboard(dt,et,$t,kt,Tt){let Dt=Tt.parent.type.spec.code,Ft,Ut;if(!$t&&!et)return null;let Ht=!!et&&(kt||Dt||!$t);if(Ht){if(dt.someProp("transformPastedText",Zt=>{et=Zt(et,Dt||kt,dt)}),Dt)return Ut=new Slice(Fragment.from(dt.state.schema.text(et.replace(/\r\n?/g,`
`))),0,0),dt.someProp("transformPasted",Zt=>{Ut=Zt(Ut,dt,!0)}),Ut;let Jt=dt.someProp("clipboardTextParser",Zt=>Zt(et,Tt,kt,dt));if(Jt)Ut=Jt;else{let Zt=Tt.marks(),{schema:er}=dt.state,rr=DOMSerializer.fromSchema(er);Ft=document.createElement("div"),et.split(/(?:\r\n?|\n)+/).forEach(sr=>{let ir=Ft.appendChild(document.createElement("p"));sr&&ir.appendChild(rr.serializeNode(er.text(sr,Zt)))})}}else dt.someProp("transformPastedHTML",Jt=>{$t=Jt($t,dt)}),Ft=readHTML($t),webkit&&restoreReplacedSpaces(Ft);let Kt=Ft&&Ft.querySelector("[data-pm-slice]"),Yt=Kt&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(Kt.getAttribute("data-pm-slice")||"");if(Yt&&Yt[3])for(let Jt=+Yt[3];Jt>0;Jt--){let Zt=Ft.firstChild;for(;Zt&&Zt.nodeType!=1;)Zt=Zt.nextSibling;if(!Zt)break;Ft=Zt}if(Ut||(Ut=(dt.someProp("clipboardParser")||dt.someProp("domParser")||DOMParser.fromSchema(dt.state.schema)).parseSlice(Ft,{preserveWhitespace:!!(Ht||Yt),context:Tt,ruleFromNode(Zt){return Zt.nodeName=="BR"&&!Zt.nextSibling&&Zt.parentNode&&!inlineParents.test(Zt.parentNode.nodeName)?{ignore:!0}:null}})),Yt)Ut=addContext(closeSlice(Ut,+Yt[1],+Yt[2]),Yt[4]);else if(Ut=Slice.maxOpen(normalizeSiblings(Ut.content,Tt),!0),Ut.openStart||Ut.openEnd){let Jt=0,Zt=0;for(let er=Ut.content.firstChild;Jt<Ut.openStart&&!er.type.spec.isolating;Jt++,er=er.firstChild);for(let er=Ut.content.lastChild;Zt<Ut.openEnd&&!er.type.spec.isolating;Zt++,er=er.lastChild);Ut=closeSlice(Ut,Jt,Zt)}return dt.someProp("transformPasted",Jt=>{Ut=Jt(Ut,dt,Ht)}),Ut}const inlineParents=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function normalizeSiblings(dt,et){if(dt.childCount<2)return dt;for(let $t=et.depth;$t>=0;$t--){let Tt=et.node($t).contentMatchAt(et.index($t)),Dt,Ft=[];if(dt.forEach(Ut=>{if(!Ft)return;let Ht=Tt.findWrapping(Ut.type),Kt;if(!Ht)return Ft=null;if(Kt=Ft.length&&Dt.length&&addToSibling(Ht,Dt,Ut,Ft[Ft.length-1],0))Ft[Ft.length-1]=Kt;else{Ft.length&&(Ft[Ft.length-1]=closeRight(Ft[Ft.length-1],Dt.length));let Yt=withWrappers(Ut,Ht);Ft.push(Yt),Tt=Tt.matchType(Yt.type),Dt=Ht}}),Ft)return Fragment.from(Ft)}return dt}function withWrappers(dt,et,$t=0){for(let kt=et.length-1;kt>=$t;kt--)dt=et[kt].create(null,Fragment.from(dt));return dt}function addToSibling(dt,et,$t,kt,Tt){if(Tt<dt.length&&Tt<et.length&&dt[Tt]==et[Tt]){let Dt=addToSibling(dt,et,$t,kt.lastChild,Tt+1);if(Dt)return kt.copy(kt.content.replaceChild(kt.childCount-1,Dt));if(kt.contentMatchAt(kt.childCount).matchType(Tt==dt.length-1?$t.type:dt[Tt+1]))return kt.copy(kt.content.append(Fragment.from(withWrappers($t,dt,Tt+1))))}}function closeRight(dt,et){if(et==0)return dt;let $t=dt.content.replaceChild(dt.childCount-1,closeRight(dt.lastChild,et-1)),kt=dt.contentMatchAt(dt.childCount).fillBefore(Fragment.empty,!0);return dt.copy($t.append(kt))}function closeRange(dt,et,$t,kt,Tt,Dt){let Ft=et<0?dt.firstChild:dt.lastChild,Ut=Ft.content;return dt.childCount>1&&(Dt=0),Tt<kt-1&&(Ut=closeRange(Ut,et,$t,kt,Tt+1,Dt)),Tt>=$t&&(Ut=et<0?Ft.contentMatchAt(0).fillBefore(Ut,Dt<=Tt).append(Ut):Ut.append(Ft.contentMatchAt(Ft.childCount).fillBefore(Fragment.empty,!0))),dt.replaceChild(et<0?0:dt.childCount-1,Ft.copy(Ut))}function closeSlice(dt,et,$t){return et<dt.openStart&&(dt=new Slice(closeRange(dt.content,-1,et,dt.openStart,0,dt.openEnd),et,dt.openEnd)),$t<dt.openEnd&&(dt=new Slice(closeRange(dt.content,1,$t,dt.openEnd,0,0),dt.openStart,$t)),dt}const wrapMap={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let _detachedDoc=null;function detachedDoc(){return _detachedDoc||(_detachedDoc=document.implementation.createHTMLDocument("title"))}let _policy=null;function maybeWrapTrusted(dt){let et=window.trustedTypes;return et?(_policy||(_policy=et.defaultPolicy||et.createPolicy("ProseMirrorClipboard",{createHTML:$t=>$t})),_policy.createHTML(dt)):dt}function readHTML(dt){let et=/^(\s*<meta [^>]*>)*/.exec(dt);et&&(dt=dt.slice(et[0].length));let $t=detachedDoc().createElement("div"),kt=/<([a-z][^>\s]+)/i.exec(dt),Tt;if((Tt=kt&&wrapMap[kt[1].toLowerCase()])&&(dt=Tt.map(Dt=>"<"+Dt+">").join("")+dt+Tt.map(Dt=>"</"+Dt+">").reverse().join("")),$t.innerHTML=maybeWrapTrusted(dt),Tt)for(let Dt=0;Dt<Tt.length;Dt++)$t=$t.querySelector(Tt[Dt])||$t;return $t}function restoreReplacedSpaces(dt){let et=dt.querySelectorAll(chrome?"span:not([class]):not([style])":"span.Apple-converted-space");for(let $t=0;$t<et.length;$t++){let kt=et[$t];kt.childNodes.length==1&&kt.textContent==""&&kt.parentNode&&kt.parentNode.replaceChild(dt.ownerDocument.createTextNode(" "),kt)}}function addContext(dt,et){if(!dt.size)return dt;let $t=dt.content.firstChild.type.schema,kt;try{kt=JSON.parse(et)}catch{return dt}let{content:Tt,openStart:Dt,openEnd:Ft}=dt;for(let Ut=kt.length-2;Ut>=0;Ut-=2){let Ht=$t.nodes[kt[Ut]];if(!Ht||Ht.hasRequiredAttrs())break;Tt=Fragment.from(Ht.create(kt[Ut+1],Tt)),Dt++,Ft++}return new Slice(Tt,Dt,Ft)}const handlers={},editHandlers={},passiveHandlers={touchstart:!0,touchmove:!0};class InputState{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function initInput(dt){for(let et in handlers){let $t=handlers[et];dt.dom.addEventListener(et,dt.input.eventHandlers[et]=kt=>{eventBelongsToView(dt,kt)&&!runCustomHandler(dt,kt)&&(dt.editable||!(kt.type in editHandlers))&&$t(dt,kt)},passiveHandlers[et]?{passive:!0}:void 0)}safari&&dt.dom.addEventListener("input",()=>null),ensureListeners(dt)}function setSelectionOrigin(dt,et){dt.input.lastSelectionOrigin=et,dt.input.lastSelectionTime=Date.now()}function destroyInput(dt){dt.domObserver.stop();for(let et in dt.input.eventHandlers)dt.dom.removeEventListener(et,dt.input.eventHandlers[et]);clearTimeout(dt.input.composingTimeout),clearTimeout(dt.input.lastIOSEnterFallbackTimeout)}function ensureListeners(dt){dt.someProp("handleDOMEvents",et=>{for(let $t in et)dt.input.eventHandlers[$t]||dt.dom.addEventListener($t,dt.input.eventHandlers[$t]=kt=>runCustomHandler(dt,kt))})}function runCustomHandler(dt,et){return dt.someProp("handleDOMEvents",$t=>{let kt=$t[et.type];return kt?kt(dt,et)||et.defaultPrevented:!1})}function eventBelongsToView(dt,et){if(!et.bubbles)return!0;if(et.defaultPrevented)return!1;for(let $t=et.target;$t!=dt.dom;$t=$t.parentNode)if(!$t||$t.nodeType==11||$t.pmViewDesc&&$t.pmViewDesc.stopEvent(et))return!1;return!0}function dispatchEvent(dt,et){!runCustomHandler(dt,et)&&handlers[et.type]&&(dt.editable||!(et.type in editHandlers))&&handlers[et.type](dt,et)}editHandlers.keydown=(dt,et)=>{let $t=et;if(dt.input.shiftKey=$t.keyCode==16||$t.shiftKey,!inOrNearComposition(dt,$t)&&(dt.input.lastKeyCode=$t.keyCode,dt.input.lastKeyCodeTime=Date.now(),!(android&&chrome&&$t.keyCode==13)))if($t.keyCode!=229&&dt.domObserver.forceFlush(),ios&&$t.keyCode==13&&!$t.ctrlKey&&!$t.altKey&&!$t.metaKey){let kt=Date.now();dt.input.lastIOSEnter=kt,dt.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{dt.input.lastIOSEnter==kt&&(dt.someProp("handleKeyDown",Tt=>Tt(dt,keyEvent(13,"Enter"))),dt.input.lastIOSEnter=0)},200)}else dt.someProp("handleKeyDown",kt=>kt(dt,$t))||captureKeyDown(dt,$t)?$t.preventDefault():setSelectionOrigin(dt,"key")};editHandlers.keyup=(dt,et)=>{et.keyCode==16&&(dt.input.shiftKey=!1)};editHandlers.keypress=(dt,et)=>{let $t=et;if(inOrNearComposition(dt,$t)||!$t.charCode||$t.ctrlKey&&!$t.altKey||mac$2&&$t.metaKey)return;if(dt.someProp("handleKeyPress",Tt=>Tt(dt,$t))){$t.preventDefault();return}let kt=dt.state.selection;if(!(kt instanceof TextSelection)||!kt.$from.sameParent(kt.$to)){let Tt=String.fromCharCode($t.charCode),Dt=()=>dt.state.tr.insertText(Tt).scrollIntoView();!/[\r\n]/.test(Tt)&&!dt.someProp("handleTextInput",Ft=>Ft(dt,kt.$from.pos,kt.$to.pos,Tt,Dt))&&dt.dispatch(Dt()),$t.preventDefault()}};function eventCoords(dt){return{left:dt.clientX,top:dt.clientY}}function isNear(dt,et){let $t=et.x-dt.clientX,kt=et.y-dt.clientY;return $t*$t+kt*kt<100}function runHandlerOnContext(dt,et,$t,kt,Tt){if(kt==-1)return!1;let Dt=dt.state.doc.resolve(kt);for(let Ft=Dt.depth+1;Ft>0;Ft--)if(dt.someProp(et,Ut=>Ft>Dt.depth?Ut(dt,$t,Dt.nodeAfter,Dt.before(Ft),Tt,!0):Ut(dt,$t,Dt.node(Ft),Dt.before(Ft),Tt,!1)))return!0;return!1}function updateSelection(dt,et,$t){if(dt.focused||dt.focus(),dt.state.selection.eq(et))return;let kt=dt.state.tr.setSelection(et);$t=="pointer"&&kt.setMeta("pointer",!0),dt.dispatch(kt)}function selectClickedLeaf(dt,et){if(et==-1)return!1;let $t=dt.state.doc.resolve(et),kt=$t.nodeAfter;return kt&&kt.isAtom&&NodeSelection.isSelectable(kt)?(updateSelection(dt,new NodeSelection($t),"pointer"),!0):!1}function selectClickedNode(dt,et){if(et==-1)return!1;let $t=dt.state.selection,kt,Tt;$t instanceof NodeSelection&&(kt=$t.node);let Dt=dt.state.doc.resolve(et);for(let Ft=Dt.depth+1;Ft>0;Ft--){let Ut=Ft>Dt.depth?Dt.nodeAfter:Dt.node(Ft);if(NodeSelection.isSelectable(Ut)){kt&&$t.$from.depth>0&&Ft>=$t.$from.depth&&Dt.before($t.$from.depth+1)==$t.$from.pos?Tt=Dt.before($t.$from.depth):Tt=Dt.before(Ft);break}}return Tt!=null?(updateSelection(dt,NodeSelection.create(dt.state.doc,Tt),"pointer"),!0):!1}function handleSingleClick(dt,et,$t,kt,Tt){return runHandlerOnContext(dt,"handleClickOn",et,$t,kt)||dt.someProp("handleClick",Dt=>Dt(dt,et,kt))||(Tt?selectClickedNode(dt,$t):selectClickedLeaf(dt,$t))}function handleDoubleClick(dt,et,$t,kt){return runHandlerOnContext(dt,"handleDoubleClickOn",et,$t,kt)||dt.someProp("handleDoubleClick",Tt=>Tt(dt,et,kt))}function handleTripleClick(dt,et,$t,kt){return runHandlerOnContext(dt,"handleTripleClickOn",et,$t,kt)||dt.someProp("handleTripleClick",Tt=>Tt(dt,et,kt))||defaultTripleClick(dt,$t,kt)}function defaultTripleClick(dt,et,$t){if($t.button!=0)return!1;let kt=dt.state.doc;if(et==-1)return kt.inlineContent?(updateSelection(dt,TextSelection.create(kt,0,kt.content.size),"pointer"),!0):!1;let Tt=kt.resolve(et);for(let Dt=Tt.depth+1;Dt>0;Dt--){let Ft=Dt>Tt.depth?Tt.nodeAfter:Tt.node(Dt),Ut=Tt.before(Dt);if(Ft.inlineContent)updateSelection(dt,TextSelection.create(kt,Ut+1,Ut+1+Ft.content.size),"pointer");else if(NodeSelection.isSelectable(Ft))updateSelection(dt,NodeSelection.create(kt,Ut),"pointer");else continue;return!0}}function forceDOMFlush(dt){return endComposition(dt)}const selectNodeModifier=mac$2?"metaKey":"ctrlKey";handlers.mousedown=(dt,et)=>{let $t=et;dt.input.shiftKey=$t.shiftKey;let kt=forceDOMFlush(dt),Tt=Date.now(),Dt="singleClick";Tt-dt.input.lastClick.time<500&&isNear($t,dt.input.lastClick)&&!$t[selectNodeModifier]&&dt.input.lastClick.button==$t.button&&(dt.input.lastClick.type=="singleClick"?Dt="doubleClick":dt.input.lastClick.type=="doubleClick"&&(Dt="tripleClick")),dt.input.lastClick={time:Tt,x:$t.clientX,y:$t.clientY,type:Dt,button:$t.button};let Ft=dt.posAtCoords(eventCoords($t));Ft&&(Dt=="singleClick"?(dt.input.mouseDown&&dt.input.mouseDown.done(),dt.input.mouseDown=new MouseDown(dt,Ft,$t,!!kt)):(Dt=="doubleClick"?handleDoubleClick:handleTripleClick)(dt,Ft.pos,Ft.inside,$t)?$t.preventDefault():setSelectionOrigin(dt,"pointer"))};class MouseDown{constructor(et,$t,kt,Tt){this.view=et,this.pos=$t,this.event=kt,this.flushed=Tt,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=et.state.doc,this.selectNode=!!kt[selectNodeModifier],this.allowDefault=kt.shiftKey;let Dt,Ft;if($t.inside>-1)Dt=et.state.doc.nodeAt($t.inside),Ft=$t.inside;else{let Yt=et.state.doc.resolve($t.pos);Dt=Yt.parent,Ft=Yt.depth?Yt.before():0}const Ut=Tt?null:kt.target,Ht=Ut?et.docView.nearestDesc(Ut,!0):null;this.target=Ht&&Ht.nodeDOM.nodeType==1?Ht.nodeDOM:null;let{selection:Kt}=et.state;(kt.button==0&&Dt.type.spec.draggable&&Dt.type.spec.selectable!==!1||Kt instanceof NodeSelection&&Kt.from<=Ft&&Kt.to>Ft)&&(this.mightDrag={node:Dt,pos:Ft,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&gecko&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),et.root.addEventListener("mouseup",this.up=this.up.bind(this)),et.root.addEventListener("mousemove",this.move=this.move.bind(this)),setSelectionOrigin(et,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>selectionToDOM(this.view)),this.view.input.mouseDown=null}up(et){if(this.done(),!this.view.dom.contains(et.target))return;let $t=this.pos;this.view.state.doc!=this.startDoc&&($t=this.view.posAtCoords(eventCoords(et))),this.updateAllowDefault(et),this.allowDefault||!$t?setSelectionOrigin(this.view,"pointer"):handleSingleClick(this.view,$t.pos,$t.inside,et,this.selectNode)?et.preventDefault():et.button==0&&(this.flushed||safari&&this.mightDrag&&!this.mightDrag.node.isAtom||chrome&&!this.view.state.selection.visible&&Math.min(Math.abs($t.pos-this.view.state.selection.from),Math.abs($t.pos-this.view.state.selection.to))<=2)?(updateSelection(this.view,Selection.near(this.view.state.doc.resolve($t.pos)),"pointer"),et.preventDefault()):setSelectionOrigin(this.view,"pointer")}move(et){this.updateAllowDefault(et),setSelectionOrigin(this.view,"pointer"),et.buttons==0&&this.done()}updateAllowDefault(et){!this.allowDefault&&(Math.abs(this.event.x-et.clientX)>4||Math.abs(this.event.y-et.clientY)>4)&&(this.allowDefault=!0)}}handlers.touchstart=dt=>{dt.input.lastTouch=Date.now(),forceDOMFlush(dt),setSelectionOrigin(dt,"pointer")};handlers.touchmove=dt=>{dt.input.lastTouch=Date.now(),setSelectionOrigin(dt,"pointer")};handlers.contextmenu=dt=>forceDOMFlush(dt);function inOrNearComposition(dt,et){return dt.composing?!0:safari&&Math.abs(et.timeStamp-dt.input.compositionEndedAt)<500?(dt.input.compositionEndedAt=-2e8,!0):!1}const timeoutComposition=android?5e3:-1;editHandlers.compositionstart=editHandlers.compositionupdate=dt=>{if(!dt.composing){dt.domObserver.flush();let{state:et}=dt,$t=et.selection.$to;if(et.selection instanceof TextSelection&&(et.storedMarks||!$t.textOffset&&$t.parentOffset&&$t.nodeBefore.marks.some(kt=>kt.type.spec.inclusive===!1)))dt.markCursor=dt.state.storedMarks||$t.marks(),endComposition(dt,!0),dt.markCursor=null;else if(endComposition(dt,!et.selection.empty),gecko&&et.selection.empty&&$t.parentOffset&&!$t.textOffset&&$t.nodeBefore.marks.length){let kt=dt.domSelectionRange();for(let Tt=kt.focusNode,Dt=kt.focusOffset;Tt&&Tt.nodeType==1&&Dt!=0;){let Ft=Dt<0?Tt.lastChild:Tt.childNodes[Dt-1];if(!Ft)break;if(Ft.nodeType==3){let Ut=dt.domSelection();Ut&&Ut.collapse(Ft,Ft.nodeValue.length);break}else Tt=Ft,Dt=-1}}dt.input.composing=!0}scheduleComposeEnd(dt,timeoutComposition)};editHandlers.compositionend=(dt,et)=>{dt.composing&&(dt.input.composing=!1,dt.input.compositionEndedAt=et.timeStamp,dt.input.compositionPendingChanges=dt.domObserver.pendingRecords().length?dt.input.compositionID:0,dt.input.compositionNode=null,dt.input.compositionPendingChanges&&Promise.resolve().then(()=>dt.domObserver.flush()),dt.input.compositionID++,scheduleComposeEnd(dt,20))};function scheduleComposeEnd(dt,et){clearTimeout(dt.input.composingTimeout),et>-1&&(dt.input.composingTimeout=setTimeout(()=>endComposition(dt),et))}function clearComposition(dt){for(dt.composing&&(dt.input.composing=!1,dt.input.compositionEndedAt=timestampFromCustomEvent());dt.input.compositionNodes.length>0;)dt.input.compositionNodes.pop().markParentsDirty()}function findCompositionNode(dt){let et=dt.domSelectionRange();if(!et.focusNode)return null;let $t=textNodeBefore$1(et.focusNode,et.focusOffset),kt=textNodeAfter$1(et.focusNode,et.focusOffset);if($t&&kt&&$t!=kt){let Tt=kt.pmViewDesc,Dt=dt.domObserver.lastChangedTextNode;if($t==Dt||kt==Dt)return Dt;if(!Tt||!Tt.isText(kt.nodeValue))return kt;if(dt.input.compositionNode==kt){let Ft=$t.pmViewDesc;if(!(!Ft||!Ft.isText($t.nodeValue)))return kt}}return $t||kt}function timestampFromCustomEvent(){let dt=document.createEvent("Event");return dt.initEvent("event",!0,!0),dt.timeStamp}function endComposition(dt,et=!1){if(!(android&&dt.domObserver.flushingSoon>=0)){if(dt.domObserver.forceFlush(),clearComposition(dt),et||dt.docView&&dt.docView.dirty){let $t=selectionFromDOM(dt),kt=dt.state.selection;return $t&&!$t.eq(kt)?dt.dispatch(dt.state.tr.setSelection($t)):(dt.markCursor||et)&&!kt.$from.node(kt.$from.sharedDepth(kt.to)).inlineContent?dt.dispatch(dt.state.tr.deleteSelection()):dt.updateState(dt.state),!0}return!1}}function captureCopy(dt,et){if(!dt.dom.parentNode)return;let $t=dt.dom.parentNode.appendChild(document.createElement("div"));$t.appendChild(et),$t.style.cssText="position: fixed; left: -10000px; top: 10px";let kt=getSelection(),Tt=document.createRange();Tt.selectNodeContents(et),dt.dom.blur(),kt.removeAllRanges(),kt.addRange(Tt),setTimeout(()=>{$t.parentNode&&$t.parentNode.removeChild($t),dt.focus()},50)}const brokenClipboardAPI=ie$2&&ie_version<15||ios&&webkit_version<604;handlers.copy=editHandlers.cut=(dt,et)=>{let $t=et,kt=dt.state.selection,Tt=$t.type=="cut";if(kt.empty)return;let Dt=brokenClipboardAPI?null:$t.clipboardData,Ft=kt.content(),{dom:Ut,text:Ht}=serializeForClipboard(dt,Ft);Dt?($t.preventDefault(),Dt.clearData(),Dt.setData("text/html",Ut.innerHTML),Dt.setData("text/plain",Ht)):captureCopy(dt,Ut),Tt&&dt.dispatch(dt.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function sliceSingleNode(dt){return dt.openStart==0&&dt.openEnd==0&&dt.content.childCount==1?dt.content.firstChild:null}function capturePaste(dt,et){if(!dt.dom.parentNode)return;let $t=dt.input.shiftKey||dt.state.selection.$from.parent.type.spec.code,kt=dt.dom.parentNode.appendChild(document.createElement($t?"textarea":"div"));$t||(kt.contentEditable="true"),kt.style.cssText="position: fixed; left: -10000px; top: 10px",kt.focus();let Tt=dt.input.shiftKey&&dt.input.lastKeyCode!=45;setTimeout(()=>{dt.focus(),kt.parentNode&&kt.parentNode.removeChild(kt),$t?doPaste(dt,kt.value,null,Tt,et):doPaste(dt,kt.textContent,kt.innerHTML,Tt,et)},50)}function doPaste(dt,et,$t,kt,Tt){let Dt=parseFromClipboard(dt,et,$t,kt,dt.state.selection.$from);if(dt.someProp("handlePaste",Ht=>Ht(dt,Tt,Dt||Slice.empty)))return!0;if(!Dt)return!1;let Ft=sliceSingleNode(Dt),Ut=Ft?dt.state.tr.replaceSelectionWith(Ft,kt):dt.state.tr.replaceSelection(Dt);return dt.dispatch(Ut.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function getText$1(dt){let et=dt.getData("text/plain")||dt.getData("Text");if(et)return et;let $t=dt.getData("text/uri-list");return $t?$t.replace(/\r?\n/g," "):""}editHandlers.paste=(dt,et)=>{let $t=et;if(dt.composing&&!android)return;let kt=brokenClipboardAPI?null:$t.clipboardData,Tt=dt.input.shiftKey&&dt.input.lastKeyCode!=45;kt&&doPaste(dt,getText$1(kt),kt.getData("text/html"),Tt,$t)?$t.preventDefault():capturePaste(dt,$t)};class Dragging{constructor(et,$t,kt){this.slice=et,this.move=$t,this.node=kt}}const dragCopyModifier=mac$2?"altKey":"ctrlKey";function dragMoves(dt,et){let $t=dt.someProp("dragCopies",kt=>!kt(et));return $t??!et[dragCopyModifier]}handlers.dragstart=(dt,et)=>{let $t=et,kt=dt.input.mouseDown;if(kt&&kt.done(),!$t.dataTransfer)return;let Tt=dt.state.selection,Dt=Tt.empty?null:dt.posAtCoords(eventCoords($t)),Ft;if(!(Dt&&Dt.pos>=Tt.from&&Dt.pos<=(Tt instanceof NodeSelection?Tt.to-1:Tt.to))){if(kt&&kt.mightDrag)Ft=NodeSelection.create(dt.state.doc,kt.mightDrag.pos);else if($t.target&&$t.target.nodeType==1){let Jt=dt.docView.nearestDesc($t.target,!0);Jt&&Jt.node.type.spec.draggable&&Jt!=dt.docView&&(Ft=NodeSelection.create(dt.state.doc,Jt.posBefore))}}let Ut=(Ft||dt.state.selection).content(),{dom:Ht,text:Kt,slice:Yt}=serializeForClipboard(dt,Ut);(!$t.dataTransfer.files.length||!chrome||chrome_version>120)&&$t.dataTransfer.clearData(),$t.dataTransfer.setData(brokenClipboardAPI?"Text":"text/html",Ht.innerHTML),$t.dataTransfer.effectAllowed="copyMove",brokenClipboardAPI||$t.dataTransfer.setData("text/plain",Kt),dt.dragging=new Dragging(Yt,dragMoves(dt,$t),Ft)};handlers.dragend=dt=>{let et=dt.dragging;window.setTimeout(()=>{dt.dragging==et&&(dt.dragging=null)},50)};editHandlers.dragover=editHandlers.dragenter=(dt,et)=>et.preventDefault();editHandlers.drop=(dt,et)=>{let $t=et,kt=dt.dragging;if(dt.dragging=null,!$t.dataTransfer)return;let Tt=dt.posAtCoords(eventCoords($t));if(!Tt)return;let Dt=dt.state.doc.resolve(Tt.pos),Ft=kt&&kt.slice;Ft?dt.someProp("transformPasted",rr=>{Ft=rr(Ft,dt,!1)}):Ft=parseFromClipboard(dt,getText$1($t.dataTransfer),brokenClipboardAPI?null:$t.dataTransfer.getData("text/html"),!1,Dt);let Ut=!!(kt&&dragMoves(dt,$t));if(dt.someProp("handleDrop",rr=>rr(dt,$t,Ft||Slice.empty,Ut))){$t.preventDefault();return}if(!Ft)return;$t.preventDefault();let Ht=Ft?dropPoint(dt.state.doc,Dt.pos,Ft):Dt.pos;Ht==null&&(Ht=Dt.pos);let Kt=dt.state.tr;if(Ut){let{node:rr}=kt;rr?rr.replace(Kt):Kt.deleteSelection()}let Yt=Kt.mapping.map(Ht),Jt=Ft.openStart==0&&Ft.openEnd==0&&Ft.content.childCount==1,Zt=Kt.doc;if(Jt?Kt.replaceRangeWith(Yt,Yt,Ft.content.firstChild):Kt.replaceRange(Yt,Yt,Ft),Kt.doc.eq(Zt))return;let er=Kt.doc.resolve(Yt);if(Jt&&NodeSelection.isSelectable(Ft.content.firstChild)&&er.nodeAfter&&er.nodeAfter.sameMarkup(Ft.content.firstChild))Kt.setSelection(new NodeSelection(er));else{let rr=Kt.mapping.map(Ht);Kt.mapping.maps[Kt.mapping.maps.length-1].forEach((sr,ir,nr,or)=>rr=or),Kt.setSelection(selectionBetween(dt,er,Kt.doc.resolve(rr)))}dt.focus(),dt.dispatch(Kt.setMeta("uiEvent","drop"))};handlers.focus=dt=>{dt.input.lastFocus=Date.now(),dt.focused||(dt.domObserver.stop(),dt.dom.classList.add("ProseMirror-focused"),dt.domObserver.start(),dt.focused=!0,setTimeout(()=>{dt.docView&&dt.hasFocus()&&!dt.domObserver.currentSelection.eq(dt.domSelectionRange())&&selectionToDOM(dt)},20))};handlers.blur=(dt,et)=>{let $t=et;dt.focused&&(dt.domObserver.stop(),dt.dom.classList.remove("ProseMirror-focused"),dt.domObserver.start(),$t.relatedTarget&&dt.dom.contains($t.relatedTarget)&&dt.domObserver.currentSelection.clear(),dt.focused=!1)};handlers.beforeinput=(dt,et)=>{if(chrome&&android&&et.inputType=="deleteContentBackward"){dt.domObserver.flushSoon();let{domChangeCount:kt}=dt.input;setTimeout(()=>{if(dt.input.domChangeCount!=kt||(dt.dom.blur(),dt.focus(),dt.someProp("handleKeyDown",Dt=>Dt(dt,keyEvent(8,"Backspace")))))return;let{$cursor:Tt}=dt.state.selection;Tt&&Tt.pos>0&&dt.dispatch(dt.state.tr.delete(Tt.pos-1,Tt.pos).scrollIntoView())},50)}};for(let dt in editHandlers)handlers[dt]=editHandlers[dt];function compareObjs(dt,et){if(dt==et)return!0;for(let $t in dt)if(dt[$t]!==et[$t])return!1;for(let $t in et)if(!($t in dt))return!1;return!0}class WidgetType{constructor(et,$t){this.toDOM=et,this.spec=$t||noSpec,this.side=this.spec.side||0}map(et,$t,kt,Tt){let{pos:Dt,deleted:Ft}=et.mapResult($t.from+Tt,this.side<0?-1:1);return Ft?null:new Decoration(Dt-kt,Dt-kt,this)}valid(){return!0}eq(et){return this==et||et instanceof WidgetType&&(this.spec.key&&this.spec.key==et.spec.key||this.toDOM==et.toDOM&&compareObjs(this.spec,et.spec))}destroy(et){this.spec.destroy&&this.spec.destroy(et)}}class InlineType{constructor(et,$t){this.attrs=et,this.spec=$t||noSpec}map(et,$t,kt,Tt){let Dt=et.map($t.from+Tt,this.spec.inclusiveStart?-1:1)-kt,Ft=et.map($t.to+Tt,this.spec.inclusiveEnd?1:-1)-kt;return Dt>=Ft?null:new Decoration(Dt,Ft,this)}valid(et,$t){return $t.from<$t.to}eq(et){return this==et||et instanceof InlineType&&compareObjs(this.attrs,et.attrs)&&compareObjs(this.spec,et.spec)}static is(et){return et.type instanceof InlineType}destroy(){}}class NodeType{constructor(et,$t){this.attrs=et,this.spec=$t||noSpec}map(et,$t,kt,Tt){let Dt=et.mapResult($t.from+Tt,1);if(Dt.deleted)return null;let Ft=et.mapResult($t.to+Tt,-1);return Ft.deleted||Ft.pos<=Dt.pos?null:new Decoration(Dt.pos-kt,Ft.pos-kt,this)}valid(et,$t){let{index:kt,offset:Tt}=et.content.findIndex($t.from),Dt;return Tt==$t.from&&!(Dt=et.child(kt)).isText&&Tt+Dt.nodeSize==$t.to}eq(et){return this==et||et instanceof NodeType&&compareObjs(this.attrs,et.attrs)&&compareObjs(this.spec,et.spec)}destroy(){}}class Decoration{constructor(et,$t,kt){this.from=et,this.to=$t,this.type=kt}copy(et,$t){return new Decoration(et,$t,this.type)}eq(et,$t=0){return this.type.eq(et.type)&&this.from+$t==et.from&&this.to+$t==et.to}map(et,$t,kt){return this.type.map(et,this,$t,kt)}static widget(et,$t,kt){return new Decoration(et,et,new WidgetType($t,kt))}static inline(et,$t,kt,Tt){return new Decoration(et,$t,new InlineType(kt,Tt))}static node(et,$t,kt,Tt){return new Decoration(et,$t,new NodeType(kt,Tt))}get spec(){return this.type.spec}get inline(){return this.type instanceof InlineType}get widget(){return this.type instanceof WidgetType}}const none=[],noSpec={};class DecorationSet{constructor(et,$t){this.local=et.length?et:none,this.children=$t.length?$t:none}static create(et,$t){return $t.length?buildTree($t,et,0,noSpec):empty}find(et,$t,kt){let Tt=[];return this.findInner(et??0,$t??1e9,Tt,0,kt),Tt}findInner(et,$t,kt,Tt,Dt){for(let Ft=0;Ft<this.local.length;Ft++){let Ut=this.local[Ft];Ut.from<=$t&&Ut.to>=et&&(!Dt||Dt(Ut.spec))&&kt.push(Ut.copy(Ut.from+Tt,Ut.to+Tt))}for(let Ft=0;Ft<this.children.length;Ft+=3)if(this.children[Ft]<$t&&this.children[Ft+1]>et){let Ut=this.children[Ft]+1;this.children[Ft+2].findInner(et-Ut,$t-Ut,kt,Tt+Ut,Dt)}}map(et,$t,kt){return this==empty||et.maps.length==0?this:this.mapInner(et,$t,0,0,kt||noSpec)}mapInner(et,$t,kt,Tt,Dt){let Ft;for(let Ut=0;Ut<this.local.length;Ut++){let Ht=this.local[Ut].map(et,kt,Tt);Ht&&Ht.type.valid($t,Ht)?(Ft||(Ft=[])).push(Ht):Dt.onRemove&&Dt.onRemove(this.local[Ut].spec)}return this.children.length?mapChildren(this.children,Ft||[],et,$t,kt,Tt,Dt):Ft?new DecorationSet(Ft.sort(byPos),none):empty}add(et,$t){return $t.length?this==empty?DecorationSet.create(et,$t):this.addInner(et,$t,0):this}addInner(et,$t,kt){let Tt,Dt=0;et.forEach((Ut,Ht)=>{let Kt=Ht+kt,Yt;if(Yt=takeSpansForNode($t,Ut,Kt)){for(Tt||(Tt=this.children.slice());Dt<Tt.length&&Tt[Dt]<Ht;)Dt+=3;Tt[Dt]==Ht?Tt[Dt+2]=Tt[Dt+2].addInner(Ut,Yt,Kt+1):Tt.splice(Dt,0,Ht,Ht+Ut.nodeSize,buildTree(Yt,Ut,Kt+1,noSpec)),Dt+=3}});let Ft=moveSpans(Dt?withoutNulls($t):$t,-kt);for(let Ut=0;Ut<Ft.length;Ut++)Ft[Ut].type.valid(et,Ft[Ut])||Ft.splice(Ut--,1);return new DecorationSet(Ft.length?this.local.concat(Ft).sort(byPos):this.local,Tt||this.children)}remove(et){return et.length==0||this==empty?this:this.removeInner(et,0)}removeInner(et,$t){let kt=this.children,Tt=this.local;for(let Dt=0;Dt<kt.length;Dt+=3){let Ft,Ut=kt[Dt]+$t,Ht=kt[Dt+1]+$t;for(let Yt=0,Jt;Yt<et.length;Yt++)(Jt=et[Yt])&&Jt.from>Ut&&Jt.to<Ht&&(et[Yt]=null,(Ft||(Ft=[])).push(Jt));if(!Ft)continue;kt==this.children&&(kt=this.children.slice());let Kt=kt[Dt+2].removeInner(Ft,Ut+1);Kt!=empty?kt[Dt+2]=Kt:(kt.splice(Dt,3),Dt-=3)}if(Tt.length){for(let Dt=0,Ft;Dt<et.length;Dt++)if(Ft=et[Dt])for(let Ut=0;Ut<Tt.length;Ut++)Tt[Ut].eq(Ft,$t)&&(Tt==this.local&&(Tt=this.local.slice()),Tt.splice(Ut--,1))}return kt==this.children&&Tt==this.local?this:Tt.length||kt.length?new DecorationSet(Tt,kt):empty}forChild(et,$t){if(this==empty)return this;if($t.isLeaf)return DecorationSet.empty;let kt,Tt;for(let Ut=0;Ut<this.children.length;Ut+=3)if(this.children[Ut]>=et){this.children[Ut]==et&&(kt=this.children[Ut+2]);break}let Dt=et+1,Ft=Dt+$t.content.size;for(let Ut=0;Ut<this.local.length;Ut++){let Ht=this.local[Ut];if(Ht.from<Ft&&Ht.to>Dt&&Ht.type instanceof InlineType){let Kt=Math.max(Dt,Ht.from)-Dt,Yt=Math.min(Ft,Ht.to)-Dt;Kt<Yt&&(Tt||(Tt=[])).push(Ht.copy(Kt,Yt))}}if(Tt){let Ut=new DecorationSet(Tt.sort(byPos),none);return kt?new DecorationGroup([Ut,kt]):Ut}return kt||empty}eq(et){if(this==et)return!0;if(!(et instanceof DecorationSet)||this.local.length!=et.local.length||this.children.length!=et.children.length)return!1;for(let $t=0;$t<this.local.length;$t++)if(!this.local[$t].eq(et.local[$t]))return!1;for(let $t=0;$t<this.children.length;$t+=3)if(this.children[$t]!=et.children[$t]||this.children[$t+1]!=et.children[$t+1]||!this.children[$t+2].eq(et.children[$t+2]))return!1;return!0}locals(et){return removeOverlap(this.localsInner(et))}localsInner(et){if(this==empty)return none;if(et.inlineContent||!this.local.some(InlineType.is))return this.local;let $t=[];for(let kt=0;kt<this.local.length;kt++)this.local[kt].type instanceof InlineType||$t.push(this.local[kt]);return $t}forEachSet(et){et(this)}}DecorationSet.empty=new DecorationSet([],[]);DecorationSet.removeOverlap=removeOverlap;const empty=DecorationSet.empty;class DecorationGroup{constructor(et){this.members=et}map(et,$t){const kt=this.members.map(Tt=>Tt.map(et,$t,noSpec));return DecorationGroup.from(kt)}forChild(et,$t){if($t.isLeaf)return DecorationSet.empty;let kt=[];for(let Tt=0;Tt<this.members.length;Tt++){let Dt=this.members[Tt].forChild(et,$t);Dt!=empty&&(Dt instanceof DecorationGroup?kt=kt.concat(Dt.members):kt.push(Dt))}return DecorationGroup.from(kt)}eq(et){if(!(et instanceof DecorationGroup)||et.members.length!=this.members.length)return!1;for(let $t=0;$t<this.members.length;$t++)if(!this.members[$t].eq(et.members[$t]))return!1;return!0}locals(et){let $t,kt=!0;for(let Tt=0;Tt<this.members.length;Tt++){let Dt=this.members[Tt].localsInner(et);if(Dt.length)if(!$t)$t=Dt;else{kt&&($t=$t.slice(),kt=!1);for(let Ft=0;Ft<Dt.length;Ft++)$t.push(Dt[Ft])}}return $t?removeOverlap(kt?$t:$t.sort(byPos)):none}static from(et){switch(et.length){case 0:return empty;case 1:return et[0];default:return new DecorationGroup(et.every($t=>$t instanceof DecorationSet)?et:et.reduce(($t,kt)=>$t.concat(kt instanceof DecorationSet?kt:kt.members),[]))}}forEachSet(et){for(let $t=0;$t<this.members.length;$t++)this.members[$t].forEachSet(et)}}function mapChildren(dt,et,$t,kt,Tt,Dt,Ft){let Ut=dt.slice();for(let Kt=0,Yt=Dt;Kt<$t.maps.length;Kt++){let Jt=0;$t.maps[Kt].forEach((Zt,er,rr,sr)=>{let ir=sr-rr-(er-Zt);for(let nr=0;nr<Ut.length;nr+=3){let or=Ut[nr+1];if(or<0||Zt>or+Yt-Jt)continue;let lr=Ut[nr]+Yt-Jt;er>=lr?Ut[nr+1]=Zt<=lr?-2:-1:Zt>=Yt&&ir&&(Ut[nr]+=ir,Ut[nr+1]+=ir)}Jt+=ir}),Yt=$t.maps[Kt].map(Yt,-1)}let Ht=!1;for(let Kt=0;Kt<Ut.length;Kt+=3)if(Ut[Kt+1]<0){if(Ut[Kt+1]==-2){Ht=!0,Ut[Kt+1]=-1;continue}let Yt=$t.map(dt[Kt]+Dt),Jt=Yt-Tt;if(Jt<0||Jt>=kt.content.size){Ht=!0;continue}let Zt=$t.map(dt[Kt+1]+Dt,-1),er=Zt-Tt,{index:rr,offset:sr}=kt.content.findIndex(Jt),ir=kt.maybeChild(rr);if(ir&&sr==Jt&&sr+ir.nodeSize==er){let nr=Ut[Kt+2].mapInner($t,ir,Yt+1,dt[Kt]+Dt+1,Ft);nr!=empty?(Ut[Kt]=Jt,Ut[Kt+1]=er,Ut[Kt+2]=nr):(Ut[Kt+1]=-2,Ht=!0)}else Ht=!0}if(Ht){let Kt=mapAndGatherRemainingDecorations(Ut,dt,et,$t,Tt,Dt,Ft),Yt=buildTree(Kt,kt,0,Ft);et=Yt.local;for(let Jt=0;Jt<Ut.length;Jt+=3)Ut[Jt+1]<0&&(Ut.splice(Jt,3),Jt-=3);for(let Jt=0,Zt=0;Jt<Yt.children.length;Jt+=3){let er=Yt.children[Jt];for(;Zt<Ut.length&&Ut[Zt]<er;)Zt+=3;Ut.splice(Zt,0,Yt.children[Jt],Yt.children[Jt+1],Yt.children[Jt+2])}}return new DecorationSet(et.sort(byPos),Ut)}function moveSpans(dt,et){if(!et||!dt.length)return dt;let $t=[];for(let kt=0;kt<dt.length;kt++){let Tt=dt[kt];$t.push(new Decoration(Tt.from+et,Tt.to+et,Tt.type))}return $t}function mapAndGatherRemainingDecorations(dt,et,$t,kt,Tt,Dt,Ft){function Ut(Ht,Kt){for(let Yt=0;Yt<Ht.local.length;Yt++){let Jt=Ht.local[Yt].map(kt,Tt,Kt);Jt?$t.push(Jt):Ft.onRemove&&Ft.onRemove(Ht.local[Yt].spec)}for(let Yt=0;Yt<Ht.children.length;Yt+=3)Ut(Ht.children[Yt+2],Ht.children[Yt]+Kt+1)}for(let Ht=0;Ht<dt.length;Ht+=3)dt[Ht+1]==-1&&Ut(dt[Ht+2],et[Ht]+Dt+1);return $t}function takeSpansForNode(dt,et,$t){if(et.isLeaf)return null;let kt=$t+et.nodeSize,Tt=null;for(let Dt=0,Ft;Dt<dt.length;Dt++)(Ft=dt[Dt])&&Ft.from>$t&&Ft.to<kt&&((Tt||(Tt=[])).push(Ft),dt[Dt]=null);return Tt}function withoutNulls(dt){let et=[];for(let $t=0;$t<dt.length;$t++)dt[$t]!=null&&et.push(dt[$t]);return et}function buildTree(dt,et,$t,kt){let Tt=[],Dt=!1;et.forEach((Ut,Ht)=>{let Kt=takeSpansForNode(dt,Ut,Ht+$t);if(Kt){Dt=!0;let Yt=buildTree(Kt,Ut,$t+Ht+1,kt);Yt!=empty&&Tt.push(Ht,Ht+Ut.nodeSize,Yt)}});let Ft=moveSpans(Dt?withoutNulls(dt):dt,-$t).sort(byPos);for(let Ut=0;Ut<Ft.length;Ut++)Ft[Ut].type.valid(et,Ft[Ut])||(kt.onRemove&&kt.onRemove(Ft[Ut].spec),Ft.splice(Ut--,1));return Ft.length||Tt.length?new DecorationSet(Ft,Tt):empty}function byPos(dt,et){return dt.from-et.from||dt.to-et.to}function removeOverlap(dt){let et=dt;for(let $t=0;$t<et.length-1;$t++){let kt=et[$t];if(kt.from!=kt.to)for(let Tt=$t+1;Tt<et.length;Tt++){let Dt=et[Tt];if(Dt.from==kt.from){Dt.to!=kt.to&&(et==dt&&(et=dt.slice()),et[Tt]=Dt.copy(Dt.from,kt.to),insertAhead(et,Tt+1,Dt.copy(kt.to,Dt.to)));continue}else{Dt.from<kt.to&&(et==dt&&(et=dt.slice()),et[$t]=kt.copy(kt.from,Dt.from),insertAhead(et,Tt,kt.copy(Dt.from,kt.to)));break}}}return et}function insertAhead(dt,et,$t){for(;et<dt.length&&byPos($t,dt[et])>0;)et++;dt.splice(et,0,$t)}function viewDecorations(dt){let et=[];return dt.someProp("decorations",$t=>{let kt=$t(dt.state);kt&&kt!=empty&&et.push(kt)}),dt.cursorWrapper&&et.push(DecorationSet.create(dt.state.doc,[dt.cursorWrapper.deco])),DecorationGroup.from(et)}const observeOptions={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},useCharData=ie$2&&ie_version<=11;class SelectionState{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(et){this.anchorNode=et.anchorNode,this.anchorOffset=et.anchorOffset,this.focusNode=et.focusNode,this.focusOffset=et.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(et){return et.anchorNode==this.anchorNode&&et.anchorOffset==this.anchorOffset&&et.focusNode==this.focusNode&&et.focusOffset==this.focusOffset}}class DOMObserver{constructor(et,$t){this.view=et,this.handleDOMChange=$t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new SelectionState,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(kt=>{for(let Tt=0;Tt<kt.length;Tt++)this.queue.push(kt[Tt]);ie$2&&ie_version<=11&&kt.some(Tt=>Tt.type=="childList"&&Tt.removedNodes.length||Tt.type=="characterData"&&Tt.oldValue.length>Tt.target.nodeValue.length)?this.flushSoon():this.flush()}),useCharData&&(this.onCharData=kt=>{this.queue.push({target:kt.target,type:"characterData",oldValue:kt.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,observeOptions)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let et=this.observer.takeRecords();if(et.length){for(let $t=0;$t<et.length;$t++)this.queue.push(et[$t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(hasFocusAndSelection(this.view)){if(this.suppressingSelectionUpdates)return selectionToDOM(this.view);if(ie$2&&ie_version<=11&&!this.view.state.selection.empty){let et=this.view.domSelectionRange();if(et.focusNode&&isEquivalentPosition(et.focusNode,et.focusOffset,et.anchorNode,et.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(et){if(!et.focusNode)return!0;let $t=new Set,kt;for(let Dt=et.focusNode;Dt;Dt=parentNode(Dt))$t.add(Dt);for(let Dt=et.anchorNode;Dt;Dt=parentNode(Dt))if($t.has(Dt)){kt=Dt;break}let Tt=kt&&this.view.docView.nearestDesc(kt);if(Tt&&Tt.ignoreMutation({type:"selection",target:kt.nodeType==3?kt.parentNode:kt}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let et of this.observer.takeRecords())this.queue.push(et);return this.queue}flush(){let{view:et}=this;if(!et.docView||this.flushingSoon>-1)return;let $t=this.pendingRecords();$t.length&&(this.queue=[]);let kt=et.domSelectionRange(),Tt=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(kt)&&hasFocusAndSelection(et)&&!this.ignoreSelectionChange(kt),Dt=-1,Ft=-1,Ut=!1,Ht=[];if(et.editable)for(let Yt=0;Yt<$t.length;Yt++){let Jt=this.registerMutation($t[Yt],Ht);Jt&&(Dt=Dt<0?Jt.from:Math.min(Jt.from,Dt),Ft=Ft<0?Jt.to:Math.max(Jt.to,Ft),Jt.typeOver&&(Ut=!0))}if(gecko&&Ht.length){let Yt=Ht.filter(Jt=>Jt.nodeName=="BR");if(Yt.length==2){let[Jt,Zt]=Yt;Jt.parentNode&&Jt.parentNode.parentNode==Zt.parentNode?Zt.remove():Jt.remove()}else{let{focusNode:Jt}=this.currentSelection;for(let Zt of Yt){let er=Zt.parentNode;er&&er.nodeName=="LI"&&(!Jt||blockParent(et,Jt)!=er)&&Zt.remove()}}}let Kt=null;Dt<0&&Tt&&et.input.lastFocus>Date.now()-200&&Math.max(et.input.lastTouch,et.input.lastClick.time)<Date.now()-300&&selectionCollapsed(kt)&&(Kt=selectionFromDOM(et))&&Kt.eq(Selection.near(et.state.doc.resolve(0),1))?(et.input.lastFocus=0,selectionToDOM(et),this.currentSelection.set(kt),et.scrollToSelection()):(Dt>-1||Tt)&&(Dt>-1&&(et.docView.markDirty(Dt,Ft),checkCSS(et)),this.handleDOMChange(Dt,Ft,Ut,Ht),et.docView&&et.docView.dirty?et.updateState(et.state):this.currentSelection.eq(kt)||selectionToDOM(et),this.currentSelection.set(kt))}registerMutation(et,$t){if($t.indexOf(et.target)>-1)return null;let kt=this.view.docView.nearestDesc(et.target);if(et.type=="attributes"&&(kt==this.view.docView||et.attributeName=="contenteditable"||et.attributeName=="style"&&!et.oldValue&&!et.target.getAttribute("style"))||!kt||kt.ignoreMutation(et))return null;if(et.type=="childList"){for(let Yt=0;Yt<et.addedNodes.length;Yt++){let Jt=et.addedNodes[Yt];$t.push(Jt),Jt.nodeType==3&&(this.lastChangedTextNode=Jt)}if(kt.contentDOM&&kt.contentDOM!=kt.dom&&!kt.contentDOM.contains(et.target))return{from:kt.posBefore,to:kt.posAfter};let Tt=et.previousSibling,Dt=et.nextSibling;if(ie$2&&ie_version<=11&&et.addedNodes.length)for(let Yt=0;Yt<et.addedNodes.length;Yt++){let{previousSibling:Jt,nextSibling:Zt}=et.addedNodes[Yt];(!Jt||Array.prototype.indexOf.call(et.addedNodes,Jt)<0)&&(Tt=Jt),(!Zt||Array.prototype.indexOf.call(et.addedNodes,Zt)<0)&&(Dt=Zt)}let Ft=Tt&&Tt.parentNode==et.target?domIndex(Tt)+1:0,Ut=kt.localPosFromDOM(et.target,Ft,-1),Ht=Dt&&Dt.parentNode==et.target?domIndex(Dt):et.target.childNodes.length,Kt=kt.localPosFromDOM(et.target,Ht,1);return{from:Ut,to:Kt}}else return et.type=="attributes"?{from:kt.posAtStart-kt.border,to:kt.posAtEnd+kt.border}:(this.lastChangedTextNode=et.target,{from:kt.posAtStart,to:kt.posAtEnd,typeOver:et.target.nodeValue==et.oldValue})}}let cssChecked=new WeakMap,cssCheckWarned=!1;function checkCSS(dt){if(!cssChecked.has(dt)&&(cssChecked.set(dt,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(dt.dom).whiteSpace)!==-1)){if(dt.requiresGeckoHackNode=gecko,cssCheckWarned)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),cssCheckWarned=!0}}function rangeToSelectionRange(dt,et){let $t=et.startContainer,kt=et.startOffset,Tt=et.endContainer,Dt=et.endOffset,Ft=dt.domAtPos(dt.state.selection.anchor);return isEquivalentPosition(Ft.node,Ft.offset,Tt,Dt)&&([$t,kt,Tt,Dt]=[Tt,Dt,$t,kt]),{anchorNode:$t,anchorOffset:kt,focusNode:Tt,focusOffset:Dt}}function safariShadowSelectionRange(dt,et){if(et.getComposedRanges){let Tt=et.getComposedRanges(dt.root)[0];if(Tt)return rangeToSelectionRange(dt,Tt)}let $t;function kt(Tt){Tt.preventDefault(),Tt.stopImmediatePropagation(),$t=Tt.getTargetRanges()[0]}return dt.dom.addEventListener("beforeinput",kt,!0),document.execCommand("indent"),dt.dom.removeEventListener("beforeinput",kt,!0),$t?rangeToSelectionRange(dt,$t):null}function blockParent(dt,et){for(let $t=et.parentNode;$t&&$t!=dt.dom;$t=$t.parentNode){let kt=dt.docView.nearestDesc($t,!0);if(kt&&kt.node.isBlock)return $t}return null}function parseBetween(dt,et,$t){let{node:kt,fromOffset:Tt,toOffset:Dt,from:Ft,to:Ut}=dt.docView.parseRange(et,$t),Ht=dt.domSelectionRange(),Kt,Yt=Ht.anchorNode;if(Yt&&dt.dom.contains(Yt.nodeType==1?Yt:Yt.parentNode)&&(Kt=[{node:Yt,offset:Ht.anchorOffset}],selectionCollapsed(Ht)||Kt.push({node:Ht.focusNode,offset:Ht.focusOffset})),chrome&&dt.input.lastKeyCode===8)for(let ir=Dt;ir>Tt;ir--){let nr=kt.childNodes[ir-1],or=nr.pmViewDesc;if(nr.nodeName=="BR"&&!or){Dt=ir;break}if(!or||or.size)break}let Jt=dt.state.doc,Zt=dt.someProp("domParser")||DOMParser.fromSchema(dt.state.schema),er=Jt.resolve(Ft),rr=null,sr=Zt.parse(kt,{topNode:er.parent,topMatch:er.parent.contentMatchAt(er.index()),topOpen:!0,from:Tt,to:Dt,preserveWhitespace:er.parent.type.whitespace=="pre"?"full":!0,findPositions:Kt,ruleFromNode,context:er});if(Kt&&Kt[0].pos!=null){let ir=Kt[0].pos,nr=Kt[1]&&Kt[1].pos;nr==null&&(nr=ir),rr={anchor:ir+Ft,head:nr+Ft}}return{doc:sr,sel:rr,from:Ft,to:Ut}}function ruleFromNode(dt){let et=dt.pmViewDesc;if(et)return et.parseRule();if(dt.nodeName=="BR"&&dt.parentNode){if(safari&&/^(ul|ol)$/i.test(dt.parentNode.nodeName)){let $t=document.createElement("div");return $t.appendChild(document.createElement("li")),{skip:$t}}else if(dt.parentNode.lastChild==dt||safari&&/^(tr|table)$/i.test(dt.parentNode.nodeName))return{ignore:!0}}else if(dt.nodeName=="IMG"&&dt.getAttribute("mark-placeholder"))return{ignore:!0};return null}const isInline=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function readDOMChange(dt,et,$t,kt,Tt){let Dt=dt.input.compositionPendingChanges||(dt.composing?dt.input.compositionID:0);if(dt.input.compositionPendingChanges=0,et<0){let pr=dt.input.lastSelectionTime>Date.now()-50?dt.input.lastSelectionOrigin:null,mr=selectionFromDOM(dt,pr);if(mr&&!dt.state.selection.eq(mr)){if(chrome&&android&&dt.input.lastKeyCode===13&&Date.now()-100<dt.input.lastKeyCodeTime&&dt.someProp("handleKeyDown",kr=>kr(dt,keyEvent(13,"Enter"))))return;let vr=dt.state.tr.setSelection(mr);pr=="pointer"?vr.setMeta("pointer",!0):pr=="key"&&vr.scrollIntoView(),Dt&&vr.setMeta("composition",Dt),dt.dispatch(vr)}return}let Ft=dt.state.doc.resolve(et),Ut=Ft.sharedDepth($t);et=Ft.before(Ut+1),$t=dt.state.doc.resolve($t).after(Ut+1);let Ht=dt.state.selection,Kt=parseBetween(dt,et,$t),Yt=dt.state.doc,Jt=Yt.slice(Kt.from,Kt.to),Zt,er;dt.input.lastKeyCode===8&&Date.now()-100<dt.input.lastKeyCodeTime?(Zt=dt.state.selection.to,er="end"):(Zt=dt.state.selection.from,er="start"),dt.input.lastKeyCode=null;let rr=findDiff(Jt.content,Kt.doc.content,Kt.from,Zt,er);if(rr&&dt.input.domChangeCount++,(ios&&dt.input.lastIOSEnter>Date.now()-225||android)&&Tt.some(pr=>pr.nodeType==1&&!isInline.test(pr.nodeName))&&(!rr||rr.endA>=rr.endB)&&dt.someProp("handleKeyDown",pr=>pr(dt,keyEvent(13,"Enter")))){dt.input.lastIOSEnter=0;return}if(!rr)if(kt&&Ht instanceof TextSelection&&!Ht.empty&&Ht.$head.sameParent(Ht.$anchor)&&!dt.composing&&!(Kt.sel&&Kt.sel.anchor!=Kt.sel.head))rr={start:Ht.from,endA:Ht.to,endB:Ht.to};else{if(Kt.sel){let pr=resolveSelection(dt,dt.state.doc,Kt.sel);if(pr&&!pr.eq(dt.state.selection)){let mr=dt.state.tr.setSelection(pr);Dt&&mr.setMeta("composition",Dt),dt.dispatch(mr)}}return}dt.state.selection.from<dt.state.selection.to&&rr.start==rr.endB&&dt.state.selection instanceof TextSelection&&(rr.start>dt.state.selection.from&&rr.start<=dt.state.selection.from+2&&dt.state.selection.from>=Kt.from?rr.start=dt.state.selection.from:rr.endA<dt.state.selection.to&&rr.endA>=dt.state.selection.to-2&&dt.state.selection.to<=Kt.to&&(rr.endB+=dt.state.selection.to-rr.endA,rr.endA=dt.state.selection.to)),ie$2&&ie_version<=11&&rr.endB==rr.start+1&&rr.endA==rr.start&&rr.start>Kt.from&&Kt.doc.textBetween(rr.start-Kt.from-1,rr.start-Kt.from+1)==" "&&(rr.start--,rr.endA--,rr.endB--);let sr=Kt.doc.resolveNoCache(rr.start-Kt.from),ir=Kt.doc.resolveNoCache(rr.endB-Kt.from),nr=Yt.resolve(rr.start),or=sr.sameParent(ir)&&sr.parent.inlineContent&&nr.end()>=rr.endA;if((ios&&dt.input.lastIOSEnter>Date.now()-225&&(!or||Tt.some(pr=>pr.nodeName=="DIV"||pr.nodeName=="P"))||!or&&sr.pos<Kt.doc.content.size&&(!sr.sameParent(ir)||!sr.parent.inlineContent)&&sr.pos<ir.pos&&!/\S/.test(Kt.doc.textBetween(sr.pos,ir.pos,"","")))&&dt.someProp("handleKeyDown",pr=>pr(dt,keyEvent(13,"Enter")))){dt.input.lastIOSEnter=0;return}if(dt.state.selection.anchor>rr.start&&looksLikeBackspace(Yt,rr.start,rr.endA,sr,ir)&&dt.someProp("handleKeyDown",pr=>pr(dt,keyEvent(8,"Backspace")))){android&&chrome&&dt.domObserver.suppressSelectionUpdates();return}chrome&&rr.endB==rr.start&&(dt.input.lastChromeDelete=Date.now()),android&&!or&&sr.start()!=ir.start()&&ir.parentOffset==0&&sr.depth==ir.depth&&Kt.sel&&Kt.sel.anchor==Kt.sel.head&&Kt.sel.head==rr.endA&&(rr.endB-=2,ir=Kt.doc.resolveNoCache(rr.endB-Kt.from),setTimeout(()=>{dt.someProp("handleKeyDown",function(pr){return pr(dt,keyEvent(13,"Enter"))})},20));let lr=rr.start,cr=rr.endA,dr=pr=>{let mr=pr||dt.state.tr.replace(lr,cr,Kt.doc.slice(rr.start-Kt.from,rr.endB-Kt.from));if(Kt.sel){let vr=resolveSelection(dt,mr.doc,Kt.sel);vr&&!(chrome&&dt.composing&&vr.empty&&(rr.start!=rr.endB||dt.input.lastChromeDelete<Date.now()-100)&&(vr.head==lr||vr.head==mr.mapping.map(cr)-1)||ie$2&&vr.empty&&vr.head==lr)&&mr.setSelection(vr)}return Dt&&mr.setMeta("composition",Dt),mr.scrollIntoView()},ur;if(or)if(sr.pos==ir.pos){ie$2&&ie_version<=11&&sr.parentOffset==0&&(dt.domObserver.suppressSelectionUpdates(),setTimeout(()=>selectionToDOM(dt),20));let pr=dr(dt.state.tr.delete(lr,cr)),mr=Yt.resolve(rr.start).marksAcross(Yt.resolve(rr.endA));mr&&pr.ensureMarks(mr),dt.dispatch(pr)}else if(rr.endA==rr.endB&&(ur=isMarkChange(sr.parent.content.cut(sr.parentOffset,ir.parentOffset),nr.parent.content.cut(nr.parentOffset,rr.endA-nr.start())))){let pr=dr(dt.state.tr);ur.type=="add"?pr.addMark(lr,cr,ur.mark):pr.removeMark(lr,cr,ur.mark),dt.dispatch(pr)}else if(sr.parent.child(sr.index()).isText&&sr.index()==ir.index()-(ir.textOffset?0:1)){let pr=sr.parent.textBetween(sr.parentOffset,ir.parentOffset),mr=()=>dr(dt.state.tr.insertText(pr,lr,cr));dt.someProp("handleTextInput",vr=>vr(dt,lr,cr,pr,mr))||dt.dispatch(mr())}else dt.dispatch(dr());else dt.dispatch(dr())}function resolveSelection(dt,et,$t){return Math.max($t.anchor,$t.head)>et.content.size?null:selectionBetween(dt,et.resolve($t.anchor),et.resolve($t.head))}function isMarkChange(dt,et){let $t=dt.firstChild.marks,kt=et.firstChild.marks,Tt=$t,Dt=kt,Ft,Ut,Ht;for(let Yt=0;Yt<kt.length;Yt++)Tt=kt[Yt].removeFromSet(Tt);for(let Yt=0;Yt<$t.length;Yt++)Dt=$t[Yt].removeFromSet(Dt);if(Tt.length==1&&Dt.length==0)Ut=Tt[0],Ft="add",Ht=Yt=>Yt.mark(Ut.addToSet(Yt.marks));else if(Tt.length==0&&Dt.length==1)Ut=Dt[0],Ft="remove",Ht=Yt=>Yt.mark(Ut.removeFromSet(Yt.marks));else return null;let Kt=[];for(let Yt=0;Yt<et.childCount;Yt++)Kt.push(Ht(et.child(Yt)));if(Fragment.from(Kt).eq(dt))return{mark:Ut,type:Ft}}function looksLikeBackspace(dt,et,$t,kt,Tt){if($t-et<=Tt.pos-kt.pos||skipClosingAndOpening(kt,!0,!1)<Tt.pos)return!1;let Dt=dt.resolve(et);if(!kt.parent.isTextblock){let Ut=Dt.nodeAfter;return Ut!=null&&$t==et+Ut.nodeSize}if(Dt.parentOffset<Dt.parent.content.size||!Dt.parent.isTextblock)return!1;let Ft=dt.resolve(skipClosingAndOpening(Dt,!0,!0));return!Ft.parent.isTextblock||Ft.pos>$t||skipClosingAndOpening(Ft,!0,!1)<$t?!1:kt.parent.content.cut(kt.parentOffset).eq(Ft.parent.content)}function skipClosingAndOpening(dt,et,$t){let kt=dt.depth,Tt=et?dt.end():dt.pos;for(;kt>0&&(et||dt.indexAfter(kt)==dt.node(kt).childCount);)kt--,Tt++,et=!1;if($t){let Dt=dt.node(kt).maybeChild(dt.indexAfter(kt));for(;Dt&&!Dt.isLeaf;)Dt=Dt.firstChild,Tt++}return Tt}function findDiff(dt,et,$t,kt,Tt){let Dt=dt.findDiffStart(et,$t);if(Dt==null)return null;let{a:Ft,b:Ut}=dt.findDiffEnd(et,$t+dt.size,$t+et.size);if(Tt=="end"){let Ht=Math.max(0,Dt-Math.min(Ft,Ut));kt-=Ft+Ht-Dt}if(Ft<Dt&&dt.size<et.size){let Ht=kt<=Dt&&kt>=Ft?Dt-kt:0;Dt-=Ht,Dt&&Dt<et.size&&isSurrogatePair(et.textBetween(Dt-1,Dt+1))&&(Dt+=Ht?1:-1),Ut=Dt+(Ut-Ft),Ft=Dt}else if(Ut<Dt){let Ht=kt<=Dt&&kt>=Ut?Dt-kt:0;Dt-=Ht,Dt&&Dt<dt.size&&isSurrogatePair(dt.textBetween(Dt-1,Dt+1))&&(Dt+=Ht?1:-1),Ft=Dt+(Ft-Ut),Ut=Dt}return{start:Dt,endA:Ft,endB:Ut}}function isSurrogatePair(dt){if(dt.length!=2)return!1;let et=dt.charCodeAt(0),$t=dt.charCodeAt(1);return et>=56320&&et<=57343&&$t>=55296&&$t<=56319}class EditorView{constructor(et,$t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new InputState,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=$t,this.state=$t.state,this.directPlugins=$t.plugins||[],this.directPlugins.forEach(checkStateComponent),this.dispatch=this.dispatch.bind(this),this.dom=et&&et.mount||document.createElement("div"),et&&(et.appendChild?et.appendChild(this.dom):typeof et=="function"?et(this.dom):et.mount&&(this.mounted=!0)),this.editable=getEditable(this),updateCursorWrapper(this),this.nodeViews=buildNodeViews(this),this.docView=docViewDesc(this.state.doc,computeDocDeco(this),viewDecorations(this),this.dom,this),this.domObserver=new DOMObserver(this,(kt,Tt,Dt,Ft)=>readDOMChange(this,kt,Tt,Dt,Ft)),this.domObserver.start(),initInput(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let et=this._props;this._props={};for(let $t in et)this._props[$t]=et[$t];this._props.state=this.state}return this._props}update(et){et.handleDOMEvents!=this._props.handleDOMEvents&&ensureListeners(this);let $t=this._props;this._props=et,et.plugins&&(et.plugins.forEach(checkStateComponent),this.directPlugins=et.plugins),this.updateStateInner(et.state,$t)}setProps(et){let $t={};for(let kt in this._props)$t[kt]=this._props[kt];$t.state=this.state;for(let kt in et)$t[kt]=et[kt];this.update($t)}updateState(et){this.updateStateInner(et,this._props)}updateStateInner(et,$t){var kt;let Tt=this.state,Dt=!1,Ft=!1;et.storedMarks&&this.composing&&(clearComposition(this),Ft=!0),this.state=et;let Ut=Tt.plugins!=et.plugins||this._props.plugins!=$t.plugins;if(Ut||this._props.plugins!=$t.plugins||this._props.nodeViews!=$t.nodeViews){let er=buildNodeViews(this);changedNodeViews(er,this.nodeViews)&&(this.nodeViews=er,Dt=!0)}(Ut||$t.handleDOMEvents!=this._props.handleDOMEvents)&&ensureListeners(this),this.editable=getEditable(this),updateCursorWrapper(this);let Ht=viewDecorations(this),Kt=computeDocDeco(this),Yt=Tt.plugins!=et.plugins&&!Tt.doc.eq(et.doc)?"reset":et.scrollToSelection>Tt.scrollToSelection?"to selection":"preserve",Jt=Dt||!this.docView.matchesNode(et.doc,Kt,Ht);(Jt||!et.selection.eq(Tt.selection))&&(Ft=!0);let Zt=Yt=="preserve"&&Ft&&this.dom.style.overflowAnchor==null&&storeScrollPos(this);if(Ft){this.domObserver.stop();let er=Jt&&(ie$2||chrome)&&!this.composing&&!Tt.selection.empty&&!et.selection.empty&&selectionContextChanged(Tt.selection,et.selection);if(Jt){let rr=chrome?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=findCompositionNode(this)),(Dt||!this.docView.update(et.doc,Kt,Ht,this))&&(this.docView.updateOuterDeco(Kt),this.docView.destroy(),this.docView=docViewDesc(et.doc,Kt,Ht,this.dom,this)),rr&&!this.trackWrites&&(er=!0)}er||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&anchorInRightPlace(this))?selectionToDOM(this,er):(syncNodeSelection(this,et.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(Tt),!((kt=this.dragging)===null||kt===void 0)&&kt.node&&!Tt.doc.eq(et.doc)&&this.updateDraggedNode(this.dragging,Tt),Yt=="reset"?this.dom.scrollTop=0:Yt=="to selection"?this.scrollToSelection():Zt&&resetScrollPos(Zt)}scrollToSelection(){let et=this.domSelectionRange().focusNode;if(!(!et||!this.dom.contains(et.nodeType==1?et:et.parentNode))){if(!this.someProp("handleScrollToSelection",$t=>$t(this)))if(this.state.selection instanceof NodeSelection){let $t=this.docView.domAfterPos(this.state.selection.from);$t.nodeType==1&&scrollRectIntoView(this,$t.getBoundingClientRect(),et)}else scrollRectIntoView(this,this.coordsAtPos(this.state.selection.head,1),et)}}destroyPluginViews(){let et;for(;et=this.pluginViews.pop();)et.destroy&&et.destroy()}updatePluginViews(et){if(!et||et.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let $t=0;$t<this.directPlugins.length;$t++){let kt=this.directPlugins[$t];kt.spec.view&&this.pluginViews.push(kt.spec.view(this))}for(let $t=0;$t<this.state.plugins.length;$t++){let kt=this.state.plugins[$t];kt.spec.view&&this.pluginViews.push(kt.spec.view(this))}}else for(let $t=0;$t<this.pluginViews.length;$t++){let kt=this.pluginViews[$t];kt.update&&kt.update(this,et)}}updateDraggedNode(et,$t){let kt=et.node,Tt=-1;if(this.state.doc.nodeAt(kt.from)==kt.node)Tt=kt.from;else{let Dt=kt.from+(this.state.doc.content.size-$t.doc.content.size);(Dt>0&&this.state.doc.nodeAt(Dt))==kt.node&&(Tt=Dt)}this.dragging=new Dragging(et.slice,et.move,Tt<0?void 0:NodeSelection.create(this.state.doc,Tt))}someProp(et,$t){let kt=this._props&&this._props[et],Tt;if(kt!=null&&(Tt=$t?$t(kt):kt))return Tt;for(let Ft=0;Ft<this.directPlugins.length;Ft++){let Ut=this.directPlugins[Ft].props[et];if(Ut!=null&&(Tt=$t?$t(Ut):Ut))return Tt}let Dt=this.state.plugins;if(Dt)for(let Ft=0;Ft<Dt.length;Ft++){let Ut=Dt[Ft].props[et];if(Ut!=null&&(Tt=$t?$t(Ut):Ut))return Tt}}hasFocus(){if(ie$2){let et=this.root.activeElement;if(et==this.dom)return!0;if(!et||!this.dom.contains(et))return!1;for(;et&&this.dom!=et&&this.dom.contains(et);){if(et.contentEditable=="false")return!1;et=et.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&focusPreventScroll(this.dom),selectionToDOM(this),this.domObserver.start()}get root(){let et=this._root;if(et==null){for(let $t=this.dom.parentNode;$t;$t=$t.parentNode)if($t.nodeType==9||$t.nodeType==11&&$t.host)return $t.getSelection||(Object.getPrototypeOf($t).getSelection=()=>$t.ownerDocument.getSelection()),this._root=$t}return et||document}updateRoot(){this._root=null}posAtCoords(et){return posAtCoords(this,et)}coordsAtPos(et,$t=1){return coordsAtPos(this,et,$t)}domAtPos(et,$t=0){return this.docView.domFromPos(et,$t)}nodeDOM(et){let $t=this.docView.descAt(et);return $t?$t.nodeDOM:null}posAtDOM(et,$t,kt=-1){let Tt=this.docView.posFromDOM(et,$t,kt);if(Tt==null)throw new RangeError("DOM position not inside the editor");return Tt}endOfTextblock(et,$t){return endOfTextblock(this,$t||this.state,et)}pasteHTML(et,$t){return doPaste(this,"",et,!1,$t||new ClipboardEvent("paste"))}pasteText(et,$t){return doPaste(this,et,null,!0,$t||new ClipboardEvent("paste"))}serializeForClipboard(et){return serializeForClipboard(this,et)}destroy(){this.docView&&(destroyInput(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],viewDecorations(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,clearReusedRange())}get isDestroyed(){return this.docView==null}dispatchEvent(et){return dispatchEvent(this,et)}domSelectionRange(){let et=this.domSelection();return et?safari&&this.root.nodeType===11&&deepActiveElement(this.dom.ownerDocument)==this.dom&&safariShadowSelectionRange(this,et)||et:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}EditorView.prototype.dispatch=function(dt){let et=this._props.dispatchTransaction;et?et.call(this,dt):this.updateState(this.state.apply(dt))};function computeDocDeco(dt){let et=Object.create(null);return et.class="ProseMirror",et.contenteditable=String(dt.editable),dt.someProp("attributes",$t=>{if(typeof $t=="function"&&($t=$t(dt.state)),$t)for(let kt in $t)kt=="class"?et.class+=" "+$t[kt]:kt=="style"?et.style=(et.style?et.style+";":"")+$t[kt]:!et[kt]&&kt!="contenteditable"&&kt!="nodeName"&&(et[kt]=String($t[kt]))}),et.translate||(et.translate="no"),[Decoration.node(0,dt.state.doc.content.size,et)]}function updateCursorWrapper(dt){if(dt.markCursor){let et=document.createElement("img");et.className="ProseMirror-separator",et.setAttribute("mark-placeholder","true"),et.setAttribute("alt",""),dt.cursorWrapper={dom:et,deco:Decoration.widget(dt.state.selection.from,et,{raw:!0,marks:dt.markCursor})}}else dt.cursorWrapper=null}function getEditable(dt){return!dt.someProp("editable",et=>et(dt.state)===!1)}function selectionContextChanged(dt,et){let $t=Math.min(dt.$anchor.sharedDepth(dt.head),et.$anchor.sharedDepth(et.head));return dt.$anchor.start($t)!=et.$anchor.start($t)}function buildNodeViews(dt){let et=Object.create(null);function $t(kt){for(let Tt in kt)Object.prototype.hasOwnProperty.call(et,Tt)||(et[Tt]=kt[Tt])}return dt.someProp("nodeViews",$t),dt.someProp("markViews",$t),et}function changedNodeViews(dt,et){let $t=0,kt=0;for(let Tt in dt){if(dt[Tt]!=et[Tt])return!0;$t++}for(let Tt in et)kt++;return $t!=kt}function checkStateComponent(dt){if(dt.spec.state||dt.spec.filterTransaction||dt.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var base={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shift={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},mac$1=typeof navigator<"u"&&/Mac/.test(navigator.platform),ie$1=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var i$4=0;i$4<10;i$4++)base[48+i$4]=base[96+i$4]=String(i$4);for(var i$4=1;i$4<=24;i$4++)base[i$4+111]="F"+i$4;for(var i$4=65;i$4<=90;i$4++)base[i$4]=String.fromCharCode(i$4+32),shift[i$4]=String.fromCharCode(i$4);for(var code in base)shift.hasOwnProperty(code)||(shift[code]=base[code]);function keyName(dt){var et=mac$1&&dt.metaKey&&dt.shiftKey&&!dt.ctrlKey&&!dt.altKey||ie$1&&dt.shiftKey&&dt.key&&dt.key.length==1||dt.key=="Unidentified",$t=!et&&dt.key||(dt.shiftKey?shift:base)[dt.keyCode]||dt.key||"Unidentified";return $t=="Esc"&&($t="Escape"),$t=="Del"&&($t="Delete"),$t=="Left"&&($t="ArrowLeft"),$t=="Up"&&($t="ArrowUp"),$t=="Right"&&($t="ArrowRight"),$t=="Down"&&($t="ArrowDown"),$t}const mac=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),windows=typeof navigator<"u"&&/Win/.test(navigator.platform);function normalizeKeyName$1(dt){let et=dt.split(/-(?!$)/),$t=et[et.length-1];$t=="Space"&&($t=" ");let kt,Tt,Dt,Ft;for(let Ut=0;Ut<et.length-1;Ut++){let Ht=et[Ut];if(/^(cmd|meta|m)$/i.test(Ht))Ft=!0;else if(/^a(lt)?$/i.test(Ht))kt=!0;else if(/^(c|ctrl|control)$/i.test(Ht))Tt=!0;else if(/^s(hift)?$/i.test(Ht))Dt=!0;else if(/^mod$/i.test(Ht))mac?Ft=!0:Tt=!0;else throw new Error("Unrecognized modifier name: "+Ht)}return kt&&($t="Alt-"+$t),Tt&&($t="Ctrl-"+$t),Ft&&($t="Meta-"+$t),Dt&&($t="Shift-"+$t),$t}function normalize$1(dt){let et=Object.create(null);for(let $t in dt)et[normalizeKeyName$1($t)]=dt[$t];return et}function modifiers(dt,et,$t=!0){return et.altKey&&(dt="Alt-"+dt),et.ctrlKey&&(dt="Ctrl-"+dt),et.metaKey&&(dt="Meta-"+dt),$t&&et.shiftKey&&(dt="Shift-"+dt),dt}function keymap(dt){return new Plugin({props:{handleKeyDown:keydownHandler(dt)}})}function keydownHandler(dt){let et=normalize$1(dt);return function($t,kt){let Tt=keyName(kt),Dt,Ft=et[modifiers(Tt,kt)];if(Ft&&Ft($t.state,$t.dispatch,$t))return!0;if(Tt.length==1&&Tt!=" "){if(kt.shiftKey){let Ut=et[modifiers(Tt,kt,!1)];if(Ut&&Ut($t.state,$t.dispatch,$t))return!0}if((kt.altKey||kt.metaKey||kt.ctrlKey)&&!(windows&&kt.ctrlKey&&kt.altKey)&&(Dt=base[kt.keyCode])&&Dt!=Tt){let Ut=et[modifiers(Dt,kt)];if(Ut&&Ut($t.state,$t.dispatch,$t))return!0}}return!1}}var __defProp$7=Object.defineProperty,__export$7=(dt,et)=>{for(var $t in et)__defProp$7(dt,$t,{get:et[$t],enumerable:!0})};function createChainableState(dt){const{state:et,transaction:$t}=dt;let{selection:kt}=$t,{doc:Tt}=$t,{storedMarks:Dt}=$t;return{...et,apply:et.apply.bind(et),applyTransaction:et.applyTransaction.bind(et),plugins:et.plugins,schema:et.schema,reconfigure:et.reconfigure.bind(et),toJSON:et.toJSON.bind(et),get storedMarks(){return Dt},get selection(){return kt},get doc(){return Tt},get tr(){return kt=$t.selection,Tt=$t.doc,Dt=$t.storedMarks,$t}}}var CommandManager$1=class{constructor(et){this.editor=et.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=et.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:et,editor:$t,state:kt}=this,{view:Tt}=$t,{tr:Dt}=kt,Ft=this.buildProps(Dt);return Object.fromEntries(Object.entries(et).map(([Ut,Ht])=>[Ut,(...Yt)=>{const Jt=Ht(...Yt)(Ft);return!Dt.getMeta("preventDispatch")&&!this.hasCustomState&&Tt.dispatch(Dt),Jt}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(et,$t=!0){const{rawCommands:kt,editor:Tt,state:Dt}=this,{view:Ft}=Tt,Ut=[],Ht=!!et,Kt=et||Dt.tr,Yt=()=>(!Ht&&$t&&!Kt.getMeta("preventDispatch")&&!this.hasCustomState&&Ft.dispatch(Kt),Ut.every(Zt=>Zt===!0)),Jt={...Object.fromEntries(Object.entries(kt).map(([Zt,er])=>[Zt,(...sr)=>{const ir=this.buildProps(Kt,$t),nr=er(...sr)(ir);return Ut.push(nr),Jt}])),run:Yt};return Jt}createCan(et){const{rawCommands:$t,state:kt}=this,Tt=!1,Dt=et||kt.tr,Ft=this.buildProps(Dt,Tt);return{...Object.fromEntries(Object.entries($t).map(([Ht,Kt])=>[Ht,(...Yt)=>Kt(...Yt)({...Ft,dispatch:void 0})])),chain:()=>this.createChain(Dt,Tt)}}buildProps(et,$t=!0){const{rawCommands:kt,editor:Tt,state:Dt}=this,{view:Ft}=Tt,Ut={tr:et,editor:Tt,view:Ft,state:createChainableState({state:Dt,transaction:et}),dispatch:$t?()=>{}:void 0,chain:()=>this.createChain(et,$t),can:()=>this.createCan(et),get commands(){return Object.fromEntries(Object.entries(kt).map(([Ht,Kt])=>[Ht,(...Yt)=>Kt(...Yt)(Ut)]))}};return Ut}},commands_exports={};__export$7(commands_exports,{blur:()=>blur,clearContent:()=>clearContent,clearNodes:()=>clearNodes,command:()=>command,createParagraphNear:()=>createParagraphNear,cut:()=>cut,deleteCurrentNode:()=>deleteCurrentNode,deleteNode:()=>deleteNode,deleteRange:()=>deleteRange,deleteSelection:()=>deleteSelection,enter:()=>enter,exitCode:()=>exitCode,extendMarkRange:()=>extendMarkRange,first:()=>first,focus:()=>focus,forEach:()=>forEach,insertContent:()=>insertContent,insertContentAt:()=>insertContentAt,joinBackward:()=>joinBackward,joinDown:()=>joinDown,joinForward:()=>joinForward,joinItemBackward:()=>joinItemBackward,joinItemForward:()=>joinItemForward,joinTextblockBackward:()=>joinTextblockBackward,joinTextblockForward:()=>joinTextblockForward,joinUp:()=>joinUp,keyboardShortcut:()=>keyboardShortcut,lift:()=>lift,liftEmptyBlock:()=>liftEmptyBlock,liftListItem:()=>liftListItem,newlineInCode:()=>newlineInCode,resetAttributes:()=>resetAttributes,scrollIntoView:()=>scrollIntoView,selectAll:()=>selectAll,selectNodeBackward:()=>selectNodeBackward,selectNodeForward:()=>selectNodeForward,selectParentNode:()=>selectParentNode,selectTextblockEnd:()=>selectTextblockEnd,selectTextblockStart:()=>selectTextblockStart,setContent:()=>setContent,setMark:()=>setMark,setMeta:()=>setMeta,setNode:()=>setNode,setNodeSelection:()=>setNodeSelection,setTextDirection:()=>setTextDirection,setTextSelection:()=>setTextSelection,sinkListItem:()=>sinkListItem,splitBlock:()=>splitBlock,splitListItem:()=>splitListItem,toggleList:()=>toggleList,toggleMark:()=>toggleMark,toggleNode:()=>toggleNode,toggleWrap:()=>toggleWrap,undoInputRule:()=>undoInputRule,unsetAllMarks:()=>unsetAllMarks,unsetMark:()=>unsetMark,unsetTextDirection:()=>unsetTextDirection,updateAttributes:()=>updateAttributes,wrapIn:()=>wrapIn,wrapInList:()=>wrapInList});var blur=()=>({editor:dt,view:et})=>(requestAnimationFrame(()=>{var $t;dt.isDestroyed||(et.dom.blur(),($t=window==null?void 0:window.getSelection())==null||$t.removeAllRanges())}),!0),clearContent=(dt=!0)=>({commands:et})=>et.setContent("",{emitUpdate:dt}),clearNodes=()=>({state:dt,tr:et,dispatch:$t})=>{const{selection:kt}=et,{ranges:Tt}=kt;return $t&&Tt.forEach(({$from:Dt,$to:Ft})=>{dt.doc.nodesBetween(Dt.pos,Ft.pos,(Ut,Ht)=>{if(Ut.type.isText)return;const{doc:Kt,mapping:Yt}=et,Jt=Kt.resolve(Yt.map(Ht)),Zt=Kt.resolve(Yt.map(Ht+Ut.nodeSize)),er=Jt.blockRange(Zt);if(!er)return;const rr=liftTarget(er);if(Ut.type.isTextblock){const{defaultType:sr}=Jt.parent.contentMatchAt(Jt.index());et.setNodeMarkup(er.start,sr)}(rr||rr===0)&&et.lift(er,rr)})}),!0},command=dt=>et=>dt(et),createParagraphNear=()=>({state:dt,dispatch:et})=>createParagraphNear$1(dt,et),cut=(dt,et)=>({editor:$t,tr:kt})=>{const{state:Tt}=$t,Dt=Tt.doc.slice(dt.from,dt.to);kt.deleteRange(dt.from,dt.to);const Ft=kt.mapping.map(et);return kt.insert(Ft,Dt.content),kt.setSelection(new TextSelection(kt.doc.resolve(Math.max(Ft-1,0)))),!0},deleteCurrentNode=()=>({tr:dt,dispatch:et})=>{const{selection:$t}=dt,kt=$t.$anchor.node();if(kt.content.size>0)return!1;const Tt=dt.selection.$anchor;for(let Dt=Tt.depth;Dt>0;Dt-=1)if(Tt.node(Dt).type===kt.type){if(et){const Ut=Tt.before(Dt),Ht=Tt.after(Dt);dt.delete(Ut,Ht).scrollIntoView()}return!0}return!1};function getNodeType(dt,et){if(typeof dt=="string"){if(!et.nodes[dt])throw Error(`There is no node type named '${dt}'. Maybe you forgot to add the extension?`);return et.nodes[dt]}return dt}var deleteNode=dt=>({tr:et,state:$t,dispatch:kt})=>{const Tt=getNodeType(dt,$t.schema),Dt=et.selection.$anchor;for(let Ft=Dt.depth;Ft>0;Ft-=1)if(Dt.node(Ft).type===Tt){if(kt){const Ht=Dt.before(Ft),Kt=Dt.after(Ft);et.delete(Ht,Kt).scrollIntoView()}return!0}return!1},deleteRange=dt=>({tr:et,dispatch:$t})=>{const{from:kt,to:Tt}=dt;return $t&&et.delete(kt,Tt),!0},deleteSelection=()=>({state:dt,dispatch:et})=>deleteSelection$1(dt,et),enter=()=>({commands:dt})=>dt.keyboardShortcut("Enter"),exitCode=()=>({state:dt,dispatch:et})=>exitCode$1(dt,et);function isRegExp(dt){return Object.prototype.toString.call(dt)==="[object RegExp]"}function objectIncludes(dt,et,$t={strict:!0}){const kt=Object.keys(et);return kt.length?kt.every(Tt=>$t.strict?et[Tt]===dt[Tt]:isRegExp(et[Tt])?et[Tt].test(dt[Tt]):et[Tt]===dt[Tt]):!0}function findMarkInSet(dt,et,$t={}){return dt.find(kt=>kt.type===et&&objectIncludes(Object.fromEntries(Object.keys($t).map(Tt=>[Tt,kt.attrs[Tt]])),$t))}function isMarkInSet(dt,et,$t={}){return!!findMarkInSet(dt,et,$t)}function getMarkRange(dt,et,$t){var kt;if(!dt||!et)return;let Tt=dt.parent.childAfter(dt.parentOffset);if((!Tt.node||!Tt.node.marks.some(Yt=>Yt.type===et))&&(Tt=dt.parent.childBefore(dt.parentOffset)),!Tt.node||!Tt.node.marks.some(Yt=>Yt.type===et)||($t=$t||((kt=Tt.node.marks[0])==null?void 0:kt.attrs),!findMarkInSet([...Tt.node.marks],et,$t)))return;let Ft=Tt.index,Ut=dt.start()+Tt.offset,Ht=Ft+1,Kt=Ut+Tt.node.nodeSize;for(;Ft>0&&isMarkInSet([...dt.parent.child(Ft-1).marks],et,$t);)Ft-=1,Ut-=dt.parent.child(Ft).nodeSize;for(;Ht<dt.parent.childCount&&isMarkInSet([...dt.parent.child(Ht).marks],et,$t);)Kt+=dt.parent.child(Ht).nodeSize,Ht+=1;return{from:Ut,to:Kt}}function getMarkType(dt,et){if(typeof dt=="string"){if(!et.marks[dt])throw Error(`There is no mark type named '${dt}'. Maybe you forgot to add the extension?`);return et.marks[dt]}return dt}var extendMarkRange=(dt,et={})=>({tr:$t,state:kt,dispatch:Tt})=>{const Dt=getMarkType(dt,kt.schema),{doc:Ft,selection:Ut}=$t,{$from:Ht,from:Kt,to:Yt}=Ut;if(Tt){const Jt=getMarkRange(Ht,Dt,et);if(Jt&&Jt.from<=Kt&&Jt.to>=Yt){const Zt=TextSelection.create(Ft,Jt.from,Jt.to);$t.setSelection(Zt)}}return!0},first=dt=>et=>{const $t=typeof dt=="function"?dt(et):dt;for(let kt=0;kt<$t.length;kt+=1)if($t[kt](et))return!0;return!1};function isTextSelection(dt){return dt instanceof TextSelection}function minMax(dt=0,et=0,$t=0){return Math.min(Math.max(dt,et),$t)}function resolveFocusPosition(dt,et=null){if(!et)return null;const $t=Selection.atStart(dt),kt=Selection.atEnd(dt);if(et==="start"||et===!0)return $t;if(et==="end")return kt;const Tt=$t.from,Dt=kt.to;return et==="all"?TextSelection.create(dt,minMax(0,Tt,Dt),minMax(dt.content.size,Tt,Dt)):TextSelection.create(dt,minMax(et,Tt,Dt),minMax(et,Tt,Dt))}function isAndroid(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function isiOS(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function isSafari(){return typeof navigator<"u"?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1}var focus=(dt=null,et={})=>({editor:$t,view:kt,tr:Tt,dispatch:Dt})=>{et={scrollIntoView:!0,...et};const Ft=()=>{(isiOS()||isAndroid())&&kt.dom.focus(),isSafari()&&!isiOS()&&!isAndroid()&&kt.dom.focus({preventScroll:!0}),requestAnimationFrame(()=>{$t.isDestroyed||(kt.focus(),et!=null&&et.scrollIntoView&&$t.commands.scrollIntoView())})};if(kt.hasFocus()&&dt===null||dt===!1)return!0;if(Dt&&dt===null&&!isTextSelection($t.state.selection))return Ft(),!0;const Ut=resolveFocusPosition(Tt.doc,dt)||$t.state.selection,Ht=$t.state.selection.eq(Ut);return Dt&&(Ht||Tt.setSelection(Ut),Ht&&Tt.storedMarks&&Tt.setStoredMarks(Tt.storedMarks),Ft()),!0},forEach=(dt,et)=>$t=>dt.every((kt,Tt)=>et(kt,{...$t,index:Tt})),insertContent=(dt,et)=>({tr:$t,commands:kt})=>kt.insertContentAt({from:$t.selection.from,to:$t.selection.to},dt,et),removeWhitespaces=dt=>{const et=dt.childNodes;for(let $t=et.length-1;$t>=0;$t-=1){const kt=et[$t];kt.nodeType===3&&kt.nodeValue&&/^(\n\s\s|\n)$/.test(kt.nodeValue)?dt.removeChild(kt):kt.nodeType===1&&removeWhitespaces(kt)}return dt};function elementFromString(dt){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const et=`<body>${dt}</body>`,$t=new window.DOMParser().parseFromString(et,"text/html").body;return removeWhitespaces($t)}function createNodeFromContent(dt,et,$t){if(dt instanceof Node$1||dt instanceof Fragment)return dt;$t={slice:!0,parseOptions:{},...$t};const kt=typeof dt=="object"&&dt!==null,Tt=typeof dt=="string";if(kt)try{if(Array.isArray(dt)&&dt.length>0)return Fragment.fromArray(dt.map(Ut=>et.nodeFromJSON(Ut)));const Ft=et.nodeFromJSON(dt);return $t.errorOnInvalidContent&&Ft.check(),Ft}catch(Dt){if($t.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:Dt});return console.warn("[tiptap warn]: Invalid content.","Passed value:",dt,"Error:",Dt),createNodeFromContent("",et,$t)}if(Tt){if($t.errorOnInvalidContent){let Ft=!1,Ut="";const Ht=new Schema({topNode:et.spec.topNode,marks:et.spec.marks,nodes:et.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:Kt=>(Ft=!0,Ut=typeof Kt=="string"?Kt:Kt.outerHTML,null)}]}})});if($t.slice?DOMParser.fromSchema(Ht).parseSlice(elementFromString(dt),$t.parseOptions):DOMParser.fromSchema(Ht).parse(elementFromString(dt),$t.parseOptions),$t.errorOnInvalidContent&&Ft)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${Ut}`)})}const Dt=DOMParser.fromSchema(et);return $t.slice?Dt.parseSlice(elementFromString(dt),$t.parseOptions).content:Dt.parse(elementFromString(dt),$t.parseOptions)}return createNodeFromContent("",et,$t)}function selectionToInsertionEnd(dt,et,$t){const kt=dt.steps.length-1;if(kt<et)return;const Tt=dt.steps[kt];if(!(Tt instanceof ReplaceStep||Tt instanceof ReplaceAroundStep))return;const Dt=dt.mapping.maps[kt];let Ft=0;Dt.forEach((Ut,Ht,Kt,Yt)=>{Ft===0&&(Ft=Yt)}),dt.setSelection(Selection.near(dt.doc.resolve(Ft),$t))}var isFragment=dt=>!("type"in dt),insertContentAt=(dt,et,$t)=>({tr:kt,dispatch:Tt,editor:Dt})=>{var Ft;if(Tt){$t={parseOptions:Dt.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...$t};let Ut;const Ht=ir=>{Dt.emit("contentError",{editor:Dt,error:ir,disableCollaboration:()=>{"collaboration"in Dt.storage&&typeof Dt.storage.collaboration=="object"&&Dt.storage.collaboration&&(Dt.storage.collaboration.isDisabled=!0)}})},Kt={preserveWhitespace:"full",...$t.parseOptions};if(!$t.errorOnInvalidContent&&!Dt.options.enableContentCheck&&Dt.options.emitContentError)try{createNodeFromContent(et,Dt.schema,{parseOptions:Kt,errorOnInvalidContent:!0})}catch(ir){Ht(ir)}try{Ut=createNodeFromContent(et,Dt.schema,{parseOptions:Kt,errorOnInvalidContent:(Ft=$t.errorOnInvalidContent)!=null?Ft:Dt.options.enableContentCheck})}catch(ir){return Ht(ir),!1}let{from:Yt,to:Jt}=typeof dt=="number"?{from:dt,to:dt}:{from:dt.from,to:dt.to},Zt=!0,er=!0;if((isFragment(Ut)?Ut:[Ut]).forEach(ir=>{ir.check(),Zt=Zt?ir.isText&&ir.marks.length===0:!1,er=er?ir.isBlock:!1}),Yt===Jt&&er){const{parent:ir}=kt.doc.resolve(Yt);ir.isTextblock&&!ir.type.spec.code&&!ir.childCount&&(Yt-=1,Jt+=1)}let sr;if(Zt){if(Array.isArray(et))sr=et.map(ir=>ir.text||"").join("");else if(et instanceof Fragment){let ir="";et.forEach(nr=>{nr.text&&(ir+=nr.text)}),sr=ir}else typeof et=="object"&&et&&et.text?sr=et.text:sr=et;kt.insertText(sr,Yt,Jt)}else{sr=Ut;const ir=kt.doc.resolve(Yt),nr=ir.node(),or=ir.parentOffset===0,lr=nr.isText||nr.isTextblock,cr=nr.content.size>0;or&&lr&&cr&&(Yt=Math.max(0,Yt-1)),kt.replaceWith(Yt,Jt,sr)}$t.updateSelection&&selectionToInsertionEnd(kt,kt.steps.length-1,-1),$t.applyInputRules&&kt.setMeta("applyInputRules",{from:Yt,text:sr}),$t.applyPasteRules&&kt.setMeta("applyPasteRules",{from:Yt,text:sr})}return!0},joinUp=()=>({state:dt,dispatch:et})=>joinUp$1(dt,et),joinDown=()=>({state:dt,dispatch:et})=>joinDown$1(dt,et),joinBackward=()=>({state:dt,dispatch:et})=>joinBackward$1(dt,et),joinForward=()=>({state:dt,dispatch:et})=>joinForward$1(dt,et),joinItemBackward=()=>({state:dt,dispatch:et,tr:$t})=>{try{const kt=joinPoint(dt.doc,dt.selection.$from.pos,-1);return kt==null?!1:($t.join(kt,2),et&&et($t),!0)}catch{return!1}},joinItemForward=()=>({state:dt,dispatch:et,tr:$t})=>{try{const kt=joinPoint(dt.doc,dt.selection.$from.pos,1);return kt==null?!1:($t.join(kt,2),et&&et($t),!0)}catch{return!1}},joinTextblockBackward=()=>({state:dt,dispatch:et})=>joinTextblockBackward$1(dt,et),joinTextblockForward=()=>({state:dt,dispatch:et})=>joinTextblockForward$1(dt,et);function isMacOS(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function normalizeKeyName(dt){const et=dt.split(/-(?!$)/);let $t=et[et.length-1];$t==="Space"&&($t=" ");let kt,Tt,Dt,Ft;for(let Ut=0;Ut<et.length-1;Ut+=1){const Ht=et[Ut];if(/^(cmd|meta|m)$/i.test(Ht))Ft=!0;else if(/^a(lt)?$/i.test(Ht))kt=!0;else if(/^(c|ctrl|control)$/i.test(Ht))Tt=!0;else if(/^s(hift)?$/i.test(Ht))Dt=!0;else if(/^mod$/i.test(Ht))isiOS()||isMacOS()?Ft=!0:Tt=!0;else throw new Error(`Unrecognized modifier name: ${Ht}`)}return kt&&($t=`Alt-${$t}`),Tt&&($t=`Ctrl-${$t}`),Ft&&($t=`Meta-${$t}`),Dt&&($t=`Shift-${$t}`),$t}var keyboardShortcut=dt=>({editor:et,view:$t,tr:kt,dispatch:Tt})=>{const Dt=normalizeKeyName(dt).split(/-(?!$)/),Ft=Dt.find(Kt=>!["Alt","Ctrl","Meta","Shift"].includes(Kt)),Ut=new KeyboardEvent("keydown",{key:Ft==="Space"?" ":Ft,altKey:Dt.includes("Alt"),ctrlKey:Dt.includes("Ctrl"),metaKey:Dt.includes("Meta"),shiftKey:Dt.includes("Shift"),bubbles:!0,cancelable:!0}),Ht=et.captureTransaction(()=>{$t.someProp("handleKeyDown",Kt=>Kt($t,Ut))});return Ht==null||Ht.steps.forEach(Kt=>{const Yt=Kt.map(kt.mapping);Yt&&Tt&&kt.maybeStep(Yt)}),!0};function isNodeActive(dt,et,$t={}){const{from:kt,to:Tt,empty:Dt}=dt.selection,Ft=et?getNodeType(et,dt.schema):null,Ut=[];dt.doc.nodesBetween(kt,Tt,(Jt,Zt)=>{if(Jt.isText)return;const er=Math.max(kt,Zt),rr=Math.min(Tt,Zt+Jt.nodeSize);Ut.push({node:Jt,from:er,to:rr})});const Ht=Tt-kt,Kt=Ut.filter(Jt=>Ft?Ft.name===Jt.node.type.name:!0).filter(Jt=>objectIncludes(Jt.node.attrs,$t,{strict:!1}));return Dt?!!Kt.length:Kt.reduce((Jt,Zt)=>Jt+Zt.to-Zt.from,0)>=Ht}var lift=(dt,et={})=>({state:$t,dispatch:kt})=>{const Tt=getNodeType(dt,$t.schema);return isNodeActive($t,Tt,et)?lift$1($t,kt):!1},liftEmptyBlock=()=>({state:dt,dispatch:et})=>liftEmptyBlock$1(dt,et),liftListItem=dt=>({state:et,dispatch:$t})=>{const kt=getNodeType(dt,et.schema);return liftListItem$1(kt)(et,$t)},newlineInCode=()=>({state:dt,dispatch:et})=>newlineInCode$1(dt,et);function getSchemaTypeNameByName(dt,et){return et.nodes[dt]?"node":et.marks[dt]?"mark":null}function deleteProps(dt,et){const $t=typeof et=="string"?[et]:et;return Object.keys(dt).reduce((kt,Tt)=>($t.includes(Tt)||(kt[Tt]=dt[Tt]),kt),{})}var resetAttributes=(dt,et)=>({tr:$t,state:kt,dispatch:Tt})=>{let Dt=null,Ft=null;const Ut=getSchemaTypeNameByName(typeof dt=="string"?dt:dt.name,kt.schema);if(!Ut)return!1;Ut==="node"&&(Dt=getNodeType(dt,kt.schema)),Ut==="mark"&&(Ft=getMarkType(dt,kt.schema));let Ht=!1;return $t.selection.ranges.forEach(Kt=>{kt.doc.nodesBetween(Kt.$from.pos,Kt.$to.pos,(Yt,Jt)=>{Dt&&Dt===Yt.type&&(Ht=!0,Tt&&$t.setNodeMarkup(Jt,void 0,deleteProps(Yt.attrs,et))),Ft&&Yt.marks.length&&Yt.marks.forEach(Zt=>{Ft===Zt.type&&(Ht=!0,Tt&&$t.addMark(Jt,Jt+Yt.nodeSize,Ft.create(deleteProps(Zt.attrs,et))))})})}),Ht},scrollIntoView=()=>({tr:dt,dispatch:et})=>(et&&dt.scrollIntoView(),!0),selectAll=()=>({tr:dt,dispatch:et})=>{if(et){const $t=new AllSelection(dt.doc);dt.setSelection($t)}return!0},selectNodeBackward=()=>({state:dt,dispatch:et})=>selectNodeBackward$1(dt,et),selectNodeForward=()=>({state:dt,dispatch:et})=>selectNodeForward$1(dt,et),selectParentNode=()=>({state:dt,dispatch:et})=>selectParentNode$1(dt,et),selectTextblockEnd=()=>({state:dt,dispatch:et})=>selectTextblockEnd$1(dt,et),selectTextblockStart=()=>({state:dt,dispatch:et})=>selectTextblockStart$1(dt,et);function createDocument(dt,et,$t={},kt={}){return createNodeFromContent(dt,et,{slice:!1,parseOptions:$t,errorOnInvalidContent:kt.errorOnInvalidContent})}var setContent=(dt,{errorOnInvalidContent:et,emitUpdate:$t=!0,parseOptions:kt={}}={})=>({editor:Tt,tr:Dt,dispatch:Ft,commands:Ut})=>{const{doc:Ht}=Dt;if(kt.preserveWhitespace!=="full"){const Kt=createDocument(dt,Tt.schema,kt,{errorOnInvalidContent:et??Tt.options.enableContentCheck});return Ft&&Dt.replaceWith(0,Ht.content.size,Kt).setMeta("preventUpdate",!$t),!0}return Ft&&Dt.setMeta("preventUpdate",!$t),Ut.insertContentAt({from:0,to:Ht.content.size},dt,{parseOptions:kt,errorOnInvalidContent:et??Tt.options.enableContentCheck})};function getMarkAttributes(dt,et){const $t=getMarkType(et,dt.schema),{from:kt,to:Tt,empty:Dt}=dt.selection,Ft=[];Dt?(dt.storedMarks&&Ft.push(...dt.storedMarks),Ft.push(...dt.selection.$head.marks())):dt.doc.nodesBetween(kt,Tt,Ht=>{Ft.push(...Ht.marks)});const Ut=Ft.find(Ht=>Ht.type.name===$t.name);return Ut?{...Ut.attrs}:{}}function combineTransactionSteps(dt,et){const $t=new Transform(dt);return et.forEach(kt=>{kt.steps.forEach(Tt=>{$t.step(Tt)})}),$t}function defaultBlockAt(dt){for(let et=0;et<dt.edgeCount;et+=1){const{type:$t}=dt.edge(et);if($t.isTextblock&&!$t.hasRequiredAttrs())return $t}return null}function findChildrenInRange(dt,et,$t){const kt=[];return dt.nodesBetween(et.from,et.to,(Tt,Dt)=>{$t(Tt)&&kt.push({node:Tt,pos:Dt})}),kt}function findParentNodeClosestToPos(dt,et){for(let $t=dt.depth;$t>0;$t-=1){const kt=dt.node($t);if(et(kt))return{pos:$t>0?dt.before($t):0,start:dt.start($t),depth:$t,node:kt}}}function findParentNode(dt){return et=>findParentNodeClosestToPos(et.$from,dt)}function getExtensionField(dt,et,$t){return dt.config[et]===void 0&&dt.parent?getExtensionField(dt.parent,et,$t):typeof dt.config[et]=="function"?dt.config[et].bind({...$t,parent:dt.parent?getExtensionField(dt.parent,et,$t):null}):dt.config[et]}function flattenExtensions(dt){return dt.map(et=>{const $t={name:et.name,options:et.options,storage:et.storage},kt=getExtensionField(et,"addExtensions",$t);return kt?[et,...flattenExtensions(kt())]:et}).flat(10)}function getHTMLFromFragment(dt,et){const $t=DOMSerializer.fromSchema(et).serializeFragment(dt),Tt=document.implementation.createHTMLDocument().createElement("div");return Tt.appendChild($t),Tt.innerHTML}function isFunction$4(dt){return typeof dt=="function"}function callOrReturn(dt,et=void 0,...$t){return isFunction$4(dt)?et?dt.bind(et)(...$t):dt(...$t):dt}function isEmptyObject(dt={}){return Object.keys(dt).length===0&&dt.constructor===Object}function splitExtensions(dt){const et=dt.filter(Tt=>Tt.type==="extension"),$t=dt.filter(Tt=>Tt.type==="node"),kt=dt.filter(Tt=>Tt.type==="mark");return{baseExtensions:et,nodeExtensions:$t,markExtensions:kt}}function getAttributesFromExtensions(dt){const et=[],{nodeExtensions:$t,markExtensions:kt}=splitExtensions(dt),Tt=[...$t,...kt],Dt={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return dt.forEach(Ft=>{const Ut={name:Ft.name,options:Ft.options,storage:Ft.storage,extensions:Tt},Ht=getExtensionField(Ft,"addGlobalAttributes",Ut);if(!Ht)return;Ht().forEach(Yt=>{Yt.types.forEach(Jt=>{Object.entries(Yt.attributes).forEach(([Zt,er])=>{et.push({type:Jt,name:Zt,attribute:{...Dt,...er}})})})})}),Tt.forEach(Ft=>{const Ut={name:Ft.name,options:Ft.options,storage:Ft.storage},Ht=getExtensionField(Ft,"addAttributes",Ut);if(!Ht)return;const Kt=Ht();Object.entries(Kt).forEach(([Yt,Jt])=>{const Zt={...Dt,...Jt};typeof(Zt==null?void 0:Zt.default)=="function"&&(Zt.default=Zt.default()),Zt!=null&&Zt.isRequired&&(Zt==null?void 0:Zt.default)===void 0&&delete Zt.default,et.push({type:Ft.name,name:Yt,attribute:Zt})})}),et}function mergeAttributes(...dt){return dt.filter(et=>!!et).reduce((et,$t)=>{const kt={...et};return Object.entries($t).forEach(([Tt,Dt])=>{if(!kt[Tt]){kt[Tt]=Dt;return}if(Tt==="class"){const Ut=Dt?String(Dt).split(" "):[],Ht=kt[Tt]?kt[Tt].split(" "):[],Kt=Ut.filter(Yt=>!Ht.includes(Yt));kt[Tt]=[...Ht,...Kt].join(" ")}else if(Tt==="style"){const Ut=Dt?Dt.split(";").map(Yt=>Yt.trim()).filter(Boolean):[],Ht=kt[Tt]?kt[Tt].split(";").map(Yt=>Yt.trim()).filter(Boolean):[],Kt=new Map;Ht.forEach(Yt=>{const[Jt,Zt]=Yt.split(":").map(er=>er.trim());Kt.set(Jt,Zt)}),Ut.forEach(Yt=>{const[Jt,Zt]=Yt.split(":").map(er=>er.trim());Kt.set(Jt,Zt)}),kt[Tt]=Array.from(Kt.entries()).map(([Yt,Jt])=>`${Yt}: ${Jt}`).join("; ")}else kt[Tt]=Dt}),kt},{})}function getRenderedAttributes(dt,et){return et.filter($t=>$t.type===dt.type.name).filter($t=>$t.attribute.rendered).map($t=>$t.attribute.renderHTML?$t.attribute.renderHTML(dt.attrs)||{}:{[$t.name]:dt.attrs[$t.name]}).reduce(($t,kt)=>mergeAttributes($t,kt),{})}function fromString(dt){return typeof dt!="string"?dt:dt.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(dt):dt==="true"?!0:dt==="false"?!1:dt}function injectExtensionAttributesToParseRule(dt,et){return"style"in dt?dt:{...dt,getAttrs:$t=>{const kt=dt.getAttrs?dt.getAttrs($t):dt.attrs;if(kt===!1)return!1;const Tt=et.reduce((Dt,Ft)=>{const Ut=Ft.attribute.parseHTML?Ft.attribute.parseHTML($t):fromString($t.getAttribute(Ft.name));return Ut==null?Dt:{...Dt,[Ft.name]:Ut}},{});return{...kt,...Tt}}}}function cleanUpSchemaItem(dt){return Object.fromEntries(Object.entries(dt).filter(([et,$t])=>et==="attrs"&&isEmptyObject($t)?!1:$t!=null))}function buildAttributeSpec(dt){var et,$t;const kt={};return!((et=dt==null?void 0:dt.attribute)!=null&&et.isRequired)&&"default"in((dt==null?void 0:dt.attribute)||{})&&(kt.default=dt.attribute.default),(($t=dt==null?void 0:dt.attribute)==null?void 0:$t.validate)!==void 0&&(kt.validate=dt.attribute.validate),[dt.name,kt]}function getSchemaByResolvedExtensions(dt,et){var $t;const kt=getAttributesFromExtensions(dt),{nodeExtensions:Tt,markExtensions:Dt}=splitExtensions(dt),Ft=($t=Tt.find(Kt=>getExtensionField(Kt,"topNode")))==null?void 0:$t.name,Ut=Object.fromEntries(Tt.map(Kt=>{const Yt=kt.filter(nr=>nr.type===Kt.name),Jt={name:Kt.name,options:Kt.options,storage:Kt.storage,editor:et},Zt=dt.reduce((nr,or)=>{const lr=getExtensionField(or,"extendNodeSchema",Jt);return{...nr,...lr?lr(Kt):{}}},{}),er=cleanUpSchemaItem({...Zt,content:callOrReturn(getExtensionField(Kt,"content",Jt)),marks:callOrReturn(getExtensionField(Kt,"marks",Jt)),group:callOrReturn(getExtensionField(Kt,"group",Jt)),inline:callOrReturn(getExtensionField(Kt,"inline",Jt)),atom:callOrReturn(getExtensionField(Kt,"atom",Jt)),selectable:callOrReturn(getExtensionField(Kt,"selectable",Jt)),draggable:callOrReturn(getExtensionField(Kt,"draggable",Jt)),code:callOrReturn(getExtensionField(Kt,"code",Jt)),whitespace:callOrReturn(getExtensionField(Kt,"whitespace",Jt)),linebreakReplacement:callOrReturn(getExtensionField(Kt,"linebreakReplacement",Jt)),defining:callOrReturn(getExtensionField(Kt,"defining",Jt)),isolating:callOrReturn(getExtensionField(Kt,"isolating",Jt)),attrs:Object.fromEntries(Yt.map(buildAttributeSpec))}),rr=callOrReturn(getExtensionField(Kt,"parseHTML",Jt));rr&&(er.parseDOM=rr.map(nr=>injectExtensionAttributesToParseRule(nr,Yt)));const sr=getExtensionField(Kt,"renderHTML",Jt);sr&&(er.toDOM=nr=>sr({node:nr,HTMLAttributes:getRenderedAttributes(nr,Yt)}));const ir=getExtensionField(Kt,"renderText",Jt);return ir&&(er.toText=ir),[Kt.name,er]})),Ht=Object.fromEntries(Dt.map(Kt=>{const Yt=kt.filter(ir=>ir.type===Kt.name),Jt={name:Kt.name,options:Kt.options,storage:Kt.storage,editor:et},Zt=dt.reduce((ir,nr)=>{const or=getExtensionField(nr,"extendMarkSchema",Jt);return{...ir,...or?or(Kt):{}}},{}),er=cleanUpSchemaItem({...Zt,inclusive:callOrReturn(getExtensionField(Kt,"inclusive",Jt)),excludes:callOrReturn(getExtensionField(Kt,"excludes",Jt)),group:callOrReturn(getExtensionField(Kt,"group",Jt)),spanning:callOrReturn(getExtensionField(Kt,"spanning",Jt)),code:callOrReturn(getExtensionField(Kt,"code",Jt)),attrs:Object.fromEntries(Yt.map(buildAttributeSpec))}),rr=callOrReturn(getExtensionField(Kt,"parseHTML",Jt));rr&&(er.parseDOM=rr.map(ir=>injectExtensionAttributesToParseRule(ir,Yt)));const sr=getExtensionField(Kt,"renderHTML",Jt);return sr&&(er.toDOM=ir=>sr({mark:ir,HTMLAttributes:getRenderedAttributes(ir,Yt)})),[Kt.name,er]}));return new Schema({topNode:Ft,nodes:Ut,marks:Ht})}function findDuplicates(dt){const et=dt.filter(($t,kt)=>dt.indexOf($t)!==kt);return Array.from(new Set(et))}function sortExtensions(dt){return dt.sort(($t,kt)=>{const Tt=getExtensionField($t,"priority")||100,Dt=getExtensionField(kt,"priority")||100;return Tt>Dt?-1:Tt<Dt?1:0})}function resolveExtensions(dt){const et=sortExtensions(flattenExtensions(dt)),$t=findDuplicates(et.map(kt=>kt.name));return $t.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${$t.map(kt=>`'${kt}'`).join(", ")}]. This can lead to issues.`),et}function getTextBetween(dt,et,$t){const{from:kt,to:Tt}=et,{blockSeparator:Dt=`

`,textSerializers:Ft={}}=$t||{};let Ut="";return dt.nodesBetween(kt,Tt,(Ht,Kt,Yt,Jt)=>{var Zt;Ht.isBlock&&Kt>kt&&(Ut+=Dt);const er=Ft==null?void 0:Ft[Ht.type.name];if(er)return Yt&&(Ut+=er({node:Ht,pos:Kt,parent:Yt,index:Jt,range:et})),!1;Ht.isText&&(Ut+=(Zt=Ht==null?void 0:Ht.text)==null?void 0:Zt.slice(Math.max(kt,Kt)-Kt,Tt-Kt))}),Ut}function getText(dt,et){const $t={from:0,to:dt.content.size};return getTextBetween(dt,$t,et)}function getTextSerializersFromSchema(dt){return Object.fromEntries(Object.entries(dt.nodes).filter(([,et])=>et.spec.toText).map(([et,$t])=>[et,$t.spec.toText]))}function getNodeAttributes(dt,et){const $t=getNodeType(et,dt.schema),{from:kt,to:Tt}=dt.selection,Dt=[];dt.doc.nodesBetween(kt,Tt,Ut=>{Dt.push(Ut)});const Ft=Dt.reverse().find(Ut=>Ut.type.name===$t.name);return Ft?{...Ft.attrs}:{}}function getAttributes$1(dt,et){const $t=getSchemaTypeNameByName(typeof et=="string"?et:et.name,dt.schema);return $t==="node"?getNodeAttributes(dt,et):$t==="mark"?getMarkAttributes(dt,et):{}}function removeDuplicates(dt,et=JSON.stringify){const $t={};return dt.filter(kt=>{const Tt=et(kt);return Object.prototype.hasOwnProperty.call($t,Tt)?!1:$t[Tt]=!0})}function simplifyChangedRanges(dt){const et=removeDuplicates(dt);return et.length===1?et:et.filter(($t,kt)=>!et.filter((Dt,Ft)=>Ft!==kt).some(Dt=>$t.oldRange.from>=Dt.oldRange.from&&$t.oldRange.to<=Dt.oldRange.to&&$t.newRange.from>=Dt.newRange.from&&$t.newRange.to<=Dt.newRange.to))}function getChangedRanges(dt){const{mapping:et,steps:$t}=dt,kt=[];return et.maps.forEach((Tt,Dt)=>{const Ft=[];if(Tt.ranges.length)Tt.forEach((Ut,Ht)=>{Ft.push({from:Ut,to:Ht})});else{const{from:Ut,to:Ht}=$t[Dt];if(Ut===void 0||Ht===void 0)return;Ft.push({from:Ut,to:Ht})}Ft.forEach(({from:Ut,to:Ht})=>{const Kt=et.slice(Dt).map(Ut,-1),Yt=et.slice(Dt).map(Ht),Jt=et.invert().map(Kt,-1),Zt=et.invert().map(Yt);kt.push({oldRange:{from:Jt,to:Zt},newRange:{from:Kt,to:Yt}})})}),simplifyChangedRanges(kt)}function getMarksBetween(dt,et,$t){const kt=[];return dt===et?$t.resolve(dt).marks().forEach(Tt=>{const Dt=$t.resolve(dt),Ft=getMarkRange(Dt,Tt.type);Ft&&kt.push({mark:Tt,...Ft})}):$t.nodesBetween(dt,et,(Tt,Dt)=>{!Tt||(Tt==null?void 0:Tt.nodeSize)===void 0||kt.push(...Tt.marks.map(Ft=>({from:Dt,to:Dt+Tt.nodeSize,mark:Ft})))}),kt}var getNodeAtPosition=(dt,et,$t,kt=20)=>{const Tt=dt.doc.resolve($t);let Dt=kt,Ft=null;for(;Dt>0&&Ft===null;){const Ut=Tt.node(Dt);(Ut==null?void 0:Ut.type.name)===et?Ft=Ut:Dt-=1}return[Ft,Dt]};function getSchemaTypeByName(dt,et){return et.nodes[dt]||et.marks[dt]||null}function getSplittedAttributes(dt,et,$t){return Object.fromEntries(Object.entries($t).filter(([kt])=>{const Tt=dt.find(Dt=>Dt.type===et&&Dt.name===kt);return Tt?Tt.attribute.keepOnSplit:!1}))}var getTextContentFromNodes=(dt,et=500)=>{let $t="";const kt=dt.parentOffset;return dt.parent.nodesBetween(Math.max(0,kt-et),kt,(Tt,Dt,Ft,Ut)=>{var Ht,Kt;const Yt=((Kt=(Ht=Tt.type.spec).toText)==null?void 0:Kt.call(Ht,{node:Tt,pos:Dt,parent:Ft,index:Ut}))||Tt.textContent||"%leaf%";$t+=Tt.isAtom&&!Tt.isText?Yt:Yt.slice(0,Math.max(0,kt-Dt))}),$t};function isMarkActive(dt,et,$t={}){const{empty:kt,ranges:Tt}=dt.selection,Dt=et?getMarkType(et,dt.schema):null;if(kt)return!!(dt.storedMarks||dt.selection.$from.marks()).filter(Jt=>Dt?Dt.name===Jt.type.name:!0).find(Jt=>objectIncludes(Jt.attrs,$t,{strict:!1}));let Ft=0;const Ut=[];if(Tt.forEach(({$from:Jt,$to:Zt})=>{const er=Jt.pos,rr=Zt.pos;dt.doc.nodesBetween(er,rr,(sr,ir)=>{if(!sr.isText&&!sr.marks.length)return;const nr=Math.max(er,ir),or=Math.min(rr,ir+sr.nodeSize),lr=or-nr;Ft+=lr,Ut.push(...sr.marks.map(cr=>({mark:cr,from:nr,to:or})))})}),Ft===0)return!1;const Ht=Ut.filter(Jt=>Dt?Dt.name===Jt.mark.type.name:!0).filter(Jt=>objectIncludes(Jt.mark.attrs,$t,{strict:!1})).reduce((Jt,Zt)=>Jt+Zt.to-Zt.from,0),Kt=Ut.filter(Jt=>Dt?Jt.mark.type!==Dt&&Jt.mark.type.excludes(Dt):!0).reduce((Jt,Zt)=>Jt+Zt.to-Zt.from,0);return(Ht>0?Ht+Kt:Ht)>=Ft}function isActive(dt,et,$t={}){if(!et)return isNodeActive(dt,null,$t)||isMarkActive(dt,null,$t);const kt=getSchemaTypeNameByName(et,dt.schema);return kt==="node"?isNodeActive(dt,et,$t):kt==="mark"?isMarkActive(dt,et,$t):!1}var isAtEndOfNode=(dt,et)=>{const{$from:$t,$to:kt,$anchor:Tt}=dt.selection;if(et){const Dt=findParentNode(Ut=>Ut.type.name===et)(dt.selection);if(!Dt)return!1;const Ft=dt.doc.resolve(Dt.pos+1);return Tt.pos+1===Ft.end()}return!(kt.parentOffset<kt.parent.nodeSize-2||$t.pos!==kt.pos)},isAtStartOfNode=dt=>{const{$from:et,$to:$t}=dt.selection;return!(et.parentOffset>0||et.pos!==$t.pos)};function isExtensionRulesEnabled(dt,et){return Array.isArray(et)?et.some($t=>(typeof $t=="string"?$t:$t.name)===dt.name):et}function isList(dt,et){const{nodeExtensions:$t}=splitExtensions(et),kt=$t.find(Ft=>Ft.name===dt);if(!kt)return!1;const Tt={name:kt.name,options:kt.options,storage:kt.storage},Dt=callOrReturn(getExtensionField(kt,"group",Tt));return typeof Dt!="string"?!1:Dt.split(" ").includes("list")}function isNodeEmpty(dt,{checkChildren:et=!0,ignoreWhitespace:$t=!1}={}){var kt;if($t){if(dt.type.name==="hardBreak")return!0;if(dt.isText)return/^\s*$/m.test((kt=dt.text)!=null?kt:"")}if(dt.isText)return!dt.text;if(dt.isAtom||dt.isLeaf)return!1;if(dt.content.childCount===0)return!0;if(et){let Tt=!0;return dt.content.forEach(Dt=>{Tt!==!1&&(isNodeEmpty(Dt,{ignoreWhitespace:$t,checkChildren:et})||(Tt=!1))}),Tt}return!1}function isNodeSelection(dt){return dt instanceof NodeSelection}var MappablePosition=class iS{constructor(et){this.position=et}static fromJSON(et){return new iS(et.position)}toJSON(){return{position:this.position}}};function getUpdatedPosition(dt,et){const $t=et.mapping.mapResult(dt.position);return{position:new MappablePosition($t.pos),mapResult:$t}}function createMappablePosition(dt){return new MappablePosition(dt)}function canSetMark(dt,et,$t){var kt;const{selection:Tt}=et;let Dt=null;if(isTextSelection(Tt)&&(Dt=Tt.$cursor),Dt){const Ut=(kt=dt.storedMarks)!=null?kt:Dt.marks();return Dt.parent.type.allowsMarkType($t)&&(!!$t.isInSet(Ut)||!Ut.some(Kt=>Kt.type.excludes($t)))}const{ranges:Ft}=Tt;return Ft.some(({$from:Ut,$to:Ht})=>{let Kt=Ut.depth===0?dt.doc.inlineContent&&dt.doc.type.allowsMarkType($t):!1;return dt.doc.nodesBetween(Ut.pos,Ht.pos,(Yt,Jt,Zt)=>{if(Kt)return!1;if(Yt.isInline){const er=!Zt||Zt.type.allowsMarkType($t),rr=!!$t.isInSet(Yt.marks)||!Yt.marks.some(sr=>sr.type.excludes($t));Kt=er&&rr}return!Kt}),Kt})}var setMark=(dt,et={})=>({tr:$t,state:kt,dispatch:Tt})=>{const{selection:Dt}=$t,{empty:Ft,ranges:Ut}=Dt,Ht=getMarkType(dt,kt.schema);if(Tt)if(Ft){const Kt=getMarkAttributes(kt,Ht);$t.addStoredMark(Ht.create({...Kt,...et}))}else Ut.forEach(Kt=>{const Yt=Kt.$from.pos,Jt=Kt.$to.pos;kt.doc.nodesBetween(Yt,Jt,(Zt,er)=>{const rr=Math.max(er,Yt),sr=Math.min(er+Zt.nodeSize,Jt);Zt.marks.find(nr=>nr.type===Ht)?Zt.marks.forEach(nr=>{Ht===nr.type&&$t.addMark(rr,sr,Ht.create({...nr.attrs,...et}))}):$t.addMark(rr,sr,Ht.create(et))})});return canSetMark(kt,$t,Ht)},setMeta=(dt,et)=>({tr:$t})=>($t.setMeta(dt,et),!0),setNode=(dt,et={})=>({state:$t,dispatch:kt,chain:Tt})=>{const Dt=getNodeType(dt,$t.schema);let Ft;return $t.selection.$anchor.sameParent($t.selection.$head)&&(Ft=$t.selection.$anchor.parent.attrs),Dt.isTextblock?Tt().command(({commands:Ut})=>setBlockType(Dt,{...Ft,...et})($t)?!0:Ut.clearNodes()).command(({state:Ut})=>setBlockType(Dt,{...Ft,...et})(Ut,kt)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},setNodeSelection=dt=>({tr:et,dispatch:$t})=>{if($t){const{doc:kt}=et,Tt=minMax(dt,0,kt.content.size),Dt=NodeSelection.create(kt,Tt);et.setSelection(Dt)}return!0},setTextDirection=(dt,et)=>({tr:$t,state:kt,dispatch:Tt})=>{const{selection:Dt}=kt;let Ft,Ut;return typeof et=="number"?(Ft=et,Ut=et):et&&"from"in et&&"to"in et?(Ft=et.from,Ut=et.to):(Ft=Dt.from,Ut=Dt.to),Tt&&$t.doc.nodesBetween(Ft,Ut,(Ht,Kt)=>{Ht.isText||$t.setNodeMarkup(Kt,void 0,{...Ht.attrs,dir:dt})}),!0},setTextSelection=dt=>({tr:et,dispatch:$t})=>{if($t){const{doc:kt}=et,{from:Tt,to:Dt}=typeof dt=="number"?{from:dt,to:dt}:dt,Ft=TextSelection.atStart(kt).from,Ut=TextSelection.atEnd(kt).to,Ht=minMax(Tt,Ft,Ut),Kt=minMax(Dt,Ft,Ut),Yt=TextSelection.create(kt,Ht,Kt);et.setSelection(Yt)}return!0},sinkListItem=dt=>({state:et,dispatch:$t})=>{const kt=getNodeType(dt,et.schema);return sinkListItem$1(kt)(et,$t)};function ensureMarks(dt,et){const $t=dt.storedMarks||dt.selection.$to.parentOffset&&dt.selection.$from.marks();if($t){const kt=$t.filter(Tt=>et==null?void 0:et.includes(Tt.type.name));dt.tr.ensureMarks(kt)}}var splitBlock=({keepMarks:dt=!0}={})=>({tr:et,state:$t,dispatch:kt,editor:Tt})=>{const{selection:Dt,doc:Ft}=et,{$from:Ut,$to:Ht}=Dt,Kt=Tt.extensionManager.attributes,Yt=getSplittedAttributes(Kt,Ut.node().type.name,Ut.node().attrs);if(Dt instanceof NodeSelection&&Dt.node.isBlock)return!Ut.parentOffset||!canSplit(Ft,Ut.pos)?!1:(kt&&(dt&&ensureMarks($t,Tt.extensionManager.splittableMarks),et.split(Ut.pos).scrollIntoView()),!0);if(!Ut.parent.isBlock)return!1;const Jt=Ht.parentOffset===Ht.parent.content.size,Zt=Ut.depth===0?void 0:defaultBlockAt(Ut.node(-1).contentMatchAt(Ut.indexAfter(-1)));let er=Jt&&Zt?[{type:Zt,attrs:Yt}]:void 0,rr=canSplit(et.doc,et.mapping.map(Ut.pos),1,er);if(!er&&!rr&&canSplit(et.doc,et.mapping.map(Ut.pos),1,Zt?[{type:Zt}]:void 0)&&(rr=!0,er=Zt?[{type:Zt,attrs:Yt}]:void 0),kt){if(rr&&(Dt instanceof TextSelection&&et.deleteSelection(),et.split(et.mapping.map(Ut.pos),1,er),Zt&&!Jt&&!Ut.parentOffset&&Ut.parent.type!==Zt)){const sr=et.mapping.map(Ut.before()),ir=et.doc.resolve(sr);Ut.node(-1).canReplaceWith(ir.index(),ir.index()+1,Zt)&&et.setNodeMarkup(et.mapping.map(Ut.before()),Zt)}dt&&ensureMarks($t,Tt.extensionManager.splittableMarks),et.scrollIntoView()}return rr},splitListItem=(dt,et={})=>({tr:$t,state:kt,dispatch:Tt,editor:Dt})=>{var Ft;const Ut=getNodeType(dt,kt.schema),{$from:Ht,$to:Kt}=kt.selection,Yt=kt.selection.node;if(Yt&&Yt.isBlock||Ht.depth<2||!Ht.sameParent(Kt))return!1;const Jt=Ht.node(-1);if(Jt.type!==Ut)return!1;const Zt=Dt.extensionManager.attributes;if(Ht.parent.content.size===0&&Ht.node(-1).childCount===Ht.indexAfter(-1)){if(Ht.depth===2||Ht.node(-3).type!==Ut||Ht.index(-2)!==Ht.node(-2).childCount-1)return!1;if(Tt){let nr=Fragment.empty;const or=Ht.index(-1)?1:Ht.index(-2)?2:3;for(let mr=Ht.depth-or;mr>=Ht.depth-3;mr-=1)nr=Fragment.from(Ht.node(mr).copy(nr));const lr=Ht.indexAfter(-1)<Ht.node(-2).childCount?1:Ht.indexAfter(-2)<Ht.node(-3).childCount?2:3,cr={...getSplittedAttributes(Zt,Ht.node().type.name,Ht.node().attrs),...et},dr=((Ft=Ut.contentMatch.defaultType)==null?void 0:Ft.createAndFill(cr))||void 0;nr=nr.append(Fragment.from(Ut.createAndFill(null,dr)||void 0));const ur=Ht.before(Ht.depth-(or-1));$t.replace(ur,Ht.after(-lr),new Slice(nr,4-or,0));let pr=-1;$t.doc.nodesBetween(ur,$t.doc.content.size,(mr,vr)=>{if(pr>-1)return!1;mr.isTextblock&&mr.content.size===0&&(pr=vr+1)}),pr>-1&&$t.setSelection(TextSelection.near($t.doc.resolve(pr))),$t.scrollIntoView()}return!0}const er=Kt.pos===Ht.end()?Jt.contentMatchAt(0).defaultType:null,rr={...getSplittedAttributes(Zt,Jt.type.name,Jt.attrs),...et},sr={...getSplittedAttributes(Zt,Ht.node().type.name,Ht.node().attrs),...et};$t.delete(Ht.pos,Kt.pos);const ir=er?[{type:Ut,attrs:rr},{type:er,attrs:sr}]:[{type:Ut,attrs:rr}];if(!canSplit($t.doc,Ht.pos,2))return!1;if(Tt){const{selection:nr,storedMarks:or}=kt,{splittableMarks:lr}=Dt.extensionManager,cr=or||nr.$to.parentOffset&&nr.$from.marks();if($t.split(Ht.pos,2,ir).scrollIntoView(),!cr||!Tt)return!0;const dr=cr.filter(ur=>lr.includes(ur.type.name));$t.ensureMarks(dr)}return!0},joinListBackwards=(dt,et)=>{const $t=findParentNode(Ft=>Ft.type===et)(dt.selection);if(!$t)return!0;const kt=dt.doc.resolve(Math.max(0,$t.pos-1)).before($t.depth);if(kt===void 0)return!0;const Tt=dt.doc.nodeAt(kt);return $t.node.type===(Tt==null?void 0:Tt.type)&&canJoin(dt.doc,$t.pos)&&dt.join($t.pos),!0},joinListForwards=(dt,et)=>{const $t=findParentNode(Ft=>Ft.type===et)(dt.selection);if(!$t)return!0;const kt=dt.doc.resolve($t.start).after($t.depth);if(kt===void 0)return!0;const Tt=dt.doc.nodeAt(kt);return $t.node.type===(Tt==null?void 0:Tt.type)&&canJoin(dt.doc,kt)&&dt.join(kt),!0},toggleList=(dt,et,$t,kt={})=>({editor:Tt,tr:Dt,state:Ft,dispatch:Ut,chain:Ht,commands:Kt,can:Yt})=>{const{extensions:Jt,splittableMarks:Zt}=Tt.extensionManager,er=getNodeType(dt,Ft.schema),rr=getNodeType(et,Ft.schema),{selection:sr,storedMarks:ir}=Ft,{$from:nr,$to:or}=sr,lr=nr.blockRange(or),cr=ir||sr.$to.parentOffset&&sr.$from.marks();if(!lr)return!1;const dr=findParentNode(ur=>isList(ur.type.name,Jt))(sr);if(lr.depth>=1&&dr&&lr.depth-dr.depth<=1){if(dr.node.type===er)return Kt.liftListItem(rr);if(isList(dr.node.type.name,Jt)&&er.validContent(dr.node.content)&&Ut)return Ht().command(()=>(Dt.setNodeMarkup(dr.pos,er),!0)).command(()=>joinListBackwards(Dt,er)).command(()=>joinListForwards(Dt,er)).run()}return!$t||!cr||!Ut?Ht().command(()=>Yt().wrapInList(er,kt)?!0:Kt.clearNodes()).wrapInList(er,kt).command(()=>joinListBackwards(Dt,er)).command(()=>joinListForwards(Dt,er)).run():Ht().command(()=>{const ur=Yt().wrapInList(er,kt),pr=cr.filter(mr=>Zt.includes(mr.type.name));return Dt.ensureMarks(pr),ur?!0:Kt.clearNodes()}).wrapInList(er,kt).command(()=>joinListBackwards(Dt,er)).command(()=>joinListForwards(Dt,er)).run()},toggleMark=(dt,et={},$t={})=>({state:kt,commands:Tt})=>{const{extendEmptyMarkRange:Dt=!1}=$t,Ft=getMarkType(dt,kt.schema);return isMarkActive(kt,Ft,et)?Tt.unsetMark(Ft,{extendEmptyMarkRange:Dt}):Tt.setMark(Ft,et)},toggleNode=(dt,et,$t={})=>({state:kt,commands:Tt})=>{const Dt=getNodeType(dt,kt.schema),Ft=getNodeType(et,kt.schema),Ut=isNodeActive(kt,Dt,$t);let Ht;return kt.selection.$anchor.sameParent(kt.selection.$head)&&(Ht=kt.selection.$anchor.parent.attrs),Ut?Tt.setNode(Ft,Ht):Tt.setNode(Dt,{...Ht,...$t})},toggleWrap=(dt,et={})=>({state:$t,commands:kt})=>{const Tt=getNodeType(dt,$t.schema);return isNodeActive($t,Tt,et)?kt.lift(Tt):kt.wrapIn(Tt,et)},undoInputRule=()=>({state:dt,dispatch:et})=>{const $t=dt.plugins;for(let kt=0;kt<$t.length;kt+=1){const Tt=$t[kt];let Dt;if(Tt.spec.isInputRules&&(Dt=Tt.getState(dt))){if(et){const Ft=dt.tr,Ut=Dt.transform;for(let Ht=Ut.steps.length-1;Ht>=0;Ht-=1)Ft.step(Ut.steps[Ht].invert(Ut.docs[Ht]));if(Dt.text){const Ht=Ft.doc.resolve(Dt.from).marks();Ft.replaceWith(Dt.from,Dt.to,dt.schema.text(Dt.text,Ht))}else Ft.delete(Dt.from,Dt.to)}return!0}}return!1},unsetAllMarks=()=>({tr:dt,dispatch:et})=>{const{selection:$t}=dt,{empty:kt,ranges:Tt}=$t;return kt||et&&Tt.forEach(Dt=>{dt.removeMark(Dt.$from.pos,Dt.$to.pos)}),!0},unsetMark=(dt,et={})=>({tr:$t,state:kt,dispatch:Tt})=>{var Dt;const{extendEmptyMarkRange:Ft=!1}=et,{selection:Ut}=$t,Ht=getMarkType(dt,kt.schema),{$from:Kt,empty:Yt,ranges:Jt}=Ut;if(!Tt)return!0;if(Yt&&Ft){let{from:Zt,to:er}=Ut;const rr=(Dt=Kt.marks().find(ir=>ir.type===Ht))==null?void 0:Dt.attrs,sr=getMarkRange(Kt,Ht,rr);sr&&(Zt=sr.from,er=sr.to),$t.removeMark(Zt,er,Ht)}else Jt.forEach(Zt=>{$t.removeMark(Zt.$from.pos,Zt.$to.pos,Ht)});return $t.removeStoredMark(Ht),!0},unsetTextDirection=dt=>({tr:et,state:$t,dispatch:kt})=>{const{selection:Tt}=$t;let Dt,Ft;return typeof dt=="number"?(Dt=dt,Ft=dt):dt&&"from"in dt&&"to"in dt?(Dt=dt.from,Ft=dt.to):(Dt=Tt.from,Ft=Tt.to),kt&&et.doc.nodesBetween(Dt,Ft,(Ut,Ht)=>{if(Ut.isText)return;const Kt={...Ut.attrs};delete Kt.dir,et.setNodeMarkup(Ht,void 0,Kt)}),!0},updateAttributes=(dt,et={})=>({tr:$t,state:kt,dispatch:Tt})=>{let Dt=null,Ft=null;const Ut=getSchemaTypeNameByName(typeof dt=="string"?dt:dt.name,kt.schema);if(!Ut)return!1;Ut==="node"&&(Dt=getNodeType(dt,kt.schema)),Ut==="mark"&&(Ft=getMarkType(dt,kt.schema));let Ht=!1;return $t.selection.ranges.forEach(Kt=>{const Yt=Kt.$from.pos,Jt=Kt.$to.pos;let Zt,er,rr,sr;$t.selection.empty?kt.doc.nodesBetween(Yt,Jt,(ir,nr)=>{Dt&&Dt===ir.type&&(Ht=!0,rr=Math.max(nr,Yt),sr=Math.min(nr+ir.nodeSize,Jt),Zt=nr,er=ir)}):kt.doc.nodesBetween(Yt,Jt,(ir,nr)=>{nr<Yt&&Dt&&Dt===ir.type&&(Ht=!0,rr=Math.max(nr,Yt),sr=Math.min(nr+ir.nodeSize,Jt),Zt=nr,er=ir),nr>=Yt&&nr<=Jt&&(Dt&&Dt===ir.type&&(Ht=!0,Tt&&$t.setNodeMarkup(nr,void 0,{...ir.attrs,...et})),Ft&&ir.marks.length&&ir.marks.forEach(or=>{if(Ft===or.type&&(Ht=!0,Tt)){const lr=Math.max(nr,Yt),cr=Math.min(nr+ir.nodeSize,Jt);$t.addMark(lr,cr,Ft.create({...or.attrs,...et}))}}))}),er&&(Zt!==void 0&&Tt&&$t.setNodeMarkup(Zt,void 0,{...er.attrs,...et}),Ft&&er.marks.length&&er.marks.forEach(ir=>{Ft===ir.type&&Tt&&$t.addMark(rr,sr,Ft.create({...ir.attrs,...et}))}))}),Ht},wrapIn=(dt,et={})=>({state:$t,dispatch:kt})=>{const Tt=getNodeType(dt,$t.schema);return wrapIn$1(Tt,et)($t,kt)},wrapInList=(dt,et={})=>({state:$t,dispatch:kt})=>{const Tt=getNodeType(dt,$t.schema);return wrapInList$1(Tt,et)($t,kt)},EventEmitter=class{constructor(){this.callbacks={}}on(dt,et){return this.callbacks[dt]||(this.callbacks[dt]=[]),this.callbacks[dt].push(et),this}emit(dt,...et){const $t=this.callbacks[dt];return $t&&$t.forEach(kt=>kt.apply(this,et)),this}off(dt,et){const $t=this.callbacks[dt];return $t&&(et?this.callbacks[dt]=$t.filter(kt=>kt!==et):delete this.callbacks[dt]),this}once(dt,et){const $t=(...kt)=>{this.off(dt,$t),et.apply(this,kt)};return this.on(dt,$t)}removeAllListeners(){this.callbacks={}}},InputRule=class{constructor(dt){var et;this.find=dt.find,this.handler=dt.handler,this.undoable=(et=dt.undoable)!=null?et:!0}},inputRuleMatcherHandler=(dt,et)=>{if(isRegExp(et))return et.exec(dt);const $t=et(dt);if(!$t)return null;const kt=[$t.text];return kt.index=$t.index,kt.input=dt,kt.data=$t.data,$t.replaceWith&&($t.text.includes($t.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),kt.push($t.replaceWith)),kt};function run$2(dt){var et;const{editor:$t,from:kt,to:Tt,text:Dt,rules:Ft,plugin:Ut}=dt,{view:Ht}=$t;if(Ht.composing)return!1;const Kt=Ht.state.doc.resolve(kt);if(Kt.parent.type.spec.code||(et=Kt.nodeBefore||Kt.nodeAfter)!=null&&et.marks.find(Zt=>Zt.type.spec.code))return!1;let Yt=!1;const Jt=getTextContentFromNodes(Kt)+Dt;return Ft.forEach(Zt=>{if(Yt)return;const er=inputRuleMatcherHandler(Jt,Zt.find);if(!er)return;const rr=Ht.state.tr,sr=createChainableState({state:Ht.state,transaction:rr}),ir={from:kt-(er[0].length-Dt.length),to:Tt},{commands:nr,chain:or,can:lr}=new CommandManager$1({editor:$t,state:sr});Zt.handler({state:sr,range:ir,match:er,commands:nr,chain:or,can:lr})===null||!rr.steps.length||(Zt.undoable&&rr.setMeta(Ut,{transform:rr,from:kt,to:Tt,text:Dt}),Ht.dispatch(rr),Yt=!0)}),Yt}function inputRulesPlugin(dt){const{editor:et,rules:$t}=dt,kt=new Plugin({state:{init(){return null},apply(Tt,Dt,Ft){const Ut=Tt.getMeta(kt);if(Ut)return Ut;const Ht=Tt.getMeta("applyInputRules");return!!Ht&&setTimeout(()=>{let{text:Yt}=Ht;typeof Yt=="string"?Yt=Yt:Yt=getHTMLFromFragment(Fragment.from(Yt),Ft.schema);const{from:Jt}=Ht,Zt=Jt+Yt.length;run$2({editor:et,from:Jt,to:Zt,text:Yt,rules:$t,plugin:kt})}),Tt.selectionSet||Tt.docChanged?null:Dt}},props:{handleTextInput(Tt,Dt,Ft,Ut){return run$2({editor:et,from:Dt,to:Ft,text:Ut,rules:$t,plugin:kt})},handleDOMEvents:{compositionend:Tt=>(setTimeout(()=>{const{$cursor:Dt}=Tt.state.selection;Dt&&run$2({editor:et,from:Dt.pos,to:Dt.pos,text:"",rules:$t,plugin:kt})}),!1)},handleKeyDown(Tt,Dt){if(Dt.key!=="Enter")return!1;const{$cursor:Ft}=Tt.state.selection;return Ft?run$2({editor:et,from:Ft.pos,to:Ft.pos,text:`
`,rules:$t,plugin:kt}):!1}},isInputRules:!0});return kt}function getType(dt){return Object.prototype.toString.call(dt).slice(8,-1)}function isPlainObject$3(dt){return getType(dt)!=="Object"?!1:dt.constructor===Object&&Object.getPrototypeOf(dt)===Object.prototype}function mergeDeep(dt,et){const $t={...dt};return isPlainObject$3(dt)&&isPlainObject$3(et)&&Object.keys(et).forEach(kt=>{isPlainObject$3(et[kt])&&isPlainObject$3(dt[kt])?$t[kt]=mergeDeep(dt[kt],et[kt]):$t[kt]=et[kt]}),$t}var Extendable=class{constructor(dt={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...dt},this.name=this.config.name}get options(){return{...callOrReturn(getExtensionField(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...callOrReturn(getExtensionField(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(dt={}){const et=this.extend({...this.config,addOptions:()=>mergeDeep(this.options,dt)});return et.name=this.name,et.parent=this.parent,et}extend(dt={}){const et=new this.constructor({...this.config,...dt});return et.parent=this,this.child=et,et.name="name"in dt?dt.name:et.parent.name,et}},Mark=class aS extends Extendable{constructor(){super(...arguments),this.type="mark"}static create(et={}){const $t=typeof et=="function"?et():et;return new aS($t)}static handleExit({editor:et,mark:$t}){const{tr:kt}=et.state,Tt=et.state.selection.$from;if(Tt.pos===Tt.end()){const Ft=Tt.marks();if(!!!Ft.find(Kt=>(Kt==null?void 0:Kt.type.name)===$t.name))return!1;const Ht=Ft.find(Kt=>(Kt==null?void 0:Kt.type.name)===$t.name);return Ht&&kt.removeStoredMark(Ht),kt.insertText(" ",Tt.pos),et.view.dispatch(kt),!0}return!1}configure(et){return super.configure(et)}extend(et){const $t=typeof et=="function"?et():et;return super.extend($t)}};function isNumber$1(dt){return typeof dt=="number"}var PasteRule=class{constructor(dt){this.find=dt.find,this.handler=dt.handler}},pasteRuleMatcherHandler=(dt,et,$t)=>{if(isRegExp(et))return[...dt.matchAll(et)];const kt=et(dt,$t);return kt?kt.map(Tt=>{const Dt=[Tt.text];return Dt.index=Tt.index,Dt.input=dt,Dt.data=Tt.data,Tt.replaceWith&&(Tt.text.includes(Tt.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),Dt.push(Tt.replaceWith)),Dt}):[]};function run2(dt){const{editor:et,state:$t,from:kt,to:Tt,rule:Dt,pasteEvent:Ft,dropEvent:Ut}=dt,{commands:Ht,chain:Kt,can:Yt}=new CommandManager$1({editor:et,state:$t}),Jt=[];return $t.doc.nodesBetween(kt,Tt,(er,rr)=>{var sr,ir,nr,or,lr;if((ir=(sr=er.type)==null?void 0:sr.spec)!=null&&ir.code||!(er.isText||er.isTextblock||er.isInline))return;const cr=(lr=(or=(nr=er.content)==null?void 0:nr.size)!=null?or:er.nodeSize)!=null?lr:0,dr=Math.max(kt,rr),ur=Math.min(Tt,rr+cr);if(dr>=ur)return;const pr=er.isText?er.text||"":er.textBetween(dr-rr,ur-rr,void 0,"");pasteRuleMatcherHandler(pr,Dt.find,Ft).forEach(vr=>{if(vr.index===void 0)return;const kr=dr+vr.index+1,br=kr+vr[0].length,_r={from:$t.tr.mapping.map(kr),to:$t.tr.mapping.map(br)},Or=Dt.handler({state:$t,range:_r,match:vr,commands:Ht,chain:Kt,can:Yt,pasteEvent:Ft,dropEvent:Ut});Jt.push(Or)})}),Jt.every(er=>er!==null)}var tiptapDragFromOtherEditor=null,createClipboardPasteEvent=dt=>{var et;const $t=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(et=$t.clipboardData)==null||et.setData("text/html",dt),$t};function pasteRulesPlugin(dt){const{editor:et,rules:$t}=dt;let kt=null,Tt=!1,Dt=!1,Ft=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,Ut;try{Ut=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{Ut=null}const Ht=({state:Yt,from:Jt,to:Zt,rule:er,pasteEvt:rr})=>{const sr=Yt.tr,ir=createChainableState({state:Yt,transaction:sr});if(!(!run2({editor:et,state:ir,from:Math.max(Jt-1,0),to:Zt.b-1,rule:er,pasteEvent:rr,dropEvent:Ut})||!sr.steps.length)){try{Ut=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{Ut=null}return Ft=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,sr}};return $t.map(Yt=>new Plugin({view(Jt){const Zt=rr=>{var sr;kt=(sr=Jt.dom.parentElement)!=null&&sr.contains(rr.target)?Jt.dom.parentElement:null,kt&&(tiptapDragFromOtherEditor=et)},er=()=>{tiptapDragFromOtherEditor&&(tiptapDragFromOtherEditor=null)};return window.addEventListener("dragstart",Zt),window.addEventListener("dragend",er),{destroy(){window.removeEventListener("dragstart",Zt),window.removeEventListener("dragend",er)}}},props:{handleDOMEvents:{drop:(Jt,Zt)=>{if(Dt=kt===Jt.dom.parentElement,Ut=Zt,!Dt){const er=tiptapDragFromOtherEditor;er!=null&&er.isEditable&&setTimeout(()=>{const rr=er.state.selection;rr&&er.commands.deleteRange({from:rr.from,to:rr.to})},10)}return!1},paste:(Jt,Zt)=>{var er;const rr=(er=Zt.clipboardData)==null?void 0:er.getData("text/html");return Ft=Zt,Tt=!!(rr!=null&&rr.includes("data-pm-slice")),!1}}},appendTransaction:(Jt,Zt,er)=>{const rr=Jt[0],sr=rr.getMeta("uiEvent")==="paste"&&!Tt,ir=rr.getMeta("uiEvent")==="drop"&&!Dt,nr=rr.getMeta("applyPasteRules"),or=!!nr;if(!sr&&!ir&&!or)return;if(or){let{text:dr}=nr;typeof dr=="string"?dr=dr:dr=getHTMLFromFragment(Fragment.from(dr),er.schema);const{from:ur}=nr,pr=ur+dr.length,mr=createClipboardPasteEvent(dr);return Ht({rule:Yt,state:er,from:ur,to:{b:pr},pasteEvt:mr})}const lr=Zt.doc.content.findDiffStart(er.doc.content),cr=Zt.doc.content.findDiffEnd(er.doc.content);if(!(!isNumber$1(lr)||!cr||lr===cr.b))return Ht({rule:Yt,state:er,from:lr,to:cr,pasteEvt:Ft})}}))}var ExtensionManager=class{constructor(dt,et){this.splittableMarks=[],this.editor=et,this.baseExtensions=dt,this.extensions=resolveExtensions(dt),this.schema=getSchemaByResolvedExtensions(this.extensions,et),this.setupExtensions()}get commands(){return this.extensions.reduce((dt,et)=>{const $t={name:et.name,options:et.options,storage:this.editor.extensionStorage[et.name],editor:this.editor,type:getSchemaTypeByName(et.name,this.schema)},kt=getExtensionField(et,"addCommands",$t);return kt?{...dt,...kt()}:dt},{})}get plugins(){const{editor:dt}=this;return sortExtensions([...this.extensions].reverse()).flatMap(kt=>{const Tt={name:kt.name,options:kt.options,storage:this.editor.extensionStorage[kt.name],editor:dt,type:getSchemaTypeByName(kt.name,this.schema)},Dt=[],Ft=getExtensionField(kt,"addKeyboardShortcuts",Tt);let Ut={};if(kt.type==="mark"&&getExtensionField(kt,"exitable",Tt)&&(Ut.ArrowRight=()=>Mark.handleExit({editor:dt,mark:kt})),Ft){const Zt=Object.fromEntries(Object.entries(Ft()).map(([er,rr])=>[er,()=>rr({editor:dt})]));Ut={...Ut,...Zt}}const Ht=keymap(Ut);Dt.push(Ht);const Kt=getExtensionField(kt,"addInputRules",Tt);if(isExtensionRulesEnabled(kt,dt.options.enableInputRules)&&Kt){const Zt=Kt();if(Zt&&Zt.length){const er=inputRulesPlugin({editor:dt,rules:Zt}),rr=Array.isArray(er)?er:[er];Dt.push(...rr)}}const Yt=getExtensionField(kt,"addPasteRules",Tt);if(isExtensionRulesEnabled(kt,dt.options.enablePasteRules)&&Yt){const Zt=Yt();if(Zt&&Zt.length){const er=pasteRulesPlugin({editor:dt,rules:Zt});Dt.push(...er)}}const Jt=getExtensionField(kt,"addProseMirrorPlugins",Tt);if(Jt){const Zt=Jt();Dt.push(...Zt)}return Dt})}get attributes(){return getAttributesFromExtensions(this.extensions)}get nodeViews(){const{editor:dt}=this,{nodeExtensions:et}=splitExtensions(this.extensions);return Object.fromEntries(et.filter($t=>!!getExtensionField($t,"addNodeView")).map($t=>{const kt=this.attributes.filter(Ht=>Ht.type===$t.name),Tt={name:$t.name,options:$t.options,storage:this.editor.extensionStorage[$t.name],editor:dt,type:getNodeType($t.name,this.schema)},Dt=getExtensionField($t,"addNodeView",Tt);if(!Dt)return[];const Ft=Dt();if(!Ft)return[];const Ut=(Ht,Kt,Yt,Jt,Zt)=>{const er=getRenderedAttributes(Ht,kt);return Ft({node:Ht,view:Kt,getPos:Yt,decorations:Jt,innerDecorations:Zt,editor:dt,extension:$t,HTMLAttributes:er})};return[$t.name,Ut]}))}dispatchTransaction(dt){const{editor:et}=this;return sortExtensions([...this.extensions].reverse()).reduceRight((kt,Tt)=>{const Dt={name:Tt.name,options:Tt.options,storage:this.editor.extensionStorage[Tt.name],editor:et,type:getSchemaTypeByName(Tt.name,this.schema)},Ft=getExtensionField(Tt,"dispatchTransaction",Dt);return Ft?Ut=>{Ft.call(Dt,{transaction:Ut,next:kt})}:kt},dt)}get markViews(){const{editor:dt}=this,{markExtensions:et}=splitExtensions(this.extensions);return Object.fromEntries(et.filter($t=>!!getExtensionField($t,"addMarkView")).map($t=>{const kt=this.attributes.filter(Ut=>Ut.type===$t.name),Tt={name:$t.name,options:$t.options,storage:this.editor.extensionStorage[$t.name],editor:dt,type:getMarkType($t.name,this.schema)},Dt=getExtensionField($t,"addMarkView",Tt);if(!Dt)return[];const Ft=(Ut,Ht,Kt)=>{const Yt=getRenderedAttributes(Ut,kt);return Dt()({mark:Ut,view:Ht,inline:Kt,editor:dt,extension:$t,HTMLAttributes:Yt,updateAttributes:Jt=>{updateMarkViewAttributes(Ut,dt,Jt)}})};return[$t.name,Ft]}))}setupExtensions(){const dt=this.extensions;this.editor.extensionStorage=Object.fromEntries(dt.map(et=>[et.name,et.storage])),dt.forEach(et=>{var $t;const kt={name:et.name,options:et.options,storage:this.editor.extensionStorage[et.name],editor:this.editor,type:getSchemaTypeByName(et.name,this.schema)};et.type==="mark"&&(($t=callOrReturn(getExtensionField(et,"keepOnSplit",kt)))==null||$t)&&this.splittableMarks.push(et.name);const Tt=getExtensionField(et,"onBeforeCreate",kt),Dt=getExtensionField(et,"onCreate",kt),Ft=getExtensionField(et,"onUpdate",kt),Ut=getExtensionField(et,"onSelectionUpdate",kt),Ht=getExtensionField(et,"onTransaction",kt),Kt=getExtensionField(et,"onFocus",kt),Yt=getExtensionField(et,"onBlur",kt),Jt=getExtensionField(et,"onDestroy",kt);Tt&&this.editor.on("beforeCreate",Tt),Dt&&this.editor.on("create",Dt),Ft&&this.editor.on("update",Ft),Ut&&this.editor.on("selectionUpdate",Ut),Ht&&this.editor.on("transaction",Ht),Kt&&this.editor.on("focus",Kt),Yt&&this.editor.on("blur",Yt),Jt&&this.editor.on("destroy",Jt)})}};ExtensionManager.resolve=resolveExtensions;ExtensionManager.sort=sortExtensions;ExtensionManager.flatten=flattenExtensions;var extensions_exports={};__export$7(extensions_exports,{ClipboardTextSerializer:()=>ClipboardTextSerializer,Commands:()=>Commands,Delete:()=>Delete,Drop:()=>Drop,Editable:()=>Editable,FocusEvents:()=>FocusEvents,Keymap:()=>Keymap,Paste:()=>Paste,Tabindex:()=>Tabindex,TextDirection:()=>TextDirection,focusEventsPluginKey:()=>focusEventsPluginKey});var Extension=class oS extends Extendable{constructor(){super(...arguments),this.type="extension"}static create(et={}){const $t=typeof et=="function"?et():et;return new oS($t)}configure(et){return super.configure(et)}extend(et){const $t=typeof et=="function"?et():et;return super.extend($t)}},ClipboardTextSerializer=Extension.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:dt}=this,{state:et,schema:$t}=dt,{doc:kt,selection:Tt}=et,{ranges:Dt}=Tt,Ft=Math.min(...Dt.map(Yt=>Yt.$from.pos)),Ut=Math.max(...Dt.map(Yt=>Yt.$to.pos)),Ht=getTextSerializersFromSchema($t);return getTextBetween(kt,{from:Ft,to:Ut},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:Ht})}}})]}}),Commands=Extension.create({name:"commands",addCommands(){return{...commands_exports}}}),Delete=Extension.create({name:"delete",onUpdate({transaction:dt,appendedTransactions:et}){var $t,kt,Tt;const Dt=()=>{var Ft,Ut,Ht,Kt;if((Kt=(Ht=(Ut=(Ft=this.editor.options.coreExtensionOptions)==null?void 0:Ft.delete)==null?void 0:Ut.filterTransaction)==null?void 0:Ht.call(Ut,dt))!=null?Kt:dt.getMeta("y-sync$"))return;const Yt=combineTransactionSteps(dt.before,[dt,...et]);getChangedRanges(Yt).forEach(er=>{Yt.mapping.mapResult(er.oldRange.from).deletedAfter&&Yt.mapping.mapResult(er.oldRange.to).deletedBefore&&Yt.before.nodesBetween(er.oldRange.from,er.oldRange.to,(rr,sr)=>{const ir=sr+rr.nodeSize-2,nr=er.oldRange.from<=sr&&ir<=er.oldRange.to;this.editor.emit("delete",{type:"node",node:rr,from:sr,to:ir,newFrom:Yt.mapping.map(sr),newTo:Yt.mapping.map(ir),deletedRange:er.oldRange,newRange:er.newRange,partial:!nr,editor:this.editor,transaction:dt,combinedTransform:Yt})})});const Zt=Yt.mapping;Yt.steps.forEach((er,rr)=>{var sr,ir;if(er instanceof RemoveMarkStep){const nr=Zt.slice(rr).map(er.from,-1),or=Zt.slice(rr).map(er.to),lr=Zt.invert().map(nr,-1),cr=Zt.invert().map(or),dr=(sr=Yt.doc.nodeAt(nr-1))==null?void 0:sr.marks.some(pr=>pr.eq(er.mark)),ur=(ir=Yt.doc.nodeAt(or))==null?void 0:ir.marks.some(pr=>pr.eq(er.mark));this.editor.emit("delete",{type:"mark",mark:er.mark,from:er.from,to:er.to,deletedRange:{from:lr,to:cr},newRange:{from:nr,to:or},partial:!!(ur||dr),editor:this.editor,transaction:dt,combinedTransform:Yt})}})};(Tt=(kt=($t=this.editor.options.coreExtensionOptions)==null?void 0:$t.delete)==null?void 0:kt.async)==null||Tt?setTimeout(Dt,0):Dt()}}),Drop=Extension.create({name:"drop",addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("tiptapDrop"),props:{handleDrop:(dt,et,$t,kt)=>{this.editor.emit("drop",{editor:this.editor,event:et,slice:$t,moved:kt})}}})]}}),Editable=Extension.create({name:"editable",addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("editable"),props:{editable:()=>this.editor.options.editable}})]}}),focusEventsPluginKey=new PluginKey("focusEvents"),FocusEvents=Extension.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:dt}=this;return[new Plugin({key:focusEventsPluginKey,props:{handleDOMEvents:{focus:(et,$t)=>{dt.isFocused=!0;const kt=dt.state.tr.setMeta("focus",{event:$t}).setMeta("addToHistory",!1);return et.dispatch(kt),!1},blur:(et,$t)=>{dt.isFocused=!1;const kt=dt.state.tr.setMeta("blur",{event:$t}).setMeta("addToHistory",!1);return et.dispatch(kt),!1}}}})]}}),Keymap=Extension.create({name:"keymap",addKeyboardShortcuts(){const dt=()=>this.editor.commands.first(({commands:Ft})=>[()=>Ft.undoInputRule(),()=>Ft.command(({tr:Ut})=>{const{selection:Ht,doc:Kt}=Ut,{empty:Yt,$anchor:Jt}=Ht,{pos:Zt,parent:er}=Jt,rr=Jt.parent.isTextblock&&Zt>0?Ut.doc.resolve(Zt-1):Jt,sr=rr.parent.type.spec.isolating,ir=Jt.pos-Jt.parentOffset,nr=sr&&rr.parent.childCount===1?ir===Jt.pos:Selection.atStart(Kt).from===Zt;return!Yt||!er.type.isTextblock||er.textContent.length||!nr||nr&&Jt.parent.type.name==="paragraph"?!1:Ft.clearNodes()}),()=>Ft.deleteSelection(),()=>Ft.joinBackward(),()=>Ft.selectNodeBackward()]),et=()=>this.editor.commands.first(({commands:Ft})=>[()=>Ft.deleteSelection(),()=>Ft.deleteCurrentNode(),()=>Ft.joinForward(),()=>Ft.selectNodeForward()]),kt={Enter:()=>this.editor.commands.first(({commands:Ft})=>[()=>Ft.newlineInCode(),()=>Ft.createParagraphNear(),()=>Ft.liftEmptyBlock(),()=>Ft.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:dt,"Mod-Backspace":dt,"Shift-Backspace":dt,Delete:et,"Mod-Delete":et,"Mod-a":()=>this.editor.commands.selectAll()},Tt={...kt},Dt={...kt,"Ctrl-h":dt,"Alt-Backspace":dt,"Ctrl-d":et,"Ctrl-Alt-Backspace":et,"Alt-Delete":et,"Alt-d":et,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return isiOS()||isMacOS()?Dt:Tt},addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("clearDocument"),appendTransaction:(dt,et,$t)=>{if(dt.some(sr=>sr.getMeta("composition")))return;const kt=dt.some(sr=>sr.docChanged)&&!et.doc.eq($t.doc),Tt=dt.some(sr=>sr.getMeta("preventClearDocument"));if(!kt||Tt)return;const{empty:Dt,from:Ft,to:Ut}=et.selection,Ht=Selection.atStart(et.doc).from,Kt=Selection.atEnd(et.doc).to;if(Dt||!(Ft===Ht&&Ut===Kt)||!isNodeEmpty($t.doc))return;const Zt=$t.tr,er=createChainableState({state:$t,transaction:Zt}),{commands:rr}=new CommandManager$1({editor:this.editor,state:er});if(rr.clearNodes(),!!Zt.steps.length)return Zt}})]}}),Paste=Extension.create({name:"paste",addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("tiptapPaste"),props:{handlePaste:(dt,et,$t)=>{this.editor.emit("paste",{editor:this.editor,event:et,slice:$t})}}})]}}),Tabindex=Extension.create({name:"tabindex",addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),TextDirection=Extension.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:dt}=splitExtensions(this.extensions);return[{types:dt.filter(et=>et.name!=="text").map(et=>et.name),attributes:{dir:{default:this.options.direction,parseHTML:et=>{const $t=et.getAttribute("dir");return $t&&($t==="ltr"||$t==="rtl"||$t==="auto")?$t:this.options.direction},renderHTML:et=>et.dir?{dir:et.dir}:{}}}}]},addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("textDirection"),props:{attributes:()=>{const dt=this.options.direction;return dt?{dir:dt}:{}}}})]}}),NodePos=class c0{constructor(et,$t,kt=!1,Tt=null){this.currentNode=null,this.actualDepth=null,this.isBlock=kt,this.resolvedPos=et,this.editor=$t,this.currentNode=Tt}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var et;return(et=this.actualDepth)!=null?et:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(et){let $t=this.from,kt=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}$t=this.from+1,kt=this.to-1}this.editor.commands.insertContentAt({from:$t,to:kt},et)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const et=this.resolvedPos.start(this.resolvedPos.depth-1),$t=this.resolvedPos.doc.resolve(et);return new c0($t,this.editor)}get before(){let et=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return et.depth!==this.depth&&(et=this.resolvedPos.doc.resolve(this.from-3)),new c0(et,this.editor)}get after(){let et=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return et.depth!==this.depth&&(et=this.resolvedPos.doc.resolve(this.to+3)),new c0(et,this.editor)}get children(){const et=[];return this.node.content.forEach(($t,kt)=>{const Tt=$t.isBlock&&!$t.isTextblock,Dt=$t.isAtom&&!$t.isText,Ft=this.pos+kt+(Dt?0:1);if(Ft<0||Ft>this.resolvedPos.doc.nodeSize-2)return;const Ut=this.resolvedPos.doc.resolve(Ft);if(!Tt&&Ut.depth<=this.depth)return;const Ht=new c0(Ut,this.editor,Tt,Tt?$t:null);Tt&&(Ht.actualDepth=this.depth+1),et.push(new c0(Ut,this.editor,Tt,Tt?$t:null))}),et}get firstChild(){return this.children[0]||null}get lastChild(){const et=this.children;return et[et.length-1]||null}closest(et,$t={}){let kt=null,Tt=this.parent;for(;Tt&&!kt;){if(Tt.node.type.name===et)if(Object.keys($t).length>0){const Dt=Tt.node.attrs,Ft=Object.keys($t);for(let Ut=0;Ut<Ft.length;Ut+=1){const Ht=Ft[Ut];if(Dt[Ht]!==$t[Ht])break}}else kt=Tt;Tt=Tt.parent}return kt}querySelector(et,$t={}){return this.querySelectorAll(et,$t,!0)[0]||null}querySelectorAll(et,$t={},kt=!1){let Tt=[];if(!this.children||this.children.length===0)return Tt;const Dt=Object.keys($t);return this.children.forEach(Ft=>{kt&&Tt.length>0||(Ft.node.type.name===et&&Dt.every(Ht=>$t[Ht]===Ft.node.attrs[Ht])&&Tt.push(Ft),!(kt&&Tt.length>0)&&(Tt=Tt.concat(Ft.querySelectorAll(et,$t,kt))))}),Tt}setAttribute(et){const{tr:$t}=this.editor.state;$t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...et}),this.editor.view.dispatch($t)}},style=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function createStyleTag(dt,et,$t){const kt=document.querySelector(`style[data-tiptap-style${$t?`-${$t}`:""}]`);if(kt!==null)return kt;const Tt=document.createElement("style");return et&&Tt.setAttribute("nonce",et),Tt.setAttribute(`data-tiptap-style${$t?`-${$t}`:""}`,""),Tt.innerHTML=dt,document.getElementsByTagName("head")[0].appendChild(Tt),Tt}var Editor=class extends EventEmitter{constructor(dt={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:kt})=>{throw kt},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null,enableExtensionDispatchTransaction:!0},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.utils={getUpdatedPosition,createMappablePosition},this.setOptions(dt),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:kt,slice:Tt,moved:Dt})=>this.options.onDrop(kt,Tt,Dt)),this.on("paste",({event:kt,slice:Tt})=>this.options.onPaste(kt,Tt)),this.on("delete",this.options.onDelete);const et=this.createDoc(),$t=resolveFocusPosition(et,this.options.autofocus);this.editorState=EditorState.create({doc:et,schema:this.schema,selection:$t||void 0}),this.options.element&&this.mount(this.options.element)}mount(dt){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(dt),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const dt=this.editorView.dom;dt!=null&&dt.editor&&delete dt.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(dt){console.warn("Failed to remove CSS element:",dt)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=createStyleTag(style,this.options.injectNonce))}setOptions(dt={}){this.options={...this.options,...dt},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(dt,et=!0){this.setOptions({editable:dt}),et&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:dt=>{this.editorState=dt},dispatch:dt=>{this.dispatchTransaction(dt)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(dt,et)=>{if(this.editorView)return this.editorView[et];if(et==="state")return this.editorState;if(et in dt)return Reflect.get(dt,et);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${et}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(dt,et){const $t=isFunction$4(et)?et(dt,[...this.state.plugins]):[...this.state.plugins,dt],kt=this.state.reconfigure({plugins:$t});return this.view.updateState(kt),kt}unregisterPlugin(dt){if(this.isDestroyed)return;const et=this.state.plugins;let $t=et;if([].concat(dt).forEach(Tt=>{const Dt=typeof Tt=="string"?`${Tt}$`:Tt.key;$t=$t.filter(Ft=>!Ft.key.startsWith(Dt))}),et.length===$t.length)return;const kt=this.state.reconfigure({plugins:$t});return this.view.updateState(kt),kt}createExtensionManager(){var dt,et;const kt=[...this.options.enableCoreExtensions?[Editable,ClipboardTextSerializer.configure({blockSeparator:(et=(dt=this.options.coreExtensionOptions)==null?void 0:dt.clipboardTextSerializer)==null?void 0:et.blockSeparator}),Commands,FocusEvents,Keymap,Tabindex,Drop,Paste,Delete,TextDirection.configure({direction:this.options.textDirection})].filter(Tt=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[Tt.name]!==!1:!0):[],...this.options.extensions].filter(Tt=>["extension","node","mark"].includes(Tt==null?void 0:Tt.type));this.extensionManager=new ExtensionManager(kt,this)}createCommandManager(){this.commandManager=new CommandManager$1({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let dt;try{dt=createDocument(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(et){if(!(et instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(et.message))throw et;this.emit("contentError",{editor:this,error:et,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter($t=>$t.name!=="collaboration"),this.createExtensionManager()}}),dt=createDocument(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return dt}createView(dt){const{editorProps:et,enableExtensionDispatchTransaction:$t}=this.options,kt=et.dispatchTransaction||this.dispatchTransaction.bind(this),Tt=$t?this.extensionManager.dispatchTransaction(kt):kt;this.editorView=new EditorView(dt,{...et,attributes:{role:"textbox",...et==null?void 0:et.attributes},dispatchTransaction:Tt,state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const Dt=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(Dt),this.prependClass(),this.injectCSS();const Ft=this.view.dom;Ft.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(dt){this.isCapturingTransaction=!0,dt(),this.isCapturingTransaction=!1;const et=this.capturedTransaction;return this.capturedTransaction=null,et}dispatchTransaction(dt){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=dt;return}dt.steps.forEach(Kt=>{var Yt;return(Yt=this.capturedTransaction)==null?void 0:Yt.step(Kt)});return}const{state:et,transactions:$t}=this.state.applyTransaction(dt),kt=!this.state.selection.eq(et.selection),Tt=$t.includes(dt),Dt=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:dt,nextState:et}),!Tt)return;this.view.updateState(et),this.emit("transaction",{editor:this,transaction:dt,appendedTransactions:$t.slice(1)}),kt&&this.emit("selectionUpdate",{editor:this,transaction:dt});const Ft=$t.findLast(Kt=>Kt.getMeta("focus")||Kt.getMeta("blur")),Ut=Ft==null?void 0:Ft.getMeta("focus"),Ht=Ft==null?void 0:Ft.getMeta("blur");Ut&&this.emit("focus",{editor:this,event:Ut.event,transaction:Ft}),Ht&&this.emit("blur",{editor:this,event:Ht.event,transaction:Ft}),!(dt.getMeta("preventUpdate")||!$t.some(Kt=>Kt.docChanged)||Dt.doc.eq(et.doc))&&this.emit("update",{editor:this,transaction:dt,appendedTransactions:$t.slice(1)})}getAttributes(dt){return getAttributes$1(this.state,dt)}isActive(dt,et){const $t=typeof dt=="string"?dt:null,kt=typeof dt=="string"?et:dt;return isActive(this.state,$t,kt)}getJSON(){return this.state.doc.toJSON()}getHTML(){return getHTMLFromFragment(this.state.doc.content,this.schema)}getText(dt){const{blockSeparator:et=`

`,textSerializers:$t={}}=dt||{};return getText(this.state.doc,{blockSeparator:et,textSerializers:{...getTextSerializersFromSchema(this.schema),...$t}})}get isEmpty(){return isNodeEmpty(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var dt,et;return(et=(dt=this.editorView)==null?void 0:dt.isDestroyed)!=null?et:!0}$node(dt,et){var $t;return(($t=this.$doc)==null?void 0:$t.querySelector(dt,et))||null}$nodes(dt,et){var $t;return(($t=this.$doc)==null?void 0:$t.querySelectorAll(dt,et))||null}$pos(dt){const et=this.state.doc.resolve(dt);return new NodePos(et,this)}get $doc(){return this.$pos(0)}};function markInputRule(dt){return new InputRule({find:dt.find,handler:({state:et,range:$t,match:kt})=>{const Tt=callOrReturn(dt.getAttributes,void 0,kt);if(Tt===!1||Tt===null)return null;const{tr:Dt}=et,Ft=kt[kt.length-1],Ut=kt[0];if(Ft){const Ht=Ut.search(/\S/),Kt=$t.from+Ut.indexOf(Ft),Yt=Kt+Ft.length;if(getMarksBetween($t.from,$t.to,et.doc).filter(er=>er.mark.type.excluded.find(sr=>sr===dt.type&&sr!==er.mark.type)).filter(er=>er.to>Kt).length)return null;Yt<$t.to&&Dt.delete(Yt,$t.to),Kt>$t.from&&Dt.delete($t.from+Ht,Kt);const Zt=$t.from+Ht+Ft.length;Dt.addMark($t.from+Ht,Zt,dt.type.create(Tt||{})),Dt.removeStoredMark(dt.type)}},undoable:dt.undoable})}function nodeInputRule(dt){return new InputRule({find:dt.find,handler:({state:et,range:$t,match:kt})=>{const Tt=callOrReturn(dt.getAttributes,void 0,kt)||{},{tr:Dt}=et,Ft=$t.from;let Ut=$t.to;const Ht=dt.type.create(Tt);if(kt[1]){const Kt=kt[0].lastIndexOf(kt[1]);let Yt=Ft+Kt;Yt>Ut?Yt=Ut:Ut=Yt+kt[1].length;const Jt=kt[0][kt[0].length-1];Dt.insertText(Jt,Ft+kt[0].length-1),Dt.replaceWith(Yt,Ut,Ht)}else if(kt[0]){const Kt=dt.type.isInline?Ft:Ft-1;Dt.insert(Kt,dt.type.create(Tt)).delete(Dt.mapping.map(Ft),Dt.mapping.map(Ut))}Dt.scrollIntoView()},undoable:dt.undoable})}function textblockTypeInputRule(dt){return new InputRule({find:dt.find,handler:({state:et,range:$t,match:kt})=>{const Tt=et.doc.resolve($t.from),Dt=callOrReturn(dt.getAttributes,void 0,kt)||{};if(!Tt.node(-1).canReplaceWith(Tt.index(-1),Tt.indexAfter(-1),dt.type))return null;et.tr.delete($t.from,$t.to).setBlockType($t.from,$t.from,dt.type,Dt)},undoable:dt.undoable})}function wrappingInputRule(dt){return new InputRule({find:dt.find,handler:({state:et,range:$t,match:kt,chain:Tt})=>{const Dt=callOrReturn(dt.getAttributes,void 0,kt)||{},Ft=et.tr.delete($t.from,$t.to),Ht=Ft.doc.resolve($t.from).blockRange(),Kt=Ht&&findWrapping(Ht,dt.type,Dt);if(!Kt)return null;if(Ft.wrap(Ht,Kt),dt.keepMarks&&dt.editor){const{selection:Jt,storedMarks:Zt}=et,{splittableMarks:er}=dt.editor.extensionManager,rr=Zt||Jt.$to.parentOffset&&Jt.$from.marks();if(rr){const sr=rr.filter(ir=>er.includes(ir.type.name));Ft.ensureMarks(sr)}}if(dt.keepAttributes){const Jt=dt.type.name==="bulletList"||dt.type.name==="orderedList"?"listItem":"taskList";Tt().updateAttributes(Jt,Dt).run()}const Yt=Ft.doc.resolve($t.from-1).nodeBefore;Yt&&Yt.type===dt.type&&canJoin(Ft.doc,$t.from-1)&&(!dt.joinPredicate||dt.joinPredicate(kt,Yt))&&Ft.join($t.from-1)},undoable:dt.undoable})}var isTouchEvent$1=dt=>"touches"in dt,ResizableNodeView=class{constructor(dt){this.directions=["bottom-left","bottom-right","top-left","top-right"],this.minSize={height:8,width:8},this.preserveAspectRatio=!1,this.classNames={container:"",wrapper:"",handle:"",resizing:""},this.initialWidth=0,this.initialHeight=0,this.aspectRatio=1,this.isResizing=!1,this.activeHandle=null,this.startX=0,this.startY=0,this.startWidth=0,this.startHeight=0,this.isShiftKeyPressed=!1,this.lastEditableState=void 0,this.handleMap=new Map,this.handleMouseMove=Ut=>{if(!this.isResizing||!this.activeHandle)return;const Ht=Ut.clientX-this.startX,Kt=Ut.clientY-this.startY;this.handleResize(Ht,Kt)},this.handleTouchMove=Ut=>{if(!this.isResizing||!this.activeHandle)return;const Ht=Ut.touches[0];if(!Ht)return;const Kt=Ht.clientX-this.startX,Yt=Ht.clientY-this.startY;this.handleResize(Kt,Yt)},this.handleMouseUp=()=>{if(!this.isResizing)return;const Ut=this.element.offsetWidth,Ht=this.element.offsetHeight;this.onCommit(Ut,Ht),this.isResizing=!1,this.activeHandle=null,this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)},this.handleKeyDown=Ut=>{Ut.key==="Shift"&&(this.isShiftKeyPressed=!0)},this.handleKeyUp=Ut=>{Ut.key==="Shift"&&(this.isShiftKeyPressed=!1)};var et,$t,kt,Tt,Dt,Ft;this.node=dt.node,this.editor=dt.editor,this.element=dt.element,this.contentElement=dt.contentElement,this.getPos=dt.getPos,this.onResize=dt.onResize,this.onCommit=dt.onCommit,this.onUpdate=dt.onUpdate,(et=dt.options)!=null&&et.min&&(this.minSize={...this.minSize,...dt.options.min}),($t=dt.options)!=null&&$t.max&&(this.maxSize=dt.options.max),(kt=dt==null?void 0:dt.options)!=null&&kt.directions&&(this.directions=dt.options.directions),(Tt=dt.options)!=null&&Tt.preserveAspectRatio&&(this.preserveAspectRatio=dt.options.preserveAspectRatio),(Dt=dt.options)!=null&&Dt.className&&(this.classNames={container:dt.options.className.container||"",wrapper:dt.options.className.wrapper||"",handle:dt.options.className.handle||"",resizing:dt.options.className.resizing||""}),(Ft=dt.options)!=null&&Ft.createCustomHandle&&(this.createCustomHandle=dt.options.createCustomHandle),this.wrapper=this.createWrapper(),this.container=this.createContainer(),this.applyInitialSize(),this.attachHandles(),this.editor.on("update",this.handleEditorUpdate.bind(this))}get dom(){return this.container}get contentDOM(){return this.contentElement}handleEditorUpdate(){const dt=this.editor.isEditable;dt!==this.lastEditableState&&(this.lastEditableState=dt,dt?dt&&this.handleMap.size===0&&this.attachHandles():this.removeHandles())}update(dt,et,$t){return dt.type!==this.node.type?!1:(this.node=dt,this.onUpdate?this.onUpdate(dt,et,$t):!0)}destroy(){this.isResizing&&(this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),this.isResizing=!1,this.activeHandle=null),this.editor.off("update",this.handleEditorUpdate.bind(this)),this.container.remove()}createContainer(){const dt=document.createElement("div");return dt.dataset.resizeContainer="",dt.dataset.node=this.node.type.name,dt.style.display="flex",this.classNames.container&&(dt.className=this.classNames.container),dt.appendChild(this.wrapper),dt}createWrapper(){const dt=document.createElement("div");return dt.style.position="relative",dt.style.display="block",dt.dataset.resizeWrapper="",this.classNames.wrapper&&(dt.className=this.classNames.wrapper),dt.appendChild(this.element),dt}createHandle(dt){const et=document.createElement("div");return et.dataset.resizeHandle=dt,et.style.position="absolute",this.classNames.handle&&(et.className=this.classNames.handle),et}positionHandle(dt,et){const $t=et.includes("top"),kt=et.includes("bottom"),Tt=et.includes("left"),Dt=et.includes("right");$t&&(dt.style.top="0"),kt&&(dt.style.bottom="0"),Tt&&(dt.style.left="0"),Dt&&(dt.style.right="0"),(et==="top"||et==="bottom")&&(dt.style.left="0",dt.style.right="0"),(et==="left"||et==="right")&&(dt.style.top="0",dt.style.bottom="0")}attachHandles(){this.directions.forEach(dt=>{let et;this.createCustomHandle?et=this.createCustomHandle(dt):et=this.createHandle(dt),et instanceof HTMLElement||(console.warn(`[ResizableNodeView] createCustomHandle("${dt}") did not return an HTMLElement. Falling back to default handle.`),et=this.createHandle(dt)),this.createCustomHandle||this.positionHandle(et,dt),et.addEventListener("mousedown",$t=>this.handleResizeStart($t,dt)),et.addEventListener("touchstart",$t=>this.handleResizeStart($t,dt)),this.handleMap.set(dt,et),this.wrapper.appendChild(et)})}removeHandles(){this.handleMap.forEach(dt=>dt.remove()),this.handleMap.clear()}applyInitialSize(){const dt=this.node.attrs.width,et=this.node.attrs.height;dt?(this.element.style.width=`${dt}px`,this.initialWidth=dt):this.initialWidth=this.element.offsetWidth,et?(this.element.style.height=`${et}px`,this.initialHeight=et):this.initialHeight=this.element.offsetHeight,this.initialWidth>0&&this.initialHeight>0&&(this.aspectRatio=this.initialWidth/this.initialHeight)}handleResizeStart(dt,et){dt.preventDefault(),dt.stopPropagation(),this.isResizing=!0,this.activeHandle=et,isTouchEvent$1(dt)?(this.startX=dt.touches[0].clientX,this.startY=dt.touches[0].clientY):(this.startX=dt.clientX,this.startY=dt.clientY),this.startWidth=this.element.offsetWidth,this.startHeight=this.element.offsetHeight,this.startWidth>0&&this.startHeight>0&&(this.aspectRatio=this.startWidth/this.startHeight),this.getPos(),this.container.dataset.resizeState="true",this.classNames.resizing&&this.container.classList.add(this.classNames.resizing),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("touchmove",this.handleTouchMove),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}handleResize(dt,et){if(!this.activeHandle)return;const $t=this.preserveAspectRatio||this.isShiftKeyPressed,{width:kt,height:Tt}=this.calculateNewDimensions(this.activeHandle,dt,et),Dt=this.applyConstraints(kt,Tt,$t);this.element.style.width=`${Dt.width}px`,this.element.style.height=`${Dt.height}px`,this.onResize&&this.onResize(Dt.width,Dt.height)}calculateNewDimensions(dt,et,$t){let kt=this.startWidth,Tt=this.startHeight;const Dt=dt.includes("right"),Ft=dt.includes("left"),Ut=dt.includes("bottom"),Ht=dt.includes("top");return Dt?kt=this.startWidth+et:Ft&&(kt=this.startWidth-et),Ut?Tt=this.startHeight+$t:Ht&&(Tt=this.startHeight-$t),(dt==="right"||dt==="left")&&(kt=this.startWidth+(Dt?et:-et)),(dt==="top"||dt==="bottom")&&(Tt=this.startHeight+(Ut?$t:-$t)),this.preserveAspectRatio||this.isShiftKeyPressed?this.applyAspectRatio(kt,Tt,dt):{width:kt,height:Tt}}applyConstraints(dt,et,$t){var kt,Tt,Dt,Ft;if(!$t){let Kt=Math.max(this.minSize.width,dt),Yt=Math.max(this.minSize.height,et);return(kt=this.maxSize)!=null&&kt.width&&(Kt=Math.min(this.maxSize.width,Kt)),(Tt=this.maxSize)!=null&&Tt.height&&(Yt=Math.min(this.maxSize.height,Yt)),{width:Kt,height:Yt}}let Ut=dt,Ht=et;return Ut<this.minSize.width&&(Ut=this.minSize.width,Ht=Ut/this.aspectRatio),Ht<this.minSize.height&&(Ht=this.minSize.height,Ut=Ht*this.aspectRatio),(Dt=this.maxSize)!=null&&Dt.width&&Ut>this.maxSize.width&&(Ut=this.maxSize.width,Ht=Ut/this.aspectRatio),(Ft=this.maxSize)!=null&&Ft.height&&Ht>this.maxSize.height&&(Ht=this.maxSize.height,Ut=Ht*this.aspectRatio),{width:Ut,height:Ht}}applyAspectRatio(dt,et,$t){const kt=$t==="left"||$t==="right",Tt=$t==="top"||$t==="bottom";return kt?{width:dt,height:dt/this.aspectRatio}:Tt?{width:et*this.aspectRatio,height:et}:{width:dt,height:dt/this.aspectRatio}}};function canInsertNode(dt,et){const{selection:$t}=dt,{$from:kt}=$t;if($t instanceof NodeSelection){const Dt=kt.index();return kt.parent.canReplaceWith(Dt,Dt+1,et)}let Tt=kt.depth;for(;Tt>=0;){const Dt=kt.index(Tt);if(kt.node(Tt).contentMatchAt(Dt).matchType(et))return!0;Tt-=1}return!1}var markdown_exports={};__export$7(markdown_exports,{createAtomBlockMarkdownSpec:()=>createAtomBlockMarkdownSpec,createBlockMarkdownSpec:()=>createBlockMarkdownSpec,createInlineMarkdownSpec:()=>createInlineMarkdownSpec,parseAttributes:()=>parseAttributes,parseIndentedBlocks:()=>parseIndentedBlocks,renderNestedMarkdownContent:()=>renderNestedMarkdownContent,serializeAttributes:()=>serializeAttributes});function parseAttributes(dt){if(!(dt!=null&&dt.trim()))return{};const et={},$t=[],kt=dt.replace(/["']([^"']*)["']/g,Kt=>($t.push(Kt),`__QUOTED_${$t.length-1}__`)),Tt=kt.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(Tt){const Kt=Tt.map(Yt=>Yt.trim().slice(1));et.class=Kt.join(" ")}const Dt=kt.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);Dt&&(et.id=Dt[1]);const Ft=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(kt.matchAll(Ft)).forEach(([,Kt,Yt])=>{var Jt;const Zt=parseInt(((Jt=Yt.match(/__QUOTED_(\d+)__/))==null?void 0:Jt[1])||"0",10),er=$t[Zt];er&&(et[Kt]=er.slice(1,-1))});const Ht=kt.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return Ht&&Ht.split(/\s+/).filter(Boolean).forEach(Yt=>{Yt.match(/^[a-zA-Z][\w-]*$/)&&(et[Yt]=!0)}),et}function serializeAttributes(dt){if(!dt||Object.keys(dt).length===0)return"";const et=[];return dt.class&&String(dt.class).split(/\s+/).filter(Boolean).forEach(kt=>et.push(`.${kt}`)),dt.id&&et.push(`#${dt.id}`),Object.entries(dt).forEach(([$t,kt])=>{$t==="class"||$t==="id"||(kt===!0?et.push($t):kt!==!1&&kt!=null&&et.push(`${$t}="${String(kt)}"`))}),et.join(" ")}function createAtomBlockMarkdownSpec(dt){const{nodeName:et,name:$t,parseAttributes:kt=parseAttributes,serializeAttributes:Tt=serializeAttributes,defaultAttributes:Dt={},requiredAttributes:Ft=[],allowedAttributes:Ut}=dt,Ht=$t||et,Kt=Yt=>{if(!Ut)return Yt;const Jt={};return Ut.forEach(Zt=>{Zt in Yt&&(Jt[Zt]=Yt[Zt])}),Jt};return{parseMarkdown:(Yt,Jt)=>{const Zt={...Dt,...Yt.attributes};return Jt.createNode(et,Zt,[])},markdownTokenizer:{name:et,level:"block",start(Yt){var Jt;const Zt=new RegExp(`^:::${Ht}(?:\\s|$)`,"m"),er=(Jt=Yt.match(Zt))==null?void 0:Jt.index;return er!==void 0?er:-1},tokenize(Yt,Jt,Zt){const er=new RegExp(`^:::${Ht}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),rr=Yt.match(er);if(!rr)return;const sr=rr[1]||"",ir=kt(sr);if(!Ft.find(or=>!(or in ir)))return{type:et,raw:rr[0],attributes:ir}}},renderMarkdown:Yt=>{const Jt=Kt(Yt.attrs||{}),Zt=Tt(Jt),er=Zt?` {${Zt}}`:"";return`:::${Ht}${er} :::`}}}function createBlockMarkdownSpec(dt){const{nodeName:et,name:$t,getContent:kt,parseAttributes:Tt=parseAttributes,serializeAttributes:Dt=serializeAttributes,defaultAttributes:Ft={},content:Ut="block",allowedAttributes:Ht}=dt,Kt=$t||et,Yt=Jt=>{if(!Ht)return Jt;const Zt={};return Ht.forEach(er=>{er in Jt&&(Zt[er]=Jt[er])}),Zt};return{parseMarkdown:(Jt,Zt)=>{let er;if(kt){const sr=kt(Jt);er=typeof sr=="string"?[{type:"text",text:sr}]:sr}else Ut==="block"?er=Zt.parseChildren(Jt.tokens||[]):er=Zt.parseInline(Jt.tokens||[]);const rr={...Ft,...Jt.attributes};return Zt.createNode(et,rr,er)},markdownTokenizer:{name:et,level:"block",start(Jt){var Zt;const er=new RegExp(`^:::${Kt}`,"m"),rr=(Zt=Jt.match(er))==null?void 0:Zt.index;return rr!==void 0?rr:-1},tokenize(Jt,Zt,er){var rr;const sr=new RegExp(`^:::${Kt}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),ir=Jt.match(sr);if(!ir)return;const[nr,or=""]=ir,lr=Tt(or);let cr=1;const dr=nr.length;let ur="";const pr=/^:::([\w-]*)(\s.*)?/gm,mr=Jt.slice(dr);for(pr.lastIndex=0;;){const vr=pr.exec(mr);if(vr===null)break;const kr=vr.index,br=vr[1];if(!((rr=vr[2])!=null&&rr.endsWith(":::"))){if(br)cr+=1;else if(cr-=1,cr===0){const _r=mr.slice(0,kr);ur=_r.trim();const Or=Jt.slice(0,dr+kr+vr[0].length);let Pr=[];if(ur)if(Ut==="block")for(Pr=er.blockTokens(_r),Pr.forEach(Mr=>{Mr.text&&(!Mr.tokens||Mr.tokens.length===0)&&(Mr.tokens=er.inlineTokens(Mr.text))});Pr.length>0;){const Mr=Pr[Pr.length-1];if(Mr.type==="paragraph"&&(!Mr.text||Mr.text.trim()===""))Pr.pop();else break}else Pr=er.inlineTokens(ur);return{type:et,raw:Or,attributes:lr,content:ur,tokens:Pr}}}}}},renderMarkdown:(Jt,Zt)=>{const er=Yt(Jt.attrs||{}),rr=Dt(er),sr=rr?` {${rr}}`:"",ir=Zt.renderChildren(Jt.content||[],`

`);return`:::${Kt}${sr}

${ir}

:::`}}}function parseShortcodeAttributes(dt){if(!dt.trim())return{};const et={},$t=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let kt=$t.exec(dt);for(;kt!==null;){const[,Tt,Dt,Ft]=kt;et[Tt]=Dt||Ft,kt=$t.exec(dt)}return et}function serializeShortcodeAttributes(dt){return Object.entries(dt).filter(([,et])=>et!=null).map(([et,$t])=>`${et}="${$t}"`).join(" ")}function createInlineMarkdownSpec(dt){const{nodeName:et,name:$t,getContent:kt,parseAttributes:Tt=parseShortcodeAttributes,serializeAttributes:Dt=serializeShortcodeAttributes,defaultAttributes:Ft={},selfClosing:Ut=!1,allowedAttributes:Ht}=dt,Kt=$t||et,Yt=Zt=>{if(!Ht)return Zt;const er={};return Ht.forEach(rr=>{const sr=typeof rr=="string"?rr:rr.name,ir=typeof rr=="string"?void 0:rr.skipIfDefault;if(sr in Zt){const nr=Zt[sr];if(ir!==void 0&&nr===ir)return;er[sr]=nr}}),er},Jt=Kt.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(Zt,er)=>{const rr={...Ft,...Zt.attributes};if(Ut)return er.createNode(et,rr);const sr=kt?kt(Zt):Zt.content||"";return sr?er.createNode(et,rr,[er.createTextNode(sr)]):er.createNode(et,rr,[])},markdownTokenizer:{name:et,level:"inline",start(Zt){const er=Ut?new RegExp(`\\[${Jt}\\s*[^\\]]*\\]`):new RegExp(`\\[${Jt}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${Jt}\\]`),rr=Zt.match(er),sr=rr==null?void 0:rr.index;return sr!==void 0?sr:-1},tokenize(Zt,er,rr){const sr=Ut?new RegExp(`^\\[${Jt}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${Jt}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${Jt}\\]`),ir=Zt.match(sr);if(!ir)return;let nr="",or="";if(Ut){const[,cr]=ir;or=cr}else{const[,cr,dr]=ir;or=cr,nr=dr||""}const lr=Tt(or.trim());return{type:et,raw:ir[0],content:nr.trim(),attributes:lr}}},renderMarkdown:Zt=>{let er="";kt?er=kt(Zt):Zt.content&&Zt.content.length>0&&(er=Zt.content.filter(nr=>nr.type==="text").map(nr=>nr.text).join(""));const rr=Yt(Zt.attrs||{}),sr=Dt(rr),ir=sr?` ${sr}`:"";return Ut?`[${Kt}${ir}]`:`[${Kt}${ir}]${er}[/${Kt}]`}}}function parseIndentedBlocks(dt,et,$t){var kt,Tt,Dt,Ft;const Ut=dt.split(`
`),Ht=[];let Kt="",Yt=0;const Jt=et.baseIndentSize||2;for(;Yt<Ut.length;){const Zt=Ut[Yt],er=Zt.match(et.itemPattern);if(!er){if(Ht.length>0)break;if(Zt.trim()===""){Yt+=1,Kt=`${Kt}${Zt}
`;continue}else return}const rr=et.extractItemData(er),{indentLevel:sr,mainContent:ir}=rr;Kt=`${Kt}${Zt}
`;const nr=[ir];for(Yt+=1;Yt<Ut.length;){const dr=Ut[Yt];if(dr.trim()===""){const pr=Ut.slice(Yt+1).findIndex(kr=>kr.trim()!=="");if(pr===-1)break;if((((Tt=(kt=Ut[Yt+1+pr].match(/^(\s*)/))==null?void 0:kt[1])==null?void 0:Tt.length)||0)>sr){nr.push(dr),Kt=`${Kt}${dr}
`,Yt+=1;continue}else break}if((((Ft=(Dt=dr.match(/^(\s*)/))==null?void 0:Dt[1])==null?void 0:Ft.length)||0)>sr)nr.push(dr),Kt=`${Kt}${dr}
`,Yt+=1;else break}let or;const lr=nr.slice(1);if(lr.length>0){const dr=lr.map(ur=>ur.slice(sr+Jt)).join(`
`);dr.trim()&&(et.customNestedParser?or=et.customNestedParser(dr):or=$t.blockTokens(dr))}const cr=et.createToken(rr,or);Ht.push(cr)}if(Ht.length!==0)return{items:Ht,raw:Kt}}function renderNestedMarkdownContent(dt,et,$t,kt){if(!dt||!Array.isArray(dt.content))return"";const Tt=typeof $t=="function"?$t(kt):$t,[Dt,...Ft]=dt.content,Ut=et.renderChildren([Dt]),Ht=[`${Tt}${Ut}`];return Ft&&Ft.length>0&&Ft.forEach(Kt=>{const Yt=et.renderChildren([Kt]);if(Yt){const Jt=Yt.split(`
`).map(Zt=>Zt?et.indent(Zt):"").join(`
`);Ht.push(Jt)}}),Ht.join(`
`)}function updateMarkViewAttributes(dt,et,$t={}){const{state:kt}=et,{doc:Tt,tr:Dt}=kt,Ft=dt;Tt.descendants((Ut,Ht)=>{const Kt=Dt.mapping.map(Ht),Yt=Dt.mapping.map(Ht)+Ut.nodeSize;let Jt=null;if(Ut.marks.forEach(er=>{if(er!==Ft)return!1;Jt=er}),!Jt)return;let Zt=!1;if(Object.keys($t).forEach(er=>{$t[er]!==Jt.attrs[er]&&(Zt=!0)}),Zt){const er=dt.type.create({...dt.attrs,...$t});Dt.removeMark(Kt,Yt,dt.type),Dt.addMark(Kt,Yt,er)}}),Dt.docChanged&&et.view.dispatch(Dt)}var Node3=class lS extends Extendable{constructor(){super(...arguments),this.type="node"}static create(et={}){const $t=typeof et=="function"?et():et;return new lS($t)}configure(et){return super.configure(et)}extend(et){const $t=typeof et=="function"?et():et;return super.extend($t)}};function markPasteRule(dt){return new PasteRule({find:dt.find,handler:({state:et,range:$t,match:kt,pasteEvent:Tt})=>{const Dt=callOrReturn(dt.getAttributes,void 0,kt,Tt);if(Dt===!1||Dt===null)return null;const{tr:Ft}=et,Ut=kt[kt.length-1],Ht=kt[0];let Kt=$t.to;if(Ut){const Yt=Ht.search(/\S/),Jt=$t.from+Ht.indexOf(Ut),Zt=Jt+Ut.length;if(getMarksBetween($t.from,$t.to,et.doc).filter(rr=>rr.mark.type.excluded.find(ir=>ir===dt.type&&ir!==rr.mark.type)).filter(rr=>rr.to>Jt).length)return null;Zt<$t.to&&Ft.delete(Zt,$t.to),Jt>$t.from&&Ft.delete($t.from+Yt,Jt),Kt=$t.from+Yt+Ut.length,Ft.addMark($t.from+Yt,Kt,dt.type.create(Dt||{})),Ft.removeStoredMark(dt.type)}}})}function nodePasteRule(dt){return new PasteRule({find:dt.find,handler({match:et,chain:$t,range:kt,pasteEvent:Tt}){const Dt=callOrReturn(dt.getAttributes,void 0,et,Tt),Ft=callOrReturn(dt.getContent,void 0,Dt);if(Dt===!1||Dt===null)return null;const Ut={type:dt.type.name,attrs:Dt};Ft&&(Ut.content=Ft),et.input&&$t().deleteRange(kt).insertContentAt(kt.from,Ut)}})}var react=function dt(et,$t){if(et===$t)return!0;if(et&&$t&&typeof et=="object"&&typeof $t=="object"){if(et.constructor!==$t.constructor)return!1;var kt,Tt,Dt;if(Array.isArray(et)){if(kt=et.length,kt!=$t.length)return!1;for(Tt=kt;Tt--!==0;)if(!dt(et[Tt],$t[Tt]))return!1;return!0}if(et instanceof Map&&$t instanceof Map){if(et.size!==$t.size)return!1;for(Tt of et.entries())if(!$t.has(Tt[0]))return!1;for(Tt of et.entries())if(!dt(Tt[1],$t.get(Tt[0])))return!1;return!0}if(et instanceof Set&&$t instanceof Set){if(et.size!==$t.size)return!1;for(Tt of et.entries())if(!$t.has(Tt[0]))return!1;return!0}if(ArrayBuffer.isView(et)&&ArrayBuffer.isView($t)){if(kt=et.length,kt!=$t.length)return!1;for(Tt=kt;Tt--!==0;)if(et[Tt]!==$t[Tt])return!1;return!0}if(et.constructor===RegExp)return et.source===$t.source&&et.flags===$t.flags;if(et.valueOf!==Object.prototype.valueOf)return et.valueOf()===$t.valueOf();if(et.toString!==Object.prototype.toString)return et.toString()===$t.toString();if(Dt=Object.keys(et),kt=Dt.length,kt!==Object.keys($t).length)return!1;for(Tt=kt;Tt--!==0;)if(!Object.prototype.hasOwnProperty.call($t,Dt[Tt]))return!1;for(Tt=kt;Tt--!==0;){var Ft=Dt[Tt];if(!(Ft==="_owner"&&et.$$typeof)&&!dt(et[Ft],$t[Ft]))return!1}return!0}return et!==et&&$t!==$t};const deepEqual=getDefaultExportFromCjs(react);var withSelector={exports:{}},withSelector_production={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var React=reactExports,shim=shimExports;function is$6(dt,et){return dt===et&&(dt!==0||1/dt===1/et)||dt!==dt&&et!==et}var objectIs=typeof Object.is=="function"?Object.is:is$6,useSyncExternalStore=shim.useSyncExternalStore,useRef=React.useRef,useEffect=React.useEffect,useMemo=React.useMemo,useDebugValue=React.useDebugValue;withSelector_production.useSyncExternalStoreWithSelector=function(dt,et,$t,kt,Tt){var Dt=useRef(null);if(Dt.current===null){var Ft={hasValue:!1,value:null};Dt.current=Ft}else Ft=Dt.current;Dt=useMemo(function(){function Ht(er){if(!Kt){if(Kt=!0,Yt=er,er=kt(er),Tt!==void 0&&Ft.hasValue){var rr=Ft.value;if(Tt(rr,er))return Jt=rr}return Jt=er}if(rr=Jt,objectIs(Yt,er))return rr;var sr=kt(er);return Tt!==void 0&&Tt(rr,sr)?(Yt=er,rr):(Yt=er,Jt=sr)}var Kt=!1,Yt,Jt,Zt=$t===void 0?null:$t;return[function(){return Ht(et())},Zt===null?void 0:function(){return Ht(Zt())}]},[et,$t,kt,Tt]);var Ut=useSyncExternalStore(dt,Dt[0],Dt[1]);return useEffect(function(){Ft.hasValue=!0,Ft.value=Ut},[Ut]),useDebugValue(Ut),Ut};withSelector.exports=withSelector_production;var withSelectorExports=withSelector.exports,mergeRefs$1=(...dt)=>et=>{dt.forEach($t=>{typeof $t=="function"?$t(et):$t&&($t.current=et)})},Portals=({contentComponent:dt})=>{const et=shimExports.useSyncExternalStore(dt.subscribe,dt.getSnapshot,dt.getServerSnapshot);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Object.values(et)})};function getInstance(){const dt=new Set;let et={};return{subscribe($t){return dt.add($t),()=>{dt.delete($t)}},getSnapshot(){return et},getServerSnapshot(){return et},setRenderer($t,kt){et={...et,[$t]:ReactDOM.createPortal(kt.reactElement,kt.element,$t)},dt.forEach(Tt=>Tt())},removeRenderer($t){const kt={...et};delete kt[$t],et=kt,dt.forEach(Tt=>Tt())}}}var PureEditorContent=class extends React$2.Component{constructor(dt){var et;super(dt),this.editorContentRef=React$2.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((et=dt.editor)!=null&&et.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const dt=this.props.editor;if(dt&&!dt.isDestroyed&&dt.options.element){if(dt.contentComponent)return;const et=this.editorContentRef.current;et.append(dt.view.dom),dt.setOptions({element:et}),dt.contentComponent=getInstance(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=dt.contentComponent.subscribe(()=>{this.setState($t=>$t.hasContentComponentInitialized?$t:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),dt.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var dt;const et=this.props.editor;if(et){this.initialized=!1,et.isDestroyed||et.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),et.contentComponent=null;try{if(!((dt=et.view.dom)!=null&&dt.firstChild))return;const $t=document.createElement("div");$t.append(et.view.dom),et.setOptions({element:$t})}catch{}}}render(){const{editor:dt,innerRef:et,...$t}=this.props;return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{ref:mergeRefs$1(et,this.editorContentRef),...$t}),(dt==null?void 0:dt.contentComponent)&&jsxRuntimeExports.jsx(Portals,{contentComponent:dt.contentComponent})]})}},EditorContentWithKey=reactExports.forwardRef((dt,et)=>{const $t=React$2.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[dt.editor]);return React$2.createElement(PureEditorContent,{key:$t,innerRef:et,...dt})}),EditorContent=React$2.memo(EditorContentWithKey),useIsomorphicLayoutEffect$7=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,EditorStateManager=class{constructor(dt){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=dt,this.lastSnapshot={editor:dt,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(dt){return this.subscribers.add(dt),()=>{this.subscribers.delete(dt)}}watch(dt){if(this.editor=dt,this.editor){const et=()=>{this.transactionNumber+=1,this.subscribers.forEach(kt=>kt())},$t=this.editor;return $t.on("transaction",et),()=>{$t.off("transaction",et)}}}};function useEditorState(dt){var et;const[$t]=reactExports.useState(()=>new EditorStateManager(dt.editor)),kt=withSelectorExports.useSyncExternalStoreWithSelector($t.subscribe,$t.getSnapshot,$t.getServerSnapshot,dt.selector,(et=dt.equalityFn)!=null?et:deepEqual);return useIsomorphicLayoutEffect$7(()=>$t.watch(dt.editor),[dt.editor,$t]),reactExports.useDebugValue(kt),kt}var isDev=!1,isSSR$6=typeof window>"u",isNext=isSSR$6||!!(typeof window<"u"&&window.next),EditorInstanceManager=class cS{constructor(et){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=et,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(et){this.editor=et,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach($t=>$t())}getInitialEditor(){if(this.options.current.immediatelyRender===void 0)return isSSR$6||isNext?null:this.createEditor();if(this.options.current.immediatelyRender&&isSSR$6&&isDev)throw new Error("Tiptap Error: SSR has been detected, and `immediatelyRender` has been set to `true` this is an unsupported configuration that may result in errors, explicitly set `immediatelyRender` to `false` to avoid hydration mismatches.");return this.options.current.immediatelyRender?this.createEditor():null}createEditor(){const et={...this.options.current,onBeforeCreate:(...kt)=>{var Tt,Dt;return(Dt=(Tt=this.options.current).onBeforeCreate)==null?void 0:Dt.call(Tt,...kt)},onBlur:(...kt)=>{var Tt,Dt;return(Dt=(Tt=this.options.current).onBlur)==null?void 0:Dt.call(Tt,...kt)},onCreate:(...kt)=>{var Tt,Dt;return(Dt=(Tt=this.options.current).onCreate)==null?void 0:Dt.call(Tt,...kt)},onDestroy:(...kt)=>{var Tt,Dt;return(Dt=(Tt=this.options.current).onDestroy)==null?void 0:Dt.call(Tt,...kt)},onFocus:(...kt)=>{var Tt,Dt;return(Dt=(Tt=this.options.current).onFocus)==null?void 0:Dt.call(Tt,...kt)},onSelectionUpdate:(...kt)=>{var Tt,Dt;return(Dt=(Tt=this.options.current).onSelectionUpdate)==null?void 0:Dt.call(Tt,...kt)},onTransaction:(...kt)=>{var Tt,Dt;return(Dt=(Tt=this.options.current).onTransaction)==null?void 0:Dt.call(Tt,...kt)},onUpdate:(...kt)=>{var Tt,Dt;return(Dt=(Tt=this.options.current).onUpdate)==null?void 0:Dt.call(Tt,...kt)},onContentError:(...kt)=>{var Tt,Dt;return(Dt=(Tt=this.options.current).onContentError)==null?void 0:Dt.call(Tt,...kt)},onDrop:(...kt)=>{var Tt,Dt;return(Dt=(Tt=this.options.current).onDrop)==null?void 0:Dt.call(Tt,...kt)},onPaste:(...kt)=>{var Tt,Dt;return(Dt=(Tt=this.options.current).onPaste)==null?void 0:Dt.call(Tt,...kt)},onDelete:(...kt)=>{var Tt,Dt;return(Dt=(Tt=this.options.current).onDelete)==null?void 0:Dt.call(Tt,...kt)}};return new Editor(et)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(et){return this.subscriptions.add(et),()=>{this.subscriptions.delete(et)}}static compareOptions(et,$t){return Object.keys(et).every(kt=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(kt)?!0:kt==="extensions"&&et.extensions&&$t.extensions?et.extensions.length!==$t.extensions.length?!1:et.extensions.every((Tt,Dt)=>{var Ft;return Tt===((Ft=$t.extensions)==null?void 0:Ft[Dt])}):et[kt]===$t[kt])}onRender(et){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&et.length===0?cS.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(et),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(et){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=et;return}if(this.previousDeps.length===et.length&&this.previousDeps.every((kt,Tt)=>kt===et[Tt]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=et}scheduleDestroy(){const et=this.instanceId,$t=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===et){$t&&$t.setOptions(this.options.current);return}$t&&!$t.isDestroyed&&($t.destroy(),this.instanceId===et&&this.setEditor(null))},1)}};function useEditor(dt={},et=[]){const $t=reactExports.useRef(dt);$t.current=dt;const[kt]=reactExports.useState(()=>new EditorInstanceManager($t)),Tt=shimExports.useSyncExternalStore(kt.subscribe,kt.getEditor,kt.getServerSnapshot);return reactExports.useDebugValue(Tt),reactExports.useEffect(kt.onRender(et)),useEditorState({editor:Tt,selector:({transactionNumber:Dt})=>dt.shouldRerenderOnTransaction===!1||dt.shouldRerenderOnTransaction===void 0?null:dt.immediatelyRender&&Dt===0?0:Dt+1}),Tt}var EditorContext=reactExports.createContext({editor:null});EditorContext.Consumer;var ReactNodeViewContext=reactExports.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),useReactNodeView=()=>reactExports.useContext(ReactNodeViewContext);React$2.forwardRef((dt,et)=>{const{onDragStart:$t}=useReactNodeView(),kt=dt.as||"div";return jsxRuntimeExports.jsx(kt,{...dt,ref:et,"data-node-view-wrapper":"",onDragStart:$t,style:{whiteSpace:"normal",...dt.style}})});React$2.createContext({markViewContentRef:()=>{}});var h$1=(dt,et)=>{if(dt==="slot")return 0;if(dt instanceof Function)return dt(et);const{children:$t,...kt}=et??{};if(dt==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[dt,kt,$t]},inputRegex$5=/^\s*>\s$/,Blockquote=Node3.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:dt}){return h$1("blockquote",{...mergeAttributes(this.options.HTMLAttributes,dt),children:h$1("slot",{})})},addCommands(){return{setBlockquote:()=>({commands:dt})=>dt.wrapIn(this.name),toggleBlockquote:()=>({commands:dt})=>dt.toggleWrap(this.name),unsetBlockquote:()=>({commands:dt})=>dt.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[wrappingInputRule({find:inputRegex$5,type:this.type})]}}),index_default$d=Blockquote,starInputRegex$1=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,starPasteRegex$1=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,underscoreInputRegex$1=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,underscorePasteRegex$1=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,Bold=Mark.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:dt=>dt.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:dt=>dt.type.name===this.name},{style:"font-weight",getAttrs:dt=>/^(bold(er)?|[5-9]\d{2,})$/.test(dt)&&null}]},renderHTML({HTMLAttributes:dt}){return h$1("strong",{...mergeAttributes(this.options.HTMLAttributes,dt),children:h$1("slot",{})})},addCommands(){return{setBold:()=>({commands:dt})=>dt.setMark(this.name),toggleBold:()=>({commands:dt})=>dt.toggleMark(this.name),unsetBold:()=>({commands:dt})=>dt.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[markInputRule({find:starInputRegex$1,type:this.type}),markInputRule({find:underscoreInputRegex$1,type:this.type})]},addPasteRules(){return[markPasteRule({find:starPasteRegex$1,type:this.type}),markPasteRule({find:underscorePasteRegex$1,type:this.type})]}}),inputRegex$4=/(^|[^`])`([^`]+)`(?!`)$/,pasteRegex$2=/(^|[^`])`([^`]+)`(?!`)/g,Code=Mark.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:dt}){return["code",mergeAttributes(this.options.HTMLAttributes,dt),0]},addCommands(){return{setCode:()=>({commands:dt})=>dt.setMark(this.name),toggleCode:()=>({commands:dt})=>dt.toggleMark(this.name),unsetCode:()=>({commands:dt})=>dt.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[markInputRule({find:inputRegex$4,type:this.type})]},addPasteRules(){return[markPasteRule({find:pasteRegex$2,type:this.type})]}}),DEFAULT_TAB_SIZE=4,backtickInputRegex=/^```([a-z]+)?[\s\n]$/,tildeInputRegex=/^~~~([a-z]+)?[\s\n]$/,CodeBlock=Node3.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:DEFAULT_TAB_SIZE,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:dt=>{var et;const{languageClassPrefix:$t}=this.options;if(!$t)return null;const Dt=[...((et=dt.firstElementChild)==null?void 0:et.classList)||[]].filter(Ft=>Ft.startsWith($t)).map(Ft=>Ft.replace($t,""))[0];return Dt||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:dt,HTMLAttributes:et}){return["pre",mergeAttributes(this.options.HTMLAttributes,et),["code",{class:dt.attrs.language?this.options.languageClassPrefix+dt.attrs.language:null},0]]},addCommands(){return{setCodeBlock:dt=>({commands:et})=>et.setNode(this.name,dt),toggleCodeBlock:dt=>({commands:et})=>et.toggleNode(this.name,"paragraph",dt)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:dt,$anchor:et}=this.editor.state.selection,$t=et.pos===1;return!dt||et.parent.type.name!==this.name?!1:$t||!et.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:dt})=>{var et;if(!this.options.enableTabIndentation)return!1;const $t=(et=this.options.tabSize)!=null?et:DEFAULT_TAB_SIZE,{state:kt}=dt,{selection:Tt}=kt,{$from:Dt,empty:Ft}=Tt;if(Dt.parent.type!==this.type)return!1;const Ut=" ".repeat($t);return Ft?dt.commands.insertContent(Ut):dt.commands.command(({tr:Ht})=>{const{from:Kt,to:Yt}=Tt,er=kt.doc.textBetween(Kt,Yt,`
`,`
`).split(`
`).map(rr=>Ut+rr).join(`
`);return Ht.replaceWith(Kt,Yt,kt.schema.text(er)),!0})},"Shift-Tab":({editor:dt})=>{var et;if(!this.options.enableTabIndentation)return!1;const $t=(et=this.options.tabSize)!=null?et:DEFAULT_TAB_SIZE,{state:kt}=dt,{selection:Tt}=kt,{$from:Dt,empty:Ft}=Tt;return Dt.parent.type!==this.type?!1:Ft?dt.commands.command(({tr:Ut})=>{var Ht;const{pos:Kt}=Dt,Yt=Dt.start(),Jt=Dt.end(),er=kt.doc.textBetween(Yt,Jt,`
`,`
`).split(`
`);let rr=0,sr=0;const ir=Kt-Yt;for(let ur=0;ur<er.length;ur+=1){if(sr+er[ur].length>=ir){rr=ur;break}sr+=er[ur].length+1}const or=((Ht=er[rr].match(/^ */))==null?void 0:Ht[0])||"",lr=Math.min(or.length,$t);if(lr===0)return!0;let cr=Yt;for(let ur=0;ur<rr;ur+=1)cr+=er[ur].length+1;return Ut.delete(cr,cr+lr),Kt-cr<=lr&&Ut.setSelection(TextSelection.create(Ut.doc,cr)),!0}):dt.commands.command(({tr:Ut})=>{const{from:Ht,to:Kt}=Tt,Zt=kt.doc.textBetween(Ht,Kt,`
`,`
`).split(`
`).map(er=>{var rr;const sr=((rr=er.match(/^ */))==null?void 0:rr[0])||"",ir=Math.min(sr.length,$t);return er.slice(ir)}).join(`
`);return Ut.replaceWith(Ht,Kt,kt.schema.text(Zt)),!0})},Enter:({editor:dt})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:et}=dt,{selection:$t}=et,{$from:kt,empty:Tt}=$t;if(!Tt||kt.parent.type!==this.type)return!1;const Dt=kt.parentOffset===kt.parent.nodeSize-2,Ft=kt.parent.textContent.endsWith(`

`);return!Dt||!Ft?!1:dt.chain().command(({tr:Ut})=>(Ut.delete(kt.pos-2,kt.pos),!0)).exitCode().run()},ArrowDown:({editor:dt})=>{if(!this.options.exitOnArrowDown)return!1;const{state:et}=dt,{selection:$t,doc:kt}=et,{$from:Tt,empty:Dt}=$t;if(!Dt||Tt.parent.type!==this.type||!(Tt.parentOffset===Tt.parent.nodeSize-2))return!1;const Ut=Tt.after();return Ut===void 0?!1:kt.nodeAt(Ut)?dt.commands.command(({tr:Kt})=>(Kt.setSelection(Selection.near(kt.resolve(Ut))),!0)):dt.commands.exitCode()}}},addInputRules(){return[textblockTypeInputRule({find:backtickInputRegex,type:this.type,getAttributes:dt=>({language:dt[1]})}),textblockTypeInputRule({find:tildeInputRegex,type:this.type,getAttributes:dt=>({language:dt[1]})})]},addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("codeBlockVSCodeHandler"),props:{handlePaste:(dt,et)=>{if(!et.clipboardData||this.editor.isActive(this.type.name))return!1;const $t=et.clipboardData.getData("text/plain"),kt=et.clipboardData.getData("vscode-editor-data"),Tt=kt?JSON.parse(kt):void 0,Dt=Tt==null?void 0:Tt.mode;if(!$t||!Dt)return!1;const{tr:Ft,schema:Ut}=dt.state,Ht=Ut.text($t.replace(/\r\n?/g,`
`));return Ft.replaceSelectionWith(this.type.create({language:Dt},Ht)),Ft.selection.$from.parent.type!==this.type&&Ft.setSelection(TextSelection.near(Ft.doc.resolve(Math.max(0,Ft.selection.from-2)))),Ft.setMeta("paste",!0),dt.dispatch(Ft),!0}}})]}}),Document$2=Node3.create({name:"doc",topNode:!0,content:"block+"}),HardBreak=Node3.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:dt}){return["br",mergeAttributes(this.options.HTMLAttributes,dt)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:dt,chain:et,state:$t,editor:kt})=>dt.first([()=>dt.exitCode(),()=>dt.command(()=>{const{selection:Tt,storedMarks:Dt}=$t;if(Tt.$from.parent.type.spec.isolating)return!1;const{keepMarks:Ft}=this.options,{splittableMarks:Ut}=kt.extensionManager,Ht=Dt||Tt.$to.parentOffset&&Tt.$from.marks();return et().insertContent({type:this.name}).command(({tr:Kt,dispatch:Yt})=>{if(Yt&&Ht&&Ft){const Jt=Ht.filter(Zt=>Ut.includes(Zt.type.name));Kt.ensureMarks(Jt)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),Heading=Node3.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(dt=>({tag:`h${dt}`,attrs:{level:dt}}))},renderHTML({node:dt,HTMLAttributes:et}){return[`h${this.options.levels.includes(dt.attrs.level)?dt.attrs.level:this.options.levels[0]}`,mergeAttributes(this.options.HTMLAttributes,et),0]},addCommands(){return{setHeading:dt=>({commands:et})=>this.options.levels.includes(dt.level)?et.setNode(this.name,dt):!1,toggleHeading:dt=>({commands:et})=>this.options.levels.includes(dt.level)?et.toggleNode(this.name,"paragraph",dt):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((dt,et)=>({...dt,[`Mod-Alt-${et}`]:()=>this.editor.commands.toggleHeading({level:et})}),{})},addInputRules(){return this.options.levels.map(dt=>textblockTypeInputRule({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${dt}})\\s$`),type:this.type,getAttributes:{level:dt}}))}}),HorizontalRule=Node3.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:dt}){return["hr",mergeAttributes(this.options.HTMLAttributes,dt)]},addCommands(){return{setHorizontalRule:()=>({chain:dt,state:et})=>{if(!canInsertNode(et,et.schema.nodes[this.name]))return!1;const{selection:$t}=et,{$to:kt}=$t,Tt=dt();return isNodeSelection($t)?Tt.insertContentAt(kt.pos,{type:this.name}):Tt.insertContent({type:this.name}),Tt.command(({state:Dt,tr:Ft,dispatch:Ut})=>{if(Ut){const{$to:Ht}=Ft.selection,Kt=Ht.end();if(Ht.nodeAfter)Ht.nodeAfter.isTextblock?Ft.setSelection(TextSelection.create(Ft.doc,Ht.pos+1)):Ht.nodeAfter.isBlock?Ft.setSelection(NodeSelection.create(Ft.doc,Ht.pos)):Ft.setSelection(TextSelection.create(Ft.doc,Ht.pos));else{const Yt=Dt.schema.nodes[this.options.nextNodeType]||Ht.parent.type.contentMatch.defaultType,Jt=Yt==null?void 0:Yt.create();Jt&&(Ft.insert(Kt,Jt),Ft.setSelection(TextSelection.create(Ft.doc,Kt+1)))}Ft.scrollIntoView()}return!0}).run()}}},addInputRules(){return[nodeInputRule({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),index_default$c=HorizontalRule,starInputRegex=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,starPasteRegex=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,underscoreInputRegex=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,underscorePasteRegex=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Italic=Mark.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:dt=>dt.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:dt=>dt.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:dt}){return["em",mergeAttributes(this.options.HTMLAttributes,dt),0]},addCommands(){return{setItalic:()=>({commands:dt})=>dt.setMark(this.name),toggleItalic:()=>({commands:dt})=>dt.toggleMark(this.name),unsetItalic:()=>({commands:dt})=>dt.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[markInputRule({find:starInputRegex,type:this.type}),markInputRule({find:underscoreInputRegex,type:this.type})]},addPasteRules(){return[markPasteRule({find:starPasteRegex,type:this.type}),markPasteRule({find:underscorePasteRegex,type:this.type})]}});const encodedTlds="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",encodedUtlds="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",numeric="numeric",ascii="ascii",alpha="alpha",asciinumeric="asciinumeric",alphanumeric="alphanumeric",domain="domain",emoji="emoji",scheme$r="scheme",slashscheme="slashscheme",whitespace="whitespace";function registerGroup(dt,et){return dt in et||(et[dt]=[]),et[dt]}function addToGroups(dt,et,$t){et[numeric]&&(et[asciinumeric]=!0,et[alphanumeric]=!0),et[ascii]&&(et[asciinumeric]=!0,et[alpha]=!0),et[asciinumeric]&&(et[alphanumeric]=!0),et[alpha]&&(et[alphanumeric]=!0),et[alphanumeric]&&(et[domain]=!0),et[emoji]&&(et[domain]=!0);for(const kt in et){const Tt=registerGroup(kt,$t);Tt.indexOf(dt)<0&&Tt.push(dt)}}function flagsForToken(dt,et){const $t={};for(const kt in et)et[kt].indexOf(dt)>=0&&($t[kt]=!0);return $t}function State(dt=null){this.j={},this.jr=[],this.jd=null,this.t=dt}State.groups={};State.prototype={accepts(){return!!this.t},go(dt){const et=this,$t=et.j[dt];if($t)return $t;for(let kt=0;kt<et.jr.length;kt++){const Tt=et.jr[kt][0],Dt=et.jr[kt][1];if(Dt&&Tt.test(dt))return Dt}return et.jd},has(dt,et=!1){return et?dt in this.j:!!this.go(dt)},ta(dt,et,$t,kt){for(let Tt=0;Tt<dt.length;Tt++)this.tt(dt[Tt],et,$t,kt)},tr(dt,et,$t,kt){kt=kt||State.groups;let Tt;return et&&et.j?Tt=et:(Tt=new State(et),$t&&kt&&addToGroups(et,$t,kt)),this.jr.push([dt,Tt]),Tt},ts(dt,et,$t,kt){let Tt=this;const Dt=dt.length;if(!Dt)return Tt;for(let Ft=0;Ft<Dt-1;Ft++)Tt=Tt.tt(dt[Ft]);return Tt.tt(dt[Dt-1],et,$t,kt)},tt(dt,et,$t,kt){kt=kt||State.groups;const Tt=this;if(et&&et.j)return Tt.j[dt]=et,et;const Dt=et;let Ft,Ut=Tt.go(dt);if(Ut?(Ft=new State,Object.assign(Ft.j,Ut.j),Ft.jr.push.apply(Ft.jr,Ut.jr),Ft.jd=Ut.jd,Ft.t=Ut.t):Ft=new State,Dt){if(kt)if(Ft.t&&typeof Ft.t=="string"){const Ht=Object.assign(flagsForToken(Ft.t,kt),$t);addToGroups(Dt,Ht,kt)}else $t&&addToGroups(Dt,$t,kt);Ft.t=Dt}return Tt.j[dt]=Ft,Ft}};const ta=(dt,et,$t,kt,Tt)=>dt.ta(et,$t,kt,Tt),tr=(dt,et,$t,kt,Tt)=>dt.tr(et,$t,kt,Tt),ts$6=(dt,et,$t,kt,Tt)=>dt.ts(et,$t,kt,Tt),tt$1=(dt,et,$t,kt,Tt)=>dt.tt(et,$t,kt,Tt),WORD="WORD",UWORD="UWORD",ASCIINUMERICAL="ASCIINUMERICAL",ALPHANUMERICAL="ALPHANUMERICAL",LOCALHOST="LOCALHOST",TLD="TLD",UTLD="UTLD",SCHEME="SCHEME",SLASH_SCHEME="SLASH_SCHEME",NUM="NUM",WS="WS",NL="NL",OPENBRACE="OPENBRACE",CLOSEBRACE="CLOSEBRACE",OPENBRACKET="OPENBRACKET",CLOSEBRACKET="CLOSEBRACKET",OPENPAREN="OPENPAREN",CLOSEPAREN="CLOSEPAREN",OPENANGLEBRACKET="OPENANGLEBRACKET",CLOSEANGLEBRACKET="CLOSEANGLEBRACKET",FULLWIDTHLEFTPAREN="FULLWIDTHLEFTPAREN",FULLWIDTHRIGHTPAREN="FULLWIDTHRIGHTPAREN",LEFTCORNERBRACKET="LEFTCORNERBRACKET",RIGHTCORNERBRACKET="RIGHTCORNERBRACKET",LEFTWHITECORNERBRACKET="LEFTWHITECORNERBRACKET",RIGHTWHITECORNERBRACKET="RIGHTWHITECORNERBRACKET",FULLWIDTHLESSTHAN="FULLWIDTHLESSTHAN",FULLWIDTHGREATERTHAN="FULLWIDTHGREATERTHAN",AMPERSAND="AMPERSAND",APOSTROPHE="APOSTROPHE",ASTERISK="ASTERISK",AT="AT",BACKSLASH="BACKSLASH",BACKTICK="BACKTICK",CARET="CARET",COLON="COLON",COMMA="COMMA",DOLLAR="DOLLAR",DOT="DOT",EQUALS="EQUALS",EXCLAMATION="EXCLAMATION",HYPHEN="HYPHEN",PERCENT="PERCENT",PIPE="PIPE",PLUS="PLUS",POUND="POUND",QUERY="QUERY",QUOTE="QUOTE",FULLWIDTHMIDDLEDOT="FULLWIDTHMIDDLEDOT",SEMI="SEMI",SLASH="SLASH",TILDE="TILDE",UNDERSCORE="UNDERSCORE",EMOJI$1="EMOJI",SYM="SYM";var tk=Object.freeze({__proto__:null,ALPHANUMERICAL,AMPERSAND,APOSTROPHE,ASCIINUMERICAL,ASTERISK,AT,BACKSLASH,BACKTICK,CARET,CLOSEANGLEBRACKET,CLOSEBRACE,CLOSEBRACKET,CLOSEPAREN,COLON,COMMA,DOLLAR,DOT,EMOJI:EMOJI$1,EQUALS,EXCLAMATION,FULLWIDTHGREATERTHAN,FULLWIDTHLEFTPAREN,FULLWIDTHLESSTHAN,FULLWIDTHMIDDLEDOT,FULLWIDTHRIGHTPAREN,HYPHEN,LEFTCORNERBRACKET,LEFTWHITECORNERBRACKET,LOCALHOST,NL,NUM,OPENANGLEBRACKET,OPENBRACE,OPENBRACKET,OPENPAREN,PERCENT,PIPE,PLUS,POUND,QUERY,QUOTE,RIGHTCORNERBRACKET,RIGHTWHITECORNERBRACKET,SCHEME,SEMI,SLASH,SLASH_SCHEME,SYM,TILDE,TLD,UNDERSCORE,UTLD,UWORD,WORD,WS});const ASCII_LETTER=/[a-z]/,LETTER=/\p{L}/u,EMOJI=/\p{Emoji}/u,DIGIT=/\d/,SPACE=/\s/,CR="\r",LF=`
`,EMOJI_VARIATION="",EMOJI_JOINER="",OBJECT_REPLACEMENT="";let tlds=null,utlds=null;function init$2(dt=[]){const et={};State.groups=et;const $t=new State;tlds==null&&(tlds=decodeTlds(encodedTlds)),utlds==null&&(utlds=decodeTlds(encodedUtlds)),tt$1($t,"'",APOSTROPHE),tt$1($t,"{",OPENBRACE),tt$1($t,"}",CLOSEBRACE),tt$1($t,"[",OPENBRACKET),tt$1($t,"]",CLOSEBRACKET),tt$1($t,"(",OPENPAREN),tt$1($t,")",CLOSEPAREN),tt$1($t,"<",OPENANGLEBRACKET),tt$1($t,">",CLOSEANGLEBRACKET),tt$1($t,"",FULLWIDTHLEFTPAREN),tt$1($t,"",FULLWIDTHRIGHTPAREN),tt$1($t,"",LEFTCORNERBRACKET),tt$1($t,"",RIGHTCORNERBRACKET),tt$1($t,"",LEFTWHITECORNERBRACKET),tt$1($t,"",RIGHTWHITECORNERBRACKET),tt$1($t,"",FULLWIDTHLESSTHAN),tt$1($t,"",FULLWIDTHGREATERTHAN),tt$1($t,"&",AMPERSAND),tt$1($t,"*",ASTERISK),tt$1($t,"@",AT),tt$1($t,"`",BACKTICK),tt$1($t,"^",CARET),tt$1($t,":",COLON),tt$1($t,",",COMMA),tt$1($t,"$",DOLLAR),tt$1($t,".",DOT),tt$1($t,"=",EQUALS),tt$1($t,"!",EXCLAMATION),tt$1($t,"-",HYPHEN),tt$1($t,"%",PERCENT),tt$1($t,"|",PIPE),tt$1($t,"+",PLUS),tt$1($t,"#",POUND),tt$1($t,"?",QUERY),tt$1($t,'"',QUOTE),tt$1($t,"/",SLASH),tt$1($t,";",SEMI),tt$1($t,"~",TILDE),tt$1($t,"_",UNDERSCORE),tt$1($t,"\\",BACKSLASH),tt$1($t,"",FULLWIDTHMIDDLEDOT);const kt=tr($t,DIGIT,NUM,{[numeric]:!0});tr(kt,DIGIT,kt);const Tt=tr(kt,ASCII_LETTER,ASCIINUMERICAL,{[asciinumeric]:!0}),Dt=tr(kt,LETTER,ALPHANUMERICAL,{[alphanumeric]:!0}),Ft=tr($t,ASCII_LETTER,WORD,{[ascii]:!0});tr(Ft,DIGIT,Tt),tr(Ft,ASCII_LETTER,Ft),tr(Tt,DIGIT,Tt),tr(Tt,ASCII_LETTER,Tt);const Ut=tr($t,LETTER,UWORD,{[alpha]:!0});tr(Ut,ASCII_LETTER),tr(Ut,DIGIT,Dt),tr(Ut,LETTER,Ut),tr(Dt,DIGIT,Dt),tr(Dt,ASCII_LETTER),tr(Dt,LETTER,Dt);const Ht=tt$1($t,LF,NL,{[whitespace]:!0}),Kt=tt$1($t,CR,WS,{[whitespace]:!0}),Yt=tr($t,SPACE,WS,{[whitespace]:!0});tt$1($t,OBJECT_REPLACEMENT,Yt),tt$1(Kt,LF,Ht),tt$1(Kt,OBJECT_REPLACEMENT,Yt),tr(Kt,SPACE,Yt),tt$1(Yt,CR),tt$1(Yt,LF),tr(Yt,SPACE,Yt),tt$1(Yt,OBJECT_REPLACEMENT,Yt);const Jt=tr($t,EMOJI,EMOJI$1,{[emoji]:!0});tt$1(Jt,"#"),tr(Jt,EMOJI,Jt),tt$1(Jt,EMOJI_VARIATION,Jt);const Zt=tt$1(Jt,EMOJI_JOINER);tt$1(Zt,"#"),tr(Zt,EMOJI,Jt);const er=[[ASCII_LETTER,Ft],[DIGIT,Tt]],rr=[[ASCII_LETTER,null],[LETTER,Ut],[DIGIT,Dt]];for(let sr=0;sr<tlds.length;sr++)fastts($t,tlds[sr],TLD,WORD,er);for(let sr=0;sr<utlds.length;sr++)fastts($t,utlds[sr],UTLD,UWORD,rr);addToGroups(TLD,{tld:!0,ascii:!0},et),addToGroups(UTLD,{utld:!0,alpha:!0},et),fastts($t,"file",SCHEME,WORD,er),fastts($t,"mailto",SCHEME,WORD,er),fastts($t,"http",SLASH_SCHEME,WORD,er),fastts($t,"https",SLASH_SCHEME,WORD,er),fastts($t,"ftp",SLASH_SCHEME,WORD,er),fastts($t,"ftps",SLASH_SCHEME,WORD,er),addToGroups(SCHEME,{scheme:!0,ascii:!0},et),addToGroups(SLASH_SCHEME,{slashscheme:!0,ascii:!0},et),dt=dt.sort((sr,ir)=>sr[0]>ir[0]?1:-1);for(let sr=0;sr<dt.length;sr++){const ir=dt[sr][0],or=dt[sr][1]?{[scheme$r]:!0}:{[slashscheme]:!0};ir.indexOf("-")>=0?or[domain]=!0:ASCII_LETTER.test(ir)?DIGIT.test(ir)?or[asciinumeric]=!0:or[ascii]=!0:or[numeric]=!0,ts$6($t,ir,ir,or)}return ts$6($t,"localhost",LOCALHOST,{ascii:!0}),$t.jd=new State(SYM),{start:$t,tokens:Object.assign({groups:et},tk)}}function run$1(dt,et){const $t=stringToArray$1(et.replace(/[A-Z]/g,Ut=>Ut.toLowerCase())),kt=$t.length,Tt=[];let Dt=0,Ft=0;for(;Ft<kt;){let Ut=dt,Ht=null,Kt=0,Yt=null,Jt=-1,Zt=-1;for(;Ft<kt&&(Ht=Ut.go($t[Ft]));)Ut=Ht,Ut.accepts()?(Jt=0,Zt=0,Yt=Ut):Jt>=0&&(Jt+=$t[Ft].length,Zt++),Kt+=$t[Ft].length,Dt+=$t[Ft].length,Ft++;Dt-=Jt,Ft-=Zt,Kt-=Jt,Tt.push({t:Yt.t,v:et.slice(Dt-Kt,Dt),s:Dt-Kt,e:Dt})}return Tt}function stringToArray$1(dt){const et=[],$t=dt.length;let kt=0;for(;kt<$t;){let Tt=dt.charCodeAt(kt),Dt,Ft=Tt<55296||Tt>56319||kt+1===$t||(Dt=dt.charCodeAt(kt+1))<56320||Dt>57343?dt[kt]:dt.slice(kt,kt+2);et.push(Ft),kt+=Ft.length}return et}function fastts(dt,et,$t,kt,Tt){let Dt;const Ft=et.length;for(let Ut=0;Ut<Ft-1;Ut++){const Ht=et[Ut];dt.j[Ht]?Dt=dt.j[Ht]:(Dt=new State(kt),Dt.jr=Tt.slice(),dt.j[Ht]=Dt),dt=Dt}return Dt=new State($t),Dt.jr=Tt.slice(),dt.j[et[Ft-1]]=Dt,Dt}function decodeTlds(dt){const et=[],$t=[];let kt=0,Tt="0123456789";for(;kt<dt.length;){let Dt=0;for(;Tt.indexOf(dt[kt+Dt])>=0;)Dt++;if(Dt>0){et.push($t.join(""));for(let Ft=parseInt(dt.substring(kt,kt+Dt),10);Ft>0;Ft--)$t.pop();kt+=Dt}else $t.push(dt[kt]),kt++}return et}const defaults$5={defaultProtocol:"http",events:null,format:noop$a,formatHref:noop$a,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Options(dt,et=null){let $t=Object.assign({},defaults$5);dt&&($t=Object.assign($t,dt instanceof Options?dt.o:dt));const kt=$t.ignoreTags,Tt=[];for(let Dt=0;Dt<kt.length;Dt++)Tt.push(kt[Dt].toUpperCase());this.o=$t,et&&(this.defaultRender=et),this.ignoreTags=Tt}Options.prototype={o:defaults$5,ignoreTags:[],defaultRender(dt){return dt},check(dt){return this.get("validate",dt.toString(),dt)},get(dt,et,$t){const kt=et!=null;let Tt=this.o[dt];return Tt&&(typeof Tt=="object"?(Tt=$t.t in Tt?Tt[$t.t]:defaults$5[dt],typeof Tt=="function"&&kt&&(Tt=Tt(et,$t))):typeof Tt=="function"&&kt&&(Tt=Tt(et,$t.t,$t)),Tt)},getObj(dt,et,$t){let kt=this.o[dt];return typeof kt=="function"&&et!=null&&(kt=kt(et,$t.t,$t)),kt},render(dt){const et=dt.render(this);return(this.get("render",null,dt)||this.defaultRender)(et,dt.t,dt)}};function noop$a(dt){return dt}function MultiToken(dt,et){this.t="token",this.v=dt,this.tk=et}MultiToken.prototype={isLink:!1,toString(){return this.v},toHref(dt){return this.toString()},toFormattedString(dt){const et=this.toString(),$t=dt.get("truncate",et,this),kt=dt.get("format",et,this);return $t&&kt.length>$t?kt.substring(0,$t)+"":kt},toFormattedHref(dt){return dt.get("formatHref",this.toHref(dt.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(dt=defaults$5.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(dt),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(dt){return{type:this.t,value:this.toFormattedString(dt),isLink:this.isLink,href:this.toFormattedHref(dt),start:this.startIndex(),end:this.endIndex()}},validate(dt){return dt.get("validate",this.toString(),this)},render(dt){const et=this,$t=this.toHref(dt.get("defaultProtocol")),kt=dt.get("formatHref",$t,this),Tt=dt.get("tagName",$t,et),Dt=this.toFormattedString(dt),Ft={},Ut=dt.get("className",$t,et),Ht=dt.get("target",$t,et),Kt=dt.get("rel",$t,et),Yt=dt.getObj("attributes",$t,et),Jt=dt.getObj("events",$t,et);return Ft.href=kt,Ut&&(Ft.class=Ut),Ht&&(Ft.target=Ht),Kt&&(Ft.rel=Kt),Yt&&Object.assign(Ft,Yt),{tagName:Tt,attributes:Ft,content:Dt,eventListeners:Jt}}};function createTokenClass(dt,et){class $t extends MultiToken{constructor(Tt,Dt){super(Tt,Dt),this.t=dt}}for(const kt in et)$t.prototype[kt]=et[kt];return $t.t=dt,$t}const Email=createTokenClass("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Text$1=createTokenClass("text"),Nl=createTokenClass("nl"),Url=createTokenClass("url",{isLink:!0,toHref(dt=defaults$5.defaultProtocol){return this.hasProtocol()?this.v:`${dt}://${this.v}`},hasProtocol(){const dt=this.tk;return dt.length>=2&&dt[0].t!==LOCALHOST&&dt[1].t===COLON}}),makeState=dt=>new State(dt);function init$1({groups:dt}){const et=dt.domain.concat([AMPERSAND,ASTERISK,AT,BACKSLASH,BACKTICK,CARET,DOLLAR,EQUALS,HYPHEN,NUM,PERCENT,PIPE,PLUS,POUND,SLASH,SYM,TILDE,UNDERSCORE]),$t=[APOSTROPHE,COLON,COMMA,DOT,EXCLAMATION,PERCENT,QUERY,QUOTE,SEMI,OPENANGLEBRACKET,CLOSEANGLEBRACKET,OPENBRACE,CLOSEBRACE,CLOSEBRACKET,OPENBRACKET,OPENPAREN,CLOSEPAREN,FULLWIDTHLEFTPAREN,FULLWIDTHRIGHTPAREN,LEFTCORNERBRACKET,RIGHTCORNERBRACKET,LEFTWHITECORNERBRACKET,RIGHTWHITECORNERBRACKET,FULLWIDTHLESSTHAN,FULLWIDTHGREATERTHAN],kt=[AMPERSAND,APOSTROPHE,ASTERISK,BACKSLASH,BACKTICK,CARET,DOLLAR,EQUALS,HYPHEN,OPENBRACE,CLOSEBRACE,PERCENT,PIPE,PLUS,POUND,QUERY,SLASH,SYM,TILDE,UNDERSCORE],Tt=makeState(),Dt=tt$1(Tt,TILDE);ta(Dt,kt,Dt),ta(Dt,dt.domain,Dt);const Ft=makeState(),Ut=makeState(),Ht=makeState();ta(Tt,dt.domain,Ft),ta(Tt,dt.scheme,Ut),ta(Tt,dt.slashscheme,Ht),ta(Ft,kt,Dt),ta(Ft,dt.domain,Ft);const Kt=tt$1(Ft,AT);tt$1(Dt,AT,Kt),tt$1(Ut,AT,Kt),tt$1(Ht,AT,Kt);const Yt=tt$1(Dt,DOT);ta(Yt,kt,Dt),ta(Yt,dt.domain,Dt);const Jt=makeState();ta(Kt,dt.domain,Jt),ta(Jt,dt.domain,Jt);const Zt=tt$1(Jt,DOT);ta(Zt,dt.domain,Jt);const er=makeState(Email);ta(Zt,dt.tld,er),ta(Zt,dt.utld,er),tt$1(Kt,LOCALHOST,er);const rr=tt$1(Jt,HYPHEN);tt$1(rr,HYPHEN,rr),ta(rr,dt.domain,Jt),ta(er,dt.domain,Jt),tt$1(er,DOT,Zt),tt$1(er,HYPHEN,rr);const sr=tt$1(er,COLON);ta(sr,dt.numeric,Email);const ir=tt$1(Ft,HYPHEN),nr=tt$1(Ft,DOT);tt$1(ir,HYPHEN,ir),ta(ir,dt.domain,Ft),ta(nr,kt,Dt),ta(nr,dt.domain,Ft);const or=makeState(Url);ta(nr,dt.tld,or),ta(nr,dt.utld,or),ta(or,dt.domain,Ft),ta(or,kt,Dt),tt$1(or,DOT,nr),tt$1(or,HYPHEN,ir),tt$1(or,AT,Kt);const lr=tt$1(or,COLON),cr=makeState(Url);ta(lr,dt.numeric,cr);const dr=makeState(Url),ur=makeState();ta(dr,et,dr),ta(dr,$t,ur),ta(ur,et,dr),ta(ur,$t,ur),tt$1(or,SLASH,dr),tt$1(cr,SLASH,dr);const pr=tt$1(Ut,COLON),mr=tt$1(Ht,COLON),vr=tt$1(mr,SLASH),kr=tt$1(vr,SLASH);ta(Ut,dt.domain,Ft),tt$1(Ut,DOT,nr),tt$1(Ut,HYPHEN,ir),ta(Ht,dt.domain,Ft),tt$1(Ht,DOT,nr),tt$1(Ht,HYPHEN,ir),ta(pr,dt.domain,dr),tt$1(pr,SLASH,dr),tt$1(pr,QUERY,dr),ta(kr,dt.domain,dr),ta(kr,et,dr),tt$1(kr,SLASH,dr);const br=[[OPENBRACE,CLOSEBRACE],[OPENBRACKET,CLOSEBRACKET],[OPENPAREN,CLOSEPAREN],[OPENANGLEBRACKET,CLOSEANGLEBRACKET],[FULLWIDTHLEFTPAREN,FULLWIDTHRIGHTPAREN],[LEFTCORNERBRACKET,RIGHTCORNERBRACKET],[LEFTWHITECORNERBRACKET,RIGHTWHITECORNERBRACKET],[FULLWIDTHLESSTHAN,FULLWIDTHGREATERTHAN]];for(let _r=0;_r<br.length;_r++){const[Or,Pr]=br[_r],Mr=tt$1(dr,Or);tt$1(ur,Or,Mr),tt$1(Mr,Pr,dr);const Rr=makeState(Url);ta(Mr,et,Rr);const Tr=makeState();ta(Mr,$t),ta(Rr,et,Rr),ta(Rr,$t,Tr),ta(Tr,et,Rr),ta(Tr,$t,Tr),tt$1(Rr,Pr,dr),tt$1(Tr,Pr,dr)}return tt$1(Tt,LOCALHOST,or),tt$1(Tt,NL,Nl),{start:Tt,tokens:tk}}function run(dt,et,$t){let kt=$t.length,Tt=0,Dt=[],Ft=[];for(;Tt<kt;){let Ut=dt,Ht=null,Kt=null,Yt=0,Jt=null,Zt=-1;for(;Tt<kt&&!(Ht=Ut.go($t[Tt].t));)Ft.push($t[Tt++]);for(;Tt<kt&&(Kt=Ht||Ut.go($t[Tt].t));)Ht=null,Ut=Kt,Ut.accepts()?(Zt=0,Jt=Ut):Zt>=0&&Zt++,Tt++,Yt++;if(Zt<0)Tt-=Yt,Tt<kt&&(Ft.push($t[Tt]),Tt++);else{Ft.length>0&&(Dt.push(initMultiToken(Text$1,et,Ft)),Ft=[]),Tt-=Zt,Yt-=Zt;const er=Jt.t,rr=$t.slice(Tt-Yt,Tt);Dt.push(initMultiToken(er,et,rr))}}return Ft.length>0&&Dt.push(initMultiToken(Text$1,et,Ft)),Dt}function initMultiToken(dt,et,$t){const kt=$t[0].s,Tt=$t[$t.length-1].e,Dt=et.slice(kt,Tt);return new dt(Dt,$t)}const warn$1=typeof console<"u"&&console&&console.warn||(()=>{}),warnAdvice="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",INIT={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function reset(){return State.groups={},INIT.scanner=null,INIT.parser=null,INIT.tokenQueue=[],INIT.pluginQueue=[],INIT.customSchemes=[],INIT.initialized=!1,INIT}function registerCustomProtocol(dt,et=!1){if(INIT.initialized&&warn$1(`linkifyjs: already initialized - will not register custom scheme "${dt}" ${warnAdvice}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(dt))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);INIT.customSchemes.push([dt,et])}function init(){INIT.scanner=init$2(INIT.customSchemes);for(let dt=0;dt<INIT.tokenQueue.length;dt++)INIT.tokenQueue[dt][1]({scanner:INIT.scanner});INIT.parser=init$1(INIT.scanner.tokens);for(let dt=0;dt<INIT.pluginQueue.length;dt++)INIT.pluginQueue[dt][1]({scanner:INIT.scanner,parser:INIT.parser});return INIT.initialized=!0,INIT}function tokenize(dt){return INIT.initialized||init(),run(INIT.parser.start,dt,run$1(INIT.scanner.start,dt))}tokenize.scan=run$1;function find$1(dt,et=null,$t=null){if(et&&typeof et=="object"){if($t)throw Error(`linkifyjs: Invalid link type ${et}; must be a string`);$t=et,et=null}const kt=new Options($t),Tt=tokenize(dt),Dt=[];for(let Ft=0;Ft<Tt.length;Ft++){const Ut=Tt[Ft];Ut.isLink&&(!et||Ut.t===et)&&kt.check(Ut)&&Dt.push(Ut.toFormattedObject(kt))}return Dt}var UNICODE_WHITESPACE_PATTERN="[\0- -\u2029]",UNICODE_WHITESPACE_REGEX=new RegExp(UNICODE_WHITESPACE_PATTERN),UNICODE_WHITESPACE_REGEX_END=new RegExp(`${UNICODE_WHITESPACE_PATTERN}$`),UNICODE_WHITESPACE_REGEX_GLOBAL=new RegExp(UNICODE_WHITESPACE_PATTERN,"g");function isValidLinkStructure(dt){return dt.length===1?dt[0].isLink:dt.length===3&&dt[1].isLink?["()","[]"].includes(dt[0].value+dt[2].value):!1}function autolink(dt){return new Plugin({key:new PluginKey("autolink"),appendTransaction:(et,$t,kt)=>{const Tt=et.some(Kt=>Kt.docChanged)&&!$t.doc.eq(kt.doc),Dt=et.some(Kt=>Kt.getMeta("preventAutolink"));if(!Tt||Dt)return;const{tr:Ft}=kt,Ut=combineTransactionSteps($t.doc,[...et]);if(getChangedRanges(Ut).forEach(({newRange:Kt})=>{const Yt=findChildrenInRange(kt.doc,Kt,er=>er.isTextblock);let Jt,Zt;if(Yt.length>1)Jt=Yt[0],Zt=kt.doc.textBetween(Jt.pos,Jt.pos+Jt.node.nodeSize,void 0," ");else if(Yt.length){const er=kt.doc.textBetween(Kt.from,Kt.to," "," ");if(!UNICODE_WHITESPACE_REGEX_END.test(er))return;Jt=Yt[0],Zt=kt.doc.textBetween(Jt.pos,Kt.to,void 0," ")}if(Jt&&Zt){const er=Zt.split(UNICODE_WHITESPACE_REGEX).filter(Boolean);if(er.length<=0)return!1;const rr=er[er.length-1],sr=Jt.pos+Zt.lastIndexOf(rr);if(!rr)return!1;const ir=tokenize(rr).map(nr=>nr.toObject(dt.defaultProtocol));if(!isValidLinkStructure(ir))return!1;ir.filter(nr=>nr.isLink).map(nr=>({...nr,from:sr+nr.start+1,to:sr+nr.end+1})).filter(nr=>kt.schema.marks.code?!kt.doc.rangeHasMark(nr.from,nr.to,kt.schema.marks.code):!0).filter(nr=>dt.validate(nr.value)).filter(nr=>dt.shouldAutoLink(nr.value)).forEach(nr=>{getMarksBetween(nr.from,nr.to,kt.doc).some(or=>or.mark.type===dt.type)||Ft.addMark(nr.from,nr.to,dt.type.create({href:nr.href}))})}}),!!Ft.steps.length)return Ft}})}function clickHandler(dt){return new Plugin({key:new PluginKey("handleClickLink"),props:{handleClick:(et,$t,kt)=>{var Tt,Dt;if(kt.button!==0||!et.editable)return!1;let Ft=null;if(kt.target instanceof HTMLAnchorElement)Ft=kt.target;else{let Yt=kt.target;const Jt=[];for(;Yt.nodeName!=="DIV";)Jt.push(Yt),Yt=Yt.parentNode;Ft=Jt.find(Zt=>Zt.nodeName==="A")}if(!Ft)return!1;const Ut=getAttributes$1(et.state,dt.type.name),Ht=(Tt=Ft==null?void 0:Ft.href)!=null?Tt:Ut.href,Kt=(Dt=Ft==null?void 0:Ft.target)!=null?Dt:Ut.target;return dt.enableClickSelection&&dt.editor.commands.extendMarkRange(dt.type.name),Ft&&Ht?(window.open(Ht,Kt),!0):!1}}})}function pasteHandler(dt){return new Plugin({key:new PluginKey("handlePasteLink"),props:{handlePaste:(et,$t,kt)=>{const{state:Tt}=et,{selection:Dt}=Tt,{empty:Ft}=Dt;if(Ft)return!1;let Ut="";kt.content.forEach(Kt=>{Ut+=Kt.textContent});const Ht=find$1(Ut,{defaultProtocol:dt.defaultProtocol}).find(Kt=>Kt.isLink&&Kt.value===Ut);return!Ut||!Ht?!1:dt.editor.commands.setMark(dt.type,{href:Ht.href})}}})}function isAllowedUri(dt,et){const $t=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return et&&et.forEach(kt=>{const Tt=typeof kt=="string"?kt:kt.scheme;Tt&&$t.push(Tt)}),!dt||dt.replace(UNICODE_WHITESPACE_REGEX_GLOBAL,"").match(new RegExp(`^(?:(?:${$t.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var Link=Mark.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(dt=>{if(typeof dt=="string"){registerCustomProtocol(dt);return}registerCustomProtocol(dt.scheme,dt.optionalSlashes)})},onDestroy(){reset()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(dt,et)=>!!isAllowedUri(dt,et.protocols),validate:dt=>!!dt,shouldAutoLink:dt=>!!dt}},addAttributes(){return{href:{default:null,parseHTML(dt){return dt.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:dt=>{const et=dt.getAttribute("href");return!et||!this.options.isAllowedUri(et,{defaultValidate:$t=>!!isAllowedUri($t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:dt}){return this.options.isAllowedUri(dt.href,{defaultValidate:et=>!!isAllowedUri(et,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",mergeAttributes(this.options.HTMLAttributes,dt),0]:["a",mergeAttributes(this.options.HTMLAttributes,{...dt,href:""}),0]},addCommands(){return{setLink:dt=>({chain:et})=>{const{href:$t}=dt;return this.options.isAllowedUri($t,{defaultValidate:kt=>!!isAllowedUri(kt,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?et().setMark(this.name,dt).setMeta("preventAutolink",!0).run():!1},toggleLink:dt=>({chain:et})=>{const{href:$t}=dt||{};return $t&&!this.options.isAllowedUri($t,{defaultValidate:kt=>!!isAllowedUri(kt,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:et().toggleMark(this.name,dt,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:dt})=>dt().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[markPasteRule({find:dt=>{const et=[];if(dt){const{protocols:$t,defaultProtocol:kt}=this.options,Tt=find$1(dt).filter(Dt=>Dt.isLink&&this.options.isAllowedUri(Dt.value,{defaultValidate:Ft=>!!isAllowedUri(Ft,$t),protocols:$t,defaultProtocol:kt}));Tt.length&&Tt.forEach(Dt=>et.push({text:Dt.value,data:{href:Dt.href},index:Dt.start}))}return et},type:this.type,getAttributes:dt=>{var et;return{href:(et=dt.data)==null?void 0:et.href}}})]},addProseMirrorPlugins(){const dt=[],{protocols:et,defaultProtocol:$t}=this.options;return this.options.autolink&&dt.push(autolink({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:kt=>this.options.isAllowedUri(kt,{defaultValidate:Tt=>!!isAllowedUri(Tt,et),protocols:et,defaultProtocol:$t}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&dt.push(clickHandler({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&dt.push(pasteHandler({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),dt}}),index_default$b=Link,__defProp$6=Object.defineProperty,__export$6=(dt,et)=>{for(var $t in et)__defProp$6(dt,$t,{get:et[$t],enumerable:!0})},ListItemName="listItem",TextStyleName="textStyle",bulletListInputRegex=/^\s*([-+*])\s$/,BulletList=Node3.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:dt}){return["ul",mergeAttributes(this.options.HTMLAttributes,dt),0]},addCommands(){return{toggleBulletList:()=>({commands:dt,chain:et})=>this.options.keepAttributes?et().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(ListItemName,this.editor.getAttributes(TextStyleName)).run():dt.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let dt=wrappingInputRule({find:bulletListInputRegex,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(dt=wrappingInputRule({find:bulletListInputRegex,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(TextStyleName),editor:this.editor})),[dt]}}),ListItem=Node3.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:dt}){return["li",mergeAttributes(this.options.HTMLAttributes,dt),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),listHelpers_exports={};__export$6(listHelpers_exports,{findListItemPos:()=>findListItemPos,getNextListDepth:()=>getNextListDepth,handleBackspace:()=>handleBackspace,handleDelete:()=>handleDelete,hasListBefore:()=>hasListBefore,hasListItemAfter:()=>hasListItemAfter,hasListItemBefore:()=>hasListItemBefore,listItemHasSubList:()=>listItemHasSubList,nextListIsDeeper:()=>nextListIsDeeper,nextListIsHigher:()=>nextListIsHigher});var findListItemPos=(dt,et)=>{const{$from:$t}=et.selection,kt=getNodeType(dt,et.schema);let Tt=null,Dt=$t.depth,Ft=$t.pos,Ut=null;for(;Dt>0&&Ut===null;)Tt=$t.node(Dt),Tt.type===kt?Ut=Dt:(Dt-=1,Ft-=1);return Ut===null?null:{$pos:et.doc.resolve(Ft),depth:Ut}},getNextListDepth=(dt,et)=>{const $t=findListItemPos(dt,et);if(!$t)return!1;const[,kt]=getNodeAtPosition(et,dt,$t.$pos.pos+4);return kt},hasListBefore=(dt,et,$t)=>{const{$anchor:kt}=dt.selection,Tt=Math.max(0,kt.pos-2),Dt=dt.doc.resolve(Tt).node();return!(!Dt||!$t.includes(Dt.type.name))},hasListItemBefore=(dt,et)=>{var $t;const{$anchor:kt}=et.selection,Tt=et.doc.resolve(kt.pos-2);return!(Tt.index()===0||(($t=Tt.nodeBefore)==null?void 0:$t.type.name)!==dt)},listItemHasSubList=(dt,et,$t)=>{if(!$t)return!1;const kt=getNodeType(dt,et.schema);let Tt=!1;return $t.descendants(Dt=>{Dt.type===kt&&(Tt=!0)}),Tt},handleBackspace=(dt,et,$t)=>{if(dt.commands.undoInputRule())return!0;if(dt.state.selection.from!==dt.state.selection.to)return!1;if(!isNodeActive(dt.state,et)&&hasListBefore(dt.state,et,$t)){const{$anchor:Ut}=dt.state.selection,Ht=dt.state.doc.resolve(Ut.before()-1),Kt=[];Ht.node().descendants((Zt,er)=>{Zt.type.name===et&&Kt.push({node:Zt,pos:er})});const Yt=Kt.at(-1);if(!Yt)return!1;const Jt=dt.state.doc.resolve(Ht.start()+Yt.pos+1);return dt.chain().cut({from:Ut.start()-1,to:Ut.end()+1},Jt.end()).joinForward().run()}if(!isNodeActive(dt.state,et)||!isAtStartOfNode(dt.state))return!1;const kt=findListItemPos(et,dt.state);if(!kt)return!1;const Dt=dt.state.doc.resolve(kt.$pos.pos-2).node(kt.depth),Ft=listItemHasSubList(et,dt.state,Dt);return hasListItemBefore(et,dt.state)&&!Ft?dt.commands.joinItemBackward():dt.chain().liftListItem(et).run()},nextListIsDeeper=(dt,et)=>{const $t=getNextListDepth(dt,et),kt=findListItemPos(dt,et);return!kt||!$t?!1:$t>kt.depth},nextListIsHigher=(dt,et)=>{const $t=getNextListDepth(dt,et),kt=findListItemPos(dt,et);return!kt||!$t?!1:$t<kt.depth},handleDelete=(dt,et)=>{if(!isNodeActive(dt.state,et)||!isAtEndOfNode(dt.state,et))return!1;const{selection:$t}=dt.state,{$from:kt,$to:Tt}=$t;return!$t.empty&&kt.sameParent(Tt)?!1:nextListIsDeeper(et,dt.state)?dt.chain().focus(dt.state.selection.from+4).lift(et).joinBackward().run():nextListIsHigher(et,dt.state)?dt.chain().joinForward().joinBackward().run():dt.commands.joinItemForward()},hasListItemAfter=(dt,et)=>{var $t;const{$anchor:kt}=et.selection,Tt=et.doc.resolve(kt.pos-kt.parentOffset-2);return!(Tt.index()===Tt.parent.childCount-1||(($t=Tt.nodeAfter)==null?void 0:$t.type.name)!==dt)},ListKeymap=Extension.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:dt})=>{let et=!1;return this.options.listTypes.forEach(({itemName:$t})=>{dt.state.schema.nodes[$t]!==void 0&&handleDelete(dt,$t)&&(et=!0)}),et},"Mod-Delete":({editor:dt})=>{let et=!1;return this.options.listTypes.forEach(({itemName:$t})=>{dt.state.schema.nodes[$t]!==void 0&&handleDelete(dt,$t)&&(et=!0)}),et},Backspace:({editor:dt})=>{let et=!1;return this.options.listTypes.forEach(({itemName:$t,wrapperNames:kt})=>{dt.state.schema.nodes[$t]!==void 0&&handleBackspace(dt,$t,kt)&&(et=!0)}),et},"Mod-Backspace":({editor:dt})=>{let et=!1;return this.options.listTypes.forEach(({itemName:$t,wrapperNames:kt})=>{dt.state.schema.nodes[$t]!==void 0&&handleBackspace(dt,$t,kt)&&(et=!0)}),et}}}}),ListItemName2="listItem",TextStyleName2="textStyle",orderedListInputRegex=/^(\d+)\.\s$/,OrderedList=Node3.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:dt=>dt.hasAttribute("start")?parseInt(dt.getAttribute("start")||"",10):1},type:{default:null,parseHTML:dt=>dt.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:dt}){const{start:et,...$t}=dt;return et===1?["ol",mergeAttributes(this.options.HTMLAttributes,$t),0]:["ol",mergeAttributes(this.options.HTMLAttributes,dt),0]},addCommands(){return{toggleOrderedList:()=>({commands:dt,chain:et})=>this.options.keepAttributes?et().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(ListItemName2,this.editor.getAttributes(TextStyleName2)).run():dt.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let dt=wrappingInputRule({find:orderedListInputRegex,type:this.type,getAttributes:et=>({start:+et[1]}),joinPredicate:(et,$t)=>$t.childCount+$t.attrs.start===+et[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(dt=wrappingInputRule({find:orderedListInputRegex,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:et=>({start:+et[1],...this.editor.getAttributes(TextStyleName2)}),joinPredicate:(et,$t)=>$t.childCount+$t.attrs.start===+et[1],editor:this.editor})),[dt]}}),inputRegex$3=/^\s*(\[([( |x])?\])\s$/,TaskItem=Node3.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:dt=>{const et=dt.getAttribute("data-checked");return et===""||et==="true"},renderHTML:dt=>({"data-checked":dt.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:dt,HTMLAttributes:et}){return["li",mergeAttributes(this.options.HTMLAttributes,et,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:dt.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const dt={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...dt,Tab:()=>this.editor.commands.sinkListItem(this.name)}:dt},addNodeView(){return({node:dt,HTMLAttributes:et,getPos:$t,editor:kt})=>{const Tt=document.createElement("li"),Dt=document.createElement("label"),Ft=document.createElement("span"),Ut=document.createElement("input"),Ht=document.createElement("div"),Kt=Yt=>{var Jt,Zt;Ut.ariaLabel=((Zt=(Jt=this.options.a11y)==null?void 0:Jt.checkboxLabel)==null?void 0:Zt.call(Jt,Yt,Ut.checked))||`Task item checkbox for ${Yt.textContent||"empty task item"}`};return Kt(dt),Dt.contentEditable="false",Ut.type="checkbox",Ut.addEventListener("mousedown",Yt=>Yt.preventDefault()),Ut.addEventListener("change",Yt=>{if(!kt.isEditable&&!this.options.onReadOnlyChecked){Ut.checked=!Ut.checked;return}const{checked:Jt}=Yt.target;kt.isEditable&&typeof $t=="function"&&kt.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:Zt})=>{const er=$t();if(typeof er!="number")return!1;const rr=Zt.doc.nodeAt(er);return Zt.setNodeMarkup(er,void 0,{...rr==null?void 0:rr.attrs,checked:Jt}),!0}).run(),!kt.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(dt,Jt)||(Ut.checked=!Ut.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([Yt,Jt])=>{Tt.setAttribute(Yt,Jt)}),Tt.dataset.checked=dt.attrs.checked,Ut.checked=dt.attrs.checked,Dt.append(Ut,Ft),Tt.append(Dt,Ht),Object.entries(et).forEach(([Yt,Jt])=>{Tt.setAttribute(Yt,Jt)}),{dom:Tt,contentDOM:Ht,update:Yt=>Yt.type!==this.type?!1:(Tt.dataset.checked=Yt.attrs.checked,Ut.checked=Yt.attrs.checked,Kt(Yt),!0)}}},addInputRules(){return[wrappingInputRule({find:inputRegex$3,type:this.type,getAttributes:dt=>({checked:dt[dt.length-1]==="x"})})]}}),TaskList=Node3.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:dt}){return["ul",mergeAttributes(this.options.HTMLAttributes,dt,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:dt})=>dt.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});Extension.create({name:"listKit",addExtensions(){const dt=[];return this.options.bulletList!==!1&&dt.push(BulletList.configure(this.options.bulletList)),this.options.listItem!==!1&&dt.push(ListItem.configure(this.options.listItem)),this.options.listKeymap!==!1&&dt.push(ListKeymap.configure(this.options.listKeymap)),this.options.orderedList!==!1&&dt.push(OrderedList.configure(this.options.orderedList)),this.options.taskItem!==!1&&dt.push(TaskItem.configure(this.options.taskItem)),this.options.taskList!==!1&&dt.push(TaskList.configure(this.options.taskList)),dt}});var Paragraph=Node3.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:dt}){return["p",mergeAttributes(this.options.HTMLAttributes,dt),0]},addCommands(){return{setParagraph:()=>({commands:dt})=>dt.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),inputRegex$2=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,pasteRegex$1=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,Strike=Mark.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:dt=>dt.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:dt}){return["s",mergeAttributes(this.options.HTMLAttributes,dt),0]},addCommands(){return{setStrike:()=>({commands:dt})=>dt.setMark(this.name),toggleStrike:()=>({commands:dt})=>dt.toggleMark(this.name),unsetStrike:()=>({commands:dt})=>dt.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[markInputRule({find:inputRegex$2,type:this.type})]},addPasteRules(){return[markPasteRule({find:pasteRegex$1,type:this.type})]}}),Text=Node3.create({name:"text",group:"inline"}),Underline=Mark.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:dt=>dt.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:dt}){return["u",mergeAttributes(this.options.HTMLAttributes,dt),0]},addCommands(){return{setUnderline:()=>({commands:dt})=>dt.setMark(this.name),toggleUnderline:()=>({commands:dt})=>dt.toggleMark(this.name),unsetUnderline:()=>({commands:dt})=>dt.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),index_default$a=Underline;function dropCursor(dt={}){return new Plugin({view(et){return new DropCursorView(et,dt)}})}class DropCursorView{constructor(et,$t){var kt;this.editorView=et,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(kt=$t.width)!==null&&kt!==void 0?kt:1,this.color=$t.color===!1?void 0:$t.color||"black",this.class=$t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(Tt=>{let Dt=Ft=>{this[Tt](Ft)};return et.dom.addEventListener(Tt,Dt),{name:Tt,handler:Dt}})}destroy(){this.handlers.forEach(({name:et,handler:$t})=>this.editorView.dom.removeEventListener(et,$t))}update(et,$t){this.cursorPos!=null&&$t.doc!=et.state.doc&&(this.cursorPos>et.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(et){et!=this.cursorPos&&(this.cursorPos=et,et==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let et=this.editorView.state.doc.resolve(this.cursorPos),$t=!et.parent.inlineContent,kt,Tt=this.editorView.dom,Dt=Tt.getBoundingClientRect(),Ft=Dt.width/Tt.offsetWidth,Ut=Dt.height/Tt.offsetHeight;if($t){let Jt=et.nodeBefore,Zt=et.nodeAfter;if(Jt||Zt){let er=this.editorView.nodeDOM(this.cursorPos-(Jt?Jt.nodeSize:0));if(er){let rr=er.getBoundingClientRect(),sr=Jt?rr.bottom:rr.top;Jt&&Zt&&(sr=(sr+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let ir=this.width/2*Ut;kt={left:rr.left,right:rr.right,top:sr-ir,bottom:sr+ir}}}}if(!kt){let Jt=this.editorView.coordsAtPos(this.cursorPos),Zt=this.width/2*Ft;kt={left:Jt.left-Zt,right:Jt.left+Zt,top:Jt.top,bottom:Jt.bottom}}let Ht=this.editorView.dom.offsetParent;this.element||(this.element=Ht.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",$t),this.element.classList.toggle("prosemirror-dropcursor-inline",!$t);let Kt,Yt;if(!Ht||Ht==document.body&&getComputedStyle(Ht).position=="static")Kt=-pageXOffset,Yt=-pageYOffset;else{let Jt=Ht.getBoundingClientRect(),Zt=Jt.width/Ht.offsetWidth,er=Jt.height/Ht.offsetHeight;Kt=Jt.left-Ht.scrollLeft*Zt,Yt=Jt.top-Ht.scrollTop*er}this.element.style.left=(kt.left-Kt)/Ft+"px",this.element.style.top=(kt.top-Yt)/Ut+"px",this.element.style.width=(kt.right-kt.left)/Ft+"px",this.element.style.height=(kt.bottom-kt.top)/Ut+"px"}scheduleRemoval(et){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),et)}dragover(et){if(!this.editorView.editable)return;let $t=this.editorView.posAtCoords({left:et.clientX,top:et.clientY}),kt=$t&&$t.inside>=0&&this.editorView.state.doc.nodeAt($t.inside),Tt=kt&&kt.type.spec.disableDropCursor,Dt=typeof Tt=="function"?Tt(this.editorView,$t,et):Tt;if($t&&!Dt){let Ft=$t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let Ut=dropPoint(this.editorView.state.doc,Ft,this.editorView.dragging.slice);Ut!=null&&(Ft=Ut)}this.setCursor(Ft),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(et){this.editorView.dom.contains(et.relatedTarget)||this.setCursor(null)}}class GapCursor extends Selection{constructor(et){super(et,et)}map(et,$t){let kt=et.resolve($t.map(this.head));return GapCursor.valid(kt)?new GapCursor(kt):Selection.near(kt)}content(){return Slice.empty}eq(et){return et instanceof GapCursor&&et.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(et,$t){if(typeof $t.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new GapCursor(et.resolve($t.pos))}getBookmark(){return new GapBookmark(this.anchor)}static valid(et){let $t=et.parent;if($t.isTextblock||!closedBefore(et)||!closedAfter(et))return!1;let kt=$t.type.spec.allowGapCursor;if(kt!=null)return kt;let Tt=$t.contentMatchAt(et.index()).defaultType;return Tt&&Tt.isTextblock}static findGapCursorFrom(et,$t,kt=!1){e:for(;;){if(!kt&&GapCursor.valid(et))return et;let Tt=et.pos,Dt=null;for(let Ft=et.depth;;Ft--){let Ut=et.node(Ft);if($t>0?et.indexAfter(Ft)<Ut.childCount:et.index(Ft)>0){Dt=Ut.child($t>0?et.indexAfter(Ft):et.index(Ft)-1);break}else if(Ft==0)return null;Tt+=$t;let Ht=et.doc.resolve(Tt);if(GapCursor.valid(Ht))return Ht}for(;;){let Ft=$t>0?Dt.firstChild:Dt.lastChild;if(!Ft){if(Dt.isAtom&&!Dt.isText&&!NodeSelection.isSelectable(Dt)){et=et.doc.resolve(Tt+Dt.nodeSize*$t),kt=!1;continue e}break}Dt=Ft,Tt+=$t;let Ut=et.doc.resolve(Tt);if(GapCursor.valid(Ut))return Ut}return null}}}GapCursor.prototype.visible=!1;GapCursor.findFrom=GapCursor.findGapCursorFrom;Selection.jsonID("gapcursor",GapCursor);class GapBookmark{constructor(et){this.pos=et}map(et){return new GapBookmark(et.map(this.pos))}resolve(et){let $t=et.resolve(this.pos);return GapCursor.valid($t)?new GapCursor($t):Selection.near($t)}}function closedBefore(dt){for(let et=dt.depth;et>=0;et--){let $t=dt.index(et),kt=dt.node(et);if($t==0){if(kt.type.spec.isolating)return!0;continue}for(let Tt=kt.child($t-1);;Tt=Tt.lastChild){if(Tt.childCount==0&&!Tt.inlineContent||Tt.isAtom||Tt.type.spec.isolating)return!0;if(Tt.inlineContent)return!1}}return!0}function closedAfter(dt){for(let et=dt.depth;et>=0;et--){let $t=dt.indexAfter(et),kt=dt.node(et);if($t==kt.childCount){if(kt.type.spec.isolating)return!0;continue}for(let Tt=kt.child($t);;Tt=Tt.firstChild){if(Tt.childCount==0&&!Tt.inlineContent||Tt.isAtom||Tt.type.spec.isolating)return!0;if(Tt.inlineContent)return!1}}return!0}function gapCursor(){return new Plugin({props:{decorations:drawGapCursor,createSelectionBetween(dt,et,$t){return et.pos==$t.pos&&GapCursor.valid($t)?new GapCursor($t):null},handleClick,handleKeyDown,handleDOMEvents:{beforeinput}}})}const handleKeyDown=keydownHandler({ArrowLeft:arrow("horiz",-1),ArrowRight:arrow("horiz",1),ArrowUp:arrow("vert",-1),ArrowDown:arrow("vert",1)});function arrow(dt,et){const $t=dt=="vert"?et>0?"down":"up":et>0?"right":"left";return function(kt,Tt,Dt){let Ft=kt.selection,Ut=et>0?Ft.$to:Ft.$from,Ht=Ft.empty;if(Ft instanceof TextSelection){if(!Dt.endOfTextblock($t)||Ut.depth==0)return!1;Ht=!1,Ut=kt.doc.resolve(et>0?Ut.after():Ut.before())}let Kt=GapCursor.findGapCursorFrom(Ut,et,Ht);return Kt?(Tt&&Tt(kt.tr.setSelection(new GapCursor(Kt))),!0):!1}}function handleClick(dt,et,$t){if(!dt||!dt.editable)return!1;let kt=dt.state.doc.resolve(et);if(!GapCursor.valid(kt))return!1;let Tt=dt.posAtCoords({left:$t.clientX,top:$t.clientY});return Tt&&Tt.inside>-1&&NodeSelection.isSelectable(dt.state.doc.nodeAt(Tt.inside))?!1:(dt.dispatch(dt.state.tr.setSelection(new GapCursor(kt))),!0)}function beforeinput(dt,et){if(et.inputType!="insertCompositionText"||!(dt.state.selection instanceof GapCursor))return!1;let{$from:$t}=dt.state.selection,kt=$t.parent.contentMatchAt($t.index()).findWrapping(dt.state.schema.nodes.text);if(!kt)return!1;let Tt=Fragment.empty;for(let Ft=kt.length-1;Ft>=0;Ft--)Tt=Fragment.from(kt[Ft].createAndFill(null,Tt));let Dt=dt.state.tr.replace($t.pos,$t.pos,new Slice(Tt,0,0));return Dt.setSelection(TextSelection.near(Dt.doc.resolve($t.pos+1))),dt.dispatch(Dt),!1}function drawGapCursor(dt){if(!(dt.selection instanceof GapCursor))return null;let et=document.createElement("div");return et.className="ProseMirror-gapcursor",DecorationSet.create(dt.doc,[Decoration.widget(dt.selection.head,et,{key:"gapcursor"})])}var GOOD_LEAF_SIZE=200,RopeSequence=function dt(){};RopeSequence.prototype.append=function dt(et){return et.length?(et=RopeSequence.from(et),!this.length&&et||et.length<GOOD_LEAF_SIZE&&this.leafAppend(et)||this.length<GOOD_LEAF_SIZE&&et.leafPrepend(this)||this.appendInner(et)):this};RopeSequence.prototype.prepend=function dt(et){return et.length?RopeSequence.from(et).append(this):this};RopeSequence.prototype.appendInner=function dt(et){return new Append(this,et)};RopeSequence.prototype.slice=function dt(et,$t){return et===void 0&&(et=0),$t===void 0&&($t=this.length),et>=$t?RopeSequence.empty:this.sliceInner(Math.max(0,et),Math.min(this.length,$t))};RopeSequence.prototype.get=function dt(et){if(!(et<0||et>=this.length))return this.getInner(et)};RopeSequence.prototype.forEach=function dt(et,$t,kt){$t===void 0&&($t=0),kt===void 0&&(kt=this.length),$t<=kt?this.forEachInner(et,$t,kt,0):this.forEachInvertedInner(et,$t,kt,0)};RopeSequence.prototype.map=function dt(et,$t,kt){$t===void 0&&($t=0),kt===void 0&&(kt=this.length);var Tt=[];return this.forEach(function(Dt,Ft){return Tt.push(et(Dt,Ft))},$t,kt),Tt};RopeSequence.from=function dt(et){return et instanceof RopeSequence?et:et&&et.length?new Leaf(et):RopeSequence.empty};var Leaf=function(dt){function et(kt){dt.call(this),this.values=kt}dt&&(et.__proto__=dt),et.prototype=Object.create(dt&&dt.prototype),et.prototype.constructor=et;var $t={length:{configurable:!0},depth:{configurable:!0}};return et.prototype.flatten=function(){return this.values},et.prototype.sliceInner=function(Tt,Dt){return Tt==0&&Dt==this.length?this:new et(this.values.slice(Tt,Dt))},et.prototype.getInner=function(Tt){return this.values[Tt]},et.prototype.forEachInner=function(Tt,Dt,Ft,Ut){for(var Ht=Dt;Ht<Ft;Ht++)if(Tt(this.values[Ht],Ut+Ht)===!1)return!1},et.prototype.forEachInvertedInner=function(Tt,Dt,Ft,Ut){for(var Ht=Dt-1;Ht>=Ft;Ht--)if(Tt(this.values[Ht],Ut+Ht)===!1)return!1},et.prototype.leafAppend=function(Tt){if(this.length+Tt.length<=GOOD_LEAF_SIZE)return new et(this.values.concat(Tt.flatten()))},et.prototype.leafPrepend=function(Tt){if(this.length+Tt.length<=GOOD_LEAF_SIZE)return new et(Tt.flatten().concat(this.values))},$t.length.get=function(){return this.values.length},$t.depth.get=function(){return 0},Object.defineProperties(et.prototype,$t),et}(RopeSequence);RopeSequence.empty=new Leaf([]);var Append=function(dt){function et($t,kt){dt.call(this),this.left=$t,this.right=kt,this.length=$t.length+kt.length,this.depth=Math.max($t.depth,kt.depth)+1}return dt&&(et.__proto__=dt),et.prototype=Object.create(dt&&dt.prototype),et.prototype.constructor=et,et.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},et.prototype.getInner=function(kt){return kt<this.left.length?this.left.get(kt):this.right.get(kt-this.left.length)},et.prototype.forEachInner=function(kt,Tt,Dt,Ft){var Ut=this.left.length;if(Tt<Ut&&this.left.forEachInner(kt,Tt,Math.min(Dt,Ut),Ft)===!1||Dt>Ut&&this.right.forEachInner(kt,Math.max(Tt-Ut,0),Math.min(this.length,Dt)-Ut,Ft+Ut)===!1)return!1},et.prototype.forEachInvertedInner=function(kt,Tt,Dt,Ft){var Ut=this.left.length;if(Tt>Ut&&this.right.forEachInvertedInner(kt,Tt-Ut,Math.max(Dt,Ut)-Ut,Ft+Ut)===!1||Dt<Ut&&this.left.forEachInvertedInner(kt,Math.min(Tt,Ut),Dt,Ft)===!1)return!1},et.prototype.sliceInner=function(kt,Tt){if(kt==0&&Tt==this.length)return this;var Dt=this.left.length;return Tt<=Dt?this.left.slice(kt,Tt):kt>=Dt?this.right.slice(kt-Dt,Tt-Dt):this.left.slice(kt,Dt).append(this.right.slice(0,Tt-Dt))},et.prototype.leafAppend=function(kt){var Tt=this.right.leafAppend(kt);if(Tt)return new et(this.left,Tt)},et.prototype.leafPrepend=function(kt){var Tt=this.left.leafPrepend(kt);if(Tt)return new et(Tt,this.right)},et.prototype.appendInner=function(kt){return this.left.depth>=Math.max(this.right.depth,kt.depth)+1?new et(this.left,new et(this.right,kt)):new et(this,kt)},et}(RopeSequence);const max_empty_items=500;class Branch{constructor(et,$t){this.items=et,this.eventCount=$t}popEvent(et,$t){if(this.eventCount==0)return null;let kt=this.items.length;for(;;kt--)if(this.items.get(kt-1).selection){--kt;break}let Tt,Dt;$t&&(Tt=this.remapping(kt,this.items.length),Dt=Tt.maps.length);let Ft=et.tr,Ut,Ht,Kt=[],Yt=[];return this.items.forEach((Jt,Zt)=>{if(!Jt.step){Tt||(Tt=this.remapping(kt,Zt+1),Dt=Tt.maps.length),Dt--,Yt.push(Jt);return}if(Tt){Yt.push(new Item(Jt.map));let er=Jt.step.map(Tt.slice(Dt)),rr;er&&Ft.maybeStep(er).doc&&(rr=Ft.mapping.maps[Ft.mapping.maps.length-1],Kt.push(new Item(rr,void 0,void 0,Kt.length+Yt.length))),Dt--,rr&&Tt.appendMap(rr,Dt)}else Ft.maybeStep(Jt.step);if(Jt.selection)return Ut=Tt?Jt.selection.map(Tt.slice(Dt)):Jt.selection,Ht=new Branch(this.items.slice(0,kt).append(Yt.reverse().concat(Kt)),this.eventCount-1),!1},this.items.length,0),{remaining:Ht,transform:Ft,selection:Ut}}addTransform(et,$t,kt,Tt){let Dt=[],Ft=this.eventCount,Ut=this.items,Ht=!Tt&&Ut.length?Ut.get(Ut.length-1):null;for(let Yt=0;Yt<et.steps.length;Yt++){let Jt=et.steps[Yt].invert(et.docs[Yt]),Zt=new Item(et.mapping.maps[Yt],Jt,$t),er;(er=Ht&&Ht.merge(Zt))&&(Zt=er,Yt?Dt.pop():Ut=Ut.slice(0,Ut.length-1)),Dt.push(Zt),$t&&(Ft++,$t=void 0),Tt||(Ht=Zt)}let Kt=Ft-kt.depth;return Kt>DEPTH_OVERFLOW&&(Ut=cutOffEvents(Ut,Kt),Ft-=Kt),new Branch(Ut.append(Dt),Ft)}remapping(et,$t){let kt=new Mapping;return this.items.forEach((Tt,Dt)=>{let Ft=Tt.mirrorOffset!=null&&Dt-Tt.mirrorOffset>=et?kt.maps.length-Tt.mirrorOffset:void 0;kt.appendMap(Tt.map,Ft)},et,$t),kt}addMaps(et){return this.eventCount==0?this:new Branch(this.items.append(et.map($t=>new Item($t))),this.eventCount)}rebased(et,$t){if(!this.eventCount)return this;let kt=[],Tt=Math.max(0,this.items.length-$t),Dt=et.mapping,Ft=et.steps.length,Ut=this.eventCount;this.items.forEach(Zt=>{Zt.selection&&Ut--},Tt);let Ht=$t;this.items.forEach(Zt=>{let er=Dt.getMirror(--Ht);if(er==null)return;Ft=Math.min(Ft,er);let rr=Dt.maps[er];if(Zt.step){let sr=et.steps[er].invert(et.docs[er]),ir=Zt.selection&&Zt.selection.map(Dt.slice(Ht+1,er));ir&&Ut++,kt.push(new Item(rr,sr,ir))}else kt.push(new Item(rr))},Tt);let Kt=[];for(let Zt=$t;Zt<Ft;Zt++)Kt.push(new Item(Dt.maps[Zt]));let Yt=this.items.slice(0,Tt).append(Kt).append(kt),Jt=new Branch(Yt,Ut);return Jt.emptyItemCount()>max_empty_items&&(Jt=Jt.compress(this.items.length-kt.length)),Jt}emptyItemCount(){let et=0;return this.items.forEach($t=>{$t.step||et++}),et}compress(et=this.items.length){let $t=this.remapping(0,et),kt=$t.maps.length,Tt=[],Dt=0;return this.items.forEach((Ft,Ut)=>{if(Ut>=et)Tt.push(Ft),Ft.selection&&Dt++;else if(Ft.step){let Ht=Ft.step.map($t.slice(kt)),Kt=Ht&&Ht.getMap();if(kt--,Kt&&$t.appendMap(Kt,kt),Ht){let Yt=Ft.selection&&Ft.selection.map($t.slice(kt));Yt&&Dt++;let Jt=new Item(Kt.invert(),Ht,Yt),Zt,er=Tt.length-1;(Zt=Tt.length&&Tt[er].merge(Jt))?Tt[er]=Zt:Tt.push(Jt)}}else Ft.map&&kt--},this.items.length,0),new Branch(RopeSequence.from(Tt.reverse()),Dt)}}Branch.empty=new Branch(RopeSequence.empty,0);function cutOffEvents(dt,et){let $t;return dt.forEach((kt,Tt)=>{if(kt.selection&&et--==0)return $t=Tt,!1}),dt.slice($t)}class Item{constructor(et,$t,kt,Tt){this.map=et,this.step=$t,this.selection=kt,this.mirrorOffset=Tt}merge(et){if(this.step&&et.step&&!et.selection){let $t=et.step.merge(this.step);if($t)return new Item($t.getMap().invert(),$t,this.selection)}}}class HistoryState{constructor(et,$t,kt,Tt,Dt){this.done=et,this.undone=$t,this.prevRanges=kt,this.prevTime=Tt,this.prevComposition=Dt}}const DEPTH_OVERFLOW=20;function applyTransaction(dt,et,$t,kt){let Tt=$t.getMeta(historyKey),Dt;if(Tt)return Tt.historyState;$t.getMeta(closeHistoryKey)&&(dt=new HistoryState(dt.done,dt.undone,null,0,-1));let Ft=$t.getMeta("appendedTransaction");if($t.steps.length==0)return dt;if(Ft&&Ft.getMeta(historyKey))return Ft.getMeta(historyKey).redo?new HistoryState(dt.done.addTransform($t,void 0,kt,mustPreserveItems(et)),dt.undone,rangesFor($t.mapping.maps),dt.prevTime,dt.prevComposition):new HistoryState(dt.done,dt.undone.addTransform($t,void 0,kt,mustPreserveItems(et)),null,dt.prevTime,dt.prevComposition);if($t.getMeta("addToHistory")!==!1&&!(Ft&&Ft.getMeta("addToHistory")===!1)){let Ut=$t.getMeta("composition"),Ht=dt.prevTime==0||!Ft&&dt.prevComposition!=Ut&&(dt.prevTime<($t.time||0)-kt.newGroupDelay||!isAdjacentTo($t,dt.prevRanges)),Kt=Ft?mapRanges(dt.prevRanges,$t.mapping):rangesFor($t.mapping.maps);return new HistoryState(dt.done.addTransform($t,Ht?et.selection.getBookmark():void 0,kt,mustPreserveItems(et)),Branch.empty,Kt,$t.time,Ut??dt.prevComposition)}else return(Dt=$t.getMeta("rebased"))?new HistoryState(dt.done.rebased($t,Dt),dt.undone.rebased($t,Dt),mapRanges(dt.prevRanges,$t.mapping),dt.prevTime,dt.prevComposition):new HistoryState(dt.done.addMaps($t.mapping.maps),dt.undone.addMaps($t.mapping.maps),mapRanges(dt.prevRanges,$t.mapping),dt.prevTime,dt.prevComposition)}function isAdjacentTo(dt,et){if(!et)return!1;if(!dt.docChanged)return!0;let $t=!1;return dt.mapping.maps[0].forEach((kt,Tt)=>{for(let Dt=0;Dt<et.length;Dt+=2)kt<=et[Dt+1]&&Tt>=et[Dt]&&($t=!0)}),$t}function rangesFor(dt){let et=[];for(let $t=dt.length-1;$t>=0&&et.length==0;$t--)dt[$t].forEach((kt,Tt,Dt,Ft)=>et.push(Dt,Ft));return et}function mapRanges(dt,et){if(!dt)return null;let $t=[];for(let kt=0;kt<dt.length;kt+=2){let Tt=et.map(dt[kt],1),Dt=et.map(dt[kt+1],-1);Tt<=Dt&&$t.push(Tt,Dt)}return $t}function histTransaction(dt,et,$t){let kt=mustPreserveItems(et),Tt=historyKey.get(et).spec.config,Dt=($t?dt.undone:dt.done).popEvent(et,kt);if(!Dt)return null;let Ft=Dt.selection.resolve(Dt.transform.doc),Ut=($t?dt.done:dt.undone).addTransform(Dt.transform,et.selection.getBookmark(),Tt,kt),Ht=new HistoryState($t?Ut:Dt.remaining,$t?Dt.remaining:Ut,null,0,-1);return Dt.transform.setSelection(Ft).setMeta(historyKey,{redo:$t,historyState:Ht})}let cachedPreserveItems=!1,cachedPreserveItemsPlugins=null;function mustPreserveItems(dt){let et=dt.plugins;if(cachedPreserveItemsPlugins!=et){cachedPreserveItems=!1,cachedPreserveItemsPlugins=et;for(let $t=0;$t<et.length;$t++)if(et[$t].spec.historyPreserveItems){cachedPreserveItems=!0;break}}return cachedPreserveItems}const historyKey=new PluginKey("history"),closeHistoryKey=new PluginKey("closeHistory");function history(dt={}){return dt={depth:dt.depth||100,newGroupDelay:dt.newGroupDelay||500},new Plugin({key:historyKey,state:{init(){return new HistoryState(Branch.empty,Branch.empty,null,0,-1)},apply(et,$t,kt){return applyTransaction($t,kt,et,dt)}},config:dt,props:{handleDOMEvents:{beforeinput(et,$t){let kt=$t.inputType,Tt=kt=="historyUndo"?undo:kt=="historyRedo"?redo:null;return Tt?($t.preventDefault(),Tt(et.state,et.dispatch)):!1}}}})}function buildCommand(dt,et){return($t,kt)=>{let Tt=historyKey.getState($t);if(!Tt||(dt?Tt.undone:Tt.done).eventCount==0)return!1;if(kt){let Dt=histTransaction(Tt,$t,dt);Dt&&kt(et?Dt.scrollIntoView():Dt)}return!0}}const undo=buildCommand(!1,!0),redo=buildCommand(!0,!0);Extension.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:dt=>dt.length,wordCounter:dt=>dt.split(" ").filter(et=>et!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=dt=>{const et=(dt==null?void 0:dt.node)||this.editor.state.doc;if(((dt==null?void 0:dt.mode)||this.options.mode)==="textSize"){const kt=et.textBetween(0,et.content.size,void 0," ");return this.options.textCounter(kt)}return et.nodeSize},this.storage.words=dt=>{const et=(dt==null?void 0:dt.node)||this.editor.state.doc,$t=et.textBetween(0,et.content.size," "," ");return this.options.wordCounter($t)}},addProseMirrorPlugins(){let dt=!1;return[new Plugin({key:new PluginKey("characterCount"),appendTransaction:(et,$t,kt)=>{if(dt)return;const Tt=this.options.limit;if(Tt==null||Tt===0){dt=!0;return}const Dt=this.storage.characters({node:kt.doc});if(Dt>Tt){const Ft=Dt-Tt,Ut=0,Ht=Ft;console.warn(`[CharacterCount] Initial content exceeded limit of ${Tt} characters. Content was automatically trimmed.`);const Kt=kt.tr.deleteRange(Ut,Ht);return dt=!0,Kt}dt=!0},filterTransaction:(et,$t)=>{const kt=this.options.limit;if(!et.docChanged||kt===0||kt===null||kt===void 0)return!0;const Tt=this.storage.characters({node:$t.doc}),Dt=this.storage.characters({node:et.doc});if(Dt<=kt||Tt>kt&&Dt>kt&&Dt<=Tt)return!0;if(Tt>kt&&Dt>kt&&Dt>Tt||!et.getMeta("paste"))return!1;const Ut=et.selection.$head.pos,Ht=Dt-kt,Kt=Ut-Ht,Yt=Ut;return et.deleteRange(Kt,Yt),!(this.storage.characters({node:et.doc})>kt)}})]}});var Dropcursor=Extension.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[dropCursor(this.options)]}});Extension.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("focus"),props:{decorations:({doc:dt,selection:et})=>{const{isEditable:$t,isFocused:kt}=this.editor,{anchor:Tt}=et,Dt=[];if(!$t||!kt)return DecorationSet.create(dt,[]);let Ft=0;this.options.mode==="deepest"&&dt.descendants((Ht,Kt)=>{if(Ht.isText)return;if(!(Tt>=Kt&&Tt<=Kt+Ht.nodeSize-1))return!1;Ft+=1});let Ut=0;return dt.descendants((Ht,Kt)=>{if(Ht.isText||!(Tt>=Kt&&Tt<=Kt+Ht.nodeSize-1))return!1;if(Ut+=1,this.options.mode==="deepest"&&Ft-Ut>0||this.options.mode==="shallowest"&&Ut>1)return this.options.mode==="deepest";Dt.push(Decoration.node(Kt,Kt+Ht.nodeSize,{class:this.options.className}))}),DecorationSet.create(dt,Dt)}}})]}});var Gapcursor=Extension.create({name:"gapCursor",addProseMirrorPlugins(){return[gapCursor()]},extendNodeSchema(dt){var et;const $t={name:dt.name,options:dt.options,storage:dt.storage};return{allowGapCursor:(et=callOrReturn(getExtensionField(dt,"allowGapCursor",$t)))!=null?et:null}}}),Placeholder=Extension.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("placeholder"),props:{decorations:({doc:dt,selection:et})=>{const $t=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:kt}=et,Tt=[];if(!$t)return null;const Dt=this.editor.isEmpty;return dt.descendants((Ft,Ut)=>{const Ht=kt>=Ut&&kt<=Ut+Ft.nodeSize,Kt=!Ft.isLeaf&&isNodeEmpty(Ft);if((Ht||!this.options.showOnlyCurrent)&&Kt){const Yt=[this.options.emptyNodeClass];Dt&&Yt.push(this.options.emptyEditorClass);const Jt=Decoration.node(Ut,Ut+Ft.nodeSize,{class:Yt.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:Ft,pos:Ut,hasAnchor:Ht}):this.options.placeholder});Tt.push(Jt)}return this.options.includeChildren}),DecorationSet.create(dt,Tt)}}})]}});Extension.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:dt,options:et}=this;return[new Plugin({key:new PluginKey("selection"),props:{decorations($t){return $t.selection.empty||dt.isFocused||!dt.isEditable||isNodeSelection($t.selection)||dt.view.dragging?null:DecorationSet.create($t.doc,[Decoration.inline($t.selection.from,$t.selection.to,{class:et.className})])}}})]}});function nodeEqualsType({types:dt,node:et}){return et&&Array.isArray(dt)&&dt.includes(et.type)||(et==null?void 0:et.type)===dt}var TrailingNode=Extension.create({name:"trailingNode",addOptions(){return{node:"paragraph",notAfter:[]}},addProseMirrorPlugins(){const dt=new PluginKey(this.name),et=Object.entries(this.editor.schema.nodes).map(([,$t])=>$t).filter($t=>(this.options.notAfter||[]).concat(this.options.node).includes($t.name));return[new Plugin({key:dt,appendTransaction:($t,kt,Tt)=>{const{doc:Dt,tr:Ft,schema:Ut}=Tt,Ht=dt.getState(Tt),Kt=Dt.content.size,Yt=Ut.nodes[this.options.node];if(Ht)return Ft.insert(Kt,Yt.create())},state:{init:($t,kt)=>{const Tt=kt.tr.doc.lastChild;return!nodeEqualsType({node:Tt,types:et})},apply:($t,kt)=>{if(!$t.docChanged)return kt;const Tt=$t.doc.lastChild;return!nodeEqualsType({node:Tt,types:et})}}})]}}),UndoRedo=Extension.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:dt,dispatch:et})=>undo(dt,et),redo:()=>({state:dt,dispatch:et})=>redo(dt,et)}},addProseMirrorPlugins(){return[history(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),StarterKit=Extension.create({name:"starterKit",addExtensions(){var dt,et,$t,kt;const Tt=[];return this.options.bold!==!1&&Tt.push(Bold.configure(this.options.bold)),this.options.blockquote!==!1&&Tt.push(Blockquote.configure(this.options.blockquote)),this.options.bulletList!==!1&&Tt.push(BulletList.configure(this.options.bulletList)),this.options.code!==!1&&Tt.push(Code.configure(this.options.code)),this.options.codeBlock!==!1&&Tt.push(CodeBlock.configure(this.options.codeBlock)),this.options.document!==!1&&Tt.push(Document$2.configure(this.options.document)),this.options.dropcursor!==!1&&Tt.push(Dropcursor.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&Tt.push(Gapcursor.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&Tt.push(HardBreak.configure(this.options.hardBreak)),this.options.heading!==!1&&Tt.push(Heading.configure(this.options.heading)),this.options.undoRedo!==!1&&Tt.push(UndoRedo.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&Tt.push(HorizontalRule.configure(this.options.horizontalRule)),this.options.italic!==!1&&Tt.push(Italic.configure(this.options.italic)),this.options.listItem!==!1&&Tt.push(ListItem.configure(this.options.listItem)),this.options.listKeymap!==!1&&Tt.push(ListKeymap.configure((dt=this.options)==null?void 0:dt.listKeymap)),this.options.link!==!1&&Tt.push(Link.configure((et=this.options)==null?void 0:et.link)),this.options.orderedList!==!1&&Tt.push(OrderedList.configure(this.options.orderedList)),this.options.paragraph!==!1&&Tt.push(Paragraph.configure(this.options.paragraph)),this.options.strike!==!1&&Tt.push(Strike.configure(this.options.strike)),this.options.text!==!1&&Tt.push(Text.configure(this.options.text)),this.options.underline!==!1&&Tt.push(Underline.configure(($t=this.options)==null?void 0:$t.underline)),this.options.trailingNode!==!1&&Tt.push(TrailingNode.configure((kt=this.options)==null?void 0:kt.trailingNode)),Tt}}),index_default$9=StarterKit,index_default$8=ListItem,index_default$7=BulletList,index_default$6=OrderedList,inputRegex$1=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,pasteRegex=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,Highlight=Mark.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:dt=>dt.getAttribute("data-color")||dt.style.backgroundColor,renderHTML:dt=>dt.color?{"data-color":dt.color,style:`background-color: ${dt.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:dt}){return["mark",mergeAttributes(this.options.HTMLAttributes,dt),0]},renderMarkdown:(dt,et)=>`==${et.renderChildren(dt)}==`,parseMarkdown:(dt,et)=>et.applyMark("highlight",et.parseInline(dt.tokens||[])),markdownTokenizer:{name:"highlight",level:"inline",start:dt=>dt.indexOf("=="),tokenize(dt,et,$t){const Tt=/^(==)([^=]+)(==)/.exec(dt);if(Tt){const Dt=Tt[2].trim(),Ft=$t.inlineTokens(Dt);return{type:"highlight",raw:Tt[0],text:Dt,tokens:Ft}}}},addCommands(){return{setHighlight:dt=>({commands:et})=>et.setMark(this.name,dt),toggleHighlight:dt=>({commands:et})=>et.toggleMark(this.name,dt),unsetHighlight:()=>({commands:dt})=>dt.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[markInputRule({find:inputRegex$1,type:this.type})]},addPasteRules(){return[markPasteRule({find:pasteRegex,type:this.type})]}}),index_default$5=Highlight,TextAlign=Extension.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:dt=>{const et=dt.style.textAlign;return this.options.alignments.includes(et)?et:this.options.defaultAlignment},renderHTML:dt=>dt.textAlign?{style:`text-align: ${dt.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:dt=>({commands:et})=>this.options.alignments.includes(dt)?this.options.types.map($t=>et.updateAttributes($t,{textAlign:dt})).every($t=>$t):!1,unsetTextAlign:()=>({commands:dt})=>this.options.types.map(et=>dt.resetAttributes(et,"textAlign")).every(et=>et),toggleTextAlign:dt=>({editor:et,commands:$t})=>this.options.alignments.includes(dt)?et.isActive({textAlign:dt})?$t.unsetTextAlign():$t.setTextAlign(dt):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),index_default$4=TextAlign,index_default$3=Placeholder,MAX_FIND_CHILD_SPAN_DEPTH=20,findChildSpans=(dt,et=0)=>{const $t=[];return!dt.children.length||et>MAX_FIND_CHILD_SPAN_DEPTH||Array.from(dt.children).forEach(kt=>{kt.tagName==="SPAN"?$t.push(kt):kt.children.length&&$t.push(...findChildSpans(kt,et+1))}),$t},mergeNestedSpanStyles=dt=>{if(!dt.children.length)return;const et=findChildSpans(dt);et&&et.forEach($t=>{var kt,Tt;const Dt=$t.getAttribute("style"),Ft=(Tt=(kt=$t.parentElement)==null?void 0:kt.closest("span"))==null?void 0:Tt.getAttribute("style");$t.setAttribute("style",`${Ft};${Dt}`)})},TextStyle=Mark.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!0}},parseHTML(){return[{tag:"span",consuming:!1,getAttrs:dt=>dt.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&mergeNestedSpanStyles(dt),{}):!1}]},renderHTML({HTMLAttributes:dt}){return["span",mergeAttributes(this.options.HTMLAttributes,dt),0]},addCommands(){return{toggleTextStyle:dt=>({commands:et})=>et.toggleMark(this.name,dt),removeEmptyTextStyle:()=>({tr:dt})=>{const{selection:et}=dt;return dt.doc.nodesBetween(et.from,et.to,($t,kt)=>{if($t.isTextblock)return!0;$t.marks.filter(Tt=>Tt.type===this.type).some(Tt=>Object.values(Tt.attrs).some(Dt=>!!Dt))||dt.removeMark(kt,kt+$t.nodeSize,this.type)}),!0}}}}),BackgroundColor=Extension.create({name:"backgroundColor",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:dt=>{var et;const $t=dt.getAttribute("style");if($t){const kt=$t.split(";").map(Tt=>Tt.trim()).filter(Boolean);for(let Tt=kt.length-1;Tt>=0;Tt-=1){const Dt=kt[Tt].split(":");if(Dt.length>=2){const Ft=Dt[0].trim().toLowerCase(),Ut=Dt.slice(1).join(":").trim();if(Ft==="background-color")return Ut.replace(/['"]+/g,"")}}}return(et=dt.style.backgroundColor)==null?void 0:et.replace(/['"]+/g,"")},renderHTML:dt=>dt.backgroundColor?{style:`background-color: ${dt.backgroundColor}`}:{}}}}]},addCommands(){return{setBackgroundColor:dt=>({chain:et})=>et().setMark("textStyle",{backgroundColor:dt}).run(),unsetBackgroundColor:()=>({chain:dt})=>dt().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()}}}),Color$1=Extension.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:dt=>{var et;const $t=dt.getAttribute("style");if($t){const kt=$t.split(";").map(Tt=>Tt.trim()).filter(Boolean);for(let Tt=kt.length-1;Tt>=0;Tt-=1){const Dt=kt[Tt].split(":");if(Dt.length>=2){const Ft=Dt[0].trim().toLowerCase(),Ut=Dt.slice(1).join(":").trim();if(Ft==="color")return Ut.replace(/['"]+/g,"")}}}return(et=dt.style.color)==null?void 0:et.replace(/['"]+/g,"")},renderHTML:dt=>dt.color?{style:`color: ${dt.color}`}:{}}}}]},addCommands(){return{setColor:dt=>({chain:et})=>et().setMark("textStyle",{color:dt}).run(),unsetColor:()=>({chain:dt})=>dt().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),FontFamily=Extension.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:dt=>dt.style.fontFamily,renderHTML:dt=>dt.fontFamily?{style:`font-family: ${dt.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:dt=>({chain:et})=>et().setMark("textStyle",{fontFamily:dt}).run(),unsetFontFamily:()=>({chain:dt})=>dt().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),FontSize=Extension.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:dt=>dt.style.fontSize,renderHTML:dt=>dt.fontSize?{style:`font-size: ${dt.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:dt=>({chain:et})=>et().setMark("textStyle",{fontSize:dt}).run(),unsetFontSize:()=>({chain:dt})=>dt().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),LineHeight=Extension.create({name:"lineHeight",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:dt=>dt.style.lineHeight,renderHTML:dt=>dt.lineHeight?{style:`line-height: ${dt.lineHeight}`}:{}}}}]},addCommands(){return{setLineHeight:dt=>({chain:et})=>et().setMark("textStyle",{lineHeight:dt}).run(),unsetLineHeight:()=>({chain:dt})=>dt().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()}}});Extension.create({name:"textStyleKit",addExtensions(){const dt=[];return this.options.backgroundColor!==!1&&dt.push(BackgroundColor.configure(this.options.backgroundColor)),this.options.color!==!1&&dt.push(Color$1.configure(this.options.color)),this.options.fontFamily!==!1&&dt.push(FontFamily.configure(this.options.fontFamily)),this.options.fontSize!==!1&&dt.push(FontSize.configure(this.options.fontSize)),this.options.lineHeight!==!1&&dt.push(LineHeight.configure(this.options.lineHeight)),this.options.textStyle!==!1&&dt.push(TextStyle.configure(this.options.textStyle)),dt}});var index_default$2=Color$1;const githubDark="";function Tooltip({text:dt}){const[et,$t]=reactExports.useState(!1),[kt,Tt]=reactExports.useState(null),Dt=reactExports.useRef(null);reactExports.useEffect(()=>{function Ut(Ht){Ht.target.closest(".tooltip-root")||$t(!1)}return document.addEventListener("click",Ut),()=>document.removeEventListener("click",Ut)},[]);function Ft(Ut){Ut.stopPropagation();const Ht=Dt.current.getBoundingClientRect();Tt({top:Ht.bottom+8,left:Ht.left+Ht.width/2}),$t(Kt=>!Kt)}return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{ref:Dt,type:"button",onClick:Ft,className:"tooltip-root ml-1 text-gray-400 hover:text-green focus:outline-none",children:jsxRuntimeExports.jsx(Info,{size:14,className:"text-current"})}),et&&kt&&reactDomExports.createPortal(jsxRuntimeExports.jsx("div",{style:{top:kt.top,left:kt.left,transform:"translateX(-50%)"},className:`
              fixed z-[9999]
              w-64
              bg-gray-900
              border border-gray-700
              text-xs text-gray-200
              rounded-lg
              p-3
              shadow-2xl
              normal-case
            `,children:dt}),document.body)]})}function debounce(dt,et){let $t;const kt=(...Tt)=>{clearTimeout($t),$t=setTimeout(()=>dt(...Tt),et)};return kt.cancel=()=>clearTimeout($t),kt}function BookEditor({bookId:dt,content:et,setContent:$t}){const kt=dt?`book-editor-draft-${dt}`:null,[Tt,Dt]=reactExports.useState(!1),[Ft,Ut]=reactExports.useState(null),[Ht,Kt]=reactExports.useState("dark"),Yt=reactExports.useRef(!1),[Jt,Zt]=reactExports.useState([]),[er,rr]=reactExports.useState(!1),sr=Ht==="dark",ir=sr?"bg-[#111] border-gray-800":"bg-gray-100 border-gray-300",nr=sr?"text-gray-300 hover:text-white":"text-gray-800 hover:text-black",or="h-9 flex items-center gap-2 px-3 rounded-md text-sm leading-none",lr=reactExports.useMemo(()=>debounce(({editor:ur})=>{const pr=ur.getHTML();Dt(!0),$t(pr),kt&&localStorage.setItem(kt,pr),setTimeout(()=>Dt(!1),400)},300),[dt]);reactExports.useEffect(()=>()=>{lr.cancel()},[lr]);const cr=useEditor({extensions:[TextStyle,index_default$2,index_default$d,index_default$8,index_default$7.configure({keepMarks:!0,keepAttributes:!0}),index_default$6.configure({keepMarks:!0,keepAttributes:!0}),index_default$9.configure({history:!0,bulletList:!1,orderedList:!1,blockquote:!1}),index_default$a,index_default$5,index_default$b.configure({openOnClick:!1}),index_default$4.configure({types:["heading","paragraph","listItem"]}),index_default$3.configure({placeholder:"Start writing your book..."})],editorProps:{attributes:{spellcheck:"true",autocorrect:"on",autocomplete:"on",class:"focus:outline-none prose prose-lg max-w-none leading-relaxed"}},onUpdate:lr});reactExports.useEffect(()=>{!cr||Yt.current||(et&&cr.commands.setContent(et,!1),Yt.current=!0)},[cr]);const dr=async ur=>{await axiosInstance.post("/dictionary/add",{word:ur}),Zt(pr=>{const mr=pr.filter(vr=>vr.word!==ur);return mr.length===0&&rr(!1),mr})};return reactExports.useEffect(()=>{if(!cr||Jt.length===0)return;const ur=cr.getText().toLowerCase();Zt(pr=>{const mr=pr.filter(vr=>ur.includes(vr.word.toLowerCase()));return mr.length===0&&rr(!1),mr})},[cr==null?void 0:cr.getText()]),cr&&(window.__EDITOR=cr),cr?jsxRuntimeExports.jsxs("div",{className:`rounded-xl border overflow-hidden
    ${sr?"border-gray-800 bg-[#0b0b0b]":"border-gray-300 bg-white"}
  `,children:[jsxRuntimeExports.jsxs("div",{className:`flex justify-between items-center px-4 py-3 border-b
    ${sr?"bg-[#0b0b0b] border-gray-800":"bg-gray-100 border-gray-300"}
  `,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-400 uppercase tracking-wide",children:"Draft"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:async()=>{if(!cr)return;const ur=cr.getHTML(),pr=cr.getText();Dt(!0),$t(ur),localStorage.setItem(kt,ur),await axiosInstance.post("/books/draft",{bookId:dt,draftText:ur});try{const vr=(await axiosInstance.post("/books/spellcheck",{text:pr})).data.issues;vr.length>0?Zt(vr):Zt([])}catch(mr){console.warn("Spellcheck failed, save still succeeded",mr)}Dt(!1),Ut(Date.now())},className:"px-3 py-1 text-xs rounded bg-green text-black",children:"Save"}),Ft&&jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-400",children:"Saved just now"}),jsxRuntimeExports.jsx(Tooltip,{text:'Text wrapped in quotes "like this" or brackets [like this] will be preserved and never rewritten by AI.'})]}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>Kt(sr?"light":"dark"),className:`
      h-8 px-3 rounded-md text-xs font-medium border transition
      ${sr?"border-gray-600 text-white hover:bg-white/10":"border-gray-400 text-gray-900 hover:bg-black/5"}
    `,children:sr?"Light Mode":"Dark Mode"})]}),Jt.length>0&&jsxRuntimeExports.jsxs("div",{className:"px-4 py-2 border-b border-gray-800 bg-[#0b0b0b]",children:[jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>rr(ur=>!ur),className:"flex items-center gap-1 text-xs text-yellow-400 hover:underline",children:[" ",Jt.length," issue",Jt.length>1?"s":""]}),er&&jsxRuntimeExports.jsxs("div",{className:"mt-2 w-full rounded-none border border-gray-700 bg-[#111] px-4 py-3 text-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-2",children:[jsxRuntimeExports.jsx("span",{className:"text-xs uppercase text-gray-400",children:"Spelling issues"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>rr(!1),className:"text-xs text-gray-400 hover:text-white",children:"Close"})]}),jsxRuntimeExports.jsx("ul",{className:"space-y-2",children:Jt.map((ur,pr)=>jsxRuntimeExports.jsxs("li",{className:"flex items-center justify-between gap-3",children:[jsxRuntimeExports.jsx("span",{className:"text-white",children:ur.word}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>dr(ur.word),className:"text-xs text-green hover:underline",children:"Add to dictionary"})]},pr))})]})]}),jsxRuntimeExports.jsx("div",{className:`sticky top-0 z-10 ${ir}
  px-4 py-3
  border-b
  flex flex-wrap items-center gap-x-6 gap-y-3`,children:jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-x-6 gap-y-3 items-center",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-3 items-center whitespace-nowrap",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>cr.chain().focus().toggleBold().run(),className:`px-2 py-1 rounded-md font-semibold text-lg transition-colors ${cr.isActive("bold")?"text-green/90 bg-green/10":`${nr} ${sr?"hover:bg-white/5":"hover:bg-black/5"}`}`,children:"B"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>cr.chain().focus().toggleItalic().run(),className:`px-2 py-1 rounded-md font-semibold text-lg transition-colors ${cr.isActive("italic")?"text-green/90 bg-green/10":`${nr} ${sr?"hover:bg-white/5":"hover:bg-black/5"}`}`,children:"I"}),jsxRuntimeExports.jsx("button",{type:"button",className:`px-2 py-1 rounded-md font-semibold text-lg transition-colors ${cr.isActive("underline")?"text-green/90 bg-green/10":`${nr} ${sr?"hover:bg-white/5":"hover:bg-black/5"}`}`,children:"U"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>cr.chain().focus().toggleHighlight().run(),className:`px-2 py-1 rounded-md text-sm font-medium transition-colors ${cr.isActive("highlight")?"bg-yellow/80 text-black":`${nr} ${sr?"hover:bg-white/5":"hover:bg-black/5"}`}`,children:"HL"})]}),jsxRuntimeExports.jsxs("div",{className:`flex gap-4 items-center pl-6 border-l ${sr?"border-gray-700":"border-gray-300"}`,children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>cr.chain().focus().toggleBulletList().run(),className:`p-2 rounded-md ${cr.isActive("bulletList")?"bg-downloadGreen text-black":`${nr} ${sr?"hover:bg-gray-700/60":"hover:bg-gray-200"}`}`,title:"Bullet List",children:jsxRuntimeExports.jsx(List,{size:18})}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>cr.chain().focus().toggleOrderedList().run(),className:`p-2 rounded-md ${cr.isActive("orderedList")?"bg-downloadGreen text-black":`${nr} ${sr?"hover:bg-gray-700/60":"hover:bg-gray-200"}`}`,title:"Numbered List",children:jsxRuntimeExports.jsx(ListOrdered,{size:18})}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>cr.chain().focus().toggleBlockquote().run(),className:`px-2 py-1 rounded-md font-medium transition-colors ${cr.isActive("blockquote")?"text-green/90 bg-green/10":`${nr} ${sr?"hover:bg-white/5":"hover:bg-black/5"}`}`,children:" Quote"})]}),cr.state.selection.from!==cr.state.selection.to&&jsxRuntimeExports.jsxs("div",{className:`flex items-center gap-3 pl-6 border-l ${sr?"border-gray-700":"border-gray-300"}`,children:[jsxRuntimeExports.jsx("input",{type:"color",onChange:ur=>cr.chain().focus().setColor(ur.target.value).run(),value:cr.getAttributes("textStyle").color||"#ffffff",className:"w-8 h-8 cursor-pointer bg-transparent",title:"Text color"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>cr.chain().focus().unsetColor().run(),className:"text-sm text-gray-400 hover:text-white",children:"Clear"})]}),jsxRuntimeExports.jsxs("div",{className:`flex gap-2 items-center pl-6 border-l ${sr?"border-gray-700":"border-gray-300"}`,children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>cr.chain().focus().setTextAlign("left").run(),className:`p-2 rounded-md ${cr.isActive({textAlign:"left"})?"bg-green-500/20 text-green-400":`${nr} ${sr?"hover:bg-gray-700/60":"hover:bg-gray-200"}`}`,title:"Align Left",children:jsxRuntimeExports.jsx(TextAlignStart,{size:18})}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>cr.chain().focus().setTextAlign("center").run(),className:`p-2 rounded-md ${cr.isActive({textAlign:"center"})?"bg-green-500/20 text-green-400":`${nr} ${sr?"hover:bg-gray-700/60":"hover:bg-gray-200"}`}`,title:"Align Center",children:jsxRuntimeExports.jsx(TextAlignCenter,{size:18})}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>cr.chain().focus().setTextAlign("right").run(),className:`p-2 rounded-md ${cr.isActive({textAlign:"right"})?"bg-green-500/20 text-green-400":`${nr} ${sr?"hover:bg-gray-700/60":"hover:bg-gray-200"}`}`,title:"Align Right",children:jsxRuntimeExports.jsx(TextAlignEnd,{size:18})})]}),jsxRuntimeExports.jsxs("div",{className:`
            flex gap-4 items-center
            w-full sm:w-auto
            sm:ml-auto
            pt-3 sm:pt-0
            mt-3 sm:mt-0
            border-t sm:border-t-0
            ${sr?"border-gray-700":"border-gray-300"}
          `,children:[jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>cr.chain().focus().undo().run(),className:`${or} ${nr}`,children:[jsxRuntimeExports.jsx("span",{className:"text-base",children:""}),jsxRuntimeExports.jsx("span",{children:"Undo"})]}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>cr.chain().focus().redo().run(),className:`${or} ${nr}`,children:[jsxRuntimeExports.jsx("span",{className:"text-base",children:""}),jsxRuntimeExports.jsx("span",{children:"Redo"})]})]})]})}),jsxRuntimeExports.jsx(EditorContent,{editor:cr,className:`
    prose max-w-none
    ${sr?"prose-invert bg-[#0f0f0f] [&_*]:text-white":"bg-white text-gray-900"}
    type-text
    min-h-[70vh] max-h-[90vh]
    resize-y overflow-auto
    p-8
    focus:outline-none focus:ring-2 focus:ring-green-500/50
  `})]}):null}function FontSelector({fontName:dt,setFontName:et,setFontFile:$t,isFreePlan:kt=!1}){var rr,sr;const Tt=fontThemes.map(ir=>({...ir,locked:kt&&!["Montserrat","AdobeArabic","Bebas Neue"].includes(ir.name)})),[Dt,Ft]=reactExports.useState(dt||((rr=Tt==null?void 0:Tt[0])==null?void 0:rr.name)||""),[Ut,Ht]=reactExports.useState(Dt),[Kt,Yt]=reactExports.useState(!1),[Jt,Zt]=reactExports.useState(!1);reactExports.useEffect(()=>{const ir=Tt.find(lr=>lr.name===Ut);if(!(ir!=null&&ir.file))return;const nr=ir.file.startsWith("http")?ir.file:`${window.location.origin}${ir.file}`;new FontFace(ir.name,`url(${nr})`).load().then(lr=>{document.fonts.add(lr),Zt(!0)}).catch(()=>Zt(!1))},[Ut]);const er=ir=>{Ft(ir.name),et(ir.name),$t(ir.file),Ht(ir.name),Yt(!1)};return jsxRuntimeExports.jsxs("div",{className:`
      w-full relative mt-4
      bg-dashboard-sidebar-light
      dark:bg-dashboard-sidebar-dark
      border border-dashboard-border-light
      dark:border-dashboard-border-dark
      rounded-xl
      p-5
      shadow-inner
    `,children:[jsxRuntimeExports.jsxs("h3",{className:`
        flex items-center gap-2 text-lg font-semibold pb-6
        text-dashboard-text-light
        dark:text-dashboard-text-dark
`,children:[jsxRuntimeExports.jsx(Type,{size:18,className:"text-dashboard-muted-light dark:text-dashboard-muted-dark"}),"Font Style",jsxRuntimeExports.jsx(Tooltip,{text:"Choose how your book text appears. You can change fonts anytime before exporting or publishing."})]}),jsxRuntimeExports.jsx("div",{className:`
  mb-4 p-4 rounded-xl text-center
  bg-dashboard-hover-light
  dark:bg-dashboard-hover-dark
  border border-dashboard-border-light
  dark:border-dashboard-border-dark
`,style:{fontFamily:Jt?Ut:"sans-serif",transition:"all 0.3s ease"},children:jsxRuntimeExports.jsx("p",{className:`
          font-medium
          text-dashboard-text-light
          dark:text-dashboard-text-dark`,style:{fontSize:Ut==="AdobeArabic"?"24px":"20px",lineHeight:Ut==="AdobeArabic"?"1.2":"1.5"},children:"AaBbCc  The quick brown fox jumps over the lazy dog."})}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>Yt(!Kt),className:`
        w-full flex items-center justify-between
        bg-dashboard-bg-light
        dark:bg-dashboard-bg-dark
        border border-dashboard-border-light
        dark:border-dashboard-border-dark
        text-dashboard-text-light
        dark:text-dashboard-text-dark
        text-base rounded-lg p-2.5
        hover:bg-dashboard-hover-light
        dark:hover:bg-dashboard-hover-dark
        transition
        `,style:{fontFamily:Jt?Dt:"sans-serif"},children:[jsxRuntimeExports.jsx("span",{children:((sr=Tt.find(ir=>ir.name===Dt))==null?void 0:sr.label)||Dt}),Kt?jsxRuntimeExports.jsx(ChevronUp,{size:18}):jsxRuntimeExports.jsx(ChevronDown,{size:18})]}),Kt&&jsxRuntimeExports.jsx("div",{className:`
          absolute z-20 mt-2 w-full max-h-[260px] overflow-y-auto
          bg-dashboard-sidebar-light
          dark:bg-dashboard-sidebar-dark
          border border-dashboard-border-light
          dark:border-dashboard-border-dark
          rounded-lg shadow-lg
          scrollbar-thin
          scrollbar-thumb-dashboard-border-light
          dark:scrollbar-thumb-dashboard-border-dark
          scrollbar-track-transparent
        `,children:Tt.map(ir=>jsxRuntimeExports.jsxs("div",{onMouseEnter:()=>!ir.locked&&Ht(ir.name),onClick:()=>!ir.locked&&er(ir),className:`px-4 py-2 transition-all duration-150 cursor-pointer ${ir.locked?"text-dashboard-muted-light dark:text-dashboard-muted-dark cursor-not-allowed opacity-60 grayscale":"text-dashboard-text-light dark:text-dashboard-text-dark hover:bg-dashboard-hover-light dark:hover:bg-dashboard-hover-dark"} ${Dt===ir.name?"bg-dashboard-hover-light dark:bg-dashboard-hover-dark":""}`,style:{fontFamily:ir.name},children:[ir.label,ir.locked&&jsxRuntimeExports.jsx("span",{className:"ml-2 text-yellow-500",children:""})]},ir.name))}),kt&&jsxRuntimeExports.jsx("p",{className:"text-xs text-yellow-400 mt-2 text-center",children:"Upgrade to unlock all fonts."}),jsxRuntimeExports.jsx("p",{className:`
        text-xs mt-3 text-center
        text-dashboard-muted-light
        dark:text-dashboard-muted-dark
      `,children:"Hover to preview, click to select."})]})}function SectionSelector({sections:dt,activeSectionId:et,setActiveSectionId:$t,text:kt,setText:Tt,setSections:Dt,autoSaveDraft:Ft}){const Ut=reactExports.useRef(null),[Ht,Kt]=reactExports.useState(!1);reactExports.useEffect(()=>{function Zt(er){Ut.current&&!Ut.current.contains(er.target)&&Kt(!1)}return Ht&&document.addEventListener("mousedown",Zt),()=>{document.removeEventListener("mousedown",Zt)}},[Ht]);const Yt=dt.find(Zt=>Zt.id===et);function Jt(Zt){Dt(er=>er.map(rr=>rr.id===et?{...rr,content:kt}:rr)),$t(Zt.id),Tt(Zt.content||""),Kt(!1),Ft==null||Ft()}return jsxRuntimeExports.jsxs("div",{ref:Ut,className:"relative w-full sm:w-auto sm:min-w-[220px]",children:[jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>Kt(Zt=>!Zt),className:`
          w-full flex items-center justify-between
          rounded-lg px-4 py-2 text-sm transition
          bg-dashboard-sidebar-light
          dark:bg-dashboard-sidebar-dark
          text-dashboard-text-light
          dark:text-dashboard-text-dark
          border border-dashboard-border-light
          dark:border-dashboard-border-dark
          hover:bg-dashboard-hover-light
          dark:hover:bg-dashboard-hover-dark
        `,children:[jsxRuntimeExports.jsx("span",{className:"truncate",children:(Yt==null?void 0:Yt.title)||"Untitled Section"}),Ht?jsxRuntimeExports.jsx(ChevronUp,{size:16,className:"opacity-80"}):jsxRuntimeExports.jsx(ChevronDown,{size:16,className:"opacity-80"})]}),Ht&&jsxRuntimeExports.jsx("div",{className:`
            absolute z-30 mt-2 w-full
            rounded-lg shadow-lg
            max-h-[260px] overflow-y-auto
            bg-dashboard-sidebar-light
            dark:bg-dashboard-sidebar-dark
            border border-dashboard-border-light
            dark:border-dashboard-border-dark
          `,children:dt.map(Zt=>{const er=Zt.id===et;return jsxRuntimeExports.jsx("div",{onClick:()=>Jt(Zt),className:`
                  px-4 py-2 cursor-pointer text-sm transition
                  ${er?`
                        bg-dashboard-hover-light
                        dark:bg-dashboard-hover-dark
                        text-dashboard-text-light
                        dark:text-dashboard-text-dark
                      `:`
                        text-dashboard-text-light/70
                        dark:text-dashboard-text-dark/70
                        hover:bg-dashboard-hover-light
                        dark:hover:bg-dashboard-hover-dark
                      `}
                `,children:Zt.title||"Untitled Section"},Zt.id)})})]})}function BookPromptForm({text:dt,setText:et,pageCount:$t,setPageCount:kt,link:Tt,setLink:Dt,cover:Ft,setCover:Ut,title:Ht,setTitle:Kt,authorName:Yt,bookName:Jt,setBookName:Zt,bookType:er,setBookType:rr,loading:sr,bookId:ir,partLocked:nr,partNumber:or,onClose:lr,setShowGenerating:cr,fontName:dr,setFontName:ur,fontFile:pr,setFontFile:mr}){const[kr,br]=reactExports.useState(!1),[_r,Or]=reactExports.useState(!1),[Pr,Mr]=reactExports.useState(null);useAuth();const[Rr,Tr]=reactExports.useState(sessionStorage.getItem("shownDraftBanner")==="true"),[xr,wr]=reactExports.useState(Yt||""),[zr,Hr]=reactExports.useState(!1),[Gr,Xr]=reactExports.useState(!1),[rs,Yr]=reactExports.useState(!1),[es,ns]=reactExports.useState(""),[ms,ls]=reactExports.useState(""),[ds,fs]=reactExports.useState(null),cs=reactExports.useRef(""),xs=reactExports.useRef(!1),[us,$s]=reactExports.useState(!1),[ks,Ds]=reactExports.useState(!0),[Cs,Ts]=reactExports.useState([{id:"section-1",title:"Section 1",content:""}]),[Ns,Ms]=reactExports.useState("section-1"),[Us,Ws]=reactExports.useState(null),[Ks,Qs]=reactExports.useState(""),qs=Cs.find(hs=>hs.id===Ns),zs=qs?ps(qs.content):0,Js=Cs.reduce((hs,Es)=>hs+ps(Es.content),0),_s=!!ir&&(xs.current||Gr);reactExports.useEffect(()=>{Cs.length===1&&Cs[0].id==="section-1"&&!Cs[0].content&&(dt!=null&&dt.trim())&&Ts(hs=>[{...hs[0],content:dt}])},[dt]);async function Fs(hs){const Es=hs.target.files[0];if(Es){Hr(!0);try{const ws=Es.name.split(".").pop().toLowerCase();let Ss="";if(ws==="txt")Ss=await Es.text();else if(ws==="docx"){const bs=await __vitePreload(()=>import("./index-4945d991.js").then(Rs=>Rs.i),[]),as=await Es.arrayBuffer();Ss=(await bs.extractRawText({arrayBuffer:as})).value||""}else{y$4.error("Unsupported file. Please upload .txt or .docx");return}const Ls=ps(Ss);if(Ls>3e3){y$4.error(`This file contains ${Ls.toLocaleString()} words. 
The maximum allowed per chapter is ${3e3.toLocaleString()}. 
Please split the file into multiple chapters.`);return}et(Ss),y$4.success(`Imported ${Ls.toLocaleString()} words successfully`)}catch(ws){console.error("Upload failed:",ws),y$4.error("Failed to import file.")}finally{Hr(!1),hs.target.value=""}}}reactExports.useEffect(()=>{et(""),Kt(""),Ts([{id:"section-1",title:"Section 1",content:""}]),Ms("section-1"),Xr(!1),Mr(null),wr(Yt||""),Or(!1),$s(!1),cs.current="",xs.current=!1,Ds(!0)},[ir]),reactExports.useEffect(()=>{async function hs(){var Es,ws,Ss;if(!ir){Ds(!1);return}try{const Ls=or>1?`/books/${ir}/part/${or}/draft`:`/books/draft/${ir}`,bs=await axiosInstance.get(Ls);if((Es=bs.data)!=null&&Es.sections_json){const vs=(Array.isArray(bs.data.sections_json)?bs.data.sections_json:JSON.parse(bs.data.sections_json)).filter(Rs=>Rs.source==="gpt");if(vs.length){Xr(!0),Ts(vs),Ms(vs[0].id),et(vs[0].content||""),bs.data.book_name&&Zt(bs.data.book_name),bs.data.link&&Dt(bs.data.link),bs.data.author_name&&wr(bs.data.author_name),bs.data.book_type&&rr(bs.data.book_type),bs.data.title&&Kt(bs.data.title),xs.current=!0;return}}if((ws=bs.data)!=null&&ws.draft_text){if(Xr(!1),bs.data.sections_json){const as=Array.isArray(bs.data.sections_json)?bs.data.sections_json:JSON.parse(bs.data.sections_json);as.length&&(Ts(as),Ms(as[0].id),et(as[0].content||"")),xs.current=!0}else et(bs.data.draft_text||"");bs.data.book_name&&Zt(bs.data.book_name),bs.data.link&&Dt(bs.data.link),bs.data.last_saved_at&&Mr(bs.data.last_saved_at),bs.data.author_name&&wr(bs.data.author_name),bs.data.book_type&&rr(bs.data.book_type),bs.data.title&&Kt(bs.data.title),Rr||(Or(!0),y$4.info("Loaded saved draft "),setTimeout(()=>Or(!1),4e3),sessionStorage.setItem("shownDraftBanner","true"),Tr(!0));return}}catch(Ls){((Ss=Ls.response)==null?void 0:Ss.status)!==404&&console.error("Failed to load draft:",Ls)}finally{Ds(!1)}}hs()},[ir,or]),reactExports.useEffect(()=>{if(!ir||!Cs.length||kr||!xs.current)return;const hs=JSON.stringify(Cs);if(hs===cs.current)return;const Es=setTimeout(()=>{_a(),cs.current=hs},1500);return()=>clearTimeout(Es)},[Cs]),reactExports.useEffect(()=>{if(!ir)return;const hs=()=>{const Es=or>1?`/books/${ir}/part/${or}/draft`:"/books/draft";navigator.sendBeacon(Es,JSON.stringify({bookId:ir,sections:Cs,bookName:Jt,link:Tt,author_name:xr||Yt,book_type:er,font_name:dr,font_file:pr}))};return window.addEventListener("beforeunload",hs),()=>window.removeEventListener("beforeunload",hs)},[ir,or,Cs,Jt,Tt,xr,Yt,er,dr,pr]);const[,Ln]=reactExports.useState(0);reactExports.useEffect(()=>{const hs=setInterval(()=>{Ln(Es=>Es+1)},6e4);return()=>clearInterval(hs)},[]);async function _a(){try{br(!0),await axiosInstance.post(or>1?`/books/${ir}/part/${or}/draft`:"/books/draft",{bookId:ir,draftText:dt,sections:Cs,bookName:Jt,link:Tt,author_name:xr||Yt,book_type:er,font_name:dr,font_file:pr}),Mr(new Date().toISOString()),$s(!0),setTimeout(()=>{$s(!1)},4e3)}catch(hs){console.error("Auto-save failed",hs)}finally{br(!1)}}async function xo(){if(!(dt!=null&&dt.trim())){y$4.warn("Write something before saving!");return}br(!0);try{await axiosInstance.post(`/books/${ir}/part/${or}/draft`,{draftText:dt,sections:Cs,title:chapterTitle}),y$4.success("Draft saved successfully ")}catch(hs){console.error("Save draft failed:",hs),y$4.error("Failed to save draft")}finally{br(!1)}}async function Vs(hs){hs.preventDefault();const Es=Cs.reduce((bs,as)=>as.id===Ns?bs+ps(dt):bs+ps(as.content),0);if(Es>3e3){y$4.error(`This chapter has ${Es.toLocaleString()} words. The maximum allowed is ${3e3.toLocaleString()}. Please split this into another chapter.`);return}Ts(bs=>bs.map(as=>as.id===Ns?{...as,content:dt}:as));const ws=Cs.map(bs=>bs.id===Ns?{...bs,content:dt}:bs),Ss=ws.map((bs,as)=>`Section ${as+1}: ${bs.title||"Untitled"}
${bs.content||""}`).join(`

`),Ls={bookId:ir,prompt:Ss||dt,sections:ws,pages:$t,link:Tt,coverImage:Ft,bookName:Jt,authorName:Yt,bookType:er,title:Ht,font_name:dr,font_file:pr,partNumber:or,isEditing:Gr===!0};try{cr(!0),lr(),axiosInstance.post("/books/prompt",Ls),y$4.success("Your chapter is being generated "),localStorage.removeItem("bookDraftLocal")}catch(bs){console.error("Generation failed to start:",bs),y$4.error("Failed to start generation"),cr(!1)}}function ss(hs){if(!hs)return null;const Es=new Date(hs),ws=Date.now()-Es.getTime(),Ss=Math.floor(ws/6e4);if(Ss<1)return"just now";if(Ss<60)return`${Ss} minute${Ss!==1?"s":""} ago`;const Ls=Math.floor(Ss/60);if(Ls<24)return`${Ls} hour${Ls!==1?"s":""} ago`;const bs=Math.floor(Ls/24);return`${bs} day${bs!==1?"s":""} ago`}function Wr(hs){if(!hs)return"";const Es=Date.now()-new Date(hs).getTime(),ws=Math.floor(Es/6e4);if(ws<1)return"";if(ws===1)return"Saved 1 minute ago";if(ws<60)return`Saved ${ws} minutes ago`;const Ss=Math.floor(ws/60);return`Saved ${Ss} hour${Ss!==1?"s":""} ago`}function gs(){if(!es.trim()){y$4.warn("Enter text to find");return}const hs=new RegExp(es,"gi"),Es=dt.replace(hs,ms);et(Es),y$4.success("Replaced!"),Yr(!1)}function ps(hs=""){const Es=hs.replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim();return Es?Es.split(" ").length:0}function js(hs){const Es=Cs.find(Ls=>Ls.id===hs);if(!Es)return;const ws=Cs.filter(Ls=>Ls.id!==hs);Ts(ws);const Ss=ws[0];Ss?(Ms(Ss.id),et(Ss.content||"")):(Ms(null),et("")),fs(Es),y$4(Ls=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-white",children:"Section deleted"}),jsxRuntimeExports.jsx("button",{onClick:()=>{Ts(bs=>[...bs,Es]),Ms(Es.id),et(Es.content||""),fs(null),y$4.dismiss(Ls.id)},className:"text-sm px-2 py-1 rounded bg-green text-black font-medium",children:"Undo"})]}),{duration:5e3}),setTimeout(()=>{fs(null)},5e3)}return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[_r&&jsxRuntimeExports.jsxs("div",{className:"mb-4 text-center py-2 px-4 bg-green/20 border border-green text-green rounded-lg animate-fadeIn transition-all duration-500 ease-out transform",children:[" Restored your last saved draft"," ",Pr&&jsxRuntimeExports.jsxs("span",{className:"text-sm text-gray-400",children:["(saved ",ss(Pr),")"]})]}),jsxRuntimeExports.jsx("form",{onSubmit:Vs,children:jsxRuntimeExports.jsxs("div",{className:`
          bg-dashboard-bg-light
          dark:bg-dashboard-bg-dark
          border border-dashboard-border-light
          dark:border-dashboard-border-dark
          rounded-2xl
          shadow-2xl
          px-8 py-8
          space-y-6
        `,children:[jsxRuntimeExports.jsxs("div",{className:`
            rounded-xl
            bg-dashboard-sidebar-light
            dark:bg-dashboard-sidebar-dark
            border border-dashboard-border-light
            dark:border-dashboard-border-dark
            px-6 py-6
            space-y-5
          `,children:[jsxRuntimeExports.jsx("div",{className:`
              text-xs uppercase tracking-wide
              text-dashboard-text-muted-light
              dark:text-dashboard-text-muted-dark
            `,children:"Book Details"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:`flex items-center gap-1 mb-2 font-medium
      text-dashboard-muted-light dark:text-dashboard-muted-dark`,children:["Book Name",jsxRuntimeExports.jsx(Tooltip,{text:"You can change the book name anytime. It wont affect your content or progress."})]}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"e.g. The Shining",value:Jt,onChange:hs=>Zt(hs.target.value),className:`w-full px-4 py-3 rounded-lg
                bg-dashboard-bg-light dark:bg-dashboard-bg-dark
                text-dashboard-text-light dark:text-dashboard-text-dark
                border border-dashboard-border-light dark:border-dashboard-border-dark
                placeholder-dashboard-muted-light dark:placeholder-dashboard-muted-dark`})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:`flex items-center gap-1 text-dashboard-muted-light
              dark:text-dashboard-muted-dark mb-2 font-medium`,children:["Author Name",jsxRuntimeExports.jsx(Lock,{size:14,className:"text-gray-500"}),jsxRuntimeExports.jsx(Tooltip,{text:"The author name is set when the book is first created and cant be changed."})]}),jsxRuntimeExports.jsx("input",{type:"text",value:xr||Yt||"",readOnly:!0,className:`w-full px-4 py-3 rounded-lg bg-dashboard-bg-light
                dark:bg-dashboard-bg-dark
                text-dashboard-text-light
                dark:text-dashboard-text-dark
                border border-dashboard-border-light
                dark:border-dashboard-border-dark
                placeholder-dashboard-muted-light
                dark:placeholder-dashboard-muted-dark`})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:`flex items-center gap-1 text-dashboard-muted-light
                dark:text-dashboard-muted-dark mb-2 font-medium`,children:["Book Type",jsxRuntimeExports.jsx(Lock,{size:14,className:"text-gray-500"}),jsxRuntimeExports.jsx(Tooltip,{text:"Book type is chosen before setup and cant be changed"})]}),jsxRuntimeExports.jsx("input",{type:"text",value:er?er.charAt(0).toUpperCase()+er.slice(1):"",readOnly:!0,className:`w-full px-4 py-3 rounded-lg bg-dashboard-bg-light
                dark:bg-dashboard-bg-dark
                text-dashboard-text-light
                dark:text-dashboard-text-dark
                border border-dashboard-border-light
                dark:border-dashboard-border-dark
                placeholder-dashboard-muted-light
                dark:placeholder-dashboard-muted-dark`})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:`block text-dashboard-muted-light
              dark:text-dashboard-muted-dark mb-2 font-medium`,children:["Chapter Title",jsxRuntimeExports.jsx(Tooltip,{text:"Each section can have its own chapter title. This helps organize longer books."})]}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"e.g. The Black Widow",value:Ht,onChange:hs=>Kt(hs.target.value),className:`w-full px-4 py-3 rounded-lg bg-dashboard-bg-light
                dark:bg-dashboard-bg-dark
                text-dashboard-text-light
                dark:text-dashboard-text-dark
                border border-dashboard-border-light
                dark:border-dashboard-border-dark
                placeholder-dashboard-muted-light
                dark:placeholder-dashboard-muted-dark`})]})]}),jsxRuntimeExports.jsxs("div",{className:`
            rounded-xl
            bg-dashboard-sidebar-light
            dark:bg-dashboard-sidebar-dark
            border border-dashboard-border-light
            dark:border-dashboard-border-dark
            px-6 py-5
            space-y-4
          `,children:[jsxRuntimeExports.jsxs("div",{className:"text-xs uppercase tracking-wide text-gray-400",children:["Import & Tools",jsxRuntimeExports.jsx(Tooltip,{text:"Import text from a PDF, DOC, or TXT file. Nothing is published automatically. Use Find & Replace to refine content before finalizing your chapter."})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[jsxRuntimeExports.jsx("input",{type:"file",accept:".txt,.doc,.docx",id:"bookUpload",onChange:Fs,className:"hidden"}),jsxRuntimeExports.jsxs("label",{htmlFor:"bookUpload",className:`
                cursor-pointer
                px-5 py-3
                bg-dashboard-sidebar-light
                dark:bg-dashboard-sidebar-dark
                border border-dashboard-border-light
                dark:border-dashboard-border-dark
                hover:bg-dashboard-hover-light
                dark:hover:bg-dashboard-hover-dark
                rounded-lg
                transition
                text-dashboard-muted-light
                dark:text-dashboard-muted-dark
                flex items-center gap-2
  `,children:[jsxRuntimeExports.jsx(CloudUpload,{size:18}),"Upload File"]}),zr&&jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-400",children:"Processing"}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>Yr(!0),className:`
                cursor-pointer
                px-5 py-3
                bg-dashboard-sidebar-light
                dark:bg-dashboard-sidebar-dark
                border border-dashboard-border-light
                dark:border-dashboard-border-dark
                hover:bg-dashboard-hover-light
                dark:hover:bg-dashboard-hover-dark
                rounded-lg
                transition
                text-dashboard-muted-light
                dark:text-dashboard-muted-dark
                flex items-center gap-2
  `,children:[jsxRuntimeExports.jsx(Replace,{size:18}),"Find & Replace"]})]})]}),jsxRuntimeExports.jsxs("div",{className:`
            rounded-xl
            bg-dashboard-sidebar-light
            dark:bg-dashboard-sidebar-dark
            border border-dashboard-border-light
            dark:border-dashboard-border-dark
            px-6 py-5
            space-y-4
          `,children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 text-xs uppercase tracking-wide text-gray-500",children:["Section",jsxRuntimeExports.jsx(Tooltip,{text:"Sections let you break your chapter into parts. Switching sections saves your work automatically. You can add, rename, or delete sections anytime. Each chapter can contain up to 3,000 total words across all sections. If you exceed the limit, split your content into another chapter or part."})]}),jsxRuntimeExports.jsx(SectionSelector,{sections:Cs,activeSectionId:Ns,setActiveSectionId:Ms,text:dt,setText:et,setSections:Ts,autoSaveDraft:_a}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>{const hs=`section-${Cs.length+1}`,Es={id:hs,title:`Section ${Cs.length+1}`,content:""};Ts(ws=>[...ws,Es]),Ms(hs),et("")},className:`
                sm:ml-auto
                w-full sm:w-auto
                px-4 py-2
                bg-gray-800 hover:bg-gray-700
                rounded-lg
                text-sm text-white
              `,children:"+ Add Section"})]}),qs&&jsxRuntimeExports.jsx("div",{className:"mb-4",children:Us===Ns?jsxRuntimeExports.jsxs("div",{className:"max-w-md space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-xs text-gray-400",children:"Rename section"}),jsxRuntimeExports.jsx("input",{autoFocus:!0,value:Ks,onChange:hs=>Qs(hs.target.value),className:"w-full bg-gray-900 border border-gray-600 rounded-lg px-3 py-2 text-white"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>{Ws(null),Qs("")},className:"px-3 py-1 text-sm bg-gray-700 rounded text-white",children:"Cancel"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>{Ts(hs=>hs.map(Es=>Es.id===Ns?{...Es,title:Ks.trim()||Es.title}:Es)),Ws(null)},className:"px-3 py-1 text-sm bg-green rounded text-black font-medium",children:"Save"})]})]}):jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-semibold text-white cursor-pointer hover:opacity-80",onClick:()=>{Ws(Ns),Qs(qs.title||"")},children:[" ",qs.title||"Untitled Section"]}),jsxRuntimeExports.jsxs("div",{className:"mt-1 space-y-1",children:[jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-400",children:["Section, ",zs.toLocaleString()," ","words"]}),jsxRuntimeExports.jsxs("div",{className:`text-xs ${Js>3e3?"text-red-400":"text-gray-400"}`,children:["Chapter total,"," ",Js.toLocaleString()," /"," ",3e3.toLocaleString()," words"]})]})]}),Cs.length>1&&jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>js(Ns),className:"text-xs px-3 py-1 rounded-lg bg-red-900/30 text-red-400 hover:bg-red-900/50 transition",children:"Delete"})]})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between text-xs text-green mb-2",children:[jsxRuntimeExports.jsx("div",{className:"h-4 text-xs text-green",children:jsxRuntimeExports.jsx("span",{className:`transition-opacity duration-300 ${us||Pr?"opacity-100":"opacity-0"}`,children:us?"Saved just now":Pr?Wr(Pr):""})}),kr&&jsxRuntimeExports.jsx("span",{className:"text-gray-500 italic",children:"Saving"})]}),jsxRuntimeExports.jsxs("div",{className:"border border-gray-700 bg-black/30 rounded-xl",children:[Js>3e3*.9&&jsxRuntimeExports.jsx("div",{className:"mb-2 text-xs text-yellow-400",children:"Youre approaching the chapter word limit. Consider splitting into a new chapter."}),ks?jsxRuntimeExports.jsx("div",{className:"p-8 text-center text-gray-400 italic",children:"Loading your draft"}):jsxRuntimeExports.jsx(BookEditor,{bookId:ir,content:dt,setContent:hs=>{et(hs),Ts(Es=>Es.map(ws=>ws.id===Ns?{...ws,content:hs}:ws))}},`${ir}-${or}`)]}),jsxRuntimeExports.jsx(FontSelector,{fontName:dr,setFontName:ur,fontFile:pr,setFontFile:mr}),jsxRuntimeExports.jsx(CoverUpload,{cover:Ft,setCover:Ut}),er!=="non-fiction"&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:`block text-dashboard-muted-light
dark:text-dashboard-muted-dark mb-2 font-medium`,children:"Number of Pages"}),jsxRuntimeExports.jsx("div",{className:"relative w-full max-w-xs",children:jsxRuntimeExports.jsx("input",{type:"number",min:"1",max:"10",value:$t??"",onChange:hs=>kt(Number(hs.target.value)),className:"w-full py-3 pr-20 pl-4 rounded-lg bg-gray-800 text-white border border-gray-600 text-lg"})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:`flex items-center gap-2 text-dashboard-muted-light
            dark:text-dashboard-muted-dark mb-2 font-medium`,children:[jsxRuntimeExports.jsx(Link$1,{size:16,className:"text-gray-400"}),"Optional Website or Author Link"]}),jsxRuntimeExports.jsx("input",{type:"url",placeholder:"https://yourwebsite.com",value:Tt,onChange:hs=>Dt(hs.target.value),className:"w-full px-4 py-2 rounded-lg bg-gray-800 text-white border border-gray-600"})]}),jsxRuntimeExports.jsxs("div",{className:`
            mt-8
            pt-6
            border-t border-gray-700
            flex flex-col sm:flex-row gap-3
          `,children:[!nr&&jsxRuntimeExports.jsx("button",{type:"button",onClick:xo,disabled:kr||!_s,className:`flex-1 px-6 py-3 rounded-xl font-semibold text-lg shadow-lg transition ${kr||!_s?"bg-gray-700 opacity-50 cursor-not-allowed":"bg-gray-700 hover:bg-green hover:text-black"}`,children:kr?"Saving...":_s?"Save Draft":"Create chapter first"}),!sr&&jsxRuntimeExports.jsx("button",{type:"submit",className:"flex-1 px-6 py-3 rounded-xl bg-bookBtnColor text-black font-semibold text-lg shadow-lg hover:opacity-90 transition flex items-center justify-center gap-2",children:Gr?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(BookOpenCheck,{size:18,className:"text-black"}),"Commit Final Chapter"]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Rocket,{size:18,className:"text-black"}),"Generate Chapter"]})}),rs&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",children:jsxRuntimeExports.jsxs("div",{className:"bg-gray-900 border border-gray-700 p-6 rounded-xl w-full max-w-md",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl text-white mb-4 font-semibold",children:"Find & Replace"}),jsxRuntimeExports.jsx("label",{className:`text-dashboard-muted-light
                  dark:text-dashboard-muted-dark text-sm`,children:"Find"}),jsxRuntimeExports.jsx("input",{type:"text",value:es,onChange:hs=>ns(hs.target.value),className:"w-full px-4 py-2 mb-3 rounded-lg bg-gray-800 text-white border border-gray-600"}),jsxRuntimeExports.jsx("label",{className:`text-dashboard-muted-light
                  dark:text-dashboard-muted-dark text-sm`,children:"Replace With"}),jsxRuntimeExports.jsx("input",{type:"text",value:ms,onChange:hs=>ls(hs.target.value),className:"w-full px-4 py-2 mb-4 rounded-lg bg-gray-800 text-white border border-gray-600"}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Yr(!1),className:"px-4 py-2 bg-gray-700 rounded-lg text-sm",children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:gs,className:"px-4 py-2 bg-green text-black font-semibold rounded-lg text-sm",children:"Replace"})]})]})})]})]})})]})}function BookPromptModal({isOpen:dt,onClose:et,bookId:$t,partNumber:kt=1,onSubmitted:Tt,onCompleted:Dt,setShowGenerating:Ft,initialBookData:Ut}){const[Ht,Kt]=reactExports.useState(""),[Yt,Jt]=reactExports.useState(10),[Zt,er]=reactExports.useState(""),[rr,sr]=reactExports.useState(null),[ir,nr]=reactExports.useState(""),[or,lr]=reactExports.useState(!1),[cr,dr]=reactExports.useState(!1),[ur,pr]=reactExports.useState(!1),[mr,vr]=reactExports.useState((Ut==null?void 0:Ut.bookName)||""),[kr,br]=reactExports.useState((Ut==null?void 0:Ut.authorName)||""),[_r,Or]=reactExports.useState((Ut==null?void 0:Ut.bookType)||"fiction"),[Pr,Mr]=reactExports.useState("Classic AdobeArabic"),[Rr,Tr]=reactExports.useState("/fonts/AdobeArabic-Regular.ttf");reactExports.useEffect(()=>{Ut&&(vr(Ut.bookName||""),br(Ut.authorName||""),Or(Ut.bookType||"fiction"))},[Ut]),reactExports.useEffect(()=>{dt||(Kt(""),Jt(10),er(""),sr(null),nr(""),br(""))},[dt]);async function xr(wr){var zr,Hr;if(wr.preventDefault(),!Ht.trim()){y$4.error("Please enter your book idea or prompt first.");return}et(),Ft(!0);try{axiosInstance.post("/books/prompt",{bookId:$t,prompt:Ht,sections,pages:Yt,link:Zt,coverImage:rr,title:ir,authorName:kr,bookName:mr,partNumber:kt,bookType:_r}),y$4.success(" Book section generated successfully!"),typeof Dt=="function"&&Dt(),typeof Tt=="function"&&Tt($t,Ht)}catch(Gr){Ft(!1),y$4.error(((Hr=(zr=Gr.response)==null?void 0:zr.data)==null?void 0:Hr.message)||"Book generation failed. Try again."),console.error(" Book generation error:",Gr)}finally{lr(!1)}}return dt?jsxRuntimeExports.jsxs("div",{className:`
        fixed inset-0 z-50
        flex flex-col overflow-hidden
        bg-dashboard-bg-light
        dark:bg-dashboard-bg-dark
        text-dashboard-text-light
        dark:text-dashboard-text-dark
      `,children:[jsxRuntimeExports.jsxs("div",{className:`
    relative flex items-center justify-center
    px-6 py-5
    border-b border-dashboard-border-light
    dark:border-dashboard-border-dark
    bg-dashboard-sidebar-light
    dark:bg-dashboard-sidebar-dark
  `,children:[jsxRuntimeExports.jsxs("h1",{className:"text-2xl font-semibold text-center text-dashboard-text-light dark:text-dashboard-text-dark",children:[" Build Your Novel  Part ",kt]}),jsxRuntimeExports.jsx("button",{onClick:et,className:`
            absolute left-6 md:left-36
            text-dashboard-muted-light
            dark:text-dashboard-muted-dark
            hover:text-dashboard-text-light
            dark:hover:text-dashboard-text-dark
            transition
            text-lg
          `,children:" Back"})]}),jsxRuntimeExports.jsx("div",{className:`
        flex-1 overflow-y-auto
        p-8
        max-w-5xl mx-auto w-full
        bg-dashboard-bg-light
        dark:bg-dashboard-bg-dark
      `,children:jsxRuntimeExports.jsx(BookPromptForm,{text:Ht,setText:Kt,pageCount:Yt,setPageCount:Jt,link:Zt,setLink:er,cover:rr,setCover:sr,title:ir,setTitle:nr,authorName:kr,setAuthorName:br,bookName:mr,setBookName:vr,bookType:_r,setBookType:Or,onSubmit:xr,loading:or,showPreview:cr,setShowPreview:dr,setShowGenerating:Ft,bookId:$t,setBookId:()=>{},partLocked:ur,partNumber:kt,onClose:et,fontName:Pr,setFontName:Mr,fontFile:Rr,setFontFile:Tr},`${$t}-${kt}`)})]}):null}const isNodeJS=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],LINE_FACTOR=1.35,RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},AnnotationEditorPrefix="pdfjs_internal_editor_",AnnotationEditorType={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},AnnotationEditorParamsType={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},util_ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},VerbosityLevel={ERRORS:0,WARNINGS:1,INFOS:5},OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},DrawOPS={moveTo:0,lineTo:1,curveTo:2,closePath:3},PasswordResponses$2={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let verbosity=VerbosityLevel.WARNINGS;function setVerbosityLevel(dt){Number.isInteger(dt)&&(verbosity=dt)}function getVerbosityLevel(){return verbosity}function info(dt){verbosity>=VerbosityLevel.INFOS&&console.info(`Info: ${dt}`)}function warn(dt){verbosity>=VerbosityLevel.WARNINGS&&console.warn(`Warning: ${dt}`)}function unreachable(dt){throw new Error(dt)}function assert(dt,et){dt||unreachable(et)}function _isValidProtocol(dt){switch(dt==null?void 0:dt.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function createValidAbsoluteUrl(dt,et=null,$t=null){if(!dt)return null;if($t&&typeof dt=="string"){if($t.addDefaultProtocol&&dt.startsWith("www.")){const Tt=dt.match(/\./g);(Tt==null?void 0:Tt.length)>=2&&(dt=`http://${dt}`)}if($t.tryConvertEncoding)try{dt=stringToUTF8String(dt)}catch{}}const kt=et?URL.parse(dt,et):URL.parse(dt);return _isValidProtocol(kt)?kt:null}function updateUrlHash(dt,et,$t=!1){const kt=URL.parse(dt);return kt?(kt.hash=et,kt.href):$t&&createValidAbsoluteUrl(dt,"http://example.com")?dt.split("#",1)[0]+`${et?`#${et}`:""}`:""}function shadow(dt,et,$t,kt=!1){return Object.defineProperty(dt,et,{value:$t,enumerable:!kt,configurable:!0,writable:!1}),$t}const BaseException=function dt(){function et($t,kt){this.message=$t,this.name=kt}return et.prototype=new Error,et.constructor=et,et}();class PasswordException extends BaseException{constructor(et,$t){super(et,"PasswordException"),this.code=$t}}class UnknownErrorException extends BaseException{constructor(et,$t){super(et,"UnknownErrorException"),this.details=$t}}class InvalidPDFException extends BaseException{constructor(et){super(et,"InvalidPDFException")}}class ResponseException extends BaseException{constructor(et,$t,kt){super(et,"ResponseException"),this.status=$t,this.missing=kt}}class FormatError extends BaseException{constructor(et){super(et,"FormatError")}}class AbortException extends BaseException{constructor(et){super(et,"AbortException")}}function bytesToString(dt){(typeof dt!="object"||(dt==null?void 0:dt.length)===void 0)&&unreachable("Invalid argument for bytesToString");const et=dt.length,$t=8192;if(et<$t)return String.fromCharCode.apply(null,dt);const kt=[];for(let Tt=0;Tt<et;Tt+=$t){const Dt=Math.min(Tt+$t,et),Ft=dt.subarray(Tt,Dt);kt.push(String.fromCharCode.apply(null,Ft))}return kt.join("")}function stringToBytes(dt){typeof dt!="string"&&unreachable("Invalid argument for stringToBytes");const et=dt.length,$t=new Uint8Array(et);for(let kt=0;kt<et;++kt)$t[kt]=dt.charCodeAt(kt)&255;return $t}function string32(dt){return String.fromCharCode(dt>>24&255,dt>>16&255,dt>>8&255,dt&255)}function isLittleEndian(){const dt=new Uint8Array(4);return dt[0]=1,new Uint32Array(dt.buffer,0,1)[0]===1}function isEvalSupported(){try{return new Function(""),!0}catch{return!1}}class util_FeatureTest{static get isLittleEndian(){return shadow(this,"isLittleEndian",isLittleEndian())}static get isEvalSupported(){return shadow(this,"isEvalSupported",isEvalSupported())}static get isOffscreenCanvasSupported(){return shadow(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return shadow(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:et,userAgent:$t}=navigator;return shadow(this,"platform",{isAndroid:$t.includes("Android"),isLinux:et.includes("Linux"),isMac:et.includes("Mac"),isWindows:et.includes("Win"),isFirefox:$t.includes("Firefox")})}static get isCSSRoundSupported(){var et,$t;return shadow(this,"isCSSRoundSupported",($t=(et=globalThis.CSS)==null?void 0:et.supports)==null?void 0:$t.call(et,"width: round(1.5px, 1px)"))}}const hexNumbers=Array.from(Array(256).keys(),dt=>dt.toString(16).padStart(2,"0"));var v0,gw,Vv,q2;class Util{static makeHexColor(et,$t,kt){return`#${hexNumbers[et]}${hexNumbers[$t]}${hexNumbers[kt]}`}static domMatrixToTransform(et){return[et.a,et.b,et.c,et.d,et.e,et.f]}static scaleMinMax(et,$t){let kt;et[0]?(et[0]<0&&(kt=$t[0],$t[0]=$t[2],$t[2]=kt),$t[0]*=et[0],$t[2]*=et[0],et[3]<0&&(kt=$t[1],$t[1]=$t[3],$t[3]=kt),$t[1]*=et[3],$t[3]*=et[3]):(kt=$t[0],$t[0]=$t[1],$t[1]=kt,kt=$t[2],$t[2]=$t[3],$t[3]=kt,et[1]<0&&(kt=$t[1],$t[1]=$t[3],$t[3]=kt),$t[1]*=et[1],$t[3]*=et[1],et[2]<0&&(kt=$t[0],$t[0]=$t[2],$t[2]=kt),$t[0]*=et[2],$t[2]*=et[2]),$t[0]+=et[4],$t[1]+=et[5],$t[2]+=et[4],$t[3]+=et[5]}static transform(et,$t){return[et[0]*$t[0]+et[2]*$t[1],et[1]*$t[0]+et[3]*$t[1],et[0]*$t[2]+et[2]*$t[3],et[1]*$t[2]+et[3]*$t[3],et[0]*$t[4]+et[2]*$t[5]+et[4],et[1]*$t[4]+et[3]*$t[5]+et[5]]}static multiplyByDOMMatrix(et,$t){return[et[0]*$t.a+et[2]*$t.b,et[1]*$t.a+et[3]*$t.b,et[0]*$t.c+et[2]*$t.d,et[1]*$t.c+et[3]*$t.d,et[0]*$t.e+et[2]*$t.f+et[4],et[1]*$t.e+et[3]*$t.f+et[5]]}static applyTransform(et,$t,kt=0){const Tt=et[kt],Dt=et[kt+1];et[kt]=Tt*$t[0]+Dt*$t[2]+$t[4],et[kt+1]=Tt*$t[1]+Dt*$t[3]+$t[5]}static applyTransformToBezier(et,$t,kt=0){const Tt=$t[0],Dt=$t[1],Ft=$t[2],Ut=$t[3],Ht=$t[4],Kt=$t[5];for(let Yt=0;Yt<6;Yt+=2){const Jt=et[kt+Yt],Zt=et[kt+Yt+1];et[kt+Yt]=Jt*Tt+Zt*Ft+Ht,et[kt+Yt+1]=Jt*Dt+Zt*Ut+Kt}}static applyInverseTransform(et,$t){const kt=et[0],Tt=et[1],Dt=$t[0]*$t[3]-$t[1]*$t[2];et[0]=(kt*$t[3]-Tt*$t[2]+$t[2]*$t[5]-$t[4]*$t[3])/Dt,et[1]=(-kt*$t[1]+Tt*$t[0]+$t[4]*$t[1]-$t[5]*$t[0])/Dt}static axialAlignedBoundingBox(et,$t,kt){const Tt=$t[0],Dt=$t[1],Ft=$t[2],Ut=$t[3],Ht=$t[4],Kt=$t[5],Yt=et[0],Jt=et[1],Zt=et[2],er=et[3];let rr=Tt*Yt+Ht,sr=rr,ir=Tt*Zt+Ht,nr=ir,or=Ut*Jt+Kt,lr=or,cr=Ut*er+Kt,dr=cr;if(Dt!==0||Ft!==0){const ur=Dt*Yt,pr=Dt*Zt,mr=Ft*Jt,vr=Ft*er;rr+=mr,nr+=mr,ir+=vr,sr+=vr,or+=ur,dr+=ur,cr+=pr,lr+=pr}kt[0]=Math.min(kt[0],rr,ir,sr,nr),kt[1]=Math.min(kt[1],or,cr,lr,dr),kt[2]=Math.max(kt[2],rr,ir,sr,nr),kt[3]=Math.max(kt[3],or,cr,lr,dr)}static inverseTransform(et){const $t=et[0]*et[3]-et[1]*et[2];return[et[3]/$t,-et[1]/$t,-et[2]/$t,et[0]/$t,(et[2]*et[5]-et[4]*et[3])/$t,(et[4]*et[1]-et[5]*et[0])/$t]}static singularValueDecompose2dScale(et,$t){const kt=et[0],Tt=et[1],Dt=et[2],Ft=et[3],Ut=kt**2+Tt**2,Ht=kt*Dt+Tt*Ft,Kt=Dt**2+Ft**2,Yt=(Ut+Kt)/2,Jt=Math.sqrt(Yt**2-(Ut*Kt-Ht**2));$t[0]=Math.sqrt(Yt+Jt||1),$t[1]=Math.sqrt(Yt-Jt||1)}static normalizeRect(et){const $t=et.slice(0);return et[0]>et[2]&&($t[0]=et[2],$t[2]=et[0]),et[1]>et[3]&&($t[1]=et[3],$t[3]=et[1]),$t}static intersect(et,$t){const kt=Math.max(Math.min(et[0],et[2]),Math.min($t[0],$t[2])),Tt=Math.min(Math.max(et[0],et[2]),Math.max($t[0],$t[2]));if(kt>Tt)return null;const Dt=Math.max(Math.min(et[1],et[3]),Math.min($t[1],$t[3])),Ft=Math.min(Math.max(et[1],et[3]),Math.max($t[1],$t[3]));return Dt>Ft?null:[kt,Dt,Tt,Ft]}static pointBoundingBox(et,$t,kt){kt[0]=Math.min(kt[0],et),kt[1]=Math.min(kt[1],$t),kt[2]=Math.max(kt[2],et),kt[3]=Math.max(kt[3],$t)}static rectBoundingBox(et,$t,kt,Tt,Dt){Dt[0]=Math.min(Dt[0],et,kt),Dt[1]=Math.min(Dt[1],$t,Tt),Dt[2]=Math.max(Dt[2],et,kt),Dt[3]=Math.max(Dt[3],$t,Tt)}static bezierBoundingBox(et,$t,kt,Tt,Dt,Ft,Ut,Ht,Kt){Kt[0]=Math.min(Kt[0],et,Ut),Kt[1]=Math.min(Kt[1],$t,Ht),Kt[2]=Math.max(Kt[2],et,Ut),Kt[3]=Math.max(Kt[3],$t,Ht),Br(this,Vv,q2).call(this,et,kt,Dt,Ut,$t,Tt,Ft,Ht,3*(-et+3*(kt-Dt)+Ut),6*(et-2*kt+Dt),3*(kt-et),Kt),Br(this,Vv,q2).call(this,et,kt,Dt,Ut,$t,Tt,Ft,Ht,3*(-$t+3*(Tt-Ft)+Ht),6*($t-2*Tt+Ft),3*(Tt-$t),Kt)}}v0=new WeakSet,gw=function(et,$t,kt,Tt,Dt,Ft,Ut,Ht,Kt,Yt){if(Kt<=0||Kt>=1)return;const Jt=1-Kt,Zt=Kt*Kt,er=Zt*Kt,rr=Jt*(Jt*(Jt*et+3*Kt*$t)+3*Zt*kt)+er*Tt,sr=Jt*(Jt*(Jt*Dt+3*Kt*Ft)+3*Zt*Ut)+er*Ht;Yt[0]=Math.min(Yt[0],rr),Yt[1]=Math.min(Yt[1],sr),Yt[2]=Math.max(Yt[2],rr),Yt[3]=Math.max(Yt[3],sr)},Vv=new WeakSet,q2=function(et,$t,kt,Tt,Dt,Ft,Ut,Ht,Kt,Yt,Jt,Zt){if(Math.abs(Kt)<1e-12){Math.abs(Yt)>=1e-12&&Br(this,v0,gw).call(this,et,$t,kt,Tt,Dt,Ft,Ut,Ht,-Jt/Yt,Zt);return}const er=Yt**2-4*Jt*Kt;if(er<0)return;const rr=Math.sqrt(er),sr=2*Kt;Br(this,v0,gw).call(this,et,$t,kt,Tt,Dt,Ft,Ut,Ht,(-Yt+rr)/sr,Zt),Br(this,v0,gw).call(this,et,$t,kt,Tt,Dt,Ft,Ut,Ht,(-Yt-rr)/sr,Zt)},yr(Util,v0),yr(Util,Vv);function stringToUTF8String(dt){return decodeURIComponent(escape(dt))}let NormalizeRegex=null,NormalizationMap=null;function normalizeUnicode(dt){return NormalizeRegex||(NormalizeRegex=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,NormalizationMap=new Map([["","t"]])),dt.replaceAll(NormalizeRegex,(et,$t,kt)=>$t?$t.normalize("NFKC"):NormalizationMap.get(kt))}function getUuid(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const dt=new Uint8Array(32);return crypto.getRandomValues(dt),bytesToString(dt)}const AnnotationPrefix="pdfjs_internal_id_";function _isValidExplicitDest(dt,et,$t){if(!Array.isArray($t)||$t.length<2)return!1;const[kt,Tt,...Dt]=$t;if(!dt(kt)&&!Number.isInteger(kt)||!et(Tt))return!1;const Ft=Dt.length;let Ut=!0;switch(Tt.name){case"XYZ":if(Ft<2||Ft>3)return!1;break;case"Fit":case"FitB":return Ft===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(Ft>1)return!1;break;case"FitR":if(Ft!==4)return!1;Ut=!1;break;default:return!1}for(const Ht of Dt)if(!(typeof Ht=="number"||Ut&&Ht===null))return!1;return!0}function MathClamp(dt,et,$t){return Math.min(Math.max(dt,et),$t)}function toBase64Util(dt){return Uint8Array.prototype.toBase64?dt.toBase64():btoa(bytesToString(dt))}function fromBase64Util(dt){return Uint8Array.fromBase64?Uint8Array.fromBase64(dt):stringToBytes(atob(dt))}typeof Promise.try!="function"&&(Promise.try=function(dt,...et){return new Promise($t=>{$t(dt(...et))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(dt){return dt.reduce((et,$t)=>et+$t,0)});class XfaText{static textContent(et){const $t=[],kt={items:$t,styles:Object.create(null)};function Tt(Dt){var Ht;if(!Dt)return;let Ft=null;const Ut=Dt.name;if(Ut==="#text")Ft=Dt.value;else if(XfaText.shouldBuildText(Ut))(Ht=Dt==null?void 0:Dt.attributes)!=null&&Ht.textContent?Ft=Dt.attributes.textContent:Dt.value&&(Ft=Dt.value);else return;if(Ft!==null&&$t.push({str:Ft}),!!Dt.children)for(const Kt of Dt.children)Tt(Kt)}return Tt(et),kt}static shouldBuildText(et){return!(et==="textarea"||et==="input"||et==="option"||et==="select")}}class XfaLayer{static setupStorage(et,$t,kt,Tt,Dt){const Ft=Tt.getValue($t,{value:null});switch(kt.name){case"textarea":if(Ft.value!==null&&(et.textContent=Ft.value),Dt==="print")break;et.addEventListener("input",Ut=>{Tt.setValue($t,{value:Ut.target.value})});break;case"input":if(kt.attributes.type==="radio"||kt.attributes.type==="checkbox"){if(Ft.value===kt.attributes.xfaOn?et.setAttribute("checked",!0):Ft.value===kt.attributes.xfaOff&&et.removeAttribute("checked"),Dt==="print")break;et.addEventListener("change",Ut=>{Tt.setValue($t,{value:Ut.target.checked?Ut.target.getAttribute("xfaOn"):Ut.target.getAttribute("xfaOff")})})}else{if(Ft.value!==null&&et.setAttribute("value",Ft.value),Dt==="print")break;et.addEventListener("input",Ut=>{Tt.setValue($t,{value:Ut.target.value})})}break;case"select":if(Ft.value!==null){et.setAttribute("value",Ft.value);for(const Ut of kt.children)Ut.attributes.value===Ft.value?Ut.attributes.selected=!0:Ut.attributes.hasOwnProperty("selected")&&delete Ut.attributes.selected}et.addEventListener("input",Ut=>{const Ht=Ut.target.options,Kt=Ht.selectedIndex===-1?"":Ht[Ht.selectedIndex].value;Tt.setValue($t,{value:Kt})});break}}static setAttributes({html:et,element:$t,storage:kt=null,intent:Tt,linkService:Dt}){const{attributes:Ft}=$t,Ut=et instanceof HTMLAnchorElement;Ft.type==="radio"&&(Ft.name=`${Ft.name}-${Tt}`);for(const[Ht,Kt]of Object.entries(Ft))if(Kt!=null)switch(Ht){case"class":Kt.length&&et.setAttribute(Ht,Kt.join(" "));break;case"dataId":break;case"id":et.setAttribute("data-element-id",Kt);break;case"style":Object.assign(et.style,Kt);break;case"textContent":et.textContent=Kt;break;default:(!Ut||Ht!=="href"&&Ht!=="newWindow")&&et.setAttribute(Ht,Kt)}Ut&&Dt.addLinkAttributes(et,Ft.href,Ft.newWindow),kt&&Ft.dataId&&this.setupStorage(et,Ft.dataId,$t,kt)}static render(et){var Jt,Zt;const $t=et.annotationStorage,kt=et.linkService,Tt=et.xfaHtml,Dt=et.intent||"display",Ft=document.createElement(Tt.name);Tt.attributes&&this.setAttributes({html:Ft,element:Tt,intent:Dt,linkService:kt});const Ut=Dt!=="richText",Ht=et.div;if(Ht.append(Ft),et.viewport){const er=`matrix(${et.viewport.transform.join(",")})`;Ht.style.transform=er}Ut&&Ht.setAttribute("class","xfaLayer xfaFont");const Kt=[];if(Tt.children.length===0){if(Tt.value){const er=document.createTextNode(Tt.value);Ft.append(er),Ut&&XfaText.shouldBuildText(Tt.name)&&Kt.push(er)}return{textDivs:Kt}}const Yt=[[Tt,-1,Ft]];for(;Yt.length>0;){const[er,rr,sr]=Yt.at(-1);if(rr+1===er.children.length){Yt.pop();continue}const ir=er.children[++Yt.at(-1)[1]];if(ir===null)continue;const{name:nr}=ir;if(nr==="#text"){const lr=document.createTextNode(ir.value);Kt.push(lr),sr.append(lr);continue}const or=(Jt=ir==null?void 0:ir.attributes)!=null&&Jt.xmlns?document.createElementNS(ir.attributes.xmlns,nr):document.createElement(nr);if(sr.append(or),ir.attributes&&this.setAttributes({html:or,element:ir,storage:$t,intent:Dt,linkService:kt}),((Zt=ir.children)==null?void 0:Zt.length)>0)Yt.push([ir,-1,or]);else if(ir.value){const lr=document.createTextNode(ir.value);Ut&&XfaText.shouldBuildText(nr)&&Kt.push(lr),or.append(lr)}}for(const er of Ht.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))er.setAttribute("readOnly",!0);return{textDivs:Kt}}static update(et){const $t=`matrix(${et.viewport.transform.join(",")})`;et.div.style.transform=$t,et.div.hidden=!1}}const SVG_NS="http://www.w3.org/2000/svg",Am=class Am{};ys(Am,"CSS",96),ys(Am,"PDF",72),ys(Am,"PDF_TO_CSS_UNITS",Am.CSS/Am.PDF);let PixelsPerInch=Am;async function fetchData(dt,et="text"){if(isValidFetchUrl(dt,document.baseURI)){const $t=await fetch(dt);if(!$t.ok)throw new Error($t.statusText);switch(et){case"arraybuffer":return $t.arrayBuffer();case"blob":return $t.blob();case"json":return $t.json()}return $t.text()}return new Promise(($t,kt)=>{const Tt=new XMLHttpRequest;Tt.open("GET",dt,!0),Tt.responseType=et,Tt.onreadystatechange=()=>{if(Tt.readyState===XMLHttpRequest.DONE){if(Tt.status===200||Tt.status===0){switch(et){case"arraybuffer":case"blob":case"json":$t(Tt.response);return}$t(Tt.responseText);return}kt(new Error(Tt.statusText))}},Tt.send(null)})}class PageViewport{constructor({viewBox:et,userUnit:$t,scale:kt,rotation:Tt,offsetX:Dt=0,offsetY:Ft=0,dontFlip:Ut=!1}){this.viewBox=et,this.userUnit=$t,this.scale=kt,this.rotation=Tt,this.offsetX=Dt,this.offsetY=Ft,kt*=$t;const Ht=(et[2]+et[0])/2,Kt=(et[3]+et[1])/2;let Yt,Jt,Zt,er;switch(Tt%=360,Tt<0&&(Tt+=360),Tt){case 180:Yt=-1,Jt=0,Zt=0,er=1;break;case 90:Yt=0,Jt=1,Zt=1,er=0;break;case 270:Yt=0,Jt=-1,Zt=-1,er=0;break;case 0:Yt=1,Jt=0,Zt=0,er=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}Ut&&(Zt=-Zt,er=-er);let rr,sr,ir,nr;Yt===0?(rr=Math.abs(Kt-et[1])*kt+Dt,sr=Math.abs(Ht-et[0])*kt+Ft,ir=(et[3]-et[1])*kt,nr=(et[2]-et[0])*kt):(rr=Math.abs(Ht-et[0])*kt+Dt,sr=Math.abs(Kt-et[1])*kt+Ft,ir=(et[2]-et[0])*kt,nr=(et[3]-et[1])*kt),this.transform=[Yt*kt,Jt*kt,Zt*kt,er*kt,rr-Yt*kt*Ht-Zt*kt*Kt,sr-Jt*kt*Ht-er*kt*Kt],this.width=ir,this.height=nr}get rawDims(){const et=this.viewBox;return shadow(this,"rawDims",{pageWidth:et[2]-et[0],pageHeight:et[3]-et[1],pageX:et[0],pageY:et[1]})}clone({scale:et=this.scale,rotation:$t=this.rotation,offsetX:kt=this.offsetX,offsetY:Tt=this.offsetY,dontFlip:Dt=!1}={}){return new PageViewport({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:et,rotation:$t,offsetX:kt,offsetY:Tt,dontFlip:Dt})}convertToViewportPoint(et,$t){const kt=[et,$t];return Util.applyTransform(kt,this.transform),kt}convertToViewportRectangle(et){const $t=[et[0],et[1]];Util.applyTransform($t,this.transform);const kt=[et[2],et[3]];return Util.applyTransform(kt,this.transform),[$t[0],$t[1],kt[0],kt[1]]}convertToPdfPoint(et,$t){const kt=[et,$t];return Util.applyInverseTransform(kt,this.transform),kt}}class RenderingCancelledException extends BaseException{constructor(et,$t=0){super(et,"RenderingCancelledException"),this.extraDelay=$t}}function isDataScheme(dt){const et=dt.length;let $t=0;for(;$t<et&&dt[$t].trim()==="";)$t++;return dt.substring($t,$t+5).toLowerCase()==="data:"}function isPdfFile(dt){return typeof dt=="string"&&/\.pdf$/i.test(dt)}function getFilenameFromUrl(dt){return[dt]=dt.split(/[#?]/,1),dt.substring(dt.lastIndexOf("/")+1)}function getPdfFilenameFromUrl(dt,et="document.pdf"){if(typeof dt!="string")return et;if(isDataScheme(dt))return warn('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),et;const kt=(Ut=>{try{return new URL(Ut)}catch{try{return new URL(decodeURIComponent(Ut))}catch{try{return new URL(Ut,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(Ut),"https://foo.bar")}catch{return null}}}}})(dt);if(!kt)return et;const Tt=Ut=>{try{let Ht=decodeURIComponent(Ut);return Ht.includes("/")?(Ht=Ht.split("/").at(-1),Ht.test(/^\.pdf$/i)?Ht:Ut):Ht}catch{return Ut}},Dt=/\.pdf$/i,Ft=kt.pathname.split("/").at(-1);if(Dt.test(Ft))return Tt(Ft);if(kt.searchParams.size>0){const Ut=Array.from(kt.searchParams.values()).reverse();for(const Kt of Ut)if(Dt.test(Kt))return Tt(Kt);const Ht=Array.from(kt.searchParams.keys()).reverse();for(const Kt of Ht)if(Dt.test(Kt))return Tt(Kt)}if(kt.hash){const Ht=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(kt.hash);if(Ht)return Tt(Ht[0])}return et}class StatTimer{constructor(){ys(this,"started",Object.create(null));ys(this,"times",[])}time(et){et in this.started&&warn(`Timer is already running for ${et}`),this.started[et]=Date.now()}timeEnd(et){et in this.started||warn(`Timer has not been started for ${et}`),this.times.push({name:et,start:this.started[et],end:Date.now()}),delete this.started[et]}toString(){const et=[];let $t=0;for(const{name:kt}of this.times)$t=Math.max(kt.length,$t);for(const{name:kt,start:Tt,end:Dt}of this.times)et.push(`${kt.padEnd($t)} ${Dt-Tt}ms
`);return et.join("")}}function isValidFetchUrl(dt,et){const $t=et?URL.parse(dt,et):URL.parse(dt);return($t==null?void 0:$t.protocol)==="http:"||($t==null?void 0:$t.protocol)==="https:"}function noContextMenu(dt){dt.preventDefault()}function stopEvent(dt){dt.preventDefault(),dt.stopPropagation()}function deprecated(dt){console.log("Deprecated API usage: "+dt)}var zv;class PDFDateString{static toDateObject(et){if(et instanceof Date)return et;if(!et||typeof et!="string")return null;ar(this,zv)||jr(this,zv,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const $t=ar(this,zv).exec(et);if(!$t)return null;const kt=parseInt($t[1],10);let Tt=parseInt($t[2],10);Tt=Tt>=1&&Tt<=12?Tt-1:0;let Dt=parseInt($t[3],10);Dt=Dt>=1&&Dt<=31?Dt:1;let Ft=parseInt($t[4],10);Ft=Ft>=0&&Ft<=23?Ft:0;let Ut=parseInt($t[5],10);Ut=Ut>=0&&Ut<=59?Ut:0;let Ht=parseInt($t[6],10);Ht=Ht>=0&&Ht<=59?Ht:0;const Kt=$t[7]||"Z";let Yt=parseInt($t[8],10);Yt=Yt>=0&&Yt<=23?Yt:0;let Jt=parseInt($t[9],10)||0;return Jt=Jt>=0&&Jt<=59?Jt:0,Kt==="-"?(Ft+=Yt,Ut+=Jt):Kt==="+"&&(Ft-=Yt,Ut-=Jt),new Date(Date.UTC(kt,Tt,Dt,Ft,Ut,Ht))}}zv=new WeakMap,yr(PDFDateString,zv,void 0);function getXfaPageViewport(dt,{scale:et=1,rotation:$t=0}){const{width:kt,height:Tt}=dt.attributes.style,Dt=[0,0,parseInt(kt),parseInt(Tt)];return new PageViewport({viewBox:Dt,userUnit:1,scale:et,rotation:$t})}function getRGB(dt){if(dt.startsWith("#")){const et=parseInt(dt.slice(1),16);return[(et&16711680)>>16,(et&65280)>>8,et&255]}return dt.startsWith("rgb(")?dt.slice(4,-1).split(",").map(et=>parseInt(et)):dt.startsWith("rgba(")?dt.slice(5,-1).split(",").map(et=>parseInt(et)).slice(0,3):(warn(`Not a valid color format: "${dt}"`),[0,0,0])}function getColorValues(dt){const et=document.createElement("span");et.style.visibility="hidden",et.style.colorScheme="only light",document.body.append(et);for(const $t of dt.keys()){et.style.color=$t;const kt=window.getComputedStyle(et).color;dt.set($t,getRGB(kt))}et.remove()}function getCurrentTransform(dt){const{a:et,b:$t,c:kt,d:Tt,e:Dt,f:Ft}=dt.getTransform();return[et,$t,kt,Tt,Dt,Ft]}function getCurrentTransformInverse(dt){const{a:et,b:$t,c:kt,d:Tt,e:Dt,f:Ft}=dt.getTransform().invertSelf();return[et,$t,kt,Tt,Dt,Ft]}function setLayerDimensions(dt,et,$t=!1,kt=!0){if(et instanceof PageViewport){const{pageWidth:Tt,pageHeight:Dt}=et.rawDims,{style:Ft}=dt,Ut=util_FeatureTest.isCSSRoundSupported,Ht=`var(--total-scale-factor) * ${Tt}px`,Kt=`var(--total-scale-factor) * ${Dt}px`,Yt=Ut?`round(down, ${Ht}, var(--scale-round-x))`:`calc(${Ht})`,Jt=Ut?`round(down, ${Kt}, var(--scale-round-y))`:`calc(${Kt})`;!$t||et.rotation%180===0?(Ft.width=Yt,Ft.height=Jt):(Ft.width=Jt,Ft.height=Yt)}kt&&dt.setAttribute("data-main-rotation",et.rotation)}class OutputScale{constructor(){const{pixelRatio:et}=OutputScale;this.sx=et,this.sy=et}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(et,$t,kt,Tt,Dt=-1){let Ft=1/0,Ut=1/0,Ht=1/0;kt=OutputScale.capPixels(kt,Dt),kt>0&&(Ft=Math.sqrt(kt/(et*$t))),Tt!==-1&&(Ut=Tt/et,Ht=Tt/$t);const Kt=Math.min(Ft,Ut,Ht);return this.sx>Kt||this.sy>Kt?(this.sx=Kt,this.sy=Kt,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(et,$t){if($t>=0){const kt=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+$t/100));return et>0?Math.min(et,kt):kt}return et}}const SupportedImageMimeTypes=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class ColorScheme{static get isDarkMode(){var et;return shadow(this,"isDarkMode",!!((et=window==null?void 0:window.matchMedia)!=null&&et.call(window,"(prefers-color-scheme: dark)").matches))}}class CSSConstants{static get commentForegroundColor(){const et=document.createElement("span");et.classList.add("comment","sidebar");const{style:$t}=et;$t.width=$t.height="0",$t.display="none",$t.color="var(--comment-fg-color)",document.body.append(et);const{color:kt}=window.getComputedStyle(et);return et.remove(),shadow(this,"commentForegroundColor",getRGB(kt))}}function applyOpacity(dt,et,$t,kt){kt=Math.min(Math.max(kt??1,0),1);const Tt=255*(1-kt);return dt=Math.round(dt*kt+Tt),et=Math.round(et*kt+Tt),$t=Math.round($t*kt+Tt),[dt,et,$t]}function RGBToHSL(dt,et){const $t=dt[0]/255,kt=dt[1]/255,Tt=dt[2]/255,Dt=Math.max($t,kt,Tt),Ft=Math.min($t,kt,Tt),Ut=(Dt+Ft)/2;if(Dt===Ft)et[0]=et[1]=0;else{const Ht=Dt-Ft;switch(et[1]=Ut<.5?Ht/(Dt+Ft):Ht/(2-Dt-Ft),Dt){case $t:et[0]=((kt-Tt)/Ht+(kt<Tt?6:0))*60;break;case kt:et[0]=((Tt-$t)/Ht+2)*60;break;case Tt:et[0]=(($t-kt)/Ht+4)*60;break}}et[2]=Ut}function HSLToRGB(dt,et){const $t=dt[0],kt=dt[1],Tt=dt[2],Dt=(1-Math.abs(2*Tt-1))*kt,Ft=Dt*(1-Math.abs($t/60%2-1)),Ut=Tt-Dt/2;switch(Math.floor($t/60)){case 0:et[0]=Dt+Ut,et[1]=Ft+Ut,et[2]=Ut;break;case 1:et[0]=Ft+Ut,et[1]=Dt+Ut,et[2]=Ut;break;case 2:et[0]=Ut,et[1]=Dt+Ut,et[2]=Ft+Ut;break;case 3:et[0]=Ut,et[1]=Ft+Ut,et[2]=Dt+Ut;break;case 4:et[0]=Ft+Ut,et[1]=Ut,et[2]=Dt+Ut;break;case 5:case 6:et[0]=Dt+Ut,et[1]=Ut,et[2]=Ft+Ut;break}}function computeLuminance(dt){return dt<=.03928?dt/12.92:((dt+.055)/1.055)**2.4}function contrastRatio(dt,et,$t){HSLToRGB(dt,$t),$t.map(computeLuminance);const kt=.2126*$t[0]+.7152*$t[1]+.0722*$t[2];HSLToRGB(et,$t),$t.map(computeLuminance);const Tt=.2126*$t[0]+.7152*$t[1]+.0722*$t[2];return kt>Tt?(kt+.05)/(Tt+.05):(Tt+.05)/(kt+.05)}const contrastCache=new Map;function findContrastColor(dt,et){const $t=dt[0]+dt[1]*256+dt[2]*65536+et[0]*16777216+et[1]*4294967296+et[2]*1099511627776;let kt=contrastCache.get($t);if(kt)return kt;const Tt=new Float32Array(9),Dt=Tt.subarray(0,3),Ft=Tt.subarray(3,6);RGBToHSL(dt,Ft);const Ut=Tt.subarray(6,9);RGBToHSL(et,Ut);const Ht=Ut[2]<.5,Kt=Ht?12:4.5;if(Ft[2]=Ht?Math.sqrt(Ft[2]):1-Math.sqrt(1-Ft[2]),contrastRatio(Ft,Ut,Dt)<Kt){let Yt,Jt;Ht?(Yt=Ft[2],Jt=1):(Yt=0,Jt=Ft[2]);const Zt=.005;for(;Jt-Yt>Zt;){const er=Ft[2]=(Yt+Jt)/2;Ht===contrastRatio(Ft,Ut,Dt)<Kt?Yt=er:Jt=er}Ft[2]=Ht?Jt:Yt}return HSLToRGB(Ft,Dt),kt=Util.makeHexColor(Math.round(Dt[0]*255),Math.round(Dt[1]*255),Math.round(Dt[2]*255)),contrastCache.set($t,kt),kt}function renderRichText({html:dt,dir:et,className:$t},kt){const Tt=document.createDocumentFragment();if(typeof dt=="string"){const Dt=document.createElement("p");Dt.dir=et||"auto";const Ft=dt.split(/(?:\r\n?|\n)/);for(let Ut=0,Ht=Ft.length;Ut<Ht;++Ut){const Kt=Ft[Ut];Dt.append(document.createTextNode(Kt)),Ut<Ht-1&&Dt.append(document.createElement("br"))}Tt.append(Dt)}else XfaLayer.render({xfaHtml:dt,div:Tt,intent:"richText"});Tt.firstChild.classList.add("richText",$t),kt.append(Tt)}var Rp,$p,Il,Dl,Uv,kp,E0,j0,Hv,Xw,dS,Qw,uS,Jw,hS,Sp,d0,Pm,jv;const Fu=class Fu{constructor(et){yr(this,Qw);yr(this,Jw);yr(this,Sp);yr(this,Pm);yr(this,Rp,null);yr(this,$p,null);yr(this,Il,void 0);yr(this,Dl,null);yr(this,Uv,null);yr(this,kp,null);yr(this,E0,null);yr(this,j0,null);jr(this,Il,et),ar(Fu,Hv)||jr(Fu,Hv,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const et=jr(this,Rp,document.createElement("div"));et.classList.add("editToolbar","hidden"),et.setAttribute("role","toolbar");const $t=ar(this,Il)._uiManager._signal;$t instanceof AbortSignal&&!$t.aborted&&(et.addEventListener("contextmenu",noContextMenu,{signal:$t}),et.addEventListener("pointerdown",Br(Fu,Xw,dS),{signal:$t}));const kt=jr(this,Dl,document.createElement("div"));kt.className="buttons",et.append(kt);const Tt=ar(this,Il).toolbarPosition;if(Tt){const{style:Dt}=et,Ft=ar(this,Il)._uiManager.direction==="ltr"?1-Tt[0]:Tt[0];Dt.insetInlineEnd=`${100*Ft}%`,Dt.top=`calc(${100*Tt[1]}% + var(--editor-toolbar-vert-offset))`}return et}get div(){return ar(this,Rp)}hide(){var et;ar(this,Rp).classList.add("hidden"),(et=ar(this,$p))==null||et.hideDropdown()}show(){var et,$t;ar(this,Rp).classList.remove("hidden"),(et=ar(this,Uv))==null||et.shown(),($t=ar(this,kp))==null||$t.shown()}addDeleteButton(){const{editorType:et,_uiManager:$t}=ar(this,Il),kt=document.createElement("button");kt.classList.add("basic","deleteButton"),kt.tabIndex=0,kt.setAttribute("data-l10n-id",ar(Fu,Hv)[et]),Br(this,Sp,d0).call(this,kt)&&kt.addEventListener("click",Tt=>{$t.delete()},{signal:$t._signal}),ar(this,Dl).append(kt)}async addAltText(et){const $t=await et.render();Br(this,Sp,d0).call(this,$t),ar(this,Dl).append($t,ar(this,Pm,jv)),jr(this,Uv,et)}addComment(et,$t=null){if(ar(this,kp))return;const kt=et.renderForToolbar();if(!kt)return;Br(this,Sp,d0).call(this,kt);const Tt=jr(this,E0,ar(this,Pm,jv));$t?(ar(this,Dl).insertBefore(kt,$t),ar(this,Dl).insertBefore(Tt,$t)):ar(this,Dl).append(kt,Tt),jr(this,kp,et),et.toolbar=this}addColorPicker(et){if(ar(this,$p))return;jr(this,$p,et);const $t=et.renderButton();Br(this,Sp,d0).call(this,$t),ar(this,Dl).append($t,ar(this,Pm,jv))}async addEditSignatureButton(et){const $t=jr(this,j0,await et.renderEditButton(ar(this,Il)));Br(this,Sp,d0).call(this,$t),ar(this,Dl).append($t,ar(this,Pm,jv))}removeButton(et){var $t,kt;switch(et){case"comment":($t=ar(this,kp))==null||$t.removeToolbarCommentButton(),jr(this,kp,null),(kt=ar(this,E0))==null||kt.remove(),jr(this,E0,null);break}}async addButton(et,$t){switch(et){case"colorPicker":this.addColorPicker($t);break;case"altText":await this.addAltText($t);break;case"editSignature":await this.addEditSignatureButton($t);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment($t);break}}async addButtonBefore(et,$t,kt){const Tt=ar(this,Dl).querySelector(kt);Tt&&et==="comment"&&this.addComment($t,Tt)}updateEditSignatureButton(et){ar(this,j0)&&(ar(this,j0).title=et)}remove(){var et;ar(this,Rp).remove(),(et=ar(this,$p))==null||et.destroy(),jr(this,$p,null)}};Rp=new WeakMap,$p=new WeakMap,Il=new WeakMap,Dl=new WeakMap,Uv=new WeakMap,kp=new WeakMap,E0=new WeakMap,j0=new WeakMap,Hv=new WeakMap,Xw=new WeakSet,dS=function(et){et.stopPropagation()},Qw=new WeakSet,uS=function(et){ar(this,Il)._focusEventsAllowed=!1,stopEvent(et)},Jw=new WeakSet,hS=function(et){ar(this,Il)._focusEventsAllowed=!0,stopEvent(et)},Sp=new WeakSet,d0=function(et){const $t=ar(this,Il)._uiManager._signal;return!($t instanceof AbortSignal)||$t.aborted?!1:(et.addEventListener("focusin",Br(this,Qw,uS).bind(this),{capture:!0,signal:$t}),et.addEventListener("focusout",Br(this,Jw,hS).bind(this),{capture:!0,signal:$t}),et.addEventListener("contextmenu",noContextMenu,{signal:$t}),!0)},Pm=new WeakSet,jv=function(){const et=document.createElement("div");return et.className="divider",et},yr(Fu,Xw),yr(Fu,Hv,null);let EditorToolbar=Fu;var Gv,Mm,Ou,Zw,pS,eR,fS,Wv,K2;class FloatingToolbar{constructor(et){yr(this,Zw);yr(this,eR);yr(this,Wv);yr(this,Gv,null);yr(this,Mm,null);yr(this,Ou,void 0);jr(this,Ou,et)}show(et,$t,kt){const[Tt,Dt]=Br(this,eR,fS).call(this,$t,kt),{style:Ft}=ar(this,Mm)||jr(this,Mm,Br(this,Zw,pS).call(this));et.append(ar(this,Mm)),Ft.insetInlineEnd=`${100*Tt}%`,Ft.top=`calc(${100*Dt}% + var(--editor-toolbar-vert-offset))`}hide(){ar(this,Mm).remove()}}Gv=new WeakMap,Mm=new WeakMap,Ou=new WeakMap,Zw=new WeakSet,pS=function(){const et=jr(this,Mm,document.createElement("div"));et.className="editToolbar",et.setAttribute("role","toolbar");const $t=ar(this,Ou)._signal;$t instanceof AbortSignal&&!$t.aborted&&et.addEventListener("contextmenu",noContextMenu,{signal:$t});const kt=jr(this,Gv,document.createElement("div"));return kt.className="buttons",et.append(kt),ar(this,Ou).hasCommentManager()&&Br(this,Wv,K2).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{ar(this,Ou).commentSelection("floating_button")}),Br(this,Wv,K2).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{ar(this,Ou).highlightSelection("floating_button")}),et},eR=new WeakSet,fS=function(et,$t){let kt=0,Tt=0;for(const Dt of et){const Ft=Dt.y+Dt.height;if(Ft<kt)continue;const Ut=Dt.x+($t?Dt.width:0);if(Ft>kt){Tt=Ut,kt=Ft;continue}$t?Ut>Tt&&(Tt=Ut):Ut<Tt&&(Tt=Ut)}return[$t?1-Tt:Tt,kt]},Wv=new WeakSet,K2=function(et,$t,kt,Tt){const Dt=document.createElement("button");Dt.classList.add("basic",et),Dt.tabIndex=0,Dt.setAttribute("data-l10n-id",$t);const Ft=document.createElement("span");Dt.append(Ft),Ft.className="visuallyHidden",Ft.setAttribute("data-l10n-id",kt);const Ut=ar(this,Ou)._signal;Ut instanceof AbortSignal&&!Ut.aborted&&(Dt.addEventListener("contextmenu",noContextMenu,{signal:Ut}),Dt.addEventListener("click",Tt,{signal:Ut})),ar(this,Gv).append(Dt)};function bindEvents(dt,et,$t){for(const kt of $t)et.addEventListener(kt,dt[kt].bind(dt))}var tR;class IdManager{constructor(){yr(this,tR,0)}get id(){return`${AnnotationEditorPrefix}${xa(this,tR)._++}`}}tR=new WeakMap;var w0,qv,So,R0,bw;const X$=class X${constructor(){yr(this,R0);yr(this,w0,getUuid());yr(this,qv,0);yr(this,So,null)}static get _isSVGFittingCanvas(){const et='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',kt=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),Tt=new Image;Tt.src=et;const Dt=Tt.decode().then(()=>(kt.drawImage(Tt,0,0,1,1,0,0,1,3),new Uint32Array(kt.getImageData(0,0,1,1).data.buffer)[0]===0));return shadow(this,"_isSVGFittingCanvas",Dt)}async getFromFile(et){const{lastModified:$t,name:kt,size:Tt,type:Dt}=et;return Br(this,R0,bw).call(this,`${$t}_${kt}_${Tt}_${Dt}`,et)}async getFromUrl(et){return Br(this,R0,bw).call(this,et,et)}async getFromBlob(et,$t){const kt=await $t;return Br(this,R0,bw).call(this,et,kt)}async getFromId(et){ar(this,So)||jr(this,So,new Map);const $t=ar(this,So).get(et);if(!$t)return null;if($t.bitmap)return $t.refCounter+=1,$t;if($t.file)return this.getFromFile($t.file);if($t.blobPromise){const{blobPromise:kt}=$t;return delete $t.blobPromise,this.getFromBlob($t.id,kt)}return this.getFromUrl($t.url)}getFromCanvas(et,$t){ar(this,So)||jr(this,So,new Map);let kt=ar(this,So).get(et);if(kt!=null&&kt.bitmap)return kt.refCounter+=1,kt;const Tt=new OffscreenCanvas($t.width,$t.height);return Tt.getContext("2d").drawImage($t,0,0),kt={bitmap:Tt.transferToImageBitmap(),id:`image_${ar(this,w0)}_${xa(this,qv)._++}`,refCounter:1,isSvg:!1},ar(this,So).set(et,kt),ar(this,So).set(kt.id,kt),kt}getSvgUrl(et){const $t=ar(this,So).get(et);return $t!=null&&$t.isSvg?$t.svgUrl:null}deleteId(et){var Tt;ar(this,So)||jr(this,So,new Map);const $t=ar(this,So).get(et);if(!$t||($t.refCounter-=1,$t.refCounter!==0))return;const{bitmap:kt}=$t;if(!$t.url&&!$t.file){const Dt=new OffscreenCanvas(kt.width,kt.height);Dt.getContext("bitmaprenderer").transferFromImageBitmap(kt),$t.blobPromise=Dt.convertToBlob()}(Tt=kt.close)==null||Tt.call(kt),$t.bitmap=null}isValidId(et){return et.startsWith(`image_${ar(this,w0)}_`)}};w0=new WeakMap,qv=new WeakMap,So=new WeakMap,R0=new WeakSet,bw=async function(et,$t){ar(this,So)||jr(this,So,new Map);let kt=ar(this,So).get(et);if(kt===null)return null;if(kt!=null&&kt.bitmap)return kt.refCounter+=1,kt;try{kt||(kt={bitmap:null,id:`image_${ar(this,w0)}_${xa(this,qv)._++}`,refCounter:0,isSvg:!1});let Tt;if(typeof $t=="string"?(kt.url=$t,Tt=await fetchData($t,"blob")):$t instanceof File?Tt=kt.file=$t:$t instanceof Blob&&(Tt=$t),Tt.type==="image/svg+xml"){const Dt=X$._isSVGFittingCanvas,Ft=new FileReader,Ut=new Image,Ht=new Promise((Kt,Yt)=>{Ut.onload=()=>{kt.bitmap=Ut,kt.isSvg=!0,Kt()},Ft.onload=async()=>{const Jt=kt.svgUrl=Ft.result;Ut.src=await Dt?`${Jt}#svgView(preserveAspectRatio(none))`:Jt},Ut.onerror=Ft.onerror=Yt});Ft.readAsDataURL(Tt),await Ht}else kt.bitmap=await createImageBitmap(Tt);kt.refCounter=1}catch(Tt){warn(Tt),kt=null}return ar(this,So).set(et,kt),kt&&ar(this,So).set(kt.id,kt),kt};let ImageManager=X$;var Qn,_p,Kv,qn;class CommandManager{constructor(et=128){yr(this,Qn,[]);yr(this,_p,!1);yr(this,Kv,void 0);yr(this,qn,-1);jr(this,Kv,et)}add({cmd:et,undo:$t,post:kt,mustExec:Tt,type:Dt=NaN,overwriteIfSameType:Ft=!1,keepUndo:Ut=!1}){if(Tt&&et(),ar(this,_p))return;const Ht={cmd:et,undo:$t,post:kt,type:Dt};if(ar(this,qn)===-1){ar(this,Qn).length>0&&(ar(this,Qn).length=0),jr(this,qn,0),ar(this,Qn).push(Ht);return}if(Ft&&ar(this,Qn)[ar(this,qn)].type===Dt){Ut&&(Ht.undo=ar(this,Qn)[ar(this,qn)].undo),ar(this,Qn)[ar(this,qn)]=Ht;return}const Kt=ar(this,qn)+1;Kt===ar(this,Kv)?ar(this,Qn).splice(0,1):(jr(this,qn,Kt),Kt<ar(this,Qn).length&&ar(this,Qn).splice(Kt)),ar(this,Qn).push(Ht)}undo(){if(ar(this,qn)===-1)return;jr(this,_p,!0);const{undo:et,post:$t}=ar(this,Qn)[ar(this,qn)];et(),$t==null||$t(),jr(this,_p,!1),jr(this,qn,ar(this,qn)-1)}redo(){if(ar(this,qn)<ar(this,Qn).length-1){jr(this,qn,ar(this,qn)+1),jr(this,_p,!0);const{cmd:et,post:$t}=ar(this,Qn)[ar(this,qn)];et(),$t==null||$t(),jr(this,_p,!1)}}hasSomethingToUndo(){return ar(this,qn)!==-1}hasSomethingToRedo(){return ar(this,qn)<ar(this,Qn).length-1}cleanType(et){if(ar(this,qn)!==-1){for(let $t=ar(this,qn);$t>=0;$t--)if(ar(this,Qn)[$t].type!==et){ar(this,Qn).splice($t+1,ar(this,qn)-$t),jr(this,qn,$t);return}ar(this,Qn).length=0,jr(this,qn,-1)}}destroy(){jr(this,Qn,null)}}Qn=new WeakMap,_p=new WeakMap,Kv=new WeakMap,qn=new WeakMap;var rR,mS;class KeyboardManager{constructor(et){yr(this,rR);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:$t}=util_FeatureTest.platform;for(const[kt,Tt,Dt={}]of et)for(const Ft of kt){const Ut=Ft.startsWith("mac+");$t&&Ut?(this.callbacks.set(Ft.slice(4),{callback:Tt,options:Dt}),this.allKeys.add(Ft.split("+").at(-1))):!$t&&!Ut&&(this.callbacks.set(Ft,{callback:Tt,options:Dt}),this.allKeys.add(Ft.split("+").at(-1)))}}exec(et,$t){if(!this.allKeys.has($t.key))return;const kt=this.callbacks.get(Br(this,rR,mS).call(this,$t));if(!kt)return;const{callback:Tt,options:{bubbles:Dt=!1,args:Ft=[],checker:Ut=null}}=kt;Ut&&!Ut(et,$t)||(Tt.bind(et,...Ft,$t)(),Dt||stopEvent($t))}}rR=new WeakSet,mS=function(et){et.altKey&&this.buffer.push("alt"),et.ctrlKey&&this.buffer.push("ctrl"),et.metaKey&&this.buffer.push("meta"),et.shiftKey&&this.buffer.push("shift"),this.buffer.push(et.key);const $t=this.buffer.join("+");return this.buffer.length=0,$t};const sR=class sR{get _colors(){const et=new Map([["CanvasText",null],["Canvas",null]]);return getColorValues(et),shadow(this,"_colors",et)}convert(et){const $t=getRGB(et);if(!window.matchMedia("(forced-colors: active)").matches)return $t;for(const[kt,Tt]of this._colors)if(Tt.every((Dt,Ft)=>Dt===$t[Ft]))return sR._colorsMapping.get(kt);return $t}getHexCode(et){const $t=this._colors.get(et);return $t?Util.makeHexColor(...$t):et}};ys(sR,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let ColorManager=sR;var $0,Yo,k0,Kn,ba,S0,Fl,_0,Ll,Co,Cp,Ap,C0,Tp,du,Ol,Im,Yv,Xv,A0,Qv,uu,Np,T0,Pp,hu,nR,Mp,N0,Jv,Ip,Dm,P0,Dp,Zv,na,vn,Bu,Fp,Lp,e1,M0,r1,Op,pu,Vu,s1,n1,Bl,I0,yw,i1,Y2,iR,xS,aR,gS,Fm,wv,oR,bS,lR,yS,cR,vS,a1,X2,dR,ES,o1,Q2,l1,J2,uR,jS,yo,Mo,Ql,Iu,hR,wS,pR,RS,d1,Z2,fR,$S,Lm,Rv,u1,e$;const x0=class x0{constructor(et,$t,kt,Tt,Dt,Ft,Ut,Ht,Kt,Yt,Jt,Zt,er,rr,sr,ir){yr(this,I0);yr(this,i1);yr(this,iR);yr(this,aR);yr(this,Fm);yr(this,oR);yr(this,lR);yr(this,cR);yr(this,a1);yr(this,dR);yr(this,o1);yr(this,l1);yr(this,uR);yr(this,yo);yr(this,Ql);yr(this,hR);yr(this,pR);yr(this,d1);yr(this,fR);yr(this,Lm);yr(this,u1);yr(this,$0,new AbortController);yr(this,Yo,null);yr(this,k0,null);yr(this,Kn,new Map);yr(this,ba,new Map);yr(this,S0,null);yr(this,Fl,null);yr(this,_0,null);yr(this,Ll,new CommandManager);yr(this,Co,null);yr(this,Cp,null);yr(this,Ap,null);yr(this,C0,0);yr(this,Tp,new Set);yr(this,du,null);yr(this,Ol,null);yr(this,Im,new Set);ys(this,"_editorUndoBar",null);yr(this,Yv,!1);yr(this,Xv,!1);yr(this,A0,!1);yr(this,Qv,null);yr(this,uu,null);yr(this,Np,null);yr(this,T0,null);yr(this,Pp,!1);yr(this,hu,null);yr(this,nR,new IdManager);yr(this,Mp,!1);yr(this,N0,!1);yr(this,Jv,!1);yr(this,Ip,null);yr(this,Dm,null);yr(this,P0,null);yr(this,Dp,null);yr(this,Zv,null);yr(this,na,AnnotationEditorType.NONE);yr(this,vn,new Set);yr(this,Bu,null);yr(this,Fp,null);yr(this,Lp,null);yr(this,e1,null);yr(this,M0,null);yr(this,r1,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});yr(this,Op,[0,0]);yr(this,pu,null);yr(this,Vu,null);yr(this,s1,null);yr(this,n1,null);yr(this,Bl,null);const nr=this._signal=ar(this,$0).signal;jr(this,Vu,et),jr(this,s1,$t),jr(this,n1,kt),jr(this,S0,Tt),jr(this,Co,Dt),jr(this,Fp,Ft),jr(this,M0,Ht),this._eventBus=Ut,Ut._on("editingaction",this.onEditingAction.bind(this),{signal:nr}),Ut._on("pagechanging",this.onPageChanging.bind(this),{signal:nr}),Ut._on("scalechanging",this.onScaleChanging.bind(this),{signal:nr}),Ut._on("rotationchanging",this.onRotationChanging.bind(this),{signal:nr}),Ut._on("setpreference",this.onSetPreference.bind(this),{signal:nr}),Ut._on("switchannotationeditorparams",or=>this.updateParams(or.type,or.value),{signal:nr}),window.addEventListener("pointerdown",()=>{jr(this,N0,!0)},{capture:!0,signal:nr}),window.addEventListener("pointerup",()=>{jr(this,N0,!1)},{capture:!0,signal:nr}),Br(this,oR,bS).call(this),Br(this,uR,jS).call(this),Br(this,a1,X2).call(this),jr(this,Fl,Ht.annotationStorage),jr(this,Qv,Ht.filterFactory),jr(this,Lp,Kt),jr(this,T0,Yt||null),jr(this,Yv,Jt),jr(this,Xv,Zt),jr(this,A0,er),jr(this,Zv,rr||null),this.viewParameters={realScale:PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=sr||null,this._supportsPinchToZoom=ir!==!1,Dt==null||Dt.setSidebarUiManager(this)}static get _keyboardManager(){const et=x0.prototype,$t=Ft=>ar(Ft,Vu).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&Ft.hasSomethingToControl(),kt=(Ft,{target:Ut})=>{if(Ut instanceof HTMLInputElement){const{type:Ht}=Ut;return Ht!=="text"&&Ht!=="number"}return!0},Tt=this.TRANSLATE_SMALL,Dt=this.TRANSLATE_BIG;return shadow(this,"_keyboardManager",new KeyboardManager([[["ctrl+a","mac+meta+a"],et.selectAll,{checker:kt}],[["ctrl+z","mac+meta+z"],et.undo,{checker:kt}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],et.redo,{checker:kt}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],et.delete,{checker:kt}],[["Enter","mac+Enter"],et.addNewEditorFromKeyboard,{checker:(Ft,{target:Ut})=>!(Ut instanceof HTMLButtonElement)&&ar(Ft,Vu).contains(Ut)&&!Ft.isEnterHandled}],[[" ","mac+ "],et.addNewEditorFromKeyboard,{checker:(Ft,{target:Ut})=>!(Ut instanceof HTMLButtonElement)&&ar(Ft,Vu).contains(document.activeElement)}],[["Escape","mac+Escape"],et.unselectAll],[["ArrowLeft","mac+ArrowLeft"],et.translateSelectedEditors,{args:[-Tt,0],checker:$t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],et.translateSelectedEditors,{args:[-Dt,0],checker:$t}],[["ArrowRight","mac+ArrowRight"],et.translateSelectedEditors,{args:[Tt,0],checker:$t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],et.translateSelectedEditors,{args:[Dt,0],checker:$t}],[["ArrowUp","mac+ArrowUp"],et.translateSelectedEditors,{args:[0,-Tt],checker:$t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],et.translateSelectedEditors,{args:[0,-Dt],checker:$t}],[["ArrowDown","mac+ArrowDown"],et.translateSelectedEditors,{args:[0,Tt],checker:$t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],et.translateSelectedEditors,{args:[0,Dt],checker:$t}]]))}destroy(){var et,$t,kt,Tt,Dt,Ft,Ut,Ht,Kt;(et=ar(this,Bl))==null||et.resolve(),jr(this,Bl,null),($t=ar(this,$0))==null||$t.abort(),jr(this,$0,null),this._signal=null;for(const Yt of ar(this,ba).values())Yt.destroy();ar(this,ba).clear(),ar(this,Kn).clear(),ar(this,Im).clear(),(kt=ar(this,Dp))==null||kt.clear(),jr(this,Yo,null),ar(this,vn).clear(),ar(this,Ll).destroy(),(Tt=ar(this,S0))==null||Tt.destroy(),(Dt=ar(this,Co))==null||Dt.destroy(),(Ft=ar(this,Fp))==null||Ft.destroy(),(Ut=ar(this,hu))==null||Ut.hide(),jr(this,hu,null),(Ht=ar(this,P0))==null||Ht.destroy(),jr(this,P0,null),jr(this,k0,null),ar(this,uu)&&(clearTimeout(ar(this,uu)),jr(this,uu,null)),ar(this,pu)&&(clearTimeout(ar(this,pu)),jr(this,pu,null)),(Kt=this._editorUndoBar)==null||Kt.destroy(),jr(this,M0,null)}combinedSignal(et){return AbortSignal.any([this._signal,et.signal])}get mlManager(){return ar(this,Zv)}get useNewAltTextFlow(){return ar(this,Xv)}get useNewAltTextWhenAddingImage(){return ar(this,A0)}get hcmFilter(){return shadow(this,"hcmFilter",ar(this,Lp)?ar(this,Qv).addHCMFilter(ar(this,Lp).foreground,ar(this,Lp).background):"none")}get direction(){return shadow(this,"direction",getComputedStyle(ar(this,Vu)).direction)}get _highlightColors(){return shadow(this,"_highlightColors",ar(this,T0)?new Map(ar(this,T0).split(",").map(et=>(et=et.split("=").map($t=>$t.trim()),et[1]=et[1].toUpperCase(),et))):null)}get highlightColors(){const{_highlightColors:et}=this;if(!et)return shadow(this,"highlightColors",null);const $t=new Map,kt=!!ar(this,Lp);for(const[Tt,Dt]of et){const Ft=Tt.endsWith("_HCM");if(kt&&Ft){$t.set(Tt.replace("_HCM",""),Dt);continue}!kt&&!Ft&&$t.set(Tt,Dt)}return shadow(this,"highlightColors",$t)}get highlightColorNames(){return shadow(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,et=>et.reverse())):null)}getNonHCMColor(et){if(!this._highlightColors)return et;const $t=this.highlightColorNames.get(et);return this._highlightColors.get($t)||et}getNonHCMColorName(et){return this.highlightColorNames.get(et)||et}setCurrentDrawingSession(et){et?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),jr(this,Ap,et)}setMainHighlightColorPicker(et){jr(this,P0,et)}editAltText(et,$t=!1){var kt;(kt=ar(this,S0))==null||kt.editAltText(this,et,$t)}hasCommentManager(){return!!ar(this,Co)}editComment(et,$t,kt,Tt){var Dt;(Dt=ar(this,Co))==null||Dt.showDialog(this,et,$t,kt,Tt)}selectComment(et,$t){const kt=ar(this,ba).get(et),Tt=kt==null?void 0:kt.getEditorByUID($t);Tt==null||Tt.toggleComment(!0,!0)}updateComment(et){var $t;($t=ar(this,Co))==null||$t.updateComment(et.getData())}updatePopupColor(et){var $t;($t=ar(this,Co))==null||$t.updatePopupColor(et)}removeComment(et){var $t;($t=ar(this,Co))==null||$t.removeComments([et.uid])}toggleComment(et,$t,kt=void 0){var Tt;(Tt=ar(this,Co))==null||Tt.toggleCommentPopup(et,$t,kt)}makeCommentColor(et,$t){var kt;return et&&((kt=ar(this,Co))==null?void 0:kt.makeCommentColor(et,$t))||null}getCommentDialogElement(){var et;return((et=ar(this,Co))==null?void 0:et.dialogElement)||null}async waitForEditorsRendered(et){if(ar(this,ba).has(et-1))return;const{resolve:$t,promise:kt}=Promise.withResolvers(),Tt=Dt=>{Dt.pageNumber===et&&(this._eventBus._off("editorsrendered",Tt),$t())};this._eventBus.on("editorsrendered",Tt),await kt}getSignature(et){var $t;($t=ar(this,Fp))==null||$t.getSignature({uiManager:this,editor:et})}get signatureManager(){return ar(this,Fp)}switchToMode(et,$t){this._eventBus.on("annotationeditormodechanged",$t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:et})}setPreference(et,$t){this._eventBus.dispatch("setpreference",{source:this,name:et,value:$t})}onSetPreference({name:et,value:$t}){switch(et){case"enableNewAltTextWhenAddingImage":jr(this,A0,$t);break}}onPageChanging({pageNumber:et}){jr(this,C0,et-1)}focusMainContainer(){ar(this,Vu).focus()}findParent(et,$t){for(const kt of ar(this,ba).values()){const{x:Tt,y:Dt,width:Ft,height:Ut}=kt.div.getBoundingClientRect();if(et>=Tt&&et<=Tt+Ft&&$t>=Dt&&$t<=Dt+Ut)return kt}return null}disableUserSelect(et=!1){ar(this,s1).classList.toggle("noUserSelect",et)}addShouldRescale(et){ar(this,Im).add(et)}removeShouldRescale(et){ar(this,Im).delete(et)}onScaleChanging({scale:et}){var $t;this.commitOrRemove(),this.viewParameters.realScale=et*PixelsPerInch.PDF_TO_CSS_UNITS;for(const kt of ar(this,Im))kt.onScaleChanging();($t=ar(this,Ap))==null||$t.onScaleChanging()}onRotationChanging({pagesRotation:et}){this.commitOrRemove(),this.viewParameters.rotation=et}highlightSelection(et="",$t=!1){const kt=document.getSelection();if(!kt||kt.isCollapsed)return;const{anchorNode:Tt,anchorOffset:Dt,focusNode:Ft,focusOffset:Ut}=kt,Ht=kt.toString(),Yt=Br(this,I0,yw).call(this,kt).closest(".textLayer"),Jt=this.getSelectionBoxes(Yt);if(!Jt)return;kt.empty();const Zt=Br(this,i1,Y2).call(this,Yt),er=ar(this,na)===AnnotationEditorType.NONE,rr=()=>{const sr=Zt==null?void 0:Zt.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:et,boxes:Jt,anchorNode:Tt,anchorOffset:Dt,focusNode:Ft,focusOffset:Ut,text:Ht});er&&this.showAllEditors("highlight",!0,!0),$t&&(sr==null||sr.editComment())};if(er){this.switchToMode(AnnotationEditorType.HIGHLIGHT,rr);return}rr()}commentSelection(et=""){this.highlightSelection(et,!0)}getAndRemoveDataFromAnnotationStorage(et){if(!ar(this,Fl))return null;const $t=`${AnnotationEditorPrefix}${et}`,kt=ar(this,Fl).getRawValue($t);return kt&&ar(this,Fl).remove($t),kt}addToAnnotationStorage(et){!et.isEmpty()&&ar(this,Fl)&&!ar(this,Fl).has(et.id)&&ar(this,Fl).setValue(et.id,et)}a11yAlert(et,$t=null){const kt=ar(this,n1);kt&&(kt.setAttribute("data-l10n-id",et),$t?kt.setAttribute("data-l10n-args",JSON.stringify($t)):kt.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,ar(this,Pp)&&(jr(this,Pp,!1),Br(this,Fm,wv).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:et}=document;for(const $t of ar(this,vn))if($t.div.contains(et)){jr(this,Dm,[$t,et]),$t._focusEventsAllowed=!1;break}}focus(){if(!ar(this,Dm))return;const[et,$t]=ar(this,Dm);jr(this,Dm,null),$t.addEventListener("focusin",()=>{et._focusEventsAllowed=!0},{once:!0,signal:this._signal}),$t.focus()}addEditListeners(){Br(this,a1,X2).call(this),Br(this,o1,Q2).call(this)}removeEditListeners(){Br(this,dR,ES).call(this),Br(this,l1,J2).call(this)}dragOver(et){for(const{type:$t}of et.dataTransfer.items)for(const kt of ar(this,Ol))if(kt.isHandlingMimeForPasting($t)){et.dataTransfer.dropEffect="copy",et.preventDefault();return}}drop(et){for(const $t of et.dataTransfer.items)for(const kt of ar(this,Ol))if(kt.isHandlingMimeForPasting($t.type)){kt.paste($t,this.currentLayer),et.preventDefault();return}}copy(et){var kt;if(et.preventDefault(),(kt=ar(this,Yo))==null||kt.commitOrRemove(),!this.hasSelection)return;const $t=[];for(const Tt of ar(this,vn)){const Dt=Tt.serialize(!0);Dt&&$t.push(Dt)}$t.length!==0&&et.clipboardData.setData("application/pdfjs",JSON.stringify($t))}cut(et){this.copy(et),this.delete()}async paste(et){et.preventDefault();const{clipboardData:$t}=et;for(const Dt of $t.items)for(const Ft of ar(this,Ol))if(Ft.isHandlingMimeForPasting(Dt.type)){Ft.paste(Dt,this.currentLayer);return}let kt=$t.getData("application/pdfjs");if(!kt)return;try{kt=JSON.parse(kt)}catch(Dt){warn(`paste: "${Dt.message}".`);return}if(!Array.isArray(kt))return;this.unselectAll();const Tt=this.currentLayer;try{const Dt=[];for(const Ht of kt){const Kt=await Tt.deserialize(Ht);if(!Kt)return;Dt.push(Kt)}const Ft=()=>{for(const Ht of Dt)Br(this,d1,Z2).call(this,Ht);Br(this,u1,e$).call(this,Dt)},Ut=()=>{for(const Ht of Dt)Ht.remove()};this.addCommands({cmd:Ft,undo:Ut,mustExec:!0})}catch(Dt){warn(`paste: "${Dt.message}".`)}}keydown(et){!this.isShiftKeyDown&&et.key==="Shift"&&(this.isShiftKeyDown=!0),ar(this,na)!==AnnotationEditorType.NONE&&!this.isEditorHandlingKeyboard&&x0._keyboardManager.exec(this,et)}keyup(et){this.isShiftKeyDown&&et.key==="Shift"&&(this.isShiftKeyDown=!1,ar(this,Pp)&&(jr(this,Pp,!1),Br(this,Fm,wv).call(this,"main_toolbar")))}onEditingAction({name:et}){switch(et){case"undo":case"redo":case"delete":case"selectAll":this[et]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}setEditingState(et){et?(Br(this,lR,yS).call(this),Br(this,o1,Q2).call(this),Br(this,yo,Mo).call(this,{isEditing:ar(this,na)!==AnnotationEditorType.NONE,isEmpty:Br(this,Lm,Rv).call(this),hasSomethingToUndo:ar(this,Ll).hasSomethingToUndo(),hasSomethingToRedo:ar(this,Ll).hasSomethingToRedo(),hasSelectedEditor:!1})):(Br(this,cR,vS).call(this),Br(this,l1,J2).call(this),Br(this,yo,Mo).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(et){if(!ar(this,Ol)){jr(this,Ol,et);for(const $t of ar(this,Ol))Br(this,Ql,Iu).call(this,$t.defaultPropertiesToUpdate)}}getId(){return ar(this,nR).id}get currentLayer(){return ar(this,ba).get(ar(this,C0))}getLayer(et){return ar(this,ba).get(et)}get currentPageIndex(){return ar(this,C0)}addLayer(et){ar(this,ba).set(et.pageIndex,et),ar(this,Mp)?et.enable():et.disable()}removeLayer(et){ar(this,ba).delete(et.pageIndex)}async updateMode(et,$t=null,kt=!1,Tt=!1,Dt=!1){var Ft,Ut,Ht,Kt,Yt,Jt;if(ar(this,na)!==et&&!(ar(this,Bl)&&(await ar(this,Bl).promise,!ar(this,Bl)))){if(jr(this,Bl,Promise.withResolvers()),(Ft=ar(this,Ap))==null||Ft.commitOrRemove(),ar(this,na)===AnnotationEditorType.POPUP&&((Ut=ar(this,Co))==null||Ut.hideSidebar()),(Ht=ar(this,Co))==null||Ht.destroyPopup(),jr(this,na,et),et===AnnotationEditorType.NONE){this.setEditingState(!1),Br(this,pR,RS).call(this);for(const Zt of ar(this,Kn).values())Zt.hideStandaloneCommentButton();(Kt=this._editorUndoBar)==null||Kt.hide(),this.toggleComment(null),ar(this,Bl).resolve();return}for(const Zt of ar(this,Kn).values())Zt.addStandaloneCommentButton();et===AnnotationEditorType.SIGNATURE&&await((Yt=ar(this,Fp))==null?void 0:Yt.loadSignatures()),this.setEditingState(!0),await Br(this,hR,wS).call(this),this.unselectAll();for(const Zt of ar(this,ba).values())Zt.updateMode(et);if(et===AnnotationEditorType.POPUP){ar(this,k0)||jr(this,k0,await ar(this,M0).getAnnotationsByType(new Set(ar(this,Ol).map(rr=>rr._editorType))));const Zt=new Set,er=[];for(const rr of ar(this,Kn).values()){const{annotationElementId:sr,hasComment:ir,deleted:nr}=rr;sr&&Zt.add(sr),ir&&!nr&&er.push(rr.getData())}for(const rr of ar(this,k0)){const{id:sr,popupRef:ir,contentsObj:nr}=rr;ir&&(nr!=null&&nr.str)&&!Zt.has(sr)&&!ar(this,Tp).has(sr)&&er.push(rr)}(Jt=ar(this,Co))==null||Jt.showSidebar(er)}if(!$t){kt&&this.addNewEditorFromKeyboard(),ar(this,Bl).resolve();return}for(const Zt of ar(this,Kn).values())Zt.uid===$t?(this.setSelected(Zt),Dt?Zt.editComment():Tt?Zt.enterInEditMode():Zt.focus()):Zt.unselect();ar(this,Bl).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(et){et.mode!==ar(this,na)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...et})}updateParams(et,$t){if(ar(this,Ol)){switch(et){case AnnotationEditorParamsType.CREATE:this.currentLayer.addNewEditor($t);return;case AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(ar(this,e1)||jr(this,e1,new Map)).set(et,$t),this.showAllEditors("highlight",$t);break}if(this.hasSelection)for(const kt of ar(this,vn))kt.updateParams(et,$t);else for(const kt of ar(this,Ol))kt.updateDefaultParams(et,$t)}}showAllEditors(et,$t,kt=!1){var Dt;for(const Ft of ar(this,Kn).values())Ft.editorType===et&&Ft.show($t);(((Dt=ar(this,e1))==null?void 0:Dt.get(AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL))??!0)!==$t&&Br(this,Ql,Iu).call(this,[[AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL,$t]])}enableWaiting(et=!1){if(ar(this,Jv)!==et){jr(this,Jv,et);for(const $t of ar(this,ba).values())et?$t.disableClick():$t.enableClick(),$t.div.classList.toggle("waiting",et)}}*getEditors(et){for(const $t of ar(this,Kn).values())$t.pageIndex===et&&(yield $t)}getEditor(et){return ar(this,Kn).get(et)}addEditor(et){ar(this,Kn).set(et.id,et)}removeEditor(et){var $t,kt;et.div.contains(document.activeElement)&&(ar(this,uu)&&clearTimeout(ar(this,uu)),jr(this,uu,setTimeout(()=>{this.focusMainContainer(),jr(this,uu,null)},0))),ar(this,Kn).delete(et.id),et.annotationElementId&&(($t=ar(this,Dp))==null||$t.delete(et.annotationElementId)),this.unselect(et),(!et.annotationElementId||!ar(this,Tp).has(et.annotationElementId))&&((kt=ar(this,Fl))==null||kt.remove(et.id))}addDeletedAnnotationElement(et){ar(this,Tp).add(et.annotationElementId),this.addChangedExistingAnnotation(et),et.deleted=!0}isDeletedAnnotationElement(et){return ar(this,Tp).has(et)}removeDeletedAnnotationElement(et){ar(this,Tp).delete(et.annotationElementId),this.removeChangedExistingAnnotation(et),et.deleted=!1}setActiveEditor(et){ar(this,Yo)!==et&&(jr(this,Yo,et),et&&Br(this,Ql,Iu).call(this,et.propertiesToUpdate))}updateUI(et){ar(this,fR,$S)===et&&Br(this,Ql,Iu).call(this,et.propertiesToUpdate)}updateUIForDefaultProperties(et){Br(this,Ql,Iu).call(this,et.defaultPropertiesToUpdate)}toggleSelected(et){if(ar(this,vn).has(et)){ar(this,vn).delete(et),et.unselect(),Br(this,yo,Mo).call(this,{hasSelectedEditor:this.hasSelection});return}ar(this,vn).add(et),et.select(),Br(this,Ql,Iu).call(this,et.propertiesToUpdate),Br(this,yo,Mo).call(this,{hasSelectedEditor:!0})}setSelected(et){var $t;this.updateToolbar({mode:et.mode,editId:et.id}),($t=ar(this,Ap))==null||$t.commitOrRemove();for(const kt of ar(this,vn))kt!==et&&kt.unselect();ar(this,vn).clear(),ar(this,vn).add(et),et.select(),Br(this,Ql,Iu).call(this,et.propertiesToUpdate),Br(this,yo,Mo).call(this,{hasSelectedEditor:!0})}isSelected(et){return ar(this,vn).has(et)}get firstSelectedEditor(){return ar(this,vn).values().next().value}unselect(et){et.unselect(),ar(this,vn).delete(et),Br(this,yo,Mo).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return ar(this,vn).size!==0}get isEnterHandled(){return ar(this,vn).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var et;ar(this,Ll).undo(),Br(this,yo,Mo).call(this,{hasSomethingToUndo:ar(this,Ll).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Br(this,Lm,Rv).call(this)}),(et=this._editorUndoBar)==null||et.hide()}redo(){ar(this,Ll).redo(),Br(this,yo,Mo).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:ar(this,Ll).hasSomethingToRedo(),isEmpty:Br(this,Lm,Rv).call(this)})}addCommands(et){ar(this,Ll).add(et),Br(this,yo,Mo).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Br(this,Lm,Rv).call(this)})}cleanUndoStack(et){ar(this,Ll).cleanType(et)}delete(){var Dt;this.commitOrRemove();const et=(Dt=this.currentLayer)==null?void 0:Dt.endDrawingSession(!0);if(!this.hasSelection&&!et)return;const $t=et?[et]:[...ar(this,vn)],kt=()=>{var Ft;(Ft=this._editorUndoBar)==null||Ft.show(Tt,$t.length===1?$t[0].editorType:$t.length);for(const Ut of $t)Ut.remove()},Tt=()=>{for(const Ft of $t)Br(this,d1,Z2).call(this,Ft)};this.addCommands({cmd:kt,undo:Tt,mustExec:!0})}commitOrRemove(){var et;(et=ar(this,Yo))==null||et.commitOrRemove()}hasSomethingToControl(){return ar(this,Yo)||this.hasSelection}selectAll(){for(const et of ar(this,vn))et.commit();Br(this,u1,e$).call(this,ar(this,Kn).values())}unselectAll(){var et;if(!(ar(this,Yo)&&(ar(this,Yo).commitOrRemove(),ar(this,na)!==AnnotationEditorType.NONE))&&!((et=ar(this,Ap))!=null&&et.commitOrRemove())&&this.hasSelection){for(const $t of ar(this,vn))$t.unselect();ar(this,vn).clear(),Br(this,yo,Mo).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(et,$t,kt=!1){if(kt||this.commitOrRemove(),!this.hasSelection)return;ar(this,Op)[0]+=et,ar(this,Op)[1]+=$t;const[Tt,Dt]=ar(this,Op),Ft=[...ar(this,vn)],Ut=1e3;ar(this,pu)&&clearTimeout(ar(this,pu)),jr(this,pu,setTimeout(()=>{jr(this,pu,null),ar(this,Op)[0]=ar(this,Op)[1]=0,this.addCommands({cmd:()=>{for(const Ht of Ft)ar(this,Kn).has(Ht.id)&&(Ht.translateInPage(Tt,Dt),Ht.translationDone())},undo:()=>{for(const Ht of Ft)ar(this,Kn).has(Ht.id)&&(Ht.translateInPage(-Tt,-Dt),Ht.translationDone())},mustExec:!1})},Ut));for(const Ht of Ft)Ht.translateInPage(et,$t),Ht.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),jr(this,du,new Map);for(const et of ar(this,vn))ar(this,du).set(et,{savedX:et.x,savedY:et.y,savedPageIndex:et.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!ar(this,du))return!1;this.disableUserSelect(!1);const et=ar(this,du);jr(this,du,null);let $t=!1;for(const[{x:Tt,y:Dt,pageIndex:Ft},Ut]of et)Ut.newX=Tt,Ut.newY=Dt,Ut.newPageIndex=Ft,$t||($t=Tt!==Ut.savedX||Dt!==Ut.savedY||Ft!==Ut.savedPageIndex);if(!$t)return!1;const kt=(Tt,Dt,Ft,Ut)=>{if(ar(this,Kn).has(Tt.id)){const Ht=ar(this,ba).get(Ut);Ht?Tt._setParentAndPosition(Ht,Dt,Ft):(Tt.pageIndex=Ut,Tt.x=Dt,Tt.y=Ft)}};return this.addCommands({cmd:()=>{for(const[Tt,{newX:Dt,newY:Ft,newPageIndex:Ut}]of et)kt(Tt,Dt,Ft,Ut)},undo:()=>{for(const[Tt,{savedX:Dt,savedY:Ft,savedPageIndex:Ut}]of et)kt(Tt,Dt,Ft,Ut)},mustExec:!0}),!0}dragSelectedEditors(et,$t){if(ar(this,du))for(const kt of ar(this,du).keys())kt.drag(et,$t)}rebuild(et){if(et.parent===null){const $t=this.getLayer(et.pageIndex);$t?($t.changeParent(et),$t.addOrRebuild(et)):(this.addEditor(et),this.addToAnnotationStorage(et),et.rebuild())}else et.parent.addOrRebuild(et)}get isEditorHandlingKeyboard(){var et;return((et=this.getActive())==null?void 0:et.shouldGetKeyboardEvents())||ar(this,vn).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(et){return ar(this,Yo)===et}getActive(){return ar(this,Yo)}getMode(){return ar(this,na)}isEditingMode(){return ar(this,na)!==AnnotationEditorType.NONE}get imageManager(){return shadow(this,"imageManager",new ImageManager)}getSelectionBoxes(et){if(!et)return null;const $t=document.getSelection();for(let Kt=0,Yt=$t.rangeCount;Kt<Yt;Kt++)if(!et.contains($t.getRangeAt(Kt).commonAncestorContainer))return null;const{x:kt,y:Tt,width:Dt,height:Ft}=et.getBoundingClientRect();let Ut;switch(et.getAttribute("data-main-rotation")){case"90":Ut=(Kt,Yt,Jt,Zt)=>({x:(Yt-Tt)/Ft,y:1-(Kt+Jt-kt)/Dt,width:Zt/Ft,height:Jt/Dt});break;case"180":Ut=(Kt,Yt,Jt,Zt)=>({x:1-(Kt+Jt-kt)/Dt,y:1-(Yt+Zt-Tt)/Ft,width:Jt/Dt,height:Zt/Ft});break;case"270":Ut=(Kt,Yt,Jt,Zt)=>({x:1-(Yt+Zt-Tt)/Ft,y:(Kt-kt)/Dt,width:Zt/Ft,height:Jt/Dt});break;default:Ut=(Kt,Yt,Jt,Zt)=>({x:(Kt-kt)/Dt,y:(Yt-Tt)/Ft,width:Jt/Dt,height:Zt/Ft});break}const Ht=[];for(let Kt=0,Yt=$t.rangeCount;Kt<Yt;Kt++){const Jt=$t.getRangeAt(Kt);if(!Jt.collapsed)for(const{x:Zt,y:er,width:rr,height:sr}of Jt.getClientRects())rr===0||sr===0||Ht.push(Ut(Zt,er,rr,sr))}return Ht.length===0?null:Ht}addChangedExistingAnnotation({annotationElementId:et,id:$t}){(ar(this,_0)||jr(this,_0,new Map)).set(et,$t)}removeChangedExistingAnnotation({annotationElementId:et}){var $t;($t=ar(this,_0))==null||$t.delete(et)}renderAnnotationElement(et){var Tt;const $t=(Tt=ar(this,_0))==null?void 0:Tt.get(et.data.id);if(!$t)return;const kt=ar(this,Fl).getRawValue($t);kt&&(ar(this,na)===AnnotationEditorType.NONE&&!kt.hasBeenModified||kt.renderAnnotationElement(et))}setMissingCanvas(et,$t,kt){var Dt;const Tt=(Dt=ar(this,Dp))==null?void 0:Dt.get(et);Tt&&(Tt.setCanvas($t,kt),ar(this,Dp).delete(et))}addMissingCanvas(et,$t){(ar(this,Dp)||jr(this,Dp,new Map)).set(et,$t)}};$0=new WeakMap,Yo=new WeakMap,k0=new WeakMap,Kn=new WeakMap,ba=new WeakMap,S0=new WeakMap,Fl=new WeakMap,_0=new WeakMap,Ll=new WeakMap,Co=new WeakMap,Cp=new WeakMap,Ap=new WeakMap,C0=new WeakMap,Tp=new WeakMap,du=new WeakMap,Ol=new WeakMap,Im=new WeakMap,Yv=new WeakMap,Xv=new WeakMap,A0=new WeakMap,Qv=new WeakMap,uu=new WeakMap,Np=new WeakMap,T0=new WeakMap,Pp=new WeakMap,hu=new WeakMap,nR=new WeakMap,Mp=new WeakMap,N0=new WeakMap,Jv=new WeakMap,Ip=new WeakMap,Dm=new WeakMap,P0=new WeakMap,Dp=new WeakMap,Zv=new WeakMap,na=new WeakMap,vn=new WeakMap,Bu=new WeakMap,Fp=new WeakMap,Lp=new WeakMap,e1=new WeakMap,M0=new WeakMap,r1=new WeakMap,Op=new WeakMap,pu=new WeakMap,Vu=new WeakMap,s1=new WeakMap,n1=new WeakMap,Bl=new WeakMap,I0=new WeakSet,yw=function({anchorNode:et}){return et.nodeType===Node.TEXT_NODE?et.parentElement:et},i1=new WeakSet,Y2=function(et){const{currentLayer:$t}=this;if($t.hasTextLayer(et))return $t;for(const kt of ar(this,ba).values())if(kt.hasTextLayer(et))return kt;return null},iR=new WeakSet,xS=function(){const et=document.getSelection();if(!et||et.isCollapsed)return;const kt=Br(this,I0,yw).call(this,et).closest(".textLayer"),Tt=this.getSelectionBoxes(kt);Tt&&(ar(this,hu)||jr(this,hu,new FloatingToolbar(this)),ar(this,hu).show(kt,Tt,this.direction==="ltr"))},aR=new WeakSet,gS=function(){var Dt,Ft,Ut;const et=document.getSelection();if(!et||et.isCollapsed){ar(this,Bu)&&((Dt=ar(this,hu))==null||Dt.hide(),jr(this,Bu,null),Br(this,yo,Mo).call(this,{hasSelectedText:!1}));return}const{anchorNode:$t}=et;if($t===ar(this,Bu))return;const Tt=Br(this,I0,yw).call(this,et).closest(".textLayer");if(!Tt){ar(this,Bu)&&((Ft=ar(this,hu))==null||Ft.hide(),jr(this,Bu,null),Br(this,yo,Mo).call(this,{hasSelectedText:!1}));return}if((Ut=ar(this,hu))==null||Ut.hide(),jr(this,Bu,$t),Br(this,yo,Mo).call(this,{hasSelectedText:!0}),!(ar(this,na)!==AnnotationEditorType.HIGHLIGHT&&ar(this,na)!==AnnotationEditorType.NONE)&&(ar(this,na)===AnnotationEditorType.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),jr(this,Pp,this.isShiftKeyDown),!this.isShiftKeyDown)){const Ht=ar(this,na)===AnnotationEditorType.HIGHLIGHT?Br(this,i1,Y2).call(this,Tt):null;if(Ht==null||Ht.toggleDrawing(),ar(this,N0)){const Kt=new AbortController,Yt=this.combinedSignal(Kt),Jt=Zt=>{Zt.type==="pointerup"&&Zt.button!==0||(Kt.abort(),Ht==null||Ht.toggleDrawing(!0),Zt.type==="pointerup"&&Br(this,Fm,wv).call(this,"main_toolbar"))};window.addEventListener("pointerup",Jt,{signal:Yt}),window.addEventListener("blur",Jt,{signal:Yt})}else Ht==null||Ht.toggleDrawing(!0),Br(this,Fm,wv).call(this,"main_toolbar")}},Fm=new WeakSet,wv=function(et=""){ar(this,na)===AnnotationEditorType.HIGHLIGHT?this.highlightSelection(et):ar(this,Yv)&&Br(this,iR,xS).call(this)},oR=new WeakSet,bS=function(){document.addEventListener("selectionchange",Br(this,aR,gS).bind(this),{signal:this._signal})},lR=new WeakSet,yS=function(){if(ar(this,Np))return;jr(this,Np,new AbortController);const et=this.combinedSignal(ar(this,Np));window.addEventListener("focus",this.focus.bind(this),{signal:et}),window.addEventListener("blur",this.blur.bind(this),{signal:et})},cR=new WeakSet,vS=function(){var et;(et=ar(this,Np))==null||et.abort(),jr(this,Np,null)},a1=new WeakSet,X2=function(){if(ar(this,Ip))return;jr(this,Ip,new AbortController);const et=this.combinedSignal(ar(this,Ip));window.addEventListener("keydown",this.keydown.bind(this),{signal:et}),window.addEventListener("keyup",this.keyup.bind(this),{signal:et})},dR=new WeakSet,ES=function(){var et;(et=ar(this,Ip))==null||et.abort(),jr(this,Ip,null)},o1=new WeakSet,Q2=function(){if(ar(this,Cp))return;jr(this,Cp,new AbortController);const et=this.combinedSignal(ar(this,Cp));document.addEventListener("copy",this.copy.bind(this),{signal:et}),document.addEventListener("cut",this.cut.bind(this),{signal:et}),document.addEventListener("paste",this.paste.bind(this),{signal:et})},l1=new WeakSet,J2=function(){var et;(et=ar(this,Cp))==null||et.abort(),jr(this,Cp,null)},uR=new WeakSet,jS=function(){const et=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:et}),document.addEventListener("drop",this.drop.bind(this),{signal:et})},yo=new WeakSet,Mo=function(et){Object.entries(et).some(([kt,Tt])=>ar(this,r1)[kt]!==Tt)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(ar(this,r1),et)}),ar(this,na)===AnnotationEditorType.HIGHLIGHT&&et.hasSelectedEditor===!1&&Br(this,Ql,Iu).call(this,[[AnnotationEditorParamsType.HIGHLIGHT_FREE,!0]]))},Ql=new WeakSet,Iu=function(et){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:et})},hR=new WeakSet,wS=async function(){if(!ar(this,Mp)){jr(this,Mp,!0);const et=[];for(const $t of ar(this,ba).values())et.push($t.enable());await Promise.all(et);for(const $t of ar(this,Kn).values())$t.enable()}},pR=new WeakSet,RS=function(){if(this.unselectAll(),ar(this,Mp)){jr(this,Mp,!1);for(const et of ar(this,ba).values())et.disable();for(const et of ar(this,Kn).values())et.disable()}},d1=new WeakSet,Z2=function(et){const $t=ar(this,ba).get(et.pageIndex);$t?$t.addOrRebuild(et):(this.addEditor(et),this.addToAnnotationStorage(et))},fR=new WeakSet,$S=function(){let et=null;for(et of ar(this,vn));return et},Lm=new WeakSet,Rv=function(){if(ar(this,Kn).size===0)return!0;if(ar(this,Kn).size===1)for(const et of ar(this,Kn).values())return et.isEmpty();return!1},u1=new WeakSet,e$=function(et){for(const $t of ar(this,vn))$t.unselect();ar(this,vn).clear();for(const $t of et)$t.isEmpty()||(ar(this,vn).add($t),$t.select());Br(this,yo,Mo).call(this,{hasSelectedEditor:this.hasSelection})},ys(x0,"TRANSLATE_SMALL",1),ys(x0,"TRANSLATE_BIG",10);let AnnotationEditorUIManager=x0;var eo,fu,Jl,D0,mu,Xo,F0,xu,Bo,zu,Om,gu,Bp,Bm,$v,L0,Ew;const Io=class Io{constructor(et){yr(this,Bm);yr(this,L0);yr(this,eo,null);yr(this,fu,!1);yr(this,Jl,null);yr(this,D0,null);yr(this,mu,null);yr(this,Xo,null);yr(this,F0,!1);yr(this,xu,null);yr(this,Bo,null);yr(this,zu,null);yr(this,Om,null);yr(this,gu,!1);jr(this,Bo,et),jr(this,gu,et._uiManager.useNewAltTextFlow),ar(Io,Bp)||jr(Io,Bp,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(et){Io._l10n??(Io._l10n=et)}async render(){const et=jr(this,Jl,document.createElement("button"));et.className="altText",et.tabIndex="0";const $t=jr(this,D0,document.createElement("span"));et.append($t),ar(this,gu)?(et.classList.add("new"),et.setAttribute("data-l10n-id",ar(Io,Bp).missing),$t.setAttribute("data-l10n-id",ar(Io,Bp)["missing-label"])):(et.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),$t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const kt=ar(this,Bo)._uiManager._signal;et.addEventListener("contextmenu",noContextMenu,{signal:kt}),et.addEventListener("pointerdown",Dt=>Dt.stopPropagation(),{signal:kt});const Tt=Dt=>{Dt.preventDefault(),ar(this,Bo)._uiManager.editAltText(ar(this,Bo)),ar(this,gu)&&ar(this,Bo)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:ar(this,Bm,$v)}})};return et.addEventListener("click",Tt,{capture:!0,signal:kt}),et.addEventListener("keydown",Dt=>{Dt.target===et&&Dt.key==="Enter"&&(jr(this,F0,!0),Tt(Dt))},{signal:kt}),await Br(this,L0,Ew).call(this),et}finish(){ar(this,Jl)&&(ar(this,Jl).focus({focusVisible:ar(this,F0)}),jr(this,F0,!1))}isEmpty(){return ar(this,gu)?ar(this,eo)===null:!ar(this,eo)&&!ar(this,fu)}hasData(){return ar(this,gu)?ar(this,eo)!==null||!!ar(this,zu):this.isEmpty()}get guessedText(){return ar(this,zu)}async setGuessedText(et){ar(this,eo)===null&&(jr(this,zu,et),jr(this,Om,await Io._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:et})),Br(this,L0,Ew).call(this))}toggleAltTextBadge(et=!1){var $t;if(!ar(this,gu)||ar(this,eo)){($t=ar(this,xu))==null||$t.remove(),jr(this,xu,null);return}if(!ar(this,xu)){const kt=jr(this,xu,document.createElement("div"));kt.className="noAltTextBadge",ar(this,Bo).div.append(kt)}ar(this,xu).classList.toggle("hidden",!et)}serialize(et){let $t=ar(this,eo);return!et&&ar(this,zu)===$t&&($t=ar(this,Om)),{altText:$t,decorative:ar(this,fu),guessedText:ar(this,zu),textWithDisclaimer:ar(this,Om)}}get data(){return{altText:ar(this,eo),decorative:ar(this,fu)}}set data({altText:et,decorative:$t,guessedText:kt,textWithDisclaimer:Tt,cancel:Dt=!1}){kt&&(jr(this,zu,kt),jr(this,Om,Tt)),!(ar(this,eo)===et&&ar(this,fu)===$t)&&(Dt||(jr(this,eo,et),jr(this,fu,$t)),Br(this,L0,Ew).call(this))}toggle(et=!1){ar(this,Jl)&&(!et&&ar(this,Xo)&&(clearTimeout(ar(this,Xo)),jr(this,Xo,null)),ar(this,Jl).disabled=!et)}shown(){ar(this,Bo)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:ar(this,Bm,$v)}})}destroy(){var et,$t;(et=ar(this,Jl))==null||et.remove(),jr(this,Jl,null),jr(this,D0,null),jr(this,mu,null),($t=ar(this,xu))==null||$t.remove(),jr(this,xu,null)}};eo=new WeakMap,fu=new WeakMap,Jl=new WeakMap,D0=new WeakMap,mu=new WeakMap,Xo=new WeakMap,F0=new WeakMap,xu=new WeakMap,Bo=new WeakMap,zu=new WeakMap,Om=new WeakMap,gu=new WeakMap,Bp=new WeakMap,Bm=new WeakSet,$v=function(){return ar(this,eo)&&"added"||ar(this,eo)===null&&this.guessedText&&"review"||"missing"},L0=new WeakSet,Ew=async function(){var Tt,Dt,Ft;const et=ar(this,Jl);if(!et)return;if(ar(this,gu)){if(et.classList.toggle("done",!!ar(this,eo)),et.setAttribute("data-l10n-id",ar(Io,Bp)[ar(this,Bm,$v)]),(Tt=ar(this,D0))==null||Tt.setAttribute("data-l10n-id",ar(Io,Bp)[`${ar(this,Bm,$v)}-label`]),!ar(this,eo)){(Dt=ar(this,mu))==null||Dt.remove();return}}else{if(!ar(this,eo)&&!ar(this,fu)){et.classList.remove("done"),(Ft=ar(this,mu))==null||Ft.remove();return}et.classList.add("done"),et.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let $t=ar(this,mu);if(!$t){jr(this,mu,$t=document.createElement("span")),$t.className="tooltip",$t.setAttribute("role","tooltip"),$t.id=`alt-text-tooltip-${ar(this,Bo).id}`;const Ut=100,Ht=ar(this,Bo)._uiManager._signal;Ht.addEventListener("abort",()=>{clearTimeout(ar(this,Xo)),jr(this,Xo,null)},{once:!0}),et.addEventListener("mouseenter",()=>{jr(this,Xo,setTimeout(()=>{jr(this,Xo,null),ar(this,mu).classList.add("show"),ar(this,Bo)._reportTelemetry({action:"alt_text_tooltip"})},Ut))},{signal:Ht}),et.addEventListener("mouseleave",()=>{var Kt;ar(this,Xo)&&(clearTimeout(ar(this,Xo)),jr(this,Xo,null)),(Kt=ar(this,mu))==null||Kt.classList.remove("show")},{signal:Ht})}ar(this,fu)?$t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):($t.removeAttribute("data-l10n-id"),$t.textContent=ar(this,eo)),$t.parentNode||et.append($t);const kt=ar(this,Bo).getElementForAltText();kt==null||kt.setAttribute("aria-describedby",$t.id)},yr(Io,Bp,null),ys(Io,"_l10n",null);let AltText=Io;var vo,Vl,Vm,Fn,h1,zm,Zl,Um,Hm,Gm,p1,t$;class Comment{constructor(et){yr(this,p1);yr(this,vo,null);yr(this,Vl,null);yr(this,Vm,!1);yr(this,Fn,null);yr(this,h1,null);yr(this,zm,null);yr(this,Zl,null);yr(this,Um,null);yr(this,Hm,!1);yr(this,Gm,null);jr(this,Fn,et)}renderForToolbar(){const et=jr(this,Vl,document.createElement("button"));return et.className="comment",Br(this,p1,t$).call(this,et,!1)}renderForStandalone(){const et=jr(this,vo,document.createElement("button"));et.className="annotationCommentButton";const $t=ar(this,Fn).commentButtonPosition;if($t){const{style:kt}=et;kt.insetInlineEnd=`calc(${100*(ar(this,Fn)._uiManager.direction==="ltr"?1-$t[0]:$t[0])}% - var(--comment-button-dim))`,kt.top=`calc(${100*$t[1]}% - var(--comment-button-dim))`;const Tt=ar(this,Fn).commentButtonColor;Tt&&(kt.backgroundColor=Tt)}return Br(this,p1,t$).call(this,et,!0)}focusButton(){setTimeout(()=>{var et;(et=ar(this,vo)??ar(this,Vl))==null||et.focus()},0)}onUpdatedColor(){if(!ar(this,vo))return;const et=ar(this,Fn).commentButtonColor;et&&(ar(this,vo).style.backgroundColor=et),ar(this,Fn)._uiManager.updatePopupColor(ar(this,Fn))}get commentButtonWidth(){var et;return(((et=ar(this,vo))==null?void 0:et.getBoundingClientRect().width)??0)/ar(this,Fn).parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(ar(this,Gm))return ar(this,Gm);if(!ar(this,vo))return null;const{x:et,y:$t,height:kt}=ar(this,vo).getBoundingClientRect(),{x:Tt,y:Dt,width:Ft,height:Ut}=ar(this,Fn).parent.boundingClientRect;return[(et-Tt)/Ft,($t+kt-Dt)/Ut]}set commentPopupPositionInLayer(et){jr(this,Gm,et)}hasDefaultPopupPosition(){return ar(this,Gm)===null}removeStandaloneCommentButton(){var et;(et=ar(this,vo))==null||et.remove(),jr(this,vo,null)}removeToolbarCommentButton(){var et;(et=ar(this,Vl))==null||et.remove(),jr(this,Vl,null)}setCommentButtonStates({selected:et,hasPopup:$t}){ar(this,vo)&&(ar(this,vo).classList.toggle("selected",et),ar(this,vo).ariaExpanded=$t)}edit(et){const $t=this.commentPopupPositionInLayer;let kt,Tt;if($t)[kt,Tt]=$t;else{[kt,Tt]=ar(this,Fn).commentButtonPosition;const{width:Yt,height:Jt,x:Zt,y:er}=ar(this,Fn);kt=Zt+kt*Yt,Tt=er+Tt*Jt}const Dt=ar(this,Fn).parent.boundingClientRect,{x:Ft,y:Ut,width:Ht,height:Kt}=Dt;ar(this,Fn)._uiManager.editComment(ar(this,Fn),Ft+kt*Ht,Ut+Tt*Kt,{...et,parentDimensions:Dt})}finish(){ar(this,Vl)&&(ar(this,Vl).focus({focusVisible:ar(this,Vm)}),jr(this,Vm,!1))}isDeleted(){return ar(this,Hm)||ar(this,Zl)===""}isEmpty(){return ar(this,Zl)===null}hasBeenEdited(){return this.isDeleted()||ar(this,Zl)!==ar(this,h1)}serialize(){return this.data}get data(){return{text:ar(this,Zl),richText:ar(this,zm),date:ar(this,Um),deleted:this.isDeleted()}}set data(et){if(et!==ar(this,Zl)&&jr(this,zm,null),et===null){jr(this,Zl,""),jr(this,Hm,!0);return}jr(this,Zl,et),jr(this,Um,new Date),jr(this,Hm,!1)}setInitialText(et,$t=null){jr(this,h1,et),this.data=et,jr(this,Um,null),jr(this,zm,$t)}shown(){}destroy(){var et,$t;(et=ar(this,Vl))==null||et.remove(),jr(this,Vl,null),($t=ar(this,vo))==null||$t.remove(),jr(this,vo,null),jr(this,Zl,""),jr(this,zm,null),jr(this,Um,null),jr(this,Fn,null),jr(this,Vm,!1),jr(this,Hm,!1)}}vo=new WeakMap,Vl=new WeakMap,Vm=new WeakMap,Fn=new WeakMap,h1=new WeakMap,zm=new WeakMap,Zl=new WeakMap,Um=new WeakMap,Hm=new WeakMap,Gm=new WeakMap,p1=new WeakSet,t$=function(et,$t){if(!ar(this,Fn)._uiManager.hasCommentManager())return null;et.tabIndex="0",et.ariaHasPopup="dialog",$t?(et.ariaControls="commentPopup",et.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(et.ariaControlsElements=[ar(this,Fn)._uiManager.getCommentDialogElement()],et.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button"));const kt=ar(this,Fn)._uiManager._signal;if(!(kt instanceof AbortSignal)||kt.aborted)return et;et.addEventListener("contextmenu",noContextMenu,{signal:kt}),$t&&(et.addEventListener("focusin",Dt=>{ar(this,Fn)._focusEventsAllowed=!1,stopEvent(Dt)},{capture:!0,signal:kt}),et.addEventListener("focusout",Dt=>{ar(this,Fn)._focusEventsAllowed=!0,stopEvent(Dt)},{capture:!0,signal:kt})),et.addEventListener("pointerdown",Dt=>Dt.stopPropagation(),{signal:kt});const Tt=Dt=>{Dt.preventDefault(),et===ar(this,Vl)?this.edit():ar(this,Fn).toggleComment(!0)};return et.addEventListener("click",Tt,{capture:!0,signal:kt}),et.addEventListener("keydown",Dt=>{Dt.target===et&&Dt.key==="Enter"&&(jr(this,Vm,!0),Tt(Dt))},{signal:kt}),et.addEventListener("pointerenter",()=>{ar(this,Fn).toggleComment(!1,!0)},{signal:kt}),et.addEventListener("pointerleave",()=>{ar(this,Fn).toggleComment(!1,!1)},{signal:kt}),et};var O0,Wm,f1,m1,x1,g1,b1,Uu,qm,Hu,Km,Gu,mR,kS,xR,SS,gR,_S;const Q$=class Q${constructor({container:et,isPinchingDisabled:$t=null,isPinchingStopped:kt=null,onPinchStart:Tt=null,onPinching:Dt=null,onPinchEnd:Ft=null,signal:Ut}){yr(this,mR);yr(this,xR);yr(this,gR);yr(this,O0,void 0);yr(this,Wm,!1);yr(this,f1,null);yr(this,m1,void 0);yr(this,x1,void 0);yr(this,g1,void 0);yr(this,b1,void 0);yr(this,Uu,null);yr(this,qm,void 0);yr(this,Hu,null);yr(this,Km,void 0);yr(this,Gu,null);jr(this,O0,et),jr(this,f1,kt),jr(this,m1,$t),jr(this,x1,Tt),jr(this,g1,Dt),jr(this,b1,Ft),jr(this,Km,new AbortController),jr(this,qm,AbortSignal.any([Ut,ar(this,Km).signal])),et.addEventListener("touchstart",Br(this,mR,kS).bind(this),{passive:!1,signal:ar(this,qm)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/OutputScale.pixelRatio}destroy(){var et,$t;(et=ar(this,Km))==null||et.abort(),jr(this,Km,null),($t=ar(this,Uu))==null||$t.abort(),jr(this,Uu,null)}};O0=new WeakMap,Wm=new WeakMap,f1=new WeakMap,m1=new WeakMap,x1=new WeakMap,g1=new WeakMap,b1=new WeakMap,Uu=new WeakMap,qm=new WeakMap,Hu=new WeakMap,Km=new WeakMap,Gu=new WeakMap,mR=new WeakSet,kS=function(et){var Tt,Dt,Ft;if((Tt=ar(this,m1))!=null&&Tt.call(this))return;if(et.touches.length===1){if(ar(this,Uu))return;const Ut=jr(this,Uu,new AbortController),Ht=AbortSignal.any([ar(this,qm),Ut.signal]),Kt=ar(this,O0),Yt={capture:!0,signal:Ht,passive:!1},Jt=Zt=>{var er;Zt.pointerType==="touch"&&((er=ar(this,Uu))==null||er.abort(),jr(this,Uu,null))};Kt.addEventListener("pointerdown",Zt=>{Zt.pointerType==="touch"&&(stopEvent(Zt),Jt(Zt))},Yt),Kt.addEventListener("pointerup",Jt,Yt),Kt.addEventListener("pointercancel",Jt,Yt);return}if(!ar(this,Gu)){jr(this,Gu,new AbortController);const Ut=AbortSignal.any([ar(this,qm),ar(this,Gu).signal]),Ht=ar(this,O0),Kt={signal:Ut,capture:!1,passive:!1};Ht.addEventListener("touchmove",Br(this,xR,SS).bind(this),Kt);const Yt=Br(this,gR,_S).bind(this);Ht.addEventListener("touchend",Yt,Kt),Ht.addEventListener("touchcancel",Yt,Kt),Kt.capture=!0,Ht.addEventListener("pointerdown",stopEvent,Kt),Ht.addEventListener("pointermove",stopEvent,Kt),Ht.addEventListener("pointercancel",stopEvent,Kt),Ht.addEventListener("pointerup",stopEvent,Kt),(Dt=ar(this,x1))==null||Dt.call(this)}if(stopEvent(et),et.touches.length!==2||(Ft=ar(this,f1))!=null&&Ft.call(this)){jr(this,Hu,null);return}let[$t,kt]=et.touches;$t.identifier>kt.identifier&&([$t,kt]=[kt,$t]),jr(this,Hu,{touch0X:$t.screenX,touch0Y:$t.screenY,touch1X:kt.screenX,touch1Y:kt.screenY})},xR=new WeakSet,SS=function(et){var cr;if(!ar(this,Hu)||et.touches.length!==2)return;stopEvent(et);let[$t,kt]=et.touches;$t.identifier>kt.identifier&&([$t,kt]=[kt,$t]);const{screenX:Tt,screenY:Dt}=$t,{screenX:Ft,screenY:Ut}=kt,Ht=ar(this,Hu),{touch0X:Kt,touch0Y:Yt,touch1X:Jt,touch1Y:Zt}=Ht,er=Jt-Kt,rr=Zt-Yt,sr=Ft-Tt,ir=Ut-Dt,nr=Math.hypot(sr,ir)||1,or=Math.hypot(er,rr)||1;if(!ar(this,Wm)&&Math.abs(or-nr)<=Q$.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(Ht.touch0X=Tt,Ht.touch0Y=Dt,Ht.touch1X=Ft,Ht.touch1Y=Ut,!ar(this,Wm)){jr(this,Wm,!0);return}const lr=[(Tt+Ft)/2,(Dt+Ut)/2];(cr=ar(this,g1))==null||cr.call(this,lr,or,nr)},gR=new WeakSet,_S=function(et){var $t;et.touches.length>=2||(ar(this,Gu)&&(ar(this,Gu).abort(),jr(this,Gu,null),($t=ar(this,b1))==null||$t.call(this)),ar(this,Hu)&&(stopEvent(et),jr(this,Hu,null),jr(this,Wm,!1)))};let TouchManager=Q$;var Ym,_c,Hn,Pn,Wu,B0,Vp,y1,Eo,Xm,qu,bu,zp,v1,Qm,Qo,E1,Jm,Ku,yu,V0,z0,zl,Zm,j1,bR,w1,r$,R1,s$,U0,jw,yR,CS,vR,AS,$1,n$,H0,ww,k1,i$,ER,TS,jR,NS,wR,PS,S1,a$,RR,MS,_1,o$,$R,IS,kR,DS,SR,FS,C1,l$,ex,kv;const Hs=class Hs{constructor(et){yr(this,w1);yr(this,U0);yr(this,yR);yr(this,vR);yr(this,$1);yr(this,H0);yr(this,k1);yr(this,ER);yr(this,jR);yr(this,wR);yr(this,S1);yr(this,RR);yr(this,_1);yr(this,$R);yr(this,kR);yr(this,SR);yr(this,C1);yr(this,ex);yr(this,Ym,null);yr(this,_c,null);yr(this,Hn,null);yr(this,Pn,null);yr(this,Wu,null);yr(this,B0,!1);yr(this,Vp,null);yr(this,y1,"");yr(this,Eo,null);yr(this,Xm,null);yr(this,qu,null);yr(this,bu,null);yr(this,zp,null);yr(this,v1,"");yr(this,Qm,!1);yr(this,Qo,null);yr(this,E1,!1);yr(this,Jm,!1);yr(this,Ku,!1);yr(this,yu,null);yr(this,V0,0);yr(this,z0,0);yr(this,zl,null);yr(this,Zm,null);ys(this,"isSelected",!1);ys(this,"_isCopy",!1);ys(this,"_editToolbar",null);ys(this,"_initialOptions",Object.create(null));ys(this,"_initialData",null);ys(this,"_isVisible",!0);ys(this,"_uiManager",null);ys(this,"_focusEventsAllowed",!0);yr(this,j1,!1);yr(this,bR,Hs._zIndex++);this.parent=et.parent,this.id=et.id,this.width=this.height=null,this.pageIndex=et.parent.pageIndex,this.name=et.name,this.div=null,this._uiManager=et.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=et.isCentered,this._structTreeParentId=null,this.annotationElementId=et.annotationElementId||null,this.creationDate=et.creationDate||new Date,this.modificationDate=et.modificationDate||null;const{rotation:$t,rawDims:{pageWidth:kt,pageHeight:Tt,pageX:Dt,pageY:Ft}}=this.parent.viewport;this.rotation=$t,this.pageRotation=(360+$t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[kt,Tt],this.pageTranslation=[Dt,Ft];const[Ut,Ht]=this.parentDimensions;this.x=et.x/Ut,this.y=et.y/Ht,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const et=Hs.prototype._resizeWithKeyboard,$t=AnnotationEditorUIManager.TRANSLATE_SMALL,kt=AnnotationEditorUIManager.TRANSLATE_BIG;return shadow(this,"_resizerKeyboardManager",new KeyboardManager([[["ArrowLeft","mac+ArrowLeft"],et,{args:[-$t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],et,{args:[-kt,0]}],[["ArrowRight","mac+ArrowRight"],et,{args:[$t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],et,{args:[kt,0]}],[["ArrowUp","mac+ArrowUp"],et,{args:[0,-$t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],et,{args:[0,-kt]}],[["ArrowDown","mac+ArrowDown"],et,{args:[0,$t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],et,{args:[0,kt]}],[["Escape","mac+Escape"],Hs.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return shadow(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(et){const $t=new FakeEditor({id:et.parent.getNextId(),parent:et.parent,uiManager:et._uiManager});$t.annotationElementId=et.annotationElementId,$t.deleted=!0,$t._uiManager.addToAnnotationStorage($t)}static initialize(et,$t){if(Hs._l10n??(Hs._l10n=et),Hs._l10nResizer||(Hs._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Hs._borderLineWidth!==-1)return;const kt=getComputedStyle(document.documentElement);Hs._borderLineWidth=parseFloat(kt.getPropertyValue("--outline-width"))||0}static updateDefaultParams(et,$t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(et){return!1}static paste(et,$t){unreachable("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return ar(this,j1)}set _isDraggable(et){var $t;jr(this,j1,et),($t=this.div)==null||$t.classList.toggle("draggable",et)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[et,$t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*$t/(et*2),this.y+=this.width*et/($t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*$t/(et*2),this.y-=this.width*et/($t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(et){this._uiManager.addCommands(et)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=ar(this,bR)}setParent(et){var $t;et!==null?(this.pageIndex=et.pageIndex,this.pageDimensions=et.pageDimensions):(Br(this,ex,kv).call(this),($t=ar(this,bu))==null||$t.remove(),jr(this,bu,null)),this.parent=et}focusin(et){this._focusEventsAllowed&&(ar(this,Qm)?jr(this,Qm,!1):this.parent.setSelected(this))}focusout(et){var kt;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const $t=et.relatedTarget;$t!=null&&$t.closest(`#${this.id}`)||(et.preventDefault(),(kt=this.parent)!=null&&kt.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(et,$t,kt,Tt){const[Dt,Ft]=this.parentDimensions;[kt,Tt]=this.screenToPageTranslation(kt,Tt),this.x=(et+kt)/Dt,this.y=($t+Tt)/Ft,this.fixAndSetPosition()}_moveAfterPaste(et,$t){const[kt,Tt]=this.parentDimensions;this.setAt(et*kt,$t*Tt,this.width*kt,this.height*Tt),this._onTranslated()}translate(et,$t){Br(this,w1,r$).call(this,this.parentDimensions,et,$t)}translateInPage(et,$t){ar(this,Qo)||jr(this,Qo,[this.x,this.y,this.width,this.height]),Br(this,w1,r$).call(this,this.pageDimensions,et,$t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(et,$t){ar(this,Qo)||jr(this,Qo,[this.x,this.y,this.width,this.height]);const{div:kt,parentDimensions:[Tt,Dt]}=this;if(this.x+=et/Tt,this.y+=$t/Dt,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:Jt,y:Zt}=this.div.getBoundingClientRect();this.parent.findNewParent(this,Jt,Zt)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:Ft,y:Ut}=this;const[Ht,Kt]=this.getBaseTranslation();Ft+=Ht,Ut+=Kt;const{style:Yt}=kt;Yt.left=`${(100*Ft).toFixed(2)}%`,Yt.top=`${(100*Ut).toFixed(2)}%`,this._onTranslating(Ft,Ut),kt.scrollIntoView({block:"nearest"})}_onTranslating(et,$t){}_onTranslated(et,$t){}get _hasBeenMoved(){return!!ar(this,Qo)&&(ar(this,Qo)[0]!==this.x||ar(this,Qo)[1]!==this.y)}get _hasBeenResized(){return!!ar(this,Qo)&&(ar(this,Qo)[2]!==this.width||ar(this,Qo)[3]!==this.height)}getBaseTranslation(){const[et,$t]=this.parentDimensions,{_borderLineWidth:kt}=Hs,Tt=kt/et,Dt=kt/$t;switch(this.rotation){case 90:return[-Tt,Dt];case 180:return[Tt,Dt];case 270:return[Tt,-Dt];default:return[-Tt,-Dt]}}get _mustFixPosition(){return!0}fixAndSetPosition(et=this.rotation){const{div:{style:$t},pageDimensions:[kt,Tt]}=this;let{x:Dt,y:Ft,width:Ut,height:Ht}=this;if(Ut*=kt,Ht*=Tt,Dt*=kt,Ft*=Tt,this._mustFixPosition)switch(et){case 0:Dt=MathClamp(Dt,0,kt-Ut),Ft=MathClamp(Ft,0,Tt-Ht);break;case 90:Dt=MathClamp(Dt,0,kt-Ht),Ft=MathClamp(Ft,Ut,Tt);break;case 180:Dt=MathClamp(Dt,Ut,kt),Ft=MathClamp(Ft,Ht,Tt);break;case 270:Dt=MathClamp(Dt,Ht,kt),Ft=MathClamp(Ft,0,Tt-Ut);break}this.x=Dt/=kt,this.y=Ft/=Tt;const[Kt,Yt]=this.getBaseTranslation();Dt+=Kt,Ft+=Yt,$t.left=`${(100*Dt).toFixed(2)}%`,$t.top=`${(100*Ft).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(et,$t){var kt;return Br(kt=Hs,R1,s$).call(kt,et,$t,this.parentRotation)}pageTranslationToScreen(et,$t){var kt;return Br(kt=Hs,R1,s$).call(kt,et,$t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:et,pageDimensions:[$t,kt]}=this;return[$t*et,kt*et]}setDims(){const{div:{style:et},width:$t,height:kt}=this;et.width=`${(100*$t).toFixed(2)}%`,et.height=`${(100*kt).toFixed(2)}%`}getInitialTranslation(){return[0,0]}_onResized(){}static _round(et){return Math.round(et*1e4)/1e4}_onResizing(){}altTextFinish(){var et;(et=ar(this,Hn))==null||et.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||ar(this,Jm))return this._editToolbar;this._editToolbar=new EditorToolbar(this),this.div.append(this._editToolbar.render());const{toolbarButtons:et}=this;if(et)for(const[$t,kt]of et)await this._editToolbar.addButton($t,kt);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){var et;(et=this._editToolbar)==null||et.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){var et;(et=this._editToolbar)==null||et.removeButton("comment")}removeEditToolbar(){var et,$t;(et=this._editToolbar)==null||et.remove(),this._editToolbar=null,($t=ar(this,Hn))==null||$t.destroy()}addContainer(et){var kt;const $t=(kt=this._editToolbar)==null?void 0:kt.div;$t?$t.before(et):this.div.append(et)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return ar(this,Hn)||(AltText.initialize(Hs._l10n),jr(this,Hn,new AltText(this)),ar(this,Ym)&&(ar(this,Hn).data=ar(this,Ym),jr(this,Ym,null))),ar(this,Hn)}get altTextData(){var et;return(et=ar(this,Hn))==null?void 0:et.data}set altTextData(et){ar(this,Hn)&&(ar(this,Hn).data=et)}get guessedAltText(){var et;return(et=ar(this,Hn))==null?void 0:et.guessedText}async setGuessedAltText(et){var $t;await(($t=ar(this,Hn))==null?void 0:$t.setGuessedText(et))}serializeAltText(et){var $t;return($t=ar(this,Hn))==null?void 0:$t.serialize(et)}hasAltText(){return!!ar(this,Hn)&&!ar(this,Hn).isEmpty()}hasAltTextData(){var et;return((et=ar(this,Hn))==null?void 0:et.hasData())??!1}focusCommentButton(){var et;(et=ar(this,Pn))==null||et.focusButton()}addCommentButton(){return ar(this,Pn)||jr(this,Pn,new Comment(this))}addStandaloneCommentButton(){if(ar(this,Wu)){this._uiManager.isEditingMode()&&ar(this,Wu).classList.remove("hidden");return}this.hasComment&&(jr(this,Wu,ar(this,Pn).renderForStandalone()),this.div.append(ar(this,Wu)))}removeStandaloneCommentButton(){ar(this,Pn).removeStandaloneCommentButton(),jr(this,Wu,null)}hideStandaloneCommentButton(){var et;(et=ar(this,Wu))==null||et.classList.add("hidden")}get comment(){const{data:{richText:et,text:$t,date:kt,deleted:Tt}}=ar(this,Pn);return{text:$t,richText:et,date:kt,deleted:Tt,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(et){ar(this,Pn)||jr(this,Pn,new Comment(this)),ar(this,Pn).data=et,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:et,popupRef:$t,richText:kt}){if(!$t||(ar(this,Pn)||jr(this,Pn,new Comment(this)),ar(this,Pn).setInitialText(et,kt),!this.annotationElementId))return;const Tt=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);Tt&&this.updateFromAnnotationLayer(Tt)}get hasEditedComment(){var et;return(et=ar(this,Pn))==null?void 0:et.hasBeenEdited()}get hasDeletedComment(){var et;return(et=ar(this,Pn))==null?void 0:et.isDeleted()}get hasComment(){return!!ar(this,Pn)&&!ar(this,Pn).isEmpty()&&!ar(this,Pn).isDeleted()}async editComment(et){ar(this,Pn)||jr(this,Pn,new Comment(this)),ar(this,Pn).edit(et)}toggleComment(et,$t=void 0){this.hasComment&&this._uiManager.toggleComment(this,et,$t)}setSelectedCommentButton(et){ar(this,Pn).setSelectedButton(et)}addComment(et){if(this.hasEditedComment){const[,,,Tt]=et.rect,[Dt]=this.pageDimensions,[Ft]=this.pageTranslation,Ut=Ft+Dt+1,Ht=Tt-100,Kt=Ut+180;et.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[Ut,Ht,Kt,Tt]}}}updateFromAnnotationLayer({popup:{contents:et,deleted:$t}}){ar(this,Pn).data=$t?null:et}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){var Ft;const et=this.div=document.createElement("div");et.setAttribute("data-editor-rotation",(360-this.rotation)%360),et.className=this.name,et.setAttribute("id",this.id),et.tabIndex=ar(this,B0)?-1:0,et.setAttribute("role","application"),this.defaultL10nId&&et.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||et.classList.add("hidden"),this.setInForeground(),Br(this,_1,o$).call(this);const[$t,kt]=this.parentDimensions;this.parentRotation%180!==0&&(et.style.maxWidth=`${(100*kt/$t).toFixed(2)}%`,et.style.maxHeight=`${(100*$t/kt).toFixed(2)}%`);const[Tt,Dt]=this.getInitialTranslation();return this.translate(Tt,Dt),bindEvents(this,et,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(ar(this,Zm)||jr(this,Zm,new TouchManager({container:et,isPinchingDisabled:()=>!this.isSelected,onPinchStart:Br(this,ER,TS).bind(this),onPinching:Br(this,jR,NS).bind(this),onPinchEnd:Br(this,wR,PS).bind(this),signal:this._uiManager._signal}))),this.addStandaloneCommentButton(),(Ft=this._uiManager._editorUndoBar)==null||Ft.hide(),et}pointerdown(et){const{isMac:$t}=util_FeatureTest.platform;if(et.button!==0||et.ctrlKey&&$t){et.preventDefault();return}if(jr(this,Qm,!0),this._isDraggable){Br(this,RR,MS).call(this,et);return}Br(this,S1,a$).call(this,et)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){ar(this,yu)&&clearTimeout(ar(this,yu)),jr(this,yu,setTimeout(()=>{var et;jr(this,yu,null),(et=this.parent)==null||et.moveEditorInDOM(this)},0))}_setParentAndPosition(et,$t,kt){et.changeParent(this),this.x=$t,this.y=kt,this.fixAndSetPosition(),this._onTranslated()}getRect(et,$t,kt=this.rotation){const Tt=this.parentScale,[Dt,Ft]=this.pageDimensions,[Ut,Ht]=this.pageTranslation,Kt=et/Tt,Yt=$t/Tt,Jt=this.x*Dt,Zt=this.y*Ft,er=this.width*Dt,rr=this.height*Ft;switch(kt){case 0:return[Jt+Kt+Ut,Ft-Zt-Yt-rr+Ht,Jt+Kt+er+Ut,Ft-Zt-Yt+Ht];case 90:return[Jt+Yt+Ut,Ft-Zt+Kt+Ht,Jt+Yt+rr+Ut,Ft-Zt+Kt+er+Ht];case 180:return[Jt-Kt-er+Ut,Ft-Zt+Yt+Ht,Jt-Kt+Ut,Ft-Zt+Yt+rr+Ht];case 270:return[Jt-Yt-rr+Ut,Ft-Zt-Kt-er+Ht,Jt-Yt+Ut,Ft-Zt-Kt+Ht];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(et,$t){const[kt,Tt,Dt,Ft]=et,Ut=Dt-kt,Ht=Ft-Tt;switch(this.rotation){case 0:return[kt,$t-Ft,Ut,Ht];case 90:return[kt,$t-Tt,Ht,Ut];case 180:return[Dt,$t-Tt,Ut,Ht];case 270:return[Dt,$t-Ft,Ht,Ut];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&Hs._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){var et;(et=ar(this,Pn))==null||et.onUpdatedColor()}getData(){const{comment:{text:et,color:$t,date:kt,opacity:Tt,deleted:Dt,richText:Ft},uid:Ut,pageIndex:Ht,creationDate:Kt,modificationDate:Yt}=this;return{id:Ut,pageIndex:Ht,rect:this.getPDFRect(),richText:Ft,contentsObj:{str:et},creationDate:Kt,modificationDate:kt||Yt,popupRef:!Dt,color:$t,opacity:Tt}}onceAdded(et){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),jr(this,Jm,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),jr(this,Jm,!1),!0):!1}isInEditMode(){return ar(this,Jm)}shouldGetKeyboardEvents(){return ar(this,Ku)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:et,left:$t,bottom:kt,right:Tt}=this.getClientDimensions(),{innerHeight:Dt,innerWidth:Ft}=window;return $t<Ft&&Tt>0&&et<Dt&&kt>0}rebuild(){Br(this,_1,o$).call(this)}rotate(et){}resize(){}serializeDeleted(){var et;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((et=this._initialData)==null?void 0:et.popupRef)||""}}serialize(et=!1,$t=null){var kt;return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:((kt=this._initialData)==null?void 0:kt.popupRef)||""}}static async deserialize(et,$t,kt){const Tt=new this.prototype.constructor({parent:$t,id:$t.getNextId(),uiManager:kt,annotationElementId:et.annotationElementId,creationDate:et.creationDate,modificationDate:et.modificationDate});Tt.rotation=et.rotation,jr(Tt,Ym,et.accessibilityData),Tt._isCopy=et.isCopy||!1;const[Dt,Ft]=Tt.pageDimensions,[Ut,Ht,Kt,Yt]=Tt.getRectInCurrentCoords(et.rect,Ft);return Tt.x=Ut/Dt,Tt.y=Ht/Ft,Tt.width=Kt/Dt,Tt.height=Yt/Ft,Tt}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var et,$t;if((et=ar(this,zp))==null||et.abort(),jr(this,zp,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),ar(this,yu)&&(clearTimeout(ar(this,yu)),jr(this,yu,null)),Br(this,ex,kv).call(this),this.removeEditToolbar(),ar(this,zl)){for(const kt of ar(this,zl).values())clearTimeout(kt);jr(this,zl,null)}this.parent=null,($t=ar(this,Zm))==null||$t.destroy(),jr(this,Zm,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(Br(this,yR,CS).call(this),ar(this,Eo).classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[et,$t]}=this,[kt,Tt,Dt,Ft]=this.getPDFRect();return[Hs._round(kt+(Dt-kt)*et),Hs._round(Tt+(Ft-Tt)*(1-$t))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return ar(this,Pn).commentPopupPositionInLayer}set commentPopupPosition(et){ar(this,Pn).commentPopupPositionInLayer=et}hasDefaultPopupPosition(){return ar(this,Pn).hasDefaultPopupPosition()}get commentButtonWidth(){return ar(this,Pn).commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(et){ar(this,Pn).setCommentButtonStates(et)}keydown(et){if(!this.isResizable||et.target!==this.div||et.key!=="Enter")return;this._uiManager.setSelected(this),jr(this,qu,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const $t=ar(this,Eo).children;if(!ar(this,_c)){jr(this,_c,Array.from($t));const Ft=Br(this,$R,IS).bind(this),Ut=Br(this,kR,DS).bind(this),Ht=this._uiManager._signal;for(const Kt of ar(this,_c)){const Yt=Kt.getAttribute("data-resizer-name");Kt.setAttribute("role","spinbutton"),Kt.addEventListener("keydown",Ft,{signal:Ht}),Kt.addEventListener("blur",Ut,{signal:Ht}),Kt.addEventListener("focus",Br(this,SR,FS).bind(this,Yt),{signal:Ht}),Kt.setAttribute("data-l10n-id",Hs._l10nResizer[Yt])}}const kt=ar(this,_c)[0];let Tt=0;for(const Ft of $t){if(Ft===kt)break;Tt++}const Dt=(360-this.rotation+this.parentRotation)%360/90*(ar(this,_c).length/4);if(Dt!==Tt){if(Dt<Tt)for(let Ut=0;Ut<Tt-Dt;Ut++)ar(this,Eo).append(ar(this,Eo).firstChild);else if(Dt>Tt)for(let Ut=0;Ut<Dt-Tt;Ut++)ar(this,Eo).firstChild.before(ar(this,Eo).lastChild);let Ft=0;for(const Ut of $t){const Kt=ar(this,_c)[Ft++].getAttribute("data-resizer-name");Ut.setAttribute("data-l10n-id",Hs._l10nResizer[Kt])}}Br(this,C1,l$).call(this,0),jr(this,Ku,!0),ar(this,Eo).firstChild.focus({focusVisible:!0}),et.preventDefault(),et.stopImmediatePropagation()}_resizeWithKeyboard(et,$t){ar(this,Ku)&&Br(this,k1,i$).call(this,ar(this,v1),{deltaX:et,deltaY:$t,fromKeyboard:!0})}_stopResizingWithKeyboard(){Br(this,ex,kv).call(this),this.div.focus()}select(){var et,$t,kt;if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),(et=this.div)==null||et.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var Tt,Dt;(Tt=this.div)!=null&&Tt.classList.contains("selectedEditor")&&((Dt=this._editToolbar)==null||Dt.show())});return}($t=this._editToolbar)==null||$t.show(),(kt=ar(this,Hn))==null||kt.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>{var et;return(et=this.div)==null?void 0:et.focus({preventScroll:!0})},0)}unselect(){var et,$t,kt,Tt,Dt;this.isSelected&&(this.isSelected=!1,(et=ar(this,Eo))==null||et.classList.add("hidden"),($t=this.div)==null||$t.classList.remove("selectedEditor"),(kt=this.div)!=null&&kt.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(Tt=this._editToolbar)==null||Tt.hide(),(Dt=ar(this,Hn))==null||Dt.toggleAltTextBadge(!0),this.hasComment&&this._uiManager.toggleComment(this,!1,!1))}updateParams(et,$t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(et){et.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return ar(this,E1)}set isEditing(et){jr(this,E1,et),this.parent&&(et?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(et,$t=!1){if($t){ar(this,zl)||jr(this,zl,new Map);const{action:kt}=et;let Tt=ar(this,zl).get(kt);Tt&&clearTimeout(Tt),Tt=setTimeout(()=>{this._reportTelemetry(et),ar(this,zl).delete(kt),ar(this,zl).size===0&&jr(this,zl,null)},Hs._telemetryTimeout),ar(this,zl).set(kt,Tt);return}et.type||(et.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:et}})}show(et=this._isVisible){this.div.classList.toggle("hidden",!et),this._isVisible=et}enable(){this.div&&(this.div.tabIndex=0),jr(this,B0,!1)}disable(){this.div&&(this.div.tabIndex=-1),jr(this,B0,!0)}updateFakeAnnotationElement(et){if(!ar(this,bu)&&!this.deleted){jr(this,bu,et.addFakeAnnotation(this));return}if(this.deleted){ar(this,bu).remove(),jr(this,bu,null);return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&ar(this,bu).updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(et){if(this.deleted)return et.hide(),null;let $t=et.container.querySelector(".annotationContent");if(!$t)$t=document.createElement("div"),$t.classList.add("annotationContent",this.editorType),et.container.prepend($t);else if($t.nodeName==="CANVAS"){const kt=$t;$t=document.createElement("div"),$t.classList.add("annotationContent",this.editorType),kt.before($t)}return $t}resetAnnotationElement(et){const{firstChild:$t}=et.container;($t==null?void 0:$t.nodeName)==="DIV"&&$t.classList.contains("annotationContent")&&$t.remove()}};Ym=new WeakMap,_c=new WeakMap,Hn=new WeakMap,Pn=new WeakMap,Wu=new WeakMap,B0=new WeakMap,Vp=new WeakMap,y1=new WeakMap,Eo=new WeakMap,Xm=new WeakMap,qu=new WeakMap,bu=new WeakMap,zp=new WeakMap,v1=new WeakMap,Qm=new WeakMap,Qo=new WeakMap,E1=new WeakMap,Jm=new WeakMap,Ku=new WeakMap,yu=new WeakMap,V0=new WeakMap,z0=new WeakMap,zl=new WeakMap,Zm=new WeakMap,j1=new WeakMap,bR=new WeakMap,w1=new WeakSet,r$=function([et,$t],kt,Tt){[kt,Tt]=this.screenToPageTranslation(kt,Tt),this.x+=kt/et,this.y+=Tt/$t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},R1=new WeakSet,s$=function(et,$t,kt){switch(kt){case 90:return[$t,-et];case 180:return[-et,-$t];case 270:return[-$t,et];default:return[et,$t]}},U0=new WeakSet,jw=function(et){switch(et){case 90:{const[$t,kt]=this.pageDimensions;return[0,-$t/kt,kt/$t,0]}case 180:return[-1,0,0,-1];case 270:{const[$t,kt]=this.pageDimensions;return[0,$t/kt,-kt/$t,0]}default:return[1,0,0,1]}},yR=new WeakSet,CS=function(){if(ar(this,Eo))return;jr(this,Eo,document.createElement("div")),ar(this,Eo).classList.add("resizers");const et=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],$t=this._uiManager._signal;for(const kt of et){const Tt=document.createElement("div");ar(this,Eo).append(Tt),Tt.classList.add("resizer",kt),Tt.setAttribute("data-resizer-name",kt),Tt.addEventListener("pointerdown",Br(this,vR,AS).bind(this,kt),{signal:$t}),Tt.addEventListener("contextmenu",noContextMenu,{signal:$t}),Tt.tabIndex=-1}this.div.prepend(ar(this,Eo))},vR=new WeakSet,AS=function(et,$t){var Yt;$t.preventDefault();const{isMac:kt}=util_FeatureTest.platform;if($t.button!==0||$t.ctrlKey&&kt)return;(Yt=ar(this,Hn))==null||Yt.toggle(!1);const Tt=this._isDraggable;this._isDraggable=!1,jr(this,Xm,[$t.screenX,$t.screenY]);const Dt=new AbortController,Ft=this._uiManager.combinedSignal(Dt);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",Br(this,k1,i$).bind(this,et),{passive:!0,capture:!0,signal:Ft}),window.addEventListener("touchmove",stopEvent,{passive:!1,signal:Ft}),window.addEventListener("contextmenu",noContextMenu,{signal:Ft}),jr(this,qu,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const Ut=this.parent.div.style.cursor,Ht=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle($t.target).cursor;const Kt=()=>{var Jt;Dt.abort(),this.parent.togglePointerEvents(!0),(Jt=ar(this,Hn))==null||Jt.toggle(!0),this._isDraggable=Tt,this.parent.div.style.cursor=Ut,this.div.style.cursor=Ht,Br(this,H0,ww).call(this)};window.addEventListener("pointerup",Kt,{signal:Ft}),window.addEventListener("blur",Kt,{signal:Ft})},$1=new WeakSet,n$=function(et,$t,kt,Tt){this.width=kt,this.height=Tt,this.x=et,this.y=$t,this.setDims(),this.fixAndSetPosition(),this._onResized()},H0=new WeakSet,ww=function(){if(!ar(this,qu))return;const{savedX:et,savedY:$t,savedWidth:kt,savedHeight:Tt}=ar(this,qu);jr(this,qu,null);const Dt=this.x,Ft=this.y,Ut=this.width,Ht=this.height;Dt===et&&Ft===$t&&Ut===kt&&Ht===Tt||this.addCommands({cmd:Br(this,$1,n$).bind(this,Dt,Ft,Ut,Ht),undo:Br(this,$1,n$).bind(this,et,$t,kt,Tt),mustExec:!0})},k1=new WeakSet,i$=function(et,$t){const[kt,Tt]=this.parentDimensions,Dt=this.x,Ft=this.y,Ut=this.width,Ht=this.height,Kt=Hs.MIN_SIZE/kt,Yt=Hs.MIN_SIZE/Tt,Jt=Br(this,U0,jw).call(this,this.rotation),Zt=(Rr,Tr)=>[Jt[0]*Rr+Jt[2]*Tr,Jt[1]*Rr+Jt[3]*Tr],er=Br(this,U0,jw).call(this,360-this.rotation),rr=(Rr,Tr)=>[er[0]*Rr+er[2]*Tr,er[1]*Rr+er[3]*Tr];let sr,ir,nr=!1,or=!1;switch(et){case"topLeft":nr=!0,sr=(Rr,Tr)=>[0,0],ir=(Rr,Tr)=>[Rr,Tr];break;case"topMiddle":sr=(Rr,Tr)=>[Rr/2,0],ir=(Rr,Tr)=>[Rr/2,Tr];break;case"topRight":nr=!0,sr=(Rr,Tr)=>[Rr,0],ir=(Rr,Tr)=>[0,Tr];break;case"middleRight":or=!0,sr=(Rr,Tr)=>[Rr,Tr/2],ir=(Rr,Tr)=>[0,Tr/2];break;case"bottomRight":nr=!0,sr=(Rr,Tr)=>[Rr,Tr],ir=(Rr,Tr)=>[0,0];break;case"bottomMiddle":sr=(Rr,Tr)=>[Rr/2,Tr],ir=(Rr,Tr)=>[Rr/2,0];break;case"bottomLeft":nr=!0,sr=(Rr,Tr)=>[0,Tr],ir=(Rr,Tr)=>[Rr,0];break;case"middleLeft":or=!0,sr=(Rr,Tr)=>[0,Tr/2],ir=(Rr,Tr)=>[Rr,Tr/2];break}const lr=sr(Ut,Ht),cr=ir(Ut,Ht);let dr=Zt(...cr);const ur=Hs._round(Dt+dr[0]),pr=Hs._round(Ft+dr[1]);let mr=1,vr=1,kr,br;if($t.fromKeyboard)({deltaX:kr,deltaY:br}=$t);else{const{screenX:Rr,screenY:Tr}=$t,[xr,wr]=ar(this,Xm);[kr,br]=this.screenToPageTranslation(Rr-xr,Tr-wr),ar(this,Xm)[0]=Rr,ar(this,Xm)[1]=Tr}if([kr,br]=rr(kr/kt,br/Tt),nr){const Rr=Math.hypot(Ut,Ht);mr=vr=Math.max(Math.min(Math.hypot(cr[0]-lr[0]-kr,cr[1]-lr[1]-br)/Rr,1/Ut,1/Ht),Kt/Ut,Yt/Ht)}else or?mr=MathClamp(Math.abs(cr[0]-lr[0]-kr),Kt,1)/Ut:vr=MathClamp(Math.abs(cr[1]-lr[1]-br),Yt,1)/Ht;const _r=Hs._round(Ut*mr),Or=Hs._round(Ht*vr);dr=Zt(...ir(_r,Or));const Pr=ur-dr[0],Mr=pr-dr[1];ar(this,Qo)||jr(this,Qo,[this.x,this.y,this.width,this.height]),this.width=_r,this.height=Or,this.x=Pr,this.y=Mr,this.setDims(),this.fixAndSetPosition(),this._onResizing()},ER=new WeakSet,TS=function(){var et;jr(this,qu,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(et=ar(this,Hn))==null||et.toggle(!1),this.parent.togglePointerEvents(!1)},jR=new WeakSet,NS=function(et,$t,kt){let Dt=.7*(kt/$t)+1-.7;if(Dt===1)return;const Ft=Br(this,U0,jw).call(this,this.rotation),Ut=(ur,pr)=>[Ft[0]*ur+Ft[2]*pr,Ft[1]*ur+Ft[3]*pr],[Ht,Kt]=this.parentDimensions,Yt=this.x,Jt=this.y,Zt=this.width,er=this.height,rr=Hs.MIN_SIZE/Ht,sr=Hs.MIN_SIZE/Kt;Dt=Math.max(Math.min(Dt,1/Zt,1/er),rr/Zt,sr/er);const ir=Hs._round(Zt*Dt),nr=Hs._round(er*Dt);if(ir===Zt&&nr===er)return;ar(this,Qo)||jr(this,Qo,[Yt,Jt,Zt,er]);const or=Ut(Zt/2,er/2),lr=Hs._round(Yt+or[0]),cr=Hs._round(Jt+or[1]),dr=Ut(ir/2,nr/2);this.x=lr-dr[0],this.y=cr-dr[1],this.width=ir,this.height=nr,this.setDims(),this.fixAndSetPosition(),this._onResizing()},wR=new WeakSet,PS=function(){var et;(et=ar(this,Hn))==null||et.toggle(!0),this.parent.togglePointerEvents(!0),Br(this,H0,ww).call(this)},S1=new WeakSet,a$=function(et){const{isMac:$t}=util_FeatureTest.platform;et.ctrlKey&&!$t||et.shiftKey||et.metaKey&&$t?this.parent.toggleSelected(this):this.parent.setSelected(this)},RR=new WeakSet,MS=function(et){const{isSelected:$t}=this;this._uiManager.setUpDragSession();let kt=!1;const Tt=new AbortController,Dt=this._uiManager.combinedSignal(Tt),Ft={capture:!0,passive:!1,signal:Dt},Ut=Kt=>{Tt.abort(),jr(this,Vp,null),jr(this,Qm,!1),this._uiManager.endDragSession()||Br(this,S1,a$).call(this,Kt),kt&&this._onStopDragging()};$t&&(jr(this,V0,et.clientX),jr(this,z0,et.clientY),jr(this,Vp,et.pointerId),jr(this,y1,et.pointerType),window.addEventListener("pointermove",Kt=>{kt||(kt=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:Yt,clientY:Jt,pointerId:Zt}=Kt;if(Zt!==ar(this,Vp)){stopEvent(Kt);return}const[er,rr]=this.screenToPageTranslation(Yt-ar(this,V0),Jt-ar(this,z0));jr(this,V0,Yt),jr(this,z0,Jt),this._uiManager.dragSelectedEditors(er,rr)},Ft),window.addEventListener("touchmove",stopEvent,Ft),window.addEventListener("pointerdown",Kt=>{Kt.pointerType===ar(this,y1)&&(ar(this,Zm)||Kt.isPrimary)&&Ut(Kt),stopEvent(Kt)},Ft));const Ht=Kt=>{if(!ar(this,Vp)||ar(this,Vp)===Kt.pointerId){Ut(Kt);return}stopEvent(Kt)};window.addEventListener("pointerup",Ht,{signal:Dt}),window.addEventListener("blur",Ht,{signal:Dt})},_1=new WeakSet,o$=function(){if(ar(this,zp)||!this.div)return;jr(this,zp,new AbortController);const et=this._uiManager.combinedSignal(ar(this,zp));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:et}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:et})},$R=new WeakSet,IS=function(et){Hs._resizerKeyboardManager.exec(this,et)},kR=new WeakSet,DS=function(et){var $t;ar(this,Ku)&&(($t=et.relatedTarget)==null?void 0:$t.parentNode)!==ar(this,Eo)&&Br(this,ex,kv).call(this)},SR=new WeakSet,FS=function(et){jr(this,v1,ar(this,Ku)?et:"")},C1=new WeakSet,l$=function(et){if(ar(this,_c))for(const $t of ar(this,_c))$t.tabIndex=et},ex=new WeakSet,kv=function(){jr(this,Ku,!1),Br(this,C1,l$).call(this,-1),Br(this,H0,ww).call(this)},yr(Hs,R1),ys(Hs,"_l10n",null),ys(Hs,"_l10nResizer",null),ys(Hs,"_borderLineWidth",-1),ys(Hs,"_colorManager",new ColorManager),ys(Hs,"_zIndex",1),ys(Hs,"_telemetryTimeout",1e3);let AnnotationEditor=Hs;class FakeEditor extends AnnotationEditor{constructor(et){super(et),this.annotationElementId=et.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const SEED=3285377520,MASK_HIGH=4294901760,MASK_LOW=65535;class MurmurHash3_64{constructor(et){this.h1=et?et&4294967295:SEED,this.h2=et?et&4294967295:SEED}update(et){let $t,kt;if(typeof et=="string"){$t=new Uint8Array(et.length*2),kt=0;for(let sr=0,ir=et.length;sr<ir;sr++){const nr=et.charCodeAt(sr);nr<=255?$t[kt++]=nr:($t[kt++]=nr>>>8,$t[kt++]=nr&255)}}else if(ArrayBuffer.isView(et))$t=et.slice(),kt=$t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const Tt=kt>>2,Dt=kt-Tt*4,Ft=new Uint32Array($t.buffer,0,Tt);let Ut=0,Ht=0,Kt=this.h1,Yt=this.h2;const Jt=3432918353,Zt=461845907,er=Jt&MASK_LOW,rr=Zt&MASK_LOW;for(let sr=0;sr<Tt;sr++)sr&1?(Ut=Ft[sr],Ut=Ut*Jt&MASK_HIGH|Ut*er&MASK_LOW,Ut=Ut<<15|Ut>>>17,Ut=Ut*Zt&MASK_HIGH|Ut*rr&MASK_LOW,Kt^=Ut,Kt=Kt<<13|Kt>>>19,Kt=Kt*5+3864292196):(Ht=Ft[sr],Ht=Ht*Jt&MASK_HIGH|Ht*er&MASK_LOW,Ht=Ht<<15|Ht>>>17,Ht=Ht*Zt&MASK_HIGH|Ht*rr&MASK_LOW,Yt^=Ht,Yt=Yt<<13|Yt>>>19,Yt=Yt*5+3864292196);switch(Ut=0,Dt){case 3:Ut^=$t[Tt*4+2]<<16;case 2:Ut^=$t[Tt*4+1]<<8;case 1:Ut^=$t[Tt*4],Ut=Ut*Jt&MASK_HIGH|Ut*er&MASK_LOW,Ut=Ut<<15|Ut>>>17,Ut=Ut*Zt&MASK_HIGH|Ut*rr&MASK_LOW,Tt&1?Kt^=Ut:Yt^=Ut}this.h1=Kt,this.h2=Yt}hexdigest(){let et=this.h1,$t=this.h2;return et^=$t>>>1,et=et*3981806797&MASK_HIGH|et*36045&MASK_LOW,$t=$t*4283543511&MASK_HIGH|(($t<<16|et>>>16)*2950163797&MASK_HIGH)>>>16,et^=$t>>>1,et=et*444984403&MASK_HIGH|et*60499&MASK_LOW,$t=$t*3301882366&MASK_HIGH|(($t<<16|et>>>16)*3120437893&MASK_HIGH)>>>16,et^=$t>>>1,(et>>>0).toString(16).padStart(8,"0")+($t>>>0).toString(16).padStart(8,"0")}}const SerializableEmpty=Object.freeze({map:null,hash:"",transfer:void 0});var tx,rx,Yu,jo,_R,LS;class AnnotationStorage{constructor(){yr(this,_R);yr(this,tx,!1);yr(this,rx,null);yr(this,Yu,null);yr(this,jo,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(et,$t){const kt=ar(this,jo).get(et);return kt===void 0?$t:Object.assign($t,kt)}getRawValue(et){return ar(this,jo).get(et)}remove(et){const $t=ar(this,jo).get(et);if($t!==void 0&&($t instanceof AnnotationEditor&&ar(this,Yu).delete($t.annotationElementId),ar(this,jo).delete(et),ar(this,jo).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const kt of ar(this,jo).values())if(kt instanceof AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(et,$t){const kt=ar(this,jo).get(et);let Tt=!1;if(kt!==void 0)for(const[Dt,Ft]of Object.entries($t))kt[Dt]!==Ft&&(Tt=!0,kt[Dt]=Ft);else Tt=!0,ar(this,jo).set(et,$t);Tt&&Br(this,_R,LS).call(this),$t instanceof AnnotationEditor&&((ar(this,Yu)||jr(this,Yu,new Map)).set($t.annotationElementId,$t),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor($t.constructor._type))}has(et){return ar(this,jo).has(et)}get size(){return ar(this,jo).size}resetModified(){ar(this,tx)&&(jr(this,tx,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new PrintAnnotationStorage(this)}get serializable(){if(ar(this,jo).size===0)return SerializableEmpty;const et=new Map,$t=new MurmurHash3_64,kt=[],Tt=Object.create(null);let Dt=!1;for(const[Ft,Ut]of ar(this,jo)){const Ht=Ut instanceof AnnotationEditor?Ut.serialize(!1,Tt):Ut;Ht&&(et.set(Ft,Ht),$t.update(`${Ft}:${JSON.stringify(Ht)}`),Dt||(Dt=!!Ht.bitmap))}if(Dt)for(const Ft of et.values())Ft.bitmap&&kt.push(Ft.bitmap);return et.size>0?{map:et,hash:$t.hexdigest(),transfer:kt}:SerializableEmpty}get editorStats(){let et=null;const $t=new Map;let kt=0,Tt=0;for(const Dt of ar(this,jo).values()){if(!(Dt instanceof AnnotationEditor)){Dt.popup&&(Dt.popup.deleted?Tt+=1:kt+=1);continue}Dt.isCommentDeleted?Tt+=1:Dt.hasEditedComment&&(kt+=1);const Ft=Dt.telemetryFinalData;if(!Ft)continue;const{type:Ut}=Ft;$t.has(Ut)||$t.set(Ut,Object.getPrototypeOf(Dt).constructor),et||(et=Object.create(null));const Ht=et[Ut]||(et[Ut]=new Map);for(const[Kt,Yt]of Object.entries(Ft)){if(Kt==="type")continue;let Jt=Ht.get(Kt);Jt||(Jt=new Map,Ht.set(Kt,Jt));const Zt=Jt.get(Yt)??0;Jt.set(Yt,Zt+1)}}if((Tt>0||kt>0)&&(et||(et=Object.create(null)),et.comments={deleted:Tt,edited:kt}),!et)return null;for(const[Dt,Ft]of $t)et[Dt]=Ft.computeTelemetryFinalData(et[Dt]);return et}resetModifiedIds(){jr(this,rx,null)}updateEditor(et,$t){var Tt;const kt=(Tt=ar(this,Yu))==null?void 0:Tt.get(et);return kt?(kt.updateFromAnnotationLayer($t),!0):!1}getEditor(et){var $t;return(($t=ar(this,Yu))==null?void 0:$t.get(et))||null}get modifiedIds(){if(ar(this,rx))return ar(this,rx);const et=[];if(ar(this,Yu))for(const $t of ar(this,Yu).values())$t.serialize()&&et.push($t.annotationElementId);return jr(this,rx,{ids:new Set(et),hash:et.join(",")})}[Symbol.iterator](){return ar(this,jo).entries()}}tx=new WeakMap,rx=new WeakMap,Yu=new WeakMap,jo=new WeakMap,_R=new WeakSet,LS=function(){ar(this,tx)||(jr(this,tx,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var A1;class PrintAnnotationStorage extends AnnotationStorage{constructor($t){super();yr(this,A1,void 0);const{map:kt,hash:Tt,transfer:Dt}=$t.serializable,Ft=structuredClone(kt,Dt?{transfer:Dt}:null);jr(this,A1,{map:Ft,hash:Tt,transfer:Dt})}get print(){unreachable("Should not call PrintAnnotationStorage.print")}get serializable(){return ar(this,A1)}get modifiedIds(){return shadow(this,"modifiedIds",{ids:new Set,hash:""})}}A1=new WeakMap;var G0;class FontLoader{constructor({ownerDocument:et=globalThis.document,styleElement:$t=null}){yr(this,G0,new Set);this._document=et,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(et){this.nativeFontFaces.add(et),this._document.fonts.add(et)}removeNativeFontFace(et){this.nativeFontFaces.delete(et),this._document.fonts.delete(et)}insertRule(et){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const $t=this.styleElement.sheet;$t.insertRule(et,$t.cssRules.length)}clear(){for(const et of this.nativeFontFaces)this._document.fonts.delete(et);this.nativeFontFaces.clear(),ar(this,G0).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:et,disableFontFace:$t,_inspectFont:kt}){if(!(!et||ar(this,G0).has(et.loadedName))){if(assert(!$t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:Tt,src:Dt,style:Ft}=et,Ut=new FontFace(Tt,Dt,Ft);this.addNativeFontFace(Ut);try{await Ut.load(),ar(this,G0).add(Tt),kt==null||kt(et)}catch{warn(`Cannot load system font: ${et.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(Ut)}return}unreachable("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(et){if(et.attached||et.missingFile&&!et.systemFontInfo)return;if(et.attached=!0,et.systemFontInfo){await this.loadSystemFont(et);return}if(this.isFontLoadingAPISupported){const kt=et.createNativeFontFace();if(kt){this.addNativeFontFace(kt);try{await kt.loaded}catch(Tt){throw warn(`Failed to load font '${kt.family}': '${Tt}'.`),et.disableFontFace=!0,Tt}}return}const $t=et.createFontFaceRule();if($t){if(this.insertRule($t),this.isSyncFontLoadingSupported)return;await new Promise(kt=>{const Tt=this._queueLoadingCallback(kt);this._prepareFontLoadEvent(et,Tt)})}}get isFontLoadingAPISupported(){var $t;const et=!!(($t=this._document)!=null&&$t.fonts);return shadow(this,"isFontLoadingAPISupported",et)}get isSyncFontLoadingSupported(){return shadow(this,"isSyncFontLoadingSupported",isNodeJS||util_FeatureTest.platform.isFirefox)}_queueLoadingCallback(et){function $t(){for(assert(!Tt.done,"completeRequest() cannot be called twice."),Tt.done=!0;kt.length>0&&kt[0].done;){const Dt=kt.shift();setTimeout(Dt.callback,0)}}const{loadingRequests:kt}=this,Tt={done:!1,complete:$t,callback:et};return kt.push(Tt),Tt}get _loadTestFont(){const et=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return shadow(this,"_loadTestFont",et)}_prepareFontLoadEvent(et,$t){function kt(cr,dr){return cr.charCodeAt(dr)<<24|cr.charCodeAt(dr+1)<<16|cr.charCodeAt(dr+2)<<8|cr.charCodeAt(dr+3)&255}function Tt(cr,dr,ur,pr){const mr=cr.substring(0,dr),vr=cr.substring(dr+ur);return mr+pr+vr}let Dt,Ft;const Ut=this._document.createElement("canvas");Ut.width=1,Ut.height=1;const Ht=Ut.getContext("2d");let Kt=0;function Yt(cr,dr){if(++Kt>30){warn("Load test font never loaded."),dr();return}if(Ht.font="30px "+cr,Ht.fillText(".",0,20),Ht.getImageData(0,0,1,1).data[3]>0){dr();return}setTimeout(Yt.bind(null,cr,dr))}const Jt=`lt${Date.now()}${this.loadTestFontId++}`;let Zt=this._loadTestFont;Zt=Tt(Zt,976,Jt.length,Jt);const rr=16,sr=1482184792;let ir=kt(Zt,rr);for(Dt=0,Ft=Jt.length-3;Dt<Ft;Dt+=4)ir=ir-sr+kt(Jt,Dt)|0;Dt<Jt.length&&(ir=ir-sr+kt(Jt+"XXX",Dt)|0),Zt=Tt(Zt,rr,4,string32(ir));const nr=`url(data:font/opentype;base64,${btoa(Zt)});`,or=`@font-face {font-family:"${Jt}";src:${nr}}`;this.insertRule(or);const lr=this._document.createElement("div");lr.style.visibility="hidden",lr.style.width=lr.style.height="10px",lr.style.position="absolute",lr.style.top=lr.style.left="0px";for(const cr of[et.loadedName,Jt]){const dr=this._document.createElement("span");dr.textContent="Hi",dr.style.fontFamily=cr,lr.append(dr)}this._document.body.append(lr),Yt(Jt,()=>{lr.remove(),$t.complete()})}}G0=new WeakMap;var $n;class FontFaceObject{constructor(et,$t=null,kt,Tt){yr(this,$n,void 0);this.compiledGlyphs=Object.create(null),jr(this,$n,et),this._inspectFont=$t,kt&&Object.assign(this,kt),Tt&&(this.charProcOperatorList=Tt)}createNativeFontFace(){var $t;if(!this.data||this.disableFontFace)return null;let et;if(!this.cssFontInfo)et=new FontFace(this.loadedName,this.data,{});else{const kt={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(kt.style=`oblique ${this.cssFontInfo.italicAngle}deg`),et=new FontFace(this.cssFontInfo.fontFamily,this.data,kt)}return($t=this._inspectFont)==null||$t.call(this,this),et}createFontFaceRule(){var kt;if(!this.data||this.disableFontFace)return null;const et=`url(data:${this.mimetype};base64,${toBase64Util(this.data)});`;let $t;if(!this.cssFontInfo)$t=`@font-face {font-family:"${this.loadedName}";src:${et}}`;else{let Tt=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(Tt+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),$t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${Tt}src:${et}}`}return(kt=this._inspectFont)==null||kt.call(this,this,et),$t}getPathGenerator(et,$t){if(this.compiledGlyphs[$t]!==void 0)return this.compiledGlyphs[$t];const kt=this.loadedName+"_path_"+$t;let Tt;try{Tt=et.get(kt)}catch(Ft){warn(`getPathGenerator - ignoring character: "${Ft}".`)}const Dt=new Path2D(Tt||"");return this.fontExtraProperties||et.delete(kt),this.compiledGlyphs[$t]=Dt}get black(){return ar(this,$n).black}get bold(){return ar(this,$n).bold}get disableFontFace(){return ar(this,$n).disableFontFace??!1}get fontExtraProperties(){return ar(this,$n).fontExtraProperties??!1}get isInvalidPDFjsFont(){return ar(this,$n).isInvalidPDFjsFont}get isType3Font(){return ar(this,$n).isType3Font}get italic(){return ar(this,$n).italic}get missingFile(){return ar(this,$n).missingFile}get remeasure(){return ar(this,$n).remeasure}get vertical(){return ar(this,$n).vertical}get ascent(){return ar(this,$n).ascent}get defaultWidth(){return ar(this,$n).defaultWidth}get descent(){return ar(this,$n).descent}get bbox(){return ar(this,$n).bbox}get fontMatrix(){return ar(this,$n).fontMatrix}get fallbackName(){return ar(this,$n).fallbackName}get loadedName(){return ar(this,$n).loadedName}get mimetype(){return ar(this,$n).mimetype}get name(){return ar(this,$n).name}get data(){return ar(this,$n).data}clearData(){ar(this,$n).clearData()}get cssFontInfo(){return ar(this,$n).cssFontInfo}get systemFontInfo(){return ar(this,$n).systemFontInfo}get defaultVMetrics(){return ar(this,$n).defaultVMetrics}}$n=new WeakMap;function getUrlProp(dt){if(dt instanceof URL)return dt.href;if(typeof dt=="string"){if(isNodeJS)return dt;const et=URL.parse(dt,window.location);if(et)return et.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(dt){if(isNodeJS&&typeof Buffer<"u"&&dt instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(dt instanceof Uint8Array&&dt.byteLength===dt.buffer.byteLength)return dt;if(typeof dt=="string")return stringToBytes(dt);if(dt instanceof ArrayBuffer||ArrayBuffer.isView(dt)||typeof dt=="object"&&!isNaN(dt==null?void 0:dt.length))return new Uint8Array(dt);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function getFactoryUrlProp(dt){if(typeof dt!="string")return null;if(dt.endsWith("/"))return dt;throw new Error(`Invalid factory url: "${dt}" must include trailing slash.`)}const isRefProxy=dt=>typeof dt=="object"&&Number.isInteger(dt==null?void 0:dt.num)&&dt.num>=0&&Number.isInteger(dt==null?void 0:dt.gen)&&dt.gen>=0,isNameProxy=dt=>typeof dt=="object"&&typeof(dt==null?void 0:dt.name)=="string",isValidExplicitDest=_isValidExplicitDest.bind(null,isRefProxy,isNameProxy);var Xu,AR;class LoopbackPort{constructor(){yr(this,Xu,new Map);yr(this,AR,Promise.resolve())}postMessage(et,$t){const kt={data:structuredClone(et,$t?{transfer:$t}:null)};ar(this,AR).then(()=>{for(const[Tt]of ar(this,Xu))Tt.call(this,kt)})}addEventListener(et,$t,kt=null){let Tt=null;if((kt==null?void 0:kt.signal)instanceof AbortSignal){const{signal:Dt}=kt;if(Dt.aborted){warn("LoopbackPort - cannot use an `aborted` signal.");return}const Ft=()=>this.removeEventListener(et,$t);Tt=()=>Dt.removeEventListener("abort",Ft),Dt.addEventListener("abort",Ft)}ar(this,Xu).set($t,Tt)}removeEventListener(et,$t){const kt=ar(this,Xu).get($t);kt==null||kt(),ar(this,Xu).delete($t)}terminate(){for(const[,et]of ar(this,Xu))et==null||et();ar(this,Xu).clear()}}Xu=new WeakMap,AR=new WeakMap;const CallbackKind={DATA:1,ERROR:2},StreamKind={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function onFn(){}function wrapReason(dt){if(dt instanceof AbortException||dt instanceof InvalidPDFException||dt instanceof PasswordException||dt instanceof ResponseException||dt instanceof UnknownErrorException)return dt;switch(dt instanceof Error||typeof dt=="object"&&dt!==null||unreachable('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),dt.name){case"AbortException":return new AbortException(dt.message);case"InvalidPDFException":return new InvalidPDFException(dt.message);case"PasswordException":return new PasswordException(dt.message,dt.code);case"ResponseException":return new ResponseException(dt.message,dt.status,dt.missing);case"UnknownErrorException":return new UnknownErrorException(dt.message,dt.details)}return new UnknownErrorException(dt.message,dt.toString())}var W0,TR,OS,NR,BS,PR,VS,q0,Rw;class MessageHandler{constructor(et,$t,kt){yr(this,TR);yr(this,NR);yr(this,PR);yr(this,q0);yr(this,W0,new AbortController);this.sourceName=et,this.targetName=$t,this.comObj=kt,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),kt.addEventListener("message",Br(this,TR,OS).bind(this),{signal:ar(this,W0).signal})}on(et,$t){const kt=this.actionHandler;if(kt[et])throw new Error(`There is already an actionName called "${et}"`);kt[et]=$t}send(et,$t,kt){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:et,data:$t},kt)}sendWithPromise(et,$t,kt){const Tt=this.callbackId++,Dt=Promise.withResolvers();this.callbackCapabilities[Tt]=Dt;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:et,callbackId:Tt,data:$t},kt)}catch(Ft){Dt.reject(Ft)}return Dt.promise}sendWithStream(et,$t,kt,Tt){const Dt=this.streamId++,Ft=this.sourceName,Ut=this.targetName,Ht=this.comObj;return new ReadableStream({start:Kt=>{const Yt=Promise.withResolvers();return this.streamControllers[Dt]={controller:Kt,startCall:Yt,pullCall:null,cancelCall:null,isClosed:!1},Ht.postMessage({sourceName:Ft,targetName:Ut,action:et,streamId:Dt,data:$t,desiredSize:Kt.desiredSize},Tt),Yt.promise},pull:Kt=>{const Yt=Promise.withResolvers();return this.streamControllers[Dt].pullCall=Yt,Ht.postMessage({sourceName:Ft,targetName:Ut,stream:StreamKind.PULL,streamId:Dt,desiredSize:Kt.desiredSize}),Yt.promise},cancel:Kt=>{assert(Kt instanceof Error,"cancel must have a valid reason");const Yt=Promise.withResolvers();return this.streamControllers[Dt].cancelCall=Yt,this.streamControllers[Dt].isClosed=!0,Ht.postMessage({sourceName:Ft,targetName:Ut,stream:StreamKind.CANCEL,streamId:Dt,reason:wrapReason(Kt)}),Yt.promise}},kt)}destroy(){var et;(et=ar(this,W0))==null||et.abort(),jr(this,W0,null)}}W0=new WeakMap,TR=new WeakSet,OS=function({data:et}){if(et.targetName!==this.sourceName)return;if(et.stream){Br(this,PR,VS).call(this,et);return}if(et.callback){const kt=et.callbackId,Tt=this.callbackCapabilities[kt];if(!Tt)throw new Error(`Cannot resolve callback ${kt}`);if(delete this.callbackCapabilities[kt],et.callback===CallbackKind.DATA)Tt.resolve(et.data);else if(et.callback===CallbackKind.ERROR)Tt.reject(wrapReason(et.reason));else throw new Error("Unexpected callback case");return}const $t=this.actionHandler[et.action];if(!$t)throw new Error(`Unknown action from worker: ${et.action}`);if(et.callbackId){const kt=this.sourceName,Tt=et.sourceName,Dt=this.comObj;Promise.try($t,et.data).then(function(Ft){Dt.postMessage({sourceName:kt,targetName:Tt,callback:CallbackKind.DATA,callbackId:et.callbackId,data:Ft})},function(Ft){Dt.postMessage({sourceName:kt,targetName:Tt,callback:CallbackKind.ERROR,callbackId:et.callbackId,reason:wrapReason(Ft)})});return}if(et.streamId){Br(this,NR,BS).call(this,et);return}$t(et.data)},NR=new WeakSet,BS=function(et){const $t=et.streamId,kt=this.sourceName,Tt=et.sourceName,Dt=this.comObj,Ft=this,Ut=this.actionHandler[et.action],Ht={enqueue(Kt,Yt=1,Jt){if(this.isCancelled)return;const Zt=this.desiredSize;this.desiredSize-=Yt,Zt>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),Dt.postMessage({sourceName:kt,targetName:Tt,stream:StreamKind.ENQUEUE,streamId:$t,chunk:Kt},Jt)},close(){this.isCancelled||(this.isCancelled=!0,Dt.postMessage({sourceName:kt,targetName:Tt,stream:StreamKind.CLOSE,streamId:$t}),delete Ft.streamSinks[$t])},error(Kt){assert(Kt instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,Dt.postMessage({sourceName:kt,targetName:Tt,stream:StreamKind.ERROR,streamId:$t,reason:wrapReason(Kt)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:et.desiredSize,ready:null};Ht.sinkCapability.resolve(),Ht.ready=Ht.sinkCapability.promise,this.streamSinks[$t]=Ht,Promise.try(Ut,et.data,Ht).then(function(){Dt.postMessage({sourceName:kt,targetName:Tt,stream:StreamKind.START_COMPLETE,streamId:$t,success:!0})},function(Kt){Dt.postMessage({sourceName:kt,targetName:Tt,stream:StreamKind.START_COMPLETE,streamId:$t,reason:wrapReason(Kt)})})},PR=new WeakSet,VS=function(et){const $t=et.streamId,kt=this.sourceName,Tt=et.sourceName,Dt=this.comObj,Ft=this.streamControllers[$t],Ut=this.streamSinks[$t];switch(et.stream){case StreamKind.START_COMPLETE:et.success?Ft.startCall.resolve():Ft.startCall.reject(wrapReason(et.reason));break;case StreamKind.PULL_COMPLETE:et.success?Ft.pullCall.resolve():Ft.pullCall.reject(wrapReason(et.reason));break;case StreamKind.PULL:if(!Ut){Dt.postMessage({sourceName:kt,targetName:Tt,stream:StreamKind.PULL_COMPLETE,streamId:$t,success:!0});break}Ut.desiredSize<=0&&et.desiredSize>0&&Ut.sinkCapability.resolve(),Ut.desiredSize=et.desiredSize,Promise.try(Ut.onPull||onFn).then(function(){Dt.postMessage({sourceName:kt,targetName:Tt,stream:StreamKind.PULL_COMPLETE,streamId:$t,success:!0})},function(Kt){Dt.postMessage({sourceName:kt,targetName:Tt,stream:StreamKind.PULL_COMPLETE,streamId:$t,reason:wrapReason(Kt)})});break;case StreamKind.ENQUEUE:if(assert(Ft,"enqueue should have stream controller"),Ft.isClosed)break;Ft.controller.enqueue(et.chunk);break;case StreamKind.CLOSE:if(assert(Ft,"close should have stream controller"),Ft.isClosed)break;Ft.isClosed=!0,Ft.controller.close(),Br(this,q0,Rw).call(this,Ft,$t);break;case StreamKind.ERROR:assert(Ft,"error should have stream controller"),Ft.controller.error(wrapReason(et.reason)),Br(this,q0,Rw).call(this,Ft,$t);break;case StreamKind.CANCEL_COMPLETE:et.success?Ft.cancelCall.resolve():Ft.cancelCall.reject(wrapReason(et.reason)),Br(this,q0,Rw).call(this,Ft,$t);break;case StreamKind.CANCEL:if(!Ut)break;const Ht=wrapReason(et.reason);Promise.try(Ut.onCancel||onFn,Ht).then(function(){Dt.postMessage({sourceName:kt,targetName:Tt,stream:StreamKind.CANCEL_COMPLETE,streamId:$t,success:!0})},function(Kt){Dt.postMessage({sourceName:kt,targetName:Tt,stream:StreamKind.CANCEL_COMPLETE,streamId:$t,reason:wrapReason(Kt)})}),Ut.sinkCapability.reject(Ht),Ut.isCancelled=!0,delete this.streamSinks[$t];break;default:throw new Error("Unexpected stream case")}},q0=new WeakSet,Rw=async function(et,$t){var kt,Tt,Dt;await Promise.allSettled([(kt=et.startCall)==null?void 0:kt.promise,(Tt=et.pullCall)==null?void 0:Tt.promise,(Dt=et.cancelCall)==null?void 0:Dt.promise]),delete this.streamControllers[$t]};var T1;class BaseCanvasFactory{constructor({enableHWA:et=!1}){yr(this,T1,!1);jr(this,T1,et)}create(et,$t){if(et<=0||$t<=0)throw new Error("Invalid canvas size");const kt=this._createCanvas(et,$t);return{canvas:kt,context:kt.getContext("2d",{willReadFrequently:!ar(this,T1)})}}reset(et,$t,kt){if(!et.canvas)throw new Error("Canvas is not specified");if($t<=0||kt<=0)throw new Error("Invalid canvas size");et.canvas.width=$t,et.canvas.height=kt}destroy(et){if(!et.canvas)throw new Error("Canvas is not specified");et.canvas.width=0,et.canvas.height=0,et.canvas=null,et.context=null}_createCanvas(et,$t){unreachable("Abstract method `_createCanvas` called.")}}T1=new WeakMap;class DOMCanvasFactory extends BaseCanvasFactory{constructor({ownerDocument:et=globalThis.document,enableHWA:$t=!1}){super({enableHWA:$t}),this._document=et}_createCanvas(et,$t){const kt=this._document.createElement("canvas");return kt.width=et,kt.height=$t,kt}}class BaseCMapReaderFactory{constructor({baseUrl:et=null,isCompressed:$t=!0}){this.baseUrl=et,this.isCompressed=$t}async fetch({name:et}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!et)throw new Error("CMap name must be specified.");const $t=this.baseUrl+et+(this.isCompressed?".bcmap":"");return this._fetch($t).then(kt=>({cMapData:kt,isCompressed:this.isCompressed})).catch(kt=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${$t}`)})}async _fetch(et){unreachable("Abstract method `_fetch` called.")}}class DOMCMapReaderFactory extends BaseCMapReaderFactory{async _fetch(et){const $t=await fetchData(et,this.isCompressed?"arraybuffer":"text");return $t instanceof ArrayBuffer?new Uint8Array($t):stringToBytes($t)}}class BaseFilterFactory{addFilter(et){return"none"}addHCMFilter(et,$t){return"none"}addAlphaFilter(et){return"none"}addLuminosityFilter(et){return"none"}addHighlightHCMFilter(et,$t,kt,Tt,Dt){return"none"}destroy(et=!1){}}var sx,K0,Qu,Ju,Ao,nx,ix,oo,ko,ax,Sv,Up,u0,Y0,$w,Hp,h0,MR,zS,N1,c$,Gp,p0,ox,_v,lx,Cv,P1,d$,cx,Av;class DOMFilterFactory extends BaseFilterFactory{constructor({docId:$t,ownerDocument:kt=globalThis.document}){super();yr(this,oo);yr(this,ax);yr(this,Up);yr(this,Y0);yr(this,Hp);yr(this,MR);yr(this,N1);yr(this,Gp);yr(this,ox);yr(this,lx);yr(this,P1);yr(this,cx);yr(this,sx,void 0);yr(this,K0,void 0);yr(this,Qu,void 0);yr(this,Ju,void 0);yr(this,Ao,void 0);yr(this,nx,void 0);yr(this,ix,0);jr(this,Ju,$t),jr(this,Ao,kt)}addFilter($t){if(!$t)return"none";let kt=ar(this,oo,ko).get($t);if(kt)return kt;const[Tt,Dt,Ft]=Br(this,Y0,$w).call(this,$t),Ut=$t.length===1?Tt:`${Tt}${Dt}${Ft}`;if(kt=ar(this,oo,ko).get(Ut),kt)return ar(this,oo,ko).set($t,kt),kt;const Ht=`g_${ar(this,Ju)}_transfer_map_${xa(this,ix)._++}`,Kt=Br(this,Hp,h0).call(this,Ht);ar(this,oo,ko).set($t,Kt),ar(this,oo,ko).set(Ut,Kt);const Yt=Br(this,Gp,p0).call(this,Ht);return Br(this,lx,Cv).call(this,Tt,Dt,Ft,Yt),Kt}addHCMFilter($t,kt){var rr;const Tt=`${$t}-${kt}`,Dt="base";let Ft=ar(this,ax,Sv).get(Dt);if((Ft==null?void 0:Ft.key)===Tt||(Ft?((rr=Ft.filter)==null||rr.remove(),Ft.key=Tt,Ft.url="none",Ft.filter=null):(Ft={key:Tt,url:"none",filter:null},ar(this,ax,Sv).set(Dt,Ft)),!$t||!kt))return Ft.url;const Ut=Br(this,cx,Av).call(this,$t);$t=Util.makeHexColor(...Ut);const Ht=Br(this,cx,Av).call(this,kt);if(kt=Util.makeHexColor(...Ht),ar(this,Up,u0).style.color="",$t==="#000000"&&kt==="#ffffff"||$t===kt)return Ft.url;const Kt=new Array(256);for(let sr=0;sr<=255;sr++){const ir=sr/255;Kt[sr]=ir<=.03928?ir/12.92:((ir+.055)/1.055)**2.4}const Yt=Kt.join(","),Jt=`g_${ar(this,Ju)}_hcm_filter`,Zt=Ft.filter=Br(this,Gp,p0).call(this,Jt);Br(this,lx,Cv).call(this,Yt,Yt,Yt,Zt),Br(this,N1,c$).call(this,Zt);const er=(sr,ir)=>{const nr=Ut[sr]/255,or=Ht[sr]/255,lr=new Array(ir+1);for(let cr=0;cr<=ir;cr++)lr[cr]=nr+cr/ir*(or-nr);return lr.join(",")};return Br(this,lx,Cv).call(this,er(0,5),er(1,5),er(2,5),Zt),Ft.url=Br(this,Hp,h0).call(this,Jt),Ft.url}addAlphaFilter($t){let kt=ar(this,oo,ko).get($t);if(kt)return kt;const[Tt]=Br(this,Y0,$w).call(this,[$t]),Dt=`alpha_${Tt}`;if(kt=ar(this,oo,ko).get(Dt),kt)return ar(this,oo,ko).set($t,kt),kt;const Ft=`g_${ar(this,Ju)}_alpha_map_${xa(this,ix)._++}`,Ut=Br(this,Hp,h0).call(this,Ft);ar(this,oo,ko).set($t,Ut),ar(this,oo,ko).set(Dt,Ut);const Ht=Br(this,Gp,p0).call(this,Ft);return Br(this,P1,d$).call(this,Tt,Ht),Ut}addLuminosityFilter($t){let kt=ar(this,oo,ko).get($t||"luminosity");if(kt)return kt;let Tt,Dt;if($t?([Tt]=Br(this,Y0,$w).call(this,[$t]),Dt=`luminosity_${Tt}`):Dt="luminosity",kt=ar(this,oo,ko).get(Dt),kt)return ar(this,oo,ko).set($t,kt),kt;const Ft=`g_${ar(this,Ju)}_luminosity_map_${xa(this,ix)._++}`,Ut=Br(this,Hp,h0).call(this,Ft);ar(this,oo,ko).set($t,Ut),ar(this,oo,ko).set(Dt,Ut);const Ht=Br(this,Gp,p0).call(this,Ft);return Br(this,MR,zS).call(this,Ht),$t&&Br(this,P1,d$).call(this,Tt,Ht),Ut}addHighlightHCMFilter($t,kt,Tt,Dt,Ft){var or;const Ut=`${kt}-${Tt}-${Dt}-${Ft}`;let Ht=ar(this,ax,Sv).get($t);if((Ht==null?void 0:Ht.key)===Ut||(Ht?((or=Ht.filter)==null||or.remove(),Ht.key=Ut,Ht.url="none",Ht.filter=null):(Ht={key:Ut,url:"none",filter:null},ar(this,ax,Sv).set($t,Ht)),!kt||!Tt))return Ht.url;const[Kt,Yt]=[kt,Tt].map(Br(this,cx,Av).bind(this));let Jt=Math.round(.2126*Kt[0]+.7152*Kt[1]+.0722*Kt[2]),Zt=Math.round(.2126*Yt[0]+.7152*Yt[1]+.0722*Yt[2]),[er,rr]=[Dt,Ft].map(Br(this,cx,Av).bind(this));Zt<Jt&&([Jt,Zt,er,rr]=[Zt,Jt,rr,er]),ar(this,Up,u0).style.color="";const sr=(lr,cr,dr)=>{const ur=new Array(256),pr=(Zt-Jt)/dr,mr=lr/255,vr=(cr-lr)/(255*dr);let kr=0;for(let br=0;br<=dr;br++){const _r=Math.round(Jt+br*pr),Or=mr+br*vr;for(let Pr=kr;Pr<=_r;Pr++)ur[Pr]=Or;kr=_r+1}for(let br=kr;br<256;br++)ur[br]=ur[kr-1];return ur.join(",")},ir=`g_${ar(this,Ju)}_hcm_${$t}_filter`,nr=Ht.filter=Br(this,Gp,p0).call(this,ir);return Br(this,N1,c$).call(this,nr),Br(this,lx,Cv).call(this,sr(er[0],rr[0],5),sr(er[1],rr[1],5),sr(er[2],rr[2],5),nr),Ht.url=Br(this,Hp,h0).call(this,ir),Ht.url}destroy($t=!1){var kt,Tt,Dt,Ft;$t&&((kt=ar(this,nx))!=null&&kt.size)||((Tt=ar(this,Qu))==null||Tt.parentNode.parentNode.remove(),jr(this,Qu,null),(Dt=ar(this,K0))==null||Dt.clear(),jr(this,K0,null),(Ft=ar(this,nx))==null||Ft.clear(),jr(this,nx,null),jr(this,ix,0))}}sx=new WeakMap,K0=new WeakMap,Qu=new WeakMap,Ju=new WeakMap,Ao=new WeakMap,nx=new WeakMap,ix=new WeakMap,oo=new WeakSet,ko=function(){return ar(this,K0)||jr(this,K0,new Map)},ax=new WeakSet,Sv=function(){return ar(this,nx)||jr(this,nx,new Map)},Up=new WeakSet,u0=function(){if(!ar(this,Qu)){const $t=ar(this,Ao).createElement("div"),{style:kt}=$t;kt.visibility="hidden",kt.contain="strict",kt.width=kt.height=0,kt.position="absolute",kt.top=kt.left=0,kt.zIndex=-1;const Tt=ar(this,Ao).createElementNS(SVG_NS,"svg");Tt.setAttribute("width",0),Tt.setAttribute("height",0),jr(this,Qu,ar(this,Ao).createElementNS(SVG_NS,"defs")),$t.append(Tt),Tt.append(ar(this,Qu)),ar(this,Ao).body.append($t)}return ar(this,Qu)},Y0=new WeakSet,$w=function($t){if($t.length===1){const Kt=$t[0],Yt=new Array(256);for(let Zt=0;Zt<256;Zt++)Yt[Zt]=Kt[Zt]/255;const Jt=Yt.join(",");return[Jt,Jt,Jt]}const[kt,Tt,Dt]=$t,Ft=new Array(256),Ut=new Array(256),Ht=new Array(256);for(let Kt=0;Kt<256;Kt++)Ft[Kt]=kt[Kt]/255,Ut[Kt]=Tt[Kt]/255,Ht[Kt]=Dt[Kt]/255;return[Ft.join(","),Ut.join(","),Ht.join(",")]},Hp=new WeakSet,h0=function($t){if(ar(this,sx)===void 0){jr(this,sx,"");const kt=ar(this,Ao).URL;kt!==ar(this,Ao).baseURI&&(isDataScheme(kt)?warn('#createUrl: ignore "data:"-URL for performance reasons.'):jr(this,sx,updateUrlHash(kt,"")))}return`url(${ar(this,sx)}#${$t})`},MR=new WeakSet,zS=function($t){const kt=ar(this,Ao).createElementNS(SVG_NS,"feColorMatrix");kt.setAttribute("type","matrix"),kt.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),$t.append(kt)},N1=new WeakSet,c$=function($t){const kt=ar(this,Ao).createElementNS(SVG_NS,"feColorMatrix");kt.setAttribute("type","matrix"),kt.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),$t.append(kt)},Gp=new WeakSet,p0=function($t){const kt=ar(this,Ao).createElementNS(SVG_NS,"filter");return kt.setAttribute("color-interpolation-filters","sRGB"),kt.setAttribute("id",$t),ar(this,Up,u0).append(kt),kt},ox=new WeakSet,_v=function($t,kt,Tt){const Dt=ar(this,Ao).createElementNS(SVG_NS,kt);Dt.setAttribute("type","discrete"),Dt.setAttribute("tableValues",Tt),$t.append(Dt)},lx=new WeakSet,Cv=function($t,kt,Tt,Dt){const Ft=ar(this,Ao).createElementNS(SVG_NS,"feComponentTransfer");Dt.append(Ft),Br(this,ox,_v).call(this,Ft,"feFuncR",$t),Br(this,ox,_v).call(this,Ft,"feFuncG",kt),Br(this,ox,_v).call(this,Ft,"feFuncB",Tt)},P1=new WeakSet,d$=function($t,kt){const Tt=ar(this,Ao).createElementNS(SVG_NS,"feComponentTransfer");kt.append(Tt),Br(this,ox,_v).call(this,Tt,"feFuncA",$t)},cx=new WeakSet,Av=function($t){return ar(this,Up,u0).style.color=$t,getRGB(getComputedStyle(ar(this,Up,u0)).getPropertyValue("color"))};class BaseStandardFontDataFactory{constructor({baseUrl:et=null}){this.baseUrl=et}async fetch({filename:et}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!et)throw new Error("Font filename must be specified.");const $t=`${this.baseUrl}${et}`;return this._fetch($t).catch(kt=>{throw new Error(`Unable to load font data at: ${$t}`)})}async _fetch(et){unreachable("Abstract method `_fetch` called.")}}class DOMStandardFontDataFactory extends BaseStandardFontDataFactory{async _fetch(et){const $t=await fetchData(et,"arraybuffer");return new Uint8Array($t)}}class BaseWasmFactory{constructor({baseUrl:et=null}){this.baseUrl=et}async fetch({filename:et}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!et)throw new Error("Wasm filename must be specified.");const $t=`${this.baseUrl}${et}`;return this._fetch($t).catch(kt=>{throw new Error(`Unable to load wasm data at: ${$t}`)})}async _fetch(et){unreachable("Abstract method `_fetch` called.")}}class DOMWasmFactory extends BaseWasmFactory{async _fetch(et){const $t=await fetchData(et,"arraybuffer");return new Uint8Array($t)}}isNodeJS&&warn("Please use the `legacy` build in Node.js environments.");async function node_utils_fetchData(dt){const $t=await process.getBuiltinModule("fs").promises.readFile(dt);return new Uint8Array($t)}class NodeFilterFactory extends BaseFilterFactory{}class NodeCanvasFactory extends BaseCanvasFactory{_createCanvas(et,$t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(et,$t)}}class NodeCMapReaderFactory extends BaseCMapReaderFactory{async _fetch(et){return node_utils_fetchData(et)}}class NodeStandardFontDataFactory extends BaseStandardFontDataFactory{async _fetch(et){return node_utils_fetchData(et)}}class NodeWasmFactory extends BaseWasmFactory{async _fetch(et){return node_utils_fetchData(et)}}const FORCED_DEPENDENCY_LABEL="__forcedDependency",{floor,ceil}=Math;function expandBBox(dt,et,$t,kt,Tt,Dt){dt[et*4+0]=Math.min(dt[et*4+0],$t),dt[et*4+1]=Math.min(dt[et*4+1],kt),dt[et*4+2]=Math.max(dt[et*4+2],Tt),dt[et*4+3]=Math.max(dt[et*4+3],Dt)}const EMPTY_BBOX=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];var X0,Wp;class BBoxReader{constructor(et,$t){yr(this,X0,void 0);yr(this,Wp,void 0);jr(this,X0,et),jr(this,Wp,$t)}get length(){return ar(this,X0).length}isEmpty(et){return ar(this,X0)[et]===EMPTY_BBOX}minX(et){return ar(this,Wp)[et*4+0]/256}minY(et){return ar(this,Wp)[et*4+1]/256}maxX(et){return(ar(this,Wp)[et*4+2]+1)/256}maxY(et){return(ar(this,Wp)[et*4+3]+1)/256}}X0=new WeakMap,Wp=new WeakMap;const ensureDebugMetadata=(dt,et)=>{if(!dt)return;let $t=dt.get(et);return $t||($t={dependencies:new Set,isRenderingOperation:!1},dt.set(et,$t)),$t};var Vo,zo,dx,_d,ux,Zu,jn,_n,_h,Uo,M1,Q0,hx,fx,ep,To,vu,I1,u$;class CanvasDependencyTracker{constructor(et,$t,kt=!1){yr(this,I1);yr(this,Vo,{__proto__:null});yr(this,zo,{__proto__:null,transform:[],moveText:[],sameLineText:[],[FORCED_DEPENDENCY_LABEL]:[]});yr(this,dx,new Map);yr(this,_d,[]);yr(this,ux,[]);yr(this,Zu,[[1,0,0,1,0,0]]);yr(this,jn,[-1/0,-1/0,1/0,1/0]);yr(this,_n,new Float64Array([1/0,1/0,-1/0,-1/0]));yr(this,_h,-1);yr(this,Uo,new Set);yr(this,M1,new Map);yr(this,Q0,new Map);yr(this,hx,void 0);yr(this,fx,void 0);yr(this,ep,void 0);yr(this,To,void 0);yr(this,vu,void 0);jr(this,hx,et.width),jr(this,fx,et.height),Br(this,I1,u$).call(this,$t),kt&&jr(this,vu,new Map)}growOperationsCount(et){et>=ar(this,To).length&&Br(this,I1,u$).call(this,et,ar(this,To))}save(et){return jr(this,Vo,{__proto__:ar(this,Vo)}),jr(this,zo,{__proto__:ar(this,zo),transform:{__proto__:ar(this,zo).transform},moveText:{__proto__:ar(this,zo).moveText},sameLineText:{__proto__:ar(this,zo).sameLineText},[FORCED_DEPENDENCY_LABEL]:{__proto__:ar(this,zo)[FORCED_DEPENDENCY_LABEL]}}),jr(this,jn,{__proto__:ar(this,jn)}),ar(this,_d).push(et),this}restore(et){var Tt;const $t=Object.getPrototypeOf(ar(this,Vo));if($t===null)return this;jr(this,Vo,$t),jr(this,zo,Object.getPrototypeOf(ar(this,zo))),jr(this,jn,Object.getPrototypeOf(ar(this,jn)));const kt=ar(this,_d).pop();return kt!==void 0&&((Tt=ensureDebugMetadata(ar(this,vu),et))==null||Tt.dependencies.add(kt),ar(this,To)[et]=ar(this,To)[kt]),this}recordOpenMarker(et){return ar(this,_d).push(et),this}getOpenMarker(){return ar(this,_d).length===0?null:ar(this,_d).at(-1)}recordCloseMarker(et){var kt;const $t=ar(this,_d).pop();return $t!==void 0&&((kt=ensureDebugMetadata(ar(this,vu),et))==null||kt.dependencies.add($t),ar(this,To)[et]=ar(this,To)[$t]),this}beginMarkedContent(et){return ar(this,ux).push(et),this}endMarkedContent(et){var kt;const $t=ar(this,ux).pop();return $t!==void 0&&((kt=ensureDebugMetadata(ar(this,vu),et))==null||kt.dependencies.add($t),ar(this,To)[et]=ar(this,To)[$t]),this}pushBaseTransform(et){return ar(this,Zu).push(Util.multiplyByDOMMatrix(ar(this,Zu).at(-1),et.getTransform())),this}popBaseTransform(){return ar(this,Zu).length>1&&ar(this,Zu).pop(),this}recordSimpleData(et,$t){return ar(this,Vo)[et]=$t,this}recordIncrementalData(et,$t){return ar(this,zo)[et].push($t),this}resetIncrementalData(et,$t){return ar(this,zo)[et].length=0,this}recordNamedData(et,$t){return ar(this,dx).set(et,$t),this}recordSimpleDataFromNamed(et,$t,kt){ar(this,Vo)[et]=ar(this,dx).get($t)??kt}recordFutureForcedDependency(et,$t){return this.recordIncrementalData(FORCED_DEPENDENCY_LABEL,$t),this}inheritSimpleDataAsFutureForcedDependencies(et){for(const $t of et)$t in ar(this,Vo)&&this.recordFutureForcedDependency($t,ar(this,Vo)[$t]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const et of ar(this,Uo))this.recordFutureForcedDependency(FORCED_DEPENDENCY_LABEL,et);return this}resetBBox(et){return ar(this,_h)!==et&&(jr(this,_h,et),ar(this,_n)[0]=1/0,ar(this,_n)[1]=1/0,ar(this,_n)[2]=-1/0,ar(this,_n)[3]=-1/0),this}recordClipBox(et,$t,kt,Tt,Dt,Ft){const Ut=Util.multiplyByDOMMatrix(ar(this,Zu).at(-1),$t.getTransform()),Ht=[1/0,1/0,-1/0,-1/0];Util.axialAlignedBoundingBox([kt,Dt,Tt,Ft],Ut,Ht);const Kt=Util.intersect(ar(this,jn),Ht);return Kt?(ar(this,jn)[0]=Kt[0],ar(this,jn)[1]=Kt[1],ar(this,jn)[2]=Kt[2],ar(this,jn)[3]=Kt[3]):(ar(this,jn)[0]=ar(this,jn)[1]=1/0,ar(this,jn)[2]=ar(this,jn)[3]=-1/0),this}recordBBox(et,$t,kt,Tt,Dt,Ft){const Ut=ar(this,jn);if(Ut[0]===1/0)return this;const Ht=Util.multiplyByDOMMatrix(ar(this,Zu).at(-1),$t.getTransform());if(Ut[0]===-1/0)return Util.axialAlignedBoundingBox([kt,Dt,Tt,Ft],Ht,ar(this,_n)),this;const Kt=[1/0,1/0,-1/0,-1/0];return Util.axialAlignedBoundingBox([kt,Dt,Tt,Ft],Ht,Kt),ar(this,_n)[0]=Math.min(ar(this,_n)[0],Math.max(Kt[0],Ut[0])),ar(this,_n)[1]=Math.min(ar(this,_n)[1],Math.max(Kt[1],Ut[1])),ar(this,_n)[2]=Math.max(ar(this,_n)[2],Math.min(Kt[2],Ut[2])),ar(this,_n)[3]=Math.max(ar(this,_n)[3],Math.min(Kt[3],Ut[3])),this}recordCharacterBBox(et,$t,kt,Tt=1,Dt=0,Ft=0,Ut){const Ht=kt.bbox;let Kt,Yt;if(Ht&&(Kt=Ht[2]!==Ht[0]&&Ht[3]!==Ht[1]&&ar(this,Q0).get(kt),Kt!==!1&&(Yt=[0,0,0,0],Util.axialAlignedBoundingBox(Ht,kt.fontMatrix,Yt),(Tt!==1||Dt!==0||Ft!==0)&&Util.scaleMinMax([Tt,0,0,-Tt,Dt,Ft],Yt),Kt)))return this.recordBBox(et,$t,Yt[0],Yt[2],Yt[1],Yt[3]);if(!Ut)return this.recordFullPageBBox(et);const Jt=Ut();return Ht&&Yt&&Kt===void 0&&(Kt=Yt[0]<=Dt-Jt.actualBoundingBoxLeft&&Yt[2]>=Dt+Jt.actualBoundingBoxRight&&Yt[1]<=Ft-Jt.actualBoundingBoxAscent&&Yt[3]>=Ft+Jt.actualBoundingBoxDescent,ar(this,Q0).set(kt,Kt),Kt)?this.recordBBox(et,$t,Yt[0],Yt[2],Yt[1],Yt[3]):this.recordBBox(et,$t,Dt-Jt.actualBoundingBoxLeft,Dt+Jt.actualBoundingBoxRight,Ft-Jt.actualBoundingBoxAscent,Ft+Jt.actualBoundingBoxDescent)}recordFullPageBBox(et){return ar(this,_n)[0]=Math.max(0,ar(this,jn)[0]),ar(this,_n)[1]=Math.max(0,ar(this,jn)[1]),ar(this,_n)[2]=Math.min(ar(this,hx),ar(this,jn)[2]),ar(this,_n)[3]=Math.min(ar(this,fx),ar(this,jn)[3]),this}getSimpleIndex(et){return ar(this,Vo)[et]}recordDependencies(et,$t){const kt=ar(this,Uo),Tt=ar(this,Vo),Dt=ar(this,zo);for(const Ft of $t)Ft in ar(this,Vo)?kt.add(Tt[Ft]):Ft in Dt&&Dt[Ft].forEach(kt.add,kt);return this}recordNamedDependency(et,$t){return ar(this,dx).has($t)&&ar(this,Uo).add(ar(this,dx).get($t)),this}recordOperation(et,$t=!1){if(this.recordDependencies(et,[FORCED_DEPENDENCY_LABEL]),ar(this,vu)){const kt=ensureDebugMetadata(ar(this,vu),et),{dependencies:Tt}=kt;ar(this,Uo).forEach(Tt.add,Tt),ar(this,_d).forEach(Tt.add,Tt),ar(this,ux).forEach(Tt.add,Tt),Tt.delete(et),kt.isRenderingOperation=!0}if(ar(this,_h)===et){const kt=floor(ar(this,_n)[0]*256/ar(this,hx)),Tt=floor(ar(this,_n)[1]*256/ar(this,fx)),Dt=ceil(ar(this,_n)[2]*256/ar(this,hx)),Ft=ceil(ar(this,_n)[3]*256/ar(this,fx));expandBBox(ar(this,ep),et,kt,Tt,Dt,Ft);for(const Ut of ar(this,Uo))Ut!==et&&expandBBox(ar(this,ep),Ut,kt,Tt,Dt,Ft);for(const Ut of ar(this,_d))Ut!==et&&expandBBox(ar(this,ep),Ut,kt,Tt,Dt,Ft);for(const Ut of ar(this,ux))Ut!==et&&expandBBox(ar(this,ep),Ut,kt,Tt,Dt,Ft);$t||(ar(this,Uo).clear(),jr(this,_h,-1))}return this}recordShowTextOperation(et,$t=!1){const kt=Array.from(ar(this,Uo));this.recordOperation(et,$t),this.recordIncrementalData("sameLineText",et);for(const Tt of kt)this.recordIncrementalData("sameLineText",Tt);return this}bboxToClipBoxDropOperation(et,$t=!1){return ar(this,_h)===et&&(jr(this,_h,-1),ar(this,jn)[0]=Math.max(ar(this,jn)[0],ar(this,_n)[0]),ar(this,jn)[1]=Math.max(ar(this,jn)[1],ar(this,_n)[1]),ar(this,jn)[2]=Math.min(ar(this,jn)[2],ar(this,_n)[2]),ar(this,jn)[3]=Math.min(ar(this,jn)[3],ar(this,_n)[3]),$t||ar(this,Uo).clear()),this}_takePendingDependencies(){const et=ar(this,Uo);return jr(this,Uo,new Set),et}_extractOperation(et){const $t=ar(this,M1).get(et);return ar(this,M1).delete(et),$t}_pushPendingDependencies(et){for(const $t of et)ar(this,Uo).add($t)}take(){return ar(this,Q0).clear(),new BBoxReader(ar(this,To),ar(this,ep))}takeDebugMetadata(){return ar(this,vu)}}Vo=new WeakMap,zo=new WeakMap,dx=new WeakMap,_d=new WeakMap,ux=new WeakMap,Zu=new WeakMap,jn=new WeakMap,_n=new WeakMap,_h=new WeakMap,Uo=new WeakMap,M1=new WeakMap,Q0=new WeakMap,hx=new WeakMap,fx=new WeakMap,ep=new WeakMap,To=new WeakMap,vu=new WeakMap,I1=new WeakSet,u$=function(et,$t){const kt=new ArrayBuffer(et*4);jr(this,ep,new Uint8ClampedArray(kt)),jr(this,To,new Uint32Array(kt)),$t&&$t.length>0?(ar(this,To).set($t),ar(this,To).fill(EMPTY_BBOX,$t.length)):ar(this,To).fill(EMPTY_BBOX)};var In,Yn,eu,J0,Z0;const J$=class J${constructor(et,$t,kt){yr(this,In,void 0);yr(this,Yn,void 0);yr(this,eu,void 0);yr(this,J0,0);yr(this,Z0,0);if(et instanceof J$&&ar(et,eu)===!!kt)return et;jr(this,In,et),jr(this,Yn,$t),jr(this,eu,!!kt)}growOperationsCount(){throw new Error("Unreachable")}save(et){return xa(this,Z0)._++,ar(this,In).save(ar(this,Yn)),this}restore(et){return ar(this,Z0)>0&&(ar(this,In).restore(ar(this,Yn)),xa(this,Z0)._--),this}recordOpenMarker(et){return xa(this,J0)._++,this}getOpenMarker(){return ar(this,J0)>0?ar(this,Yn):ar(this,In).getOpenMarker()}recordCloseMarker(et){return xa(this,J0)._--,this}beginMarkedContent(et){return this}endMarkedContent(et){return this}pushBaseTransform(et){return ar(this,In).pushBaseTransform(et),this}popBaseTransform(){return ar(this,In).popBaseTransform(),this}recordSimpleData(et,$t){return ar(this,In).recordSimpleData(et,ar(this,Yn)),this}recordIncrementalData(et,$t){return ar(this,In).recordIncrementalData(et,ar(this,Yn)),this}resetIncrementalData(et,$t){return ar(this,In).resetIncrementalData(et,ar(this,Yn)),this}recordNamedData(et,$t){return this}recordSimpleDataFromNamed(et,$t,kt){return ar(this,In).recordSimpleDataFromNamed(et,$t,ar(this,Yn)),this}recordFutureForcedDependency(et,$t){return ar(this,In).recordFutureForcedDependency(et,ar(this,Yn)),this}inheritSimpleDataAsFutureForcedDependencies(et){return ar(this,In).inheritSimpleDataAsFutureForcedDependencies(et),this}inheritPendingDependenciesAsFutureForcedDependencies(){return ar(this,In).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(et){return ar(this,eu)||ar(this,In).resetBBox(ar(this,Yn)),this}recordClipBox(et,$t,kt,Tt,Dt,Ft){return ar(this,eu)||ar(this,In).recordClipBox(ar(this,Yn),$t,kt,Tt,Dt,Ft),this}recordBBox(et,$t,kt,Tt,Dt,Ft){return ar(this,eu)||ar(this,In).recordBBox(ar(this,Yn),$t,kt,Tt,Dt,Ft),this}recordCharacterBBox(et,$t,kt,Tt,Dt,Ft,Ut){return ar(this,eu)||ar(this,In).recordCharacterBBox(ar(this,Yn),$t,kt,Tt,Dt,Ft,Ut),this}recordFullPageBBox(et){return ar(this,eu)||ar(this,In).recordFullPageBBox(ar(this,Yn)),this}getSimpleIndex(et){return ar(this,In).getSimpleIndex(et)}recordDependencies(et,$t){return ar(this,In).recordDependencies(ar(this,Yn),$t),this}recordNamedDependency(et,$t){return ar(this,In).recordNamedDependency(ar(this,Yn),$t),this}recordOperation(et){return ar(this,In).recordOperation(ar(this,Yn),!0),this}recordShowTextOperation(et){return ar(this,In).recordShowTextOperation(ar(this,Yn),!0),this}bboxToClipBoxDropOperation(et){return ar(this,eu)||ar(this,In).bboxToClipBoxDropOperation(ar(this,Yn),!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}};In=new WeakMap,Yn=new WeakMap,eu=new WeakMap,J0=new WeakMap,Z0=new WeakMap;let CanvasNestedDependencyTracker=J$;const Dependencies={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},PathType={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function applyBoundingBox(dt,et){if(!et)return;const $t=et[2]-et[0],kt=et[3]-et[1],Tt=new Path2D;Tt.rect(et[0],et[1],$t,kt),dt.clip(Tt)}class BaseShadingPattern{isModifyingCurrentTransform(){return!1}getPattern(){unreachable("Abstract method `getPattern` called.")}}class RadialAxialShadingPattern extends BaseShadingPattern{constructor(et){super(),this._type=et[1],this._bbox=et[2],this._colorStops=et[3],this._p0=et[4],this._p1=et[5],this._r0=et[6],this._r1=et[7],this.matrix=null}_createGradient(et){let $t;this._type==="axial"?$t=et.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&($t=et.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const kt of this._colorStops)$t.addColorStop(kt[0],kt[1]);return $t}getPattern(et,$t,kt,Tt){let Dt;if(Tt===PathType.STROKE||Tt===PathType.FILL){const Ft=$t.current.getClippedPathBoundingBox(Tt,getCurrentTransform(et))||[0,0,0,0],Ut=Math.ceil(Ft[2]-Ft[0])||1,Ht=Math.ceil(Ft[3]-Ft[1])||1,Kt=$t.cachedCanvases.getCanvas("pattern",Ut,Ht),Yt=Kt.context;Yt.clearRect(0,0,Yt.canvas.width,Yt.canvas.height),Yt.beginPath(),Yt.rect(0,0,Yt.canvas.width,Yt.canvas.height),Yt.translate(-Ft[0],-Ft[1]),kt=Util.transform(kt,[1,0,0,1,Ft[0],Ft[1]]),Yt.transform(...$t.baseTransform),this.matrix&&Yt.transform(...this.matrix),applyBoundingBox(Yt,this._bbox),Yt.fillStyle=this._createGradient(Yt),Yt.fill(),Dt=et.createPattern(Kt.canvas,"no-repeat");const Jt=new DOMMatrix(kt);Dt.setTransform(Jt)}else applyBoundingBox(et,this._bbox),Dt=this._createGradient(et);return Dt}}function drawTriangle(dt,et,$t,kt,Tt,Dt,Ft,Ut){const Ht=et.coords,Kt=et.colors,Yt=dt.data,Jt=dt.width*4;let Zt;Ht[$t+1]>Ht[kt+1]&&(Zt=$t,$t=kt,kt=Zt,Zt=Dt,Dt=Ft,Ft=Zt),Ht[kt+1]>Ht[Tt+1]&&(Zt=kt,kt=Tt,Tt=Zt,Zt=Ft,Ft=Ut,Ut=Zt),Ht[$t+1]>Ht[kt+1]&&(Zt=$t,$t=kt,kt=Zt,Zt=Dt,Dt=Ft,Ft=Zt);const er=(Ht[$t]+et.offsetX)*et.scaleX,rr=(Ht[$t+1]+et.offsetY)*et.scaleY,sr=(Ht[kt]+et.offsetX)*et.scaleX,ir=(Ht[kt+1]+et.offsetY)*et.scaleY,nr=(Ht[Tt]+et.offsetX)*et.scaleX,or=(Ht[Tt+1]+et.offsetY)*et.scaleY;if(rr>=or)return;const lr=Kt[Dt],cr=Kt[Dt+1],dr=Kt[Dt+2],ur=Kt[Ft],pr=Kt[Ft+1],mr=Kt[Ft+2],vr=Kt[Ut],kr=Kt[Ut+1],br=Kt[Ut+2],_r=Math.round(rr),Or=Math.round(or);let Pr,Mr,Rr,Tr,xr,wr,zr,Hr;for(let Gr=_r;Gr<=Or;Gr++){if(Gr<ir){const ns=Gr<rr?0:(rr-Gr)/(rr-ir);Pr=er-(er-sr)*ns,Mr=lr-(lr-ur)*ns,Rr=cr-(cr-pr)*ns,Tr=dr-(dr-mr)*ns}else{let ns;Gr>or?ns=1:ir===or?ns=0:ns=(ir-Gr)/(ir-or),Pr=sr-(sr-nr)*ns,Mr=ur-(ur-vr)*ns,Rr=pr-(pr-kr)*ns,Tr=mr-(mr-br)*ns}let Xr;Gr<rr?Xr=0:Gr>or?Xr=1:Xr=(rr-Gr)/(rr-or),xr=er-(er-nr)*Xr,wr=lr-(lr-vr)*Xr,zr=cr-(cr-kr)*Xr,Hr=dr-(dr-br)*Xr;const rs=Math.round(Math.min(Pr,xr)),Yr=Math.round(Math.max(Pr,xr));let es=Jt*Gr+rs*4;for(let ns=rs;ns<=Yr;ns++)Xr=(Pr-ns)/(Pr-xr),Xr<0?Xr=0:Xr>1&&(Xr=1),Yt[es++]=Mr-(Mr-wr)*Xr|0,Yt[es++]=Rr-(Rr-zr)*Xr|0,Yt[es++]=Tr-(Tr-Hr)*Xr|0,Yt[es++]=255}}function drawFigure(dt,et,$t){const kt=et.coords,Tt=et.colors;let Dt,Ft;switch(et.type){case"lattice":const Ut=et.verticesPerRow,Ht=Math.floor(kt.length/Ut)-1,Kt=Ut-1;for(Dt=0;Dt<Ht;Dt++){let Yt=Dt*Ut;for(let Jt=0;Jt<Kt;Jt++,Yt++)drawTriangle(dt,$t,kt[Yt],kt[Yt+1],kt[Yt+Ut],Tt[Yt],Tt[Yt+1],Tt[Yt+Ut]),drawTriangle(dt,$t,kt[Yt+Ut+1],kt[Yt+1],kt[Yt+Ut],Tt[Yt+Ut+1],Tt[Yt+1],Tt[Yt+Ut])}break;case"triangles":for(Dt=0,Ft=kt.length;Dt<Ft;Dt+=3)drawTriangle(dt,$t,kt[Dt],kt[Dt+1],kt[Dt+2],Tt[Dt],Tt[Dt+1],Tt[Dt+2]);break;default:throw new Error("illegal figure")}}class MeshShadingPattern extends BaseShadingPattern{constructor(et){super(),this._coords=et[2],this._colors=et[3],this._figures=et[4],this._bounds=et[5],this._bbox=et[6],this._background=et[7],this.matrix=null}_createMeshCanvas(et,$t,kt){const Ut=Math.floor(this._bounds[0]),Ht=Math.floor(this._bounds[1]),Kt=Math.ceil(this._bounds[2])-Ut,Yt=Math.ceil(this._bounds[3])-Ht,Jt=Math.min(Math.ceil(Math.abs(Kt*et[0]*1.1)),3e3),Zt=Math.min(Math.ceil(Math.abs(Yt*et[1]*1.1)),3e3),er=Kt/Jt,rr=Yt/Zt,sr={coords:this._coords,colors:this._colors,offsetX:-Ut,offsetY:-Ht,scaleX:1/er,scaleY:1/rr},ir=Jt+2*2,nr=Zt+2*2,or=kt.getCanvas("mesh",ir,nr),lr=or.context,cr=lr.createImageData(Jt,Zt);if($t){const ur=cr.data;for(let pr=0,mr=ur.length;pr<mr;pr+=4)ur[pr]=$t[0],ur[pr+1]=$t[1],ur[pr+2]=$t[2],ur[pr+3]=255}for(const ur of this._figures)drawFigure(cr,ur,sr);return lr.putImageData(cr,2,2),{canvas:or.canvas,offsetX:Ut-2*er,offsetY:Ht-2*rr,scaleX:er,scaleY:rr}}isModifyingCurrentTransform(){return!0}getPattern(et,$t,kt,Tt){applyBoundingBox(et,this._bbox);const Dt=new Float32Array(2);if(Tt===PathType.SHADING)Util.singularValueDecompose2dScale(getCurrentTransform(et),Dt);else if(this.matrix){Util.singularValueDecompose2dScale(this.matrix,Dt);const[Ut,Ht]=Dt;Util.singularValueDecompose2dScale($t.baseTransform,Dt),Dt[0]*=Ut,Dt[1]*=Ht}else Util.singularValueDecompose2dScale($t.baseTransform,Dt);const Ft=this._createMeshCanvas(Dt,Tt===PathType.SHADING?null:this._background,$t.cachedCanvases);return Tt!==PathType.SHADING&&(et.setTransform(...$t.baseTransform),this.matrix&&et.transform(...this.matrix)),et.translate(Ft.offsetX,Ft.offsetY),et.scale(Ft.scaleX,Ft.scaleY),et.createPattern(Ft.canvas,"no-repeat")}}class DummyShadingPattern extends BaseShadingPattern{getPattern(){return"hotpink"}}function getShadingPattern(dt){switch(dt[0]){case"RadialAxial":return new RadialAxialShadingPattern(dt);case"Mesh":return new MeshShadingPattern(dt);case"Dummy":return new DummyShadingPattern}throw new Error(`Unknown IR type: ${dt[0]}`)}const PaintType={COLORED:1,UNCOLORED:2},IR=class IR{constructor(et,$t,kt,Tt){this.color=et[1],this.operatorList=et[2],this.matrix=et[3],this.bbox=et[4],this.xstep=et[5],this.ystep=et[6],this.paintType=et[7],this.tilingType=et[8],this.ctx=$t,this.canvasGraphicsFactory=kt,this.baseTransform=Tt}createPatternCanvas(et,$t){var wr,zr;const{bbox:kt,operatorList:Tt,paintType:Dt,tilingType:Ft,color:Ut,canvasGraphicsFactory:Ht}=this;let{xstep:Kt,ystep:Yt}=this;Kt=Math.abs(Kt),Yt=Math.abs(Yt),info("TilingType: "+Ft);const Jt=kt[0],Zt=kt[1],er=kt[2],rr=kt[3],sr=er-Jt,ir=rr-Zt,nr=new Float32Array(2);Util.singularValueDecompose2dScale(this.matrix,nr);const[or,lr]=nr;Util.singularValueDecompose2dScale(this.baseTransform,nr);const cr=or*nr[0],dr=lr*nr[1];let ur=sr,pr=ir,mr=!1,vr=!1;const kr=Math.ceil(Kt*cr),br=Math.ceil(Yt*dr),_r=Math.ceil(sr*cr),Or=Math.ceil(ir*dr);kr>=_r?ur=Kt:mr=!0,br>=Or?pr=Yt:vr=!0;const Pr=this.getSizeAndScale(ur,this.ctx.canvas.width,cr),Mr=this.getSizeAndScale(pr,this.ctx.canvas.height,dr),Rr=et.cachedCanvases.getCanvas("pattern",Pr.size,Mr.size),Tr=Rr.context,xr=Ht.createCanvasGraphics(Tr,$t);if(xr.groupLevel=et.groupLevel,this.setFillAndStrokeStyleToContext(xr,Dt,Ut),Tr.translate(-Pr.scale*Jt,-Mr.scale*Zt),xr.transform(0,Pr.scale,0,0,Mr.scale,0,0),Tr.save(),(wr=xr.dependencyTracker)==null||wr.save(),this.clipBbox(xr,Jt,Zt,er,rr),xr.baseTransform=getCurrentTransform(xr.ctx),xr.executeOperatorList(Tt),xr.endDrawing(),(zr=xr.dependencyTracker)==null||zr.restore(),Tr.restore(),mr||vr){const Hr=Rr.canvas;mr&&(ur=Kt),vr&&(pr=Yt);const Gr=this.getSizeAndScale(ur,this.ctx.canvas.width,cr),Xr=this.getSizeAndScale(pr,this.ctx.canvas.height,dr),rs=Gr.size,Yr=Xr.size,es=et.cachedCanvases.getCanvas("pattern-workaround",rs,Yr),ns=es.context,ms=mr?Math.floor(sr/Kt):0,ls=vr?Math.floor(ir/Yt):0;for(let ds=0;ds<=ms;ds++)for(let fs=0;fs<=ls;fs++)ns.drawImage(Hr,rs*ds,Yr*fs,rs,Yr,0,0,rs,Yr);return{canvas:es.canvas,scaleX:Gr.scale,scaleY:Xr.scale,offsetX:Jt,offsetY:Zt}}return{canvas:Rr.canvas,scaleX:Pr.scale,scaleY:Mr.scale,offsetX:Jt,offsetY:Zt}}getSizeAndScale(et,$t,kt){const Tt=Math.max(IR.MAX_PATTERN_SIZE,$t);let Dt=Math.ceil(et*kt);return Dt>=Tt?Dt=Tt:kt=Dt/et,{scale:kt,size:Dt}}clipBbox(et,$t,kt,Tt,Dt){const Ft=Tt-$t,Ut=Dt-kt;et.ctx.rect($t,kt,Ft,Ut),Util.axialAlignedBoundingBox([$t,kt,Tt,Dt],getCurrentTransform(et.ctx),et.current.minMax),et.clip(),et.endPath()}setFillAndStrokeStyleToContext(et,$t,kt){const Tt=et.ctx,Dt=et.current;switch($t){case PaintType.COLORED:const{fillStyle:Ft,strokeStyle:Ut}=this.ctx;Tt.fillStyle=Dt.fillColor=Ft,Tt.strokeStyle=Dt.strokeColor=Ut;break;case PaintType.UNCOLORED:Tt.fillStyle=Tt.strokeStyle=kt,Dt.fillColor=Dt.strokeColor=kt;break;default:throw new FormatError(`Unsupported paint type: ${$t}`)}}isModifyingCurrentTransform(){return!1}getPattern(et,$t,kt,Tt,Dt){let Ft=kt;Tt!==PathType.SHADING&&(Ft=Util.transform(Ft,$t.baseTransform),this.matrix&&(Ft=Util.transform(Ft,this.matrix)));const Ut=this.createPatternCanvas($t,Dt);let Ht=new DOMMatrix(Ft);Ht=Ht.translate(Ut.offsetX,Ut.offsetY),Ht=Ht.scale(1/Ut.scaleX,1/Ut.scaleY);const Kt=et.createPattern(Ut.canvas,"repeat");return Kt.setTransform(Ht),Kt}};ys(IR,"MAX_PATTERN_SIZE",3e3);let TilingPattern=IR;function convertBlackAndWhiteToRGBA({src:dt,srcPos:et=0,dest:$t,width:kt,height:Tt,nonBlackColor:Dt=4294967295,inverseDecode:Ft=!1}){const Ut=util_FeatureTest.isLittleEndian?4278190080:255,[Ht,Kt]=Ft?[Dt,Ut]:[Ut,Dt],Yt=kt>>3,Jt=kt&7,Zt=dt.length;$t=new Uint32Array($t.buffer);let er=0;for(let rr=0;rr<Tt;rr++){for(const ir=et+Yt;et<ir;et++){const nr=et<Zt?dt[et]:255;$t[er++]=nr&128?Kt:Ht,$t[er++]=nr&64?Kt:Ht,$t[er++]=nr&32?Kt:Ht,$t[er++]=nr&16?Kt:Ht,$t[er++]=nr&8?Kt:Ht,$t[er++]=nr&4?Kt:Ht,$t[er++]=nr&2?Kt:Ht,$t[er++]=nr&1?Kt:Ht}if(Jt===0)continue;const sr=et<Zt?dt[et++]:255;for(let ir=0;ir<Jt;ir++)$t[er++]=sr&1<<7-ir?Kt:Ht}return{srcPos:et,destPos:er}}const MIN_FONT_SIZE=16,MAX_FONT_SIZE=100,EXECUTION_TIME=15,EXECUTION_STEPS=10,FULL_CHUNK_HEIGHT=16,SCALE_MATRIX=new DOMMatrix,XY=new Float32Array(2),MIN_MAX_INIT=new Float32Array([1/0,1/0,-1/0,-1/0]);function mirrorContextOperations(dt,et){if(dt._removeMirroring)throw new Error("Context is already forwarding operations.");dt.__originalSave=dt.save,dt.__originalRestore=dt.restore,dt.__originalRotate=dt.rotate,dt.__originalScale=dt.scale,dt.__originalTranslate=dt.translate,dt.__originalTransform=dt.transform,dt.__originalSetTransform=dt.setTransform,dt.__originalResetTransform=dt.resetTransform,dt.__originalClip=dt.clip,dt.__originalMoveTo=dt.moveTo,dt.__originalLineTo=dt.lineTo,dt.__originalBezierCurveTo=dt.bezierCurveTo,dt.__originalRect=dt.rect,dt.__originalClosePath=dt.closePath,dt.__originalBeginPath=dt.beginPath,dt._removeMirroring=()=>{dt.save=dt.__originalSave,dt.restore=dt.__originalRestore,dt.rotate=dt.__originalRotate,dt.scale=dt.__originalScale,dt.translate=dt.__originalTranslate,dt.transform=dt.__originalTransform,dt.setTransform=dt.__originalSetTransform,dt.resetTransform=dt.__originalResetTransform,dt.clip=dt.__originalClip,dt.moveTo=dt.__originalMoveTo,dt.lineTo=dt.__originalLineTo,dt.bezierCurveTo=dt.__originalBezierCurveTo,dt.rect=dt.__originalRect,dt.closePath=dt.__originalClosePath,dt.beginPath=dt.__originalBeginPath,delete dt._removeMirroring},dt.save=function(){et.save(),this.__originalSave()},dt.restore=function(){et.restore(),this.__originalRestore()},dt.translate=function($t,kt){et.translate($t,kt),this.__originalTranslate($t,kt)},dt.scale=function($t,kt){et.scale($t,kt),this.__originalScale($t,kt)},dt.transform=function($t,kt,Tt,Dt,Ft,Ut){et.transform($t,kt,Tt,Dt,Ft,Ut),this.__originalTransform($t,kt,Tt,Dt,Ft,Ut)},dt.setTransform=function($t,kt,Tt,Dt,Ft,Ut){et.setTransform($t,kt,Tt,Dt,Ft,Ut),this.__originalSetTransform($t,kt,Tt,Dt,Ft,Ut)},dt.resetTransform=function(){et.resetTransform(),this.__originalResetTransform()},dt.rotate=function($t){et.rotate($t),this.__originalRotate($t)},dt.clip=function($t){et.clip($t),this.__originalClip($t)},dt.moveTo=function($t,kt){et.moveTo($t,kt),this.__originalMoveTo($t,kt)},dt.lineTo=function($t,kt){et.lineTo($t,kt),this.__originalLineTo($t,kt)},dt.bezierCurveTo=function($t,kt,Tt,Dt,Ft,Ut){et.bezierCurveTo($t,kt,Tt,Dt,Ft,Ut),this.__originalBezierCurveTo($t,kt,Tt,Dt,Ft,Ut)},dt.rect=function($t,kt,Tt,Dt){et.rect($t,kt,Tt,Dt),this.__originalRect($t,kt,Tt,Dt)},dt.closePath=function(){et.closePath(),this.__originalClosePath()},dt.beginPath=function(){et.beginPath(),this.__originalBeginPath()}}class CachedCanvases{constructor(et){this.canvasFactory=et,this.cache=Object.create(null)}getCanvas(et,$t,kt){let Tt;return this.cache[et]!==void 0?(Tt=this.cache[et],this.canvasFactory.reset(Tt,$t,kt)):(Tt=this.canvasFactory.create($t,kt),this.cache[et]=Tt),Tt}delete(et){delete this.cache[et]}clear(){for(const et in this.cache){const $t=this.cache[et];this.canvasFactory.destroy($t),delete this.cache[et]}}}function drawImageAtIntegerCoords(dt,et,$t,kt,Tt,Dt,Ft,Ut,Ht,Kt){const[Yt,Jt,Zt,er,rr,sr]=getCurrentTransform(dt);if(Jt===0&&Zt===0){const or=Ft*Yt+rr,lr=Math.round(or),cr=Ut*er+sr,dr=Math.round(cr),ur=(Ft+Ht)*Yt+rr,pr=Math.abs(Math.round(ur)-lr)||1,mr=(Ut+Kt)*er+sr,vr=Math.abs(Math.round(mr)-dr)||1;return dt.setTransform(Math.sign(Yt),0,0,Math.sign(er),lr,dr),dt.drawImage(et,$t,kt,Tt,Dt,0,0,pr,vr),dt.setTransform(Yt,Jt,Zt,er,rr,sr),[pr,vr]}if(Yt===0&&er===0){const or=Ut*Zt+rr,lr=Math.round(or),cr=Ft*Jt+sr,dr=Math.round(cr),ur=(Ut+Kt)*Zt+rr,pr=Math.abs(Math.round(ur)-lr)||1,mr=(Ft+Ht)*Jt+sr,vr=Math.abs(Math.round(mr)-dr)||1;return dt.setTransform(0,Math.sign(Jt),Math.sign(Zt),0,lr,dr),dt.drawImage(et,$t,kt,Tt,Dt,0,0,vr,pr),dt.setTransform(Yt,Jt,Zt,er,rr,sr),[vr,pr]}dt.drawImage(et,$t,kt,Tt,Dt,Ft,Ut,Ht,Kt);const ir=Math.hypot(Yt,Jt),nr=Math.hypot(Zt,er);return[ir*Ht,nr*Kt]}class CanvasExtraState{constructor(et,$t,kt){ys(this,"alphaIsShape",!1);ys(this,"fontSize",0);ys(this,"fontSizeScale",1);ys(this,"textMatrix",null);ys(this,"textMatrixScale",1);ys(this,"fontMatrix",FONT_IDENTITY_MATRIX);ys(this,"leading",0);ys(this,"x",0);ys(this,"y",0);ys(this,"lineX",0);ys(this,"lineY",0);ys(this,"charSpacing",0);ys(this,"wordSpacing",0);ys(this,"textHScale",1);ys(this,"textRenderingMode",TextRenderingMode.FILL);ys(this,"textRise",0);ys(this,"fillColor","#000000");ys(this,"strokeColor","#000000");ys(this,"patternFill",!1);ys(this,"patternStroke",!1);ys(this,"fillAlpha",1);ys(this,"strokeAlpha",1);ys(this,"lineWidth",1);ys(this,"activeSMask",null);ys(this,"transferMaps","none");kt==null||kt(this),this.clipBox=new Float32Array([0,0,et,$t]),this.minMax=MIN_MAX_INIT.slice()}clone(){const et=Object.create(this);return et.clipBox=this.clipBox.slice(),et.minMax=this.minMax.slice(),et}getPathBoundingBox(et=PathType.FILL,$t=null){const kt=this.minMax.slice();if(et===PathType.STROKE){$t||unreachable("Stroke bounding box must include transform."),Util.singularValueDecompose2dScale($t,XY);const Tt=XY[0]*this.lineWidth/2,Dt=XY[1]*this.lineWidth/2;kt[0]-=Tt,kt[1]-=Dt,kt[2]+=Tt,kt[3]+=Dt}return kt}updateClipFromPath(){const et=Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(et||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(et){this.clipBox.set(et,0),this.minMax.set(MIN_MAX_INIT,0)}getClippedPathBoundingBox(et=PathType.FILL,$t=null){return Util.intersect(this.clipBox,this.getPathBoundingBox(et,$t))}}function putBinaryImageData(dt,et){if(et instanceof ImageData){dt.putImageData(et,0,0);return}const $t=et.height,kt=et.width,Tt=$t%FULL_CHUNK_HEIGHT,Dt=($t-Tt)/FULL_CHUNK_HEIGHT,Ft=Tt===0?Dt:Dt+1,Ut=dt.createImageData(kt,FULL_CHUNK_HEIGHT);let Ht=0,Kt;const Yt=et.data,Jt=Ut.data;let Zt,er,rr,sr;if(et.kind===util_ImageKind.GRAYSCALE_1BPP){const ir=Yt.byteLength,nr=new Uint32Array(Jt.buffer,0,Jt.byteLength>>2),or=nr.length,lr=kt+7>>3,cr=4294967295,dr=util_FeatureTest.isLittleEndian?4278190080:255;for(Zt=0;Zt<Ft;Zt++){for(rr=Zt<Dt?FULL_CHUNK_HEIGHT:Tt,Kt=0,er=0;er<rr;er++){const ur=ir-Ht;let pr=0;const mr=ur>lr?kt:ur*8-7,vr=mr&-8;let kr=0,br=0;for(;pr<vr;pr+=8)br=Yt[Ht++],nr[Kt++]=br&128?cr:dr,nr[Kt++]=br&64?cr:dr,nr[Kt++]=br&32?cr:dr,nr[Kt++]=br&16?cr:dr,nr[Kt++]=br&8?cr:dr,nr[Kt++]=br&4?cr:dr,nr[Kt++]=br&2?cr:dr,nr[Kt++]=br&1?cr:dr;for(;pr<mr;pr++)kr===0&&(br=Yt[Ht++],kr=128),nr[Kt++]=br&kr?cr:dr,kr>>=1}for(;Kt<or;)nr[Kt++]=0;dt.putImageData(Ut,0,Zt*FULL_CHUNK_HEIGHT)}}else if(et.kind===util_ImageKind.RGBA_32BPP){for(er=0,sr=kt*FULL_CHUNK_HEIGHT*4,Zt=0;Zt<Dt;Zt++)Jt.set(Yt.subarray(Ht,Ht+sr)),Ht+=sr,dt.putImageData(Ut,0,er),er+=FULL_CHUNK_HEIGHT;Zt<Ft&&(sr=kt*Tt*4,Jt.set(Yt.subarray(Ht,Ht+sr)),dt.putImageData(Ut,0,er))}else if(et.kind===util_ImageKind.RGB_24BPP)for(rr=FULL_CHUNK_HEIGHT,sr=kt*rr,Zt=0;Zt<Ft;Zt++){for(Zt>=Dt&&(rr=Tt,sr=kt*rr),Kt=0,er=sr;er--;)Jt[Kt++]=Yt[Ht++],Jt[Kt++]=Yt[Ht++],Jt[Kt++]=Yt[Ht++],Jt[Kt++]=255;dt.putImageData(Ut,0,Zt*FULL_CHUNK_HEIGHT)}else throw new Error(`bad image kind: ${et.kind}`)}function putBinaryImageMask(dt,et){if(et.bitmap){dt.drawImage(et.bitmap,0,0);return}const $t=et.height,kt=et.width,Tt=$t%FULL_CHUNK_HEIGHT,Dt=($t-Tt)/FULL_CHUNK_HEIGHT,Ft=Tt===0?Dt:Dt+1,Ut=dt.createImageData(kt,FULL_CHUNK_HEIGHT);let Ht=0;const Kt=et.data,Yt=Ut.data;for(let Jt=0;Jt<Ft;Jt++){const Zt=Jt<Dt?FULL_CHUNK_HEIGHT:Tt;({srcPos:Ht}=convertBlackAndWhiteToRGBA({src:Kt,srcPos:Ht,dest:Yt,width:kt,height:Zt,nonBlackColor:0})),dt.putImageData(Ut,0,Jt*FULL_CHUNK_HEIGHT)}}function copyCtxState(dt,et){const $t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const kt of $t)dt[kt]!==void 0&&(et[kt]=dt[kt]);dt.setLineDash!==void 0&&(et.setLineDash(dt.getLineDash()),et.lineDashOffset=dt.lineDashOffset)}function resetCtxToDefault(dt){dt.strokeStyle=dt.fillStyle="#000000",dt.fillRule="nonzero",dt.globalAlpha=1,dt.lineWidth=1,dt.lineCap="butt",dt.lineJoin="miter",dt.miterLimit=10,dt.globalCompositeOperation="source-over",dt.font="10px sans-serif",dt.setLineDash!==void 0&&(dt.setLineDash([]),dt.lineDashOffset=0);const{filter:et}=dt;et!=="none"&&et!==""&&(dt.filter="none")}function getImageSmoothingEnabled(dt,et){if(et)return!0;Util.singularValueDecompose2dScale(dt,XY);const $t=Math.fround(OutputScale.pixelRatio*PixelsPerInch.PDF_TO_CSS_UNITS);return XY[0]<=$t&&XY[1]<=$t}const LINE_CAP_STYLES=["butt","round","square"],LINE_JOIN_STYLES=["miter","round","bevel"],NORMAL_CLIP={},EO_CLIP={};var D1,h$,F1,p$,L1,f$;const Z$=class Z${constructor(et,$t,kt,Tt,Dt,{optionalContentConfig:Ft,markedContentStack:Ut=null},Ht,Kt,Yt){yr(this,D1);yr(this,F1);yr(this,L1);this.ctx=et,this.current=new CanvasExtraState(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=$t,this.objs=kt,this.canvasFactory=Tt,this.filterFactory=Dt,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Ut||[],this.optionalContentConfig=Ft,this.cachedCanvases=new CachedCanvases(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=Ht,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=Kt,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=Yt??null}getObject(et,$t,kt=null){var Tt;return typeof $t=="string"?((Tt=this.dependencyTracker)==null||Tt.recordNamedDependency(et,$t),$t.startsWith("g_")?this.commonObjs.get($t):this.objs.get($t)):kt}beginDrawing({transform:et,viewport:$t,transparency:kt=!1,background:Tt=null}){const Dt=this.ctx.canvas.width,Ft=this.ctx.canvas.height,Ut=this.ctx.fillStyle;if(this.ctx.fillStyle=Tt||"#ffffff",this.ctx.fillRect(0,0,Dt,Ft),this.ctx.fillStyle=Ut,kt){const Ht=this.cachedCanvases.getCanvas("transparent",Dt,Ft);this.compositeCtx=this.ctx,this.transparentCanvas=Ht.canvas,this.ctx=Ht.context,this.ctx.save(),this.ctx.transform(...getCurrentTransform(this.compositeCtx))}this.ctx.save(),resetCtxToDefault(this.ctx),et&&(this.ctx.transform(...et),this.outputScaleX=et[0],this.outputScaleY=et[0]),this.ctx.transform(...$t.transform),this.viewportScale=$t.scale,this.baseTransform=getCurrentTransform(this.ctx)}executeOperatorList(et,$t,kt,Tt,Dt){var nr;const Ft=et.argsArray,Ut=et.fnArray;let Ht=$t||0;const Kt=Ft.length;if(Kt===Ht)return Ht;const Yt=Kt-Ht>EXECUTION_STEPS&&typeof kt=="function",Jt=Yt?Date.now()+EXECUTION_TIME:0;let Zt=0;const er=this.commonObjs,rr=this.objs;let sr,ir;for(;;){if(Tt!==void 0&&Ht===Tt.nextBreakPoint)return Tt.breakIt(Ht,kt),Ht;if(!Dt||Dt(Ht))if(sr=Ut[Ht],ir=Ft[Ht]??null,sr!==OPS.dependency)ir===null?this[sr](Ht):this[sr](Ht,...ir);else for(const or of ir){(nr=this.dependencyTracker)==null||nr.recordNamedData(or,Ht);const lr=or.startsWith("g_")?er:rr;if(!lr.has(or))return lr.get(or,kt),Ht}if(Ht++,Ht===Kt)return Ht;if(Yt&&++Zt>EXECUTION_STEPS){if(Date.now()>Jt)return kt(),Ht;Zt=0}}}endDrawing(){Br(this,D1,h$).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const et of this._cachedBitmapsMap.values()){for(const $t of et.values())typeof HTMLCanvasElement<"u"&&$t instanceof HTMLCanvasElement&&($t.width=$t.height=0);et.clear()}this._cachedBitmapsMap.clear(),Br(this,F1,p$).call(this)}_scaleImage(et,$t){const kt=et.width??et.displayWidth,Tt=et.height??et.displayHeight;let Dt=Math.max(Math.hypot($t[0],$t[1]),1),Ft=Math.max(Math.hypot($t[2],$t[3]),1),Ut=kt,Ht=Tt,Kt="prescale1",Yt,Jt;for(;Dt>2&&Ut>1||Ft>2&&Ht>1;){let Zt=Ut,er=Ht;Dt>2&&Ut>1&&(Zt=Ut>=16384?Math.floor(Ut/2)-1||1:Math.ceil(Ut/2),Dt/=Ut/Zt),Ft>2&&Ht>1&&(er=Ht>=16384?Math.floor(Ht/2)-1||1:Math.ceil(Ht)/2,Ft/=Ht/er),Yt=this.cachedCanvases.getCanvas(Kt,Zt,er),Jt=Yt.context,Jt.clearRect(0,0,Zt,er),Jt.drawImage(et,0,0,Ut,Ht,0,0,Zt,er),et=Yt.canvas,Ut=Zt,Ht=er,Kt=Kt==="prescale1"?"prescale2":"prescale1"}return{img:et,paintWidth:Ut,paintHeight:Ht}}_createMaskCanvas(et,$t){var kr,br;const kt=this.ctx,{width:Tt,height:Dt}=$t,Ft=this.current.fillColor,Ut=this.current.patternFill,Ht=getCurrentTransform(kt);let Kt,Yt,Jt,Zt;if(($t.bitmap||$t.data)&&$t.count>1){const _r=$t.bitmap||$t.data.buffer;Yt=JSON.stringify(Ut?Ht:[Ht.slice(0,4),Ft]),Kt=this._cachedBitmapsMap.get(_r),Kt||(Kt=new Map,this._cachedBitmapsMap.set(_r,Kt));const Or=Kt.get(Yt);if(Or&&!Ut){const Pr=Math.round(Math.min(Ht[0],Ht[2])+Ht[4]),Mr=Math.round(Math.min(Ht[1],Ht[3])+Ht[5]);return(kr=this.dependencyTracker)==null||kr.recordDependencies(et,Dependencies.transformAndFill),{canvas:Or,offsetX:Pr,offsetY:Mr}}Jt=Or}Jt||(Zt=this.cachedCanvases.getCanvas("maskCanvas",Tt,Dt),putBinaryImageMask(Zt.context,$t));let er=Util.transform(Ht,[1/Tt,0,0,-1/Dt,0,0]);er=Util.transform(er,[1,0,0,1,0,-Dt]);const rr=MIN_MAX_INIT.slice();Util.axialAlignedBoundingBox([0,0,Tt,Dt],er,rr);const[sr,ir,nr,or]=rr,lr=Math.round(nr-sr)||1,cr=Math.round(or-ir)||1,dr=this.cachedCanvases.getCanvas("fillCanvas",lr,cr),ur=dr.context,pr=sr,mr=ir;ur.translate(-pr,-mr),ur.transform(...er),Jt||(Jt=this._scaleImage(Zt.canvas,getCurrentTransformInverse(ur)),Jt=Jt.img,Kt&&Ut&&Kt.set(Yt,Jt)),ur.imageSmoothingEnabled=getImageSmoothingEnabled(getCurrentTransform(ur),$t.interpolate),drawImageAtIntegerCoords(ur,Jt,0,0,Jt.width,Jt.height,0,0,Tt,Dt),ur.globalCompositeOperation="source-in";const vr=Util.transform(getCurrentTransformInverse(ur),[1,0,0,1,-pr,-mr]);return ur.fillStyle=Ut?Ft.getPattern(kt,this,vr,PathType.FILL,et):Ft,ur.fillRect(0,0,Tt,Dt),Kt&&!Ut&&(this.cachedCanvases.delete("fillCanvas"),Kt.set(Yt,dr.canvas)),(br=this.dependencyTracker)==null||br.recordDependencies(et,Dependencies.transformAndFill),{canvas:dr.canvas,offsetX:Math.round(pr),offsetY:Math.round(mr)}}setLineWidth(et,$t){var kt;(kt=this.dependencyTracker)==null||kt.recordSimpleData("lineWidth",et),$t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=$t,this.ctx.lineWidth=$t}setLineCap(et,$t){var kt;(kt=this.dependencyTracker)==null||kt.recordSimpleData("lineCap",et),this.ctx.lineCap=LINE_CAP_STYLES[$t]}setLineJoin(et,$t){var kt;(kt=this.dependencyTracker)==null||kt.recordSimpleData("lineJoin",et),this.ctx.lineJoin=LINE_JOIN_STYLES[$t]}setMiterLimit(et,$t){var kt;(kt=this.dependencyTracker)==null||kt.recordSimpleData("miterLimit",et),this.ctx.miterLimit=$t}setDash(et,$t,kt){var Dt;(Dt=this.dependencyTracker)==null||Dt.recordSimpleData("dash",et);const Tt=this.ctx;Tt.setLineDash!==void 0&&(Tt.setLineDash($t),Tt.lineDashOffset=kt)}setRenderingIntent(et,$t){}setFlatness(et,$t){}setGState(et,$t){var kt,Tt,Dt,Ft,Ut;for(const[Ht,Kt]of $t)switch(Ht){case"LW":this.setLineWidth(et,Kt);break;case"LC":this.setLineCap(et,Kt);break;case"LJ":this.setLineJoin(et,Kt);break;case"ML":this.setMiterLimit(et,Kt);break;case"D":this.setDash(et,Kt[0],Kt[1]);break;case"RI":this.setRenderingIntent(et,Kt);break;case"FL":this.setFlatness(et,Kt);break;case"Font":this.setFont(et,Kt[0],Kt[1]);break;case"CA":(kt=this.dependencyTracker)==null||kt.recordSimpleData("strokeAlpha",et),this.current.strokeAlpha=Kt;break;case"ca":(Tt=this.dependencyTracker)==null||Tt.recordSimpleData("fillAlpha",et),this.ctx.globalAlpha=this.current.fillAlpha=Kt;break;case"BM":(Dt=this.dependencyTracker)==null||Dt.recordSimpleData("globalCompositeOperation",et),this.ctx.globalCompositeOperation=Kt;break;case"SMask":(Ft=this.dependencyTracker)==null||Ft.recordSimpleData("SMask",et),this.current.activeSMask=Kt?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":(Ut=this.dependencyTracker)==null||Ut.recordSimpleData("filter",et),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(Kt);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const et=this.inSMaskMode;this.current.activeSMask&&!et?this.beginSMaskMode():!this.current.activeSMask&&et&&this.endSMaskMode()}beginSMaskMode(et){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const $t=this.ctx.canvas.width,kt=this.ctx.canvas.height,Tt="smaskGroupAt"+this.groupLevel,Dt=this.cachedCanvases.getCanvas(Tt,$t,kt);this.suspendedCtx=this.ctx;const Ft=this.ctx=Dt.context;Ft.setTransform(this.suspendedCtx.getTransform()),copyCtxState(this.suspendedCtx,Ft),mirrorContextOperations(Ft,this.suspendedCtx),this.setGState(et,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),copyCtxState(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(et){if(!this.current.activeSMask)return;et?(et[0]=Math.floor(et[0]),et[1]=Math.floor(et[1]),et[2]=Math.ceil(et[2]),et[3]=Math.ceil(et[3])):et=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const $t=this.current.activeSMask,kt=this.suspendedCtx;this.composeSMask(kt,$t,this.ctx,et),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(et,$t,kt,Tt){const Dt=Tt[0],Ft=Tt[1],Ut=Tt[2]-Dt,Ht=Tt[3]-Ft;Ut===0||Ht===0||(this.genericComposeSMask($t.context,kt,Ut,Ht,$t.subtype,$t.backdrop,$t.transferMap,Dt,Ft,$t.offsetX,$t.offsetY),et.save(),et.globalAlpha=1,et.globalCompositeOperation="source-over",et.setTransform(1,0,0,1,0,0),et.drawImage(kt.canvas,0,0),et.restore())}genericComposeSMask(et,$t,kt,Tt,Dt,Ft,Ut,Ht,Kt,Yt,Jt){let Zt=et.canvas,er=Ht-Yt,rr=Kt-Jt;if(Ft)if(er<0||rr<0||er+kt>Zt.width||rr+Tt>Zt.height){const ir=this.cachedCanvases.getCanvas("maskExtension",kt,Tt),nr=ir.context;nr.drawImage(Zt,-er,-rr),nr.globalCompositeOperation="destination-atop",nr.fillStyle=Ft,nr.fillRect(0,0,kt,Tt),nr.globalCompositeOperation="source-over",Zt=ir.canvas,er=rr=0}else{et.save(),et.globalAlpha=1,et.setTransform(1,0,0,1,0,0);const ir=new Path2D;ir.rect(er,rr,kt,Tt),et.clip(ir),et.globalCompositeOperation="destination-atop",et.fillStyle=Ft,et.fillRect(er,rr,kt,Tt),et.restore()}$t.save(),$t.globalAlpha=1,$t.setTransform(1,0,0,1,0,0),Dt==="Alpha"&&Ut?$t.filter=this.filterFactory.addAlphaFilter(Ut):Dt==="Luminosity"&&($t.filter=this.filterFactory.addLuminosityFilter(Ut));const sr=new Path2D;sr.rect(Ht,Kt,kt,Tt),$t.clip(sr),$t.globalCompositeOperation="destination-in",$t.drawImage(Zt,er,rr,kt,Tt,Ht,Kt,kt,Tt),$t.restore()}save(et){var kt;this.inSMaskMode&&copyCtxState(this.ctx,this.suspendedCtx),this.ctx.save();const $t=this.current;this.stateStack.push($t),this.current=$t.clone(),(kt=this.dependencyTracker)==null||kt.save(et)}restore(et){var $t;if(($t=this.dependencyTracker)==null||$t.restore(et),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&copyCtxState(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(et,$t,kt,Tt,Dt,Ft,Ut){var Ht;(Ht=this.dependencyTracker)==null||Ht.recordIncrementalData("transform",et),this.ctx.transform($t,kt,Tt,Dt,Ft,Ut),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(et,$t,kt,Tt){let[Dt]=kt;if(!Tt){Dt||(Dt=kt[0]=new Path2D),this[$t](et,Dt);return}if(this.dependencyTracker!==null){const Ft=$t===OPS.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(et).recordBBox(et,this.ctx,Tt[0]-Ft,Tt[2]+Ft,Tt[1]-Ft,Tt[3]+Ft).recordDependencies(et,["transform"])}if(!(Dt instanceof Path2D)){const Ft=kt[0]=new Path2D;for(let Ut=0,Ht=Dt.length;Ut<Ht;)switch(Dt[Ut++]){case DrawOPS.moveTo:Ft.moveTo(Dt[Ut++],Dt[Ut++]);break;case DrawOPS.lineTo:Ft.lineTo(Dt[Ut++],Dt[Ut++]);break;case DrawOPS.curveTo:Ft.bezierCurveTo(Dt[Ut++],Dt[Ut++],Dt[Ut++],Dt[Ut++],Dt[Ut++],Dt[Ut++]);break;case DrawOPS.closePath:Ft.closePath();break;default:warn(`Unrecognized drawing path operator: ${Dt[Ut-1]}`);break}Dt=Ft}Util.axialAlignedBoundingBox(Tt,getCurrentTransform(this.ctx),this.current.minMax),this[$t](et,Dt),this._pathStartIdx=et}closePath(et){this.ctx.closePath()}stroke(et,$t,kt=!0){var Ft;const Tt=this.ctx,Dt=this.current.strokeColor;if(Tt.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof Dt=="object"&&(Dt!=null&&Dt.getPattern)){const Ut=Dt.isModifyingCurrentTransform()?Tt.getTransform():null;if(Tt.save(),Tt.strokeStyle=Dt.getPattern(Tt,this,getCurrentTransformInverse(Tt),PathType.STROKE,et),Ut){const Ht=new Path2D;Ht.addPath($t,Tt.getTransform().invertSelf().multiplySelf(Ut)),$t=Ht}this.rescaleAndStroke($t,!1),Tt.restore()}else this.rescaleAndStroke($t,!0);(Ft=this.dependencyTracker)==null||Ft.recordDependencies(et,Dependencies.stroke),kt&&this.consumePath(et,$t,this.current.getClippedPathBoundingBox(PathType.STROKE,getCurrentTransform(this.ctx))),Tt.globalAlpha=this.current.fillAlpha}closeStroke(et,$t){this.stroke(et,$t)}fill(et,$t,kt=!0){var Kt,Yt,Jt;const Tt=this.ctx,Dt=this.current.fillColor,Ft=this.current.patternFill;let Ut=!1;if(Ft){const Zt=Dt.isModifyingCurrentTransform()?Tt.getTransform():null;if((Kt=this.dependencyTracker)==null||Kt.save(et),Tt.save(),Tt.fillStyle=Dt.getPattern(Tt,this,getCurrentTransformInverse(Tt),PathType.FILL,et),Zt){const er=new Path2D;er.addPath($t,Tt.getTransform().invertSelf().multiplySelf(Zt)),$t=er}Ut=!0}const Ht=this.current.getClippedPathBoundingBox();this.contentVisible&&Ht!==null&&(this.pendingEOFill?(Tt.fill($t,"evenodd"),this.pendingEOFill=!1):Tt.fill($t)),(Yt=this.dependencyTracker)==null||Yt.recordDependencies(et,Dependencies.fill),Ut&&(Tt.restore(),(Jt=this.dependencyTracker)==null||Jt.restore(et)),kt&&this.consumePath(et,$t,Ht)}eoFill(et,$t){this.pendingEOFill=!0,this.fill(et,$t)}fillStroke(et,$t){this.fill(et,$t,!1),this.stroke(et,$t,!1),this.consumePath(et,$t)}eoFillStroke(et,$t){this.pendingEOFill=!0,this.fillStroke(et,$t)}closeFillStroke(et,$t){this.fillStroke(et,$t)}closeEOFillStroke(et,$t){this.pendingEOFill=!0,this.fillStroke(et,$t)}endPath(et,$t){this.consumePath(et,$t)}rawFillPath(et,$t){var kt;this.ctx.fill($t),(kt=this.dependencyTracker)==null||kt.recordDependencies(et,Dependencies.rawFillPath).recordOperation(et)}clip(et){var $t;($t=this.dependencyTracker)==null||$t.recordFutureForcedDependency("clipMode",et),this.pendingClip=NORMAL_CLIP}eoClip(et){var $t;($t=this.dependencyTracker)==null||$t.recordFutureForcedDependency("clipMode",et),this.pendingClip=EO_CLIP}beginText(et){var $t;this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,($t=this.dependencyTracker)==null||$t.recordOpenMarker(et).resetIncrementalData("sameLineText").resetIncrementalData("moveText",et)}endText(et){const $t=this.pendingTextPaths,kt=this.ctx;if(this.dependencyTracker){const{dependencyTracker:Tt}=this;$t!==void 0&&Tt.recordFutureForcedDependency("textClip",Tt.getOpenMarker()).recordFutureForcedDependency("textClip",et),Tt.recordCloseMarker(et)}if($t!==void 0){const Tt=new Path2D,Dt=kt.getTransform().invertSelf();for(const{transform:Ft,x:Ut,y:Ht,fontSize:Kt,path:Yt}of $t)Yt&&Tt.addPath(Yt,new DOMMatrix(Ft).preMultiplySelf(Dt).translate(Ut,Ht).scale(Kt,-Kt));kt.clip(Tt)}delete this.pendingTextPaths}setCharSpacing(et,$t){var kt;(kt=this.dependencyTracker)==null||kt.recordSimpleData("charSpacing",et),this.current.charSpacing=$t}setWordSpacing(et,$t){var kt;(kt=this.dependencyTracker)==null||kt.recordSimpleData("wordSpacing",et),this.current.wordSpacing=$t}setHScale(et,$t){var kt;(kt=this.dependencyTracker)==null||kt.recordSimpleData("hScale",et),this.current.textHScale=$t/100}setLeading(et,$t){var kt;(kt=this.dependencyTracker)==null||kt.recordSimpleData("leading",et),this.current.leading=-$t}setFont(et,$t,kt){var Jt,Zt;(Jt=this.dependencyTracker)==null||Jt.recordSimpleData("font",et).recordSimpleDataFromNamed("fontObj",$t,et);const Tt=this.commonObjs.get($t),Dt=this.current;if(!Tt)throw new Error(`Can't find font for ${$t}`);if(Dt.fontMatrix=Tt.fontMatrix||FONT_IDENTITY_MATRIX,(Dt.fontMatrix[0]===0||Dt.fontMatrix[3]===0)&&warn("Invalid font matrix for font "+$t),kt<0?(kt=-kt,Dt.fontDirection=-1):Dt.fontDirection=1,this.current.font=Tt,this.current.fontSize=kt,Tt.isType3Font)return;const Ft=Tt.loadedName||"sans-serif",Ut=((Zt=Tt.systemFontInfo)==null?void 0:Zt.css)||`"${Ft}", ${Tt.fallbackName}`;let Ht="normal";Tt.black?Ht="900":Tt.bold&&(Ht="bold");const Kt=Tt.italic?"italic":"normal";let Yt=kt;kt<MIN_FONT_SIZE?Yt=MIN_FONT_SIZE:kt>MAX_FONT_SIZE&&(Yt=MAX_FONT_SIZE),this.current.fontSizeScale=kt/Yt,this.ctx.font=`${Kt} ${Ht} ${Yt}px ${Ut}`}setTextRenderingMode(et,$t){var kt;(kt=this.dependencyTracker)==null||kt.recordSimpleData("textRenderingMode",et),this.current.textRenderingMode=$t}setTextRise(et,$t){var kt;(kt=this.dependencyTracker)==null||kt.recordSimpleData("textRise",et),this.current.textRise=$t}moveText(et,$t,kt){var Tt;(Tt=this.dependencyTracker)==null||Tt.resetIncrementalData("sameLineText").recordIncrementalData("moveText",et),this.current.x=this.current.lineX+=$t,this.current.y=this.current.lineY+=kt}setLeadingMoveText(et,$t,kt){this.setLeading(et,-kt),this.moveText(et,$t,kt)}setTextMatrix(et,$t){var Tt;(Tt=this.dependencyTracker)==null||Tt.recordSimpleData("textMatrix",et);const{current:kt}=this;kt.textMatrix=$t,kt.textMatrixScale=Math.hypot($t[0],$t[1]),kt.x=kt.lineX=0,kt.y=kt.lineY=0}nextLine(et){var $t;this.moveText(et,0,this.current.leading),($t=this.dependencyTracker)==null||$t.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??et)}paintChar(et,$t,kt,Tt,Dt,Ft){var nr,or,lr,cr;const Ut=this.ctx,Ht=this.current,Kt=Ht.font,Yt=Ht.textRenderingMode,Jt=Ht.fontSize/Ht.fontSizeScale,Zt=Yt&TextRenderingMode.FILL_STROKE_MASK,er=!!(Yt&TextRenderingMode.ADD_TO_PATH_FLAG),rr=Ht.patternFill&&!Kt.missingFile,sr=Ht.patternStroke&&!Kt.missingFile;let ir;if((Kt.disableFontFace||er||rr||sr)&&!Kt.missingFile&&(ir=Kt.getPathGenerator(this.commonObjs,$t)),ir&&(Kt.disableFontFace||rr||sr)){Ut.save(),Ut.translate(kt,Tt),Ut.scale(Jt,-Jt),(nr=this.dependencyTracker)==null||nr.recordCharacterBBox(et,Ut,Kt);let dr;if(Zt===TextRenderingMode.FILL||Zt===TextRenderingMode.FILL_STROKE)if(Dt){dr=Ut.getTransform(),Ut.setTransform(...Dt);const ur=Br(this,L1,f$).call(this,ir,dr,Dt);Ut.fill(ur)}else Ut.fill(ir);if(Zt===TextRenderingMode.STROKE||Zt===TextRenderingMode.FILL_STROKE)if(Ft){dr||(dr=Ut.getTransform()),Ut.setTransform(...Ft);const{a:ur,b:pr,c:mr,d:vr}=dr,kr=Util.inverseTransform(Ft),br=Util.transform([ur,pr,mr,vr,0,0],kr);Util.singularValueDecompose2dScale(br,XY),Ut.lineWidth*=Math.max(XY[0],XY[1])/Jt,Ut.stroke(Br(this,L1,f$).call(this,ir,dr,Ft))}else Ut.lineWidth/=Jt,Ut.stroke(ir);Ut.restore()}else(Zt===TextRenderingMode.FILL||Zt===TextRenderingMode.FILL_STROKE)&&(Ut.fillText($t,kt,Tt),(or=this.dependencyTracker)==null||or.recordCharacterBBox(et,Ut,Kt,Jt,kt,Tt,()=>Ut.measureText($t))),(Zt===TextRenderingMode.STROKE||Zt===TextRenderingMode.FILL_STROKE)&&(this.dependencyTracker&&((lr=this.dependencyTracker)==null||lr.recordCharacterBBox(et,Ut,Kt,Jt,kt,Tt,()=>Ut.measureText($t)).recordDependencies(et,Dependencies.stroke)),Ut.strokeText($t,kt,Tt));er&&((this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:getCurrentTransform(Ut),x:kt,y:Tt,fontSize:Jt,path:ir}),(cr=this.dependencyTracker)==null||cr.recordCharacterBBox(et,Ut,Kt,Jt,kt,Tt))}get isFontSubpixelAAEnabled(){const{context:et}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);et.scale(1.5,1),et.fillText("I",0,10);const $t=et.getImageData(0,0,10,10).data;let kt=!1;for(let Tt=3;Tt<$t.length;Tt+=4)if($t[Tt]>0&&$t[Tt]<255){kt=!0;break}return shadow(this,"isFontSubpixelAAEnabled",kt)}showText(et,$t){var mr,vr,kr,br;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(et,Dependencies.showText).resetBBox(et),this.current.textRenderingMode&TextRenderingMode.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",et).inheritPendingDependenciesAsFutureForcedDependencies());const kt=this.current,Tt=kt.font;if(Tt.isType3Font){this.showType3Text(et,$t),(mr=this.dependencyTracker)==null||mr.recordShowTextOperation(et);return}const Dt=kt.fontSize;if(Dt===0){(vr=this.dependencyTracker)==null||vr.recordOperation(et);return}const Ft=this.ctx,Ut=kt.fontSizeScale,Ht=kt.charSpacing,Kt=kt.wordSpacing,Yt=kt.fontDirection,Jt=kt.textHScale*Yt,Zt=$t.length,er=Tt.vertical,rr=er?1:-1,sr=Tt.defaultVMetrics,ir=Dt*kt.fontMatrix[0],nr=kt.textRenderingMode===TextRenderingMode.FILL&&!Tt.disableFontFace&&!kt.patternFill;Ft.save(),kt.textMatrix&&Ft.transform(...kt.textMatrix),Ft.translate(kt.x,kt.y+kt.textRise),Yt>0?Ft.scale(Jt,-1):Ft.scale(Jt,1);let or,lr;if(kt.patternFill){Ft.save();const _r=kt.fillColor.getPattern(Ft,this,getCurrentTransformInverse(Ft),PathType.FILL,et);or=getCurrentTransform(Ft),Ft.restore(),Ft.fillStyle=_r}if(kt.patternStroke){Ft.save();const _r=kt.strokeColor.getPattern(Ft,this,getCurrentTransformInverse(Ft),PathType.STROKE,et);lr=getCurrentTransform(Ft),Ft.restore(),Ft.strokeStyle=_r}let cr=kt.lineWidth;const dr=kt.textMatrixScale;if(dr===0||cr===0){const _r=kt.textRenderingMode&TextRenderingMode.FILL_STROKE_MASK;(_r===TextRenderingMode.STROKE||_r===TextRenderingMode.FILL_STROKE)&&(cr=this.getSinglePixelWidth())}else cr/=dr;if(Ut!==1&&(Ft.scale(Ut,Ut),cr/=Ut),Ft.lineWidth=cr,Tt.isInvalidPDFjsFont){const _r=[];let Or=0;for(const Mr of $t)_r.push(Mr.unicode),Or+=Mr.width;const Pr=_r.join("");if(Ft.fillText(Pr,0,0),this.dependencyTracker!==null){const Mr=Ft.measureText(Pr);this.dependencyTracker.recordBBox(et,this.ctx,-Mr.actualBoundingBoxLeft,Mr.actualBoundingBoxRight,-Mr.actualBoundingBoxAscent,Mr.actualBoundingBoxDescent).recordShowTextOperation(et)}kt.x+=Or*ir*Jt,Ft.restore(),this.compose();return}let ur=0,pr;for(pr=0;pr<Zt;++pr){const _r=$t[pr];if(typeof _r=="number"){ur+=rr*_r*Dt/1e3;continue}let Or=!1;const Pr=(_r.isSpace?Kt:0)+Ht,Mr=_r.fontChar,Rr=_r.accent;let Tr,xr,wr=_r.width;if(er){const Gr=_r.vmetric||sr,Xr=-(_r.vmetric?Gr[1]:wr*.5)*ir,rs=Gr[2]*ir;wr=Gr?-Gr[0]:wr,Tr=Xr/Ut,xr=(ur+rs)/Ut}else Tr=ur/Ut,xr=0;let zr;if(Tt.remeasure&&wr>0){zr=Ft.measureText(Mr);const Gr=zr.width*1e3/Dt*Ut;if(wr<Gr&&this.isFontSubpixelAAEnabled){const Xr=wr/Gr;Or=!0,Ft.save(),Ft.scale(Xr,1),Tr/=Xr}else wr!==Gr&&(Tr+=(wr-Gr)/2e3*Dt/Ut)}if(this.contentVisible&&(_r.isInFont||Tt.missingFile)){if(nr&&!Rr)Ft.fillText(Mr,Tr,xr),(kr=this.dependencyTracker)==null||kr.recordCharacterBBox(et,Ft,zr?{bbox:null}:Tt,Dt/Ut,Tr,xr,()=>zr??Ft.measureText(Mr));else if(this.paintChar(et,Mr,Tr,xr,or,lr),Rr){const Gr=Tr+Dt*Rr.offset.x/Ut,Xr=xr-Dt*Rr.offset.y/Ut;this.paintChar(et,Rr.fontChar,Gr,Xr,or,lr)}}const Hr=er?wr*ir-Pr*Yt:wr*ir+Pr*Yt;ur+=Hr,Or&&Ft.restore()}er?kt.y-=ur:kt.x+=ur*Jt,Ft.restore(),this.compose(),(br=this.dependencyTracker)==null||br.recordShowTextOperation(et)}showType3Text(et,$t){const kt=this.ctx,Tt=this.current,Dt=Tt.font,Ft=Tt.fontSize,Ut=Tt.fontDirection,Ht=Dt.vertical?1:-1,Kt=Tt.charSpacing,Yt=Tt.wordSpacing,Jt=Tt.textHScale*Ut,Zt=Tt.fontMatrix||FONT_IDENTITY_MATRIX,er=$t.length,rr=Tt.textRenderingMode===TextRenderingMode.INVISIBLE;let sr,ir,nr,or;if(rr||Ft===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,kt.save(),Tt.textMatrix&&kt.transform(...Tt.textMatrix),kt.translate(Tt.x,Tt.y+Tt.textRise),kt.scale(Jt,Ut);const lr=this.dependencyTracker;for(this.dependencyTracker=lr?new CanvasNestedDependencyTracker(lr,et):null,sr=0;sr<er;++sr){if(ir=$t[sr],typeof ir=="number"){or=Ht*ir*Ft/1e3,this.ctx.translate(or,0),Tt.x+=or*Jt;continue}const cr=(ir.isSpace?Yt:0)+Kt,dr=Dt.charProcOperatorList[ir.operatorListId];dr?this.contentVisible&&(this.save(),kt.scale(Ft,Ft),kt.transform(...Zt),this.executeOperatorList(dr),this.restore()):warn(`Type3 character "${ir.operatorListId}" is not available.`);const ur=[ir.width,0];Util.applyTransform(ur,Zt),nr=ur[0]*Ft+cr,kt.translate(nr,0),Tt.x+=nr*Jt}kt.restore(),lr&&(this.dependencyTracker=lr)}setCharWidth(et,$t,kt){}setCharWidthAndBounds(et,$t,kt,Tt,Dt,Ft,Ut){var Kt;const Ht=new Path2D;Ht.rect(Tt,Dt,Ft-Tt,Ut-Dt),this.ctx.clip(Ht),(Kt=this.dependencyTracker)==null||Kt.recordBBox(et,this.ctx,Tt,Ft,Dt,Ut).recordClipBox(et,this.ctx,Tt,Ft,Dt,Ut),this.endPath(et)}getColorN_Pattern(et,$t){let kt;if($t[0]==="TilingPattern"){const Tt=this.baseTransform||getCurrentTransform(this.ctx),Dt={createCanvasGraphics:(Ft,Ut)=>new Z$(Ft,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new CanvasNestedDependencyTracker(this.dependencyTracker,Ut,!0):null)};kt=new TilingPattern($t,this.ctx,Dt,Tt)}else kt=this._getPattern(et,$t[1],$t[2]);return kt}setStrokeColorN(et,...$t){var kt;(kt=this.dependencyTracker)==null||kt.recordSimpleData("strokeColor",et),this.current.strokeColor=this.getColorN_Pattern(et,$t),this.current.patternStroke=!0}setFillColorN(et,...$t){var kt;(kt=this.dependencyTracker)==null||kt.recordSimpleData("fillColor",et),this.current.fillColor=this.getColorN_Pattern(et,$t),this.current.patternFill=!0}setStrokeRGBColor(et,$t){var kt;(kt=this.dependencyTracker)==null||kt.recordSimpleData("strokeColor",et),this.ctx.strokeStyle=this.current.strokeColor=$t,this.current.patternStroke=!1}setStrokeTransparent(et){var $t;($t=this.dependencyTracker)==null||$t.recordSimpleData("strokeColor",et),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(et,$t){var kt;(kt=this.dependencyTracker)==null||kt.recordSimpleData("fillColor",et),this.ctx.fillStyle=this.current.fillColor=$t,this.current.patternFill=!1}setFillTransparent(et){var $t;($t=this.dependencyTracker)==null||$t.recordSimpleData("fillColor",et),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(et,$t,kt=null){let Tt;return this.cachedPatterns.has($t)?Tt=this.cachedPatterns.get($t):(Tt=getShadingPattern(this.getObject(et,$t)),this.cachedPatterns.set($t,Tt)),kt&&(Tt.matrix=kt),Tt}shadingFill(et,$t){var Ft;if(!this.contentVisible)return;const kt=this.ctx;this.save(et);const Tt=this._getPattern(et,$t);kt.fillStyle=Tt.getPattern(kt,this,getCurrentTransformInverse(kt),PathType.SHADING,et);const Dt=getCurrentTransformInverse(kt);if(Dt){const{width:Ut,height:Ht}=kt.canvas,Kt=MIN_MAX_INIT.slice();Util.axialAlignedBoundingBox([0,0,Ut,Ht],Dt,Kt);const[Yt,Jt,Zt,er]=Kt;this.ctx.fillRect(Yt,Jt,Zt-Yt,er-Jt)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);(Ft=this.dependencyTracker)==null||Ft.resetBBox(et).recordFullPageBBox(et).recordDependencies(et,Dependencies.transform).recordDependencies(et,Dependencies.fill).recordOperation(et),this.compose(this.current.getClippedPathBoundingBox()),this.restore(et)}beginInlineImage(){unreachable("Should not call beginInlineImage")}beginImageData(){unreachable("Should not call beginImageData")}paintFormXObjectBegin(et,$t,kt){var Tt;if(this.contentVisible&&(this.save(et),this.baseTransformStack.push(this.baseTransform),$t&&this.transform(et,...$t),this.baseTransform=getCurrentTransform(this.ctx),kt)){Util.axialAlignedBoundingBox(kt,this.baseTransform,this.current.minMax);const[Dt,Ft,Ut,Ht]=kt,Kt=new Path2D;Kt.rect(Dt,Ft,Ut-Dt,Ht-Ft),this.ctx.clip(Kt),(Tt=this.dependencyTracker)==null||Tt.recordClipBox(et,this.ctx,Dt,Ut,Ft,Ht),this.endPath(et)}}paintFormXObjectEnd(et){this.contentVisible&&(this.restore(et),this.baseTransform=this.baseTransformStack.pop())}beginGroup(et,$t){var lr;if(!this.contentVisible)return;this.save(et),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const kt=this.ctx;$t.isolated||info("TODO: Support non-isolated groups."),$t.knockout&&warn("Knockout groups not supported.");const Tt=getCurrentTransform(kt);if($t.matrix&&kt.transform(...$t.matrix),!$t.bbox)throw new Error("Bounding box is required.");let Dt=MIN_MAX_INIT.slice();Util.axialAlignedBoundingBox($t.bbox,getCurrentTransform(kt),Dt);const Ft=[0,0,kt.canvas.width,kt.canvas.height];Dt=Util.intersect(Dt,Ft)||[0,0,0,0];const Ut=Math.floor(Dt[0]),Ht=Math.floor(Dt[1]),Kt=Math.max(Math.ceil(Dt[2])-Ut,1),Yt=Math.max(Math.ceil(Dt[3])-Ht,1);this.current.startNewPathAndClipBox([0,0,Kt,Yt]);let Jt="groupAt"+this.groupLevel;$t.smask&&(Jt+="_smask_"+this.smaskCounter++%2);const Zt=this.cachedCanvases.getCanvas(Jt,Kt,Yt),er=Zt.context;er.translate(-Ut,-Ht),er.transform(...Tt);let rr=new Path2D;const[sr,ir,nr,or]=$t.bbox;if(rr.rect(sr,ir,nr-sr,or-ir),$t.matrix){const cr=new Path2D;cr.addPath(rr,new DOMMatrix($t.matrix)),rr=cr}er.clip(rr),$t.smask&&this.smaskStack.push({canvas:Zt.canvas,context:er,offsetX:Ut,offsetY:Ht,subtype:$t.smask.subtype,backdrop:$t.smask.backdrop,transferMap:$t.smask.transferMap||null,startTransformInverse:null}),(!$t.smask||this.dependencyTracker)&&(kt.setTransform(1,0,0,1,0,0),kt.translate(Ut,Ht),kt.save()),copyCtxState(kt,er),this.ctx=er,(lr=this.dependencyTracker)==null||lr.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(kt),this.setGState(et,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(kt),this.groupLevel++}endGroup(et,$t){var Dt;if(!this.contentVisible)return;this.groupLevel--;const kt=this.ctx,Tt=this.groupStack.pop();if(this.ctx=Tt,this.ctx.imageSmoothingEnabled=!1,(Dt=this.dependencyTracker)==null||Dt.popBaseTransform(),$t.smask)this.tempSMask=this.smaskStack.pop(),this.restore(et),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const Ft=getCurrentTransform(this.ctx);this.restore(et),this.ctx.save(),this.ctx.setTransform(...Ft);const Ut=MIN_MAX_INIT.slice();Util.axialAlignedBoundingBox([0,0,kt.canvas.width,kt.canvas.height],Ft,Ut),this.ctx.drawImage(kt.canvas,0,0),this.ctx.restore(),this.compose(Ut)}}beginAnnotation(et,$t,kt,Tt,Dt,Ft){if(Br(this,D1,h$).call(this),resetCtxToDefault(this.ctx),this.ctx.save(),this.save(et),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),kt){const Ut=kt[2]-kt[0],Ht=kt[3]-kt[1];if(Ft&&this.annotationCanvasMap){Tt=Tt.slice(),Tt[4]-=kt[0],Tt[5]-=kt[1],kt=kt.slice(),kt[0]=kt[1]=0,kt[2]=Ut,kt[3]=Ht,Util.singularValueDecompose2dScale(getCurrentTransform(this.ctx),XY);const{viewportScale:Kt}=this,Yt=Math.ceil(Ut*this.outputScaleX*Kt),Jt=Math.ceil(Ht*this.outputScaleY*Kt);this.annotationCanvas=this.canvasFactory.create(Yt,Jt);const{canvas:Zt,context:er}=this.annotationCanvas;this.annotationCanvasMap.set($t,Zt),this.annotationCanvas.savedCtx=this.ctx,this.ctx=er,this.ctx.save(),this.ctx.setTransform(XY[0],0,0,-XY[1],0,Ht*XY[1]),resetCtxToDefault(this.ctx)}else{resetCtxToDefault(this.ctx),this.endPath(et);const Kt=new Path2D;Kt.rect(kt[0],kt[1],Ut,Ht),this.ctx.clip(Kt)}}this.current=new CanvasExtraState(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(et,...Tt),this.transform(et,...Dt)}endAnnotation(et){this.annotationCanvas&&(this.ctx.restore(),Br(this,F1,p$).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(et,$t){var Ut;if(!this.contentVisible)return;const kt=$t.count;$t=this.getObject(et,$t.data,$t),$t.count=kt;const Tt=this.ctx,Dt=this._createMaskCanvas(et,$t),Ft=Dt.canvas;Tt.save(),Tt.setTransform(1,0,0,1,0,0),Tt.drawImage(Ft,Dt.offsetX,Dt.offsetY),(Ut=this.dependencyTracker)==null||Ut.resetBBox(et).recordBBox(et,this.ctx,Dt.offsetX,Dt.offsetX+Ft.width,Dt.offsetY,Dt.offsetY+Ft.height).recordOperation(et),Tt.restore(),this.compose()}paintImageMaskXObjectRepeat(et,$t,kt,Tt=0,Dt=0,Ft,Ut){var Jt,Zt,er;if(!this.contentVisible)return;$t=this.getObject(et,$t.data,$t);const Ht=this.ctx;Ht.save();const Kt=getCurrentTransform(Ht);Ht.transform(kt,Tt,Dt,Ft,0,0);const Yt=this._createMaskCanvas(et,$t);Ht.setTransform(1,0,0,1,Yt.offsetX-Kt[4],Yt.offsetY-Kt[5]),(Jt=this.dependencyTracker)==null||Jt.resetBBox(et);for(let rr=0,sr=Ut.length;rr<sr;rr+=2){const ir=Util.transform(Kt,[kt,Tt,Dt,Ft,Ut[rr],Ut[rr+1]]);Ht.drawImage(Yt.canvas,ir[4],ir[5]),(Zt=this.dependencyTracker)==null||Zt.recordBBox(et,this.ctx,ir[4],ir[4]+Yt.canvas.width,ir[5],ir[5]+Yt.canvas.height)}Ht.restore(),this.compose(),(er=this.dependencyTracker)==null||er.recordOperation(et)}paintImageMaskXObjectGroup(et,$t){var Ft,Ut,Ht;if(!this.contentVisible)return;const kt=this.ctx,Tt=this.current.fillColor,Dt=this.current.patternFill;(Ft=this.dependencyTracker)==null||Ft.resetBBox(et).recordDependencies(et,Dependencies.transformAndFill);for(const Kt of $t){const{data:Yt,width:Jt,height:Zt,transform:er}=Kt,rr=this.cachedCanvases.getCanvas("maskCanvas",Jt,Zt),sr=rr.context;sr.save();const ir=this.getObject(et,Yt,Kt);putBinaryImageMask(sr,ir),sr.globalCompositeOperation="source-in",sr.fillStyle=Dt?Tt.getPattern(sr,this,getCurrentTransformInverse(kt),PathType.FILL,et):Tt,sr.fillRect(0,0,Jt,Zt),sr.restore(),kt.save(),kt.transform(...er),kt.scale(1,-1),drawImageAtIntegerCoords(kt,rr.canvas,0,0,Jt,Zt,0,-1,1,1),(Ut=this.dependencyTracker)==null||Ut.recordBBox(et,kt,0,Jt,0,Zt),kt.restore()}this.compose(),(Ht=this.dependencyTracker)==null||Ht.recordOperation(et)}paintImageXObject(et,$t){if(!this.contentVisible)return;const kt=this.getObject(et,$t);if(!kt){warn("Dependent image isn't ready yet");return}this.paintInlineImageXObject(et,kt)}paintImageXObjectRepeat(et,$t,kt,Tt,Dt){if(!this.contentVisible)return;const Ft=this.getObject(et,$t);if(!Ft){warn("Dependent image isn't ready yet");return}const Ut=Ft.width,Ht=Ft.height,Kt=[];for(let Yt=0,Jt=Dt.length;Yt<Jt;Yt+=2)Kt.push({transform:[kt,0,0,Tt,Dt[Yt],Dt[Yt+1]],x:0,y:0,w:Ut,h:Ht});this.paintInlineImageXObjectGroup(et,Ft,Kt)}applyTransferMapsToCanvas(et){return this.current.transferMaps!=="none"&&(et.filter=this.current.transferMaps,et.drawImage(et.canvas,0,0),et.filter="none"),et.canvas}applyTransferMapsToBitmap(et){if(this.current.transferMaps==="none")return et.bitmap;const{bitmap:$t,width:kt,height:Tt}=et,Dt=this.cachedCanvases.getCanvas("inlineImage",kt,Tt),Ft=Dt.context;return Ft.filter=this.current.transferMaps,Ft.drawImage($t,0,0),Ft.filter="none",Dt.canvas}paintInlineImageXObject(et,$t){var Kt;if(!this.contentVisible)return;const kt=$t.width,Tt=$t.height,Dt=this.ctx;this.save(et);const{filter:Ft}=Dt;Ft!=="none"&&Ft!==""&&(Dt.filter="none"),Dt.scale(1/kt,-1/Tt);let Ut;if($t.bitmap)Ut=this.applyTransferMapsToBitmap($t);else if(typeof HTMLElement=="function"&&$t instanceof HTMLElement||!$t.data)Ut=$t;else{const Jt=this.cachedCanvases.getCanvas("inlineImage",kt,Tt).context;putBinaryImageData(Jt,$t),Ut=this.applyTransferMapsToCanvas(Jt)}const Ht=this._scaleImage(Ut,getCurrentTransformInverse(Dt));Dt.imageSmoothingEnabled=getImageSmoothingEnabled(getCurrentTransform(Dt),$t.interpolate),(Kt=this.dependencyTracker)==null||Kt.resetBBox(et).recordBBox(et,Dt,0,kt,-Tt,0).recordDependencies(et,Dependencies.imageXObject).recordOperation(et),drawImageAtIntegerCoords(Dt,Ht.img,0,0,Ht.paintWidth,Ht.paintHeight,0,-Tt,kt,Tt),this.compose(),this.restore(et)}paintInlineImageXObjectGroup(et,$t,kt){var Ft,Ut,Ht;if(!this.contentVisible)return;const Tt=this.ctx;let Dt;if($t.bitmap)Dt=$t.bitmap;else{const Kt=$t.width,Yt=$t.height,Zt=this.cachedCanvases.getCanvas("inlineImage",Kt,Yt).context;putBinaryImageData(Zt,$t),Dt=this.applyTransferMapsToCanvas(Zt)}(Ft=this.dependencyTracker)==null||Ft.resetBBox(et);for(const Kt of kt)Tt.save(),Tt.transform(...Kt.transform),Tt.scale(1,-1),drawImageAtIntegerCoords(Tt,Dt,Kt.x,Kt.y,Kt.w,Kt.h,0,-1,1,1),(Ut=this.dependencyTracker)==null||Ut.recordBBox(et,Tt,0,1,-1,0),Tt.restore();(Ht=this.dependencyTracker)==null||Ht.recordOperation(et),this.compose()}paintSolidColorImageMask(et){var $t;this.contentVisible&&(($t=this.dependencyTracker)==null||$t.resetBBox(et).recordBBox(et,this.ctx,0,1,0,1).recordDependencies(et,Dependencies.fill).recordOperation(et),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(et,$t){}markPointProps(et,$t,kt){}beginMarkedContent(et,$t){var kt;(kt=this.dependencyTracker)==null||kt.beginMarkedContent(et),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(et,$t,kt){var Tt;(Tt=this.dependencyTracker)==null||Tt.beginMarkedContent(et),$t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(kt)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(et){var $t;($t=this.dependencyTracker)==null||$t.endMarkedContent(et),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(et){}endCompat(et){}consumePath(et,$t,kt){var Ft,Ut;const Tt=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(kt);const Dt=this.ctx;this.pendingClip?(Tt||(this.pendingClip===EO_CLIP?Dt.clip($t,"evenodd"):Dt.clip($t)),this.pendingClip=null,(Ft=this.dependencyTracker)==null||Ft.bboxToClipBoxDropOperation(et).recordFutureForcedDependency("clipPath",et)):(Ut=this.dependencyTracker)==null||Ut.recordOperation(et),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const et=getCurrentTransform(this.ctx);if(et[1]===0&&et[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(et[0]),Math.abs(et[3]));else{const $t=Math.abs(et[0]*et[3]-et[2]*et[1]),kt=Math.hypot(et[0],et[2]),Tt=Math.hypot(et[1],et[3]);this._cachedGetSinglePixelWidth=Math.max(kt,Tt)/$t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:et}=this.current,{a:$t,b:kt,c:Tt,d:Dt}=this.ctx.getTransform();let Ft,Ut;if(kt===0&&Tt===0){const Ht=Math.abs($t),Kt=Math.abs(Dt);if(Ht===Kt)if(et===0)Ft=Ut=1/Ht;else{const Yt=Ht*et;Ft=Ut=Yt<1?1/Yt:1}else if(et===0)Ft=1/Ht,Ut=1/Kt;else{const Yt=Ht*et,Jt=Kt*et;Ft=Yt<1?1/Yt:1,Ut=Jt<1?1/Jt:1}}else{const Ht=Math.abs($t*Dt-kt*Tt),Kt=Math.hypot($t,kt),Yt=Math.hypot(Tt,Dt);if(et===0)Ft=Yt/Ht,Ut=Kt/Ht;else{const Jt=et*Ht;Ft=Yt>Jt?Yt/Jt:1,Ut=Kt>Jt?Kt/Jt:1}}this._cachedScaleForStroking[0]=Ft,this._cachedScaleForStroking[1]=Ut}return this._cachedScaleForStroking}rescaleAndStroke(et,$t){const{ctx:kt,current:{lineWidth:Tt}}=this,[Dt,Ft]=this.getScaleForStroking();if(Dt===Ft){kt.lineWidth=(Tt||1)*Dt,kt.stroke(et);return}const Ut=kt.getLineDash();$t&&kt.save(),kt.scale(Dt,Ft),SCALE_MATRIX.a=1/Dt,SCALE_MATRIX.d=1/Ft;const Ht=new Path2D;if(Ht.addPath(et,SCALE_MATRIX),Ut.length>0){const Kt=Math.max(Dt,Ft);kt.setLineDash(Ut.map(Yt=>Yt/Kt)),kt.lineDashOffset/=Kt}kt.lineWidth=Tt||1,kt.stroke(Ht),$t&&kt.restore()}isContentVisible(){for(let et=this.markedContentStack.length-1;et>=0;et--)if(!this.markedContentStack[et].visible)return!1;return!0}};D1=new WeakSet,h$=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},F1=new WeakSet,p$=function(){if(this.pageColors){const et=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(et!=="none"){const $t=this.ctx.filter;this.ctx.filter=et,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=$t}}},L1=new WeakSet,f$=function(et,$t,kt){const Tt=new Path2D;return Tt.addPath(et,new DOMMatrix(kt).invertSelf().multiplySelf($t)),Tt};let CanvasGraphics=Z$;for(const dt in OPS)CanvasGraphics.prototype[dt]!==void 0&&(CanvasGraphics.prototype[OPS[dt]]=CanvasGraphics.prototype[dt]);var _b,ey,O1,ty,kw;const g0=class g0{constructor(et){yr(this,ty);yr(this,_b,void 0);yr(this,ey,void 0);yr(this,O1,void 0);jr(this,_b,et),jr(this,ey,new DataView(ar(this,_b))),jr(this,O1,new TextDecoder)}static write(et){const $t=new TextEncoder,kt={};let Tt=0;for(const Kt of g0.strings){const Yt=$t.encode(et[Kt]);kt[Kt]=Yt,Tt+=4+Yt.length}const Dt=new ArrayBuffer(Tt),Ft=new Uint8Array(Dt),Ut=new DataView(Dt);let Ht=0;for(const Kt of g0.strings){const Yt=kt[Kt],Jt=Yt.length;Ut.setUint32(Ht,Jt),Ft.set(Yt,Ht+4),Ht+=4+Jt}return assert(Ht===Dt.byteLength,"CssFontInfo.write: Buffer overflow"),Dt}get fontFamily(){return Br(this,ty,kw).call(this,0)}get fontWeight(){return Br(this,ty,kw).call(this,1)}get italicAngle(){return Br(this,ty,kw).call(this,2)}};_b=new WeakMap,ey=new WeakMap,O1=new WeakMap,ty=new WeakSet,kw=function(et){assert(et<g0.strings.length,"Invalid string index");let $t=0;for(let Tt=0;Tt<et;Tt++)$t+=ar(this,ey).getUint32($t)+4;const kt=ar(this,ey).getUint32($t);return ar(this,O1).decode(new Uint8Array(ar(this,_b),$t+4,kt))},ys(g0,"strings",["fontFamily","fontWeight","italicAngle"]);let CssFontInfo=g0;var qp,Eu,mx,xx,Tv;const b0=class b0{constructor(et){yr(this,xx);yr(this,qp,void 0);yr(this,Eu,void 0);yr(this,mx,void 0);jr(this,qp,et),jr(this,Eu,new DataView(ar(this,qp))),jr(this,mx,new TextDecoder)}static write(et){const $t=new TextEncoder,kt={};let Tt=0;for(const Zt of b0.strings){const er=$t.encode(et[Zt]);kt[Zt]=er,Tt+=4+er.length}Tt+=4;let Dt,Ft,Ut=1+Tt;et.style&&(Dt=$t.encode(et.style.style),Ft=$t.encode(et.style.weight),Ut+=4+Dt.length+4+Ft.length);const Ht=new ArrayBuffer(Ut),Kt=new Uint8Array(Ht),Yt=new DataView(Ht);let Jt=0;Yt.setUint8(Jt++,et.guessFallback?1:0),Yt.setUint32(Jt,0),Jt+=4,Tt=0;for(const Zt of b0.strings){const er=kt[Zt],rr=er.length;Tt+=4+rr,Yt.setUint32(Jt,rr),Kt.set(er,Jt+4),Jt+=4+rr}return Yt.setUint32(Jt-Tt-4,Tt),et.style&&(Yt.setUint32(Jt,Dt.length),Kt.set(Dt,Jt+4),Jt+=4+Dt.length,Yt.setUint32(Jt,Ft.length),Kt.set(Ft,Jt+4),Jt+=4+Ft.length),assert(Jt<=Ht.byteLength,"SubstitionInfo.write: Buffer overflow"),Ht.transferToFixedLength(Jt)}get guessFallback(){return ar(this,Eu).getUint8(0)!==0}get css(){return Br(this,xx,Tv).call(this,0)}get loadedName(){return Br(this,xx,Tv).call(this,1)}get baseFontName(){return Br(this,xx,Tv).call(this,2)}get src(){return Br(this,xx,Tv).call(this,3)}get style(){let et=1;et+=4+ar(this,Eu).getUint32(et);const $t=ar(this,Eu).getUint32(et),kt=ar(this,mx).decode(new Uint8Array(ar(this,qp),et+4,$t));et+=4+$t;const Tt=ar(this,Eu).getUint32(et),Dt=ar(this,mx).decode(new Uint8Array(ar(this,qp),et+4,Tt));return{style:kt,weight:Dt}}};qp=new WeakMap,Eu=new WeakMap,mx=new WeakMap,xx=new WeakSet,Tv=function(et){assert(et<b0.strings.length,"Invalid string index");let $t=5;for(let Tt=0;Tt<et;Tt++)$t+=ar(this,Eu).getUint32($t)+4;const kt=ar(this,Eu).getUint32($t);return ar(this,mx).decode(new Uint8Array(ar(this,qp),$t+4,kt))},ys(b0,"strings",["css","loadedName","baseFontName","src"]);let SystemFontInfo=b0;var ry,sy,ny,iy,Jo,ju,B1,An,Zo,Yl,ay,Sw,gx,Nv;const Gs=class Gs{constructor({data:et,extra:$t}){yr(this,Zo);yr(this,ay);yr(this,gx);yr(this,ju,void 0);yr(this,B1,void 0);yr(this,An,void 0);jr(this,ju,et),jr(this,B1,new TextDecoder),jr(this,An,new DataView(ar(this,ju))),$t&&Object.assign(this,$t)}get black(){return Br(this,Zo,Yl).call(this,0)}get bold(){return Br(this,Zo,Yl).call(this,1)}get disableFontFace(){return Br(this,Zo,Yl).call(this,2)}get fontExtraProperties(){return Br(this,Zo,Yl).call(this,3)}get isInvalidPDFjsFont(){return Br(this,Zo,Yl).call(this,4)}get isType3Font(){return Br(this,Zo,Yl).call(this,5)}get italic(){return Br(this,Zo,Yl).call(this,6)}get missingFile(){return Br(this,Zo,Yl).call(this,7)}get remeasure(){return Br(this,Zo,Yl).call(this,8)}get vertical(){return Br(this,Zo,Yl).call(this,9)}get ascent(){return Br(this,ay,Sw).call(this,0)}get defaultWidth(){return Br(this,ay,Sw).call(this,1)}get descent(){return Br(this,ay,Sw).call(this,2)}get bbox(){let et=ar(Gs,sy);if(ar(this,An).getUint8(et)===0)return;et+=1;const kt=[];for(let Tt=0;Tt<4;Tt++)kt.push(ar(this,An).getInt16(et,!0)),et+=2;return kt}get fontMatrix(){let et=ar(Gs,ny);if(ar(this,An).getUint8(et)===0)return;et+=1;const kt=[];for(let Tt=0;Tt<6;Tt++)kt.push(ar(this,An).getFloat64(et,!0)),et+=8;return kt}get defaultVMetrics(){let et=ar(Gs,iy);if(ar(this,An).getUint8(et)===0)return;et+=1;const kt=[];for(let Tt=0;Tt<3;Tt++)kt.push(ar(this,An).getInt16(et,!0)),et+=2;return kt}get fallbackName(){return Br(this,gx,Nv).call(this,0)}get loadedName(){return Br(this,gx,Nv).call(this,1)}get mimetype(){return Br(this,gx,Nv).call(this,2)}get name(){return Br(this,gx,Nv).call(this,3)}get data(){let et=ar(Gs,Jo);const $t=ar(this,An).getUint32(et);et+=4+$t;const kt=ar(this,An).getUint32(et);et+=4+kt;const Tt=ar(this,An).getUint32(et);et+=4+Tt;const Dt=ar(this,An).getUint32(et);if(Dt!==0)return new Uint8Array(ar(this,ju),et+4,Dt)}clearData(){let et=ar(Gs,Jo);const $t=ar(this,An).getUint32(et);et+=4+$t;const kt=ar(this,An).getUint32(et);et+=4+kt;const Tt=ar(this,An).getUint32(et);et+=4+Tt;const Dt=ar(this,An).getUint32(et);new Uint8Array(ar(this,ju),et+4,Dt).fill(0),ar(this,An).setUint32(et,0)}get cssFontInfo(){let et=ar(Gs,Jo);const $t=ar(this,An).getUint32(et);et+=4+$t;const kt=ar(this,An).getUint32(et);et+=4+kt;const Tt=ar(this,An).getUint32(et);if(Tt===0)return null;const Dt=new Uint8Array(Tt);return Dt.set(new Uint8Array(ar(this,ju),et+4,Tt)),new CssFontInfo(Dt.buffer)}get systemFontInfo(){let et=ar(Gs,Jo);const $t=ar(this,An).getUint32(et);et+=4+$t;const kt=ar(this,An).getUint32(et);if(kt===0)return null;const Tt=new Uint8Array(kt);return Tt.set(new Uint8Array(ar(this,ju),et+4,kt)),new SystemFontInfo(Tt.buffer)}static write(et){const $t=et.systemFontInfo?SystemFontInfo.write(et.systemFontInfo):null,kt=et.cssFontInfo?CssFontInfo.write(et.cssFontInfo):null,Tt=new TextEncoder,Dt={};let Ft=0;for(const sr of Gs.strings)Dt[sr]=Tt.encode(et[sr]),Ft+=4+Dt[sr].length;const Ut=ar(Gs,Jo)+4+Ft+4+($t?$t.byteLength:0)+4+(kt?kt.byteLength:0)+4+(et.data?et.data.length:0),Ht=new ArrayBuffer(Ut),Kt=new Uint8Array(Ht),Yt=new DataView(Ht);let Jt=0;const Zt=Gs.bools.length;let er=0,rr=0;for(let sr=0;sr<Zt;sr++){const ir=et[Gs.bools[sr]];er|=(ir===void 0?0:ir?2:1)<<rr,rr+=2,(rr===8||sr===Zt-1)&&(Yt.setUint8(Jt++,er),er=0,rr=0)}assert(Jt===ar(Gs,ry),"FontInfo.write: Boolean properties offset mismatch");for(const sr of Gs.numbers)Yt.setFloat64(Jt,et[sr]),Jt+=8;if(assert(Jt===ar(Gs,sy),"FontInfo.write: Number properties offset mismatch"),et.bbox){Yt.setUint8(Jt++,4);for(const sr of et.bbox)Yt.setInt16(Jt,sr,!0),Jt+=2}else Yt.setUint8(Jt++,0),Jt+=2*4;if(assert(Jt===ar(Gs,ny),"FontInfo.write: BBox properties offset mismatch"),et.fontMatrix){Yt.setUint8(Jt++,6);for(const sr of et.fontMatrix)Yt.setFloat64(Jt,sr,!0),Jt+=8}else Yt.setUint8(Jt++,0),Jt+=8*6;if(assert(Jt===ar(Gs,iy),"FontInfo.write: FontMatrix properties offset mismatch"),et.defaultVMetrics){Yt.setUint8(Jt++,1);for(const sr of et.defaultVMetrics)Yt.setInt16(Jt,sr,!0),Jt+=2}else Yt.setUint8(Jt++,0),Jt+=3*2;assert(Jt===ar(Gs,Jo),"FontInfo.write: DefaultVMetrics properties offset mismatch"),Yt.setUint32(ar(Gs,Jo),0),Jt+=4;for(const sr of Gs.strings){const ir=Dt[sr],nr=ir.length;Yt.setUint32(Jt,nr),Kt.set(ir,Jt+4),Jt+=4+nr}if(Yt.setUint32(ar(Gs,Jo),Jt-ar(Gs,Jo)-4),!$t)Yt.setUint32(Jt,0),Jt+=4;else{const sr=$t.byteLength;Yt.setUint32(Jt,sr),assert(Jt+4+sr<=Ht.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),Kt.set(new Uint8Array($t),Jt+4),Jt+=4+sr}if(!kt)Yt.setUint32(Jt,0),Jt+=4;else{const sr=kt.byteLength;Yt.setUint32(Jt,sr),assert(Jt+4+sr<=Ht.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),Kt.set(new Uint8Array(kt),Jt+4),Jt+=4+sr}return et.data===void 0?(Yt.setUint32(Jt,0),Jt+=4):(Yt.setUint32(Jt,et.data.length),Kt.set(et.data,Jt+4),Jt+=4+et.data.length),assert(Jt<=Ht.byteLength,"FontInfo.write: Buffer overflow"),Ht.transferToFixedLength(Jt)}};ry=new WeakMap,sy=new WeakMap,ny=new WeakMap,iy=new WeakMap,Jo=new WeakMap,ju=new WeakMap,B1=new WeakMap,An=new WeakMap,Zo=new WeakSet,Yl=function(et){assert(et<Gs.bools.length,"Invalid boolean index");const $t=Math.floor(et/4),kt=et*2%8,Tt=ar(this,An).getUint8($t)>>kt&3;return Tt===0?void 0:Tt===2},ay=new WeakSet,Sw=function(et){return assert(et<Gs.numbers.length,"Invalid number index"),ar(this,An).getFloat64(ar(Gs,ry)+et*8)},gx=new WeakSet,Nv=function(et){assert(et<Gs.strings.length,"Invalid string index");let $t=ar(Gs,Jo)+4;for(let Dt=0;Dt<et;Dt++)$t+=ar(this,An).getUint32($t)+4;const kt=ar(this,An).getUint32($t),Tt=new Uint8Array(kt);return Tt.set(new Uint8Array(ar(this,ju),$t+4,kt)),ar(this,B1).decode(Tt)},ys(Gs,"bools",["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"]),ys(Gs,"numbers",["ascent","defaultWidth","descent"]),ys(Gs,"strings",["fallbackName","loadedName","mimetype","name"]),yr(Gs,ry,Math.ceil(Gs.bools.length*2/8)),yr(Gs,sy,ar(Gs,ry)+Gs.numbers.length*8),yr(Gs,ny,ar(Gs,sy)+1+2*4),yr(Gs,iy,ar(Gs,ny)+1+8*6),yr(Gs,Jo,ar(Gs,iy)+1+2*3);let FontInfo=Gs;var V1,z1;class GlobalWorkerOptions{static get workerPort(){return ar(this,V1)}static set workerPort(et){if(!(typeof Worker<"u"&&et instanceof Worker)&&et!==null)throw new Error("Invalid `workerPort` type.");jr(this,V1,et)}static get workerSrc(){return ar(this,z1)}static set workerSrc(et){if(typeof et!="string")throw new Error("Invalid `workerSrc` type.");jr(this,z1,et)}}V1=new WeakMap,z1=new WeakMap,yr(GlobalWorkerOptions,V1,null),yr(GlobalWorkerOptions,z1,"");var oy,U1;class Metadata{constructor({parsedData:et,rawData:$t}){yr(this,oy,void 0);yr(this,U1,void 0);jr(this,oy,et),jr(this,U1,$t)}getRaw(){return ar(this,U1)}get(et){return ar(this,oy).get(et)??null}[Symbol.iterator](){return ar(this,oy).entries()}}oy=new WeakMap,U1=new WeakMap;const INTERNAL=Symbol("INTERNAL");var H1,G1,W1,ly;class OptionalContentGroup{constructor(et,{name:$t,intent:kt,usage:Tt,rbGroups:Dt}){yr(this,H1,!1);yr(this,G1,!1);yr(this,W1,!1);yr(this,ly,!0);jr(this,H1,!!(et&RenderingIntentFlag.DISPLAY)),jr(this,G1,!!(et&RenderingIntentFlag.PRINT)),this.name=$t,this.intent=kt,this.usage=Tt,this.rbGroups=Dt}get visible(){if(ar(this,W1))return ar(this,ly);if(!ar(this,ly))return!1;const{print:et,view:$t}=this.usage;return ar(this,H1)?($t==null?void 0:$t.viewState)!=="OFF":ar(this,G1)?(et==null?void 0:et.printState)!=="OFF":!0}_setVisible(et,$t,kt=!1){et!==INTERNAL&&unreachable("Internal method `_setVisible` called."),jr(this,W1,kt),jr(this,ly,$t)}}H1=new WeakMap,G1=new WeakMap,W1=new WeakMap,ly=new WeakMap;var Kp,Tn,cy,dy,q1,m$;class OptionalContentConfig{constructor(et,$t=RenderingIntentFlag.DISPLAY){yr(this,q1);yr(this,Kp,null);yr(this,Tn,new Map);yr(this,cy,null);yr(this,dy,null);if(this.renderingIntent=$t,this.name=null,this.creator=null,et!==null){this.name=et.name,this.creator=et.creator,jr(this,dy,et.order);for(const kt of et.groups)ar(this,Tn).set(kt.id,new OptionalContentGroup($t,kt));if(et.baseState==="OFF")for(const kt of ar(this,Tn).values())kt._setVisible(INTERNAL,!1);for(const kt of et.on)ar(this,Tn).get(kt)._setVisible(INTERNAL,!0);for(const kt of et.off)ar(this,Tn).get(kt)._setVisible(INTERNAL,!1);jr(this,cy,this.getHash())}}isVisible(et){if(ar(this,Tn).size===0)return!0;if(!et)return info("Optional content group not defined."),!0;if(et.type==="OCG")return ar(this,Tn).has(et.id)?ar(this,Tn).get(et.id).visible:(warn(`Optional content group not found: ${et.id}`),!0);if(et.type==="OCMD"){if(et.expression)return Br(this,q1,m$).call(this,et.expression);if(!et.policy||et.policy==="AnyOn"){for(const $t of et.ids){if(!ar(this,Tn).has($t))return warn(`Optional content group not found: ${$t}`),!0;if(ar(this,Tn).get($t).visible)return!0}return!1}else if(et.policy==="AllOn"){for(const $t of et.ids){if(!ar(this,Tn).has($t))return warn(`Optional content group not found: ${$t}`),!0;if(!ar(this,Tn).get($t).visible)return!1}return!0}else if(et.policy==="AnyOff"){for(const $t of et.ids){if(!ar(this,Tn).has($t))return warn(`Optional content group not found: ${$t}`),!0;if(!ar(this,Tn).get($t).visible)return!0}return!1}else if(et.policy==="AllOff"){for(const $t of et.ids){if(!ar(this,Tn).has($t))return warn(`Optional content group not found: ${$t}`),!0;if(ar(this,Tn).get($t).visible)return!1}return!0}return warn(`Unknown optional content policy ${et.policy}.`),!0}return warn(`Unknown group type ${et.type}.`),!0}setVisibility(et,$t=!0,kt=!0){var Dt;const Tt=ar(this,Tn).get(et);if(!Tt){warn(`Optional content group not found: ${et}`);return}if(kt&&$t&&Tt.rbGroups.length)for(const Ft of Tt.rbGroups)for(const Ut of Ft)Ut!==et&&((Dt=ar(this,Tn).get(Ut))==null||Dt._setVisible(INTERNAL,!1,!0));Tt._setVisible(INTERNAL,!!$t,!0),jr(this,Kp,null)}setOCGState({state:et,preserveRB:$t}){let kt;for(const Tt of et){switch(Tt){case"ON":case"OFF":case"Toggle":kt=Tt;continue}const Dt=ar(this,Tn).get(Tt);if(Dt)switch(kt){case"ON":this.setVisibility(Tt,!0,$t);break;case"OFF":this.setVisibility(Tt,!1,$t);break;case"Toggle":this.setVisibility(Tt,!Dt.visible,$t);break}}jr(this,Kp,null)}get hasInitialVisibility(){return ar(this,cy)===null||this.getHash()===ar(this,cy)}getOrder(){return ar(this,Tn).size?ar(this,dy)?ar(this,dy).slice():[...ar(this,Tn).keys()]:null}getGroup(et){return ar(this,Tn).get(et)||null}getHash(){if(ar(this,Kp)!==null)return ar(this,Kp);const et=new MurmurHash3_64;for(const[$t,kt]of ar(this,Tn))et.update(`${$t}:${kt.visible}`);return jr(this,Kp,et.hexdigest())}[Symbol.iterator](){return ar(this,Tn).entries()}}Kp=new WeakMap,Tn=new WeakMap,cy=new WeakMap,dy=new WeakMap,q1=new WeakSet,m$=function(et){const $t=et.length;if($t<2)return!0;const kt=et[0];for(let Tt=1;Tt<$t;Tt++){const Dt=et[Tt];let Ft;if(Array.isArray(Dt))Ft=Br(this,q1,m$).call(this,Dt);else if(ar(this,Tn).has(Dt))Ft=ar(this,Tn).get(Dt).visible;else return warn(`Optional content group not found: ${Dt}`),!0;switch(kt){case"And":if(!Ft)return!1;break;case"Or":if(Ft)return!0;break;case"Not":return!Ft;default:return!0}}return kt==="And"};class PDFDataTransportStream{constructor(et,{disableRange:$t=!1,disableStream:kt=!1}){assert(et,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:Tt,initialData:Dt,progressiveDone:Ft,contentDispositionFilename:Ut}=et;if(this._queuedChunks=[],this._progressiveDone=Ft,this._contentDispositionFilename=Ut,(Dt==null?void 0:Dt.length)>0){const Ht=Dt instanceof Uint8Array&&Dt.byteLength===Dt.buffer.byteLength?Dt.buffer:new Uint8Array(Dt).buffer;this._queuedChunks.push(Ht)}this._pdfDataRangeTransport=et,this._isStreamingSupported=!kt,this._isRangeSupported=!$t,this._contentLength=Tt,this._fullRequestReader=null,this._rangeReaders=[],et.addRangeListener((Ht,Kt)=>{this._onReceiveData({begin:Ht,chunk:Kt})}),et.addProgressListener((Ht,Kt)=>{this._onProgress({loaded:Ht,total:Kt})}),et.addProgressiveReadListener(Ht=>{this._onReceiveData({chunk:Ht})}),et.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),et.transportReady()}_onReceiveData({begin:et,chunk:$t}){const kt=$t instanceof Uint8Array&&$t.byteLength===$t.buffer.byteLength?$t.buffer:new Uint8Array($t).buffer;if(et===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(kt):this._queuedChunks.push(kt);else{const Tt=this._rangeReaders.some(function(Dt){return Dt._begin!==et?!1:(Dt._enqueue(kt),!0)});assert(Tt,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var et;return((et=this._fullRequestReader)==null?void 0:et._loaded)??0}_onProgress(et){var $t,kt,Tt,Dt;et.total===void 0?(kt=($t=this._rangeReaders[0])==null?void 0:$t.onProgress)==null||kt.call($t,{loaded:et.loaded}):(Dt=(Tt=this._fullRequestReader)==null?void 0:Tt.onProgress)==null||Dt.call(Tt,{loaded:et.loaded,total:et.total})}_onProgressiveDone(){var et;(et=this._fullRequestReader)==null||et.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(et){const $t=this._rangeReaders.indexOf(et);$t>=0&&this._rangeReaders.splice($t,1)}getFullReader(){assert(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const et=this._queuedChunks;return this._queuedChunks=null,new PDFDataTransportStreamReader(this,et,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(et,$t){if($t<=this._progressiveDataLength)return null;const kt=new PDFDataTransportStreamRangeReader(this,et,$t);return this._pdfDataRangeTransport.requestDataRange(et,$t),this._rangeReaders.push(kt),kt}cancelAllRequests(et){var $t;($t=this._fullRequestReader)==null||$t.cancel(et);for(const kt of this._rangeReaders.slice(0))kt.cancel(et);this._pdfDataRangeTransport.abort()}}class PDFDataTransportStreamReader{constructor(et,$t,kt=!1,Tt=null){this._stream=et,this._done=kt||!1,this._filename=isPdfFile(Tt)?Tt:null,this._queuedChunks=$t||[],this._loaded=0;for(const Dt of this._queuedChunks)this._loaded+=Dt.byteLength;this._requests=[],this._headersReady=Promise.resolve(),et._fullRequestReader=this,this.onProgress=null}_enqueue(et){this._done||(this._requests.length>0?this._requests.shift().resolve({value:et,done:!1}):this._queuedChunks.push(et),this._loaded+=et.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const et=Promise.withResolvers();return this._requests.push(et),et.promise}cancel(et){this._done=!0;for(const $t of this._requests)$t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class PDFDataTransportStreamRangeReader{constructor(et,$t,kt){this._stream=et,this._begin=$t,this._end=kt,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(et){if(!this._done){if(this._requests.length===0)this._queuedChunk=et;else{this._requests.shift().resolve({value:et,done:!1});for(const kt of this._requests)kt.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const $t=this._queuedChunk;return this._queuedChunk=null,{value:$t,done:!1}}if(this._done)return{value:void 0,done:!0};const et=Promise.withResolvers();return this._requests.push(et),et.promise}cancel(et){this._done=!0;for(const $t of this._requests)$t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function getFilenameFromContentDispositionHeader(dt){let et=!0,$t=kt("filename\\*","i").exec(dt);if($t){$t=$t[1];let Yt=Ut($t);return Yt=unescape(Yt),Yt=Ht(Yt),Yt=Kt(Yt),Dt(Yt)}if($t=Ft(dt),$t){const Yt=Kt($t);return Dt(Yt)}if($t=kt("filename","i").exec(dt),$t){$t=$t[1];let Yt=Ut($t);return Yt=Kt(Yt),Dt(Yt)}function kt(Yt,Jt){return new RegExp("(?:^|;)\\s*"+Yt+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',Jt)}function Tt(Yt,Jt){if(Yt){if(!/^[\x00-\xFF]+$/.test(Jt))return Jt;try{const Zt=new TextDecoder(Yt,{fatal:!0}),er=stringToBytes(Jt);Jt=Zt.decode(er),et=!1}catch{}}return Jt}function Dt(Yt){return et&&/[\x80-\xff]/.test(Yt)&&(Yt=Tt("utf-8",Yt),et&&(Yt=Tt("iso-8859-1",Yt))),Yt}function Ft(Yt){const Jt=[];let Zt;const er=kt("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(Zt=er.exec(Yt))!==null;){let[,sr,ir,nr]=Zt;if(sr=parseInt(sr,10),sr in Jt){if(sr===0)break;continue}Jt[sr]=[ir,nr]}const rr=[];for(let sr=0;sr<Jt.length&&sr in Jt;++sr){let[ir,nr]=Jt[sr];nr=Ut(nr),ir&&(nr=unescape(nr),sr===0&&(nr=Ht(nr))),rr.push(nr)}return rr.join("")}function Ut(Yt){if(Yt.startsWith('"')){const Jt=Yt.slice(1).split('\\"');for(let Zt=0;Zt<Jt.length;++Zt){const er=Jt[Zt].indexOf('"');er!==-1&&(Jt[Zt]=Jt[Zt].slice(0,er),Jt.length=Zt+1),Jt[Zt]=Jt[Zt].replaceAll(/\\(.)/g,"$1")}Yt=Jt.join('"')}return Yt}function Ht(Yt){const Jt=Yt.indexOf("'");if(Jt===-1)return Yt;const Zt=Yt.slice(0,Jt),rr=Yt.slice(Jt+1).replace(/^[^']*'/,"");return Tt(Zt,rr)}function Kt(Yt){return!Yt.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(Yt)?Yt:Yt.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(Jt,Zt,er,rr){if(er==="q"||er==="Q")return rr=rr.replaceAll("_"," "),rr=rr.replaceAll(/=([0-9a-fA-F]{2})/g,function(sr,ir){return String.fromCharCode(parseInt(ir,16))}),Tt(Zt,rr);try{rr=atob(rr)}catch{}return Tt(Zt,rr)})}return""}function createHeaders(dt,et){const $t=new Headers;if(!dt||!et||typeof et!="object")return $t;for(const kt in et){const Tt=et[kt];Tt!==void 0&&$t.append(kt,Tt)}return $t}function getResponseOrigin(dt){var et;return((et=URL.parse(dt))==null?void 0:et.origin)??null}function validateRangeRequestCapabilities({responseHeaders:dt,isHttp:et,rangeChunkSize:$t,disableRange:kt}){const Tt={allowRangeRequests:!1,suggestedLength:void 0},Dt=parseInt(dt.get("Content-Length"),10);return!Number.isInteger(Dt)||(Tt.suggestedLength=Dt,Dt<=2*$t)||kt||!et||dt.get("Accept-Ranges")!=="bytes"||(dt.get("Content-Encoding")||"identity")!=="identity"||(Tt.allowRangeRequests=!0),Tt}function extractFilenameFromHeader(dt){const et=dt.get("Content-Disposition");if(et){let $t=getFilenameFromContentDispositionHeader(et);if($t.includes("%"))try{$t=decodeURIComponent($t)}catch{}if(isPdfFile($t))return $t}return null}function createResponseError(dt,et){return new ResponseException(`Unexpected server response (${dt}) while retrieving PDF "${et}".`,dt,dt===404||dt===0&&et.startsWith("file:"))}function validateResponseStatus(dt){return dt===200||dt===206}function createFetchOptions(dt,et,$t){return{method:"GET",headers:dt,signal:$t.signal,mode:"cors",credentials:et?"include":"same-origin",redirect:"follow"}}function getArrayBuffer(dt){return dt instanceof Uint8Array?dt.buffer:dt instanceof ArrayBuffer?dt:(warn(`getArrayBuffer - unexpected data format: ${dt}`),new Uint8Array(dt).buffer)}class PDFFetchStream{constructor(et){ys(this,"_responseOrigin",null);this.source=et,this.isHttp=/^https?:/i.test(et.url),this.headers=createHeaders(this.isHttp,et.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var et;return((et=this._fullRequestReader)==null?void 0:et._loaded)??0}getFullReader(){return assert(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new PDFFetchStreamReader(this),this._fullRequestReader}getRangeReader(et,$t){if($t<=this._progressiveDataLength)return null;const kt=new PDFFetchStreamRangeReader(this,et,$t);return this._rangeRequestReaders.push(kt),kt}cancelAllRequests(et){var $t;($t=this._fullRequestReader)==null||$t.cancel(et);for(const kt of this._rangeRequestReaders.slice(0))kt.cancel(et)}}class PDFFetchStreamReader{constructor(et){this._stream=et,this._reader=null,this._loaded=0,this._filename=null;const $t=et.source;this._withCredentials=$t.withCredentials||!1,this._contentLength=$t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=$t.disableRange||!1,this._rangeChunkSize=$t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!$t.disableStream,this._isRangeSupported=!$t.disableRange;const kt=new Headers(et.headers),Tt=$t.url;fetch(Tt,createFetchOptions(kt,this._withCredentials,this._abortController)).then(Dt=>{if(et._responseOrigin=getResponseOrigin(Dt.url),!validateResponseStatus(Dt.status))throw createResponseError(Dt.status,Tt);this._reader=Dt.body.getReader(),this._headersCapability.resolve();const Ft=Dt.headers,{allowRangeRequests:Ut,suggestedLength:Ht}=validateRangeRequestCapabilities({responseHeaders:Ft,isHttp:et.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=Ut,this._contentLength=Ht||this._contentLength,this._filename=extractFilenameFromHeader(Ft),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var kt;await this._headersCapability.promise;const{value:et,done:$t}=await this._reader.read();return $t?{value:et,done:$t}:(this._loaded+=et.byteLength,(kt=this.onProgress)==null||kt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:getArrayBuffer(et),done:!1})}cancel(et){var $t;($t=this._reader)==null||$t.cancel(et),this._abortController.abort()}}class PDFFetchStreamRangeReader{constructor(et,$t,kt){this._stream=et,this._reader=null,this._loaded=0;const Tt=et.source;this._withCredentials=Tt.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!Tt.disableStream,this._abortController=new AbortController;const Dt=new Headers(et.headers);Dt.append("Range",`bytes=${$t}-${kt-1}`);const Ft=Tt.url;fetch(Ft,createFetchOptions(Dt,this._withCredentials,this._abortController)).then(Ut=>{const Ht=getResponseOrigin(Ut.url);if(Ht!==et._responseOrigin)throw new Error(`Expected range response-origin "${Ht}" to match "${et._responseOrigin}".`);if(!validateResponseStatus(Ut.status))throw createResponseError(Ut.status,Ft);this._readCapability.resolve(),this._reader=Ut.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var kt;await this._readCapability.promise;const{value:et,done:$t}=await this._reader.read();return $t?{value:et,done:$t}:(this._loaded+=et.byteLength,(kt=this.onProgress)==null||kt.call(this,{loaded:this._loaded}),{value:getArrayBuffer(et),done:!1})}cancel(et){var $t;($t=this._reader)==null||$t.cancel(et),this._abortController.abort()}}const OK_RESPONSE=200,PARTIAL_CONTENT_RESPONSE=206;function network_getArrayBuffer(dt){const et=dt.response;return typeof et!="string"?et:stringToBytes(et).buffer}class NetworkManager{constructor({url:et,httpHeaders:$t,withCredentials:kt}){ys(this,"_responseOrigin",null);this.url=et,this.isHttp=/^https?:/i.test(et),this.headers=createHeaders(this.isHttp,$t),this.withCredentials=kt||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(et){const $t=new XMLHttpRequest,kt=this.currXhrId++,Tt=this.pendingRequests[kt]={xhr:$t};$t.open("GET",this.url),$t.withCredentials=this.withCredentials;for(const[Dt,Ft]of this.headers)$t.setRequestHeader(Dt,Ft);return this.isHttp&&"begin"in et&&"end"in et?($t.setRequestHeader("Range",`bytes=${et.begin}-${et.end-1}`),Tt.expectedStatus=PARTIAL_CONTENT_RESPONSE):Tt.expectedStatus=OK_RESPONSE,$t.responseType="arraybuffer",assert(et.onError,"Expected `onError` callback to be provided."),$t.onerror=()=>{et.onError($t.status)},$t.onreadystatechange=this.onStateChange.bind(this,kt),$t.onprogress=this.onProgress.bind(this,kt),Tt.onHeadersReceived=et.onHeadersReceived,Tt.onDone=et.onDone,Tt.onError=et.onError,Tt.onProgress=et.onProgress,$t.send(null),kt}onProgress(et,$t){var Tt;const kt=this.pendingRequests[et];kt&&((Tt=kt.onProgress)==null||Tt.call(kt,$t))}onStateChange(et,$t){const kt=this.pendingRequests[et];if(!kt)return;const Tt=kt.xhr;if(Tt.readyState>=2&&kt.onHeadersReceived&&(kt.onHeadersReceived(),delete kt.onHeadersReceived),Tt.readyState!==4||!(et in this.pendingRequests))return;if(delete this.pendingRequests[et],Tt.status===0&&this.isHttp){kt.onError(Tt.status);return}const Dt=Tt.status||OK_RESPONSE;if(!(Dt===OK_RESPONSE&&kt.expectedStatus===PARTIAL_CONTENT_RESPONSE)&&Dt!==kt.expectedStatus){kt.onError(Tt.status);return}const Ut=network_getArrayBuffer(Tt);if(Dt===PARTIAL_CONTENT_RESPONSE){const Ht=Tt.getResponseHeader("Content-Range"),Kt=/bytes (\d+)-(\d+)\/(\d+)/.exec(Ht);Kt?kt.onDone({begin:parseInt(Kt[1],10),chunk:Ut}):(warn('Missing or invalid "Content-Range" header.'),kt.onError(0))}else Ut?kt.onDone({begin:0,chunk:Ut}):kt.onError(Tt.status)}getRequestXhr(et){return this.pendingRequests[et].xhr}isPendingRequest(et){return et in this.pendingRequests}abortRequest(et){const $t=this.pendingRequests[et].xhr;delete this.pendingRequests[et],$t.abort()}}class PDFNetworkStream{constructor(et){this._source=et,this._manager=new NetworkManager(et),this._rangeChunkSize=et.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(et){const $t=this._rangeRequestReaders.indexOf(et);$t>=0&&this._rangeRequestReaders.splice($t,1)}getFullReader(){return assert(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new PDFNetworkStreamFullRequestReader(this._manager,this._source),this._fullRequestReader}getRangeReader(et,$t){const kt=new PDFNetworkStreamRangeRequestReader(this._manager,et,$t);return kt.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(kt),kt}cancelAllRequests(et){var $t;($t=this._fullRequestReader)==null||$t.cancel(et);for(const kt of this._rangeRequestReaders.slice(0))kt.cancel(et)}}class PDFNetworkStreamFullRequestReader{constructor(et,$t){this._manager=et,this._url=$t.url,this._fullRequestId=et.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=$t.disableRange||!1,this._contentLength=$t.length,this._rangeChunkSize=$t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const et=this._fullRequestId,$t=this._manager.getRequestXhr(et);this._manager._responseOrigin=getResponseOrigin($t.responseURL);const kt=$t.getAllResponseHeaders(),Tt=new Headers(kt?kt.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(Ut=>{const[Ht,...Kt]=Ut.split(": ");return[Ht,Kt.join(": ")]}):[]),{allowRangeRequests:Dt,suggestedLength:Ft}=validateRangeRequestCapabilities({responseHeaders:Tt,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});Dt&&(this._isRangeSupported=!0),this._contentLength=Ft||this._contentLength,this._filename=extractFilenameFromHeader(Tt),this._isRangeSupported&&this._manager.abortRequest(et),this._headersCapability.resolve()}_onDone(et){if(et&&(this._requests.length>0?this._requests.shift().resolve({value:et.chunk,done:!1}):this._cachedChunks.push(et.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const $t of this._requests)$t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(et){this._storedError=createResponseError(et,this._url),this._headersCapability.reject(this._storedError);for(const $t of this._requests)$t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(et){var $t;($t=this.onProgress)==null||$t.call(this,{loaded:et.loaded,total:et.lengthComputable?et.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const et=Promise.withResolvers();return this._requests.push(et),et.promise}cancel(et){this._done=!0,this._headersCapability.reject(et);for(const $t of this._requests)$t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class PDFNetworkStreamRangeRequestReader{constructor(et,$t,kt){this._manager=et,this._url=et.url,this._requestId=et.request({begin:$t,end:kt,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var $t;const et=getResponseOrigin(($t=this._manager.getRequestXhr(this._requestId))==null?void 0:$t.responseURL);et!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${et}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var et;(et=this.onClosed)==null||et.call(this,this)}_onDone(et){const $t=et.chunk;this._requests.length>0?this._requests.shift().resolve({value:$t,done:!1}):this._queuedChunk=$t,this._done=!0;for(const kt of this._requests)kt.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(et){this._storedError??(this._storedError=createResponseError(et,this._url));for(const $t of this._requests)$t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(et){var $t;this.isStreamingSupported||($t=this.onProgress)==null||$t.call(this,{loaded:et.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const $t=this._queuedChunk;return this._queuedChunk=null,{value:$t,done:!1}}if(this._done)return{value:void 0,done:!0};const et=Promise.withResolvers();return this._requests.push(et),et.promise}cancel(et){this._done=!0;for(const $t of this._requests)$t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const urlRegex=/^[a-z][a-z0-9\-+.]+:/i;function parseUrlOrPath(dt){if(urlRegex.test(dt))return new URL(dt);const et=process.getBuiltinModule("url");return new URL(et.pathToFileURL(dt))}class PDFNodeStream{constructor(et){this.source=et,this.url=parseUrlOrPath(et.url),assert(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var et;return((et=this._fullRequestReader)==null?void 0:et._loaded)??0}getFullReader(){return assert(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new PDFNodeStreamFsFullReader(this),this._fullRequestReader}getRangeReader(et,$t){if($t<=this._progressiveDataLength)return null;const kt=new PDFNodeStreamFsRangeReader(this,et,$t);return this._rangeRequestReaders.push(kt),kt}cancelAllRequests(et){var $t;($t=this._fullRequestReader)==null||$t.cancel(et);for(const kt of this._rangeRequestReaders.slice(0))kt.cancel(et)}}class PDFNodeStreamFsFullReader{constructor(et){this._url=et.url,this._done=!1,this._storedError=null,this.onProgress=null;const $t=et.source;this._contentLength=$t.length,this._loaded=0,this._filename=null,this._disableRange=$t.disableRange||!1,this._rangeChunkSize=$t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!$t.disableStream,this._isRangeSupported=!$t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const kt=process.getBuiltinModule("fs");kt.promises.lstat(this._url).then(Tt=>{this._contentLength=Tt.size,this._setReadableStream(kt.createReadStream(this._url)),this._headersCapability.resolve()},Tt=>{Tt.code==="ENOENT"&&(Tt=createResponseError(0,this._url.href)),this._storedError=Tt,this._headersCapability.reject(Tt)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var kt;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const et=this._readableStream.read();return et===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=et.length,(kt=this.onProgress)==null||kt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(et).buffer,done:!1})}cancel(et){if(!this._readableStream){this._error(et);return}this._readableStream.destroy(et)}_error(et){this._storedError=et,this._readCapability.resolve()}_setReadableStream(et){this._readableStream=et,et.on("readable",()=>{this._readCapability.resolve()}),et.on("end",()=>{et.destroy(),this._done=!0,this._readCapability.resolve()}),et.on("error",$t=>{this._error($t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class PDFNodeStreamFsRangeReader{constructor(et,$t,kt){this._url=et.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const Tt=et.source;this._isStreamingSupported=!Tt.disableStream;const Dt=process.getBuiltinModule("fs");this._setReadableStream(Dt.createReadStream(this._url,{start:$t,end:kt-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var kt;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const et=this._readableStream.read();return et===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=et.length,(kt=this.onProgress)==null||kt.call(this,{loaded:this._loaded}),{value:new Uint8Array(et).buffer,done:!1})}cancel(et){if(!this._readableStream){this._error(et);return}this._readableStream.destroy(et)}_error(et){this._storedError=et,this._readCapability.resolve()}_setReadableStream(et){this._readableStream=et,et.on("readable",()=>{this._readCapability.resolve()}),et.on("end",()=>{et.destroy(),this._done=!0,this._readCapability.resolve()}),et.on("error",$t=>{this._error($t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const INITIAL_DATA=Symbol("INITIAL_DATA");var xl,K1,x$;class PDFObjects{constructor(){yr(this,K1);yr(this,xl,Object.create(null))}get(et,$t=null){if($t){const Tt=Br(this,K1,x$).call(this,et);return Tt.promise.then(()=>$t(Tt.data)),null}const kt=ar(this,xl)[et];if(!kt||kt.data===INITIAL_DATA)throw new Error(`Requesting object that isn't resolved yet ${et}.`);return kt.data}has(et){const $t=ar(this,xl)[et];return!!$t&&$t.data!==INITIAL_DATA}delete(et){const $t=ar(this,xl)[et];return!$t||$t.data===INITIAL_DATA?!1:(delete ar(this,xl)[et],!0)}resolve(et,$t=null){const kt=Br(this,K1,x$).call(this,et);kt.data=$t,kt.resolve()}clear(){var et;for(const $t in ar(this,xl)){const{data:kt}=ar(this,xl)[$t];(et=kt==null?void 0:kt.bitmap)==null||et.close()}jr(this,xl,Object.create(null))}*[Symbol.iterator](){for(const et in ar(this,xl)){const{data:$t}=ar(this,xl)[et];$t!==INITIAL_DATA&&(yield[et,$t])}}}xl=new WeakMap,K1=new WeakSet,x$=function(et){var $t;return($t=ar(this,xl))[et]||($t[et]={...Promise.withResolvers(),data:INITIAL_DATA})};const MAX_TEXT_DIVS_TO_RENDER=1e5,DEFAULT_FONT_SIZE=30;var rS,Yp,Ho,Y1,X1,bx,tp,Q1,J1,yx,uy,hy,Xp,py,Z1,fy,vx,eE,tE,Wn,my,Ex,rE,Qp,xy,DR,US,FR,HS,sE,g$,gy,_w,nE,b$,LR,GS,OR,qS;let TextLayer$1=(Wn=class{constructor({textContentSource:et,container:$t,viewport:kt}){yr(this,DR);yr(this,FR);yr(this,sE);yr(this,Yp,Promise.withResolvers());yr(this,Ho,null);yr(this,Y1,!1);yr(this,X1,!!((rS=globalThis.FontInspector)!=null&&rS.enabled));yr(this,bx,null);yr(this,tp,null);yr(this,Q1,0);yr(this,J1,0);yr(this,yx,null);yr(this,uy,null);yr(this,hy,0);yr(this,Xp,0);yr(this,py,Object.create(null));yr(this,Z1,[]);yr(this,fy,null);yr(this,vx,[]);yr(this,eE,new WeakMap);yr(this,tE,null);var Ht;if(et instanceof ReadableStream)jr(this,fy,et);else if(typeof et=="object")jr(this,fy,new ReadableStream({start(Kt){Kt.enqueue(et),Kt.close()}}));else throw new Error('No "textContentSource" parameter specified.');jr(this,Ho,jr(this,uy,$t)),jr(this,Xp,kt.scale*OutputScale.pixelRatio),jr(this,hy,kt.rotation),jr(this,tp,{div:null,properties:null,ctx:null});const{pageWidth:Tt,pageHeight:Dt,pageX:Ft,pageY:Ut}=kt.rawDims;jr(this,tE,[1,0,0,-1,-Ft,Ut+Dt]),jr(this,J1,Tt),jr(this,Q1,Dt),Br(Ht=Wn,LR,GS).call(Ht),setLayerDimensions($t,kt),ar(this,Yp).promise.finally(()=>{ar(Wn,xy).delete(this),jr(this,tp,null),jr(this,py,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:et,isFirefox:$t}=util_FeatureTest.platform;return shadow(this,"fontFamilyMap",new Map([["sans-serif",`${et&&$t?"Calibri, ":""}sans-serif`],["monospace",`${et&&$t?"Lucida Console, ":""}monospace`]]))}render(){const et=()=>{ar(this,yx).read().then(({value:$t,done:kt})=>{if(kt){ar(this,Yp).resolve();return}ar(this,bx)??jr(this,bx,$t.lang),Object.assign(ar(this,py),$t.styles),Br(this,DR,US).call(this,$t.items),et()},ar(this,Yp).reject)};return jr(this,yx,ar(this,fy).getReader()),ar(Wn,xy).add(this),et(),ar(this,Yp).promise}update({viewport:et,onBefore:$t=null}){var Dt;const kt=et.scale*OutputScale.pixelRatio,Tt=et.rotation;if(Tt!==ar(this,hy)&&($t==null||$t(),jr(this,hy,Tt),setLayerDimensions(ar(this,uy),{rotation:Tt})),kt!==ar(this,Xp)){$t==null||$t(),jr(this,Xp,kt);const Ft={div:null,properties:null,ctx:Br(Dt=Wn,gy,_w).call(Dt,ar(this,bx))};for(const Ut of ar(this,vx))Ft.properties=ar(this,eE).get(Ut),Ft.div=Ut,Br(this,sE,g$).call(this,Ft)}}cancel(){var $t;const et=new AbortException("TextLayer task cancelled.");($t=ar(this,yx))==null||$t.cancel(et).catch(()=>{}),jr(this,yx,null),ar(this,Yp).reject(et)}get textDivs(){return ar(this,vx)}get textContentItemsStr(){return ar(this,Z1)}static cleanup(){if(!(ar(this,xy).size>0)){ar(this,my).clear();for(const{canvas:et}of ar(this,Ex).values())et.remove();ar(this,Ex).clear()}}},Yp=new WeakMap,Ho=new WeakMap,Y1=new WeakMap,X1=new WeakMap,bx=new WeakMap,tp=new WeakMap,Q1=new WeakMap,J1=new WeakMap,yx=new WeakMap,uy=new WeakMap,hy=new WeakMap,Xp=new WeakMap,py=new WeakMap,Z1=new WeakMap,fy=new WeakMap,vx=new WeakMap,eE=new WeakMap,tE=new WeakMap,my=new WeakMap,Ex=new WeakMap,rE=new WeakMap,Qp=new WeakMap,xy=new WeakMap,DR=new WeakSet,US=function(et){var Tt,Dt;if(ar(this,Y1))return;(Dt=ar(this,tp)).ctx??(Dt.ctx=Br(Tt=Wn,gy,_w).call(Tt,ar(this,bx)));const $t=ar(this,vx),kt=ar(this,Z1);for(const Ft of et){if($t.length>MAX_TEXT_DIVS_TO_RENDER){warn("Ignoring additional textDivs for performance reasons."),jr(this,Y1,!0);return}if(Ft.str===void 0){if(Ft.type==="beginMarkedContentProps"||Ft.type==="beginMarkedContent"){const Ut=ar(this,Ho);jr(this,Ho,document.createElement("span")),ar(this,Ho).classList.add("markedContent"),Ft.id&&ar(this,Ho).setAttribute("id",`${Ft.id}`),Ut.append(ar(this,Ho))}else Ft.type==="endMarkedContent"&&jr(this,Ho,ar(this,Ho).parentNode);continue}kt.push(Ft.str),Br(this,FR,HS).call(this,Ft)}},FR=new WeakSet,HS=function(et){var sr;const $t=document.createElement("span"),kt={angle:0,canvasWidth:0,hasText:et.str!=="",hasEOL:et.hasEOL,fontSize:0};ar(this,vx).push($t);const Tt=Util.transform(ar(this,tE),et.transform);let Dt=Math.atan2(Tt[1],Tt[0]);const Ft=ar(this,py)[et.fontName];Ft.vertical&&(Dt+=Math.PI/2);let Ut=ar(this,X1)&&Ft.fontSubstitution||Ft.fontFamily;Ut=Wn.fontFamilyMap.get(Ut)||Ut;const Ht=Math.hypot(Tt[2],Tt[3]),Kt=Ht*Br(sr=Wn,OR,qS).call(sr,Ut,Ft,ar(this,bx));let Yt,Jt;Dt===0?(Yt=Tt[4],Jt=Tt[5]-Kt):(Yt=Tt[4]+Kt*Math.sin(Dt),Jt=Tt[5]-Kt*Math.cos(Dt));const Zt="calc(var(--total-scale-factor) *",er=$t.style;ar(this,Ho)===ar(this,uy)?(er.left=`${(100*Yt/ar(this,J1)).toFixed(2)}%`,er.top=`${(100*Jt/ar(this,Q1)).toFixed(2)}%`):(er.left=`${Zt}${Yt.toFixed(2)}px)`,er.top=`${Zt}${Jt.toFixed(2)}px)`),er.fontSize=`${Zt}${(ar(Wn,Qp)*Ht).toFixed(2)}px)`,er.fontFamily=Ut,kt.fontSize=Ht,$t.setAttribute("role","presentation"),$t.textContent=et.str,$t.dir=et.dir,ar(this,X1)&&($t.dataset.fontName=Ft.fontSubstitutionLoadedName||et.fontName),Dt!==0&&(kt.angle=Dt*(180/Math.PI));let rr=!1;if(et.str.length>1)rr=!0;else if(et.str!==" "&&et.transform[0]!==et.transform[3]){const ir=Math.abs(et.transform[0]),nr=Math.abs(et.transform[3]);ir!==nr&&Math.max(ir,nr)/Math.min(ir,nr)>1.5&&(rr=!0)}if(rr&&(kt.canvasWidth=Ft.vertical?et.height:et.width),ar(this,eE).set($t,kt),ar(this,tp).div=$t,ar(this,tp).properties=kt,Br(this,sE,g$).call(this,ar(this,tp)),kt.hasText&&ar(this,Ho).append($t),kt.hasEOL){const ir=document.createElement("br");ir.setAttribute("role","presentation"),ar(this,Ho).append(ir)}},sE=new WeakSet,g$=function(et){var Ut;const{div:$t,properties:kt,ctx:Tt}=et,{style:Dt}=$t;let Ft="";if(ar(Wn,Qp)>1&&(Ft=`scale(${1/ar(Wn,Qp)})`),kt.canvasWidth!==0&&kt.hasText){const{fontFamily:Ht}=Dt,{canvasWidth:Kt,fontSize:Yt}=kt;Br(Ut=Wn,nE,b$).call(Ut,Tt,Yt*ar(this,Xp),Ht);const{width:Jt}=Tt.measureText($t.textContent);Jt>0&&(Ft=`scaleX(${Kt*ar(this,Xp)/Jt}) ${Ft}`)}kt.angle!==0&&(Ft=`rotate(${kt.angle}deg) ${Ft}`),Ft.length>0&&(Dt.transform=Ft)},gy=new WeakSet,_w=function(et=null){let $t=ar(this,Ex).get(et||(et=""));if(!$t){const kt=document.createElement("canvas");kt.className="hiddenCanvasElement",kt.lang=et,document.body.append(kt),$t=kt.getContext("2d",{alpha:!1,willReadFrequently:!0}),ar(this,Ex).set(et,$t),ar(this,rE).set($t,{size:0,family:""})}return $t},nE=new WeakSet,b$=function(et,$t,kt){const Tt=ar(this,rE).get(et);$t===Tt.size&&kt===Tt.family||(et.font=`${$t}px ${kt}`,Tt.size=$t,Tt.family=kt)},LR=new WeakSet,GS=function(){if(ar(this,Qp)!==null)return;const et=document.createElement("div");et.style.opacity=0,et.style.lineHeight=1,et.style.fontSize="1px",et.style.position="absolute",et.textContent="X",document.body.append(et),jr(this,Qp,et.getBoundingClientRect().height),et.remove()},OR=new WeakSet,qS=function(et,$t,kt){const Tt=ar(this,my).get(et);if(Tt)return Tt;const Dt=Br(this,gy,_w).call(this,kt);Dt.canvas.width=Dt.canvas.height=DEFAULT_FONT_SIZE,Br(this,nE,b$).call(this,Dt,DEFAULT_FONT_SIZE,et);const Ft=Dt.measureText(""),Ut=Ft.fontBoundingBoxAscent,Ht=Math.abs(Ft.fontBoundingBoxDescent);Dt.canvas.width=Dt.canvas.height=0;let Kt=.8;return Ut?Kt=Ut/(Ut+Ht):(util_FeatureTest.platform.isFirefox&&warn("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),$t.ascent?Kt=$t.ascent:$t.descent&&(Kt=1+$t.descent)),ar(this,my).set(et,Kt),Kt},yr(Wn,gy),yr(Wn,nE),yr(Wn,LR),yr(Wn,OR),yr(Wn,my,new Map),yr(Wn,Ex,new Map),yr(Wn,rE,new WeakMap),yr(Wn,Qp,null),yr(Wn,xy,new Set),Wn);const RENDERING_CANCELLED_TIMEOUT=100;function getDocument(dt={}){typeof dt=="string"||dt instanceof URL?dt={url:dt}:(dt instanceof ArrayBuffer||ArrayBuffer.isView(dt))&&(dt={data:dt});const et=new PDFDocumentLoadingTask,{docId:$t}=et,kt=dt.url?getUrlProp(dt.url):null,Tt=dt.data?getDataProp(dt.data):null,Dt=dt.httpHeaders||null,Ft=dt.withCredentials===!0,Ut=dt.password??null,Ht=dt.range instanceof PDFDataRangeTransport$1?dt.range:null,Kt=Number.isInteger(dt.rangeChunkSize)&&dt.rangeChunkSize>0?dt.rangeChunkSize:2**16;let Yt=dt.worker instanceof PDFWorker?dt.worker:null;const Jt=dt.verbosity,Zt=typeof dt.docBaseUrl=="string"&&!isDataScheme(dt.docBaseUrl)?dt.docBaseUrl:null,er=getFactoryUrlProp(dt.cMapUrl),rr=dt.cMapPacked!==!1,sr=dt.CMapReaderFactory||(isNodeJS?NodeCMapReaderFactory:DOMCMapReaderFactory),ir=getFactoryUrlProp(dt.iccUrl),nr=getFactoryUrlProp(dt.standardFontDataUrl),or=dt.StandardFontDataFactory||(isNodeJS?NodeStandardFontDataFactory:DOMStandardFontDataFactory),lr=getFactoryUrlProp(dt.wasmUrl),cr=dt.WasmFactory||(isNodeJS?NodeWasmFactory:DOMWasmFactory),dr=dt.stopAtErrors!==!0,ur=Number.isInteger(dt.maxImageSize)&&dt.maxImageSize>-1?dt.maxImageSize:-1,pr=dt.isEvalSupported!==!1,mr=typeof dt.isOffscreenCanvasSupported=="boolean"?dt.isOffscreenCanvasSupported:!isNodeJS,vr=typeof dt.isImageDecoderSupported=="boolean"?dt.isImageDecoderSupported:!isNodeJS&&(util_FeatureTest.platform.isFirefox||!globalThis.chrome),kr=Number.isInteger(dt.canvasMaxAreaInBytes)?dt.canvasMaxAreaInBytes:-1,br=typeof dt.disableFontFace=="boolean"?dt.disableFontFace:isNodeJS,_r=dt.fontExtraProperties===!0,Or=dt.enableXfa===!0,Pr=dt.ownerDocument||globalThis.document,Mr=dt.disableRange===!0,Rr=dt.disableStream===!0,Tr=dt.disableAutoFetch===!0,xr=dt.pdfBug===!0,wr=dt.CanvasFactory||(isNodeJS?NodeCanvasFactory:DOMCanvasFactory),zr=dt.FilterFactory||(isNodeJS?NodeFilterFactory:DOMFilterFactory),Hr=dt.enableHWA===!0,Gr=dt.useWasm!==!1,Xr=Ht?Ht.length:dt.length??NaN,rs=typeof dt.useSystemFonts=="boolean"?dt.useSystemFonts:!isNodeJS&&!br,Yr=typeof dt.useWorkerFetch=="boolean"?dt.useWorkerFetch:!!(sr===DOMCMapReaderFactory&&or===DOMStandardFontDataFactory&&cr===DOMWasmFactory&&er&&nr&&lr&&isValidFetchUrl(er,document.baseURI)&&isValidFetchUrl(nr,document.baseURI)&&isValidFetchUrl(lr,document.baseURI)),es=null;setVerbosityLevel(Jt);const ns={canvasFactory:new wr({ownerDocument:Pr,enableHWA:Hr}),filterFactory:new zr({docId:$t,ownerDocument:Pr}),cMapReaderFactory:Yr?null:new sr({baseUrl:er,isCompressed:rr}),standardFontDataFactory:Yr?null:new or({baseUrl:nr}),wasmFactory:Yr?null:new cr({baseUrl:lr})};Yt||(Yt=PDFWorker.create({verbosity:Jt,port:GlobalWorkerOptions.workerPort}),et._worker=Yt);const ms={docId:$t,apiVersion:"5.4.296",data:Tt,password:Ut,disableAutoFetch:Tr,rangeChunkSize:Kt,length:Xr,docBaseUrl:Zt,enableXfa:Or,evaluatorOptions:{maxImageSize:ur,disableFontFace:br,ignoreErrors:dr,isEvalSupported:pr,isOffscreenCanvasSupported:mr,isImageDecoderSupported:vr,canvasMaxAreaInBytes:kr,fontExtraProperties:_r,useSystemFonts:rs,useWasm:Gr,useWorkerFetch:Yr,cMapUrl:er,iccUrl:ir,standardFontDataUrl:nr,wasmUrl:lr}},ls={ownerDocument:Pr,pdfBug:xr,styleElement:es,loadingParams:{disableAutoFetch:Tr,enableXfa:Or}};return Yt.promise.then(function(){if(et.destroyed)throw new Error("Loading aborted");if(Yt.destroyed)throw new Error("Worker was destroyed");const ds=Yt.messageHandler.sendWithPromise("GetDocRequest",ms,Tt?[Tt.buffer]:null);let fs;if(Ht)fs=new PDFDataTransportStream(Ht,{disableRange:Mr,disableStream:Rr});else if(!Tt){if(!kt)throw new Error("getDocument - no `url` parameter provided.");const cs=isValidFetchUrl(kt)?PDFFetchStream:isNodeJS?PDFNodeStream:PDFNetworkStream;fs=new cs({url:kt,length:Xr,httpHeaders:Dt,withCredentials:Ft,rangeChunkSize:Kt,disableRange:Mr,disableStream:Rr})}return ds.then(cs=>{if(et.destroyed)throw new Error("Loading aborted");if(Yt.destroyed)throw new Error("Worker was destroyed");const xs=new MessageHandler($t,cs,Yt.port),us=new WorkerTransport(xs,et,fs,ls,ns,Hr);et._transport=us,xs.send("Ready",null)})}).catch(et._capability.reject),et}var BR;const VR=class VR{constructor(){ys(this,"_capability",Promise.withResolvers());ys(this,"_transport",null);ys(this,"_worker",null);ys(this,"docId",`d${xa(VR,BR)._++}`);ys(this,"destroyed",!1);ys(this,"onPassword",null);ys(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var et,$t,kt,Tt;this.destroyed=!0;try{(et=this._worker)!=null&&et.port&&(this._worker._pendingDestroy=!0),await(($t=this._transport)==null?void 0:$t.destroy())}catch(Dt){throw(kt=this._worker)!=null&&kt.port&&delete this._worker._pendingDestroy,Dt}this._transport=null,(Tt=this._worker)==null||Tt.destroy(),this._worker=null}async getData(){return this._transport.getData()}};BR=new WeakMap,yr(VR,BR,0);let PDFDocumentLoadingTask=VR;var jx,iE,aE,oE,lE,sS;let PDFDataRangeTransport$1=(sS=class{constructor(et,$t,kt=!1,Tt=null){yr(this,jx,Promise.withResolvers());yr(this,iE,[]);yr(this,aE,[]);yr(this,oE,[]);yr(this,lE,[]);this.length=et,this.initialData=$t,this.progressiveDone=kt,this.contentDispositionFilename=Tt}addRangeListener(et){ar(this,lE).push(et)}addProgressListener(et){ar(this,oE).push(et)}addProgressiveReadListener(et){ar(this,aE).push(et)}addProgressiveDoneListener(et){ar(this,iE).push(et)}onDataRange(et,$t){for(const kt of ar(this,lE))kt(et,$t)}onDataProgress(et,$t){ar(this,jx).promise.then(()=>{for(const kt of ar(this,oE))kt(et,$t)})}onDataProgressiveRead(et){ar(this,jx).promise.then(()=>{for(const $t of ar(this,aE))$t(et)})}onDataProgressiveDone(){ar(this,jx).promise.then(()=>{for(const et of ar(this,iE))et()})}transportReady(){ar(this,jx).resolve()}requestDataRange(et,$t){unreachable("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}},jx=new WeakMap,iE=new WeakMap,aE=new WeakMap,oE=new WeakMap,lE=new WeakMap,sS);class PDFDocumentProxy{constructor(et,$t){this._pdfInfo=et,this._transport=$t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return shadow(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(et){return this._transport.getPage(et)}getPageIndex(et){return this._transport.getPageIndex(et)}getDestinations(){return this._transport.getDestinations()}getDestination(et){return this._transport.getDestination(et)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(et,$t){return this._transport.getAnnotationsByType(et,$t)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:et="display"}={}){const{renderingIntent:$t}=this._transport.getRenderingIntent(et);return this._transport.getOptionalContentConfig($t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(et=!1){return this._transport.startCleanup(et||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(et){return this._transport.cachedPageNumber(et)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var rp,wx,Pv;class PDFPageProxy{constructor(et,$t,kt,Tt=!1){yr(this,wx);yr(this,rp,!1);this._pageIndex=et,this._pageInfo=$t,this._transport=kt,this._stats=Tt?new StatTimer:null,this._pdfBug=Tt,this.commonObjs=kt.commonObjs,this.objs=new PDFObjects,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:et,rotation:$t=this.rotate,offsetX:kt=0,offsetY:Tt=0,dontFlip:Dt=!1}={}){return new PageViewport({viewBox:this.view,userUnit:this.userUnit,scale:et,rotation:$t,offsetX:kt,offsetY:Tt,dontFlip:Dt})}getAnnotations({intent:et="display"}={}){const{renderingIntent:$t}=this._transport.getRenderingIntent(et);return this._transport.getAnnotations(this._pageIndex,$t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return shadow(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var et;return((et=this._transport._htmlForXfa)==null?void 0:et.children[this._pageIndex])||null}render({canvasContext:et,canvas:$t=et.canvas,viewport:kt,intent:Tt="display",annotationMode:Dt=AnnotationMode.ENABLE,transform:Ft=null,background:Ut=null,optionalContentConfigPromise:Ht=null,annotationCanvasMap:Kt=null,pageColors:Yt=null,printAnnotationStorage:Jt=null,isEditing:Zt=!1,recordOperations:er=!1,operationsFilter:rr=null}){var vr,kr,br;(vr=this._stats)==null||vr.time("Overall");const sr=this._transport.getRenderingIntent(Tt,Dt,Jt,Zt),{renderingIntent:ir,cacheKey:nr}=sr;jr(this,rp,!1),Ht||(Ht=this._transport.getOptionalContentConfig(ir));let or=this._intentStates.get(nr);or||(or=Object.create(null),this._intentStates.set(nr,or)),or.streamReaderCancelTimeout&&(clearTimeout(or.streamReaderCancelTimeout),or.streamReaderCancelTimeout=null);const lr=!!(ir&RenderingIntentFlag.PRINT);or.displayReadyCapability||(or.displayReadyCapability=Promise.withResolvers(),or.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(kr=this._stats)==null||kr.time("Page Request"),this._pumpOperatorList(sr));const cr=!!(this._pdfBug&&((br=globalThis.StepperManager)!=null&&br.enabled)),dr=!this.recordedBBoxes&&(er||cr),ur=_r=>{var Or,Pr;if(or.renderTasks.delete(pr),dr){const Mr=(Or=pr.gfx)==null?void 0:Or.dependencyTracker.take();Mr&&(pr.stepper&&pr.stepper.setOperatorBBoxes(Mr,pr.gfx.dependencyTracker.takeDebugMetadata()),er&&(this.recordedBBoxes=Mr))}lr&&jr(this,rp,!0),Br(this,wx,Pv).call(this),_r?(pr.capability.reject(_r),this._abortOperatorList({intentState:or,reason:_r instanceof Error?_r:new Error(_r)})):pr.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(Pr=globalThis.Stats)!=null&&Pr.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},pr=new InternalRenderTask({callback:ur,params:{canvas:$t,canvasContext:et,dependencyTracker:dr?new CanvasDependencyTracker($t,or.operatorList.length,cr):null,viewport:kt,transform:Ft,background:Ut},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Kt,operatorList:or.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!lr,pdfBug:this._pdfBug,pageColors:Yt,enableHWA:this._transport.enableHWA,operationsFilter:rr});(or.renderTasks||(or.renderTasks=new Set)).add(pr);const mr=pr.task;return Promise.all([or.displayReadyCapability.promise,Ht]).then(([_r,Or])=>{var Pr;if(this.destroyed){ur();return}if((Pr=this._stats)==null||Pr.time("Rendering"),!(Or.renderingIntent&ir))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");pr.initializeGraphics({transparency:_r,optionalContentConfig:Or}),pr.operatorListChanged()}).catch(ur),mr}getOperatorList({intent:et="display",annotationMode:$t=AnnotationMode.ENABLE,printAnnotationStorage:kt=null,isEditing:Tt=!1}={}){var Kt;function Dt(){Ut.operatorList.lastChunk&&(Ut.opListReadCapability.resolve(Ut.operatorList),Ut.renderTasks.delete(Ht))}const Ft=this._transport.getRenderingIntent(et,$t,kt,Tt,!0);let Ut=this._intentStates.get(Ft.cacheKey);Ut||(Ut=Object.create(null),this._intentStates.set(Ft.cacheKey,Ut));let Ht;return Ut.opListReadCapability||(Ht=Object.create(null),Ht.operatorListChanged=Dt,Ut.opListReadCapability=Promise.withResolvers(),(Ut.renderTasks||(Ut.renderTasks=new Set)).add(Ht),Ut.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Kt=this._stats)==null||Kt.time("Page Request"),this._pumpOperatorList(Ft)),Ut.opListReadCapability.promise}streamTextContent({includeMarkedContent:et=!1,disableNormalization:$t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:et===!0,disableNormalization:$t===!0},{highWaterMark:100,size(Tt){return Tt.items.length}})}getTextContent(et={}){if(this._transport._htmlForXfa)return this.getXfa().then(kt=>XfaText.textContent(kt));const $t=this.streamTextContent(et);return new Promise(function(kt,Tt){function Dt(){Ft.read().then(function({value:Ht,done:Kt}){if(Kt){kt(Ut);return}Ut.lang??(Ut.lang=Ht.lang),Object.assign(Ut.styles,Ht.styles),Ut.items.push(...Ht.items),Dt()},Tt)}const Ft=$t.getReader(),Ut={items:[],styles:Object.create(null),lang:null};Dt()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const et=[];for(const $t of this._intentStates.values())if(this._abortOperatorList({intentState:$t,reason:new Error("Page was destroyed."),force:!0}),!$t.opListReadCapability)for(const kt of $t.renderTasks)et.push(kt.completed),kt.cancel();return this.objs.clear(),jr(this,rp,!1),Promise.all(et)}cleanup(et=!1){jr(this,rp,!0);const $t=Br(this,wx,Pv).call(this);return et&&$t&&this._stats&&(this._stats=new StatTimer),$t}_startRenderPage(et,$t){var Tt,Dt;const kt=this._intentStates.get($t);kt&&((Tt=this._stats)==null||Tt.timeEnd("Page Request"),(Dt=kt.displayReadyCapability)==null||Dt.resolve(et))}_renderPageChunk(et,$t){for(let kt=0,Tt=et.length;kt<Tt;kt++)$t.operatorList.fnArray.push(et.fnArray[kt]),$t.operatorList.argsArray.push(et.argsArray[kt]);$t.operatorList.lastChunk=et.lastChunk,$t.operatorList.separateAnnots=et.separateAnnots;for(const kt of $t.renderTasks)kt.operatorListChanged();et.lastChunk&&Br(this,wx,Pv).call(this)}_pumpOperatorList({renderingIntent:et,cacheKey:$t,annotationStorageSerializable:kt,modifiedIds:Tt}){const{map:Dt,transfer:Ft}=kt,Ht=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:et,cacheKey:$t,annotationStorage:Dt,modifiedIds:Tt},Ft).getReader(),Kt=this._intentStates.get($t);Kt.streamReader=Ht;const Yt=()=>{Ht.read().then(({value:Jt,done:Zt})=>{if(Zt){Kt.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(Jt,Kt),Yt())},Jt=>{if(Kt.streamReader=null,!this._transport.destroyed){if(Kt.operatorList){Kt.operatorList.lastChunk=!0;for(const Zt of Kt.renderTasks)Zt.operatorListChanged();Br(this,wx,Pv).call(this)}if(Kt.displayReadyCapability)Kt.displayReadyCapability.reject(Jt);else if(Kt.opListReadCapability)Kt.opListReadCapability.reject(Jt);else throw Jt}})};Yt()}_abortOperatorList({intentState:et,reason:$t,force:kt=!1}){if(et.streamReader){if(et.streamReaderCancelTimeout&&(clearTimeout(et.streamReaderCancelTimeout),et.streamReaderCancelTimeout=null),!kt){if(et.renderTasks.size>0)return;if($t instanceof RenderingCancelledException){let Tt=RENDERING_CANCELLED_TIMEOUT;$t.extraDelay>0&&$t.extraDelay<1e3&&(Tt+=$t.extraDelay),et.streamReaderCancelTimeout=setTimeout(()=>{et.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:et,reason:$t,force:!0})},Tt);return}}if(et.streamReader.cancel(new AbortException($t.message)).catch(()=>{}),et.streamReader=null,!this._transport.destroyed){for(const[Tt,Dt]of this._intentStates)if(Dt===et){this._intentStates.delete(Tt);break}this.cleanup()}}}get stats(){return this._stats}}rp=new WeakMap,wx=new WeakSet,Pv=function(){if(!ar(this,rp)||this.destroyed)return!1;for(const{renderTasks:et,operatorList:$t}of this._intentStates.values())if(et.size>0||!$t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),jr(this,rp,!1),!0};var Jp,tu,sp,Rx,zR,$x,kx,by,Cw,UR,KS,HR,YS,Sx,Mv,yy,Aw;const Un=class Un{constructor({name:et=null,port:$t=null,verbosity:kt=getVerbosityLevel()}={}){yr(this,by);yr(this,UR);yr(this,HR);yr(this,Sx);yr(this,Jp,Promise.withResolvers());yr(this,tu,null);yr(this,sp,null);yr(this,Rx,null);if(this.name=et,this.destroyed=!1,this.verbosity=kt,$t){if(ar(Un,kx).has($t))throw new Error("Cannot use more than one PDFWorker per port.");ar(Un,kx).set($t,this),Br(this,UR,KS).call(this,$t)}else Br(this,HR,YS).call(this)}get promise(){return ar(this,Jp).promise}get port(){return ar(this,sp)}get messageHandler(){return ar(this,tu)}destroy(){var et,$t;this.destroyed=!0,(et=ar(this,Rx))==null||et.terminate(),jr(this,Rx,null),ar(Un,kx).delete(ar(this,sp)),jr(this,sp,null),($t=ar(this,tu))==null||$t.destroy(),jr(this,tu,null)}static create(et){const $t=ar(this,kx).get(et==null?void 0:et.port);if($t){if($t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return $t}return new Un(et)}static get workerSrc(){if(GlobalWorkerOptions.workerSrc)return GlobalWorkerOptions.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return shadow(this,"_setupFakeWorkerGlobal",(async()=>ar(this,yy,Aw)?ar(this,yy,Aw):(await __vitePreload(()=>import(this.workerSrc),[])).WorkerMessageHandler)())}};Jp=new WeakMap,tu=new WeakMap,sp=new WeakMap,Rx=new WeakMap,zR=new WeakMap,$x=new WeakMap,kx=new WeakMap,by=new WeakSet,Cw=function(){ar(this,Jp).resolve(),ar(this,tu).send("configure",{verbosity:this.verbosity})},UR=new WeakSet,KS=function(et){jr(this,sp,et),jr(this,tu,new MessageHandler("main","worker",et)),ar(this,tu).on("ready",()=>{}),Br(this,by,Cw).call(this)},HR=new WeakSet,YS=function(){if(ar(Un,$x)||ar(Un,yy,Aw)){Br(this,Sx,Mv).call(this);return}let{workerSrc:et}=Un;try{Un._isSameOrigin(window.location,et)||(et=Un._createCDNWrapper(new URL(et,window.location).href));const $t=new Worker(et,{type:"module"}),kt=new MessageHandler("main","worker",$t),Tt=()=>{Dt.abort(),kt.destroy(),$t.terminate(),this.destroyed?ar(this,Jp).reject(new Error("Worker was destroyed")):Br(this,Sx,Mv).call(this)},Dt=new AbortController;$t.addEventListener("error",()=>{ar(this,Rx)||Tt()},{signal:Dt.signal}),kt.on("test",Ut=>{if(Dt.abort(),this.destroyed||!Ut){Tt();return}jr(this,tu,kt),jr(this,sp,$t),jr(this,Rx,$t),Br(this,by,Cw).call(this)}),kt.on("ready",Ut=>{if(Dt.abort(),this.destroyed){Tt();return}try{Ft()}catch{Br(this,Sx,Mv).call(this)}});const Ft=()=>{const Ut=new Uint8Array;kt.send("test",Ut,[Ut.buffer])};Ft();return}catch{info("The worker has been disabled.")}Br(this,Sx,Mv).call(this)},Sx=new WeakSet,Mv=function(){ar(Un,$x)||(warn("Setting up fake worker."),jr(Un,$x,!0)),Un._setupFakeWorkerGlobal.then(et=>{if(this.destroyed){ar(this,Jp).reject(new Error("Worker was destroyed"));return}const $t=new LoopbackPort;jr(this,sp,$t);const kt=`fake${xa(Un,zR)._++}`,Tt=new MessageHandler(kt+"_worker",kt,$t);et.setup(Tt,$t),jr(this,tu,new MessageHandler(kt,kt+"_worker",$t)),Br(this,by,Cw).call(this)}).catch(et=>{ar(this,Jp).reject(new Error(`Setting up fake worker failed: "${et.message}".`))})},yy=new WeakSet,Aw=function(){var et;try{return((et=globalThis.pdfjsWorker)==null?void 0:et.WorkerMessageHandler)||null}catch{return null}},yr(Un,yy),yr(Un,zR,0),yr(Un,$x,!1),yr(Un,kx,new WeakMap),isNodeJS&&(jr(Un,$x,!0),GlobalWorkerOptions.workerSrc||(GlobalWorkerOptions.workerSrc="./pdf.worker.mjs")),Un._isSameOrigin=(et,$t)=>{const kt=URL.parse(et);if(!(kt!=null&&kt.origin)||kt.origin==="null")return!1;const Tt=new URL($t,kt);return kt.origin===Tt.origin},Un._createCDNWrapper=et=>{const $t=`await import("${et}");`;return URL.createObjectURL(new Blob([$t],{type:"text/javascript"}))},Un.fromPort=et=>{if(deprecated("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(et!=null&&et.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return Un.create(et)};let PDFWorker=Un;var np,wu,vy,Ey,ap,_x,Iv;class WorkerTransport{constructor(et,$t,kt,Tt,Dt,Ft){yr(this,_x);yr(this,np,new Map);yr(this,wu,new Map);yr(this,vy,new Map);yr(this,Ey,new Map);yr(this,ap,null);this.messageHandler=et,this.loadingTask=$t,this.commonObjs=new PDFObjects,this.fontLoader=new FontLoader({ownerDocument:Tt.ownerDocument,styleElement:Tt.styleElement}),this.loadingParams=Tt.loadingParams,this._params=Tt,this.canvasFactory=Dt.canvasFactory,this.filterFactory=Dt.filterFactory,this.cMapReaderFactory=Dt.cMapReaderFactory,this.standardFontDataFactory=Dt.standardFontDataFactory,this.wasmFactory=Dt.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=kt,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=Ft,this.setupMessageHandler()}get annotationStorage(){return shadow(this,"annotationStorage",new AnnotationStorage)}getRenderingIntent(et,$t=AnnotationMode.ENABLE,kt=null,Tt=!1,Dt=!1){let Ft=RenderingIntentFlag.DISPLAY,Ut=SerializableEmpty;switch(et){case"any":Ft=RenderingIntentFlag.ANY;break;case"display":break;case"print":Ft=RenderingIntentFlag.PRINT;break;default:warn(`getRenderingIntent - invalid intent: ${et}`)}const Ht=Ft&RenderingIntentFlag.PRINT&&kt instanceof PrintAnnotationStorage?kt:this.annotationStorage;switch($t){case AnnotationMode.DISABLE:Ft+=RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case AnnotationMode.ENABLE:break;case AnnotationMode.ENABLE_FORMS:Ft+=RenderingIntentFlag.ANNOTATIONS_FORMS;break;case AnnotationMode.ENABLE_STORAGE:Ft+=RenderingIntentFlag.ANNOTATIONS_STORAGE,Ut=Ht.serializable;break;default:warn(`getRenderingIntent - invalid annotationMode: ${$t}`)}Tt&&(Ft+=RenderingIntentFlag.IS_EDITING),Dt&&(Ft+=RenderingIntentFlag.OPLIST);const{ids:Kt,hash:Yt}=Ht.modifiedIds,Jt=[Ft,Ut.hash,Yt];return{renderingIntent:Ft,cacheKey:Jt.join("_"),annotationStorageSerializable:Ut,modifiedIds:Kt}}destroy(){var kt;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(kt=ar(this,ap))==null||kt.reject(new Error("Worker was destroyed during onPassword callback"));const et=[];for(const Tt of ar(this,wu).values())et.push(Tt._destroy());ar(this,wu).clear(),ar(this,vy).clear(),ar(this,Ey).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const $t=this.messageHandler.sendWithPromise("Terminate",null);return et.push($t),Promise.all(et).then(()=>{var Tt,Dt;this.commonObjs.clear(),this.fontLoader.clear(),ar(this,np).clear(),this.filterFactory.destroy(),TextLayer$1.cleanup(),(Tt=this._networkStream)==null||Tt.cancelAllRequests(new AbortException("Worker was terminated.")),(Dt=this.messageHandler)==null||Dt.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:et,loadingTask:$t}=this;et.on("GetReader",(kt,Tt)=>{assert(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=Dt=>{this._lastProgress={loaded:Dt.loaded,total:Dt.total}},Tt.onPull=()=>{this._fullReader.read().then(function({value:Dt,done:Ft}){if(Ft){Tt.close();return}assert(Dt instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),Tt.enqueue(new Uint8Array(Dt),1,[Dt])}).catch(Dt=>{Tt.error(Dt)})},Tt.onCancel=Dt=>{this._fullReader.cancel(Dt),Tt.ready.catch(Ft=>{if(!this.destroyed)throw Ft})}}),et.on("ReaderHeadersReady",async kt=>{var Ut;await this._fullReader.headersReady;const{isStreamingSupported:Tt,isRangeSupported:Dt,contentLength:Ft}=this._fullReader;return(!Tt||!Dt)&&(this._lastProgress&&((Ut=$t.onProgress)==null||Ut.call($t,this._lastProgress)),this._fullReader.onProgress=Ht=>{var Kt;(Kt=$t.onProgress)==null||Kt.call($t,{loaded:Ht.loaded,total:Ht.total})}),{isStreamingSupported:Tt,isRangeSupported:Dt,contentLength:Ft}}),et.on("GetRangeReader",(kt,Tt)=>{assert(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const Dt=this._networkStream.getRangeReader(kt.begin,kt.end);if(!Dt){Tt.close();return}Tt.onPull=()=>{Dt.read().then(function({value:Ft,done:Ut}){if(Ut){Tt.close();return}assert(Ft instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),Tt.enqueue(new Uint8Array(Ft),1,[Ft])}).catch(Ft=>{Tt.error(Ft)})},Tt.onCancel=Ft=>{Dt.cancel(Ft),Tt.ready.catch(Ut=>{if(!this.destroyed)throw Ut})}}),et.on("GetDoc",({pdfInfo:kt})=>{this._numPages=kt.numPages,this._htmlForXfa=kt.htmlForXfa,delete kt.htmlForXfa,$t._capability.resolve(new PDFDocumentProxy(kt,this))}),et.on("DocException",kt=>{$t._capability.reject(wrapReason(kt))}),et.on("PasswordRequest",kt=>{jr(this,ap,Promise.withResolvers());try{if(!$t.onPassword)throw wrapReason(kt);const Tt=Dt=>{Dt instanceof Error?ar(this,ap).reject(Dt):ar(this,ap).resolve({password:Dt})};$t.onPassword(Tt,kt.code)}catch(Tt){ar(this,ap).reject(Tt)}return ar(this,ap).promise}),et.on("DataLoaded",kt=>{var Tt;(Tt=$t.onProgress)==null||Tt.call($t,{loaded:kt.length,total:kt.length}),this.downloadInfoCapability.resolve(kt)}),et.on("StartRenderPage",kt=>{if(this.destroyed)return;ar(this,wu).get(kt.pageIndex)._startRenderPage(kt.transparency,kt.cacheKey)}),et.on("commonobj",([kt,Tt,Dt])=>{var Ft;if(this.destroyed||this.commonObjs.has(kt))return null;switch(Tt){case"Font":if("error"in Dt){const Jt=Dt.error;warn(`Error during font loading: ${Jt}`),this.commonObjs.resolve(kt,Jt);break}const Ut=new FontInfo(Dt),Ht=this._params.pdfBug&&((Ft=globalThis.FontInspector)!=null&&Ft.enabled)?(Jt,Zt)=>globalThis.FontInspector.fontAdded(Jt,Zt):null,Kt=new FontFaceObject(Ut,Ht,Dt.extra,Dt.charProcOperatorList);this.fontLoader.bind(Kt).catch(()=>et.sendWithPromise("FontFallback",{id:kt})).finally(()=>{!Kt.fontExtraProperties&&Kt.data&&Kt.clearData(),this.commonObjs.resolve(kt,Kt)});break;case"CopyLocalImage":const{imageRef:Yt}=Dt;assert(Yt,"The imageRef must be defined.");for(const Jt of ar(this,wu).values())for(const[,Zt]of Jt.objs)if((Zt==null?void 0:Zt.ref)===Yt)return Zt.dataLen?(this.commonObjs.resolve(kt,structuredClone(Zt)),Zt.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(kt,Dt);break;default:throw new Error(`Got unknown common object type ${Tt}`)}return null}),et.on("obj",([kt,Tt,Dt,Ft])=>{var Ht;if(this.destroyed)return;const Ut=ar(this,wu).get(Tt);if(!Ut.objs.has(kt)){if(Ut._intentStates.size===0){(Ht=Ft==null?void 0:Ft.bitmap)==null||Ht.close();return}switch(Dt){case"Image":case"Pattern":Ut.objs.resolve(kt,Ft);break;default:throw new Error(`Got unknown object type ${Dt}`)}}}),et.on("DocProgress",kt=>{var Tt;this.destroyed||(Tt=$t.onProgress)==null||Tt.call($t,{loaded:kt.loaded,total:kt.total})}),et.on("FetchBinaryData",async kt=>{if(this.destroyed)throw new Error("Worker was destroyed.");const Tt=this[kt.type];if(!Tt)throw new Error(`${kt.type} not initialized, see the \`useWorkerFetch\` parameter.`);return Tt.fetch(kt)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var kt;this.annotationStorage.size<=0&&warn("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:et,transfer:$t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:et,filename:((kt=this._fullReader)==null?void 0:kt.filename)??null},$t).finally(()=>{this.annotationStorage.resetModified()})}getPage(et){if(!Number.isInteger(et)||et<=0||et>this._numPages)return Promise.reject(new Error("Invalid page request."));const $t=et-1,kt=ar(this,vy).get($t);if(kt)return kt;const Tt=this.messageHandler.sendWithPromise("GetPage",{pageIndex:$t}).then(Dt=>{if(this.destroyed)throw new Error("Transport destroyed");Dt.refStr&&ar(this,Ey).set(Dt.refStr,et);const Ft=new PDFPageProxy($t,Dt,this,this._params.pdfBug);return ar(this,wu).set($t,Ft),Ft});return ar(this,vy).set($t,Tt),Tt}getPageIndex(et){return isRefProxy(et)?this.messageHandler.sendWithPromise("GetPageIndex",{num:et.num,gen:et.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(et,$t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:et,intent:$t})}getFieldObjects(){return Br(this,_x,Iv).call(this,"GetFieldObjects")}hasJSActions(){return Br(this,_x,Iv).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(et){return typeof et!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:et})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(et,$t){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:et,pageIndexesToSkip:$t})}getDocJSActions(){return Br(this,_x,Iv).call(this,"GetDocJSActions")}getPageJSActions(et){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:et})}getStructTree(et){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:et})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(et){return Br(this,_x,Iv).call(this,"GetOptionalContentConfig").then($t=>new OptionalContentConfig($t,et))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const et="GetMetadata",$t=ar(this,np).get(et);if($t)return $t;const kt=this.messageHandler.sendWithPromise(et,null).then(Tt=>{var Dt,Ft;return{info:Tt[0],metadata:Tt[1]?new Metadata(Tt[1]):null,contentDispositionFilename:((Dt=this._fullReader)==null?void 0:Dt.filename)??null,contentLength:((Ft=this._fullReader)==null?void 0:Ft.contentLength)??null}});return ar(this,np).set(et,kt),kt}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(et=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const $t of ar(this,wu).values())if(!$t.cleanup())throw new Error(`startCleanup: Page ${$t.pageNumber} is currently rendering.`);this.commonObjs.clear(),et||this.fontLoader.clear(),ar(this,np).clear(),this.filterFactory.destroy(!0),TextLayer$1.cleanup()}}cachedPageNumber(et){if(!isRefProxy(et))return null;const $t=et.gen===0?`${et.num}R`:`${et.num}R${et.gen}`;return ar(this,Ey).get($t)??null}}np=new WeakMap,wu=new WeakMap,vy=new WeakMap,Ey=new WeakMap,ap=new WeakMap,_x=new WeakSet,Iv=function(et,$t=null){const kt=ar(this,np).get(et);if(kt)return kt;const Tt=this.messageHandler.sendWithPromise(et,$t);return ar(this,np).set(et,Tt),Tt};var Zp;class RenderTask{constructor(et){yr(this,Zp,null);ys(this,"onContinue",null);ys(this,"onError",null);jr(this,Zp,et)}get promise(){return ar(this,Zp).capability.promise}cancel(et=0){ar(this,Zp).cancel(null,et)}get separateAnnots(){const{separateAnnots:et}=ar(this,Zp).operatorList;if(!et)return!1;const{annotationCanvasMap:$t}=ar(this,Zp);return et.form||et.canvas&&($t==null?void 0:$t.size)>0}}Zp=new WeakMap;var _f,Cx;const Tm=class Tm{constructor({callback:et,params:$t,objs:kt,commonObjs:Tt,annotationCanvasMap:Dt,operatorList:Ft,pageIndex:Ut,canvasFactory:Ht,filterFactory:Kt,useRequestAnimationFrame:Yt=!1,pdfBug:Jt=!1,pageColors:Zt=null,enableHWA:er=!1,operationsFilter:rr=null}){yr(this,_f,null);this.callback=et,this.params=$t,this.objs=kt,this.commonObjs=Tt,this.annotationCanvasMap=Dt,this.operatorListIdx=null,this.operatorList=Ft,this._pageIndex=Ut,this.canvasFactory=Ht,this.filterFactory=Kt,this._pdfBug=Jt,this.pageColors=Zt,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=Yt===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=$t.canvas,this._canvasContext=$t.canvas?null:$t.canvasContext,this._enableHWA=er,this._dependencyTracker=$t.dependencyTracker,this._operationsFilter=rr}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:et=!1,optionalContentConfig:$t}){var Ht,Kt;if(this.cancelled)return;if(this._canvas){if(ar(Tm,Cx).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");ar(Tm,Cx).add(this._canvas)}this._pdfBug&&((Ht=globalThis.StepperManager)!=null&&Ht.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:kt,transform:Tt,background:Dt,dependencyTracker:Ft}=this.params,Ut=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new CanvasGraphics(Ut,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:$t},this.annotationCanvasMap,this.pageColors,Ft),this.gfx.beginDrawing({transform:Tt,viewport:kt,transparency:et,background:Dt}),this.operatorListIdx=0,this.graphicsReady=!0,(Kt=this.graphicsReadyCallback)==null||Kt.call(this)}cancel(et=null,$t=0){var kt,Tt,Dt;this.running=!1,this.cancelled=!0,(kt=this.gfx)==null||kt.endDrawing(),ar(this,_f)&&(window.cancelAnimationFrame(ar(this,_f)),jr(this,_f,null)),ar(Tm,Cx).delete(this._canvas),et||(et=new RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,$t)),this.callback(et),(Dt=(Tt=this.task).onError)==null||Dt.call(Tt,et)}operatorListChanged(){var et,$t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(et=this.gfx.dependencyTracker)==null||et.growOperationsCount(this.operatorList.fnArray.length),($t=this.stepper)==null||$t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?jr(this,_f,window.requestAnimationFrame(()=>{jr(this,_f,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),ar(Tm,Cx).delete(this._canvas),this.callback())))}};_f=new WeakMap,Cx=new WeakMap,yr(Tm,Cx,new WeakSet);let InternalRenderTask=Tm;const version="5.4.296",build="f56dc8601";var yl,Ax,jy,$a,cE,wy,lp,dE,em,ru,uE,hE,y$,pE,v$,fE,E$,cp,Sm,GR,XS,Ru,wp;const Oo=class Oo{constructor({editor:et=null,uiManager:$t=null}){yr(this,hE);yr(this,pE);yr(this,fE);yr(this,cp);yr(this,GR);yr(this,Ru);yr(this,yl,null);yr(this,Ax,null);yr(this,jy,void 0);yr(this,$a,null);yr(this,cE,!1);yr(this,wy,!1);yr(this,lp,null);yr(this,dE,void 0);yr(this,em,null);yr(this,ru,null);var kt,Tt;et?(jr(this,wy,!1),jr(this,lp,et)):jr(this,wy,!0),jr(this,ru,(et==null?void 0:et._uiManager)||$t),jr(this,dE,ar(this,ru)._eventBus),jr(this,jy,((kt=et==null?void 0:et.color)==null?void 0:kt.toUpperCase())||((Tt=ar(this,ru))==null?void 0:Tt.highlightColors.values().next().value)||"#FFFF98"),ar(Oo,uE)||jr(Oo,uE,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return shadow(this,"_keyboardManager",new KeyboardManager([[["Escape","mac+Escape"],Oo.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Oo.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Oo.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Oo.prototype._moveToPrevious],[["Home","mac+Home"],Oo.prototype._moveToBeginning],[["End","mac+End"],Oo.prototype._moveToEnd]]))}renderButton(){const et=jr(this,yl,document.createElement("button"));et.className="colorPicker",et.tabIndex="0",et.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),et.ariaHasPopup="true",ar(this,lp)&&(et.ariaControls=`${ar(this,lp).id}_colorpicker_dropdown`);const $t=ar(this,ru)._signal;et.addEventListener("click",Br(this,cp,Sm).bind(this),{signal:$t}),et.addEventListener("keydown",Br(this,fE,E$).bind(this),{signal:$t});const kt=jr(this,Ax,document.createElement("span"));return kt.className="swatch",kt.ariaHidden="true",kt.style.backgroundColor=ar(this,jy),et.append(kt),et}renderMainDropdown(){const et=jr(this,$a,Br(this,hE,y$).call(this));return et.ariaOrientation="horizontal",et.ariaLabelledBy="highlightColorPickerLabel",et}_colorSelectFromKeyboard(et){if(et.target===ar(this,yl)){Br(this,cp,Sm).call(this,et);return}const $t=et.target.getAttribute("data-color");$t&&Br(this,pE,v$).call(this,$t,et)}_moveToNext(et){var $t,kt;if(!ar(this,Ru,wp)){Br(this,cp,Sm).call(this,et);return}if(et.target===ar(this,yl)){($t=ar(this,$a).firstChild)==null||$t.focus();return}(kt=et.target.nextSibling)==null||kt.focus()}_moveToPrevious(et){var $t,kt;if(et.target===(($t=ar(this,$a))==null?void 0:$t.firstChild)||et.target===ar(this,yl)){ar(this,Ru,wp)&&this._hideDropdownFromKeyboard();return}ar(this,Ru,wp)||Br(this,cp,Sm).call(this,et),(kt=et.target.previousSibling)==null||kt.focus()}_moveToBeginning(et){var $t;if(!ar(this,Ru,wp)){Br(this,cp,Sm).call(this,et);return}($t=ar(this,$a).firstChild)==null||$t.focus()}_moveToEnd(et){var $t;if(!ar(this,Ru,wp)){Br(this,cp,Sm).call(this,et);return}($t=ar(this,$a).lastChild)==null||$t.focus()}hideDropdown(){var et,$t;(et=ar(this,$a))==null||et.classList.add("hidden"),ar(this,yl).ariaExpanded="false",($t=ar(this,em))==null||$t.abort(),jr(this,em,null)}_hideDropdownFromKeyboard(){var et;if(!ar(this,wy)){if(!ar(this,Ru,wp)){(et=ar(this,lp))==null||et.unselect();return}this.hideDropdown(),ar(this,yl).focus({preventScroll:!0,focusVisible:ar(this,cE)})}}updateColor(et){if(ar(this,Ax)&&(ar(this,Ax).style.backgroundColor=et),!ar(this,$a))return;const $t=ar(this,ru).highlightColors.values();for(const kt of ar(this,$a).children)kt.ariaSelected=$t.next().value===et.toUpperCase()}destroy(){var et,$t;(et=ar(this,yl))==null||et.remove(),jr(this,yl,null),jr(this,Ax,null),($t=ar(this,$a))==null||$t.remove(),jr(this,$a,null)}};yl=new WeakMap,Ax=new WeakMap,jy=new WeakMap,$a=new WeakMap,cE=new WeakMap,wy=new WeakMap,lp=new WeakMap,dE=new WeakMap,em=new WeakMap,ru=new WeakMap,uE=new WeakMap,hE=new WeakSet,y$=function(){const et=document.createElement("div"),$t=ar(this,ru)._signal;et.addEventListener("contextmenu",noContextMenu,{signal:$t}),et.className="dropdown",et.role="listbox",et.ariaMultiSelectable="false",et.ariaOrientation="vertical",et.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),ar(this,lp)&&(et.id=`${ar(this,lp).id}_colorpicker_dropdown`);for(const[kt,Tt]of ar(this,ru).highlightColors){const Dt=document.createElement("button");Dt.tabIndex="0",Dt.role="option",Dt.setAttribute("data-color",Tt),Dt.title=kt,Dt.setAttribute("data-l10n-id",ar(Oo,uE)[kt]);const Ft=document.createElement("span");Dt.append(Ft),Ft.className="swatch",Ft.style.backgroundColor=Tt,Dt.ariaSelected=Tt===ar(this,jy),Dt.addEventListener("click",Br(this,pE,v$).bind(this,Tt),{signal:$t}),et.append(Dt)}return et.addEventListener("keydown",Br(this,fE,E$).bind(this),{signal:$t}),et},pE=new WeakSet,v$=function(et,$t){$t.stopPropagation(),ar(this,dE).dispatch("switchannotationeditorparams",{source:this,type:AnnotationEditorParamsType.HIGHLIGHT_COLOR,value:et}),this.updateColor(et)},fE=new WeakSet,E$=function(et){Oo._keyboardManager.exec(this,et)},cp=new WeakSet,Sm=function(et){if(ar(this,Ru,wp)){this.hideDropdown();return}if(jr(this,cE,et.detail===0),ar(this,em)||(jr(this,em,new AbortController),window.addEventListener("pointerdown",Br(this,GR,XS).bind(this),{signal:ar(this,ru).combinedSignal(ar(this,em))})),ar(this,yl).ariaExpanded="true",ar(this,$a)){ar(this,$a).classList.remove("hidden");return}const $t=jr(this,$a,Br(this,hE,y$).call(this));ar(this,yl).append($t)},GR=new WeakSet,XS=function(et){var $t;($t=ar(this,$a))!=null&&$t.contains(et.target)||this.hideDropdown()},Ru=new WeakSet,wp=function(){return ar(this,$a)&&!ar(this,$a).classList.contains("hidden")},yr(Oo,uE,null);let ColorPicker=Oo;var $u,mE,Ry,xE;const Nm=class Nm{constructor(et){yr(this,$u,null);yr(this,mE,null);yr(this,Ry,null);jr(this,mE,et),jr(this,Ry,et._uiManager),ar(Nm,xE)||jr(Nm,xE,Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(ar(this,$u))return ar(this,$u);const{editorType:et,colorType:$t,colorValue:kt}=ar(this,mE),Tt=jr(this,$u,document.createElement("input"));return Tt.type="color",Tt.value=kt||"#000000",Tt.className="basicColorPicker",Tt.tabIndex=0,Tt.setAttribute("data-l10n-id",ar(Nm,xE)[et]),Tt.addEventListener("input",()=>{ar(this,Ry).updateParams($t,Tt.value)},{signal:ar(this,Ry)._signal}),Tt}update(et){ar(this,$u)&&(ar(this,$u).value=et)}destroy(){var et;(et=ar(this,$u))==null||et.remove(),jr(this,$u,null)}hideDropdown(){}};$u=new WeakMap,mE=new WeakMap,Ry=new WeakMap,xE=new WeakMap,yr(Nm,xE,null);let BasicColorPicker=Nm;function makeColorComp(dt){return Math.floor(Math.max(0,Math.min(1,dt))*255).toString(16).padStart(2,"0")}function scaleAndClamp(dt){return Math.max(0,Math.min(255,255*dt))}class ColorConverters{static CMYK_G([et,$t,kt,Tt]){return["G",1-Math.min(1,.3*et+.59*kt+.11*$t+Tt)]}static G_CMYK([et]){return["CMYK",0,0,0,1-et]}static G_RGB([et]){return["RGB",et,et,et]}static G_rgb([et]){return et=scaleAndClamp(et),[et,et,et]}static G_HTML([et]){const $t=makeColorComp(et);return`#${$t}${$t}${$t}`}static RGB_G([et,$t,kt]){return["G",.3*et+.59*$t+.11*kt]}static RGB_rgb(et){return et.map(scaleAndClamp)}static RGB_HTML(et){return`#${et.map(makeColorComp).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([et,$t,kt,Tt]){return["RGB",1-Math.min(1,et+Tt),1-Math.min(1,kt+Tt),1-Math.min(1,$t+Tt)]}static CMYK_rgb([et,$t,kt,Tt]){return[scaleAndClamp(1-Math.min(1,et+Tt)),scaleAndClamp(1-Math.min(1,kt+Tt)),scaleAndClamp(1-Math.min(1,$t+Tt))]}static CMYK_HTML(et){const $t=this.CMYK_RGB(et).slice(1);return this.RGB_HTML($t)}static RGB_CMYK([et,$t,kt]){const Tt=1-et,Dt=1-$t,Ft=1-kt,Ut=Math.min(Tt,Dt,Ft);return["CMYK",Tt,Dt,Ft,Ut]}}class BaseSVGFactory{create(et,$t,kt=!1){if(et<=0||$t<=0)throw new Error("Invalid SVG dimensions");const Tt=this._createSVG("svg:svg");return Tt.setAttribute("version","1.1"),kt||(Tt.setAttribute("width",`${et}px`),Tt.setAttribute("height",`${$t}px`)),Tt.setAttribute("preserveAspectRatio","none"),Tt.setAttribute("viewBox",`0 0 ${et} ${$t}`),Tt}createElement(et){if(typeof et!="string")throw new Error("Invalid SVG element type");return this._createSVG(et)}_createSVG(et){unreachable("Abstract method `_createSVG` called.")}}class DOMSVGFactory extends BaseSVGFactory{_createSVG(et){return document.createElementNS(SVG_NS,et)}}const annotation_layer_DEFAULT_FONT_SIZE=9,GetElementsByNameSet=new WeakSet,TIMEZONE_OFFSET=new Date().getTimezoneOffset()*60*1e3;class AnnotationElementFactory{static create(et){switch(et.data.annotationType){case AnnotationType.LINK:return new LinkAnnotationElement(et);case AnnotationType.TEXT:return new TextAnnotationElement(et);case AnnotationType.WIDGET:switch(et.data.fieldType){case"Tx":return new TextWidgetAnnotationElement(et);case"Btn":return et.data.radioButton?new RadioButtonWidgetAnnotationElement(et):et.data.checkBox?new CheckboxWidgetAnnotationElement(et):new PushButtonWidgetAnnotationElement(et);case"Ch":return new ChoiceWidgetAnnotationElement(et);case"Sig":return new SignatureWidgetAnnotationElement(et)}return new WidgetAnnotationElement(et);case AnnotationType.POPUP:return new PopupAnnotationElement(et);case AnnotationType.FREETEXT:return new FreeTextAnnotationElement(et);case AnnotationType.LINE:return new LineAnnotationElement(et);case AnnotationType.SQUARE:return new SquareAnnotationElement(et);case AnnotationType.CIRCLE:return new CircleAnnotationElement(et);case AnnotationType.POLYLINE:return new PolylineAnnotationElement(et);case AnnotationType.CARET:return new CaretAnnotationElement(et);case AnnotationType.INK:return new InkAnnotationElement(et);case AnnotationType.POLYGON:return new PolygonAnnotationElement(et);case AnnotationType.HIGHLIGHT:return new HighlightAnnotationElement(et);case AnnotationType.UNDERLINE:return new UnderlineAnnotationElement(et);case AnnotationType.SQUIGGLY:return new SquigglyAnnotationElement(et);case AnnotationType.STRIKEOUT:return new StrikeOutAnnotationElement(et);case AnnotationType.STAMP:return new StampAnnotationElement(et);case AnnotationType.FILEATTACHMENT:return new FileAttachmentAnnotationElement(et);default:return new AnnotationElement(et)}}}var Tx,$y,Ul,gE,j$;const _k=class _k{constructor(et,{isRenderable:$t=!1,ignoreBorder:kt=!1,createQuadrilaterals:Tt=!1}={}){yr(this,gE);yr(this,Tx,null);yr(this,$y,!1);yr(this,Ul,null);this.isRenderable=$t,this.data=et.data,this.layer=et.layer,this.linkService=et.linkService,this.downloadManager=et.downloadManager,this.imageResourcesPath=et.imageResourcesPath,this.renderForms=et.renderForms,this.svgFactory=et.svgFactory,this.annotationStorage=et.annotationStorage,this.enableComment=et.enableComment,this.enableScripting=et.enableScripting,this.hasJSActions=et.hasJSActions,this._fieldObjects=et.fieldObjects,this.parent=et.parent,$t&&(this.container=this._createContainer(kt)),Tt&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:et,richText:$t}){return!!(et!=null&&et.str||$t!=null&&$t.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return _k._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){var kt;const{data:et}=this,$t=(kt=this.annotationStorage)==null?void 0:kt.getEditor(et.id);return $t?$t.getData():et}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){var Ut;const et=(Ut=this.annotationStorage)==null?void 0:Ut.getEditor(this.data.id);if(et)return et.commentButtonPositionInPage;const{quadPoints:$t,inkLists:kt,rect:Tt}=this.data;let Dt=-1/0,Ft=-1/0;if(($t==null?void 0:$t.length)>=8){for(let Ht=0;Ht<$t.length;Ht+=8)$t[Ht+1]>Ft?(Ft=$t[Ht+1],Dt=$t[Ht+2]):$t[Ht+1]===Ft&&(Dt=Math.max(Dt,$t[Ht+2]));return[Dt,Ft]}if((kt==null?void 0:kt.length)>=1){for(const Ht of kt)for(let Kt=0,Yt=Ht.length;Kt<Yt;Kt+=2)Ht[Kt+1]>Ft?(Ft=Ht[Kt+1],Dt=Ht[Kt]):Ht[Kt+1]===Ft&&(Dt=Math.max(Dt,Ht[Kt]));if(Dt!==1/0)return[Dt,Ft]}return Tt?[Tt[2],Tt[3]]:null}_normalizePoint(et){const{page:{view:$t},viewport:{rawDims:{pageWidth:kt,pageHeight:Tt,pageX:Dt,pageY:Ft}}}=this.parent;return et[1]=$t[3]-et[1]+$t[1],et[0]=100*(et[0]-Dt)/kt,et[1]=100*(et[1]-Ft)/Tt,et}get commentText(){var $t,kt,Tt;const{data:et}=this;return((kt=($t=this.annotationStorage.getRawValue(`${AnnotationEditorPrefix}${et.id}`))==null?void 0:$t.popup)==null?void 0:kt.contents)||((Tt=et.contentsObj)==null?void 0:Tt.str)||""}set commentText(et){const{data:$t}=this,kt={deleted:!et,contents:et||""};this.annotationStorage.updateEditor($t.id,{popup:kt})||this.annotationStorage.setValue(`${AnnotationEditorPrefix}${$t.id}`,{id:$t.id,annotationType:$t.annotationType,pageIndex:this.parent.page._pageIndex,popup:kt,popupRef:$t.popupRef,modificationDate:new Date}),et||this.removePopup()}removePopup(){var et,$t;($t=((et=ar(this,Ul))==null?void 0:et.popup)||this.popup)==null||$t.remove(),jr(this,Ul,this.popup=null)}updateEdited(et){var Dt;if(!this.container)return;et.rect&&(ar(this,Tx)||jr(this,Tx,{rect:this.data.rect.slice(0)}));const{rect:$t,popup:kt}=et;$t&&Br(this,gE,j$).call(this,$t);let Tt=((Dt=ar(this,Ul))==null?void 0:Dt.popup)||this.popup;!Tt&&(kt!=null&&kt.text)&&(this._createPopup(kt),Tt=ar(this,Ul).popup),Tt&&(Tt.updateEdited(et),kt!=null&&kt.deleted&&(Tt.remove(),jr(this,Ul,null),this.popup=null))}resetEdited(){var et;ar(this,Tx)&&(Br(this,gE,j$).call(this,ar(this,Tx).rect),(et=ar(this,Ul))==null||et.popup.resetEdited(),jr(this,Tx,null))}_createContainer(et){const{data:$t,parent:{page:kt,viewport:Tt}}=this,Dt=document.createElement("section");Dt.setAttribute("data-annotation-id",$t.id),!(this instanceof WidgetAnnotationElement)&&!(this instanceof LinkAnnotationElement)&&(Dt.tabIndex=0);const{style:Ft}=Dt;if(Ft.zIndex=this.parent.zIndex,this.parent.zIndex+=2,$t.alternativeText&&(Dt.title=$t.alternativeText),$t.noRotate&&Dt.classList.add("norotate"),!$t.rect||this instanceof PopupAnnotationElement){const{rotation:sr}=$t;return!$t.hasOwnCanvas&&sr!==0&&this.setRotation(sr,Dt),Dt}const{width:Ut,height:Ht}=this;if(!et&&$t.borderStyle.width>0){Ft.borderWidth=`${$t.borderStyle.width}px`;const sr=$t.borderStyle.horizontalCornerRadius,ir=$t.borderStyle.verticalCornerRadius;if(sr>0||ir>0){const or=`calc(${sr}px * var(--total-scale-factor)) / calc(${ir}px * var(--total-scale-factor))`;Ft.borderRadius=or}else if(this instanceof RadioButtonWidgetAnnotationElement){const or=`calc(${Ut}px * var(--total-scale-factor)) / calc(${Ht}px * var(--total-scale-factor))`;Ft.borderRadius=or}switch($t.borderStyle.style){case AnnotationBorderStyleType.SOLID:Ft.borderStyle="solid";break;case AnnotationBorderStyleType.DASHED:Ft.borderStyle="dashed";break;case AnnotationBorderStyleType.BEVELED:warn("Unimplemented border style: beveled");break;case AnnotationBorderStyleType.INSET:warn("Unimplemented border style: inset");break;case AnnotationBorderStyleType.UNDERLINE:Ft.borderBottomStyle="solid";break}const nr=$t.borderColor||null;nr?(jr(this,$y,!0),Ft.borderColor=Util.makeHexColor(nr[0]|0,nr[1]|0,nr[2]|0)):Ft.borderWidth=0}const Kt=Util.normalizeRect([$t.rect[0],kt.view[3]-$t.rect[1]+kt.view[1],$t.rect[2],kt.view[3]-$t.rect[3]+kt.view[1]]),{pageWidth:Yt,pageHeight:Jt,pageX:Zt,pageY:er}=Tt.rawDims;Ft.left=`${100*(Kt[0]-Zt)/Yt}%`,Ft.top=`${100*(Kt[1]-er)/Jt}%`;const{rotation:rr}=$t;return $t.hasOwnCanvas||rr===0?(Ft.width=`${100*Ut/Yt}%`,Ft.height=`${100*Ht/Jt}%`):this.setRotation(rr,Dt),Dt}setRotation(et,$t=this.container){if(!this.data.rect)return;const{pageWidth:kt,pageHeight:Tt}=this.parent.viewport.rawDims;let{width:Dt,height:Ft}=this;et%180!==0&&([Dt,Ft]=[Ft,Dt]),$t.style.width=`${100*Dt/kt}%`,$t.style.height=`${100*Ft/Tt}%`,$t.setAttribute("data-main-rotation",(360-et)%360)}get _commonActions(){const et=($t,kt,Tt)=>{const Dt=Tt.detail[$t],Ft=Dt[0],Ut=Dt.slice(1);Tt.target.style[kt]=ColorConverters[`${Ft}_HTML`](Ut),this.annotationStorage.setValue(this.data.id,{[kt]:ColorConverters[`${Ft}_rgb`](Ut)})};return shadow(this,"_commonActions",{display:$t=>{const{display:kt}=$t.detail,Tt=kt%2===1;this.container.style.visibility=Tt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:Tt,noPrint:kt===1||kt===2})},print:$t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!$t.detail.print})},hidden:$t=>{const{hidden:kt}=$t.detail;this.container.style.visibility=kt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:kt,noView:kt})},focus:$t=>{setTimeout(()=>$t.target.focus({preventScroll:!1}),0)},userName:$t=>{$t.target.title=$t.detail.userName},readonly:$t=>{$t.target.disabled=$t.detail.readonly},required:$t=>{this._setRequired($t.target,$t.detail.required)},bgColor:$t=>{et("bgColor","backgroundColor",$t)},fillColor:$t=>{et("fillColor","backgroundColor",$t)},fgColor:$t=>{et("fgColor","color",$t)},textColor:$t=>{et("textColor","color",$t)},borderColor:$t=>{et("borderColor","borderColor",$t)},strokeColor:$t=>{et("strokeColor","borderColor",$t)},rotation:$t=>{const kt=$t.detail.rotation;this.setRotation(kt),this.annotationStorage.setValue(this.data.id,{rotation:kt})}})}_dispatchEventFromSandbox(et,$t){const kt=this._commonActions;for(const Tt of Object.keys($t.detail)){const Dt=et[Tt]||kt[Tt];Dt==null||Dt($t)}}_setDefaultPropertiesFromJS(et){if(!this.enableScripting)return;const $t=this.annotationStorage.getRawValue(this.data.id);if(!$t)return;const kt=this._commonActions;for(const[Tt,Dt]of Object.entries($t)){const Ft=kt[Tt];if(Ft){const Ut={detail:{[Tt]:Dt},target:et};Ft(Ut),delete $t[Tt]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:et}=this.data;if(!et)return;const[$t,kt,Tt,Dt]=this.data.rect.map(sr=>Math.fround(sr));if(et.length===8){const[sr,ir,nr,or]=et.subarray(2,6);if(Tt===sr&&Dt===ir&&$t===nr&&kt===or)return}const{style:Ft}=this.container;let Ut;if(ar(this,$y)){const{borderColor:sr,borderWidth:ir}=Ft;Ft.borderWidth=0,Ut=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${sr}" stroke-width="${ir}">`],this.container.classList.add("hasBorder")}const Ht=Tt-$t,Kt=Dt-kt,{svgFactory:Yt}=this,Jt=Yt.createElement("svg");Jt.classList.add("quadrilateralsContainer"),Jt.setAttribute("width",0),Jt.setAttribute("height",0),Jt.role="none";const Zt=Yt.createElement("defs");Jt.append(Zt);const er=Yt.createElement("clipPath"),rr=`clippath_${this.data.id}`;er.setAttribute("id",rr),er.setAttribute("clipPathUnits","objectBoundingBox"),Zt.append(er);for(let sr=2,ir=et.length;sr<ir;sr+=8){const nr=et[sr],or=et[sr+1],lr=et[sr+2],cr=et[sr+3],dr=Yt.createElement("rect"),ur=(lr-$t)/Ht,pr=(Dt-or)/Kt,mr=(nr-lr)/Ht,vr=(or-cr)/Kt;dr.setAttribute("x",ur),dr.setAttribute("y",pr),dr.setAttribute("width",mr),dr.setAttribute("height",vr),er.append(dr),Ut==null||Ut.push(`<rect vector-effect="non-scaling-stroke" x="${ur}" y="${pr}" width="${mr}" height="${vr}"/>`)}ar(this,$y)&&(Ut.push("</g></svg>')"),Ft.backgroundImage=Ut.join("")),this.container.append(Jt),this.container.style.clipPath=`url(#${rr})`}_createPopup(et=null){const{data:$t}=this;let kt,Tt;et?(kt={str:et.text},Tt=et.date):(kt=$t.contentsObj,Tt=$t.modificationDate);const Dt=jr(this,Ul,new PopupAnnotationElement({data:{color:$t.color,titleObj:$t.titleObj,modificationDate:Tt,contentsObj:kt,richText:$t.richText,parentRect:$t.rect,borderStyle:0,id:`popup_${$t.id}`,rotation:$t.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}));this.parent._commentManager||this.parent.div.append(Dt.render())}get hasPopupElement(){return!!(ar(this,Ul)||this.popup||this.data.popupRef)}get extraPopupElement(){return ar(this,Ul)}render(){unreachable("Abstract method `AnnotationElement.render` called")}_getElementsByName(et,$t=null){const kt=[];if(this._fieldObjects){const Tt=this._fieldObjects[et];if(Tt)for(const{page:Dt,id:Ft,exportValues:Ut}of Tt){if(Dt===-1||Ft===$t)continue;const Ht=typeof Ut=="string"?Ut:null,Kt=document.querySelector(`[data-element-id="${Ft}"]`);if(Kt&&!GetElementsByNameSet.has(Kt)){warn(`_getElementsByName - element not allowed: ${Ft}`);continue}kt.push({id:Ft,exportValue:Ht,domElement:Kt})}return kt}for(const Tt of document.getElementsByName(et)){const{exportValue:Dt}=Tt,Ft=Tt.getAttribute("data-element-id");Ft!==$t&&GetElementsByNameSet.has(Tt)&&kt.push({id:Ft,exportValue:Dt,domElement:Tt})}return kt}show(){var et;this.container&&(this.container.hidden=!1),(et=this.popup)==null||et.maybeShow()}hide(){var et;this.container&&(this.container.hidden=!0),(et=this.popup)==null||et.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const et=this.getElementsToTriggerPopup();if(Array.isArray(et))for(const $t of et)$t.classList.add("highlightArea");else et.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:et,data:{id:$t}}=this;this.container.addEventListener("dblclick",()=>{var kt;(kt=this.linkService.eventBus)==null||kt.dispatch("switchannotationeditormode",{source:this,mode:et,editId:$t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};Tx=new WeakMap,$y=new WeakMap,Ul=new WeakMap,gE=new WeakSet,j$=function(et){const{container:{style:$t},data:{rect:kt,rotation:Tt},parent:{viewport:{rawDims:{pageWidth:Dt,pageHeight:Ft,pageX:Ut,pageY:Ht}}}}=this;kt==null||kt.splice(0,4,...et),$t.left=`${100*(et[0]-Ut)/Dt}%`,$t.top=`${100*(Ft-et[3]+Ht)/Ft}%`,Tt===0?($t.width=`${100*(et[2]-et[0])/Dt}%`,$t.height=`${100*(et[3]-et[1])/Ft}%`):this.setRotation(Tt)};let AnnotationElement=_k;class EditorAnnotationElement extends AnnotationElement{constructor(et){super(et,{isRenderable:!0,ignoreBorder:!0}),this.editor=et.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:et}=this;et.hasComment&&(this._createPopup(et.comment),this.extraPopupElement.popup.renderCommentButton())}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(et){this.editor.comment=et,et||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.container.remove(),this.container=null,this.removePopup()}}var dp,_m,WR,QS,qR,JS;class LinkAnnotationElement extends AnnotationElement{constructor($t,kt=null){super($t,{isRenderable:!0,ignoreBorder:!!(kt!=null&&kt.ignoreBorder),createQuadrilaterals:!0});yr(this,dp);yr(this,WR);yr(this,qR);this.isTooltipOnly=$t.data.isTooltipOnly}render(){const{data:$t,linkService:kt}=this,Tt=document.createElement("a");Tt.setAttribute("data-element-id",$t.id);let Dt=!1;return $t.url?(kt.addLinkAttributes(Tt,$t.url,$t.newWindow),Dt=!0):$t.action?(this._bindNamedAction(Tt,$t.action,$t.overlaidText),Dt=!0):$t.attachment?(Br(this,WR,QS).call(this,Tt,$t.attachment,$t.overlaidText,$t.attachmentDest),Dt=!0):$t.setOCGState?(Br(this,qR,JS).call(this,Tt,$t.setOCGState,$t.overlaidText),Dt=!0):$t.dest?(this._bindLink(Tt,$t.dest,$t.overlaidText),Dt=!0):($t.actions&&($t.actions.Action||$t.actions["Mouse Up"]||$t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(Tt,$t),Dt=!0),$t.resetForm?(this._bindResetFormAction(Tt,$t.resetForm),Dt=!0):this.isTooltipOnly&&!Dt&&(this._bindLink(Tt,""),Dt=!0)),this.container.classList.add("linkAnnotation"),Dt&&this.container.append(Tt),this.container}_bindLink($t,kt,Tt=""){$t.href=this.linkService.getDestinationHash(kt),$t.onclick=()=>(kt&&this.linkService.goToDestination(kt),!1),(kt||kt==="")&&Br(this,dp,_m).call(this),Tt&&($t.title=Tt)}_bindNamedAction($t,kt,Tt=""){$t.href=this.linkService.getAnchorUrl(""),$t.onclick=()=>(this.linkService.executeNamedAction(kt),!1),Tt&&($t.title=Tt),Br(this,dp,_m).call(this)}_bindJSAction($t,kt){$t.href=this.linkService.getAnchorUrl("");const Tt=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const Dt of Object.keys(kt.actions)){const Ft=Tt.get(Dt);Ft&&($t[Ft]=()=>{var Ut;return(Ut=this.linkService.eventBus)==null||Ut.dispatch("dispatcheventinsandbox",{source:this,detail:{id:kt.id,name:Dt}}),!1})}kt.overlaidText&&($t.title=kt.overlaidText),$t.onclick||($t.onclick=()=>!1),Br(this,dp,_m).call(this)}_bindResetFormAction($t,kt){const Tt=$t.onclick;if(Tt||($t.href=this.linkService.getAnchorUrl("")),Br(this,dp,_m).call(this),!this._fieldObjects){warn('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),Tt||($t.onclick=()=>!1);return}$t.onclick=()=>{var Jt;Tt==null||Tt();const{fields:Dt,refs:Ft,include:Ut}=kt,Ht=[];if(Dt.length!==0||Ft.length!==0){const Zt=new Set(Ft);for(const er of Dt){const rr=this._fieldObjects[er]||[];for(const{id:sr}of rr)Zt.add(sr)}for(const er of Object.values(this._fieldObjects))for(const rr of er)Zt.has(rr.id)===Ut&&Ht.push(rr)}else for(const Zt of Object.values(this._fieldObjects))Ht.push(...Zt);const Kt=this.annotationStorage,Yt=[];for(const Zt of Ht){const{id:er}=Zt;switch(Yt.push(er),Zt.type){case"text":{const sr=Zt.defaultValue||"";Kt.setValue(er,{value:sr});break}case"checkbox":case"radiobutton":{const sr=Zt.defaultValue===Zt.exportValues;Kt.setValue(er,{value:sr});break}case"combobox":case"listbox":{const sr=Zt.defaultValue||"";Kt.setValue(er,{value:sr});break}default:continue}const rr=document.querySelector(`[data-element-id="${er}"]`);if(rr){if(!GetElementsByNameSet.has(rr)){warn(`_bindResetFormAction - element not allowed: ${er}`);continue}}else continue;rr.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Jt=this.linkService.eventBus)==null||Jt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Yt,name:"ResetForm"}})),!1}}}dp=new WeakSet,_m=function(){this.container.setAttribute("data-internal-link","")},WR=new WeakSet,QS=function($t,kt,Tt="",Dt=null){$t.href=this.linkService.getAnchorUrl(""),kt.description?$t.title=kt.description:Tt&&($t.title=Tt),$t.onclick=()=>{var Ft;return(Ft=this.downloadManager)==null||Ft.openOrDownloadData(kt.content,kt.filename,Dt),!1},Br(this,dp,_m).call(this)},qR=new WeakSet,JS=function($t,kt,Tt=""){$t.href=this.linkService.getAnchorUrl(""),$t.onclick=()=>(this.linkService.executeSetOCGState(kt),!1),Tt&&($t.title=Tt),Br(this,dp,_m).call(this)};class TextAnnotationElement extends AnnotationElement{constructor(et){super(et,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const et=document.createElement("img");return et.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",et.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),et.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(et),this.container}}class WidgetAnnotationElement extends AnnotationElement{render(){return this.container}showElementAndHideCanvas(et){var $t;this.data.hasOwnCanvas&&((($t=et.previousSibling)==null?void 0:$t.nodeName)==="CANVAS"&&(et.previousSibling.hidden=!0),et.hidden=!1)}_getKeyModifier(et){return util_FeatureTest.platform.isMac?et.metaKey:et.ctrlKey}_setEventListener(et,$t,kt,Tt,Dt){kt.includes("mouse")?et.addEventListener(kt,Ft=>{var Ut;(Ut=this.linkService.eventBus)==null||Ut.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Tt,value:Dt(Ft),shift:Ft.shiftKey,modifier:this._getKeyModifier(Ft)}})}):et.addEventListener(kt,Ft=>{var Ut;if(kt==="blur"){if(!$t.focused||!Ft.relatedTarget)return;$t.focused=!1}else if(kt==="focus"){if($t.focused)return;$t.focused=!0}Dt&&((Ut=this.linkService.eventBus)==null||Ut.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Tt,value:Dt(Ft)}}))})}_setEventListeners(et,$t,kt,Tt){var Dt,Ft,Ut;for(const[Ht,Kt]of kt)(Kt==="Action"||(Dt=this.data.actions)!=null&&Dt[Kt])&&((Kt==="Focus"||Kt==="Blur")&&($t||($t={focused:!1})),this._setEventListener(et,$t,Ht,Kt,Tt),Kt==="Focus"&&!((Ft=this.data.actions)!=null&&Ft.Blur)?this._setEventListener(et,$t,"blur","Blur",null):Kt==="Blur"&&!((Ut=this.data.actions)!=null&&Ut.Focus)&&this._setEventListener(et,$t,"focus","Focus",null))}_setBackgroundColor(et){const $t=this.data.backgroundColor||null;et.style.backgroundColor=$t===null?"transparent":Util.makeHexColor($t[0],$t[1],$t[2])}_setTextStyle(et){const $t=["left","center","right"],{fontColor:kt}=this.data.defaultAppearanceData,Tt=this.data.defaultAppearanceData.fontSize||annotation_layer_DEFAULT_FONT_SIZE,Dt=et.style;let Ft;const Ut=2,Ht=Kt=>Math.round(10*Kt)/10;if(this.data.multiLine){const Kt=Math.abs(this.data.rect[3]-this.data.rect[1]-Ut),Yt=Math.round(Kt/(LINE_FACTOR*Tt))||1,Jt=Kt/Yt;Ft=Math.min(Tt,Ht(Jt/LINE_FACTOR))}else{const Kt=Math.abs(this.data.rect[3]-this.data.rect[1]-Ut);Ft=Math.min(Tt,Ht(Kt/LINE_FACTOR))}Dt.fontSize=`calc(${Ft}px * var(--total-scale-factor))`,Dt.color=Util.makeHexColor(kt[0],kt[1],kt[2]),this.data.textAlignment!==null&&(Dt.textAlign=$t[this.data.textAlignment])}_setRequired(et,$t){$t?et.setAttribute("required",!0):et.removeAttribute("required"),et.setAttribute("aria-required",$t)}}class TextWidgetAnnotationElement extends WidgetAnnotationElement{constructor(et){const $t=et.renderForms||et.data.hasOwnCanvas||!et.data.hasAppearance&&!!et.data.fieldValue;super(et,{isRenderable:$t})}setPropertyOnSiblings(et,$t,kt,Tt){const Dt=this.annotationStorage;for(const Ft of this._getElementsByName(et.name,et.id))Ft.domElement&&(Ft.domElement[$t]=kt),Dt.setValue(Ft.id,{[Tt]:kt})}render(){var Tt,Dt;const et=this.annotationStorage,$t=this.data.id;this.container.classList.add("textWidgetAnnotation");let kt=null;if(this.renderForms){const Ft=et.getValue($t,{value:this.data.fieldValue});let Ut=Ft.value||"";const Ht=et.getValue($t,{charLimit:this.data.maxLen}).charLimit;Ht&&Ut.length>Ht&&(Ut=Ut.slice(0,Ht));let Kt=Ft.formattedValue||((Tt=this.data.textContent)==null?void 0:Tt.join(`
`))||null;Kt&&this.data.comb&&(Kt=Kt.replaceAll(/\s+/g,""));const Yt={userValue:Ut,formattedValue:Kt,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(kt=document.createElement("textarea"),kt.textContent=Kt??Ut,this.data.doNotScroll&&(kt.style.overflowY="hidden")):(kt=document.createElement("input"),kt.type=this.data.password?"password":"text",kt.setAttribute("value",Kt??Ut),this.data.doNotScroll&&(kt.style.overflowX="hidden")),this.data.hasOwnCanvas&&(kt.hidden=!0),GetElementsByNameSet.add(kt),kt.setAttribute("data-element-id",$t),kt.disabled=this.data.readOnly,kt.name=this.data.fieldName,kt.tabIndex=0;const{datetimeFormat:Jt,datetimeType:Zt,timeStep:er}=this.data,rr=!!Zt&&this.enableScripting;Jt&&(kt.title=Jt),this._setRequired(kt,this.data.required),Ht&&(kt.maxLength=Ht),kt.addEventListener("input",ir=>{et.setValue($t,{value:ir.target.value}),this.setPropertyOnSiblings(kt,"value",ir.target.value,"value"),Yt.formattedValue=null}),kt.addEventListener("resetform",ir=>{const nr=this.data.defaultFieldValue??"";kt.value=Yt.userValue=nr,Yt.formattedValue=null});let sr=ir=>{const{formattedValue:nr}=Yt;nr!=null&&(ir.target.value=nr),ir.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){kt.addEventListener("focus",nr=>{var lr;if(Yt.focused)return;const{target:or}=nr;if(rr&&(or.type=Zt,er&&(or.step=er)),Yt.userValue){const cr=Yt.userValue;if(rr)if(Zt==="time"){const dr=new Date(cr),ur=[dr.getHours(),dr.getMinutes(),dr.getSeconds()];or.value=ur.map(pr=>pr.toString().padStart(2,"0")).join(":")}else or.value=new Date(cr-TIMEZONE_OFFSET).toISOString().split(Zt==="date"?"T":".",1)[0];else or.value=cr}Yt.lastCommittedValue=or.value,Yt.commitKey=1,(lr=this.data.actions)!=null&&lr.Focus||(Yt.focused=!0)}),kt.addEventListener("updatefromsandbox",nr=>{this.showElementAndHideCanvas(nr.target);const or={value(lr){Yt.userValue=lr.detail.value??"",rr||et.setValue($t,{value:Yt.userValue.toString()}),lr.target.value=Yt.userValue},formattedValue(lr){const{formattedValue:cr}=lr.detail;Yt.formattedValue=cr,cr!=null&&lr.target!==document.activeElement&&(lr.target.value=cr);const dr={formattedValue:cr};rr&&(dr.value=cr),et.setValue($t,dr)},selRange(lr){lr.target.setSelectionRange(...lr.detail.selRange)},charLimit:lr=>{var pr;const{charLimit:cr}=lr.detail,{target:dr}=lr;if(cr===0){dr.removeAttribute("maxLength");return}dr.setAttribute("maxLength",cr);let ur=Yt.userValue;!ur||ur.length<=cr||(ur=ur.slice(0,cr),dr.value=Yt.userValue=ur,et.setValue($t,{value:ur}),(pr=this.linkService.eventBus)==null||pr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:$t,name:"Keystroke",value:ur,willCommit:!0,commitKey:1,selStart:dr.selectionStart,selEnd:dr.selectionEnd}}))}};this._dispatchEventFromSandbox(or,nr)}),kt.addEventListener("keydown",nr=>{var cr;Yt.commitKey=1;let or=-1;if(nr.key==="Escape"?or=0:nr.key==="Enter"&&!this.data.multiLine?or=2:nr.key==="Tab"&&(Yt.commitKey=3),or===-1)return;const{value:lr}=nr.target;Yt.lastCommittedValue!==lr&&(Yt.lastCommittedValue=lr,Yt.userValue=lr,(cr=this.linkService.eventBus)==null||cr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:$t,name:"Keystroke",value:lr,willCommit:!0,commitKey:or,selStart:nr.target.selectionStart,selEnd:nr.target.selectionEnd}}))});const ir=sr;sr=null,kt.addEventListener("blur",nr=>{var cr,dr;if(!Yt.focused||!nr.relatedTarget)return;(cr=this.data.actions)!=null&&cr.Blur||(Yt.focused=!1);const{target:or}=nr;let{value:lr}=or;if(rr){if(lr&&Zt==="time"){const ur=lr.split(":").map(pr=>parseInt(pr,10));lr=new Date(2e3,0,1,ur[0],ur[1],ur[2]||0).valueOf(),or.step=""}else lr.includes("T")||(lr=`${lr}T00:00`),lr=new Date(lr).valueOf();or.type="text"}Yt.userValue=lr,Yt.lastCommittedValue!==lr&&((dr=this.linkService.eventBus)==null||dr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:$t,name:"Keystroke",value:lr,willCommit:!0,commitKey:Yt.commitKey,selStart:nr.target.selectionStart,selEnd:nr.target.selectionEnd}})),ir(nr)}),(Dt=this.data.actions)!=null&&Dt.Keystroke&&kt.addEventListener("beforeinput",nr=>{var vr;Yt.lastCommittedValue=null;const{data:or,target:lr}=nr,{value:cr,selectionStart:dr,selectionEnd:ur}=lr;let pr=dr,mr=ur;switch(nr.inputType){case"deleteWordBackward":{const kr=cr.substring(0,dr).match(/\w*[^\w]*$/);kr&&(pr-=kr[0].length);break}case"deleteWordForward":{const kr=cr.substring(dr).match(/^[^\w]*\w*/);kr&&(mr+=kr[0].length);break}case"deleteContentBackward":dr===ur&&(pr-=1);break;case"deleteContentForward":dr===ur&&(mr+=1);break}nr.preventDefault(),(vr=this.linkService.eventBus)==null||vr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:$t,name:"Keystroke",value:cr,change:or||"",willCommit:!1,selStart:pr,selEnd:mr}})}),this._setEventListeners(kt,Yt,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],nr=>nr.target.value)}if(sr&&kt.addEventListener("blur",sr),this.data.comb){const nr=(this.data.rect[2]-this.data.rect[0])/Ht;kt.classList.add("comb"),kt.style.letterSpacing=`calc(${nr}px * var(--total-scale-factor) - 1ch)`}}else kt=document.createElement("div"),kt.textContent=this.data.fieldValue,kt.style.verticalAlign="middle",kt.style.display="table-cell",this.data.hasOwnCanvas&&(kt.hidden=!0);return this._setTextStyle(kt),this._setBackgroundColor(kt),this._setDefaultPropertiesFromJS(kt),this.container.append(kt),this.container}}class SignatureWidgetAnnotationElement extends WidgetAnnotationElement{constructor(et){super(et,{isRenderable:!!et.data.hasOwnCanvas})}}class CheckboxWidgetAnnotationElement extends WidgetAnnotationElement{constructor(et){super(et,{isRenderable:et.renderForms})}render(){const et=this.annotationStorage,$t=this.data,kt=$t.id;let Tt=et.getValue(kt,{value:$t.exportValue===$t.fieldValue}).value;typeof Tt=="string"&&(Tt=Tt!=="Off",et.setValue(kt,{value:Tt})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const Dt=document.createElement("input");return GetElementsByNameSet.add(Dt),Dt.setAttribute("data-element-id",kt),Dt.disabled=$t.readOnly,this._setRequired(Dt,this.data.required),Dt.type="checkbox",Dt.name=$t.fieldName,Tt&&Dt.setAttribute("checked",!0),Dt.setAttribute("exportValue",$t.exportValue),Dt.tabIndex=0,Dt.addEventListener("change",Ft=>{const{name:Ut,checked:Ht}=Ft.target;for(const Kt of this._getElementsByName(Ut,kt)){const Yt=Ht&&Kt.exportValue===$t.exportValue;Kt.domElement&&(Kt.domElement.checked=Yt),et.setValue(Kt.id,{value:Yt})}et.setValue(kt,{value:Ht})}),Dt.addEventListener("resetform",Ft=>{const Ut=$t.defaultFieldValue||"Off";Ft.target.checked=Ut===$t.exportValue}),this.enableScripting&&this.hasJSActions&&(Dt.addEventListener("updatefromsandbox",Ft=>{const Ut={value(Ht){Ht.target.checked=Ht.detail.value!=="Off",et.setValue(kt,{value:Ht.target.checked})}};this._dispatchEventFromSandbox(Ut,Ft)}),this._setEventListeners(Dt,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Ft=>Ft.target.checked)),this._setBackgroundColor(Dt),this._setDefaultPropertiesFromJS(Dt),this.container.append(Dt),this.container}}class RadioButtonWidgetAnnotationElement extends WidgetAnnotationElement{constructor(et){super(et,{isRenderable:et.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const et=this.annotationStorage,$t=this.data,kt=$t.id;let Tt=et.getValue(kt,{value:$t.fieldValue===$t.buttonValue}).value;if(typeof Tt=="string"&&(Tt=Tt!==$t.buttonValue,et.setValue(kt,{value:Tt})),Tt)for(const Ft of this._getElementsByName($t.fieldName,kt))et.setValue(Ft.id,{value:!1});const Dt=document.createElement("input");if(GetElementsByNameSet.add(Dt),Dt.setAttribute("data-element-id",kt),Dt.disabled=$t.readOnly,this._setRequired(Dt,this.data.required),Dt.type="radio",Dt.name=$t.fieldName,Tt&&Dt.setAttribute("checked",!0),Dt.tabIndex=0,Dt.addEventListener("change",Ft=>{const{name:Ut,checked:Ht}=Ft.target;for(const Kt of this._getElementsByName(Ut,kt))et.setValue(Kt.id,{value:!1});et.setValue(kt,{value:Ht})}),Dt.addEventListener("resetform",Ft=>{const Ut=$t.defaultFieldValue;Ft.target.checked=Ut!=null&&Ut===$t.buttonValue}),this.enableScripting&&this.hasJSActions){const Ft=$t.buttonValue;Dt.addEventListener("updatefromsandbox",Ut=>{const Ht={value:Kt=>{const Yt=Ft===Kt.detail.value;for(const Jt of this._getElementsByName(Kt.target.name)){const Zt=Yt&&Jt.id===kt;Jt.domElement&&(Jt.domElement.checked=Zt),et.setValue(Jt.id,{value:Zt})}}};this._dispatchEventFromSandbox(Ht,Ut)}),this._setEventListeners(Dt,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Ut=>Ut.target.checked)}return this._setBackgroundColor(Dt),this._setDefaultPropertiesFromJS(Dt),this.container.append(Dt),this.container}}class PushButtonWidgetAnnotationElement extends LinkAnnotationElement{constructor(et){super(et,{ignoreBorder:et.data.hasAppearance})}render(){const et=super.render();et.classList.add("buttonWidgetAnnotation","pushButton");const $t=et.lastChild;return this.enableScripting&&this.hasJSActions&&$t&&(this._setDefaultPropertiesFromJS($t),$t.addEventListener("updatefromsandbox",kt=>{this._dispatchEventFromSandbox({},kt)})),et}}class ChoiceWidgetAnnotationElement extends WidgetAnnotationElement{constructor(et){super(et,{isRenderable:et.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const et=this.annotationStorage,$t=this.data.id,kt=et.getValue($t,{value:this.data.fieldValue}),Tt=document.createElement("select");GetElementsByNameSet.add(Tt),Tt.setAttribute("data-element-id",$t),Tt.disabled=this.data.readOnly,this._setRequired(Tt,this.data.required),Tt.name=this.data.fieldName,Tt.tabIndex=0;let Dt=this.data.combo&&this.data.options.length>0;this.data.combo||(Tt.size=this.data.options.length,this.data.multiSelect&&(Tt.multiple=!0)),Tt.addEventListener("resetform",Yt=>{const Jt=this.data.defaultFieldValue;for(const Zt of Tt.options)Zt.selected=Zt.value===Jt});for(const Yt of this.data.options){const Jt=document.createElement("option");Jt.textContent=Yt.displayValue,Jt.value=Yt.exportValue,kt.value.includes(Yt.exportValue)&&(Jt.setAttribute("selected",!0),Dt=!1),Tt.append(Jt)}let Ft=null;if(Dt){const Yt=document.createElement("option");Yt.value=" ",Yt.setAttribute("hidden",!0),Yt.setAttribute("selected",!0),Tt.prepend(Yt),Ft=()=>{Yt.remove(),Tt.removeEventListener("input",Ft),Ft=null},Tt.addEventListener("input",Ft)}const Ut=Yt=>{const Jt=Yt?"value":"textContent",{options:Zt,multiple:er}=Tt;return er?Array.prototype.filter.call(Zt,rr=>rr.selected).map(rr=>rr[Jt]):Zt.selectedIndex===-1?null:Zt[Zt.selectedIndex][Jt]};let Ht=Ut(!1);const Kt=Yt=>{const Jt=Yt.target.options;return Array.prototype.map.call(Jt,Zt=>({displayValue:Zt.textContent,exportValue:Zt.value}))};return this.enableScripting&&this.hasJSActions?(Tt.addEventListener("updatefromsandbox",Yt=>{const Jt={value(Zt){Ft==null||Ft();const er=Zt.detail.value,rr=new Set(Array.isArray(er)?er:[er]);for(const sr of Tt.options)sr.selected=rr.has(sr.value);et.setValue($t,{value:Ut(!0)}),Ht=Ut(!1)},multipleSelection(Zt){Tt.multiple=!0},remove(Zt){const er=Tt.options,rr=Zt.detail.remove;er[rr].selected=!1,Tt.remove(rr),er.length>0&&Array.prototype.findIndex.call(er,ir=>ir.selected)===-1&&(er[0].selected=!0),et.setValue($t,{value:Ut(!0),items:Kt(Zt)}),Ht=Ut(!1)},clear(Zt){for(;Tt.length!==0;)Tt.remove(0);et.setValue($t,{value:null,items:[]}),Ht=Ut(!1)},insert(Zt){const{index:er,displayValue:rr,exportValue:sr}=Zt.detail.insert,ir=Tt.children[er],nr=document.createElement("option");nr.textContent=rr,nr.value=sr,ir?ir.before(nr):Tt.append(nr),et.setValue($t,{value:Ut(!0),items:Kt(Zt)}),Ht=Ut(!1)},items(Zt){const{items:er}=Zt.detail;for(;Tt.length!==0;)Tt.remove(0);for(const rr of er){const{displayValue:sr,exportValue:ir}=rr,nr=document.createElement("option");nr.textContent=sr,nr.value=ir,Tt.append(nr)}Tt.options.length>0&&(Tt.options[0].selected=!0),et.setValue($t,{value:Ut(!0),items:Kt(Zt)}),Ht=Ut(!1)},indices(Zt){const er=new Set(Zt.detail.indices);for(const rr of Zt.target.options)rr.selected=er.has(rr.index);et.setValue($t,{value:Ut(!0)}),Ht=Ut(!1)},editable(Zt){Zt.target.disabled=!Zt.detail.editable}};this._dispatchEventFromSandbox(Jt,Yt)}),Tt.addEventListener("input",Yt=>{var er;const Jt=Ut(!0),Zt=Ut(!1);et.setValue($t,{value:Jt}),Yt.preventDefault(),(er=this.linkService.eventBus)==null||er.dispatch("dispatcheventinsandbox",{source:this,detail:{id:$t,name:"Keystroke",value:Ht,change:Zt,changeEx:Jt,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(Tt,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],Yt=>Yt.target.value)):Tt.addEventListener("input",function(Yt){et.setValue($t,{value:Ut(!0)})}),this.data.combo&&this._setTextStyle(Tt),this._setBackgroundColor(Tt),this._setDefaultPropertiesFromJS(Tt),this.container.append(Tt),this.container}}var bE,w$;class PopupAnnotationElement extends AnnotationElement{constructor($t){const{data:kt,elements:Tt,parent:Dt}=$t,Ft=!!Dt._commentManager;super($t,{isRenderable:!Ft&&AnnotationElement._hasPopupData(kt)});yr(this,bE);if(this.elements=Tt,Ft&&AnnotationElement._hasPopupData(kt)){const Ut=this.popup=Br(this,bE,w$).call(this);for(const Ht of Tt)Ht.popup=Ut}else this.popup=null}render(){const{container:$t}=this;$t.classList.add("popupAnnotation"),$t.role="comment";const kt=this.popup=Br(this,bE,w$).call(this),Tt=[];for(const Dt of this.elements)Dt.popup=kt,Dt.container.ariaHasPopup="dialog",Tt.push(Dt.data.id),Dt.addHighlightArea();return this.container.setAttribute("aria-controls",Tt.map(Dt=>`${AnnotationPrefix}${Dt}`).join(",")),this.container}}bE=new WeakSet,w$=function(){return new PopupElement({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})};var El,tm,KR,YR,ky,Sy,Xn,ku,sm,Nx,_y,Cy,Su,wl,up,hp,co,pp,im,yE,fp,Ay,Px,am,No,om,Ty,Tw,vE,R$,EE,$$,jE,k$,Ny,Nw,wE,S$,XR,ZS,QR,e_,JR,t_,ZR,r_,Py,Pw,My,Mw,RE,_$;class PopupElement{constructor({container:et,color:$t,elements:kt,titleObj:Tt,modificationDate:Dt,contentsObj:Ft,richText:Ut,parent:Ht,rect:Kt,parentRect:Yt,open:Jt,commentManager:Zt=null}){yr(this,Ty);yr(this,vE);yr(this,EE);yr(this,jE);yr(this,Ny);yr(this,wE);yr(this,XR);yr(this,QR);yr(this,JR);yr(this,ZR);yr(this,Py);yr(this,My);yr(this,RE);yr(this,El,null);yr(this,tm,Br(this,JR,t_).bind(this));yr(this,KR,Br(this,RE,_$).bind(this));yr(this,YR,Br(this,My,Mw).bind(this));yr(this,ky,Br(this,Py,Pw).bind(this));yr(this,Sy,null);yr(this,Xn,null);yr(this,ku,null);yr(this,sm,null);yr(this,Nx,null);yr(this,_y,null);yr(this,Cy,null);yr(this,Su,!1);yr(this,wl,null);yr(this,up,null);yr(this,hp,null);yr(this,co,null);yr(this,pp,null);yr(this,im,null);yr(this,yE,null);yr(this,fp,null);yr(this,Ay,null);yr(this,Px,null);yr(this,am,!1);yr(this,No,null);yr(this,om,null);jr(this,Xn,et),jr(this,Ay,Tt),jr(this,ku,Ft),jr(this,fp,Ut),jr(this,_y,Ht),jr(this,Sy,$t),jr(this,yE,Kt),jr(this,Cy,Yt),jr(this,Nx,kt),jr(this,El,Zt),jr(this,No,kt[0]),jr(this,sm,PDFDateString.toDateObject(Dt)),this.trigger=kt.flatMap(er=>er.getElementsToTriggerPopup()),Zt?this.renderCommentButton():(Br(this,Ty,Tw).call(this),ar(this,Xn).hidden=!0,Jt&&Br(this,Py,Pw).call(this))}renderCommentButton(){if(ar(this,co)||(ar(this,pp)||Br(this,vE,R$).call(this),!ar(this,pp)))return;const{signal:et}=jr(this,up,new AbortController),$t=!!ar(this,No).extraPopupElement,kt=()=>{ar(this,El).toggleCommentPopup(this,!0,void 0,!$t)},Tt=()=>{ar(this,El).toggleCommentPopup(this,!1,!0,!$t)},Dt=()=>{ar(this,El).toggleCommentPopup(this,!1,!1)};if($t){jr(this,co,ar(this,No).container);for(const Ft of this.trigger)Ft.ariaHasPopup="dialog",Ft.ariaControls="commentPopup",Ft.addEventListener("keydown",ar(this,tm),{signal:et}),Ft.addEventListener("click",kt,{signal:et}),Ft.addEventListener("pointerenter",Tt,{signal:et}),Ft.addEventListener("pointerleave",Dt,{signal:et}),Ft.classList.add("popupTriggerArea")}else{const Ft=jr(this,co,document.createElement("button"));Ft.className="annotationCommentButton";const Ut=ar(this,No).container;Ft.style.zIndex=Ut.style.zIndex+1,Ft.tabIndex=0,Ft.ariaHasPopup="dialog",Ft.ariaControls="commentPopup",Ft.setAttribute("data-l10n-id","pdfjs-show-comment-button"),Br(this,jE,k$).call(this),Br(this,EE,$$).call(this),Ft.addEventListener("keydown",ar(this,tm),{signal:et}),Ft.addEventListener("click",kt,{signal:et}),Ft.addEventListener("pointerenter",Tt,{signal:et}),Ft.addEventListener("pointerleave",Dt,{signal:et}),Ut.after(Ft)}}get commentButtonColor(){const{color:et,opacity:$t}=ar(this,No).commentData;return et?ar(this,_y)._commentManager.makeCommentColor(et,$t):null}focusCommentButton(){setTimeout(()=>{var et;(et=ar(this,co))==null||et.focus()},0)}getData(){const{richText:et,color:$t,opacity:kt,creationDate:Tt,modificationDate:Dt}=ar(this,No).commentData;return{contentsObj:{str:this.comment},richText:et,color:$t,opacity:kt,creationDate:Tt,modificationDate:Dt}}get elementBeforePopup(){return ar(this,co)}get comment(){return ar(this,om)||jr(this,om,ar(this,No).commentText),ar(this,om)}set comment(et){et!==this.comment&&(ar(this,No).commentText=jr(this,om,et))}get parentBoundingClientRect(){return ar(this,No).layer.getBoundingClientRect()}setCommentButtonStates({selected:et,hasPopup:$t}){ar(this,co)&&(ar(this,co).classList.toggle("selected",et),ar(this,co).ariaExpanded=$t)}setSelectedCommentButton(et){ar(this,co).classList.toggle("selected",et)}get commentPopupPosition(){if(ar(this,im))return ar(this,im);const{x:et,y:$t,height:kt}=ar(this,co).getBoundingClientRect(),{x:Tt,y:Dt,width:Ft,height:Ut}=ar(this,No).layer.getBoundingClientRect();return[(et-Tt)/Ft,($t+kt-Dt)/Ut]}set commentPopupPosition(et){jr(this,im,et)}hasDefaultPopupPosition(){return ar(this,im)===null}get commentButtonPosition(){return ar(this,pp)}get commentButtonWidth(){return ar(this,co).getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(et){const[$t,kt]=ar(this,im)||this.commentButtonPosition.map(Kt=>Kt/100),Tt=this.parentBoundingClientRect,{x:Dt,y:Ft,width:Ut,height:Ht}=Tt;ar(this,El).showDialog(null,this,Dt+$t*Ut,Ft+kt*Ht,{...et,parentDimensions:Tt})}render(){var kt,Tt;if(ar(this,wl))return;const et=jr(this,wl,document.createElement("div"));if(et.className="popup",ar(this,Sy)){const Dt=et.style.outlineColor=Util.makeHexColor(...ar(this,Sy));et.style.backgroundColor=`color-mix(in srgb, ${Dt} 30%, white)`}const $t=document.createElement("span");if($t.className="header",(kt=ar(this,Ay))!=null&&kt.str){const Dt=document.createElement("span");Dt.className="title",$t.append(Dt),{dir:Dt.dir,str:Dt.textContent}=ar(this,Ay)}if(et.append($t),ar(this,sm)){const Dt=document.createElement("time");Dt.className="popupDate",Dt.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),Dt.setAttribute("data-l10n-args",JSON.stringify({dateObj:ar(this,sm).valueOf()})),Dt.dateTime=ar(this,sm).toISOString(),$t.append(Dt)}renderRichText({html:ar(this,Ny,Nw)||ar(this,ku).str,dir:(Tt=ar(this,ku))==null?void 0:Tt.dir,className:"popupContent"},et),ar(this,Xn).append(et)}updateEdited({rect:et,popup:$t,deleted:kt}){var Tt;if(ar(this,El)){kt?(this.remove(),jr(this,om,null)):$t&&($t.deleted?this.remove():(Br(this,jE,k$).call(this),jr(this,om,$t.text))),et&&(jr(this,pp,null),Br(this,vE,R$).call(this),Br(this,EE,$$).call(this));return}if(kt||$t!=null&&$t.deleted){this.remove();return}Br(this,Ty,Tw).call(this),ar(this,Px)||jr(this,Px,{contentsObj:ar(this,ku),richText:ar(this,fp)}),et&&jr(this,hp,null),$t&&$t.text&&(jr(this,fp,Br(this,QR,e_).call(this,$t.text)),jr(this,sm,PDFDateString.toDateObject($t.date)),jr(this,ku,null)),(Tt=ar(this,wl))==null||Tt.remove(),jr(this,wl,null)}resetEdited(){var et;ar(this,Px)&&({contentsObj:xa(this,ku)._,richText:xa(this,fp)._}=ar(this,Px),jr(this,Px,null),(et=ar(this,wl))==null||et.remove(),jr(this,wl,null),jr(this,hp,null))}remove(){var et,$t,kt;if((et=ar(this,up))==null||et.abort(),jr(this,up,null),($t=ar(this,wl))==null||$t.remove(),jr(this,wl,null),jr(this,am,!1),jr(this,Su,!1),(kt=ar(this,co))==null||kt.remove(),jr(this,co,null),this.trigger)for(const Tt of this.trigger)Tt.classList.remove("popupTriggerArea")}forceHide(){jr(this,am,this.isVisible),ar(this,am)&&(ar(this,Xn).hidden=!0)}maybeShow(){ar(this,El)||(Br(this,Ty,Tw).call(this),ar(this,am)&&(ar(this,wl)||Br(this,My,Mw).call(this),jr(this,am,!1),ar(this,Xn).hidden=!1))}get isVisible(){return ar(this,El)?!1:ar(this,Xn).hidden===!1}}El=new WeakMap,tm=new WeakMap,KR=new WeakMap,YR=new WeakMap,ky=new WeakMap,Sy=new WeakMap,Xn=new WeakMap,ku=new WeakMap,sm=new WeakMap,Nx=new WeakMap,_y=new WeakMap,Cy=new WeakMap,Su=new WeakMap,wl=new WeakMap,up=new WeakMap,hp=new WeakMap,co=new WeakMap,pp=new WeakMap,im=new WeakMap,yE=new WeakMap,fp=new WeakMap,Ay=new WeakMap,Px=new WeakMap,am=new WeakMap,No=new WeakMap,om=new WeakMap,Ty=new WeakSet,Tw=function(){var $t;if(ar(this,up))return;jr(this,up,new AbortController);const{signal:et}=ar(this,up);for(const kt of this.trigger)kt.addEventListener("click",ar(this,ky),{signal:et}),kt.addEventListener("pointerenter",ar(this,YR),{signal:et}),kt.addEventListener("pointerleave",ar(this,KR),{signal:et}),kt.classList.add("popupTriggerArea");for(const kt of ar(this,Nx))($t=kt.container)==null||$t.addEventListener("keydown",ar(this,tm),{signal:et})},vE=new WeakSet,R$=function(){const et=ar(this,Nx).find($t=>$t.hasCommentButton);et&&jr(this,pp,et._normalizePoint(et.commentButtonPosition))},EE=new WeakSet,$$=function(){if(ar(this,No).extraPopupElement&&!ar(this,No).editor)return;this.renderCommentButton();const[et,$t]=ar(this,pp),{style:kt}=ar(this,co);kt.left=`calc(${et}%)`,kt.top=`calc(${$t}% - var(--comment-button-dim))`},jE=new WeakSet,k$=function(){ar(this,No).extraPopupElement||(this.renderCommentButton(),ar(this,co).style.backgroundColor=this.commentButtonColor||"")},Ny=new WeakSet,Nw=function(){const et=ar(this,fp),$t=ar(this,ku);return et!=null&&et.str&&(!($t!=null&&$t.str)||$t.str===et.str)&&ar(this,fp).html||null},wE=new WeakSet,S$=function(){var et,$t,kt;return((kt=($t=(et=ar(this,Ny,Nw))==null?void 0:et.attributes)==null?void 0:$t.style)==null?void 0:kt.fontSize)||0},XR=new WeakSet,ZS=function(){var et,$t,kt;return((kt=($t=(et=ar(this,Ny,Nw))==null?void 0:et.attributes)==null?void 0:$t.style)==null?void 0:kt.color)||null},QR=new WeakSet,e_=function(et){const $t=[],kt={str:et,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:$t}]}},Tt={style:{color:ar(this,XR,ZS),fontSize:ar(this,wE,S$)?`calc(${ar(this,wE,S$)}px * var(--total-scale-factor))`:""}};for(const Dt of et.split(`
`))$t.push({name:"span",value:Dt,attributes:Tt});return kt},JR=new WeakSet,t_=function(et){et.altKey||et.shiftKey||et.ctrlKey||et.metaKey||(et.key==="Enter"||et.key==="Escape"&&ar(this,Su))&&Br(this,Py,Pw).call(this)},ZR=new WeakSet,r_=function(){if(ar(this,hp)!==null)return;const{page:{view:et},viewport:{rawDims:{pageWidth:$t,pageHeight:kt,pageX:Tt,pageY:Dt}}}=ar(this,_y);let Ft=!!ar(this,Cy),Ut=Ft?ar(this,Cy):ar(this,yE);for(const rr of ar(this,Nx))if(!Ut||Util.intersect(rr.data.rect,Ut)!==null){Ut=rr.data.rect,Ft=!0;break}const Ht=Util.normalizeRect([Ut[0],et[3]-Ut[1]+et[1],Ut[2],et[3]-Ut[3]+et[1]]),Kt=5,Yt=Ft?Ut[2]-Ut[0]+Kt:0,Jt=Ht[0]+Yt,Zt=Ht[1];jr(this,hp,[100*(Jt-Tt)/$t,100*(Zt-Dt)/kt]);const{style:er}=ar(this,Xn);er.left=`${ar(this,hp)[0]}%`,er.top=`${ar(this,hp)[1]}%`},Py=new WeakSet,Pw=function(){if(ar(this,El)){ar(this,El).toggleCommentPopup(this,!1);return}jr(this,Su,!ar(this,Su)),ar(this,Su)?(Br(this,My,Mw).call(this),ar(this,Xn).addEventListener("click",ar(this,ky)),ar(this,Xn).addEventListener("keydown",ar(this,tm))):(Br(this,RE,_$).call(this),ar(this,Xn).removeEventListener("click",ar(this,ky)),ar(this,Xn).removeEventListener("keydown",ar(this,tm)))},My=new WeakSet,Mw=function(){ar(this,wl)||this.render(),this.isVisible?ar(this,Su)&&ar(this,Xn).classList.add("focused"):(Br(this,ZR,r_).call(this),ar(this,Xn).hidden=!1,ar(this,Xn).style.zIndex=parseInt(ar(this,Xn).style.zIndex)+1e3)},RE=new WeakSet,_$=function(){ar(this,Xn).classList.remove("focused"),!(ar(this,Su)||!this.isVisible)&&(ar(this,Xn).hidden=!0,ar(this,Xn).style.zIndex=parseInt(ar(this,Xn).style.zIndex)-1e3)};class FreeTextAnnotationElement extends AnnotationElement{constructor(et){super(et,{isRenderable:!0,ignoreBorder:!0}),this.textContent=et.data.textContent,this.textPosition=et.data.textPosition,this.annotationEditorType=AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const et=document.createElement("div");et.classList.add("annotationTextContent"),et.setAttribute("role","comment");for(const $t of this.textContent){const kt=document.createElement("span");kt.textContent=$t,et.append(kt)}this.container.append(et)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var $E;class LineAnnotationElement extends AnnotationElement{constructor($t){super($t,{isRenderable:!0,ignoreBorder:!0});yr(this,$E,null)}render(){this.container.classList.add("lineAnnotation");const{data:$t,width:kt,height:Tt}=this,Dt=this.svgFactory.create(kt,Tt,!0),Ft=jr(this,$E,this.svgFactory.createElement("svg:line"));return Ft.setAttribute("x1",$t.rect[2]-$t.lineCoordinates[0]),Ft.setAttribute("y1",$t.rect[3]-$t.lineCoordinates[1]),Ft.setAttribute("x2",$t.rect[2]-$t.lineCoordinates[2]),Ft.setAttribute("y2",$t.rect[3]-$t.lineCoordinates[3]),Ft.setAttribute("stroke-width",$t.borderStyle.width||1),Ft.setAttribute("stroke","transparent"),Ft.setAttribute("fill","transparent"),Dt.append(Ft),this.container.append(Dt),!$t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return ar(this,$E)}addHighlightArea(){this.container.classList.add("highlightArea")}}$E=new WeakMap;var kE;class SquareAnnotationElement extends AnnotationElement{constructor($t){super($t,{isRenderable:!0,ignoreBorder:!0});yr(this,kE,null)}render(){this.container.classList.add("squareAnnotation");const{data:$t,width:kt,height:Tt}=this,Dt=this.svgFactory.create(kt,Tt,!0),Ft=$t.borderStyle.width,Ut=jr(this,kE,this.svgFactory.createElement("svg:rect"));return Ut.setAttribute("x",Ft/2),Ut.setAttribute("y",Ft/2),Ut.setAttribute("width",kt-Ft),Ut.setAttribute("height",Tt-Ft),Ut.setAttribute("stroke-width",Ft||1),Ut.setAttribute("stroke","transparent"),Ut.setAttribute("fill","transparent"),Dt.append(Ut),this.container.append(Dt),!$t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return ar(this,kE)}addHighlightArea(){this.container.classList.add("highlightArea")}}kE=new WeakMap;var SE;class CircleAnnotationElement extends AnnotationElement{constructor($t){super($t,{isRenderable:!0,ignoreBorder:!0});yr(this,SE,null)}render(){this.container.classList.add("circleAnnotation");const{data:$t,width:kt,height:Tt}=this,Dt=this.svgFactory.create(kt,Tt,!0),Ft=$t.borderStyle.width,Ut=jr(this,SE,this.svgFactory.createElement("svg:ellipse"));return Ut.setAttribute("cx",kt/2),Ut.setAttribute("cy",Tt/2),Ut.setAttribute("rx",kt/2-Ft/2),Ut.setAttribute("ry",Tt/2-Ft/2),Ut.setAttribute("stroke-width",Ft||1),Ut.setAttribute("stroke","transparent"),Ut.setAttribute("fill","transparent"),Dt.append(Ut),this.container.append(Dt),!$t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return ar(this,SE)}addHighlightArea(){this.container.classList.add("highlightArea")}}SE=new WeakMap;var _E;class PolylineAnnotationElement extends AnnotationElement{constructor($t){super($t,{isRenderable:!0,ignoreBorder:!0});yr(this,_E,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:$t,vertices:kt,borderStyle:Tt,popupRef:Dt},width:Ft,height:Ut}=this;if(!kt)return this.container;const Ht=this.svgFactory.create(Ft,Ut,!0);let Kt=[];for(let Jt=0,Zt=kt.length;Jt<Zt;Jt+=2){const er=kt[Jt]-$t[0],rr=$t[3]-kt[Jt+1];Kt.push(`${er},${rr}`)}Kt=Kt.join(" ");const Yt=jr(this,_E,this.svgFactory.createElement(this.svgElementName));return Yt.setAttribute("points",Kt),Yt.setAttribute("stroke-width",Tt.width||1),Yt.setAttribute("stroke","transparent"),Yt.setAttribute("fill","transparent"),Ht.append(Yt),this.container.append(Ht),!Dt&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return ar(this,_E)}addHighlightArea(){this.container.classList.add("highlightArea")}}_E=new WeakMap;class PolygonAnnotationElement extends PolylineAnnotationElement{constructor(et){super(et),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class CaretAnnotationElement extends AnnotationElement{constructor(et){super(et,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var CE,Mx,AE,C$;class InkAnnotationElement extends AnnotationElement{constructor($t){super($t,{isRenderable:!0,ignoreBorder:!0});yr(this,AE);yr(this,CE,null);yr(this,Mx,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?AnnotationEditorType.HIGHLIGHT:AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:$t,rotation:kt,inkLists:Tt,borderStyle:Dt,popupRef:Ft}}=this,{transform:Ut,width:Ht,height:Kt}=Br(this,AE,C$).call(this,kt,$t),Yt=this.svgFactory.create(Ht,Kt,!0),Jt=jr(this,CE,this.svgFactory.createElement("svg:g"));Yt.append(Jt),Jt.setAttribute("stroke-width",Dt.width||1),Jt.setAttribute("stroke-linecap","round"),Jt.setAttribute("stroke-linejoin","round"),Jt.setAttribute("stroke-miterlimit",10),Jt.setAttribute("stroke","transparent"),Jt.setAttribute("fill","transparent"),Jt.setAttribute("transform",Ut);for(let Zt=0,er=Tt.length;Zt<er;Zt++){const rr=this.svgFactory.createElement(this.svgElementName);ar(this,Mx).push(rr),rr.setAttribute("points",Tt[Zt].join(",")),Jt.append(rr)}return!Ft&&this.hasPopupData&&this._createPopup(),this.container.append(Yt),this._editOnDoubleClick(),this.container}updateEdited($t){super.updateEdited($t);const{thickness:kt,points:Tt,rect:Dt}=$t,Ft=ar(this,CE);if(kt>=0&&Ft.setAttribute("stroke-width",kt||1),Tt)for(let Ut=0,Ht=ar(this,Mx).length;Ut<Ht;Ut++)ar(this,Mx)[Ut].setAttribute("points",Tt[Ut].join(","));if(Dt){const{transform:Ut,width:Ht,height:Kt}=Br(this,AE,C$).call(this,this.data.rotation,Dt);Ft.parentElement.setAttribute("viewBox",`0 0 ${Ht} ${Kt}`),Ft.setAttribute("transform",Ut)}}getElementsToTriggerPopup(){return ar(this,Mx)}addHighlightArea(){this.container.classList.add("highlightArea")}}CE=new WeakMap,Mx=new WeakMap,AE=new WeakSet,C$=function($t,kt){switch($t){case 90:return{transform:`rotate(90) translate(${-kt[0]},${kt[1]}) scale(1,-1)`,width:kt[3]-kt[1],height:kt[2]-kt[0]};case 180:return{transform:`rotate(180) translate(${-kt[2]},${kt[1]}) scale(1,-1)`,width:kt[2]-kt[0],height:kt[3]-kt[1]};case 270:return{transform:`rotate(270) translate(${-kt[2]},${kt[3]}) scale(1,-1)`,width:kt[3]-kt[1],height:kt[2]-kt[0]};default:return{transform:`translate(${-kt[0]},${kt[3]}) scale(1,-1)`,width:kt[2]-kt[0],height:kt[3]-kt[1]}}};class HighlightAnnotationElement extends AnnotationElement{constructor(et){super(et,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=AnnotationEditorType.HIGHLIGHT}render(){const{data:{overlaidText:et,popupRef:$t}}=this;if(!$t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),et){const kt=document.createElement("mark");kt.classList.add("overlaidText"),kt.textContent=et,this.container.append(kt)}return this.container}}class UnderlineAnnotationElement extends AnnotationElement{constructor(et){super(et,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:et,popupRef:$t}}=this;if(!$t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),et){const kt=document.createElement("u");kt.classList.add("overlaidText"),kt.textContent=et,this.container.append(kt)}return this.container}}class SquigglyAnnotationElement extends AnnotationElement{constructor(et){super(et,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:et,popupRef:$t}}=this;if(!$t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),et){const kt=document.createElement("u");kt.classList.add("overlaidText"),kt.textContent=et,this.container.append(kt)}return this.container}}class StrikeOutAnnotationElement extends AnnotationElement{constructor(et){super(et,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:et,popupRef:$t}}=this;if(!$t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),et){const kt=document.createElement("s");kt.classList.add("overlaidText"),kt.textContent=et,this.container.append(kt)}return this.container}}class StampAnnotationElement extends AnnotationElement{constructor(et){super(et,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=AnnotationEditorType.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var TE,NE,A$;class FileAttachmentAnnotationElement extends AnnotationElement{constructor($t){var Tt;super($t,{isRenderable:!0});yr(this,NE);yr(this,TE,null);const{file:kt}=this.data;this.filename=kt.filename,this.content=kt.content,(Tt=this.linkService.eventBus)==null||Tt.dispatch("fileattachmentannotation",{source:this,...kt})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:$t,data:kt}=this;let Tt;kt.hasAppearance||kt.fillAlpha===0?Tt=document.createElement("div"):(Tt=document.createElement("img"),Tt.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(kt.name)?"paperclip":"pushpin"}.svg`,kt.fillAlpha&&kt.fillAlpha<1&&(Tt.style=`filter: opacity(${Math.round(kt.fillAlpha*100)}%);`)),Tt.addEventListener("dblclick",Br(this,NE,A$).bind(this)),jr(this,TE,Tt);const{isMac:Dt}=util_FeatureTest.platform;return $t.addEventListener("keydown",Ft=>{Ft.key==="Enter"&&(Dt?Ft.metaKey:Ft.ctrlKey)&&Br(this,NE,A$).call(this)}),!kt.popupRef&&this.hasPopupData?this._createPopup():Tt.classList.add("popupTriggerArea"),$t.append(Tt),$t}getElementsToTriggerPopup(){return ar(this,TE)}addHighlightArea(){this.container.classList.add("highlightArea")}}TE=new WeakMap,NE=new WeakSet,A$=function(){var $t;($t=this.downloadManager)==null||$t.openOrDownloadData(this.content,this.filename)};var Iy,Ix,Dy,lm,PE,Dx,ME,T$,IE,N$,DE;let AnnotationLayer$1=(DE=class{constructor({div:et,accessibilityManager:$t,annotationCanvasMap:kt,annotationEditorUIManager:Tt,page:Dt,viewport:Ft,structTreeLayer:Ut,commentManager:Ht,linkService:Kt,annotationStorage:Yt}){yr(this,ME);yr(this,IE);yr(this,Iy,null);yr(this,Ix,null);yr(this,Dy,null);yr(this,lm,new Map);yr(this,PE,null);yr(this,Dx,null);this.div=et,jr(this,Iy,$t),jr(this,Ix,kt),jr(this,PE,Ut||null),jr(this,Dx,Kt||null),jr(this,Dy,Yt||new AnnotationStorage),this.page=Dt,this.viewport=Ft,this.zIndex=0,this._annotationEditorUIManager=Tt,this._commentManager=Ht||null}hasEditableAnnotations(){return ar(this,lm).size>0}async render(et){var Ft,Ut,Ht;const{annotations:$t}=et,kt=this.div;setLayerDimensions(kt,this.viewport);const Tt=new Map,Dt={data:null,layer:kt,linkService:ar(this,Dx),downloadManager:et.downloadManager,imageResourcesPath:et.imageResourcesPath||"",renderForms:et.renderForms!==!1,svgFactory:new DOMSVGFactory,annotationStorage:ar(this,Dy),enableComment:et.enableComment===!0,enableScripting:et.enableScripting===!0,hasJSActions:et.hasJSActions,fieldObjects:et.fieldObjects,parent:this,elements:null};for(const Kt of $t){if(Kt.noHTML)continue;const Yt=Kt.annotationType===AnnotationType.POPUP;if(Yt){const er=Tt.get(Kt.id);if(!er)continue;Dt.elements=er}else if(Kt.rect[2]===Kt.rect[0]||Kt.rect[3]===Kt.rect[1])continue;Dt.data=Kt;const Jt=AnnotationElementFactory.create(Dt);if(!Jt.isRenderable)continue;if(!Yt&&Kt.popupRef){const er=Tt.get(Kt.popupRef);er?er.push(Jt):Tt.set(Kt.popupRef,[Jt])}const Zt=Jt.render();Kt.hidden&&(Zt.style.visibility="hidden"),await Br(this,ME,T$).call(this,Zt,Kt.id,Dt.elements),(Ut=(Ft=Jt.extraPopupElement)==null?void 0:Ft.popup)==null||Ut.renderCommentButton(),Jt._isEditable&&(ar(this,lm).set(Jt.data.id,Jt),(Ht=this._annotationEditorUIManager)==null||Ht.renderAnnotationElement(Jt))}Br(this,IE,N$).call(this)}async addLinkAnnotations(et){const $t={data:null,layer:this.div,linkService:ar(this,Dx),svgFactory:new DOMSVGFactory,parent:this};for(const kt of et){kt.borderStyle||(kt.borderStyle=DE._defaultBorderStyle),$t.data=kt;const Tt=AnnotationElementFactory.create($t);if(!Tt.isRenderable)continue;const Dt=Tt.render();await Br(this,ME,T$).call(this,Dt,kt.id,null)}}update({viewport:et}){const $t=this.div;this.viewport=et,setLayerDimensions($t,{rotation:et.rotation}),Br(this,IE,N$).call(this),$t.hidden=!1}getEditableAnnotations(){return Array.from(ar(this,lm).values())}getEditableAnnotation(et){return ar(this,lm).get(et)}addFakeAnnotation(et){var Ut;const{div:$t}=this,{id:kt,rotation:Tt}=et,Dt=new EditorAnnotationElement({data:{id:kt,rect:et.getPDFRect(),rotation:Tt},editor:et,layer:$t,parent:this,enableComment:!!this._commentManager,linkService:ar(this,Dx),annotationStorage:ar(this,Dy)}),Ft=Dt.render();return $t.append(Ft),(Ut=ar(this,Iy))==null||Ut.moveElementInDOM($t,Ft,Ft,!1),Dt.createOrUpdatePopup(),Dt}static get _defaultBorderStyle(){return shadow(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:AnnotationBorderStyleType.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}},Iy=new WeakMap,Ix=new WeakMap,Dy=new WeakMap,lm=new WeakMap,PE=new WeakMap,Dx=new WeakMap,ME=new WeakSet,T$=async function(et,$t,kt){var Ut,Ht;const Tt=et.firstChild||et,Dt=Tt.id=`${AnnotationPrefix}${$t}`,Ft=await((Ut=ar(this,PE))==null?void 0:Ut.getAriaAttributes(Dt));if(Ft)for(const[Kt,Yt]of Ft)Tt.setAttribute(Kt,Yt);kt?kt.at(-1).container.after(et):(this.div.append(et),(Ht=ar(this,Iy))==null||Ht.moveElementInDOM(this.div,et,Tt,!1))},IE=new WeakSet,N$=function(){var $t;if(!ar(this,Ix))return;const et=this.div;for(const[kt,Tt]of ar(this,Ix)){const Dt=et.querySelector(`[data-annotation-id="${kt}"]`);if(!Dt)continue;Tt.className="annotationContent";const{firstChild:Ft}=Dt;Ft?Ft.nodeName==="CANVAS"?Ft.replaceWith(Tt):Ft.classList.contains("annotationContent")?Ft.after(Tt):Ft.before(Tt):Dt.append(Tt);const Ut=ar(this,lm).get(kt);Ut&&(Ut._hasNoCanvas?(($t=this._annotationEditorUIManager)==null||$t.setMissingCanvas(kt,Dt.id,Tt),Ut._hasNoCanvas=!1):Ut.canvas=Tt)}ar(this,Ix).clear()},DE);const EOL_PATTERN=/\r\n?|\n/g;var Rl,FE,Fx,$l,t2,s_,r2,n_,s2,i_,Fy,Iw,Ly,Dw,Oy,Fw,n2,a_,LE,P$,i2,o_;const Dn=class Dn extends AnnotationEditor{constructor($t){super({...$t,name:"freeTextEditor"});yr(this,t2);yr(this,r2);yr(this,s2);yr(this,Fy);yr(this,Oy);yr(this,n2);yr(this,i2);yr(this,Rl,"");yr(this,FE,`${this.id}-editor`);yr(this,Fx,null);yr(this,$l,void 0);ys(this,"_colorPicker",null);this.color=$t.color||Dn._defaultColor||AnnotationEditor._defaultLineColor,jr(this,$l,$t.fontSize||Dn._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static get _keyboardManager(){const $t=Dn.prototype,kt=Ft=>Ft.isEmpty(),Tt=AnnotationEditorUIManager.TRANSLATE_SMALL,Dt=AnnotationEditorUIManager.TRANSLATE_BIG;return shadow(this,"_keyboardManager",new KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],$t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],$t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],$t._translateEmpty,{args:[-Tt,0],checker:kt}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],$t._translateEmpty,{args:[-Dt,0],checker:kt}],[["ArrowRight","mac+ArrowRight"],$t._translateEmpty,{args:[Tt,0],checker:kt}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],$t._translateEmpty,{args:[Dt,0],checker:kt}],[["ArrowUp","mac+ArrowUp"],$t._translateEmpty,{args:[0,-Tt],checker:kt}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],$t._translateEmpty,{args:[0,-Dt],checker:kt}],[["ArrowDown","mac+ArrowDown"],$t._translateEmpty,{args:[0,Tt],checker:kt}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],$t._translateEmpty,{args:[0,Dt],checker:kt}]]))}static initialize($t,kt){AnnotationEditor.initialize($t,kt);const Tt=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(Tt.getPropertyValue("--freetext-padding"))}static updateDefaultParams($t,kt){switch($t){case AnnotationEditorParamsType.FREETEXT_SIZE:Dn._defaultFontSize=kt;break;case AnnotationEditorParamsType.FREETEXT_COLOR:Dn._defaultColor=kt;break}}updateParams($t,kt){switch($t){case AnnotationEditorParamsType.FREETEXT_SIZE:Br(this,t2,s_).call(this,kt);break;case AnnotationEditorParamsType.FREETEXT_COLOR:Br(this,r2,n_).call(this,kt);break}}static get defaultPropertiesToUpdate(){return[[AnnotationEditorParamsType.FREETEXT_SIZE,Dn._defaultFontSize],[AnnotationEditorParamsType.FREETEXT_COLOR,Dn._defaultColor||AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[AnnotationEditorParamsType.FREETEXT_SIZE,ar(this,$l)],[AnnotationEditorParamsType.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new BasicColorPicker(this)),[["colorPicker",this._colorPicker]]}get colorType(){return AnnotationEditorParamsType.FREETEXT_COLOR}onUpdatedColor(){var $t;this.editorDiv.style.color=this.color,($t=this._colorPicker)==null||$t.update(this.color),super.onUpdatedColor()}_translateEmpty($t,kt){this._uiManager.translateSelectedEditors($t,kt,!0)}getInitialTranslation(){const $t=this.parentScale;return[-Dn._internalPadding*$t,-(Dn._internalPadding+ar(this,$l))*$t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),jr(this,Fx,new AbortController);const $t=this._uiManager.combinedSignal(ar(this,Fx));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:$t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:$t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:$t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:$t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:$t}),!0}disableEditMode(){var $t;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",ar(this,FE)),this._isDraggable=!0,($t=ar(this,Fx))==null||$t.abort(),jr(this,Fx,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin($t){this._focusEventsAllowed&&(super.focusin($t),$t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded($t){var kt;this.width||(this.enableEditMode(),$t&&this.editorDiv.focus(),(kt=this._initialOptions)!=null&&kt.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const $t=ar(this,Rl),kt=jr(this,Rl,Br(this,s2,i_).call(this).trimEnd());if($t===kt)return;const Tt=Dt=>{if(jr(this,Rl,Dt),!Dt){this.remove();return}Br(this,Oy,Fw).call(this),this._uiManager.rebuild(this),Br(this,Fy,Iw).call(this)};this.addCommands({cmd:()=>{Tt(kt)},undo:()=>{Tt($t)},mustExec:!1}),Br(this,Fy,Iw).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown($t){$t.target===this.div&&$t.key==="Enter"&&(this.enterInEditMode(),$t.preventDefault())}editorDivKeydown($t){Dn._keyboardManager.exec(this,$t)}editorDivFocus($t){this.isEditing=!0}editorDivBlur($t){this.isEditing=!1}editorDivInput($t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let $t,kt;(this._isCopy||this.annotationElementId)&&($t=this.x,kt=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",ar(this,FE)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:Tt}=this.editorDiv;if(Tt.fontSize=`calc(${ar(this,$l)}px * var(--total-scale-factor))`,Tt.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[Dt,Ft]=this.parentDimensions;if(this.annotationElementId){const{position:Ut}=this._initialData;let[Ht,Kt]=this.getInitialTranslation();[Ht,Kt]=this.pageTranslationToScreen(Ht,Kt);const[Yt,Jt]=this.pageDimensions,[Zt,er]=this.pageTranslation;let rr,sr;switch(this.rotation){case 0:rr=$t+(Ut[0]-Zt)/Yt,sr=kt+this.height-(Ut[1]-er)/Jt;break;case 90:rr=$t+(Ut[0]-Zt)/Yt,sr=kt-(Ut[1]-er)/Jt,[Ht,Kt]=[Kt,-Ht];break;case 180:rr=$t-this.width+(Ut[0]-Zt)/Yt,sr=kt-(Ut[1]-er)/Jt,[Ht,Kt]=[-Ht,-Kt];break;case 270:rr=$t+(Ut[0]-Zt-this.height*Jt)/Yt,sr=kt+(Ut[1]-er-this.width*Yt)/Jt,[Ht,Kt]=[-Kt,Ht];break}this.setAt(rr*Dt,sr*Ft,Ht,Kt)}else this._moveAfterPaste($t,kt);Br(this,Oy,Fw).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste($t){var rr,sr,ir;const kt=$t.clipboardData||window.clipboardData,{types:Tt}=kt;if(Tt.length===1&&Tt[0]==="text/plain")return;$t.preventDefault();const Dt=Br(rr=Dn,LE,P$).call(rr,kt.getData("text")||"").replaceAll(EOL_PATTERN,`
`);if(!Dt)return;const Ft=window.getSelection();if(!Ft.rangeCount)return;this.editorDiv.normalize(),Ft.deleteFromDocument();const Ut=Ft.getRangeAt(0);if(!Dt.includes(`
`)){Ut.insertNode(document.createTextNode(Dt)),this.editorDiv.normalize(),Ft.collapseToStart();return}const{startContainer:Ht,startOffset:Kt}=Ut,Yt=[],Jt=[];if(Ht.nodeType===Node.TEXT_NODE){const nr=Ht.parentElement;if(Jt.push(Ht.nodeValue.slice(Kt).replaceAll(EOL_PATTERN,"")),nr!==this.editorDiv){let or=Yt;for(const lr of this.editorDiv.childNodes){if(lr===nr){or=Jt;continue}or.push(Br(sr=Dn,Ly,Dw).call(sr,lr))}}Yt.push(Ht.nodeValue.slice(0,Kt).replaceAll(EOL_PATTERN,""))}else if(Ht===this.editorDiv){let nr=Yt,or=0;for(const lr of this.editorDiv.childNodes)or++===Kt&&(nr=Jt),nr.push(Br(ir=Dn,Ly,Dw).call(ir,lr))}jr(this,Rl,`${Yt.join(`
`)}${Dt}${Jt.join(`
`)}`),Br(this,Oy,Fw).call(this);const Zt=new Range;let er=Math.sumPrecise(Yt.map(nr=>nr.length));for(const{firstChild:nr}of this.editorDiv.childNodes)if(nr.nodeType===Node.TEXT_NODE){const or=nr.nodeValue.length;if(er<=or){Zt.setStart(nr,er),Zt.setEnd(nr,er);break}er-=or}Ft.removeAllRanges(),Ft.addRange(Zt)}get contentDiv(){return this.editorDiv}getPDFRect(){const $t=Dn._internalPadding*this.parentScale;return this.getRect($t,$t)}static async deserialize($t,kt,Tt){var Ut;let Dt=null;if($t instanceof FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:Ht,fontColor:Kt},rect:Yt,rotation:Jt,id:Zt,popupRef:er,richText:rr,contentsObj:sr,creationDate:ir,modificationDate:nr},textContent:or,textPosition:lr,parent:{page:{pageNumber:cr}}}=$t;if(!or||or.length===0)return null;Dt=$t={annotationType:AnnotationEditorType.FREETEXT,color:Array.from(Kt),fontSize:Ht,value:or.join(`
`),position:lr,pageIndex:cr-1,rect:Yt.slice(0),rotation:Jt,annotationElementId:Zt,id:Zt,deleted:!1,popupRef:er,comment:(sr==null?void 0:sr.str)||null,richText:rr,creationDate:ir,modificationDate:nr}}const Ft=await super.deserialize($t,kt,Tt);return jr(Ft,$l,$t.fontSize),Ft.color=Util.makeHexColor(...$t.color),jr(Ft,Rl,Br(Ut=Dn,LE,P$).call(Ut,$t.value)),Ft._initialData=Dt,$t.comment&&Ft.setCommentData($t),Ft}serialize($t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const kt=AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),Tt=Object.assign(super.serialize($t),{color:kt,fontSize:ar(this,$l),value:Br(this,n2,a_).call(this)});return this.addComment(Tt),$t?(Tt.isCopy=!0,Tt):this.annotationElementId&&!Br(this,i2,o_).call(this,Tt)?null:(Tt.id=this.annotationElementId,Tt)}renderAnnotationElement($t){const kt=super.renderAnnotationElement($t);if(!kt)return null;const{style:Tt}=kt;Tt.fontSize=`calc(${ar(this,$l)}px * var(--total-scale-factor))`,Tt.color=this.color,kt.replaceChildren();for(const Dt of ar(this,Rl).split(`
`)){const Ft=document.createElement("div");Ft.append(Dt?document.createTextNode(Dt):document.createElement("br")),kt.append(Ft)}return $t.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:ar(this,Rl)}}),kt}resetAnnotationElement($t){super.resetAnnotationElement($t),$t.resetEdited()}};Rl=new WeakMap,FE=new WeakMap,Fx=new WeakMap,$l=new WeakMap,t2=new WeakSet,s_=function($t){const kt=Dt=>{this.editorDiv.style.fontSize=`calc(${Dt}px * var(--total-scale-factor))`,this.translate(0,-(Dt-ar(this,$l))*this.parentScale),jr(this,$l,Dt),Br(this,Fy,Iw).call(this)},Tt=ar(this,$l);this.addCommands({cmd:kt.bind(this,$t),undo:kt.bind(this,Tt),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},r2=new WeakSet,n_=function($t){const kt=Dt=>{this.color=Dt,this.onUpdatedColor()},Tt=this.color;this.addCommands({cmd:kt.bind(this,$t),undo:kt.bind(this,Tt),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},s2=new WeakSet,i_=function(){var Tt;const $t=[];this.editorDiv.normalize();let kt=null;for(const Dt of this.editorDiv.childNodes)(kt==null?void 0:kt.nodeType)===Node.TEXT_NODE&&Dt.nodeName==="BR"||($t.push(Br(Tt=Dn,Ly,Dw).call(Tt,Dt)),kt=Dt);return $t.join(`
`)},Fy=new WeakSet,Iw=function(){const[$t,kt]=this.parentDimensions;let Tt;if(this.isAttachedToDOM)Tt=this.div.getBoundingClientRect();else{const{currentLayer:Dt,div:Ft}=this,Ut=Ft.style.display,Ht=Ft.classList.contains("hidden");Ft.classList.remove("hidden"),Ft.style.display="hidden",Dt.div.append(this.div),Tt=Ft.getBoundingClientRect(),Ft.remove(),Ft.style.display=Ut,Ft.classList.toggle("hidden",Ht)}this.rotation%180===this.parentRotation%180?(this.width=Tt.width/$t,this.height=Tt.height/kt):(this.width=Tt.height/$t,this.height=Tt.width/kt),this.fixAndSetPosition()},Ly=new WeakSet,Dw=function($t){return($t.nodeType===Node.TEXT_NODE?$t.nodeValue:$t.innerText).replaceAll(EOL_PATTERN,"")},Oy=new WeakSet,Fw=function(){if(this.editorDiv.replaceChildren(),!!ar(this,Rl))for(const $t of ar(this,Rl).split(`
`)){const kt=document.createElement("div");kt.append($t?document.createTextNode($t):document.createElement("br")),this.editorDiv.append(kt)}},n2=new WeakSet,a_=function(){return ar(this,Rl).replaceAll(""," ")},LE=new WeakSet,P$=function($t){return $t.replaceAll(" ","")},i2=new WeakSet,o_=function($t){const{value:kt,fontSize:Tt,color:Dt,pageIndex:Ft}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||$t.value!==kt||$t.fontSize!==Tt||$t.color.some((Ut,Ht)=>Ut!==Dt[Ht])||$t.pageIndex!==Ft},yr(Dn,Ly),yr(Dn,LE),ys(Dn,"_freeTextDefaultContent",""),ys(Dn,"_internalPadding",0),ys(Dn,"_defaultColor",null),ys(Dn,"_defaultFontSize",10),ys(Dn,"_type","freetext"),ys(Dn,"_editorType",AnnotationEditorType.FREETEXT);let FreeTextEditor=Dn;class Outline{toSVGPath(){unreachable("Abstract method `toSVGPath` must be implemented.")}get box(){unreachable("Abstract getter `box` must be implemented.")}serialize(et,$t){unreachable("Abstract method `serialize` must be implemented.")}static _rescale(et,$t,kt,Tt,Dt,Ft){Ft||(Ft=new Float32Array(et.length));for(let Ut=0,Ht=et.length;Ut<Ht;Ut+=2)Ft[Ut]=$t+et[Ut]*Tt,Ft[Ut+1]=kt+et[Ut+1]*Dt;return Ft}static _rescaleAndSwap(et,$t,kt,Tt,Dt,Ft){Ft||(Ft=new Float32Array(et.length));for(let Ut=0,Ht=et.length;Ut<Ht;Ut+=2)Ft[Ut]=$t+et[Ut+1]*Tt,Ft[Ut+1]=kt+et[Ut]*Dt;return Ft}static _translate(et,$t,kt,Tt){Tt||(Tt=new Float32Array(et.length));for(let Dt=0,Ft=et.length;Dt<Ft;Dt+=2)Tt[Dt]=$t+et[Dt],Tt[Dt+1]=kt+et[Dt+1];return Tt}static svgRound(et){return Math.round(et*1e4)}static _normalizePoint(et,$t,kt,Tt,Dt){switch(Dt){case 90:return[1-$t/kt,et/Tt];case 180:return[1-et/kt,1-$t/Tt];case 270:return[$t/kt,1-et/Tt];default:return[et/kt,$t/Tt]}}static _normalizePagePoint(et,$t,kt){switch(kt){case 90:return[1-$t,et];case 180:return[1-et,1-$t];case 270:return[$t,1-et];default:return[et,$t]}}static createBezierPoints(et,$t,kt,Tt,Dt,Ft){return[(et+5*kt)/6,($t+5*Tt)/6,(5*kt+Dt)/6,(5*Tt+Ft)/6,(kt+Dt)/2,(Tt+Ft)/2]}}ys(Outline,"PRECISION",1e-4);var Sl,su,By,Vy,_u,Xs,Lx,Ox,OE,BE,zy,Uy,cm,VE,a2,o2,Bx,Dv,l2,l_,d2,c_,u2,d_,h2,u_,p2,h_,f2,p_;const Lu=class Lu{constructor({x:et,y:$t},kt,Tt,Dt,Ft,Ut=0){yr(this,Bx);yr(this,l2);yr(this,d2);yr(this,u2);yr(this,h2);yr(this,p2);yr(this,f2);yr(this,Sl,void 0);yr(this,su,[]);yr(this,By,void 0);yr(this,Vy,void 0);yr(this,_u,[]);yr(this,Xs,new Float32Array(18));yr(this,Lx,void 0);yr(this,Ox,void 0);yr(this,OE,void 0);yr(this,BE,void 0);yr(this,zy,void 0);yr(this,Uy,void 0);yr(this,cm,[]);jr(this,Sl,kt),jr(this,Uy,Dt*Tt),jr(this,Vy,Ft),ar(this,Xs).set([NaN,NaN,NaN,NaN,et,$t],6),jr(this,By,Ut),jr(this,BE,ar(Lu,VE)*Tt),jr(this,OE,ar(Lu,o2)*Tt),jr(this,zy,Tt),ar(this,cm).push(et,$t)}isEmpty(){return isNaN(ar(this,Xs)[8])}add({x:et,y:$t}){var vr;jr(this,Lx,et),jr(this,Ox,$t);const[kt,Tt,Dt,Ft]=ar(this,Sl);let[Ut,Ht,Kt,Yt]=ar(this,Xs).subarray(8,12);const Jt=et-Kt,Zt=$t-Yt,er=Math.hypot(Jt,Zt);if(er<ar(this,OE))return!1;const rr=er-ar(this,BE),sr=rr/er,ir=sr*Jt,nr=sr*Zt;let or=Ut,lr=Ht;Ut=Kt,Ht=Yt,Kt+=ir,Yt+=nr,(vr=ar(this,cm))==null||vr.push(et,$t);const cr=-nr/rr,dr=ir/rr,ur=cr*ar(this,Uy),pr=dr*ar(this,Uy);return ar(this,Xs).set(ar(this,Xs).subarray(2,8),0),ar(this,Xs).set([Kt+ur,Yt+pr],4),ar(this,Xs).set(ar(this,Xs).subarray(14,18),12),ar(this,Xs).set([Kt-ur,Yt-pr],16),isNaN(ar(this,Xs)[6])?(ar(this,_u).length===0&&(ar(this,Xs).set([Ut+ur,Ht+pr],2),ar(this,_u).push(NaN,NaN,NaN,NaN,(Ut+ur-kt)/Dt,(Ht+pr-Tt)/Ft),ar(this,Xs).set([Ut-ur,Ht-pr],14),ar(this,su).push(NaN,NaN,NaN,NaN,(Ut-ur-kt)/Dt,(Ht-pr-Tt)/Ft)),ar(this,Xs).set([or,lr,Ut,Ht,Kt,Yt],6),!this.isEmpty()):(ar(this,Xs).set([or,lr,Ut,Ht,Kt,Yt],6),Math.abs(Math.atan2(lr-Ht,or-Ut)-Math.atan2(nr,ir))<Math.PI/2?([Ut,Ht,Kt,Yt]=ar(this,Xs).subarray(2,6),ar(this,_u).push(NaN,NaN,NaN,NaN,((Ut+Kt)/2-kt)/Dt,((Ht+Yt)/2-Tt)/Ft),[Ut,Ht,or,lr]=ar(this,Xs).subarray(14,18),ar(this,su).push(NaN,NaN,NaN,NaN,((or+Ut)/2-kt)/Dt,((lr+Ht)/2-Tt)/Ft),!0):([or,lr,Ut,Ht,Kt,Yt]=ar(this,Xs).subarray(0,6),ar(this,_u).push(((or+5*Ut)/6-kt)/Dt,((lr+5*Ht)/6-Tt)/Ft,((5*Ut+Kt)/6-kt)/Dt,((5*Ht+Yt)/6-Tt)/Ft,((Ut+Kt)/2-kt)/Dt,((Ht+Yt)/2-Tt)/Ft),[Kt,Yt,Ut,Ht,or,lr]=ar(this,Xs).subarray(12,18),ar(this,su).push(((or+5*Ut)/6-kt)/Dt,((lr+5*Ht)/6-Tt)/Ft,((5*Ut+Kt)/6-kt)/Dt,((5*Ht+Yt)/6-Tt)/Ft,((Ut+Kt)/2-kt)/Dt,((Ht+Yt)/2-Tt)/Ft),!0))}toSVGPath(){if(this.isEmpty())return"";const et=ar(this,_u),$t=ar(this,su);if(isNaN(ar(this,Xs)[6])&&!this.isEmpty())return Br(this,l2,l_).call(this);const kt=[];kt.push(`M${et[4]} ${et[5]}`);for(let Tt=6;Tt<et.length;Tt+=6)isNaN(et[Tt])?kt.push(`L${et[Tt+4]} ${et[Tt+5]}`):kt.push(`C${et[Tt]} ${et[Tt+1]} ${et[Tt+2]} ${et[Tt+3]} ${et[Tt+4]} ${et[Tt+5]}`);Br(this,u2,d_).call(this,kt);for(let Tt=$t.length-6;Tt>=6;Tt-=6)isNaN($t[Tt])?kt.push(`L${$t[Tt+4]} ${$t[Tt+5]}`):kt.push(`C${$t[Tt]} ${$t[Tt+1]} ${$t[Tt+2]} ${$t[Tt+3]} ${$t[Tt+4]} ${$t[Tt+5]}`);return Br(this,d2,c_).call(this,kt),kt.join(" ")}newFreeDrawOutline(et,$t,kt,Tt,Dt,Ft){return new FreeDrawOutline(et,$t,kt,Tt,Dt,Ft)}getOutlines(){var Jt;const et=ar(this,_u),$t=ar(this,su),kt=ar(this,Xs),[Tt,Dt,Ft,Ut]=ar(this,Sl),Ht=new Float32Array((((Jt=ar(this,cm))==null?void 0:Jt.length)??0)+2);for(let Zt=0,er=Ht.length-2;Zt<er;Zt+=2)Ht[Zt]=(ar(this,cm)[Zt]-Tt)/Ft,Ht[Zt+1]=(ar(this,cm)[Zt+1]-Dt)/Ut;if(Ht[Ht.length-2]=(ar(this,Lx)-Tt)/Ft,Ht[Ht.length-1]=(ar(this,Ox)-Dt)/Ut,isNaN(kt[6])&&!this.isEmpty())return Br(this,h2,u_).call(this,Ht);const Kt=new Float32Array(ar(this,_u).length+24+ar(this,su).length);let Yt=et.length;for(let Zt=0;Zt<Yt;Zt+=2){if(isNaN(et[Zt])){Kt[Zt]=Kt[Zt+1]=NaN;continue}Kt[Zt]=et[Zt],Kt[Zt+1]=et[Zt+1]}Yt=Br(this,f2,p_).call(this,Kt,Yt);for(let Zt=$t.length-6;Zt>=6;Zt-=6)for(let er=0;er<6;er+=2){if(isNaN($t[Zt+er])){Kt[Yt]=Kt[Yt+1]=NaN,Yt+=2;continue}Kt[Yt]=$t[Zt+er],Kt[Yt+1]=$t[Zt+er+1],Yt+=2}return Br(this,p2,h_).call(this,Kt,Yt),this.newFreeDrawOutline(Kt,Ht,ar(this,Sl),ar(this,zy),ar(this,By),ar(this,Vy))}};Sl=new WeakMap,su=new WeakMap,By=new WeakMap,Vy=new WeakMap,_u=new WeakMap,Xs=new WeakMap,Lx=new WeakMap,Ox=new WeakMap,OE=new WeakMap,BE=new WeakMap,zy=new WeakMap,Uy=new WeakMap,cm=new WeakMap,VE=new WeakMap,a2=new WeakMap,o2=new WeakMap,Bx=new WeakSet,Dv=function(){const et=ar(this,Xs).subarray(4,6),$t=ar(this,Xs).subarray(16,18),[kt,Tt,Dt,Ft]=ar(this,Sl);return[(ar(this,Lx)+(et[0]-$t[0])/2-kt)/Dt,(ar(this,Ox)+(et[1]-$t[1])/2-Tt)/Ft,(ar(this,Lx)+($t[0]-et[0])/2-kt)/Dt,(ar(this,Ox)+($t[1]-et[1])/2-Tt)/Ft]},l2=new WeakSet,l_=function(){const[et,$t,kt,Tt]=ar(this,Sl),[Dt,Ft,Ut,Ht]=Br(this,Bx,Dv).call(this);return`M${(ar(this,Xs)[2]-et)/kt} ${(ar(this,Xs)[3]-$t)/Tt} L${(ar(this,Xs)[4]-et)/kt} ${(ar(this,Xs)[5]-$t)/Tt} L${Dt} ${Ft} L${Ut} ${Ht} L${(ar(this,Xs)[16]-et)/kt} ${(ar(this,Xs)[17]-$t)/Tt} L${(ar(this,Xs)[14]-et)/kt} ${(ar(this,Xs)[15]-$t)/Tt} Z`},d2=new WeakSet,c_=function(et){const $t=ar(this,su);et.push(`L${$t[4]} ${$t[5]} Z`)},u2=new WeakSet,d_=function(et){const[$t,kt,Tt,Dt]=ar(this,Sl),Ft=ar(this,Xs).subarray(4,6),Ut=ar(this,Xs).subarray(16,18),[Ht,Kt,Yt,Jt]=Br(this,Bx,Dv).call(this);et.push(`L${(Ft[0]-$t)/Tt} ${(Ft[1]-kt)/Dt} L${Ht} ${Kt} L${Yt} ${Jt} L${(Ut[0]-$t)/Tt} ${(Ut[1]-kt)/Dt}`)},h2=new WeakSet,u_=function(et){const $t=ar(this,Xs),[kt,Tt,Dt,Ft]=ar(this,Sl),[Ut,Ht,Kt,Yt]=Br(this,Bx,Dv).call(this),Jt=new Float32Array(36);return Jt.set([NaN,NaN,NaN,NaN,($t[2]-kt)/Dt,($t[3]-Tt)/Ft,NaN,NaN,NaN,NaN,($t[4]-kt)/Dt,($t[5]-Tt)/Ft,NaN,NaN,NaN,NaN,Ut,Ht,NaN,NaN,NaN,NaN,Kt,Yt,NaN,NaN,NaN,NaN,($t[16]-kt)/Dt,($t[17]-Tt)/Ft,NaN,NaN,NaN,NaN,($t[14]-kt)/Dt,($t[15]-Tt)/Ft],0),this.newFreeDrawOutline(Jt,et,ar(this,Sl),ar(this,zy),ar(this,By),ar(this,Vy))},p2=new WeakSet,h_=function(et,$t){const kt=ar(this,su);return et.set([NaN,NaN,NaN,NaN,kt[4],kt[5]],$t),$t+=6},f2=new WeakSet,p_=function(et,$t){const kt=ar(this,Xs).subarray(4,6),Tt=ar(this,Xs).subarray(16,18),[Dt,Ft,Ut,Ht]=ar(this,Sl),[Kt,Yt,Jt,Zt]=Br(this,Bx,Dv).call(this);return et.set([NaN,NaN,NaN,NaN,(kt[0]-Dt)/Ut,(kt[1]-Ft)/Ht,NaN,NaN,NaN,NaN,Kt,Yt,NaN,NaN,NaN,NaN,Jt,Zt,NaN,NaN,NaN,NaN,(Tt[0]-Dt)/Ut,(Tt[1]-Ft)/Ht],$t),$t+=24},yr(Lu,VE,8),yr(Lu,a2,2),yr(Lu,o2,ar(Lu,VE)+ar(Lu,a2));let FreeDrawOutliner=Lu;var Hy,Vx,mp,zE,_l,UE,Jn,m2,f_;class FreeDrawOutline extends Outline{constructor($t,kt,Tt,Dt,Ft,Ut){super();yr(this,m2);yr(this,Hy,void 0);yr(this,Vx,new Float32Array(4));yr(this,mp,void 0);yr(this,zE,void 0);yr(this,_l,void 0);yr(this,UE,void 0);yr(this,Jn,void 0);jr(this,Jn,$t),jr(this,_l,kt),jr(this,Hy,Tt),jr(this,UE,Dt),jr(this,mp,Ft),jr(this,zE,Ut),this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],Br(this,m2,f_).call(this,Ut);const[Ht,Kt,Yt,Jt]=ar(this,Vx);for(let Zt=0,er=$t.length;Zt<er;Zt+=2)$t[Zt]=($t[Zt]-Ht)/Yt,$t[Zt+1]=($t[Zt+1]-Kt)/Jt;for(let Zt=0,er=kt.length;Zt<er;Zt+=2)kt[Zt]=(kt[Zt]-Ht)/Yt,kt[Zt+1]=(kt[Zt+1]-Kt)/Jt}toSVGPath(){const $t=[`M${ar(this,Jn)[4]} ${ar(this,Jn)[5]}`];for(let kt=6,Tt=ar(this,Jn).length;kt<Tt;kt+=6){if(isNaN(ar(this,Jn)[kt])){$t.push(`L${ar(this,Jn)[kt+4]} ${ar(this,Jn)[kt+5]}`);continue}$t.push(`C${ar(this,Jn)[kt]} ${ar(this,Jn)[kt+1]} ${ar(this,Jn)[kt+2]} ${ar(this,Jn)[kt+3]} ${ar(this,Jn)[kt+4]} ${ar(this,Jn)[kt+5]}`)}return $t.push("Z"),$t.join(" ")}serialize([$t,kt,Tt,Dt],Ft){const Ut=Tt-$t,Ht=Dt-kt;let Kt,Yt;switch(Ft){case 0:Kt=Outline._rescale(ar(this,Jn),$t,Dt,Ut,-Ht),Yt=Outline._rescale(ar(this,_l),$t,Dt,Ut,-Ht);break;case 90:Kt=Outline._rescaleAndSwap(ar(this,Jn),$t,kt,Ut,Ht),Yt=Outline._rescaleAndSwap(ar(this,_l),$t,kt,Ut,Ht);break;case 180:Kt=Outline._rescale(ar(this,Jn),Tt,kt,-Ut,Ht),Yt=Outline._rescale(ar(this,_l),Tt,kt,-Ut,Ht);break;case 270:Kt=Outline._rescaleAndSwap(ar(this,Jn),Tt,Dt,-Ut,-Ht),Yt=Outline._rescaleAndSwap(ar(this,_l),Tt,Dt,-Ut,-Ht);break}return{outline:Array.from(Kt),points:[Array.from(Yt)]}}get box(){return ar(this,Vx)}newOutliner($t,kt,Tt,Dt,Ft,Ut=0){return new FreeDrawOutliner($t,kt,Tt,Dt,Ft,Ut)}getNewOutline($t,kt){const[Tt,Dt,Ft,Ut]=ar(this,Vx),[Ht,Kt,Yt,Jt]=ar(this,Hy),Zt=Ft*Yt,er=Ut*Jt,rr=Tt*Yt+Ht,sr=Dt*Jt+Kt,ir=this.newOutliner({x:ar(this,_l)[0]*Zt+rr,y:ar(this,_l)[1]*er+sr},ar(this,Hy),ar(this,UE),$t,ar(this,zE),kt??ar(this,mp));for(let nr=2;nr<ar(this,_l).length;nr+=2)ir.add({x:ar(this,_l)[nr]*Zt+rr,y:ar(this,_l)[nr+1]*er+sr});return ir.getOutlines()}}Hy=new WeakMap,Vx=new WeakMap,mp=new WeakMap,zE=new WeakMap,_l=new WeakMap,UE=new WeakMap,Jn=new WeakMap,m2=new WeakSet,f_=function($t){const kt=ar(this,Jn);let Tt=kt[4],Dt=kt[5];const Ft=[Tt,Dt,Tt,Dt];let Ut=Tt,Ht=Dt,Kt=Tt,Yt=Dt;const Jt=$t?Math.max:Math.min,Zt=new Float32Array(4);for(let rr=6,sr=kt.length;rr<sr;rr+=6){const ir=kt[rr+4],nr=kt[rr+5];isNaN(kt[rr])?(Util.pointBoundingBox(ir,nr,Ft),Ht>nr?(Ut=ir,Ht=nr):Ht===nr&&(Ut=Jt(Ut,ir)),Yt<nr?(Kt=ir,Yt=nr):Yt===nr&&(Kt=Jt(Kt,ir))):(Zt[0]=Zt[1]=1/0,Zt[2]=Zt[3]=-1/0,Util.bezierBoundingBox(Tt,Dt,...kt.slice(rr,rr+6),Zt),Util.rectBoundingBox(Zt[0],Zt[1],Zt[2],Zt[3],Ft),Ht>Zt[1]?(Ut=Zt[0],Ht=Zt[1]):Ht===Zt[1]&&(Ut=Jt(Ut,Zt[0])),Yt<Zt[3]?(Kt=Zt[2],Yt=Zt[3]):Yt===Zt[3]&&(Kt=Jt(Kt,Zt[2]))),Tt=ir,Dt=nr}const er=ar(this,Vx);er[0]=Ft[0]-ar(this,mp),er[1]=Ft[1]-ar(this,mp),er[2]=Ft[2]-Ft[0]+2*ar(this,mp),er[3]=Ft[3]-Ft[1]+2*ar(this,mp),this.firstPoint=[Ut,Ht],this.lastPoint=[Kt,Yt]};var HE,GE,WE,dm,nu,x2,m_,Gy,Lw,g2,x_,b2,g_,qE,M$;class HighlightOutliner{constructor(et,$t=0,kt=0,Tt=!0){yr(this,x2);yr(this,Gy);yr(this,g2);yr(this,b2);yr(this,qE);yr(this,HE,void 0);yr(this,GE,void 0);yr(this,WE,void 0);yr(this,dm,[]);yr(this,nu,[]);const Dt=[1/0,1/0,-1/0,-1/0],Ut=10**-4;for(const{x:ir,y:nr,width:or,height:lr}of et){const cr=Math.floor((ir-$t)/Ut)*Ut,dr=Math.ceil((ir+or+$t)/Ut)*Ut,ur=Math.floor((nr-$t)/Ut)*Ut,pr=Math.ceil((nr+lr+$t)/Ut)*Ut,mr=[cr,ur,pr,!0],vr=[dr,ur,pr,!1];ar(this,dm).push(mr,vr),Util.rectBoundingBox(cr,ur,dr,pr,Dt)}const Ht=Dt[2]-Dt[0]+2*kt,Kt=Dt[3]-Dt[1]+2*kt,Yt=Dt[0]-kt,Jt=Dt[1]-kt;let Zt=Tt?-1/0:1/0,er=1/0;const rr=ar(this,dm).at(Tt?-1:-2),sr=[rr[0],rr[2]];for(const ir of ar(this,dm)){const[nr,or,lr,cr]=ir;!cr&&Tt?or<er?(er=or,Zt=nr):or===er&&(Zt=Math.max(Zt,nr)):cr&&!Tt&&(or<er?(er=or,Zt=nr):or===er&&(Zt=Math.min(Zt,nr))),ir[0]=(nr-Yt)/Ht,ir[1]=(or-Jt)/Kt,ir[2]=(lr-Jt)/Kt}jr(this,HE,new Float32Array([Yt,Jt,Ht,Kt])),jr(this,GE,[Zt,er]),jr(this,WE,sr)}getOutlines(){ar(this,dm).sort(($t,kt)=>$t[0]-kt[0]||$t[1]-kt[1]||$t[2]-kt[2]);const et=[];for(const $t of ar(this,dm))$t[3]?(et.push(...Br(this,qE,M$).call(this,$t)),Br(this,g2,x_).call(this,$t)):(Br(this,b2,g_).call(this,$t),et.push(...Br(this,qE,M$).call(this,$t)));return Br(this,x2,m_).call(this,et)}}HE=new WeakMap,GE=new WeakMap,WE=new WeakMap,dm=new WeakMap,nu=new WeakMap,x2=new WeakSet,m_=function(et){const $t=[],kt=new Set;for(const Ft of et){const[Ut,Ht,Kt]=Ft;$t.push([Ut,Ht,Ft],[Ut,Kt,Ft])}$t.sort((Ft,Ut)=>Ft[1]-Ut[1]||Ft[0]-Ut[0]);for(let Ft=0,Ut=$t.length;Ft<Ut;Ft+=2){const Ht=$t[Ft][2],Kt=$t[Ft+1][2];Ht.push(Kt),Kt.push(Ht),kt.add(Ht),kt.add(Kt)}const Tt=[];let Dt;for(;kt.size>0;){const Ft=kt.values().next().value;let[Ut,Ht,Kt,Yt,Jt]=Ft;kt.delete(Ft);let Zt=Ut,er=Ht;for(Dt=[Ut,Kt],Tt.push(Dt);;){let rr;if(kt.has(Yt))rr=Yt;else if(kt.has(Jt))rr=Jt;else break;kt.delete(rr),[Ut,Ht,Kt,Yt,Jt]=rr,Zt!==Ut&&(Dt.push(Zt,er,Ut,er===Ht?Ht:Kt),Zt=Ut),er=er===Ht?Kt:Ht}Dt.push(Zt,er)}return new HighlightOutline(Tt,ar(this,HE),ar(this,GE),ar(this,WE))},Gy=new WeakSet,Lw=function(et){const $t=ar(this,nu);let kt=0,Tt=$t.length-1;for(;kt<=Tt;){const Dt=kt+Tt>>1,Ft=$t[Dt][0];if(Ft===et)return Dt;Ft<et?kt=Dt+1:Tt=Dt-1}return Tt+1},g2=new WeakSet,x_=function([,et,$t]){const kt=Br(this,Gy,Lw).call(this,et);ar(this,nu).splice(kt,0,[et,$t])},b2=new WeakSet,g_=function([,et,$t]){const kt=Br(this,Gy,Lw).call(this,et);for(let Tt=kt;Tt<ar(this,nu).length;Tt++){const[Dt,Ft]=ar(this,nu)[Tt];if(Dt!==et)break;if(Dt===et&&Ft===$t){ar(this,nu).splice(Tt,1);return}}for(let Tt=kt-1;Tt>=0;Tt--){const[Dt,Ft]=ar(this,nu)[Tt];if(Dt!==et)break;if(Dt===et&&Ft===$t){ar(this,nu).splice(Tt,1);return}}},qE=new WeakSet,M$=function(et){const[$t,kt,Tt]=et,Dt=[[$t,kt,Tt]],Ft=Br(this,Gy,Lw).call(this,Tt);for(let Ut=0;Ut<Ft;Ut++){const[Ht,Kt]=ar(this,nu)[Ut];for(let Yt=0,Jt=Dt.length;Yt<Jt;Yt++){const[,Zt,er]=Dt[Yt];if(!(Kt<=Zt||er<=Ht)){if(Zt>=Ht){if(er>Kt)Dt[Yt][1]=Kt;else{if(Jt===1)return[];Dt.splice(Yt,1),Yt--,Jt--}continue}Dt[Yt][2]=Ht,er>Kt&&Dt.push([$t,Kt,er])}}}return Dt};var KE,Wy;class HighlightOutline extends Outline{constructor($t,kt,Tt,Dt){super();yr(this,KE,void 0);yr(this,Wy,void 0);jr(this,Wy,$t),jr(this,KE,kt),this.firstPoint=Tt,this.lastPoint=Dt}toSVGPath(){const $t=[];for(const kt of ar(this,Wy)){let[Tt,Dt]=kt;$t.push(`M${Tt} ${Dt}`);for(let Ft=2;Ft<kt.length;Ft+=2){const Ut=kt[Ft],Ht=kt[Ft+1];Ut===Tt?($t.push(`V${Ht}`),Dt=Ht):Ht===Dt&&($t.push(`H${Ut}`),Tt=Ut)}$t.push("Z")}return $t.join(" ")}serialize([$t,kt,Tt,Dt],Ft){const Ut=[],Ht=Tt-$t,Kt=Dt-kt;for(const Yt of ar(this,Wy)){const Jt=new Array(Yt.length);for(let Zt=0;Zt<Yt.length;Zt+=2)Jt[Zt]=$t+Yt[Zt]*Ht,Jt[Zt+1]=Dt-Yt[Zt+1]*Kt;Ut.push(Jt)}return Ut}get box(){return ar(this,KE)}get classNamesForOutlining(){return["highlightOutline"]}}KE=new WeakMap,Wy=new WeakMap;class FreeHighlightOutliner extends FreeDrawOutliner{newFreeDrawOutline(et,$t,kt,Tt,Dt,Ft){return new FreeHighlightOutline(et,$t,kt,Tt,Dt,Ft)}}class FreeHighlightOutline extends FreeDrawOutline{newOutliner(et,$t,kt,Tt,Dt,Ft=0){return new FreeHighlightOutliner(et,$t,kt,Tt,Dt,Ft)}}var qy,YE,xp,zx,XE,Go,QE,JE,Ux,Cl,Al,wo,Ky,Yy,Po,Xy,Hl,ZE,$j,I$,Qy,Ow,y2,b_,v2,y_,E2,v_,_j,D$,gp,Cm,um,f0,j2,E_,Jy,Bw,Zy,Vw,w2,j_,R2,w_,$2,R_,k2,$_,S2,k_;const ln=class ln extends AnnotationEditor{constructor($t){super({...$t,name:"highlightEditor"});yr(this,$j);yr(this,Qy);yr(this,y2);yr(this,v2);yr(this,E2);yr(this,_j);yr(this,gp);yr(this,j2);yr(this,Jy);yr(this,Zy);yr(this,w2);yr(this,R2);yr(this,S2);yr(this,qy,null);yr(this,YE,0);yr(this,xp,void 0);yr(this,zx,null);yr(this,XE,null);yr(this,Go,null);yr(this,QE,null);yr(this,JE,0);yr(this,Ux,null);yr(this,Cl,null);yr(this,Al,null);yr(this,wo,!1);yr(this,Ky,null);yr(this,Yy,null);yr(this,Po,null);yr(this,Xy,"");yr(this,Hl,void 0);yr(this,ZE,"");this.color=$t.color||ln._defaultColor,jr(this,Hl,$t.thickness||ln._defaultThickness),this.opacity=$t.opacity||ln._defaultOpacity,jr(this,xp,$t.boxes||null),jr(this,ZE,$t.methodOfCreation||""),jr(this,Xy,$t.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",$t.highlightId>-1?(jr(this,wo,!0),Br(this,Qy,Ow).call(this,$t),Br(this,gp,Cm).call(this)):ar(this,xp)&&(jr(this,qy,$t.anchorNode),jr(this,YE,$t.anchorOffset),jr(this,QE,$t.focusNode),jr(this,JE,$t.focusOffset),Br(this,$j,I$).call(this),Br(this,gp,Cm).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const $t=ln.prototype;return shadow(this,"_keyboardManager",new KeyboardManager([[["ArrowLeft","mac+ArrowLeft"],$t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],$t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],$t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],$t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:ar(this,wo)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:ar(this,Hl),methodOfCreation:ar(this,ZE)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData($t){return{numberOfColors:$t.get("color").size}}static initialize($t,kt){var Tt;AnnotationEditor.initialize($t,kt),ln._defaultColor||(ln._defaultColor=((Tt=kt.highlightColors)==null?void 0:Tt.values().next().value)||"#fff066")}static updateDefaultParams($t,kt){switch($t){case AnnotationEditorParamsType.HIGHLIGHT_COLOR:ln._defaultColor=kt;break;case AnnotationEditorParamsType.HIGHLIGHT_THICKNESS:ln._defaultThickness=kt;break}}translateInPage($t,kt){}get toolbarPosition(){return ar(this,Yy)}get commentButtonPosition(){return ar(this,Ky)}updateParams($t,kt){switch($t){case AnnotationEditorParamsType.HIGHLIGHT_COLOR:Br(this,y2,b_).call(this,kt);break;case AnnotationEditorParamsType.HIGHLIGHT_THICKNESS:Br(this,v2,y_).call(this,kt);break}}static get defaultPropertiesToUpdate(){return[[AnnotationEditorParamsType.HIGHLIGHT_COLOR,ln._defaultColor],[AnnotationEditorParamsType.HIGHLIGHT_THICKNESS,ln._defaultThickness]]}get propertiesToUpdate(){return[[AnnotationEditorParamsType.HIGHLIGHT_COLOR,this.color||ln._defaultColor],[AnnotationEditorParamsType.HIGHLIGHT_THICKNESS,ar(this,Hl)||ln._defaultThickness],[AnnotationEditorParamsType.HIGHLIGHT_FREE,ar(this,wo)]]}onUpdatedColor(){var $t,kt;($t=this.parent)==null||$t.drawLayer.updateProperties(ar(this,Al),{root:{fill:this.color,"fill-opacity":this.opacity}}),(kt=ar(this,XE))==null||kt.updateColor(this.color),super.onUpdatedColor()}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",jr(this,XE,new ColorPicker({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(Br(this,Zy,Vw).call(this))}getBaseTranslation(){return[0,0]}getRect($t,kt){return super.getRect($t,kt,Br(this,Zy,Vw).call(this))}onceAdded($t){this.annotationElementId||this.parent.addUndoableEditor(this),$t&&this.div.focus()}remove(){Br(this,_j,D$).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(Br(this,gp,Cm).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent($t){var Tt;let kt=!1;this.parent&&!$t?Br(this,_j,D$).call(this):$t&&(Br(this,gp,Cm).call(this,$t),kt=!this.parent&&((Tt=this.div)==null?void 0:Tt.classList.contains("selectedEditor"))),super.setParent($t),this.show(this._isVisible),kt&&this.select()}rotate($t){var Dt,Ft,Ut;const{drawLayer:kt}=this.parent;let Tt;ar(this,wo)?($t=($t-this.rotation+360)%360,Tt=Br(Dt=ln,um,f0).call(Dt,ar(this,Cl).box,$t)):Tt=Br(Ft=ln,um,f0).call(Ft,[this.x,this.y,this.width,this.height],$t),kt.updateProperties(ar(this,Al),{bbox:Tt,root:{"data-main-rotation":$t}}),kt.updateProperties(ar(this,Po),{bbox:Br(Ut=ln,um,f0).call(Ut,ar(this,Go).box,$t),root:{"data-main-rotation":$t}})}render(){if(this.div)return this.div;const $t=super.render();ar(this,Xy)&&($t.setAttribute("aria-label",ar(this,Xy)),$t.setAttribute("role","mark")),ar(this,wo)?$t.classList.add("free"):this.div.addEventListener("keydown",Br(this,j2,E_).bind(this),{signal:this._uiManager._signal});const kt=jr(this,Ux,document.createElement("div"));return $t.append(kt),kt.setAttribute("aria-hidden","true"),kt.className="internal",kt.style.clipPath=ar(this,zx),this.setDims(this.width,this.height),bindEvents(this,ar(this,Ux),["pointerover","pointerleave"]),this.enableEditing(),$t}pointerover(){var $t;this.isSelected||($t=this.parent)==null||$t.drawLayer.updateProperties(ar(this,Po),{rootClass:{hovered:!0}})}pointerleave(){var $t;this.isSelected||($t=this.parent)==null||$t.drawLayer.updateProperties(ar(this,Po),{rootClass:{hovered:!1}})}_moveCaret($t){switch(this.parent.unselect(this),$t){case 0:case 2:Br(this,Jy,Bw).call(this,!0);break;case 1:case 3:Br(this,Jy,Bw).call(this,!1);break}}select(){var $t;super.select(),ar(this,Po)&&(($t=this.parent)==null||$t.drawLayer.updateProperties(ar(this,Po),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var $t;super.unselect(),ar(this,Po)&&(($t=this.parent)==null||$t.drawLayer.updateProperties(ar(this,Po),{rootClass:{selected:!1}}),ar(this,wo)||Br(this,Jy,Bw).call(this,!1))}get _mustFixPosition(){return!ar(this,wo)}show($t=this._isVisible){super.show($t),this.parent&&(this.parent.drawLayer.updateProperties(ar(this,Al),{rootClass:{hidden:!$t}}),this.parent.drawLayer.updateProperties(ar(this,Po),{rootClass:{hidden:!$t}}))}static startHighlighting($t,kt,{target:Tt,x:Dt,y:Ft}){const{x:Ut,y:Ht,width:Kt,height:Yt}=Tt.getBoundingClientRect(),Jt=new AbortController,Zt=$t.combinedSignal(Jt),er=rr=>{Jt.abort(),Br(this,k2,$_).call(this,$t,rr)};window.addEventListener("blur",er,{signal:Zt}),window.addEventListener("pointerup",er,{signal:Zt}),window.addEventListener("pointerdown",stopEvent,{capture:!0,passive:!1,signal:Zt}),window.addEventListener("contextmenu",noContextMenu,{signal:Zt}),Tt.addEventListener("pointermove",Br(this,$2,R_).bind(this,$t),{signal:Zt}),this._freeHighlight=new FreeHighlightOutliner({x:Dt,y:Ft},[Ut,Ht,Kt,Yt],$t.scale,this._defaultThickness/2,kt,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=$t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize($t,kt,Tt){var sr,ir,nr,or;let Dt=null;if($t instanceof HighlightAnnotationElement){const{data:{quadPoints:lr,rect:cr,rotation:dr,id:ur,color:pr,opacity:mr,popupRef:vr,richText:kr,contentsObj:br,creationDate:_r,modificationDate:Or},parent:{page:{pageNumber:Pr}}}=$t;Dt=$t={annotationType:AnnotationEditorType.HIGHLIGHT,color:Array.from(pr),opacity:mr,quadPoints:lr,boxes:null,pageIndex:Pr-1,rect:cr.slice(0),rotation:dr,annotationElementId:ur,id:ur,deleted:!1,popupRef:vr,richText:kr,comment:(br==null?void 0:br.str)||null,creationDate:_r,modificationDate:Or}}else if($t instanceof InkAnnotationElement){const{data:{inkLists:lr,rect:cr,rotation:dr,id:ur,color:pr,borderStyle:{rawWidth:mr},popupRef:vr,richText:kr,contentsObj:br,creationDate:_r,modificationDate:Or},parent:{page:{pageNumber:Pr}}}=$t;Dt=$t={annotationType:AnnotationEditorType.HIGHLIGHT,color:Array.from(pr),thickness:mr,inkLists:lr,boxes:null,pageIndex:Pr-1,rect:cr.slice(0),rotation:dr,annotationElementId:ur,id:ur,deleted:!1,popupRef:vr,richText:kr,comment:(br==null?void 0:br.str)||null,creationDate:_r,modificationDate:Or}}const{color:Ft,quadPoints:Ut,inkLists:Ht,opacity:Kt}=$t,Yt=await super.deserialize($t,kt,Tt);Yt.color=Util.makeHexColor(...Ft),Yt.opacity=Kt||1,Ht&&jr(Yt,Hl,$t.thickness),Yt._initialData=Dt,$t.comment&&Yt.setCommentData($t);const[Jt,Zt]=Yt.pageDimensions,[er,rr]=Yt.pageTranslation;if(Ut){const lr=jr(Yt,xp,[]);for(let cr=0;cr<Ut.length;cr+=8)lr.push({x:(Ut[cr]-er)/Jt,y:1-(Ut[cr+1]-rr)/Zt,width:(Ut[cr+2]-Ut[cr])/Jt,height:(Ut[cr+1]-Ut[cr+5])/Zt});Br(sr=Yt,$j,I$).call(sr),Br(ir=Yt,gp,Cm).call(ir),Yt.rotate(Yt.rotation)}else if(Ht){jr(Yt,wo,!0);const lr=Ht[0],cr={x:lr[0]-er,y:Zt-(lr[1]-rr)},dr=new FreeHighlightOutliner(cr,[0,0,Jt,Zt],1,ar(Yt,Hl)/2,!0,.001);for(let mr=0,vr=lr.length;mr<vr;mr+=2)cr.x=lr[mr]-er,cr.y=Zt-(lr[mr+1]-rr),dr.add(cr);const{id:ur,clipPathId:pr}=kt.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:Yt.color,"fill-opacity":Yt._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:dr.toSVGPath()}},!0,!0);Br(nr=Yt,Qy,Ow).call(nr,{highlightOutlines:dr.getOutlines(),highlightId:ur,clipPathId:pr}),Br(or=Yt,gp,Cm).call(or),Yt.rotate(Yt.parentRotation)}return Yt}serialize($t=!1){if(this.isEmpty()||$t)return null;if(this.deleted)return this.serializeDeleted();const kt=AnnotationEditor._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),Tt=super.serialize($t);return Object.assign(Tt,{color:kt,opacity:this.opacity,thickness:ar(this,Hl),quadPoints:Br(this,w2,j_).call(this),outlines:Br(this,R2,w_).call(this,Tt.rect)}),this.addComment(Tt),this.annotationElementId&&!Br(this,S2,k_).call(this,Tt)?null:(Tt.id=this.annotationElementId,Tt)}renderAnnotationElement($t){return this.deleted?($t.hide(),null):($t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}};qy=new WeakMap,YE=new WeakMap,xp=new WeakMap,zx=new WeakMap,XE=new WeakMap,Go=new WeakMap,QE=new WeakMap,JE=new WeakMap,Ux=new WeakMap,Cl=new WeakMap,Al=new WeakMap,wo=new WeakMap,Ky=new WeakMap,Yy=new WeakMap,Po=new WeakMap,Xy=new WeakMap,Hl=new WeakMap,ZE=new WeakMap,$j=new WeakSet,I$=function(){const $t=new HighlightOutliner(ar(this,xp),.001);jr(this,Cl,$t.getOutlines()),[this.x,this.y,this.width,this.height]=ar(this,Cl).box;const kt=new HighlightOutliner(ar(this,xp),.0025,.001,this._uiManager.direction==="ltr");jr(this,Go,kt.getOutlines());const{firstPoint:Tt}=ar(this,Cl);jr(this,Ky,[(Tt[0]-this.x)/this.width,(Tt[1]-this.y)/this.height]);const{lastPoint:Dt}=ar(this,Go);jr(this,Yy,[(Dt[0]-this.x)/this.width,(Dt[1]-this.y)/this.height])},Qy=new WeakSet,Ow=function({highlightOutlines:$t,highlightId:kt,clipPathId:Tt}){var Zt,er;jr(this,Cl,$t);const Dt=1.5;if(jr(this,Go,$t.getNewOutline(ar(this,Hl)/2+Dt,.0025)),kt>=0)jr(this,Al,kt),jr(this,zx,Tt),this.parent.drawLayer.finalizeDraw(kt,{bbox:$t.box,path:{d:$t.toSVGPath()}}),jr(this,Po,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:ar(this,Go).box,path:{d:ar(this,Go).toSVGPath()}},!0));else if(this.parent){const rr=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(ar(this,Al),{bbox:Br(Zt=ln,um,f0).call(Zt,ar(this,Cl).box,(rr-this.rotation+360)%360),path:{d:$t.toSVGPath()}}),this.parent.drawLayer.updateProperties(ar(this,Po),{bbox:Br(er=ln,um,f0).call(er,ar(this,Go).box,rr),path:{d:ar(this,Go).toSVGPath()}})}const[Ft,Ut,Ht,Kt]=$t.box;switch(this.rotation){case 0:this.x=Ft,this.y=Ut,this.width=Ht,this.height=Kt;break;case 90:{const[rr,sr]=this.parentDimensions;this.x=Ut,this.y=1-Ft,this.width=Ht*sr/rr,this.height=Kt*rr/sr;break}case 180:this.x=1-Ft,this.y=1-Ut,this.width=Ht,this.height=Kt;break;case 270:{const[rr,sr]=this.parentDimensions;this.x=1-Ut,this.y=Ft,this.width=Ht*sr/rr,this.height=Kt*rr/sr;break}}const{firstPoint:Yt}=$t;jr(this,Ky,[(Yt[0]-Ft)/Ht,(Yt[1]-Ut)/Kt]);const{lastPoint:Jt}=ar(this,Go);jr(this,Yy,[(Jt[0]-Ft)/Ht,(Jt[1]-Ut)/Kt])},y2=new WeakSet,b_=function($t){const kt=(Ft,Ut)=>{this.color=Ft,this.opacity=Ut,this.onUpdatedColor()},Tt=this.color,Dt=this.opacity;this.addCommands({cmd:kt.bind(this,$t,ln._defaultOpacity),undo:kt.bind(this,Tt,Dt),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName($t)},!0)},v2=new WeakSet,y_=function($t){const kt=ar(this,Hl),Tt=Dt=>{jr(this,Hl,Dt),Br(this,E2,v_).call(this,Dt)};this.addCommands({cmd:Tt.bind(this,$t),undo:Tt.bind(this,kt),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:$t},!0)},E2=new WeakSet,v_=function($t){ar(this,wo)&&(Br(this,Qy,Ow).call(this,{highlightOutlines:ar(this,Cl).getNewOutline($t/2)}),this.fixAndSetPosition(),this.setDims(this.width,this.height))},_j=new WeakSet,D$=function(){ar(this,Al)===null||!this.parent||(this.parent.drawLayer.remove(ar(this,Al)),jr(this,Al,null),this.parent.drawLayer.remove(ar(this,Po)),jr(this,Po,null))},gp=new WeakSet,Cm=function($t=this.parent){ar(this,Al)===null&&({id:xa(this,Al)._,clipPathId:xa(this,zx)._}=$t.drawLayer.draw({bbox:ar(this,Cl).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:ar(this,wo)},path:{d:ar(this,Cl).toSVGPath()}},!1,!0),jr(this,Po,$t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:ar(this,wo)},bbox:ar(this,Go).box,path:{d:ar(this,Go).toSVGPath()}},ar(this,wo))),ar(this,Ux)&&(ar(this,Ux).style.clipPath=ar(this,zx)))},um=new WeakSet,f0=function([$t,kt,Tt,Dt],Ft){switch(Ft){case 90:return[1-kt-Dt,$t,Dt,Tt];case 180:return[1-$t-Tt,1-kt-Dt,Tt,Dt];case 270:return[kt,1-$t-Tt,Dt,Tt]}return[$t,kt,Tt,Dt]},j2=new WeakSet,E_=function($t){ln._keyboardManager.exec(this,$t)},Jy=new WeakSet,Bw=function($t){if(!ar(this,qy))return;const kt=window.getSelection();$t?kt.setPosition(ar(this,qy),ar(this,YE)):kt.setPosition(ar(this,QE),ar(this,JE))},Zy=new WeakSet,Vw=function(){return ar(this,wo)?this.rotation:0},w2=new WeakSet,j_=function(){if(ar(this,wo))return null;const[$t,kt]=this.pageDimensions,[Tt,Dt]=this.pageTranslation,Ft=ar(this,xp),Ut=new Float32Array(Ft.length*8);let Ht=0;for(const{x:Kt,y:Yt,width:Jt,height:Zt}of Ft){const er=Kt*$t+Tt,rr=(1-Yt)*kt+Dt;Ut[Ht]=Ut[Ht+4]=er,Ut[Ht+1]=Ut[Ht+3]=rr,Ut[Ht+2]=Ut[Ht+6]=er+Jt*$t,Ut[Ht+5]=Ut[Ht+7]=rr-Zt*kt,Ht+=8}return Ut},R2=new WeakSet,w_=function($t){return ar(this,Cl).serialize($t,Br(this,Zy,Vw).call(this))},$2=new WeakSet,R_=function($t,kt){this._freeHighlight.add(kt)&&$t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},k2=new WeakSet,$_=function($t,kt){this._freeHighlight.isEmpty()?$t.drawLayer.remove(this._freeHighlightId):$t.createAndAddNewEditor(kt,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},S2=new WeakSet,k_=function($t){const{color:kt}=this._initialData;return this.hasEditedComment||$t.color.some((Tt,Dt)=>Tt!==kt[Dt])},yr(ln,um),yr(ln,$2),yr(ln,k2),ys(ln,"_defaultColor",null),ys(ln,"_defaultOpacity",1),ys(ln,"_defaultThickness",12),ys(ln,"_type","highlight"),ys(ln,"_editorType",AnnotationEditorType.HIGHLIGHT),ys(ln,"_freeHighlightId",-1),ys(ln,"_freeHighlight",null),ys(ln,"_freeHighlightClipId","");let HighlightEditor=ln;var Hx;class DrawingOptions{constructor(){yr(this,Hx,Object.create(null))}updateProperty(et,$t){this[et]=$t,this.updateSVGProperty(et,$t)}updateProperties(et){if(et)for(const[$t,kt]of Object.entries(et))$t.startsWith("_")||this.updateProperty($t,kt)}updateSVGProperty(et,$t){ar(this,Hx)[et]=$t}toSVGProperties(){const et=ar(this,Hx);return jr(this,Hx,Object.create(null)),{root:et}}reset(){jr(this,Hx,Object.create(null))}updateAll(et=this){this.updateProperties(et)}clone(){unreachable("Not implemented")}}Hx=new WeakMap;var Tl,ev,uo,Gx,Wx,hm,pm,fm,qx,ew,F$,tw,L$,rw,O$,Kx,Fv,_2,S_,tv,zw,Yx,Lv,mm,m0;const As=class As extends AnnotationEditor{constructor($t){super($t);yr(this,ew);yr(this,tw);yr(this,rw);yr(this,Kx);yr(this,_2);yr(this,tv);yr(this,Yx);yr(this,mm);yr(this,Tl,null);yr(this,ev,void 0);ys(this,"_colorPicker",null);ys(this,"_drawId",null);jr(this,ev,$t.mustBeCommitted||!1),this._addOutlines($t)}onUpdatedColor(){var $t;($t=this._colorPicker)==null||$t.update(this.color),super.onUpdatedColor()}_addOutlines($t){$t.drawOutlines&&(Br(this,ew,F$).call(this,$t),Br(this,Kx,Fv).call(this))}static _mergeSVGProperties($t,kt){const Tt=new Set(Object.keys($t));for(const[Dt,Ft]of Object.entries(kt))Tt.has(Dt)?Object.assign($t[Dt],Ft):$t[Dt]=Ft;return $t}static getDefaultDrawingOptions($t){unreachable("Not implemented")}static get typesMap(){unreachable("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams($t,kt){const Tt=this.typesMap.get($t);Tt&&this._defaultDrawingOptions.updateProperty(Tt,kt),this._currentParent&&(ar(As,uo).updateProperty(Tt,kt),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams($t,kt){const Tt=this.constructor.typesMap.get($t);Tt&&this._updateProperty($t,Tt,kt)}static get defaultPropertiesToUpdate(){const $t=[],kt=this._defaultDrawingOptions;for(const[Tt,Dt]of this.typesMap)$t.push([Tt,kt[Dt]]);return $t}get propertiesToUpdate(){const $t=[],{_drawingOptions:kt}=this;for(const[Tt,Dt]of this.constructor.typesMap)$t.push([Tt,kt[Dt]]);return $t}_updateProperty($t,kt,Tt){const Dt=this._drawingOptions,Ft=Dt[kt],Ut=Ht=>{var Yt;Dt.updateProperty(kt,Ht);const Kt=ar(this,Tl).updateProperty(kt,Ht);Kt&&Br(this,Yx,Lv).call(this,Kt),(Yt=this.parent)==null||Yt.drawLayer.updateProperties(this._drawId,Dt.toSVGProperties()),$t===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:Ut.bind(this,Tt),undo:Ut.bind(this,Ft),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:$t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var $t;($t=this.parent)==null||$t.drawLayer.updateProperties(this._drawId,As._mergeSVGProperties(ar(this,Tl).getPathResizingSVGProperties(Br(this,tv,zw).call(this)),{bbox:Br(this,mm,m0).call(this)}))}_onResized(){var $t;($t=this.parent)==null||$t.drawLayer.updateProperties(this._drawId,As._mergeSVGProperties(ar(this,Tl).getPathResizedSVGProperties(Br(this,tv,zw).call(this)),{bbox:Br(this,mm,m0).call(this)}))}_onTranslating($t,kt){var Tt;(Tt=this.parent)==null||Tt.drawLayer.updateProperties(this._drawId,{bbox:Br(this,mm,m0).call(this)})}_onTranslated(){var $t;($t=this.parent)==null||$t.drawLayer.updateProperties(this._drawId,As._mergeSVGProperties(ar(this,Tl).getPathTranslatedSVGProperties(Br(this,tv,zw).call(this),this.parentDimensions),{bbox:Br(this,mm,m0).call(this)}))}_onStartDragging(){var $t;($t=this.parent)==null||$t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var $t;($t=this.parent)==null||$t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded($t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,ar(this,ev)&&(jr(this,ev,!1),this.commit(),this.parent.setSelected(this),$t&&this.isOnScreen&&this.div.focus())}remove(){Br(this,rw,O$).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(Br(this,Kx,Fv).call(this),Br(this,Yx,Lv).call(this,ar(this,Tl).box),this.isAttachedToDOM||this.parent.add(this)))}setParent($t){var Tt;let kt=!1;this.parent&&!$t?(this._uiManager.removeShouldRescale(this),Br(this,rw,O$).call(this)):$t&&(this._uiManager.addShouldRescale(this),Br(this,Kx,Fv).call(this,$t),kt=!this.parent&&((Tt=this.div)==null?void 0:Tt.classList.contains("selectedEditor"))),super.setParent($t),kt&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,As._mergeSVGProperties({bbox:Br(this,mm,m0).call(this)},ar(this,Tl).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&Br(this,Yx,Lv).call(this,ar(this,Tl).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let $t,kt;this._isCopy&&($t=this.x,kt=this.y);const Tt=super.render();Tt.classList.add("draw");const Dt=document.createElement("div");return Tt.append(Dt),Dt.setAttribute("aria-hidden","true"),Dt.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste($t,kt),Tt}static createDrawerInstance($t,kt,Tt,Dt,Ft){unreachable("Not implemented")}static startDrawing($t,kt,Tt,Dt){var ir;const{target:Ft,offsetX:Ut,offsetY:Ht,pointerId:Kt,pointerType:Yt}=Dt;if(ar(As,pm)&&ar(As,pm)!==Yt)return;const{viewport:{rotation:Jt}}=$t,{width:Zt,height:er}=Ft.getBoundingClientRect(),rr=jr(As,Gx,new AbortController),sr=$t.combinedSignal(rr);if(ar(As,hm)||jr(As,hm,Kt),ar(As,pm)??jr(As,pm,Yt),window.addEventListener("pointerup",nr=>{var or;ar(As,hm)===nr.pointerId?this._endDraw(nr):(or=ar(As,fm))==null||or.delete(nr.pointerId)},{signal:sr}),window.addEventListener("pointercancel",nr=>{var or;ar(As,hm)===nr.pointerId?this._currentParent.endDrawingSession():(or=ar(As,fm))==null||or.delete(nr.pointerId)},{signal:sr}),window.addEventListener("pointerdown",nr=>{ar(As,pm)===nr.pointerType&&((ar(As,fm)||jr(As,fm,new Set)).add(nr.pointerId),ar(As,uo).isCancellable()&&(ar(As,uo).removeLastElement(),ar(As,uo).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:sr}),window.addEventListener("contextmenu",noContextMenu,{signal:sr}),Ft.addEventListener("pointermove",this._drawMove.bind(this),{signal:sr}),Ft.addEventListener("touchmove",nr=>{nr.timeStamp===ar(As,qx)&&stopEvent(nr)},{signal:sr}),$t.toggleDrawing(),(ir=kt._editorUndoBar)==null||ir.hide(),ar(As,uo)){$t.drawLayer.updateProperties(this._currentDrawId,ar(As,uo).startNew(Ut,Ht,Zt,er,Jt));return}kt.updateUIForDefaultProperties(this),jr(As,uo,this.createDrawerInstance(Ut,Ht,Zt,er,Jt)),jr(As,Wx,this.getDefaultDrawingOptions()),this._currentParent=$t,{id:this._currentDrawId}=$t.drawLayer.draw(this._mergeSVGProperties(ar(As,Wx).toSVGProperties(),ar(As,uo).defaultSVGProperties),!0,!1)}static _drawMove($t){var Ft;if(jr(As,qx,-1),!ar(As,uo))return;const{offsetX:kt,offsetY:Tt,pointerId:Dt}=$t;if(ar(As,hm)===Dt){if(((Ft=ar(As,fm))==null?void 0:Ft.size)>=1){this._endDraw($t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,ar(As,uo).add(kt,Tt)),jr(As,qx,$t.timeStamp),stopEvent($t)}}static _cleanup($t){$t&&(this._currentDrawId=-1,this._currentParent=null,jr(As,uo,null),jr(As,Wx,null),jr(As,pm,null),jr(As,qx,NaN)),ar(As,Gx)&&(ar(As,Gx).abort(),jr(As,Gx,null),jr(As,hm,NaN),jr(As,fm,null))}static _endDraw($t){const kt=this._currentParent;if(kt){if(kt.toggleDrawing(!0),this._cleanup(!1),($t==null?void 0:$t.target)===kt.div&&kt.drawLayer.updateProperties(this._currentDrawId,ar(As,uo).end($t.offsetX,$t.offsetY)),this.supportMultipleDrawings){const Tt=ar(As,uo),Dt=this._currentDrawId,Ft=Tt.getLastElement();kt.addCommands({cmd:()=>{kt.drawLayer.updateProperties(Dt,Tt.setLastElement(Ft))},undo:()=>{kt.drawLayer.updateProperties(Dt,Tt.removeLastElement())},mustExec:!1,type:AnnotationEditorParamsType.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing($t){const kt=this._currentParent;if(!kt)return null;if(kt.toggleDrawing(!0),kt.cleanUndoStack(AnnotationEditorParamsType.DRAW_STEP),!ar(As,uo).isEmpty()){const{pageDimensions:[Tt,Dt],scale:Ft}=kt,Ut=kt.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:ar(As,uo).getOutlines(Tt*Ft,Dt*Ft,Ft,this._INNER_MARGIN),drawingOptions:ar(As,Wx),mustBeCommitted:!$t});return this._cleanup(!0),Ut}return kt.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions($t){}static deserializeDraw($t,kt,Tt,Dt,Ft,Ut){unreachable("Not implemented")}static async deserialize($t,kt,Tt){var Jt,Zt;const{rawDims:{pageWidth:Dt,pageHeight:Ft,pageX:Ut,pageY:Ht}}=kt.viewport,Kt=this.deserializeDraw(Ut,Ht,Dt,Ft,this._INNER_MARGIN,$t),Yt=await super.deserialize($t,kt,Tt);return Yt.createDrawingOptions($t),Br(Jt=Yt,ew,F$).call(Jt,{drawOutlines:Kt}),Br(Zt=Yt,Kx,Fv).call(Zt),Yt.onScaleChanging(),Yt.rotate(),Yt}serializeDraw($t){const[kt,Tt]=this.pageTranslation,[Dt,Ft]=this.pageDimensions;return ar(this,Tl).serialize([kt,Tt,Dt,Ft],$t)}renderAnnotationElement($t){return $t.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}};Tl=new WeakMap,ev=new WeakMap,uo=new WeakMap,Gx=new WeakMap,Wx=new WeakMap,hm=new WeakMap,pm=new WeakMap,fm=new WeakMap,qx=new WeakMap,ew=new WeakSet,F$=function({drawOutlines:$t,drawId:kt,drawingOptions:Tt}){jr(this,Tl,$t),this._drawingOptions||(this._drawingOptions=Tt),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),kt>=0?(this._drawId=kt,this.parent.drawLayer.finalizeDraw(kt,$t.defaultProperties)):this._drawId=Br(this,tw,L$).call(this,$t,this.parent),Br(this,Yx,Lv).call(this,$t.box)},tw=new WeakSet,L$=function($t,kt){const{id:Tt}=kt.drawLayer.draw(As._mergeSVGProperties(this._drawingOptions.toSVGProperties(),$t.defaultSVGProperties),!1,!1);return Tt},rw=new WeakSet,O$=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},Kx=new WeakSet,Fv=function($t=this.parent){if(!(this._drawId!==null&&this.parent===$t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,$t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=Br(this,tw,L$).call(this,ar(this,Tl),$t)}},_2=new WeakSet,S_=function([$t,kt,Tt,Dt]){const{parentDimensions:[Ft,Ut],rotation:Ht}=this;switch(Ht){case 90:return[kt,1-$t,Tt*(Ut/Ft),Dt*(Ft/Ut)];case 180:return[1-$t,1-kt,Tt,Dt];case 270:return[1-kt,$t,Tt*(Ut/Ft),Dt*(Ft/Ut)];default:return[$t,kt,Tt,Dt]}},tv=new WeakSet,zw=function(){const{x:$t,y:kt,width:Tt,height:Dt,parentDimensions:[Ft,Ut],rotation:Ht}=this;switch(Ht){case 90:return[1-kt,$t,Tt*(Ft/Ut),Dt*(Ut/Ft)];case 180:return[1-$t,1-kt,Tt,Dt];case 270:return[kt,1-$t,Tt*(Ft/Ut),Dt*(Ut/Ft)];default:return[$t,kt,Tt,Dt]}},Yx=new WeakSet,Lv=function($t){[this.x,this.y,this.width,this.height]=Br(this,_2,S_).call(this,$t),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()},mm=new WeakSet,m0=function(){const{x:$t,y:kt,width:Tt,height:Dt,rotation:Ft,parentRotation:Ut,parentDimensions:[Ht,Kt]}=this;switch((Ft*4+Ut)/90){case 1:return[1-kt-Dt,$t,Dt,Tt];case 2:return[1-$t-Tt,1-kt-Dt,Tt,Dt];case 3:return[kt,1-$t-Tt,Dt,Tt];case 4:return[$t,kt-Tt*(Ht/Kt),Dt*(Kt/Ht),Tt*(Ht/Kt)];case 5:return[1-kt,$t,Tt*(Ht/Kt),Dt*(Kt/Ht)];case 6:return[1-$t-Dt*(Kt/Ht),1-kt,Dt*(Kt/Ht),Tt*(Ht/Kt)];case 7:return[kt-Tt*(Ht/Kt),1-$t-Dt*(Kt/Ht),Tt*(Ht/Kt),Dt*(Kt/Ht)];case 8:return[$t-Tt,kt-Dt,Tt,Dt];case 9:return[1-kt,$t-Tt,Dt,Tt];case 10:return[1-$t,1-kt,Tt,Dt];case 11:return[kt-Dt,1-$t,Dt,Tt];case 12:return[$t-Dt*(Kt/Ht),kt,Dt*(Kt/Ht),Tt*(Ht/Kt)];case 13:return[1-kt-Tt*(Ht/Kt),$t-Dt*(Kt/Ht),Tt*(Ht/Kt),Dt*(Kt/Ht)];case 14:return[1-$t,1-kt-Tt*(Ht/Kt),Dt*(Kt/Ht),Tt*(Ht/Kt)];case 15:return[kt,1-$t,Tt*(Ht/Kt),Dt*(Kt/Ht)];default:return[$t,kt,Tt,Dt]}},ys(As,"_currentDrawId",-1),ys(As,"_currentParent",null),yr(As,uo,null),yr(As,Gx,null),yr(As,Wx,null),yr(As,hm,NaN),yr(As,pm,null),yr(As,fm,null),yr(As,qx,NaN),ys(As,"_INNER_MARGIN",3);let DrawingEditor=As;var Cu,ho,po,Xx,rv,Do,Ro,Gl,Qx,Jx,Zx,sv,Uw;class InkDrawOutliner{constructor(et,$t,kt,Tt,Dt,Ft){yr(this,sv);yr(this,Cu,new Float64Array(6));yr(this,ho,void 0);yr(this,po,void 0);yr(this,Xx,void 0);yr(this,rv,void 0);yr(this,Do,void 0);yr(this,Ro,"");yr(this,Gl,0);yr(this,Qx,new InkDrawOutline);yr(this,Jx,void 0);yr(this,Zx,void 0);jr(this,Jx,kt),jr(this,Zx,Tt),jr(this,Xx,Dt),jr(this,rv,Ft),[et,$t]=Br(this,sv,Uw).call(this,et,$t);const Ut=jr(this,ho,[NaN,NaN,NaN,NaN,et,$t]);jr(this,Do,[et,$t]),jr(this,po,[{line:Ut,points:ar(this,Do)}]),ar(this,Cu).set(Ut,0)}updateProperty(et,$t){et==="stroke-width"&&jr(this,rv,$t)}isEmpty(){return!ar(this,po)||ar(this,po).length===0}isCancellable(){return ar(this,Do).length<=10}add(et,$t){[et,$t]=Br(this,sv,Uw).call(this,et,$t);const[kt,Tt,Dt,Ft]=ar(this,Cu).subarray(2,6),Ut=et-Dt,Ht=$t-Ft;return Math.hypot(ar(this,Jx)*Ut,ar(this,Zx)*Ht)<=2?null:(ar(this,Do).push(et,$t),isNaN(kt)?(ar(this,Cu).set([Dt,Ft,et,$t],2),ar(this,ho).push(NaN,NaN,NaN,NaN,et,$t),{path:{d:this.toSVGPath()}}):(isNaN(ar(this,Cu)[0])&&ar(this,ho).splice(6,6),ar(this,Cu).set([kt,Tt,Dt,Ft,et,$t],0),ar(this,ho).push(...Outline.createBezierPoints(kt,Tt,Dt,Ft,et,$t)),{path:{d:this.toSVGPath()}}))}end(et,$t){const kt=this.add(et,$t);return kt||(ar(this,Do).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(et,$t,kt,Tt,Dt){jr(this,Jx,kt),jr(this,Zx,Tt),jr(this,Xx,Dt),[et,$t]=Br(this,sv,Uw).call(this,et,$t);const Ft=jr(this,ho,[NaN,NaN,NaN,NaN,et,$t]);jr(this,Do,[et,$t]);const Ut=ar(this,po).at(-1);return Ut&&(Ut.line=new Float32Array(Ut.line),Ut.points=new Float32Array(Ut.points)),ar(this,po).push({line:Ft,points:ar(this,Do)}),ar(this,Cu).set(Ft,0),jr(this,Gl,0),this.toSVGPath(),null}getLastElement(){return ar(this,po).at(-1)}setLastElement(et){return ar(this,po)?(ar(this,po).push(et),jr(this,ho,et.line),jr(this,Do,et.points),jr(this,Gl,0),{path:{d:this.toSVGPath()}}):ar(this,Qx).setLastElement(et)}removeLastElement(){if(!ar(this,po))return ar(this,Qx).removeLastElement();ar(this,po).pop(),jr(this,Ro,"");for(let et=0,$t=ar(this,po).length;et<$t;et++){const{line:kt,points:Tt}=ar(this,po)[et];jr(this,ho,kt),jr(this,Do,Tt),jr(this,Gl,0),this.toSVGPath()}return{path:{d:ar(this,Ro)}}}toSVGPath(){const et=Outline.svgRound(ar(this,ho)[4]),$t=Outline.svgRound(ar(this,ho)[5]);if(ar(this,Do).length===2)return jr(this,Ro,`${ar(this,Ro)} M ${et} ${$t} Z`),ar(this,Ro);if(ar(this,Do).length<=6){const Tt=ar(this,Ro).lastIndexOf("M");jr(this,Ro,`${ar(this,Ro).slice(0,Tt)} M ${et} ${$t}`),jr(this,Gl,6)}if(ar(this,Do).length===4){const Tt=Outline.svgRound(ar(this,ho)[10]),Dt=Outline.svgRound(ar(this,ho)[11]);return jr(this,Ro,`${ar(this,Ro)} L ${Tt} ${Dt}`),jr(this,Gl,12),ar(this,Ro)}const kt=[];ar(this,Gl)===0&&(kt.push(`M ${et} ${$t}`),jr(this,Gl,6));for(let Tt=ar(this,Gl),Dt=ar(this,ho).length;Tt<Dt;Tt+=6){const[Ft,Ut,Ht,Kt,Yt,Jt]=ar(this,ho).slice(Tt,Tt+6).map(Outline.svgRound);kt.push(`C${Ft} ${Ut} ${Ht} ${Kt} ${Yt} ${Jt}`)}return jr(this,Ro,ar(this,Ro)+kt.join(" ")),jr(this,Gl,ar(this,ho).length),ar(this,Ro)}getOutlines(et,$t,kt,Tt){const Dt=ar(this,po).at(-1);return Dt.line=new Float32Array(Dt.line),Dt.points=new Float32Array(Dt.points),ar(this,Qx).build(ar(this,po),et,$t,kt,ar(this,Xx),ar(this,rv),Tt),jr(this,Cu,null),jr(this,ho,null),jr(this,po,null),jr(this,Ro,null),ar(this,Qx)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}Cu=new WeakMap,ho=new WeakMap,po=new WeakMap,Xx=new WeakMap,rv=new WeakMap,Do=new WeakMap,Ro=new WeakMap,Gl=new WeakMap,Qx=new WeakMap,Jx=new WeakMap,Zx=new WeakMap,sv=new WeakSet,Uw=function(et,$t){return Outline._normalizePoint(et,$t,ar(this,Jx),ar(this,Zx),ar(this,Xx))};var Fo,sw,nw,Pl,Au,Tu,nv,iv,_g,iu,Du,C2,__,A2,C_,T2,A_;class InkDrawOutline extends Outline{constructor(){super(...arguments);yr(this,iu);yr(this,C2);yr(this,A2);yr(this,T2);yr(this,Fo,void 0);yr(this,sw,0);yr(this,nw,void 0);yr(this,Pl,void 0);yr(this,Au,void 0);yr(this,Tu,void 0);yr(this,nv,void 0);yr(this,iv,void 0);yr(this,_g,void 0)}build($t,kt,Tt,Dt,Ft,Ut,Ht){jr(this,Au,kt),jr(this,Tu,Tt),jr(this,nv,Dt),jr(this,iv,Ft),jr(this,_g,Ut),jr(this,nw,Ht??0),jr(this,Pl,$t),Br(this,A2,C_).call(this)}get thickness(){return ar(this,_g)}setLastElement($t){return ar(this,Pl).push($t),{path:{d:this.toSVGPath()}}}removeLastElement(){return ar(this,Pl).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const $t=[];for(const{line:kt}of ar(this,Pl)){if($t.push(`M${Outline.svgRound(kt[4])} ${Outline.svgRound(kt[5])}`),kt.length===6){$t.push("Z");continue}if(kt.length===12&&isNaN(kt[6])){$t.push(`L${Outline.svgRound(kt[10])} ${Outline.svgRound(kt[11])}`);continue}for(let Tt=6,Dt=kt.length;Tt<Dt;Tt+=6){const[Ft,Ut,Ht,Kt,Yt,Jt]=kt.subarray(Tt,Tt+6).map(Outline.svgRound);$t.push(`C${Ft} ${Ut} ${Ht} ${Kt} ${Yt} ${Jt}`)}}return $t.join("")}serialize([$t,kt,Tt,Dt],Ft){const Ut=[],Ht=[],[Kt,Yt,Jt,Zt]=Br(this,C2,__).call(this);let er,rr,sr,ir,nr,or,lr,cr,dr;switch(ar(this,iv)){case 0:dr=Outline._rescale,er=$t,rr=kt+Dt,sr=Tt,ir=-Dt,nr=$t+Kt*Tt,or=kt+(1-Yt-Zt)*Dt,lr=$t+(Kt+Jt)*Tt,cr=kt+(1-Yt)*Dt;break;case 90:dr=Outline._rescaleAndSwap,er=$t,rr=kt,sr=Tt,ir=Dt,nr=$t+Yt*Tt,or=kt+Kt*Dt,lr=$t+(Yt+Zt)*Tt,cr=kt+(Kt+Jt)*Dt;break;case 180:dr=Outline._rescale,er=$t+Tt,rr=kt,sr=-Tt,ir=Dt,nr=$t+(1-Kt-Jt)*Tt,or=kt+Yt*Dt,lr=$t+(1-Kt)*Tt,cr=kt+(Yt+Zt)*Dt;break;case 270:dr=Outline._rescaleAndSwap,er=$t+Tt,rr=kt+Dt,sr=-Tt,ir=-Dt,nr=$t+(1-Yt-Zt)*Tt,or=kt+(1-Kt-Jt)*Dt,lr=$t+(1-Yt)*Tt,cr=kt+(1-Kt)*Dt;break}for(const{line:ur,points:pr}of ar(this,Pl))Ut.push(dr(ur,er,rr,sr,ir,Ft?new Array(ur.length):null)),Ht.push(dr(pr,er,rr,sr,ir,Ft?new Array(pr.length):null));return{lines:Ut,points:Ht,rect:[nr,or,lr,cr]}}static deserialize($t,kt,Tt,Dt,Ft,{paths:{lines:Ut,points:Ht},rotation:Kt,thickness:Yt}){const Jt=[];let Zt,er,rr,sr,ir;switch(Kt){case 0:ir=Outline._rescale,Zt=-$t/Tt,er=kt/Dt+1,rr=1/Tt,sr=-1/Dt;break;case 90:ir=Outline._rescaleAndSwap,Zt=-kt/Dt,er=-$t/Tt,rr=1/Dt,sr=1/Tt;break;case 180:ir=Outline._rescale,Zt=$t/Tt+1,er=-kt/Dt,rr=-1/Tt,sr=1/Dt;break;case 270:ir=Outline._rescaleAndSwap,Zt=kt/Dt+1,er=$t/Tt+1,rr=-1/Dt,sr=-1/Tt;break}if(!Ut){Ut=[];for(const or of Ht){const lr=or.length;if(lr===2){Ut.push(new Float32Array([NaN,NaN,NaN,NaN,or[0],or[1]]));continue}if(lr===4){Ut.push(new Float32Array([NaN,NaN,NaN,NaN,or[0],or[1],NaN,NaN,NaN,NaN,or[2],or[3]]));continue}const cr=new Float32Array(3*(lr-2));Ut.push(cr);let[dr,ur,pr,mr]=or.subarray(0,4);cr.set([NaN,NaN,NaN,NaN,dr,ur],0);for(let vr=4;vr<lr;vr+=2){const kr=or[vr],br=or[vr+1];cr.set(Outline.createBezierPoints(dr,ur,pr,mr,kr,br),(vr-2)*3),[dr,ur,pr,mr]=[pr,mr,kr,br]}}}for(let or=0,lr=Ut.length;or<lr;or++)Jt.push({line:ir(Ut[or].map(cr=>cr??NaN),Zt,er,rr,sr),points:ir(Ht[or].map(cr=>cr??NaN),Zt,er,rr,sr)});const nr=new this.prototype.constructor;return nr.build(Jt,Tt,Dt,1,Kt,Yt,Ft),nr}get box(){return ar(this,Fo)}updateProperty($t,kt){return $t==="stroke-width"?Br(this,T2,A_).call(this,kt):null}updateParentDimensions([$t,kt],Tt){const[Dt,Ft]=Br(this,iu,Du).call(this);jr(this,Au,$t),jr(this,Tu,kt),jr(this,nv,Tt);const[Ut,Ht]=Br(this,iu,Du).call(this),Kt=Ut-Dt,Yt=Ht-Ft,Jt=ar(this,Fo);return Jt[0]-=Kt,Jt[1]-=Yt,Jt[2]+=2*Kt,Jt[3]+=2*Yt,Jt}updateRotation($t){return jr(this,sw,$t),{path:{transform:this.rotationTransform}}}get viewBox(){return ar(this,Fo).map(Outline.svgRound).join(" ")}get defaultProperties(){const[$t,kt]=ar(this,Fo);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Outline.svgRound($t)} ${Outline.svgRound(kt)}`}}}get rotationTransform(){const[,,$t,kt]=ar(this,Fo);let Tt=0,Dt=0,Ft=0,Ut=0,Ht=0,Kt=0;switch(ar(this,sw)){case 90:Dt=kt/$t,Ft=-$t/kt,Ht=$t;break;case 180:Tt=-1,Ut=-1,Ht=$t,Kt=kt;break;case 270:Dt=-kt/$t,Ft=$t/kt,Kt=kt;break;default:return""}return`matrix(${Tt} ${Dt} ${Ft} ${Ut} ${Outline.svgRound(Ht)} ${Outline.svgRound(Kt)})`}getPathResizingSVGProperties([$t,kt,Tt,Dt]){const[Ft,Ut]=Br(this,iu,Du).call(this),[Ht,Kt,Yt,Jt]=ar(this,Fo);if(Math.abs(Yt-Ft)<=Outline.PRECISION||Math.abs(Jt-Ut)<=Outline.PRECISION){const ir=$t+Tt/2-(Ht+Yt/2),nr=kt+Dt/2-(Kt+Jt/2);return{path:{"transform-origin":`${Outline.svgRound($t)} ${Outline.svgRound(kt)}`,transform:`${this.rotationTransform} translate(${ir} ${nr})`}}}const Zt=(Tt-2*Ft)/(Yt-2*Ft),er=(Dt-2*Ut)/(Jt-2*Ut),rr=Yt/Tt,sr=Jt/Dt;return{path:{"transform-origin":`${Outline.svgRound(Ht)} ${Outline.svgRound(Kt)}`,transform:`${this.rotationTransform} scale(${rr} ${sr}) translate(${Outline.svgRound(Ft)} ${Outline.svgRound(Ut)}) scale(${Zt} ${er}) translate(${Outline.svgRound(-Ft)} ${Outline.svgRound(-Ut)})`}}}getPathResizedSVGProperties([$t,kt,Tt,Dt]){const[Ft,Ut]=Br(this,iu,Du).call(this),Ht=ar(this,Fo),[Kt,Yt,Jt,Zt]=Ht;if(Ht[0]=$t,Ht[1]=kt,Ht[2]=Tt,Ht[3]=Dt,Math.abs(Jt-Ft)<=Outline.PRECISION||Math.abs(Zt-Ut)<=Outline.PRECISION){const nr=$t+Tt/2-(Kt+Jt/2),or=kt+Dt/2-(Yt+Zt/2);for(const{line:lr,points:cr}of ar(this,Pl))Outline._translate(lr,nr,or,lr),Outline._translate(cr,nr,or,cr);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Outline.svgRound($t)} ${Outline.svgRound(kt)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const er=(Tt-2*Ft)/(Jt-2*Ft),rr=(Dt-2*Ut)/(Zt-2*Ut),sr=-er*(Kt+Ft)+$t+Ft,ir=-rr*(Yt+Ut)+kt+Ut;if(er!==1||rr!==1||sr!==0||ir!==0)for(const{line:nr,points:or}of ar(this,Pl))Outline._rescale(nr,sr,ir,er,rr,nr),Outline._rescale(or,sr,ir,er,rr,or);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Outline.svgRound($t)} ${Outline.svgRound(kt)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([$t,kt],Tt){const[Dt,Ft]=Tt,Ut=ar(this,Fo),Ht=$t-Ut[0],Kt=kt-Ut[1];if(ar(this,Au)===Dt&&ar(this,Tu)===Ft)for(const{line:Yt,points:Jt}of ar(this,Pl))Outline._translate(Yt,Ht,Kt,Yt),Outline._translate(Jt,Ht,Kt,Jt);else{const Yt=ar(this,Au)/Dt,Jt=ar(this,Tu)/Ft;jr(this,Au,Dt),jr(this,Tu,Ft);for(const{line:Zt,points:er}of ar(this,Pl))Outline._rescale(Zt,Ht,Kt,Yt,Jt,Zt),Outline._rescale(er,Ht,Kt,Yt,Jt,er);Ut[2]*=Yt,Ut[3]*=Jt}return Ut[0]=$t,Ut[1]=kt,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${Outline.svgRound($t)} ${Outline.svgRound(kt)}`}}}get defaultSVGProperties(){const $t=ar(this,Fo);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${Outline.svgRound($t[0])} ${Outline.svgRound($t[1])}`,transform:this.rotationTransform||null},bbox:$t}}}Fo=new WeakMap,sw=new WeakMap,nw=new WeakMap,Pl=new WeakMap,Au=new WeakMap,Tu=new WeakMap,nv=new WeakMap,iv=new WeakMap,_g=new WeakMap,iu=new WeakSet,Du=function($t=ar(this,_g)){const kt=ar(this,nw)+$t/2*ar(this,nv);return ar(this,iv)%180===0?[kt/ar(this,Au),kt/ar(this,Tu)]:[kt/ar(this,Tu),kt/ar(this,Au)]},C2=new WeakSet,__=function(){const[$t,kt,Tt,Dt]=ar(this,Fo),[Ft,Ut]=Br(this,iu,Du).call(this,0);return[$t+Ft,kt+Ut,Tt-2*Ft,Dt-2*Ut]},A2=new WeakSet,C_=function(){const $t=jr(this,Fo,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:Dt}of ar(this,Pl)){if(Dt.length<=12){for(let Ht=4,Kt=Dt.length;Ht<Kt;Ht+=6)Util.pointBoundingBox(Dt[Ht],Dt[Ht+1],$t);continue}let Ft=Dt[4],Ut=Dt[5];for(let Ht=6,Kt=Dt.length;Ht<Kt;Ht+=6){const[Yt,Jt,Zt,er,rr,sr]=Dt.subarray(Ht,Ht+6);Util.bezierBoundingBox(Ft,Ut,Yt,Jt,Zt,er,rr,sr,$t),Ft=rr,Ut=sr}}const[kt,Tt]=Br(this,iu,Du).call(this);$t[0]=MathClamp($t[0]-kt,0,1),$t[1]=MathClamp($t[1]-Tt,0,1),$t[2]=MathClamp($t[2]+kt,0,1),$t[3]=MathClamp($t[3]+Tt,0,1),$t[2]-=$t[0],$t[3]-=$t[1]},T2=new WeakSet,A_=function($t){const[kt,Tt]=Br(this,iu,Du).call(this);jr(this,_g,$t);const[Dt,Ft]=Br(this,iu,Du).call(this),[Ut,Ht]=[Dt-kt,Ft-Tt],Kt=ar(this,Fo);return Kt[0]-=Ut,Kt[1]-=Ht,Kt[2]+=2*Ut,Kt[3]+=2*Ht,Kt};class InkDrawingOptions extends DrawingOptions{constructor(et){super(),this._viewParameters=et,super.updateProperties({fill:"none",stroke:AnnotationEditor._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(et,$t){et==="stroke-width"&&($t??($t=this["stroke-width"]),$t*=this._viewParameters.realScale),super.updateSVGProperty(et,$t)}clone(){const et=new InkDrawingOptions(this._viewParameters);return et.updateAll(this),et}}var N2,T_;const y0=class y0 extends DrawingEditor{constructor($t){super({...$t,name:"inkEditor"});yr(this,N2);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize($t,kt){AnnotationEditor.initialize($t,kt),this._defaultDrawingOptions=new InkDrawingOptions(kt.viewParameters)}static getDefaultDrawingOptions($t){const kt=this._defaultDrawingOptions.clone();return kt.updateProperties($t),kt}static get supportMultipleDrawings(){return!0}static get typesMap(){return shadow(this,"typesMap",new Map([[AnnotationEditorParamsType.INK_THICKNESS,"stroke-width"],[AnnotationEditorParamsType.INK_COLOR,"stroke"],[AnnotationEditorParamsType.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance($t,kt,Tt,Dt,Ft){return new InkDrawOutliner($t,kt,Tt,Dt,Ft,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw($t,kt,Tt,Dt,Ft,Ut){return InkDrawOutline.deserialize($t,kt,Tt,Dt,Ft,Ut)}static async deserialize($t,kt,Tt){let Dt=null;if($t instanceof InkAnnotationElement){const{data:{inkLists:Ut,rect:Ht,rotation:Kt,id:Yt,color:Jt,opacity:Zt,borderStyle:{rawWidth:er},popupRef:rr,richText:sr,contentsObj:ir,creationDate:nr,modificationDate:or},parent:{page:{pageNumber:lr}}}=$t;Dt=$t={annotationType:AnnotationEditorType.INK,color:Array.from(Jt),thickness:er,opacity:Zt,paths:{points:Ut},boxes:null,pageIndex:lr-1,rect:Ht.slice(0),rotation:Kt,annotationElementId:Yt,id:Yt,deleted:!1,popupRef:rr,richText:sr,comment:(ir==null?void 0:ir.str)||null,creationDate:nr,modificationDate:or}}const Ft=await super.deserialize($t,kt,Tt);return Ft._initialData=Dt,$t.comment&&Ft.setCommentData($t),Ft}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new BasicColorPicker(this)),[["colorPicker",this._colorPicker]]}get colorType(){return AnnotationEditorParamsType.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:$t,_drawingOptions:kt,parent:Tt}=this;kt.updateSVGProperty("stroke-width"),Tt.drawLayer.updateProperties($t,kt.toSVGProperties())}static onScaleChangingWhenDrawing(){const $t=this._currentParent;$t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),$t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:$t,thickness:kt,opacity:Tt}){this._drawingOptions=y0.getDefaultDrawingOptions({stroke:Util.makeHexColor(...$t),"stroke-width":kt,"stroke-opacity":Tt})}serialize($t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:kt,points:Tt}=this.serializeDraw($t),{_drawingOptions:{stroke:Dt,"stroke-opacity":Ft,"stroke-width":Ut}}=this,Ht=Object.assign(super.serialize($t),{color:AnnotationEditor._colorManager.convert(Dt),opacity:Ft,thickness:Ut,paths:{lines:kt,points:Tt}});return this.addComment(Ht),$t?(Ht.isCopy=!0,Ht):this.annotationElementId&&!Br(this,N2,T_).call(this,Ht)?null:(Ht.id=this.annotationElementId,Ht)}renderAnnotationElement($t){if(this.deleted)return $t.hide(),null;const{points:kt,rect:Tt}=this.serializeDraw(!1);return $t.updateEdited({rect:Tt,thickness:this._drawingOptions["stroke-width"],points:kt,popup:this.comment}),null}};N2=new WeakSet,T_=function($t){const{color:kt,thickness:Tt,opacity:Dt,pageIndex:Ft}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||$t.color.some((Ut,Ht)=>Ut!==kt[Ht])||$t.thickness!==Tt||$t.opacity!==Dt||$t.pageIndex!==Ft},ys(y0,"_type","ink"),ys(y0,"_editorType",AnnotationEditorType.INK),ys(y0,"_defaultDrawingOptions",null);let InkEditor=y0;class ContourDrawOutline extends InkDrawOutline{toSVGPath(){let et=super.toSVGPath();return et.endsWith("Z")||(et+="Z"),et}}const BASE_HEADER_LENGTH=8,POINTS_PROPERTIES_NUMBER=3;var e0,iw,B$,au,P2,N_,M2,P_,aw,V$,av,Hw,I2,M_,D2,I_,F2,D_,ow,z$,lw,U$,L2,F_;class SignatureExtractor{static extractContoursFromText(et,{fontFamily:$t,fontStyle:kt,fontWeight:Tt},Dt,Ft,Ut,Ht){let Kt=new OffscreenCanvas(1,1),Yt=Kt.getContext("2d",{alpha:!1});const Jt=200,Zt=Yt.font=`${kt} ${Tt} ${Jt}px ${$t}`,{actualBoundingBoxLeft:er,actualBoundingBoxRight:rr,actualBoundingBoxAscent:sr,actualBoundingBoxDescent:ir,fontBoundingBoxAscent:nr,fontBoundingBoxDescent:or,width:lr}=Yt.measureText(et),cr=1.5,dr=Math.ceil(Math.max(Math.abs(er)+Math.abs(rr)||0,lr)*cr),ur=Math.ceil(Math.max(Math.abs(sr)+Math.abs(ir)||Jt,Math.abs(nr)+Math.abs(or)||Jt)*cr);Kt=new OffscreenCanvas(dr,ur),Yt=Kt.getContext("2d",{alpha:!0,willReadFrequently:!0}),Yt.font=Zt,Yt.filter="grayscale(1)",Yt.fillStyle="white",Yt.fillRect(0,0,dr,ur),Yt.fillStyle="black",Yt.fillText(et,dr*(cr-1)/2,ur*(3-cr)/2);const pr=Br(this,ow,z$).call(this,Yt.getImageData(0,0,dr,ur).data),mr=Br(this,F2,D_).call(this,pr),vr=Br(this,lw,U$).call(this,mr),kr=Br(this,aw,V$).call(this,pr,dr,ur,vr);return this.processDrawnLines({lines:{curves:kr,width:dr,height:ur},pageWidth:Dt,pageHeight:Ft,rotation:Ut,innerMargin:Ht,mustSmooth:!0,areContours:!0})}static process(et,$t,kt,Tt,Dt){const[Ft,Ut,Ht]=Br(this,L2,F_).call(this,et),[Kt,Yt]=Br(this,D2,I_).call(this,Ft,Ut,Ht,Math.hypot(Ut,Ht)*ar(this,e0).sigmaSFactor,ar(this,e0).sigmaR,ar(this,e0).kernelSize),Jt=Br(this,lw,U$).call(this,Yt),Zt=Br(this,aw,V$).call(this,Kt,Ut,Ht,Jt);return this.processDrawnLines({lines:{curves:Zt,width:Ut,height:Ht},pageWidth:$t,pageHeight:kt,rotation:Tt,innerMargin:Dt,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:et,pageWidth:$t,pageHeight:kt,rotation:Tt,innerMargin:Dt,mustSmooth:Ft,areContours:Ut}){Tt%180!==0&&([$t,kt]=[kt,$t]);const{curves:Ht,width:Kt,height:Yt}=et,Jt=et.thickness??0,Zt=[],er=Math.min($t/Kt,kt/Yt),rr=er/$t,sr=er/kt,ir=[];for(const{points:or}of Ht){const lr=Ft?Br(this,I2,M_).call(this,or):or;if(!lr)continue;ir.push(lr);const cr=lr.length,dr=new Float32Array(cr),ur=new Float32Array(3*(cr===2?2:cr-2));if(Zt.push({line:ur,points:dr}),cr===2){dr[0]=lr[0]*rr,dr[1]=lr[1]*sr,ur.set([NaN,NaN,NaN,NaN,dr[0],dr[1]],0);continue}let[pr,mr,vr,kr]=lr;pr*=rr,mr*=sr,vr*=rr,kr*=sr,dr.set([pr,mr,vr,kr],0),ur.set([NaN,NaN,NaN,NaN,pr,mr],0);for(let br=4;br<cr;br+=2){const _r=dr[br]=lr[br]*rr,Or=dr[br+1]=lr[br+1]*sr;ur.set(Outline.createBezierPoints(pr,mr,vr,kr,_r,Or),(br-2)*3),[pr,mr,vr,kr]=[vr,kr,_r,Or]}}if(Zt.length===0)return null;const nr=Ut?new ContourDrawOutline:new InkDrawOutline;return nr.build(Zt,$t,kt,1,Tt,Ut?0:Jt,Dt),{outline:nr,newCurves:ir,areContours:Ut,thickness:Jt,width:Kt,height:Yt}}static async compressSignature({outlines:et,areContours:$t,thickness:kt,width:Tt,height:Dt}){let Ft=1/0,Ut=-1/0,Ht=0;for(const lr of et){Ht+=lr.length;for(let cr=2,dr=lr.length;cr<dr;cr++){const ur=lr[cr]-lr[cr-2];Ft=Math.min(Ft,ur),Ut=Math.max(Ut,ur)}}let Kt;Ft>=-128&&Ut<=127?Kt=Int8Array:Ft>=-32768&&Ut<=32767?Kt=Int16Array:Kt=Int32Array;const Yt=et.length,Jt=BASE_HEADER_LENGTH+POINTS_PROPERTIES_NUMBER*Yt,Zt=new Uint32Array(Jt);let er=0;Zt[er++]=Jt*Uint32Array.BYTES_PER_ELEMENT+(Ht-2*Yt)*Kt.BYTES_PER_ELEMENT,Zt[er++]=0,Zt[er++]=Tt,Zt[er++]=Dt,Zt[er++]=$t?0:1,Zt[er++]=Math.max(0,Math.floor(kt??0)),Zt[er++]=Yt,Zt[er++]=Kt.BYTES_PER_ELEMENT;for(const lr of et)Zt[er++]=lr.length-2,Zt[er++]=lr[0],Zt[er++]=lr[1];const rr=new CompressionStream("deflate-raw"),sr=rr.writable.getWriter();await sr.ready,sr.write(Zt);const ir=Kt.prototype.constructor;for(const lr of et){const cr=new ir(lr.length-2);for(let dr=2,ur=lr.length;dr<ur;dr++)cr[dr-2]=lr[dr]-lr[dr-2];sr.write(cr)}sr.close();const nr=await new Response(rr.readable).arrayBuffer(),or=new Uint8Array(nr);return toBase64Util(or)}static async decompressSignature(et){try{const $t=fromBase64Util(et),{readable:kt,writable:Tt}=new DecompressionStream("deflate-raw"),Dt=Tt.getWriter();await Dt.ready,Dt.write($t).then(async()=>{await Dt.ready,await Dt.close()}).catch(()=>{});let Ft=null,Ut=0;for await(const lr of kt)Ft||(Ft=new Uint8Array(new Uint32Array(lr.buffer,0,4)[0])),Ft.set(lr,Ut),Ut+=lr.length;const Ht=new Uint32Array(Ft.buffer,0,Ft.length>>2),Kt=Ht[1];if(Kt!==0)throw new Error(`Invalid version: ${Kt}`);const Yt=Ht[2],Jt=Ht[3],Zt=Ht[4]===0,er=Ht[5],rr=Ht[6],sr=Ht[7],ir=[],nr=(BASE_HEADER_LENGTH+POINTS_PROPERTIES_NUMBER*rr)*Uint32Array.BYTES_PER_ELEMENT;let or;switch(sr){case Int8Array.BYTES_PER_ELEMENT:or=new Int8Array(Ft.buffer,nr);break;case Int16Array.BYTES_PER_ELEMENT:or=new Int16Array(Ft.buffer,nr);break;case Int32Array.BYTES_PER_ELEMENT:or=new Int32Array(Ft.buffer,nr);break}Ut=0;for(let lr=0;lr<rr;lr++){const cr=Ht[POINTS_PROPERTIES_NUMBER*lr+BASE_HEADER_LENGTH],dr=new Float32Array(cr+2);ir.push(dr);for(let ur=0;ur<POINTS_PROPERTIES_NUMBER-1;ur++)dr[ur]=Ht[POINTS_PROPERTIES_NUMBER*lr+BASE_HEADER_LENGTH+ur+1];for(let ur=0;ur<cr;ur++)dr[ur+2]=dr[ur]+or[Ut++]}return{areContours:Zt,thickness:er,outlines:ir,width:Yt,height:Jt}}catch($t){return warn(`decompressSignature: ${$t}`),null}}}e0=new WeakMap,iw=new WeakSet,B$=function(et,$t,kt,Tt){return kt-=et,Tt-=$t,kt===0?Tt>0?0:4:kt===1?Tt+6:2-Tt},au=new WeakMap,P2=new WeakSet,N_=function(et,$t,kt,Tt,Dt,Ft,Ut){const Ht=Br(this,iw,B$).call(this,kt,Tt,Dt,Ft);for(let Kt=0;Kt<8;Kt++){const Yt=(-Kt+Ht-Ut+16)%8,Jt=ar(this,au)[2*Yt],Zt=ar(this,au)[2*Yt+1];if(et[(kt+Jt)*$t+(Tt+Zt)]!==0)return Yt}return-1},M2=new WeakSet,P_=function(et,$t,kt,Tt,Dt,Ft,Ut){const Ht=Br(this,iw,B$).call(this,kt,Tt,Dt,Ft);for(let Kt=0;Kt<8;Kt++){const Yt=(Kt+Ht+Ut+16)%8,Jt=ar(this,au)[2*Yt],Zt=ar(this,au)[2*Yt+1];if(et[(kt+Jt)*$t+(Tt+Zt)]!==0)return Yt}return-1},aw=new WeakSet,V$=function(et,$t,kt,Tt){const Dt=et.length,Ft=new Int32Array(Dt);for(let Yt=0;Yt<Dt;Yt++)Ft[Yt]=et[Yt]<=Tt?1:0;for(let Yt=1;Yt<kt-1;Yt++)Ft[Yt*$t]=Ft[Yt*$t+$t-1]=0;for(let Yt=0;Yt<$t;Yt++)Ft[Yt]=Ft[$t*kt-1-Yt]=0;let Ut=1,Ht;const Kt=[];for(let Yt=1;Yt<kt-1;Yt++){Ht=1;for(let Jt=1;Jt<$t-1;Jt++){const Zt=Yt*$t+Jt,er=Ft[Zt];if(er===0)continue;let rr=Yt,sr=Jt;if(er===1&&Ft[Zt-1]===0)Ut+=1,sr-=1;else if(er>=1&&Ft[Zt+1]===0)Ut+=1,sr+=1,er>1&&(Ht=er);else{er!==1&&(Ht=Math.abs(er));continue}const ir=[Jt,Yt],nr=sr===Jt+1,or={isHole:nr,points:ir,id:Ut,parent:0};Kt.push(or);let lr;for(const br of Kt)if(br.id===Ht){lr=br;break}lr?lr.isHole?or.parent=nr?lr.parent:Ht:or.parent=nr?Ht:lr.parent:or.parent=nr?Ht:0;const cr=Br(this,P2,N_).call(this,Ft,$t,Yt,Jt,rr,sr,0);if(cr===-1){Ft[Zt]=-Ut,Ft[Zt]!==1&&(Ht=Math.abs(Ft[Zt]));continue}let dr=ar(this,au)[2*cr],ur=ar(this,au)[2*cr+1];const pr=Yt+dr,mr=Jt+ur;rr=pr,sr=mr;let vr=Yt,kr=Jt;for(;;){const br=Br(this,M2,P_).call(this,Ft,$t,vr,kr,rr,sr,1);dr=ar(this,au)[2*br],ur=ar(this,au)[2*br+1];const _r=vr+dr,Or=kr+ur;ir.push(Or,_r);const Pr=vr*$t+kr;if(Ft[Pr+1]===0?Ft[Pr]=-Ut:Ft[Pr]===1&&(Ft[Pr]=Ut),_r===Yt&&Or===Jt&&vr===pr&&kr===mr){Ft[Zt]!==1&&(Ht=Math.abs(Ft[Zt]));break}else rr=vr,sr=kr,vr=_r,kr=Or}}}return Kt},av=new WeakSet,Hw=function(et,$t,kt,Tt){if(kt-$t<=4){for(let pr=$t;pr<kt-2;pr+=2)Tt.push(et[pr],et[pr+1]);return}const Dt=et[$t],Ft=et[$t+1],Ut=et[kt-4]-Dt,Ht=et[kt-3]-Ft,Kt=Math.hypot(Ut,Ht),Yt=Ut/Kt,Jt=Ht/Kt,Zt=Yt*Ft-Jt*Dt,er=Ht/Ut,rr=1/Kt,sr=Math.atan(er),ir=Math.cos(sr),nr=Math.sin(sr),or=rr*(Math.abs(ir)+Math.abs(nr)),lr=rr*(1-or+or**2),cr=Math.max(Math.atan(Math.abs(nr+ir)*lr),Math.atan(Math.abs(nr-ir)*lr));let dr=0,ur=$t;for(let pr=$t+2;pr<kt-2;pr+=2){const mr=Math.abs(Zt-Yt*et[pr+1]+Jt*et[pr]);mr>dr&&(ur=pr,dr=mr)}dr>(Kt*cr)**2?(Br(this,av,Hw).call(this,et,$t,ur+2,Tt),Br(this,av,Hw).call(this,et,ur,kt,Tt)):Tt.push(Dt,Ft)},I2=new WeakSet,M_=function(et){const $t=[],kt=et.length;return Br(this,av,Hw).call(this,et,0,kt,$t),$t.push(et[kt-2],et[kt-1]),$t.length<=4?null:$t},D2=new WeakSet,I_=function(et,$t,kt,Tt,Dt,Ft){const Ut=new Float32Array(Ft**2),Ht=-2*Tt**2,Kt=Ft>>1;for(let sr=0;sr<Ft;sr++){const ir=(sr-Kt)**2;for(let nr=0;nr<Ft;nr++)Ut[sr*Ft+nr]=Math.exp((ir+(nr-Kt)**2)/Ht)}const Yt=new Float32Array(256),Jt=-2*Dt**2;for(let sr=0;sr<256;sr++)Yt[sr]=Math.exp(sr**2/Jt);const Zt=et.length,er=new Uint8Array(Zt),rr=new Uint32Array(256);for(let sr=0;sr<kt;sr++)for(let ir=0;ir<$t;ir++){const nr=sr*$t+ir,or=et[nr];let lr=0,cr=0;for(let ur=0;ur<Ft;ur++){const pr=sr+ur-Kt;if(!(pr<0||pr>=kt))for(let mr=0;mr<Ft;mr++){const vr=ir+mr-Kt;if(vr<0||vr>=$t)continue;const kr=et[pr*$t+vr],br=Ut[ur*Ft+mr]*Yt[Math.abs(kr-or)];lr+=kr*br,cr+=br}}const dr=er[nr]=Math.round(lr/cr);rr[dr]++}return[er,rr]},F2=new WeakSet,D_=function(et){const $t=new Uint32Array(256);for(const kt of et)$t[kt]++;return $t},ow=new WeakSet,z$=function(et){const $t=et.length,kt=new Uint8ClampedArray($t>>2);let Tt=-1/0,Dt=1/0;for(let Ut=0,Ht=kt.length;Ut<Ht;Ut++){const Kt=kt[Ut]=et[Ut<<2];Tt=Math.max(Tt,Kt),Dt=Math.min(Dt,Kt)}const Ft=255/(Tt-Dt);for(let Ut=0,Ht=kt.length;Ut<Ht;Ut++)kt[Ut]=(kt[Ut]-Dt)*Ft;return kt},lw=new WeakSet,U$=function(et){let $t,kt=-1/0,Tt=-1/0;const Dt=et.findIndex(Ht=>Ht!==0);let Ft=Dt,Ut=Dt;for($t=Dt;$t<256;$t++){const Ht=et[$t];Ht>kt&&($t-Ft>Tt&&(Tt=$t-Ft,Ut=$t-1),kt=Ht,Ft=$t)}for($t=Ut-1;$t>=0&&!(et[$t]>et[$t+1]);$t--);return $t},L2=new WeakSet,F_=function(et){const $t=et,{width:kt,height:Tt}=et,{maxDim:Dt}=ar(this,e0);let Ft=kt,Ut=Tt;if(kt>Dt||Tt>Dt){let Zt=kt,er=Tt,rr=Math.log2(Math.max(kt,Tt)/Dt);const sr=Math.floor(rr);rr=rr===sr?sr-1:sr;for(let nr=0;nr<rr;nr++){Ft=Math.ceil(Zt/2),Ut=Math.ceil(er/2);const or=new OffscreenCanvas(Ft,Ut);or.getContext("2d").drawImage(et,0,0,Zt,er,0,0,Ft,Ut),Zt=Ft,er=Ut,et!==$t&&et.close(),et=or.transferToImageBitmap()}const ir=Math.min(Dt/Ft,Dt/Ut);Ft=Math.round(Ft*ir),Ut=Math.round(Ut*ir)}const Kt=new OffscreenCanvas(Ft,Ut).getContext("2d",{willReadFrequently:!0});Kt.fillStyle="white",Kt.fillRect(0,0,Ft,Ut),Kt.filter="grayscale(1)",Kt.drawImage(et,0,0,et.width,et.height,0,0,Ft,Ut);const Yt=Kt.getImageData(0,0,Ft,Ut).data;return[Br(this,ow,z$).call(this,Yt),Ft,Ut]},yr(SignatureExtractor,iw),yr(SignatureExtractor,P2),yr(SignatureExtractor,M2),yr(SignatureExtractor,aw),yr(SignatureExtractor,av),yr(SignatureExtractor,I2),yr(SignatureExtractor,D2),yr(SignatureExtractor,F2),yr(SignatureExtractor,ow),yr(SignatureExtractor,lw),yr(SignatureExtractor,L2),yr(SignatureExtractor,e0,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),yr(SignatureExtractor,au,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class SignatureOptions extends DrawingOptions{constructor(){super(),super.updateProperties({fill:AnnotationEditor._defaultLineColor,"stroke-width":0})}clone(){const et=new SignatureOptions;return et.updateAll(this),et}}class DrawnSignatureOptions extends InkDrawingOptions{constructor(et){super(et),super.updateProperties({stroke:AnnotationEditor._defaultLineColor,"stroke-width":1})}clone(){const et=new DrawnSignatureOptions(this._viewParameters);return et.updateAll(this),et}}var xm,Nu,gm,r0;const Ko=class Ko extends DrawingEditor{constructor($t){super({...$t,mustBeCommitted:!0,name:"signatureEditor"});yr(this,xm,!1);yr(this,Nu,null);yr(this,gm,null);yr(this,r0,null);this._willKeepAspectRatio=!0,jr(this,gm,$t.signatureData||null),jr(this,Nu,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize($t,kt){AnnotationEditor.initialize($t,kt),this._defaultDrawingOptions=new SignatureOptions,this._defaultDrawnSignatureOptions=new DrawnSignatureOptions(kt.viewParameters)}static getDefaultDrawingOptions($t){const kt=this._defaultDrawingOptions.clone();return kt.updateProperties($t),kt}static get supportMultipleDrawings(){return!1}static get typesMap(){return shadow(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!ar(this,Nu)}}static computeTelemetryFinalData($t){const kt=$t.get("hasDescription");return{hasAltText:kt.get(!0)??0,hasNoAltText:kt.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let $t,kt;const{_isCopy:Tt}=this;if(Tt&&(this._isCopy=!1,$t=this.x,kt=this.y),super.render(),this._drawId===null)if(ar(this,gm)){const{lines:Dt,mustSmooth:Ft,areContours:Ut,description:Ht,uuid:Kt,heightInPage:Yt}=ar(this,gm),{rawDims:{pageWidth:Jt,pageHeight:Zt},rotation:er}=this.parent.viewport,rr=SignatureExtractor.processDrawnLines({lines:Dt,pageWidth:Jt,pageHeight:Zt,rotation:er,innerMargin:Ko._INNER_MARGIN,mustSmooth:Ft,areContours:Ut});this.addSignature(rr,Yt,Ht,Kt)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:ar(this,Nu)||""}));return Tt&&(this._isCopy=!0,this._moveAfterPaste($t,kt)),this.div}setUuid($t){jr(this,r0,$t),this.addEditToolbar()}getUuid(){return ar(this,r0)}get description(){return ar(this,Nu)}set description($t){jr(this,Nu,$t),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:$t})),super.addEditToolbar().then(kt=>{kt==null||kt.updateEditSignatureButton($t)}))}getSignaturePreview(){const{newCurves:$t,areContours:kt,thickness:Tt,width:Dt,height:Ft}=ar(this,gm),Ut=Math.max(Dt,Ft),Ht=SignatureExtractor.processDrawnLines({lines:{curves:$t.map(Kt=>({points:Kt})),thickness:Tt,width:Dt,height:Ft},pageWidth:Ut,pageHeight:Ut,rotation:0,innerMargin:0,mustSmooth:!1,areContours:kt});return{areContours:kt,outline:Ht.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature($t,kt,Tt,Dt){const{x:Ft,y:Ut}=this,{outline:Ht}=jr(this,gm,$t);jr(this,xm,Ht instanceof ContourDrawOutline),this.description=Tt;let Kt;ar(this,xm)?Kt=Ko.getDefaultDrawingOptions():(Kt=Ko._defaultDrawnSignatureOptions.clone(),Kt.updateProperties({"stroke-width":Ht.thickness})),this._addOutlines({drawOutlines:Ht,drawingOptions:Kt});const[,Yt]=this.pageDimensions;let Jt=kt/Yt;Jt=Jt>=1?.5:Jt,this.width*=Jt/this.height,this.width>=1&&(Jt*=.9/this.width,this.width=.9),this.height=Jt,this.setDims(),this.x=Ft,this.y=Ut,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(Dt),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!Dt,hasDescription:!!Tt}}),this.div.hidden=!1}getFromImage($t){const{rawDims:{pageWidth:kt,pageHeight:Tt},rotation:Dt}=this.parent.viewport;return SignatureExtractor.process($t,kt,Tt,Dt,Ko._INNER_MARGIN)}getFromText($t,kt){const{rawDims:{pageWidth:Tt,pageHeight:Dt},rotation:Ft}=this.parent.viewport;return SignatureExtractor.extractContoursFromText($t,kt,Tt,Dt,Ft,Ko._INNER_MARGIN)}getDrawnSignature($t){const{rawDims:{pageWidth:kt,pageHeight:Tt},rotation:Dt}=this.parent.viewport;return SignatureExtractor.processDrawnLines({lines:$t,pageWidth:kt,pageHeight:Tt,rotation:Dt,innerMargin:Ko._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:$t,thickness:kt}){$t?this._drawingOptions=Ko.getDefaultDrawingOptions():(this._drawingOptions=Ko._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":kt}))}serialize($t=!1){if(this.isEmpty())return null;const{lines:kt,points:Tt}=this.serializeDraw($t),{_drawingOptions:{"stroke-width":Dt}}=this,Ft=Object.assign(super.serialize($t),{isSignature:!0,areContours:ar(this,xm),color:[0,0,0],thickness:ar(this,xm)?0:Dt});return this.addComment(Ft),$t?(Ft.paths={lines:kt,points:Tt},Ft.uuid=ar(this,r0),Ft.isCopy=!0):Ft.lines=kt,ar(this,Nu)&&(Ft.accessibilityData={type:"Figure",alt:ar(this,Nu)}),Ft}static deserializeDraw($t,kt,Tt,Dt,Ft,Ut){return Ut.areContours?ContourDrawOutline.deserialize($t,kt,Tt,Dt,Ft,Ut):InkDrawOutline.deserialize($t,kt,Tt,Dt,Ft,Ut)}static async deserialize($t,kt,Tt){var Ft;const Dt=await super.deserialize($t,kt,Tt);return jr(Dt,xm,$t.areContours),Dt.description=((Ft=$t.accessibilityData)==null?void 0:Ft.alt)||"",jr(Dt,r0,$t.uuid),Dt}};xm=new WeakMap,Nu=new WeakMap,gm=new WeakMap,r0=new WeakMap,ys(Ko,"_type","signature"),ys(Ko,"_editorType",AnnotationEditorType.SIGNATURE),ys(Ko,"_defaultDrawingOptions",null);let SignatureEditor=Ko;var Gn,fo,bm,bp,ym,ov,yp,s0,Pu,Ml,lv,n0,Ov,i0,Bv,cv,Gw,dv,Ww,uv,qw,cw,H$,hv,Kw,O2,L_;class StampEditor extends AnnotationEditor{constructor($t){super({...$t,name:"stampEditor"});yr(this,n0);yr(this,i0);yr(this,cv);yr(this,dv);yr(this,uv);yr(this,cw);yr(this,hv);yr(this,O2);yr(this,Gn,null);yr(this,fo,null);yr(this,bm,null);yr(this,bp,null);yr(this,ym,null);yr(this,ov,"");yr(this,yp,null);yr(this,s0,!1);yr(this,Pu,null);yr(this,Ml,!1);yr(this,lv,!1);jr(this,bp,$t.bitmapUrl),jr(this,ym,$t.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize($t,kt){AnnotationEditor.initialize($t,kt)}static isHandlingMimeForPasting($t){return SupportedImageMimeTypes.includes($t)}static paste($t,kt){kt.pasteEditor({mode:AnnotationEditorType.STAMP},{bitmapFile:$t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var $t;return{type:"stamp",hasAltText:!!(($t=this.altTextData)!=null&&$t.altText)}}static computeTelemetryFinalData($t){const kt=$t.get("hasAltText");return{hasAltText:kt.get(!0)??0,hasNoAltText:kt.get(!1)??0}}async mlGuessAltText($t=null,kt=!0){if(this.hasAltTextData())return null;const{mlManager:Tt}=this._uiManager;if(!Tt)throw new Error("No ML.");if(!await Tt.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:Dt,width:Ft,height:Ut}=$t||this.copyCanvas(null,null,!0).imageData,Ht=await Tt.guess({name:"altText",request:{data:Dt,width:Ft,height:Ut,channels:Dt.length/(Ft*Ut)}});if(!Ht)throw new Error("No response from the AI service.");if(Ht.error)throw new Error("Error from the AI service.");if(Ht.cancel)return null;if(!Ht.output)throw new Error("No valid response from the AI service.");const Kt=Ht.output;return await this.setGuessedAltText(Kt),kt&&!this.hasAltTextData()&&(this.altTextData={alt:Kt,decorative:!1}),Kt}remove(){var $t;ar(this,fo)&&(jr(this,Gn,null),this._uiManager.imageManager.deleteId(ar(this,fo)),($t=ar(this,yp))==null||$t.remove(),jr(this,yp,null),ar(this,Pu)&&(clearTimeout(ar(this,Pu)),jr(this,Pu,null))),super.remove()}rebuild(){if(!this.parent){ar(this,fo)&&Br(this,cv,Gw).call(this);return}super.rebuild(),this.div!==null&&(ar(this,fo)&&ar(this,yp)===null&&Br(this,cv,Gw).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded($t){this._isDraggable=!0,$t&&this.div.focus()}isEmpty(){return!(ar(this,bm)||ar(this,Gn)||ar(this,bp)||ar(this,ym)||ar(this,fo)||ar(this,s0))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let $t,kt;return this._isCopy&&($t=this.x,kt=this.y),super.render(),this.div.hidden=!0,this.createAltText(),ar(this,s0)||(ar(this,Gn)?Br(this,dv,Ww).call(this):Br(this,cv,Gw).call(this)),this._isCopy&&this._moveAfterPaste($t,kt),this._uiManager.addShouldRescale(this),this.div}setCanvas($t,kt){const{id:Tt,bitmap:Dt}=this._uiManager.imageManager.getFromCanvas($t,kt);kt.remove(),Tt&&this._uiManager.imageManager.isValidId(Tt)&&(jr(this,fo,Tt),Dt&&jr(this,Gn,Dt),jr(this,s0,!1),Br(this,dv,Ww).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;ar(this,Pu)!==null&&clearTimeout(ar(this,Pu)),jr(this,Pu,setTimeout(()=>{jr(this,Pu,null),Br(this,cw,H$).call(this)},200))}copyCanvas($t,kt,Tt=!1){$t||($t=224);const{width:Dt,height:Ft}=ar(this,Gn),Ut=new OutputScale;let Ht=ar(this,Gn),Kt=Dt,Yt=Ft,Jt=null;if(kt){if(Dt>kt||Ft>kt){const pr=Math.min(kt/Dt,kt/Ft);Kt=Math.floor(Dt*pr),Yt=Math.floor(Ft*pr)}Jt=document.createElement("canvas");const er=Jt.width=Math.ceil(Kt*Ut.sx),rr=Jt.height=Math.ceil(Yt*Ut.sy);ar(this,Ml)||(Ht=Br(this,uv,qw).call(this,er,rr));const sr=Jt.getContext("2d");sr.filter=this._uiManager.hcmFilter;let ir="white",nr="#cfcfd8";this._uiManager.hcmFilter!=="none"?nr="black":ColorScheme.isDarkMode&&(ir="#8f8f9d",nr="#42414d");const or=15,lr=or*Ut.sx,cr=or*Ut.sy,dr=new OffscreenCanvas(lr*2,cr*2),ur=dr.getContext("2d");ur.fillStyle=ir,ur.fillRect(0,0,lr*2,cr*2),ur.fillStyle=nr,ur.fillRect(0,0,lr,cr),ur.fillRect(lr,cr,lr,cr),sr.fillStyle=sr.createPattern(dr,"repeat"),sr.fillRect(0,0,er,rr),sr.drawImage(Ht,0,0,Ht.width,Ht.height,0,0,er,rr)}let Zt=null;if(Tt){let er,rr;if(Ut.symmetric&&Ht.width<$t&&Ht.height<$t)er=Ht.width,rr=Ht.height;else if(Ht=ar(this,Gn),Dt>$t||Ft>$t){const nr=Math.min($t/Dt,$t/Ft);er=Math.floor(Dt*nr),rr=Math.floor(Ft*nr),ar(this,Ml)||(Ht=Br(this,uv,qw).call(this,er,rr))}const ir=new OffscreenCanvas(er,rr).getContext("2d",{willReadFrequently:!0});ir.drawImage(Ht,0,0,Ht.width,Ht.height,0,0,er,rr),Zt={width:er,height:rr,data:ir.getImageData(0,0,er,rr).data}}return{canvas:Jt,width:Kt,height:Yt,imageData:Zt}}static async deserialize($t,kt,Tt){var ir;let Dt=null,Ft=!1;if($t instanceof StampAnnotationElement){const{data:{rect:nr,rotation:or,id:lr,structParent:cr,popupRef:dr,richText:ur,contentsObj:pr,creationDate:mr,modificationDate:vr},container:kr,parent:{page:{pageNumber:br}},canvas:_r}=$t;let Or,Pr;_r?(delete $t.canvas,{id:Or,bitmap:Pr}=Tt.imageManager.getFromCanvas(kr.id,_r),_r.remove()):(Ft=!0,$t._hasNoCanvas=!0);const Mr=((ir=await kt._structTree.getAriaAttributes(`${AnnotationPrefix}${lr}`))==null?void 0:ir.get("aria-label"))||"";Dt=$t={annotationType:AnnotationEditorType.STAMP,bitmapId:Or,bitmap:Pr,pageIndex:br-1,rect:nr.slice(0),rotation:or,annotationElementId:lr,id:lr,deleted:!1,accessibilityData:{decorative:!1,altText:Mr},isSvg:!1,structParent:cr,popupRef:dr,richText:ur,comment:(pr==null?void 0:pr.str)||null,creationDate:mr,modificationDate:vr}}const Ut=await super.deserialize($t,kt,Tt),{rect:Ht,bitmap:Kt,bitmapUrl:Yt,bitmapId:Jt,isSvg:Zt,accessibilityData:er}=$t;Ft?(Tt.addMissingCanvas($t.id,Ut),jr(Ut,s0,!0)):Jt&&Tt.imageManager.isValidId(Jt)?(jr(Ut,fo,Jt),Kt&&jr(Ut,Gn,Kt)):jr(Ut,bp,Yt),jr(Ut,Ml,Zt);const[rr,sr]=Ut.pageDimensions;return Ut.width=(Ht[2]-Ht[0])/rr,Ut.height=(Ht[3]-Ht[1])/sr,er&&(Ut.altTextData=er),Ut._initialData=Dt,$t.comment&&Ut.setCommentData($t),jr(Ut,lv,!!Dt),Ut}serialize($t=!1,kt=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const Tt=Object.assign(super.serialize($t),{bitmapId:ar(this,fo),isSvg:ar(this,Ml)});if(this.addComment(Tt),$t)return Tt.bitmapUrl=Br(this,hv,Kw).call(this,!0),Tt.accessibilityData=this.serializeAltText(!0),Tt.isCopy=!0,Tt;const{decorative:Dt,altText:Ft}=this.serializeAltText(!1);if(!Dt&&Ft&&(Tt.accessibilityData={type:"Figure",alt:Ft}),this.annotationElementId){const Ht=Br(this,O2,L_).call(this,Tt);return Ht.isSame?null:(Ht.isSameAltText?delete Tt.accessibilityData:Tt.accessibilityData.structParent=this._initialData.structParent??-1,Tt.id=this.annotationElementId,delete Tt.bitmapId,Tt)}if(kt===null)return Tt;kt.stamps||(kt.stamps=new Map);const Ut=ar(this,Ml)?(Tt.rect[2]-Tt.rect[0])*(Tt.rect[3]-Tt.rect[1]):null;if(!kt.stamps.has(ar(this,fo)))kt.stamps.set(ar(this,fo),{area:Ut,serialized:Tt}),Tt.bitmap=Br(this,hv,Kw).call(this,!1);else if(ar(this,Ml)){const Ht=kt.stamps.get(ar(this,fo));Ut>Ht.area&&(Ht.area=Ut,Ht.serialized.bitmap.close(),Ht.serialized.bitmap=Br(this,hv,Kw).call(this,!1))}return Tt}renderAnnotationElement($t){return this.deleted?($t.hide(),null):($t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}Gn=new WeakMap,fo=new WeakMap,bm=new WeakMap,bp=new WeakMap,ym=new WeakMap,ov=new WeakMap,yp=new WeakMap,s0=new WeakMap,Pu=new WeakMap,Ml=new WeakMap,lv=new WeakMap,n0=new WeakSet,Ov=function($t,kt=!1){if(!$t){this.remove();return}jr(this,Gn,$t.bitmap),kt||(jr(this,fo,$t.id),jr(this,Ml,$t.isSvg)),$t.file&&jr(this,ov,$t.file.name),Br(this,dv,Ww).call(this)},i0=new WeakSet,Bv=function(){if(jr(this,bm,null),this._uiManager.enableWaiting(!1),!!ar(this,yp)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&ar(this,Gn)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&ar(this,Gn)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},cv=new WeakSet,Gw=function(){if(ar(this,fo)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(ar(this,fo)).then(Tt=>Br(this,n0,Ov).call(this,Tt,!0)).finally(()=>Br(this,i0,Bv).call(this));return}if(ar(this,bp)){const Tt=ar(this,bp);jr(this,bp,null),this._uiManager.enableWaiting(!0),jr(this,bm,this._uiManager.imageManager.getFromUrl(Tt).then(Dt=>Br(this,n0,Ov).call(this,Dt)).finally(()=>Br(this,i0,Bv).call(this)));return}if(ar(this,ym)){const Tt=ar(this,ym);jr(this,ym,null),this._uiManager.enableWaiting(!0),jr(this,bm,this._uiManager.imageManager.getFromFile(Tt).then(Dt=>Br(this,n0,Ov).call(this,Dt)).finally(()=>Br(this,i0,Bv).call(this)));return}const $t=document.createElement("input");$t.type="file",$t.accept=SupportedImageMimeTypes.join(",");const kt=this._uiManager._signal;jr(this,bm,new Promise(Tt=>{$t.addEventListener("change",async()=>{if(!$t.files||$t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const Dt=await this._uiManager.imageManager.getFromFile($t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),Br(this,n0,Ov).call(this,Dt)}Tt()},{signal:kt}),$t.addEventListener("cancel",()=>{this.remove(),Tt()},{signal:kt})}).finally(()=>Br(this,i0,Bv).call(this))),$t.click()},dv=new WeakSet,Ww=function(){var Kt;const{div:$t}=this;let{width:kt,height:Tt}=ar(this,Gn);const[Dt,Ft]=this.pageDimensions,Ut=.75;if(this.width)kt=this.width*Dt,Tt=this.height*Ft;else if(kt>Ut*Dt||Tt>Ut*Ft){const Yt=Math.min(Ut*Dt/kt,Ut*Ft/Tt);kt*=Yt,Tt*=Yt}this._uiManager.enableWaiting(!1);const Ht=jr(this,yp,document.createElement("canvas"));Ht.setAttribute("role","img"),this.addContainer(Ht),this.width=kt/Dt,this.height=Tt/Ft,this.setDims(),(Kt=this._initialOptions)!=null&&Kt.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&($t.hidden=!1),Br(this,cw,H$).call(this),ar(this,lv)||(this.parent.addUndoableEditor(this),jr(this,lv,!0)),this._reportTelemetry({action:"inserted_image"}),ar(this,ov)&&this.div.setAttribute("aria-description",ar(this,ov)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},uv=new WeakSet,qw=function($t,kt){const{width:Tt,height:Dt}=ar(this,Gn);let Ft=Tt,Ut=Dt,Ht=ar(this,Gn);for(;Ft>2*$t||Ut>2*kt;){const Kt=Ft,Yt=Ut;Ft>2*$t&&(Ft=Ft>=16384?Math.floor(Ft/2)-1:Math.ceil(Ft/2)),Ut>2*kt&&(Ut=Ut>=16384?Math.floor(Ut/2)-1:Math.ceil(Ut/2));const Jt=new OffscreenCanvas(Ft,Ut);Jt.getContext("2d").drawImage(Ht,0,0,Kt,Yt,0,0,Ft,Ut),Ht=Jt.transferToImageBitmap()}return Ht},cw=new WeakSet,H$=function(){const[$t,kt]=this.parentDimensions,{width:Tt,height:Dt}=this,Ft=new OutputScale,Ut=Math.ceil(Tt*$t*Ft.sx),Ht=Math.ceil(Dt*kt*Ft.sy),Kt=ar(this,yp);if(!Kt||Kt.width===Ut&&Kt.height===Ht)return;Kt.width=Ut,Kt.height=Ht;const Yt=ar(this,Ml)?ar(this,Gn):Br(this,uv,qw).call(this,Ut,Ht),Jt=Kt.getContext("2d");Jt.filter=this._uiManager.hcmFilter,Jt.drawImage(Yt,0,0,Yt.width,Yt.height,0,0,Ut,Ht)},hv=new WeakSet,Kw=function($t){if($t){if(ar(this,Ml)){const Dt=this._uiManager.imageManager.getSvgUrl(ar(this,fo));if(Dt)return Dt}const kt=document.createElement("canvas");return{width:kt.width,height:kt.height}=ar(this,Gn),kt.getContext("2d").drawImage(ar(this,Gn),0,0),kt.toDataURL()}if(ar(this,Ml)){const[kt,Tt]=this.pageDimensions,Dt=Math.round(this.width*kt*PixelsPerInch.PDF_TO_CSS_UNITS),Ft=Math.round(this.height*Tt*PixelsPerInch.PDF_TO_CSS_UNITS),Ut=new OffscreenCanvas(Dt,Ft);return Ut.getContext("2d").drawImage(ar(this,Gn),0,0,ar(this,Gn).width,ar(this,Gn).height,0,0,Dt,Ft),Ut.transferToImageBitmap()}return structuredClone(ar(this,Gn))},O2=new WeakSet,L_=function($t){var Ut;const{pageIndex:kt,accessibilityData:{altText:Tt}}=this._initialData,Dt=$t.pageIndex===kt,Ft=(((Ut=$t.accessibilityData)==null?void 0:Ut.alt)||"")===Tt;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&Dt&&Ft,isSameAltText:Ft}},ys(StampEditor,"_type","stamp"),ys(StampEditor,"_editorType",AnnotationEditorType.STAMP);var a0,pv,vm,Em,vp,Wo,jm,fv,mv,ou,Ep,mo,jp,wm,xv,Ps,Rm,dw,G$,B2,O_,Wl,cu,uw,W$,hw,q$,gv,Yw;const Xl=class Xl{constructor({uiManager:et,pageIndex:$t,div:kt,structTreeLayer:Tt,accessibilityManager:Dt,annotationLayer:Ft,drawLayer:Ut,textLayer:Ht,viewport:Kt,l10n:Yt}){yr(this,dw);yr(this,B2);yr(this,Wl);yr(this,uw);yr(this,hw);yr(this,gv);yr(this,a0,void 0);yr(this,pv,!1);yr(this,vm,null);yr(this,Em,null);yr(this,vp,null);yr(this,Wo,new Map);yr(this,jm,!1);yr(this,fv,!1);yr(this,mv,!1);yr(this,ou,null);yr(this,Ep,null);yr(this,mo,null);yr(this,jp,null);yr(this,wm,null);yr(this,xv,-1);yr(this,Ps,void 0);const Jt=[...ar(Xl,Rm).values()];if(!Xl._initialized){Xl._initialized=!0;for(const Zt of Jt)Zt.initialize(Yt,et)}et.registerEditorTypes(Jt),jr(this,Ps,et),this.pageIndex=$t,this.div=kt,jr(this,a0,Dt),jr(this,vm,Ft),this.viewport=Kt,jr(this,mo,Ht),this.drawLayer=Ut,this._structTree=Tt,ar(this,Ps).addLayer(this)}get isEmpty(){return ar(this,Wo).size===0}get isInvisible(){return this.isEmpty&&ar(this,Ps).getMode()===AnnotationEditorType.NONE}updateToolbar(et){ar(this,Ps).updateToolbar(et)}updateMode(et=ar(this,Ps).getMode()){switch(Br(this,gv,Yw).call(this),et){case AnnotationEditorType.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case AnnotationEditorType.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case AnnotationEditorType.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:$t}=this.div;if($t.toggle("nonEditing",!1),et===AnnotationEditorType.POPUP)$t.toggle("commentEditing",!0);else{$t.toggle("commentEditing",!1);for(const kt of ar(Xl,Rm).values())$t.toggle(`${kt._type}Editing`,et===kt._editorType)}this.div.hidden=!1}hasTextLayer(et){var $t;return et===(($t=ar(this,mo))==null?void 0:$t.div)}setEditingState(et){ar(this,Ps).setEditingState(et)}addCommands(et){ar(this,Ps).addCommands(et)}cleanUndoStack(et){ar(this,Ps).cleanUndoStack(et)}toggleDrawing(et=!1){this.div.classList.toggle("drawing",!et)}togglePointerEvents(et=!1){this.div.classList.toggle("disabled",!et)}toggleAnnotationLayerPointerEvents(et=!1){var $t;($t=ar(this,vm))==null||$t.div.classList.toggle("disabled",!et)}async enable(){var kt;jr(this,mv,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),(kt=ar(this,wm))==null||kt.abort(),jr(this,wm,null);const et=new Set;for(const Tt of ar(this,dw,G$))Tt.enableEditing(),Tt.show(!0),Tt.annotationElementId&&(ar(this,Ps).removeChangedExistingAnnotation(Tt),et.add(Tt.annotationElementId));const $t=ar(this,vm);if($t)for(const Tt of $t.getEditableAnnotations()){if(Tt.hide(),ar(this,Ps).isDeletedAnnotationElement(Tt.data.id)||et.has(Tt.data.id))continue;const Dt=await this.deserialize(Tt);Dt&&(this.addOrRebuild(Dt),Dt.enableEditing())}jr(this,mv,!1),ar(this,Ps)._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){var kt;if(jr(this,fv,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),ar(this,mo)&&!ar(this,wm)){jr(this,wm,new AbortController);const Tt=ar(this,Ps).combinedSignal(ar(this,wm));ar(this,mo).div.addEventListener("pointerdown",Dt=>{const{clientX:Ut,clientY:Ht,timeStamp:Kt}=Dt,Yt=ar(this,xv);if(Kt-Yt>500){jr(this,xv,Kt);return}jr(this,xv,-1);const{classList:Jt}=this.div;Jt.toggle("getElements",!0);const Zt=document.elementsFromPoint(Ut,Ht);if(Jt.toggle("getElements",!1),!this.div.contains(Zt[0]))return;let er;const rr=new RegExp(`^${AnnotationEditorPrefix}[0-9]+$`);for(const ir of Zt)if(rr.test(ir.id)){er=ir.id;break}if(!er)return;const sr=ar(this,Wo).get(er);(sr==null?void 0:sr.annotationElementId)===null&&(Dt.stopPropagation(),Dt.preventDefault(),sr.dblclick(Dt))},{signal:Tt,capture:!0})}const et=ar(this,vm);if(et){const Tt=new Map,Dt=new Map;for(const Ut of ar(this,dw,G$)){if(Ut.disableEditing(),!Ut.annotationElementId){Ut.updateFakeAnnotationElement(et);continue}if(Ut.serialize()!==null){Tt.set(Ut.annotationElementId,Ut);continue}else Dt.set(Ut.annotationElementId,Ut);(kt=this.getEditableAnnotation(Ut.annotationElementId))==null||kt.show(),Ut.remove()}const Ft=et.getEditableAnnotations();for(const Ut of Ft){const{id:Ht}=Ut.data;if(ar(this,Ps).isDeletedAnnotationElement(Ht)){Ut.updateEdited({deleted:!0});continue}let Kt=Dt.get(Ht);if(Kt){Kt.resetAnnotationElement(Ut),Kt.show(!1),Ut.show();continue}Kt=Tt.get(Ht),Kt&&(ar(this,Ps).addChangedExistingAnnotation(Kt),Kt.renderAnnotationElement(Ut)&&Kt.show(!1)),Ut.show()}}Br(this,gv,Yw).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:$t}=this.div;for(const Tt of ar(Xl,Rm).values())$t.remove(`${Tt._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),jr(this,fv,!1)}getEditableAnnotation(et){var $t;return(($t=ar(this,vm))==null?void 0:$t.getEditableAnnotation(et))||null}setActiveEditor(et){ar(this,Ps).getActive()!==et&&ar(this,Ps).setActiveEditor(et)}enableTextSelection(){var et;if(this.div.tabIndex=-1,(et=ar(this,mo))!=null&&et.div&&!ar(this,jp)){jr(this,jp,new AbortController);const $t=ar(this,Ps).combinedSignal(ar(this,jp));ar(this,mo).div.addEventListener("pointerdown",Br(this,B2,O_).bind(this),{signal:$t}),ar(this,mo).div.classList.add("highlighting")}}disableTextSelection(){var et;this.div.tabIndex=0,(et=ar(this,mo))!=null&&et.div&&ar(this,jp)&&(ar(this,jp).abort(),jr(this,jp,null),ar(this,mo).div.classList.remove("highlighting"))}enableClick(){if(ar(this,Em))return;jr(this,Em,new AbortController);const et=ar(this,Ps).combinedSignal(ar(this,Em));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:et});const $t=this.pointerup.bind(this);this.div.addEventListener("pointerup",$t,{signal:et}),this.div.addEventListener("pointercancel",$t,{signal:et})}disableClick(){var et;(et=ar(this,Em))==null||et.abort(),jr(this,Em,null)}attach(et){ar(this,Wo).set(et.id,et);const{annotationElementId:$t}=et;$t&&ar(this,Ps).isDeletedAnnotationElement($t)&&ar(this,Ps).removeDeletedAnnotationElement(et)}detach(et){var $t;ar(this,Wo).delete(et.id),($t=ar(this,a0))==null||$t.removePointerInTextLayer(et.contentDiv),!ar(this,fv)&&et.annotationElementId&&ar(this,Ps).addDeletedAnnotationElement(et)}remove(et){this.detach(et),ar(this,Ps).removeEditor(et),et.div.remove(),et.isAttachedToDOM=!1}changeParent(et){var $t;et.parent!==this&&(et.parent&&et.annotationElementId&&(ar(this,Ps).addDeletedAnnotationElement(et.annotationElementId),AnnotationEditor.deleteAnnotationElement(et),et.annotationElementId=null),this.attach(et),($t=et.parent)==null||$t.detach(et),et.setParent(this),et.div&&et.isAttachedToDOM&&(et.div.remove(),this.div.append(et.div)))}add(et){if(!(et.parent===this&&et.isAttachedToDOM)){if(this.changeParent(et),ar(this,Ps).addEditor(et),this.attach(et),!et.isAttachedToDOM){const $t=et.render();this.div.append($t),et.isAttachedToDOM=!0}et.fixAndSetPosition(),et.onceAdded(!ar(this,mv)),ar(this,Ps).addToAnnotationStorage(et),et._reportTelemetry(et.telemetryInitialData)}}moveEditorInDOM(et){var kt;if(!et.isAttachedToDOM)return;const{activeElement:$t}=document;et.div.contains($t)&&!ar(this,vp)&&(et._focusEventsAllowed=!1,jr(this,vp,setTimeout(()=>{jr(this,vp,null),et.div.contains(document.activeElement)?et._focusEventsAllowed=!0:(et.div.addEventListener("focusin",()=>{et._focusEventsAllowed=!0},{once:!0,signal:ar(this,Ps)._signal}),$t.focus())},0))),et._structTreeParentId=(kt=ar(this,a0))==null?void 0:kt.moveElementInDOM(this.div,et.div,et.contentDiv,!0)}addOrRebuild(et){et.needsToBeRebuilt()?(et.parent||(et.parent=this),et.rebuild(),et.show()):this.add(et)}addUndoableEditor(et){const $t=()=>et._uiManager.rebuild(et),kt=()=>{et.remove()};this.addCommands({cmd:$t,undo:kt,mustExec:!1})}getEditorByUID(et){for(const $t of ar(this,Wo).values())if($t.uid===et)return $t;return null}getNextId(){return ar(this,Ps).getId()}combinedSignal(et){return ar(this,Ps).combinedSignal(et)}canCreateNewEmptyEditor(){var et;return(et=ar(this,Wl,cu))==null?void 0:et.canCreateNewEmptyEditor()}async pasteEditor(et,$t){this.updateToolbar(et),await ar(this,Ps).updateMode(et.mode);const{offsetX:kt,offsetY:Tt}=Br(this,hw,q$).call(this),Dt=this.getNextId(),Ft=Br(this,uw,W$).call(this,{parent:this,id:Dt,x:kt,y:Tt,uiManager:ar(this,Ps),isCentered:!0,...$t});Ft&&this.add(Ft)}async deserialize(et){var $t;return await(($t=ar(Xl,Rm).get(et.annotationType??et.annotationEditorType))==null?void 0:$t.deserialize(et,this,ar(this,Ps)))||null}createAndAddNewEditor(et,$t,kt={}){const Tt=this.getNextId(),Dt=Br(this,uw,W$).call(this,{parent:this,id:Tt,x:et.offsetX,y:et.offsetY,uiManager:ar(this,Ps),isCentered:$t,...kt});return Dt&&this.add(Dt),Dt}get boundingClientRect(){return this.div.getBoundingClientRect()}addNewEditor(et={}){this.createAndAddNewEditor(Br(this,hw,q$).call(this),!0,et)}setSelected(et){ar(this,Ps).setSelected(et)}toggleSelected(et){ar(this,Ps).toggleSelected(et)}unselect(et){ar(this,Ps).unselect(et)}pointerup(et){var Tt;const{isMac:$t}=util_FeatureTest.platform;if(et.button!==0||et.ctrlKey&&$t||et.target!==this.div||!ar(this,jm)||(jr(this,jm,!1),(Tt=ar(this,Wl,cu))!=null&&Tt.isDrawer&&ar(this,Wl,cu).supportMultipleDrawings))return;if(!ar(this,pv)){jr(this,pv,!0);return}const kt=ar(this,Ps).getMode();if(kt===AnnotationEditorType.STAMP||kt===AnnotationEditorType.SIGNATURE){ar(this,Ps).unselectAll();return}this.createAndAddNewEditor(et,!1)}pointerdown(et){var Tt;if(ar(this,Ps).getMode()===AnnotationEditorType.HIGHLIGHT&&this.enableTextSelection(),ar(this,jm)){jr(this,jm,!1);return}const{isMac:$t}=util_FeatureTest.platform;if(et.button!==0||et.ctrlKey&&$t||et.target!==this.div)return;if(jr(this,jm,!0),(Tt=ar(this,Wl,cu))!=null&&Tt.isDrawer){this.startDrawingSession(et);return}const kt=ar(this,Ps).getActive();jr(this,pv,!kt||kt.isEmpty())}startDrawingSession(et){if(this.div.focus({preventScroll:!0}),ar(this,ou)){ar(this,Wl,cu).startDrawing(this,ar(this,Ps),!1,et);return}ar(this,Ps).setCurrentDrawingSession(this),jr(this,ou,new AbortController);const $t=ar(this,Ps).combinedSignal(ar(this,ou));this.div.addEventListener("blur",({relatedTarget:kt})=>{kt&&!this.div.contains(kt)&&(jr(this,Ep,null),this.commitOrRemove())},{signal:$t}),ar(this,Wl,cu).startDrawing(this,ar(this,Ps),!1,et)}pause(et){if(et){const{activeElement:$t}=document;this.div.contains($t)&&jr(this,Ep,$t);return}ar(this,Ep)&&setTimeout(()=>{var $t;($t=ar(this,Ep))==null||$t.focus(),jr(this,Ep,null)},0)}endDrawingSession(et=!1){return ar(this,ou)?(ar(this,Ps).setCurrentDrawingSession(null),ar(this,ou).abort(),jr(this,ou,null),jr(this,Ep,null),ar(this,Wl,cu).endDrawing(et)):null}findNewParent(et,$t,kt){const Tt=ar(this,Ps).findParent($t,kt);return Tt===null||Tt===this?!1:(Tt.changeParent(et),!0)}commitOrRemove(){return ar(this,ou)?(this.endDrawingSession(),!0):!1}onScaleChanging(){ar(this,ou)&&ar(this,Wl,cu).onScaleChangingWhenDrawing(this)}destroy(){var et,$t;this.commitOrRemove(),((et=ar(this,Ps).getActive())==null?void 0:et.parent)===this&&(ar(this,Ps).commitOrRemove(),ar(this,Ps).setActiveEditor(null)),ar(this,vp)&&(clearTimeout(ar(this,vp)),jr(this,vp,null));for(const kt of ar(this,Wo).values())($t=ar(this,a0))==null||$t.removePointerInTextLayer(kt.contentDiv),kt.setParent(null),kt.isAttachedToDOM=!1,kt.div.remove();this.div=null,ar(this,Wo).clear(),ar(this,Ps).removeLayer(this)}render({viewport:et}){this.viewport=et,setLayerDimensions(this.div,et);for(const $t of ar(this,Ps).getEditors(this.pageIndex))this.add($t),$t.rebuild();this.updateMode()}update({viewport:et}){ar(this,Ps).commitOrRemove(),Br(this,gv,Yw).call(this);const $t=this.viewport.rotation,kt=et.rotation;if(this.viewport=et,setLayerDimensions(this.div,{rotation:kt}),$t!==kt)for(const Tt of ar(this,Wo).values())Tt.rotate(kt)}get pageDimensions(){const{pageWidth:et,pageHeight:$t}=this.viewport.rawDims;return[et,$t]}get scale(){return ar(this,Ps).viewParameters.realScale}};a0=new WeakMap,pv=new WeakMap,vm=new WeakMap,Em=new WeakMap,vp=new WeakMap,Wo=new WeakMap,jm=new WeakMap,fv=new WeakMap,mv=new WeakMap,ou=new WeakMap,Ep=new WeakMap,mo=new WeakMap,jp=new WeakMap,wm=new WeakMap,xv=new WeakMap,Ps=new WeakMap,Rm=new WeakMap,dw=new WeakSet,G$=function(){return ar(this,Wo).size!==0?ar(this,Wo).values():ar(this,Ps).getEditors(this.pageIndex)},B2=new WeakSet,O_=function(et){ar(this,Ps).unselectAll();const{target:$t}=et;if($t===ar(this,mo).div||($t.getAttribute("role")==="img"||$t.classList.contains("endOfContent"))&&ar(this,mo).div.contains($t)){const{isMac:kt}=util_FeatureTest.platform;if(et.button!==0||et.ctrlKey&&kt)return;ar(this,Ps).showAllEditors("highlight",!0,!0),ar(this,mo).div.classList.add("free"),this.toggleDrawing(),HighlightEditor.startHighlighting(this,ar(this,Ps).direction==="ltr",{target:ar(this,mo).div,x:et.x,y:et.y}),ar(this,mo).div.addEventListener("pointerup",()=>{ar(this,mo).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:ar(this,Ps)._signal}),et.preventDefault()}},Wl=new WeakSet,cu=function(){return ar(Xl,Rm).get(ar(this,Ps).getMode())},uw=new WeakSet,W$=function(et){const $t=ar(this,Wl,cu);return $t?new $t.prototype.constructor(et):null},hw=new WeakSet,q$=function(){const{x:et,y:$t,width:kt,height:Tt}=this.boundingClientRect,Dt=Math.max(0,et),Ft=Math.max(0,$t),Ut=Math.min(window.innerWidth,et+kt),Ht=Math.min(window.innerHeight,$t+Tt),Kt=(Dt+Ut)/2-et,Yt=(Ft+Ht)/2-$t,[Jt,Zt]=this.viewport.rotation%180===0?[Kt,Yt]:[Yt,Kt];return{offsetX:Jt,offsetY:Zt}},gv=new WeakSet,Yw=function(){for(const et of ar(this,Wo).values())et.isEmpty()&&et.remove()},ys(Xl,"_initialized",!1),yr(Xl,Rm,new Map([FreeTextEditor,InkEditor,StampEditor,HighlightEditor,SignatureEditor].map(et=>[et._editorType,et])));let AnnotationEditorLayer=Xl;var lu,Lo,o0,pw,V2,B_,fw,K$,z2,V_,mw,Y$;const ga=class ga{constructor({pageIndex:et}){yr(this,fw);yr(this,z2);yr(this,mw);yr(this,lu,null);yr(this,Lo,new Map);yr(this,o0,new Map);this.pageIndex=et}setParent(et){if(!ar(this,lu)){jr(this,lu,et);return}if(ar(this,lu)!==et){if(ar(this,Lo).size>0)for(const $t of ar(this,Lo).values())$t.remove(),et.append($t);jr(this,lu,et)}}static get _svgFactory(){return shadow(this,"_svgFactory",new DOMSVGFactory)}draw(et,$t=!1,kt=!1){const Tt=xa(ga,pw)._++,Dt=Br(this,fw,K$).call(this),Ft=ga._svgFactory.createElement("defs");Dt.append(Ft);const Ut=ga._svgFactory.createElement("path");Ft.append(Ut);const Ht=`path_p${this.pageIndex}_${Tt}`;Ut.setAttribute("id",Ht),Ut.setAttribute("vector-effect","non-scaling-stroke"),$t&&ar(this,o0).set(Tt,Ut);const Kt=kt?Br(this,z2,V_).call(this,Ft,Ht):null,Yt=ga._svgFactory.createElement("use");return Dt.append(Yt),Yt.setAttribute("href",`#${Ht}`),this.updateProperties(Dt,et),ar(this,Lo).set(Tt,Dt),{id:Tt,clipPathId:`url(#${Kt})`}}drawOutline(et,$t){const kt=xa(ga,pw)._++,Tt=Br(this,fw,K$).call(this),Dt=ga._svgFactory.createElement("defs");Tt.append(Dt);const Ft=ga._svgFactory.createElement("path");Dt.append(Ft);const Ut=`path_p${this.pageIndex}_${kt}`;Ft.setAttribute("id",Ut),Ft.setAttribute("vector-effect","non-scaling-stroke");let Ht;if($t){const Jt=ga._svgFactory.createElement("mask");Dt.append(Jt),Ht=`mask_p${this.pageIndex}_${kt}`,Jt.setAttribute("id",Ht),Jt.setAttribute("maskUnits","objectBoundingBox");const Zt=ga._svgFactory.createElement("rect");Jt.append(Zt),Zt.setAttribute("width","1"),Zt.setAttribute("height","1"),Zt.setAttribute("fill","white");const er=ga._svgFactory.createElement("use");Jt.append(er),er.setAttribute("href",`#${Ut}`),er.setAttribute("stroke","none"),er.setAttribute("fill","black"),er.setAttribute("fill-rule","nonzero"),er.classList.add("mask")}const Kt=ga._svgFactory.createElement("use");Tt.append(Kt),Kt.setAttribute("href",`#${Ut}`),Ht&&Kt.setAttribute("mask",`url(#${Ht})`);const Yt=Kt.cloneNode();return Tt.append(Yt),Kt.classList.add("mainOutline"),Yt.classList.add("secondaryOutline"),this.updateProperties(Tt,et),ar(this,Lo).set(kt,Tt),kt}finalizeDraw(et,$t){ar(this,o0).delete(et),this.updateProperties(et,$t)}updateProperties(et,$t){var Ht;if(!$t)return;const{root:kt,bbox:Tt,rootClass:Dt,path:Ft}=$t,Ut=typeof et=="number"?ar(this,Lo).get(et):et;if(Ut){if(kt&&Br(this,mw,Y$).call(this,Ut,kt),Tt&&Br(Ht=ga,V2,B_).call(Ht,Ut,Tt),Dt){const{classList:Kt}=Ut;for(const[Yt,Jt]of Object.entries(Dt))Kt.toggle(Yt,Jt)}if(Ft){const Yt=Ut.firstChild.firstChild;Br(this,mw,Y$).call(this,Yt,Ft)}}}updateParent(et,$t){if($t===this)return;const kt=ar(this,Lo).get(et);kt&&(ar($t,lu).append(kt),ar(this,Lo).delete(et),ar($t,Lo).set(et,kt))}remove(et){ar(this,o0).delete(et),ar(this,lu)!==null&&(ar(this,Lo).get(et).remove(),ar(this,Lo).delete(et))}destroy(){jr(this,lu,null);for(const et of ar(this,Lo).values())et.remove();ar(this,Lo).clear(),ar(this,o0).clear()}};lu=new WeakMap,Lo=new WeakMap,o0=new WeakMap,pw=new WeakMap,V2=new WeakSet,B_=function(et,[$t,kt,Tt,Dt]){const{style:Ft}=et;Ft.top=`${100*kt}%`,Ft.left=`${100*$t}%`,Ft.width=`${100*Tt}%`,Ft.height=`${100*Dt}%`},fw=new WeakSet,K$=function(){const et=ga._svgFactory.create(1,1,!0);return ar(this,lu).append(et),et.setAttribute("aria-hidden",!0),et},z2=new WeakSet,V_=function(et,$t){const kt=ga._svgFactory.createElement("clipPath");et.append(kt);const Tt=`clip_${$t}`;kt.setAttribute("id",Tt),kt.setAttribute("clipPathUnits","objectBoundingBox");const Dt=ga._svgFactory.createElement("use");return kt.append(Dt),Dt.setAttribute("href",`#${$t}`),Dt.classList.add("clip"),Tt},mw=new WeakSet,Y$=function(et,$t){for(const[kt,Tt]of Object.entries($t))Tt===null?et.removeAttribute(kt):et.setAttribute(kt,Tt)},yr(ga,V2),yr(ga,pw,0);let DrawLayer=ga;globalThis._pdfjsTestingUtils={HighlightOutliner};globalThis.pdfjsLib={AbortException,AnnotationEditorLayer,AnnotationEditorParamsType,AnnotationEditorType,AnnotationEditorUIManager,AnnotationLayer:AnnotationLayer$1,AnnotationMode,AnnotationType,applyOpacity,build,ColorPicker,createValidAbsoluteUrl,CSSConstants,DOMSVGFactory,DrawLayer,FeatureTest:util_FeatureTest,fetchData,findContrastColor,getDocument,getFilenameFromUrl,getPdfFilenameFromUrl,getRGB,getUuid,getXfaPageViewport,GlobalWorkerOptions,ImageKind:util_ImageKind,InvalidPDFException,isDataScheme,isPdfFile,isValidExplicitDest,MathClamp,noContextMenu,normalizeUnicode,OPS,OutputScale,PasswordResponses:PasswordResponses$2,PDFDataRangeTransport:PDFDataRangeTransport$1,PDFDateString,PDFWorker,PermissionFlag,PixelsPerInch,RenderingCancelledException,renderRichText,ResponseException,setLayerDimensions,shadow,SignatureExtractor,stopEvent,SupportedImageMimeTypes,TextLayer:TextLayer$1,TouchManager,updateUrlHash,Util,VerbosityLevel,version,XfaLayer};const pdfjs=Object.freeze(Object.defineProperty({__proto__:null,AbortException,AnnotationEditorLayer,AnnotationEditorParamsType,AnnotationEditorType,AnnotationEditorUIManager,AnnotationLayer:AnnotationLayer$1,AnnotationMode,AnnotationType,CSSConstants,ColorPicker,DOMSVGFactory,DrawLayer,FeatureTest:util_FeatureTest,GlobalWorkerOptions,ImageKind:util_ImageKind,InvalidPDFException,MathClamp,OPS,OutputScale,PDFDataRangeTransport:PDFDataRangeTransport$1,PDFDateString,PDFWorker,PasswordResponses:PasswordResponses$2,PermissionFlag,PixelsPerInch,RenderingCancelledException,ResponseException,SignatureExtractor,SupportedImageMimeTypes,TextLayer:TextLayer$1,TouchManager,Util,VerbosityLevel,XfaLayer,applyOpacity,build,createValidAbsoluteUrl,fetchData,findContrastColor,getDocument,getFilenameFromUrl,getPdfFilenameFromUrl,getRGB,getUuid,getXfaPageViewport,isDataScheme,isPdfFile,isValidExplicitDest,noContextMenu,normalizeUnicode,renderRichText,setLayerDimensions,shadow,stopEvent,updateUrlHash,version},Symbol.toStringTag,{value:"Module"}));var has=Object.prototype.hasOwnProperty;function find(dt,et,$t){for($t of dt.keys())if(dequal($t,et))return $t}function dequal(dt,et){var $t,kt,Tt;if(dt===et)return!0;if(dt&&et&&($t=dt.constructor)===et.constructor){if($t===Date)return dt.getTime()===et.getTime();if($t===RegExp)return dt.toString()===et.toString();if($t===Array){if((kt=dt.length)===et.length)for(;kt--&&dequal(dt[kt],et[kt]););return kt===-1}if($t===Set){if(dt.size!==et.size)return!1;for(kt of dt)if(Tt=kt,Tt&&typeof Tt=="object"&&(Tt=find(et,Tt),!Tt)||!et.has(Tt))return!1;return!0}if($t===Map){if(dt.size!==et.size)return!1;for(kt of dt)if(Tt=kt[0],Tt&&typeof Tt=="object"&&(Tt=find(et,Tt),!Tt)||!dequal(kt[1],et.get(Tt)))return!1;return!0}if($t===ArrayBuffer)dt=new Uint8Array(dt),et=new Uint8Array(et);else if($t===DataView){if((kt=dt.byteLength)===et.byteLength)for(;kt--&&dt.getInt8(kt)===et.getInt8(kt););return kt===-1}if(ArrayBuffer.isView(dt)){if((kt=dt.byteLength)===et.byteLength)for(;kt--&&dt[kt]===et[kt];);return kt===-1}if(!$t||typeof dt=="object"){kt=0;for($t in dt)if(has.call(dt,$t)&&++kt&&!has.call(et,$t)||!($t in et)||!dequal(dt[$t],et[$t]))return!1;return Object.keys(et).length===kt}}return dt!==dt&&et!==et}function makeCancellablePromise(dt){let et=!1;return{promise:new Promise((kt,Tt)=>{dt.then(Dt=>!et&&kt(Dt)).catch(Dt=>!et&&Tt(Dt))}),cancel(){et=!0}}}const clipboardEvents=["onCopy","onCut","onPaste"],compositionEvents=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],focusEvents=["onFocus","onBlur"],formEvents=["onInput","onInvalid","onReset","onSubmit"],imageEvents=["onLoad","onError"],keyboardEvents=["onKeyDown","onKeyPress","onKeyUp"],mediaEvents=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],mouseEvents=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],dragEvents=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],selectionEvents=["onSelect"],touchEvents=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],pointerEvents=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],uiEvents=["onScroll"],wheelEvents=["onWheel"],animationEvents=["onAnimationStart","onAnimationEnd","onAnimationIteration"],transitionEvents=["onTransitionEnd"],otherEvents=["onToggle"],changeEvents=["onChange"],allEvents=[...clipboardEvents,...compositionEvents,...focusEvents,...formEvents,...imageEvents,...keyboardEvents,...mediaEvents,...mouseEvents,...dragEvents,...selectionEvents,...touchEvents,...pointerEvents,...uiEvents,...wheelEvents,...animationEvents,...transitionEvents,...changeEvents,...otherEvents];function makeEventProps(dt,et){const $t={};for(const kt of allEvents){const Tt=dt[kt];Tt&&(et?$t[kt]=Dt=>Tt(Dt,et(kt)):$t[kt]=Tt)}return $t}var isProduction=!0,prefix$6="Invariant failed";function invariant(dt,et){if(!dt){if(isProduction)throw new Error(prefix$6);var $t=typeof et=="function"?et():et,kt=$t?"".concat(prefix$6,": ").concat($t):prefix$6;throw new Error(kt)}}var warning=function(){},warning_1=warning;const warning$1=getDefaultExportFromCjs(warning_1),documentContext=reactExports.createContext(null),DocumentContext=documentContext,DEFAULT_LINK_REL="noopener noreferrer nofollow";class LinkService{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(et){this.pdfDocument=et}setViewer(et){this.pdfViewer=et}setExternalLinkRel(et){this.externalLinkRel=et}setExternalLinkTarget(et){this.externalLinkTarget=et}setHash(){}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return invariant(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber||0}set page(et){invariant(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber=et}get rotation(){return 0}set rotation(et){}addLinkAttributes(et,$t,kt){et.href=$t,et.rel=this.externalLinkRel||DEFAULT_LINK_REL,et.target=kt?"_blank":this.externalLinkTarget||""}goToDestination(et){return new Promise($t=>{invariant(this.pdfDocument,"PDF document not loaded."),invariant(et,"Destination is not specified."),typeof et=="string"?this.pdfDocument.getDestination(et).then($t):Array.isArray(et)?$t(et):et.then($t)}).then($t=>{invariant(Array.isArray($t),`"${$t}" is not a valid destination array.`);const kt=$t[0];new Promise(Tt=>{invariant(this.pdfDocument,"PDF document not loaded."),kt instanceof Object?this.pdfDocument.getPageIndex(kt).then(Dt=>{Tt(Dt)}).catch(()=>{invariant(!1,`"${kt}" is not a valid page reference.`)}):typeof kt=="number"?Tt(kt):invariant(!1,`"${kt}" is not a valid destination reference.`)}).then(Tt=>{const Dt=Tt+1;invariant(this.pdfViewer,"PDF viewer is not initialized."),invariant(Dt>=1&&Dt<=this.pagesCount,`"${Dt}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({dest:$t,pageIndex:Tt,pageNumber:Dt})})})}goToPage(et){const $t=et-1;invariant(this.pdfViewer,"PDF viewer is not initialized."),invariant(et>=1&&et<=this.pagesCount,`"${et}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({pageIndex:$t,pageNumber:et})}goToXY(){}cachePageRef(){}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}executeNamedAction(){}executeSetOCGState(){}isPageVisible(){return!0}isPageCached(){return!0}navigateTo(et){this.goToDestination(et)}}function Message({children:dt,type:et}){return jsxRuntimeExports.jsx("div",{className:`react-pdf__message react-pdf__message--${et}`,children:dt})}const PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},PasswordResponses$1=PasswordResponses;function reducer$1(dt,et){switch(et.type){case"RESOLVE":return{value:et.value,error:void 0};case"REJECT":return{value:!1,error:et.error};case"RESET":return{value:void 0,error:void 0};default:return dt}}function useResolver(){return reactExports.useReducer(reducer$1,{value:void 0,error:void 0})}const isBrowser=typeof window<"u",isLocalFileSystem=isBrowser&&window.location.protocol==="file:";function isDefined(dt){return typeof dt<"u"}function isProvided(dt){return isDefined(dt)&&dt!==null}function isString$1(dt){return typeof dt=="string"}function isArrayBuffer(dt){return dt instanceof ArrayBuffer}function isBlob(dt){return invariant(isBrowser,"isBlob can only be used in a browser environment"),dt instanceof Blob}function isDataURI(dt){return isString$1(dt)&&/^data:/.test(dt)}function dataURItoByteString(dt){invariant(isDataURI(dt),"Invalid data URI.");const[et="",$t=""]=dt.split(",");return et.split(";").indexOf("base64")!==-1?atob($t):unescape($t)}function getDevicePixelRatio(){return isBrowser&&window.devicePixelRatio||1}const allowFileAccessFromFilesTip="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function displayCORSWarning(){warning$1(!isLocalFileSystem,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${allowFileAccessFromFilesTip}`)}function displayWorkerWarning(){warning$1(!isLocalFileSystem,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${allowFileAccessFromFilesTip}`)}function cancelRunningTask(dt){dt!=null&&dt.cancel&&dt.cancel()}function makePageCallback(dt,et){return Object.defineProperty(dt,"width",{get(){return this.view[2]*et},configurable:!0}),Object.defineProperty(dt,"height",{get(){return this.view[3]*et},configurable:!0}),Object.defineProperty(dt,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(dt,"originalHeight",{get(){return this.view[3]},configurable:!0}),dt}function isCancelException(dt){return dt.name==="RenderingCancelledException"}function loadFromFile(dt){return new Promise((et,$t)=>{const kt=new FileReader;kt.onload=()=>{if(!kt.result)return $t(new Error("Error while reading a file."));et(kt.result)},kt.onerror=Tt=>{if(!Tt.target)return $t(new Error("Error while reading a file."));const{error:Dt}=Tt.target;if(!Dt)return $t(new Error("Error while reading a file."));switch(Dt.code){case Dt.NOT_FOUND_ERR:return $t(new Error("Error while reading a file: File not found."));case Dt.SECURITY_ERR:return $t(new Error("Error while reading a file: Security error."));case Dt.ABORT_ERR:return $t(new Error("Error while reading a file: Aborted."));default:return $t(new Error("Error while reading a file."))}},kt.readAsArrayBuffer(dt)})}const{PDFDataRangeTransport}=pdfjs,defaultOnPassword=(dt,et)=>{switch(et){case PasswordResponses$1.NEED_PASSWORD:{const $t=prompt("Enter the password to open this PDF file.");dt($t);break}case PasswordResponses$1.INCORRECT_PASSWORD:{const $t=prompt("Invalid password. Please try again.");dt($t);break}}};function isParameterObject(dt){return typeof dt=="object"&&dt!==null&&("data"in dt||"range"in dt||"url"in dt)}const Document=reactExports.forwardRef(function dt({children:et,className:$t,error:kt="Failed to load PDF file.",externalLinkRel:Tt,externalLinkTarget:Dt,file:Ft,inputRef:Ut,imageResourcesPath:Ht,loading:Kt="Loading PDF",noData:Yt="No PDF file specified.",onItemClick:Jt,onLoadError:Zt,onLoadProgress:er,onLoadSuccess:rr,onPassword:sr=defaultOnPassword,onSourceError:ir,onSourceSuccess:nr,options:or,renderMode:lr,rotate:cr,scale:dr,...ur},pr){const[mr,vr]=useResolver(),{value:kr,error:br}=mr,[_r,Or]=useResolver(),{value:Pr,error:Mr}=_r,Rr=reactExports.useRef(new LinkService),Tr=reactExports.useRef([]),xr=reactExports.useRef(void 0),wr=reactExports.useRef(void 0);Ft&&Ft!==xr.current&&isParameterObject(Ft)&&(warning$1(!dequal(Ft,xr.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),xr.current=Ft),or&&or!==wr.current&&(warning$1(!dequal(or,wr.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),wr.current=or);const zr=reactExports.useRef({scrollPageIntoView:xs=>{const{dest:us,pageNumber:$s,pageIndex:ks=$s-1}=xs;if(Jt){Jt({dest:us,pageIndex:ks,pageNumber:$s});return}const Ds=Tr.current[ks];if(Ds){Ds.scrollIntoView();return}warning$1(!1,`An internal link leading to page ${$s} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});reactExports.useImperativeHandle(pr,()=>({linkService:Rr,pages:Tr,viewer:zr}),[]);function Hr(){nr&&nr()}function Gr(){br&&(warning$1(!1,br.toString()),ir&&ir(br))}function Xr(){vr({type:"RESET"})}reactExports.useEffect(Xr,[Ft,vr]);const rs=reactExports.useCallback(async()=>{if(!Ft)return null;if(typeof Ft=="string")return isDataURI(Ft)?{data:dataURItoByteString(Ft)}:(displayCORSWarning(),{url:Ft});if(Ft instanceof PDFDataRangeTransport)return{range:Ft};if(isArrayBuffer(Ft))return{data:Ft};if(isBrowser&&isBlob(Ft))return{data:await loadFromFile(Ft)};if(invariant(typeof Ft=="object","Invalid parameter in file, need either Uint8Array, string or a parameter object"),invariant(isParameterObject(Ft),"Invalid parameter object: need either .data, .range or .url"),"url"in Ft&&typeof Ft.url=="string"){if(isDataURI(Ft.url)){const{url:xs,...us}=Ft;return{data:dataURItoByteString(xs),...us}}displayCORSWarning()}return Ft},[Ft]);reactExports.useEffect(()=>{const xs=makeCancellablePromise(rs());return xs.promise.then(us=>{vr({type:"RESOLVE",value:us})}).catch(us=>{vr({type:"REJECT",error:us})}),()=>{cancelRunningTask(xs)}},[rs,vr]),reactExports.useEffect(()=>{if(!(typeof kr>"u")){if(kr===!1){Gr();return}Hr()}},[kr]);function Yr(){Pr&&(rr&&rr(Pr),Tr.current=new Array(Pr.numPages),Rr.current.setDocument(Pr))}function es(){Mr&&(warning$1(!1,Mr.toString()),Zt&&Zt(Mr))}reactExports.useEffect(function(){Or({type:"RESET"})},[Or,kr]),reactExports.useEffect(function(){if(!kr)return;const us=or?{...kr,...or}:kr,$s=getDocument(us);er&&($s.onProgress=er),sr&&($s.onPassword=sr);const ks=$s,Ds=ks.promise.then(Cs=>{Or({type:"RESOLVE",value:Cs})}).catch(Cs=>{ks.destroyed||Or({type:"REJECT",error:Cs})});return()=>{Ds.finally(()=>ks.destroy())}},[or,Or,kr]),reactExports.useEffect(()=>{if(!(typeof Pr>"u")){if(Pr===!1){es();return}Yr()}},[Pr]),reactExports.useEffect(function(){Rr.current.setViewer(zr.current),Rr.current.setExternalLinkRel(Tt),Rr.current.setExternalLinkTarget(Dt)},[Tt,Dt]);const ns=reactExports.useCallback((xs,us)=>{Tr.current[xs]=us},[]),ms=reactExports.useCallback(xs=>{delete Tr.current[xs]},[]),ls=reactExports.useMemo(()=>({imageResourcesPath:Ht,linkService:Rr.current,onItemClick:Jt,pdf:Pr,registerPage:ns,renderMode:lr,rotate:cr,scale:dr,unregisterPage:ms}),[Ht,Jt,Pr,ns,lr,cr,dr,ms]),ds=reactExports.useMemo(()=>makeEventProps(ur,()=>Pr),[ur,Pr]);function fs(){function xs($s){return!!($s!=null&&$s.pdf)}if(!xs(ls))throw new Error("pdf is undefined");const us=typeof et=="function"?et(ls):et;return jsxRuntimeExports.jsx(DocumentContext.Provider,{value:ls,children:us})}function cs(){return Ft?Pr==null?jsxRuntimeExports.jsx(Message,{type:"loading",children:typeof Kt=="function"?Kt():Kt}):Pr===!1?jsxRuntimeExports.jsx(Message,{type:"error",children:typeof kt=="function"?kt():kt}):fs():jsxRuntimeExports.jsx(Message,{type:"no-data",children:typeof Yt=="function"?Yt():Yt})}return jsxRuntimeExports.jsx("div",{className:clsx("react-pdf__Document",$t),ref:Ut,...ds,children:cs()})}),Document$1=Document;function useDocumentContext(){return reactExports.useContext(DocumentContext)}function mergeRefs(){for(var dt=[],et=0;et<arguments.length;et++)dt[et]=arguments[et];var $t=dt.filter(Boolean);if($t.length<=1){var kt=$t[0];return kt||null}return function(Dt){for(var Ft=0,Ut=$t;Ft<Ut.length;Ft++){var Ht=Ut[Ft];typeof Ht=="function"?Ht(Dt):Ht&&(Ht.current=Dt)}}}const pageContext=reactExports.createContext(null),PageContext=pageContext;function usePageContext(){return reactExports.useContext(PageContext)}function AnnotationLayer(){const dt=useDocumentContext(),et=usePageContext();invariant(et,"Unable to find Page context.");const $t={...dt,...et},{imageResourcesPath:kt,linkService:Tt,onGetAnnotationsError:Dt,onGetAnnotationsSuccess:Ft,onRenderAnnotationLayerError:Ut,onRenderAnnotationLayerSuccess:Ht,page:Kt,pdf:Yt,renderForms:Jt,rotate:Zt,scale:er=1}=$t;invariant(Yt,"Attempted to load page annotations, but no document was specified. Wrap <Page /> in a <Document /> or pass explicit `pdf` prop."),invariant(Kt,"Attempted to load page annotations, but no page was specified."),invariant(Tt,"Attempted to load page annotations, but no linkService was specified.");const[rr,sr]=useResolver(),{value:ir,error:nr}=rr,or=reactExports.useRef(null);warning$1(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function lr(){ir&&Ft&&Ft(ir)}function cr(){nr&&(warning$1(!1,nr.toString()),Dt&&Dt(nr))}reactExports.useEffect(function(){sr({type:"RESET"})},[sr,Kt]),reactExports.useEffect(function(){if(!Kt)return;const vr=makeCancellablePromise(Kt.getAnnotations()),kr=vr;return vr.promise.then(br=>{sr({type:"RESOLVE",value:br})}).catch(br=>{sr({type:"REJECT",error:br})}),()=>{cancelRunningTask(kr)}},[sr,Kt]),reactExports.useEffect(()=>{if(ir!==void 0){if(ir===!1){cr();return}lr()}},[ir]);function dr(){Ht&&Ht()}function ur(mr){warning$1(!1,`${mr}`),Ut&&Ut(mr)}const pr=reactExports.useMemo(()=>Kt.getViewport({scale:er,rotation:Zt}),[Kt,Zt,er]);return reactExports.useEffect(function(){if(!Yt||!Kt||!Tt||!ir)return;const{current:vr}=or;if(!vr)return;const kr=pr.clone({dontFlip:!0}),br={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,annotationStorage:Yt.annotationStorage,commentManager:null,div:vr,l10n:null,linkService:Tt,page:Kt,structTreeLayer:null,viewport:kr},_r={annotations:ir,annotationStorage:Yt.annotationStorage,div:vr,imageResourcesPath:kt,linkService:Tt,page:Kt,renderForms:Jt,viewport:kr};vr.innerHTML="";try{new AnnotationLayer$1(br).render(_r),dr()}catch(Or){ur(Or)}return()=>{}},[ir,kt,Tt,Kt,Yt,Jt,pr]),jsxRuntimeExports.jsx("div",{className:clsx("react-pdf__Page__annotations","annotationLayer"),ref:or})}const PDF_ROLE_TO_HTML_ROLE={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},HEADING_PATTERN=/^H(\d+)$/;function isPdfRole(dt){return dt in PDF_ROLE_TO_HTML_ROLE}function isStructTreeNode(dt){return"children"in dt}function isStructTreeNodeWithOnlyContentChild(dt){return isStructTreeNode(dt)?dt.children.length===1&&0 in dt.children&&"id"in dt.children[0]:!1}function getRoleAttributes(dt){const et={};if(isStructTreeNode(dt)){const{role:$t}=dt,kt=$t.match(HEADING_PATTERN);if(kt)et.role="heading",et["aria-level"]=Number(kt[1]);else if(isPdfRole($t)){const Tt=PDF_ROLE_TO_HTML_ROLE[$t];Tt&&(et.role=Tt)}}return et}function getBaseAttributes(dt){const et={};if(isStructTreeNode(dt)){if(dt.alt!==void 0&&(et["aria-label"]=dt.alt),dt.lang!==void 0&&(et.lang=dt.lang),isStructTreeNodeWithOnlyContentChild(dt)){const[$t]=dt.children;if($t){const kt=getBaseAttributes($t);return{...et,...kt}}}}else"id"in dt&&(et["aria-owns"]=dt.id);return et}function getAttributes(dt){return dt?{...getRoleAttributes(dt),...getBaseAttributes(dt)}:null}function StructTreeItem({className:dt,node:et}){const $t=reactExports.useMemo(()=>getAttributes(et),[et]),kt=reactExports.useMemo(()=>!isStructTreeNode(et)||isStructTreeNodeWithOnlyContentChild(et)?null:et.children.map((Tt,Dt)=>jsxRuntimeExports.jsx(StructTreeItem,{node:Tt},Dt)),[et]);return jsxRuntimeExports.jsx("span",{className:dt,...$t,children:kt})}function StructTree(){const dt=usePageContext();invariant(dt,"Unable to find Page context.");const{onGetStructTreeError:et,onGetStructTreeSuccess:$t}=dt,[kt,Tt]=useResolver(),{value:Dt,error:Ft}=kt,{customTextRenderer:Ut,page:Ht}=dt;function Kt(){Dt&&$t&&$t(Dt)}function Yt(){Ft&&(warning$1(!1,Ft.toString()),et&&et(Ft))}return reactExports.useEffect(function(){Tt({type:"RESET"})},[Tt,Ht]),reactExports.useEffect(function(){if(Ut||!Ht)return;const Zt=makeCancellablePromise(Ht.getStructTree()),er=Zt;return Zt.promise.then(rr=>{Tt({type:"RESOLVE",value:rr})}).catch(rr=>{Tt({type:"REJECT",error:rr})}),()=>cancelRunningTask(er)},[Ut,Ht,Tt]),reactExports.useEffect(()=>{if(Dt!==void 0){if(Dt===!1){Yt();return}Kt()}},[Dt]),Dt?jsxRuntimeExports.jsx(StructTreeItem,{className:"react-pdf__Page__structTree structTree",node:Dt}):null}const ANNOTATION_MODE=AnnotationMode;function Canvas(dt){const et=usePageContext();invariant(et,"Unable to find Page context.");const $t={...et,...dt},{_className:kt,canvasBackground:Tt,devicePixelRatio:Dt=getDevicePixelRatio(),onRenderError:Ft,onRenderSuccess:Ut,page:Ht,renderForms:Kt,renderTextLayer:Yt,rotate:Jt,scale:Zt}=$t,{canvasRef:er}=dt;invariant(Ht,"Attempted to render page canvas, but no page was specified.");const rr=reactExports.useRef(null);function sr(){Ht&&Ut&&Ut(makePageCallback(Ht,Zt))}function ir(cr){isCancelException(cr)||(warning$1(!1,cr.toString()),Ft&&Ft(cr))}const nr=reactExports.useMemo(()=>Ht.getViewport({scale:Zt*Dt,rotation:Jt}),[Dt,Ht,Jt,Zt]),or=reactExports.useMemo(()=>Ht.getViewport({scale:Zt,rotation:Jt}),[Ht,Jt,Zt]);reactExports.useEffect(function(){if(!Ht)return;Ht.cleanup();const{current:dr}=rr;if(!dr)return;dr.width=nr.width,dr.height=nr.height,dr.style.width=`${Math.floor(or.width)}px`,dr.style.height=`${Math.floor(or.height)}px`,dr.style.visibility="hidden";const ur={annotationMode:Kt?ANNOTATION_MODE.ENABLE_FORMS:ANNOTATION_MODE.ENABLE,canvas:dr,canvasContext:dr.getContext("2d",{alpha:!1}),viewport:nr};Tt&&(ur.background=Tt);const pr=Ht.render(ur),mr=pr;return pr.promise.then(()=>{dr.style.visibility="",sr()}).catch(ir),()=>cancelRunningTask(mr)},[Tt,Ht,Kt,nr,or]);const lr=reactExports.useCallback(()=>{const{current:cr}=rr;cr&&(cr.width=0,cr.height=0)},[]);return reactExports.useEffect(()=>lr,[lr]),jsxRuntimeExports.jsx("canvas",{className:`${kt}__canvas`,dir:"ltr",ref:mergeRefs(er,rr),style:{display:"block",userSelect:"none"},children:Yt?jsxRuntimeExports.jsx(StructTree,{}):null})}function isTextItem(dt){return"str"in dt}function TextLayer(){const dt=usePageContext();invariant(dt,"Unable to find Page context.");const{customTextRenderer:et,onGetTextError:$t,onGetTextSuccess:kt,onRenderTextLayerError:Tt,onRenderTextLayerSuccess:Dt,page:Ft,pageIndex:Ut,pageNumber:Ht,rotate:Kt,scale:Yt}=dt;invariant(Ft,"Attempted to load page text content, but no page was specified.");const[Jt,Zt]=useResolver(),{value:er,error:rr}=Jt,sr=reactExports.useRef(null);warning$1(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function ir(){er&&kt&&kt(er)}function nr(){rr&&(warning$1(!1,rr.toString()),$t&&$t(rr))}reactExports.useEffect(function(){Zt({type:"RESET"})},[Ft,Zt]),reactExports.useEffect(function(){if(!Ft)return;const mr=makeCancellablePromise(Ft.getTextContent()),vr=mr;return mr.promise.then(kr=>{Zt({type:"RESOLVE",value:kr})}).catch(kr=>{Zt({type:"REJECT",error:kr})}),()=>cancelRunningTask(vr)},[Ft,Zt]),reactExports.useEffect(()=>{if(er!==void 0){if(er===!1){nr();return}ir()}},[er]);const or=reactExports.useCallback(()=>{Dt&&Dt()},[Dt]),lr=reactExports.useCallback(pr=>{warning$1(!1,pr.toString()),Tt&&Tt(pr)},[Tt]);function cr(){const pr=sr.current;pr&&pr.classList.add("selecting")}function dr(){const pr=sr.current;pr&&pr.classList.remove("selecting")}const ur=reactExports.useMemo(()=>Ft.getViewport({scale:Yt,rotation:Kt}),[Ft,Kt,Yt]);return reactExports.useLayoutEffect(function(){if(!Ft||!er)return;const{current:mr}=sr;if(!mr)return;mr.innerHTML="";const vr=Ft.streamTextContent({includeMarkedContent:!0}),kr={container:mr,textContentSource:vr,viewport:ur},br=new TextLayer$1(kr),_r=br;return br.render().then(()=>{const Or=document.createElement("div");Or.className="endOfContent",mr.append(Or);const Pr=mr.querySelectorAll('[role="presentation"]');if(et){let Mr=0;er.items.forEach((Rr,Tr)=>{if(!isTextItem(Rr))return;const xr=Pr[Mr];if(!xr)return;const wr=et({pageIndex:Ut,pageNumber:Ht,itemIndex:Tr,...Rr});xr.innerHTML=wr,Mr+=Rr.str&&Rr.hasEOL?2:1})}or()}).catch(lr),()=>cancelRunningTask(_r)},[et,lr,or,Ft,Ut,Ht,er,ur]),jsxRuntimeExports.jsx("div",{className:clsx("react-pdf__Page__textContent","textLayer"),onMouseUp:dr,onMouseDown:cr,ref:sr})}const defaultScale=1;function Page(dt){const $t={...useDocumentContext(),...dt},{_className:kt="react-pdf__Page",_enableRegisterUnregisterPage:Tt=!0,canvasBackground:Dt,canvasRef:Ft,children:Ut,className:Ht,customRenderer:Kt,customTextRenderer:Yt,devicePixelRatio:Jt,error:Zt="Failed to load the page.",height:er,inputRef:rr,loading:sr="Loading page",noData:ir="No page specified.",onGetAnnotationsError:nr,onGetAnnotationsSuccess:or,onGetStructTreeError:lr,onGetStructTreeSuccess:cr,onGetTextError:dr,onGetTextSuccess:ur,onLoadError:pr,onLoadSuccess:mr,onRenderAnnotationLayerError:vr,onRenderAnnotationLayerSuccess:kr,onRenderError:br,onRenderSuccess:_r,onRenderTextLayerError:Or,onRenderTextLayerSuccess:Pr,pageIndex:Mr,pageNumber:Rr,pdf:Tr,registerPage:xr,renderAnnotationLayer:wr=!0,renderForms:zr=!1,renderMode:Hr="canvas",renderTextLayer:Gr=!0,rotate:Xr,scale:rs=defaultScale,unregisterPage:Yr,width:es,...ns}=$t,[ms,ls]=useResolver(),{value:ds,error:fs}=ms,cs=reactExports.useRef(null);invariant(Tr,"Attempted to load a page, but no document was specified. Wrap <Page /> in a <Document /> or pass explicit `pdf` prop.");const xs=isProvided(Rr)?Rr-1:Mr??null,us=Rr??(isProvided(Mr)?Mr+1:null),$s=Xr??(ds?ds.rotate:null),ks=reactExports.useMemo(()=>{if(!ds)return null;let zs=1;const Js=rs??defaultScale;if(es||er){const _s=ds.getViewport({scale:1,rotation:$s});es?zs=es/_s.width:er&&(zs=er/_s.height)}return Js*zs},[er,ds,$s,rs,es]);reactExports.useEffect(function(){return()=>{isProvided(xs)&&Tt&&Yr&&Yr(xs)}},[Tt,Tr,xs,Yr]);function Ds(){if(mr){if(!ds||!ks)return;mr(makePageCallback(ds,ks))}if(Tt&&xr){if(!isProvided(xs)||!cs.current)return;xr(xs,cs.current)}}function Cs(){fs&&(warning$1(!1,fs.toString()),pr&&pr(fs))}reactExports.useEffect(function(){ls({type:"RESET"})},[ls,Tr,xs]),reactExports.useEffect(function(){if(!Tr||!us)return;const Js=makeCancellablePromise(Tr.getPage(us)),_s=Js;return Js.promise.then(Fs=>{ls({type:"RESOLVE",value:Fs})}).catch(Fs=>{ls({type:"REJECT",error:Fs})}),()=>cancelRunningTask(_s)},[ls,Tr,us]),reactExports.useEffect(()=>{if(ds!==void 0){if(ds===!1){Cs();return}Ds()}},[ds,ks]);const Ts=reactExports.useMemo(()=>isProvided(xs)&&us&&isProvided($s)&&isProvided(ks)?{_className:kt,canvasBackground:Dt,customTextRenderer:Yt,devicePixelRatio:Jt,onGetAnnotationsError:nr,onGetAnnotationsSuccess:or,onGetStructTreeError:lr,onGetStructTreeSuccess:cr,onGetTextError:dr,onGetTextSuccess:ur,onRenderAnnotationLayerError:vr,onRenderAnnotationLayerSuccess:kr,onRenderError:br,onRenderSuccess:_r,onRenderTextLayerError:Or,onRenderTextLayerSuccess:Pr,page:ds,pageIndex:xs,pageNumber:us,renderForms:zr,renderTextLayer:Gr,rotate:$s,scale:ks}:null,[kt,Dt,Yt,Jt,nr,or,lr,cr,dr,ur,vr,kr,br,_r,Or,Pr,ds,xs,us,zr,Gr,$s,ks]),Ns=reactExports.useMemo(()=>makeEventProps(ns,()=>ds&&(ks?makePageCallback(ds,ks):void 0)),[ns,ds,ks]),Ms=`${xs}@${ks}/${$s}`;function Us(){switch(Hr){case"custom":return invariant(Kt,'renderMode was set to "custom", but no customRenderer was passed.'),jsxRuntimeExports.jsx(Kt,{},`${Ms}_custom`);case"none":return null;case"canvas":default:return jsxRuntimeExports.jsx(Canvas,{canvasRef:Ft},`${Ms}_canvas`)}}function Ws(){return Gr?jsxRuntimeExports.jsx(TextLayer,{},`${Ms}_text`):null}function Ks(){return wr?jsxRuntimeExports.jsx(AnnotationLayer,{},`${Ms}_annotations`):null}function Qs(){function zs(_s){return!!(_s!=null&&_s.page)}if(!zs(Ts))throw new Error("page is undefined");const Js=typeof Ut=="function"?Ut(Ts):Ut;return jsxRuntimeExports.jsxs(PageContext.Provider,{value:Ts,children:[Us(),Ws(),Ks(),Js]})}function qs(){return us?Tr===null||ds===void 0||ds===null?jsxRuntimeExports.jsx(Message,{type:"loading",children:typeof sr=="function"?sr():sr}):Tr===!1||ds===!1?jsxRuntimeExports.jsx(Message,{type:"error",children:typeof Zt=="function"?Zt():Zt}):Qs():jsxRuntimeExports.jsx(Message,{type:"no-data",children:typeof ir=="function"?ir():ir})}return jsxRuntimeExports.jsx("div",{className:clsx(kt,Ht),"data-page-number":us,ref:mergeRefs(rr,cs),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${ks}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:Dt||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"},...Ns,children:qs()})}displayWorkerWarning();GlobalWorkerOptions.workerSrc="pdf.worker.mjs";function DownloadLockWarningModal({open:dt,onCancel:et,onConfirm:$t}){return dt?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-[999] px-6",children:jsxRuntimeExports.jsxs("div",{className:"bg-[#0b0f19] border border-gray-800 rounded-2xl p-8 max-w-md w-full shadow-xl text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-white mb-3",children:" Final Download Warning"}),jsxRuntimeExports.jsxs("p",{className:"text-gray-400 text-sm leading-relaxed mb-6",children:["Downloading this book will permanently lock editing for this document.",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),"You will still be able to view and download it again, but you wont be able to make any further changes."]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[jsxRuntimeExports.jsx("button",{onClick:et,className:"bg-gray-800 border border-gray-700 text-gray-300 px-5 py-2.5 rounded-lg hover:bg-gray-700 transition",children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:$t,className:"bg-red-600 text-white px-5 py-2.5 rounded-lg font-semibold hover:bg-red-600/90 transition",children:"Download & Lock"})]})]})}):null}GlobalWorkerOptions.workerSrc=new URL("/pdf.worker.min.js",window.location.origin).toString();function PDFPreviewModal({fileUrl:dt,fileTitle:et,partNumber:$t,sourceType:kt="magnet",magnetId:Tt,onClose:Dt}){const{user:Ft}=useAuth(),[Ut,Ht]=reactExports.useState(null),[Kt,Yt]=reactExports.useState(1.2),[Jt,Zt]=reactExports.useState(!1),[er,rr]=reactExports.useState(!1),[sr,ir]=reactExports.useState(null),[nr,or]=reactExports.useState(!1),[lr,cr]=reactExports.useState(!1),[dr,ur]=reactExports.useState(!1),pr=kt==="magnet",mr=reactExports.useMemo(()=>Math.min(window.innerWidth-40,900),[]),vr=reactExports.useMemo(()=>dt?{url:`https://themessyattic.com/api/pdf/proxy?url=${encodeURIComponent(dt)}&preview=1`}:null,[dt]);if(!dt)return null;reactExports.useEffect(()=>{if(!dt)return;let br,_r=0;const Or=async()=>{if(!Jt)try{const Mr=(await axiosInstance.head(vr.url)).headers["content-type"];if(Mr!=null&&Mr.includes("pdf")){Zt(!0);return}_r<10?(_r++,br=setTimeout(Or,1500)):ir("PDF is still being finalized. Try again in a few seconds.")}catch{_r<10?(_r++,br=setTimeout(Or,1500)):ir("PDF is still being finalized. Try again shortly.")}};return Or(),()=>clearTimeout(br)},[dt,vr.url,Jt]);const kr=async()=>{if((Ft==null?void 0:Ft.has_free_magnet)===1&&(Ft==null?void 0:Ft.magnet_slots)===1){or(!0);return}try{rr(!0);const _r=(et||"Cre8tly_Download").replace(/[^\w\s-]/g,"").trim().replace(/\s+/g,"_"),Or=`https://themessyattic.com/api/pdf/proxy?url=${encodeURIComponent(dt)}&title=${encodeURIComponent(_r)}${kt==="magnet"&&Tt?`&magnetId=${Tt}`:""}`,Pr=await fetch(Or);if(!Pr.ok)throw new Error(`Failed: ${Pr.status} ${Pr.statusText}`);const Mr=await Pr.blob(),Rr=URL.createObjectURL(Mr),Tr=document.createElement("a");Tr.href=Rr,Tr.download=`${_r}.pdf`,document.body.appendChild(Tr),Tr.click(),document.body.removeChild(Tr),URL.revokeObjectURL(Rr),await new Promise(xr=>setTimeout(xr,2e3))}catch(_r){console.error("Download error:",_r),alert(" Download failed. Please try again.")}finally{rr(!1)}};return reactExports.useEffect(()=>{if(!dt){Zt(!1),ir(null),rr(!1),Ht(null),Yt(1.2);return}Zt(!1),ir(null),rr(!1),Ht(null),Yt(1.2)},[dt]),reactExports.useEffect(()=>{const br=()=>Yt(_r=>window.innerWidth<640?Math.min(_r,.8):_r);return window.addEventListener("resize",br),br(),()=>window.removeEventListener("resize",br)},[]),jsxRuntimeExports.jsxs("div",{className:"fixed inset-0 bg-black/95 backdrop-blur-md z-50 flex flex-col items-center justify-center p-4",children:[jsxRuntimeExports.jsxs("div",{className:"w-full max-w-5xl flex items-center justify-between mb-4 bg-[#111]/80 border border-gray-800 rounded-xl px-5 py-3 shadow-lg",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-3 text-white/80 font-semibold text-lg tracking-wide",children:" PDF Preview"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Yt(Kt+.2),className:"p-2 rounded-lg hover:bg-gray-800 text-gray-300 transition",title:"Zoom In",children:jsxRuntimeExports.jsx(ZoomIn,{size:20})}),jsxRuntimeExports.jsx("button",{onClick:()=>Yt(Math.max(Kt-.2,.6)),className:"p-2 rounded-lg hover:bg-gray-800 text-gray-300 transition",title:"Zoom Out",children:jsxRuntimeExports.jsx(ZoomOut,{size:20})}),jsxRuntimeExports.jsx("button",{onClick:()=>{pr?cr(!0):kr()},disabled:er,className:`p-2 rounded-lg transition text-white ${er?"bg-green cursor-wait":"bg-green/90 hover:bg-green/80"}`,title:"Download",children:er?jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-2 text-sm",children:[jsxRuntimeExports.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",viewBox:"0 0 24 24",children:[jsxRuntimeExports.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"white",strokeWidth:"4"}),jsxRuntimeExports.jsx("path",{className:"opacity-75",fill:"white",d:"M4 12a8 8 0 018-8v4l3-3-3-3v4a8 8 0 00-8 8z"})]}),"Downloading"]}):jsxRuntimeExports.jsx(Download,{size:20})}),jsxRuntimeExports.jsx("button",{onClick:Dt,className:"p-2 rounded-lg hover:bg-red-600/90 bg-red-600 text-white transition",title:"Close",children:jsxRuntimeExports.jsx(X$5,{size:20})})]})]}),jsxRuntimeExports.jsxs("div",{className:"relative w-full max-w-5xl max-h-[85vh] overflow-y-auto bg-[#121212] border border-gray-800 rounded-xl shadow-lg flex justify-center p-2 sm:p-6",children:[!Jt&&!sr&&jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-white z-20 bg-black/70 backdrop-blur-sm rounded-xl",children:[jsxRuntimeExports.jsxs("svg",{className:"animate-spin h-8 w-8 text-[#00e0ff] mb-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[jsxRuntimeExports.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),jsxRuntimeExports.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4l3-3-3-3v4a8 8 0 00-8 8z"})]}),jsxRuntimeExports.jsx("p",{className:"text-lg font-medium animate-pulse",children:" Finalizing your PDF  just a few more seconds..."}),jsxRuntimeExports.jsx("div",{className:"w-64 h-2 bg-gray-800 rounded-full overflow-hidden mt-4",children:jsxRuntimeExports.jsx("div",{className:"h-full bg-gradient-to-r from-[#00e0ff] via-[#00e07a] to-[#00e0ff] animate-progress"})})]}),sr&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-red-400 z-20 bg-black/70 backdrop-blur-sm rounded-xl",children:jsxRuntimeExports.jsx("p",{className:"text-center px-6 text-sm",children:sr})}),jsxRuntimeExports.jsx("div",{className:`w-full flex justify-center transition-opacity duration-500 ${Jt?"opacity-100":"opacity-0"}`,children:Jt&&!sr&&jsxRuntimeExports.jsx(Document$1,{file:vr,onLoadSuccess:({numPages:br})=>{Ht(br),ur(!0)},onLoadError:br=>{console.error("PDF load error:",br),ir("Failed to load PDF file.")},loading:jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Loading PDF"}),children:jsxRuntimeExports.jsx("div",{className:"flex flex-col items-center w-full",children:Array.from(new Array(Ut||0),(br,_r)=>jsxRuntimeExports.jsx(Page,{pageNumber:_r+1,scale:Kt,renderTextLayer:!1,renderAnnotationLayer:!1,className:"mb-4",width:mr},`page_${_r+1}`))})})})]}),nr&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/90 flex flex-col items-center justify-center z-[999] px-6 text-center",children:jsxRuntimeExports.jsxs("div",{className:"bg-[#0b0f19] border border-gray-800 rounded-2xl p-8 max-w-md w-full shadow-lg",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-white mb-3",children:" Upgrade Required"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm mb-6 leading-relaxed",children:"Downloads are available for Pro users only. Upgrade your plan to unlock high-quality PDF exports, full lead magnet access, and more."}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[jsxRuntimeExports.jsx("button",{onClick:()=>window.location.href="/plans",className:"bg-green text-black px-5 py-2.5 rounded-lg font-semibold hover:opacity-90 transition",children:"Upgrade Now"}),jsxRuntimeExports.jsx("button",{onClick:()=>or(!1),className:"bg-gray-800 border border-gray-700 text-gray-300 px-5 py-2.5 rounded-lg hover:bg-gray-700 transition",children:"Maybe Later"})]})]})}),pr&&jsxRuntimeExports.jsx(DownloadLockWarningModal,{open:lr,onCancel:()=>cr(!1),onConfirm:async()=>{cr(!1),await kr()}})]})}function BookPartsModal({bookId:dt,onEditChapter:et,onClose:$t}){const[kt,Tt]=reactExports.useState([]),[Dt,Ft]=reactExports.useState(!0),[Ut,Ht]=reactExports.useState(null),[Kt,Yt]=reactExports.useState(!1),[Jt,Zt]=reactExports.useState(null),[er,rr]=reactExports.useState(null),[sr,ir]=reactExports.useState(null),[nr,or]=reactExports.useState(!1),[lr,cr]=reactExports.useState(!1),dr=sr!==null;reactExports.useEffect(()=>{async function vr(){try{const kr=await axiosInstance.get(`/books/${dt}/parts`);Tt(kr.data)}catch(kr){console.error(" Failed to load book parts:",kr)}finally{Ft(!1)}}vr()},[dt]),reactExports.useEffect(()=>{async function vr(){try{const kr=await axiosInstance.get(`/books/${dt}`);rr(kr.data.epub_url||null),ir(!!kr.data.is_complete)}catch(kr){console.error(" Failed to load book metadata:",kr)}}vr()},[dt]);const ur=kt.length>0&&kt.every(vr=>vr.file_url);async function pr(){var vr,kr;Yt(!0),Zt(null);try{const br=await axiosInstance.post(`/books/${dt}/epub/generate`);rr(br.data.epubUrl)}catch(br){console.error(" EPUB publish failed:",br),Zt(((kr=(vr=br==null?void 0:br.response)==null?void 0:vr.data)==null?void 0:kr.error)||"Failed to generate EPUB")}finally{Yt(!1)}}async function mr(){var vr,kr;cr(!0);try{await axiosInstance.post(`/books/${dt}/finalize`),ir(!0),or(!1)}catch(br){console.error(" Finalize failed:",br),alert(((kr=(vr=br==null?void 0:br.response)==null?void 0:vr.data)==null?void 0:kr.error)||"Failed to finalize book")}finally{cr(!1)}}return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-[#0b0b0b] border border-gray-700 rounded-2xl w-full max-w-3xl p-6 relative",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-white mb-6 text-center",children:" Book Parts"}),Dt?jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-center",children:"Loading parts..."}):kt.length===0?jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-center",children:"No parts found yet."}):jsxRuntimeExports.jsx("ul",{className:"space-y-3 max-h-[60vh] overflow-y-auto pr-2",children:kt.map(vr=>jsxRuntimeExports.jsxs("li",{className:"flex items-center justify-between border-b border-gray-700 pb-3",children:[jsxRuntimeExports.jsxs("div",{className:"min-w-0 pr-6",children:[jsxRuntimeExports.jsxs("p",{className:"text-white font-semibold break-words leading-snug",children:["Part ",vr.part_number,": ",vr.title||"Untitled"]}),jsxRuntimeExports.jsxs("p",{className:"text-white",children:["Total pages: ",vr.pages]}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-xs",children:new Date(vr.created_at).toLocaleString()})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Ht({url:vr.file_url,title:vr.title,partNumber:vr.part_number}),className:"px-3 py-1 bg-bookBtnColor rounded text-sm text-black font-semibold hover:opacity-90 transition",children:"Open PDF"}),jsxRuntimeExports.jsx("button",{onClick:()=>{$t(),et(dt,vr.part_number)},disabled:sr,className:`px-3 py-1 rounded text-sm font-semibold transition
                      ${sr?"bg-gray-800 text-gray-500 cursor-not-allowed":"bg-gray-900 border border-gray-700 text-white hover:bg-gray-700"}`,children:"Edit Chapter"})]})]},vr.id))}),jsxRuntimeExports.jsxs("div",{className:"mt-6 pt-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-white font-semibold text-lg mb-2",children:"Book Status"}),dr&&(sr?jsxRuntimeExports.jsx("p",{className:"text-green font-medium",children:" This book has been finalized"}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm mb-3",children:"When you finalize this book, all chapters will be locked and the book can be published as a full EPUB."}),jsxRuntimeExports.jsx("button",{onClick:()=>or(!0),className:"w-full py-3 rounded-xl font-semibold bg-yellow hover:bg-yellow/80 text-black transition",children:"Finalize Book"})]}))]}),sr&&jsxRuntimeExports.jsxs("div",{className:"mt-6 pt-6 flex flex-col items-center gap-3",children:[Jt&&jsxRuntimeExports.jsx("p",{className:"text-red-400 text-sm text-center",children:Jt}),jsxRuntimeExports.jsx("button",{onClick:pr,disabled:!ur||Kt,className:`w-full py-3 rounded-xl font-semibold transition
        ${ur?"bg-white hover:bg-green text-black":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:Kt?"Publishing EPUB...":"Publish Full Book as EPUB"}),!ur&&jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-xs text-center",children:"All chapters must be completed before publishing"}),er&&jsxRuntimeExports.jsx("a",{href:er,target:"_blank",rel:"noopener noreferrer",className:"w-full text-center py-3 rounded-xl font-semibold bg-blue hover:bg-blue/80 text-white transition",children:"Download EPUB"})]}),jsxRuntimeExports.jsx("button",{onClick:$t,className:"absolute top-3 right-3 text-white text-xl hover:text-red-400 transition",children:""})]})}),nr&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-[60] bg-black/80 backdrop-blur-sm flex items-center justify-center px-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-[#0b0b0b] border border-gray-700 rounded-2xl w-full max-w-md p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-white mb-3 text-center",children:"Finalize Book?"}),jsxRuntimeExports.jsxs("p",{className:"text-gray-400 text-sm text-center mb-6",children:[jsxRuntimeExports.jsx("strong",{children:"This action cannot be undone."}),jsxRuntimeExports.jsx("br",{})," Once finalized, chapters can no longer be edited ",jsxRuntimeExports.jsx("br",{}),"and the book will be prepared for EPUB publishing."]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:()=>or(!1),className:"flex-1 py-2 rounded-lg bg-gray-800 text-white hover:bg-gray-700 transition",children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:mr,className:"flex-1 py-2 rounded-lg bg-red-600 hover:bg-red-500 text-white font-semibold transition",disabled:lr,children:lr?"Finalizing...":"Yes, Finalize"})]})]})}),Ut&&jsxRuntimeExports.jsx(PDFPreviewModal,{fileUrl:Ut.url,fileTitle:Ut.title,partNumber:Ut.partNumber,sourceType:"book",onClose:()=>Ht(null)})]})}function BookCardList({books:dt=[],onAddPrompt:et,onGenerateNext:$t,onArchiveBook:kt}){const[Tt,Dt]=reactExports.useState(!1),[Ft,Ut]=reactExports.useState(null),{accessToken:Ht}=useAuth();function Kt(Yt){Ut(Yt),Dt(!0)}return!Array.isArray(dt)||dt.length===0?null:jsxRuntimeExports.jsxs("div",{className:"md:hidden flex flex-col gap-4 p-4",children:[dt.map(Yt=>{const Zt=!(Yt.is_complete===1)&&Yt.pages<750,er=Yt.is_draft===1||Yt.draft_text&&Yt.draft_text.trim().length>0;return jsxRuntimeExports.jsxs(motion.div,{whileTap:{scale:.98},className:`
            relative group
            bg-dashboard-sidebar-light
            dark:bg-dashboard-sidebar-dark
            border border-dashboard-border-light
            dark:border-dashboard-border-dark
            rounded-xl p-4
            transition-all
          `,children:[jsxRuntimeExports.jsx("h3",{className:"text-dashboard-text-light dark:text-dashboard-text-dark text-sm font-semibold truncate mb-1",children:Yt.book_name||"Untitled Book"}),jsxRuntimeExports.jsx("div",{className:`text-[11px] text-dashboard-muted-light dark:text-dashboard-muted-dark
              flex justify-between mb-2`,children:jsxRuntimeExports.jsxs("span",{children:["Part ",Yt.part_number||1]})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center mb-3",children:[jsxRuntimeExports.jsx("div",{className:`w-full rounded-full h-2
              bg-dashboard-border-light
              dark:bg-dashboard-border-dark`,children:jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-green to-royalPurple h-2",style:{width:`${Math.min(Yt.pages/750*100,100)}%`}})}),jsxRuntimeExports.jsxs("p",{className:`text-xs text-dashboard-muted-light dark:text-dashboard-muted-dark
`,children:[Yt.pages||0,"/750 pages used"]}),jsxRuntimeExports.jsx(Tooltip,{text:"Pages are counted across the entire book. You can write, edit, and export PDFs freely until you reach 750 total pages. Downloads do not lock your book."})]}),jsxRuntimeExports.jsx("div",{className:"book-status text-xs font-semibold text-center mt-3",children:Yt.status==="pending"?jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-2 text-yellow italic",children:[jsxRuntimeExports.jsxs("svg",{className:"animate-spin h-4 w-4 text-yellow",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[jsxRuntimeExports.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),jsxRuntimeExports.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Generating"]}):Yt.status==="failed"?jsxRuntimeExports.jsx("span",{className:"bg-red-500 text-white px-3 py-[3px] rounded-full",children:"Failed"}):Yt.is_complete===1?jsxRuntimeExports.jsx("span",{className:"bg-green text-black px-3 py-[3px] rounded-full",children:"Finalized"}):Yt.pages>0?jsxRuntimeExports.jsx("span",{className:"bg-blue text-white px-3 py-[3px] rounded-full",children:"In Progress"}):jsxRuntimeExports.jsx("span",{className:"bg-gray-600 text-white px-3 py-[3px] rounded-full",children:"Idle"})}),jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center mt-3",children:Yt.prompt?jsxRuntimeExports.jsx(CircleCheckBig,{size:18,className:"text-headerGreen"}):jsxRuntimeExports.jsx(Timer,{size:18,className:`text-dashboard-muted-light dark:text-dashboard-muted-dark
`})}),jsxRuntimeExports.jsx("div",{className:`text-[11px] text-dashboard-muted-light dark:text-dashboard-muted-dark
              text-center mt-2 flex items-center justify-center gap-1`,children:Yt.created_at_prompt?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("span",{children:[new Date(Yt.created_at_prompt).toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric"})," ",new Date(Yt.created_at_prompt).toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})]}),jsxRuntimeExports.jsx(Tooltip,{text:"This is the date and time this chapter was generated. Purchase dates are shown in Settings."})]}):jsxRuntimeExports.jsx("span",{className:`italic text-dashboard-muted-light dark:text-dashboard-muted-dark
`,children:"Not generated yet"})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-stretch gap-2 mt-3 w-full",children:[er&&!Yt.prompt&&jsxRuntimeExports.jsxs("button",{onClick:()=>et(Yt.id,Yt.part_number||1),className:`
                    w-full
                    bg-blue
                    text-white
                    rounded-lg
                    py-2
                    text-sm
                    font-semibold
                    hover:opacity-90
                    transition
                    flex items-center justify-center gap-2
                  `,title:"Continue Draft",children:[jsxRuntimeExports.jsx(Pencil,{size:16,className:"shrink-0"}),jsxRuntimeExports.jsx("span",{children:"Continue Draft"})]}),!er&&!Yt.prompt&&jsxRuntimeExports.jsxs("button",{onClick:()=>et(Yt.id,Yt.part_number||1),className:`
                    w-full
                    bg-dashboard-hover-light
                    dark:bg-dashboard-hover-dark
                    text-dashboard-text-light
                    dark:text-dashboard-text-dark
                    rounded-lg
                    py-2
                    text-sm
                    font-semibold
                    hover:bg-green hover:text-black
                    transition
                    flex items-center justify-center gap-2
                  `,title:"Create Chapter",children:[jsxRuntimeExports.jsx(Plus,{size:16,className:"shrink-0"}),jsxRuntimeExports.jsx("span",{children:"Add Chapter"})]}),Yt.pdf_url&&jsxRuntimeExports.jsxs("button",{onClick:()=>Kt(Yt.id),className:`w-full bg-dashboard-hover-light
                  dark:bg-dashboard-hover-dark
                  text-dashboard-text-light
                  dark:text-dashboard-text-dark
                  hover:opacity-90 rounded-lg py-2 text-sm flex items-center justify-center gap-2 transition`,children:[jsxRuntimeExports.jsx(Layers,{size:16}),jsxRuntimeExports.jsx("span",{children:"View All Parts"})]}),Yt.prompt&&Zt&&jsxRuntimeExports.jsxs("button",{onClick:()=>Yt.pages>=750?Kt(Yt.id):$t(Yt.id,(Yt.part_number||1)+1),className:"w-full bg-royalPurple text-white rounded-lg py-2 text-sm font-semibold hover:opacity-90 transition-all flex items-center justify-center gap-2 mt-3",children:[jsxRuntimeExports.jsx(Rocket,{size:16}),jsxRuntimeExports.jsx("span",{children:Yt.pages>=750?"Finish Book":`Continue Story (Part ${(Yt.part_number||1)+1})`})]}),!Yt.is_complete&&Yt.status!=="pending"&&jsxRuntimeExports.jsx("button",{onClick:()=>kt(Yt.id),className:`
                    w-full
                    border border-red-500/40
                    text-red-400
                    rounded-lg
                    py-2
                    text-sm
                    font-semibold
                    hover:bg-red-500/10
                    transition
                  `,title:"Archive Book",children:"Archive Book"})]})]},Yt.id)}),Tt&&jsxRuntimeExports.jsx(BookPartsModal,{bookId:Ft,accessToken:Ht,onClose:()=>Dt(!1)})]})}function NewBookModal({onCreate:dt,onClose:et}){const[$t,kt]=reactExports.useState(""),[Tt,Dt]=reactExports.useState(""),[Ft,Ut]=reactExports.useState(""),[Ht,Kt]=reactExports.useState(!1),[Yt,Jt]=reactExports.useState(!1);function Zt(){if(!($t!=null&&$t.trim())){y$4.error("Please enter a book name");return}if(!(Tt!=null&&Tt.trim())){y$4.error("Please enter an author name");return}if(!Ft){y$4.error("Please select a book type before continuing");return}Jt(!0)}return jsxRuntimeExports.jsxs("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4 sm:p-0",children:[jsxRuntimeExports.jsxs("div",{className:`
        bg-dashboard-sidebar-light
        dark:bg-dashboard-sidebar-dark
        p-4 sm:p-6
        rounded-xl
        w-full max-w-2xl
        border border-dashboard-border-light
        dark:border-dashboard-border-dark
        text-dashboard-text-light
        dark:text-dashboard-text-dark
        shadow-lg
        max-h-[90vh] overflow-y-auto
      `,children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-center text-dashboard-text-light dark:text-dashboard-text-dark",children:"Set Up Your Book"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-dashboard-muted-light dark:text-dashboard-muted-dark mb-1",children:"Book Name"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"e.g. The Burning City",value:$t,onChange:er=>kt(er.target.value),className:`
            w-full p-2 rounded
            bg-dashboard-bg-light
            dark:bg-dashboard-bg-dark
            text-dashboard-text-light
            dark:text-dashboard-text-dark
            border border-dashboard-border-light
            dark:border-dashboard-border-dark
            focus:outline-none
            focus:ring-2 focus:ring-green
          `})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-silver mb-1",children:"Author Name"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"e.g. Dean Koontz",value:Tt,onChange:er=>Dt(er.target.value),className:`
            w-full p-2 rounded
            bg-dashboard-bg-light
            dark:bg-dashboard-bg-dark
            text-dashboard-text-light
            dark:text-dashboard-text-dark
            border border-dashboard-border-light
            dark:border-dashboard-border-dark
            focus:outline-none
            focus:ring-2 focus:ring-green
          `})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-silver mb-3",children:"Select Book Type"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-3",children:[jsxRuntimeExports.jsxs("label",{className:`flex items-start gap-3 cursor-pointer rounded-lg p-3 border border-dashboard-border-light
              dark:border-dashboard-border-dark
              bg-dashboard-hover-light
              dark:bg-dashboard-hover-dark
              hover:opacity-90
              transition`,children:[jsxRuntimeExports.jsx("input",{type:"radio",name:"bookType",value:"fiction",checked:Ft==="fiction",onChange:er=>Ut(er.target.value),className:"mt-1 accent-royalPurple"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-dashboard-text-light dark:text-dashboard-text-dark font-medium",children:"Fiction"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-dashboard-muted-light dark:text-dashboard-muted-dark leading-relaxed",children:"For novels, short stories, and narrative driven work. This mode collaborates with you to develop characters, expand scenes, and shape a cinematic narrative arc. It may introduce supporting characters and story elements while staying aligned with your vision, tone, and story world."})]})]}),jsxRuntimeExports.jsxs("label",{className:`flex items-start gap-3 cursor-pointer rounded-lg p-3 border border-dashboard-border-light
              dark:border-dashboard-border-dark
              bg-dashboard-hover-light
              dark:bg-dashboard-hover-dark
              hover:opacity-90
              transition `,children:[jsxRuntimeExports.jsx("input",{type:"radio",name:"bookType",value:"non-fiction",checked:Ft==="non-fiction",onChange:er=>Ut(er.target.value),className:"mt-1 accent-royalPurple"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-dashboard-text-light dark:text-dashboard-text-dark font-medium",children:"Non-Fiction"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-dashboard-muted-light dark:text-dashboard-muted-dark leading-relaxed",children:"For true stories, memoirs, and personal histories. Non Fiction mode does not invent or add details. It works strictly with your words, refining clarity, structure, pacing, and voice while keeping every fact, event, and meaning intact."})]})]}),jsxRuntimeExports.jsxs("label",{className:`flex items-start gap-3 cursor-pointer rounded-lg p-3 border border-dashboard-border-light
              dark:border-dashboard-border-dark
              bg-dashboard-hover-light
              dark:bg-dashboard-hover-dark
              hover:opacity-90
              transition`,children:[jsxRuntimeExports.jsx("input",{type:"radio",name:"bookType",value:"educational",checked:Ft==="educational",onChange:er=>Ut(er.target.value),className:"mt-1 accent-royalPurple"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-dashboard-text-light dark:text-dashboard-text-dark font-medium",children:"Educational"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-dashboard-muted-light dark:text-dashboard-muted-dark leading-relaxed",children:"For guides, courses, workbooks, and instructional material. Educational mode acts as a strict editor, improving clarity and readability without adding, removing, or restructuring content. Your instructional logic and sequencing remain fully intact."})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col-reverse sm:flex-row justify-end gap-3 pt-4",children:[jsxRuntimeExports.jsx("button",{onClick:et,className:` px-4 py-2 rounded font-semibold transition bg-dashboard-hover-light
            dark:bg-dashboard-hover-dark
            text-dashboard-text-light
            dark:text-dashboard-text-dark
            hover:opacity-90`,children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:Zt,disabled:Ht,className:"bg-bookBtnColor px-4 py-2 rounded text-black font-semibold hover:opacity-90 transition",children:Ht?"Saving...":"Continue"})]})]}),Yt&&jsxRuntimeExports.jsx("div",{className:`
      fixed inset-0 
      backdrop-blur-md 
      bg-black/60 
      flex items-center justify-center 
      z-[9999] 
      animate-fadeIn
    `,children:jsxRuntimeExports.jsxs("div",{className:`
        bg-black/90 
        border border-white/10 
        shadow-[0_0_30px_rgba(0,0,0,0.6)] 
        rounded-2xl 
        px-6 py-5 
        w-[90%] max-w-sm 
        text-center 
        animate-slideDown
      `,children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-[#7bed9f] drop-shadow-sm",children:"Confirm Action"}),jsxRuntimeExports.jsxs("p",{className:"text-dashboard-muted-light dark:text-gray-300 text-sm leading-relaxed mt-3",children:["You will ",jsxRuntimeExports.jsx("span",{className:"text-white font-semibold",children:"NOT"})," be able to change the book type or author name after continuing."]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-center gap-4 pt-6",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Jt(!1),className:`
            px-4 py-2 
            rounded-lg 
            bg-gray-700 
            text-gray-300 
            hover:bg-gray-600 
            transition
          `,children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:async()=>{try{Kt(!0);const er=await axiosInstance.post("/books/create-book",{bookName:$t,authorName:Tt,bookType:Ft});Jt(!1),dt({bookId:er.data.id,bookName:$t,authorName:Tt,bookType:Ft})}catch(er){console.error("Failed to create book:",er),y$4.error("Failed to create book")}finally{Kt(!1)}},className:`
            px-5 py-2 
            rounded-lg 
            bg-[#7bed9f] 
            text-black 
            font-semibold 
            hover:bg-[#63e28b] 
            transition 
            shadow-[0_0_12px_rgba(123,237,159,0.6)]
          `,children:"Continue"})]})]})})]})}const SIDEBAR_SECTIONS=[{section:"Community",items:[{key:"community",label:"Community",icon:MessagesSquare,badge:"communityCount",isParent:!0},{key:"community-topics",label:"Home",path:"/community",icon:House,allowCommunity:!0,isSubItem:!0},{key:"posts",label:"My Posts",path:"/community/posts",icon:FileText,allowCommunity:!0,isSubItem:!0},{key:"my-fragments",label:"My Fragments",path:"/community/my-fragments",icon:Feather,allowCommunity:!0,isSubItem:!0},{key:"saved",label:"Saved",path:"/community/bookmarks",icon:Bookmark,allowCommunity:!0,isSubItem:!0},{key:"notifications",label:"Notifications",path:"/community-alerts",icon:BellRing,badge:"communityCount",allowCommunity:!0,isSubItem:!0},{key:"subscriptions",label:"Subscriptions",path:"/community/subscriptions",icon:Mail,allowCommunity:!0,isSubItem:!0},{key:"my subscriptions",label:"My Subscriptions",path:"/community/my-subscriptions",icon:Star,allowCommunity:!0,isSubItem:!0},{key:"profile",label:"Profile",path:"/community/profile",icon:User,allowCommunity:!0,isSubItem:!0},{key:"profile-settings",label:"Profile Settings",path:"/community/settings",icon:Cog,allowCommunity:!0,isSubItem:!0},{key:"subscriber-templates",label:"Email Templates",path:"/community/email-templates",icon:MailCheck,allowCommunity:!0,isSubItem:!0}]},{section:"Tools",items:[{key:"assistant",label:"Assistant",path:"/books",icon:BookOpen,access:"books"}]},{section:"Growth",access:"pro",items:[{key:"landing",label:"Landing Pages",path:"/landing-page-builder",icon:LayoutTemplate,access:"pro"},{key:"analytics",label:"Analytics",path:"/landing-analytics",icon:ChartNoAxesColumn,access:"pro"},{key:"seller",label:"Seller Dashboard",path:"/seller-dashboard",icon:Landmark,access:"seller"}]},{section:"Account",items:[{key:"inbox",label:"Inbox",path:"/notifications",icon:Inbox$1,badge:"unreadCount",allowCommunity:!0},{key:"settings",label:"Settings",path:"/settings",icon:Settings,indicator:"brandConfigured",allowCommunity:!0},{key:"docs",label:"Help",path:"/docs",icon:CircleQuestionMark,allowCommunity:!0}]}];function SidebarToggleIcon({size:dt=18,stroke:et="currentColor"}){return jsxRuntimeExports.jsxs("svg",{width:dt,height:dt,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[jsxRuntimeExports.jsx("rect",{x:"3",y:"4",width:"14",height:"2",rx:"1",fill:et}),jsxRuntimeExports.jsx("rect",{x:"3",y:"9",width:"10",height:"2",rx:"1",fill:et}),jsxRuntimeExports.jsx("rect",{x:"3",y:"14",width:"12",height:"2",rx:"1",fill:et})]})}function UpgradeRequiredModal({open:dt,onClose:et}){const $t=useNavigate();return dt?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70",children:jsxRuntimeExports.jsxs("div",{className:`
        w-full max-w-md rounded-xl p-6 shadow-xl
        bg-dashboard-sidebar-light dark:bg-dashboard-sidebar-dark
        border border-dashboard-border-light dark:border-dashboard-border-dark
        text-dashboard-text-light dark:text-dashboard-text-dark
      `,children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Upgrade Required!"}),jsxRuntimeExports.jsx("p",{className:"text-sm mb-6 text-dashboard-muted-light dark:text-dashboard-muted-dark",children:"You cant use this feature on your current plan. Upgrade to unlock it and continue."}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:et,className:`
            px-4 py-2 rounded-lg text-sm transition
            bg-dashboard-hover-light dark:bg-dashboard-hover-dark
            text-dashboard-text-light dark:text-dashboard-text-dark
            hover:opacity-90
          `,children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:()=>{et(),$t("/plans")},className:`
            px-4 py-2 rounded-lg text-sm font-medium transition
            bg-green text-black hover:opacity-90
          `,children:"View Plans"})]})]})}):null}const SIDEBAR_COLLAPSE_KEY="cre8tly_sidebar_collapsed";function useIsDesktop(){const[dt,et]=reactExports.useState(()=>window.matchMedia("(min-width: 1024px)").matches);return reactExports.useEffect(()=>{const $t=window.matchMedia("(min-width: 1024px)"),kt=Tt=>et(Tt.matches);return $t.addEventListener("change",kt),()=>$t.removeEventListener("change",kt)},[]),dt}function DashboardLayout({children:dt}){const et=useNavigate(),$t=reactExports.useRef(null),kt=useLocation(),{user:Tt,logout:Dt,updateTheme:Ft}=useAuth(),Ut=260,Ht=72,[Kt,Yt]=reactExports.useState(0),[Jt,Zt]=reactExports.useState(0),[er,rr]=reactExports.useState(!1),[sr,ir]=reactExports.useState(()=>{try{return localStorage.getItem(SIDEBAR_COLLAPSE_KEY)==="true"}catch{return!1}}),[nr,or]=reactExports.useState(()=>typeof window>"u"?!1:localStorage.getItem("communityOpen")==="true"),lr=(Tt==null?void 0:Tt.has_free_magnet)===1&&(Tt==null?void 0:Tt.magnet_slots)===1,cr=!!(Tt!=null&&Tt.authors_assistant_override)||(Tt==null?void 0:Tt.subscription_status)==="active"&&(Tt==null?void 0:Tt.has_book)===1,dr=(Tt==null?void 0:Tt.is_member)===1&&!cr&&!(Tt!=null&&Tt.free_trial_expires_at),ur=useIsDesktop(),[pr,mr]=reactExports.useState(!1);reactExports.useEffect(()=>{if(!(Tt!=null&&Tt.id))return;const br=async()=>{try{const Or=await axiosInstance.get("/messages/user/count");Yt(Or.data.count||0)}catch(Or){console.error("Failed to fetch unread count:",Or)}};br();const _r=setInterval(br,3e4);return()=>clearInterval(_r)},[Tt==null?void 0:Tt.id]),reactExports.useEffect(()=>{ur&&localStorage.setItem("communityOpen",String(nr))},[nr,ur]),reactExports.useEffect(()=>{ur||or(!1)},[kt.pathname,ur]),reactExports.useEffect(()=>{if(!(Tt!=null&&Tt.id))return;const br=async()=>{try{const Or=await axiosInstance.get("/notifications/count");Zt(Or.data.count||0)}catch(Or){console.error("Failed to fetch community notifications:",Or)}};br();const _r=setInterval(br,3e4);return()=>clearInterval(_r)},[Tt==null?void 0:Tt.id]),reactExports.useEffect(()=>{try{localStorage.setItem(SIDEBAR_COLLAPSE_KEY,String(sr))}catch{}},[sr]),reactExports.useEffect(()=>{var br;(br=document.scrollingElement)==null||br.scrollTo({top:0,behavior:"auto"})},[kt.pathname]);function vr(br){return br.access==="books"?cr:!(br.access==="pro"&&lr||br.access==="seller"&&!(Tt!=null&&Tt.stripe_connect_account_id))}function kr(br){const _r=kt.pathname===br.path,Or=br.icon||null,Pr=dr&&!cr&&!br.allowCommunity,Mr=br.isSubItem,Rr=br.isParent;return jsxRuntimeExports.jsxs("button",{onClick:()=>{if(Rr){or(Tr=>!Tr);return}if(Pr){rr(!0);return}et(br.path)},className:`w-full flex items-center rounded-lg transition
${sr?"justify-center px-3 py-3":`gap-3 px-4 py-3 text-left ${Mr?"pl-10 text-sm opacity-80":""}`}
${_r?sr?"bg-green/20 text-green":"bg-green/10 text-green border border-green/30":"text-dashboard-muted-light dark:text-dashboard-muted-dark hover:bg-dashboard-hover-light dark:hover:bg-dashboard-hover-dark"}
${Pr?"opacity-50 cursor-pointer":""}
`,children:[Or&&jsxRuntimeExports.jsx(Or,{size:18}),!sr&&jsxRuntimeExports.jsxs("div",{className:"flex items-center flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col",children:[jsxRuntimeExports.jsx("span",{className:"font-medium leading-tight",children:br.label}),jsxRuntimeExports.jsx("span",{className:"text-xs text-dashboard-muted-light dark:text-dashboard-muted-dark",children:br.description})]}),br.isParent&&jsxRuntimeExports.jsx(ChevronDown,{size:16,className:`ml-auto transition-transform ${nr?"rotate-180":""}`})]}),br.badge==="unreadCount"&&Kt>0&&jsxRuntimeExports.jsx("span",{className:"ml-auto bg-red-600 text-white text-xs font-bold px-2 py-0.5 rounded-full",children:Kt>9?"9+":Kt}),br.badge==="communityCount"&&Jt>0&&jsxRuntimeExports.jsx("span",{className:"ml-auto bg-red-600 text-white text-xs font-bold px-2 py-0.5 rounded-full shadow-sm",children:Jt>9?"9+":Jt}),br.indicator==="brandConfigured"&&(Tt==null?void 0:Tt.brand_identity_file)&&jsxRuntimeExports.jsx("span",{className:"w-2 h-2 rounded-full bg-green animate-pulse"})]},br.key)}return jsxRuntimeExports.jsxs("div",{className:`dashboard relative min-h-screen 
  bg-dashboard-bg-light
  dark:bg-dashboard-bg-dark
  text-dashboard-text-light
  dark:text-dashboard-text-dark`,children:[ur&&jsxRuntimeExports.jsxs("aside",{className:`fixed top-0 left-0 h-full overflow-hidden
        bg-dashboard-sidebar-light dark:bg-dashboard-sidebar-dark
        border-r border-dashboard-border-light dark:border-dashboard-border-dark
        flex flex-col transform transition-all duration-300 z-[60]
       lg:translate-x-0`,style:{width:sr?`${Ht}px`:`${Ut}px`},children:[jsxRuntimeExports.jsx("div",{className:"p-4 border-b border-dashboard-border-light dark:border-dashboard-border-dark",children:jsxRuntimeExports.jsxs("div",{className:`flex items-center ${sr?"justify-center":"justify-start gap-3"}`,children:[jsxRuntimeExports.jsx("button",{onClick:()=>ir(!sr),className:`w-9 h-9 flex items-center justify-center rounded-md transition
            text-dashboard-muted-light dark:text-dashboard-muted-dark
            hover:bg-dashboard-hover-light dark:hover:bg-dashboard-hover-dark`,title:sr?"Expand sidebar":"Collapse sidebar",children:jsxRuntimeExports.jsx(SidebarToggleIcon,{size:18})}),!sr&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"relative w-10 h-10 flex items-center justify-center",children:[jsxRuntimeExports.jsx("div",{className:"absolute w-[90%] h-[90%] rounded-full bg-green-400/25 blur-lg animate-pulse"}),jsxRuntimeExports.jsx("img",{src:headerLogo,alt:"The Messy Attic",className:"h-12 w-12 object-contain"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col leading-tight",children:[jsxRuntimeExports.jsx("span",{className:"logoText text-sm text-dashboard-muted-light dark:text-dashboard-muted-dark.  ",children:"The Messy"}),jsxRuntimeExports.jsx("span",{className:"logoText text-dashboard-text-light dark:text-dashboard-text-dark",children:"Attic"})]})]})]})}),jsxRuntimeExports.jsx("nav",{className:`flex-1 overflow-y-auto pb-6 scrollbar-thin scrollbar-thumb-gray-700 scrollbar-track-transparent ${sr?"px-2":"px-6"}`,children:jsxRuntimeExports.jsx("div",{className:"flex flex-col gap-5 mt-2",children:SIDEBAR_SECTIONS.map(br=>jsxRuntimeExports.jsxs("div",{children:[!sr&&jsxRuntimeExports.jsx("p",{className:`px-4 mb-2 text-xs uppercase tracking-wide
text-dashboard-muted-light dark:text-dashboard-muted-dark`,children:br.section}),jsxRuntimeExports.jsx("div",{className:"flex flex-col gap-1",children:br.items.filter(vr).filter(_r=>!(_r.isSubItem&&!nr)).map(kr)})]},br.section))})}),jsxRuntimeExports.jsxs("div",{className:"p-4 border-t border-dashboard-border-light dark:border-dashboard-border-dark space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:`flex items-center ${sr?"justify-center":"gap-3 px-2"}`,children:[jsxRuntimeExports.jsx("img",{src:(Tt==null?void 0:Tt.profile_image)||defaultImage,alt:"Profile",className:"w-9 h-9 rounded-full object-cover border border-dashboard-border-light dark:border-dashboard-border-dark"}),!sr&&jsxRuntimeExports.jsx("span",{className:"text-sm text-dashboard-muted-light dark:text-dashboard-muted-dark truncate",children:(Tt==null?void 0:Tt.name)||"Account"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>Ft((Tt==null?void 0:Tt.theme)==="dark"?"light":"dark"),className:`
    w-full flex items-center rounded-lg transition
    ${sr?"justify-center px-3 py-3":"gap-3 px-4 py-3"}
    text-dashboard-muted-light dark:text-dashboard-muted-dark
    hover:bg-dashboard-hover-light dark:hover:bg-dashboard-hover-dark
  `,children:[(Tt==null?void 0:Tt.theme)==="dark"?jsxRuntimeExports.jsx(Sun,{size:18}):jsxRuntimeExports.jsx(Moon,{size:18}),!sr&&jsxRuntimeExports.jsx("span",{className:"font-medium",children:(Tt==null?void 0:Tt.theme)==="dark"?"Light mode":"Dark mode"})]}),jsxRuntimeExports.jsxs("button",{onClick:Dt,className:`w-full flex items-center rounded-lg transition ${sr?"justify-center px-3 py-3":"gap-3 px-4 py-3"} text-red-500 hover:bg-red-600/10`,children:[jsxRuntimeExports.jsx(LogOut,{size:20}),!sr&&jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Logout"})]})]})]}),!ur&&jsxRuntimeExports.jsx("div",{className:"sticky top-0 z-30 bg-dashboard-bg-light dark:bg-dashboard-bg-dark ",children:jsxRuntimeExports.jsx("div",{className:"flex justify-end p-3",children:jsxRuntimeExports.jsx("button",{onClick:()=>mr(!0),className:"p-2 rounded-lg",children:jsxRuntimeExports.jsx(Menu,{size:22})})})}),!ur&&pr&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 bg-dashboard-bg-light dark:bg-dashboard-bg-dark overflow-y-auto",children:jsxRuntimeExports.jsxs("div",{className:"p-4 space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("span",{className:"text-lg font-semibold",children:"Menu"}),jsxRuntimeExports.jsx("button",{onClick:()=>mr(!1),children:jsxRuntimeExports.jsx(X$5,{size:22})})]}),SIDEBAR_SECTIONS.map(br=>jsxRuntimeExports.jsxs("div",{className:"space-y-3 pb-4 border-b border-dashboard-border-light dark:border-dashboard-border-dark",children:[jsxRuntimeExports.jsx("p",{className:"text-xs uppercase text-dashboard-muted-light dark:text-dashboard-muted-dark",children:br.section}),br.items.filter(vr).filter(_r=>!_r.isSubItem||nr).map(_r=>jsxRuntimeExports.jsx("button",{onClick:()=>{if(_r.isParent){or(Or=>!Or);return}if(dr&&!_r.allowCommunity){rr(!0);return}et(_r.path),mr(!1)},className:`
                      w-full
                      px-4 py-4
                      rounded-xl
                      text-left
                      text-dashboard-text-light dark:text-dashboard-text-dark
                      flex
                      border
                      transition
                      shadow-sm
                      bg-dashboard-sidebar-light dark:bg-dashboard-sidebar-dark
                      border-dashboard-border-light dark:border-dashboard-border-dark
                      hover:bg-dashboard-hover-light dark:hover:bg-dashboard-hover-dark
                      active:scale-[0.98]
                      ${_r.isSubItem?"opacity-90":""}
                    `,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center w-full gap-3",children:[_r.isSubItem&&jsxRuntimeExports.jsx("span",{className:"w-1 h-6 rounded-full bg-green/40"}),_r.icon&&jsxRuntimeExports.jsx(_r.icon,{size:18,className:"text-dashboard-muted-light dark:text-dashboard-muted-dark"}),jsxRuntimeExports.jsx("span",{className:`font-medium ${_r.isSubItem?"text-sm opacity-90":""}`,children:_r.label}),_r.badge==="unreadCount"&&Kt>0&&jsxRuntimeExports.jsx("span",{className:"ml-auto mr-2 bg-red-600 text-white text-xs font-bold px-2 py-0.5 rounded-full",children:Kt>9?"9+":Kt}),_r.badge==="communityCount"&&Jt>0&&jsxRuntimeExports.jsx("span",{className:"ml-auto mr-2 bg-red-600 text-white text-xs font-bold px-2 py-0.5 rounded-full",children:Jt>9?"9+":Jt}),_r.isParent&&jsxRuntimeExports.jsx(ChevronDown,{size:18,className:`ml-auto transition-transform ${nr?"rotate-180":""}`})]})},_r.key))]},br.section)),jsxRuntimeExports.jsxs("div",{className:"pt-4 mt-4 border-t border-dashboard-border-light dark:border-dashboard-border-dark space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 px-2",children:[jsxRuntimeExports.jsx("img",{src:(Tt==null?void 0:Tt.profile_image)||defaultImage,alt:"Profile",className:"w-9 h-9 rounded-full object-cover border border-dashboard-border-light dark:border-dashboard-border-dark"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-dashboard-muted-light dark:text-dashboard-muted-dark truncate",children:(Tt==null?void 0:Tt.name)||"Account"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>{Ft((Tt==null?void 0:Tt.theme)==="dark"?"light":"dark"),mr(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl
      text-dashboard-muted-light dark:text-dashboard-muted-dark
      bg-dashboard-sidebar-light dark:bg-dashboard-sidebar-dark
      border border-dashboard-border-light dark:border-dashboard-border-dark
      hover:bg-dashboard-hover-light dark:hover:bg-dashboard-hover-dark
      transition`,children:[(Tt==null?void 0:Tt.theme)==="dark"?jsxRuntimeExports.jsx(Sun,{size:18}):jsxRuntimeExports.jsx(Moon,{size:18}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:(Tt==null?void 0:Tt.theme)==="dark"?"Light mode":"Dark mode"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>{Dt(),mr(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl
                text-red-500
                bg-dashboard-sidebar-light dark:bg-dashboard-sidebar-dark
                border border-dashboard-border-light dark:border-dashboard-border-dark
                hover:bg-red-600/10
                transition`,children:[jsxRuntimeExports.jsx(LogOut,{size:20}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Logout"})]})]})]})}),jsxRuntimeExports.jsx("main",{ref:$t,className:`
    flex-1
    ${ur?sr?"ml-[72px]":"ml-[260px]":""}
    px-4 pb-24
  `,children:dt}),jsxRuntimeExports.jsx(UpgradeRequiredModal,{open:er,onClose:()=>rr(!1)})]})}function OnboardingGuide({steps:dt=[],onFinish:et}){const[$t,kt]=reactExports.useState(0),[Tt,Dt]=reactExports.useState(null);reactExports.useEffect(()=>{if(dt.length>0&&dt[$t]){const Kt=document.querySelector(dt[$t].target);if(Kt){const Yt=Kt.getBoundingClientRect();Dt(Yt)}}},[$t,dt]);function Ft(){$t<dt.length-1?kt($t+1):et==null||et()}function Ut(){$t>0&&kt($t-1)}if(!dt.length||!Tt)return null;const Ht=dt[$t];return jsxRuntimeExports.jsx(AnimatePresence,{children:jsxRuntimeExports.jsxs(motion.div,{className:"fixed inset-0 bg-black/70 z-[9999]",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[jsxRuntimeExports.jsx(motion.div,{className:"absolute border-4 border-emerald-400 rounded-xl shadow-[0_0_25px_5px_rgba(16,185,129,0.6)] pointer-events-none",style:{top:Tt.top-8,left:Tt.left-8,width:Tt.width+16,height:Tt.height+16},initial:{opacity:0},animate:{opacity:1},transition:{duration:.3}}),jsxRuntimeExports.jsxs(motion.div,{className:"absolute bg-[#111827] text-white rounded-xl shadow-lg border border-emerald-500/30 p-4 w-72",style:{top:Tt.bottom+12,left:Tt.left},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[jsxRuntimeExports.jsx("p",{className:"text-sm mb-4 leading-relaxed",children:Ht.content}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("button",{onClick:Ut,disabled:$t===0,className:`px-3 py-1 rounded-lg border border-gray-600 hover:bg-gray-800 transition ${$t===0&&"opacity-50 cursor-not-allowed"}`,children:"Back"}),jsxRuntimeExports.jsx("button",{onClick:Ft,className:"px-3 py-1 bg-emerald-500 hover:bg-emerald-600 text-black font-semibold rounded-lg transition",children:$t===dt.length-1?"Finish":"Next"})]})]})]},"overlay")})}function BookGrid({books:dt=[],onAddPrompt:et,onGenerateNext:$t,onArchiveBook:kt}){const[Tt,Dt]=reactExports.useState(null),[Ft,Ut]=reactExports.useState(!1),[Ht,Kt]=reactExports.useState(null),[Yt,Jt]=reactExports.useState(!1),{user:Zt,refreshUser:er}=useAuth(),rr=[{target:".book-title",content:"This displays the title of your book project."},{target:".pages-progress",content:"Displays how many pages youve used so far. Each book slot includes up to 750 total pages."},{target:".book-status",content:"Indicates your books current status."},{target:".book-actions",content:"Use these buttons to add chapters, preview, or continue your book."}];reactExports.useEffect(()=>{if(dt.length>0&&Zt&&!Zt.has_completed_book_onboarding){const ir=setTimeout(()=>Jt(!0),800);return()=>clearTimeout(ir)}},[dt,Zt]);function sr(ir){Kt(ir),Ut(!0)}return!Array.isArray(dt)||dt.length===0?null:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"hidden md:grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 p-4",children:dt.map(ir=>{const or=!(ir.is_complete===1)&&ir.pages<750,lr=ir.is_draft===1||ir.draft_text&&ir.draft_text.trim().length>0;return jsxRuntimeExports.jsxs(motion.div,{transition:{type:"spring",stiffness:200,damping:20},className:`
              relative group
              bg-dashboard-sidebar-light
              dark:bg-dashboard-sidebar-dark
              border border-dashboard-border-light
              dark:border-dashboard-border-dark
              rounded-2xl p-4
              transition-all
              hover:border-green
              hover:shadow-[0_0_15px_rgba(0,255,150,0.25)]
            `,children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 rounded-2xl pointer-events-none overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:"absolute -top-1/2 -left-1/2 w-[200%] h-[200%] bg-gradient-to-r from-transparent via-white/10 to-transparent rotate-[25deg] opacity-0 group-hover:opacity-100 animate-glimmer"})}),jsxRuntimeExports.jsx("h3",{className:`book-title text-dashboard-text-light
dark:text-dashboard-text-dark text-sm font-semibold truncate mb-2`,children:ir.book_name||"Untitled Book"}),jsxRuntimeExports.jsx("div",{className:`flex items-center justify-between text-[11px] text-dashboard-muted-light
dark:text-dashboard-muted-dark
 mb-2`,children:jsxRuntimeExports.jsxs("span",{children:["Part ",ir.part_number||1]})}),jsxRuntimeExports.jsxs("div",{className:"pages-progress flex flex-col items-center my-3",children:[jsxRuntimeExports.jsx("div",{className:`
                  w-full rounded-full h-2
                  bg-dashboard-border-light
                  dark:bg-dashboard-border-dark
`,children:jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-green to-royalPurple h-2",style:{width:`${Math.min(ir.pages/750*100,100)}%`}})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-1 mt-1",children:[jsxRuntimeExports.jsxs("p",{className:`text-xs text-dashboard-muted-light
dark:text-dashboard-muted-dark
`,children:[ir.pages||0,"/750 pages used"]}),jsxRuntimeExports.jsx(Tooltip,{text:"Pages are counted across the entire book. You can write, edit, and export PDFs freely until you reach 750 total pages. Downloads do not lock your book."})]})]}),jsxRuntimeExports.jsx("div",{className:"book-status text-xs font-semibold text-center mt-3",children:ir.status==="pending"?jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-2 text-yellow italic",children:[jsxRuntimeExports.jsxs("svg",{className:"animate-spin h-4 w-4 text-yellow",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[jsxRuntimeExports.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),jsxRuntimeExports.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Generating"]}):ir.status==="failed"?jsxRuntimeExports.jsx("span",{className:`bg-red-500 text-dashboard-text-light
dark:text-dashboard-text-dark px-3 py-[3px] rounded-full`,children:"Failed"}):ir.is_complete===1?jsxRuntimeExports.jsx("span",{className:"bg-green text-black px-3 py-[3px] rounded-full",children:"Finalized"}):ir.pages>0?jsxRuntimeExports.jsx("span",{className:`bg-blue text-dashboard-text-light
dark:text-dashboard-text-dark px-3 py-[3px] rounded-full`,children:"In Progress"}):jsxRuntimeExports.jsx("span",{className:`
                  bg-dashboard-hover-light
                  dark:bg-dashboard-hover-dark
                  text-dashboard-text-light
                  dark:text-dashboard-text-dark
                  px-3 py-[3px] rounded-full
                `,children:"Idle"})}),jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center mt-3",children:ir.prompt?jsxRuntimeExports.jsx(CircleCheckBig,{size:18,className:"text-headerGreen"}):jsxRuntimeExports.jsx(Timer,{size:18,className:"text-dashboard-muted-light dark:text-dashboard-muted-dark"})}),jsxRuntimeExports.jsx("div",{className:`text-[11px] text-dashboard-muted-light
dark:text-dashboard-muted-dark
 text-center mt-2 flex items-center justify-center gap-1`,children:ir.created_at_prompt?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("span",{children:[new Date(ir.created_at_prompt).toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric"})," ",new Date(ir.created_at_prompt).toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})]}),jsxRuntimeExports.jsx(Tooltip,{text:"This is the date and time this chapter was generated. Purchase dates are shown in Settings."})]}):jsxRuntimeExports.jsx("span",{className:"italic text-dashboard-muted-light dark:text-dashboard-muted-dark",children:"Not generated yet"})}),jsxRuntimeExports.jsxs("div",{className:"book-actions flex flex-col items-stretch gap-2 mt-4 w-full",children:[lr&&!ir.prompt&&jsxRuntimeExports.jsxs("button",{onClick:()=>et(ir.id,ir.part_number||1),className:`
                    w-full
                    bg-blue
                    text-white
                    rounded-lg
                    py-2
                    text-sm
                    font-semibold
                    hover:opacity-90
                    transition
                    flex items-center justify-center gap-2
                  `,title:"Continue Draft",children:[jsxRuntimeExports.jsx(Pencil,{size:16,className:"shrink-0"}),jsxRuntimeExports.jsx("span",{children:"Continue Draft"})]}),!lr&&!ir.prompt&&jsxRuntimeExports.jsxs("button",{onClick:()=>et(ir.id,ir.part_number||1),className:`
                    w-full
                    bg-dashboard-hover-light
                    dark:bg-dashboard-hover-dark
                    text-dashboard-text-light
                    dark:text-dashboard-text-dark
                    rounded-lg
                    py-2
                    text-sm
                    font-semibold
                    hover:bg-green hover:text-black
                    transition
                    flex items-center justify-center gap-2
                  `,title:"Create Chapter",children:[jsxRuntimeExports.jsx(Plus,{size:16,className:"shrink-0"}),jsxRuntimeExports.jsx("span",{children:"Add Chapter"})]}),ir.pdf_url&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs("button",{onClick:()=>sr(ir.id),className:`
                      w-full
                      bg-dashboard-hover-light
                      dark:bg-dashboard-hover-dark
                      text-dashboard-text-light
                      dark:text-dashboard-text-dark
                      rounded-lg py-2 text-sm
                      flex items-center justify-center gap-2
                      hover:opacity-90
                      transition
                    `,title:"View All Parts",children:[jsxRuntimeExports.jsx(Layers,{size:16}),jsxRuntimeExports.jsx("span",{children:"View All Parts"})]})}),ir.prompt&&or&&jsxRuntimeExports.jsxs("button",{onClick:()=>ir.pages>=750?sr(ir.id):$t(ir.id,(ir.part_number||1)+1),className:"w-full bg-bookBtnColor text-black rounded-lg py-2 text-sm font-semibold hover:opacity-90 transition-all flex items-center justify-center gap-2",title:"Continue Story",children:[jsxRuntimeExports.jsx(Rocket,{size:16}),jsxRuntimeExports.jsx("span",{children:ir.pages>=750?"Finish Book":`Continue Story (Part ${(ir.part_number||1)+1})`})]}),!ir.is_complete&&ir.status!=="pending"&&jsxRuntimeExports.jsx("button",{onClick:()=>kt(ir.id),className:`
                    w-full
                    border border-red-500/40
                    text-red-400
                    rounded-lg
                    py-2
                    text-sm
                    font-semibold
                    hover:bg-red-500/10
                    transition
                  `,title:"Archive Book",children:"Archive Book"})]})]},ir.id)})}),Tt&&jsxRuntimeExports.jsx(PDFPreviewModal,{fileUrl:Tt.url,fileTitle:Tt.title,partNumber:Tt.partNumber,sourceType:"book",onClose:()=>Dt(null)}),Ft&&jsxRuntimeExports.jsx(BookPartsModal,{bookId:Ht,onEditChapter:et,onClose:()=>Ut(!1)}),Yt&&jsxRuntimeExports.jsx(OnboardingGuide,{steps:rr,onFinish:async()=>{try{localStorage.setItem("bookOnboardingComplete","true"),Jt(!1),await axiosInstance.post("/books/book-complete",{userId:Zt==null?void 0:Zt.id}),await er()}catch(ir){console.error(" Failed to save onboarding status:",ir)}}})]})}function BooksDashboardHeader({availableSlots:dt,onCheckout:et,onCreateBook:$t}){var Tt;const{user:kt}=useAuth();return kt?jsxRuntimeExports.jsxs("div",{className:"mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:`
            text-3xl font-bold normal-case
            text-dashboard-text-light
            dark:text-dashboard-text-dark
`,children:"My Books"}),jsxRuntimeExports.jsxs("div",{className:`
            text-sm mt-1
            text-dashboard-muted-light
            dark:text-dashboard-muted-dark
          `,children:["Welcome,"," ",jsxRuntimeExports.jsx("span",{className:`
              font-semibold
              text-dashboard-text-light
              dark:text-dashboard-text-dark
            `,children:((Tt=kt==null?void 0:kt.name)==null?void 0:Tt.split(" ")[0])||"Author"})]}),jsxRuntimeExports.jsxs("p",{className:`
            mt-2
            text-dashboard-muted-light
            dark:text-dashboard-muted-dark
          `,children:["You currently have ",dt," book slots remaining."]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col w-full md:w-auto md:flex-row items-stretch md:items-start gap-3",children:[dt>0&&jsxRuntimeExports.jsx("button",{onClick:$t,className:`
              w-full md:w-auto
              px-4 py-2.5
              rounded-lg
              bg-green text-black font-semibold
              hover:opacity-90 transition
            `,children:"New Book"}),jsxRuntimeExports.jsxs(Link$2,{to:"/docs/authors-assistant",className:`
            inline-flex items-center justify-center gap-2
            w-full md:w-auto
            rounded-lg px-4 py-3 text-sm transition
            border border-dashboard-border-light
            dark:border-dashboard-border-dark
            bg-dashboard-hover-light
            dark:bg-dashboard-hover-dark
            text-black dark:text-green
            hover:opacity-90
          `,children:[jsxRuntimeExports.jsx(FilePen,{className:"w-4 h-4 text-black dark:text-green"}),"Docs",jsxRuntimeExports.jsx(ExternalLink,{className:"w-3.5 h-3.5"})]})]})]}),dt===0&&jsxRuntimeExports.jsx("div",{className:"mt-4",children:jsxRuntimeExports.jsx("button",{onClick:et,className:"px-6 py-3 rounded-lg bg-gradient-to-r from-green to-royalPurple text-white font-semibold hover:opacity-90 transition shadow-lg",children:"Purchase More Slots"})})]}):null}function BooksDashboard(){const{accessToken:dt,authLoading:et,user:$t,refreshUser:kt}=useAuth(),{books:Tt,setBooks:Dt,fetchBooks:Ft,loading:Ut}=useBooks(),[Ht,Kt]=reactExports.useState(!1),[Yt,Jt]=reactExports.useState(null),[Zt,er]=reactExports.useState(!1),[rr,sr]=reactExports.useState(!1),[ir,nr]=reactExports.useState(1),[or,lr]=reactExports.useState(!1),[cr,dr]=reactExports.useState(null),ur=useNavigate(),pr=12,mr=[...Tt].sort((Gr,Xr)=>new Date(Xr.created_at)-new Date(Gr.created_at)),vr=Math.ceil(mr.length/pr),kr=(ir-1)*pr,br=mr.slice(kr,kr+pr);async function _r(Gr,Xr=1){let rs=Tt.find(ms=>ms.id===Gr);try{const ms=await axiosInstance.get(`/books/${Gr}`);ms.data&&(rs={...rs,...ms.data})}catch(ms){console.error(" Failed to fetch book by ID:",ms),y$4.error("Could not refresh book info  using cached version")}if(!rs)return;const Yr=rs.book_name||rs.title||"",es=!rs.author_name||rs.author_name.trim()==="",ns=!Yr||Yr.trim()===""||Yr==="Untitled"||Yr==="Untitled Book";if((es||ns)&&!rs.is_draft){Jt({id:Gr,part_number:Xr}),lr(!0);return}Jt({id:rs.id,part_number:Xr,book_name:Yr,author_name:rs.author_name||"",book_type:rs.bookType||rs.book_type||"fiction"}),Kt(!0)}function Or(Gr,Xr){Dt(rs=>rs.map(Yr=>Yr.id===Gr?{...Yr,prompt:Xr,status:"pending"}:Yr)),setTimeout(Ft,3e3)}function Pr({bookId:Gr,bookName:Xr,authorName:rs,bookType:Yr}){dr({bookName:Xr,authorName:rs,bookType:Yr}),Jt({id:Gr,part_number:1,book_name:Xr,author_name:rs,book_type:Yr}),lr(!1),Kt(!0)}async function Mr(){var Gr;try{const Xr=await axiosInstance.post("/books/get-new-book");await Ft()}catch(Xr){if(((Gr=Xr.response)==null?void 0:Gr.status)===400){sr(!0);return}console.error("Failed to create new book",Xr),y$4.error("Could not create a new book")}}async function Rr(){try{const Gr=await kt();Gr&&(setSubscriptionStatus(Gr.subscription_status),await Ft())}catch(Gr){console.error("Failed to refresh slots:",Gr)}}async function Tr(Gr){try{await axiosInstance.post(`/books/${Gr}/archive`),Dt(Xr=>Xr.filter(rs=>rs.id!==Gr)),await Rr()}catch(Xr){console.error("Failed to archive book",Xr),y$4.error("Failed to archive book")}}if(et||!$t)return jsxRuntimeExports.jsx(DashboardLayout,{children:jsxRuntimeExports.jsx(LoadingState,{label:"Checking subscription"})});if(!(!!($t!=null&&$t.authors_assistant_override)||($t==null?void 0:$t.subscription_status)==="active"&&($t==null?void 0:$t.has_book)===1))return jsxRuntimeExports.jsx(DashboardLayout,{children:jsxRuntimeExports.jsx(EmptyState,{type:"subscription",onCheckout:()=>ur("/plans"),title:"Authors Assistant is not active",description:"Upgrade or activate Authors Assistant to continue writing."})});const wr=3,zr=Tt.filter(Gr=>Gr.is_complete===0&&!Gr.deleted_at).length,Hr=Math.max(wr-zr,0);return jsxRuntimeExports.jsx(DashboardLayout,{children:jsxRuntimeExports.jsxs("div",{className:`
    flex flex-col min-h-screen
    px-4 lg:px-8 py-6
    bg-dashboard-bg-light
    dark:bg-dashboard-bg-dark
  `,children:[jsxRuntimeExports.jsx(BooksDashboardHeader,{activeBookCount:zr,availableSlots:Hr,onCheckout:()=>ur("/plans"),onCreateBook:Mr}),jsxRuntimeExports.jsx("div",{className:"flex-1",children:Ut?jsxRuntimeExports.jsx(LoadingState,{label:"Loading your books..."}):Tt.length===0?jsxRuntimeExports.jsx(EmptyState,{onCheckout:()=>ur("/plans"),type:"book"}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(BookGrid,{books:br,onAddPrompt:(Gr,Xr)=>_r(Gr,Xr),onGenerateNext:(Gr,Xr)=>_r(Gr,Xr),onArchiveBook:Tr}),jsxRuntimeExports.jsx(BookCardList,{books:br,onAddPrompt:(Gr,Xr)=>_r(Gr,Xr),onGenerateNext:(Gr,Xr)=>_r(Gr,Xr),onArchiveBook:Tr})]})}),jsxRuntimeExports.jsxs("div",{className:"mt-auto pt-6",children:[jsxRuntimeExports.jsx(PaginationControls,{currentPage:ir,totalPages:vr,onPageChange:nr}),jsxRuntimeExports.jsx(SupportTab,{})]}),or&&Yt&&jsxRuntimeExports.jsx(NewBookModal,{accessToken:dt,onCreate:Pr,onClose:()=>lr(!1)}),Yt&&jsxRuntimeExports.jsx(BookPromptModal,{isOpen:Ht,onClose:()=>Kt(!1),bookId:Yt.id,partNumber:Yt.part_number,accessToken:dt,setShowGenerating:er,onSubmitted:Or,onCompleted:()=>{Ft(),er(!1)},initialBookData:{bookName:(cr==null?void 0:cr.bookName)||Yt.book_name||Yt.title||"",authorName:(cr==null?void 0:cr.authorName)||Yt.author_name||"",bookType:(cr==null?void 0:cr.bookType)||Yt.book_type||"fiction"}}),jsxRuntimeExports.jsx(OutOfSlotsModal,{open:rr,onClose:()=>sr(!1),onRefresh:Rr,context:"books"}),jsxRuntimeExports.jsx(GenerationOverlay,{visible:Zt,type:"book",onClose:()=>er(!1)})]})})}var lib={},propTypes$2={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function dt(kt,Tt,Dt,Ft,Ut,Ht){if(Ht!==ReactPropTypesSecret){var Kt=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw Kt.name="Invariant Violation",Kt}}dt.isRequired=dt;function et(){return dt}var $t={array:dt,bigint:dt,bool:dt,func:dt,number:dt,object:dt,string:dt,symbol:dt,any:dt,arrayOf:et,element:dt,elementType:dt,instanceOf:et,node:dt,objectOf:et,oneOf:et,oneOfType:et,shape:et,exact:et,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return $t.PropTypes=$t,$t};propTypes$2.exports=factoryWithThrowingShims();var propTypesExports=propTypes$2.exports,ErrorCorrectLevel={L:1,M:0,Q:3,H:2},mode$1={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},mode=mode$1;function QR8bitByte(dt){this.mode=mode.MODE_8BIT_BYTE,this.data=dt}QR8bitByte.prototype={getLength:function(dt){return this.data.length},write:function(dt){for(var et=0;et<this.data.length;et++)dt.put(this.data.charCodeAt(et),8)}};var _8BitByte=QR8bitByte,ECL=ErrorCorrectLevel;function QRRSBlock(dt,et){this.totalCount=dt,this.dataCount=et}QRRSBlock.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];QRRSBlock.getRSBlocks=function(dt,et){var $t=QRRSBlock.getRsBlockTable(dt,et);if($t==null)throw new Error("bad rs block @ typeNumber:"+dt+"/errorCorrectLevel:"+et);for(var kt=$t.length/3,Tt=new Array,Dt=0;Dt<kt;Dt++)for(var Ft=$t[Dt*3+0],Ut=$t[Dt*3+1],Ht=$t[Dt*3+2],Kt=0;Kt<Ft;Kt++)Tt.push(new QRRSBlock(Ut,Ht));return Tt};QRRSBlock.getRsBlockTable=function(dt,et){switch(et){case ECL.L:return QRRSBlock.RS_BLOCK_TABLE[(dt-1)*4+0];case ECL.M:return QRRSBlock.RS_BLOCK_TABLE[(dt-1)*4+1];case ECL.Q:return QRRSBlock.RS_BLOCK_TABLE[(dt-1)*4+2];case ECL.H:return QRRSBlock.RS_BLOCK_TABLE[(dt-1)*4+3];default:return}};var RSBlock$1=QRRSBlock;function QRBitBuffer(){this.buffer=new Array,this.length=0}QRBitBuffer.prototype={get:function(dt){var et=Math.floor(dt/8);return(this.buffer[et]>>>7-dt%8&1)==1},put:function(dt,et){for(var $t=0;$t<et;$t++)this.putBit((dt>>>et-$t-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(dt){var et=Math.floor(this.length/8);this.buffer.length<=et&&this.buffer.push(0),dt&&(this.buffer[et]|=128>>>this.length%8),this.length++}};var BitBuffer$1=QRBitBuffer,QRMath={glog:function(dt){if(dt<1)throw new Error("glog("+dt+")");return QRMath.LOG_TABLE[dt]},gexp:function(dt){for(;dt<0;)dt+=255;for(;dt>=256;)dt-=255;return QRMath.EXP_TABLE[dt]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var i$3=0;i$3<8;i$3++)QRMath.EXP_TABLE[i$3]=1<<i$3;for(var i$3=8;i$3<256;i$3++)QRMath.EXP_TABLE[i$3]=QRMath.EXP_TABLE[i$3-4]^QRMath.EXP_TABLE[i$3-5]^QRMath.EXP_TABLE[i$3-6]^QRMath.EXP_TABLE[i$3-8];for(var i$3=0;i$3<255;i$3++)QRMath.LOG_TABLE[QRMath.EXP_TABLE[i$3]]=i$3;var math$2=QRMath,math$1=math$2;function QRPolynomial(dt,et){if(dt.length==null)throw new Error(dt.length+"/"+et);for(var $t=0;$t<dt.length&&dt[$t]==0;)$t++;this.num=new Array(dt.length-$t+et);for(var kt=0;kt<dt.length-$t;kt++)this.num[kt]=dt[kt+$t]}QRPolynomial.prototype={get:function(dt){return this.num[dt]},getLength:function(){return this.num.length},multiply:function(dt){for(var et=new Array(this.getLength()+dt.getLength()-1),$t=0;$t<this.getLength();$t++)for(var kt=0;kt<dt.getLength();kt++)et[$t+kt]^=math$1.gexp(math$1.glog(this.get($t))+math$1.glog(dt.get(kt)));return new QRPolynomial(et,0)},mod:function(dt){if(this.getLength()-dt.getLength()<0)return this;for(var et=math$1.glog(this.get(0))-math$1.glog(dt.get(0)),$t=new Array(this.getLength()),kt=0;kt<this.getLength();kt++)$t[kt]=this.get(kt);for(var kt=0;kt<dt.getLength();kt++)$t[kt]^=math$1.gexp(math$1.glog(dt.get(kt))+et);return new QRPolynomial($t,0).mod(dt)}};var Polynomial$2=QRPolynomial,Mode=mode$1,Polynomial$1=Polynomial$2,math=math$2,QRMaskPattern={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},QRUtil={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(dt){for(var et=dt<<10;QRUtil.getBCHDigit(et)-QRUtil.getBCHDigit(QRUtil.G15)>=0;)et^=QRUtil.G15<<QRUtil.getBCHDigit(et)-QRUtil.getBCHDigit(QRUtil.G15);return(dt<<10|et)^QRUtil.G15_MASK},getBCHTypeNumber:function(dt){for(var et=dt<<12;QRUtil.getBCHDigit(et)-QRUtil.getBCHDigit(QRUtil.G18)>=0;)et^=QRUtil.G18<<QRUtil.getBCHDigit(et)-QRUtil.getBCHDigit(QRUtil.G18);return dt<<12|et},getBCHDigit:function(dt){for(var et=0;dt!=0;)et++,dt>>>=1;return et},getPatternPosition:function(dt){return QRUtil.PATTERN_POSITION_TABLE[dt-1]},getMask:function(dt,et,$t){switch(dt){case QRMaskPattern.PATTERN000:return(et+$t)%2==0;case QRMaskPattern.PATTERN001:return et%2==0;case QRMaskPattern.PATTERN010:return $t%3==0;case QRMaskPattern.PATTERN011:return(et+$t)%3==0;case QRMaskPattern.PATTERN100:return(Math.floor(et/2)+Math.floor($t/3))%2==0;case QRMaskPattern.PATTERN101:return et*$t%2+et*$t%3==0;case QRMaskPattern.PATTERN110:return(et*$t%2+et*$t%3)%2==0;case QRMaskPattern.PATTERN111:return(et*$t%3+(et+$t)%2)%2==0;default:throw new Error("bad maskPattern:"+dt)}},getErrorCorrectPolynomial:function(dt){for(var et=new Polynomial$1([1],0),$t=0;$t<dt;$t++)et=et.multiply(new Polynomial$1([1,math.gexp($t)],0));return et},getLengthInBits:function(dt,et){if(1<=et&&et<10)switch(dt){case Mode.MODE_NUMBER:return 10;case Mode.MODE_ALPHA_NUM:return 9;case Mode.MODE_8BIT_BYTE:return 8;case Mode.MODE_KANJI:return 8;default:throw new Error("mode:"+dt)}else if(et<27)switch(dt){case Mode.MODE_NUMBER:return 12;case Mode.MODE_ALPHA_NUM:return 11;case Mode.MODE_8BIT_BYTE:return 16;case Mode.MODE_KANJI:return 10;default:throw new Error("mode:"+dt)}else if(et<41)switch(dt){case Mode.MODE_NUMBER:return 14;case Mode.MODE_ALPHA_NUM:return 13;case Mode.MODE_8BIT_BYTE:return 16;case Mode.MODE_KANJI:return 12;default:throw new Error("mode:"+dt)}else throw new Error("type:"+et)},getLostPoint:function(dt){for(var et=dt.getModuleCount(),$t=0,kt=0;kt<et;kt++)for(var Tt=0;Tt<et;Tt++){for(var Dt=0,Ft=dt.isDark(kt,Tt),Ut=-1;Ut<=1;Ut++)if(!(kt+Ut<0||et<=kt+Ut))for(var Ht=-1;Ht<=1;Ht++)Tt+Ht<0||et<=Tt+Ht||Ut==0&&Ht==0||Ft==dt.isDark(kt+Ut,Tt+Ht)&&Dt++;Dt>5&&($t+=3+Dt-5)}for(var kt=0;kt<et-1;kt++)for(var Tt=0;Tt<et-1;Tt++){var Kt=0;dt.isDark(kt,Tt)&&Kt++,dt.isDark(kt+1,Tt)&&Kt++,dt.isDark(kt,Tt+1)&&Kt++,dt.isDark(kt+1,Tt+1)&&Kt++,(Kt==0||Kt==4)&&($t+=3)}for(var kt=0;kt<et;kt++)for(var Tt=0;Tt<et-6;Tt++)dt.isDark(kt,Tt)&&!dt.isDark(kt,Tt+1)&&dt.isDark(kt,Tt+2)&&dt.isDark(kt,Tt+3)&&dt.isDark(kt,Tt+4)&&!dt.isDark(kt,Tt+5)&&dt.isDark(kt,Tt+6)&&($t+=40);for(var Tt=0;Tt<et;Tt++)for(var kt=0;kt<et-6;kt++)dt.isDark(kt,Tt)&&!dt.isDark(kt+1,Tt)&&dt.isDark(kt+2,Tt)&&dt.isDark(kt+3,Tt)&&dt.isDark(kt+4,Tt)&&!dt.isDark(kt+5,Tt)&&dt.isDark(kt+6,Tt)&&($t+=40);for(var Yt=0,Tt=0;Tt<et;Tt++)for(var kt=0;kt<et;kt++)dt.isDark(kt,Tt)&&Yt++;var Jt=Math.abs(100*Yt/et/et-50)/5;return $t+=Jt*10,$t}},util$1=QRUtil,BitByte=_8BitByte,RSBlock=RSBlock$1,BitBuffer=BitBuffer$1,util=util$1,Polynomial=Polynomial$2;function QRCode$1(dt,et){this.typeNumber=dt,this.errorCorrectLevel=et,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var proto=QRCode$1.prototype;proto.addData=function(dt){var et=new BitByte(dt);this.dataList.push(et),this.dataCache=null};proto.isDark=function(dt,et){if(dt<0||this.moduleCount<=dt||et<0||this.moduleCount<=et)throw new Error(dt+","+et);return this.modules[dt][et]};proto.getModuleCount=function(){return this.moduleCount};proto.make=function(){if(this.typeNumber<1){var dt=1;for(dt=1;dt<40;dt++){for(var et=RSBlock.getRSBlocks(dt,this.errorCorrectLevel),$t=new BitBuffer,kt=0,Tt=0;Tt<et.length;Tt++)kt+=et[Tt].dataCount;for(var Tt=0;Tt<this.dataList.length;Tt++){var Dt=this.dataList[Tt];$t.put(Dt.mode,4),$t.put(Dt.getLength(),util.getLengthInBits(Dt.mode,dt)),Dt.write($t)}if($t.getLengthInBits()<=kt*8)break}this.typeNumber=dt}this.makeImpl(!1,this.getBestMaskPattern())};proto.makeImpl=function(dt,et){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var $t=0;$t<this.moduleCount;$t++){this.modules[$t]=new Array(this.moduleCount);for(var kt=0;kt<this.moduleCount;kt++)this.modules[$t][kt]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(dt,et),this.typeNumber>=7&&this.setupTypeNumber(dt),this.dataCache==null&&(this.dataCache=QRCode$1.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,et)};proto.setupPositionProbePattern=function(dt,et){for(var $t=-1;$t<=7;$t++)if(!(dt+$t<=-1||this.moduleCount<=dt+$t))for(var kt=-1;kt<=7;kt++)et+kt<=-1||this.moduleCount<=et+kt||(0<=$t&&$t<=6&&(kt==0||kt==6)||0<=kt&&kt<=6&&($t==0||$t==6)||2<=$t&&$t<=4&&2<=kt&&kt<=4?this.modules[dt+$t][et+kt]=!0:this.modules[dt+$t][et+kt]=!1)};proto.getBestMaskPattern=function(){for(var dt=0,et=0,$t=0;$t<8;$t++){this.makeImpl(!0,$t);var kt=util.getLostPoint(this);($t==0||dt>kt)&&(dt=kt,et=$t)}return et};proto.createMovieClip=function(dt,et,$t){var kt=dt.createEmptyMovieClip(et,$t),Tt=1;this.make();for(var Dt=0;Dt<this.modules.length;Dt++)for(var Ft=Dt*Tt,Ut=0;Ut<this.modules[Dt].length;Ut++){var Ht=Ut*Tt,Kt=this.modules[Dt][Ut];Kt&&(kt.beginFill(0,100),kt.moveTo(Ht,Ft),kt.lineTo(Ht+Tt,Ft),kt.lineTo(Ht+Tt,Ft+Tt),kt.lineTo(Ht,Ft+Tt),kt.endFill())}return kt};proto.setupTimingPattern=function(){for(var dt=8;dt<this.moduleCount-8;dt++)this.modules[dt][6]==null&&(this.modules[dt][6]=dt%2==0);for(var et=8;et<this.moduleCount-8;et++)this.modules[6][et]==null&&(this.modules[6][et]=et%2==0)};proto.setupPositionAdjustPattern=function(){for(var dt=util.getPatternPosition(this.typeNumber),et=0;et<dt.length;et++)for(var $t=0;$t<dt.length;$t++){var kt=dt[et],Tt=dt[$t];if(this.modules[kt][Tt]==null)for(var Dt=-2;Dt<=2;Dt++)for(var Ft=-2;Ft<=2;Ft++)Dt==-2||Dt==2||Ft==-2||Ft==2||Dt==0&&Ft==0?this.modules[kt+Dt][Tt+Ft]=!0:this.modules[kt+Dt][Tt+Ft]=!1}};proto.setupTypeNumber=function(dt){for(var et=util.getBCHTypeNumber(this.typeNumber),$t=0;$t<18;$t++){var kt=!dt&&(et>>$t&1)==1;this.modules[Math.floor($t/3)][$t%3+this.moduleCount-8-3]=kt}for(var $t=0;$t<18;$t++){var kt=!dt&&(et>>$t&1)==1;this.modules[$t%3+this.moduleCount-8-3][Math.floor($t/3)]=kt}};proto.setupTypeInfo=function(dt,et){for(var $t=this.errorCorrectLevel<<3|et,kt=util.getBCHTypeInfo($t),Tt=0;Tt<15;Tt++){var Dt=!dt&&(kt>>Tt&1)==1;Tt<6?this.modules[Tt][8]=Dt:Tt<8?this.modules[Tt+1][8]=Dt:this.modules[this.moduleCount-15+Tt][8]=Dt}for(var Tt=0;Tt<15;Tt++){var Dt=!dt&&(kt>>Tt&1)==1;Tt<8?this.modules[8][this.moduleCount-Tt-1]=Dt:Tt<9?this.modules[8][15-Tt-1+1]=Dt:this.modules[8][15-Tt-1]=Dt}this.modules[this.moduleCount-8][8]=!dt};proto.mapData=function(dt,et){for(var $t=-1,kt=this.moduleCount-1,Tt=7,Dt=0,Ft=this.moduleCount-1;Ft>0;Ft-=2)for(Ft==6&&Ft--;;){for(var Ut=0;Ut<2;Ut++)if(this.modules[kt][Ft-Ut]==null){var Ht=!1;Dt<dt.length&&(Ht=(dt[Dt]>>>Tt&1)==1);var Kt=util.getMask(et,kt,Ft-Ut);Kt&&(Ht=!Ht),this.modules[kt][Ft-Ut]=Ht,Tt--,Tt==-1&&(Dt++,Tt=7)}if(kt+=$t,kt<0||this.moduleCount<=kt){kt-=$t,$t=-$t;break}}};QRCode$1.PAD0=236;QRCode$1.PAD1=17;QRCode$1.createData=function(dt,et,$t){for(var kt=RSBlock.getRSBlocks(dt,et),Tt=new BitBuffer,Dt=0;Dt<$t.length;Dt++){var Ft=$t[Dt];Tt.put(Ft.mode,4),Tt.put(Ft.getLength(),util.getLengthInBits(Ft.mode,dt)),Ft.write(Tt)}for(var Ut=0,Dt=0;Dt<kt.length;Dt++)Ut+=kt[Dt].dataCount;if(Tt.getLengthInBits()>Ut*8)throw new Error("code length overflow. ("+Tt.getLengthInBits()+">"+Ut*8+")");for(Tt.getLengthInBits()+4<=Ut*8&&Tt.put(0,4);Tt.getLengthInBits()%8!=0;)Tt.putBit(!1);for(;!(Tt.getLengthInBits()>=Ut*8||(Tt.put(QRCode$1.PAD0,8),Tt.getLengthInBits()>=Ut*8));)Tt.put(QRCode$1.PAD1,8);return QRCode$1.createBytes(Tt,kt)};QRCode$1.createBytes=function(dt,et){for(var $t=0,kt=0,Tt=0,Dt=new Array(et.length),Ft=new Array(et.length),Ut=0;Ut<et.length;Ut++){var Ht=et[Ut].dataCount,Kt=et[Ut].totalCount-Ht;kt=Math.max(kt,Ht),Tt=Math.max(Tt,Kt),Dt[Ut]=new Array(Ht);for(var Yt=0;Yt<Dt[Ut].length;Yt++)Dt[Ut][Yt]=255&dt.buffer[Yt+$t];$t+=Ht;var Jt=util.getErrorCorrectPolynomial(Kt),Zt=new Polynomial(Dt[Ut],Jt.getLength()-1),er=Zt.mod(Jt);Ft[Ut]=new Array(Jt.getLength()-1);for(var Yt=0;Yt<Ft[Ut].length;Yt++){var rr=Yt+er.getLength()-Ft[Ut].length;Ft[Ut][Yt]=rr>=0?er.get(rr):0}}for(var sr=0,Yt=0;Yt<et.length;Yt++)sr+=et[Yt].totalCount;for(var ir=new Array(sr),nr=0,Yt=0;Yt<kt;Yt++)for(var Ut=0;Ut<et.length;Ut++)Yt<Dt[Ut].length&&(ir[nr++]=Dt[Ut][Yt]);for(var Yt=0;Yt<Tt;Yt++)for(var Ut=0;Ut<et.length;Ut++)Yt<Ft[Ut].length&&(ir[nr++]=Ft[Ut][Yt]);return ir};var QRCode_1=QRCode$1,QRCodeSvg$1={};Object.defineProperty(QRCodeSvg$1,"__esModule",{value:!0});var _extends$1=Object.assign||function(dt){for(var et=1;et<arguments.length;et++){var $t=arguments[et];for(var kt in $t)Object.prototype.hasOwnProperty.call($t,kt)&&(dt[kt]=$t[kt])}return dt},_propTypes$1=propTypesExports,_propTypes2$1=_interopRequireDefault$1(_propTypes$1),_react$1=reactExports,_react2$1=_interopRequireDefault$1(_react$1);function _interopRequireDefault$1(dt){return dt&&dt.__esModule?dt:{default:dt}}function _objectWithoutProperties$1(dt,et){var $t={};for(var kt in dt)et.indexOf(kt)>=0||Object.prototype.hasOwnProperty.call(dt,kt)&&($t[kt]=dt[kt]);return $t}var propTypes$1={bgColor:_propTypes2$1.default.oneOfType([_propTypes2$1.default.object,_propTypes2$1.default.string]).isRequired,bgD:_propTypes2$1.default.string.isRequired,fgColor:_propTypes2$1.default.oneOfType([_propTypes2$1.default.object,_propTypes2$1.default.string]).isRequired,fgD:_propTypes2$1.default.string.isRequired,size:_propTypes2$1.default.number.isRequired,title:_propTypes2$1.default.string,viewBoxSize:_propTypes2$1.default.number.isRequired,xmlns:_propTypes2$1.default.string},QRCodeSvg=(0,_react$1.forwardRef)(function(dt,et){var $t=dt.bgColor,kt=dt.bgD,Tt=dt.fgD,Dt=dt.fgColor,Ft=dt.size,Ut=dt.title,Ht=dt.viewBoxSize,Kt=dt.xmlns,Yt=Kt===void 0?"http://www.w3.org/2000/svg":Kt,Jt=_objectWithoutProperties$1(dt,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return _react2$1.default.createElement("svg",_extends$1({},Jt,{height:Ft,ref:et,viewBox:"0 0 "+Ht+" "+Ht,width:Ft,xmlns:Yt}),Ut?_react2$1.default.createElement("title",null,Ut):null,_react2$1.default.createElement("path",{d:kt,fill:$t}),_react2$1.default.createElement("path",{d:Tt,fill:Dt}))});QRCodeSvg.displayName="QRCodeSvg";QRCodeSvg.propTypes=propTypes$1;QRCodeSvg$1.default=QRCodeSvg;Object.defineProperty(lib,"__esModule",{value:!0});lib.QRCode=void 0;var _extends=Object.assign||function(dt){for(var et=1;et<arguments.length;et++){var $t=arguments[et];for(var kt in $t)Object.prototype.hasOwnProperty.call($t,kt)&&(dt[kt]=$t[kt])}return dt},_propTypes=propTypesExports,_propTypes2=_interopRequireDefault(_propTypes),_ErrorCorrectLevel=ErrorCorrectLevel,_ErrorCorrectLevel2=_interopRequireDefault(_ErrorCorrectLevel),_QRCode=QRCode_1,_QRCode2=_interopRequireDefault(_QRCode),_react=reactExports,_react2=_interopRequireDefault(_react),_QRCodeSvg=QRCodeSvg$1,_QRCodeSvg2=_interopRequireDefault(_QRCodeSvg);function _interopRequireDefault(dt){return dt&&dt.__esModule?dt:{default:dt}}function _objectWithoutProperties(dt,et){var $t={};for(var kt in dt)et.indexOf(kt)>=0||Object.prototype.hasOwnProperty.call(dt,kt)&&($t[kt]=dt[kt]);return $t}var propTypes={bgColor:_propTypes2.default.oneOfType([_propTypes2.default.object,_propTypes2.default.string]),fgColor:_propTypes2.default.oneOfType([_propTypes2.default.object,_propTypes2.default.string]),level:_propTypes2.default.string,size:_propTypes2.default.number,value:_propTypes2.default.string.isRequired},QRCode=(0,_react.forwardRef)(function(dt,et){var $t=dt.bgColor,kt=$t===void 0?"#FFFFFF":$t,Tt=dt.fgColor,Dt=Tt===void 0?"#000000":Tt,Ft=dt.level,Ut=Ft===void 0?"L":Ft,Ht=dt.size,Kt=Ht===void 0?256:Ht,Yt=dt.value,Jt=_objectWithoutProperties(dt,["bgColor","fgColor","level","size","value"]),Zt=new _QRCode2.default(-1,_ErrorCorrectLevel2.default[Ut]);Zt.addData(Yt),Zt.make();var er=Zt.modules;return _react2.default.createElement(_QRCodeSvg2.default,_extends({},Jt,{bgColor:kt,bgD:er.map(function(rr,sr){return rr.map(function(ir,nr){return ir?"":"M "+nr+" "+sr+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:Dt,fgD:er.map(function(rr,sr){return rr.map(function(ir,nr){return ir?"M "+nr+" "+sr+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:et,size:Kt,viewBoxSize:er.length}))});lib.QRCode=QRCode;QRCode.displayName="QRCode";QRCode.propTypes=propTypes;var _default=lib.default=QRCode;function _typeof(dt){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(et){return typeof et}:function(et){return et&&typeof Symbol=="function"&&et.constructor===Symbol&&et!==Symbol.prototype?"symbol":typeof et},_typeof(dt)}function toPrimitive(dt,et){if(_typeof(dt)!="object"||!dt)return dt;var $t=dt[Symbol.toPrimitive];if($t!==void 0){var kt=$t.call(dt,et||"default");if(_typeof(kt)!="object")return kt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(dt)}function toPropertyKey(dt){var et=toPrimitive(dt,"string");return _typeof(et)=="symbol"?et:et+""}function _defineProperty$1(dt,et,$t){return(et=toPropertyKey(et))in dt?Object.defineProperty(dt,et,{value:$t,enumerable:!0,configurable:!0,writable:!0}):dt[et]=$t,dt}function _objectWithoutPropertiesLoose(dt,et){if(dt==null)return{};var $t={};for(var kt in dt)if({}.hasOwnProperty.call(dt,kt)){if(et.includes(kt))continue;$t[kt]=dt[kt]}return $t}var imagePromiseFactory=function(dt){var et=dt.decode,$t=et===void 0?!0:et,kt=dt.crossOrigin,Tt=kt===void 0?"":kt;return function(Dt){return new Promise(function(Ft,Ut){var Ht=new Image;Tt&&(Ht.crossOrigin=Tt),Ht.onload=function(){$t&&Ht.decode?Ht.decode().then(Ft).catch(Ut):Ft()},Ht.onerror=Ut,Ht.src=Dt})}};function ownKeys$1(dt,et){var $t=Object.keys(dt);if(Object.getOwnPropertySymbols){var kt=Object.getOwnPropertySymbols(dt);et&&(kt=kt.filter(function(Tt){return Object.getOwnPropertyDescriptor(dt,Tt).enumerable})),$t.push.apply($t,kt)}return $t}function _objectSpread$1(dt){for(var et=1;et<arguments.length;et++){var $t=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$1(Object($t),!0).forEach(function(kt){_defineProperty$1(dt,kt,$t[kt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(dt,Object.getOwnPropertyDescriptors($t)):ownKeys$1(Object($t)).forEach(function(kt){Object.defineProperty(dt,kt,Object.getOwnPropertyDescriptor($t,kt))})}return dt}var removeBlankArrayElements=function dt(et){return et.filter(function($t){return $t})},stringToArray=function dt(et){return Array.isArray(et)?et:[et]},cache={},promiseFind=function dt(et,$t){var kt=!1;return new Promise(function(Tt,Dt){var Ft=function(Ht){return $t(Ht).then(function(){kt=!0,Tt(Ht)})};et.reduce(function(Ut,Ht){return Ut.catch(function(){if(!kt)return Ft(Ht)})},Ft(et.shift())).catch(Dt)})};function useImage(dt){var et=dt.srcList,$t=dt.imgPromise,kt=$t===void 0?imagePromiseFactory({decode:!0}):$t,Tt=dt.useSuspense,Dt=Tt===void 0?!0:Tt,Ft=reactExports.useState(!1),Ut=Ft[1],Ht=removeBlankArrayElements(stringToArray(et)),Kt=Ht.join("");if(cache[Kt]||(cache[Kt]={promise:promiseFind(Ht,kt),cache:"pending",error:null}),cache[Kt].cache==="resolved")return{src:cache[Kt].src,isLoading:!1,error:null};if(cache[Kt].cache==="rejected"){if(Dt)throw cache[Kt].error;return{isLoading:!1,error:cache[Kt].error,src:void 0}}if(cache[Kt].promise.then(function(Yt){cache[Kt]=_objectSpread$1(_objectSpread$1({},cache[Kt]),{},{cache:"resolved",src:Yt}),Dt||Ut(Kt)}).catch(function(Yt){cache[Kt]=_objectSpread$1(_objectSpread$1({},cache[Kt]),{},{cache:"rejected",error:Yt}),Dt||Ut(Kt)}),Dt)throw cache[Kt].promise;return{isLoading:!0,src:void 0,error:null}}var _excluded=["decode","src","loader","unloader","container","loaderContainer","unloaderContainer","imgPromise","crossorigin","useSuspense"];function ownKeys(dt,et){var $t=Object.keys(dt);if(Object.getOwnPropertySymbols){var kt=Object.getOwnPropertySymbols(dt);et&&(kt=kt.filter(function(Tt){return Object.getOwnPropertyDescriptor(dt,Tt).enumerable})),$t.push.apply($t,kt)}return $t}function _objectSpread(dt){for(var et=1;et<arguments.length;et++){var $t=arguments[et]!=null?arguments[et]:{};et%2?ownKeys(Object($t),!0).forEach(function(kt){_defineProperty$1(dt,kt,$t[kt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(dt,Object.getOwnPropertyDescriptors($t)):ownKeys(Object($t)).forEach(function(kt){Object.defineProperty(dt,kt,Object.getOwnPropertyDescriptor($t,kt))})}return dt}var passthroughContainer=function dt(et){return et};function Img(dt){var et=dt.decode,$t=et===void 0?!0:et,kt=dt.src,Tt=kt===void 0?[]:kt,Dt=dt.loader,Ft=Dt===void 0?null:Dt,Ut=dt.unloader,Ht=Ut===void 0?null:Ut,Kt=dt.container,Yt=Kt===void 0?passthroughContainer:Kt,Jt=dt.loaderContainer,Zt=Jt===void 0?passthroughContainer:Jt,er=dt.unloaderContainer,rr=er===void 0?passthroughContainer:er,sr=dt.imgPromise,ir=dt.crossorigin,nr=dt.useSuspense,or=nr===void 0?!1:nr,lr=_objectWithoutPropertiesLoose(dt,_excluded);sr=sr||imagePromiseFactory({decode:$t,crossOrigin:ir});var cr=useImage({srcList:Tt,imgPromise:sr,useSuspense:or}),dr=cr.src,ur=cr.isLoading;return dr?Yt(React$2.createElement("img",_objectSpread({src:dr},lr))):!or&&ur?Zt(Ft):!or&&Ht?rr(Ht):null}var extendStatics=function(dt,et){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function($t,kt){$t.__proto__=kt}||function($t,kt){for(var Tt in kt)Object.prototype.hasOwnProperty.call(kt,Tt)&&($t[Tt]=kt[Tt])},extendStatics(dt,et)};function __extends(dt,et){if(typeof et!="function"&&et!==null)throw new TypeError("Class extends value "+String(et)+" is not a constructor or null");extendStatics(dt,et);function $t(){this.constructor=dt}dt.prototype=et===null?Object.create(et):($t.prototype=et.prototype,new $t)}var __assign=function(){return __assign=Object.assign||function(et){for(var $t,kt=1,Tt=arguments.length;kt<Tt;kt++){$t=arguments[kt];for(var Dt in $t)Object.prototype.hasOwnProperty.call($t,Dt)&&(et[Dt]=$t[Dt])}return et},__assign.apply(this,arguments)};typeof SuppressedError=="function"&&SuppressedError;var _populated=!1,_ie,_firefox,_opera,_webkit,_chrome,_ie_real_version,_osx,_windows,_linux,_android,_win64,_iphone,_ipad,_native,_mobile;function _populate(){if(!_populated){_populated=!0;var dt=navigator.userAgent,et=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(dt),$t=/(Mac OS X)|(Windows)|(Linux)/.exec(dt);if(_iphone=/\b(iPhone|iP[ao]d)/.exec(dt),_ipad=/\b(iP[ao]d)/.exec(dt),_android=/Android/i.exec(dt),_native=/FBAN\/\w+;/i.exec(dt),_mobile=/Mobile/i.exec(dt),_win64=!!/Win64/.exec(dt),et){_ie=et[1]?parseFloat(et[1]):et[5]?parseFloat(et[5]):NaN,_ie&&document&&document.documentMode&&(_ie=document.documentMode);var kt=/(?:Trident\/(\d+.\d+))/.exec(dt);_ie_real_version=kt?parseFloat(kt[1])+4:_ie,_firefox=et[2]?parseFloat(et[2]):NaN,_opera=et[3]?parseFloat(et[3]):NaN,_webkit=et[4]?parseFloat(et[4]):NaN,_webkit?(et=/(?:Chrome\/(\d+\.\d+))/.exec(dt),_chrome=et&&et[1]?parseFloat(et[1]):NaN):_chrome=NaN}else _ie=_firefox=_opera=_chrome=_webkit=NaN;if($t){if($t[1]){var Tt=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(dt);_osx=Tt?parseFloat(Tt[1].replace("_",".")):!0}else _osx=!1;_windows=!!$t[2],_linux=!!$t[3]}else _osx=_windows=_linux=!1}}var UserAgent_DEPRECATED$1={ie:function(){return _populate()||_ie},ieCompatibilityMode:function(){return _populate()||_ie_real_version>_ie},ie64:function(){return UserAgent_DEPRECATED$1.ie()&&_win64},firefox:function(){return _populate()||_firefox},opera:function(){return _populate()||_opera},webkit:function(){return _populate()||_webkit},safari:function(){return UserAgent_DEPRECATED$1.webkit()},chrome:function(){return _populate()||_chrome},windows:function(){return _populate()||_windows},osx:function(){return _populate()||_osx},linux:function(){return _populate()||_linux},iphone:function(){return _populate()||_iphone},mobile:function(){return _populate()||_iphone||_ipad||_android||_mobile},nativeApp:function(){return _populate()||_native},android:function(){return _populate()||_android},ipad:function(){return _populate()||_ipad}},UserAgent_DEPRECATED_1=UserAgent_DEPRECATED$1,canUseDOM$1=!!(typeof window<"u"&&window.document&&window.document.createElement),ExecutionEnvironment$1={canUseDOM:canUseDOM$1,canUseWorkers:typeof Worker<"u",canUseEventListeners:canUseDOM$1&&!!(window.addEventListener||window.attachEvent),canUseViewport:canUseDOM$1&&!!window.screen,isInWorker:!canUseDOM$1},ExecutionEnvironment_1=ExecutionEnvironment$1,ExecutionEnvironment=ExecutionEnvironment_1,useHasFeature;ExecutionEnvironment.canUseDOM&&(useHasFeature=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function isEventSupported$1(dt,et){if(!ExecutionEnvironment.canUseDOM||et&&!("addEventListener"in document))return!1;var $t="on"+dt,kt=$t in document;if(!kt){var Tt=document.createElement("div");Tt.setAttribute($t,"return;"),kt=typeof Tt[$t]=="function"}return!kt&&useHasFeature&&dt==="wheel"&&(kt=document.implementation.hasFeature("Events.wheel","3.0")),kt}var isEventSupported_1=isEventSupported$1,UserAgent_DEPRECATED=UserAgent_DEPRECATED_1,isEventSupported=isEventSupported_1,PIXEL_STEP=10,LINE_HEIGHT=40,PAGE_HEIGHT=800;function normalizeWheel$2(dt){var et=0,$t=0,kt=0,Tt=0;return"detail"in dt&&($t=dt.detail),"wheelDelta"in dt&&($t=-dt.wheelDelta/120),"wheelDeltaY"in dt&&($t=-dt.wheelDeltaY/120),"wheelDeltaX"in dt&&(et=-dt.wheelDeltaX/120),"axis"in dt&&dt.axis===dt.HORIZONTAL_AXIS&&(et=$t,$t=0),kt=et*PIXEL_STEP,Tt=$t*PIXEL_STEP,"deltaY"in dt&&(Tt=dt.deltaY),"deltaX"in dt&&(kt=dt.deltaX),(kt||Tt)&&dt.deltaMode&&(dt.deltaMode==1?(kt*=LINE_HEIGHT,Tt*=LINE_HEIGHT):(kt*=PAGE_HEIGHT,Tt*=PAGE_HEIGHT)),kt&&!et&&(et=kt<1?-1:1),Tt&&!$t&&($t=Tt<1?-1:1),{spinX:et,spinY:$t,pixelX:kt,pixelY:Tt}}normalizeWheel$2.getEventType=function(){return UserAgent_DEPRECATED.firefox()?"DOMMouseScroll":isEventSupported("wheel")?"wheel":"mousewheel"};var normalizeWheel_1=normalizeWheel$2,normalizeWheel=normalizeWheel_1;const normalizeWheel$1=getDefaultExportFromCjs(normalizeWheel);function getCropSize(dt,et,$t,kt,Tt,Dt){Dt===void 0&&(Dt=0);var Ft=rotateSize(dt,et,Dt),Ut=Ft.width,Ht=Ft.height,Kt=Math.min(Ut,$t),Yt=Math.min(Ht,kt);return Kt>Yt*Tt?{width:Yt*Tt,height:Yt}:{width:Kt,height:Kt/Tt}}function getMediaZoom(dt){return dt.width>dt.height?dt.width/dt.naturalWidth:dt.height/dt.naturalHeight}function restrictPosition(dt,et,$t,kt,Tt){Tt===void 0&&(Tt=0);var Dt=rotateSize(et.width,et.height,Tt),Ft=Dt.width,Ut=Dt.height;return{x:restrictPositionCoord(dt.x,Ft,$t.width,kt),y:restrictPositionCoord(dt.y,Ut,$t.height,kt)}}function restrictPositionCoord(dt,et,$t,kt){var Tt=et*kt/2-$t/2;return clamp$5(dt,-Tt,Tt)}function getDistanceBetweenPoints(dt,et){return Math.sqrt(Math.pow(dt.y-et.y,2)+Math.pow(dt.x-et.x,2))}function getRotationBetweenPoints(dt,et){return Math.atan2(et.y-dt.y,et.x-dt.x)*180/Math.PI}function computeCroppedArea(dt,et,$t,kt,Tt,Dt,Ft){Dt===void 0&&(Dt=0),Ft===void 0&&(Ft=!0);var Ut=Ft?limitArea:noOp,Ht=rotateSize(et.width,et.height,Dt),Kt=rotateSize(et.naturalWidth,et.naturalHeight,Dt),Yt={x:Ut(100,((Ht.width-$t.width/Tt)/2-dt.x/Tt)/Ht.width*100),y:Ut(100,((Ht.height-$t.height/Tt)/2-dt.y/Tt)/Ht.height*100),width:Ut(100,$t.width/Ht.width*100/Tt),height:Ut(100,$t.height/Ht.height*100/Tt)},Jt=Math.round(Ut(Kt.width,Yt.width*Kt.width/100)),Zt=Math.round(Ut(Kt.height,Yt.height*Kt.height/100)),er=Kt.width>=Kt.height*kt,rr=er?{width:Math.round(Zt*kt),height:Zt}:{width:Jt,height:Math.round(Jt/kt)},sr=__assign(__assign({},rr),{x:Math.round(Ut(Kt.width-rr.width,Yt.x*Kt.width/100)),y:Math.round(Ut(Kt.height-rr.height,Yt.y*Kt.height/100))});return{croppedAreaPercentages:Yt,croppedAreaPixels:sr}}function limitArea(dt,et){return Math.min(dt,Math.max(0,et))}function noOp(dt,et){return et}function getInitialCropFromCroppedAreaPercentages(dt,et,$t,kt,Tt,Dt){var Ft=rotateSize(et.width,et.height,$t),Ut=clamp$5(kt.width/Ft.width*(100/dt.width),Tt,Dt),Ht={x:Ut*Ft.width/2-kt.width/2-Ft.width*Ut*(dt.x/100),y:Ut*Ft.height/2-kt.height/2-Ft.height*Ut*(dt.y/100)};return{crop:Ht,zoom:Ut}}function getZoomFromCroppedAreaPixels(dt,et,$t){var kt=getMediaZoom(et);return $t.height>$t.width?$t.height/(dt.height*kt):$t.width/(dt.width*kt)}function getInitialCropFromCroppedAreaPixels(dt,et,$t,kt,Tt,Dt){$t===void 0&&($t=0);var Ft=rotateSize(et.naturalWidth,et.naturalHeight,$t),Ut=clamp$5(getZoomFromCroppedAreaPixels(dt,et,kt),Tt,Dt),Ht=kt.height>kt.width?kt.height/dt.height:kt.width/dt.width,Kt={x:((Ft.width-dt.width)/2-dt.x)*Ht,y:((Ft.height-dt.height)/2-dt.y)*Ht};return{crop:Kt,zoom:Ut}}function getCenter(dt,et){return{x:(et.x+dt.x)/2,y:(et.y+dt.y)/2}}function getRadianAngle(dt){return dt*Math.PI/180}function rotateSize(dt,et,$t){var kt=getRadianAngle($t);return{width:Math.abs(Math.cos(kt)*dt)+Math.abs(Math.sin(kt)*et),height:Math.abs(Math.sin(kt)*dt)+Math.abs(Math.cos(kt)*et)}}function clamp$5(dt,et,$t){return Math.min(Math.max(dt,et),$t)}function classNames(){for(var dt=[],et=0;et<arguments.length;et++)dt[et]=arguments[et];return dt.filter(function($t){return typeof $t=="string"&&$t.length>0}).join(" ").trim()}var css_248z=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,MIN_ZOOM=1,MAX_ZOOM=3,KEYBOARD_STEP=1,Cropper=function(dt){__extends(et,dt);function et(){var $t=dt!==null&&dt.apply(this,arguments)||this;return $t.cropperRef=reactExports.createRef(),$t.imageRef=reactExports.createRef(),$t.videoRef=reactExports.createRef(),$t.containerPosition={x:0,y:0},$t.containerRef=null,$t.styleRef=null,$t.containerRect=null,$t.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},$t.dragStartPosition={x:0,y:0},$t.dragStartCrop={x:0,y:0},$t.gestureZoomStart=0,$t.gestureRotationStart=0,$t.isTouching=!1,$t.lastPinchDistance=0,$t.lastPinchRotation=0,$t.rafDragTimeout=null,$t.rafPinchTimeout=null,$t.wheelTimer=null,$t.currentDoc=typeof document<"u"?document:null,$t.currentWindow=typeof window<"u"?window:null,$t.resizeObserver=null,$t.previousCropSize=null,$t.isInitialized=!1,$t.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},$t.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!$t.containerRef)){var kt=!0;$t.resizeObserver=new window.ResizeObserver(function(Tt){if(kt){kt=!1;return}$t.computeSizes()}),$t.resizeObserver.observe($t.containerRef)}},$t.preventZoomSafari=function(kt){return kt.preventDefault()},$t.cleanEvents=function(){$t.currentDoc&&($t.currentDoc.removeEventListener("mousemove",$t.onMouseMove),$t.currentDoc.removeEventListener("mouseup",$t.onDragStopped),$t.currentDoc.removeEventListener("touchmove",$t.onTouchMove),$t.currentDoc.removeEventListener("touchend",$t.onDragStopped),$t.currentDoc.removeEventListener("gesturechange",$t.onGestureChange),$t.currentDoc.removeEventListener("gestureend",$t.onGestureEnd),$t.currentDoc.removeEventListener("scroll",$t.onScroll))},$t.clearScrollEvent=function(){$t.containerRef&&$t.containerRef.removeEventListener("wheel",$t.onWheel),$t.wheelTimer&&clearTimeout($t.wheelTimer)},$t.onMediaLoad=function(){var kt=$t.computeSizes();kt&&($t.previousCropSize=kt,$t.emitCropData(),$t.setInitialCrop(kt),$t.isInitialized=!0),$t.props.onMediaLoaded&&$t.props.onMediaLoaded($t.mediaSize)},$t.setInitialCrop=function(kt){if($t.props.initialCroppedAreaPercentages){var Tt=getInitialCropFromCroppedAreaPercentages($t.props.initialCroppedAreaPercentages,$t.mediaSize,$t.props.rotation,kt,$t.props.minZoom,$t.props.maxZoom),Dt=Tt.crop,Ft=Tt.zoom;$t.props.onCropChange(Dt),$t.props.onZoomChange&&$t.props.onZoomChange(Ft)}else if($t.props.initialCroppedAreaPixels){var Ut=getInitialCropFromCroppedAreaPixels($t.props.initialCroppedAreaPixels,$t.mediaSize,$t.props.rotation,kt,$t.props.minZoom,$t.props.maxZoom),Dt=Ut.crop,Ft=Ut.zoom;$t.props.onCropChange(Dt),$t.props.onZoomChange&&$t.props.onZoomChange(Ft)}},$t.computeSizes=function(){var kt,Tt,Dt,Ft,Ut,Ht,Kt=$t.imageRef.current||$t.videoRef.current;if(Kt&&$t.containerRef){$t.containerRect=$t.containerRef.getBoundingClientRect(),$t.saveContainerPosition();var Yt=$t.containerRect.width/$t.containerRect.height,Jt=((kt=$t.imageRef.current)===null||kt===void 0?void 0:kt.naturalWidth)||((Tt=$t.videoRef.current)===null||Tt===void 0?void 0:Tt.videoWidth)||0,Zt=((Dt=$t.imageRef.current)===null||Dt===void 0?void 0:Dt.naturalHeight)||((Ft=$t.videoRef.current)===null||Ft===void 0?void 0:Ft.videoHeight)||0,er=Kt.offsetWidth<Jt||Kt.offsetHeight<Zt,rr=Jt/Zt,sr=void 0;if(er)switch($t.state.mediaObjectFit){default:case"contain":sr=Yt>rr?{width:$t.containerRect.height*rr,height:$t.containerRect.height}:{width:$t.containerRect.width,height:$t.containerRect.width/rr};break;case"horizontal-cover":sr={width:$t.containerRect.width,height:$t.containerRect.width/rr};break;case"vertical-cover":sr={width:$t.containerRect.height*rr,height:$t.containerRect.height};break}else sr={width:Kt.offsetWidth,height:Kt.offsetHeight};$t.mediaSize=__assign(__assign({},sr),{naturalWidth:Jt,naturalHeight:Zt}),$t.props.setMediaSize&&$t.props.setMediaSize($t.mediaSize);var ir=$t.props.cropSize?$t.props.cropSize:getCropSize($t.mediaSize.width,$t.mediaSize.height,$t.containerRect.width,$t.containerRect.height,$t.props.aspect,$t.props.rotation);return(((Ut=$t.state.cropSize)===null||Ut===void 0?void 0:Ut.height)!==ir.height||((Ht=$t.state.cropSize)===null||Ht===void 0?void 0:Ht.width)!==ir.width)&&$t.props.onCropSizeChange&&$t.props.onCropSizeChange(ir),$t.setState({cropSize:ir},$t.recomputeCropPosition),$t.props.setCropSize&&$t.props.setCropSize(ir),ir}},$t.saveContainerPosition=function(){if($t.containerRef){var kt=$t.containerRef.getBoundingClientRect();$t.containerPosition={x:kt.left,y:kt.top}}},$t.onMouseDown=function(kt){$t.currentDoc&&(kt.preventDefault(),$t.currentDoc.addEventListener("mousemove",$t.onMouseMove),$t.currentDoc.addEventListener("mouseup",$t.onDragStopped),$t.saveContainerPosition(),$t.onDragStart(et.getMousePoint(kt)))},$t.onMouseMove=function(kt){return $t.onDrag(et.getMousePoint(kt))},$t.onScroll=function(kt){$t.currentDoc&&(kt.preventDefault(),$t.saveContainerPosition())},$t.onTouchStart=function(kt){$t.currentDoc&&($t.isTouching=!0,!($t.props.onTouchRequest&&!$t.props.onTouchRequest(kt))&&($t.currentDoc.addEventListener("touchmove",$t.onTouchMove,{passive:!1}),$t.currentDoc.addEventListener("touchend",$t.onDragStopped),$t.saveContainerPosition(),kt.touches.length===2?$t.onPinchStart(kt):kt.touches.length===1&&$t.onDragStart(et.getTouchPoint(kt.touches[0]))))},$t.onTouchMove=function(kt){kt.preventDefault(),kt.touches.length===2?$t.onPinchMove(kt):kt.touches.length===1&&$t.onDrag(et.getTouchPoint(kt.touches[0]))},$t.onGestureStart=function(kt){$t.currentDoc&&(kt.preventDefault(),$t.currentDoc.addEventListener("gesturechange",$t.onGestureChange),$t.currentDoc.addEventListener("gestureend",$t.onGestureEnd),$t.gestureZoomStart=$t.props.zoom,$t.gestureRotationStart=$t.props.rotation)},$t.onGestureChange=function(kt){if(kt.preventDefault(),!$t.isTouching){var Tt=et.getMousePoint(kt),Dt=$t.gestureZoomStart-1+kt.scale;if($t.setNewZoom(Dt,Tt,{shouldUpdatePosition:!0}),$t.props.onRotationChange){var Ft=$t.gestureRotationStart+kt.rotation;$t.props.onRotationChange(Ft)}}},$t.onGestureEnd=function(kt){$t.cleanEvents()},$t.onDragStart=function(kt){var Tt,Dt,Ft=kt.x,Ut=kt.y;$t.dragStartPosition={x:Ft,y:Ut},$t.dragStartCrop=__assign({},$t.props.crop),(Dt=(Tt=$t.props).onInteractionStart)===null||Dt===void 0||Dt.call(Tt)},$t.onDrag=function(kt){var Tt=kt.x,Dt=kt.y;$t.currentWindow&&($t.rafDragTimeout&&$t.currentWindow.cancelAnimationFrame($t.rafDragTimeout),$t.rafDragTimeout=$t.currentWindow.requestAnimationFrame(function(){if($t.state.cropSize&&!(Tt===void 0||Dt===void 0)){var Ft=Tt-$t.dragStartPosition.x,Ut=Dt-$t.dragStartPosition.y,Ht={x:$t.dragStartCrop.x+Ft,y:$t.dragStartCrop.y+Ut},Kt=$t.props.restrictPosition?restrictPosition(Ht,$t.mediaSize,$t.state.cropSize,$t.props.zoom,$t.props.rotation):Ht;$t.props.onCropChange(Kt)}}))},$t.onDragStopped=function(){var kt,Tt;$t.isTouching=!1,$t.cleanEvents(),$t.emitCropData(),(Tt=(kt=$t.props).onInteractionEnd)===null||Tt===void 0||Tt.call(kt)},$t.onWheel=function(kt){if($t.currentWindow&&!($t.props.onWheelRequest&&!$t.props.onWheelRequest(kt))){kt.preventDefault();var Tt=et.getMousePoint(kt),Dt=normalizeWheel$1(kt).pixelY,Ft=$t.props.zoom-Dt*$t.props.zoomSpeed/200;$t.setNewZoom(Ft,Tt,{shouldUpdatePosition:!0}),$t.state.hasWheelJustStarted||$t.setState({hasWheelJustStarted:!0},function(){var Ut,Ht;return(Ht=(Ut=$t.props).onInteractionStart)===null||Ht===void 0?void 0:Ht.call(Ut)}),$t.wheelTimer&&clearTimeout($t.wheelTimer),$t.wheelTimer=$t.currentWindow.setTimeout(function(){return $t.setState({hasWheelJustStarted:!1},function(){var Ut,Ht;return(Ht=(Ut=$t.props).onInteractionEnd)===null||Ht===void 0?void 0:Ht.call(Ut)})},250)}},$t.getPointOnContainer=function(kt,Tt){var Dt=kt.x,Ft=kt.y;if(!$t.containerRect)throw new Error("The Cropper is not mounted");return{x:$t.containerRect.width/2-(Dt-Tt.x),y:$t.containerRect.height/2-(Ft-Tt.y)}},$t.getPointOnMedia=function(kt){var Tt=kt.x,Dt=kt.y,Ft=$t.props,Ut=Ft.crop,Ht=Ft.zoom;return{x:(Tt+Ut.x)/Ht,y:(Dt+Ut.y)/Ht}},$t.setNewZoom=function(kt,Tt,Dt){var Ft=Dt===void 0?{}:Dt,Ut=Ft.shouldUpdatePosition,Ht=Ut===void 0?!0:Ut;if(!(!$t.state.cropSize||!$t.props.onZoomChange)){var Kt=clamp$5(kt,$t.props.minZoom,$t.props.maxZoom);if(Ht){var Yt=$t.getPointOnContainer(Tt,$t.containerPosition),Jt=$t.getPointOnMedia(Yt),Zt={x:Jt.x*Kt-Yt.x,y:Jt.y*Kt-Yt.y},er=$t.props.restrictPosition?restrictPosition(Zt,$t.mediaSize,$t.state.cropSize,Kt,$t.props.rotation):Zt;$t.props.onCropChange(er)}$t.props.onZoomChange(Kt)}},$t.getCropData=function(){if(!$t.state.cropSize)return null;var kt=$t.props.restrictPosition?restrictPosition($t.props.crop,$t.mediaSize,$t.state.cropSize,$t.props.zoom,$t.props.rotation):$t.props.crop;return computeCroppedArea(kt,$t.mediaSize,$t.state.cropSize,$t.getAspect(),$t.props.zoom,$t.props.rotation,$t.props.restrictPosition)},$t.emitCropData=function(){var kt=$t.getCropData();if(kt){var Tt=kt.croppedAreaPercentages,Dt=kt.croppedAreaPixels;$t.props.onCropComplete&&$t.props.onCropComplete(Tt,Dt),$t.props.onCropAreaChange&&$t.props.onCropAreaChange(Tt,Dt)}},$t.emitCropAreaChange=function(){var kt=$t.getCropData();if(kt){var Tt=kt.croppedAreaPercentages,Dt=kt.croppedAreaPixels;$t.props.onCropAreaChange&&$t.props.onCropAreaChange(Tt,Dt)}},$t.recomputeCropPosition=function(){var kt,Tt;if($t.state.cropSize){var Dt=$t.props.crop;if($t.isInitialized&&(!((kt=$t.previousCropSize)===null||kt===void 0)&&kt.width)&&(!((Tt=$t.previousCropSize)===null||Tt===void 0)&&Tt.height)){var Ft=Math.abs($t.previousCropSize.width-$t.state.cropSize.width)>1e-6||Math.abs($t.previousCropSize.height-$t.state.cropSize.height)>1e-6;if(Ft){var Ut=$t.state.cropSize.width/$t.previousCropSize.width,Ht=$t.state.cropSize.height/$t.previousCropSize.height;Dt={x:$t.props.crop.x*Ut,y:$t.props.crop.y*Ht}}}var Kt=$t.props.restrictPosition?restrictPosition(Dt,$t.mediaSize,$t.state.cropSize,$t.props.zoom,$t.props.rotation):Dt;$t.previousCropSize=$t.state.cropSize,$t.props.onCropChange(Kt),$t.emitCropData()}},$t.onKeyDown=function(kt){var Tt,Dt,Ft=$t.props,Ut=Ft.crop,Ht=Ft.onCropChange,Kt=Ft.keyboardStep,Yt=Ft.zoom,Jt=Ft.rotation,Zt=Kt;if($t.state.cropSize){kt.shiftKey&&(Zt*=.2);var er=__assign({},Ut);switch(kt.key){case"ArrowUp":er.y-=Zt,kt.preventDefault();break;case"ArrowDown":er.y+=Zt,kt.preventDefault();break;case"ArrowLeft":er.x-=Zt,kt.preventDefault();break;case"ArrowRight":er.x+=Zt,kt.preventDefault();break;default:return}$t.props.restrictPosition&&(er=restrictPosition(er,$t.mediaSize,$t.state.cropSize,Yt,Jt)),kt.repeat||(Dt=(Tt=$t.props).onInteractionStart)===null||Dt===void 0||Dt.call(Tt),Ht(er)}},$t.onKeyUp=function(kt){var Tt,Dt;switch(kt.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":kt.preventDefault();break;default:return}$t.emitCropData(),(Dt=(Tt=$t.props).onInteractionEnd)===null||Dt===void 0||Dt.call(Tt)},$t}return et.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=css_248z,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},et.prototype.componentWillUnmount=function(){var $t,kt;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),($t=this.resizeObserver)===null||$t===void 0||$t.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((kt=this.styleRef.parentNode)===null||kt===void 0||kt.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},et.prototype.componentDidUpdate=function($t){var kt,Tt,Dt,Ft,Ut,Ht,Kt,Yt,Jt;$t.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):$t.aspect!==this.props.aspect?this.computeSizes():$t.objectFit!==this.props.objectFit?this.computeSizes():$t.zoom!==this.props.zoom?this.recomputeCropPosition():((kt=$t.cropSize)===null||kt===void 0?void 0:kt.height)!==((Tt=this.props.cropSize)===null||Tt===void 0?void 0:Tt.height)||((Dt=$t.cropSize)===null||Dt===void 0?void 0:Dt.width)!==((Ft=this.props.cropSize)===null||Ft===void 0?void 0:Ft.width)?this.computeSizes():(((Ut=$t.crop)===null||Ut===void 0?void 0:Ut.x)!==((Ht=this.props.crop)===null||Ht===void 0?void 0:Ht.x)||((Kt=$t.crop)===null||Kt===void 0?void 0:Kt.y)!==((Yt=this.props.crop)===null||Yt===void 0?void 0:Yt.y))&&this.emitCropAreaChange(),$t.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),$t.video!==this.props.video&&((Jt=this.videoRef.current)===null||Jt===void 0||Jt.load());var Zt=this.getObjectFit();Zt!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:Zt},this.computeSizes)},et.prototype.getAspect=function(){var $t=this.props,kt=$t.cropSize,Tt=$t.aspect;return kt?kt.width/kt.height:Tt},et.prototype.getObjectFit=function(){var $t,kt,Tt,Dt;if(this.props.objectFit==="cover"){var Ft=this.imageRef.current||this.videoRef.current;if(Ft&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var Ut=this.containerRect.width/this.containerRect.height,Ht=(($t=this.imageRef.current)===null||$t===void 0?void 0:$t.naturalWidth)||((kt=this.videoRef.current)===null||kt===void 0?void 0:kt.videoWidth)||0,Kt=((Tt=this.imageRef.current)===null||Tt===void 0?void 0:Tt.naturalHeight)||((Dt=this.videoRef.current)===null||Dt===void 0?void 0:Dt.videoHeight)||0,Yt=Ht/Kt;return Yt<Ut?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},et.prototype.onPinchStart=function($t){var kt=et.getTouchPoint($t.touches[0]),Tt=et.getTouchPoint($t.touches[1]);this.lastPinchDistance=getDistanceBetweenPoints(kt,Tt),this.lastPinchRotation=getRotationBetweenPoints(kt,Tt),this.onDragStart(getCenter(kt,Tt))},et.prototype.onPinchMove=function($t){var kt=this;if(!(!this.currentDoc||!this.currentWindow)){var Tt=et.getTouchPoint($t.touches[0]),Dt=et.getTouchPoint($t.touches[1]),Ft=getCenter(Tt,Dt);this.onDrag(Ft),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var Ut=getDistanceBetweenPoints(Tt,Dt),Ht=kt.props.zoom*(Ut/kt.lastPinchDistance);kt.setNewZoom(Ht,Ft,{shouldUpdatePosition:!1}),kt.lastPinchDistance=Ut;var Kt=getRotationBetweenPoints(Tt,Dt),Yt=kt.props.rotation+(Kt-kt.lastPinchRotation);kt.props.onRotationChange&&kt.props.onRotationChange(Yt),kt.lastPinchRotation=Kt})}},et.prototype.render=function(){var $t=this,kt,Tt=this.props,Dt=Tt.image,Ft=Tt.video,Ut=Tt.mediaProps,Ht=Tt.cropperProps,Kt=Tt.transform,Yt=Tt.crop,Jt=Yt.x,Zt=Yt.y,er=Tt.rotation,rr=Tt.zoom,sr=Tt.cropShape,ir=Tt.showGrid,nr=Tt.roundCropAreaPixels,or=Tt.style,lr=or.containerStyle,cr=or.cropAreaStyle,dr=or.mediaStyle,ur=Tt.classes,pr=ur.containerClassName,mr=ur.cropAreaClassName,vr=ur.mediaClassName,kr=(kt=this.state.mediaObjectFit)!==null&&kt!==void 0?kt:this.getObjectFit();return reactExports.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(_r){return $t.containerRef=_r},"data-testid":"container",style:lr,className:classNames("reactEasyCrop_Container",pr)},Dt?reactExports.createElement("img",__assign({alt:"",className:classNames("reactEasyCrop_Image",kr==="contain"&&"reactEasyCrop_Contain",kr==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",kr==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",vr)},Ut,{src:Dt,ref:this.imageRef,style:__assign(__assign({},dr),{transform:Kt||"translate(".concat(Jt,"px, ").concat(Zt,"px) rotate(").concat(er,"deg) scale(").concat(rr,")")}),onLoad:this.onMediaLoad})):Ft&&reactExports.createElement("video",__assign({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:classNames("reactEasyCrop_Video",kr==="contain"&&"reactEasyCrop_Contain",kr==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",kr==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",vr)},Ut,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:__assign(__assign({},dr),{transform:Kt||"translate(".concat(Jt,"px, ").concat(Zt,"px) rotate(").concat(er,"deg) scale(").concat(rr,")")}),controls:!1}),(Array.isArray(Ft)?Ft:[{src:Ft}]).map(function(br){return reactExports.createElement("source",__assign({key:br.src},br))})),this.state.cropSize&&reactExports.createElement("div",__assign({ref:this.cropperRef,style:__assign(__assign({},cr),{width:nr?Math.round(this.state.cropSize.width):this.state.cropSize.width,height:nr?Math.round(this.state.cropSize.height):this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:classNames("reactEasyCrop_CropArea",sr==="round"&&"reactEasyCrop_CropAreaRound",ir&&"reactEasyCrop_CropAreaGrid",mr)},Ht)))},et.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:MAX_ZOOM,minZoom:MIN_ZOOM,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:KEYBOARD_STEP},et.getMousePoint=function($t){return{x:Number($t.clientX),y:Number($t.clientY)}},et.getTouchPoint=function($t){return{x:Number($t.clientX),y:Number($t.clientY)}},et}(reactExports.Component);function DashboardSettings(){const{user:dt,setUser:et,refreshUser:$t}=useAuth(),kt=useLocation(),Tt=useNavigate(),[Dt,Ft]=reactExports.useState(null),[Ut,Ht]=reactExports.useState(null),[Kt,Yt]=reactExports.useState(!1),[Jt,Zt]=reactExports.useState((dt==null?void 0:dt.twofa_enabled)===1),[er,rr]=reactExports.useState(null),[sr,ir]=reactExports.useState(null),[nr,or]=reactExports.useState(""),[lr,cr]=reactExports.useState(!1),[dr,ur]=reactExports.useState(null),[pr,mr]=reactExports.useState({x:0,y:0}),[vr,kr]=reactExports.useState(1),[br,_r]=reactExports.useState(null),[Or,Pr]=reactExports.useState(!1);function Mr(Yr){let es;if(Yr instanceof ArrayBuffer)es=new Uint8Array(Yr);else if(ArrayBuffer.isView(Yr))es=new Uint8Array(Yr.buffer);else throw new Error("Invalid buffer type passed to bufferToBase64URL");let ns="";for(let ms=0;ms<es.length;ms++)ns+=String.fromCharCode(es[ms]);return btoa(ns).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}const Rr=async()=>{try{const Yr=await axiosInstance.post("/auth/user/enable-2fa");rr(Yr.data.qr),ir(Yr.data.secret),y$4.info("Scan the QR code with Google Authenticator or Authy.")}catch(Yr){console.error("2FA setup error:",Yr),y$4.error("Failed to start 2FA setup.")}},Tr=async()=>{if(!nr.trim())return y$4.warning("Enter the 6-digit code");cr(!0);try{const Yr=await axiosInstance.post("/auth/user/verify-login-2fa",{token:nr});Yr.data.success||Yr.data.verified?(Zt(!0),rr(null),ir(null),or(""),et({...dt,twofa_enabled:1}),localStorage.setItem("user",JSON.stringify({...dt,twofa_enabled:1})),y$4.success(" Two-Factor Authentication enabled!")):y$4.error("Invalid 2FA code. Try again.")}catch(Yr){console.error("2FA verify error:",Yr),y$4.error("Invalid or expired code.")}finally{cr(!1)}},xr=async()=>{var Yr,es,ns,ms;try{let ls=function(Ts){const Ns=new Uint8Array(Ts);let Ms="";for(let Us=0;Us<Ns.byteLength;Us++)Ms+=String.fromCharCode(Ns[Us]);return btoa(Ms).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")};const{data:ds}=await axiosInstance.post("/auth/webauthn/register-options",{email:dt.email}),fs=ds.challenge||((Yr=ds.publicKey)==null?void 0:Yr.challenge);if(!fs)throw new Error("Missing challenge from server response");const cs=Uint8Array.from(atob(fs.replace(/-/g,"+").replace(/_/g,"/")),Ts=>Ts.charCodeAt(0)),xs=((es=ds.user)==null?void 0:es.id)||((ms=(ns=ds.publicKey)==null?void 0:ns.user)==null?void 0:ms.id)||"",us=Uint8Array.from(xs,Ts=>Ts.charCodeAt(0)),$s=await navigator.credentials.create({publicKey:{...ds,challenge:cs,user:{...ds.user,id:us}}}),ks=ls($s.rawId),Ds={id:ks,rawId:ks,type:$s.type,response:{attestationObject:Mr($s.response.attestationObject),clientDataJSON:Mr($s.response.clientDataJSON)}},{data:Cs}=await axiosInstance.post("/auth/webauthn/register-verify",{email:dt.email,attResp:Ds});Cs.success?(y$4.success(" Passkey registered successfully!"),et({...dt,has_passkey:1}),localStorage.setItem("user",JSON.stringify({...dt,has_passkey:1}))):y$4.error("Passkey registration failed.")}catch(ls){console.error(" Passkey registration error:",ls),y$4.error("Passkey registration failed. Try again.")}},wr=async()=>{try{(await axiosInstance.post("/auth/webauthn/remove-passkey")).data.success?(y$4.info(" Passkey removed successfully."),et({...dt,has_passkey:0}),localStorage.setItem("user",JSON.stringify({...dt,has_passkey:0}))):y$4.warning("Failed to remove passkey. Try again.")}catch(Yr){console.error(" Passkey removal error:",Yr),y$4.error("Error removing passkey.")}};function zr(Yr,es,ns){const ms=Yr.getImageData(0,0,es,ns).data;for(let ls=3;ls<ms.length;ls+=4)if(ms[ls]<255)return!0;return!1}reactExports.useEffect(()=>{if(kt.search.includes("connected=true")){$t(),y$4.success(" Stripe account connected successfully!");const Yr=new URL(window.location);Yr.searchParams.delete("connected"),window.history.replaceState({},"",Yr)}},[kt.search]),reactExports.useEffect(()=>{if(!(dt!=null&&dt.id))return;(async()=>{try{const es=await axiosInstance.get(`/upload-data/user/settings/${dt.id}`);Ft(es.data.settings)}catch(es){console.error("Failed to load settings:",es),y$4.error("Failed to load brand settings.")}})()},[dt==null?void 0:dt.id]);const Hr=async()=>{if(!Ut)return y$4.warning("Crop and select an image first");try{Yt(!0);const Yr=new FileReader;Yr.onloadend=async()=>{const es=await axiosInstance.post("/upload-data/upload-avatar",{userId:dt.id,profileImage:Yr.result});if(es.data.profileImage){const ns={...dt,profile_image:es.data.profileImage,profile_image_url:es.data.profileImage};et(ns),localStorage.setItem("user",JSON.stringify(ns)),URL.revokeObjectURL(dr),y$4.success("Profile image updated!"),Ht(null)}},Yr.readAsDataURL(Ut)}catch{y$4.error("Upload failed")}finally{Yt(!1)}},Xr=(()=>{const Yr=[];return dt.plan==="business_builder_pack"&&dt.billing_type==="monthly"&&dt.pro_status==="active"?Yr.push({title:"Business Builder",planKey:"business_builder_pack_monthly",billing:"monthly",description:"Monthly plan with 15 lead magnet slots and full premium tools.",remainingSlots:dt.magnet_slots}):dt.plan==="business_builder_pack"&&dt.billing_type==="annual"&&dt.pro_status==="active"&&Yr.push({title:"Business Builder",planKey:"business_builder_pack_annual",billing:"annual",description:"Annual plan with 15 lead magnet slots and full premium tools.",remainingSlots:dt.magnet_slots}),dt.plan==="business_basic_builder"&&dt.basic_annual===1&&Yr.push({title:"Business Basic",planKey:"business_basic_builder",billing:"annual",description:"Annual basic plan with 7 lead magnet slots and core selling tools.",remainingSlots:dt.magnet_slots}),!dt.plan&&dt.has_free_magnet===1&&Yr.push({title:"Free Trial",planKey:"free",billing:"trial",description:"Your Free Trial includes 1 lead magnet slot and 7 day access.",expires:dt.free_trial_expires_at,remainingSlots:dt.magnet_slots}),dt.has_book===1&&Yr.push({title:"Authors Assistant",planKey:"assistant",billing:"one_time",description:"Create up to 750 pages with the AI Book Builder.",remainingPages:dt.book_slots}),Yr})(),rs=(dt==null?void 0:dt.pro_status)==="active"&&(dt==null?void 0:dt.plan)==="business_builder_pack";return jsxRuntimeExports.jsxs("div",{className:`
      flex justify-center w-full min-h-screen
      bg-dashboard-bg-light
      dark:bg-dashboard-bg-dark
      text-dashboard-text-light
      dark:text-dashboard-text-dark
  `,children:[jsxRuntimeExports.jsxs("div",{className:"w-full max-w-[900px] p-5",children:[jsxRuntimeExports.jsxs("div",{className:`
          mb-10 pb-6 border-b
          border-dashboard-border-light
          dark:border-dashboard-border-dark
  `,children:[jsxRuntimeExports.jsx("h1",{className:`
            text-3xl font-bold design-text normal-case
            text-dashboard-text-light
            dark:text-dashboard-text-dark
  `,children:"Brand Settings"}),jsxRuntimeExports.jsx("p",{className:`
            mt-2
            text-dashboard-muted-light
            dark:text-dashboard-muted-dark`,children:"Manage your brand tone and upload a reference file for AI generation."})]}),jsxRuntimeExports.jsxs("div",{className:`bg-dashboard-sidebar-light
        dark:bg-dashboard-sidebar-dark
        border border-dashboard-border-light
        dark:border-dashboard-border-dark rounded-2xl p-8 mb-10 shadow-lg`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsx("h2",{className:`text-xl font-semibold text-dashboard-text-light
            dark:text-dashboard-text-dark
`,children:"Your Plan"}),jsxRuntimeExports.jsxs("span",{className:`text-sm text-dashboard-muted-light
            dark:text-dashboard-muted-dark
`,children:[new Date().toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric"})," "]})]}),Xr.length>0?jsxRuntimeExports.jsx("div",{className:`grid gap-6 ${Xr.length===1?"grid-cols-1 place-items-center":"grid-cols-1 sm:grid-cols-2"}`,children:Xr.map((Yr,es)=>{let ns="Active",ms="text-green bg-green/10";return(Yr.planKey==="free"||Yr.billing==="trial")&&(ns="Free Trial",ms="text-amber-400 bg-amber-500/10"),Yr.planKey==="business_basic_builder"&&(ns="Basic",ms="text-emerald-400 bg-emerald-500/10"),Yr.billing==="trial"&&Yr.expires&&new Date(Yr.expires)<new Date&&(ns="Expired",ms="text-red-400 bg-red-400/10"),jsxRuntimeExports.jsxs("div",{className:`
                    relative flex flex-col justify-between transition-all
                    rounded-xl p-5 border shadow-inner
                    bg-dashboard-sidebar-light
                    dark:bg-dashboard-hover-dark
                    border-dashboard-border-light
                    dark:border-dashboard-border-dark
                    hover:shadow-[0_0_20px_rgba(0,255,170,0.15)]
`,children:[jsxRuntimeExports.jsx("span",{className:`text-xs font-semibold uppercase tracking-wide px-2 py-1 rounded-md mb-2 self-start ${ms}`,children:ns}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[Yr.planKey==="assistant"&&jsxRuntimeExports.jsxs("svg",{className:"w-6 h-6 text-hotPink",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 20l9-5-9-5-9 5 9 5z"}),jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 12l9-5-9-5-9 5 9 5z"})]}),Yr.planKey.startsWith("business_builder_pack")&&jsxRuntimeExports.jsx("svg",{className:"w-6 h-6 text-blue",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 10h11M9 21V3m12 7h-5a2 2 0 00-2 2v9"})}),Yr.planKey==="business_basic_builder"&&jsxRuntimeExports.jsx("svg",{className:"w-6 h-6 text-emerald-400",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v18m9-9H3"})}),jsxRuntimeExports.jsx("h3",{className:`text-lg font-semibold text-dashboard-text-light
                        dark:text-dashboard-text-dark
`,children:Yr.title})]}),jsxRuntimeExports.jsx("p",{className:`text-sm text-dashboard-muted-light
                    dark:text-dashboard-muted-dark
                      leading-relaxed`,children:Yr.description}),jsxRuntimeExports.jsxs("p",{className:`text-xs mt-2 text-dashboard-muted-light
                    dark:text-dashboard-muted-dark
`,children:[Yr.billing==="monthly"&&"Billed Monthly",Yr.billing==="annual"&&"Billed Annually",Yr.billing==="trial"&&`Trial Ends: ${new Date(Yr.expires).toLocaleDateString()}`,Yr.billing==="one_time"&&"One-Time Purchase"]}),Yr.planKey==="free"&&jsxRuntimeExports.jsx("button",{onClick:()=>window.location.href="/plans",className:`mt-4 px-5 py-2.5 bg-royalPurple 
                      text-dashboard-text-light
                        dark:text-dashboard-text-dark
                        font-semibold rounded-lg shadow-md hover:opacity-90 transition`,children:"Upgrade Plan"})]},es)})}):jsxRuntimeExports.jsx("p",{className:`text-dashboard-muted-light
            dark:text-dashboard-muted-dark
              text-sm text-center py-4`,children:"No active plan detected. Please contact support if this seems incorrect."})]}),jsxRuntimeExports.jsxs("div",{className:`bg-dashboard-sidebar-light
        dark:bg-dashboard-sidebar-dark
        border border-dashboard-border-light
        dark:border-dashboard-border-dark rounded-xl p-6 shadow-lg mt-8`,children:[jsxRuntimeExports.jsx("h2",{className:`text-lg font-semibold text-dashboard-text-light
          dark:text-dashboard-text-dark
`,children:"Profile Avatar"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-6 mt-4",children:[jsxRuntimeExports.jsx(Img,{src:dt==null?void 0:dt.profile_image,loader:jsxRuntimeExports.jsx("div",{className:`
                  w-20 h-20 rounded-full animate-pulse object-cover
                  border border-dashboard-border-light
                  dark:border-dashboard-border-dark
                  transition-opacity duration-300
`}),unloader:jsxRuntimeExports.jsx("img",{src:defaultImage,className:`
                  w-20 h-20 rounded-full object-cover
                  border border-dashboard-border-light
                  dark:border-dashboard-border-dark
`,alt:"avatar"}),decode:!0,alt:"avatar",className:"w-20 h-20 rounded-full object-cover border border-gray-700 transition-opacity duration-300"}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*",onChange:Yr=>{const es=Yr.target.files[0];es&&ur(URL.createObjectURL(es))},className:`w-full text-sm text-dashboard-text-light
              dark:text-dashboard-text-dark file:mr-3 file:py-2 file:px-4 
                   file:rounded-lg file:border-0 file:text-sm file:bg-white 
                   file:font-semibold hover:file:opacity-90`}),dr&&jsxRuntimeExports.jsxs("div",{className:"mt-6",children:[jsxRuntimeExports.jsx("div",{className:"relative w-full h-[260px] rounded-lg overflow-hidden bg-black/40",children:jsxRuntimeExports.jsx(Cropper,{image:dr,crop:pr,zoom:vr,aspect:1,cropShape:"round",showGrid:!1,onCropChange:mr,onZoomChange:kr,onCropComplete:(Yr,es)=>_r(es)})}),jsxRuntimeExports.jsx("input",{type:"range",min:1,max:3,step:.01,value:vr,onChange:Yr=>kr(Number(Yr.target.value)),className:"w-full mt-4"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3 mt-4",children:[jsxRuntimeExports.jsx("button",{disabled:Kt,className:"px-4 py-2 bg-green text-dashboard-bg-dark rounded font-semibold",onClick:async()=>{if(!br)return;const Yr=document.createElement("canvas"),es=Yr.getContext("2d"),ns=new Image;ns.crossOrigin="anonymous",ns.src=dr,await new Promise(ks=>ns.onload=ks);const{width:ms,height:ls,x:ds,y:fs}=br;Yr.width=ms,Yr.height=ls,es.clearRect(0,0,ms,ls),es.drawImage(ns,ds,fs,ms,ls,0,0,ms,ls);const cs=zr(es,ms,ls),xs=cs?"image/png":"image/jpeg",us=cs?void 0:.9,$s=await new Promise(ks=>Yr.toBlob(ks,xs,us));Ht($s),ur(null),mr({x:0,y:0}),kr(1)},children:"Use Image"}),jsxRuntimeExports.jsx("button",{className:`
                      px-4 py-2 rounded
                      bg-dashboard-hover-light
                      dark:bg-dashboard-hover-dark
                      text-dashboard-text-light
                      dark:text-dashboard-text-dark
`,onClick:()=>{URL.revokeObjectURL(dr),ur(null)},children:"Cancel"})]})]}),jsxRuntimeExports.jsx("button",{onClick:Hr,disabled:Kt,className:`mt-3 px-5 py-2 rounded-lg bg-green text-dashboard-bg-dark font-semibold 
                   hover:opacity-90 disabled:opacity-50 transition`,children:Kt?"Uploading...":"Upload Avatar"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:`bg-dashboard-sidebar-light
        dark:bg-dashboard-sidebar-dark
        border border-dashboard-border-light
        dark:border-dashboard-border-dark rounded-xl p-6 space-y-4 shadow-lg mt-8`,children:[jsxRuntimeExports.jsx("h2",{className:`text-lg font-semibold text-dashboard-text-light
          dark:text-dashboard-text-dark
`,children:"Two-Factor Authentication"}),jsxRuntimeExports.jsx("p",{className:`text-sm text-dashboard-muted-light
          dark:text-dashboard-muted-dark
`,children:"Add an extra layer of security to your Messy Attic account."}),Jt?jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("span",{className:"text-green font-semibold",children:" 2FA is enabled"}),jsxRuntimeExports.jsx("p",{className:`text-xs text-dashboard-muted-light
                dark:text-dashboard-muted-dark
`,children:"Your account is protected with two-factor authentication."})]}),jsxRuntimeExports.jsx("button",{onClick:async()=>{try{(await axiosInstance.post("/auth/user/disable-2fa")).data.success?(Zt(!1),et({...dt,twofa_enabled:0}),localStorage.setItem("user",JSON.stringify({...dt,twofa_enabled:0})),y$4.info("2FA has been disabled.")):y$4.error("Failed to disable 2FA. Try again.")}catch(Yr){console.error("Disable 2FA error:",Yr),y$4.error("Server error disabling 2FA.")}},className:`
                px-5 py-2
                bg-red-600 hover:bg-red-700
                text-white
                dark:text-dashboard-text-dark
                rounded-lg font-semibold transition
              `,children:"Disable 2FA"})]}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:er?jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[jsxRuntimeExports.jsx(_default,{value:er,size:160,bgColor:"#0B0F19",fgColor:"#00ffae"}),jsxRuntimeExports.jsx("p",{className:`text-xs text-dashboard-muted-light
                  dark:text-dashboard-muted-dark
                    text-center`,children:"Scan this code with your Authenticator app, then enter the 6-digit code below."}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Enter 6-digit code",value:nr,onChange:Yr=>or(Yr.target.value),className:`w-40 text-center py-2 px-3 rounded-md bg-dashboard-hover-light dark:bg-dashboard-hover-dark border border-dashboard-border-light dark:border-dashboard-border-dark text-dashboard-text-light
                  dark:text-dashboard-text-dark
                    focus:ring-2 focus:ring-green outline-none placeholder-dashboard-muted-light
  dark:placeholder-dashboard-muted-dark`}),jsxRuntimeExports.jsx("button",{onClick:Tr,disabled:lr,className:`px-5 py-2 rounded-lg font-semibold transition-all ${lr?"opacity-60 cursor-not-allowed bg-green-700":"bg-green text-dashboard-bg-dark hover:opacity-90"}`,children:lr?"Verifying...":"Verify 2FA Code"})]}):jsxRuntimeExports.jsx("button",{onClick:Rr,className:"mt-2 px-6 py-2.5 bg-green text-dashboard-bg-dark font-semibold rounded-lg hover:opacity-90 transition",children:"Enable 2FA"})})]}),jsxRuntimeExports.jsxs("div",{className:`bg-dashboard-sidebar-light
        dark:bg-dashboard-sidebar-dark
        border border-dashboard-border-light
        dark:border-dashboard-border-dark rounded-xl p-6 space-y-4  shadow-lg mt-8`,children:[jsxRuntimeExports.jsx("h2",{className:`text-lg font-semibold text-dashboard-text-light
          dark:text-dashboard-text-dark
`,children:"Passkey Authentication"}),jsxRuntimeExports.jsx("p",{className:`text-sm text-dashboard-muted-light
          dark:text-dashboard-muted-dark
`,children:"Securely sign in using Face ID, Touch ID, or your devices security key."}),dt!=null&&dt.has_passkey?jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("span",{className:"text-green font-semibold",children:" Passkey Registered"}),jsxRuntimeExports.jsx("p",{className:`text-xs text-dashboard-muted-light
                dark:text-dashboard-muted-dark
`,children:"You can now use Sign in with Passkey on the login screen."})]}),jsxRuntimeExports.jsx("button",{onClick:wr,className:`
                px-5 py-2
                bg-red-600 hover:bg-red-700
                text-white
                rounded-lg font-semibold transition
  `,children:"Remove Passkey"})]}):jsxRuntimeExports.jsx("button",{onClick:xr,className:`px-6 py-2.5 bg-blue text-white
            dark:text-dashboard-text-dark
            font-semibold rounded-lg hover:opacity-90 transition`,children:"Register Passkey"})]}),jsxRuntimeExports.jsxs("div",{className:`bg-dashboard-sidebar-light
        dark:bg-dashboard-sidebar-dark
        border border-dashboard-border-light
        dark:border-dashboard-border-dark rounded-xl p-6 shadow-lg mt-8`,children:[jsxRuntimeExports.jsx("h2",{className:`text-lg font-semibold text-dashboard-text-light
          dark:text-dashboard-text-dark
`,children:"Seller Payouts (Stripe Connect)"}),jsxRuntimeExports.jsx("p",{className:`text-sm text-dashboard-muted-light
          dark:text-dashboard-muted-dark mb-4`,children:"Connect Stripe to receive tips and future payouts."}),dt!=null&&dt.stripe_connected?jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("span",{className:"text-green font-semibold",children:" Connected"}),jsxRuntimeExports.jsx("p",{className:`text-xs text-dashboard-muted-light
                    dark:text-dashboard-muted-dark
`,children:"Your Stripe account is active and ready for payouts."})]}),jsxRuntimeExports.jsx("button",{onClick:()=>window.open("https://dashboard.stripe.com/express","_blank"),className:`
                    px-5 py-2
                    bg-blue hover:bg-blue/80
                    text-white
                    rounded-lg font-semibold transition
`,children:"Open Stripe Dashboard"})]}):dt!=null&&dt.stripe_connect_account_id?jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("span",{className:"text-yellow-400 font-semibold",children:" Pending Setup"}),jsxRuntimeExports.jsx("p",{className:`text-xs text-dashboard-muted-light
                    dark:text-dashboard-muted-dark
`,children:"Your Stripe account was created but not completed."})]}),jsxRuntimeExports.jsx("button",{onClick:async()=>{try{const{data:Yr}=await axiosInstance.post("/seller/create-account-link");Yr.url&&(window.location.href=Yr.url)}catch(Yr){console.error("Stripe connect error:",Yr),y$4.error("Failed to resume Stripe onboarding. Try again.")}},className:`px-6 py-2.5 bg-amber-500 text-dashboard-text-light
                    dark:text-dashboard-text-dark
                    font-semibold rounded-lg hover:opacity-90 transition`,children:"Complete Setup"})]}):jsxRuntimeExports.jsx("button",{onClick:async Yr=>{try{const{data:es}=await axiosInstance.post("/seller/create-account-link");es.url&&(window.location.href=es.url)}catch(es){console.error("Stripe connect error:",es),y$4.error("Failed to start Stripe onboarding. Try again.")}},className:`
                  px-6 py-2.5
                  font-semibold
                  rounded-lg
                  transition
                  bg-royalPurple
                  hover:opacity-90
                  text-dashboard-text-light
                  dark:text-dashboard-text-dark
                `,children:"Connect with Stripe"})]}),jsxRuntimeExports.jsxs("div",{className:`bg-dashboard-sidebar-light
        dark:bg-dashboard-sidebar-dark
        border border-dashboard-border-light
        dark:border-dashboard-border-dark rounded-xl p-6 shadow-lg mt-8 relative overflow-hidden`,children:[jsxRuntimeExports.jsx("h2",{className:`text-lg font-semibold text-dashboard-text-light
          dark:text-dashboard-text-dark
`,children:"Custom Domains"}),jsxRuntimeExports.jsx("p",{className:`text-sm text-dashboard-muted-light
          dark:text-dashboard-muted-dark mb-4`,children:"Connect your own domain to host landing pages on your brand."}),rs?jsxRuntimeExports.jsx("button",{onClick:()=>Tt("/settings/domains"),className:`px-6 py-2.5 bg-royalPurple text-white
            dark:text-dashboard-text-dark
            font-semibold rounded-lg hover:opacity-90 transition`,children:"Manage Custom Domains "}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm flex flex-col items-center justify-center text-center px-6",children:[jsxRuntimeExports.jsxs("p",{className:`
                  text-sm mb-4 max-w-[360px]
                  text-dashboard-text-dark
                  dark:text-dashboard-text-dark
  `,children:["available on the"," ",jsxRuntimeExports.jsx("span",{className:"text-green font-semibold",children:"Business Builder"})," ","plan only."]}),jsxRuntimeExports.jsx("button",{onClick:()=>Tt("/plans"),className:`px-6 py-2.5 bg-royalPurple text-dashboard-text-dark
                  dark:text-dashboard-text-dark
                  font-semibold rounded-lg hover:opacity-90 transition`,children:"Upgrade to Unlock"})]})})]}),jsxRuntimeExports.jsx("div",{className:`
          bg-dashboard-sidebar-light
          dark:bg-dashboard-sidebar-dark
          border border-dashboard-border-light
          dark:border-dashboard-border-dark
          rounded-xl p-6 space-y-4 shadow-lg mt-8
  `,children:dt!=null&&dt.has_book?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:`
                bg-dashboard-sidebar-light
                dark:bg-dashboard-sidebar-dark
                border border-dashboard-border-light
                dark:border-dashboard-border-dark
                rounded-xl p-6 shadow-lg mt-8
`,children:[jsxRuntimeExports.jsx("h2",{className:`text-lg font-semibold text-dashboard-text-light
                dark:text-dashboard-text-dark
                mb-2`,children:"Guided Tour"}),jsxRuntimeExports.jsx("p",{className:`text-sm text-dashboard-muted-light
                  dark:text-dashboard-muted-dark
                  mb-4`,children:"Replay the Book Builder onboarding walkthrough to revisit all key features."}),jsxRuntimeExports.jsx("button",{onClick:async()=>{try{await axiosInstance.post("/books/onboarding/replay",{},{headers:{Authorization:`Bearer ${dt==null?void 0:dt.accessToken}`}}),y$4.success(" Tour reset! It will replay next time you open Book Builder.")}catch(Yr){console.error(" Failed to reset onboarding:",Yr),y$4.error("Could not reset tour. Please try again.")}},className:`
                  px-5 py-2.5 rounded-lg
                  bg-bookBtnColor
                  text-black
                  font-semibold
                  hover:opacity-90
                  transition
                `,children:"Replay Book Tour"})]}),jsxRuntimeExports.jsxs("div",{className:`
                bg-dashboard-sidebar-light
                dark:bg-dashboard-sidebar-dark
                border border-dashboard-border-light
                dark:border-dashboard-border-dark
                rounded-xl p-6 shadow-lg mt-8
`,children:[jsxRuntimeExports.jsx("h2",{className:`text-lg font-semibold text-dashboard-text-light
                  dark:text-dashboard-text-dark
                  mb-2`,children:"ISBN Assistance"}),jsxRuntimeExports.jsx("p",{className:`text-sm text-dashboard-muted-light
                  dark:text-dashboard-muted-dark
                  mb-4 leading-relaxed`,children:"Need an ISBN for your book? The Messy Attic can guide you through the process. An ISBN (International Standard Book Number) identifies your book worldwide and is required for publishing on major retailers like Amazon, Apple Books, and Barnes & Noble."}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:()=>window.open("https://www.myidentifiers.com/","_blank"),className:"flex-1 bg-green text-dashboard-bg-dark font-semibold py-2.5 rounded-lg shadow-md hover:opacity-90 transition text-center",children:"Get ISBN from Bowker"}),jsxRuntimeExports.jsx("button",{onClick:()=>y$4.info("Our team will soon offer a Pro ISBN Concierge service directly inside The Messy Attic!"),className:"flex-1 bg-dashboard-hover-light dark:bg-dashboard-hover-dark text-dashboard-text-light dark:text-dashboard-text-dark font-semibold py-2.5 rounded-lg border border-dashboard-border-light dark:border-dashboard-border-dark hover:border-green hover:text-green transition",children:"Coming Soon: ISBN Concierge"})]}),jsxRuntimeExports.jsx("p",{className:`text-xs text-dashboard-muted-light
                  dark:text-dashboard-muted-dark
                  italic mt-3`,children:"Available for Assistant Plan users. Stay tuned for automated ISBN requests inside the dashboard."})]})]}):null})]}),jsxRuntimeExports.jsx(UpgradeRequiredModal,{open:Or,onClose:()=>Pr(!1)})]})}function Inbox(){const[dt,et]=reactExports.useState([]),[$t,kt]=reactExports.useState(null),[Tt,Dt]=reactExports.useState(!0),[Ft,Ut]=reactExports.useState(!1),[Ht,Kt]=reactExports.useState(!1);reactExports.useEffect(()=>{Yt()},[]);async function Yt(){try{const rr=await axiosInstance.get("/messages/user/");et(rr.data||[])}catch(rr){console.error("Failed to load messages:",rr),y$4.error("Failed to load inbox.")}finally{Dt(!1)}}async function Jt(rr){if(kt(rr),!rr.read_status)try{Ut(!0),await axiosInstance.post(`/messages/user/${rr.id}/read`),et(sr=>sr.map(ir=>ir.id===rr.id?{...ir,read_status:1}:ir))}catch(sr){console.error("Failed to mark message as read:",sr)}finally{Ut(!1)}}async function Zt(rr){y$4.dismiss(),y$4(({closeToast:sr})=>jsxRuntimeExports.jsxs("div",{className:"flex flex-col space-y-3 text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-100",children:"Are you sure you want to delete this message?"}),jsxRuntimeExports.jsxs("div",{className:"flex justify-center gap-3 mt-2",children:[jsxRuntimeExports.jsx("button",{onClick:async()=>{try{Kt(!0),await axiosInstance.delete(`/messages/user/user/${rr}`),et(ir=>ir.filter(nr=>nr.id!==rr)),kt(null),y$4.success("Message deleted successfully.",{position:"top-right",style:{background:"#0B0F19",color:"#E5E7EB",border:"1px solid #1F2937",borderRadius:"0.5rem"}})}catch(ir){console.error("Failed to delete message:",ir),y$4.error("Failed to delete message.",{position:"top-right",style:{background:"#0B0F19",color:"#E5E7EB",border:"1px solid #1F2937",borderRadius:"0.5rem"}})}finally{Kt(!1),sr()}},className:"px-4 py-2 bg-red-600 text-white rounded-md text-xs font-semibold hover:bg-red-700 transition",children:"Delete"}),jsxRuntimeExports.jsx("button",{onClick:sr,className:"px-4 py-2 bg-gray-700 text-gray-200 rounded-md text-xs font-semibold hover:bg-gray-600 transition",children:"Cancel"})]})]}),{position:"top-right",autoClose:!1,closeOnClick:!1,draggable:!1,hideProgressBar:!0,closeButton:!1,style:{background:"#0B0F19",border:"1px solid #1F2937",color:"#E5E7EB",borderRadius:"0.75rem",padding:"14px 18px",width:"340px",textAlign:"center",marginTop:"80px"}})}function er(){kt(null)}return jsxRuntimeExports.jsxs("div",{className:`
      w-full min-h-screen flex flex-col lg:flex-row
      bg-dashboard-bg-light
      dark:bg-dashboard-bg-dark
      text-dashboard-text-light
      dark:text-dashboard-text-dark
  `,children:[jsxRuntimeExports.jsxs("div",{className:`
        flex-1 lg:max-w-[380px] h-screen overflow-y-auto p-6
        border-r border-dashboard-border-light
        dark:border-dashboard-border-dark
        bg-dashboard-sidebar-light
        dark:bg-dashboard-sidebar-dark
  `,children:[jsxRuntimeExports.jsxs("div",{className:`
          border-b pb-4 mb-6 flex items-center justify-between
          border-dashboard-border-light
          dark:border-dashboard-border-dark
  `,children:[jsxRuntimeExports.jsx("h1",{className:"text-xl font-bold design-text normal-case",children:"Inbox"}),jsxRuntimeExports.jsx(Bell,{size:18,className:`
          text-dashboard-muted-light
          dark:text-green
  `})]}),Tt?jsxRuntimeExports.jsx("p",{className:"text-dashboard-muted-light dark:text-dashboard-muted-dark text-sm",children:"Loading messages..."}):dt.length===0?jsxRuntimeExports.jsx("p",{className:"text-dashboard-muted-light dark:text-dashboard-muted-dark text-sm",children:"No messages found."}):jsxRuntimeExports.jsx("ul",{className:"space-y-3",children:dt.map(rr=>jsxRuntimeExports.jsxs("li",{onClick:()=>Jt(rr),className:`cursor-pointer p-4 rounded-lg border transition-all duration-200 ${rr.id===($t==null?void 0:$t.id)?`
              bg-dashboard-hover-light
              dark:bg-dashboard-hover-dark
              border-dashboard-border-light
              dark:border-dashboard-border-dark
            `:rr.read_status?`
                bg-dashboard-sidebar-light
                dark:bg-dashboard-sidebar-dark
                border-dashboard-border-light
                dark:border-dashboard-border-dark
              `:`
                bg-dashboard-sidebar-light
                dark:bg-dashboard-sidebar-dark
                border-green
              `}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-1",children:[jsxRuntimeExports.jsx("h3",{className:`font-semibold truncate ${rr.read_status?"text-dashboard-muted-light dark:text-dashboard-muted-dark":"text-dashboard-text-light dark:text-dashboard-text-dark"}`,children:rr.title}),jsxRuntimeExports.jsx("span",{className:"text-xs text-dashboard-muted-light dark:text-dashboard-muted-dark",children:new Date(rr.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]}),jsxRuntimeExports.jsx("p",{className:`text-xs truncate ${rr.read_status?"text-dashboard-muted-light dark:text-dashboard-muted-dark":"text-dashboard-text-light dark:text-dashboard-text-dark"}`,children:rr.message}),!rr.read_status&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 mt-2 text-xs text-green font-semibold",children:[jsxRuntimeExports.jsx(CircleCheckBig,{size:12})," New"]})]},rr.id))})]}),jsxRuntimeExports.jsx("div",{className:`
        flex-1 p-6 overflow-y-auto h-screen
        bg-dashboard-bg-light
        dark:bg-dashboard-bg-dark
  `,children:$t?jsxRuntimeExports.jsxs("div",{className:"max-w-3xl mx-auto",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-between items-center mb-6",children:jsxRuntimeExports.jsxs("button",{onClick:er,className:`
                flex items-center gap-2 text-sm
                text-dashboard-muted-light
                dark:text-dashboard-muted-dark
                hover:text-dashboard-text-light
                dark:hover:text-dashboard-text-dark
`,children:[jsxRuntimeExports.jsx(ArrowLeft,{size:16})," Back to Inbox"]})}),jsxRuntimeExports.jsxs("div",{className:`
              rounded-2xl p-6 shadow-lg
              bg-dashboard-sidebar-light
              dark:bg-dashboard-sidebar-dark
              border border-dashboard-border-light
              dark:border-dashboard-border-dark
  `,children:[jsxRuntimeExports.jsxs("div",{className:`
                flex flex-col sm:flex-row sm:items-center sm:justify-between
                border-b border-dashboard-border-light
                dark:border-dashboard-border-dark
                pb-4 mb-4`,children:[jsxRuntimeExports.jsx("h2",{className:`text-2xl font-bold leading-tight
                text-dashboard-text-light
                dark:text-dashboard-text-dark
`,children:$t.title}),jsxRuntimeExports.jsxs("div",{className:`
                  flex items-center gap-2 text-sm mt-2 sm:mt-0
                  text-dashboard-muted-light
                  dark:text-dashboard-muted-dark
  `,children:[jsxRuntimeExports.jsx(Calendar,{size:14,className:"opacity-75 relative top-[1px]"}),new Date($t.created_at).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit"})]})]}),jsxRuntimeExports.jsx("p",{className:`
                text-sm leading-relaxed whitespace-pre-line
                text-dashboard-text-light
                dark:text-dashboard-text-dark
  `,children:$t.message}),jsxRuntimeExports.jsxs("div",{className:`
                mt-6 pt-4 flex items-center justify-between text-xs
                border-t border-dashboard-border-light
                dark:border-dashboard-border-dark
                text-dashboard-muted-light
                dark:text-dashboard-muted-dark
  `,children:[jsxRuntimeExports.jsxs("p",{children:["Sent by"," ",jsxRuntimeExports.jsx("span",{className:"text-green font-semibold",children:"Cre8tly Support"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>Zt($t.id),disabled:Ht,className:`flex items-center gap-2 text-sm px-3 py-1.5 rounded-md font-semibold transition-all ${Ht?"bg-red-900 text-dashboard-muted-dark opacity-60 cursor-not-allowed":"bg-red-600 hover:bg-red-700 text-white"}`,children:[jsxRuntimeExports.jsx(Trash2,{size:14}),Ht?"Deleting...":"Delete"]})]})]})]}):jsxRuntimeExports.jsxs("div",{className:`
            flex flex-col items-center justify-center h-full text-center
            text-dashboard-muted-light
            dark:text-dashboard-muted-dark`,children:[jsxRuntimeExports.jsx(Mail,{size:40,className:`
              mb-4
              text-dashboard-muted-light
              dark:text-dashboard-muted-dark
  `}),jsxRuntimeExports.jsx("p",{children:"Select a message to read"})]})})]})}function useMaintenance(){const[dt,et]=reactExports.useState(!1),[$t,kt]=reactExports.useState(!0);return reactExports.useEffect(()=>{async function Tt(){try{const{data:Dt}=await axiosInstance.get("/admin/settings/maintenance");et(Dt.maintenance)}catch{et(!1)}finally{kt(!1)}}Tt()},[]),{maintenance:dt,loading:$t}}function MaintenanceScreen(){return jsxRuntimeExports.jsxs("div",{className:"h-screen w-full flex flex-col items-center justify-center bg-[#0f0f10] text-white text-center px-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl sm:text-5xl font-bold mb-4",children:" Down for Maintenance"}),jsxRuntimeExports.jsxs("p",{className:"text-lg text-gray-400 max-w-md mb-8",children:["The Messy Attic is"," ",jsxRuntimeExports.jsx("span",{className:"text-yellow",children:"temporarily offline"})," while we make improvements.",jsxRuntimeExports.jsx("br",{}),"Well be back shortly, thank you for your patience."]}),jsxRuntimeExports.jsx("a",{href:"/",className:"px-6 py-3 bg-green hover:bg-emerald-600 text-black font-semibold rounded-lg shadow-md transition-all duration-200",children:"Return Home"}),jsxRuntimeExports.jsx("div",{className:"mt-10 text-sm text-gray-600",children:jsxRuntimeExports.jsxs("p",{children:[" ",new Date().getFullYear()," The Messy Attic"]})})]})}function adjustForLandingOverlay(dt,et="rgba(255,255,255,0.04)"){if(!dt)return"#000";if(dt.includes("linear-gradient"))return dt;const $t=dt.replace("#","");if($t.length!==6)return dt;const kt=parseInt($t.substring(0,2),16),Tt=parseInt($t.substring(2,4),16),Dt=parseInt($t.substring(4,6),16),Ft=et.match(/rgba?\(([^)]+)\)/);if(!Ft)return dt;const[Ut,Ht,Kt,Yt=1]=Ft[1].split(",").map(sr=>parseFloat(sr.trim())),Jt=Yt||.04,Zt=Math.round(Ut*Jt+kt*(1-Jt)),er=Math.round(Ht*Jt+Tt*(1-Jt)),rr=Math.round(Kt*Jt+Dt*(1-Jt));return`rgb(${Zt}, ${er}, ${rr})`}function HeadingBlock({block:dt,index:et,updateBlock:$t,openAIModal:kt,updateChildBlock:Tt,containerIndex:Dt}){return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("label",{className:"font-semibold text-sm mb-1",children:dt.type==="heading"?"Heading (H1)":dt.type==="subheading"?"Subheading (H2)":"Sub-Subheading (H3)"}),jsxRuntimeExports.jsx("div",{className:"pb-2",children:jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>kt({blockType:dt.type,blockIndex:et,containerIndex:Dt,updateChildBlock:Tt,currentText:dt.text,role:dt.aiRole||"body"}),onPointerDown:Ft=>Ft.stopPropagation(),className:`
      text-xs font-semibold px-3 py-1 rounded-md
      bg-royalPurple text-white
      hover:bg-royalPurple/80
      transition
    `,title:"Use AI to write or improve this copy",children:"AI"})}),jsxRuntimeExports.jsx("textarea",{rows:2,placeholder:dt.type==="heading"?"Enter your main headline":dt.type==="subheading"?"Enter your subheading":"Enter your supporting header",value:dt.text,onChange:Ft=>{const Ut=Ft.target.value;Ft.target.style.height="auto",Ft.target.style.height=`${Ft.target.scrollHeight}px`,Tt?Tt(et,"text",Ut):$t(et,"text",Ut)},onFocus:Ft=>Ft.stopPropagation(),onPointerDown:Ft=>Ft.stopPropagation(),onKeyDown:Ft=>Ft.stopPropagation(),className:`w-full mt-1 p-2 border border-gray-600 rounded-lg bg-black text-white 
                   focus:ring-2 focus:ring-green focus:border-gray-400 
                   placeholder-gray-400 leading-snug resize-none transition-all duration-200`,style:{minHeight:"3.5rem",lineHeight:"1.4"}}),jsxRuntimeExports.jsx("div",{className:"flex gap-2 mt-3",children:["left","center","right"].map(Ft=>jsxRuntimeExports.jsx("button",{type:"button",onClick:Ut=>{Ut.stopPropagation(),$t(et,"alignment",Ft)},className:`px-3 py-1 text-xs rounded border transition-all
              ${dt.alignment===Ft?"bg-green-600/20 border-green-500 text-green-400":"border-gray-600 text-gray-400 hover:border-gray-400"}
            `,children:Ft.charAt(0).toUpperCase()+Ft.slice(1)},Ft))})]})}function ListHeadingBlock({block:dt,index:et,updateBlock:$t,updateChildBlock:kt,openAIModal:Tt,containerIndex:Dt}){return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("label",{className:"font-semibold text-sm mb-1",children:"List Heading (bold line above bullet list)"}),jsxRuntimeExports.jsx("div",{className:"pb-2",children:jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>Tt({blockType:"list_heading",blockIndex:et,updateChildBlock:kt,containerIndex:Dt,currentText:dt.text,role:dt.aiRole||"body"}),onPointerDown:Ft=>Ft.stopPropagation(),className:`
      text-xs font-semibold px-3 py-1 rounded-md
      bg-royalPurple text-white
      hover:bg-royalPurple/80
      transition
    `,title:"Use AI to write or improve this copy",children:"AI"})}),jsxRuntimeExports.jsx("textarea",{rows:2,placeholder:"e.g. LABEL FOR YOUR BULLETED LISTS",value:dt.text,onChange:Ft=>{Ft.target.style.height="auto",Ft.target.style.height=`${Ft.target.scrollHeight}px`,$t(et,"text",Ft.target.value)},onFocus:Ft=>Ft.stopPropagation(),onPointerDown:Ft=>Ft.stopPropagation(),onKeyDown:Ft=>Ft.stopPropagation(),className:`w-full mt-1 p-2 border border-gray-600 rounded-lg bg-black text-white 
                   focus:ring-2 focus:ring-green focus:border-gray-400 
                   placeholder-gray-400 leading-snug resize-none transition-all duration-200`,style:{minHeight:"3.5rem",lineHeight:"1.4"}}),jsxRuntimeExports.jsx("div",{className:"flex gap-2 mt-3",children:["left","center","right"].map(Ft=>jsxRuntimeExports.jsx("button",{type:"button",onClick:Ut=>{Ut.stopPropagation(),$t(et,"alignment",Ft)},className:`px-3 py-1 text-xs rounded border transition-all
              ${dt.alignment===Ft?"bg-green-600/20 border-green-500 text-green-400":"border-gray-600 text-gray-400 hover:border-gray-400"}
            `,children:Ft.charAt(0).toUpperCase()+Ft.slice(1)},Ft))})]})}function ParagraphBlock({block:dt,index:et,updateBlock:$t,updateChildBlock:kt,openAIModal:Tt,containerIndex:Dt}){return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between mb-1",children:jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500",children:"Paragraph"})}),jsxRuntimeExports.jsx("div",{className:"pb-2",children:jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>Tt({blockType:"paragraph",blockIndex:et,updateChildBlock:kt,containerIndex:Dt,currentText:dt.text,role:dt.aiRole||"body"}),onPointerDown:Ft=>Ft.stopPropagation(),className:`
      text-xs font-semibold px-3 py-1 rounded-md
      bg-royalPurple text-white
      hover:bg-royalPurple/80
      transition
    `,title:"Use AI to write or improve this copy",children:"AI"})}),jsxRuntimeExports.jsx("textarea",{value:dt.text,onChange:Ft=>$t(et,"text",Ft.target.value),onFocus:Ft=>Ft.stopPropagation(),onPointerDown:Ft=>Ft.stopPropagation(),onKeyDown:Ft=>Ft.stopPropagation(),className:"w-full mt-1 p-2 border rounded h-24 bg-black text-white border-gray-600",placeholder:dt.bulleted?"Enter list items, one per line":"Enter your paragraph text"}),jsxRuntimeExports.jsxs("div",{className:"mt-3 flex items-center gap-4",children:[jsxRuntimeExports.jsxs("select",{value:dt.alignment||"left",onChange:Ft=>$t(et,"alignment",Ft.target.value),onFocus:Ft=>Ft.stopPropagation(),onPointerDown:Ft=>Ft.stopPropagation(),className:`appearance-none bg-black text-white border border-gray-600 rounded-md px-3 py-2 pr-8 
                     text-sm focus:ring-2 focus:ring-silver focus:outline-none cursor-pointer w-fit`,children:[jsxRuntimeExports.jsx("option",{value:"left",children:"Left"}),jsxRuntimeExports.jsx("option",{value:"center",children:"Center"}),jsxRuntimeExports.jsx("option",{value:"right",children:"Right"})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-400",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:dt.bulleted||!1,onChange:Ft=>$t(et,"bulleted",Ft.target.checked),onFocus:Ft=>Ft.stopPropagation(),onPointerDown:Ft=>Ft.stopPropagation(),className:"w-4 h-4 accent-green-500"}),"Bullet List"]})]})]})}function normalizeVideoUrl(dt){if(!dt)return"";const et=dt.trim();return et.includes("youtube.com/watch?v=")?`https://www.youtube.com/embed/${et.split("watch?v=")[1].split(/[?&]/)[0]}?rel=0&modestbranding=1`:et.includes("youtube.com/shorts/")?`https://www.youtube.com/embed/${et.split("shorts/")[1].split(/[?&]/)[0]}?rel=0&modestbranding=1`:et.includes("youtu.be/")?`https://www.youtube.com/embed/${et.split("youtu.be/")[1].split(/[?&]/)[0]}?rel=0&modestbranding=1`:et.includes("vimeo.com")&&!et.includes("player.vimeo.com")?`https://player.vimeo.com/video/${et.split("vimeo.com/")[1].split(/[?&]/)[0]}`:et}function VideoBlock({block:dt,index:et,updateBlock:$t}){return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-semibold text-gray-300 mb-1",children:"Video URL (YouTube or Vimeo)"}),jsxRuntimeExports.jsx("input",{type:"url",placeholder:"https://www.youtube.com/watch?v=xxxx",value:dt.url||"",onChange:kt=>$t(et,"url",kt.target.value),className:"w-full mb-3 p-2 rounded-md bg-[#0F172A] border border-gray-700 text-gray-100"}),jsxRuntimeExports.jsx("label",{className:"block text-sm font-semibold text-gray-300 mb-1",children:"Caption (optional)"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Enter caption text",value:dt.caption||"",onChange:kt=>$t(et,"caption",kt.target.value),className:"w-full mb-4 p-2 rounded-md bg-[#0F172A] border border-gray-700 text-gray-100"}),dt.url&&jsxRuntimeExports.jsx("div",{className:"mt-4",children:jsxRuntimeExports.jsx("iframe",{src:normalizeVideoUrl(dt.url),title:"Video Preview",className:"w-full aspect-video rounded-lg border border-gray-700 shadow-md",allow:"autoplay; fullscreen"})})]})}function DividerBlock({block:dt,index:et,updateBlock:$t}){return jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-2 mt-3",children:[jsxRuntimeExports.jsx("label",{children:"Height (px)"}),jsxRuntimeExports.jsx("input",{type:"number",value:dt.height||40,onChange:kt=>$t(et,"height",parseInt(kt.target.value)),className:"w-24 bg-gray-800 border border-gray-600 rounded px-2 py-1 text-white"}),jsxRuntimeExports.jsx("label",{children:"Line Color"}),jsxRuntimeExports.jsx("input",{type:"color",value:dt.color||"#FFFFFF",onChange:kt=>$t(et,"color",kt.target.value)}),jsxRuntimeExports.jsx("label",{children:"Style"}),jsxRuntimeExports.jsxs("select",{value:dt.style||"line",onChange:kt=>$t(et,"style",kt.target.value),className:"bg-gray-800 border border-gray-600 rounded px-2 py-1 text-white",children:[jsxRuntimeExports.jsx("option",{value:"line",children:"Line Divider"}),jsxRuntimeExports.jsx("option",{value:"space",children:"Spacer Only"})]})]})}const getLabelContrast=dt=>{if(!dt)return"#1f2937";const et=dt.replace("#",""),$t=parseInt(et.substring(0,2),16),kt=parseInt(et.substring(2,4),16),Tt=parseInt(et.substring(4,6),16);return($t*299+kt*587+Tt*114)/1e3>160?"#1f2937":"#f3f4f6"};function OfferBannerBlock({block:dt,index:et,updateBlock:$t,bgTheme:kt}){return jsxRuntimeExports.jsx("div",{className:"rounded-xl p-6 mt-3 border border-gray-700 bg-[#0b0f19]",children:jsxRuntimeExports.jsxs("div",{className:"rounded-lg p-6 mb-8",style:{background:kt,outline:"1px dashed rgba(255,255,255,0.15)"},children:[jsxRuntimeExports.jsxs("div",{className:"mt-20 text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-lg font-semibold mb-4",style:{color:dt.text_color||"#000000"},children:dt.text||" Limited Time Offer! Get your free eBook today!"}),dt.button_text&&jsxRuntimeExports.jsx("button",{className:"inline-block px-6 py-3 rounded-lg font-semibold shadow-lg transition-transform transform hover:scale-105",style:{background:dt.use_gradient?`linear-gradient(${dt.gradient_direction||"90deg"}, ${dt.gradient_start||"#F285C3"}, ${dt.gradient_end||"#7bed9f"})`:dt.bg_color||"#F285C3",color:dt.button_text_color||dt.text_color||"#ffffff",boxShadow:"0 4px 15px rgba(0,0,0,0.3)"},children:dt.button_text})]}),jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold",style:{color:getLabelContrast(dt.bg_color||kt)},children:"Banner Message"}),jsxRuntimeExports.jsx("textarea",{placeholder:" Limited Time Offer! Get your free eBook today!",value:dt.text||"",onChange:Tt=>$t(et,"text",Tt.target.value),className:"w-full p-2 border border-gray-600 rounded bg-black text-white mt-1 resize-none h-20"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold",style:{color:getLabelContrast(dt.bg_color||kt)},children:"Text Color"}),jsxRuntimeExports.jsx("input",{type:"color",value:dt.text_color||"#000000",onChange:Tt=>$t(et,"text_color",Tt.target.value),className:"w-10 h-10 rounded cursor-pointer color-circle"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-400",children:dt.text_color||"#ffffff"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mt-4",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold",style:{color:getLabelContrast(dt.bg_color||kt)},children:"Use Gradient Button"}),jsxRuntimeExports.jsx("input",{type:"checkbox",checked:dt.use_gradient||!1,onChange:Tt=>$t(et,"use_gradient",Tt.target.checked)})]}),dt.use_gradient?jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col",children:[jsxRuntimeExports.jsx("label",{className:"text-sm text-gray-400",children:"Start Color"}),jsxRuntimeExports.jsx("input",{type:"color",value:dt.gradient_start||"#F285C3",onChange:Tt=>$t(et,"gradient_start",Tt.target.value),className:"w-full h-10 rounded cursor-pointer color-circle"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col",children:[jsxRuntimeExports.jsx("label",{className:"text-sm text-gray-400",children:"End Color"}),jsxRuntimeExports.jsx("input",{type:"color",value:dt.gradient_end||"#7bed9f",onChange:Tt=>$t(et,"gradient_end",Tt.target.value),className:"w-full h-10 rounded cursor-pointer color-circle"})]}),jsxRuntimeExports.jsxs("div",{className:"col-span-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm text-gray-400",children:"Direction"}),jsxRuntimeExports.jsxs("select",{value:dt.gradient_direction||"90deg",onChange:Tt=>$t(et,"gradient_direction",Tt.target.value),className:"w-full p-2 border border-gray-600 rounded bg-black text-white",children:[jsxRuntimeExports.jsx("option",{value:"90deg",children:"Left  Right"}),jsxRuntimeExports.jsx("option",{value:"180deg",children:"Top  Bottom"}),jsxRuntimeExports.jsx("option",{value:"45deg",children:"Diagonal "}),jsxRuntimeExports.jsx("option",{value:"135deg",children:"Diagonal "})]})]})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold mt-3",style:{color:getLabelContrast(dt.bg_color||kt)},children:"Solid Button Color"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[jsxRuntimeExports.jsx("input",{type:"color",value:dt.bg_color||"#F285C3",onChange:Tt=>$t(et,"bg_color",Tt.target.value),className:"color-circle"}),jsxRuntimeExports.jsx("div",{className:"w-24",children:jsxRuntimeExports.jsx("input",{type:"text",value:(dt.bg_color||"#F285C3").toUpperCase(),onChange:Tt=>{const Dt=Tt.target.value.toUpperCase();$t(et,"bg_color",Dt)},className:"w-full text-xs bg-black border border-gray-700 rounded px-2 py-1 text-gray-300",placeholder:"#F285C3"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 mt-4 mb-4",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold",style:{color:getLabelContrast(dt.bg_color||kt)},children:"Button Text Color"}),jsxRuntimeExports.jsx("input",{type:"color",value:dt.button_text_color||"#ffffff",onChange:Tt=>$t(et,"button_text_color",Tt.target.value),className:"w-10 h-10 rounded cursor-pointer color-circle"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-400",children:dt.button_text_color})]}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Claim Offer",value:dt.button_text||"",onChange:Tt=>$t(et,"button_text",Tt.target.value),className:"w-full p-2 border border-gray-600 rounded bg-black text-white"}),jsxRuntimeExports.jsxs("div",{className:"mt-5",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold",style:{color:getLabelContrast(dt.bg_color||kt)},children:"Offer Type"}),jsxRuntimeExports.jsxs("div",{className:"relative w-full",children:[jsxRuntimeExports.jsxs("select",{value:dt.offer_type||"free",onChange:Tt=>$t(et,"offer_type",Tt.target.value),className:"w-full p-2 pr-10 border border-gray-600 rounded bg-black text-white appearance-none",children:[jsxRuntimeExports.jsx("option",{value:"free",children:"Email Download"}),jsxRuntimeExports.jsx("option",{value:"paid",children:"Stripe Checkout"})]}),jsxRuntimeExports.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-300",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",className:"w-4 h-4",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})})]})]})]})})}function CalendlyBlock({block:dt,index:et,updateBlock:$t}){return jsxRuntimeExports.jsxs("div",{className:"rounded-xl p-6 mt-3 shadow-inner bg-[#0F172A]/60 border border-gray-700 transition-all duration-300",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300",children:"Calendly URL"}),jsxRuntimeExports.jsx("input",{type:"url",placeholder:"https://calendly.com/yourname/meeting",value:dt.calendly_url||"",onChange:kt=>$t(et,"calendly_url",kt.target.value),className:"w-full p-2 border border-gray-600 rounded bg-black text-white mt-1"}),jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300 mt-4",children:"Section Title"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Book a Call",value:dt.title||"",onChange:kt=>$t(et,"title",kt.target.value),className:"w-full p-2 border border-gray-600 rounded bg-black text-white mt-1"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300",children:"Title Color"}),jsxRuntimeExports.jsx("input",{type:"color",value:dt.title_color||"#FFFFFF",onChange:kt=>$t(et,"title_color",kt.target.value),className:"w-10 h-10 rounded cursor-pointer color-circle"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-400",children:dt.title_color||"#FFFFFF"})]}),jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300 mt-4",children:"Embed Height (px)"}),jsxRuntimeExports.jsx("input",{type:"number",min:"400",max:"1200",step:"10",placeholder:"700",value:dt.height||700,onChange:kt=>$t(et,"height",parseInt(kt.target.value,10)),className:"w-full p-2 border border-gray-600 rounded bg-black text-white mt-1"})]})}function SocialLinksBlock({block:dt,index:et,updateBlock:$t}){const kt=!!dt.show_borders,Tt=["instagram","threads","twitter","youtube","linkedin","facebook","tiktok","pinterest","substack"],Dt={instagram:"https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/instagram.svg",threads:"https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/threads.svg",twitter:"https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/x.svg",youtube:"https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/youtube.svg",linkedin:"https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/linkedin.svg",facebook:"https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/facebook.svg",tiktok:"https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/tiktok.svg",pinterest:"https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/pinterest.svg",substack:"https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/substack.svg"};return jsxRuntimeExports.jsxs("div",{className:"rounded-xl p-6 mt-3 bg-[#1f2937] border border-gray-700",children:[jsxRuntimeExports.jsx("h3",{className:"text-white font-semibold mb-3",children:"Social Links Row"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:Tt.map(Ft=>{var Ut;return jsxRuntimeExports.jsx("input",{type:"url",placeholder:`${Ft.charAt(0).toUpperCase()+Ft.slice(1)} URL`,value:((Ut=dt.links)==null?void 0:Ut[Ft])||"",onChange:Ht=>$t(et,"links",{...dt.links,[Ft]:Ht.target.value}),className:"w-full p-2 rounded bg-black text-white text-sm border border-gray-700 placeholder-gray-400"},Ft)})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mt-4",children:[jsxRuntimeExports.jsx("label",{className:"text-sm text-gray-300",children:"Alignment"}),jsxRuntimeExports.jsxs("select",{value:dt.alignment||"center",onChange:Ft=>$t(et,"alignment",Ft.target.value),className:"p-2 bg-black border border-gray-700 rounded text-white text-sm",children:[jsxRuntimeExports.jsx("option",{value:"left",children:"Left"}),jsxRuntimeExports.jsx("option",{value:"center",children:"Center"}),jsxRuntimeExports.jsx("option",{value:"right",children:"Right"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mt-4",children:[jsxRuntimeExports.jsx("label",{className:"text-sm text-gray-300",children:"Icon Style"}),jsxRuntimeExports.jsxs("select",{value:dt.icon_style||"color",onChange:Ft=>{const Ut=Ft.target.value;$t(et,"icon_style",Ut),Ut!=="mono"&&$t(et,"show_borders",!1)},className:"p-2 bg-black border border-gray-700 rounded text-white text-sm",children:[jsxRuntimeExports.jsx("option",{value:"color",children:"Full Color"}),jsxRuntimeExports.jsx("option",{value:"mono",children:"Monochrome"})]})]}),dt.icon_style==="mono"&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mt-4",children:[jsxRuntimeExports.jsx("label",{className:"text-sm text-gray-300",children:"Icon Borders"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>$t(et,"show_borders",!kt),className:`px-4 py-2 rounded-md text-sm border transition
        ${kt?"bg-white text-black border-white":"bg-black text-white border-gray-700"}`,children:kt?"On":"Off"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center mt-4",children:[jsxRuntimeExports.jsx("label",{className:"text-sm text-gray-300 w-32",children:"Icon Color"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("input",{type:"color",value:dt.icon_color||"#ffffff",onChange:Ft=>$t(et,"icon_color",Ft.target.value),className:"w-10 h-10 rounded border border-gray-600 cursor-pointer"}),jsxRuntimeExports.jsx("input",{type:"text",value:dt.icon_color||"#ffffff",onChange:Ft=>{const Ut=Ft.target.value;/^#([0-9A-Fa-f]{0,6})$/.test(Ut)&&$t(et,"icon_color",Ut)},placeholder:"#ffffff",className:"w-24 p-2 rounded bg-black text-white text-sm border border-gray-700 placeholder-gray-500"})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-6",children:[jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-400 mb-2 tracking-wide",children:"Live Preview"}),jsxRuntimeExports.jsx("div",{className:"rounded-xl border border-white/10 bg-black/20 px-6 py-5",children:jsxRuntimeExports.jsx("div",{className:"flex items-center gap-4 flex-wrap",style:{justifyContent:dt.alignment==="center"?"center":dt.alignment==="right"?"flex-end":"flex-start"},children:Object.entries(dt.links||{}).filter(([Ft,Ut])=>Ut).map(([Ft],Ut)=>{const Ht=dt.icon_style==="mono"?"rgba(255,255,255,0.75)":dt.icon_color||"#ffffff";return jsxRuntimeExports.jsx("div",{title:Ft,className:"flex items-center justify-center cursor-pointer transition-all duration-200 hover:scale-110 hover:opacity-90 hover:shadow-[0_0_12px_rgba(255,255,255,0.35)]",style:{width:kt?34:26,height:kt?34:26,borderRadius:kt?10:0,border:kt?`1.25px solid ${Ht}`:"none"},children:jsxRuntimeExports.jsx("div",{style:{width:20,height:20,WebkitMask:`url(${Dt[Ft]}) no-repeat center / contain`,mask:`url(${Dt[Ft]}) no-repeat center / contain`,backgroundColor:Ht}})},Ft)})})})]})]})}function VerifiedReviewsBlock({block:dt,index:et,updateBlock:$t}){return jsxRuntimeExports.jsxs("div",{className:"rounded-xl p-6 mt-3 bg-[#0F172A]/60 border border-gray-700",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-silver mb-4",children:"Verified Reviews"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300",children:"Show Reviews Section"}),jsxRuntimeExports.jsx("input",{type:"checkbox",checked:dt.enabled!==!1,onChange:kt=>$t(et,"enabled",kt.target.checked)})]}),jsxRuntimeExports.jsx("div",{className:"mt-4 p-3 rounded bg-black/40 text-xs text-gray-400",children:"This section automatically displays verified customer reviews. Styling and layout are managed by the system. This will not show in preview panel."}),jsxRuntimeExports.jsxs("div",{className:"mt-4",children:[jsxRuntimeExports.jsxs("label",{className:"text-sm font-semibold text-gray-300",children:["Reviews Text Color",jsxRuntimeExports.jsx("span",{className:"block text-xs font-normal text-gray-400 mt-1",children:"Used only for the reviews section on the live page"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[jsxRuntimeExports.jsx("input",{type:"color",value:dt.reviews_text_color||"#000000",onChange:kt=>$t(et,"reviews_text_color",kt.target.value),className:"w-8 h-8 border border-gray-600 rounded cursor-pointer bg-transparent"}),jsxRuntimeExports.jsx("input",{type:"text",value:dt.reviews_text_color||"",onChange:kt=>{const Tt=kt.target.value;/^#?[0-9A-Fa-f]{0,6}$/.test(Tt)&&$t(et,"reviews_text_color",Tt.startsWith("#")?Tt:`#${Tt}`)},placeholder:"#000000",className:"w-24 px-2 py-1 text-xs bg-black text-white border border-gray-600 rounded"})]})]})]})}function CountdownTimerPreview({targetDate:dt,variant:et="minimal",bgTheme:$t,glowColor:kt,textColor:Tt}){const[Dt,Ft]=reactExports.useState("");reactExports.useEffect(()=>{if(!dt)return;const er=setInterval(()=>{const rr=new Date,ir=new Date(dt)-rr;if(ir<=0){Ft("00:00:00:00"),clearInterval(er);return}const nr=Math.floor(ir/(1e3*60*60*24)),or=Math.floor(ir/(1e3*60*60)%24),lr=Math.floor(ir/(1e3*60)%60),cr=Math.floor(ir/1e3%60);Ft(`${String(nr).padStart(2,"0")}:${String(or).padStart(2,"0")}:${String(lr).padStart(2,"0")}:${String(cr).padStart(2,"0")}`)},1e3);return()=>clearInterval(er)},[dt]);const Ht=(()=>!$t||$t.includes("emerald")?"#10b981":$t.includes("royal")||$t.includes("purple")?"#8b5cf6":$t.includes("pink")||$t.includes("rose")?"#ec4899":$t.includes("yellow")||$t.includes("amber")?"#facc15":$t.includes("blue")?"#3b82f6":$t.includes("red")?"#ef4444":"#10b981")(),Kt=Tt,Yt=kt||Ht,Jt="font-mono tracking-widest transition-all duration-500 inline-block",Zt={minimal:"text-3xl",boxed:"text-3xl bg-[#0f172a] border border-gray-700 px-6 py-3 rounded-lg shadow-md",glow:"text-3xl animate-pulse"};return jsxRuntimeExports.jsx("div",{className:`${Jt} ${Zt[et]||Zt.minimal}`,style:{color:Kt,...et==="glow"?{textShadow:`
          0 0 6px ${Yt},
          0 0 14px ${Yt},
          0 0 28px ${Yt}
        `}:{}},children:Dt||"00:00:00:00"})}function CountdownBlock({block:dt,index:et,updateBlock:$t}){const kt={minimal:"border-gray-700 bg-transparent",boxed:"bg-black/60 border border-gray-600 shadow-md",glow:"bg-black/70 border border-green/50 shadow-[0_0_20px_rgba(34,197,94,0.35)]"};return jsxRuntimeExports.jsxs("div",{className:"rounded-xl p-6 mt-3 bg-[#0F172A]/60 border border-gray-700 transition-all duration-300",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-silver mb-4",children:"Countdown Timer Settings"}),jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300",children:"Headline Text"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Offer Ends In:",value:dt.text||"",onChange:Tt=>$t(et,"text",Tt.target.value),className:"w-full p-2 border border-gray-600 rounded bg-black text-white mt-1"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mt-4",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300",children:"Text Color"}),jsxRuntimeExports.jsx("input",{type:"color",value:dt.text_color||"#FFFFFF",onChange:Tt=>$t(et,"text_color",Tt.target.value),className:"w-10 h-10 rounded cursor-pointer border border-gray-600"}),jsxRuntimeExports.jsx("input",{type:"text",value:dt.text_color||"",onChange:Tt=>{const Dt=Tt.target.value;/^#?[0-9A-Fa-f]{0,6}$/.test(Dt)&&$t(et,"text_color",Dt.startsWith("#")?Dt:`#${Dt}`)},placeholder:"#ffffff",className:"w-24 flex-none px-2 py-1 text-xs bg-black text-white border border-gray-600 rounded"})]}),dt.style_variant==="glow"&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mt-4",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300",children:"Glow Color"}),jsxRuntimeExports.jsx("input",{type:"color",value:dt.glow_color||"#10b981",onChange:Tt=>$t(et,"glow_color",Tt.target.value),className:"w-10 h-10 rounded cursor-pointer border border-gray-600"}),jsxRuntimeExports.jsx("input",{type:"text",value:dt.glow_color||"",onChange:Tt=>{const Dt=Tt.target.value;/^#?[0-9A-Fa-f]{0,6}$/.test(Dt)&&$t(et,"glow_color",Dt.startsWith("#")?Dt:`#${Dt}`)},placeholder:"#10b981",className:"w-24 flex-none px-2 py-1 text-xs bg-black text-white border border-gray-600 rounded"})]}),jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300 mt-4 block",children:"Target Date & Time"}),jsxRuntimeExports.jsx("input",{type:"datetime-local",value:dt.target_date?new Date(dt.target_date).toISOString().slice(0,16):"",onChange:Tt=>{const Dt=new Date(Tt.target.value).toISOString();$t(et,"target_date",Dt)},onFocus:Tt=>Tt.stopPropagation(),onPointerDown:Tt=>Tt.stopPropagation(),onClick:Tt=>{var Dt,Ft;Tt.stopPropagation(),(Ft=(Dt=Tt.currentTarget).showPicker)==null||Ft.call(Dt)},className:"w-full mt-1 p-2 border border-gray-600 rounded bg-black text-white"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mt-4",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300",children:"Alignment"}),jsxRuntimeExports.jsxs("select",{value:dt.alignment||"center",onChange:Tt=>$t(et,"alignment",Tt.target.value),className:"p-2 bg-black border border-gray-700 rounded text-white text-sm",children:[jsxRuntimeExports.jsx("option",{value:"left",children:"Left"}),jsxRuntimeExports.jsx("option",{value:"center",children:"Center"}),jsxRuntimeExports.jsx("option",{value:"right",children:"Right"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mt-4",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300",children:"Style"}),jsxRuntimeExports.jsxs("select",{value:dt.style_variant||"minimal",onChange:Tt=>$t(et,"style_variant",Tt.target.value),className:"p-2 bg-black border border-gray-700 rounded text-white text-sm",children:[jsxRuntimeExports.jsx("option",{value:"minimal",children:"Minimal"}),jsxRuntimeExports.jsx("option",{value:"boxed",children:"Boxed"}),jsxRuntimeExports.jsx("option",{value:"glow",children:"Neon Glow"})]})]}),jsxRuntimeExports.jsxs("div",{className:`
    mt-6
    p-4
    rounded-lg
    text-center
    transition-all
    duration-300
    ${kt[dt.style_variant||"minimal"]}
  `,style:{color:dt.text_color||"#FFFFFF"},children:[jsxRuntimeExports.jsx("p",{className:"font-semibold mb-2",children:dt.text}),jsxRuntimeExports.jsx(CountdownTimerPreview,{targetDate:dt.target_date,variant:dt.style_variant,textColor:dt.text_color||"#FFFFFF",glowColor:dt.glow_color})]})]})}function StripeCheckoutBlock({block:dt,index:et,updateBlock:$t,pdfList:kt,bgTheme:Tt,landing:Dt}){const[Ft,Ut]=reactExports.useState(!1),Ht=dt.product_source||"internal",Kt=!!dt.pdf_url||!!dt.external_file_url;return jsxRuntimeExports.jsxs("div",{className:"rounded-xl p-6 mt-3 bg-[#0F172A]/60 border border-gray-700 transition-all duration-300",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-silver mb-4",children:"Stripe Checkout Button"}),jsxRuntimeExports.jsxs("div",{className:"mt-6 mb-12 p-6 text-center border border-gray-700 rounded-lg",style:{textAlign:dt.alignment,background:dt.match_main_bg?adjustForLandingOverlay(Tt):Tt||"#0F172A"},children:[jsxRuntimeExports.jsx("button",{disabled:!Kt,style:{pointerEvents:Kt?"auto":"none",background:dt.button_color||"#10b981",color:dt.text_color||"#000000"},className:`px-6 py-3 rounded-lg font-semibold shadow-lg transition-transform
    ${Kt?"hover:scale-105":"opacity-50 cursor-not-allowed"}
  `,children:dt.button_text||"Buy & Download Book"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 mt-2",children:Kt?`$${Number(dt.price)>0?Number(dt.price).toFixed(2):"10.00"}`:"Select a product to enable checkout"})]}),dt.external_file_url&&jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Uploaded File:",jsxRuntimeExports.jsx("a",{href:dt.external_file_url,target:"_blank",rel:"noopener noreferrer",className:"text-green underline ml-1",children:"Preview File"})]}),jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300",children:"Product Source"}),jsxRuntimeExports.jsxs("select",{value:Ht,onChange:Yt=>{const Jt=Yt.target.value;$t(et,"product_source",Jt),Jt==="internal"&&($t(et,"external_file_url",""),$t(et,"external_file_name","")),Jt==="external"&&$t(et,"pdf_url","")},className:"w-full p-2 border border-gray-600 rounded bg-black text-white mt-1",children:[jsxRuntimeExports.jsx("option",{value:"",disabled:!0,children:"Select product source"}),jsxRuntimeExports.jsx("option",{value:"internal",children:"The Messy Attic Product"}),jsxRuntimeExports.jsx("option",{value:"external",children:"Upload Existing Product"})]}),dt.product_source==="internal"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300",children:"Select Book to Sell"}),jsxRuntimeExports.jsxs("select",{value:dt.pdf_url||"",onChange:Yt=>$t(et,"pdf_url",Yt.target.value),className:"w-full p-2 border border-gray-600 rounded bg-black text-white mt-1",children:[jsxRuntimeExports.jsx("option",{value:"",children:"-- Select a Completed Book --"}),kt==null?void 0:kt.filter(Yt=>Yt.status==="completed"&&Yt.pdf_url).map(Yt=>jsxRuntimeExports.jsxs("option",{value:Yt.pdf_url,children:[Yt.title||"Untitled Book","  (Ready)"]},Yt.id))]})]}),dt.product_source==="external"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300 mt-4",children:"Upload Your Product"}),jsxRuntimeExports.jsx("input",{type:"file",accept:".pdf,.zip",onChange:async Yt=>{var Zt,er,rr,sr;const Jt=(Zt=Yt.target.files)==null?void 0:Zt[0];if(Jt&&!Ft){Ut(!0);try{if(!["application/pdf","application/zip"].includes(Jt.type)){alert("Only Book or ZIP files are allowed");return}const ir=new FormData;ir.append("file",Jt),ir.append("landingId",Dt.id),ir.append("blockId",dt.id);const or=(await axiosInstance.post("/landing/upload-product",ir,{headers:{"Content-Type":"multipart/form-data"}})).data;if(!(or!=null&&or.success)){console.error(" Upload failed:",or),alert((or==null?void 0:or.message)||"Upload failed");return}$t(et,"product_source","external"),$t(et,"external_file_url",or.url),$t(et,"external_file_name",or.file_name||Jt.name),Yt.target.value=""}catch(ir){console.error(" Upload error:",((er=ir.response)==null?void 0:er.data)||ir.message),alert(((sr=(rr=ir.response)==null?void 0:rr.data)==null?void 0:sr.message)||"Upload failed")}finally{Ut(!1)}}},disabled:Ft,className:`w-full p-2 bg-black border border-gray-700 rounded text-white
    ${Ft?"opacity-50 cursor-not-allowed":""}
  `}),dt.external_file_url&&jsxRuntimeExports.jsxs("p",{className:"text-xs text-green mt-2",children:["Uploaded: ",dt.external_file_name]})]}),dt.pdf_url&&jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Selected File:",jsxRuntimeExports.jsx("a",{href:dt.pdf_url,target:"_blank",rel:"noopener noreferrer",className:"text-green underline ml-1",children:"Preview Book"})]}),jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300 mt-4 block",children:"Button Label"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Buy & Download Book",value:dt.button_text||"",onChange:Yt=>$t(et,"button_text",Yt.target.value),className:"w-full p-2 border border-gray-600 rounded bg-black text-white mt-1"}),jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300 mt-4 block",children:"Price (USD)"}),jsxRuntimeExports.jsx("input",{type:"text",inputMode:"decimal",value:dt.price??"",onChange:Yt=>$t(et,"price",Yt.target.value),className:"w-full p-2 border border-gray-600 rounded bg-black text-white mt-1"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:gap-8 mt-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300",children:"Button Background"}),jsxRuntimeExports.jsx("input",{type:"color",value:dt.button_color||"#10b981",onChange:Yt=>$t(et,"button_color",Yt.target.value),className:"w-8 h-8 rounded cursor-pointer border border-gray-600"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Enter hex",value:dt.button_color||"",onChange:Yt=>$t(et,"button_color",Yt.target.value),className:"flex-1 p-2 rounded bg-black text-white border border-gray-700 text-sm"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-400",children:dt.button_color})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mt-3 sm:mt-0",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300",children:"Text Color"}),jsxRuntimeExports.jsx("input",{type:"color",value:dt.text_color||"#000000",onChange:Yt=>$t(et,"text_color",Yt.target.value),className:"w-8 h-8 rounded cursor-pointer border border-gray-600"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-400",children:dt.text_color}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Enter hex",value:dt.text_color||"",onChange:Yt=>$t(et,"text_color",Yt.target.value),className:"flex-1 p-2 rounded bg-black text-white border border-gray-700 text-sm"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mt-4",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300",children:"Alignment"}),jsxRuntimeExports.jsxs("select",{value:dt.alignment||"center",onChange:Yt=>$t(et,"alignment",Yt.target.value),className:"p-2 bg-black border border-gray-700 rounded text-white text-sm",children:[jsxRuntimeExports.jsx("option",{value:"left",children:"Left"}),jsxRuntimeExports.jsx("option",{value:"center",children:"Center"}),jsxRuntimeExports.jsx("option",{value:"right",children:"Right"})]})]})]})}function ReferralButtonBlock({block:dt,index:et,updateBlock:$t}){return jsxRuntimeExports.jsxs("div",{className:"rounded-xl p-6 mt-3 bg-[#0F172A]/60 border border-gray-700 transition-all duration-300",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-silver mb-4",children:"Referral Signup Button"}),jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300",children:"Button Label"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Sign Up Now",value:dt.button_text||"",onChange:kt=>{const Tt=kt.target.value;$t(et,"button_text",Tt),$t(et,"text",Tt)},className:"w-full p-2 border border-gray-600 rounded bg-black text-white mt-1"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:gap-8 mt-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300",children:"Button Background"}),jsxRuntimeExports.jsx("input",{type:"color",value:dt.button_color||"#10b981",onChange:kt=>$t(et,"button_color",kt.target.value),className:"w-8 h-8 rounded cursor-pointer border border-gray-600"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-400",children:dt.button_color||"#10b981"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mt-3 sm:mt-0",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300",children:"Text Color"}),jsxRuntimeExports.jsx("input",{type:"color",value:dt.text_color||"#000000",onChange:kt=>$t(et,"text_color",kt.target.value),className:"w-8 h-8 rounded cursor-pointer border border-gray-600"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-400",children:dt.text_color||"#000000"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mt-4",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300",children:"Alignment"}),jsxRuntimeExports.jsxs("select",{value:dt.alignment||"center",onChange:kt=>$t(et,"alignment",kt.target.value),className:"p-2 bg-black border border-gray-700 rounded text-white text-sm",children:[jsxRuntimeExports.jsx("option",{value:"left",children:"Left"}),jsxRuntimeExports.jsx("option",{value:"center",children:"Center"}),jsxRuntimeExports.jsx("option",{value:"right",children:"Right"})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-6 p-6 text-center border border-gray-700 rounded-lg",style:{textAlign:dt.alignment},children:[jsxRuntimeExports.jsx("button",{className:"px-6 py-3 rounded-lg font-semibold shadow-lg transition-transform hover:scale-105",style:{background:dt.button_color||"#10b981",color:dt.text_color||"#000000"},children:dt.button_text||"Sign Up Now"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 mt-3 italic",children:"This button will automatically track new signups under your referral."})]})]})}function useCombinedRefs(){for(var dt=arguments.length,et=new Array(dt),$t=0;$t<dt;$t++)et[$t]=arguments[$t];return reactExports.useMemo(()=>kt=>{et.forEach(Tt=>Tt(kt))},et)}const canUseDOM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function isWindow(dt){const et=Object.prototype.toString.call(dt);return et==="[object Window]"||et==="[object global]"}function isNode(dt){return"nodeType"in dt}function getWindow(dt){var et,$t;return dt?isWindow(dt)?dt:isNode(dt)&&(et=($t=dt.ownerDocument)==null?void 0:$t.defaultView)!=null?et:window:window}function isDocument(dt){const{Document:et}=getWindow(dt);return dt instanceof et}function isHTMLElement(dt){return isWindow(dt)?!1:dt instanceof getWindow(dt).HTMLElement}function isSVGElement(dt){return dt instanceof getWindow(dt).SVGElement}function getOwnerDocument(dt){return dt?isWindow(dt)?dt.document:isNode(dt)?isDocument(dt)?dt:isHTMLElement(dt)||isSVGElement(dt)?dt.ownerDocument:document:document:document}const useIsomorphicLayoutEffect$6=canUseDOM?reactExports.useLayoutEffect:reactExports.useEffect;function useEvent(dt){const et=reactExports.useRef(dt);return useIsomorphicLayoutEffect$6(()=>{et.current=dt}),reactExports.useCallback(function(){for(var $t=arguments.length,kt=new Array($t),Tt=0;Tt<$t;Tt++)kt[Tt]=arguments[Tt];return et.current==null?void 0:et.current(...kt)},[])}function useInterval(){const dt=reactExports.useRef(null),et=reactExports.useCallback((kt,Tt)=>{dt.current=setInterval(kt,Tt)},[]),$t=reactExports.useCallback(()=>{dt.current!==null&&(clearInterval(dt.current),dt.current=null)},[]);return[et,$t]}function useLatestValue(dt,et){et===void 0&&(et=[dt]);const $t=reactExports.useRef(dt);return useIsomorphicLayoutEffect$6(()=>{$t.current!==dt&&($t.current=dt)},et),$t}function useLazyMemo(dt,et){const $t=reactExports.useRef();return reactExports.useMemo(()=>{const kt=dt($t.current);return $t.current=kt,kt},[...et])}function useNodeRef(dt){const et=useEvent(dt),$t=reactExports.useRef(null),kt=reactExports.useCallback(Tt=>{Tt!==$t.current&&(et==null||et(Tt,$t.current)),$t.current=Tt},[]);return[$t,kt]}function usePrevious(dt){const et=reactExports.useRef();return reactExports.useEffect(()=>{et.current=dt},[dt]),et.current}let ids={};function useUniqueId(dt,et){return reactExports.useMemo(()=>{if(et)return et;const $t=ids[dt]==null?0:ids[dt]+1;return ids[dt]=$t,dt+"-"+$t},[dt,et])}function createAdjustmentFn(dt){return function(et){for(var $t=arguments.length,kt=new Array($t>1?$t-1:0),Tt=1;Tt<$t;Tt++)kt[Tt-1]=arguments[Tt];return kt.reduce((Dt,Ft)=>{const Ut=Object.entries(Ft);for(const[Ht,Kt]of Ut){const Yt=Dt[Ht];Yt!=null&&(Dt[Ht]=Yt+dt*Kt)}return Dt},{...et})}}const add=createAdjustmentFn(1),subtract=createAdjustmentFn(-1);function hasViewportRelativeCoordinates(dt){return"clientX"in dt&&"clientY"in dt}function isKeyboardEvent(dt){if(!dt)return!1;const{KeyboardEvent:et}=getWindow(dt.target);return et&&dt instanceof et}function isTouchEvent(dt){if(!dt)return!1;const{TouchEvent:et}=getWindow(dt.target);return et&&dt instanceof et}function getEventCoordinates(dt){if(isTouchEvent(dt)){if(dt.touches&&dt.touches.length){const{clientX:et,clientY:$t}=dt.touches[0];return{x:et,y:$t}}else if(dt.changedTouches&&dt.changedTouches.length){const{clientX:et,clientY:$t}=dt.changedTouches[0];return{x:et,y:$t}}}return hasViewportRelativeCoordinates(dt)?{x:dt.clientX,y:dt.clientY}:null}const CSS=Object.freeze({Translate:{toString(dt){if(!dt)return;const{x:et,y:$t}=dt;return"translate3d("+(et?Math.round(et):0)+"px, "+($t?Math.round($t):0)+"px, 0)"}},Scale:{toString(dt){if(!dt)return;const{scaleX:et,scaleY:$t}=dt;return"scaleX("+et+") scaleY("+$t+")"}},Transform:{toString(dt){if(dt)return[CSS.Translate.toString(dt),CSS.Scale.toString(dt)].join(" ")}},Transition:{toString(dt){let{property:et,duration:$t,easing:kt}=dt;return et+" "+$t+"ms "+kt}}}),SELECTOR="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function findFirstFocusableNode(dt){return dt.matches(SELECTOR)?dt:dt.querySelector(SELECTOR)}const hiddenStyles={display:"none"};function HiddenText(dt){let{id:et,value:$t}=dt;return React$2.createElement("div",{id:et,style:hiddenStyles},$t)}function LiveRegion(dt){let{id:et,announcement:$t,ariaLiveType:kt="assertive"}=dt;const Tt={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return React$2.createElement("div",{id:et,style:Tt,role:"status","aria-live":kt,"aria-atomic":!0},$t)}function useAnnouncement(){const[dt,et]=reactExports.useState("");return{announce:reactExports.useCallback(kt=>{kt!=null&&et(kt)},[]),announcement:dt}}const DndMonitorContext=reactExports.createContext(null);function useDndMonitor(dt){const et=reactExports.useContext(DndMonitorContext);reactExports.useEffect(()=>{if(!et)throw new Error("useDndMonitor must be used within a children of <DndContext>");return et(dt)},[dt,et])}function useDndMonitorProvider(){const[dt]=reactExports.useState(()=>new Set),et=reactExports.useCallback(kt=>(dt.add(kt),()=>dt.delete(kt)),[dt]);return[reactExports.useCallback(kt=>{let{type:Tt,event:Dt}=kt;dt.forEach(Ft=>{var Ut;return(Ut=Ft[Tt])==null?void 0:Ut.call(Ft,Dt)})},[dt]),et]}const defaultScreenReaderInstructions={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},defaultAnnouncements={onDragStart(dt){let{active:et}=dt;return"Picked up draggable item "+et.id+"."},onDragOver(dt){let{active:et,over:$t}=dt;return $t?"Draggable item "+et.id+" was moved over droppable area "+$t.id+".":"Draggable item "+et.id+" is no longer over a droppable area."},onDragEnd(dt){let{active:et,over:$t}=dt;return $t?"Draggable item "+et.id+" was dropped over droppable area "+$t.id:"Draggable item "+et.id+" was dropped."},onDragCancel(dt){let{active:et}=dt;return"Dragging was cancelled. Draggable item "+et.id+" was dropped."}};function Accessibility(dt){let{announcements:et=defaultAnnouncements,container:$t,hiddenTextDescribedById:kt,screenReaderInstructions:Tt=defaultScreenReaderInstructions}=dt;const{announce:Dt,announcement:Ft}=useAnnouncement(),Ut=useUniqueId("DndLiveRegion"),[Ht,Kt]=reactExports.useState(!1);if(reactExports.useEffect(()=>{Kt(!0)},[]),useDndMonitor(reactExports.useMemo(()=>({onDragStart(Jt){let{active:Zt}=Jt;Dt(et.onDragStart({active:Zt}))},onDragMove(Jt){let{active:Zt,over:er}=Jt;et.onDragMove&&Dt(et.onDragMove({active:Zt,over:er}))},onDragOver(Jt){let{active:Zt,over:er}=Jt;Dt(et.onDragOver({active:Zt,over:er}))},onDragEnd(Jt){let{active:Zt,over:er}=Jt;Dt(et.onDragEnd({active:Zt,over:er}))},onDragCancel(Jt){let{active:Zt,over:er}=Jt;Dt(et.onDragCancel({active:Zt,over:er}))}}),[Dt,et])),!Ht)return null;const Yt=React$2.createElement(React$2.Fragment,null,React$2.createElement(HiddenText,{id:kt,value:Tt.draggable}),React$2.createElement(LiveRegion,{id:Ut,announcement:Ft}));return $t?reactDomExports.createPortal(Yt,$t):Yt}var Action;(function(dt){dt.DragStart="dragStart",dt.DragMove="dragMove",dt.DragEnd="dragEnd",dt.DragCancel="dragCancel",dt.DragOver="dragOver",dt.RegisterDroppable="registerDroppable",dt.SetDroppableDisabled="setDroppableDisabled",dt.UnregisterDroppable="unregisterDroppable"})(Action||(Action={}));function noop$9(){}function useSensor(dt,et){return reactExports.useMemo(()=>({sensor:dt,options:et??{}}),[dt,et])}function useSensors(){for(var dt=arguments.length,et=new Array(dt),$t=0;$t<dt;$t++)et[$t]=arguments[$t];return reactExports.useMemo(()=>[...et].filter(kt=>kt!=null),[...et])}const defaultCoordinates=Object.freeze({x:0,y:0});function distanceBetween(dt,et){return Math.sqrt(Math.pow(dt.x-et.x,2)+Math.pow(dt.y-et.y,2))}function sortCollisionsAsc(dt,et){let{data:{value:$t}}=dt,{data:{value:kt}}=et;return $t-kt}function sortCollisionsDesc(dt,et){let{data:{value:$t}}=dt,{data:{value:kt}}=et;return kt-$t}function getFirstCollision(dt,et){if(!dt||dt.length===0)return null;const[$t]=dt;return et?$t[et]:$t}function centerOfRectangle(dt,et,$t){return et===void 0&&(et=dt.left),$t===void 0&&($t=dt.top),{x:et+dt.width*.5,y:$t+dt.height*.5}}const closestCenter=dt=>{let{collisionRect:et,droppableRects:$t,droppableContainers:kt}=dt;const Tt=centerOfRectangle(et,et.left,et.top),Dt=[];for(const Ft of kt){const{id:Ut}=Ft,Ht=$t.get(Ut);if(Ht){const Kt=distanceBetween(centerOfRectangle(Ht),Tt);Dt.push({id:Ut,data:{droppableContainer:Ft,value:Kt}})}}return Dt.sort(sortCollisionsAsc)};function getIntersectionRatio(dt,et){const $t=Math.max(et.top,dt.top),kt=Math.max(et.left,dt.left),Tt=Math.min(et.left+et.width,dt.left+dt.width),Dt=Math.min(et.top+et.height,dt.top+dt.height),Ft=Tt-kt,Ut=Dt-$t;if(kt<Tt&&$t<Dt){const Ht=et.width*et.height,Kt=dt.width*dt.height,Yt=Ft*Ut,Jt=Yt/(Ht+Kt-Yt);return Number(Jt.toFixed(4))}return 0}const rectIntersection=dt=>{let{collisionRect:et,droppableRects:$t,droppableContainers:kt}=dt;const Tt=[];for(const Dt of kt){const{id:Ft}=Dt,Ut=$t.get(Ft);if(Ut){const Ht=getIntersectionRatio(Ut,et);Ht>0&&Tt.push({id:Ft,data:{droppableContainer:Dt,value:Ht}})}}return Tt.sort(sortCollisionsDesc)};function adjustScale(dt,et,$t){return{...dt,scaleX:et&&$t?et.width/$t.width:1,scaleY:et&&$t?et.height/$t.height:1}}function getRectDelta(dt,et){return dt&&et?{x:dt.left-et.left,y:dt.top-et.top}:defaultCoordinates}function createRectAdjustmentFn(dt){return function($t){for(var kt=arguments.length,Tt=new Array(kt>1?kt-1:0),Dt=1;Dt<kt;Dt++)Tt[Dt-1]=arguments[Dt];return Tt.reduce((Ft,Ut)=>({...Ft,top:Ft.top+dt*Ut.y,bottom:Ft.bottom+dt*Ut.y,left:Ft.left+dt*Ut.x,right:Ft.right+dt*Ut.x}),{...$t})}}const getAdjustedRect=createRectAdjustmentFn(1);function parseTransform(dt){if(dt.startsWith("matrix3d(")){const et=dt.slice(9,-1).split(/, /);return{x:+et[12],y:+et[13],scaleX:+et[0],scaleY:+et[5]}}else if(dt.startsWith("matrix(")){const et=dt.slice(7,-1).split(/, /);return{x:+et[4],y:+et[5],scaleX:+et[0],scaleY:+et[3]}}return null}function inverseTransform(dt,et,$t){const kt=parseTransform(et);if(!kt)return dt;const{scaleX:Tt,scaleY:Dt,x:Ft,y:Ut}=kt,Ht=dt.left-Ft-(1-Tt)*parseFloat($t),Kt=dt.top-Ut-(1-Dt)*parseFloat($t.slice($t.indexOf(" ")+1)),Yt=Tt?dt.width/Tt:dt.width,Jt=Dt?dt.height/Dt:dt.height;return{width:Yt,height:Jt,top:Kt,right:Ht+Yt,bottom:Kt+Jt,left:Ht}}const defaultOptions={ignoreTransform:!1};function getClientRect(dt,et){et===void 0&&(et=defaultOptions);let $t=dt.getBoundingClientRect();if(et.ignoreTransform){const{transform:Kt,transformOrigin:Yt}=getWindow(dt).getComputedStyle(dt);Kt&&($t=inverseTransform($t,Kt,Yt))}const{top:kt,left:Tt,width:Dt,height:Ft,bottom:Ut,right:Ht}=$t;return{top:kt,left:Tt,width:Dt,height:Ft,bottom:Ut,right:Ht}}function getTransformAgnosticClientRect(dt){return getClientRect(dt,{ignoreTransform:!0})}function getWindowClientRect(dt){const et=dt.innerWidth,$t=dt.innerHeight;return{top:0,left:0,right:et,bottom:$t,width:et,height:$t}}function isFixed(dt,et){return et===void 0&&(et=getWindow(dt).getComputedStyle(dt)),et.position==="fixed"}function isScrollable(dt,et){et===void 0&&(et=getWindow(dt).getComputedStyle(dt));const $t=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(Tt=>{const Dt=et[Tt];return typeof Dt=="string"?$t.test(Dt):!1})}function getScrollableAncestors(dt,et){const $t=[];function kt(Tt){if(et!=null&&$t.length>=et||!Tt)return $t;if(isDocument(Tt)&&Tt.scrollingElement!=null&&!$t.includes(Tt.scrollingElement))return $t.push(Tt.scrollingElement),$t;if(!isHTMLElement(Tt)||isSVGElement(Tt)||$t.includes(Tt))return $t;const Dt=getWindow(dt).getComputedStyle(Tt);return Tt!==dt&&isScrollable(Tt,Dt)&&$t.push(Tt),isFixed(Tt,Dt)?$t:kt(Tt.parentNode)}return dt?kt(dt):$t}function getFirstScrollableAncestor(dt){const[et]=getScrollableAncestors(dt,1);return et??null}function getScrollableElement(dt){return!canUseDOM||!dt?null:isWindow(dt)?dt:isNode(dt)?isDocument(dt)||dt===getOwnerDocument(dt).scrollingElement?window:isHTMLElement(dt)?dt:null:null}function getScrollXCoordinate(dt){return isWindow(dt)?dt.scrollX:dt.scrollLeft}function getScrollYCoordinate(dt){return isWindow(dt)?dt.scrollY:dt.scrollTop}function getScrollCoordinates(dt){return{x:getScrollXCoordinate(dt),y:getScrollYCoordinate(dt)}}var Direction;(function(dt){dt[dt.Forward=1]="Forward",dt[dt.Backward=-1]="Backward"})(Direction||(Direction={}));function isDocumentScrollingElement(dt){return!canUseDOM||!dt?!1:dt===document.scrollingElement}function getScrollPosition(dt){const et={x:0,y:0},$t=isDocumentScrollingElement(dt)?{height:window.innerHeight,width:window.innerWidth}:{height:dt.clientHeight,width:dt.clientWidth},kt={x:dt.scrollWidth-$t.width,y:dt.scrollHeight-$t.height},Tt=dt.scrollTop<=et.y,Dt=dt.scrollLeft<=et.x,Ft=dt.scrollTop>=kt.y,Ut=dt.scrollLeft>=kt.x;return{isTop:Tt,isLeft:Dt,isBottom:Ft,isRight:Ut,maxScroll:kt,minScroll:et}}const defaultThreshold={x:.2,y:.2};function getScrollDirectionAndSpeed(dt,et,$t,kt,Tt){let{top:Dt,left:Ft,right:Ut,bottom:Ht}=$t;kt===void 0&&(kt=10),Tt===void 0&&(Tt=defaultThreshold);const{isTop:Kt,isBottom:Yt,isLeft:Jt,isRight:Zt}=getScrollPosition(dt),er={x:0,y:0},rr={x:0,y:0},sr={height:et.height*Tt.y,width:et.width*Tt.x};return!Kt&&Dt<=et.top+sr.height?(er.y=Direction.Backward,rr.y=kt*Math.abs((et.top+sr.height-Dt)/sr.height)):!Yt&&Ht>=et.bottom-sr.height&&(er.y=Direction.Forward,rr.y=kt*Math.abs((et.bottom-sr.height-Ht)/sr.height)),!Zt&&Ut>=et.right-sr.width?(er.x=Direction.Forward,rr.x=kt*Math.abs((et.right-sr.width-Ut)/sr.width)):!Jt&&Ft<=et.left+sr.width&&(er.x=Direction.Backward,rr.x=kt*Math.abs((et.left+sr.width-Ft)/sr.width)),{direction:er,speed:rr}}function getScrollElementRect(dt){if(dt===document.scrollingElement){const{innerWidth:Dt,innerHeight:Ft}=window;return{top:0,left:0,right:Dt,bottom:Ft,width:Dt,height:Ft}}const{top:et,left:$t,right:kt,bottom:Tt}=dt.getBoundingClientRect();return{top:et,left:$t,right:kt,bottom:Tt,width:dt.clientWidth,height:dt.clientHeight}}function getScrollOffsets(dt){return dt.reduce((et,$t)=>add(et,getScrollCoordinates($t)),defaultCoordinates)}function getScrollXOffset(dt){return dt.reduce((et,$t)=>et+getScrollXCoordinate($t),0)}function getScrollYOffset(dt){return dt.reduce((et,$t)=>et+getScrollYCoordinate($t),0)}function scrollIntoViewIfNeeded(dt,et){if(et===void 0&&(et=getClientRect),!dt)return;const{top:$t,left:kt,bottom:Tt,right:Dt}=et(dt);getFirstScrollableAncestor(dt)&&(Tt<=0||Dt<=0||$t>=window.innerHeight||kt>=window.innerWidth)&&dt.scrollIntoView({block:"center",inline:"center"})}const properties=[["x",["left","right"],getScrollXOffset],["y",["top","bottom"],getScrollYOffset]];class Rect{constructor(et,$t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const kt=getScrollableAncestors($t),Tt=getScrollOffsets(kt);this.rect={...et},this.width=et.width,this.height=et.height;for(const[Dt,Ft,Ut]of properties)for(const Ht of Ft)Object.defineProperty(this,Ht,{get:()=>{const Kt=Ut(kt),Yt=Tt[Dt]-Kt;return this.rect[Ht]+Yt},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Listeners{constructor(et){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach($t=>{var kt;return(kt=this.target)==null?void 0:kt.removeEventListener(...$t)})},this.target=et}add(et,$t,kt){var Tt;(Tt=this.target)==null||Tt.addEventListener(et,$t,kt),this.listeners.push([et,$t,kt])}}function getEventListenerTarget(dt){const{EventTarget:et}=getWindow(dt);return dt instanceof et?dt:getOwnerDocument(dt)}function hasExceededDistance(dt,et){const $t=Math.abs(dt.x),kt=Math.abs(dt.y);return typeof et=="number"?Math.sqrt($t**2+kt**2)>et:"x"in et&&"y"in et?$t>et.x&&kt>et.y:"x"in et?$t>et.x:"y"in et?kt>et.y:!1}var EventName;(function(dt){dt.Click="click",dt.DragStart="dragstart",dt.Keydown="keydown",dt.ContextMenu="contextmenu",dt.Resize="resize",dt.SelectionChange="selectionchange",dt.VisibilityChange="visibilitychange"})(EventName||(EventName={}));function preventDefault(dt){dt.preventDefault()}function stopPropagation(dt){dt.stopPropagation()}var KeyboardCode;(function(dt){dt.Space="Space",dt.Down="ArrowDown",dt.Right="ArrowRight",dt.Left="ArrowLeft",dt.Up="ArrowUp",dt.Esc="Escape",dt.Enter="Enter",dt.Tab="Tab"})(KeyboardCode||(KeyboardCode={}));const defaultKeyboardCodes={start:[KeyboardCode.Space,KeyboardCode.Enter],cancel:[KeyboardCode.Esc],end:[KeyboardCode.Space,KeyboardCode.Enter,KeyboardCode.Tab]},defaultKeyboardCoordinateGetter=(dt,et)=>{let{currentCoordinates:$t}=et;switch(dt.code){case KeyboardCode.Right:return{...$t,x:$t.x+25};case KeyboardCode.Left:return{...$t,x:$t.x-25};case KeyboardCode.Down:return{...$t,y:$t.y+25};case KeyboardCode.Up:return{...$t,y:$t.y-25}}};class KeyboardSensor{constructor(et){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=et;const{event:{target:$t}}=et;this.props=et,this.listeners=new Listeners(getOwnerDocument($t)),this.windowListeners=new Listeners(getWindow($t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(EventName.Resize,this.handleCancel),this.windowListeners.add(EventName.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(EventName.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:et,onStart:$t}=this.props,kt=et.node.current;kt&&scrollIntoViewIfNeeded(kt),$t(defaultCoordinates)}handleKeyDown(et){if(isKeyboardEvent(et)){const{active:$t,context:kt,options:Tt}=this.props,{keyboardCodes:Dt=defaultKeyboardCodes,coordinateGetter:Ft=defaultKeyboardCoordinateGetter,scrollBehavior:Ut="smooth"}=Tt,{code:Ht}=et;if(Dt.end.includes(Ht)){this.handleEnd(et);return}if(Dt.cancel.includes(Ht)){this.handleCancel(et);return}const{collisionRect:Kt}=kt.current,Yt=Kt?{x:Kt.left,y:Kt.top}:defaultCoordinates;this.referenceCoordinates||(this.referenceCoordinates=Yt);const Jt=Ft(et,{active:$t,context:kt.current,currentCoordinates:Yt});if(Jt){const Zt=subtract(Jt,Yt),er={x:0,y:0},{scrollableAncestors:rr}=kt.current;for(const sr of rr){const ir=et.code,{isTop:nr,isRight:or,isLeft:lr,isBottom:cr,maxScroll:dr,minScroll:ur}=getScrollPosition(sr),pr=getScrollElementRect(sr),mr={x:Math.min(ir===KeyboardCode.Right?pr.right-pr.width/2:pr.right,Math.max(ir===KeyboardCode.Right?pr.left:pr.left+pr.width/2,Jt.x)),y:Math.min(ir===KeyboardCode.Down?pr.bottom-pr.height/2:pr.bottom,Math.max(ir===KeyboardCode.Down?pr.top:pr.top+pr.height/2,Jt.y))},vr=ir===KeyboardCode.Right&&!or||ir===KeyboardCode.Left&&!lr,kr=ir===KeyboardCode.Down&&!cr||ir===KeyboardCode.Up&&!nr;if(vr&&mr.x!==Jt.x){const br=sr.scrollLeft+Zt.x,_r=ir===KeyboardCode.Right&&br<=dr.x||ir===KeyboardCode.Left&&br>=ur.x;if(_r&&!Zt.y){sr.scrollTo({left:br,behavior:Ut});return}_r?er.x=sr.scrollLeft-br:er.x=ir===KeyboardCode.Right?sr.scrollLeft-dr.x:sr.scrollLeft-ur.x,er.x&&sr.scrollBy({left:-er.x,behavior:Ut});break}else if(kr&&mr.y!==Jt.y){const br=sr.scrollTop+Zt.y,_r=ir===KeyboardCode.Down&&br<=dr.y||ir===KeyboardCode.Up&&br>=ur.y;if(_r&&!Zt.x){sr.scrollTo({top:br,behavior:Ut});return}_r?er.y=sr.scrollTop-br:er.y=ir===KeyboardCode.Down?sr.scrollTop-dr.y:sr.scrollTop-ur.y,er.y&&sr.scrollBy({top:-er.y,behavior:Ut});break}}this.handleMove(et,add(subtract(Jt,this.referenceCoordinates),er))}}}handleMove(et,$t){const{onMove:kt}=this.props;et.preventDefault(),kt($t)}handleEnd(et){const{onEnd:$t}=this.props;et.preventDefault(),this.detach(),$t()}handleCancel(et){const{onCancel:$t}=this.props;et.preventDefault(),this.detach(),$t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}KeyboardSensor.activators=[{eventName:"onKeyDown",handler:(dt,et,$t)=>{let{keyboardCodes:kt=defaultKeyboardCodes,onActivation:Tt}=et,{active:Dt}=$t;const{code:Ft}=dt.nativeEvent;if(kt.start.includes(Ft)){const Ut=Dt.activatorNode.current;return Ut&&dt.target!==Ut?!1:(dt.preventDefault(),Tt==null||Tt({event:dt.nativeEvent}),!0)}return!1}}];function isDistanceConstraint(dt){return!!(dt&&"distance"in dt)}function isDelayConstraint(dt){return!!(dt&&"delay"in dt)}class AbstractPointerSensor{constructor(et,$t,kt){var Tt;kt===void 0&&(kt=getEventListenerTarget(et.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=et,this.events=$t;const{event:Dt}=et,{target:Ft}=Dt;this.props=et,this.events=$t,this.document=getOwnerDocument(Ft),this.documentListeners=new Listeners(this.document),this.listeners=new Listeners(kt),this.windowListeners=new Listeners(getWindow(Ft)),this.initialCoordinates=(Tt=getEventCoordinates(Dt))!=null?Tt:defaultCoordinates,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:et,props:{options:{activationConstraint:$t,bypassActivationConstraint:kt}}}=this;if(this.listeners.add(et.move.name,this.handleMove,{passive:!1}),this.listeners.add(et.end.name,this.handleEnd),et.cancel&&this.listeners.add(et.cancel.name,this.handleCancel),this.windowListeners.add(EventName.Resize,this.handleCancel),this.windowListeners.add(EventName.DragStart,preventDefault),this.windowListeners.add(EventName.VisibilityChange,this.handleCancel),this.windowListeners.add(EventName.ContextMenu,preventDefault),this.documentListeners.add(EventName.Keydown,this.handleKeydown),$t){if(kt!=null&&kt({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(isDelayConstraint($t)){this.timeoutId=setTimeout(this.handleStart,$t.delay),this.handlePending($t);return}if(isDistanceConstraint($t)){this.handlePending($t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(et,$t){const{active:kt,onPending:Tt}=this.props;Tt(kt,et,this.initialCoordinates,$t)}handleStart(){const{initialCoordinates:et}=this,{onStart:$t}=this.props;et&&(this.activated=!0,this.documentListeners.add(EventName.Click,stopPropagation,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(EventName.SelectionChange,this.removeTextSelection),$t(et))}handleMove(et){var $t;const{activated:kt,initialCoordinates:Tt,props:Dt}=this,{onMove:Ft,options:{activationConstraint:Ut}}=Dt;if(!Tt)return;const Ht=($t=getEventCoordinates(et))!=null?$t:defaultCoordinates,Kt=subtract(Tt,Ht);if(!kt&&Ut){if(isDistanceConstraint(Ut)){if(Ut.tolerance!=null&&hasExceededDistance(Kt,Ut.tolerance))return this.handleCancel();if(hasExceededDistance(Kt,Ut.distance))return this.handleStart()}if(isDelayConstraint(Ut)&&hasExceededDistance(Kt,Ut.tolerance))return this.handleCancel();this.handlePending(Ut,Kt);return}et.cancelable&&et.preventDefault(),Ft(Ht)}handleEnd(){const{onAbort:et,onEnd:$t}=this.props;this.detach(),this.activated||et(this.props.active),$t()}handleCancel(){const{onAbort:et,onCancel:$t}=this.props;this.detach(),this.activated||et(this.props.active),$t()}handleKeydown(et){et.code===KeyboardCode.Esc&&this.handleCancel()}removeTextSelection(){var et;(et=this.document.getSelection())==null||et.removeAllRanges()}}const events={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class PointerSensor extends AbstractPointerSensor{constructor(et){const{event:$t}=et,kt=getOwnerDocument($t.target);super(et,events,kt)}}PointerSensor.activators=[{eventName:"onPointerDown",handler:(dt,et)=>{let{nativeEvent:$t}=dt,{onActivation:kt}=et;return!$t.isPrimary||$t.button!==0?!1:(kt==null||kt({event:$t}),!0)}}];const events$1={move:{name:"mousemove"},end:{name:"mouseup"}};var MouseButton;(function(dt){dt[dt.RightClick=2]="RightClick"})(MouseButton||(MouseButton={}));class MouseSensor extends AbstractPointerSensor{constructor(et){super(et,events$1,getOwnerDocument(et.event.target))}}MouseSensor.activators=[{eventName:"onMouseDown",handler:(dt,et)=>{let{nativeEvent:$t}=dt,{onActivation:kt}=et;return $t.button===MouseButton.RightClick?!1:(kt==null||kt({event:$t}),!0)}}];const events$2={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class TouchSensor extends AbstractPointerSensor{constructor(et){super(et,events$2)}static setup(){return window.addEventListener(events$2.move.name,et,{capture:!1,passive:!1}),function(){window.removeEventListener(events$2.move.name,et)};function et(){}}}TouchSensor.activators=[{eventName:"onTouchStart",handler:(dt,et)=>{let{nativeEvent:$t}=dt,{onActivation:kt}=et;const{touches:Tt}=$t;return Tt.length>1?!1:(kt==null||kt({event:$t}),!0)}}];var AutoScrollActivator;(function(dt){dt[dt.Pointer=0]="Pointer",dt[dt.DraggableRect=1]="DraggableRect"})(AutoScrollActivator||(AutoScrollActivator={}));var TraversalOrder;(function(dt){dt[dt.TreeOrder=0]="TreeOrder",dt[dt.ReversedTreeOrder=1]="ReversedTreeOrder"})(TraversalOrder||(TraversalOrder={}));function useAutoScroller(dt){let{acceleration:et,activator:$t=AutoScrollActivator.Pointer,canScroll:kt,draggingRect:Tt,enabled:Dt,interval:Ft=5,order:Ut=TraversalOrder.TreeOrder,pointerCoordinates:Ht,scrollableAncestors:Kt,scrollableAncestorRects:Yt,delta:Jt,threshold:Zt}=dt;const er=useScrollIntent({delta:Jt,disabled:!Dt}),[rr,sr]=useInterval(),ir=reactExports.useRef({x:0,y:0}),nr=reactExports.useRef({x:0,y:0}),or=reactExports.useMemo(()=>{switch($t){case AutoScrollActivator.Pointer:return Ht?{top:Ht.y,bottom:Ht.y,left:Ht.x,right:Ht.x}:null;case AutoScrollActivator.DraggableRect:return Tt}},[$t,Tt,Ht]),lr=reactExports.useRef(null),cr=reactExports.useCallback(()=>{const ur=lr.current;if(!ur)return;const pr=ir.current.x*nr.current.x,mr=ir.current.y*nr.current.y;ur.scrollBy(pr,mr)},[]),dr=reactExports.useMemo(()=>Ut===TraversalOrder.TreeOrder?[...Kt].reverse():Kt,[Ut,Kt]);reactExports.useEffect(()=>{if(!Dt||!Kt.length||!or){sr();return}for(const ur of dr){if((kt==null?void 0:kt(ur))===!1)continue;const pr=Kt.indexOf(ur),mr=Yt[pr];if(!mr)continue;const{direction:vr,speed:kr}=getScrollDirectionAndSpeed(ur,mr,or,et,Zt);for(const br of["x","y"])er[br][vr[br]]||(kr[br]=0,vr[br]=0);if(kr.x>0||kr.y>0){sr(),lr.current=ur,rr(cr,Ft),ir.current=kr,nr.current=vr;return}}ir.current={x:0,y:0},nr.current={x:0,y:0},sr()},[et,cr,kt,sr,Dt,Ft,JSON.stringify(or),JSON.stringify(er),rr,Kt,dr,Yt,JSON.stringify(Zt)])}const defaultScrollIntent={x:{[Direction.Backward]:!1,[Direction.Forward]:!1},y:{[Direction.Backward]:!1,[Direction.Forward]:!1}};function useScrollIntent(dt){let{delta:et,disabled:$t}=dt;const kt=usePrevious(et);return useLazyMemo(Tt=>{if($t||!kt||!Tt)return defaultScrollIntent;const Dt={x:Math.sign(et.x-kt.x),y:Math.sign(et.y-kt.y)};return{x:{[Direction.Backward]:Tt.x[Direction.Backward]||Dt.x===-1,[Direction.Forward]:Tt.x[Direction.Forward]||Dt.x===1},y:{[Direction.Backward]:Tt.y[Direction.Backward]||Dt.y===-1,[Direction.Forward]:Tt.y[Direction.Forward]||Dt.y===1}}},[$t,et,kt])}function useCachedNode(dt,et){const $t=et!=null?dt.get(et):void 0,kt=$t?$t.node.current:null;return useLazyMemo(Tt=>{var Dt;return et==null?null:(Dt=kt??Tt)!=null?Dt:null},[kt,et])}function useCombineActivators(dt,et){return reactExports.useMemo(()=>dt.reduce(($t,kt)=>{const{sensor:Tt}=kt,Dt=Tt.activators.map(Ft=>({eventName:Ft.eventName,handler:et(Ft.handler,kt)}));return[...$t,...Dt]},[]),[dt,et])}var MeasuringStrategy;(function(dt){dt[dt.Always=0]="Always",dt[dt.BeforeDragging=1]="BeforeDragging",dt[dt.WhileDragging=2]="WhileDragging"})(MeasuringStrategy||(MeasuringStrategy={}));var MeasuringFrequency;(function(dt){dt.Optimized="optimized"})(MeasuringFrequency||(MeasuringFrequency={}));const defaultValue=new Map;function useDroppableMeasuring(dt,et){let{dragging:$t,dependencies:kt,config:Tt}=et;const[Dt,Ft]=reactExports.useState(null),{frequency:Ut,measure:Ht,strategy:Kt}=Tt,Yt=reactExports.useRef(dt),Jt=ir(),Zt=useLatestValue(Jt),er=reactExports.useCallback(function(nr){nr===void 0&&(nr=[]),!Zt.current&&Ft(or=>or===null?nr:or.concat(nr.filter(lr=>!or.includes(lr))))},[Zt]),rr=reactExports.useRef(null),sr=useLazyMemo(nr=>{if(Jt&&!$t)return defaultValue;if(!nr||nr===defaultValue||Yt.current!==dt||Dt!=null){const or=new Map;for(let lr of dt){if(!lr)continue;if(Dt&&Dt.length>0&&!Dt.includes(lr.id)&&lr.rect.current){or.set(lr.id,lr.rect.current);continue}const cr=lr.node.current,dr=cr?new Rect(Ht(cr),cr):null;lr.rect.current=dr,dr&&or.set(lr.id,dr)}return or}return nr},[dt,Dt,$t,Jt,Ht]);return reactExports.useEffect(()=>{Yt.current=dt},[dt]),reactExports.useEffect(()=>{Jt||er()},[$t,Jt]),reactExports.useEffect(()=>{Dt&&Dt.length>0&&Ft(null)},[JSON.stringify(Dt)]),reactExports.useEffect(()=>{Jt||typeof Ut!="number"||rr.current!==null||(rr.current=setTimeout(()=>{er(),rr.current=null},Ut))},[Ut,Jt,er,...kt]),{droppableRects:sr,measureDroppableContainers:er,measuringScheduled:Dt!=null};function ir(){switch(Kt){case MeasuringStrategy.Always:return!1;case MeasuringStrategy.BeforeDragging:return $t;default:return!$t}}}function useInitialValue(dt,et){return useLazyMemo($t=>dt?$t||(typeof et=="function"?et(dt):dt):null,[et,dt])}function useInitialRect(dt,et){return useInitialValue(dt,et)}function useMutationObserver(dt){let{callback:et,disabled:$t}=dt;const kt=useEvent(et),Tt=reactExports.useMemo(()=>{if($t||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:Dt}=window;return new Dt(kt)},[kt,$t]);return reactExports.useEffect(()=>()=>Tt==null?void 0:Tt.disconnect(),[Tt]),Tt}function useResizeObserver(dt){let{callback:et,disabled:$t}=dt;const kt=useEvent(et),Tt=reactExports.useMemo(()=>{if($t||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:Dt}=window;return new Dt(kt)},[$t]);return reactExports.useEffect(()=>()=>Tt==null?void 0:Tt.disconnect(),[Tt]),Tt}function defaultMeasure(dt){return new Rect(getClientRect(dt),dt)}function useRect(dt,et,$t){et===void 0&&(et=defaultMeasure);const[kt,Tt]=reactExports.useState(null);function Dt(){Tt(Ht=>{if(!dt)return null;if(dt.isConnected===!1){var Kt;return(Kt=Ht??$t)!=null?Kt:null}const Yt=et(dt);return JSON.stringify(Ht)===JSON.stringify(Yt)?Ht:Yt})}const Ft=useMutationObserver({callback(Ht){if(dt)for(const Kt of Ht){const{type:Yt,target:Jt}=Kt;if(Yt==="childList"&&Jt instanceof HTMLElement&&Jt.contains(dt)){Dt();break}}}}),Ut=useResizeObserver({callback:Dt});return useIsomorphicLayoutEffect$6(()=>{Dt(),dt?(Ut==null||Ut.observe(dt),Ft==null||Ft.observe(document.body,{childList:!0,subtree:!0})):(Ut==null||Ut.disconnect(),Ft==null||Ft.disconnect())},[dt]),kt}function useRectDelta(dt){const et=useInitialValue(dt);return getRectDelta(dt,et)}const defaultValue$1=[];function useScrollableAncestors(dt){const et=reactExports.useRef(dt),$t=useLazyMemo(kt=>dt?kt&&kt!==defaultValue$1&&dt&&et.current&&dt.parentNode===et.current.parentNode?kt:getScrollableAncestors(dt):defaultValue$1,[dt]);return reactExports.useEffect(()=>{et.current=dt},[dt]),$t}function useScrollOffsets(dt){const[et,$t]=reactExports.useState(null),kt=reactExports.useRef(dt),Tt=reactExports.useCallback(Dt=>{const Ft=getScrollableElement(Dt.target);Ft&&$t(Ut=>Ut?(Ut.set(Ft,getScrollCoordinates(Ft)),new Map(Ut)):null)},[]);return reactExports.useEffect(()=>{const Dt=kt.current;if(dt!==Dt){Ft(Dt);const Ut=dt.map(Ht=>{const Kt=getScrollableElement(Ht);return Kt?(Kt.addEventListener("scroll",Tt,{passive:!0}),[Kt,getScrollCoordinates(Kt)]):null}).filter(Ht=>Ht!=null);$t(Ut.length?new Map(Ut):null),kt.current=dt}return()=>{Ft(dt),Ft(Dt)};function Ft(Ut){Ut.forEach(Ht=>{const Kt=getScrollableElement(Ht);Kt==null||Kt.removeEventListener("scroll",Tt)})}},[Tt,dt]),reactExports.useMemo(()=>dt.length?et?Array.from(et.values()).reduce((Dt,Ft)=>add(Dt,Ft),defaultCoordinates):getScrollOffsets(dt):defaultCoordinates,[dt,et])}function useScrollOffsetsDelta(dt,et){et===void 0&&(et=[]);const $t=reactExports.useRef(null);return reactExports.useEffect(()=>{$t.current=null},et),reactExports.useEffect(()=>{const kt=dt!==defaultCoordinates;kt&&!$t.current&&($t.current=dt),!kt&&$t.current&&($t.current=null)},[dt]),$t.current?subtract(dt,$t.current):defaultCoordinates}function useSensorSetup(dt){reactExports.useEffect(()=>{if(!canUseDOM)return;const et=dt.map($t=>{let{sensor:kt}=$t;return kt.setup==null?void 0:kt.setup()});return()=>{for(const $t of et)$t==null||$t()}},dt.map(et=>{let{sensor:$t}=et;return $t}))}function useSyntheticListeners(dt,et){return reactExports.useMemo(()=>dt.reduce(($t,kt)=>{let{eventName:Tt,handler:Dt}=kt;return $t[Tt]=Ft=>{Dt(Ft,et)},$t},{}),[dt,et])}function useWindowRect(dt){return reactExports.useMemo(()=>dt?getWindowClientRect(dt):null,[dt])}const defaultValue$2=[];function useRects(dt,et){et===void 0&&(et=getClientRect);const[$t]=dt,kt=useWindowRect($t?getWindow($t):null),[Tt,Dt]=reactExports.useState(defaultValue$2);function Ft(){Dt(()=>dt.length?dt.map(Ht=>isDocumentScrollingElement(Ht)?kt:new Rect(et(Ht),Ht)):defaultValue$2)}const Ut=useResizeObserver({callback:Ft});return useIsomorphicLayoutEffect$6(()=>{Ut==null||Ut.disconnect(),Ft(),dt.forEach(Ht=>Ut==null?void 0:Ut.observe(Ht))},[dt]),Tt}function getMeasurableNode(dt){if(!dt)return null;if(dt.children.length>1)return dt;const et=dt.children[0];return isHTMLElement(et)?et:dt}function useDragOverlayMeasuring(dt){let{measure:et}=dt;const[$t,kt]=reactExports.useState(null),Tt=reactExports.useCallback(Kt=>{for(const{target:Yt}of Kt)if(isHTMLElement(Yt)){kt(Jt=>{const Zt=et(Yt);return Jt?{...Jt,width:Zt.width,height:Zt.height}:Zt});break}},[et]),Dt=useResizeObserver({callback:Tt}),Ft=reactExports.useCallback(Kt=>{const Yt=getMeasurableNode(Kt);Dt==null||Dt.disconnect(),Yt&&(Dt==null||Dt.observe(Yt)),kt(Yt?et(Yt):null)},[et,Dt]),[Ut,Ht]=useNodeRef(Ft);return reactExports.useMemo(()=>({nodeRef:Ut,rect:$t,setRef:Ht}),[$t,Ut,Ht])}const defaultSensors=[{sensor:PointerSensor,options:{}},{sensor:KeyboardSensor,options:{}}],defaultData={current:{}},defaultMeasuringConfiguration={draggable:{measure:getTransformAgnosticClientRect},droppable:{measure:getTransformAgnosticClientRect,strategy:MeasuringStrategy.WhileDragging,frequency:MeasuringFrequency.Optimized},dragOverlay:{measure:getClientRect}};class DroppableContainersMap extends Map{get(et){var $t;return et!=null&&($t=super.get(et))!=null?$t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(et=>{let{disabled:$t}=et;return!$t})}getNodeFor(et){var $t,kt;return($t=(kt=this.get(et))==null?void 0:kt.node.current)!=null?$t:void 0}}const defaultPublicContext={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new DroppableContainersMap,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:noop$9},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:defaultMeasuringConfiguration,measureDroppableContainers:noop$9,windowRect:null,measuringScheduled:!1},defaultInternalContext={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:noop$9,draggableNodes:new Map,over:null,measureDroppableContainers:noop$9},InternalContext=reactExports.createContext(defaultInternalContext),PublicContext=reactExports.createContext(defaultPublicContext);function getInitialState(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new DroppableContainersMap}}}function reducer(dt,et){switch(et.type){case Action.DragStart:return{...dt,draggable:{...dt.draggable,initialCoordinates:et.initialCoordinates,active:et.active}};case Action.DragMove:return dt.draggable.active==null?dt:{...dt,draggable:{...dt.draggable,translate:{x:et.coordinates.x-dt.draggable.initialCoordinates.x,y:et.coordinates.y-dt.draggable.initialCoordinates.y}}};case Action.DragEnd:case Action.DragCancel:return{...dt,draggable:{...dt.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Action.RegisterDroppable:{const{element:$t}=et,{id:kt}=$t,Tt=new DroppableContainersMap(dt.droppable.containers);return Tt.set(kt,$t),{...dt,droppable:{...dt.droppable,containers:Tt}}}case Action.SetDroppableDisabled:{const{id:$t,key:kt,disabled:Tt}=et,Dt=dt.droppable.containers.get($t);if(!Dt||kt!==Dt.key)return dt;const Ft=new DroppableContainersMap(dt.droppable.containers);return Ft.set($t,{...Dt,disabled:Tt}),{...dt,droppable:{...dt.droppable,containers:Ft}}}case Action.UnregisterDroppable:{const{id:$t,key:kt}=et,Tt=dt.droppable.containers.get($t);if(!Tt||kt!==Tt.key)return dt;const Dt=new DroppableContainersMap(dt.droppable.containers);return Dt.delete($t),{...dt,droppable:{...dt.droppable,containers:Dt}}}default:return dt}}function RestoreFocus(dt){let{disabled:et}=dt;const{active:$t,activatorEvent:kt,draggableNodes:Tt}=reactExports.useContext(InternalContext),Dt=usePrevious(kt),Ft=usePrevious($t==null?void 0:$t.id);return reactExports.useEffect(()=>{if(!et&&!kt&&Dt&&Ft!=null){if(!isKeyboardEvent(Dt)||document.activeElement===Dt.target)return;const Ut=Tt.get(Ft);if(!Ut)return;const{activatorNode:Ht,node:Kt}=Ut;if(!Ht.current&&!Kt.current)return;requestAnimationFrame(()=>{for(const Yt of[Ht.current,Kt.current]){if(!Yt)continue;const Jt=findFirstFocusableNode(Yt);if(Jt){Jt.focus();break}}})}},[kt,et,Tt,Ft,Dt]),null}function applyModifiers(dt,et){let{transform:$t,...kt}=et;return dt!=null&&dt.length?dt.reduce((Tt,Dt)=>Dt({transform:Tt,...kt}),$t):$t}function useMeasuringConfiguration(dt){return reactExports.useMemo(()=>({draggable:{...defaultMeasuringConfiguration.draggable,...dt==null?void 0:dt.draggable},droppable:{...defaultMeasuringConfiguration.droppable,...dt==null?void 0:dt.droppable},dragOverlay:{...defaultMeasuringConfiguration.dragOverlay,...dt==null?void 0:dt.dragOverlay}}),[dt==null?void 0:dt.draggable,dt==null?void 0:dt.droppable,dt==null?void 0:dt.dragOverlay])}function useLayoutShiftScrollCompensation(dt){let{activeNode:et,measure:$t,initialRect:kt,config:Tt=!0}=dt;const Dt=reactExports.useRef(!1),{x:Ft,y:Ut}=typeof Tt=="boolean"?{x:Tt,y:Tt}:Tt;useIsomorphicLayoutEffect$6(()=>{if(!Ft&&!Ut||!et){Dt.current=!1;return}if(Dt.current||!kt)return;const Kt=et==null?void 0:et.node.current;if(!Kt||Kt.isConnected===!1)return;const Yt=$t(Kt),Jt=getRectDelta(Yt,kt);if(Ft||(Jt.x=0),Ut||(Jt.y=0),Dt.current=!0,Math.abs(Jt.x)>0||Math.abs(Jt.y)>0){const Zt=getFirstScrollableAncestor(Kt);Zt&&Zt.scrollBy({top:Jt.y,left:Jt.x})}},[et,Ft,Ut,kt,$t])}const ActiveDraggableContext=reactExports.createContext({...defaultCoordinates,scaleX:1,scaleY:1});var Status;(function(dt){dt[dt.Uninitialized=0]="Uninitialized",dt[dt.Initializing=1]="Initializing",dt[dt.Initialized=2]="Initialized"})(Status||(Status={}));const DndContext=reactExports.memo(function dt(et){var $t,kt,Tt,Dt;let{id:Ft,accessibility:Ut,autoScroll:Ht=!0,children:Kt,sensors:Yt=defaultSensors,collisionDetection:Jt=rectIntersection,measuring:Zt,modifiers:er,...rr}=et;const sr=reactExports.useReducer(reducer,void 0,getInitialState),[ir,nr]=sr,[or,lr]=useDndMonitorProvider(),[cr,dr]=reactExports.useState(Status.Uninitialized),ur=cr===Status.Initialized,{draggable:{active:pr,nodes:mr,translate:vr},droppable:{containers:kr}}=ir,br=pr!=null?mr.get(pr):null,_r=reactExports.useRef({initial:null,translated:null}),Or=reactExports.useMemo(()=>{var ws;return pr!=null?{id:pr,data:(ws=br==null?void 0:br.data)!=null?ws:defaultData,rect:_r}:null},[pr,br]),Pr=reactExports.useRef(null),[Mr,Rr]=reactExports.useState(null),[Tr,xr]=reactExports.useState(null),wr=useLatestValue(rr,Object.values(rr)),zr=useUniqueId("DndDescribedBy",Ft),Hr=reactExports.useMemo(()=>kr.getEnabled(),[kr]),Gr=useMeasuringConfiguration(Zt),{droppableRects:Xr,measureDroppableContainers:rs,measuringScheduled:Yr}=useDroppableMeasuring(Hr,{dragging:ur,dependencies:[vr.x,vr.y],config:Gr.droppable}),es=useCachedNode(mr,pr),ns=reactExports.useMemo(()=>Tr?getEventCoordinates(Tr):null,[Tr]),ms=Es(),ls=useInitialRect(es,Gr.draggable.measure);useLayoutShiftScrollCompensation({activeNode:pr!=null?mr.get(pr):null,config:ms.layoutShiftCompensation,initialRect:ls,measure:Gr.draggable.measure});const ds=useRect(es,Gr.draggable.measure,ls),fs=useRect(es?es.parentElement:null),cs=reactExports.useRef({activatorEvent:null,active:null,activeNode:es,collisionRect:null,collisions:null,droppableRects:Xr,draggableNodes:mr,draggingNode:null,draggingNodeRect:null,droppableContainers:kr,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),xs=kr.getNodeFor(($t=cs.current.over)==null?void 0:$t.id),us=useDragOverlayMeasuring({measure:Gr.dragOverlay.measure}),$s=(kt=us.nodeRef.current)!=null?kt:es,ks=ur?(Tt=us.rect)!=null?Tt:ds:null,Ds=!!(us.nodeRef.current&&us.rect),Cs=useRectDelta(Ds?null:ds),Ts=useWindowRect($s?getWindow($s):null),Ns=useScrollableAncestors(ur?xs??es:null),Ms=useRects(Ns),Us=applyModifiers(er,{transform:{x:vr.x-Cs.x,y:vr.y-Cs.y,scaleX:1,scaleY:1},activatorEvent:Tr,active:Or,activeNodeRect:ds,containerNodeRect:fs,draggingNodeRect:ks,over:cs.current.over,overlayNodeRect:us.rect,scrollableAncestors:Ns,scrollableAncestorRects:Ms,windowRect:Ts}),Ws=ns?add(ns,vr):null,Ks=useScrollOffsets(Ns),Qs=useScrollOffsetsDelta(Ks),qs=useScrollOffsetsDelta(Ks,[ds]),zs=add(Us,Qs),Js=ks?getAdjustedRect(ks,Us):null,_s=Or&&Js?Jt({active:Or,collisionRect:Js,droppableRects:Xr,droppableContainers:Hr,pointerCoordinates:Ws}):null,Fs=getFirstCollision(_s,"id"),[Ln,_a]=reactExports.useState(null),xo=Ds?Us:add(Us,qs),Vs=adjustScale(xo,(Dt=Ln==null?void 0:Ln.rect)!=null?Dt:null,ds),ss=reactExports.useRef(null),Wr=reactExports.useCallback((ws,Ss)=>{let{sensor:Ls,options:bs}=Ss;if(Pr.current==null)return;const as=mr.get(Pr.current);if(!as)return;const vs=ws.nativeEvent,Rs=new Ls({active:Pr.current,activeNode:as,event:vs,options:bs,context:cs,onAbort(Is){if(!mr.get(Is))return;const{onDragAbort:tn}=wr.current,Nn={id:Is};tn==null||tn(Nn),or({type:"onDragAbort",event:Nn})},onPending(Is,Ys,tn,Nn){if(!mr.get(Is))return;const{onDragPending:go}=wr.current,Zn={id:Is,constraint:Ys,initialCoordinates:tn,offset:Nn};go==null||go(Zn),or({type:"onDragPending",event:Zn})},onStart(Is){const Ys=Pr.current;if(Ys==null)return;const tn=mr.get(Ys);if(!tn)return;const{onDragStart:Nn}=wr.current,Vn={activatorEvent:vs,active:{id:Ys,data:tn.data,rect:_r}};reactDomExports.unstable_batchedUpdates(()=>{Nn==null||Nn(Vn),dr(Status.Initializing),nr({type:Action.DragStart,initialCoordinates:Is,active:Ys}),or({type:"onDragStart",event:Vn}),Rr(ss.current),xr(vs)})},onMove(Is){nr({type:Action.DragMove,coordinates:Is})},onEnd:Os(Action.DragEnd),onCancel:Os(Action.DragCancel)});ss.current=Rs;function Os(Is){return async function(){const{active:tn,collisions:Nn,over:Vn,scrollAdjustedTranslate:go}=cs.current;let Zn=null;if(tn&&go){const{cancelDrop:bo}=wr.current;Zn={activatorEvent:vs,active:tn,collisions:Nn,delta:go,over:Vn},Is===Action.DragEnd&&typeof bo=="function"&&await Promise.resolve(bo(Zn))&&(Is=Action.DragCancel)}Pr.current=null,reactDomExports.unstable_batchedUpdates(()=>{nr({type:Is}),dr(Status.Uninitialized),_a(null),Rr(null),xr(null),ss.current=null;const bo=Is===Action.DragEnd?"onDragEnd":"onDragCancel";if(Zn){const qo=wr.current[bo];qo==null||qo(Zn),or({type:bo,event:Zn})}})}}},[mr]),gs=reactExports.useCallback((ws,Ss)=>(Ls,bs)=>{const as=Ls.nativeEvent,vs=mr.get(bs);if(Pr.current!==null||!vs||as.dndKit||as.defaultPrevented)return;const Rs={active:vs};ws(Ls,Ss.options,Rs)===!0&&(as.dndKit={capturedBy:Ss.sensor},Pr.current=bs,Wr(Ls,Ss))},[mr,Wr]),ps=useCombineActivators(Yt,gs);useSensorSetup(Yt),useIsomorphicLayoutEffect$6(()=>{ds&&cr===Status.Initializing&&dr(Status.Initialized)},[ds,cr]),reactExports.useEffect(()=>{const{onDragMove:ws}=wr.current,{active:Ss,activatorEvent:Ls,collisions:bs,over:as}=cs.current;if(!Ss||!Ls)return;const vs={active:Ss,activatorEvent:Ls,collisions:bs,delta:{x:zs.x,y:zs.y},over:as};reactDomExports.unstable_batchedUpdates(()=>{ws==null||ws(vs),or({type:"onDragMove",event:vs})})},[zs.x,zs.y]),reactExports.useEffect(()=>{const{active:ws,activatorEvent:Ss,collisions:Ls,droppableContainers:bs,scrollAdjustedTranslate:as}=cs.current;if(!ws||Pr.current==null||!Ss||!as)return;const{onDragOver:vs}=wr.current,Rs=bs.get(Fs),Os=Rs&&Rs.rect.current?{id:Rs.id,rect:Rs.rect.current,data:Rs.data,disabled:Rs.disabled}:null,Is={active:ws,activatorEvent:Ss,collisions:Ls,delta:{x:as.x,y:as.y},over:Os};reactDomExports.unstable_batchedUpdates(()=>{_a(Os),vs==null||vs(Is),or({type:"onDragOver",event:Is})})},[Fs]),useIsomorphicLayoutEffect$6(()=>{cs.current={activatorEvent:Tr,active:Or,activeNode:es,collisionRect:Js,collisions:_s,droppableRects:Xr,draggableNodes:mr,draggingNode:$s,draggingNodeRect:ks,droppableContainers:kr,over:Ln,scrollableAncestors:Ns,scrollAdjustedTranslate:zs},_r.current={initial:ks,translated:Js}},[Or,es,_s,Js,mr,$s,ks,Xr,kr,Ln,Ns,zs]),useAutoScroller({...ms,delta:vr,draggingRect:Js,pointerCoordinates:Ws,scrollableAncestors:Ns,scrollableAncestorRects:Ms});const js=reactExports.useMemo(()=>({active:Or,activeNode:es,activeNodeRect:ds,activatorEvent:Tr,collisions:_s,containerNodeRect:fs,dragOverlay:us,draggableNodes:mr,droppableContainers:kr,droppableRects:Xr,over:Ln,measureDroppableContainers:rs,scrollableAncestors:Ns,scrollableAncestorRects:Ms,measuringConfiguration:Gr,measuringScheduled:Yr,windowRect:Ts}),[Or,es,ds,Tr,_s,fs,us,mr,kr,Xr,Ln,rs,Ns,Ms,Gr,Yr,Ts]),hs=reactExports.useMemo(()=>({activatorEvent:Tr,activators:ps,active:Or,activeNodeRect:ds,ariaDescribedById:{draggable:zr},dispatch:nr,draggableNodes:mr,over:Ln,measureDroppableContainers:rs}),[Tr,ps,Or,ds,nr,zr,mr,Ln,rs]);return React$2.createElement(DndMonitorContext.Provider,{value:lr},React$2.createElement(InternalContext.Provider,{value:hs},React$2.createElement(PublicContext.Provider,{value:js},React$2.createElement(ActiveDraggableContext.Provider,{value:Vs},Kt)),React$2.createElement(RestoreFocus,{disabled:(Ut==null?void 0:Ut.restoreFocus)===!1})),React$2.createElement(Accessibility,{...Ut,hiddenTextDescribedById:zr}));function Es(){const ws=(Mr==null?void 0:Mr.autoScrollEnabled)===!1,Ss=typeof Ht=="object"?Ht.enabled===!1:Ht===!1,Ls=ur&&!ws&&!Ss;return typeof Ht=="object"?{...Ht,enabled:Ls}:{enabled:Ls}}}),NullContext=reactExports.createContext(null),defaultRole="button",ID_PREFIX$1="Draggable";function useDraggable(dt){let{id:et,data:$t,disabled:kt=!1,attributes:Tt}=dt;const Dt=useUniqueId(ID_PREFIX$1),{activators:Ft,activatorEvent:Ut,active:Ht,activeNodeRect:Kt,ariaDescribedById:Yt,draggableNodes:Jt,over:Zt}=reactExports.useContext(InternalContext),{role:er=defaultRole,roleDescription:rr="draggable",tabIndex:sr=0}=Tt??{},ir=(Ht==null?void 0:Ht.id)===et,nr=reactExports.useContext(ir?ActiveDraggableContext:NullContext),[or,lr]=useNodeRef(),[cr,dr]=useNodeRef(),ur=useSyntheticListeners(Ft,et),pr=useLatestValue($t);useIsomorphicLayoutEffect$6(()=>(Jt.set(et,{id:et,key:Dt,node:or,activatorNode:cr,data:pr}),()=>{const vr=Jt.get(et);vr&&vr.key===Dt&&Jt.delete(et)}),[Jt,et]);const mr=reactExports.useMemo(()=>({role:er,tabIndex:sr,"aria-disabled":kt,"aria-pressed":ir&&er===defaultRole?!0:void 0,"aria-roledescription":rr,"aria-describedby":Yt.draggable}),[kt,er,sr,ir,rr,Yt.draggable]);return{active:Ht,activatorEvent:Ut,activeNodeRect:Kt,attributes:mr,isDragging:ir,listeners:kt?void 0:ur,node:or,over:Zt,setNodeRef:lr,setActivatorNodeRef:dr,transform:nr}}function useDndContext(){return reactExports.useContext(PublicContext)}const ID_PREFIX$1$1="Droppable",defaultResizeObserverConfig={timeout:25};function useDroppable(dt){let{data:et,disabled:$t=!1,id:kt,resizeObserverConfig:Tt}=dt;const Dt=useUniqueId(ID_PREFIX$1$1),{active:Ft,dispatch:Ut,over:Ht,measureDroppableContainers:Kt}=reactExports.useContext(InternalContext),Yt=reactExports.useRef({disabled:$t}),Jt=reactExports.useRef(!1),Zt=reactExports.useRef(null),er=reactExports.useRef(null),{disabled:rr,updateMeasurementsFor:sr,timeout:ir}={...defaultResizeObserverConfig,...Tt},nr=useLatestValue(sr??kt),or=reactExports.useCallback(()=>{if(!Jt.current){Jt.current=!0;return}er.current!=null&&clearTimeout(er.current),er.current=setTimeout(()=>{Kt(Array.isArray(nr.current)?nr.current:[nr.current]),er.current=null},ir)},[ir]),lr=useResizeObserver({callback:or,disabled:rr||!Ft}),cr=reactExports.useCallback((mr,vr)=>{lr&&(vr&&(lr.unobserve(vr),Jt.current=!1),mr&&lr.observe(mr))},[lr]),[dr,ur]=useNodeRef(cr),pr=useLatestValue(et);return reactExports.useEffect(()=>{!lr||!dr.current||(lr.disconnect(),Jt.current=!1,lr.observe(dr.current))},[dr,lr]),reactExports.useEffect(()=>(Ut({type:Action.RegisterDroppable,element:{id:kt,key:Dt,disabled:$t,node:dr,rect:Zt,data:pr}}),()=>Ut({type:Action.UnregisterDroppable,key:Dt,id:kt})),[kt]),reactExports.useEffect(()=>{$t!==Yt.current.disabled&&(Ut({type:Action.SetDroppableDisabled,id:kt,key:Dt,disabled:$t}),Yt.current.disabled=$t)},[kt,Dt,$t,Ut]),{active:Ft,rect:Zt,isOver:(Ht==null?void 0:Ht.id)===kt,node:dr,over:Ht,setNodeRef:ur}}function arrayMove(dt,et,$t){const kt=dt.slice();return kt.splice($t<0?kt.length+$t:$t,0,kt.splice(et,1)[0]),kt}function getSortedRects(dt,et){return dt.reduce(($t,kt,Tt)=>{const Dt=et.get(kt);return Dt&&($t[Tt]=Dt),$t},Array(dt.length))}function isValidIndex(dt){return dt!==null&&dt>=0}function itemsEqual(dt,et){if(dt===et)return!0;if(dt.length!==et.length)return!1;for(let $t=0;$t<dt.length;$t++)if(dt[$t]!==et[$t])return!1;return!0}function normalizeDisabled(dt){return typeof dt=="boolean"?{draggable:dt,droppable:dt}:dt}const rectSortingStrategy=dt=>{let{rects:et,activeIndex:$t,overIndex:kt,index:Tt}=dt;const Dt=arrayMove(et,kt,$t),Ft=et[Tt],Ut=Dt[Tt];return!Ut||!Ft?null:{x:Ut.left-Ft.left,y:Ut.top-Ft.top,scaleX:Ut.width/Ft.width,scaleY:Ut.height/Ft.height}},defaultScale$1={scaleX:1,scaleY:1},verticalListSortingStrategy=dt=>{var et;let{activeIndex:$t,activeNodeRect:kt,index:Tt,rects:Dt,overIndex:Ft}=dt;const Ut=(et=Dt[$t])!=null?et:kt;if(!Ut)return null;if(Tt===$t){const Kt=Dt[Ft];return Kt?{x:0,y:$t<Ft?Kt.top+Kt.height-(Ut.top+Ut.height):Kt.top-Ut.top,...defaultScale$1}:null}const Ht=getItemGap$1(Dt,Tt,$t);return Tt>$t&&Tt<=Ft?{x:0,y:-Ut.height-Ht,...defaultScale$1}:Tt<$t&&Tt>=Ft?{x:0,y:Ut.height+Ht,...defaultScale$1}:{x:0,y:0,...defaultScale$1}};function getItemGap$1(dt,et,$t){const kt=dt[et],Tt=dt[et-1],Dt=dt[et+1];return kt?$t<et?Tt?kt.top-(Tt.top+Tt.height):Dt?Dt.top-(kt.top+kt.height):0:Dt?Dt.top-(kt.top+kt.height):Tt?kt.top-(Tt.top+Tt.height):0:0}const ID_PREFIX="Sortable",Context=React$2.createContext({activeIndex:-1,containerId:ID_PREFIX,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:rectSortingStrategy,disabled:{draggable:!1,droppable:!1}});function SortableContext(dt){let{children:et,id:$t,items:kt,strategy:Tt=rectSortingStrategy,disabled:Dt=!1}=dt;const{active:Ft,dragOverlay:Ut,droppableRects:Ht,over:Kt,measureDroppableContainers:Yt}=useDndContext(),Jt=useUniqueId(ID_PREFIX,$t),Zt=Ut.rect!==null,er=reactExports.useMemo(()=>kt.map(ur=>typeof ur=="object"&&"id"in ur?ur.id:ur),[kt]),rr=Ft!=null,sr=Ft?er.indexOf(Ft.id):-1,ir=Kt?er.indexOf(Kt.id):-1,nr=reactExports.useRef(er),or=!itemsEqual(er,nr.current),lr=ir!==-1&&sr===-1||or,cr=normalizeDisabled(Dt);useIsomorphicLayoutEffect$6(()=>{or&&rr&&Yt(er)},[or,er,rr,Yt]),reactExports.useEffect(()=>{nr.current=er},[er]);const dr=reactExports.useMemo(()=>({activeIndex:sr,containerId:Jt,disabled:cr,disableTransforms:lr,items:er,overIndex:ir,useDragOverlay:Zt,sortedRects:getSortedRects(er,Ht),strategy:Tt}),[sr,Jt,cr.draggable,cr.droppable,lr,er,ir,Ht,Zt,Tt]);return React$2.createElement(Context.Provider,{value:dr},et)}const defaultNewIndexGetter=dt=>{let{id:et,items:$t,activeIndex:kt,overIndex:Tt}=dt;return arrayMove($t,kt,Tt).indexOf(et)},defaultAnimateLayoutChanges=dt=>{let{containerId:et,isSorting:$t,wasDragging:kt,index:Tt,items:Dt,newIndex:Ft,previousItems:Ut,previousContainerId:Ht,transition:Kt}=dt;return!Kt||!kt||Ut!==Dt&&Tt===Ft?!1:$t?!0:Ft!==Tt&&et===Ht},defaultTransition={duration:200,easing:"ease"},transitionProperty="transform",disabledTransition=CSS.Transition.toString({property:transitionProperty,duration:0,easing:"linear"}),defaultAttributes={roleDescription:"sortable"};function useDerivedTransform(dt){let{disabled:et,index:$t,node:kt,rect:Tt}=dt;const[Dt,Ft]=reactExports.useState(null),Ut=reactExports.useRef($t);return useIsomorphicLayoutEffect$6(()=>{if(!et&&$t!==Ut.current&&kt.current){const Ht=Tt.current;if(Ht){const Kt=getClientRect(kt.current,{ignoreTransform:!0}),Yt={x:Ht.left-Kt.left,y:Ht.top-Kt.top,scaleX:Ht.width/Kt.width,scaleY:Ht.height/Kt.height};(Yt.x||Yt.y)&&Ft(Yt)}}$t!==Ut.current&&(Ut.current=$t)},[et,$t,kt,Tt]),reactExports.useEffect(()=>{Dt&&Ft(null)},[Dt]),Dt}function useSortable(dt){let{animateLayoutChanges:et=defaultAnimateLayoutChanges,attributes:$t,disabled:kt,data:Tt,getNewIndex:Dt=defaultNewIndexGetter,id:Ft,strategy:Ut,resizeObserverConfig:Ht,transition:Kt=defaultTransition}=dt;const{items:Yt,containerId:Jt,activeIndex:Zt,disabled:er,disableTransforms:rr,sortedRects:sr,overIndex:ir,useDragOverlay:nr,strategy:or}=reactExports.useContext(Context),lr=normalizeLocalDisabled(kt,er),cr=Yt.indexOf(Ft),dr=reactExports.useMemo(()=>({sortable:{containerId:Jt,index:cr,items:Yt},...Tt}),[Jt,Tt,cr,Yt]),ur=reactExports.useMemo(()=>Yt.slice(Yt.indexOf(Ft)),[Yt,Ft]),{rect:pr,node:mr,isOver:vr,setNodeRef:kr}=useDroppable({id:Ft,data:dr,disabled:lr.droppable,resizeObserverConfig:{updateMeasurementsFor:ur,...Ht}}),{active:br,activatorEvent:_r,activeNodeRect:Or,attributes:Pr,setNodeRef:Mr,listeners:Rr,isDragging:Tr,over:xr,setActivatorNodeRef:wr,transform:zr}=useDraggable({id:Ft,data:dr,attributes:{...defaultAttributes,...$t},disabled:lr.draggable}),Hr=useCombinedRefs(kr,Mr),Gr=!!br,Xr=Gr&&!rr&&isValidIndex(Zt)&&isValidIndex(ir),rs=!nr&&Tr,Yr=rs&&Xr?zr:null,ns=Xr?Yr??(Ut??or)({rects:sr,activeNodeRect:Or,activeIndex:Zt,overIndex:ir,index:cr}):null,ms=isValidIndex(Zt)&&isValidIndex(ir)?Dt({id:Ft,items:Yt,activeIndex:Zt,overIndex:ir}):cr,ls=br==null?void 0:br.id,ds=reactExports.useRef({activeId:ls,items:Yt,newIndex:ms,containerId:Jt}),fs=Yt!==ds.current.items,cs=et({active:br,containerId:Jt,isDragging:Tr,isSorting:Gr,id:Ft,index:cr,items:Yt,newIndex:ds.current.newIndex,previousItems:ds.current.items,previousContainerId:ds.current.containerId,transition:Kt,wasDragging:ds.current.activeId!=null}),xs=useDerivedTransform({disabled:!cs,index:cr,node:mr,rect:pr});return reactExports.useEffect(()=>{Gr&&ds.current.newIndex!==ms&&(ds.current.newIndex=ms),Jt!==ds.current.containerId&&(ds.current.containerId=Jt),Yt!==ds.current.items&&(ds.current.items=Yt)},[Gr,ms,Jt,Yt]),reactExports.useEffect(()=>{if(ls===ds.current.activeId)return;if(ls!=null&&ds.current.activeId==null){ds.current.activeId=ls;return}const $s=setTimeout(()=>{ds.current.activeId=ls},50);return()=>clearTimeout($s)},[ls]),{active:br,activeIndex:Zt,attributes:Pr,data:dr,rect:pr,index:cr,newIndex:ms,items:Yt,isOver:vr,isSorting:Gr,isDragging:Tr,listeners:Rr,node:mr,overIndex:ir,over:xr,setNodeRef:Hr,setActivatorNodeRef:wr,setDroppableNodeRef:kr,setDraggableNodeRef:Mr,transform:xs??ns,transition:us()};function us(){if(xs||fs&&ds.current.newIndex===cr)return disabledTransition;if(!(rs&&!isKeyboardEvent(_r)||!Kt)&&(Gr||cs))return CSS.Transition.toString({...Kt,property:transitionProperty})}}function normalizeLocalDisabled(dt,et){var $t,kt;return typeof dt=="boolean"?{draggable:dt,droppable:!1}:{draggable:($t=dt==null?void 0:dt.draggable)!=null?$t:et.draggable,droppable:(kt=dt==null?void 0:dt.droppable)!=null?kt:et.droppable}}KeyboardCode.Down,KeyboardCode.Right,KeyboardCode.Up,KeyboardCode.Left;function FAQBlock({block:dt,index:et,updateBlock:$t,updateChildBlock:kt,openAIModal:Tt,containerIndex:Dt}){const Ft=React$2.useRef(!1);reactExports.useEffect(()=>{if(Ft.current||!dt.items)return;if(!dt.items.some(Zt=>!Zt.id)){Ft.current=!0;return}const Jt=dt.items.map(Zt=>({...Zt,id:Zt.id||crypto.randomUUID()}));Ft.current=!0,$t(et,"items",Jt)},[]);const Ut=useSensors(useSensor(PointerSensor,{activationConstraint:{distance:5}}));function Ht(Yt){const{active:Jt,over:Zt}=Yt;if(Zt&&Jt.id!==Zt.id){const er=dt.items||[],rr=er.findIndex(nr=>nr.id===Jt.id),sr=er.findIndex(nr=>nr.id===Zt.id),ir=arrayMove(er,rr,sr);$t(et,"items",ir)}}function Kt({id:Yt}){const{attributes:Jt,listeners:Zt,setNodeRef:er,transform:rr,transition:sr}=useSortable({id:Yt}),ir={transform:CSS.Transform.toString(rr),transition:sr};return jsxRuntimeExports.jsx("div",{ref:er,style:ir,...Jt,...Zt,className:"cursor-grab active:cursor-grabbing text-gray-400 mr-3 select-none text-xl",children:""})}return jsxRuntimeExports.jsxs("div",{className:"rounded-xl p-6 mt-3 bg-[#0F172A]/60 border border-gray-700 transition-all duration-300",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-silver mb-4",children:"FAQ Section"}),jsxRuntimeExports.jsx("div",{className:"pb-2",children:jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>Tt({blockType:"faq",blockIndex:et,updateChildBlock:kt,containerIndex:Dt,currentText:(dt.items||[]).map(Yt=>`Q: ${Yt.q}
A: ${Yt.a}`).join(`

`),role:"faq"}),onPointerDown:Yt=>Yt.stopPropagation(),className:`
      text-xs font-semibold px-3 py-1 rounded-md
      bg-royalPurple text-white
      hover:bg-royalPurple/80
      transition
    `,title:"Generate or improve FAQs with AI",children:"AI"})}),jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300 mt-6",children:"Section Title"}),jsxRuntimeExports.jsx("input",{type:"text",value:dt.title||"",onPointerDown:Yt=>Yt.stopPropagation(),onChange:Yt=>$t(et,"title",Yt.target.value),className:"w-full p-2 border border-gray-600 rounded bg-black text-white mt-1"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300",children:"Text Color"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[jsxRuntimeExports.jsx("input",{type:"color",value:dt.text_color||"#ffffff",onChange:Yt=>$t(et,"text_color",Yt.target.value),className:"w-10 h-10 rounded cursor-pointer border border-gray-600"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-400",children:dt.text_color})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300",children:"Background"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[jsxRuntimeExports.jsx("input",{type:"color",value:dt.bg_color||"#000000",onChange:Yt=>$t(et,"bg_color",Yt.target.value),className:"w-10 h-10 rounded cursor-pointer border border-gray-600"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-400",children:dt.bg_color})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mt-4",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300",children:"Match Page Background"}),jsxRuntimeExports.jsx("input",{type:"checkbox",checked:dt.match_main_bg||!1,onChange:Yt=>$t(et,"match_main_bg",Yt.target.checked)})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mt-4",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300",children:"Use Gradient"}),jsxRuntimeExports.jsx("input",{type:"checkbox",checked:dt.use_gradient||!1,onChange:Yt=>$t(et,"use_gradient",Yt.target.checked)})]}),dt.use_gradient&&jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300",children:"Start"}),jsxRuntimeExports.jsx("input",{type:"color",value:dt.gradient_start||"#F285C3",onChange:Yt=>$t(et,"gradient_start",Yt.target.value),className:"w-full h-10 rounded cursor-pointer border border-gray-600"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300",children:"End"}),jsxRuntimeExports.jsx("input",{type:"color",value:dt.gradient_end||"#7bed9f",onChange:Yt=>$t(et,"gradient_end",Yt.target.value),className:"w-full h-10 rounded cursor-pointer border border-gray-600"})]}),jsxRuntimeExports.jsxs("div",{className:"col-span-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300",children:"Direction"}),jsxRuntimeExports.jsxs("select",{value:dt.gradient_direction||"90deg",onChange:Yt=>$t(et,"gradient_direction",Yt.target.value),className:"w-full p-2 border border-gray-600 rounded bg-black text-white",children:[jsxRuntimeExports.jsx("option",{value:"90deg",children:"Left to Right"}),jsxRuntimeExports.jsx("option",{value:"180deg",children:"Top to Bottom"}),jsxRuntimeExports.jsx("option",{value:"45deg",children:"Diagonal"}),jsxRuntimeExports.jsx("option",{value:"135deg",children:"Diagonal"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mt-4",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300",children:"No Background"}),jsxRuntimeExports.jsx("input",{type:"checkbox",checked:dt.use_no_bg||!1,onChange:Yt=>$t(et,"use_no_bg",Yt.target.checked)})]}),jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300 mt-4 block",children:"Alignment"}),jsxRuntimeExports.jsxs("select",{value:dt.alignment||"left",onChange:Yt=>$t(et,"alignment",Yt.target.value),className:"p-2 bg-black border border-gray-700 rounded text-white text-sm w-full",children:[jsxRuntimeExports.jsx("option",{value:"left",children:"Left"}),jsxRuntimeExports.jsx("option",{value:"center",children:"Center"}),jsxRuntimeExports.jsx("option",{value:"right",children:"Right"})]}),jsxRuntimeExports.jsx("div",{className:"mt-6 space-y-4",children:jsxRuntimeExports.jsx(DndContext,{sensors:Ut,collisionDetection:closestCenter,onDragEnd:Ht,children:jsxRuntimeExports.jsx(SortableContext,{items:(dt.items||[]).map(Yt=>Yt.id),strategy:verticalListSortingStrategy,children:(dt.items||[]).map(Yt=>jsxRuntimeExports.jsxs("div",{className:"bg-[#1f2937]/60 p-4 rounded-lg border border-gray-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx(Kt,{id:Yt.id}),jsxRuntimeExports.jsx("input",{type:"text",value:Yt.q,onChange:Jt=>{const Zt=dt.items.map(er=>er.id===Yt.id?{...er,q:Jt.target.value}:er);$t(et,"items",Zt)},className:"w-full bg-black border border-gray-600 rounded text-white p-2"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>{const Jt=dt.items.map(Zt=>Zt.id===Yt.id?{...Zt,open:!Zt.open}:Zt);$t(et,"items",Jt)},className:"ml-3 text-gray-300 text-xl",children:Yt.open?"":"+"})]}),jsxRuntimeExports.jsx("div",{className:`overflow-hidden transition-all duration-300 ${Yt.open?"max-h-40 mt-3":"max-h-0"}`,children:jsxRuntimeExports.jsx("textarea",{value:Yt.a,onChange:Jt=>{const Zt=dt.items.map(er=>er.id===Yt.id?{...er,a:Jt.target.value}:er);$t(et,"items",Zt)},className:"w-full bg-black border border-gray-600 rounded text-white p-2 h-20"})}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>{const Jt=dt.items.filter(Zt=>Zt.id!==Yt.id);$t(et,"items",Jt)},className:"text-red-400 text-xs mt-3 hover:underline",children:"Remove Question"})]},Yt.id))})})}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>$t(et,"items",[...dt.items||[],{id:crypto.randomUUID(),q:"New Question",a:"Your answer...",open:!1}]),className:"mt-4 bg-green text-black rounded-lg px-4 py-2 text-sm font-semibold hover:bg-green/80",children:"Add FAQ Item"})]})}function ImageBlock({block:dt,index:et,updateBlock:$t,bgTheme:kt,getLabelContrast:Tt,adjustForLandingOverlay:Dt,landing:Ft}){return jsxRuntimeExports.jsxs("div",{className:"rounded-xl p-6 mt-3 border border-gray-700 transition-all duration-300 bg-[#0F172A]",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",style:{color:Tt(dt.bg_color||kt)},children:"Image Upload"}),jsxRuntimeExports.jsx("span",{className:"text-xs bg-[#1E293B] text-gray-300 px-2 py-1 rounded-full border border-gray-600",children:"Max 5 MB"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold",style:{color:Tt(dt.bg_color||kt)},children:"Background"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[jsxRuntimeExports.jsx("input",{type:"color",value:dt.bg_color||"#000000",onChange:Ut=>$t(et,"bg_color",Ut.target.value),className:"w-10 h-10 rounded cursor-pointer border border-gray-600"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-400",children:dt.bg_color||"#000000"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mt-6",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold",style:{color:Tt(dt.bg_color||kt)},children:"Match Page Background"}),jsxRuntimeExports.jsx("input",{type:"checkbox",checked:dt.match_main_bg||!1,onChange:Ut=>$t(et,"match_main_bg",Ut.target.checked)})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold",style:{color:Tt(dt.bg_color||kt)},children:"Use Gradient"}),jsxRuntimeExports.jsx("input",{type:"checkbox",checked:dt.use_gradient||!1,onChange:Ut=>$t(et,"use_gradient",Ut.target.checked)})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold",style:{color:Tt(dt.bg_color||kt)},children:"No Background"}),jsxRuntimeExports.jsx("input",{type:"checkbox",checked:dt.use_no_bg||!1,onChange:Ut=>$t(et,"use_no_bg",Ut.target.checked)})]})]}),dt.use_gradient&&jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold",style:{color:Tt(dt.bg_color||kt)},children:"Start"}),jsxRuntimeExports.jsx("input",{type:"color",value:dt.gradient_start||"#F285C3",onChange:Ut=>$t(et,"gradient_start",Ut.target.value),className:"w-full h-10 rounded cursor-pointer border border-gray-600"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold",style:{color:Tt(dt.bg_color||kt)},children:"End"}),jsxRuntimeExports.jsx("input",{type:"color",value:dt.gradient_end||"#7bed9f",onChange:Ut=>$t(et,"gradient_end",Ut.target.value),className:"w-full h-10 rounded cursor-pointer border border-gray-600"})]}),jsxRuntimeExports.jsxs("div",{className:"col-span-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold",style:{color:Tt(dt.bg_color||kt)},children:"Direction"}),jsxRuntimeExports.jsxs("select",{value:dt.gradient_direction||"90deg",onChange:Ut=>$t(et,"gradient_direction",Ut.target.value),className:"w-full p-2 bg-black border border-gray-700 rounded text-white",children:[jsxRuntimeExports.jsx("option",{value:"90deg",children:"Left  Right"}),jsxRuntimeExports.jsx("option",{value:"180deg",children:"Top  Bottom"}),jsxRuntimeExports.jsx("option",{value:"45deg",children:"Diagonal "}),jsxRuntimeExports.jsx("option",{value:"135deg",children:"Diagonal "})]})]})]}),jsxRuntimeExports.jsx("div",{className:"rounded-xl border border-gray-700 p-6 mt-4",style:{background:dt.use_no_bg?"transparent":dt.use_gradient?`linear-gradient(${dt.gradient_direction||"90deg"}, ${dt.gradient_start||"#F285C3"}, ${dt.gradient_end||"#7bed9f"})`:dt.match_main_bg?Dt(kt):dt.bg_color||"transparent"},children:dt.image_url?jsxRuntimeExports.jsxs("div",{children:[(()=>{const Ut=!!dt.has_alpha;return jsxRuntimeExports.jsx("div",{style:{background:Ut?"repeating-conic-gradient(#e0e0e0 0% 25%, #ffffff 0% 50%) 50% / 20px 20px":"transparent",padding:Ut?"10px":"0px",borderRadius:`${dt.radius||0}px`},children:jsxRuntimeExports.jsx("img",{src:dt.image_url,alt:"",className:"rounded-lg mx-auto",style:{maxWidth:dt.full_width?"100%":dt.width?`${dt.width}%`:"100%",width:"100%",padding:`${dt.padding||0}px`,borderRadius:`${dt.radius||0}px`,boxShadow:dt.shadow?(()=>{const Ht=(dt.shadow_angle||135)*Math.PI/180,Kt=Math.round(Math.cos(Ht)*(dt.shadow_offset||10)),Yt=Math.round(Math.sin(Ht)*(dt.shadow_offset||10));return`${Kt}px ${Yt}px ${dt.shadow_depth||25}px ${dt.shadow_color||"rgba(0,0,0,0.5)"}`})():"none"}})})})(),jsxRuntimeExports.jsx("button",{type:"button",className:"text-red-400 text-xs mt-3 hover:underline mx-auto block text-center",onClick:Ut=>{Ut.stopPropagation(),$t(et,"image_url","")},children:"Remove Image"})]}):jsxRuntimeExports.jsxs("label",{htmlFor:`imageUpload-${dt.id}`,className:"flex flex-col items-center justify-center border-2 border-dashed border-gray-600 hover:border-green rounded-xl py-10 px-6 cursor-pointer transition-all group",children:[jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-gray-500 group-hover:text-green transition",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-6-9l-3-3m0 0l-3 3m3-3V15"})}),jsxRuntimeExports.jsxs("p",{className:"mt-3 text-sm text-gray-400",children:[jsxRuntimeExports.jsx("span",{className:"text-green font-medium",children:"Click to upload"})," or drag image"]}),jsxRuntimeExports.jsx("input",{id:`imageUpload-${dt.id}`,type:"file",accept:"image/*",onChange:async Ut=>{const Ht=Ut.target.files[0];if(!Ht)return;const Kt=URL.createObjectURL(Ht);$t(et,"image_url",Kt);const Yt=new FormData;Yt.append("image",Ht),Yt.append("landingId",Ft.id),Yt.append("blockId",dt.id);try{const Jt=await axiosInstance.post("/landing/upload-media-block",Yt,{headers:{"Content-Type":"multipart/form-data"}});Jt.data.success?($t(et,"image_url",Jt.data.url),$t(et,"has_alpha",Jt.data.has_alpha),y$4.success("Image uploaded!")):y$4.error("Upload failed")}catch(Jt){console.error(Jt),y$4.error("Upload error")}finally{URL.revokeObjectURL(Kt)}},className:"hidden"})]})}),jsxRuntimeExports.jsxs("div",{className:"mt-6",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold",style:{color:Tt(dt.bg_color||kt)},children:"Padding (px)"}),jsxRuntimeExports.jsx("input",{type:"number",value:dt.padding||0,onChange:Ut=>$t(et,"padding",Number(Ut.target.value)),className:"w-full p-2 border border-gray-600 rounded bg-black text-white mt-1"})]}),jsxRuntimeExports.jsxs("div",{className:"mt-6",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold",style:{color:Tt(dt.bg_color||kt)},children:"Image Width (%)"}),jsxRuntimeExports.jsx("input",{type:"range",min:"10",max:"100",value:dt.width||100,onChange:Ut=>$t(et,"width",Number(Ut.target.value)),className:"w-full mt-2"}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[dt.width||100,"%"]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-6",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold",style:{color:Tt(dt.bg_color||kt)},children:"Rounded Corners (px)"}),jsxRuntimeExports.jsx("input",{type:"range",min:"0",max:"100",value:dt.radius||0,onChange:Ut=>$t(et,"radius",Number(Ut.target.value)),className:"w-full mt-2"}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[dt.radius||0,"px"]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold",style:{color:Tt(dt.bg_color||kt)},children:"Shadow Color"}),jsxRuntimeExports.jsx("input",{type:"color",value:dt.shadow_color||"#000000",onChange:Ut=>$t(et,"shadow_color",Ut.target.value),className:"w-full h-10 rounded cursor-pointer border border-gray-600 mt-1"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold",style:{color:Tt(dt.bg_color||kt)},children:"Shadow Depth"}),jsxRuntimeExports.jsx("input",{type:"range",min:"5",max:"60",value:dt.shadow_depth||25,onChange:Ut=>$t(et,"shadow_depth",Number(Ut.target.value)),className:"w-full mt-3"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold",style:{color:Tt(dt.bg_color||kt)},children:"Shadow Angle ()"}),jsxRuntimeExports.jsx("input",{type:"range",min:"0",max:"360",value:dt.shadow_angle||135,onChange:Ut=>$t(et,"shadow_angle",Number(Ut.target.value)),className:"w-full mt-3"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold",style:{color:Tt(dt.bg_color||kt)},children:"Shadow Offset"}),jsxRuntimeExports.jsx("input",{type:"range",min:"0",max:"50",value:dt.shadow_offset||10,onChange:Ut=>$t(et,"shadow_offset",Number(Ut.target.value)),className:"w-full mt-3"})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-6",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold",style:{color:Tt(dt.bg_color||kt)},children:"Caption"}),jsxRuntimeExports.jsx("input",{type:"text",value:dt.caption||"",placeholder:"Optional caption",onChange:Ut=>$t(et,"caption",Ut.target.value),className:"w-full p-2 border border-gray-600 rounded bg-black text-white mt-1"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mt-6",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold",style:{color:Tt(dt.bg_color||kt)},children:"Enable Shadow"}),jsxRuntimeExports.jsx("input",{type:"checkbox",checked:dt.shadow||!1,onChange:Ut=>$t(et,"shadow",Ut.target.checked)})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mt-4",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold",style:{color:Tt(dt.bg_color||kt)},children:"Full Width"}),jsxRuntimeExports.jsx("input",{type:"checkbox",checked:dt.full_width||!1,onChange:Ut=>$t(et,"full_width",Ut.target.checked)})]})]})}function SecureCheckoutBlock({block:dt,index:et,updateBlock:$t}){var kt;return jsxRuntimeExports.jsxs("div",{className:"mt-3 transition-all duration-300",children:[jsxRuntimeExports.jsxs("div",{className:"bg-[#0F172A]/60 border border-gray-700 p-6 rounded-xl mb-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-silver mb-4",children:"Secure Checkout Settings"}),jsxRuntimeExports.jsx("label",{className:"block text-sm text-gray-300 font-semibold mb-1",children:"Title"}),jsxRuntimeExports.jsx("input",{type:"text",value:dt.title||"",onChange:Tt=>$t(et,"title",Tt.target.value),placeholder:"Secure Checkout",className:"w-full mb-4 p-2 bg-black border border-gray-600 rounded text-white"}),jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300",children:"Subtext"}),jsxRuntimeExports.jsx("textarea",{value:dt.subtext||"",onChange:Tt=>$t(et,"subtext",Tt.target.value),placeholder:"Your information is protected by industry-leading encryption and secure payment processing.",className:"w-full mt-1 p-2 h-20 bg-black border border-gray-600 rounded text-white"}),jsxRuntimeExports.jsx("label",{className:"block mt-4 text-sm text-gray-300 font-semibold",children:"Trust Badges List"}),(dt.trust_items||[]).map((Tt,Dt)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[jsxRuntimeExports.jsx("input",{type:"text",value:Tt,onChange:Ft=>{const Ut=[...dt.trust_items];Ut[Dt]=Ft.target.value,$t(et,"trust_items",Ut)},className:"flex-1 p-2 bg-black border border-gray-600 rounded text-white"}),jsxRuntimeExports.jsx("button",{className:"text-red-400 text-xs",onClick:()=>{const Ft=dt.trust_items.filter((Ut,Ht)=>Ht!==Dt);$t(et,"trust_items",Ft)},children:"Remove"})]},Dt)),jsxRuntimeExports.jsx("button",{onClick:()=>$t(et,"trust_items",[...dt.trust_items||[],"Secure SSL Encryption"]),className:"mt-3 text-sm px-3 py-2 rounded bg-green text-black font-semibold hover:bg-green/80",children:"Add Trust Item"}),jsxRuntimeExports.jsxs("div",{className:"mt-6 p-4 rounded-lg border border-gray-700 bg-[#1a2537]/60",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300",children:"Guarantee Message"}),jsxRuntimeExports.jsx("textarea",{value:dt.guarantee||"",onChange:Tt=>$t(et,"guarantee",Tt.target.value),placeholder:"30 day money back guarantee on all purchases",className:"w-full mt-1 p-2 bg-black border border-gray-600 rounded text-white h-20"})]}),jsxRuntimeExports.jsx("label",{className:"block mt-6 text-sm text-gray-300 font-semibold",children:"Payment Badge URL"}),jsxRuntimeExports.jsx("input",{type:"text",value:dt.payment_badge||"",onChange:Tt=>$t(et,"payment_badge",Tt.target.value),placeholder:"https://your-image.com/stripebadge.png",className:"w-full p-2 bg-black border border-gray-600 rounded text-white"}),dt.payment_badge&&jsxRuntimeExports.jsx("img",{src:dt.payment_badge,alt:"Payment Badge",className:"w-40 mt-4 opacity-90 mx-auto"})]}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsxs("h2",{className:"text-[1.25rem] font-extrabold text-white flex items-center justify-center gap-2 mb-2",children:[jsxRuntimeExports.jsx(Lock,{className:"w-4 h-4 text-white"}),dt.title||"Secure Checkout"]}),dt.subtext&&jsxRuntimeExports.jsx("p",{className:"text-gray-300 max-w-xl mx-auto mb-4",children:dt.subtext}),((kt=dt.trust_items)==null?void 0:kt.length)>0&&jsxRuntimeExports.jsx("ul",{className:"flex flex-col items-center gap-1 mb-4",children:dt.trust_items.map((Tt,Dt)=>jsxRuntimeExports.jsxs("li",{className:"flex items-center gap-2 text-white text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-green font-bold",children:""})," ",Tt]},Dt))}),dt.guarantee&&jsxRuntimeExports.jsx("p",{className:"text-gray-300 text-sm mb-4",children:dt.guarantee}),dt.payment_badge&&jsxRuntimeExports.jsx("img",{src:dt.payment_badge,className:"w-40 opacity-80 mx-auto mt-2"})]})]})}function AudioPlayerBlock({block:dt,index:et,updateBlock:$t,landing:kt,bgTheme:Tt}){var kr;const Ft=reactExports.useRef(null),Ut=reactExports.useRef(!1),[Ht,Kt]=reactExports.useState(!1),[Yt,Jt]=reactExports.useState(0),[Zt,er]=reactExports.useState(0),[rr,sr]=reactExports.useState(0),[ir,nr]=reactExports.useState(!1),or=br=>{if(!br)return"#f3f4f6";const _r=br.replace("#","");if(_r.length!==6)return"#f3f4f6";const Or=parseInt(_r.substring(0,2),16),Pr=parseInt(_r.substring(2,4),16),Mr=parseInt(_r.substring(4,6),16);return(Or*299+Pr*587+Mr*114)/1e3>160?"#1f2937":"#f3f4f6"};function lr(br){if(!br||isNaN(br))return"00:00";const _r=Math.floor(br/60),Or=Math.floor(br%60);return`${String(_r).padStart(2,"0")}:${String(Or).padStart(2,"0")}`}const cr=br=>{$t(et,"audio_url",br.audio_url),$t(et,"title",br.title),$t(et,"cover_url",br.cover_url||""),$t(et,"audio_name",br.title||"Track"),Jt(0),er(0),sr(0),Kt(!1),Ut.current=!1},dr=()=>{const br=Ft.current;br&&(br.paused?br.play().catch(()=>{}):br.pause())};reactExports.useEffect(()=>{const br=Ft.current;if(!br)return;const _r=()=>Kt(!0),Or=()=>Kt(!1),Pr=()=>{er(br.duration||0)},Mr=()=>{const Tr=br.currentTime||0,xr=br.duration||1;if(dt.preview_enabled&&dt.preview_duration>0&&Tr>=Math.min(dt.preview_duration,xr)){Ut.current||(Ut.current=!0,y$4.info("Preview ended. Purchase to unlock the full track.")),br.pause(),br.currentTime=0,Jt(0),sr(0);return}Jt(Tr),sr(Tr/xr*100)},Rr=()=>{Kt(!1);const Tr=dt.playlist||[],xr=Tr.findIndex(zr=>zr.audio_url===dt.audio_url),wr=Tr[xr+1];wr&&cr(wr)};return br.addEventListener("play",_r),br.addEventListener("pause",Or),br.addEventListener("loadedmetadata",Pr),br.addEventListener("timeupdate",Mr),br.addEventListener("ended",Rr),()=>{br.removeEventListener("play",_r),br.removeEventListener("pause",Or),br.removeEventListener("loadedmetadata",Pr),br.removeEventListener("timeupdate",Mr),br.removeEventListener("ended",Rr)}},[dt.audio_url,dt.preview_enabled,dt.preview_duration,dt.playlist]);async function ur(br,_r,Or){const Pr=await axiosInstance.post("/seller-checkout/create-audio-checkout",{audio_type:"single",landingPageId:Or.id,blockId:_r.id,sellerId:Or.user_id,audio_urls:[br.audio_url],product_name:br.title||"Audio Track",price_in_cents:Math.round((br.price||_r.single_price)*100),cover_url:br.cover_url||_r.cover_url||""});Pr.data.url&&(window.location.href=Pr.data.url)}async function pr(br,_r){var Pr,Mr,Rr;const Or=await axiosInstance.post("/seller-checkout/create-audio-checkout",{audio_type:"album",landingPageId:_r.id,blockId:br.id,sellerId:_r.user_id,audio_urls:br.playlist.map(Tr=>Tr.audio_url),product_name:((Pr=br.album_button_text)==null?void 0:Pr.trim())||"Buy Album",price_in_cents:Math.round(br.album_price*100),cover_url:br.cover_url||((Rr=(Mr=br.playlist)==null?void 0:Mr[0])==null?void 0:Rr.cover_url)||""});Or.data.url&&(window.location.href=Or.data.url)}function mr(br){const _r=Math.min(br,1800),Or=[];for(let Pr=10;Pr<=_r;Pr+=30){const Mr=Math.floor(Pr/60),Rr=Pr%60,Tr=Mr>0?`${Mr}m ${Rr>0?Rr+"s":""}`:`${Rr}s`;Or.push({value:Pr,label:Tr})}return Or}function vr(br){return new Promise((_r,Or)=>{const Pr=document.createElement("audio");Pr.preload="metadata",Pr.onloadedmetadata=()=>{URL.revokeObjectURL(Pr.src),Pr.duration>10800?Or(new Error("Audio exceeds the 3 hour maximum length")):_r()},Pr.onerror=()=>{Or(new Error("Unable to read audio metadata"))},Pr.src=URL.createObjectURL(br)})}return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"relative rounded-xl p-6 mt-3 border border-gray-700 transition-all",style:{background:dt.match_main_bg?Tt:dt.use_gradient?`linear-gradient(${dt.gradient_direction}, ${dt.gradient_start}, ${dt.gradient_end})`:dt.bg_color||"transparent"},children:[ir&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/60 z-50 rounded-xl",children:jsxRuntimeExports.jsx("div",{className:"w-10 h-10 border-4 border-t-transparent border-green rounded-full animate-spin"})}),jsxRuntimeExports.jsx("audio",{ref:Ft,src:dt.audio_url||"",preload:"metadata"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-6 mt-4",children:[dt.show_cover&&dt.cover_url&&jsxRuntimeExports.jsx("img",{src:dt.cover_url,className:"w-[70px] h-[70px] object-cover rounded-lg"}),jsxRuntimeExports.jsxs("div",{className:"flex-1 text-left",children:[dt.show_title&&jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2 mb-2",children:jsxRuntimeExports.jsx("span",{className:"font-semibold",style:{color:dt.text_color},children:dt.title})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"w-[38px] h-[38px] rounded-lg bg-[#1e293b] flex items-center justify-center cursor-pointer",onClick:()=>{const br=Ft.current;br&&(br.currentTime=Math.max(0,br.currentTime-10))},children:jsxRuntimeExports.jsx("svg",{width:"16",height:"16",fill:dt.progress_color,children:jsxRuntimeExports.jsx("path",{d:"M12 16V4L4 10l8 6z"})})}),jsxRuntimeExports.jsx("div",{onClick:dr,className:"w-[45px] h-[45px] rounded-full flex items-center justify-center cursor-pointer shadow-lg",style:{background:dt.progress_color},children:Ht?jsxRuntimeExports.jsx("svg",{width:"26",height:"26",fill:"#000",children:jsxRuntimeExports.jsx("path",{d:"M8 4h4v16H8zm6 0h4v16h-4z"})}):jsxRuntimeExports.jsx("svg",{width:"26",height:"26",fill:"#000",children:jsxRuntimeExports.jsx("path",{d:"M8 4v16l12-8z"})})}),jsxRuntimeExports.jsx("div",{className:"w-[38px] h-[38px] rounded-lg bg-[#1e293b] flex items-center justify-center cursor-pointer",onClick:()=>{const br=Ft.current;if(!br)return;const _r=br.duration||1/0;br.currentTime=Math.min(_r,br.currentTime+10)},children:jsxRuntimeExports.jsx("svg",{width:"16",height:"16",fill:dt.progress_color,children:jsxRuntimeExports.jsx("path",{d:"M8 4v12l8-6-8-6z"})})}),jsxRuntimeExports.jsx("div",{className:"w-[120px] h-[6px] bg-[#1f2937] rounded-lg overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:"h-full",style:{width:"70%",background:dt.progress_color}})})]}),jsxRuntimeExports.jsx("input",{type:"range",min:0,max:100,value:rr,onChange:br=>{const _r=Ft.current;if(!_r)return;const Or=Number(br.target.value),Pr=_r.duration||1;let Mr=Or/100*Pr;const Rr=dt.preview_enabled&&dt.preview_duration>0?Math.min(dt.preview_duration,Pr):null;if(Rr!==null&&Mr>=Rr){Mr=Rr,sr(Rr/Pr*100),Jt(Rr),_r.currentTime=Rr;return}_r.currentTime=Mr,sr(Or),Jt(Mr)},className:"w-full mt-4 accent-green cursor-pointer"}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-gray-400 text-sm mt-1",children:[jsxRuntimeExports.jsx("span",{children:lr(Yt)}),jsxRuntimeExports.jsx("span",{children:lr(Zt)})]})]})]}),((kr=dt.playlist)==null?void 0:kr.length)>0&&jsxRuntimeExports.jsxs("div",{className:"mt-6",children:[jsxRuntimeExports.jsx("h4",{className:"text-silver mb-2 font-semibold",children:"Playlist"}),jsxRuntimeExports.jsx("ul",{className:"space-y-2",children:dt.playlist.map((br,_r)=>{const Or=dt.audio_url===br.audio_url;return jsxRuntimeExports.jsx("li",{className:`p-3 rounded border cursor-pointer 
    ${Or?"bg-green/20 border-green":"bg-[#1E293B] border-gray-700 hover:bg-[#2A3A4F]"}
  `,onClick:()=>cr(br),children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 w-full",children:[br.cover_url&&jsxRuntimeExports.jsx("img",{src:br.cover_url,className:"w-10 h-10 object-cover rounded"}),jsxRuntimeExports.jsx("span",{className:"flex-1 text-white truncate",children:br.title}),jsxRuntimeExports.jsx("span",{className:"text-gray-400 text-sm mr-3",children:br.duration||"--:--"}),dt.sell_singles&&jsxRuntimeExports.jsx("button",{type:"button",onClick:Pr=>{Pr.stopPropagation(),ur(br,dt,kt)},className:"px-3 py-1 rounded bg-green text-black font-semibold text-sm",children:dt.single_button_text||"Buy"})]})},_r)})})]}),dt.sell_album&&dt.playlist.length>0&&jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>pr(dt,kt),className:"mt-4 w-full py-3 bg-green text-black font-semibold rounded-lg",children:dt.album_button_text||"Buy Album"})]}),jsxRuntimeExports.jsxs("div",{className:"mt-8 space-y-6 p-4 rounded-lg bg-[#111]/40 border border-gray-800",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300",children:"Playback Appearance"}),jsxRuntimeExports.jsxs("div",{className:"mt-3",children:[jsxRuntimeExports.jsx("label",{className:"text-sm text-gray-300 mb-1 block",children:"Progress Color"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"color",value:dt.progress_color,onChange:br=>$t(et,"progress_color",br.target.value),className:"w-10 h-10 rounded-full cursor-pointer border border-gray-600"}),jsxRuntimeExports.jsx("input",{type:"text",value:dt.progress_color,onChange:br=>$t(et,"progress_color",br.target.value),onBlur:br=>{const _r=br.target.value.startsWith("#")?br.target.value:`#${br.target.value}`;$t(et,"progress_color",_r)},className:"w-24 p-1 bg-black border border-gray-700 rounded text-white text-sm",placeholder:"#22c55e"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold",style:{color:or(dt.bg_color)},children:"Match Section Background"}),jsxRuntimeExports.jsx("input",{type:"checkbox",checked:dt.match_main_bg,onChange:br=>$t(et,"match_main_bg",br.target.checked)})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold",style:{color:or(dt.bg_color)},children:"Use Gradient Background"}),jsxRuntimeExports.jsx("input",{type:"checkbox",checked:dt.use_gradient,onChange:br=>$t(et,"use_gradient",br.target.checked)})]}),dt.use_gradient?jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm text-gray-300",children:"Gradient Start"}),jsxRuntimeExports.jsx("input",{type:"color",value:dt.gradient_start,onChange:br=>$t(et,"gradient_start",br.target.value),className:"w-full h-10 rounded mt-1"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm text-gray-300",children:"Gradient End"}),jsxRuntimeExports.jsx("input",{type:"color",value:dt.gradient_end,onChange:br=>$t(et,"gradient_end",br.target.value),className:"w-full h-10 rounded mt-1"})]}),jsxRuntimeExports.jsxs("div",{className:"col-span-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm text-gray-300",children:"Gradient Direction"}),jsxRuntimeExports.jsxs("select",{value:dt.gradient_direction,onChange:br=>$t(et,"gradient_direction",br.target.value),className:"w-full p-2 rounded bg-black border border-gray-700 text-white mt-1",children:[jsxRuntimeExports.jsx("option",{value:"90deg",children:"Left  Right"}),jsxRuntimeExports.jsx("option",{value:"180deg",children:"Top  Bottom"}),jsxRuntimeExports.jsx("option",{value:"45deg",children:"Diagonal "}),jsxRuntimeExports.jsx("option",{value:"135deg",children:"Diagonal "})]})]})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("label",{className:"text-sm text-gray-300",children:"Background Color"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("input",{type:"color",value:dt.bg_color,onChange:br=>$t(et,"bg_color",br.target.value),className:"w-10 h-10 rounded cursor-pointer"}),jsxRuntimeExports.jsx("input",{type:"text",value:dt.bg_color,onChange:br=>$t(et,"bg_color",br.target.value),className:"w-24 p-1 bg-black border border-gray-700 rounded text-white text-sm"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm text-gray-300",children:"Title Text Color"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[jsxRuntimeExports.jsx("input",{type:"color",value:dt.text_color,onChange:br=>$t(et,"text_color",br.target.value),className:"w-10 h-10 rounded cursor-pointer"}),jsxRuntimeExports.jsx("input",{type:"text",value:dt.text_color,onChange:br=>$t(et,"text_color",br.target.value),className:"w-24 p-1 bg-black border border-gray-700 rounded text-white text-sm"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 bg-[#111]/40 border border-gray-800 rounded-lg space-y-4 mt-8",children:[jsxRuntimeExports.jsx("label",{className:"text-sm text-gray-300",children:"Track Title"}),jsxRuntimeExports.jsx("input",{value:dt.title||"",onChange:br=>$t(et,"title",br.target.value),className:"w-full p-2 rounded bg-black border border-gray-700 text-white"}),jsxRuntimeExports.jsx("input",{id:`audioUpload-${dt.id}`,type:"file",accept:"audio/*",className:"hidden",onChange:async br=>{var Or;const _r=br.target.files[0];if(_r){nr(!0);try{await vr(_r);const Pr=await axiosInstance.post("/landing/sign-upload",{fileName:_r.name,mimeType:_r.type,landingId:kt.id,blockId:dt.id});if(!((Or=Pr.data)!=null&&Or.success))throw new Error("Failed to get upload URL");const{uploadUrl:Mr,publicUrl:Rr}=Pr.data;await fetch(Mr,{method:"PUT",body:_r,headers:{"Content-Type":_r.type,"x-amz-acl":"public-read"}});const Tr={title:_r.name.replace(/\.[^/.]+$/,""),audio_url:Rr,cover_url:dt.cover_url||"",price:dt.single_price||"",stripe_product_id:"",stripe_price_id:""},xr=[...dt.playlist||[],Tr];$t(et,"playlist",xr),$t(et,"audio_url",Tr.audio_url),$t(et,"audio_name",Tr.title),$t(et,"title",Tr.title),y$4.success("Audio uploaded successfully")}catch(Pr){console.error(Pr),y$4.error(Pr.message||"Upload failed")}finally{nr(!1),br.target.value=""}}}}),jsxRuntimeExports.jsx("label",{htmlFor:`audioUpload-${dt.id}`,className:"px-4 py-2 bg-blue rounded cursor-pointer text-white inline-block mt-2",children:"Upload Audio"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>{$t(et,"audio_url",""),$t(et,"audio_name",""),$t(et,"title",""),Jt(0),er(0),sr(0),Kt(!1);const br=(dt.playlist||[]).filter(_r=>_r.audio_url!==dt.audio_url);$t(et,"playlist",br),y$4.success("Audio removed.")},className:"ml-3 px-4 py-2 bg-red-600 hover:bg-red-700 rounded text-white inline-block mt-2",children:"Remove Audio"}),jsxRuntimeExports.jsx("label",{className:"text-sm text-gray-300 block",children:"Audio File"}),jsxRuntimeExports.jsx("input",{value:dt.audio_name||"No audio uploaded",readOnly:!0,className:"w-full p-2 rounded bg-black border border-gray-700 text-white",placeholder:"No audio uploaded"}),jsxRuntimeExports.jsx("input",{id:`coverUpload-${dt.id}`,type:"file",accept:"image/*",onChange:async br=>{const _r=br.target.files[0];if(!_r)return;const Or=new FormData;Or.append("image",_r),Or.append("landingId",kt.id),Or.append("blockId",dt.id),nr(!0);try{const Pr=await axiosInstance.post("/landing/upload-media-block",Or,{headers:{"Content-Type":"multipart/form-data"}});if(Pr.data.success){const Mr=Pr.data.url,Rr=(dt.playlist||[]).map(Tr=>Tr.audio_url===dt.audio_url?{...Tr,cover_url:Mr}:Tr);$t(et,"playlist",Rr),$t(et,"cover_url",Mr),$t(et,"cover_name",Pr.data.originalName),y$4.success("Cover updated!")}else y$4.error("Upload failed")}catch(Pr){console.error(Pr),y$4.error("Upload error")}finally{nr(!1)}},className:"hidden"}),jsxRuntimeExports.jsx("label",{htmlFor:`coverUpload-${dt.id}`,className:"px-4 py-2 bg-royalPurple rounded cursor-pointer text-white inline-block mt-2",children:"Upload Cover"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>{$t(et,"cover_url",""),$t(et,"cover_name","");const br=(dt.playlist||[]).map(_r=>_r.audio_url===dt.audio_url?{..._r,cover_url:""}:_r);$t(et,"playlist",br),y$4.success("Cover removed.")},className:"ml-3 px-4 py-2 bg-red-600 hover:bg-red-700 rounded text-white inline-block mt-2",children:"Remove Cover"}),jsxRuntimeExports.jsx("label",{className:"text-sm text-gray-300 block",children:"Cover Image URL"}),jsxRuntimeExports.jsx("input",{value:dt.cover_name||"No cover uploaded",readOnly:!0,className:"w-full p-2 rounded bg-black border border-gray-700 text-white"}),jsxRuntimeExports.jsxs("div",{className:"p-4 bg-[#111]/40 border border-gray-800 rounded-lg space-y-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-silver font-semibold text-lg",children:"Selling Options"}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-3 text-sm text-gray-300",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:dt.sell_singles,onChange:br=>$t(et,"sell_singles",br.target.checked)}),"Sell Individual Tracks"]}),dt.sell_singles&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm text-gray-300",children:"Default Single Price"}),jsxRuntimeExports.jsx("input",{className:"w-full p-2 rounded bg-black border border-gray-700 text-white",value:dt.single_price,onChange:br=>$t(et,"single_price",br.target.value),placeholder:"0.00"})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-3 text-sm text-gray-300",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:dt.sell_album,onChange:br=>$t(et,"sell_album",br.target.checked)}),"Sell Full Album"]}),dt.sell_album&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("label",{className:"text-sm text-gray-300",children:"Album Price"}),jsxRuntimeExports.jsx("input",{className:"w-full p-2 rounded bg-black border border-gray-700 text-white",value:dt.album_price,onChange:br=>$t(et,"album_price",br.target.value),placeholder:"9.99"}),jsxRuntimeExports.jsx("label",{className:"text-sm text-gray-300",children:"Album Button Text"}),jsxRuntimeExports.jsx("input",{className:"w-full p-2 rounded bg-black border border-gray-700 text-white",value:dt.album_button_text,onChange:br=>$t(et,"album_button_text",br.target.value)})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-3 text-sm text-gray-300",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:dt.preview_enabled,onChange:br=>{$t(et,"preview_enabled",br.target.checked),br.target.checked&&!dt.preview_duration&&$t(et,"preview_duration",10)}}),"Limit Playback to Preview Only"]}),dt.preview_enabled&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm text-gray-300",children:"Preview Duration"}),jsxRuntimeExports.jsx("select",{className:"w-full p-2 rounded bg-black border border-gray-700 text-white mt-1",value:dt.preview_duration,onChange:br=>$t(et,"preview_duration",Number(br.target.value)),children:mr(Zt).map(br=>jsxRuntimeExports.jsx("option",{value:br.value,children:br.label},br.value))}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Choose up to 30 minutes based on the audio length."})]})]})]})]})}function SortableContainerBlock({block:dt,index:et,updateBlock:$t,removeBlock:kt,moveBlockUp:Tt,moveBlockDown:Dt,activeChild:Ft,setActiveChild:Ut,bgTheme:Ht,pdfList:Kt,landing:Yt,openAIModal:Jt}){var rr;const Zt=(sr,ir,nr)=>{$t(et,"children",(or=[])=>{const lr=[...or];return lr[sr]={...lr[sr],[ir]:nr},lr})},er=(sr,ir,nr)=>{Zt(sr,ir,nr)};return jsxRuntimeExports.jsxs("div",{"data-drop-id":et,"data-parent-id":null,onClick:sr=>{sr.stopPropagation(),Ut(null)},className:`
        mb-4 sm:mb-6
        rounded-xl
        p-2 sm:p-4
        bg-dashboard-bg-light/70 dark:bg-dashboard-bg-dark/70
        transition-all duration-200
        border
        border-dashboard-border-light dark:border-dashboard-border-dark
        hover:border-dashed
        hover:border-dashboard-muted-light dark:hover:border-dashboard-muted-dark
      `,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[jsxRuntimeExports.jsx("h3",{className:"text-dashboard-muted-light dark:text-green font-bold text-lg mr-auto",children:dt.title||"Untitled Section"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:sr=>{sr.stopPropagation(),Tt(dt.id)},className:`
            px-2 py-1 text-xs rounded
            bg-dashboard-hover-light dark:bg-dashboard-hover-dark
            text-dashboard-muted-light dark:text-dashboard-muted-dark
            hover:text-dashboard-text-light dark:hover:text-dashboard-text-dark
          `,children:""}),jsxRuntimeExports.jsx("button",{type:"button",onClick:sr=>{sr.stopPropagation(),Dt(dt.id)},className:`
            px-2 py-1 text-xs rounded
            bg-dashboard-hover-light dark:bg-dashboard-hover-dark
            text-dashboard-muted-light dark:text-dashboard-muted-dark
            hover:text-dashboard-text-light dark:hover:text-dashboard-text-dark
          `,children:""}),jsxRuntimeExports.jsx("button",{type:"button",onClick:sr=>{sr.stopPropagation(),$t(et,"collapsed",!dt.collapsed)},className:`
            text-dashboard-muted-light dark:text-dashboard-muted-dark
            hover:text-dashboard-text-light dark:hover:text-dashboard-text-dark
          `,children:""})]}),!dt.collapsed&&jsxRuntimeExports.jsx("input",{value:dt.title||"",onClick:sr=>sr.stopPropagation(),onChange:sr=>$t(et,"title",sr.target.value),className:`
            mb-3 w-full
            rounded px-3 py-2 text-sm
            bg-dashboard-bg-light dark:bg-dashboard-bg-dark
            text-dashboard-text-light dark:text-dashboard-text-dark
            border
            border-dashboard-border-light dark:border-dashboard-border-dark
          `}),!dt.collapsed&&jsxRuntimeExports.jsx("div",{className:"rounded-md p-0.5 sm:p-1 transition-colors",children:jsxRuntimeExports.jsx(SortableContext,{items:(dt.children||[]).map(sr=>sr.id),strategy:verticalListSortingStrategy,children:(rr=dt.children)==null?void 0:rr.map((sr,ir)=>jsxRuntimeExports.jsx(React$2.Fragment,{children:jsxRuntimeExports.jsx(MemoizedSortableBlock,{id:sr.id,block:sr,index:ir,updateChildBlock:Zt,containerIndex:et,updateBlock:er,activeChild:Ft,setActiveChild:Ut,removeBlock:nr=>{$t(et,"children",dt.children.filter((or,lr)=>lr!==nr))},bgTheme:Ht,pdfList:Kt,landing:Yt,openAIModal:Jt},sr.id)},sr.id))})}),jsxRuntimeExports.jsx("button",{onClick:sr=>{sr.stopPropagation(),kt(et)},className:"mt-4 text-red-400 text-sm",children:"Remove Section"})]})}function ButtonBlock({block:dt,index:et,updateBlock:$t,bgTheme:kt,landing:Tt}){const Dt=dt.use_gradient?`linear-gradient(${dt.gradient_direction||"90deg"}, ${dt.gradient_start||"#22c55e"}, ${dt.gradient_end||"#3b82f6"})`:dt.bg_color||"#22c55e",Ft=kt||(Tt!=null&&Tt.bg_theme&&Tt.bg_theme!==""?Tt.bg_theme:null)||"#0b1220",Ut=typeof dt.shadow_opacity=="number"?dt.shadow_opacity/100:.35,Ht=`${dt.shadow_offset_x??0}px ${dt.shadow_offset_y??8}px ${dt.shadow_blur??20}px rgba(0,0,0,${Ut})`,Kt=Yt=>/^#([0-9A-Fa-f]{6}|[0-9A-Fa-f]{3})$/.test(Yt);return jsxRuntimeExports.jsxs("div",{className:"rounded-xl p-6 mt-3 shadow-inner bg-[#0F172A]/60 border border-gray-700 transition-all duration-300 space-y-4",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300",children:"Button Text"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Click Here",value:dt.text||"",onChange:Yt=>$t(et,"text",Yt.target.value),className:"w-full p-2 border border-gray-600 rounded bg-black text-white"}),jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300",children:"Button URL"}),jsxRuntimeExports.jsx("input",{type:"url",placeholder:"https://example.com",value:dt.url||"",onChange:Yt=>$t(et,"url",Yt.target.value),className:"w-full p-2 border border-gray-600 rounded bg-black text-white"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:dt.open_new_tab??!0,onChange:Yt=>$t(et,"open_new_tab",Yt.target.checked)}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-300",children:"Open in new tab"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300",children:"Width (px)"}),jsxRuntimeExports.jsx("input",{type:"number",min:"80",max:"600",value:dt.width||220,onChange:Yt=>$t(et,"width",parseInt(Yt.target.value,10)),className:"w-full p-2 border border-gray-600 rounded bg-black text-white"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300",children:"Height (px)"}),jsxRuntimeExports.jsx("input",{type:"number",min:"32",max:"100",value:dt.height||48,onChange:Yt=>$t(et,"height",parseInt(Yt.target.value,10)),className:"w-full p-2 border border-gray-600 rounded bg-black text-white"})]})]}),jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300",children:"Corner Radius"}),jsxRuntimeExports.jsx("input",{type:"range",min:"0",max:"40",value:dt.radius||8,onChange:Yt=>$t(et,"radius",parseInt(Yt.target.value,10)),className:"w-full"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300",children:"Stroke Width"}),jsxRuntimeExports.jsx("input",{type:"number",min:"0",max:"6",value:dt.stroke_width||0,onChange:Yt=>$t(et,"stroke_width",parseInt(Yt.target.value,10)),className:"w-full p-2 border border-gray-600 rounded bg-black text-white"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300",children:"Stroke Color"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("input",{type:"color",value:dt.stroke_color||"#000000",onChange:Yt=>$t(et,"stroke_color",Yt.target.value),className:"w-10 h-10 rounded cursor-pointer"}),jsxRuntimeExports.jsx("input",{type:"text",value:dt.stroke_color||"#000000",onChange:Yt=>{const Jt=Yt.target.value;Kt(Jt)&&$t(et,"stroke_color",Jt)},placeholder:"#000000",className:"w-24 px-2 py-1 bg-black border border-gray-600 rounded text-white text-xs uppercase"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-semibold text-gray-300",children:"Shadow"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-xs text-gray-400",children:"Offset X"}),jsxRuntimeExports.jsx("input",{type:"range",min:"-40",max:"40",value:dt.shadow_offset_x||0,onChange:Yt=>$t(et,"shadow_offset_x",parseInt(Yt.target.value,10)),className:"w-full"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-xs text-gray-400",children:"Offset Y"}),jsxRuntimeExports.jsx("input",{type:"range",min:"-40",max:"40",value:dt.shadow_offset_y||8,onChange:Yt=>$t(et,"shadow_offset_y",parseInt(Yt.target.value,10)),className:"w-full"})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-xs text-gray-400",children:"Blur"}),jsxRuntimeExports.jsx("input",{type:"range",min:"0",max:"60",value:dt.shadow_blur||20,onChange:Yt=>$t(et,"shadow_blur",parseInt(Yt.target.value,10)),className:"w-full"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-xs text-gray-400",children:"Opacity"}),jsxRuntimeExports.jsx("input",{type:"range",min:"0",max:"100",value:dt.shadow_opacity??35,onChange:Yt=>$t(et,"shadow_opacity",parseInt(Yt.target.value,10)),className:"w-full"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("label",{className:"text-xs text-gray-400",children:"Shadow Color"}),jsxRuntimeExports.jsx("input",{type:"color",value:dt.shadow_color||"#000000",onChange:Yt=>$t(et,"shadow_color",Yt.target.value),className:"w-10 h-10 rounded cursor-pointer"}),jsxRuntimeExports.jsx("input",{type:"text",value:dt.shadow_color||"#000000",onChange:Yt=>{const Jt=Yt.target.value;Kt(Jt)&&$t(et,"shadow_color",Jt)},placeholder:"#000000",className:"w-24 px-2 py-1 bg-black border border-gray-600 rounded text-white text-xs uppercase"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:dt.use_gradient||!1,onChange:Yt=>$t(et,"use_gradient",Yt.target.checked)}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-300",children:"Use Gradient"})]}),!dt.use_gradient&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300",children:"Background Color"}),jsxRuntimeExports.jsx("input",{type:"color",value:dt.bg_color||"#22c55e",onChange:Yt=>$t(et,"bg_color",Yt.target.value),className:"w-10 h-10 rounded cursor-pointer"}),jsxRuntimeExports.jsx("input",{type:"text",value:dt.bg_color||"#22c55e",onChange:Yt=>{const Jt=Yt.target.value;Kt(Jt)&&$t(et,"bg_color",Jt)},placeholder:"#22c55e",className:"w-24 px-2 py-1 bg-black border border-gray-600 rounded text-white text-xs uppercase"})]}),dt.use_gradient&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300",children:"Gradient Start"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("input",{type:"color",value:dt.gradient_start||"#22c55e",onChange:Yt=>$t(et,"gradient_start",Yt.target.value),className:"w-10 h-10 rounded cursor-pointer"}),jsxRuntimeExports.jsx("input",{type:"text",value:dt.gradient_start||"#22c55e",onChange:Yt=>{const Jt=Yt.target.value;Kt(Jt)&&$t(et,"gradient_start",Jt)},placeholder:"#22c55e",className:"w-24 px-2 py-1 bg-black border border-gray-600 rounded text-white text-xs uppercase"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300",children:"Gradient End"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("input",{type:"color",value:dt.gradient_end||"#3b82f6",onChange:Yt=>$t(et,"gradient_end",Yt.target.value),className:"w-10 h-10 rounded cursor-pointer"}),jsxRuntimeExports.jsx("input",{type:"text",value:dt.gradient_end||"#3b82f6",onChange:Yt=>{const Jt=Yt.target.value;Kt(Jt)&&$t(et,"gradient_end",Jt)},placeholder:"#3b82f6",className:"w-24 px-2 py-1 bg-black border border-gray-600 rounded text-white text-xs uppercase"})]})]}),jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300",children:"Gradient Direction"}),jsxRuntimeExports.jsxs("select",{value:dt.gradient_direction||"90deg",onChange:Yt=>$t(et,"gradient_direction",Yt.target.value),className:"w-full p-2 border border-gray-600 rounded bg-black text-white",children:[jsxRuntimeExports.jsx("option",{value:"0deg",children:"Top to Bottom"}),jsxRuntimeExports.jsx("option",{value:"45deg",children:"Diagonal"}),jsxRuntimeExports.jsx("option",{value:"90deg",children:"Left to Right"}),jsxRuntimeExports.jsx("option",{value:"135deg",children:"Reverse Diagonal"}),jsxRuntimeExports.jsx("option",{value:"180deg",children:"Bottom to Top"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300",children:"Text Color"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("input",{type:"color",value:dt.text_color||"#000000",onChange:Yt=>$t(et,"text_color",Yt.target.value),className:"w-10 h-10 rounded cursor-pointer"}),jsxRuntimeExports.jsx("input",{type:"text",value:dt.text_color||"#000000",onChange:Yt=>{const Jt=Yt.target.value;Kt(Jt)&&$t(et,"text_color",Jt)},placeholder:"#000000",className:"w-24 px-2 py-1 bg-black border border-gray-600 rounded text-white text-xs uppercase"})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-700",children:[jsxRuntimeExports.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-400 mb-3",children:"Preview (Live Background)"}),jsxRuntimeExports.jsx("div",{style:{background:Ft,padding:"48px 24px",borderRadius:"12px",border:"1px solid rgba(255,255,255,0.08)"},children:jsxRuntimeExports.jsx("div",{style:{display:"flex",justifyContent:"center"},children:jsxRuntimeExports.jsx("div",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:`${dt.width??220}px`,height:`${dt.height??48}px`,padding:`${dt.padding_y??12}px ${dt.padding_x??24}px`,background:Dt,color:dt.text_color||"#000000",fontSize:`${dt.font_size??16}px`,fontWeight:dt.font_weight??600,borderRadius:`${dt.radius??8}px`,border:`${dt.stroke_width??0}px solid ${dt.stroke_color||"#000"}`,boxShadow:Ht,userSelect:"none",pointerEvents:"none"},children:dt.text||"Click Here"})})}),dt.url&&jsxRuntimeExports.jsxs("p",{className:"mt-2 text-xs text-gray-400 text-center break-all",children:[" ",dt.url]})]})]})}function SingleOfferBlock({block:dt,index:et,updateBlock:$t,bgTheme:kt,landing:Tt,pdfList:Dt,updateChildBlock:Ft,openAIModal:Ut,containerIndex:Ht}){const[Kt,Yt]=React$2.useState(""),[Jt,Zt]=React$2.useState(!1),er=reactExports.useMemo(()=>(Dt==null?void 0:Dt.filter(or=>or.status==="completed"&&or.pdf_url))||[],[Dt]),rr=(or,lr)=>{$t(et,or,lr)},sr=async or=>{const lr=URL.createObjectURL(or);rr("image_url",lr);try{const cr=new FormData;cr.append("image",or),cr.append("landingId",Tt==null?void 0:Tt.id),cr.append("blockId",dt.id);const dr=await axiosInstance.post("/landing/upload-media-block",cr,{headers:{"Content-Type":"multipart/form-data"}});dr.data.url&&(rr("image_url",dr.data.url),rr("use_pdf_cover",!1),y$4.success("Image uploaded!"))}catch{y$4.error("Upload failed")}finally{URL.revokeObjectURL(lr)}},ir=dt.use_no_bg?"transparent":dt.use_gradient?`linear-gradient(${dt.gradient_direction||"90deg"}, ${dt.gradient_start||"#F285C3"}, ${dt.gradient_end||"#7bed9f"})`:dt.match_main_bg?kt:dt.bg_color||"#111827",nr=dt.text_color||"#ffffff";return jsxRuntimeExports.jsxs("div",{className:"rounded-xl p-6 mt-6 border border-gray-700 transition-all duration-300",style:{background:ir,maxHeight:"80vh",overflowY:"auto"},children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-green mb-6",children:"Single Offer"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300",children:"Background Color"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[jsxRuntimeExports.jsx("input",{type:"color",value:dt.bg_color||"#000000",onChange:or=>rr("bg_color",or.target.value),className:"w-10 h-10 rounded cursor-pointer border border-gray-700"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-400",children:dt.bg_color})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mt-6",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300",children:"Match Page Background"}),jsxRuntimeExports.jsx("input",{type:"checkbox",checked:dt.match_main_bg||!1,onChange:or=>rr("match_main_bg",or.target.checked)})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300",children:"Use Gradient"}),jsxRuntimeExports.jsx("input",{type:"checkbox",checked:dt.use_gradient||!1,onChange:or=>rr("use_gradient",or.target.checked)})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300",children:"No Background"}),jsxRuntimeExports.jsx("input",{type:"checkbox",checked:dt.use_no_bg||!1,onChange:or=>rr("use_no_bg",or.target.checked)})]})]}),dt.use_gradient&&jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300",children:"Gradient Start"}),jsxRuntimeExports.jsx("input",{type:"color",value:dt.gradient_start||"#F285C3",onChange:or=>rr("gradient_start",or.target.value),className:"w-full h-10 border border-gray-700 rounded mt-1 bg-black"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300",children:"Gradient End"}),jsxRuntimeExports.jsx("input",{type:"color",value:dt.gradient_end||"#7bed9f",onChange:or=>rr("gradient_end",or.target.value),className:"w-full h-10 border border-gray-700 rounded mt-1 bg-black"})]}),jsxRuntimeExports.jsxs("div",{className:"col-span-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300",children:"Gradient Direction"}),jsxRuntimeExports.jsxs("select",{value:dt.gradient_direction||"90deg",onChange:or=>rr("gradient_direction",or.target.value),className:"w-full p-2 mt-1 bg-black border border-gray-700 rounded text-white",children:[jsxRuntimeExports.jsx("option",{value:"90deg",children:"Left  Right"}),jsxRuntimeExports.jsx("option",{value:"180deg",children:"Top  Bottom"}),jsxRuntimeExports.jsx("option",{value:"45deg",children:"Diagonal "}),jsxRuntimeExports.jsx("option",{value:"135deg",children:"Diagonal "})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300",children:"Button Text Color"}),jsxRuntimeExports.jsx("input",{type:"color",value:dt.button_text_color||"#000000",onChange:or=>rr("button_text_color",or.target.value),className:"w-8 h-8 rounded cursor-pointer border border-gray-700"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-400",children:dt.button_text_color})]}),jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsxs("label",{className:"text-sm font-semibold text-gray-300",children:["Card Width (",dt.card_width||360,"px)"]}),jsxRuntimeExports.jsx("input",{type:"range",min:260,max:520,step:10,value:dt.card_width||360,onChange:or=>rr("card_width",Number(or.target.value)),className:"w-full mt-2"})]}),jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300",children:"Card Height"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:dt.card_height==="auto",onChange:or=>rr("card_height",or.target.checked?"auto":420)}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-400",children:"Auto height"})]}),dt.card_height!=="auto"&&jsxRuntimeExports.jsx("input",{type:"range",min:300,max:700,step:10,value:dt.card_height||420,onChange:or=>rr("card_height",Number(or.target.value)),className:"w-full mt-2"})]}),jsxRuntimeExports.jsx("div",{style:{display:"flex",justifyContent:"center"},children:(()=>{var lr;const or=Kt||dt.cover_url||dt.image_url||"";return jsxRuntimeExports.jsxs("div",{className:"border border-gray-700 rounded-xl p-4 bg-black/40 backdrop-blur-md shadow-lg",style:{color:nr,width:dt.card_width?`${dt.card_width}px`:"360px",height:dt.card_height==="auto"?"auto":`${dt.card_height}px`,display:"flex",flexDirection:"column",overflow:dt.card_height==="auto"?"visible":"auto"},children:[jsxRuntimeExports.jsx("div",{className:"mt-3 relative",children:Jt?jsxRuntimeExports.jsxs("div",{className:"w-full h-56 flex flex-col items-center justify-center rounded-lg bg-black/40 border border-gray-700",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 border-4 border-gray-500 border-t-green rounded-full animate-spin"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 mt-3",children:"Loading Book cover"})]}):or?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("img",{src:or,className:"rounded-lg w-full mb-3",alt:""}),!dt.use_pdf_cover&&jsxRuntimeExports.jsx("button",{type:"button",className:"text-red-400 text-xs hover:underline",onClick:()=>{rr("image_url",""),rr("cover_url",""),Yt("")},children:"Remove"})]}):jsxRuntimeExports.jsxs("label",{className:"block border border-gray-600 border-dashed rounded-xl p-6 text-center cursor-pointer",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-300 text-sm",children:"Upload Image"}),jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:cr=>sr(cr.target.files[0])})]})}),jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300 mt-3 block",children:"Choose Book"}),jsxRuntimeExports.jsxs("select",{value:dt.pdf_url||"",onChange:async cr=>{var pr;const dr=cr.target.value;if(rr("pdf_url",dr),rr("pdf_name",""),Yt(""),Zt(!0),!dr){rr("cover_url",""),rr("image_url",""),rr("use_pdf_cover",!1),Zt(!1);return}const ur=er.find(mr=>mr.pdf_url===dr);ur&&rr("pdf_name",ur.title||"Book");try{const mr=await axiosInstance.get(`/landing/lead-magnets/cover?pdfUrl=${encodeURIComponent(dr)}`);(pr=mr.data)!=null&&pr.cover_image&&(Yt(mr.data.cover_image),rr("cover_url",mr.data.cover_image),rr("image_url",mr.data.cover_image),rr("use_pdf_cover",!0))}catch(mr){console.error(" Error loading Book cover:",mr)}finally{Zt(!1)}},className:"w-full p-2 bg-black text-white border border-gray-600 rounded mt-1",children:[jsxRuntimeExports.jsx("option",{value:"",children:"-- Choose Book --"}),er.map(cr=>jsxRuntimeExports.jsx("option",{value:cr.pdf_url,children:cr.title||"Book"},cr.id))]}),dt.pdf_url&&jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Selected Book:"," ",jsxRuntimeExports.jsx("span",{className:"text-white font-semibold",children:dt.pdf_name||"Book"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300",children:"Use Book Cover Image"}),jsxRuntimeExports.jsx("input",{type:"checkbox",checked:dt.use_pdf_cover||!1,onChange:cr=>{const dr=cr.target.checked;rr("use_pdf_cover",dr),dr&&dt.cover_url&&rr("image_url",dt.cover_url),dr||rr("image_url","")}})]}),dt.pdf_url&&jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 mt-1",children:jsxRuntimeExports.jsx("a",{href:dt.pdf_url,target:"_blank",className:"text-green underline",rel:"noopener noreferrer",children:"Preview Book"})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300",children:"Text Color"}),jsxRuntimeExports.jsx("input",{type:"color",value:dt.text_color||"#ffffff",onChange:cr=>rr("text_color",cr.target.value),className:"w-8 h-8 rounded cursor-pointer border border-gray-700"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-400",children:dt.text_color})]}),jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300 mt-3 block",children:"Offer Title"}),jsxRuntimeExports.jsx("input",{type:"text",value:dt.title||"",maxLength:60,onChange:cr=>rr("title",cr.target.value),className:"w-full p-2 bg-black text-white border border-gray-600 rounded mt-1",placeholder:"Offer Title"}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-400 mt-1 text-right",children:[((lr=dt.title)==null?void 0:lr.length)||0,"/60"]}),!dt.use_long_description&&jsxRuntimeExports.jsx("textarea",{value:dt.text,onChange:cr=>rr("text",cr.target.value),className:"w-full p-3 bg-black text-white placeholder-gray-500 border mt-3 resize-y min-h-[120px]",rows:6,placeholder:"Short description"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mt-3",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300",children:"Use Long Description"}),jsxRuntimeExports.jsx("input",{type:"checkbox",checked:dt.use_long_description||!1,onChange:cr=>{const dr=cr.target.checked;rr("use_long_description",dr),dr&&rr("text","")}})]}),dt.use_long_description&&jsxRuntimeExports.jsxs("div",{className:"mt-3",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300 block mb-1",children:"Description Type"}),jsxRuntimeExports.jsxs("select",{value:dt.description_type||"text",onChange:cr=>rr("description_type",cr.target.value),className:"w-full p-2 bg-black text-white border border-gray-600 rounded",children:[jsxRuntimeExports.jsx("option",{value:"text",children:"Rich Text"}),jsxRuntimeExports.jsx("option",{value:"bullets",children:"Bullet Points"})]})]}),dt.use_long_description&&jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mt-4",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300",children:"Long Description"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>Ut({blockType:"offer_long_description",blockIndex:et,updateChildBlock:Ft,containerIndex:Ht,currentText:dt.long_text||"",role:"sales"}),onPointerDown:cr=>cr.stopPropagation(),className:`
                    text-xs font-semibold px-3 py-1 rounded-md
                    bg-royalPurple text-white
                    hover:bg-royalPurple/80
                    transition
                  `,children:"AI"})]}),dt.use_long_description&&jsxRuntimeExports.jsx("textarea",{value:dt.long_text||"",onChange:cr=>{const dr=cr.target.value;Ht!==void 0&&Ft?Ft(et,"long_text",dr):$t(et,"long_text",dr)},rows:8,placeholder:dt.description_type==="bullets"?` Benefit one
 Benefit two
 Benefit three`:"Write a detailed sales description...",className:`w-full p-3 text-white mt-2 bg-black border border-gray-600 rounded
resize-y min-h-[180px] flex-shrink-0`}),jsxRuntimeExports.jsx("label",{className:"text-sm text-gray-300 mt-3 block",children:"Price"}),jsxRuntimeExports.jsx("input",{type:"number",value:dt.price,onChange:cr=>rr("price",Number(cr.target.value)||0),className:"w-full p-2 bg-black text-white border mt-1"}),jsxRuntimeExports.jsx("label",{className:"text-sm text-gray-300 mt-3 block",children:"Button Label"}),jsxRuntimeExports.jsx("input",{type:"text",value:dt.button_text,onChange:cr=>rr("button_text",cr.target.value),className:"w-full p-2 bg-black border mt-1",style:{color:"#000000"}}),jsxRuntimeExports.jsx("label",{className:"text-sm text-gray-300 mt-3 block",children:"Button Background"}),jsxRuntimeExports.jsx("input",{type:"color",value:dt.button_color,onChange:cr=>rr("button_color",cr.target.value),className:"w-8 h-8 mt-1 border border-gray-600 rounded"}),jsxRuntimeExports.jsx("label",{className:"text-sm text-gray-300 mt-3 block",children:"Button Text Color"}),jsxRuntimeExports.jsx("input",{type:"color",value:dt.button_text_color||"#000000",onChange:cr=>rr("button_text_color",cr.target.value),className:"w-8 h-8 mt-1 border border-gray-600 rounded"}),jsxRuntimeExports.jsx("div",{style:{marginTop:"auto"},children:jsxRuntimeExports.jsx("button",{style:{backgroundColor:dt.button_color,color:dt.button_text_color||"#000000"},className:"w-full mt-4 py-2 rounded-lg font-semibold transition",children:dt.button_text})})]})})()})]})}function MiniOfferAdvanced({block:dt,updateField:et,landing:$t,openAIModal:kt}){var Jt,Zt,er,rr,sr;const Ut={enabled:((Jt=dt.offer_page)==null?void 0:Jt.enabled)??!1,blocks:Array.isArray((Zt=dt.offer_page)==null?void 0:Zt.blocks)?dt.offer_page.blocks:[],bullets:Array.isArray((er=dt.offer_page)==null?void 0:er.bullets)?dt.offer_page.bullets:[],trust_items:Array.isArray((rr=dt.offer_page)==null?void 0:rr.trust_items)?dt.offer_page.trust_items:[]},Ht=ir=>{et("offer_page",{...Ut,...ir})},Kt=(sr=Ut.blocks)==null?void 0:sr[Ut.blocks.length-1],Yt=Ut.blocks.length<6&&(!Kt||Kt.text||Kt.image_url);return jsxRuntimeExports.jsxs("div",{className:"mt-6 ",children:[jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>Ht({enabled:!Ut.enabled}),className:"w-full flex justify-between items-center py-3 border-b border-gray-800",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-semibold text-white tracking-wide",children:"Advanced Offer Page"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-400",children:Ut.enabled?"Hide":"Show"})]}),Ut.enabled?jsxRuntimeExports.jsxs("div",{className:"pt-6 space-y-10",children:[(!Ut.blocks||Ut.blocks.length===0)&&jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"No paragraph blocks yet."}),(Ut.blocks||[]).map((ir,nr)=>{var or;return jsxRuntimeExports.jsxs("div",{className:"space-y-3 pb-6 border-b border-gray-800",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("label",{className:"text-xs font-semibold text-gray-400",children:"Paragraph Content"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>kt({blockType:"offer_paragraph",currentText:ir.text||"",onApply:lr=>{const cr=[...Ut.blocks];cr[nr]={...ir,text:lr},Ht({blocks:cr})},role:"sales"}),className:`text-xs font-semibold px-3 py-1 rounded-md
      bg-royalPurple text-white hover:bg-royalPurple/80 transition`,children:"AI"})]}),jsxRuntimeExports.jsx("textarea",{value:ir.text||"",maxLength:800,onChange:lr=>{const cr=[...Ut.blocks];cr[nr]={...ir,text:lr.target.value},Ht({blocks:cr})},rows:4,className:"w-full bg-black text-white border border-gray-700 rounded-lg p-4 focus:border-green focus:ring-0",placeholder:"Write paragraph content"}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500 text-right",children:[((or=ir.text)==null?void 0:or.length)||0,"/800"]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-xs font-semibold text-gray-400",children:"Optional image"}),ir.image_url?jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("img",{src:ir.image_url,className:"w-full max-h-48 object-cover rounded-md border border-gray-700",alt:""}),jsxRuntimeExports.jsx("button",{type:"button",onClick:lr=>{const cr=[...Ut.blocks];cr[nr]={...cr[nr],image_url:""},Ht({blocks:cr}),lr.target.value=""},className:"absolute top-2 right-2 bg-black/70 text-red-400 text-xs px-2 py-1 rounded hover:bg-black",children:"Remove"})]}):jsxRuntimeExports.jsxs("label",{className:"flex items-center justify-center h-28 border border-dashed border-gray-600 rounded cursor-pointer text-sm text-gray-400 hover:border-gray-400",children:["Upload image",jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:async lr=>{var ur,pr;const cr=(ur=lr.target.files)==null?void 0:ur[0];if(!cr)return;const dr=new FormData;dr.append("image",cr),dr.append("landingId",$t.id),dr.append("blockId",dt.id),dr.append("offerBlockId",ir.id);try{const mr=await axiosInstance.post("/landing/upload-media-block",dr,{headers:{"Content-Type":"multipart/form-data"}});if((pr=mr.data)!=null&&pr.url){const vr=[...Ut.blocks];vr[nr]={...vr[nr],image_url:mr.data.url},Ht({blocks:vr})}}catch(mr){console.error(mr),y$4.error("Image upload failed")}}})]})]}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>Ht({blocks:Ut.blocks.filter((lr,cr)=>cr!==nr)}),className:"text-xs text-red-400 hover:text-red-300",children:"Remove paragraph block"})]},ir.id)}),jsxRuntimeExports.jsxs("button",{type:"button",disabled:!Yt,onClick:()=>Ht({blocks:[...Ut.blocks||[],{id:crypto.randomUUID(),type:"paragraph",text:"",image_url:""}]}),className:`text-sm font-medium flex items-center gap-2 transition
  ${Yt?"text-green hover:text-green-400":"text-gray-500 cursor-not-allowed"}
`,children:[jsxRuntimeExports.jsx(Plus,{size:14}),"Add paragraph block"]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300 block mb-2",children:"Bullet Points"}),jsxRuntimeExports.jsxs("p",{className:"text-[11px] text-gray-500 mt-1",children:["Max ",5," bullets. Keep them short and benefit focused."]}),Ut.bullets.map((ir,nr)=>jsxRuntimeExports.jsxs("div",{className:"flex gap-2 mb-2",children:[jsxRuntimeExports.jsx("input",{type:"text",maxLength:120,value:ir,onChange:or=>{const lr=[...Ut.bullets];lr[nr]=or.target.value,Ht({bullets:lr})},className:"flex-1 bg-black text-white border border-gray-600 rounded px-3 py-2",placeholder:"Bullet text"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>{Ht({bullets:Ut.bullets.filter((or,lr)=>lr!==nr)})},className:"text-red-400 hover:text-red-300",children:jsxRuntimeExports.jsx(Trash,{size:16})})]},nr)),jsxRuntimeExports.jsxs("button",{type:"button",disabled:Ut.bullets.length>=5,onClick:()=>Ht({bullets:[...Ut.bullets,""]}),className:`text-xs font-semibold flex items-center gap-1 mt-1
    ${Ut.bullets.length>=5?"text-gray-500 cursor-not-allowed":"text-green hover:text-green-400"}
  `,children:[jsxRuntimeExports.jsx(Plus,{size:14}),Ut.bullets.length>=5?"Max bullets reached":"Add bullet"]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300 block mb-2",children:"Trust Items"}),jsxRuntimeExports.jsxs("p",{className:"text-[11px] text-gray-500 mt-1",children:["Max ",3,". Keep trust signals short and recognizable."]}),Ut.trust_items.map((ir,nr)=>jsxRuntimeExports.jsxs("div",{className:"space-y-2 pb-4 border-b border-gray-800 mb-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Icon"}),jsxRuntimeExports.jsx("select",{value:ir.icon||"check",onChange:or=>{const lr=[...Ut.trust_items];lr[nr]={...lr[nr],icon:or.target.value},Ht({trust_items:lr})},className:"w-full bg-black text-white border border-gray-600 rounded px-2 py-1",children:TRUST_ICONS.map(or=>jsxRuntimeExports.jsxs("option",{value:or.key,children:[or.icon," ",or.label]},or.key))})]}),jsxRuntimeExports.jsx("input",{type:"text",value:ir.label||"",onChange:or=>{const lr=[...Ut.trust_items];lr[nr]={...lr[nr],label:or.target.value},Ht({trust_items:lr})},className:"w-full bg-black text-white border border-gray-600 rounded px-3 py-2",placeholder:"Secure checkout"}),jsxRuntimeExports.jsx("input",{type:"text",value:ir.subtext||"",onChange:or=>{const lr=[...Ut.trust_items];lr[nr]={...lr[nr],subtext:or.target.value},Ht({trust_items:lr})},className:"w-full bg-black text-white border border-gray-600 rounded px-3 py-2 text-sm opacity-90",placeholder:"Powered by Stripe"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>Ht({trust_items:Ut.trust_items.filter((or,lr)=>lr!==nr)}),className:"text-xs text-red-400 hover:text-red-300",children:"Remove"})]},nr)),jsxRuntimeExports.jsxs("button",{type:"button",disabled:Ut.trust_items.length>=3,onClick:()=>Ht({trust_items:[...Ut.trust_items,{icon:"check",label:"",subtext:""}]}),className:`mt-2 text-xs font-semibold flex items-center gap-1
    ${Ut.trust_items.length>=3?"text-gray-500 cursor-not-allowed":"text-green hover:text-green-400"}
  `,children:[jsxRuntimeExports.jsx(Plus,{size:14}),Ut.trust_items.length>=3?"Max trust items reached":"Add trust item"]})]})]}):null]})}function MiniOfferBlock({block:dt,index:et,updateBlock:$t,bgTheme:kt,landing:Tt,pdfList:Dt,updateChildBlock:Ft,openAIModal:Ut,containerIndex:Ht}){var mr,vr,kr;const Kt=dt.product_source||"internal",Yt=!!dt.pdf_url||!!dt.external_file_url,[Jt,Zt]=React$2.useState(!1),er=reactExports.useMemo(()=>(Dt==null?void 0:Dt.filter(br=>br.status==="completed"&&br.pdf_url))||[],[Dt]),rr=(br,_r)=>{Ht!==void 0&&Ft?Ft(et,br,_r):$t(et,br,_r)};reactExports.useEffect(()=>{dt.offer_page||rr("offer_page",{enabled:!1,blocks:[],bullets:[],trust_items:[]})},[]);const sr=(br,_r="#000000")=>br&&br.startsWith("#")&&br.length===7?br:_r,ir=async br=>{const _r=URL.createObjectURL(br);rr("image_url",_r);try{const Or=new FormData;Or.append("image",br),Or.append("landingId",Tt==null?void 0:Tt.id),Or.append("blockId",dt.id);const Pr=await axiosInstance.post("/landing/upload-media-block",Or,{headers:{"Content-Type":"multipart/form-data"}});Pr.data.url&&(rr("image_url",Pr.data.url),rr("use_pdf_cover",!1),y$4.success("Image uploaded!"))}catch{y$4.error("Upload failed")}finally{URL.revokeObjectURL(_r)}},nr=dt.match_main_bg?kt:"#000000",or=dt.use_no_bg?"transparent":dt.use_gradient?`linear-gradient(${dt.gradient_direction||"135deg"},
        ${dt.gradient_start||"#a855f7"},
        ${dt.gradient_end||"#ec4899"})`:dt.bg_color||"#111827",lr=(((kr=(vr=(mr=dt.offer_page)==null?void 0:mr.blocks)==null?void 0:vr.map(br=>br.text))==null?void 0:kr.join(" "))||"").replace(//g,""),cr=lr.trim().length>0,dr=cr&&lr.trim().split(/\s+/).length>20,ur=Number(dt.price||0),pr=dt.text_color||"#ffffff";return jsxRuntimeExports.jsxs("div",{className:"rounded-xl p-6 mt-6 border border-gray-700 transition-all duration-300",style:{background:"#0b1220",maxHeight:"80vh",overflowY:"auto"},children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300",children:"Background Color"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[jsxRuntimeExports.jsx("input",{type:"color",value:sr(dt.bg_color,"#111827"),onChange:br=>rr("bg_color",br.target.value),className:"w-8 h-8 border border-gray-600 rounded cursor-pointer bg-transparent"}),jsxRuntimeExports.jsx("input",{type:"text",value:dt.bg_color||"",onChange:br=>{const _r=br.target.value;/^#?[0-9A-Fa-f]{0,6}$/.test(_r)&&rr("bg_color",_r.startsWith("#")?_r:`#${_r}`)},placeholder:"#111827",className:"w-24 px-2 py-1 text-xs bg-black text-white border border-gray-600 rounded"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mt-6",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300",children:"Match Page Background"}),jsxRuntimeExports.jsx("input",{type:"checkbox",checked:dt.match_main_bg||!1,onChange:br=>rr("match_main_bg",br.target.checked)})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300",children:"Use Gradient"}),jsxRuntimeExports.jsx("input",{type:"checkbox",checked:dt.use_gradient||!1,onChange:br=>rr("use_gradient",br.target.checked)})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300",children:"No Background"}),jsxRuntimeExports.jsx("input",{type:"checkbox",checked:dt.use_no_bg||!1,onChange:br=>rr("use_no_bg",br.target.checked)})]})]}),dt.use_gradient&&jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300",children:"Gradient Start"}),jsxRuntimeExports.jsx("input",{type:"color",value:sr(dt.gradient_start)||"#F285C3",onChange:br=>rr("gradient_start",br.target.value),className:"w-full h-10 border border-gray-700 rounded mt-1 bg-black"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300",children:"Gradient End"}),jsxRuntimeExports.jsx("input",{type:"color",value:sr(dt.gradient_end)||"#7bed9f",onChange:br=>rr("gradient_end",br.target.value),className:"w-full h-10 border border-gray-700 rounded mt-1 bg-black"})]}),jsxRuntimeExports.jsxs("div",{className:"col-span-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300",children:"Gradient Direction"}),jsxRuntimeExports.jsxs("select",{value:dt.gradient_direction||"90deg",onChange:br=>rr("gradient_direction",br.target.value),className:"w-full p-2 mt-1 bg-black border border-gray-700 rounded text-white",children:[jsxRuntimeExports.jsx("option",{value:"90deg",children:"Left  Right"}),jsxRuntimeExports.jsx("option",{value:"180deg",children:"Top  Bottom"}),jsxRuntimeExports.jsx("option",{value:"45deg",children:"Diagonal "}),jsxRuntimeExports.jsx("option",{value:"135deg",children:"Diagonal "})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300",children:"Main Text Color"}),jsxRuntimeExports.jsx("input",{type:"color",value:sr(dt.text_color,"#ffffff"),onChange:br=>rr("text_color",br.target.value),className:"w-8 h-8 border border-gray-600 rounded cursor-pointer bg-transparent"}),jsxRuntimeExports.jsx("input",{type:"text",value:dt.text_color||"",onChange:br=>{const _r=br.target.value;/^#?[0-9A-Fa-f]{0,6}$/.test(_r)&&rr("text_color",_r.startsWith("#")?_r:`#${_r}`)},placeholder:"#ffffff",className:"w-24 px-2 py-1 text-xs bg-black text-white border border-gray-600 rounded"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[jsxRuntimeExports.jsxs("label",{className:"text-sm font-semibold text-gray-300",children:["Secondary Text Color",jsxRuntimeExports.jsx("span",{className:"block text-xs font-normal text-gray-400 mt-1",children:"Used on the offer preview page for Title and Sub-title text"})]}),jsxRuntimeExports.jsx("input",{type:"color",value:sr(dt.secondary_text_color,"#9ca3af"),onChange:br=>rr("secondary_text_color",br.target.value),className:"w-8 h-8 border border-gray-600 rounded cursor-pointer bg-transparent"}),jsxRuntimeExports.jsx("input",{type:"text",value:dt.secondary_text_color||"",onChange:br=>{const _r=br.target.value;/^#?[0-9A-Fa-f]{0,6}$/.test(_r)&&rr("secondary_text_color",_r.startsWith("#")?_r:`#${_r}`)},placeholder:"#9ca3af",className:"w-24 px-2 py-1 text-xs bg-black text-white border border-gray-600 rounded"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[jsxRuntimeExports.jsxs("label",{className:"text-sm font-semibold text-gray-300",children:["Utility Text Color",jsxRuntimeExports.jsx("span",{className:"block text-xs font-normal text-gray-400 mt-1",children:"Used on the offer preview page for links and navigation text"})]}),jsxRuntimeExports.jsx("input",{type:"color",value:sr(dt.utility_text_color,"#60a5fa"),onChange:br=>rr("utility_text_color",br.target.value),className:"w-8 h-8 border border-gray-600 rounded cursor-pointer bg-transparent"}),jsxRuntimeExports.jsx("input",{type:"text",value:dt.utility_text_color||"",onChange:br=>{const _r=br.target.value;/^#?[0-9A-Fa-f]{0,6}$/.test(_r)&&rr("utility_text_color",_r.startsWith("#")?_r:`#${_r}`)},placeholder:"#60a5fa",className:"w-24 px-2 py-1 text-xs bg-black text-white border border-gray-600 rounded"})]}),jsxRuntimeExports.jsx("div",{style:{display:"flex",justifyContent:"center"},children:(()=>{var _r;const br=dt.use_pdf_cover?dt.cover_url:dt.image_url||"";return jsxRuntimeExports.jsxs("div",{className:"border border-gray-700 rounded-2xl overflow-hidden shadow-2xl flex flex-col",style:{color:pr,width:"100%",maxWidth:"980px",minHeight:"420px"},children:[jsxRuntimeExports.jsx("div",{className:"relative bg-black w-full overflow-hidden rounded-xl",style:{height:"320px",maxHeight:"340px"},children:Jt?jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/70",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 border-4 border-gray-500 border-t-green rounded-full animate-spin"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 mt-3",children:"Loading Book cover"})]}):br?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex items-center justify-center",style:{background:nr},children:cr||dt.title||ur>0?jsxRuntimeExports.jsxs("div",{style:{display:"flex",width:"90%",maxWidth:"480px",height:"200px",borderRadius:"16px",overflow:"hidden",border:"1px solid rgba(255,255,255,0.12)",boxShadow:"0 20px 45px rgba(0,0,0,0.45)",background:dt.use_gradient?`linear-gradient(${dt.gradient_direction||"135deg"},
              ${dt.gradient_start||"#a855f7"},
              ${dt.gradient_end||"#ec4899"})`:dt.bg_color||"#111827"},children:[dt.use_pdf_cover&&dt.cover_url||dt.image_url?jsxRuntimeExports.jsx("div",{style:{flex:"0 0 30%",background:"#000",borderTopLeftRadius:"16px",borderBottomLeftRadius:"16px",overflow:"hidden"},children:jsxRuntimeExports.jsx("img",{src:dt.use_pdf_cover?dt.cover_url:dt.image_url,alt:"",style:{width:"100%",height:"100%",objectFit:"cover",borderTopLeftRadius:"16px",borderBottomLeftRadius:"16px",borderTopRightRadius:0,borderBottomRightRadius:0}})}):null,jsxRuntimeExports.jsxs("div",{style:{flex:1,padding:"16px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center",color:dt.text_color||"#ffffff",background:or},children:[jsxRuntimeExports.jsx("h3",{style:{fontSize:"0.95rem",fontWeight:800,marginBottom:"6px"},children:dt.title||"Offer Title"}),jsxRuntimeExports.jsxs("div",{style:{fontSize:"0.8rem",lineHeight:1.4,opacity:.9,maxWidth:"420px",marginBottom:"8px"},children:[jsxRuntimeExports.jsx("span",{style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis"},children:lr}),dr&&jsxRuntimeExports.jsx("span",{style:{display:"block",marginTop:"6px",fontWeight:700,textDecoration:"underline",cursor:"pointer",fontSize:"0.75rem",opacity:.95},children:"See more"})]}),jsxRuntimeExports.jsx("button",{style:{marginTop:"auto",width:"100%",maxWidth:"180px",padding:"8px",borderRadius:"8px",fontWeight:700,border:"none",background:dt.button_color||"#22c55e",color:dt.button_text_color||"#000000",fontSize:"0.8rem",opacity:Yt?1:.6},children:dt.button_text||"Buy Now"}),ur>0&&jsxRuntimeExports.jsxs("div",{style:{marginTop:"6px",fontSize:"0.85rem",opacity:.85},children:["$",ur.toFixed(2)]})]})]}):jsxRuntimeExports.jsx("div",{style:{color:"rgba(255,255,255,0.5)",fontSize:"0.85rem",textAlign:"center",padding:"20px"},children:"Fill in the fields to see your card preview"})}),(dt.image_url||dt.cover_url)&&jsxRuntimeExports.jsx("button",{type:"button",className:"absolute top-3 right-3 bg-black/70 text-red-400 text-xs px-3 py-1 rounded hover:bg-black",onClick:()=>{dt.use_pdf_cover?rr("use_pdf_cover",!1):rr("image_url","")},children:"Remove"})]}):jsxRuntimeExports.jsxs("label",{className:"flex items-center justify-center h-full border border-dashed border-gray-600 cursor-pointer",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-400 text-sm",children:"Upload Image"}),jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:Or=>ir(Or.target.files[0])})]})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col p-8 gap-4",style:{background:"#0f172a",color:dt.text_color||"#ffffff"},children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300 mt-6 block",children:"Product Source"}),jsxRuntimeExports.jsxs("select",{value:Kt,onChange:Or=>{const Pr=Or.target.value;rr("product_source",Pr),Pr==="internal"&&(rr("external_file_url",""),rr("external_file_name","")),Pr==="external"&&(rr("pdf_url",""),rr("pdf_name",""),rr("cover_url",""),rr("use_pdf_cover",!1))},className:"w-full p-2 bg-black border border-gray-600 rounded text-white mt-1",children:[jsxRuntimeExports.jsx("option",{value:"internal",children:"The Messy Attic Book"}),jsxRuntimeExports.jsx("option",{value:"external",children:"Upload Existing Product"})]}),Kt==="external"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300 mt-4 block",children:"Upload Your Product"}),jsxRuntimeExports.jsx("input",{type:"file",accept:".pdf,.zip",onChange:async Or=>{var Mr,Rr;const Pr=(Mr=Or.target.files)==null?void 0:Mr[0];if(Pr)try{const Tr=new FormData;Tr.append("file",Pr),Tr.append("landingId",Tt.id),Tr.append("blockId",dt.id);const xr=await axiosInstance.post("/landing/upload-product",Tr,{headers:{"Content-Type":"multipart/form-data"}});if(!((Rr=xr.data)!=null&&Rr.success)){y$4.error("Upload failed");return}rr("external_file_url",xr.data.url),rr("external_file_name",xr.data.file_name||Pr.name),rr("product_source","external"),y$4.success("Product uploaded!"),Or.target.value=""}catch{y$4.error("Upload failed")}},className:"w-full p-2 bg-black border border-gray-700 rounded text-white"}),dt.external_file_url&&jsxRuntimeExports.jsxs("p",{className:"text-xs text-green mt-2",children:["Uploaded: ",dt.external_file_name]})]}),Kt==="internal"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300 mt-3 block",children:"Choose Book"}),jsxRuntimeExports.jsxs("select",{value:dt.pdf_url||"",onChange:async Or=>{var Rr;const Pr=Or.target.value;if(!Pr){rr("pdf_url",""),rr("pdf_name",""),rr("cover_url",""),rr("image_url",""),rr("use_pdf_cover",!1),rr("page_count",null),Zt(!1);return}const Mr=er.find(Tr=>Tr.pdf_url===Pr);if(!Mr){Zt(!1);return}rr("pdf_url",Mr.pdf_url),rr("pdf_name",Mr.title||"Book"),rr("product_source","internal"),rr("use_pdf_cover",!0),rr("image_url",""),rr("page_count",Mr.page_count||null),Zt(!0);try{const Tr=await axiosInstance.get(`/landing/lead-magnets/cover?pdfUrl=${encodeURIComponent(Mr.pdf_url)}`);(Rr=Tr.data)!=null&&Rr.cover_image&&rr("cover_url",Tr.data.cover_image)}catch(Tr){console.error(" Error loading Book cover:",Tr)}finally{Zt(!1)}},className:"w-full p-2 bg-black text-white border border-gray-600 rounded mt-1",children:[jsxRuntimeExports.jsx("option",{value:"",children:"-- Choose Book --"}),er.map(Or=>jsxRuntimeExports.jsx("option",{value:Or.pdf_url,children:Or.title||"Book"},Or.id))]})]}),dt.pdf_url&&jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Selected Book:"," ",jsxRuntimeExports.jsx("span",{className:"text-white font-semibold",children:dt.pdf_name||"Book"}),dt.page_count&&jsxRuntimeExports.jsxs("span",{className:"ml-2 opacity-80",children:[" ",dt.page_count," pages"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300",children:"Use Book Cover Image"}),jsxRuntimeExports.jsx("input",{type:"checkbox",checked:!!dt.use_pdf_cover,disabled:!dt.cover_url,onChange:Or=>{rr("use_pdf_cover",Or.target.checked)}})]}),dt.pdf_url&&jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 mt-1",children:jsxRuntimeExports.jsx("a",{href:dt.pdf_url,target:"_blank",className:"text-green underline",rel:"noopener noreferrer",children:"Preview Book"})}),jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300 mt-3 block",children:"Offer Title"}),jsxRuntimeExports.jsx("input",{type:"text",value:dt.title||"",maxLength:60,onChange:Or=>rr("title",Or.target.value),className:"w-full p-2 bg-black text-white border border-gray-600 rounded mt-1",placeholder:"Offer Title"}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-400 mt-1 text-right",children:[((_r=dt.title)==null?void 0:_r.length)||0,"/60"]}),jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-gray-300 mt-3 block",children:"Product Name (Checkout)"}),jsxRuntimeExports.jsx("input",{type:"text",value:dt.product_name||"",maxLength:80,onChange:Or=>rr("product_name",Or.target.value),className:"w-full p-2 bg-black text-white border border-gray-600 rounded mt-1",placeholder:"What buyers will see on checkout"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"This appears on Stripe checkout and receipts"}),jsxRuntimeExports.jsx(MiniOfferAdvanced,{block:dt,updateField:rr,landing:Tt,openAIModal:Ut}),jsxRuntimeExports.jsx("label",{className:"text-sm text-gray-300 mt-3 block",children:"Price"}),jsxRuntimeExports.jsx("input",{type:"number",value:dt.price,onChange:Or=>rr("price",Number(Or.target.value)||0),className:"w-full p-2 bg-black text-white border mt-1"}),jsxRuntimeExports.jsx("label",{className:"text-sm text-gray-300 mt-3 block",children:"Button Label"}),jsxRuntimeExports.jsx("input",{type:"text",value:dt.button_text,onChange:Or=>rr("button_text",Or.target.value),className:"w-full p-2 bg-black border mt-1",style:{color:"#000000"}}),jsxRuntimeExports.jsx("label",{className:"text-sm text-gray-300 mt-3 block",children:"Button Background"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[jsxRuntimeExports.jsx("input",{type:"color",value:sr(dt.button_color)||"#000000",onChange:Or=>rr("button_color",Or.target.value),className:"w-8 h-8 p-0 border border-gray-600 rounded cursor-pointer bg-transparent"}),jsxRuntimeExports.jsx("input",{type:"text",value:dt.button_color||"",onChange:Or=>{const Pr=Or.target.value;/^#?[0-9A-Fa-f]{0,6}$/.test(Pr)&&rr("button_color",Pr.startsWith("#")?Pr:`#${Pr}`)},placeholder:"#000000",className:"w-24 px-2 py-1 text-xs bg-black text-white border border-gray-600 rounded"})]}),jsxRuntimeExports.jsx("label",{className:"text-sm text-gray-300 mt-3 block",children:"Button Text Color"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[jsxRuntimeExports.jsx("input",{type:"color",value:sr(dt.button_text_color)||"#000000",onChange:Or=>rr("button_text_color",Or.target.value),className:"w-8 h-8 p-0 border border-gray-600 rounded cursor-pointer bg-transparent"}),jsxRuntimeExports.jsx("input",{type:"text",value:dt.button_text_color||"",onChange:Or=>{const Pr=Or.target.value;/^#?[0-9A-Fa-f]{0,6}$/.test(Pr)&&rr("button_text_color",Pr.startsWith("#")?Pr:`#${Pr}`)},placeholder:"#ffffff",className:"w-24 px-2 py-1 text-xs bg-black text-white border border-gray-600 rounded"})]}),jsxRuntimeExports.jsx("div",{style:{marginTop:"auto"},children:jsxRuntimeExports.jsx("button",{style:{backgroundColor:dt.button_color,color:dt.button_text_color||"#000000"},className:"w-full mt-4 py-2 rounded-lg font-semibold transition",children:dt.button_text})})]})]})})()})]})}function ProfileCardBlock({block:dt,index:et,updateBlock:$t,bgTheme:kt,getLabelContrast:Tt,adjustForLandingOverlay:Dt,landing:Ft}){const[Ut,Ht]=reactExports.useState(null),[Kt,Yt]=reactExports.useState({x:0,y:0}),[Jt,Zt]=reactExports.useState(1),[er,rr]=reactExports.useState(null),[sr,ir]=reactExports.useState(!1);function nr(lr,cr,dr){const ur=lr.getImageData(0,0,cr,dr).data;for(let pr=3;pr<ur.length;pr+=4)if(ur[pr]<255)return!0;return!1}const or=Dt(kt);return jsxRuntimeExports.jsxs("div",{className:"rounded-xl p-6 mt-3 border border-gray-700 bg-[#0F172A] transition-all",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-5",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",style:{color:Tt(kt)},children:"Profile Card"}),jsxRuntimeExports.jsx("span",{className:"text-xs bg-[#1E293B] text-gray-300 px-2 py-1 rounded-full border border-gray-600",children:"Image + Contact"})]}),jsxRuntimeExports.jsx("div",{className:"rounded-xl border border-gray-700 p-6",style:{background:Dt(kt)},children:dt.image_url?jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"mx-auto",style:{width:`${dt.image_size||120}px`,height:`${dt.image_size||120}px`,borderRadius:`${dt.image_radius||999}px`,border:`${dt.image_border_width||1}px solid ${dt.image_border_color||"#e5e7eb"}`,overflow:"hidden",background:"transparent"},children:jsxRuntimeExports.jsx("img",{src:dt.image_url,alt:"",style:{width:"100%",height:"100%",objectFit:"contain",display:"block"}})}),jsxRuntimeExports.jsx("button",{className:"text-xs text-red-400 mt-3 hover:underline",onClick:()=>$t(et,"image_url",""),children:"Remove image"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("label",{htmlFor:`profileImage-${dt.id}`,className:"flex flex-col items-center justify-center border-2 border-dashed border-gray-600 rounded-xl py-10 cursor-pointer hover:border-green transition",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:jsxRuntimeExports.jsx("span",{className:"text-green font-medium",children:"Upload profile image"})}),jsxRuntimeExports.jsx("input",{id:`profileImage-${dt.id}`,type:"file",accept:"image/*",className:"hidden",onChange:lr=>{const cr=lr.target.files[0];if(!cr)return;const dr=URL.createObjectURL(cr);Ht(dr)}})]}),Ut&&jsxRuntimeExports.jsxs("div",{className:"mt-6",children:[jsxRuntimeExports.jsx("div",{className:"relative w-full h-[260px] rounded-lg overflow-hidden",style:{background:or,boxShadow:"inset 0 0 0 1px rgba(255,255,255,0.08)"},children:jsxRuntimeExports.jsx(Cropper,{image:Ut,crop:Kt,zoom:Jt,aspect:1,cropShape:"round",showGrid:!1,onCropChange:Yt,onZoomChange:Zt,onCropComplete:(lr,cr)=>rr(cr)})}),jsxRuntimeExports.jsxs("div",{className:"mt-4",children:[jsxRuntimeExports.jsx("label",{className:"text-xs text-gray-400",children:"Zoom"}),jsxRuntimeExports.jsx("input",{type:"range",min:1,max:3,step:.01,value:Jt,onChange:lr=>Zt(Number(lr.target.value)),className:"w-full"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3 mt-4",children:[jsxRuntimeExports.jsx("button",{disabled:sr,className:"px-4 py-2 rounded bg-green text-black text-sm",onClick:async()=>{if(!er)return;const lr=document.createElement("canvas"),cr=lr.getContext("2d"),dr=new Image;dr.crossOrigin="anonymous",dr.src=Ut,await new Promise(xr=>dr.onload=xr);const{width:ur,height:pr,x:mr,y:vr}=er;lr.width=ur,lr.height=pr,cr.clearRect(0,0,ur,pr),cr.drawImage(dr,mr,vr,ur,pr,0,0,ur,pr);const kr=nr(cr,ur,pr),br=kr?"image/png":"image/jpeg",_r=kr?"profile.png":"profile.jpg",Or=kr?void 0:.9,Pr=await new Promise(xr=>lr.toBlob(xr,br,Or)),Mr=URL.createObjectURL(Pr);$t(et,"image_url",Mr);const Rr=new FormData;Rr.append("image",Pr,_r),Rr.append("landingId",Ft.id),Rr.append("blockId",dt.id);const Tr=await axiosInstance.post("/landing/upload-media-block",Rr,{headers:{"Content-Type":"multipart/form-data"}});Tr.data.success&&($t(et,"image_url",Tr.data.url),y$4.success("Profile image saved")),URL.revokeObjectURL(Ut),URL.revokeObjectURL(Mr),Ht(null),Yt({x:0,y:0}),Zt(1)},children:"Save Image"}),jsxRuntimeExports.jsx("button",{className:"px-4 py-2 rounded bg-gray-700 text-white text-sm",onClick:()=>{URL.revokeObjectURL(Ut),Ht(null)},children:"Cancel"})]})]})]})}),jsxRuntimeExports.jsxs("div",{className:"mt-6",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold",style:{color:Tt(kt)},children:"Image Size"}),jsxRuntimeExports.jsx("input",{type:"range",min:"60",max:"200",value:dt.image_size||120,onChange:lr=>$t(et,"image_size",Number(lr.target.value)),className:"w-full mt-2"})]}),jsxRuntimeExports.jsxs("div",{className:"mt-6",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold",style:{color:Tt(kt)},children:"Tagline"}),jsxRuntimeExports.jsx("input",{type:"text",value:dt.tagline||"",placeholder:"Welcome to my page",onChange:lr=>$t(et,"tagline",lr.target.value),className:"w-full p-2 mt-1 border border-gray-600 rounded bg-black text-white"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mt-3",children:[jsxRuntimeExports.jsx("input",{type:"color",value:dt.tagline_color||"#FFFFFF",onChange:lr=>$t(et,"tagline_color",lr.target.value),className:"w-10 h-10 rounded cursor-pointer border border-gray-600"}),jsxRuntimeExports.jsx("input",{type:"text",value:dt.tagline_color||"#FFFFFF",onChange:lr=>$t(et,"tagline_color",lr.target.value),className:"flex-1 p-2 border border-gray-600 rounded bg-black text-white uppercase",placeholder:"#FFFFFF"})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold",style:{color:Tt(kt)},children:"Contact Type"}),jsxRuntimeExports.jsxs("select",{value:dt.contact_type||"email",onChange:lr=>$t(et,"contact_type",lr.target.value),className:"w-full p-2 mt-1 bg-black border border-gray-700 rounded text-white",children:[jsxRuntimeExports.jsx("option",{value:"email",children:"Email"}),jsxRuntimeExports.jsx("option",{value:"phone",children:"Phone"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold",style:{color:Tt(kt)},children:"Contact Value"}),jsxRuntimeExports.jsx("input",{type:"text",value:dt.contact_value||"",placeholder:dt.contact_type==="phone"?"555 123 4567":"hello@example.com",onChange:lr=>$t(et,"contact_value",lr.target.value),className:"w-full p-2 mt-1 border border-gray-600 rounded bg-black text-white"})]})]})]})}function ScrollArrowBlock({block:dt,index:et,updateBlock:$t,bgTheme:kt,getLabelContrast:Tt}){const Dt=SCROLL_ARROW_STYLES[dt.arrow_style||"single"];return jsxRuntimeExports.jsxs("div",{className:"rounded-xl p-6 mt-3 border border-gray-700 bg-[#0F172A] transition-all",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-5",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",style:{color:Tt(kt)},children:"Scroll Arrow"}),jsxRuntimeExports.jsx("span",{className:"text-xs bg-[#1E293B] text-gray-300 px-2 py-1 rounded-full border border-gray-600",children:"Call to Action"})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center mb-6",style:{justifyContent:dt.alignment==="left"?"flex-start":dt.alignment==="right"?"flex-end":"center"},children:jsxRuntimeExports.jsx("div",{style:{width:dt.size||36,cursor:"pointer",touchAction:"manipulation","--arrow-speed":`${dt.animation_speed||1.2}s`,display:"flex",flexDirection:"column",alignItems:"center"},children:Array.from({length:Dt.count}).map((Ft,Ut)=>jsxRuntimeExports.jsx("svg",{className:`scroll-arrow-item ${dt.animation_type||"bounce"}`,viewBox:"0 0 24 24",fill:"none",stroke:dt.color||"#ffffff",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",width:"100%",height:"100%",style:{display:"block",marginTop:Ut===0?0:"-10px",animationDelay:`${Ut*(dt.stagger??Dt.stagger)}s`,animationDuration:`${dt.animation_speed||1.2}s`},children:jsxRuntimeExports.jsx("path",{d:"M19 12l-7 7-7-7"})},Ut))})}),jsxRuntimeExports.jsxs("div",{className:"mt-4",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold",style:{color:Tt(kt)},children:"Alignment"}),jsxRuntimeExports.jsx("div",{className:"flex gap-2 mt-2",children:["left","center","right"].map(Ft=>jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>$t(et,"alignment",Ft),className:`px-3 py-1 text-xs rounded border transition-all
                ${dt.alignment===Ft?"bg-green-600/20 border-green-500 text-green-400":"border-gray-600 text-gray-400 hover:border-gray-400"}
              `,children:Ft},Ft))})]}),jsxRuntimeExports.jsxs("div",{className:"mt-6",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold",style:{color:Tt(kt)},children:"Arrow Style"}),jsxRuntimeExports.jsx("div",{className:"flex gap-2 mt-2",children:Object.entries(SCROLL_ARROW_STYLES).map(([Ft,Ut])=>jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>$t(et,"arrow_style",Ft),className:`px-3 py-1 text-xs rounded border transition-all
          ${(dt.arrow_style||"single")===Ft?"bg-green/80 border-green/70 text-green":"border-gray-600 text-gray-400 hover:border-gray-400"}
        `,children:Ut.label},Ft))})]}),jsxRuntimeExports.jsxs("div",{className:"mt-6",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold",style:{color:Tt(kt)},children:"Animation"}),jsxRuntimeExports.jsx("div",{className:"flex gap-2 mt-2",children:["bounce","float","pulse"].map(Ft=>jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>$t(et,"animation_type",Ft),className:`px-3 py-1 text-xs rounded border transition-all
          ${dt.animation_type===Ft?"bg-green-600/20 border-green-500 text-green-400":"border-gray-600 text-gray-400 hover:border-gray-400"}
        `,children:Ft},Ft))})]}),jsxRuntimeExports.jsxs("div",{className:"mt-6",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold",style:{color:Tt(kt)},children:"Animation Speed"}),jsxRuntimeExports.jsx("input",{type:"range",min:"0.6",max:"3",step:"0.1",value:dt.animation_speed||1.2,onChange:Ft=>$t(et,"animation_speed",Number(Ft.target.value)),className:"w-full mt-2"}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[dt.animation_speed||1.2,"s"]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-6",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold",style:{color:Tt(kt)},children:"Arrow Stagger"}),jsxRuntimeExports.jsx("input",{type:"range",min:"0",max:"0.5",step:"0.05",value:dt.stagger??Dt.stagger,onChange:Ft=>$t(et,"stagger",Number(Ft.target.value)),className:"w-full mt-2"}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[dt.stagger??Dt.stagger,"s delay"]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-6",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold",style:{color:Tt(kt)},children:"Arrow Color"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[jsxRuntimeExports.jsx("input",{type:"color",value:dt.color||"#ffffff",onChange:Ft=>$t(et,"color",Ft.target.value),className:"w-10 h-10 rounded cursor-pointer border border-gray-600"}),jsxRuntimeExports.jsx("input",{type:"text",value:dt.color||"#ffffff",onChange:Ft=>$t(et,"color",Ft.target.value),className:"flex-1 p-2 border border-gray-600 rounded bg-black text-white uppercase",placeholder:"#FFFFFF"})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-6",children:[jsxRuntimeExports.jsxs("label",{className:"text-sm font-semibold flex justify-between items-center",style:{color:Tt(kt)},children:[jsxRuntimeExports.jsx("span",{children:"Arrow Size"}),jsxRuntimeExports.jsxs("span",{className:"text-xs opacity-80",children:[dt.size||36,"%"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[jsxRuntimeExports.jsx("input",{type:"range",min:"10",max:"150",step:"1",value:dt.size||36,onChange:Ft=>$t(et,"size",Number(Ft.target.value)),className:"flex-1"}),jsxRuntimeExports.jsx("input",{type:"number",min:"10",max:"150",value:dt.size||36,onChange:Ft=>$t(et,"size",Number(Ft.target.value)),className:"w-20 bg-[#0F172A] border border-gray-700 rounded-md px-2 py-1 text-sm text-white"})]})]})]})}function SortableBlock({id:dt,block:et,index:$t,updateBlock:kt,removeBlock:Tt,moveBlockUp:Dt,moveBlockDown:Ft,activeChild:Ut,setActiveChild:Ht,setActiveRoot:Kt,activeRoot:Yt,bgTheme:Jt,pdfList:Zt,landing:er,updateChildBlock:rr,openAIModal:sr,containerIndex:ir}){var pr,mr,vr;const nr=(kr,br,_r)=>{Number.isInteger(ir)&&rr?rr(kr,br,_r):kt(kr,br,_r)},or=Number.isInteger(ir)&&(Ut==null?void 0:Ut.childId)===et.id||ir==null&&(Yt==null?void 0:Yt.blockId)===et.id,lr=kr=>{if(!kr)return"#1f2937";const br=kr.replace("#",""),_r=parseInt(br.substring(0,2),16),Or=parseInt(br.substring(2,4),16),Pr=parseInt(br.substring(4,6),16);return(_r*299+Or*587+Pr*114)/1e3>160?"#1f2937":"#f3f4f6"};function cr(kr){var br,_r,Or,Pr,Mr,Rr,Tr,xr,wr,zr,Hr;switch(kr.type){case"container":return`${kr.title||"Untitled Section"}  ${(kr.children||[]).length} blocks`;case"heading":case"subheading":case"subsubheading":case"list_heading":return((br=kr.text)==null?void 0:br.slice(0,30))||"(empty heading)";case"paragraph":return((_r=kr.text)==null?void 0:_r.slice(0,30))||"(empty paragraph)";case"offer_banner":return((Or=kr.button_text)==null?void 0:Or.slice(0,30))||"(no button text)";case"divider":return kr.style==="space"?`space  ${kr.height||40}px`:`line  ${kr.color||"#fff"}  ${kr.height||40}px`;case"image":return kr.image_url?kr.image_url.split("/").pop().slice(0,30):"(no image)";case"profile_card":return kr.tagline?kr.tagline.split("/").pop().slice(0,30):"(no image)";case"social_links":return`${Object.values(kr.links||{}).filter(Boolean).length} links`;case"video":return((Pr=kr.url)==null?void 0:Pr.slice(0,30))||"(no video URL)";case"faq":return`${((Mr=kr.items)==null?void 0:Mr.length)||0} questions`;case"stripe_checkout":return`$${kr.price||10}  checkout`;case"calendly":return((Rr=kr.calendly_url)==null?void 0:Rr.slice(0,30))||"(no url)";case"verified_reviews":return((Tr=kr.title)==null?void 0:Tr.slice(0,30))||"(reviews section)";case"countdown":return((xr=kr.text)==null?void 0:xr.slice(0,30))||"(countdown timer)";case"referral_button":return((wr=kr.text)==null?void 0:wr.slice(0,30))||"(referral button)";case"button_url":return kr.text||"Button";case"single_offer":return kr.title?kr.title.slice(0,30):"Single Offer";case"mini_offer":return kr.title?kr.title.slice(0,30):"Mini Offer";case"secure_checkout":return((zr=kr.title)==null?void 0:zr.slice(0,30))||"Secure Checkout";case"audio_player":return((Hr=kr.title)==null?void 0:Hr.slice(0,30))||"Audio Player";case"scroll_arrow":return`Arrow  ${kr.color||"#FFFFFF"}`;default:return""}}function dr({value:kr,disabled:br}){const _r=BLOCK_TYPE_TO_LABEL[kr]||kr,Or=BLOCK_PILL_STYLES[_r]||"bg-white/10 text-gray-300 border-white/20";return jsxRuntimeExports.jsx("span",{className:`
        text-[13px]
        font-semibold
        uppercase
        tracking-wide
        px-2.5
        py-0.5
        rounded-full
        border
        leading-none
        whitespace-nowrap
        transition-all
        ${br?"opacity-40 grayscale":Or}
      `,children:_r})}const ur=((pr=er==null?void 0:er.motion_settings)==null?void 0:pr.enabled)===!0&&et.enabled!==!1;return et.type==="container"?jsxRuntimeExports.jsx(SortableContainerBlock,{id:dt,block:et,index:$t,updateBlock:kt,removeBlock:Tt,moveBlockUp:Dt,moveBlockDown:Ft,activeChild:Ut,setActiveChild:Ht,bgTheme:Jt,pdfList:Zt,landing:er,openAIModal:sr}):jsxRuntimeExports.jsxs("div",{"data-drop-id":$t,"data-parent-id":null,onClick:kr=>{kr.stopPropagation(),Number.isInteger(ir)?(Ht({containerIndex:ir,childIndex:$t,childId:et.id}),Kt(null)):(Kt({blockId:et.id,blockIndex:$t}),Ht(null))},className:`
      mb-4 sm:mb-6
      rounded-lg sm:rounded-xl
      p-3 sm:p-5
      relative shadow-inner
      transition-all duration-300
      bg-dashboard-bg-light/70 dark:bg-dashboard-bg-dark/70
      border
      ${et.enabled!==!1?"border-dashboard-border-light dark:border-dashboard-border-dark hover:border-dashboard-muted-light dark:hover:border-dashboard-muted-dark":"border-dashboard-border-light dark:border-dashboard-border-dark opacity-50 grayscale"}
      ${or?"ring-2 ring-green":""}
    `,children:[jsxRuntimeExports.jsx("div",{className:"absolute top-2 left-2 z-20 flex flex-col gap-1",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:kr=>{kr.stopPropagation(),nr($t,"enabled",et.enabled===!1)},className:`
            inline-flex h-4 w-8 items-center rounded-full transition-colors duration-200 shadow-md
            ${et.enabled!==!1?"bg-green/80":"bg-dashboard-muted-light dark:bg-dashboard-muted-dark"}
          `,children:jsxRuntimeExports.jsx("span",{className:`
          h-3
          w-3
          rounded-full
          bg-white
          transition-transform
          duration-200
          ${et.enabled!==!1?"translate-x-4":"translate-x-1"}
        `})}),jsxRuntimeExports.jsx(dr,{value:et.type,disabled:et.enabled===!1}),et.enabled===!1&&jsxRuntimeExports.jsx("span",{className:"text-[11px] italic text-dashboard-muted-light dark:text-dashboard-muted-dark",children:"disabled"})]})}),jsxRuntimeExports.jsx("div",{className:"flex items-center justify-end mb-2 sm:mb-3 cursor-pointer",onClick:kr=>{kr.stopPropagation(),nr($t,"collapsed",!et.collapsed)},children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[ur&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 shrink-0 opacity-80 hover:opacity-100 transition",onClick:kr=>kr.stopPropagation(),children:[jsxRuntimeExports.jsx("span",{className:"text-[11px] text-dashboard-muted-light dark:text-dashboard-muted-dark",children:"Animate"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>{var kr;return nr($t,"motion",{...et.motion,disabled:!((kr=et.motion)!=null&&kr.disabled)})},className:`
          relative inline-flex
          h-4 w-7
          items-center
          rounded-full
          transition-colors duration-200
          ${(mr=et.motion)!=null&&mr.disabled?"bg-dashboard-muted-light dark:bg-dashboard-muted-dark":"bg-royalPurple"}
        `,children:jsxRuntimeExports.jsx("span",{className:`
            h-3 w-3
            rounded-full
            bg-white
            transition-transform duration-200
            ${(vr=et.motion)!=null&&vr.disabled?"translate-x-1":"translate-x-3"}
          `})})]}),jsxRuntimeExports.jsx("span",{className:`
            text-sm transition-transform duration-300
            text-dashboard-muted-light dark:text-dashboard-muted-dark
            ${et.collapsed?"rotate-0":"rotate-180"}
          `,children:""})]})}),jsxRuntimeExports.jsx("div",{className:"text-xs leading-snug mt-0.5 ml-[36px] text-dashboard-muted-light dark:text-dashboard-muted-dark",children:cr(et)}),jsxRuntimeExports.jsxs("div",{className:`transition-all duration-500 ease-in-out overflow-hidden ${et.collapsed?"max-h-0 opacity-0":"max-h-[2000px] opacity-100"}`,children:[jsxRuntimeExports.jsxs("div",{className:`transform transition-transform duration-500 ${et.collapsed?"scale-y-95":"scale-y-100"}`,children:[["heading","subheading","subsubheading"].includes(et.type)&&jsxRuntimeExports.jsx(HeadingBlock,{block:et,index:$t,updateChildBlock:rr,containerIndex:ir,updateBlock:nr,openAIModal:sr}),et.type==="list_heading"&&jsxRuntimeExports.jsx(ListHeadingBlock,{block:et,index:$t,updateChildBlock:rr,containerIndex:ir,updateBlock:nr,openAIModal:sr}),et.type==="paragraph"&&jsxRuntimeExports.jsx(ParagraphBlock,{block:et,index:$t,updateChildBlock:rr,containerIndex:ir,updateBlock:nr,openAIModal:sr}),et.type==="video"&&jsxRuntimeExports.jsx(VideoBlock,{block:et,index:$t,updateBlock:nr}),et.type==="divider"&&jsxRuntimeExports.jsx(DividerBlock,{block:et,index:$t,updateBlock:nr}),et.type==="offer_banner"&&jsxRuntimeExports.jsx(OfferBannerBlock,{block:et,index:$t,updateBlock:nr,bgTheme:Jt,openAIModal:sr}),et.type==="calendly"&&jsxRuntimeExports.jsx(CalendlyBlock,{block:et,index:$t,updateBlock:nr}),et.type==="social_links"&&jsxRuntimeExports.jsx(SocialLinksBlock,{block:et,index:$t,updateBlock:nr}),et.type==="verified_reviews"&&jsxRuntimeExports.jsx(VerifiedReviewsBlock,{block:et,index:$t,updateBlock:kt}),et.type==="countdown"&&jsxRuntimeExports.jsx(CountdownBlock,{block:et,index:$t,updateBlock:nr}),et.type==="stripe_checkout"&&jsxRuntimeExports.jsx(StripeCheckoutBlock,{block:et,index:$t,updateBlock:nr,pdfList:Zt,bgTheme:Jt,landing:er}),et.type==="referral_button"&&jsxRuntimeExports.jsx(ReferralButtonBlock,{block:et,index:$t,updateBlock:nr}),et.type==="faq"&&jsxRuntimeExports.jsx(FAQBlock,{block:et,index:$t,updateChildBlock:rr,containerIndex:ir,updateBlock:nr,openAIModal:sr}),et.type==="image"&&jsxRuntimeExports.jsx(ImageBlock,{block:et,index:$t,updateBlock:nr,bgTheme:Jt,getLabelContrast:lr,adjustForLandingOverlay,landing:er}),et.type==="single_offer"&&jsxRuntimeExports.jsx(SingleOfferBlock,{block:et,index:$t,containerIndex:ir,updateBlock:nr,updateChildBlock:rr,bgTheme:Jt,landing:er,pdfList:Zt,openAIModal:sr}),et.type==="mini_offer"&&jsxRuntimeExports.jsx(MiniOfferBlock,{block:et,index:$t,containerIndex:ir,updateBlock:nr,updateChildBlock:rr,bgTheme:Jt,landing:er,pdfList:Zt,openAIModal:sr}),et.type==="secure_checkout"&&jsxRuntimeExports.jsx(SecureCheckoutBlock,{block:et,index:$t,updateBlock:nr}),et.type==="audio_player"&&jsxRuntimeExports.jsx(AudioPlayerBlock,{block:et,index:$t,bgTheme:Jt,updateBlock:nr,landing:er}),et.type==="button_url"&&jsxRuntimeExports.jsx(ButtonBlock,{block:et,index:$t,bgTheme:Jt,updateBlock:nr,landing:er}),et.type==="profile_card"&&jsxRuntimeExports.jsx(ProfileCardBlock,{block:et,index:$t,updateBlock:nr,bgTheme:Jt,getLabelContrast:lr,adjustForLandingOverlay,landing:er}),et.type==="scroll_arrow"&&jsxRuntimeExports.jsx(ScrollArrowBlock,{block:et,index:$t,updateBlock:nr,bgTheme:Jt,getLabelContrast:lr,adjustForLandingOverlay,landing:er})]}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:kr=>{kr.stopPropagation(),Tt($t)},className:"mt-4 flex items-center gap-2 text-red-400 hover:text-red-300 text-sm font-semibold transition-all",children:[jsxRuntimeExports.jsx(Trash2,{size:16,className:"opacity-80"}),jsxRuntimeExports.jsx("span",{children:"Remove"})]})]})]})}const MemoizedSortableBlock=React$2.memo(SortableBlock),BLOCK_LIMITS={stripe_checkout:10,audio_player:1,calendly:1,verified_reviews:1,referral_button:1,offer_banner:1,social_links:2,video:10,faq:2,countdown:2,single_offer:5,mini_offer:20,button_url:10,profile_card:1,scroll_arrow:5},PRO_ONLY_BLOCKS=["audio_player","calendly","verified_reviews","countdown","secure_checkout","mini_offer","scroll_arrow"];function AddSectionButton({addBlock:dt,canAddBlock:et}){const[$t,kt]=reactExports.useState(!1),{user:Tt}=useAuth(),Dt=(Tt==null?void 0:Tt.plan)==="business_builder_pack"&&(Tt==null?void 0:Tt.pro_status)==="active",Ft=Kt=>typeof et=="function"&&!et(Kt),Ut=Kt=>PRO_ONLY_BLOCKS.includes(Kt)&&!Dt;reactExports.useEffect(()=>{const Kt=Yt=>{Yt.target.closest(".add-section-dropdown")||kt(!1)};return document.addEventListener("click",Kt),()=>document.removeEventListener("click",Kt)},[]),reactExports.useEffect(()=>($t?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[$t]);const Ht=[{label:"Section Container",value:"container"},{label:"Divider",value:"divider"},{label:"Heading (H1)",value:"heading"},{label:"Subheading (H2)",value:"subheading"},{label:"Sub-Subheading (H3)",value:"subsubheading"},{label:"List Heading",value:"list_heading"},{label:"Paragraph",value:"paragraph"},{label:"FAQ",value:"faq"},{label:"Video",value:"video"},{label:"Audio Player",value:"audio_player"},{label:"Pro Image",value:"image"},{label:"Profile Card",value:"profile_card"},{label:"Single Offer",value:"single_offer"},{label:"Scroll Arrow",value:"scroll_arrow"},{label:"Mini Offer",value:"mini_offer"},{label:"Verified Reviews",value:"verified_reviews"},{label:"Stripe Checkout",value:"stripe_checkout"},{label:"Offer Banner",value:"offer_banner"},{label:"Secure Checkout",value:"secure_checkout"},{label:"Button Url",value:"button_url"},{label:"Social Links Row",value:"social_links"},{label:"Countdown Timer",value:"countdown"},{label:"Calendly",value:"calendly"}];return(Tt==null?void 0:Tt.is_admin_employee)===1&&Ht.push({label:"Referral Button",value:"referral_button"}),jsxRuntimeExports.jsxs("div",{className:"add-section-dropdown relative inline-block text-left",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:Kt=>{Kt.stopPropagation(),kt(Yt=>!Yt)},className:`p-3 rounded-full bg-blue text-white shadow-lg hover:bg-green hover:text-black 
                   transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-green`,title:"Add Section",children:jsxRuntimeExports.jsx(Plus,{size:22})}),$t&&jsxRuntimeExports.jsx("div",{className:"absolute right-0 mt-3 w-64 sm:w-56 bg-[#0F172A] border border-gray-700 rounded-xl shadow-xl overflow-y-auto max-h-[60vh] sm:max-h-[480px] pb-2 z-50",children:Ht.map(Kt=>{const Yt=Ft(Kt.value),Jt=Ut(Kt.value);return jsxRuntimeExports.jsx("button",{type:"button",disabled:Yt,onClick:Zt=>{if(Zt.stopPropagation(),Jt){y$4.error("This is a Pro feature. Upgrade to Pro to unlock it.");return}Yt||(dt(Kt.value),kt(!1))},className:`block w-full text-left px-5 py-3 transition-all
  ${Yt?"text-gray-500 cursor-not-allowed opacity-40":"text-gray-200 hover:bg-white/5"}
`,title:Ut(Kt.value)?"Upgrade to Pro to unlock this block":Yt?"Block limit reached":"",children:jsxRuntimeExports.jsx("span",{className:"flex items-center justify-between w-full gap-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:`
                      text-[10px]
                      uppercase
                      px-2
                      py-0.5
                      whitespace-nowrap
                      border
                      rounded-md
        ${BLOCK_PILL_STYLES[Kt.label]||"bg-white/5 text-white-400 border-white/20"}
      `,children:Kt.label}),Ut(Kt.value)&&jsxRuntimeExports.jsx("span",{className:"text-[10px] px-2 py-0.5 text-royalPurple uppercase",children:"PRO"})]})})},Kt.value)})})]})}function blendColors(dt,et="rgba(255,255,255,0.04)"){const $t=dt.replace("#",""),kt=parseInt($t.substring(0,2),16),Tt=parseInt($t.substring(2,4),16),Dt=parseInt($t.substring(4,6),16),Ft=et.match(/rgba?\(([^)]+)\)/);if(!Ft)return dt;const[Ut,Ht,Kt,Yt=1]=Ft[1].split(",").map(sr=>parseFloat(sr.trim())),Jt=Yt||.04,Zt=Math.round(Ut*Jt+kt*(1-Jt)),er=Math.round(Ht*Jt+Tt*(1-Jt)),rr=Math.round(Kt*Jt+Dt*(1-Jt));return`rgb(${Zt}, ${er}, ${rr})`}async function saveTemplate(dt,et,$t,kt=null){try{return kt?(await axiosInstance.put(`/landing/update-template/${kt}`,{name:et,snapshot:$t})).data:(await axiosInstance.post(`/landing/save-template/${dt}`,{name:et,snapshot:$t})).data}catch(Tt){return console.error(" saveTemplate error:",Tt),{success:!1}}}async function loadTemplateVersions(dt){try{return(await axiosInstance.get(`/landing/templates/${dt}`)).data}catch(et){return console.error(" loadTemplateVersions error:",et),{success:!1,templates:[]}}}async function fetchTemplateSnapshot(dt){try{return(await axiosInstance.get(`/landing/load-template/${dt}`)).data}catch(et){return console.error(" fetchTemplateSnapshot error:",et),{success:!1}}}async function restoreTemplate(dt,et){try{return(await axiosInstance.put(`/landing/restore-template/${dt}`,{snapshot:et})).data}catch($t){return console.error(" restoreTemplate error:",$t),{success:!1}}}async function deleteTemplate(dt){try{return(await axiosInstance.delete(`/landing/delete-template/${dt}`)).data}catch(et){return console.error(" deleteTemplate error:",et),{success:!1}}}function SaveVersionModal({isOpen:dt,name:et,setName:$t,onCancel:kt,onConfirm:Tt}){return dt?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[500]",children:jsxRuntimeExports.jsxs("div",{className:"bg-[#111827] border border-gray-700 rounded-xl shadow-2xl p-8 w-full max-w-md",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-silver mb-4 text-center",children:"Save Template Version"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm mb-6 text-center",children:"Give this version a name so you can restore it later."}),jsxRuntimeExports.jsx("input",{type:"text",value:et,onChange:Dt=>$t(Dt.target.value),placeholder:"e.g. Gradient Header Update",className:`w-full px-4 py-2 bg-gray-800 text-white rounded-lg border border-gray-700 
                     focus:ring-2 focus:ring-green focus:outline-none`}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:kt,className:"px-4 py-2 rounded-lg bg-gray-700 text-gray-300 hover:bg-gray-600 transition",children:"Cancel"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:Tt,className:"px-6 py-2 rounded-lg bg-green text-black font-semibold shadow hover:bg-green transition",children:"Save Version"})]})]})}):null}function VersionControls({versions:dt,selectedVersion:et,setSelectedVersion:$t,appliedVersion:kt,handleLoadVersion:Tt,handleApplyVersion:Dt,handleDeleteVersion:Ft}){const Ut=!et||et===kt,[Ht,Kt]=reactExports.useState(!1),Yt=reactExports.useRef(null);reactExports.useEffect(()=>{function er(rr){Yt.current&&!Yt.current.contains(rr.target)&&Kt(!1)}return Ht&&document.addEventListener("mousedown",er),()=>{document.removeEventListener("mousedown",er)}},[Ht]);const Jt=dt.find(er=>er.id===et);function Zt(er){$t(er),Tt({target:{value:er}}),Kt(!1)}return jsxRuntimeExports.jsxs("div",{className:`
        w-full
        bg-dashboard-sidebar-light dark:bg-dashboard-sidebar-dark
        border border-dashboard-border-light dark:border-dashboard-border-dark
        rounded-lg sm:rounded-xl
        p-3 sm:p-5
        mb-10
        shadow-inner
        pb-6 sm:pb-12
      `,children:[jsxRuntimeExports.jsxs("div",{ref:Yt,className:"relative w-full mb-4 sm:mb-6",children:[jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>Kt(er=>!er),className:`
            w-full flex items-center justify-between
            rounded-lg px-4 py-2 text-sm transition
            bg-dashboard-bg-light dark:bg-dashboard-bg-dark
            text-dashboard-text-light dark:text-dashboard-text-dark
            border border-dashboard-border-light dark:border-dashboard-border-dark
            hover:bg-dashboard-hover-light dark:hover:bg-dashboard-hover-dark
            focus:outline-none focus:ring-2 focus:ring-green/60
          `,children:[jsxRuntimeExports.jsx("span",{className:"truncate",children:Jt?`${Jt.name} (${new Date(Jt.updated_at||Jt.created_at).toLocaleString()})`:"Load saved version"}),Ht?jsxRuntimeExports.jsx(ChevronUp,{size:16,className:"text-dashboard-muted-light dark:text-dashboard-muted-dark"}):jsxRuntimeExports.jsx(ChevronDown,{size:16,className:"text-dashboard-muted-light dark:text-dashboard-muted-dark"})]}),Ht&&jsxRuntimeExports.jsxs("div",{className:`
              absolute z-30 mt-2 w-full
              rounded-lg shadow-lg
              max-h-[260px] overflow-y-auto overscroll-contain
              bg-dashboard-sidebar-light dark:bg-dashboard-sidebar-dark
              border border-dashboard-border-light dark:border-dashboard-border-dark
            `,children:[dt.length===0&&jsxRuntimeExports.jsx("div",{className:`
                  px-4 py-2 text-sm
                  text-dashboard-muted-light dark:text-dashboard-muted-dark
                `,children:"No saved versions"}),dt.map(er=>{const rr=er.id===et,sr=er.updated_at||er.created_at;return jsxRuntimeExports.jsxs("div",{onClick:()=>Zt(er.id),className:`
                    px-4 py-2 cursor-pointer text-sm transition
                    ${rr?`
                          bg-dashboard-hover-light
                          dark:bg-dashboard-hover-dark
                          text-dashboard-text-light
                          dark:text-dashboard-text-dark
                        `:`
                          text-dashboard-text-light/70
                          dark:text-dashboard-text-dark/70
                          hover:bg-dashboard-hover-light
                          dark:hover:bg-dashboard-hover-dark
                        `}
                  `,children:[jsxRuntimeExports.jsx("div",{className:"truncate",children:er.name}),jsxRuntimeExports.jsx("div",{className:"text-xs opacity-60",children:new Date(sr).toLocaleString()})]},er.id)})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-end gap-4",children:[jsxRuntimeExports.jsx("button",{disabled:Ut,onClick:Ut?void 0:Dt,className:`
            font-semibold px-6 py-2 rounded-lg shadow text-sm transition
            ${Ut?`
                  bg-dashboard-bg-light
                  dark:bg-dashboard-bg-dark
                  text-dashboard-muted-light
                  dark:text-dashboard-muted-dark
                  cursor-not-allowed
                `:"bg-green text-black hover:bg-green/90"}
          `,children:"Apply"}),et&&jsxRuntimeExports.jsx("button",{type:"button",onClick:Ft,className:`
              px-6 py-2 rounded-lg
              bg-red-500/10
              border border-red-500/30
              text-red-500
              hover:bg-red-500/20
              transition text-sm font-semibold
            `,children:"Delete"}),et&&jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>$t(""),className:`
              px-6 py-2 rounded-lg
              bg-dashboard-bg-light dark:bg-dashboard-bg-dark
              border border-dashboard-border-light dark:border-dashboard-border-dark
              text-dashboard-muted-light dark:text-dashboard-muted-dark
              hover:bg-dashboard-hover-light dark:hover:bg-dashboard-hover-dark
              transition text-sm font-semibold
            `,children:"Cancel"})]})]})}function LogoUploader({landing:dt,setLanding:et,showLogoSection:$t,setShowLogoSection:kt}){return jsxRuntimeExports.jsxs("div",{className:`
      mt-12
      bg-dashboard-sidebar-light dark:bg-dashboard-sidebar-dark
      border border-dashboard-border-light dark:border-dashboard-border-dark
      rounded-2xl
      shadow-inner
      p-6
      transition-all
      hover:border-dashboard-muted-light dark:hover:border-dashboard-muted-dark
    `,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-5 cursor-pointer",onClick:()=>kt(Tt=>!Tt),children:[jsxRuntimeExports.jsx("label",{className:`text-lg font-semibold tracking-wide
        text-dashboard-text-light dark:text-dashboard-text-dark`,children:"Brand Logo"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("span",{className:`text-xs italic hidden sm:block
            text-dashboard-muted-light dark:text-dashboard-muted-dark`,children:"Recommended: PNG or SVG  200200px+"}),jsxRuntimeExports.jsx("span",{className:`text-sm transition-transform duration-300
            text-dashboard-muted-light dark:text-dashboard-muted-dark ${$t?"rotate-180":"rotate-0"}`,children:""})]})]}),jsxRuntimeExports.jsx("div",{className:`transition-all duration-500 ease-in-out overflow-hidden ${$t?"max-h-[1000px] opacity-100":"max-h-0 opacity-0"}`,children:dt.logo_url?jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center",children:[jsxRuntimeExports.jsx("p",{className:`text-sm mb-3
text-dashboard-muted-light dark:text-dashboard-muted-dark`,children:"Current Logo:"}),jsxRuntimeExports.jsx("div",{className:`
            relative
            bg-dashboard-bg-light dark:bg-dashboard-bg-dark
            border border-dashboard-border-light dark:border-dashboard-border-dark
            rounded-lg
            shadow-md
            p-3
            w-fit
            mx-auto
          `,children:jsxRuntimeExports.jsx("img",{src:dt.logo_url,alt:"Uploaded Logo",className:"h-24 object-contain rounded-md mx-auto"})}),jsxRuntimeExports.jsx("button",{type:"button",className:`text-xs mt-4
              text-red-500 hover:underline`,onClick:()=>et({...dt,logo_url:""}),children:"Remove Logo"})]}):jsxRuntimeExports.jsxs("label",{htmlFor:"logoUpload",className:`
            flex flex-col items-center justify-center
            border-2 border-dashed
            border-dashboard-border-light dark:border-dashboard-border-dark
            hover:border-green
            rounded-xl
            py-10 px-6
            cursor-pointer
            transition-all duration-300
            group
          `,children:[jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`
              h-10 w-10
              text-dashboard-muted-light dark:text-dashboard-muted-dark
              group-hover:text-green
              transition
            `,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-6-9l-3-3m0 0l-3 3m3-3V15"})}),jsxRuntimeExports.jsxs("p",{className:`mt-3 text-sm
              text-dashboard-muted-light dark:text-dashboard-muted-dark`,children:[jsxRuntimeExports.jsx("span",{className:"text-green font-medium",children:"Click to upload"})," or drag your logo"]}),jsxRuntimeExports.jsx("input",{id:"logoUpload",type:"file",accept:"image/*",onChange:async Tt=>{const Dt=Tt.target.files[0];if(!Dt)return;const Ft=URL.createObjectURL(Dt);et({...dt,logo_url:Ft});const Ut=new FormData;Ut.append("logo",Dt),Ut.append("landingId",dt.id);try{const Ht=await axiosInstance.post("/landing/upload-logo",Ut,{headers:{"Content-Type":"multipart/form-data"}});if(Ht.data.success)et({...dt,logo_url:Ht.data.logo_url}),URL.revokeObjectURL(Ft),y$4.success("Logo uploaded successfully!");else throw new Error(Ht.data.message)}catch{y$4.error("Error uploading logo"),et({...dt,logo_url:""})}},className:"hidden"})]})})]})}function getReadableTextColor(dt){if(!dt||dt.includes("gradient"))return"text-white";const et=dt.replace("#",""),$t=parseInt(et.substring(0,2),16),kt=parseInt(et.substring(2,4),16),Tt=parseInt(et.substring(4,6),16);return(.299*$t+.587*kt+.114*Tt)/255>.6?"text-black":"text-white"}function ColorThemeChooser({bgTheme:dt,setBgTheme:et,includeGradients:$t=!0,isPro:kt=!1}){const[Tt,Dt]=reactExports.useState(()=>localStorage.getItem("showThemes")==="true"),[Ft,Ut]=reactExports.useState("#111827"),[Ht,Kt]=reactExports.useState(!1),[Yt,Jt]=reactExports.useState("#0ea5e9"),[Zt,er]=reactExports.useState("#22c55e"),[rr,sr]=reactExports.useState("90deg"),ir=mr=>/^#([0-9A-Fa-f]{6}|[0-9A-Fa-f]{3})$/.test(mr);reactExports.useEffect(()=>{localStorage.setItem("showThemes",Tt)},[Tt]);const nr=colorThemes,or=gradientThemes,lr=reactExports.useMemo(()=>$t?[...nr,...or]:nr,[$t]),cr=mr=>{var kr;(kr=mr.preview)!=null&&kr.includes("gradient")&&!kt||et(mr.preview)},dr=()=>{Kt(!1),et(Ft)},ur=()=>{if(!kt)return;const mr=`linear-gradient(${rr}, ${Yt}, ${Zt})`;et(mr)};reactExports.useEffect(()=>{if(dt){if(dt.startsWith("#")){Ut(dt),Kt(!1);return}if(dt.startsWith("linear-gradient")){Kt(!0);const mr=dt.match(/linear-gradient\(([^,]+),\s*([^,]+),\s*([^)]+)\)/);if(mr){const[,vr,kr,br]=mr;sr(vr.trim()),Jt(kr.trim()),er(br.trim())}}}},[dt]);const pr=(dt==null?void 0:dt.toLowerCase())===Ft.toLowerCase()&&ir(Ft);return jsxRuntimeExports.jsxs("div",{className:`
      bg-dashboard-sidebar-light
      dark:bg-dashboard-sidebar-dark
      border border-dashboard-border-light
      dark:border-dashboard-border-dark
      rounded-2xl
      shadow-inner
    `,children:[jsxRuntimeExports.jsxs("div",{onClick:()=>Dt(mr=>!mr),className:"flex items-center justify-between px-6 py-5 cursor-pointer select-none",children:[jsxRuntimeExports.jsx("h3",{className:`text-lg font-semibold
text-dashboard-text-light
dark:text-dashboard-text-dark`,children:"Background Theme"}),jsxRuntimeExports.jsx("span",{className:`transition-transform
text-dashboard-muted-light
dark:text-dashboard-muted-dark ${Tt?"rotate-180":""}`,children:""})]}),jsxRuntimeExports.jsx("div",{className:`overflow-hidden transition-all duration-500 ${Tt?"max-h-[900px] opacity-100":"max-h-0 opacity-0"}`,children:jsxRuntimeExports.jsxs("div",{className:"px-6 pb-6 space-y-6",children:[jsxRuntimeExports.jsx("div",{className:`
  h-14 rounded-lg
  border border-dashboard-border-light
  dark:border-dashboard-border-dark
`,style:{background:dt||"linear-gradient(to right, #000, #333)"}}),jsxRuntimeExports.jsx("div",{className:`
            grid grid-cols-4 sm:grid-cols-5 md:grid-cols-6 gap-3
            overflow-y-auto
            border border-dashboard-border-light
            dark:border-dashboard-border-dark
            rounded-lg p-2
`,style:{maxHeight:"240px"},children:lr.map(mr=>{var br;const kr=((br=mr.preview)==null?void 0:br.includes("gradient"))&&!kt;return jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>cr(mr),disabled:kr,className:`relative h-12 rounded-lg border transition-all
        ${dt===mr.preview?"border-green ring-2 ring-green/50":"border-dashboard-border-light dark:border-dashboard-border-dark hover:border-green/60"}
        ${kr?"opacity-50 cursor-not-allowed":""}
      `,style:{background:mr.preview},children:[jsxRuntimeExports.jsx("span",{className:`
                    absolute inset-0 flex items-center justify-center
                    text-[10px] font-semibold uppercase
                    ${getReadableTextColor(mr.preview)}
                  `,children:mr.label}),kr&&jsxRuntimeExports.jsx("span",{className:"absolute top-1 right-1 text-[9px] px-1.5 py-0.5 rounded bg-purple-600 text-white font-semibold",children:"PRO"})]},mr.name)})}),!kt&&jsxRuntimeExports.jsx("p",{className:"text-xs text-purple-400 mt-2 text-center",children:"Unlock custom colors and gradients with Pro for complete brand control."}),kt&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:`text-sm font-semibold mb-3 text-center
              text-dashboard-text-light
              dark:text-dashboard-text-dark`,children:"Custom Solid Color"}),jsxRuntimeExports.jsxs("div",{className:`mx-auto
                flex flex-col sm:flex-row items-center justify-center
                gap-3
                max-w-[520px]
                rounded-lg
                p-3
                transition-all
                ${pr?"ring-2 ring-green-500/70 border border-green-400":""}
              `,children:[jsxRuntimeExports.jsx("input",{type:"color",value:Ft,onChange:mr=>Ut(mr.target.value),className:`
                  w-10
                  h-10
                  aspect-square
                  rounded-full
                  border
                  border-dashboard-border-light
                  dark:border-dashboard-border-dark
                  cursor-pointer
                  appearance-none
                  p-0
                `}),jsxRuntimeExports.jsx("input",{type:"text",value:Ft,onChange:mr=>Ut(mr.target.value),placeholder:"#111827",className:`
                  w-full
                  max-w-[420px]
                  px-4
                  py-2.5
                  rounded-lg
                  bg-dashboard-bg-light
                  dark:bg-dashboard-bg-dark
                  border border-dashboard-border-light
                  dark:border-dashboard-border-dark
                  text-dashboard-text-light
                  dark:text-dashboard-text-dark
                  placeholder-dashboard-muted-light
                  dark:placeholder-dashboard-muted-dark
                  text-sm
                  uppercase
                `}),jsxRuntimeExports.jsx("button",{type:"button",onClick:dr,disabled:!ir(Ft)||pr,className:`px-4 py-2 border rounded text-sm
          ${ir(Ft)?"bg-dashboard-hover-light dark:bg-dashboard-hover-dark border border-dashboard-border-light dark:border-dashboard-border-dark text-green hover:border-green":"text-dashboard-muted-light dark:text-dashboard-muted-dark opacity-60 cursor-not-allowed"}
        `,children:pr?"Active":"Apply"})]})]}),$t&&kt&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:`text-sm font-semibold mb-2
              text-dashboard-text-light
              dark:text-dashboard-text-dark`,children:"Custom Gradient"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"color",value:Yt,onChange:mr=>Jt(mr.target.value),className:`
                    w-10
                    h-10
                    aspect-square
                    rounded-full
                    border
                    border-dashboard-border-light
                  dark:border-dashboard-border-dark
                    cursor-pointer
                    appearance-none
                    p-0
                  `}),jsxRuntimeExports.jsx("input",{type:"text",value:Yt,onChange:mr=>Jt(mr.target.value),placeholder:"#0ea5e9",className:`
                    w-full
                    max-w-[240px]
                    px-4
                    py-2.5
                    rounded-lg
                   bg-dashboard-bg-light
                  dark:bg-dashboard-bg-dark
                  border border-dashboard-border-light
                  dark:border-dashboard-border-dark
                  text-dashboard-text-light
                  dark:text-dashboard-text-dark
                  placeholder-dashboard-muted-light
                  dark:placeholder-dashboard-muted-dark
                    text-sm
                    uppercase
                  `})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"color",value:Zt,onChange:mr=>er(mr.target.value),className:`
                    w-10
                    h-10
                    aspect-square
                    rounded-full
                    border
                    border-gray-600
                    cursor-pointer
                    appearance-none
                    p-0
                  `}),jsxRuntimeExports.jsx("input",{type:"text",value:Zt,onChange:mr=>er(mr.target.value),placeholder:"#22c55e",className:`
                    w-full
                    max-w-[240px]
                    px-4
                    py-2.5
                    bg-dashboard-bg-light
                    dark:bg-dashboard-bg-dark
                    border border-dashboard-border-light
                    dark:border-dashboard-border-dark
                    text-dashboard-text-light
                    dark:text-dashboard-text-dark
                    placeholder-dashboard-muted-light
                    dark:placeholder-dashboard-muted-dark
                    rounded-lg         
                    text-sm
                    uppercase
                  `})]})]}),jsxRuntimeExports.jsxs("select",{value:rr,onChange:mr=>sr(mr.target.value),className:`
                mt-3
                w-full
                max-w-[520px]
                p-2.5
              bg-dashboard-bg-light
              dark:bg-dashboard-bg-dark
              border border-dashboard-border-light
              dark:border-dashboard-border-dark
              text-dashboard-text-light
              dark:text-dashboard-text-dark
                rounded-lg

              `,children:[jsxRuntimeExports.jsx("option",{value:"90deg",children:"Left  Right"}),jsxRuntimeExports.jsx("option",{value:"180deg",children:"Top  Bottom"}),jsxRuntimeExports.jsx("option",{value:"45deg",children:"Diagonal "}),jsxRuntimeExports.jsx("option",{value:"135deg",children:"Diagonal "})]}),jsxRuntimeExports.jsx("button",{type:"button",onClick:ur,disabled:!ir(Yt)||!ir(Zt),className:`mt-3 w-full px-4 py-2 border rounded
        ${ir(Yt)&&ir(Zt)?"bg-dashboard-hover-light dark:bg-dashboard-hover-dark border border-dashboard-border-light dark:border-dashboard-border-dark text-green hover:border-green":"text-dashboard-muted-light dark:text-dashboard-muted-dark opacity-60 cursor-not-allowed"}
      `,children:"Apply Gradient"})]}),jsxRuntimeExports.jsx("p",{className:`text-xs text-center
          text-dashboard-muted-light
          dark:text-dashboard-muted-dark`,children:"Presets or custom colors all save the same way."})]})})]})}function ThemeAndFontControls({landing:dt,setLanding:et,bgTheme:$t,setBgTheme:kt,fontName:Tt,setFontName:Dt,fontFile:Ft,setFontFile:Ut,isPro:Ht}){const Kt=[...colorThemes,...gradientThemes];function Yt(Jt){const Zt=Kt.find(er=>er.name===Jt);return(Zt==null?void 0:Zt.preview)||Jt}return jsxRuntimeExports.jsxs("div",{className:"mb-12",children:[jsxRuntimeExports.jsx(ColorThemeChooser,{bgTheme:$t,setBgTheme:Jt=>{const Zt=Yt(Jt);kt(Zt),et({...dt,bg_theme:Zt})},colorThemes:Kt,includeGradients:!0,isPro:Ht}),jsxRuntimeExports.jsx("div",{className:"relative",children:jsxRuntimeExports.jsx(FontSelector,{fontName:Tt,setFontName:Jt=>{Dt(Jt),et({...dt,font:Jt})},fontFile:Ft,setFontFile:Jt=>{Ut(Jt),et({...dt,font_file:Jt})}})})]})}function TextColorControls({landing:dt,setLanding:et}){const $t=[{key:"font_color_h1",label:"Heading 1"},{key:"font_color_h2",label:"Heading 2"},{key:"font_color_h3",label:"Heading 3"},{key:"font_color_p",label:"Paragraph"}],kt=(Tt,Dt)=>{et({...dt,[Tt]:Dt.toUpperCase()})};return jsxRuntimeExports.jsxs("div",{className:`
      relative z-[10]
      bg-dashboard-sidebar-light dark:bg-dashboard-sidebar-dark
      rounded-xl
      p-6
      shadow-inner
      border border-dashboard-border-light dark:border-dashboard-border-dark
    `,children:[jsxRuntimeExports.jsx("h3",{className:`
        text-lg font-semibold mb-4
        text-dashboard-text-light dark:text-dashboard-text-dark
      `,children:"Text Colors"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-6",children:$t.map(({key:Tt,label:Dt})=>jsxRuntimeExports.jsxs("div",{className:`
            flex flex-col items-center justify-center
            bg-dashboard-bg-light dark:bg-dashboard-bg-dark
            rounded-lg
            p-4
            border border-dashboard-border-light dark:border-dashboard-border-dark
            hover:border-dashboard-muted-light dark:hover:border-dashboard-muted-dark
            transition-all duration-200
          `,children:[jsxRuntimeExports.jsx("label",{className:`
              text-sm font-semibold mb-2
              text-dashboard-text-light dark:text-dashboard-text-dark
            `,children:Dt}),jsxRuntimeExports.jsx("input",{type:"color",value:dt[Tt]||"#FFFFFF",onChange:Ft=>kt(Tt,Ft.target.value),className:`
              w-14 h-14 p-0
              rounded-lg
              cursor-pointer
              border border-dashboard-border-light dark:border-dashboard-border-dark
              hover:scale-105 transition-transform
            `}),jsxRuntimeExports.jsx("input",{type:"text",value:dt[Tt]||"#FFFFFF",onChange:Ft=>kt(Tt,Ft.target.value),className:`
              mt-3 w-full px-2 py-1 text-xs text-center uppercase
              bg-dashboard-bg-light dark:bg-dashboard-bg-dark
              border border-dashboard-border-light dark:border-dashboard-border-dark
              rounded
              text-dashboard-text-light dark:text-dashboard-text-dark
              focus:outline-none focus:ring-1 focus:ring-green
            `,placeholder:"#FFFFFF"}),jsxRuntimeExports.jsx("span",{className:`
              text-xs mt-2 tracking-wider
              text-dashboard-muted-light dark:text-dashboard-muted-dark
            `,children:dt[Tt]||"#FFFFFF"})]},Tt))})]})}const MOTION_PRESETS=[{value:"fade",label:"Fade In"},{value:"fade-up",label:"Fade Up"},{value:"fade-down",label:"Fade Down"},{value:"fade-left",label:"Fade Left"},{value:"fade-right",label:"Fade Right"},{value:"slide-up",label:"Slide Up"},{value:"slide-down",label:"Slide Down"},{value:"slide-left",label:"Slide Left"},{value:"slide-right",label:"Slide Right"},{value:"scale-up",label:"Scale Up"},{value:"scale-down",label:"Scale Down"},{value:"blur-in",label:"Blur In"},{value:"rotate-in",label:"Rotate In"},{value:"flip-up",label:"Flip Up"},{value:"flip-left",label:"Flip Left"},{value:"pop",label:"Pop"},{value:"bounce",label:"Bounce"}],PRESET_VARIANTS={fade:{opacity:0},"fade-up":{opacity:0,y:30},"fade-down":{opacity:0,y:-30},"fade-left":{opacity:0,x:30},"fade-right":{opacity:0,x:-30},"slide-up":{y:60},"slide-down":{y:-60},"slide-left":{x:-60},"slide-right":{x:60},"scale-up":{scale:.9,opacity:0},"scale-down":{scale:1.1,opacity:0},"blur-in":{opacity:0,filter:"blur(10px)",y:20},"rotate-in":{opacity:0,rotate:-8,scale:.95},"flip-up":{rotateX:-90,opacity:0},"flip-left":{rotateY:-90,opacity:0},pop:{scale:.8,opacity:0},bounce:{y:-20,opacity:0}};function MotionWrapper({children:dt,index:et,motionSettings:$t,blockMotion:kt}){if(!dt)return null;if(!(($t==null?void 0:$t.enabled)===!0&&(kt==null?void 0:kt.disabled)!==!0))return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:dt});const Dt=(kt==null?void 0:kt.preset)||($t==null?void 0:$t.preset)||"fade-up",Ut={hidden:PRESET_VARIANTS[Dt]||{opacity:0},visible:{opacity:1,x:0,y:0,scale:1,rotate:0,rotateX:0,rotateY:0,filter:"blur(0px)",transition:{duration:$t.duration??.5,delay:($t.delay??0)+et*($t.stagger??.12),ease:$t.easing??"easeOut",type:Dt==="bounce"?"spring":"tween",bounce:Dt==="bounce"?.35:0}}};return jsxRuntimeExports.jsx(motion.div,{variants:Ut,initial:"hidden",whileInView:"visible",viewport:{once:$t.viewport_once??!0},children:dt})}function renderPreviewBlock(dt,et,$t){var Kt,Yt,Jt;if(dt.enabled===!1)return null;const{landing:kt,bgTheme:Tt,user:Dt,updateBlock:Ft,adjustForLandingOverlay:Ut}=$t,Ht={margin:"0 auto 24px",maxWidth:"700px",textAlign:"center"};switch(dt.type){case"heading":{const sr=dt.alignment||"left",ir=sr==="right"?{marginLeft:"auto",marginRight:0}:{marginLeft:"auto",marginRight:"auto"};return jsxRuntimeExports.jsx("h1",{className:"text-4xl font-bold leading-snug normal-case",style:{...Ht,...ir,maxWidth:700,textAlign:sr,color:kt.font_color_h1||"#FFFFFF"},children:dt.text||"Heading Example"},et)}case"subheading":{const sr=dt.alignment||"left",ir=sr==="right"?{marginLeft:"auto",marginRight:0}:{marginLeft:"auto",marginRight:"auto"};return jsxRuntimeExports.jsx("h2",{className:"text-2xl font-semibold leading-snug",style:{...Ht,...ir,maxWidth:700,textAlign:sr,color:kt.font_color_h2||"#E5E5E5"},children:dt.text||"Subheading Example"},et)}case"subsubheading":{const sr=dt.alignment||"left",ir=sr==="right"?{marginLeft:"auto",marginRight:0}:{marginLeft:"auto",marginRight:"auto"};return jsxRuntimeExports.jsx("h3",{className:"text-xl font-medium leading-snug",style:{...Ht,...ir,maxWidth:700,textAlign:sr,color:kt.font_color_h3||"#CCCCCC"},children:dt.text||"Supporting Header"},et)}case"list_heading":{const sr=dt.alignment||"left",ir=sr==="right"?{marginLeft:"auto",marginRight:0}:{marginLeft:"auto",marginRight:"auto"};return jsxRuntimeExports.jsx("p",{style:{...Ht,...ir,maxWidth:700,marginBottom:10,fontWeight:700,fontSize:"1.15rem",textAlign:sr,color:kt.font_color_p||"#FFFFFF"},children:dt.text||" List Heading Example"},et)}case"paragraph":{const sr=dt.alignment||"left",ir=sr==="right"?{marginLeft:"auto",marginRight:0}:{marginLeft:"auto",marginRight:"auto"};if(dt.bulleted){const nr=(dt.text||"").split(/\n/).filter(Boolean);return jsxRuntimeExports.jsx("div",{style:{...ir,maxWidth:700,marginBottom:24,lineHeight:"1.8"},children:jsxRuntimeExports.jsx("ul",{style:{listStyle:"disc",paddingLeft:"1.25rem",margin:0,textAlign:"left",color:kt.font_color_p||"rgba(255,255,255,0.92)"},children:nr.map((or,lr)=>jsxRuntimeExports.jsx("li",{style:{marginBottom:"0.35rem"},children:or.replace(/^\s*/,"")},lr))})},et)}return jsxRuntimeExports.jsx("p",{className:"text-lg leading-relaxed",style:{...ir,maxWidth:700,marginBottom:24,textAlign:sr,color:kt.font_color_p||"rgba(255,255,255,0.92)",whiteSpace:"pre-line"},children:dt.text||"Your paragraph will appear here."},et)}case"video":if(!dt.url)return null;let Zt=dt.url.trim();return Zt.includes("watch?v=")?Zt=Zt.replace("watch?v=","embed/"):Zt.includes("youtu.be/")&&(Zt=`https://www.youtube.com/embed/${Zt.split("youtu.be/")[1].split(/[?&]/)[0]}`),Zt.includes("vimeo.com")&&!Zt.includes("player.vimeo.com")&&(Zt=`https://player.vimeo.com/video/${Zt.split("vimeo.com/")[1].split(/[?&]/)[0]}`),jsxRuntimeExports.jsxs("div",{style:{margin:"40px auto",maxWidth:"800px",textAlign:"center"},children:[jsxRuntimeExports.jsx("iframe",{src:Zt,title:"Embedded Video",style:{width:"100%",aspectRatio:"16 / 9",border:"none",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.35)"},allow:"autoplay; fullscreen",allowFullScreen:!0}),dt.caption&&jsxRuntimeExports.jsx("p",{style:{marginTop:"12px",fontSize:"0.95rem",color:kt.font_color_p||"#DDD",fontStyle:"italic"},children:dt.caption})]},et);case"divider":return dt.style==="space"?jsxRuntimeExports.jsx("div",{style:{height:`${dt.height||40}px`}},et):jsxRuntimeExports.jsx("hr",{style:{border:"none",borderTop:`1px solid ${dt.color||"rgba(255,255,255,0.2)"}`,width:"60%",margin:`${(dt.height||40)/2}px auto`,opacity:.7}},et);case"spacer":return dt.style==="space"?jsxRuntimeExports.jsx("div",{style:{height:`${dt.height||40}px`}},et):jsxRuntimeExports.jsx("hr",{style:{border:"none",borderTop:`1px solid ${dt.color||"rgba(255,255,255,0.2)"}`,width:dt.width||"60%",margin:`${(dt.height||40)/2}px auto`,opacity:.7}},et);case"calendly":return dt.calendly_url?jsxRuntimeExports.jsx("div",{style:{margin:"40px auto",maxWidth:"900px",textAlign:"center"},children:jsxRuntimeExports.jsx("iframe",{src:dt.calendly_url,style:{width:"100%",height:`${dt.height||650}px`,border:"none",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.35)"},title:"Calendly Scheduler"})},et):null;case"social_links":{const sr=dt.alignment||"center",ir=dt.icon_style||"color";dt.icon_color;const nr=!!dt.show_borders&&ir==="mono",or=dt.links||{},lr={instagram:"https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/instagram.svg",threads:"https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/threads.svg",twitter:"https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/x.svg",youtube:"https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/youtube.svg",linkedin:"https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/linkedin.svg",facebook:"https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/facebook.svg",tiktok:"https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/tiktok.svg",pinterest:"https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/pinterest.svg",substack:"https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/substack.svg"};return jsxRuntimeExports.jsx("div",{style:{margin:"40px 0",display:"flex",justifyContent:sr==="center"?"center":sr==="right"?"flex-end":"flex-start",gap:"20px",flexWrap:"wrap"},children:Object.entries(or).filter(([cr,dr])=>dr&&lr[cr]).map(([cr,dr])=>{const ur=dt.icon_style==="mono"?"rgba(255,255,255,0.75)":dt.icon_color||"#ffffff";return jsxRuntimeExports.jsx("a",{href:dr,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:nr?"34px":"26px",height:nr?"34px":"26px",borderRadius:nr?"10px":"0",border:nr?`1.25px solid ${ur}`:"none",transition:"transform 0.25s ease, opacity 0.2s ease, box-shadow 0.2s ease",textDecoration:"none"},onMouseEnter:pr=>{pr.currentTarget.style.transform="scale(1.1)",pr.currentTarget.style.opacity="0.9",pr.currentTarget.style.boxShadow="0 0 12px rgba(255,255,255,0.35)"},onMouseLeave:pr=>{pr.currentTarget.style.transform="scale(1)",pr.currentTarget.style.opacity="1",pr.currentTarget.style.boxShadow="none"},children:jsxRuntimeExports.jsx("div",{style:{width:"20px",height:"20px",WebkitMask:`url(${lr[cr]}) no-repeat center / contain`,mask:`url(${lr[cr]}) no-repeat center / contain`,backgroundColor:ur}})},cr)})},et)}case"countdown":{const sr=dt.text||"Offer Ends In:",ir=dt.style_variant||"minimal",nr=dt.text_color||"#fff",lr=(()=>{const ur=Tt||"";return ur.includes("emerald")?"#10b981":ur.includes("purple")||ur.includes("royal")?"#8b5cf6":ur.includes("pink")||ur.includes("rose")?"#ec4899":ur.includes("yellow")||ur.includes("amber")?"#facc15":ur.includes("blue")?"#3b82f6":ur.includes("red")?"#ef4444":"#10b981"})(),cr=dt.glow_color||lr,dr={minimal:{fontSize:"2rem",fontFamily:"monospace",letterSpacing:"2px",color:nr},boxed:{display:"inline-block",background:"rgba(15,23,42,0.85)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"12px",padding:"12px 24px",fontSize:"2rem",fontFamily:"monospace",letterSpacing:"2px",color:nr},glow:{fontSize:"2rem",fontFamily:"monospace",letterSpacing:"2px",color:nr,textShadow:`
        0 0 6px ${cr},
        0 0 14px ${cr},
        0 0 28px ${cr}
      `}};return jsxRuntimeExports.jsxs("div",{style:{textAlign:"center",padding:"50px 0"},children:[jsxRuntimeExports.jsx("p",{style:{fontWeight:700,fontSize:"1.3rem",marginBottom:"10px",color:nr},children:sr}),jsxRuntimeExports.jsx("div",{style:dr[ir]||dr.minimal,children:"12:34:56:78"}),jsxRuntimeExports.jsx("div",{style:{color:nr,fontSize:"0.9rem",marginTop:"8px",letterSpacing:"1px"},children:"DAYS|HRS|MIN|SEC"})]},et)}case"stripe_checkout":return jsxRuntimeExports.jsxs("div",{style:{textAlign:dt.alignment||"center",margin:"40px auto"},children:[jsxRuntimeExports.jsx("button",{onClick:async()=>{var sr;if(!dt.pdf_url){y$4.warn("Please select a Book to sell first.");return}try{const ir=await axiosInstance.post("/seller-checkout/create-checkout-session",{landingPageId:kt.id,sellerId:Dt==null?void 0:Dt.id,pdfUrl:dt.pdf_url,price_in_cents:Math.round((dt.price||10)*100)});(sr=ir.data)!=null&&sr.url?window.location.href=ir.data.url:y$4.error("Unable to start checkout. Please try again.")}catch(ir){console.error("Stripe Checkout Error:",ir),y$4.error("Error connecting to Stripe. Try again later.")}},className:"transition-transform hover:scale-105",style:{background:dt.button_color||"#7bed9f",color:dt.text_color||"#000",padding:"14px 36px",borderRadius:"8px",fontWeight:"bold",cursor:"pointer",boxShadow:"0 4px 12px rgba(0,0,0,0.3)"},children:dt.button_text||"Buy & Download Book"}),jsxRuntimeExports.jsxs("p",{style:{marginTop:"8px",color:"#aaa"},children:["$",Number(dt.price)>0?Number(dt.price).toFixed(2):"10.00"," ","USD"]}),dt.pdf_url&&jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Selling:",jsxRuntimeExports.jsx("a",{href:dt.pdf_url,target:"_blank",rel:"noopener noreferrer",className:"text-green font-medium ml-1 underline hover:text-green transition",children:"Preview Book"})]})]},et);case"referral_button":if((Dt==null?void 0:Dt.is_admin_employee)!==1)return jsxRuntimeExports.jsx("p",{style:{color:"#999",fontSize:"0.9rem",textAlign:"center",marginTop:"20px"},children:"(Referral buttons are available to admin employees only)"},et);const er=Dt!=null&&Dt.referral_slug?`https://themessyattic.com/r/${Dt.referral_slug}`:"https://themessyattic.com/sign-up";return jsxRuntimeExports.jsxs("div",{style:{textAlign:dt.alignment||"center",margin:"40px auto"},children:[jsxRuntimeExports.jsx("a",{href:er,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",background:dt.button_color||"#7bed9f",color:dt.text_color||"#000000",padding:"14px 36px",borderRadius:"8px",fontWeight:700,textDecoration:"none",boxShadow:"0 4px 12px rgba(0,0,0,0.3)",transition:"transform 0.2s ease, box-shadow 0.3s ease"},onMouseOver:sr=>sr.currentTarget.style.transform="scale(1.05)",onMouseOut:sr=>sr.currentTarget.style.transform="scale(1)",children:dt.button_text||dt.text||"Sign Up with My Referral"}),jsxRuntimeExports.jsx("p",{style:{color:"#aaa",fontSize:"0.8rem",marginTop:"10px",wordBreak:"break-all"},children:`Referral link: ${er}`}),jsxRuntimeExports.jsxs("p",{style:{color:"#aaa",fontSize:"0.75rem",marginTop:"6px"},children:["Referral link is shown here for preview only",jsxRuntimeExports.jsx("br",{})," and is not visible on the live page."]})]},et);case"faq":return jsxRuntimeExports.jsxs("div",{style:{background:dt.use_no_bg?"transparent":dt.use_gradient?`linear-gradient(${dt.gradient_direction||"90deg"}, ${dt.gradient_start||"#F285C3"}, ${dt.gradient_end||"#7bed9f"})`:dt.match_main_bg?Ut(Tt):dt.bg_color||Tt||"rgba(0,0,0,0.3)",color:dt.text_color||"#FFFFFF",padding:"40px",borderRadius:dt.use_no_bg?"0px":"20px",marginTop:"40px",textAlign:dt.alignment||"left",maxWidth:"700px",marginLeft:"auto",marginRight:"auto"},children:[jsxRuntimeExports.jsx("h2",{style:{fontSize:"1.8rem",fontWeight:700,marginBottom:"20px"},children:dt.title||"Frequently Asked Questions"}),dt.items.map((sr,ir)=>jsxRuntimeExports.jsxs("div",{style:{marginBottom:"20px",borderBottom:dt.use_no_bg?"1px solid rgba(255,255,255,0.2)":"1px solid rgba(255,255,255,0.15)",paddingBottom:"16px",cursor:"pointer"},onClick:()=>{const nr=[...dt.items],or=document.getElementById(`faq-prev-${et}-${ir}`);or&&(nr[ir]._height=or.scrollHeight+"px"),nr[ir].open=!nr[ir].open,Ft(et,"items",nr)},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontWeight:700,fontSize:"1.1rem"},children:[jsxRuntimeExports.jsx("span",{children:sr.q}),jsxRuntimeExports.jsx("span",{children:sr.open?"":"+"})]}),jsxRuntimeExports.jsx("div",{id:`faq-prev-${et}-${ir}`,style:{height:sr.open?sr._height||"auto":"0px",overflow:"hidden",transition:"height 0.35s ease"},children:jsxRuntimeExports.jsx("p",{style:{color:dt.text_color?dt.text_color+"CC":"#CCCCCC",fontSize:"0.95rem",marginTop:"12px"},children:sr.a})})]},ir))]},et);case"image":return jsxRuntimeExports.jsxs("div",{style:{textAlign:dt.alignment||"center",padding:dt.padding?`min(${dt.padding}px, 12px)`:"0px",margin:"12px 0",overflow:"visible"},children:[jsxRuntimeExports.jsx("img",{src:dt.image_url,alt:"",className:"rounded-lg",style:{maxWidth:dt.full_width?"100%":dt.width?`${dt.width}%`:"100%",width:"100%",height:"auto",objectFit:"contain",display:"block",margin:"0 auto",padding:dt.padding?`min(${dt.padding}px, 12px)`:"0px",borderRadius:dt.radius?`${dt.radius}px`:"0px",boxShadow:dt.shadow?(()=>{const sr=(dt.shadow_angle||135)*Math.PI/180,ir=Math.round(Math.cos(sr)*(dt.shadow_offset||10)),nr=Math.round(Math.sin(sr)*(dt.shadow_offset||10));return`${ir}px ${nr}px ${dt.shadow_depth||25}px ${dt.shadow_color||"rgba(0,0,0,0.5)"}`})():"none"}}),dt.caption&&jsxRuntimeExports.jsx("p",{className:"mt-2 sm:mt-3 text-gray-300 text-sm italic",style:{textAlign:dt.alignment||"center"},children:dt.caption})]},et);case"profile_card":return jsxRuntimeExports.jsxs("div",{style:{textAlign:dt.alignment||"center",margin:"24px 0",padding:"16px"},children:[dt.image_url&&jsxRuntimeExports.jsx("img",{src:dt.image_url,alt:"",style:{width:`${dt.image_size||120}px`,height:`${dt.image_size||120}px`,objectFit:"cover",borderRadius:`${dt.image_radius||999}px`,border:`${dt.image_border_width||1}px solid ${dt.image_border_color||"#e5e7eb"}`,display:"block",margin:"0 auto"}}),dt.tagline&&jsxRuntimeExports.jsx("p",{style:{marginTop:"14px",fontSize:"1rem",fontWeight:600,color:dt.tagline_color||"#111827",textAlign:dt.alignment||"center"},children:dt.tagline}),dt.contact_value&&jsxRuntimeExports.jsx("p",{style:{marginTop:"6px",fontSize:"0.9rem",color:dt.subtext_color||"#6b7280",textAlign:dt.alignment||"center"},children:dt.contact_type==="phone"?jsxRuntimeExports.jsx("a",{href:`tel:${dt.contact_value}`,style:{color:"inherit",textDecoration:"none"},children:dt.contact_value}):jsxRuntimeExports.jsx("a",{href:`mailto:${dt.contact_value}`,style:{color:"inherit",textDecoration:"none"},children:dt.contact_value})})]},et);case"single_offer":{const sr=dt.text_color||"#ffffff",ir=dt.use_pdf_cover?dt.cover_url||dt.image_url||null:dt.image_url||dt.cover_url||null;return jsxRuntimeExports.jsx("div",{style:{background:"transparent",padding:"40px 20px",borderRadius:dt.use_no_bg?"0px":"20px",marginTop:"40px",maxWidth:"1100px",minHeight:"200px",marginLeft:"auto",marginRight:"auto",transition:"all 0.25s ease"},children:jsxRuntimeExports.jsx("div",{style:{display:"flex",justifyContent:"center"},children:jsxRuntimeExports.jsxs("div",{style:{background:"rgba(0,0,0,0.45)",border:"1px solid rgba(255,255,255,0.12)",borderRadius:"16px",padding:"28px",textAlign:"center",color:sr,display:"flex",flexDirection:"column",width:dt.card_width?`${dt.card_width}px`:"100%",height:dt.card_height==="auto"?"auto":dt.card_height?`${dt.card_height}px`:"auto",overflow:dt.card_height==="auto"?"visible":"auto"},children:[ir?jsxRuntimeExports.jsx("div",{style:{marginBottom:"16px"},children:jsxRuntimeExports.jsx("img",{src:ir,alt:"",style:{width:"100%",display:"block"}})}):jsxRuntimeExports.jsx("div",{style:{width:"100%",height:"160px",borderRadius:"12px",marginBottom:"16px",display:"flex",alignItems:"center",justifyContent:"center",color:"rgba(255,255,255,0.4)",fontSize:"0.85rem"},children:"No Image"}),jsxRuntimeExports.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:700,marginBottom:"8px"},children:dt.title||"Offer Title"}),dt.text&&jsxRuntimeExports.jsx("p",{style:{opacity:.8,fontSize:"0.95rem",marginBottom:"12px"},children:dt.text}),dt.use_long_description&&dt.long_text&&(dt.description_type==="bullets"?jsxRuntimeExports.jsx("ul",{style:{paddingLeft:"18px",marginBottom:"14px"},children:dt.long_text.split(`
`).map((nr,or)=>jsxRuntimeExports.jsx("li",{style:{marginBottom:"6px"},children:nr.replace(/^\s*/,"")},or))}):jsxRuntimeExports.jsx("div",{style:{fontSize:"0.9rem",textAlign:"left",opacity:.85,marginBottom:"14px"},children:dt.long_text})),dt.price?jsxRuntimeExports.jsxs("p",{style:{fontWeight:800,fontSize:"1.3rem",marginBottom:"16px"},children:["$",Number(dt.price).toFixed(2)]}):null,jsxRuntimeExports.jsx("button",{style:{marginTop:"auto",width:"100%",padding:"12px",borderRadius:"8px",fontWeight:700,border:"none",cursor:"pointer",background:dt.button_color||"#22c55e",color:dt.button_text_color||"#000000",fontSize:"1rem"},children:dt.button_text||"Buy Now"})]})})},et)}case"mini_offer":{const sr=dt.text_color||"#ffffff",ir=dt.use_pdf_cover?dt.cover_url||dt.image_url||null:dt.image_url||dt.cover_url||null,nr=dt.use_gradient?`linear-gradient(${dt.gradient_direction||"135deg"},
        ${dt.gradient_start||"#a855f7"},
        ${dt.gradient_end||"#ec4899"})`:dt.bg_color||"#111827",or=dt.use_no_bg?"transparent":dt.use_gradient?`linear-gradient(${dt.gradient_direction||"135deg"},
        ${dt.gradient_start||"#a855f7"},
        ${dt.gradient_end||"#ec4899"})`:dt.bg_color||"#111827",lr=(((Jt=(Yt=(Kt=dt.offer_page)==null?void 0:Kt.blocks)==null?void 0:Yt.map(ur=>ur.text))==null?void 0:Jt.join(" "))||"").replace(//g,""),cr=lr.trim().length>0,dr=cr&&lr.trim().split(/\s+/).length>20;return jsxRuntimeExports.jsx("div",{style:{padding:"40px 20px",marginTop:"40px",maxWidth:"1100px",marginLeft:"auto",marginRight:"auto"},children:jsxRuntimeExports.jsxs("div",{style:{display:"flex",width:"100%",maxWidth:"700px",height:"300px",margin:"0 auto",borderRadius:"20px",overflow:"hidden",border:"1px solid rgba(255,255,255,0.12)",boxShadow:"0 25px 60px rgba(0,0,0,0.45)",background:nr},children:[jsxRuntimeExports.jsx("div",{style:{flex:"0 0 30%",background:"#000",borderTopLeftRadius:"20px",borderBottomLeftRadius:"20px",overflow:"hidden"},children:ir?jsxRuntimeExports.jsx("img",{src:ir,alt:"",style:{width:"100%",height:"100%",objectFit:"cover",display:"block",borderTopLeftRadius:"20px",borderBottomLeftRadius:"20px",borderTopRightRadius:0,borderBottomRightRadius:0}}):jsxRuntimeExports.jsx("div",{style:{width:"100%",height:"100%",minHeight:"180px",display:"flex",alignItems:"center",justifyContent:"center",color:"rgba(255,255,255,0.4)",fontSize:"0.85rem"},children:"No Image"})}),jsxRuntimeExports.jsxs("div",{style:{flex:1,padding:"28px 32px",color:sr,display:"flex",flexDirection:"column",justifyContent:"center",boxSizing:"border-box",background:or},children:[jsxRuntimeExports.jsx("h1",{className:"normal-case",style:{fontSize:"1.2rem",lineHeight:1.5,marginBottom:"10px"},children:dt.title||"Offer Title"}),jsxRuntimeExports.jsxs("div",{style:{fontSize:"1rem",lineHeight:1.5,marginBottom:"14px",maxWidth:"420px"},children:[jsxRuntimeExports.jsx("span",{style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis"},children:lr}),dr&&jsxRuntimeExports.jsx("span",{style:{display:"block",marginTop:"6px",fontWeight:700,textDecoration:"underline",cursor:"pointer",fontSize:"0.9rem"},children:"See more"})]}),jsxRuntimeExports.jsxs("div",{style:{marginTop:"16px"},children:[dt.price?jsxRuntimeExports.jsxs("div",{style:{marginBottom:"10px",fontSize:"1.05rem",fontWeight:300},children:["$",Number(dt.price).toFixed(2)]}):null,jsxRuntimeExports.jsx("button",{style:{width:"100%",maxWidth:"260px",padding:"14px",borderRadius:"10px",fontWeight:700,border:"none",fontSize:"1.05rem",background:dt.button_color||"#22c55e",color:dt.button_text_color||"#000000",cursor:cr?"pointer":"not-allowed",opacity:cr?1:.6},children:dt.button_text||"Buy Now"}),!cr&&jsxRuntimeExports.jsx("div",{style:{marginTop:"6px",fontSize:"0.85rem",opacity:.7},children:"Preview unavailable"})]})]})]})},et)}case"secure_checkout":return jsxRuntimeExports.jsxs("div",{style:{width:"100%",textAlign:"center",marginTop:"40px",marginBottom:"20px",color:dt.text_color||"#ffffff"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",marginBottom:"8px"},children:[jsxRuntimeExports.jsx("span",{style:{fontSize:"1rem",color:"#f1c40f",fontWeight:800,display:"flex",alignItems:"center"},children:""}),jsxRuntimeExports.jsx("h2",{style:{fontSize:"1rem",fontWeight:700,margin:0,color:"#ffffff"},children:dt.title||"Secure Checkout"})]}),dt.subtext&&jsxRuntimeExports.jsx("p",{style:{color:"rgba(255,255,255,0.75)",margin:"8px auto 14px auto",fontSize:"1rem",maxWidth:"600px",lineHeight:1.5},children:dt.subtext}),Array.isArray(dt.trust_items)&&dt.trust_items.length>0&&jsxRuntimeExports.jsx("ul",{style:{margin:"10px auto 16px auto",padding:0,listStyle:"none",maxWidth:"400px"},children:dt.trust_items.map((sr,ir)=>jsxRuntimeExports.jsxs("li",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",marginBottom:"6px",color:"rgba(255,255,255,0.9)",fontSize:"1rem"},children:[jsxRuntimeExports.jsx("span",{style:{color:"#22c55e",fontWeight:900},children:""}),sr]},ir))}),dt.guarantee&&jsxRuntimeExports.jsx("p",{style:{marginTop:"8px",fontSize:"0.9rem",color:"rgba(255,255,255,0.7)"},children:dt.guarantee}),dt.payment_badge&&jsxRuntimeExports.jsx("div",{style:{marginTop:"14px"},children:jsxRuntimeExports.jsx("img",{src:dt.payment_badge,alt:"Secure Payments",style:{width:"150px",opacity:.85,borderRadius:"8px"}})})]},et);case"audio_player":return jsxRuntimeExports.jsxs("div",{style:{background:dt.match_main_bg?(kt==null?void 0:kt.bg_theme)||"#0d1117":dt.use_gradient?`linear-gradient(${dt.gradient_direction}, ${dt.gradient_start}, ${dt.gradient_end})`:dt.bg_color||"#0d1117",border:"1px solid #1f2937",padding:dt.padding?`${dt.padding}px`:"20px",borderRadius:"16px",maxWidth:"700px",margin:"45px auto",color:dt.text_color||"#ffffff",fontFamily:"Inter, sans-serif",boxShadow:"0 0 25px rgba(0,0,0,0.35)",textAlign:dt.alignment||"center"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"22px"},children:[dt.show_cover!==!1&&dt.cover_url&&jsxRuntimeExports.jsx("img",{src:dt.cover_url,alt:"",style:{width:"70px",height:"70px",objectFit:"cover",borderRadius:"8px"}}),jsxRuntimeExports.jsxs("div",{style:{flex:1,textAlign:"left"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"6px"},children:[dt.show_title!==!1&&dt.title&&jsxRuntimeExports.jsx("span",{style:{fontSize:"1rem",fontWeight:"600",color:dt.text_color||"#ffffff"},children:dt.title}),jsxRuntimeExports.jsxs("div",{style:{width:"16px",height:"12px",display:"flex",alignItems:"flex-end",gap:"2px"},children:[jsxRuntimeExports.jsx("span",{style:{width:"3px",height:"3px",background:dt.progress_color||"#22c55e",opacity:.5}}),jsxRuntimeExports.jsx("span",{style:{width:"3px",height:"6px",background:dt.progress_color||"#22c55e",opacity:.5}}),jsxRuntimeExports.jsx("span",{style:{width:"3px",height:"10px",background:dt.progress_color||"#22c55e",opacity:.5}})]})]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"18px"},children:[jsxRuntimeExports.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"8px",background:"#1e293b",display:"flex",alignItems:"center",justifyContent:"center"},children:jsxRuntimeExports.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:dt.progress_color||"#22c55e",children:jsxRuntimeExports.jsx("path",{d:"M15 18V6l-9 6 9 6z"})})}),jsxRuntimeExports.jsx("div",{style:{width:"45px",height:"45px",borderRadius:"50%",background:dt.progress_color||"#22c55e",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 10px rgba(0,0,0,0.3)"},children:jsxRuntimeExports.jsx("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"#000",children:jsxRuntimeExports.jsx("path",{d:"M8 5v14l11-7z"})})}),jsxRuntimeExports.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"8px",background:"#1e293b",display:"flex",alignItems:"center",justifyContent:"center"},children:jsxRuntimeExports.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:dt.progress_color||"#22c55e",children:jsxRuntimeExports.jsx("path",{d:"M9 6v12l9-6-9-6z"})})}),jsxRuntimeExports.jsx("div",{style:{width:"110px"},children:jsxRuntimeExports.jsx("div",{style:{width:"100%",height:"6px",borderRadius:"4px",background:"#1f2937",overflow:"hidden"},children:jsxRuntimeExports.jsx("div",{style:{width:"80%",height:"100%",background:dt.progress_color||"#22c55e"}})})})]}),jsxRuntimeExports.jsx("div",{style:{width:"100%",height:"8px",background:"#1f2937",borderRadius:"6px",overflow:"hidden",marginTop:"12px"},children:jsxRuntimeExports.jsx("div",{style:{width:"20%",height:"100%",background:dt.progress_color||"#22c55e"}})}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"6px",fontSize:"0.85rem",color:"#94a3b8"},children:[jsxRuntimeExports.jsx("span",{children:"00:00"}),jsxRuntimeExports.jsx("span",{children:"03:30"})]})]})]}),jsxRuntimeExports.jsx("div",{style:{marginTop:"18px",height:"30px",width:"100%",background:"#000",borderRadius:"4px",overflow:"hidden",position:"relative"},children:jsxRuntimeExports.jsx("div",{style:{position:"absolute",inset:0,background:`repeating-linear-gradient(
              to right,
              ${dt.waveform_color||"#7bed9f"} 0px,
              ${dt.waveform_color||"#7bed9f"} 2px,
              transparent 2px,
              transparent 6px
            )`,opacity:.9}})})]},et);case"container":let rr="transparent";return dt.use_gradient?rr=`linear-gradient(${dt.gradient_direction}, ${dt.gradient_start}, ${dt.gradient_end})`:dt.bg_color?rr=dt.bg_color:dt.match_main_bg&&(rr=Ut(Tt)),jsxRuntimeExports.jsx("div",{style:{background:rr,padding:`${dt.padding||20}px`,borderRadius:dt.radius?`${dt.radius}px`:"16px",margin:"40px auto",maxWidth:dt.max_width||"100%"},children:(dt.children||[]).filter(sr=>sr.enabled!==!1).map((sr,ir)=>renderPreviewBlock(sr,ir,$t))},dt.id||et);case"button_url":{const sr=dt.use_gradient?`linear-gradient(${dt.gradient_direction||"90deg"}, ${dt.gradient_start||"#22c55e"}, ${dt.gradient_end||"#3b82f6"})`:dt.bg_color||"#22c55e",ir=typeof dt.shadow_opacity=="number"?dt.shadow_opacity/100:.35,nr=`${dt.shadow_offset_x??0}px ${dt.shadow_offset_y??8}px ${dt.shadow_blur??20}px rgba(0,0,0,${ir})`;return jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",margin:"40px auto"},children:[jsxRuntimeExports.jsx("div",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:`${dt.width??220}px`,height:`${dt.height??48}px`,padding:`${dt.padding_y??12}px ${dt.padding_x??24}px`,background:sr,color:dt.text_color||"#000000",fontSize:`${dt.font_size??16}px`,fontWeight:dt.font_weight??600,borderRadius:`${dt.radius??8}px`,border:`${dt.stroke_width??0}px solid ${dt.stroke_color||"#000"}`,boxShadow:nr,userSelect:"none",pointerEvents:"none"},children:dt.text||"Click Here"}),dt.url&&jsxRuntimeExports.jsxs("p",{style:{marginTop:"8px",fontSize:"0.75rem",color:"#94a3b8",wordBreak:"break-all"},children:[" ",dt.url]})]},et)}case"scroll_arrow":{const sr=["bounce","float","pulse"].includes(dt.animation_type)?dt.animation_type:"bounce",ir=dt.arrow_style||"single",or={single:1,double:2,triple:3}[ir]||1,lr=dt.stagger||0;return jsxRuntimeExports.jsx("div",{style:{display:"flex",justifyContent:dt.alignment==="left"?"flex-start":dt.alignment==="right"?"flex-end":"center",margin:"32px 0",userSelect:"none"},children:jsxRuntimeExports.jsx("div",{style:{width:dt.size||36,display:"flex",flexDirection:"column",alignItems:"center",cursor:"pointer",touchAction:"manipulation","--arrow-speed":`${dt.animation_speed||1.2}s`},children:Array.from({length:or}).map((cr,dr)=>jsxRuntimeExports.jsx("svg",{className:`scroll-arrow-item ${sr}`,viewBox:"0 0 24 24",fill:"none",stroke:dt.color||"#ffffff",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",width:"100%",height:"100%",style:{display:"block",marginTop:dr===0?0:"-10px",animationDelay:`${dr*lr}s`,animationDuration:`${dt.animation_speed||1.2}s`},"aria-hidden":"true",children:jsxRuntimeExports.jsx("path",{d:"M19 12l-7 7-7-7"})},dr))})})}default:return null}}function PreviewPanel({showPreviewSection:dt,setShowPreviewSection:et,landing:$t,selectedTheme:kt,fontName:Tt,bgTheme:Dt,user:Ft,updateBlock:Ut,adjustForLandingOverlay:Ht,blendColors:Kt}){var Jt;function Yt(Zt=[]){let er=[];for(const rr of Zt)rr.type==="offer_banner"&&rr.enabled!==!1&&er.push(rr),rr.type==="container"&&Array.isArray(rr.children)&&(er=er.concat(Yt(rr.children)));return er}return jsxRuntimeExports.jsxs("div",{className:`
      mt-6 sm:mt-12
      bg-dashboard-sidebar-light dark:bg-dashboard-sidebar-dark
      border border-dashboard-border-light dark:border-dashboard-border-dark
      rounded-xl sm:rounded-2xl
      shadow-inner
      p-3 sm:p-6
      transition-all
      hover:border-dashboard-muted-light dark:hover:border-dashboard-muted-dark
    `,children:[jsxRuntimeExports.jsxs("div",{onClick:()=>et(!dt),className:"flex items-center justify-between px-3 py-3 sm:px-6 sm:py-5 cursor-pointer select-none",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col",children:[jsxRuntimeExports.jsx("h3",{className:`
            text-lg font-semibold tracking-wide
            text-dashboard-text-light dark:text-dashboard-text-dark
          `,children:"Landing Page Preview"}),jsxRuntimeExports.jsx("p",{className:`
            mt-1 text-sm italic leading-relaxed max-w-xl
            text-dashboard-muted-light dark:text-dashboard-muted-dark
          `,children:"Your live page may appear slightly different due to device, screen size, or browser rendering."})]}),jsxRuntimeExports.jsx("span",{className:`
          text-dashboard-muted-light dark:text-dashboard-muted-dark
          text-sm
          transform transition-transform duration-300
          ${dt?"rotate-180":"rotate-0"}
        `,children:""})]}),jsxRuntimeExports.jsx("div",{className:`transition-all duration-500 ease-in-out overflow-hidden ${dt?"max-h-[9999px] opacity-100":"max-h-0 opacity-0"}`,children:jsxRuntimeExports.jsxs("div",{className:`
          mt-4 sm:mt-8
          p-4 sm:p-10
          rounded-xl
          text-center
          shadow-lg
          transition-all duration-500
          bg-dashboard-bg-light dark:bg-dashboard-bg-dark
        `,style:{background:Ht(kt),fontFamily:Tt},children:[Yt($t.content_blocks).map((Zt,er)=>jsxRuntimeExports.jsxs("div",{className:"relative shadow-lg",style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",color:Zt.text_color||"#fff",textAlign:"center",padding:`${Zt.padding?Math.min(Zt.padding,28):28}px 16px`,fontWeight:600,fontSize:"1.2rem",lineHeight:"1.5",margin:"0 0 40px",borderRadius:"24px 24px 0 0",boxShadow:"none"},children:[jsxRuntimeExports.jsx("p",{style:{fontSize:"1.5rem",fontWeight:700,margin:"0 0 22px",textAlign:"center"},children:Zt.text||" Limited Time Offer! Get your free eBook today!"}),jsxRuntimeExports.jsx("button",{style:{display:"block",background:Zt.use_gradient?`linear-gradient(${Zt.gradient_direction||"90deg"}, ${Zt.gradient_start||"#F285C3"}, ${Zt.gradient_end||"#7bed9f"})`:Zt.button_color||Zt.bg_color||"#F285C3",color:Zt.button_text_color||Zt.text_color||"#fff",padding:"22px 36px",borderRadius:"8px",fontWeight:700,fontSize:"1rem",cursor:"pointer",border:"none",width:"100%",maxWidth:"340px",margin:"16px auto 0 auto",boxShadow:"0 4px 12px rgba(0,0,0,0.3)",transition:"transform 0.25s ease"},onMouseOver:rr=>{rr.currentTarget.style.transform="scale(1.05)"},onMouseOut:rr=>{rr.currentTarget.style.transform="scale(1)"},children:Zt.button_text||"Claim Offer"})]},er)),$t.cover_image_url&&jsxRuntimeExports.jsx("img",{src:$t.cover_image_url,alt:"Book Cover",className:"mx-auto mb-4 sm:mb-8 rounded-xl shadow-lg",style:{width:"100%",maxWidth:"480px",height:"auto",aspectRatio:"unset",objectFit:"cover",border:"2px solid var(--dashboard-border-light)",background:"#000",boxShadow:"0 15px 35px rgba(0, 0, 0, 0.25), 0 6px 20px rgba(0, 0, 0, 0.15)",borderRadius:"12px",transition:"transform 0.3s ease, box-shadow 0.3s ease"}}),(Jt=$t.content_blocks)!=null&&Jt.length?$t.content_blocks.filter(Zt=>Zt.type!=="offer_banner"&&Zt.enabled!==!1).map((Zt,er)=>jsxRuntimeExports.jsx(MotionWrapper,{index:er,motionSettings:{...$t.motion_settings,enabled:!1},blockMotion:Zt.motion,children:renderPreviewBlock(Zt,er,{landing:$t,selectedTheme:kt,fontName:Tt,bgTheme:Dt,user:Ft,updateBlock:Ut,adjustForLandingOverlay:Ht,blendColors:Kt})},Zt.id||er)):jsxRuntimeExports.jsx("p",{className:`
              italic
              text-dashboard-muted-light dark:text-dashboard-muted-dark
            `,children:"Start adding sections to preview your landing page..."})]})})]})}function BottomActionsBar({landing:dt,user:et,handleSaveTemplate:$t}){const[kt,Tt]=reactExports.useState(!1);return jsxRuntimeExports.jsxs("div",{className:`
      flex flex-col sm:flex-row sm:items-center sm:justify-between
      mt-16 pt-8
      border-t
      border-dashboard-border-light dark:border-dashboard-border-dark
    `,children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 sm:gap-6 items-center sm:items-start",children:[jsxRuntimeExports.jsx("button",{type:"submit",name:"save-landing",className:"bg-green text-black px-6 py-3 rounded-lg shadow hover:bg-green transition",children:"Save Changes"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:$t,className:`
          bg-dashboard-hover-light dark:bg-dashboard-hover-dark
          text-dashboard-text-light dark:text-dashboard-text-dark
          px-6 py-3
          rounded-lg
          shadow
          border
          border-dashboard-border-light dark:border-dashboard-border-dark
          hover:bg-dashboard-bg-light dark:hover:bg-dashboard-bg-dark
          transition
        `,children:"Save Version"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center sm:items-end mt-6 sm:mt-0 gap-2",children:[jsxRuntimeExports.jsxs("a",{href:dt.username?`https://${dt.username}.themessyattic.com?owner_preview=${encodeURIComponent((et==null?void 0:et.id)||"")}`:void 0,target:"_blank",rel:"noopener noreferrer",className:`
      inline-flex items-center gap-2
      px-4 py-1.5
      rounded-full
      text-xs font-semibold
      border
      transition-all
      ${dt.username?`
                bg-green/10
                text-dashboard-muted-light dark:text-dashboard-muted-dark
                border-green/30
                hover:bg-green/20
                hover:text-blue
              `:`
                bg-dashboard-bg-light dark:bg-dashboard-bg-dark
                text-dashboard-muted-light dark:text-dashboard-muted-dark
                border-dashboard-border-light dark:border-dashboard-border-dark
                cursor-not-allowed
              `}
        `,onClick:Dt=>{dt.username||Dt.preventDefault()},children:[jsxRuntimeExports.jsx("span",{className:"w-2 h-2 rounded-full bg-current"}),dt.username?"View Live Page":"Set username to view page"]}),jsxRuntimeExports.jsxs("p",{className:`
          text-xs
          text-dashboard-muted-light dark:text-dashboard-muted-dark
          flex items-center gap-2
        `,children:["Copy Live URL:",dt.username?jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(`https://${dt.username}.themessyattic.com`),Tt(!0),setTimeout(()=>Tt(!1),1500)},className:"text-silver font-medium hover:opacity-80",children:kt?"Copied!":`https://${dt.username}.themessyattic.com`}):jsxRuntimeExports.jsx("span",{className:"text-dashboard-muted-light dark:text-dashboard-muted-dark",children:"Not set"})]})]})]})}function AICopyModal({aiContext:dt,onApply:et,onClose:$t}){const[kt,Tt]=reactExports.useState(!1),[Dt,Ft]=reactExports.useState(""),[Ut,Ht]=reactExports.useState("");reactExports.useEffect(()=>{Ht("")},[Dt]),reactExports.useEffect(()=>{dt!=null&&dt.currentText&&Ft(dt.currentText)},[dt]);const Kt=async()=>{if(Dt.trim()){Tt(!0);try{const Zt=await axiosInstance.post("/landing/generate-copy",{prompt:Dt,blockType:dt.blockType});Ht(Zt.data.text)}catch(Zt){console.error(Zt)}finally{Tt(!1)}}},Yt=()=>{dt!=null&&dt.currentText&&Ft(`Rewrite the following text to be clearer and more engaging:

${dt.currentText}`)},Jt=async()=>{const Zt=Ut||(dt==null?void 0:dt.currentText);if(Zt){Tt(!0);try{const er=await axiosInstance.post("/landing/generate-copy",{prompt:`Rewrite the following copy to be clearer, more engaging, and more effective:

${Zt}`,blockType:dt.blockType});Ht(er.data.text)}catch(er){console.error(er)}finally{Tt(!1)}}};return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 bg-black/80 flex items-center justify-center px-4",children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-lg bg-[#0B0F19] border border-gray-800 rounded-2xl shadow-xl p-5 relative",children:[jsxRuntimeExports.jsx("button",{onClick:$t,className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:jsxRuntimeExports.jsx(X$5,{size:18})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[jsxRuntimeExports.jsx(Sparkles,{className:"text-green w-5 h-5"}),jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold text-white",children:"AI Assistant"})]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-400 mb-4",children:["Editing"," ",jsxRuntimeExports.jsx("span",{className:"text-gray-200 font-semibold",children:dt.blockType})," ","block"]}),(dt==null?void 0:dt.currentText)&&jsxRuntimeExports.jsxs("button",{type:"button",onClick:Yt,className:"flex items-center gap-2 text-xs mb-3 px-3 py-1.5 rounded-md bg-gray-800 text-gray-200 hover:bg-gray-700 transition",children:[jsxRuntimeExports.jsx(RotateCcw,{size:14}),"Rewrite existing text"]}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"text-xs text-gray-400 mb-1 block",children:"What is this block about?"}),jsxRuntimeExports.jsx("textarea",{value:Dt,onChange:Zt=>Ft(Zt.target.value),placeholder:"Describe what this section should say. You can paste text from your PDF here.",className:"w-full h-28 p-3 bg-black border border-gray-700 rounded-md text-sm text-white resize-none"})]}),jsxRuntimeExports.jsxs("div",{className:"mb-5",children:[jsxRuntimeExports.jsx("label",{className:"text-xs text-gray-400 mb-1 block",children:"AI generated copy"}),jsxRuntimeExports.jsx("textarea",{value:Ut,onChange:Zt=>Ht(Zt.target.value),placeholder:"AI output will appear here",className:"w-full h-32 p-3 bg-black border border-gray-700 rounded-md text-sm text-white resize-none"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:Kt,disabled:kt||!Dt.trim(),className:`
        px-4 py-2 rounded-md text-sm font-bold transition
        ${kt||!Dt.trim()?"bg-gray-700 text-gray-400 cursor-not-allowed":"bg-green text-black hover:bg-emerald-500"}
      `,children:kt?"Writing...":"Generate"}),jsxRuntimeExports.jsx("button",{onClick:Jt,disabled:kt||!Ut&&!(dt!=null&&dt.currentText),className:`
        px-4 py-2 rounded-md text-sm font-bold transition
        ${kt||!Ut&&!(dt!=null&&dt.currentText)?"bg-gray-700 text-gray-400 cursor-not-allowed":"bg-purple-600 text-white hover:bg-purple-500"}
      `,children:"Rewrite"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:$t,className:"text-sm text-gray-400 hover:text-white",children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:()=>et(Ut),disabled:!Ut,className:`
        px-4 py-2 rounded-md text-sm font-bold transition
        ${Ut?"bg-blue text-white hover:bg-blue/80":"bg-gray-700 text-gray-400 cursor-not-allowed"}
      `,children:"Apply"})]})]})]})})}function MotionPreview({preset:dt,duration:et,easing:$t,stagger:kt=0,delay:Tt=0}){const[Dt,Ft]=reactExports.useState(0),Ut=PRESET_VARIANTS[dt]||PRESET_VARIANTS.fade;return jsxRuntimeExports.jsxs("div",{className:"mt-4 rounded-md border border-gray-700 bg-black/40 p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-3",children:[jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-400",children:"Preview"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>Ft(Ht=>Ht+1),className:"text-xs rounded px-2 py-2 text-white bg-royalPurple hover:text-white transition",children:"Replay"})]}),jsxRuntimeExports.jsx(motion.div,{initial:"hidden",animate:"visible",variants:{hidden:{},visible:{transition:{delayChildren:Tt,staggerChildren:kt}}},className:"flex flex-col gap-2 items-center h-32 overflow-hidden",children:[0,1,2].map(Ht=>jsxRuntimeExports.jsx(motion.div,{variants:{hidden:Ut,visible:{opacity:1,x:0,y:0,scale:1,rotate:0,rotateX:0,rotateY:0,filter:"blur(0px)",transition:{duration:et,ease:$t}}},className:"w-16 h-6 rounded-md bg-royalPurple shadow-md"},Ht))},`${dt}-${et}-${$t}-${kt}-${Tt}-${Dt}`)]})}function AnimationSettingsPanel({landing:dt,setLanding:et}){const $t={enabled:!1,preset:"fade-up",duration:.5,delay:0,stagger:.12,easing:[0,0,.2,1],panel_open:!1},kt={...$t,...dt.motion_settings||{}},Tt={linear:"linear",easeOut:[0,0,.2,1],easeIn:[.4,0,1,1],easeInOut:[.4,0,.2,1]};function Dt(Ft){const Ut=["linear","cubic-bezier(0, 0, 0.2, 1)","cubic-bezier(0.4, 0, 1, 1)","cubic-bezier(0.4, 0, 0.2, 1)"];et(Ht=>{const Kt={...$t,...Ht.motion_settings||{},...Ft};return Ut.includes(Kt.easing)||(Kt.easing=$t.easing),{...Ht,motion_settings:Kt}})}return jsxRuntimeExports.jsxs("div",{className:"border border-dashboard-border-light dark:border-dashboard-border-dark rounded-lg px-4 py-1 bg-dashboard-bg-light dark:bg-dashboard-bg-dark mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex items-center mb-4 mt-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-dashboard-text-light dark:text-dashboard-text-dark",children:"Animate page sections"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>Dt({enabled:!kt.enabled,panel_open:kt.enabled?kt.panel_open:!0}),className:`relative inline-flex h-5 w-9 items-center rounded-full transition-colors duration-200 ${kt.enabled?"bg-green":"bg-dashboard-border-light dark:bg-dashboard-border-dark"}`,children:jsxRuntimeExports.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full shadow transition-transform duration-200
  bg-dashboard-sidebar-light dark:bg-dashboard-sidebar-dark
  ${kt.enabled?"translate-x-4":"translate-x-1"}
`})})]}),kt.enabled&&jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>Dt({panel_open:!kt.panel_open}),className:`absolute right-0 top-1/2 -translate-y-1/2
text-dashboard-muted-light dark:text-dashboard-muted-dark
hover:text-dashboard-text-light dark:hover:text-dashboard-text-dark
transition`,children:jsxRuntimeExports.jsx("span",{className:`inline-block transition-transform duration-200 ${kt.panel_open?"rotate-180":"rotate-0"}`,children:""})})]}),kt.enabled&&kt.panel_open&&jsxRuntimeExports.jsxs("div",{className:`space-y-4 max-w-md pb-6 pt-6
`,children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-semibold text-dashboard-muted-light dark:text-dashboard-muted-dark mb-4",children:"Animation preset"}),jsxRuntimeExports.jsx("select",{value:kt.preset,onChange:Ft=>Dt({preset:Ft.target.value}),className:`w-full rounded-md
bg-dashboard-bg-light dark:bg-dashboard-bg-dark
border border-dashboard-border-light dark:border-dashboard-border-dark
text-dashboard-text-light dark:text-dashboard-text-dark
text-sm px-3 py-2`,children:MOTION_PRESETS.map(Ft=>jsxRuntimeExports.jsx("option",{value:Ft.value,children:Ft.label},Ft.value))})]}),jsxRuntimeExports.jsx(Range$1,{label:"Animation speed (seconds)",value:kt.duration,min:.2,max:2,step:.1,onChange:Ft=>Dt({duration:Ft})}),jsxRuntimeExports.jsx(Range$1,{label:"Stagger delay between sections",value:kt.stagger,min:0,max:.5,step:.02,onChange:Ft=>Dt({stagger:Ft})}),jsxRuntimeExports.jsx(Range$1,{label:"Initial page delay",value:kt.delay,min:0,max:1,step:.05,onChange:Ft=>Dt({delay:Ft})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs text-dashboard-muted-light dark:text-dashboard-muted-dark mb-1",children:"Animation easing"}),jsxRuntimeExports.jsxs("select",{value:kt.easing,onChange:Ft=>Dt({easing:Tt[Ft.target.value]}),className:`w-full rounded-md
bg-dashboard-bg-light dark:bg-dashboard-bg-dark
border border-dashboard-border-light dark:border-dashboard-border-dark
text-dashboard-text-light dark:text-dashboard-text-dark
px-3 py-2 text-sm`,children:[jsxRuntimeExports.jsx("option",{value:"easeOut",children:"Ease out"}),jsxRuntimeExports.jsx("option",{value:"easeIn",children:"Ease in"}),jsxRuntimeExports.jsx("option",{value:"easeInOut",children:"Ease in out"}),jsxRuntimeExports.jsx("option",{value:"linear",children:"Linear"}),jsxRuntimeExports.jsx("option",{value:"cubic-bezier(0.4, 0, 0.2, 1)",children:"Material smooth"})]}),jsxRuntimeExports.jsx(MotionPreview,{preset:kt.preset,duration:kt.duration,easing:kt.easing,stagger:kt.stagger,delay:kt.delay})]})]})]})}function Range$1({label:dt,value:et,min:$t,max:kt,step:Tt,onChange:Dt}){const Ft=(et-$t)/(kt-$t)*100;return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs text-dashboard-muted-light dark:text-dashboard-muted-dark mb-1",children:dt}),jsxRuntimeExports.jsx("input",{type:"range",min:$t,max:kt,step:Tt,value:et,onChange:Ut=>Dt(Number(Ut.target.value)),className:"custom-range",style:{background:`linear-gradient(
            to right,
            #670fe7 ${Ft}%,
            var(--dashboard-border-light) ${Ft}%
          )`}}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-dashboard-muted-light dark:text-dashboard-muted-dark mt-1",children:[et,"s"]})]})}function PageUrlUsernameField({landing:dt,setLanding:et}){var Tt,Dt,Ft;const $t=!!((Tt=dt==null?void 0:dt.domain)!=null&&Tt.hasPrimaryDomain&&((Dt=dt==null?void 0:dt.domain)!=null&&Dt.primaryDomain)),kt=(Ft=dt==null?void 0:dt.domain)==null?void 0:Ft.primaryDomain;return reactExports.useEffect(()=>{$t&&dt.username&&et(Ut=>({...Ut,username:Ut.username}))},[$t]),jsxRuntimeExports.jsxs("div",{className:"w-full pb-10",children:[jsxRuntimeExports.jsx("label",{className:`
        block font-semibold mb-1
        text-dashboard-text-light
        dark:text-dashboard-text-dark
      `,children:"Page Url Username"}),jsxRuntimeExports.jsx("input",{type:"text",maxLength:30,value:dt.username||"",disabled:$t,onChange:Ut=>{$t||et({...dt,username:Ut.target.value})},onBlur:async()=>{var Ut,Ht,Kt,Yt;if(!$t&&((Ht=(Ut=dt.username)==null?void 0:Ut.trim())==null?void 0:Ht.length)>=3)try{const Jt=await axiosInstance.get(`/landing/check-username/${dt.username.trim()}`);y$4[Jt.data.available?"success":"error"](Jt.data.message)}catch(Jt){const Zt=((Yt=(Kt=Jt==null?void 0:Jt.response)==null?void 0:Kt.data)==null?void 0:Yt.message)||"Error checking username";y$4.error(Zt)}},placeholder:$t?"Custom domain connected":"e.g. cre8tlydesigns",className:`
        w-75
        rounded-lg px-4 py-2
        border
        text-dashboard-text-light
        dark:text-dashboard-text-dark
        placeholder-dashboard-muted-light
        dark:placeholder-dashboard-muted-dark
        border-dashboard-border-light
        dark:border-dashboard-border-dark
        ${$t?"bg-dashboard-disabled-light dark:bg-dashboard-disabled-dark cursor-not-allowed opacity-60":"bg-dashboard-bg-light dark:bg-dashboard-bg-dark"}
      `}),jsxRuntimeExports.jsx("p",{className:`
        text-xs mt-1 mb-10
        text-dashboard-muted-light
        dark:text-dashboard-muted-dark
      `,children:$t?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["Your page is live at"," ",jsxRuntimeExports.jsxs("span",{className:"block text-blue break-all",children:["https://",kt]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("span",{className:"block mt-1 text-dashboard-muted-light dark:text-dashboard-muted-dark",children:"Subdomain is disabled while a custom domain is active."})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["This will be used for your page URL"," ",jsxRuntimeExports.jsx("span",{className:"block text-dashboard-muted-light dark:text-dashboard-muted-dark break-all",children:dt.username?`https://${dt.username}.themessyattic.com`:"https://yourname.themessyattic.com"})]})})]})}function LandingPageBuilder(){var xo,Vs;const{user:dt}=useAuth(),et=useNavigate(),[$t,kt]=reactExports.useState(null),[Tt,Dt]=reactExports.useState(!0),[Ft,Ut]=reactExports.useState(""),[Ht,Kt]=reactExports.useState(""),[Yt,Jt]=reactExports.useState("default"),[Zt,er]=reactExports.useState(""),[rr,sr]=reactExports.useState(!1),[ir,nr]=reactExports.useState(!1),[or,lr]=reactExports.useState(null),[cr,dr]=reactExports.useState(null),[ur,pr]=reactExports.useState(!1),[mr,vr]=reactExports.useState(!1),[kr,br]=reactExports.useState([]),[_r,Or]=reactExports.useState(""),[Pr,Mr]=reactExports.useState(""),[Rr,Tr]=reactExports.useState(!1),[xr,wr]=reactExports.useState(""),[zr,Hr]=reactExports.useState(!1),[Gr,Xr]=reactExports.useState(!1),[rs,Yr]=reactExports.useState(null),es=cr&&((xo=$t.content_blocks[cr.blockIndex])==null?void 0:xo.id)===cr.blockId,ns=ss=>{Yr(ss)},ms=ss=>{kt(Wr=>{const gs=Wr.content_blocks,ps=us(gs,ss);if(!ps)return Wr;const js=ps.index-1;if(js<0)return Wr;const{removed:hs,next:Es}=$s(gs,ps),ws=ks(Es,{parentId:ps.parentId,index:js},hs);return{...Wr,content_blocks:ws}})},ls=ss=>{kt(Wr=>{var Ls;const gs=Wr.content_blocks,ps=us(gs,ss);if(!ps)return Wr;const js=ps.parentId===null?gs:((Ls=gs.find(bs=>bs.id===ps.parentId))==null?void 0:Ls.children)||[],hs=ps.index+1;if(hs>=js.length)return Wr;const{removed:Es,next:ws}=$s(gs,ps),Ss=ks(ws,{parentId:ps.parentId,index:hs},Es);return{...Wr,content_blocks:Ss}})},ds=(ss,Wr)=>{kt(gs=>{const ps=[...gs.content_blocks],js=ps[ss];if(!(js!=null&&js.children))return gs;const hs=js.children.findIndex(Ss=>Ss.id===Wr);if(hs<=0)return gs;const Es=[...js.children],[ws]=Es.splice(hs,1);return Es.splice(hs-1,0,ws),ps[ss]={...js,children:Es},{...gs,content_blocks:ps}})},fs=(ss,Wr)=>{kt(gs=>{const ps=[...gs.content_blocks],js=ps[ss];if(!(js!=null&&js.children))return gs;const hs=js.children.findIndex(Ss=>Ss.id===Wr);if(hs===-1||hs>=js.children.length-1)return gs;const Es=[...js.children],[ws]=Es.splice(hs,1);return Es.splice(hs+1,0,ws),ps[ss]={...js,children:Es},{...gs,content_blocks:ps}})},cs=(ss,Wr)=>{kt(gs=>{const ps=[...gs.content_blocks],js=ps[ss];if(!js||!Array.isArray(js.children))return gs;const hs=js.children.findIndex(Ss=>Ss.id===Wr);if(hs===-1)return gs;const Es=js.children[hs],ws=js.children.filter((Ss,Ls)=>Ls!==hs);return ps[ss]={...js,children:ws},ps.splice(ss+1,0,Es),{...gs,content_blocks:ps}})},xs=(ss,Wr)=>{kt(gs=>{const ps=[...gs.content_blocks],js=ps[ss];if(!js)return gs;ps.splice(ss,1);const hs=ss<Wr?Wr-1:Wr,Es=ps[hs];return!Es||Es.type!=="container"?gs:(ps[hs]={...Es,children:[...Es.children||[],js]},{...gs,content_blocks:ps})})},us=(ss,Wr)=>{const gs=ss.findIndex(ps=>ps.id===Wr);if(gs!==-1)return{parentId:null,index:gs,block:ss[gs]};for(const ps of ss){if(ps.type!=="container")continue;const js=(ps.children||[]).findIndex(hs=>hs.id===Wr);if(js!==-1)return{parentId:ps.id,index:js,block:ps.children[js]}}return null},$s=(ss,Wr)=>{let gs;return Wr.parentId===null?(gs=ss[Wr.index],{removed:gs,next:ss.filter((ps,js)=>js!==Wr.index)}):{removed:ss.find(ps=>ps.id===Wr.parentId).children[Wr.index],next:ss.map(ps=>ps.id!==Wr.parentId?ps:{...ps,children:ps.children.filter((js,hs)=>hs!==Wr.index)})}},ks=(ss,Wr,gs)=>{if(Wr.parentId===null){const ps=[...ss];return ps.splice(Wr.index,0,gs),ps}return ss.map(ps=>ps.id!==Wr.parentId?ps:{...ps,children:[...(ps.children||[]).slice(0,Wr.index),gs,...(ps.children||[]).slice(Wr.index)]})},Ds=(dt==null?void 0:dt.plan)==="business_builder_pack"&&(dt==null?void 0:dt.pro_status)==="active",Cs=React$2.useCallback(ss=>{const Wr={},gs=ps=>{var js;for(const hs of ps)Wr[hs.type]=(Wr[hs.type]||0)+1,hs.type==="container"&&((js=hs.children)!=null&&js.length)&&gs(hs.children)};return gs(ss||[]),Wr},[]),Ts=React$2.useCallback(ss=>{const Wr=BLOCK_LIMITS[ss];return Wr?(Cs(($t==null?void 0:$t.content_blocks)||[])[ss]||0)<Wr:!0},[$t==null?void 0:$t.content_blocks,Cs]),Ns=React$2.useCallback((ss,Wr,gs)=>{kt(ps=>{const js=ps.content_blocks.map((hs,Es)=>{if(Es!==ss)return hs;const ws=typeof gs=="function"?gs(hs[Wr]):gs;return{...hs,[Wr]:ws}});return{...ps,content_blocks:js}})},[]),Ms=ss=>{if(!ss)return;if(!Ds&&PRO_ONLY_BLOCKS.includes(ss)){y$4.error("This block is a Pro feature. Upgrade to Pro to unlock Audio, Calendly, and Reviews.");return}if(!Ts(ss)){y$4.error(`You can only add ${BLOCK_LIMITS[ss]} ${BLOCK_LABELS[ss]||ss} block`);return}let Wr={id:crypto.randomUUID(),type:ss,enabled:!0,padding:20,alignment:"left",bulleted:!1,collapsed:!0,motion:{disabled:!1,preset:null}};ss==="container"&&(Wr={id:crypto.randomUUID(),type:"container",title:"New Section",collapsed:!1,enabled:!0,children:[]}),["heading","subheading","subsubheading","paragraph","list_heading"].includes(ss)&&(Wr.text=""),ss==="video"&&(Wr.url="",Wr.caption="",Wr.autoplay=!1,Wr.loop=!1,Wr.muted=!1),(ss==="divider"||ss==="spacer")&&(Wr.height=40,Wr.style="line",Wr.color="rgba(255,255,255,0.2)",Wr.width="60%"),ss==="offer_banner"&&(Wr.text=" Limited Time Offer!",Wr.text_color="#000000",Wr.alignment="center",Wr.padding=20,Wr.use_gradient=!0,Wr.gradient_start="#F285C3",Wr.gradient_end="#7bed9f",Wr.gradient_direction="90deg",Wr.bg_color="#F285C3",Wr.offer_type="free",Wr.button_text="Claim Offer"),ss==="calendly"&&(Wr.calendly_url="",Wr.height=650),ss==="social_links"&&(Wr.alignment="center",Wr.icon_style="color",Wr.show_borders=!1,Wr.links={instagram:"",twitter:"",youtube:"",linkedin:"",facebook:"",tiktok:""}),ss==="countdown"&&(Wr.text="Offer Ends In:",Wr.text_color="#FFFFFF",Wr.target_date=new Date(Date.now()+7*24*60*60*1e3).toISOString(),Wr.alignment="center",Wr.style_variant="minimal"),ss==="stripe_checkout"&&(Wr.price=10,Wr.button_text="Buy & Download PDF",Wr.button_color="#7bed9f",Wr.alignment="center",Wr.collapsed=!1,Wr.product_source="internal",Wr.external_file_url="",Wr.external_file_name=""),ss==="referral_button"&&(Wr.text="Join The Messy Attic",Wr.button_color="#7bed9f",Wr.text_color="#000000",Wr.alignment="center",Wr.collapsed=!1),ss==="verified_reviews"&&(Wr.enabled=!0,Wr.collapsed=!1,Wr.reviews_text_color),ss==="faq"&&(Wr.title="Frequently Asked Questions",Wr.items=[{q:"What is included?",a:"Everything you need to get started."}],Wr.text_color="#FFFFFF",Wr.bg_color="rgba(0,0,0,0.3)",Wr.alignment="left"),ss==="image"&&(Wr.image_url="",Wr.caption="",Wr.padding=0,Wr.full_width=!1,Wr.alignment="center",Wr.radius=0,Wr.width=100,Wr.shadow=!1,Wr.shadow_color="rgba(0,0,0,0.5)",Wr.shadow_depth=25,Wr.shadow_offset=10,Wr.shadow_angle=135,Wr.match_main_bg=!1,Wr.use_no_bg=!1,Wr.use_gradient=!1,Wr.gradient_start="#F285C3",Wr.gradient_end="#7bed9f",Wr.gradient_direction="90deg",Wr.bg_color="#000000"),ss==="single_offer"&&(Wr.price=10,Wr.product_source="internal",Wr.external_file_url="",Wr.external_file_name="",Wr.image_url="",Wr.cover_url="",Wr.title="Offer One",Wr.text="Short description of this offer.",Wr.long_text="",Wr.use_long_description=!1,Wr.description_type="text",Wr.button_text="Buy Now",Wr.button_color="#22c55e",Wr.button_text_color="#000000",Wr.use_pdf_cover=!1,Wr.bg_color="rgba(0,0,0,0.4)",Wr.use_gradient=!1,Wr.text_color="#ffffff",Wr.card_width=360,Wr.card_height="auto"),ss==="mini_offer"&&(Wr.price=10,Wr.product_source="internal",Wr.product_name,Wr.page_count=null,Wr.external_file_url="",Wr.external_file_name="",Wr.image_url="",Wr.cover_url="",Wr.title="Offer One",Wr.text="Short description of this offer.",Wr.long_text="",Wr.use_long_description=!1,Wr.description_type="text",Wr.button_text="Buy Now",Wr.button_color="#22c55e",Wr.button_text_color="#000000",Wr.use_pdf_cover=!1,Wr.bg_color="rgba(0,0,0,0.4)",Wr.use_gradient=!1,Wr.text_color="#ffffff",Wr.secondary_text_color="#ffffff",Wr.utility_text_color="#ffffff",Wr.card_width=360,Wr.card_height="auto",Wr.offer_page={enabled:!1,blocks:[{id:"uuid",type:"paragraph",text:"",image_url:""}],bullets:[],trust_items:[]}),ss==="secure_checkout"&&(Wr.title="Secure Checkout",Wr.subtext="Your information is protected by industry leading encryption and secure payment processing.",Wr.trust_items=["Secure SSL Encryption","Protected Checkout Page","Safe Payment Processing"],Wr.guarantee="30 day money back guarantee on all purchases",Wr.payment_badge="",Wr.text_color="#FFFFFF",Wr.alignment="center",Wr.padding=0,Wr.bg_color="transparent",Wr.collapsed=!1),ss==="audio_player"&&(Wr.audio_url="",Wr.cover_url="",Wr.title="Untitled Track",Wr.progress_color="#22c55e",Wr.playlist=[],Wr.show_cover=!0,Wr.show_title=!0,Wr.alignment="center",Wr.match_main_bg=!1,Wr.use_gradient=!1,Wr.bg_color="#0F172A",Wr.gradient_start="#7bed9f",Wr.gradient_end="#22c55e",Wr.gradient_direction="90deg",Wr.text_color="#ffffff",Wr.sell_singles=!1,Wr.sell_album=!1,Wr.album_price="",Wr.single_price="",Wr.album_button_text="Buy Album",Wr.single_button_text="Buy Now",Wr.preview_enabled=!1,Wr.preview_duration=30,Wr.collapsed=!1),ss==="button_url"&&(Wr.text="Click Here",Wr.url="",Wr.open_new_tab=!0,Wr.alignment="center",Wr.width=220,Wr.height=48,Wr.padding_x=24,Wr.padding_y=12,Wr.radius=8,Wr.stroke_width=0,Wr.stroke_color="#000000",Wr.use_gradient=!1,Wr.bg_color="#22c55e",Wr.gradient_start="#22c55e",Wr.gradient_end="#3b82f6",Wr.gradient_direction="90deg",Wr.text_color="#000000",Wr.font_size=16,Wr.font_weight=600,Wr.shadow_offset_x=0,Wr.shadow_offset_y=8,Wr.shadow_blur=20,Wr.shadow_opacity=35,Wr.shadow_color="#000000"),ss==="profile_card"&&(Wr.alignment="center",Wr.image_url="",Wr.image_alt="",Wr.image_size=120,Wr.image_radius=999,Wr.image_border_width=1,Wr.image_border_color="#e5e7eb",Wr.tagline="Welcome",Wr.contact_type="email",Wr.contact_value="",Wr.tagline_color="#111827",Wr.subtext_color="#6b7280",Wr.show_image=!0,Wr.show_tagline=!0,Wr.show_contact=!0),ss==="scroll_arrow"&&(Wr.alignment="center",Wr.color="#FFFFFF",Wr.size=36,Wr.animated=!0,Wr.animation_type="bounce",Wr.animation_speed=1.2,Wr.arrow_style="single",Wr.stagger=.15),kt(gs=>({...gs,content_blocks:[...gs.content_blocks||[],Wr]})),Xr(!1)},Us=ss=>{const Wr=$t.content_blocks.filter((gs,ps)=>ps!==ss);kt({...$t,content_blocks:Wr})};async function Ws(){if(!($t!=null&&$t.id))return;const ss=await loadTemplateVersions($t.id);ss.success&&br(ss.templates)}const Ks=async ss=>{const Wr=ss.target.value;if(Or(Wr),!Wr)return;const gs=await fetchTemplateSnapshot(Wr);if(!gs.success){y$4.error("Could not load version");return}const ps=structuredClone(gs.snapshot);let js=[];try{js=Array.isArray(ps.content_blocks)?ps.content_blocks:JSON.parse(ps.content_blocks||"[]")}catch{js=[]}js=js.map(hs=>({collapsed:hs.collapsed??!0,...hs})),ps.content_blocks=js,kt({...ps,motion_settings:{...$t.motion_settings,...ps.motion_settings}}),y$4.success("Version loaded! (not yet applied)")},Qs=async()=>{try{const Wr=(await axiosInstance.get(`/landing/builder/${dt.id}`)).data.landingPage;let gs=[];try{gs=typeof Wr.content_blocks=="string"?JSON.parse(Wr.content_blocks):Wr.content_blocks||[]}catch{gs=[]}gs=gs.map(ps=>({collapsed:ps.collapsed??!0,...ps})),kt({...Wr,content_blocks:gs,motion_settings:{...$t.motion_settings,...Wr.motion_settings}})}catch(ss){console.error(ss),y$4.error("Failed to refresh landing")}},qs=async()=>{if(!_r){y$4.error("Select a version first.");return}const ss=await fetchTemplateSnapshot(_r);if(!ss.success){y$4.error("Could not fetch snapshot.");return}(await restoreTemplate($t.id,ss.snapshot)).success?(y$4.success("Template restored successfully!"),Mr(_r),Qs()):y$4.error("Failed to apply template")};async function zs(){y$4.dismiss(),y$4(({closeToast:ss})=>jsxRuntimeExports.jsxs("div",{className:"flex flex-col space-y-3 text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-100",children:"Delete this saved version?"}),jsxRuntimeExports.jsxs("div",{className:"flex justify-center gap-3 mt-2",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:async()=>{try{(await deleteTemplate(_r)).success?(y$4.success("Version deleted.",{position:"bottom-right",style:{background:"#0B0F19",color:"#E5E7EB",border:"1px solid #1F2937",borderRadius:"0.5rem"}}),Or(""),Ws()):y$4.error("Failed to delete version.",{position:"bottom-right",style:{background:"#0B0F19",color:"#E5E7EB",border:"1px solid #1F2937",borderRadius:"0.5rem"}})}catch(Wr){console.error("Delete error:",Wr),y$4.error("Error deleting version.",{position:"bottom-right",style:{background:"#0B0F19",color:"#E5E7EB",border:"1px solid #1F2937",borderRadius:"0.5rem"}})}finally{ss()}},className:"px-4 py-2 bg-red-600 text-white rounded-md text-xs font-semibold hover:bg-red-700 transition",children:"Delete"}),jsxRuntimeExports.jsx("button",{onClick:ss,className:"px-4 py-2 bg-gray-700 text-gray-200 rounded-md text-xs font-semibold hover:bg-gray-600 transition",children:"Cancel"})]})]}),{position:"bottom-right",autoClose:!1,closeOnClick:!1,draggable:!1,hideProgressBar:!0,closeButton:!1,style:{background:"#0B0F19",border:"1px solid #1F2937",color:"#E5E7EB",borderRadius:"0.75rem",padding:"14px 18px",width:"340px",textAlign:"center",marginTop:"80px"}})}if(reactExports.useEffect(()=>{Ws()},[$t==null?void 0:$t.id]),reactExports.useEffect(()=>(document.body.style.overflow="auto",document.body.style.position="",document.body.style.width="",()=>{document.body.style.overflow="auto",document.body.style.position="",document.body.style.width=""}),[]),reactExports.useEffect(()=>{if(!(dt!=null&&dt.id))return;(async()=>{var Wr,gs,ps,js,hs,Es,ws,Ss;try{const[Ls]=await Promise.all([axiosInstance.get(`/landing/builder/${dt.id}`)]),bs=Ls.data.landingPage;let as=[];try{as=typeof bs.content_blocks=="string"?JSON.parse(bs.content_blocks):bs.content_blocks||[]}catch{as=[]}as=as.map(Rs=>({...Rs,collapsed:Rs.collapsed??!0,motion:Rs.motion??{disabled:!1,preset:null}}));const vs={enabled:((Wr=bs.motion_settings)==null?void 0:Wr.enabled)??!1,preset:((gs=bs.motion_settings)==null?void 0:gs.preset)??"fade-up",duration:((ps=bs.motion_settings)==null?void 0:ps.duration)??.5,delay:((js=bs.motion_settings)==null?void 0:js.delay)??0,stagger:((hs=bs.motion_settings)==null?void 0:hs.stagger)??.12,easing:((Es=bs.motion_settings)==null?void 0:Es.easing)??"ease-out",viewport_once:((ws=bs.motion_settings)==null?void 0:ws.viewport_once)??!0,panel_open:((Ss=bs.motion_settings)==null?void 0:Ss.panel_open)??!1};kt({...bs,motion_settings:vs,content_blocks:as}),Ut(bs.font||"Montserrat"),Kt(bs.font_file||""),typeof bs.show_download_button=="boolean"&&nr(bs.show_download_button),bs.cover_image_url&&er(bs.cover_image_url),Jt(bs.bg_theme||"linear-gradient(to bottom, #ffffff, #F285C3)")}catch(Ls){console.error(Ls),y$4.error("Failed to load landing data")}finally{Dt(!1)}})()},[dt]),reactExports.useEffect(()=>{const ss=Wr=>{Wr.target.closest(".add-section-dropdown")||Xr(!1)};return document.addEventListener("click",ss),()=>document.removeEventListener("click",ss)},[]),Tt)return jsxRuntimeExports.jsxs("div",{className:`
      flex flex-col items-center justify-center min-h-screen 
      bg-dashboard-bg-light dark:bg-dashboard-bg-dark
      text-dashboard-text-light dark:text-dashboard-text-dark
    `,children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:`
          absolute inset-0 rounded-full
          bg-dashboard-muted-light/20 dark:bg-dashboard-muted-dark/20
          blur-2xl animate-ping
        `}),jsxRuntimeExports.jsx("div",{className:`
          w-16 h-16
          border-4
          border-dashboard-border-light dark:border-dashboard-border-dark
          border-t-green
          rounded-full
          animate-spin
        `})]}),jsxRuntimeExports.jsx("p",{className:`
        mt-6 text-lg font-semibold tracking-wide animate-pulse
        text-dashboard-text-light dark:text-dashboard-text-dark
      `,children:"Building your page..."}),jsxRuntimeExports.jsx("p",{className:`
        text-sm mt-2
        text-dashboard-muted-light dark:text-dashboard-muted-dark
      `,children:"The Messy Attic is fetching your latest content blocks."})]});if(!Tt&&(dt==null?void 0:dt.pro_status)!=="active")return jsxRuntimeExports.jsxs("div",{className:"text-center mt-20 text-gray-400",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold",children:"Upgrade Required"}),jsxRuntimeExports.jsxs("p",{className:"mt-2",children:["This feature is available only for PRO members.",jsxRuntimeExports.jsx("a",{href:"/plans",className:"text-[#F285C3] underline ml-1 hover:text-[#e070ad]",children:"Upgrade now"})]})]});if(!$t)return jsxRuntimeExports.jsxs("div",{className:"text-center mt-20 text-gray-400",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold",children:"No Landing Page Found"}),jsxRuntimeExports.jsx("p",{className:"mt-2",children:"We couldnt load your landing page data."})]});const Js=ss=>{if(!ss)return!0;const Wr=/^(https?:\/\/)?(www\.)?(youtube\.com\/(watch\?v=|embed\/|shorts\/)|youtu\.be\/)[\w-]{11}($|[?&])/,gs=/^(https?:\/\/)?(www\.)?(vimeo\.com\/(\d{6,12}|video\/\d{6,12}))($|[?&])/;return Wr.test(ss)||gs.test(ss)},_s=async ss=>{var gs;const Wr=(gs=ss==null?void 0:ss.nativeEvent)==null?void 0:gs.submitter;if(!Wr||Wr.name!=="save-landing"){ss.preventDefault();return}ss.preventDefault();try{let ps=$t.content_blocks;if(typeof ps=="string")try{ps=JSON.parse(ps)}catch{console.warn("Invalid content_blocks string, resetting to []"),ps=[]}const js=ps.filter(hs=>hs.type==="video"&&hs.url&&!Js(hs.url)).map((hs,Es)=>`Video Block ${Es+1}`);if(js.length>0){y$4.error(`Invalid video URLs in: ${js.join(", ")}. Please use YouTube or Vimeo links.`);return}ps=ps.map(hs=>hs.type==="video"?{...hs,url:normalizeVideoUrl(hs.url)}:hs),await axiosInstance.put(`https://themessyattic.com/api/landing/update/${$t.id}`,{...$t,font:Ft,font_file:Ht,content_blocks:ps,pdf_url:$t.pdf_url,cover_image_url:$t.cover_image_url,logo_url:$t.logo_url,show_download_button:ir,motion_settings:$t.motion_settings}),y$4.success("Landing page saved successfully!")}catch(ps){console.error(ps),y$4.error("Error saving landing page")}},Fs=()=>{if(_r){const ss=kr.find(Wr=>Wr.id===_r);ss&&wr(ss.name)}else wr(`Version ${kr.length+1}`);Tr(!0)},Ln=async()=>{const ss=xr.trim();if(!ss){y$4.error("Please enter a name");return}const Wr=Ds?30:10;if(!_r&&kr.length>=Wr){y$4.error(Ds?"Youve reached the maximum of 30 saved versions.":"Free accounts can save up to 10 versions. Upgrade to Pro to save more.");return}const gs=kr.find(js=>js.name===ss);let ps;gs?ps=await saveTemplate($t.id,ss,$t,gs.id):ps=await saveTemplate($t.id,ss,$t),ps.success?(y$4.success(gs?"Version updated!":"New version saved!",{position:"bottom-right"}),Ws(),Tr(!1),wr("")):y$4.error("Could not save version.",{position:"bottom-right"})},_a=Yt!=null&&Yt.includes("gradient")||Yt!=null&&Yt.startsWith("#")?Yt:((Vs=[...colorThemes,...gradientThemes].find(ss=>ss.name===Yt))==null?void 0:Vs.preview)||"linear-gradient(to bottom, #ffffff, #F285C3)";return jsxRuntimeExports.jsxs("div",{className:`
    min-h-screen
    p-1 sm:p-6 md:p-10
    overflow-y-scroll
    bg-dashboard-bg-light dark:bg-dashboard-bg-dark
    text-dashboard-text-light dark:text-dashboard-text-dark
  `,children:[jsxRuntimeExports.jsxs("div",{className:`
    max-w-4xl mx-auto
    rounded-2xl
    p-3 sm:p-8
    shadow-lg
    bg-dashboard-sidebar-light dark:bg-dashboard-sidebar-dark
    border border-dashboard-border-light dark:border-dashboard-border-dark
  `,children:[jsxRuntimeExports.jsxs("h1",{className:`
    text-2xl font-extrabold text-center mb-8
    flex items-center justify-center gap-3
    text-dashboard-text-light dark:text-dashboard-text-dark
  `,children:[jsxRuntimeExports.jsx(WandSparkles,{className:"w-6 h-6 text-dashboard-accent-light dark:text-dashboard-accent-dark"}),"Landing Page Builder"]}),jsxRuntimeExports.jsxs("form",{onSubmit:_s,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(PageUrlUsernameField,{landing:$t,setLanding:kt}),jsxRuntimeExports.jsx(VersionControls,{versions:kr,selectedVersion:_r,setSelectedVersion:Or,appliedVersion:Pr,handleLoadVersion:Ks,handleApplyVersion:qs,handleDeleteVersion:zs}),jsxRuntimeExports.jsx("h1",{className:`
              text-2xl font-extrabold text-center mb-8
              text-dashboard-text-light dark:text-dashboard-text-dark
              flex items-center justify-center gap-3
            `,children:"Page Builder"}),jsxRuntimeExports.jsx("div",{className:"flex justify-end mb-6",children:jsxRuntimeExports.jsx(AddSectionButton,{addBlock:Ms,canAddBlock:Ts})}),Ds?jsxRuntimeExports.jsx(AnimationSettingsPanel,{landing:$t,setLanding:kt}):jsxRuntimeExports.jsxs("div",{className:`
                relative mb-4 rounded-lg
                border border-dashboard-border-light dark:border-dashboard-border-dark
                bg-dashboard-bg-light dark:bg-dashboard-bg-dark
                min-h-[160px]
              `,children:[jsxRuntimeExports.jsx("div",{className:"pointer-events-none blur-sm opacity-60",children:jsxRuntimeExports.jsx(AnimationSettingsPanel,{landing:$t,setLanding:kt})}),jsxRuntimeExports.jsx("div",{className:`
                    absolute inset-0
                    flex items-center justify-center
                    rounded-lg
                    bg-dashboard-bg-light/80 dark:bg-dashboard-bg-dark/80
                    py-8
                  `,children:jsxRuntimeExports.jsxs("div",{className:"max-w-sm text-center px-6",children:[jsxRuntimeExports.jsx("div",{className:"text-lg font-semibold mb-2 text-dashboard-text-light dark:text-dashboard-text-dark",children:"Animation Settings"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 mb-4",children:"Animate blocks on scroll, control motion presets, delays, stagger effects, and easing."}),jsxRuntimeExports.jsx("button",{onClick:()=>et("/plans"),className:"px-5 py-2 rounded-md bg-purple-600 text-white hover:bg-purple-700 font-semibold text-sm",children:"Unlock with Pro"})]})})]}),jsxRuntimeExports.jsxs("div",{onClick:()=>Hr(!zr),className:`
              cursor-pointer
              px-4 py-3 mb-4
              rounded-lg
              flex justify-between items-center
              bg-dashboard-sidebar-light dark:bg-dashboard-sidebar-dark
              border border-dashboard-border-light dark:border-dashboard-border-dark
              text-dashboard-text-light dark:text-dashboard-text-dark
            `,children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:zr?"Open All Blocks":"Hide All Blocks"}),jsxRuntimeExports.jsx("span",{className:`transform transition-transform ${zr?"rotate-0":"rotate-180"}`,children:""})]}),!zr&&jsxRuntimeExports.jsx("div",{className:`
                space-y-4 mb-12 w-full
                rounded-xl p-5 shadow-inner
                bg-dashboard-bg-light dark:bg-dashboard-bg-dark
                border border-dashboard-border-light dark:border-dashboard-border-dark
              `,children:$t.content_blocks.filter(ss=>ss&&ss.type).map((ss,Wr)=>jsxRuntimeExports.jsx(React$2.Fragment,{children:jsxRuntimeExports.jsx(MemoizedSortableBlock,{id:ss.id,block:ss,index:Wr,updateBlock:Ns,removeBlock:Us,moveBlockUp:ms,moveBlockDown:ls,moveChildUp:ds,moveChildDown:fs,activeChild:or,setActiveChild:lr,setActiveRoot:dr,activeRoot:cr,removeFromContainer:cs,bgTheme:Yt,landing:$t,openAIModal:ns,offerContext:$t==null?void 0:$t.offer_context})},ss.id))})]}),Ds?jsxRuntimeExports.jsx(LogoUploader,{landing:$t,setLanding:kt,showLogoSection:mr,setShowLogoSection:vr}):jsxRuntimeExports.jsxs("div",{className:`
              mt-6 p-4 rounded-xl text-center
              bg-dashboard-bg-light dark:bg-dashboard-bg-dark
              border border-dashboard-border-light dark:border-dashboard-border-dark
            `,children:[jsxRuntimeExports.jsxs("p",{className:"text-sm font-medium text-dashboard-text-light dark:text-dashboard-text-dark",children:["Custom branding is a"," ",jsxRuntimeExports.jsx("span",{className:"text-green font-semibold",children:"Pro"})," feature"]}),jsxRuntimeExports.jsx("p",{className:"text-xs mt-1 text-dashboard-muted-light dark:text-dashboard-muted-dark",children:"Upgrade to Pro to upload and display your brand logo."}),jsxRuntimeExports.jsx("a",{href:"/plans",className:"inline-block mt-3 text-sm px-4 py-2 rounded-lg bg-purple-600 text-white hover:bg-purple-700 transition",children:"Upgrade to Pro"})]}),jsxRuntimeExports.jsx(ThemeAndFontControls,{landing:$t,setLanding:kt,bgTheme:Yt,setBgTheme:Jt,fontName:Ft,setFontName:Ut,fontFile:Ht,setFontFile:Kt,isPro:Ds}),jsxRuntimeExports.jsx(TextColorControls,{landing:$t,setLanding:kt}),jsxRuntimeExports.jsx(PreviewPanel,{showPreviewSection:rr,setShowPreviewSection:sr,landing:$t,selectedTheme:_a,fontName:Ft,bgTheme:Yt,user:dt,updateBlock:Ns,adjustForLandingOverlay,blendColors}),jsxRuntimeExports.jsx(BottomActionsBar,{landing:$t,user:dt,handleSaveTemplate:Fs})]})]}),jsxRuntimeExports.jsx(SaveVersionModal,{isOpen:Rr,name:xr,setName:wr,onCancel:()=>{Tr(!1),wr("")},onConfirm:Ln}),rs&&jsxRuntimeExports.jsx(AICopyModal,{aiContext:rs,onApply:ss=>{if(!(ss!=null&&ss.trim()))return;const{blockType:Wr,blockIndex:gs,containerIndex:ps,updateChildBlock:js}=rs;if(Wr==="faq"){const hs=ss.split(/\n\s*\n/).map(Es=>{const ws=Es.match(/Q:\s*(.+)/i),Ss=Es.match(/A:\s*(.+)/i);return!ws||!Ss?null:{q:ws[1].trim(),a:Ss[1].trim(),open:!1}}).filter(Boolean);ps!==void 0?js(gs,"items",hs):Ns(gs,"items",hs)}else Wr==="offer_long_description"?ps!==void 0?(js(gs,"long_text",ss),js(gs,"use_long_description",!0)):(Ns(gs,"long_text",ss),Ns(gs,"use_long_description",!0)):ps!==void 0&&typeof js=="function"?js(gs,"text",ss):Ns(gs,"text",ss);Yr(null)},onClose:()=>Yr(null)}),or&&jsxRuntimeExports.jsxs("div",{className:`
      fixed bottom-4 left-1/2 -translate-x-1/2 z-50
      flex gap-4 bg-green/90 px-4 py-3 rounded-full
      shadow-xl
    `,children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>ds(or.containerIndex,or.childId),className:"text-black text-xl px-3",children:""}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>fs(or.containerIndex,or.childId),className:"text-black text-xl px-3",children:""}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>{cs(or.containerIndex,or.childId),lr(null)},className:"text-black text-sm px-3",children:"Remove"})]}),es&&jsxRuntimeExports.jsxs("div",{className:`
      fixed bottom-4 left-1/2 -translate-x-1/2 z-50
      flex gap-3 bg-green/90 px-4 py-3 rounded-full
      shadow-xl
    `,children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>pr(!0),className:"text-black text-sm px-3",children:"Move into section"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>dr(null),className:"text-black text-sm px-3",children:"Cancel"})]}),ur&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 bg-black/70 flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"bg-[#0f1624] rounded-xl p-5 w-80",children:[jsxRuntimeExports.jsx("h3",{className:"text-white font-semibold mb-3",children:"Move into section"}),$t.content_blocks.filter(ss=>ss.type==="container").map((ss,Wr)=>jsxRuntimeExports.jsx("button",{onClick:()=>{pr(!1),xs(cr.blockIndex,Wr),dr(null)},className:"w-full text-left px-3 py-2 rounded hover:bg-white/10 text-white text-sm",children:ss.title||"Untitled Section"},ss.id)),jsxRuntimeExports.jsx("button",{onClick:()=>pr(!1),className:"mt-3 text-sm text-gray-400",children:"Cancel"})]})})]})}var updateQueue$5=makeQueue$5(),raf$5=dt=>schedule$5(dt,updateQueue$5),writeQueue$5=makeQueue$5();raf$5.write=dt=>schedule$5(dt,writeQueue$5);var onStartQueue$5=makeQueue$5();raf$5.onStart=dt=>schedule$5(dt,onStartQueue$5);var onFrameQueue$5=makeQueue$5();raf$5.onFrame=dt=>schedule$5(dt,onFrameQueue$5);var onFinishQueue$5=makeQueue$5();raf$5.onFinish=dt=>schedule$5(dt,onFinishQueue$5);var timeouts$5=[];raf$5.setTimeout=(dt,et)=>{const $t=raf$5.now()+et,kt=()=>{const Dt=timeouts$5.findIndex(Ft=>Ft.cancel==kt);~Dt&&timeouts$5.splice(Dt,1),pendingCount$5-=~Dt?1:0},Tt={time:$t,handler:dt,cancel:kt};return timeouts$5.splice(findTimeout$5($t),0,Tt),pendingCount$5+=1,start$5(),Tt};var findTimeout$5=dt=>~(~timeouts$5.findIndex(et=>et.time>dt)||~timeouts$5.length);raf$5.cancel=dt=>{onStartQueue$5.delete(dt),onFrameQueue$5.delete(dt),onFinishQueue$5.delete(dt),updateQueue$5.delete(dt),writeQueue$5.delete(dt)};raf$5.sync=dt=>{sync$5=!0,raf$5.batchedUpdates(dt),sync$5=!1};raf$5.throttle=dt=>{let et;function $t(){try{dt(...et)}finally{et=null}}function kt(...Tt){et=Tt,raf$5.onStart($t)}return kt.handler=dt,kt.cancel=()=>{onStartQueue$5.delete($t),et=null},kt};var nativeRaf$5=typeof window<"u"?window.requestAnimationFrame:()=>{};raf$5.use=dt=>nativeRaf$5=dt;raf$5.now=typeof performance<"u"?()=>performance.now():Date.now;raf$5.batchedUpdates=dt=>dt();raf$5.catch=console.error;raf$5.frameLoop="always";raf$5.advance=()=>{raf$5.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):update$5()};var ts$5=-1,pendingCount$5=0,sync$5=!1;function schedule$5(dt,et){sync$5?(et.delete(dt),dt(0)):(et.add(dt),start$5())}function start$5(){ts$5<0&&(ts$5=0,raf$5.frameLoop!=="demand"&&nativeRaf$5(loop$5))}function stop$5(){ts$5=-1}function loop$5(){~ts$5&&(nativeRaf$5(loop$5),raf$5.batchedUpdates(update$5))}function update$5(){const dt=ts$5;ts$5=raf$5.now();const et=findTimeout$5(ts$5);if(et&&(eachSafely$5(timeouts$5.splice(0,et),$t=>$t.handler()),pendingCount$5-=et),!pendingCount$5){stop$5();return}onStartQueue$5.flush(),updateQueue$5.flush(dt?Math.min(64,ts$5-dt):16.667),onFrameQueue$5.flush(),writeQueue$5.flush(),onFinishQueue$5.flush()}function makeQueue$5(){let dt=new Set,et=dt;return{add($t){pendingCount$5+=et==dt&&!dt.has($t)?1:0,dt.add($t)},delete($t){return pendingCount$5-=et==dt&&dt.has($t)?1:0,dt.delete($t)},flush($t){et.size&&(dt=new Set,pendingCount$5-=et.size,eachSafely$5(et,kt=>kt($t)&&dt.add(kt)),pendingCount$5+=dt.size,et=dt)}}}function eachSafely$5(dt,et){dt.forEach($t=>{try{et($t)}catch(kt){raf$5.catch(kt)}})}var __defProp$5=Object.defineProperty,__export$5=(dt,et)=>{for(var $t in et)__defProp$5(dt,$t,{get:et[$t],enumerable:!0})},globals_exports$5={};__export$5(globals_exports$5,{assign:()=>assign$5,colors:()=>colors$6,createStringInterpolator:()=>createStringInterpolator$5,skipAnimation:()=>skipAnimation$5,to:()=>to$7,willAdvance:()=>willAdvance$5});function noop$8(){}var defineHidden$5=(dt,et,$t)=>Object.defineProperty(dt,et,{value:$t,writable:!0,configurable:!0}),is$5={arr:Array.isArray,obj:dt=>!!dt&&dt.constructor.name==="Object",fun:dt=>typeof dt=="function",str:dt=>typeof dt=="string",num:dt=>typeof dt=="number",und:dt=>dt===void 0};function isEqual$6(dt,et){if(is$5.arr(dt)){if(!is$5.arr(et)||dt.length!==et.length)return!1;for(let $t=0;$t<dt.length;$t++)if(dt[$t]!==et[$t])return!1;return!0}return dt===et}var each$5=(dt,et)=>dt.forEach(et);function eachProp$5(dt,et,$t){if(is$5.arr(dt)){for(let kt=0;kt<dt.length;kt++)et.call($t,dt[kt],`${kt}`);return}for(const kt in dt)dt.hasOwnProperty(kt)&&et.call($t,dt[kt],kt)}var toArray$5=dt=>is$5.und(dt)?[]:is$5.arr(dt)?dt:[dt];function flush$4(dt,et){if(dt.size){const $t=Array.from(dt);dt.clear(),each$5($t,et)}}var flushCalls$4=(dt,...et)=>flush$4(dt,$t=>$t(...et)),isSSR$5=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),createStringInterpolator$5,to$7,colors$6=null,skipAnimation$5=!1,willAdvance$5=noop$8,assign$5=dt=>{dt.to&&(to$7=dt.to),dt.now&&(raf$5.now=dt.now),dt.colors!==void 0&&(colors$6=dt.colors),dt.skipAnimation!=null&&(skipAnimation$5=dt.skipAnimation),dt.createStringInterpolator&&(createStringInterpolator$5=dt.createStringInterpolator),dt.requestAnimationFrame&&raf$5.use(dt.requestAnimationFrame),dt.batchedUpdates&&(raf$5.batchedUpdates=dt.batchedUpdates),dt.willAdvance&&(willAdvance$5=dt.willAdvance),dt.frameLoop&&(raf$5.frameLoop=dt.frameLoop)},startQueue$5=new Set,currentFrame$5=[],prevFrame$5=[],priority$5=0,frameLoop$5={get idle(){return!startQueue$5.size&&!currentFrame$5.length},start(dt){priority$5>dt.priority?(startQueue$5.add(dt),raf$5.onStart(flushStartQueue$5)):(startSafely$5(dt),raf$5(advance$5))},advance:advance$5,sort(dt){if(priority$5)raf$5.onFrame(()=>frameLoop$5.sort(dt));else{const et=currentFrame$5.indexOf(dt);~et&&(currentFrame$5.splice(et,1),startUnsafely$5(dt))}},clear(){currentFrame$5=[],startQueue$5.clear()}};function flushStartQueue$5(){startQueue$5.forEach(startSafely$5),startQueue$5.clear(),raf$5(advance$5)}function startSafely$5(dt){currentFrame$5.includes(dt)||startUnsafely$5(dt)}function startUnsafely$5(dt){currentFrame$5.splice(findIndex$5(currentFrame$5,et=>et.priority>dt.priority),0,dt)}function advance$5(dt){const et=prevFrame$5;for(let $t=0;$t<currentFrame$5.length;$t++){const kt=currentFrame$5[$t];priority$5=kt.priority,kt.idle||(willAdvance$5(kt),kt.advance(dt),kt.idle||et.push(kt))}return priority$5=0,prevFrame$5=currentFrame$5,prevFrame$5.length=0,currentFrame$5=et,currentFrame$5.length>0}function findIndex$5(dt,et){const $t=dt.findIndex(et);return $t<0?dt.length:$t}var clamp$4=(dt,et,$t)=>Math.min(Math.max($t,dt),et),colors2$5={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},NUMBER$5="[-+]?\\d*\\.?\\d+",PERCENTAGE$5=NUMBER$5+"%";function call$5(...dt){return"\\(\\s*("+dt.join(")\\s*,\\s*(")+")\\s*\\)"}var rgb$7=new RegExp("rgb"+call$5(NUMBER$5,NUMBER$5,NUMBER$5)),rgba$6=new RegExp("rgba"+call$5(NUMBER$5,NUMBER$5,NUMBER$5,NUMBER$5)),hsl$6=new RegExp("hsl"+call$5(NUMBER$5,PERCENTAGE$5,PERCENTAGE$5)),hsla$6=new RegExp("hsla"+call$5(NUMBER$5,PERCENTAGE$5,PERCENTAGE$5,NUMBER$5)),hex3$5=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex4$5=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6$5=/^#([0-9a-fA-F]{6})$/,hex8$5=/^#([0-9a-fA-F]{8})$/;function normalizeColor$5(dt){let et;return typeof dt=="number"?dt>>>0===dt&&dt>=0&&dt<=4294967295?dt:null:(et=hex6$5.exec(dt))?parseInt(et[1]+"ff",16)>>>0:colors$6&&colors$6[dt]!==void 0?colors$6[dt]:(et=rgb$7.exec(dt))?(parse255$5(et[1])<<24|parse255$5(et[2])<<16|parse255$5(et[3])<<8|255)>>>0:(et=rgba$6.exec(dt))?(parse255$5(et[1])<<24|parse255$5(et[2])<<16|parse255$5(et[3])<<8|parse1$5(et[4]))>>>0:(et=hex3$5.exec(dt))?parseInt(et[1]+et[1]+et[2]+et[2]+et[3]+et[3]+"ff",16)>>>0:(et=hex8$5.exec(dt))?parseInt(et[1],16)>>>0:(et=hex4$5.exec(dt))?parseInt(et[1]+et[1]+et[2]+et[2]+et[3]+et[3]+et[4]+et[4],16)>>>0:(et=hsl$6.exec(dt))?(hslToRgb$5(parse360$5(et[1]),parsePercentage$5(et[2]),parsePercentage$5(et[3]))|255)>>>0:(et=hsla$6.exec(dt))?(hslToRgb$5(parse360$5(et[1]),parsePercentage$5(et[2]),parsePercentage$5(et[3]))|parse1$5(et[4]))>>>0:null}function hue2rgb$5(dt,et,$t){return $t<0&&($t+=1),$t>1&&($t-=1),$t<1/6?dt+(et-dt)*6*$t:$t<1/2?et:$t<2/3?dt+(et-dt)*(2/3-$t)*6:dt}function hslToRgb$5(dt,et,$t){const kt=$t<.5?$t*(1+et):$t+et-$t*et,Tt=2*$t-kt,Dt=hue2rgb$5(Tt,kt,dt+1/3),Ft=hue2rgb$5(Tt,kt,dt),Ut=hue2rgb$5(Tt,kt,dt-1/3);return Math.round(Dt*255)<<24|Math.round(Ft*255)<<16|Math.round(Ut*255)<<8}function parse255$5(dt){const et=parseInt(dt,10);return et<0?0:et>255?255:et}function parse360$5(dt){return(parseFloat(dt)%360+360)%360/360}function parse1$5(dt){const et=parseFloat(dt);return et<0?0:et>1?255:Math.round(et*255)}function parsePercentage$5(dt){const et=parseFloat(dt);return et<0?0:et>100?1:et/100}function colorToRgba$5(dt){let et=normalizeColor$5(dt);if(et===null)return dt;et=et||0;const $t=(et&4278190080)>>>24,kt=(et&16711680)>>>16,Tt=(et&65280)>>>8,Dt=(et&255)/255;return`rgba(${$t}, ${kt}, ${Tt}, ${Dt})`}var createInterpolator$5=(dt,et,$t)=>{if(is$5.fun(dt))return dt;if(is$5.arr(dt))return createInterpolator$5({range:dt,output:et,extrapolate:$t});if(is$5.str(dt.output[0]))return createStringInterpolator$5(dt);const kt=dt,Tt=kt.output,Dt=kt.range||[0,1],Ft=kt.extrapolateLeft||kt.extrapolate||"extend",Ut=kt.extrapolateRight||kt.extrapolate||"extend",Ht=kt.easing||(Kt=>Kt);return Kt=>{const Yt=findRange$5(Kt,Dt);return interpolate$6(Kt,Dt[Yt],Dt[Yt+1],Tt[Yt],Tt[Yt+1],Ht,Ft,Ut,kt.map)}};function interpolate$6(dt,et,$t,kt,Tt,Dt,Ft,Ut,Ht){let Kt=Ht?Ht(dt):dt;if(Kt<et){if(Ft==="identity")return Kt;Ft==="clamp"&&(Kt=et)}if(Kt>$t){if(Ut==="identity")return Kt;Ut==="clamp"&&(Kt=$t)}return kt===Tt?kt:et===$t?dt<=et?kt:Tt:(et===-1/0?Kt=-Kt:$t===1/0?Kt=Kt-et:Kt=(Kt-et)/($t-et),Kt=Dt(Kt),kt===-1/0?Kt=-Kt:Tt===1/0?Kt=Kt+kt:Kt=Kt*(Tt-kt)+kt,Kt)}function findRange$5(dt,et){for(var $t=1;$t<et.length-1&&!(et[$t]>=dt);++$t);return $t-1}var steps$4=(dt,et="end")=>$t=>{$t=et==="end"?Math.min($t,.999):Math.max($t,.001);const kt=$t*dt,Tt=et==="end"?Math.floor(kt):Math.ceil(kt);return clamp$4(0,1,Tt/dt)},c1$4=1.70158,c2$4=c1$4*1.525,c3$4=c1$4+1,c4$4=2*Math.PI/3,c5$4=2*Math.PI/4.5,bounceOut$4=dt=>dt<1/2.75?7.5625*dt*dt:dt<2/2.75?7.5625*(dt-=1.5/2.75)*dt+.75:dt<2.5/2.75?7.5625*(dt-=2.25/2.75)*dt+.9375:7.5625*(dt-=2.625/2.75)*dt+.984375,easings$4={linear:dt=>dt,easeInQuad:dt=>dt*dt,easeOutQuad:dt=>1-(1-dt)*(1-dt),easeInOutQuad:dt=>dt<.5?2*dt*dt:1-Math.pow(-2*dt+2,2)/2,easeInCubic:dt=>dt*dt*dt,easeOutCubic:dt=>1-Math.pow(1-dt,3),easeInOutCubic:dt=>dt<.5?4*dt*dt*dt:1-Math.pow(-2*dt+2,3)/2,easeInQuart:dt=>dt*dt*dt*dt,easeOutQuart:dt=>1-Math.pow(1-dt,4),easeInOutQuart:dt=>dt<.5?8*dt*dt*dt*dt:1-Math.pow(-2*dt+2,4)/2,easeInQuint:dt=>dt*dt*dt*dt*dt,easeOutQuint:dt=>1-Math.pow(1-dt,5),easeInOutQuint:dt=>dt<.5?16*dt*dt*dt*dt*dt:1-Math.pow(-2*dt+2,5)/2,easeInSine:dt=>1-Math.cos(dt*Math.PI/2),easeOutSine:dt=>Math.sin(dt*Math.PI/2),easeInOutSine:dt=>-(Math.cos(Math.PI*dt)-1)/2,easeInExpo:dt=>dt===0?0:Math.pow(2,10*dt-10),easeOutExpo:dt=>dt===1?1:1-Math.pow(2,-10*dt),easeInOutExpo:dt=>dt===0?0:dt===1?1:dt<.5?Math.pow(2,20*dt-10)/2:(2-Math.pow(2,-20*dt+10))/2,easeInCirc:dt=>1-Math.sqrt(1-Math.pow(dt,2)),easeOutCirc:dt=>Math.sqrt(1-Math.pow(dt-1,2)),easeInOutCirc:dt=>dt<.5?(1-Math.sqrt(1-Math.pow(2*dt,2)))/2:(Math.sqrt(1-Math.pow(-2*dt+2,2))+1)/2,easeInBack:dt=>c3$4*dt*dt*dt-c1$4*dt*dt,easeOutBack:dt=>1+c3$4*Math.pow(dt-1,3)+c1$4*Math.pow(dt-1,2),easeInOutBack:dt=>dt<.5?Math.pow(2*dt,2)*((c2$4+1)*2*dt-c2$4)/2:(Math.pow(2*dt-2,2)*((c2$4+1)*(dt*2-2)+c2$4)+2)/2,easeInElastic:dt=>dt===0?0:dt===1?1:-Math.pow(2,10*dt-10)*Math.sin((dt*10-10.75)*c4$4),easeOutElastic:dt=>dt===0?0:dt===1?1:Math.pow(2,-10*dt)*Math.sin((dt*10-.75)*c4$4)+1,easeInOutElastic:dt=>dt===0?0:dt===1?1:dt<.5?-(Math.pow(2,20*dt-10)*Math.sin((20*dt-11.125)*c5$4))/2:Math.pow(2,-20*dt+10)*Math.sin((20*dt-11.125)*c5$4)/2+1,easeInBounce:dt=>1-bounceOut$4(1-dt),easeOutBounce:bounceOut$4,easeInOutBounce:dt=>dt<.5?(1-bounceOut$4(1-2*dt))/2:(1+bounceOut$4(2*dt-1))/2,steps:steps$4},$get$5=Symbol.for("FluidValue.get"),$observers$5=Symbol.for("FluidValue.observers"),hasFluidValue$5=dt=>!!(dt&&dt[$get$5]),getFluidValue$5=dt=>dt&&dt[$get$5]?dt[$get$5]():dt,getFluidObservers$4=dt=>dt[$observers$5]||null;function callFluidObserver$5(dt,et){dt.eventObserved?dt.eventObserved(et):dt(et)}function callFluidObservers$5(dt,et){const $t=dt[$observers$5];$t&&$t.forEach(kt=>{callFluidObserver$5(kt,et)})}var FluidValue$5=class{constructor(et){if(!et&&!(et=this.get))throw Error("Unknown getter");setFluidGetter$5(this,et)}},setFluidGetter$5=(dt,et)=>setHidden$5(dt,$get$5,et);function addFluidObserver$5(dt,et){if(dt[$get$5]){let $t=dt[$observers$5];$t||setHidden$5(dt,$observers$5,$t=new Set),$t.has(et)||($t.add(et),dt.observerAdded&&dt.observerAdded($t.size,et))}return et}function removeFluidObserver$5(dt,et){const $t=dt[$observers$5];if($t&&$t.has(et)){const kt=$t.size-1;kt?$t.delete(et):dt[$observers$5]=null,dt.observerRemoved&&dt.observerRemoved(kt,et)}}var setHidden$5=(dt,et,$t)=>Object.defineProperty(dt,et,{value:$t,writable:!0,configurable:!0}),numberRegex$5=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,colorRegex$5=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,unitRegex$5=new RegExp(`(${numberRegex$5.source})(%|[a-z]+)`,"i"),rgbaRegex$5=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,cssVariableRegex$5=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,variableToRgba$5=dt=>{const[et,$t]=parseCSSVariable$5(dt);if(!et||isSSR$5())return dt;const kt=window.getComputedStyle(document.documentElement).getPropertyValue(et);if(kt)return kt.trim();if($t&&$t.startsWith("--")){const Tt=window.getComputedStyle(document.documentElement).getPropertyValue($t);return Tt||dt}else{if($t&&cssVariableRegex$5.test($t))return variableToRgba$5($t);if($t)return $t}return dt},parseCSSVariable$5=dt=>{const et=cssVariableRegex$5.exec(dt);if(!et)return[,];const[,$t,kt]=et;return[$t,kt]},namedColorRegex$5,rgbaRound$5=(dt,et,$t,kt,Tt)=>`rgba(${Math.round(et)}, ${Math.round($t)}, ${Math.round(kt)}, ${Tt})`,createStringInterpolator2$5=dt=>{namedColorRegex$5||(namedColorRegex$5=colors$6?new RegExp(`(${Object.keys(colors$6).join("|")})(?!\\w)`,"g"):/^\b$/);const et=dt.output.map(Dt=>getFluidValue$5(Dt).replace(cssVariableRegex$5,variableToRgba$5).replace(colorRegex$5,colorToRgba$5).replace(namedColorRegex$5,colorToRgba$5)),$t=et.map(Dt=>Dt.match(numberRegex$5).map(Number)),Tt=$t[0].map((Dt,Ft)=>$t.map(Ut=>{if(!(Ft in Ut))throw Error('The arity of each "output" value must be equal');return Ut[Ft]})).map(Dt=>createInterpolator$5({...dt,output:Dt}));return Dt=>{var Ht;const Ft=!unitRegex$5.test(et[0])&&((Ht=et.find(Kt=>unitRegex$5.test(Kt)))==null?void 0:Ht.replace(numberRegex$5,""));let Ut=0;return et[0].replace(numberRegex$5,()=>`${Tt[Ut++](Dt)}${Ft||""}`).replace(rgbaRegex$5,rgbaRound$5)}},prefix$5="react-spring: ",once$5=dt=>{const et=dt;let $t=!1;if(typeof et!="function")throw new TypeError(`${prefix$5}once requires a function parameter`);return(...kt)=>{$t||(et(...kt),$t=!0)}},warnInterpolate$5=once$5(console.warn);function deprecateInterpolate$5(){warnInterpolate$5(`${prefix$5}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var warnDirectCall$4=once$5(console.warn);function deprecateDirectCall$4(){warnDirectCall$4(`${prefix$5}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function isAnimatedString$5(dt){return is$5.str(dt)&&(dt[0]=="#"||/\d/.test(dt)||!isSSR$5()&&cssVariableRegex$5.test(dt)||dt in(colors$6||{}))}var useIsomorphicLayoutEffect$5=isSSR$5()?reactExports.useEffect:reactExports.useLayoutEffect,useIsMounted$5=()=>{const dt=reactExports.useRef(!1);return useIsomorphicLayoutEffect$5(()=>(dt.current=!0,()=>{dt.current=!1}),[]),dt};function useForceUpdate$5(){const dt=reactExports.useState()[1],et=useIsMounted$5();return()=>{et.current&&dt(Math.random())}}var useOnce$5=dt=>reactExports.useEffect(dt,emptyDeps$5),emptyDeps$5=[];function usePrev$4(dt){const et=reactExports.useRef(void 0);return reactExports.useEffect(()=>{et.current=dt}),et.current}var $node$5=Symbol.for("Animated:node"),isAnimated$5=dt=>!!dt&&dt[$node$5]===dt,getAnimated$5=dt=>dt&&dt[$node$5],setAnimated$5=(dt,et)=>defineHidden$5(dt,$node$5,et),getPayload$5=dt=>dt&&dt[$node$5]&&dt[$node$5].getPayload(),Animated$5=class{constructor(){setAnimated$5(this,this)}getPayload(){return this.payload||[]}},AnimatedValue$5=class z_ extends Animated$5{constructor(et){super(),this._value=et,this.done=!0,this.durationProgress=0,is$5.num(this._value)&&(this.lastPosition=this._value)}static create(et){return new z_(et)}getPayload(){return[this]}getValue(){return this._value}setValue(et,$t){return is$5.num(et)&&(this.lastPosition=et,$t&&(et=Math.round(et/$t)*$t,this.done&&(this.lastPosition=et))),this._value===et?!1:(this._value=et,!0)}reset(){const{done:et}=this;this.done=!1,is$5.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,et&&(this.lastVelocity=null),this.v0=null)}},AnimatedString$5=class U_ extends AnimatedValue$5{constructor(et){super(0),this._string=null,this._toString=createInterpolator$5({output:[et,et]})}static create(et){return new U_(et)}getValue(){const et=this._string;return et??(this._string=this._toString(this._value))}setValue(et){if(is$5.str(et)){if(et==this._string)return!1;this._string=et,this._value=1}else if(super.setValue(et))this._string=null;else return!1;return!0}reset(et){et&&(this._toString=createInterpolator$5({output:[this.getValue(),et]})),this._value=0,super.reset()}},TreeContext$5={dependencies:null},AnimatedObject$5=class extends Animated$5{constructor(et){super(),this.source=et,this.setValue(et)}getValue(et){const $t={};return eachProp$5(this.source,(kt,Tt)=>{isAnimated$5(kt)?$t[Tt]=kt.getValue(et):hasFluidValue$5(kt)?$t[Tt]=getFluidValue$5(kt):et||($t[Tt]=kt)}),$t}setValue(et){this.source=et,this.payload=this._makePayload(et)}reset(){this.payload&&each$5(this.payload,et=>et.reset())}_makePayload(et){if(et){const $t=new Set;return eachProp$5(et,this._addToPayload,$t),Array.from($t)}}_addToPayload(et){TreeContext$5.dependencies&&hasFluidValue$5(et)&&TreeContext$5.dependencies.add(et);const $t=getPayload$5(et);$t&&each$5($t,kt=>this.add(kt))}},AnimatedArray$5=class H_ extends AnimatedObject$5{constructor(et){super(et)}static create(et){return new H_(et)}getValue(){return this.source.map(et=>et.getValue())}setValue(et){const $t=this.getPayload();return et.length==$t.length?$t.map((kt,Tt)=>kt.setValue(et[Tt])).some(Boolean):(super.setValue(et.map(makeAnimated$5)),!0)}};function makeAnimated$5(dt){return(isAnimatedString$5(dt)?AnimatedString$5:AnimatedValue$5).create(dt)}function getAnimatedType$5(dt){const et=getAnimated$5(dt);return et?et.constructor:is$5.arr(dt)?AnimatedArray$5:isAnimatedString$5(dt)?AnimatedString$5:AnimatedValue$5}var withAnimated$5=(dt,et)=>{const $t=!is$5.fun(dt)||dt.prototype&&dt.prototype.isReactComponent;return reactExports.forwardRef((kt,Tt)=>{const Dt=reactExports.useRef(null),Ft=$t&&reactExports.useCallback(rr=>{Dt.current=updateRef$5(Tt,rr)},[Tt]),[Ut,Ht]=getAnimatedState$5(kt,et),Kt=useForceUpdate$5(),Yt=()=>{const rr=Dt.current;if($t&&!rr)return;(rr?et.applyAnimatedValues(rr,Ut.getValue(!0)):!1)===!1&&Kt()},Jt=new PropsObserver$5(Yt,Ht),Zt=reactExports.useRef(void 0);useIsomorphicLayoutEffect$5(()=>(Zt.current=Jt,each$5(Ht,rr=>addFluidObserver$5(rr,Jt)),()=>{Zt.current&&(each$5(Zt.current.deps,rr=>removeFluidObserver$5(rr,Zt.current)),raf$5.cancel(Zt.current.update))})),reactExports.useEffect(Yt,[]),useOnce$5(()=>()=>{const rr=Zt.current;each$5(rr.deps,sr=>removeFluidObserver$5(sr,rr))});const er=et.getComponentProps(Ut.getValue());return reactExports.createElement(dt,{...er,ref:Ft})})},PropsObserver$5=class{constructor(et,$t){this.update=et,this.deps=$t}eventObserved(et){et.type=="change"&&raf$5.write(this.update)}};function getAnimatedState$5(dt,et){const $t=new Set;return TreeContext$5.dependencies=$t,dt.style&&(dt={...dt,style:et.createAnimatedStyle(dt.style)}),dt=new AnimatedObject$5(dt),TreeContext$5.dependencies=null,[dt,$t]}function updateRef$5(dt,et){return dt&&(is$5.fun(dt)?dt(et):dt.current=et),et}var cacheKey$5=Symbol.for("AnimatedComponent"),createHost$5=(dt,{applyAnimatedValues:et=()=>!1,createAnimatedStyle:$t=Tt=>new AnimatedObject$5(Tt),getComponentProps:kt=Tt=>Tt}={})=>{const Tt={applyAnimatedValues:et,createAnimatedStyle:$t,getComponentProps:kt},Dt=Ft=>{const Ut=getDisplayName$5(Ft)||"Anonymous";return is$5.str(Ft)?Ft=Dt[Ft]||(Dt[Ft]=withAnimated$5(Ft,Tt)):Ft=Ft[cacheKey$5]||(Ft[cacheKey$5]=withAnimated$5(Ft,Tt)),Ft.displayName=`Animated(${Ut})`,Ft};return eachProp$5(dt,(Ft,Ut)=>{is$5.arr(dt)&&(Ut=getDisplayName$5(Ft)),Dt[Ut]=Dt(Ft)}),{animated:Dt}},getDisplayName$5=dt=>is$5.str(dt)?dt:dt&&is$5.str(dt.displayName)?dt.displayName:is$5.fun(dt)&&dt.name||null;function callProp$4(dt,...et){return is$5.fun(dt)?dt(...et):dt}var matchProp$4=(dt,et)=>dt===!0||!!(et&&dt&&(is$5.fun(dt)?dt(et):toArray$5(dt).includes(et))),resolveProp$4=(dt,et)=>is$5.obj(dt)?et&&dt[et]:dt,getDefaultProp$4=(dt,et)=>dt.default===!0?dt[et]:dt.default?dt.default[et]:void 0,noopTransform$4=dt=>dt,getDefaultProps$4=(dt,et=noopTransform$4)=>{let $t=DEFAULT_PROPS$4;dt.default&&dt.default!==!0&&(dt=dt.default,$t=Object.keys(dt));const kt={};for(const Tt of $t){const Dt=et(dt[Tt],Tt);is$5.und(Dt)||(kt[Tt]=Dt)}return kt},DEFAULT_PROPS$4=["config","onProps","onStart","onChange","onPause","onResume","onRest"],RESERVED_PROPS$4={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function getForwardProps$4(dt){const et={};let $t=0;if(eachProp$5(dt,(kt,Tt)=>{RESERVED_PROPS$4[Tt]||(et[Tt]=kt,$t++)}),$t)return et}function inferTo$4(dt){const et=getForwardProps$4(dt);if(et){const $t={to:et};return eachProp$5(dt,(kt,Tt)=>Tt in et||($t[Tt]=kt)),$t}return{...dt}}function computeGoal$4(dt){return dt=getFluidValue$5(dt),is$5.arr(dt)?dt.map(computeGoal$4):isAnimatedString$5(dt)?globals_exports$5.createStringInterpolator({range:[0,1],output:[dt,dt]})(1):dt}function hasProps$4(dt){for(const et in dt)return!0;return!1}function isAsyncTo$4(dt){return is$5.fun(dt)||is$5.arr(dt)&&is$5.obj(dt[0])}function detachRefs$4(dt,et){var $t;($t=dt.ref)==null||$t.delete(dt),et==null||et.delete(dt)}function replaceRef$4(dt,et){var $t;et&&dt.ref!==et&&(($t=dt.ref)==null||$t.delete(dt),et.add(dt),dt.ref=et)}var config$4={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},defaults$4={...config$4.default,mass:1,damping:1,easing:easings$4.linear,clamp:!1},AnimationConfig$4=class{constructor(){this.velocity=0,Object.assign(this,defaults$4)}};function mergeConfig$4(dt,et,$t){$t&&($t={...$t},sanitizeConfig$4($t,et),et={...$t,...et}),sanitizeConfig$4(dt,et),Object.assign(dt,et);for(const Ft in defaults$4)dt[Ft]==null&&(dt[Ft]=defaults$4[Ft]);let{frequency:kt,damping:Tt}=dt;const{mass:Dt}=dt;return is$5.und(kt)||(kt<.01&&(kt=.01),Tt<0&&(Tt=0),dt.tension=Math.pow(2*Math.PI/kt,2)*Dt,dt.friction=4*Math.PI*Tt*Dt/kt),dt}function sanitizeConfig$4(dt,et){if(!is$5.und(et.decay))dt.duration=void 0;else{const $t=!is$5.und(et.tension)||!is$5.und(et.friction);($t||!is$5.und(et.frequency)||!is$5.und(et.damping)||!is$5.und(et.mass))&&(dt.duration=void 0,dt.decay=void 0),$t&&(dt.frequency=void 0)}}var emptyArray$4=[],Animation$4=class{constructor(){this.changed=!1,this.values=emptyArray$4,this.toValues=null,this.fromValues=emptyArray$4,this.config=new AnimationConfig$4,this.immediate=!1}};function scheduleProps$4(dt,{key:et,props:$t,defaultProps:kt,state:Tt,actions:Dt}){return new Promise((Ft,Ut)=>{let Ht,Kt,Yt=matchProp$4($t.cancel??(kt==null?void 0:kt.cancel),et);if(Yt)er();else{is$5.und($t.pause)||(Tt.paused=matchProp$4($t.pause,et));let rr=kt==null?void 0:kt.pause;rr!==!0&&(rr=Tt.paused||matchProp$4(rr,et)),Ht=callProp$4($t.delay||0,et),rr?(Tt.resumeQueue.add(Zt),Dt.pause()):(Dt.resume(),Zt())}function Jt(){Tt.resumeQueue.add(Zt),Tt.timeouts.delete(Kt),Kt.cancel(),Ht=Kt.time-raf$5.now()}function Zt(){Ht>0&&!globals_exports$5.skipAnimation?(Tt.delayed=!0,Kt=raf$5.setTimeout(er,Ht),Tt.pauseQueue.add(Jt),Tt.timeouts.add(Kt)):er()}function er(){Tt.delayed&&(Tt.delayed=!1),Tt.pauseQueue.delete(Jt),Tt.timeouts.delete(Kt),dt<=(Tt.cancelId||0)&&(Yt=!0);try{Dt.start({...$t,callId:dt,cancel:Yt},Ft)}catch(rr){Ut(rr)}}})}var getCombinedResult$4=(dt,et)=>et.length==1?et[0]:et.some($t=>$t.cancelled)?getCancelledResult$4(dt.get()):et.every($t=>$t.noop)?getNoopResult$4(dt.get()):getFinishedResult$4(dt.get(),et.every($t=>$t.finished)),getNoopResult$4=dt=>({value:dt,noop:!0,finished:!0,cancelled:!1}),getFinishedResult$4=(dt,et,$t=!1)=>({value:dt,finished:et,cancelled:$t}),getCancelledResult$4=dt=>({value:dt,cancelled:!0,finished:!1});function runAsync$4(dt,et,$t,kt){const{callId:Tt,parentId:Dt,onRest:Ft}=et,{asyncTo:Ut,promise:Ht}=$t;return!Dt&&dt===Ut&&!et.reset?Ht:$t.promise=(async()=>{$t.asyncId=Tt,$t.asyncTo=dt;const Kt=getDefaultProps$4(et,(ir,nr)=>nr==="onRest"?void 0:ir);let Yt,Jt;const Zt=new Promise((ir,nr)=>(Yt=ir,Jt=nr)),er=ir=>{const nr=Tt<=($t.cancelId||0)&&getCancelledResult$4(kt)||Tt!==$t.asyncId&&getFinishedResult$4(kt,!1);if(nr)throw ir.result=nr,Jt(ir),ir},rr=(ir,nr)=>{const or=new BailSignal$4,lr=new SkipAnimationSignal$4;return(async()=>{if(globals_exports$5.skipAnimation)throw stopAsync$4($t),lr.result=getFinishedResult$4(kt,!1),Jt(lr),lr;er(or);const cr=is$5.obj(ir)?{...ir}:{...nr,to:ir};cr.parentId=Tt,eachProp$5(Kt,(ur,pr)=>{is$5.und(cr[pr])&&(cr[pr]=ur)});const dr=await kt.start(cr);return er(or),$t.paused&&await new Promise(ur=>{$t.resumeQueue.add(ur)}),dr})()};let sr;if(globals_exports$5.skipAnimation)return stopAsync$4($t),getFinishedResult$4(kt,!1);try{let ir;is$5.arr(dt)?ir=(async nr=>{for(const or of nr)await rr(or)})(dt):ir=Promise.resolve(dt(rr,kt.stop.bind(kt))),await Promise.all([ir.then(Yt),Zt]),sr=getFinishedResult$4(kt.get(),!0,!1)}catch(ir){if(ir instanceof BailSignal$4)sr=ir.result;else if(ir instanceof SkipAnimationSignal$4)sr=ir.result;else throw ir}finally{Tt==$t.asyncId&&($t.asyncId=Dt,$t.asyncTo=Dt?Ut:void 0,$t.promise=Dt?Ht:void 0)}return is$5.fun(Ft)&&raf$5.batchedUpdates(()=>{Ft(sr,kt,kt.item)}),sr})()}function stopAsync$4(dt,et){flush$4(dt.timeouts,$t=>$t.cancel()),dt.pauseQueue.clear(),dt.resumeQueue.clear(),dt.asyncId=dt.asyncTo=dt.promise=void 0,et&&(dt.cancelId=et)}var BailSignal$4=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},SkipAnimationSignal$4=class extends Error{constructor(){super("SkipAnimationSignal")}},isFrameValue$5=dt=>dt instanceof FrameValue$5,nextId$5=1,FrameValue$5=class extends FluidValue$5{constructor(){super(...arguments),this.id=nextId$5++,this._priority=0}get priority(){return this._priority}set priority(et){this._priority!=et&&(this._priority=et,this._onPriorityChange(et))}get(){const et=getAnimated$5(this);return et&&et.getValue()}to(...et){return globals_exports$5.to(this,et)}interpolate(...et){return deprecateInterpolate$5(),globals_exports$5.to(this,et)}toJSON(){return this.get()}observerAdded(et){et==1&&this._attach()}observerRemoved(et){et==0&&this._detach()}_attach(){}_detach(){}_onChange(et,$t=!1){callFluidObservers$5(this,{type:"change",parent:this,value:et,idle:$t})}_onPriorityChange(et){this.idle||frameLoop$5.sort(this),callFluidObservers$5(this,{type:"priority",parent:this,priority:et})}},$P$4=Symbol.for("SpringPhase"),HAS_ANIMATED$4=1,IS_ANIMATING$4=2,IS_PAUSED$4=4,hasAnimated$4=dt=>(dt[$P$4]&HAS_ANIMATED$4)>0,isAnimating$4=dt=>(dt[$P$4]&IS_ANIMATING$4)>0,isPaused$4=dt=>(dt[$P$4]&IS_PAUSED$4)>0,setActiveBit$4=(dt,et)=>et?dt[$P$4]|=IS_ANIMATING$4|HAS_ANIMATED$4:dt[$P$4]&=~IS_ANIMATING$4,setPausedBit$4=(dt,et)=>et?dt[$P$4]|=IS_PAUSED$4:dt[$P$4]&=~IS_PAUSED$4,SpringValue$4=class extends FrameValue$5{constructor(et,$t){if(super(),this.animation=new Animation$4,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!is$5.und(et)||!is$5.und($t)){const kt=is$5.obj(et)?{...et}:{...$t,from:et};is$5.und(kt.default)&&(kt.default=!0),this.start(kt)}}get idle(){return!(isAnimating$4(this)||this._state.asyncTo)||isPaused$4(this)}get goal(){return getFluidValue$5(this.animation.to)}get velocity(){const et=getAnimated$5(this);return et instanceof AnimatedValue$5?et.lastVelocity||0:et.getPayload().map($t=>$t.lastVelocity||0)}get hasAnimated(){return hasAnimated$4(this)}get isAnimating(){return isAnimating$4(this)}get isPaused(){return isPaused$4(this)}get isDelayed(){return this._state.delayed}advance(et){let $t=!0,kt=!1;const Tt=this.animation;let{toValues:Dt}=Tt;const{config:Ft}=Tt,Ut=getPayload$5(Tt.to);!Ut&&hasFluidValue$5(Tt.to)&&(Dt=toArray$5(getFluidValue$5(Tt.to))),Tt.values.forEach((Yt,Jt)=>{if(Yt.done)return;const Zt=Yt.constructor==AnimatedString$5?1:Ut?Ut[Jt].lastPosition:Dt[Jt];let er=Tt.immediate,rr=Zt;if(!er){if(rr=Yt.lastPosition,Ft.tension<=0){Yt.done=!0;return}let sr=Yt.elapsedTime+=et;const ir=Tt.fromValues[Jt],nr=Yt.v0!=null?Yt.v0:Yt.v0=is$5.arr(Ft.velocity)?Ft.velocity[Jt]:Ft.velocity;let or;const lr=Ft.precision||(ir==Zt?.005:Math.min(1,Math.abs(Zt-ir)*.001));if(is$5.und(Ft.duration))if(Ft.decay){const cr=Ft.decay===!0?.998:Ft.decay,dr=Math.exp(-(1-cr)*sr);rr=ir+nr/(1-cr)*(1-dr),er=Math.abs(Yt.lastPosition-rr)<=lr,or=nr*dr}else{or=Yt.lastVelocity==null?nr:Yt.lastVelocity;const cr=Ft.restVelocity||lr/10,dr=Ft.clamp?0:Ft.bounce,ur=!is$5.und(dr),pr=ir==Zt?Yt.v0>0:ir<Zt;let mr,vr=!1;const kr=1,br=Math.ceil(et/kr);for(let _r=0;_r<br&&(mr=Math.abs(or)>cr,!(!mr&&(er=Math.abs(Zt-rr)<=lr,er)));++_r){ur&&(vr=rr==Zt||rr>Zt==pr,vr&&(or=-or*dr,rr=Zt));const Or=-Ft.tension*1e-6*(rr-Zt),Pr=-Ft.friction*.001*or,Mr=(Or+Pr)/Ft.mass;or=or+Mr*kr,rr=rr+or*kr}}else{let cr=1;Ft.duration>0&&(this._memoizedDuration!==Ft.duration&&(this._memoizedDuration=Ft.duration,Yt.durationProgress>0&&(Yt.elapsedTime=Ft.duration*Yt.durationProgress,sr=Yt.elapsedTime+=et)),cr=(Ft.progress||0)+sr/this._memoizedDuration,cr=cr>1?1:cr<0?0:cr,Yt.durationProgress=cr),rr=ir+Ft.easing(cr)*(Zt-ir),or=(rr-Yt.lastPosition)/et,er=cr==1}Yt.lastVelocity=or,Number.isNaN(rr)&&(console.warn("Got NaN while animating:",this),er=!0)}Ut&&!Ut[Jt].done&&(er=!1),er?Yt.done=!0:$t=!1,Yt.setValue(rr,Ft.round)&&(kt=!0)});const Ht=getAnimated$5(this),Kt=Ht.getValue();if($t){const Yt=getFluidValue$5(Tt.to);(Kt!==Yt||kt)&&!Ft.decay?(Ht.setValue(Yt),this._onChange(Yt)):kt&&Ft.decay&&this._onChange(Kt),this._stop()}else kt&&this._onChange(Kt)}set(et){return raf$5.batchedUpdates(()=>{this._stop(),this._focus(et),this._set(et)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(isAnimating$4(this)){const{to:et,config:$t}=this.animation;raf$5.batchedUpdates(()=>{this._onStart(),$t.decay||this._set(et,!1),this._stop()})}return this}update(et){return(this.queue||(this.queue=[])).push(et),this}start(et,$t){let kt;return is$5.und(et)?(kt=this.queue||[],this.queue=[]):kt=[is$5.obj(et)?et:{...$t,to:et}],Promise.all(kt.map(Tt=>this._update(Tt))).then(Tt=>getCombinedResult$4(this,Tt))}stop(et){const{to:$t}=this.animation;return this._focus(this.get()),stopAsync$4(this._state,et&&this._lastCallId),raf$5.batchedUpdates(()=>this._stop($t,et)),this}reset(){this._update({reset:!0})}eventObserved(et){et.type=="change"?this._start():et.type=="priority"&&(this.priority=et.priority+1)}_prepareNode(et){const $t=this.key||"";let{to:kt,from:Tt}=et;kt=is$5.obj(kt)?kt[$t]:kt,(kt==null||isAsyncTo$4(kt))&&(kt=void 0),Tt=is$5.obj(Tt)?Tt[$t]:Tt,Tt==null&&(Tt=void 0);const Dt={to:kt,from:Tt};return hasAnimated$4(this)||(et.reverse&&([kt,Tt]=[Tt,kt]),Tt=getFluidValue$5(Tt),is$5.und(Tt)?getAnimated$5(this)||this._set(kt):this._set(Tt)),Dt}_update({...et},$t){const{key:kt,defaultProps:Tt}=this;et.default&&Object.assign(Tt,getDefaultProps$4(et,(Ut,Ht)=>/^on/.test(Ht)?resolveProp$4(Ut,kt):Ut)),mergeActiveFn$4(this,et,"onProps"),sendEvent$4(this,"onProps",et,this);const Dt=this._prepareNode(et);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const Ft=this._state;return scheduleProps$4(++this._lastCallId,{key:kt,props:et,defaultProps:Tt,state:Ft,actions:{pause:()=>{isPaused$4(this)||(setPausedBit$4(this,!0),flushCalls$4(Ft.pauseQueue),sendEvent$4(this,"onPause",getFinishedResult$4(this,checkFinished$4(this,this.animation.to)),this))},resume:()=>{isPaused$4(this)&&(setPausedBit$4(this,!1),isAnimating$4(this)&&this._resume(),flushCalls$4(Ft.resumeQueue),sendEvent$4(this,"onResume",getFinishedResult$4(this,checkFinished$4(this,this.animation.to)),this))},start:this._merge.bind(this,Dt)}}).then(Ut=>{if(et.loop&&Ut.finished&&!($t&&Ut.noop)){const Ht=createLoopUpdate$4(et);if(Ht)return this._update(Ht,!0)}return Ut})}_merge(et,$t,kt){if($t.cancel)return this.stop(!0),kt(getCancelledResult$4(this));const Tt=!is$5.und(et.to),Dt=!is$5.und(et.from);if(Tt||Dt)if($t.callId>this._lastToId)this._lastToId=$t.callId;else return kt(getCancelledResult$4(this));const{key:Ft,defaultProps:Ut,animation:Ht}=this,{to:Kt,from:Yt}=Ht;let{to:Jt=Kt,from:Zt=Yt}=et;Dt&&!Tt&&(!$t.default||is$5.und(Jt))&&(Jt=Zt),$t.reverse&&([Jt,Zt]=[Zt,Jt]);const er=!isEqual$6(Zt,Yt);er&&(Ht.from=Zt),Zt=getFluidValue$5(Zt);const rr=!isEqual$6(Jt,Kt);rr&&this._focus(Jt);const sr=isAsyncTo$4($t.to),{config:ir}=Ht,{decay:nr,velocity:or}=ir;(Tt||Dt)&&(ir.velocity=0),$t.config&&!sr&&mergeConfig$4(ir,callProp$4($t.config,Ft),$t.config!==Ut.config?callProp$4(Ut.config,Ft):void 0);let lr=getAnimated$5(this);if(!lr||is$5.und(Jt))return kt(getFinishedResult$4(this,!0));const cr=is$5.und($t.reset)?Dt&&!$t.default:!is$5.und(Zt)&&matchProp$4($t.reset,Ft),dr=cr?Zt:this.get(),ur=computeGoal$4(Jt),pr=is$5.num(ur)||is$5.arr(ur)||isAnimatedString$5(ur),mr=!sr&&(!pr||matchProp$4(Ut.immediate||$t.immediate,Ft));if(rr){const _r=getAnimatedType$5(Jt);if(_r!==lr.constructor)if(mr)lr=this._set(ur);else throw Error(`Cannot animate between ${lr.constructor.name} and ${_r.name}, as the "to" prop suggests`)}const vr=lr.constructor;let kr=hasFluidValue$5(Jt),br=!1;if(!kr){const _r=cr||!hasAnimated$4(this)&&er;(rr||_r)&&(br=isEqual$6(computeGoal$4(dr),ur),kr=!br),(!isEqual$6(Ht.immediate,mr)&&!mr||!isEqual$6(ir.decay,nr)||!isEqual$6(ir.velocity,or))&&(kr=!0)}if(br&&isAnimating$4(this)&&(Ht.changed&&!cr?kr=!0:kr||this._stop(Kt)),!sr&&((kr||hasFluidValue$5(Kt))&&(Ht.values=lr.getPayload(),Ht.toValues=hasFluidValue$5(Jt)?null:vr==AnimatedString$5?[1]:toArray$5(ur)),Ht.immediate!=mr&&(Ht.immediate=mr,!mr&&!cr&&this._set(Kt)),kr)){const{onRest:_r}=Ht;each$5(ACTIVE_EVENTS$4,Pr=>mergeActiveFn$4(this,$t,Pr));const Or=getFinishedResult$4(this,checkFinished$4(this,Kt));flushCalls$4(this._pendingCalls,Or),this._pendingCalls.add(kt),Ht.changed&&raf$5.batchedUpdates(()=>{var Pr;Ht.changed=!cr,_r==null||_r(Or,this),cr?callProp$4(Ut.onRest,Or):(Pr=Ht.onStart)==null||Pr.call(Ht,Or,this)})}cr&&this._set(dr),sr?kt(runAsync$4($t.to,$t,this._state,this)):kr?this._start():isAnimating$4(this)&&!rr?this._pendingCalls.add(kt):kt(getNoopResult$4(dr))}_focus(et){const $t=this.animation;et!==$t.to&&(getFluidObservers$4(this)&&this._detach(),$t.to=et,getFluidObservers$4(this)&&this._attach())}_attach(){let et=0;const{to:$t}=this.animation;hasFluidValue$5($t)&&(addFluidObserver$5($t,this),isFrameValue$5($t)&&(et=$t.priority+1)),this.priority=et}_detach(){const{to:et}=this.animation;hasFluidValue$5(et)&&removeFluidObserver$5(et,this)}_set(et,$t=!0){const kt=getFluidValue$5(et);if(!is$5.und(kt)){const Tt=getAnimated$5(this);if(!Tt||!isEqual$6(kt,Tt.getValue())){const Dt=getAnimatedType$5(kt);!Tt||Tt.constructor!=Dt?setAnimated$5(this,Dt.create(kt)):Tt.setValue(kt),Tt&&raf$5.batchedUpdates(()=>{this._onChange(kt,$t)})}}return getAnimated$5(this)}_onStart(){const et=this.animation;et.changed||(et.changed=!0,sendEvent$4(this,"onStart",getFinishedResult$4(this,checkFinished$4(this,et.to)),this))}_onChange(et,$t){$t||(this._onStart(),callProp$4(this.animation.onChange,et,this)),callProp$4(this.defaultProps.onChange,et,this),super._onChange(et,$t)}_start(){const et=this.animation;getAnimated$5(this).reset(getFluidValue$5(et.to)),et.immediate||(et.fromValues=et.values.map($t=>$t.lastPosition)),isAnimating$4(this)||(setActiveBit$4(this,!0),isPaused$4(this)||this._resume())}_resume(){globals_exports$5.skipAnimation?this.finish():frameLoop$5.start(this)}_stop(et,$t){if(isAnimating$4(this)){setActiveBit$4(this,!1);const kt=this.animation;each$5(kt.values,Dt=>{Dt.done=!0}),kt.toValues&&(kt.onChange=kt.onPause=kt.onResume=void 0),callFluidObservers$5(this,{type:"idle",parent:this});const Tt=$t?getCancelledResult$4(this.get()):getFinishedResult$4(this.get(),checkFinished$4(this,et??kt.to));flushCalls$4(this._pendingCalls,Tt),kt.changed&&(kt.changed=!1,sendEvent$4(this,"onRest",Tt,this))}}};function checkFinished$4(dt,et){const $t=computeGoal$4(et),kt=computeGoal$4(dt.get());return isEqual$6(kt,$t)}function createLoopUpdate$4(dt,et=dt.loop,$t=dt.to){const kt=callProp$4(et);if(kt){const Tt=kt!==!0&&inferTo$4(kt),Dt=(Tt||dt).reverse,Ft=!Tt||Tt.reset;return createUpdate$4({...dt,loop:et,default:!1,pause:void 0,to:!Dt||isAsyncTo$4($t)?$t:void 0,from:Ft?dt.from:void 0,reset:Ft,...Tt})}}function createUpdate$4(dt){const{to:et,from:$t}=dt=inferTo$4(dt),kt=new Set;return is$5.obj(et)&&findDefined$4(et,kt),is$5.obj($t)&&findDefined$4($t,kt),dt.keys=kt.size?Array.from(kt):null,dt}function declareUpdate$3(dt){const et=createUpdate$4(dt);return is$5.und(et.default)&&(et.default=getDefaultProps$4(et)),et}function findDefined$4(dt,et){eachProp$5(dt,($t,kt)=>$t!=null&&et.add(kt))}var ACTIVE_EVENTS$4=["onStart","onRest","onChange","onPause","onResume"];function mergeActiveFn$4(dt,et,$t){dt.animation[$t]=et[$t]!==getDefaultProp$4(et,$t)?resolveProp$4(et[$t],dt.key):void 0}function sendEvent$4(dt,et,...$t){var kt,Tt,Dt,Ft;(Tt=(kt=dt.animation)[et])==null||Tt.call(kt,...$t),(Ft=(Dt=dt.defaultProps)[et])==null||Ft.call(Dt,...$t)}var BATCHED_EVENTS$4=["onStart","onChange","onRest"],nextId2$4=1,Controller$4=class{constructor(et,$t){this.id=nextId2$4++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),$t&&(this._flush=$t),et&&this.start({default:!0,...et})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(et=>et.idle&&!et.isDelayed&&!et.isPaused)}get item(){return this._item}set item(et){this._item=et}get(){const et={};return this.each(($t,kt)=>et[kt]=$t.get()),et}set(et){for(const $t in et){const kt=et[$t];is$5.und(kt)||this.springs[$t].set(kt)}}update(et){return et&&this.queue.push(createUpdate$4(et)),this}start(et){let{queue:$t}=this;return et?$t=toArray$5(et).map(createUpdate$4):this.queue=[],this._flush?this._flush(this,$t):(prepareKeys$4(this,$t),flushUpdateQueue$4(this,$t))}stop(et,$t){if(et!==!!et&&($t=et),$t){const kt=this.springs;each$5(toArray$5($t),Tt=>kt[Tt].stop(!!et))}else stopAsync$4(this._state,this._lastAsyncId),this.each(kt=>kt.stop(!!et));return this}pause(et){if(is$5.und(et))this.start({pause:!0});else{const $t=this.springs;each$5(toArray$5(et),kt=>$t[kt].pause())}return this}resume(et){if(is$5.und(et))this.start({pause:!1});else{const $t=this.springs;each$5(toArray$5(et),kt=>$t[kt].resume())}return this}each(et){eachProp$5(this.springs,et)}_onFrame(){const{onStart:et,onChange:$t,onRest:kt}=this._events,Tt=this._active.size>0,Dt=this._changed.size>0;(Tt&&!this._started||Dt&&!this._started)&&(this._started=!0,flush$4(et,([Ht,Kt])=>{Kt.value=this.get(),Ht(Kt,this,this._item)}));const Ft=!Tt&&this._started,Ut=Dt||Ft&&kt.size?this.get():null;Dt&&$t.size&&flush$4($t,([Ht,Kt])=>{Kt.value=Ut,Ht(Kt,this,this._item)}),Ft&&(this._started=!1,flush$4(kt,([Ht,Kt])=>{Kt.value=Ut,Ht(Kt,this,this._item)}))}eventObserved(et){if(et.type=="change")this._changed.add(et.parent),et.idle||this._active.add(et.parent);else if(et.type=="idle")this._active.delete(et.parent);else return;raf$5.onFrame(this._onFrame)}};function flushUpdateQueue$4(dt,et){return Promise.all(et.map($t=>flushUpdate$4(dt,$t))).then($t=>getCombinedResult$4(dt,$t))}async function flushUpdate$4(dt,et,$t){const{keys:kt,to:Tt,from:Dt,loop:Ft,onRest:Ut,onResolve:Ht}=et,Kt=is$5.obj(et.default)&&et.default;Ft&&(et.loop=!1),Tt===!1&&(et.to=null),Dt===!1&&(et.from=null);const Yt=is$5.arr(Tt)||is$5.fun(Tt)?Tt:void 0;Yt?(et.to=void 0,et.onRest=void 0,Kt&&(Kt.onRest=void 0)):each$5(BATCHED_EVENTS$4,sr=>{const ir=et[sr];if(is$5.fun(ir)){const nr=dt._events[sr];et[sr]=({finished:or,cancelled:lr})=>{const cr=nr.get(ir);cr?(or||(cr.finished=!1),lr&&(cr.cancelled=!0)):nr.set(ir,{value:null,finished:or||!1,cancelled:lr||!1})},Kt&&(Kt[sr]=et[sr])}});const Jt=dt._state;et.pause===!Jt.paused?(Jt.paused=et.pause,flushCalls$4(et.pause?Jt.pauseQueue:Jt.resumeQueue)):Jt.paused&&(et.pause=!0);const Zt=(kt||Object.keys(dt.springs)).map(sr=>dt.springs[sr].start(et)),er=et.cancel===!0||getDefaultProp$4(et,"cancel")===!0;(Yt||er&&Jt.asyncId)&&Zt.push(scheduleProps$4(++dt._lastAsyncId,{props:et,state:Jt,actions:{pause:noop$8,resume:noop$8,start(sr,ir){er?(stopAsync$4(Jt,dt._lastAsyncId),ir(getCancelledResult$4(dt))):(sr.onRest=Ut,ir(runAsync$4(Yt,sr,Jt,dt)))}}})),Jt.paused&&await new Promise(sr=>{Jt.resumeQueue.add(sr)});const rr=getCombinedResult$4(dt,await Promise.all(Zt));if(Ft&&rr.finished&&!($t&&rr.noop)){const sr=createLoopUpdate$4(et,Ft,Tt);if(sr)return prepareKeys$4(dt,[sr]),flushUpdate$4(dt,sr,!0)}return Ht&&raf$5.batchedUpdates(()=>Ht(rr,dt,dt.item)),rr}function getSprings$4(dt,et){const $t={...dt.springs};return et&&each$5(toArray$5(et),kt=>{is$5.und(kt.keys)&&(kt=createUpdate$4(kt)),is$5.obj(kt.to)||(kt={...kt,to:void 0}),prepareSprings$4($t,kt,Tt=>createSpring$4(Tt))}),setSprings$4(dt,$t),$t}function setSprings$4(dt,et){eachProp$5(et,($t,kt)=>{dt.springs[kt]||(dt.springs[kt]=$t,addFluidObserver$5($t,dt))})}function createSpring$4(dt,et){const $t=new SpringValue$4;return $t.key=dt,et&&addFluidObserver$5($t,et),$t}function prepareSprings$4(dt,et,$t){et.keys&&each$5(et.keys,kt=>{(dt[kt]||(dt[kt]=$t(kt)))._prepareNode(et)})}function prepareKeys$4(dt,et){each$5(et,$t=>{prepareSprings$4(dt.springs,$t,kt=>createSpring$4(kt,dt))})}var SpringContext$4=reactExports.createContext({pause:!1,immediate:!1}),SpringRef$4=()=>{const dt=[],et=function(kt){deprecateDirectCall$4();const Tt=[];return each$5(dt,(Dt,Ft)=>{if(is$5.und(kt))Tt.push(Dt.start());else{const Ut=$t(kt,Dt,Ft);Ut&&Tt.push(Dt.start(Ut))}}),Tt};et.current=dt,et.add=function(kt){dt.includes(kt)||dt.push(kt)},et.delete=function(kt){const Tt=dt.indexOf(kt);~Tt&&dt.splice(Tt,1)},et.pause=function(){return each$5(dt,kt=>kt.pause(...arguments)),this},et.resume=function(){return each$5(dt,kt=>kt.resume(...arguments)),this},et.set=function(kt){each$5(dt,(Tt,Dt)=>{const Ft=is$5.fun(kt)?kt(Dt,Tt):kt;Ft&&Tt.set(Ft)})},et.start=function(kt){const Tt=[];return each$5(dt,(Dt,Ft)=>{if(is$5.und(kt))Tt.push(Dt.start());else{const Ut=this._getProps(kt,Dt,Ft);Ut&&Tt.push(Dt.start(Ut))}}),Tt},et.stop=function(){return each$5(dt,kt=>kt.stop(...arguments)),this},et.update=function(kt){return each$5(dt,(Tt,Dt)=>Tt.update(this._getProps(kt,Tt,Dt))),this};const $t=function(kt,Tt,Dt){return is$5.fun(kt)?kt(Dt,Tt):kt};return et._getProps=$t,et};function useSprings$3(dt,et,$t){const kt=is$5.fun(et)&&et;kt&&!$t&&($t=[]);const Tt=reactExports.useMemo(()=>kt||arguments.length==3?SpringRef$4():void 0,[]),Dt=reactExports.useRef(0),Ft=useForceUpdate$5(),Ut=reactExports.useMemo(()=>({ctrls:[],queue:[],flush(nr,or){const lr=getSprings$4(nr,or);return Dt.current>0&&!Ut.queue.length&&!Object.keys(lr).some(dr=>!nr.springs[dr])?flushUpdateQueue$4(nr,or):new Promise(dr=>{setSprings$4(nr,lr),Ut.queue.push(()=>{dr(flushUpdateQueue$4(nr,or))}),Ft()})}}),[]),Ht=reactExports.useRef([...Ut.ctrls]),Kt=reactExports.useRef([]),Yt=usePrev$4(dt)||0;reactExports.useMemo(()=>{each$5(Ht.current.slice(dt,Yt),nr=>{detachRefs$4(nr,Tt),nr.stop(!0)}),Ht.current.length=dt,Jt(Yt,dt)},[dt]),reactExports.useMemo(()=>{Jt(0,Math.min(Yt,dt))},$t);function Jt(nr,or){for(let lr=nr;lr<or;lr++){const cr=Ht.current[lr]||(Ht.current[lr]=new Controller$4(null,Ut.flush)),dr=kt?kt(lr,cr):et[lr];dr&&(Kt.current[lr]=declareUpdate$3(dr))}}const Zt=Ht.current.map((nr,or)=>getSprings$4(nr,Kt.current[or])),er=reactExports.useContext(SpringContext$4),rr=usePrev$4(er),sr=er!==rr&&hasProps$4(er);useIsomorphicLayoutEffect$5(()=>{Dt.current++,Ut.ctrls=Ht.current;const{queue:nr}=Ut;nr.length&&(Ut.queue=[],each$5(nr,or=>or())),each$5(Ht.current,(or,lr)=>{Tt==null||Tt.add(or),sr&&or.start({default:er});const cr=Kt.current[lr];cr&&(replaceRef$4(or,cr.ref),or.ref?or.queue.push(cr):or.start(cr))})}),useOnce$5(()=>()=>{each$5(Ut.ctrls,nr=>nr.stop(!0))});const ir=Zt.map(nr=>({...nr}));return Tt?[ir,Tt]:ir}function useSpring$3(dt,et){const $t=is$5.fun(dt),[[kt],Tt]=useSprings$3(1,$t?dt:[dt],$t?et||[]:et);return $t||arguments.length==2?[kt,Tt]:kt}var Interpolation$5=class extends FrameValue$5{constructor(et,$t){super(),this.source=et,this.idle=!0,this._active=new Set,this.calc=createInterpolator$5(...$t);const kt=this._get(),Tt=getAnimatedType$5(kt);setAnimated$5(this,Tt.create(kt))}advance(et){const $t=this._get(),kt=this.get();isEqual$6($t,kt)||(getAnimated$5(this).setValue($t),this._onChange($t,this.idle)),!this.idle&&checkIdle$5(this._active)&&becomeIdle$5(this)}_get(){const et=is$5.arr(this.source)?this.source.map(getFluidValue$5):toArray$5(getFluidValue$5(this.source));return this.calc(...et)}_start(){this.idle&&!checkIdle$5(this._active)&&(this.idle=!1,each$5(getPayload$5(this),et=>{et.done=!1}),globals_exports$5.skipAnimation?(raf$5.batchedUpdates(()=>this.advance()),becomeIdle$5(this)):frameLoop$5.start(this))}_attach(){let et=1;each$5(toArray$5(this.source),$t=>{hasFluidValue$5($t)&&addFluidObserver$5($t,this),isFrameValue$5($t)&&($t.idle||this._active.add($t),et=Math.max(et,$t.priority+1))}),this.priority=et,this._start()}_detach(){each$5(toArray$5(this.source),et=>{hasFluidValue$5(et)&&removeFluidObserver$5(et,this)}),this._active.clear(),becomeIdle$5(this)}eventObserved(et){et.type=="change"?et.idle?this.advance():(this._active.add(et.parent),this._start()):et.type=="idle"?this._active.delete(et.parent):et.type=="priority"&&(this.priority=toArray$5(this.source).reduce(($t,kt)=>Math.max($t,(isFrameValue$5(kt)?kt.priority:0)+1),0))}};function isIdle$5(dt){return dt.idle!==!1}function checkIdle$5(dt){return!dt.size||Array.from(dt).every(isIdle$5)}function becomeIdle$5(dt){dt.idle||(dt.idle=!0,each$5(getPayload$5(dt),et=>{et.done=!0}),callFluidObservers$5(dt,{type:"idle",parent:dt}))}globals_exports$5.assign({createStringInterpolator:createStringInterpolator2$5,to:(dt,et)=>new Interpolation$5(dt,et)});var isCustomPropRE$5=/^--/;function dangerousStyleValue$5(dt,et){return et==null||typeof et=="boolean"||et===""?"":typeof et=="number"&&et!==0&&!isCustomPropRE$5.test(dt)&&!(isUnitlessNumber$5.hasOwnProperty(dt)&&isUnitlessNumber$5[dt])?et+"px":(""+et).trim()}var attributeCache$5={};function applyAnimatedValues$5(dt,et){if(!dt.nodeType||!dt.setAttribute)return!1;const $t=dt.nodeName==="filter"||dt.parentNode&&dt.parentNode.nodeName==="filter",{className:kt,style:Tt,children:Dt,scrollTop:Ft,scrollLeft:Ut,viewBox:Ht,...Kt}=et,Yt=Object.values(Kt),Jt=Object.keys(Kt).map(Zt=>$t||dt.hasAttribute(Zt)?Zt:attributeCache$5[Zt]||(attributeCache$5[Zt]=Zt.replace(/([A-Z])/g,er=>"-"+er.toLowerCase())));Dt!==void 0&&(dt.textContent=Dt);for(const Zt in Tt)if(Tt.hasOwnProperty(Zt)){const er=dangerousStyleValue$5(Zt,Tt[Zt]);isCustomPropRE$5.test(Zt)?dt.style.setProperty(Zt,er):dt.style[Zt]=er}Jt.forEach((Zt,er)=>{dt.setAttribute(Zt,Yt[er])}),kt!==void 0&&(dt.className=kt),Ft!==void 0&&(dt.scrollTop=Ft),Ut!==void 0&&(dt.scrollLeft=Ut),Ht!==void 0&&dt.setAttribute("viewBox",Ht)}var isUnitlessNumber$5={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},prefixKey$5=(dt,et)=>dt+et.charAt(0).toUpperCase()+et.substring(1),prefixes$6=["Webkit","Ms","Moz","O"];isUnitlessNumber$5=Object.keys(isUnitlessNumber$5).reduce((dt,et)=>(prefixes$6.forEach($t=>dt[prefixKey$5($t,et)]=dt[et]),dt),isUnitlessNumber$5);var domTransforms$5=/^(matrix|translate|scale|rotate|skew)/,pxTransforms$5=/^(translate)/,degTransforms$5=/^(rotate|skew)/,addUnit$5=(dt,et)=>is$5.num(dt)&&dt!==0?dt+et:dt,isValueIdentity$5=(dt,et)=>is$5.arr(dt)?dt.every($t=>isValueIdentity$5($t,et)):is$5.num(dt)?dt===et:parseFloat(dt)===et,AnimatedStyle$5=class extends AnimatedObject$5{constructor({x:et,y:$t,z:kt,...Tt}){const Dt=[],Ft=[];(et||$t||kt)&&(Dt.push([et||0,$t||0,kt||0]),Ft.push(Ut=>[`translate3d(${Ut.map(Ht=>addUnit$5(Ht,"px")).join(",")})`,isValueIdentity$5(Ut,0)])),eachProp$5(Tt,(Ut,Ht)=>{if(Ht==="transform")Dt.push([Ut||""]),Ft.push(Kt=>[Kt,Kt===""]);else if(domTransforms$5.test(Ht)){if(delete Tt[Ht],is$5.und(Ut))return;const Kt=pxTransforms$5.test(Ht)?"px":degTransforms$5.test(Ht)?"deg":"";Dt.push(toArray$5(Ut)),Ft.push(Ht==="rotate3d"?([Yt,Jt,Zt,er])=>[`rotate3d(${Yt},${Jt},${Zt},${addUnit$5(er,Kt)})`,isValueIdentity$5(er,0)]:Yt=>[`${Ht}(${Yt.map(Jt=>addUnit$5(Jt,Kt)).join(",")})`,isValueIdentity$5(Yt,Ht.startsWith("scale")?1:0)])}}),Dt.length&&(Tt.transform=new FluidTransform$5(Dt,Ft)),super(Tt)}},FluidTransform$5=class extends FluidValue$5{constructor(et,$t){super(),this.inputs=et,this.transforms=$t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let et="",$t=!0;return each$5(this.inputs,(kt,Tt)=>{const Dt=getFluidValue$5(kt[0]),[Ft,Ut]=this.transforms[Tt](is$5.arr(Dt)?Dt:kt.map(getFluidValue$5));et+=" "+Ft,$t=$t&&Ut}),$t?"none":et}observerAdded(et){et==1&&each$5(this.inputs,$t=>each$5($t,kt=>hasFluidValue$5(kt)&&addFluidObserver$5(kt,this)))}observerRemoved(et){et==0&&each$5(this.inputs,$t=>each$5($t,kt=>hasFluidValue$5(kt)&&removeFluidObserver$5(kt,this)))}eventObserved(et){et.type=="change"&&(this._value=null),callFluidObservers$5(this,et)}},primitives$5=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];globals_exports$5.assign({batchedUpdates:reactDomExports.unstable_batchedUpdates,createStringInterpolator:createStringInterpolator2$5,colors:colors2$5});var host$5=createHost$5(primitives$5,{applyAnimatedValues:applyAnimatedValues$5,createAnimatedStyle:dt=>new AnimatedStyle$5(dt),getComponentProps:({scrollTop:dt,scrollLeft:et,...$t})=>$t}),animated$5=host$5.animated;function listCacheClear$1(){this.__data__=[],this.size=0}var _listCacheClear=listCacheClear$1;function eq$5(dt,et){return dt===et||dt!==dt&&et!==et}var eq_1=eq$5,eq$4=eq_1;function assocIndexOf$4(dt,et){for(var $t=dt.length;$t--;)if(eq$4(dt[$t][0],et))return $t;return-1}var _assocIndexOf=assocIndexOf$4,assocIndexOf$3=_assocIndexOf,arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete$1(dt){var et=this.__data__,$t=assocIndexOf$3(et,dt);if($t<0)return!1;var kt=et.length-1;return $t==kt?et.pop():splice.call(et,$t,1),--this.size,!0}var _listCacheDelete=listCacheDelete$1,assocIndexOf$2=_assocIndexOf;function listCacheGet$1(dt){var et=this.__data__,$t=assocIndexOf$2(et,dt);return $t<0?void 0:et[$t][1]}var _listCacheGet=listCacheGet$1,assocIndexOf$1=_assocIndexOf;function listCacheHas$1(dt){return assocIndexOf$1(this.__data__,dt)>-1}var _listCacheHas=listCacheHas$1,assocIndexOf=_assocIndexOf;function listCacheSet$1(dt,et){var $t=this.__data__,kt=assocIndexOf($t,dt);return kt<0?(++this.size,$t.push([dt,et])):$t[kt][1]=et,this}var _listCacheSet=listCacheSet$1,listCacheClear=_listCacheClear,listCacheDelete=_listCacheDelete,listCacheGet=_listCacheGet,listCacheHas=_listCacheHas,listCacheSet=_listCacheSet;function ListCache$4(dt){var et=-1,$t=dt==null?0:dt.length;for(this.clear();++et<$t;){var kt=dt[et];this.set(kt[0],kt[1])}}ListCache$4.prototype.clear=listCacheClear;ListCache$4.prototype.delete=listCacheDelete;ListCache$4.prototype.get=listCacheGet;ListCache$4.prototype.has=listCacheHas;ListCache$4.prototype.set=listCacheSet;var _ListCache=ListCache$4,ListCache$3=_ListCache;function stackClear$1(){this.__data__=new ListCache$3,this.size=0}var _stackClear=stackClear$1;function stackDelete$1(dt){var et=this.__data__,$t=et.delete(dt);return this.size=et.size,$t}var _stackDelete=stackDelete$1;function stackGet$1(dt){return this.__data__.get(dt)}var _stackGet=stackGet$1;function stackHas$1(dt){return this.__data__.has(dt)}var _stackHas=stackHas$1,freeGlobal$1=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,_freeGlobal=freeGlobal$1,freeGlobal=_freeGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root$9=freeGlobal||freeSelf||Function("return this")(),_root=root$9,root$8=_root,Symbol$7=root$8.Symbol,_Symbol=Symbol$7,Symbol$6=_Symbol,objectProto$f=Object.prototype,hasOwnProperty$c=objectProto$f.hasOwnProperty,nativeObjectToString$1=objectProto$f.toString,symToStringTag$1=Symbol$6?Symbol$6.toStringTag:void 0;function getRawTag$1(dt){var et=hasOwnProperty$c.call(dt,symToStringTag$1),$t=dt[symToStringTag$1];try{dt[symToStringTag$1]=void 0;var kt=!0}catch{}var Tt=nativeObjectToString$1.call(dt);return kt&&(et?dt[symToStringTag$1]=$t:delete dt[symToStringTag$1]),Tt}var _getRawTag=getRawTag$1,objectProto$e=Object.prototype,nativeObjectToString=objectProto$e.toString;function objectToString$1(dt){return nativeObjectToString.call(dt)}var _objectToString=objectToString$1,Symbol$5=_Symbol,getRawTag=_getRawTag,objectToString=_objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$5?Symbol$5.toStringTag:void 0;function baseGetTag$8(dt){return dt==null?dt===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(dt)?getRawTag(dt):objectToString(dt)}var _baseGetTag=baseGetTag$8;function isObject$a(dt){var et=typeof dt;return dt!=null&&(et=="object"||et=="function")}var isObject_1=isObject$a,baseGetTag$7=_baseGetTag,isObject$9=isObject_1,asyncTag="[object AsyncFunction]",funcTag$2="[object Function]",genTag$1="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$3(dt){if(!isObject$9(dt))return!1;var et=baseGetTag$7(dt);return et==funcTag$2||et==genTag$1||et==asyncTag||et==proxyTag}var isFunction_1=isFunction$3;const Cr=getDefaultExportFromCjs(isFunction_1);var root$7=_root,coreJsData$1=root$7["__core-js_shared__"],_coreJsData=coreJsData$1,coreJsData=_coreJsData,maskSrcKey=function(){var dt=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return dt?"Symbol(src)_1."+dt:""}();function isMasked$1(dt){return!!maskSrcKey&&maskSrcKey in dt}var _isMasked=isMasked$1,funcProto$2=Function.prototype,funcToString$2=funcProto$2.toString;function toSource$2(dt){if(dt!=null){try{return funcToString$2.call(dt)}catch{}try{return dt+""}catch{}}return""}var _toSource=toSource$2,isFunction$2=isFunction_1,isMasked=_isMasked,isObject$8=isObject_1,toSource$1=_toSource,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$d=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$b=objectProto$d.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$b).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative$1(dt){if(!isObject$8(dt)||isMasked(dt))return!1;var et=isFunction$2(dt)?reIsNative:reIsHostCtor;return et.test(toSource$1(dt))}var _baseIsNative=baseIsNative$1;function getValue$1(dt,et){return dt==null?void 0:dt[et]}var _getValue=getValue$1,baseIsNative=_baseIsNative,getValue=_getValue;function getNative$7(dt,et){var $t=getValue(dt,et);return baseIsNative($t)?$t:void 0}var _getNative=getNative$7,getNative$6=_getNative,root$6=_root,Map$4=getNative$6(root$6,"Map"),_Map=Map$4,getNative$5=_getNative,nativeCreate$4=getNative$5(Object,"create"),_nativeCreate=nativeCreate$4,nativeCreate$3=_nativeCreate;function hashClear$1(){this.__data__=nativeCreate$3?nativeCreate$3(null):{},this.size=0}var _hashClear=hashClear$1;function hashDelete$1(dt){var et=this.has(dt)&&delete this.__data__[dt];return this.size-=et?1:0,et}var _hashDelete=hashDelete$1,nativeCreate$2=_nativeCreate,HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$c=Object.prototype,hasOwnProperty$a=objectProto$c.hasOwnProperty;function hashGet$1(dt){var et=this.__data__;if(nativeCreate$2){var $t=et[dt];return $t===HASH_UNDEFINED$2?void 0:$t}return hasOwnProperty$a.call(et,dt)?et[dt]:void 0}var _hashGet=hashGet$1,nativeCreate$1=_nativeCreate,objectProto$b=Object.prototype,hasOwnProperty$9=objectProto$b.hasOwnProperty;function hashHas$1(dt){var et=this.__data__;return nativeCreate$1?et[dt]!==void 0:hasOwnProperty$9.call(et,dt)}var _hashHas=hashHas$1,nativeCreate=_nativeCreate,HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet$1(dt,et){var $t=this.__data__;return this.size+=this.has(dt)?0:1,$t[dt]=nativeCreate&&et===void 0?HASH_UNDEFINED$1:et,this}var _hashSet=hashSet$1,hashClear=_hashClear,hashDelete=_hashDelete,hashGet=_hashGet,hashHas=_hashHas,hashSet=_hashSet;function Hash$1(dt){var et=-1,$t=dt==null?0:dt.length;for(this.clear();++et<$t;){var kt=dt[et];this.set(kt[0],kt[1])}}Hash$1.prototype.clear=hashClear;Hash$1.prototype.delete=hashDelete;Hash$1.prototype.get=hashGet;Hash$1.prototype.has=hashHas;Hash$1.prototype.set=hashSet;var _Hash=Hash$1,Hash=_Hash,ListCache$2=_ListCache,Map$3=_Map;function mapCacheClear$1(){this.size=0,this.__data__={hash:new Hash,map:new(Map$3||ListCache$2),string:new Hash}}var _mapCacheClear=mapCacheClear$1;function isKeyable$1(dt){var et=typeof dt;return et=="string"||et=="number"||et=="symbol"||et=="boolean"?dt!=="__proto__":dt===null}var _isKeyable=isKeyable$1,isKeyable=_isKeyable;function getMapData$4(dt,et){var $t=dt.__data__;return isKeyable(et)?$t[typeof et=="string"?"string":"hash"]:$t.map}var _getMapData=getMapData$4,getMapData$3=_getMapData;function mapCacheDelete$1(dt){var et=getMapData$3(this,dt).delete(dt);return this.size-=et?1:0,et}var _mapCacheDelete=mapCacheDelete$1,getMapData$2=_getMapData;function mapCacheGet$1(dt){return getMapData$2(this,dt).get(dt)}var _mapCacheGet=mapCacheGet$1,getMapData$1=_getMapData;function mapCacheHas$1(dt){return getMapData$1(this,dt).has(dt)}var _mapCacheHas=mapCacheHas$1,getMapData=_getMapData;function mapCacheSet$1(dt,et){var $t=getMapData(this,dt),kt=$t.size;return $t.set(dt,et),this.size+=$t.size==kt?0:1,this}var _mapCacheSet=mapCacheSet$1,mapCacheClear=_mapCacheClear,mapCacheDelete=_mapCacheDelete,mapCacheGet=_mapCacheGet,mapCacheHas=_mapCacheHas,mapCacheSet=_mapCacheSet;function MapCache$3(dt){var et=-1,$t=dt==null?0:dt.length;for(this.clear();++et<$t;){var kt=dt[et];this.set(kt[0],kt[1])}}MapCache$3.prototype.clear=mapCacheClear;MapCache$3.prototype.delete=mapCacheDelete;MapCache$3.prototype.get=mapCacheGet;MapCache$3.prototype.has=mapCacheHas;MapCache$3.prototype.set=mapCacheSet;var _MapCache=MapCache$3,ListCache$1=_ListCache,Map$2=_Map,MapCache$2=_MapCache,LARGE_ARRAY_SIZE$2=200;function stackSet$1(dt,et){var $t=this.__data__;if($t instanceof ListCache$1){var kt=$t.__data__;if(!Map$2||kt.length<LARGE_ARRAY_SIZE$2-1)return kt.push([dt,et]),this.size=++$t.size,this;$t=this.__data__=new MapCache$2(kt)}return $t.set(dt,et),this.size=$t.size,this}var _stackSet=stackSet$1,ListCache=_ListCache,stackClear=_stackClear,stackDelete=_stackDelete,stackGet=_stackGet,stackHas=_stackHas,stackSet=_stackSet;function Stack$4(dt){var et=this.__data__=new ListCache(dt);this.size=et.size}Stack$4.prototype.clear=stackClear;Stack$4.prototype.delete=stackDelete;Stack$4.prototype.get=stackGet;Stack$4.prototype.has=stackHas;Stack$4.prototype.set=stackSet;var _Stack=Stack$4,getNative$4=_getNative,defineProperty$2=function(){try{var dt=getNative$4(Object,"defineProperty");return dt({},"",{}),dt}catch{}}(),_defineProperty=defineProperty$2,defineProperty$1=_defineProperty;function baseAssignValue$3(dt,et,$t){et=="__proto__"&&defineProperty$1?defineProperty$1(dt,et,{configurable:!0,enumerable:!0,value:$t,writable:!0}):dt[et]=$t}var _baseAssignValue=baseAssignValue$3,baseAssignValue$2=_baseAssignValue,eq$3=eq_1;function assignMergeValue$2(dt,et,$t){($t!==void 0&&!eq$3(dt[et],$t)||$t===void 0&&!(et in dt))&&baseAssignValue$2(dt,et,$t)}var _assignMergeValue=assignMergeValue$2;function createBaseFor$1(dt){return function(et,$t,kt){for(var Tt=-1,Dt=Object(et),Ft=kt(et),Ut=Ft.length;Ut--;){var Ht=Ft[dt?Ut:++Tt];if($t(Dt[Ht],Ht,Dt)===!1)break}return et}}var _createBaseFor=createBaseFor$1,createBaseFor=_createBaseFor,baseFor$2=createBaseFor(),_baseFor=baseFor$2,_cloneBuffer={exports:{}};_cloneBuffer.exports;(function(dt,et){var $t=_root,kt=et&&!et.nodeType&&et,Tt=kt&&!0&&dt&&!dt.nodeType&&dt,Dt=Tt&&Tt.exports===kt,Ft=Dt?$t.Buffer:void 0,Ut=Ft?Ft.allocUnsafe:void 0;function Ht(Kt,Yt){if(Yt)return Kt.slice();var Jt=Kt.length,Zt=Ut?Ut(Jt):new Kt.constructor(Jt);return Kt.copy(Zt),Zt}dt.exports=Ht})(_cloneBuffer,_cloneBuffer.exports);var _cloneBufferExports=_cloneBuffer.exports,root$5=_root,Uint8Array$3=root$5.Uint8Array,_Uint8Array=Uint8Array$3,Uint8Array$2=_Uint8Array;function cloneArrayBuffer$3(dt){var et=new dt.constructor(dt.byteLength);return new Uint8Array$2(et).set(new Uint8Array$2(dt)),et}var _cloneArrayBuffer=cloneArrayBuffer$3,cloneArrayBuffer$2=_cloneArrayBuffer;function cloneTypedArray$2(dt,et){var $t=et?cloneArrayBuffer$2(dt.buffer):dt.buffer;return new dt.constructor($t,dt.byteOffset,dt.length)}var _cloneTypedArray=cloneTypedArray$2;function copyArray$2(dt,et){var $t=-1,kt=dt.length;for(et||(et=Array(kt));++$t<kt;)et[$t]=dt[$t];return et}var _copyArray=copyArray$2,isObject$7=isObject_1,objectCreate=Object.create,baseCreate$1=function(){function dt(){}return function(et){if(!isObject$7(et))return{};if(objectCreate)return objectCreate(et);dt.prototype=et;var $t=new dt;return dt.prototype=void 0,$t}}(),_baseCreate=baseCreate$1;function overArg$2(dt,et){return function($t){return dt(et($t))}}var _overArg=overArg$2,overArg$1=_overArg,getPrototype$3=overArg$1(Object.getPrototypeOf,Object),_getPrototype=getPrototype$3,objectProto$a=Object.prototype;function isPrototype$3(dt){var et=dt&&dt.constructor,$t=typeof et=="function"&&et.prototype||objectProto$a;return dt===$t}var _isPrototype=isPrototype$3,baseCreate=_baseCreate,getPrototype$2=_getPrototype,isPrototype$2=_isPrototype;function initCloneObject$2(dt){return typeof dt.constructor=="function"&&!isPrototype$2(dt)?baseCreate(getPrototype$2(dt)):{}}var _initCloneObject=initCloneObject$2;function isObjectLike$b(dt){return dt!=null&&typeof dt=="object"}var isObjectLike_1=isObjectLike$b,baseGetTag$6=_baseGetTag,isObjectLike$a=isObjectLike_1,argsTag$3="[object Arguments]";function baseIsArguments$1(dt){return isObjectLike$a(dt)&&baseGetTag$6(dt)==argsTag$3}var _baseIsArguments=baseIsArguments$1,baseIsArguments=_baseIsArguments,isObjectLike$9=isObjectLike_1,objectProto$9=Object.prototype,hasOwnProperty$8=objectProto$9.hasOwnProperty,propertyIsEnumerable$1=objectProto$9.propertyIsEnumerable,isArguments$4=baseIsArguments(function(){return arguments}())?baseIsArguments:function(dt){return isObjectLike$9(dt)&&hasOwnProperty$8.call(dt,"callee")&&!propertyIsEnumerable$1.call(dt,"callee")},isArguments_1=isArguments$4,isArray$e=Array.isArray,isArray_1=isArray$e,MAX_SAFE_INTEGER$1=9007199254740991;function isLength$3(dt){return typeof dt=="number"&&dt>-1&&dt%1==0&&dt<=MAX_SAFE_INTEGER$1}var isLength_1=isLength$3,isFunction$1=isFunction_1,isLength$2=isLength_1;function isArrayLike$6(dt){return dt!=null&&isLength$2(dt.length)&&!isFunction$1(dt)}var isArrayLike_1=isArrayLike$6,isArrayLike$5=isArrayLike_1,isObjectLike$8=isObjectLike_1;function isArrayLikeObject$2(dt){return isObjectLike$8(dt)&&isArrayLike$5(dt)}var isArrayLikeObject_1=isArrayLikeObject$2,isBuffer$4={exports:{}};function stubFalse(){return!1}var stubFalse_1=stubFalse;isBuffer$4.exports;(function(dt,et){var $t=_root,kt=stubFalse_1,Tt=et&&!et.nodeType&&et,Dt=Tt&&!0&&dt&&!dt.nodeType&&dt,Ft=Dt&&Dt.exports===Tt,Ut=Ft?$t.Buffer:void 0,Ht=Ut?Ut.isBuffer:void 0,Kt=Ht||kt;dt.exports=Kt})(isBuffer$4,isBuffer$4.exports);var isBufferExports=isBuffer$4.exports,baseGetTag$5=_baseGetTag,getPrototype$1=_getPrototype,isObjectLike$7=isObjectLike_1,objectTag$4="[object Object]",funcProto=Function.prototype,objectProto$8=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$7=objectProto$8.hasOwnProperty,objectCtorString=funcToString.call(Object);function isPlainObject$2(dt){if(!isObjectLike$7(dt)||baseGetTag$5(dt)!=objectTag$4)return!1;var et=getPrototype$1(dt);if(et===null)return!0;var $t=hasOwnProperty$7.call(et,"constructor")&&et.constructor;return typeof $t=="function"&&$t instanceof $t&&funcToString.call($t)==objectCtorString}var isPlainObject_1=isPlainObject$2;const je=getDefaultExportFromCjs(isPlainObject_1);var baseGetTag$4=_baseGetTag,isLength$1=isLength_1,isObjectLike$6=isObjectLike_1,argsTag$2="[object Arguments]",arrayTag$2="[object Array]",boolTag$3="[object Boolean]",dateTag$3="[object Date]",errorTag$2="[object Error]",funcTag$1="[object Function]",mapTag$5="[object Map]",numberTag$4="[object Number]",objectTag$3="[object Object]",regexpTag$3="[object RegExp]",setTag$5="[object Set]",stringTag$4="[object String]",weakMapTag$2="[object WeakMap]",arrayBufferTag$3="[object ArrayBuffer]",dataViewTag$4="[object DataView]",float32Tag$2="[object Float32Array]",float64Tag$2="[object Float64Array]",int8Tag$2="[object Int8Array]",int16Tag$2="[object Int16Array]",int32Tag$2="[object Int32Array]",uint8Tag$2="[object Uint8Array]",uint8ClampedTag$2="[object Uint8ClampedArray]",uint16Tag$2="[object Uint16Array]",uint32Tag$2="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag$2]=typedArrayTags[float64Tag$2]=typedArrayTags[int8Tag$2]=typedArrayTags[int16Tag$2]=typedArrayTags[int32Tag$2]=typedArrayTags[uint8Tag$2]=typedArrayTags[uint8ClampedTag$2]=typedArrayTags[uint16Tag$2]=typedArrayTags[uint32Tag$2]=!0;typedArrayTags[argsTag$2]=typedArrayTags[arrayTag$2]=typedArrayTags[arrayBufferTag$3]=typedArrayTags[boolTag$3]=typedArrayTags[dataViewTag$4]=typedArrayTags[dateTag$3]=typedArrayTags[errorTag$2]=typedArrayTags[funcTag$1]=typedArrayTags[mapTag$5]=typedArrayTags[numberTag$4]=typedArrayTags[objectTag$3]=typedArrayTags[regexpTag$3]=typedArrayTags[setTag$5]=typedArrayTags[stringTag$4]=typedArrayTags[weakMapTag$2]=!1;function baseIsTypedArray$1(dt){return isObjectLike$6(dt)&&isLength$1(dt.length)&&!!typedArrayTags[baseGetTag$4(dt)]}var _baseIsTypedArray=baseIsTypedArray$1;function baseUnary$5(dt){return function(et){return dt(et)}}var _baseUnary=baseUnary$5,_nodeUtil={exports:{}};_nodeUtil.exports;(function(dt,et){var $t=_freeGlobal,kt=et&&!et.nodeType&&et,Tt=kt&&!0&&dt&&!dt.nodeType&&dt,Dt=Tt&&Tt.exports===kt,Ft=Dt&&$t.process,Ut=function(){try{var Ht=Tt&&Tt.require&&Tt.require("util").types;return Ht||Ft&&Ft.binding&&Ft.binding("util")}catch{}}();dt.exports=Ut})(_nodeUtil,_nodeUtil.exports);var _nodeUtilExports=_nodeUtil.exports,baseIsTypedArray=_baseIsTypedArray,baseUnary$4=_baseUnary,nodeUtil$3=_nodeUtilExports,nodeIsTypedArray=nodeUtil$3&&nodeUtil$3.isTypedArray,isTypedArray$3=nodeIsTypedArray?baseUnary$4(nodeIsTypedArray):baseIsTypedArray,isTypedArray_1=isTypedArray$3;function safeGet$2(dt,et){if(!(et==="constructor"&&typeof dt[et]=="function")&&et!="__proto__")return dt[et]}var _safeGet=safeGet$2,baseAssignValue$1=_baseAssignValue,eq$2=eq_1,objectProto$7=Object.prototype,hasOwnProperty$6=objectProto$7.hasOwnProperty;function assignValue$3(dt,et,$t){var kt=dt[et];(!(hasOwnProperty$6.call(dt,et)&&eq$2(kt,$t))||$t===void 0&&!(et in dt))&&baseAssignValue$1(dt,et,$t)}var _assignValue=assignValue$3,assignValue$2=_assignValue,baseAssignValue=_baseAssignValue;function copyObject$6(dt,et,$t,kt){var Tt=!$t;$t||($t={});for(var Dt=-1,Ft=et.length;++Dt<Ft;){var Ut=et[Dt],Ht=kt?kt($t[Ut],dt[Ut],Ut,$t,dt):void 0;Ht===void 0&&(Ht=dt[Ut]),Tt?baseAssignValue($t,Ut,Ht):assignValue$2($t,Ut,Ht)}return $t}var _copyObject=copyObject$6;function baseTimes$1(dt,et){for(var $t=-1,kt=Array(dt);++$t<dt;)kt[$t]=et($t);return kt}var _baseTimes=baseTimes$1,MAX_SAFE_INTEGER=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex$4(dt,et){var $t=typeof dt;return et=et??MAX_SAFE_INTEGER,!!et&&($t=="number"||$t!="symbol"&&reIsUint.test(dt))&&dt>-1&&dt%1==0&&dt<et}var _isIndex=isIndex$4,baseTimes=_baseTimes,isArguments$3=isArguments_1,isArray$d=isArray_1,isBuffer$3=isBufferExports,isIndex$3=_isIndex,isTypedArray$2=isTypedArray_1,objectProto$6=Object.prototype,hasOwnProperty$5=objectProto$6.hasOwnProperty;function arrayLikeKeys$2(dt,et){var $t=isArray$d(dt),kt=!$t&&isArguments$3(dt),Tt=!$t&&!kt&&isBuffer$3(dt),Dt=!$t&&!kt&&!Tt&&isTypedArray$2(dt),Ft=$t||kt||Tt||Dt,Ut=Ft?baseTimes(dt.length,String):[],Ht=Ut.length;for(var Kt in dt)(et||hasOwnProperty$5.call(dt,Kt))&&!(Ft&&(Kt=="length"||Tt&&(Kt=="offset"||Kt=="parent")||Dt&&(Kt=="buffer"||Kt=="byteLength"||Kt=="byteOffset")||isIndex$3(Kt,Ht)))&&Ut.push(Kt);return Ut}var _arrayLikeKeys=arrayLikeKeys$2;function nativeKeysIn$1(dt){var et=[];if(dt!=null)for(var $t in Object(dt))et.push($t);return et}var _nativeKeysIn=nativeKeysIn$1,isObject$6=isObject_1,isPrototype$1=_isPrototype,nativeKeysIn=_nativeKeysIn,objectProto$5=Object.prototype,hasOwnProperty$4=objectProto$5.hasOwnProperty;function baseKeysIn$1(dt){if(!isObject$6(dt))return nativeKeysIn(dt);var et=isPrototype$1(dt),$t=[];for(var kt in dt)kt=="constructor"&&(et||!hasOwnProperty$4.call(dt,kt))||$t.push(kt);return $t}var _baseKeysIn=baseKeysIn$1,arrayLikeKeys$1=_arrayLikeKeys,baseKeysIn=_baseKeysIn,isArrayLike$4=isArrayLike_1;function keysIn$5(dt){return isArrayLike$4(dt)?arrayLikeKeys$1(dt,!0):baseKeysIn(dt)}var keysIn_1=keysIn$5,copyObject$5=_copyObject,keysIn$4=keysIn_1;function toPlainObject$1(dt){return copyObject$5(dt,keysIn$4(dt))}var toPlainObject_1=toPlainObject$1,assignMergeValue$1=_assignMergeValue,cloneBuffer$1=_cloneBufferExports,cloneTypedArray$1=_cloneTypedArray,copyArray$1=_copyArray,initCloneObject$1=_initCloneObject,isArguments$2=isArguments_1,isArray$c=isArray_1,isArrayLikeObject$1=isArrayLikeObject_1,isBuffer$2=isBufferExports,isFunction=isFunction_1,isObject$5=isObject_1,isPlainObject$1=isPlainObject_1,isTypedArray$1=isTypedArray_1,safeGet$1=_safeGet,toPlainObject=toPlainObject_1;function baseMergeDeep$1(dt,et,$t,kt,Tt,Dt,Ft){var Ut=safeGet$1(dt,$t),Ht=safeGet$1(et,$t),Kt=Ft.get(Ht);if(Kt){assignMergeValue$1(dt,$t,Kt);return}var Yt=Dt?Dt(Ut,Ht,$t+"",dt,et,Ft):void 0,Jt=Yt===void 0;if(Jt){var Zt=isArray$c(Ht),er=!Zt&&isBuffer$2(Ht),rr=!Zt&&!er&&isTypedArray$1(Ht);Yt=Ht,Zt||er||rr?isArray$c(Ut)?Yt=Ut:isArrayLikeObject$1(Ut)?Yt=copyArray$1(Ut):er?(Jt=!1,Yt=cloneBuffer$1(Ht,!0)):rr?(Jt=!1,Yt=cloneTypedArray$1(Ht,!0)):Yt=[]:isPlainObject$1(Ht)||isArguments$2(Ht)?(Yt=Ut,isArguments$2(Ut)?Yt=toPlainObject(Ut):(!isObject$5(Ut)||isFunction(Ut))&&(Yt=initCloneObject$1(Ht))):Jt=!1}Jt&&(Ft.set(Ht,Yt),Tt(Yt,Ht,kt,Dt,Ft),Ft.delete(Ht)),assignMergeValue$1(dt,$t,Yt)}var _baseMergeDeep=baseMergeDeep$1,Stack$3=_Stack,assignMergeValue=_assignMergeValue,baseFor$1=_baseFor,baseMergeDeep=_baseMergeDeep,isObject$4=isObject_1,keysIn$3=keysIn_1,safeGet=_safeGet;function baseMerge$1(dt,et,$t,kt,Tt){dt!==et&&baseFor$1(et,function(Dt,Ft){if(Tt||(Tt=new Stack$3),isObject$4(Dt))baseMergeDeep(dt,et,Ft,$t,baseMerge$1,kt,Tt);else{var Ut=kt?kt(safeGet(dt,Ft),Dt,Ft+"",dt,et,Tt):void 0;Ut===void 0&&(Ut=Dt),assignMergeValue(dt,Ft,Ut)}},keysIn$3)}var _baseMerge=baseMerge$1;function identity$6(dt){return dt}var identity_1=identity$6;function apply$1(dt,et,$t){switch($t.length){case 0:return dt.call(et);case 1:return dt.call(et,$t[0]);case 2:return dt.call(et,$t[0],$t[1]);case 3:return dt.call(et,$t[0],$t[1],$t[2])}return dt.apply(et,$t)}var _apply=apply$1,apply=_apply,nativeMax=Math.max;function overRest$2(dt,et,$t){return et=nativeMax(et===void 0?dt.length-1:et,0),function(){for(var kt=arguments,Tt=-1,Dt=nativeMax(kt.length-et,0),Ft=Array(Dt);++Tt<Dt;)Ft[Tt]=kt[et+Tt];Tt=-1;for(var Ut=Array(et+1);++Tt<et;)Ut[Tt]=kt[Tt];return Ut[et]=$t(Ft),apply(dt,this,Ut)}}var _overRest=overRest$2;function constant$3(dt){return function(){return dt}}var constant_1=constant$3,constant$2=constant_1,defineProperty=_defineProperty,identity$5=identity_1,baseSetToString$1=defineProperty?function(dt,et){return defineProperty(dt,"toString",{configurable:!0,enumerable:!1,value:constant$2(et),writable:!0})}:identity$5,_baseSetToString=baseSetToString$1,HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut$1(dt){var et=0,$t=0;return function(){var kt=nativeNow(),Tt=HOT_SPAN-(kt-$t);if($t=kt,Tt>0){if(++et>=HOT_COUNT)return arguments[0]}else et=0;return dt.apply(void 0,arguments)}}var _shortOut=shortOut$1,baseSetToString=_baseSetToString,shortOut=_shortOut,setToString$2=shortOut(baseSetToString),_setToString=setToString$2,identity$4=identity_1,overRest$1=_overRest,setToString$1=_setToString;function baseRest$3(dt,et){return setToString$1(overRest$1(dt,et,identity$4),dt+"")}var _baseRest=baseRest$3,eq$1=eq_1,isArrayLike$3=isArrayLike_1,isIndex$2=_isIndex,isObject$3=isObject_1;function isIterateeCall$2(dt,et,$t){if(!isObject$3($t))return!1;var kt=typeof et;return(kt=="number"?isArrayLike$3($t)&&isIndex$2(et,$t.length):kt=="string"&&et in $t)?eq$1($t[et],dt):!1}var _isIterateeCall=isIterateeCall$2,baseRest$2=_baseRest,isIterateeCall$1=_isIterateeCall;function createAssigner$1(dt){return baseRest$2(function(et,$t){var kt=-1,Tt=$t.length,Dt=Tt>1?$t[Tt-1]:void 0,Ft=Tt>2?$t[2]:void 0;for(Dt=dt.length>3&&typeof Dt=="function"?(Tt--,Dt):void 0,Ft&&isIterateeCall$1($t[0],$t[1],Ft)&&(Dt=Tt<3?void 0:Dt,Tt=1),et=Object(et);++kt<Tt;){var Ut=$t[kt];Ut&&dt(et,Ut,kt,Dt)}return et})}var _createAssigner=createAssigner$1,baseMerge=_baseMerge,createAssigner=_createAssigner,merge=createAssigner(function(dt,et,$t){baseMerge(dt,et,$t)}),merge_1=merge;const i$2=getDefaultExportFromCjs(merge_1);var baseGetTag$3=_baseGetTag,isObjectLike$5=isObjectLike_1,symbolTag$3="[object Symbol]";function isSymbol$4(dt){return typeof dt=="symbol"||isObjectLike$5(dt)&&baseGetTag$3(dt)==symbolTag$3}var isSymbol_1=isSymbol$4,isArray$b=isArray_1,isSymbol$3=isSymbol_1,reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey$3(dt,et){if(isArray$b(dt))return!1;var $t=typeof dt;return $t=="number"||$t=="symbol"||$t=="boolean"||dt==null||isSymbol$3(dt)?!0:reIsPlainProp.test(dt)||!reIsDeepProp.test(dt)||et!=null&&dt in Object(et)}var _isKey=isKey$3,MapCache$1=_MapCache,FUNC_ERROR_TEXT="Expected a function";function memoize$1(dt,et){if(typeof dt!="function"||et!=null&&typeof et!="function")throw new TypeError(FUNC_ERROR_TEXT);var $t=function(){var kt=arguments,Tt=et?et.apply(this,kt):kt[0],Dt=$t.cache;if(Dt.has(Tt))return Dt.get(Tt);var Ft=dt.apply(this,kt);return $t.cache=Dt.set(Tt,Ft)||Dt,Ft};return $t.cache=new(memoize$1.Cache||MapCache$1),$t}memoize$1.Cache=MapCache$1;var memoize_1=memoize$1,memoize=memoize_1,MAX_MEMOIZE_SIZE=500;function memoizeCapped$1(dt){var et=memoize(dt,function(kt){return $t.size===MAX_MEMOIZE_SIZE&&$t.clear(),kt}),$t=et.cache;return et}var _memoizeCapped=memoizeCapped$1,memoizeCapped=_memoizeCapped,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath$1=memoizeCapped(function(dt){var et=[];return dt.charCodeAt(0)===46&&et.push(""),dt.replace(rePropName,function($t,kt,Tt,Dt){et.push(Tt?Dt.replace(reEscapeChar,"$1"):kt||$t)}),et}),_stringToPath=stringToPath$1;function arrayMap$4(dt,et){for(var $t=-1,kt=dt==null?0:dt.length,Tt=Array(kt);++$t<kt;)Tt[$t]=et(dt[$t],$t,dt);return Tt}var _arrayMap=arrayMap$4,Symbol$4=_Symbol,arrayMap$3=_arrayMap,isArray$a=isArray_1,isSymbol$2=isSymbol_1,INFINITY$2=1/0,symbolProto$2=Symbol$4?Symbol$4.prototype:void 0,symbolToString=symbolProto$2?symbolProto$2.toString:void 0;function baseToString$1(dt){if(typeof dt=="string")return dt;if(isArray$a(dt))return arrayMap$3(dt,baseToString$1)+"";if(isSymbol$2(dt))return symbolToString?symbolToString.call(dt):"";var et=dt+"";return et=="0"&&1/dt==-INFINITY$2?"-0":et}var _baseToString=baseToString$1,baseToString=_baseToString;function toString$1(dt){return dt==null?"":baseToString(dt)}var toString_1=toString$1,isArray$9=isArray_1,isKey$2=_isKey,stringToPath=_stringToPath,toString=toString_1;function castPath$6(dt,et){return isArray$9(dt)?dt:isKey$2(dt,et)?[dt]:stringToPath(toString(dt))}var _castPath=castPath$6,isSymbol$1=isSymbol_1,INFINITY$1=1/0;function toKey$6(dt){if(typeof dt=="string"||isSymbol$1(dt))return dt;var et=dt+"";return et=="0"&&1/dt==-INFINITY$1?"-0":et}var _toKey=toKey$6,castPath$5=_castPath,toKey$5=_toKey;function baseGet$5(dt,et){et=castPath$5(et,dt);for(var $t=0,kt=et.length;dt!=null&&$t<kt;)dt=dt[toKey$5(et[$t++])];return $t&&$t==kt?dt:void 0}var _baseGet=baseGet$5,baseGet$4=_baseGet;function get$1(dt,et,$t){var kt=dt==null?void 0:baseGet$4(dt,et);return kt===void 0?$t:kt}var get_1=get$1;const ke$1=getDefaultExportFromCjs(get_1);var assignValue$1=_assignValue,castPath$4=_castPath,isIndex$1=_isIndex,isObject$2=isObject_1,toKey$4=_toKey;function baseSet$2(dt,et,$t,kt){if(!isObject$2(dt))return dt;et=castPath$4(et,dt);for(var Tt=-1,Dt=et.length,Ft=Dt-1,Ut=dt;Ut!=null&&++Tt<Dt;){var Ht=toKey$4(et[Tt]),Kt=$t;if(Ht==="__proto__"||Ht==="constructor"||Ht==="prototype")return dt;if(Tt!=Ft){var Yt=Ut[Ht];Kt=kt?kt(Yt,Ht,Ut):void 0,Kt===void 0&&(Kt=isObject$2(Yt)?Yt:isIndex$1(et[Tt+1])?[]:{})}assignValue$1(Ut,Ht,Kt),Ut=Ut[Ht]}return dt}var _baseSet=baseSet$2,baseSet$1=_baseSet;function set(dt,et,$t){return dt==null?dt:baseSet$1(dt,et,$t)}var set_1=set;const Lr=getDefaultExportFromCjs(set_1);function u$2(){return u$2=Object.assign?Object.assign.bind():function(dt){for(var et=1;et<arguments.length;et++){var $t=arguments[et];for(var kt in $t)({}).hasOwnProperty.call($t,kt)&&(dt[kt]=$t[kt])}return dt},u$2.apply(null,arguments)}function d$1(dt,et){if(dt==null)return{};var $t={};for(var kt in dt)if({}.hasOwnProperty.call(dt,kt)){if(et.indexOf(kt)!==-1)continue;$t[kt]=dt[kt]}return $t}var s$1=["outlineWidth","outlineColor","outlineOpacity"],b$5=function(dt){return dt.outlineWidth,dt.outlineColor,dt.outlineOpacity,d$1(dt,s$1)},y$2=["axis.ticks.text","axis.legend.text","legends.title.text","legends.text","legends.ticks.text","legends.title.text","labels.text","dots.text","markers.text","annotations.text"],W$6=function(dt,et){return u$2({},et,dt)},O$5=function(dt,et){var $t=i$2({},dt,et);return y$2.forEach(function(kt){Lr($t,kt,W$6(ke$1($t,kt),$t.text))}),$t},R$2=function(dt,et){return et?i$2({},dt,et):dt},C$5={background:"transparent",text:{fontFamily:"sans-serif",fontSize:11,fill:"#333333",outlineWidth:0,outlineColor:"#ffffff",outlineOpacity:1},axis:{domain:{line:{stroke:"transparent",strokeWidth:1}},ticks:{line:{stroke:"#777777",strokeWidth:1},text:{}},legend:{text:{fontSize:12}}},grid:{line:{stroke:"#dddddd",strokeWidth:1}},legends:{hidden:{symbol:{fill:"#333333",opacity:.6},text:{fill:"#333333",opacity:.6}},text:{},ticks:{line:{stroke:"#777777",strokeWidth:1},text:{fontSize:10}},title:{text:{}}},labels:{text:{}},markers:{lineColor:"#000000",lineStrokeWidth:1,text:{}},dots:{text:{}},tooltip:{container:{background:"white",color:"inherit",fontSize:"inherit",borderRadius:"2px",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.25)",padding:"5px 9px"},basic:{whiteSpace:"pre",display:"flex",alignItems:"center"},chip:{marginRight:7},table:{},tableCell:{padding:"3px 5px"},tableCellValue:{fontWeight:"bold"}},crosshair:{line:{stroke:"#000000",strokeWidth:1,strokeOpacity:.75,strokeDasharray:"6 6"}},annotations:{text:{fontSize:13,outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},link:{stroke:"#000000",strokeWidth:1,outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},outline:{fill:"none",stroke:"#000000",strokeWidth:2,outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},symbol:{fill:"#000000",outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1}}},L$5=function(dt){return reactExports.useMemo(function(){return O$5(C$5,dt)},[dt])},w$5=function(dt,et){return reactExports.useMemo(function(){return R$2(dt,et)},[dt,et])},S$3=reactExports.createContext(null),j$5={},z$5=function(dt){var et=dt.theme,$t=et===void 0?j$5:et,kt=dt.children,Tt=L$5($t);return jsxRuntimeExports.jsx(S$3.Provider,{value:Tt,children:kt})},M$3=function(){var dt=reactExports.useContext(S$3);if(dt===null)throw new Error("Unable to find the theme, did you forget to wrap your component with ThemeProvider?");return dt};function v$3(){return v$3=Object.assign?Object.assign.bind():function(dt){for(var et=1;et<arguments.length;et++){var $t=arguments[et];for(var kt in $t)({}).hasOwnProperty.call($t,kt)&&(dt[kt]=$t[kt])}return dt},v$3.apply(null,arguments)}var x=["basic","chip","container","table","tableCell","tableCellValue"],m$1={pointerEvents:"none",position:"absolute",zIndex:10,top:0,left:0},b$4=function(dt,et){return"translate("+dt+"px, "+et+"px)"},g$2=reactExports.memo(function(dt){var et,$t=dt.position,kt=dt.anchor,Tt=dt.children,Dt=M$3(),Ft=Dr(),Ut=Ft.animate,Ht=Ft.config,Kt=sn$1(),Yt=Kt[0],Jt=Kt[1],Zt=reactExports.useRef(!1),er=void 0,rr=!1,sr=Jt.width>0&&Jt.height>0,ir=Math.round($t[0]),nr=Math.round($t[1]);sr&&(kt==="top"?(ir-=Jt.width/2,nr-=Jt.height+14):kt==="right"?(ir+=14,nr-=Jt.height/2):kt==="bottom"?(ir-=Jt.width/2,nr+=14):kt==="left"?(ir-=Jt.width+14,nr-=Jt.height/2):kt==="center"&&(ir-=Jt.width/2,nr-=Jt.height/2),er={transform:b$4(ir,nr)},Zt.current||(rr=!0),Zt.current=[ir,nr]);var or=useSpring$3({to:er,config:Ht,immediate:!Ut||rr}),lr=Dt.tooltip;lr.basic,lr.chip,lr.container,lr.table,lr.tableCell,lr.tableCellValue;var cr=function(ur,pr){if(ur==null)return{};var mr={};for(var vr in ur)if({}.hasOwnProperty.call(ur,vr)){if(pr.indexOf(vr)!==-1)continue;mr[vr]=ur[vr]}return mr}(lr,x),dr=v$3({},m$1,cr,{transform:(et=or.transform)!=null?et:b$4(ir,nr),opacity:or.transform?1:0});return jsxRuntimeExports.jsx(animated$5.div,{ref:Yt,style:dr,children:Tt})});g$2.displayName="TooltipWrapper";var w$4=reactExports.memo(function(dt){var et=dt.size,$t=et===void 0?12:et,kt=dt.color,Tt=dt.style;return jsxRuntimeExports.jsx("span",{style:v$3({display:"block",width:$t,height:$t,background:kt},Tt===void 0?{}:Tt)})}),T$3=reactExports.memo(function(dt){var et,$t=dt.id,kt=dt.value,Tt=dt.format,Dt=dt.enableChip,Ft=Dt!==void 0&&Dt,Ut=dt.color,Ht=dt.renderContent,Kt=M$3(),Yt=hn(Tt);if(typeof Ht=="function")et=Ht();else{var Jt=kt;Yt!==void 0&&Jt!==void 0&&(Jt=Yt(Jt)),et=jsxRuntimeExports.jsxs("div",{style:Kt.tooltip.basic,children:[Ft&&jsxRuntimeExports.jsx(w$4,{color:Ut,style:Kt.tooltip.chip}),Jt!==void 0?jsxRuntimeExports.jsxs("span",{children:[$t,": ",jsxRuntimeExports.jsx("strong",{children:""+Jt})]}):$t]})}return jsxRuntimeExports.jsx("div",{style:Kt.tooltip.container,role:"tooltip",children:et})}),C$4={width:"100%",borderCollapse:"collapse"},E$6=reactExports.memo(function(dt){var et,$t=dt.title,kt=dt.rows,Tt=kt===void 0?[]:kt,Dt=dt.renderContent,Ft=M$3();return Tt.length?(et=typeof Dt=="function"?Dt():jsxRuntimeExports.jsxs("div",{children:[$t&&$t,jsxRuntimeExports.jsx("table",{style:v$3({},C$4,Ft.tooltip.table),children:jsxRuntimeExports.jsx("tbody",{children:Tt.map(function(Ut,Ht){return jsxRuntimeExports.jsx("tr",{children:Ut.map(function(Kt,Yt){return jsxRuntimeExports.jsx("td",{style:Ft.tooltip.tableCell,children:Kt},Yt)})},Ht)})})})]}),jsxRuntimeExports.jsx("div",{style:Ft.tooltip.container,children:et})):null});E$6.displayName="TableTooltip";var P$3=reactExports.memo(function(dt){var et=dt.x0,$t=dt.x1,kt=dt.y0,Tt=dt.y1,Dt=M$3(),Ft=Dr(),Ut=Ft.animate,Ht=Ft.config,Kt=reactExports.useMemo(function(){return v$3({},Dt.crosshair.line,{pointerEvents:"none"})},[Dt.crosshair.line]),Yt=useSpring$3({x1:et,x2:$t,y1:kt,y2:Tt,config:Ht,immediate:!Ut});return jsxRuntimeExports.jsx(animated$5.line,v$3({},Yt,{fill:"none",style:Kt}))});P$3.displayName="CrosshairLine";var V$1=reactExports.memo(function(dt){var et,$t,kt=dt.width,Tt=dt.height,Dt=dt.type,Ft=dt.x,Ut=dt.y;return Dt==="cross"?(et={x0:Ft,x1:Ft,y0:0,y1:Tt},$t={x0:0,x1:kt,y0:Ut,y1:Ut}):Dt==="top-left"?(et={x0:Ft,x1:Ft,y0:0,y1:Ut},$t={x0:0,x1:Ft,y0:Ut,y1:Ut}):Dt==="top"?et={x0:Ft,x1:Ft,y0:0,y1:Ut}:Dt==="top-right"?(et={x0:Ft,x1:Ft,y0:0,y1:Ut},$t={x0:Ft,x1:kt,y0:Ut,y1:Ut}):Dt==="right"?$t={x0:Ft,x1:kt,y0:Ut,y1:Ut}:Dt==="bottom-right"?(et={x0:Ft,x1:Ft,y0:Ut,y1:Tt},$t={x0:Ft,x1:kt,y0:Ut,y1:Ut}):Dt==="bottom"?et={x0:Ft,x1:Ft,y0:Ut,y1:Tt}:Dt==="bottom-left"?(et={x0:Ft,x1:Ft,y0:Ut,y1:Tt},$t={x0:0,x1:Ft,y0:Ut,y1:Ut}):Dt==="left"?$t={x0:0,x1:Ft,y0:Ut,y1:Ut}:Dt==="x"?et={x0:Ft,x1:Ft,y0:0,y1:Tt}:Dt==="y"&&($t={x0:0,x1:kt,y0:Ut,y1:Ut}),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[et&&jsxRuntimeExports.jsx(P$3,{x0:et.x0,x1:et.x1,y0:et.y0,y1:et.y1}),$t&&jsxRuntimeExports.jsx(P$3,{x0:$t.x0,x1:$t.x1,y0:$t.y0,y1:$t.y1})]})});V$1.displayName="Crosshair";var O$4=reactExports.createContext({showTooltipAt:function(){},showTooltipFromEvent:function(){},hideTooltip:function(){}}),N$1={isVisible:!1,position:[null,null],content:null,anchor:null},j$4=reactExports.createContext(N$1),k$4=function(dt){var et=reactExports.useState(N$1),$t=et[0],kt=et[1],Tt=reactExports.useCallback(function(Ut,Ht,Kt){var Yt=Ht[0],Jt=Ht[1];Kt===void 0&&(Kt="top"),kt({isVisible:!0,position:[Yt,Jt],anchor:Kt,content:Ut})},[kt]),Dt=reactExports.useCallback(function(Ut,Ht,Kt){Kt===void 0&&(Kt="top");var Yt=dt.current.getBoundingClientRect(),Jt=dt.current.offsetWidth,Zt=Jt===Yt.width?1:Jt/Yt.width,er="touches"in Ht?Ht.touches[0]:Ht,rr=er.clientX,sr=er.clientY,ir=(rr-Yt.left)*Zt,nr=(sr-Yt.top)*Zt;Kt!=="left"&&Kt!=="right"||(Kt=ir<Yt.width/2?"right":"left"),kt({isVisible:!0,position:[ir,nr],anchor:Kt,content:Ut})},[dt,kt]),Ft=reactExports.useCallback(function(){kt(N$1)},[kt]);return{actions:reactExports.useMemo(function(){return{showTooltipAt:Tt,showTooltipFromEvent:Dt,hideTooltip:Ft}},[Tt,Dt,Ft]),state:$t}},z$4=function(){var dt=reactExports.useContext(O$4);if(dt===void 0)throw new Error("useTooltip must be used within a TooltipProvider");return dt},A$5=function(){var dt=reactExports.useContext(j$4);if(dt===void 0)throw new Error("useTooltipState must be used within a TooltipProvider");return dt},F$1=function(dt){return dt.isVisible},M$2=function(){var dt=A$5();return F$1(dt)?jsxRuntimeExports.jsx(g$2,{position:dt.position,anchor:dt.anchor,children:dt.content}):null},W$5=function(dt){var et=dt.container,$t=dt.children,kt=k$4(et),Tt=kt.actions,Dt=kt.state;return jsxRuntimeExports.jsx(O$4.Provider,{value:Tt,children:jsxRuntimeExports.jsx(j$4.Provider,{value:Dt,children:$t})})},baseGetTag$2=_baseGetTag,isArray$8=isArray_1,isObjectLike$4=isObjectLike_1,stringTag$3="[object String]";function isString(dt){return typeof dt=="string"||!isArray$8(dt)&&isObjectLike$4(dt)&&baseGetTag$2(dt)==stringTag$3}var isString_1=isString;const _$3=getDefaultExportFromCjs(isString_1);var updateQueue$4=makeQueue$4(),raf$4=dt=>schedule$4(dt,updateQueue$4),writeQueue$4=makeQueue$4();raf$4.write=dt=>schedule$4(dt,writeQueue$4);var onStartQueue$4=makeQueue$4();raf$4.onStart=dt=>schedule$4(dt,onStartQueue$4);var onFrameQueue$4=makeQueue$4();raf$4.onFrame=dt=>schedule$4(dt,onFrameQueue$4);var onFinishQueue$4=makeQueue$4();raf$4.onFinish=dt=>schedule$4(dt,onFinishQueue$4);var timeouts$4=[];raf$4.setTimeout=(dt,et)=>{const $t=raf$4.now()+et,kt=()=>{const Dt=timeouts$4.findIndex(Ft=>Ft.cancel==kt);~Dt&&timeouts$4.splice(Dt,1),pendingCount$4-=~Dt?1:0},Tt={time:$t,handler:dt,cancel:kt};return timeouts$4.splice(findTimeout$4($t),0,Tt),pendingCount$4+=1,start$4(),Tt};var findTimeout$4=dt=>~(~timeouts$4.findIndex(et=>et.time>dt)||~timeouts$4.length);raf$4.cancel=dt=>{onStartQueue$4.delete(dt),onFrameQueue$4.delete(dt),onFinishQueue$4.delete(dt),updateQueue$4.delete(dt),writeQueue$4.delete(dt)};raf$4.sync=dt=>{sync$4=!0,raf$4.batchedUpdates(dt),sync$4=!1};raf$4.throttle=dt=>{let et;function $t(){try{dt(...et)}finally{et=null}}function kt(...Tt){et=Tt,raf$4.onStart($t)}return kt.handler=dt,kt.cancel=()=>{onStartQueue$4.delete($t),et=null},kt};var nativeRaf$4=typeof window<"u"?window.requestAnimationFrame:()=>{};raf$4.use=dt=>nativeRaf$4=dt;raf$4.now=typeof performance<"u"?()=>performance.now():Date.now;raf$4.batchedUpdates=dt=>dt();raf$4.catch=console.error;raf$4.frameLoop="always";raf$4.advance=()=>{raf$4.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):update$4()};var ts$4=-1,pendingCount$4=0,sync$4=!1;function schedule$4(dt,et){sync$4?(et.delete(dt),dt(0)):(et.add(dt),start$4())}function start$4(){ts$4<0&&(ts$4=0,raf$4.frameLoop!=="demand"&&nativeRaf$4(loop$4))}function stop$4(){ts$4=-1}function loop$4(){~ts$4&&(nativeRaf$4(loop$4),raf$4.batchedUpdates(update$4))}function update$4(){const dt=ts$4;ts$4=raf$4.now();const et=findTimeout$4(ts$4);if(et&&(eachSafely$4(timeouts$4.splice(0,et),$t=>$t.handler()),pendingCount$4-=et),!pendingCount$4){stop$4();return}onStartQueue$4.flush(),updateQueue$4.flush(dt?Math.min(64,ts$4-dt):16.667),onFrameQueue$4.flush(),writeQueue$4.flush(),onFinishQueue$4.flush()}function makeQueue$4(){let dt=new Set,et=dt;return{add($t){pendingCount$4+=et==dt&&!dt.has($t)?1:0,dt.add($t)},delete($t){return pendingCount$4-=et==dt&&dt.has($t)?1:0,dt.delete($t)},flush($t){et.size&&(dt=new Set,pendingCount$4-=et.size,eachSafely$4(et,kt=>kt($t)&&dt.add(kt)),pendingCount$4+=dt.size,et=dt)}}}function eachSafely$4(dt,et){dt.forEach($t=>{try{et($t)}catch(kt){raf$4.catch(kt)}})}var __defProp$4=Object.defineProperty,__export$4=(dt,et)=>{for(var $t in et)__defProp$4(dt,$t,{get:et[$t],enumerable:!0})},globals_exports$4={};__export$4(globals_exports$4,{assign:()=>assign$4,colors:()=>colors$5,createStringInterpolator:()=>createStringInterpolator$4,skipAnimation:()=>skipAnimation$4,to:()=>to$6,willAdvance:()=>willAdvance$4});function noop$7(){}var defineHidden$4=(dt,et,$t)=>Object.defineProperty(dt,et,{value:$t,writable:!0,configurable:!0}),is$4={arr:Array.isArray,obj:dt=>!!dt&&dt.constructor.name==="Object",fun:dt=>typeof dt=="function",str:dt=>typeof dt=="string",num:dt=>typeof dt=="number",und:dt=>dt===void 0};function isEqual$5(dt,et){if(is$4.arr(dt)){if(!is$4.arr(et)||dt.length!==et.length)return!1;for(let $t=0;$t<dt.length;$t++)if(dt[$t]!==et[$t])return!1;return!0}return dt===et}var each$4=(dt,et)=>dt.forEach(et);function eachProp$4(dt,et,$t){if(is$4.arr(dt)){for(let kt=0;kt<dt.length;kt++)et.call($t,dt[kt],`${kt}`);return}for(const kt in dt)dt.hasOwnProperty(kt)&&et.call($t,dt[kt],kt)}var toArray$4=dt=>is$4.und(dt)?[]:is$4.arr(dt)?dt:[dt];function flush$3(dt,et){if(dt.size){const $t=Array.from(dt);dt.clear(),each$4($t,et)}}var flushCalls$3=(dt,...et)=>flush$3(dt,$t=>$t(...et)),isSSR$4=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),createStringInterpolator$4,to$6,colors$5=null,skipAnimation$4=!1,willAdvance$4=noop$7,assign$4=dt=>{dt.to&&(to$6=dt.to),dt.now&&(raf$4.now=dt.now),dt.colors!==void 0&&(colors$5=dt.colors),dt.skipAnimation!=null&&(skipAnimation$4=dt.skipAnimation),dt.createStringInterpolator&&(createStringInterpolator$4=dt.createStringInterpolator),dt.requestAnimationFrame&&raf$4.use(dt.requestAnimationFrame),dt.batchedUpdates&&(raf$4.batchedUpdates=dt.batchedUpdates),dt.willAdvance&&(willAdvance$4=dt.willAdvance),dt.frameLoop&&(raf$4.frameLoop=dt.frameLoop)},startQueue$4=new Set,currentFrame$4=[],prevFrame$4=[],priority$4=0,frameLoop$4={get idle(){return!startQueue$4.size&&!currentFrame$4.length},start(dt){priority$4>dt.priority?(startQueue$4.add(dt),raf$4.onStart(flushStartQueue$4)):(startSafely$4(dt),raf$4(advance$4))},advance:advance$4,sort(dt){if(priority$4)raf$4.onFrame(()=>frameLoop$4.sort(dt));else{const et=currentFrame$4.indexOf(dt);~et&&(currentFrame$4.splice(et,1),startUnsafely$4(dt))}},clear(){currentFrame$4=[],startQueue$4.clear()}};function flushStartQueue$4(){startQueue$4.forEach(startSafely$4),startQueue$4.clear(),raf$4(advance$4)}function startSafely$4(dt){currentFrame$4.includes(dt)||startUnsafely$4(dt)}function startUnsafely$4(dt){currentFrame$4.splice(findIndex$4(currentFrame$4,et=>et.priority>dt.priority),0,dt)}function advance$4(dt){const et=prevFrame$4;for(let $t=0;$t<currentFrame$4.length;$t++){const kt=currentFrame$4[$t];priority$4=kt.priority,kt.idle||(willAdvance$4(kt),kt.advance(dt),kt.idle||et.push(kt))}return priority$4=0,prevFrame$4=currentFrame$4,prevFrame$4.length=0,currentFrame$4=et,currentFrame$4.length>0}function findIndex$4(dt,et){const $t=dt.findIndex(et);return $t<0?dt.length:$t}var clamp$3=(dt,et,$t)=>Math.min(Math.max($t,dt),et),colors2$4={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},NUMBER$4="[-+]?\\d*\\.?\\d+",PERCENTAGE$4=NUMBER$4+"%";function call$4(...dt){return"\\(\\s*("+dt.join(")\\s*,\\s*(")+")\\s*\\)"}var rgb$6=new RegExp("rgb"+call$4(NUMBER$4,NUMBER$4,NUMBER$4)),rgba$5=new RegExp("rgba"+call$4(NUMBER$4,NUMBER$4,NUMBER$4,NUMBER$4)),hsl$5=new RegExp("hsl"+call$4(NUMBER$4,PERCENTAGE$4,PERCENTAGE$4)),hsla$5=new RegExp("hsla"+call$4(NUMBER$4,PERCENTAGE$4,PERCENTAGE$4,NUMBER$4)),hex3$4=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex4$4=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6$4=/^#([0-9a-fA-F]{6})$/,hex8$4=/^#([0-9a-fA-F]{8})$/;function normalizeColor$4(dt){let et;return typeof dt=="number"?dt>>>0===dt&&dt>=0&&dt<=4294967295?dt:null:(et=hex6$4.exec(dt))?parseInt(et[1]+"ff",16)>>>0:colors$5&&colors$5[dt]!==void 0?colors$5[dt]:(et=rgb$6.exec(dt))?(parse255$4(et[1])<<24|parse255$4(et[2])<<16|parse255$4(et[3])<<8|255)>>>0:(et=rgba$5.exec(dt))?(parse255$4(et[1])<<24|parse255$4(et[2])<<16|parse255$4(et[3])<<8|parse1$4(et[4]))>>>0:(et=hex3$4.exec(dt))?parseInt(et[1]+et[1]+et[2]+et[2]+et[3]+et[3]+"ff",16)>>>0:(et=hex8$4.exec(dt))?parseInt(et[1],16)>>>0:(et=hex4$4.exec(dt))?parseInt(et[1]+et[1]+et[2]+et[2]+et[3]+et[3]+et[4]+et[4],16)>>>0:(et=hsl$5.exec(dt))?(hslToRgb$4(parse360$4(et[1]),parsePercentage$4(et[2]),parsePercentage$4(et[3]))|255)>>>0:(et=hsla$5.exec(dt))?(hslToRgb$4(parse360$4(et[1]),parsePercentage$4(et[2]),parsePercentage$4(et[3]))|parse1$4(et[4]))>>>0:null}function hue2rgb$4(dt,et,$t){return $t<0&&($t+=1),$t>1&&($t-=1),$t<1/6?dt+(et-dt)*6*$t:$t<1/2?et:$t<2/3?dt+(et-dt)*(2/3-$t)*6:dt}function hslToRgb$4(dt,et,$t){const kt=$t<.5?$t*(1+et):$t+et-$t*et,Tt=2*$t-kt,Dt=hue2rgb$4(Tt,kt,dt+1/3),Ft=hue2rgb$4(Tt,kt,dt),Ut=hue2rgb$4(Tt,kt,dt-1/3);return Math.round(Dt*255)<<24|Math.round(Ft*255)<<16|Math.round(Ut*255)<<8}function parse255$4(dt){const et=parseInt(dt,10);return et<0?0:et>255?255:et}function parse360$4(dt){return(parseFloat(dt)%360+360)%360/360}function parse1$4(dt){const et=parseFloat(dt);return et<0?0:et>1?255:Math.round(et*255)}function parsePercentage$4(dt){const et=parseFloat(dt);return et<0?0:et>100?1:et/100}function colorToRgba$4(dt){let et=normalizeColor$4(dt);if(et===null)return dt;et=et||0;const $t=(et&4278190080)>>>24,kt=(et&16711680)>>>16,Tt=(et&65280)>>>8,Dt=(et&255)/255;return`rgba(${$t}, ${kt}, ${Tt}, ${Dt})`}var createInterpolator$4=(dt,et,$t)=>{if(is$4.fun(dt))return dt;if(is$4.arr(dt))return createInterpolator$4({range:dt,output:et,extrapolate:$t});if(is$4.str(dt.output[0]))return createStringInterpolator$4(dt);const kt=dt,Tt=kt.output,Dt=kt.range||[0,1],Ft=kt.extrapolateLeft||kt.extrapolate||"extend",Ut=kt.extrapolateRight||kt.extrapolate||"extend",Ht=kt.easing||(Kt=>Kt);return Kt=>{const Yt=findRange$4(Kt,Dt);return interpolate$5(Kt,Dt[Yt],Dt[Yt+1],Tt[Yt],Tt[Yt+1],Ht,Ft,Ut,kt.map)}};function interpolate$5(dt,et,$t,kt,Tt,Dt,Ft,Ut,Ht){let Kt=Ht?Ht(dt):dt;if(Kt<et){if(Ft==="identity")return Kt;Ft==="clamp"&&(Kt=et)}if(Kt>$t){if(Ut==="identity")return Kt;Ut==="clamp"&&(Kt=$t)}return kt===Tt?kt:et===$t?dt<=et?kt:Tt:(et===-1/0?Kt=-Kt:$t===1/0?Kt=Kt-et:Kt=(Kt-et)/($t-et),Kt=Dt(Kt),kt===-1/0?Kt=-Kt:Tt===1/0?Kt=Kt+kt:Kt=Kt*(Tt-kt)+kt,Kt)}function findRange$4(dt,et){for(var $t=1;$t<et.length-1&&!(et[$t]>=dt);++$t);return $t-1}var steps$3=(dt,et="end")=>$t=>{$t=et==="end"?Math.min($t,.999):Math.max($t,.001);const kt=$t*dt,Tt=et==="end"?Math.floor(kt):Math.ceil(kt);return clamp$3(0,1,Tt/dt)},c1$3=1.70158,c2$3=c1$3*1.525,c3$3=c1$3+1,c4$3=2*Math.PI/3,c5$3=2*Math.PI/4.5,bounceOut$3=dt=>dt<1/2.75?7.5625*dt*dt:dt<2/2.75?7.5625*(dt-=1.5/2.75)*dt+.75:dt<2.5/2.75?7.5625*(dt-=2.25/2.75)*dt+.9375:7.5625*(dt-=2.625/2.75)*dt+.984375,easings$3={linear:dt=>dt,easeInQuad:dt=>dt*dt,easeOutQuad:dt=>1-(1-dt)*(1-dt),easeInOutQuad:dt=>dt<.5?2*dt*dt:1-Math.pow(-2*dt+2,2)/2,easeInCubic:dt=>dt*dt*dt,easeOutCubic:dt=>1-Math.pow(1-dt,3),easeInOutCubic:dt=>dt<.5?4*dt*dt*dt:1-Math.pow(-2*dt+2,3)/2,easeInQuart:dt=>dt*dt*dt*dt,easeOutQuart:dt=>1-Math.pow(1-dt,4),easeInOutQuart:dt=>dt<.5?8*dt*dt*dt*dt:1-Math.pow(-2*dt+2,4)/2,easeInQuint:dt=>dt*dt*dt*dt*dt,easeOutQuint:dt=>1-Math.pow(1-dt,5),easeInOutQuint:dt=>dt<.5?16*dt*dt*dt*dt*dt:1-Math.pow(-2*dt+2,5)/2,easeInSine:dt=>1-Math.cos(dt*Math.PI/2),easeOutSine:dt=>Math.sin(dt*Math.PI/2),easeInOutSine:dt=>-(Math.cos(Math.PI*dt)-1)/2,easeInExpo:dt=>dt===0?0:Math.pow(2,10*dt-10),easeOutExpo:dt=>dt===1?1:1-Math.pow(2,-10*dt),easeInOutExpo:dt=>dt===0?0:dt===1?1:dt<.5?Math.pow(2,20*dt-10)/2:(2-Math.pow(2,-20*dt+10))/2,easeInCirc:dt=>1-Math.sqrt(1-Math.pow(dt,2)),easeOutCirc:dt=>Math.sqrt(1-Math.pow(dt-1,2)),easeInOutCirc:dt=>dt<.5?(1-Math.sqrt(1-Math.pow(2*dt,2)))/2:(Math.sqrt(1-Math.pow(-2*dt+2,2))+1)/2,easeInBack:dt=>c3$3*dt*dt*dt-c1$3*dt*dt,easeOutBack:dt=>1+c3$3*Math.pow(dt-1,3)+c1$3*Math.pow(dt-1,2),easeInOutBack:dt=>dt<.5?Math.pow(2*dt,2)*((c2$3+1)*2*dt-c2$3)/2:(Math.pow(2*dt-2,2)*((c2$3+1)*(dt*2-2)+c2$3)+2)/2,easeInElastic:dt=>dt===0?0:dt===1?1:-Math.pow(2,10*dt-10)*Math.sin((dt*10-10.75)*c4$3),easeOutElastic:dt=>dt===0?0:dt===1?1:Math.pow(2,-10*dt)*Math.sin((dt*10-.75)*c4$3)+1,easeInOutElastic:dt=>dt===0?0:dt===1?1:dt<.5?-(Math.pow(2,20*dt-10)*Math.sin((20*dt-11.125)*c5$3))/2:Math.pow(2,-20*dt+10)*Math.sin((20*dt-11.125)*c5$3)/2+1,easeInBounce:dt=>1-bounceOut$3(1-dt),easeOutBounce:bounceOut$3,easeInOutBounce:dt=>dt<.5?(1-bounceOut$3(1-2*dt))/2:(1+bounceOut$3(2*dt-1))/2,steps:steps$3},$get$4=Symbol.for("FluidValue.get"),$observers$4=Symbol.for("FluidValue.observers"),hasFluidValue$4=dt=>!!(dt&&dt[$get$4]),getFluidValue$4=dt=>dt&&dt[$get$4]?dt[$get$4]():dt,getFluidObservers$3=dt=>dt[$observers$4]||null;function callFluidObserver$4(dt,et){dt.eventObserved?dt.eventObserved(et):dt(et)}function callFluidObservers$4(dt,et){const $t=dt[$observers$4];$t&&$t.forEach(kt=>{callFluidObserver$4(kt,et)})}var FluidValue$4=class{constructor(et){if(!et&&!(et=this.get))throw Error("Unknown getter");setFluidGetter$4(this,et)}},setFluidGetter$4=(dt,et)=>setHidden$4(dt,$get$4,et);function addFluidObserver$4(dt,et){if(dt[$get$4]){let $t=dt[$observers$4];$t||setHidden$4(dt,$observers$4,$t=new Set),$t.has(et)||($t.add(et),dt.observerAdded&&dt.observerAdded($t.size,et))}return et}function removeFluidObserver$4(dt,et){const $t=dt[$observers$4];if($t&&$t.has(et)){const kt=$t.size-1;kt?$t.delete(et):dt[$observers$4]=null,dt.observerRemoved&&dt.observerRemoved(kt,et)}}var setHidden$4=(dt,et,$t)=>Object.defineProperty(dt,et,{value:$t,writable:!0,configurable:!0}),numberRegex$4=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,colorRegex$4=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,unitRegex$4=new RegExp(`(${numberRegex$4.source})(%|[a-z]+)`,"i"),rgbaRegex$4=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,cssVariableRegex$4=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,variableToRgba$4=dt=>{const[et,$t]=parseCSSVariable$4(dt);if(!et||isSSR$4())return dt;const kt=window.getComputedStyle(document.documentElement).getPropertyValue(et);if(kt)return kt.trim();if($t&&$t.startsWith("--")){const Tt=window.getComputedStyle(document.documentElement).getPropertyValue($t);return Tt||dt}else{if($t&&cssVariableRegex$4.test($t))return variableToRgba$4($t);if($t)return $t}return dt},parseCSSVariable$4=dt=>{const et=cssVariableRegex$4.exec(dt);if(!et)return[,];const[,$t,kt]=et;return[$t,kt]},namedColorRegex$4,rgbaRound$4=(dt,et,$t,kt,Tt)=>`rgba(${Math.round(et)}, ${Math.round($t)}, ${Math.round(kt)}, ${Tt})`,createStringInterpolator2$4=dt=>{namedColorRegex$4||(namedColorRegex$4=colors$5?new RegExp(`(${Object.keys(colors$5).join("|")})(?!\\w)`,"g"):/^\b$/);const et=dt.output.map(Dt=>getFluidValue$4(Dt).replace(cssVariableRegex$4,variableToRgba$4).replace(colorRegex$4,colorToRgba$4).replace(namedColorRegex$4,colorToRgba$4)),$t=et.map(Dt=>Dt.match(numberRegex$4).map(Number)),Tt=$t[0].map((Dt,Ft)=>$t.map(Ut=>{if(!(Ft in Ut))throw Error('The arity of each "output" value must be equal');return Ut[Ft]})).map(Dt=>createInterpolator$4({...dt,output:Dt}));return Dt=>{var Ht;const Ft=!unitRegex$4.test(et[0])&&((Ht=et.find(Kt=>unitRegex$4.test(Kt)))==null?void 0:Ht.replace(numberRegex$4,""));let Ut=0;return et[0].replace(numberRegex$4,()=>`${Tt[Ut++](Dt)}${Ft||""}`).replace(rgbaRegex$4,rgbaRound$4)}},prefix$4="react-spring: ",once$4=dt=>{const et=dt;let $t=!1;if(typeof et!="function")throw new TypeError(`${prefix$4}once requires a function parameter`);return(...kt)=>{$t||(et(...kt),$t=!0)}},warnInterpolate$4=once$4(console.warn);function deprecateInterpolate$4(){warnInterpolate$4(`${prefix$4}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var warnDirectCall$3=once$4(console.warn);function deprecateDirectCall$3(){warnDirectCall$3(`${prefix$4}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function isAnimatedString$4(dt){return is$4.str(dt)&&(dt[0]=="#"||/\d/.test(dt)||!isSSR$4()&&cssVariableRegex$4.test(dt)||dt in(colors$5||{}))}var useIsomorphicLayoutEffect$4=isSSR$4()?reactExports.useEffect:reactExports.useLayoutEffect,useIsMounted$4=()=>{const dt=reactExports.useRef(!1);return useIsomorphicLayoutEffect$4(()=>(dt.current=!0,()=>{dt.current=!1}),[]),dt};function useForceUpdate$4(){const dt=reactExports.useState()[1],et=useIsMounted$4();return()=>{et.current&&dt(Math.random())}}var useOnce$4=dt=>reactExports.useEffect(dt,emptyDeps$4),emptyDeps$4=[];function usePrev$3(dt){const et=reactExports.useRef(void 0);return reactExports.useEffect(()=>{et.current=dt}),et.current}var $node$4=Symbol.for("Animated:node"),isAnimated$4=dt=>!!dt&&dt[$node$4]===dt,getAnimated$4=dt=>dt&&dt[$node$4],setAnimated$4=(dt,et)=>defineHidden$4(dt,$node$4,et),getPayload$4=dt=>dt&&dt[$node$4]&&dt[$node$4].getPayload(),Animated$4=class{constructor(){setAnimated$4(this,this)}getPayload(){return this.payload||[]}},AnimatedValue$4=class G_ extends Animated$4{constructor(et){super(),this._value=et,this.done=!0,this.durationProgress=0,is$4.num(this._value)&&(this.lastPosition=this._value)}static create(et){return new G_(et)}getPayload(){return[this]}getValue(){return this._value}setValue(et,$t){return is$4.num(et)&&(this.lastPosition=et,$t&&(et=Math.round(et/$t)*$t,this.done&&(this.lastPosition=et))),this._value===et?!1:(this._value=et,!0)}reset(){const{done:et}=this;this.done=!1,is$4.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,et&&(this.lastVelocity=null),this.v0=null)}},AnimatedString$4=class W_ extends AnimatedValue$4{constructor(et){super(0),this._string=null,this._toString=createInterpolator$4({output:[et,et]})}static create(et){return new W_(et)}getValue(){const et=this._string;return et??(this._string=this._toString(this._value))}setValue(et){if(is$4.str(et)){if(et==this._string)return!1;this._string=et,this._value=1}else if(super.setValue(et))this._string=null;else return!1;return!0}reset(et){et&&(this._toString=createInterpolator$4({output:[this.getValue(),et]})),this._value=0,super.reset()}},TreeContext$4={dependencies:null},AnimatedObject$4=class extends Animated$4{constructor(et){super(),this.source=et,this.setValue(et)}getValue(et){const $t={};return eachProp$4(this.source,(kt,Tt)=>{isAnimated$4(kt)?$t[Tt]=kt.getValue(et):hasFluidValue$4(kt)?$t[Tt]=getFluidValue$4(kt):et||($t[Tt]=kt)}),$t}setValue(et){this.source=et,this.payload=this._makePayload(et)}reset(){this.payload&&each$4(this.payload,et=>et.reset())}_makePayload(et){if(et){const $t=new Set;return eachProp$4(et,this._addToPayload,$t),Array.from($t)}}_addToPayload(et){TreeContext$4.dependencies&&hasFluidValue$4(et)&&TreeContext$4.dependencies.add(et);const $t=getPayload$4(et);$t&&each$4($t,kt=>this.add(kt))}},AnimatedArray$4=class q_ extends AnimatedObject$4{constructor(et){super(et)}static create(et){return new q_(et)}getValue(){return this.source.map(et=>et.getValue())}setValue(et){const $t=this.getPayload();return et.length==$t.length?$t.map((kt,Tt)=>kt.setValue(et[Tt])).some(Boolean):(super.setValue(et.map(makeAnimated$4)),!0)}};function makeAnimated$4(dt){return(isAnimatedString$4(dt)?AnimatedString$4:AnimatedValue$4).create(dt)}function getAnimatedType$4(dt){const et=getAnimated$4(dt);return et?et.constructor:is$4.arr(dt)?AnimatedArray$4:isAnimatedString$4(dt)?AnimatedString$4:AnimatedValue$4}var withAnimated$4=(dt,et)=>{const $t=!is$4.fun(dt)||dt.prototype&&dt.prototype.isReactComponent;return reactExports.forwardRef((kt,Tt)=>{const Dt=reactExports.useRef(null),Ft=$t&&reactExports.useCallback(rr=>{Dt.current=updateRef$4(Tt,rr)},[Tt]),[Ut,Ht]=getAnimatedState$4(kt,et),Kt=useForceUpdate$4(),Yt=()=>{const rr=Dt.current;if($t&&!rr)return;(rr?et.applyAnimatedValues(rr,Ut.getValue(!0)):!1)===!1&&Kt()},Jt=new PropsObserver$4(Yt,Ht),Zt=reactExports.useRef(void 0);useIsomorphicLayoutEffect$4(()=>(Zt.current=Jt,each$4(Ht,rr=>addFluidObserver$4(rr,Jt)),()=>{Zt.current&&(each$4(Zt.current.deps,rr=>removeFluidObserver$4(rr,Zt.current)),raf$4.cancel(Zt.current.update))})),reactExports.useEffect(Yt,[]),useOnce$4(()=>()=>{const rr=Zt.current;each$4(rr.deps,sr=>removeFluidObserver$4(sr,rr))});const er=et.getComponentProps(Ut.getValue());return reactExports.createElement(dt,{...er,ref:Ft})})},PropsObserver$4=class{constructor(et,$t){this.update=et,this.deps=$t}eventObserved(et){et.type=="change"&&raf$4.write(this.update)}};function getAnimatedState$4(dt,et){const $t=new Set;return TreeContext$4.dependencies=$t,dt.style&&(dt={...dt,style:et.createAnimatedStyle(dt.style)}),dt=new AnimatedObject$4(dt),TreeContext$4.dependencies=null,[dt,$t]}function updateRef$4(dt,et){return dt&&(is$4.fun(dt)?dt(et):dt.current=et),et}var cacheKey$4=Symbol.for("AnimatedComponent"),createHost$4=(dt,{applyAnimatedValues:et=()=>!1,createAnimatedStyle:$t=Tt=>new AnimatedObject$4(Tt),getComponentProps:kt=Tt=>Tt}={})=>{const Tt={applyAnimatedValues:et,createAnimatedStyle:$t,getComponentProps:kt},Dt=Ft=>{const Ut=getDisplayName$4(Ft)||"Anonymous";return is$4.str(Ft)?Ft=Dt[Ft]||(Dt[Ft]=withAnimated$4(Ft,Tt)):Ft=Ft[cacheKey$4]||(Ft[cacheKey$4]=withAnimated$4(Ft,Tt)),Ft.displayName=`Animated(${Ut})`,Ft};return eachProp$4(dt,(Ft,Ut)=>{is$4.arr(dt)&&(Ut=getDisplayName$4(Ft)),Dt[Ut]=Dt(Ft)}),{animated:Dt}},getDisplayName$4=dt=>is$4.str(dt)?dt:dt&&is$4.str(dt.displayName)?dt.displayName:is$4.fun(dt)&&dt.name||null;function callProp$3(dt,...et){return is$4.fun(dt)?dt(...et):dt}var matchProp$3=(dt,et)=>dt===!0||!!(et&&dt&&(is$4.fun(dt)?dt(et):toArray$4(dt).includes(et))),resolveProp$3=(dt,et)=>is$4.obj(dt)?et&&dt[et]:dt,getDefaultProp$3=(dt,et)=>dt.default===!0?dt[et]:dt.default?dt.default[et]:void 0,noopTransform$3=dt=>dt,getDefaultProps$3=(dt,et=noopTransform$3)=>{let $t=DEFAULT_PROPS$3;dt.default&&dt.default!==!0&&(dt=dt.default,$t=Object.keys(dt));const kt={};for(const Tt of $t){const Dt=et(dt[Tt],Tt);is$4.und(Dt)||(kt[Tt]=Dt)}return kt},DEFAULT_PROPS$3=["config","onProps","onStart","onChange","onPause","onResume","onRest"],RESERVED_PROPS$3={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function getForwardProps$3(dt){const et={};let $t=0;if(eachProp$4(dt,(kt,Tt)=>{RESERVED_PROPS$3[Tt]||(et[Tt]=kt,$t++)}),$t)return et}function inferTo$3(dt){const et=getForwardProps$3(dt);if(et){const $t={to:et};return eachProp$4(dt,(kt,Tt)=>Tt in et||($t[Tt]=kt)),$t}return{...dt}}function computeGoal$3(dt){return dt=getFluidValue$4(dt),is$4.arr(dt)?dt.map(computeGoal$3):isAnimatedString$4(dt)?globals_exports$4.createStringInterpolator({range:[0,1],output:[dt,dt]})(1):dt}function hasProps$3(dt){for(const et in dt)return!0;return!1}function isAsyncTo$3(dt){return is$4.fun(dt)||is$4.arr(dt)&&is$4.obj(dt[0])}function detachRefs$3(dt,et){var $t;($t=dt.ref)==null||$t.delete(dt),et==null||et.delete(dt)}function replaceRef$3(dt,et){var $t;et&&dt.ref!==et&&(($t=dt.ref)==null||$t.delete(dt),et.add(dt),dt.ref=et)}var config$3={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},defaults$3={...config$3.default,mass:1,damping:1,easing:easings$3.linear,clamp:!1},AnimationConfig$3=class{constructor(){this.velocity=0,Object.assign(this,defaults$3)}};function mergeConfig$3(dt,et,$t){$t&&($t={...$t},sanitizeConfig$3($t,et),et={...$t,...et}),sanitizeConfig$3(dt,et),Object.assign(dt,et);for(const Ft in defaults$3)dt[Ft]==null&&(dt[Ft]=defaults$3[Ft]);let{frequency:kt,damping:Tt}=dt;const{mass:Dt}=dt;return is$4.und(kt)||(kt<.01&&(kt=.01),Tt<0&&(Tt=0),dt.tension=Math.pow(2*Math.PI/kt,2)*Dt,dt.friction=4*Math.PI*Tt*Dt/kt),dt}function sanitizeConfig$3(dt,et){if(!is$4.und(et.decay))dt.duration=void 0;else{const $t=!is$4.und(et.tension)||!is$4.und(et.friction);($t||!is$4.und(et.frequency)||!is$4.und(et.damping)||!is$4.und(et.mass))&&(dt.duration=void 0,dt.decay=void 0),$t&&(dt.frequency=void 0)}}var emptyArray$3=[],Animation$3=class{constructor(){this.changed=!1,this.values=emptyArray$3,this.toValues=null,this.fromValues=emptyArray$3,this.config=new AnimationConfig$3,this.immediate=!1}};function scheduleProps$3(dt,{key:et,props:$t,defaultProps:kt,state:Tt,actions:Dt}){return new Promise((Ft,Ut)=>{let Ht,Kt,Yt=matchProp$3($t.cancel??(kt==null?void 0:kt.cancel),et);if(Yt)er();else{is$4.und($t.pause)||(Tt.paused=matchProp$3($t.pause,et));let rr=kt==null?void 0:kt.pause;rr!==!0&&(rr=Tt.paused||matchProp$3(rr,et)),Ht=callProp$3($t.delay||0,et),rr?(Tt.resumeQueue.add(Zt),Dt.pause()):(Dt.resume(),Zt())}function Jt(){Tt.resumeQueue.add(Zt),Tt.timeouts.delete(Kt),Kt.cancel(),Ht=Kt.time-raf$4.now()}function Zt(){Ht>0&&!globals_exports$4.skipAnimation?(Tt.delayed=!0,Kt=raf$4.setTimeout(er,Ht),Tt.pauseQueue.add(Jt),Tt.timeouts.add(Kt)):er()}function er(){Tt.delayed&&(Tt.delayed=!1),Tt.pauseQueue.delete(Jt),Tt.timeouts.delete(Kt),dt<=(Tt.cancelId||0)&&(Yt=!0);try{Dt.start({...$t,callId:dt,cancel:Yt},Ft)}catch(rr){Ut(rr)}}})}var getCombinedResult$3=(dt,et)=>et.length==1?et[0]:et.some($t=>$t.cancelled)?getCancelledResult$3(dt.get()):et.every($t=>$t.noop)?getNoopResult$3(dt.get()):getFinishedResult$3(dt.get(),et.every($t=>$t.finished)),getNoopResult$3=dt=>({value:dt,noop:!0,finished:!0,cancelled:!1}),getFinishedResult$3=(dt,et,$t=!1)=>({value:dt,finished:et,cancelled:$t}),getCancelledResult$3=dt=>({value:dt,cancelled:!0,finished:!1});function runAsync$3(dt,et,$t,kt){const{callId:Tt,parentId:Dt,onRest:Ft}=et,{asyncTo:Ut,promise:Ht}=$t;return!Dt&&dt===Ut&&!et.reset?Ht:$t.promise=(async()=>{$t.asyncId=Tt,$t.asyncTo=dt;const Kt=getDefaultProps$3(et,(ir,nr)=>nr==="onRest"?void 0:ir);let Yt,Jt;const Zt=new Promise((ir,nr)=>(Yt=ir,Jt=nr)),er=ir=>{const nr=Tt<=($t.cancelId||0)&&getCancelledResult$3(kt)||Tt!==$t.asyncId&&getFinishedResult$3(kt,!1);if(nr)throw ir.result=nr,Jt(ir),ir},rr=(ir,nr)=>{const or=new BailSignal$3,lr=new SkipAnimationSignal$3;return(async()=>{if(globals_exports$4.skipAnimation)throw stopAsync$3($t),lr.result=getFinishedResult$3(kt,!1),Jt(lr),lr;er(or);const cr=is$4.obj(ir)?{...ir}:{...nr,to:ir};cr.parentId=Tt,eachProp$4(Kt,(ur,pr)=>{is$4.und(cr[pr])&&(cr[pr]=ur)});const dr=await kt.start(cr);return er(or),$t.paused&&await new Promise(ur=>{$t.resumeQueue.add(ur)}),dr})()};let sr;if(globals_exports$4.skipAnimation)return stopAsync$3($t),getFinishedResult$3(kt,!1);try{let ir;is$4.arr(dt)?ir=(async nr=>{for(const or of nr)await rr(or)})(dt):ir=Promise.resolve(dt(rr,kt.stop.bind(kt))),await Promise.all([ir.then(Yt),Zt]),sr=getFinishedResult$3(kt.get(),!0,!1)}catch(ir){if(ir instanceof BailSignal$3)sr=ir.result;else if(ir instanceof SkipAnimationSignal$3)sr=ir.result;else throw ir}finally{Tt==$t.asyncId&&($t.asyncId=Dt,$t.asyncTo=Dt?Ut:void 0,$t.promise=Dt?Ht:void 0)}return is$4.fun(Ft)&&raf$4.batchedUpdates(()=>{Ft(sr,kt,kt.item)}),sr})()}function stopAsync$3(dt,et){flush$3(dt.timeouts,$t=>$t.cancel()),dt.pauseQueue.clear(),dt.resumeQueue.clear(),dt.asyncId=dt.asyncTo=dt.promise=void 0,et&&(dt.cancelId=et)}var BailSignal$3=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},SkipAnimationSignal$3=class extends Error{constructor(){super("SkipAnimationSignal")}},isFrameValue$4=dt=>dt instanceof FrameValue$4,nextId$4=1,FrameValue$4=class extends FluidValue$4{constructor(){super(...arguments),this.id=nextId$4++,this._priority=0}get priority(){return this._priority}set priority(et){this._priority!=et&&(this._priority=et,this._onPriorityChange(et))}get(){const et=getAnimated$4(this);return et&&et.getValue()}to(...et){return globals_exports$4.to(this,et)}interpolate(...et){return deprecateInterpolate$4(),globals_exports$4.to(this,et)}toJSON(){return this.get()}observerAdded(et){et==1&&this._attach()}observerRemoved(et){et==0&&this._detach()}_attach(){}_detach(){}_onChange(et,$t=!1){callFluidObservers$4(this,{type:"change",parent:this,value:et,idle:$t})}_onPriorityChange(et){this.idle||frameLoop$4.sort(this),callFluidObservers$4(this,{type:"priority",parent:this,priority:et})}},$P$3=Symbol.for("SpringPhase"),HAS_ANIMATED$3=1,IS_ANIMATING$3=2,IS_PAUSED$3=4,hasAnimated$3=dt=>(dt[$P$3]&HAS_ANIMATED$3)>0,isAnimating$3=dt=>(dt[$P$3]&IS_ANIMATING$3)>0,isPaused$3=dt=>(dt[$P$3]&IS_PAUSED$3)>0,setActiveBit$3=(dt,et)=>et?dt[$P$3]|=IS_ANIMATING$3|HAS_ANIMATED$3:dt[$P$3]&=~IS_ANIMATING$3,setPausedBit$3=(dt,et)=>et?dt[$P$3]|=IS_PAUSED$3:dt[$P$3]&=~IS_PAUSED$3,SpringValue$3=class extends FrameValue$4{constructor(et,$t){if(super(),this.animation=new Animation$3,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!is$4.und(et)||!is$4.und($t)){const kt=is$4.obj(et)?{...et}:{...$t,from:et};is$4.und(kt.default)&&(kt.default=!0),this.start(kt)}}get idle(){return!(isAnimating$3(this)||this._state.asyncTo)||isPaused$3(this)}get goal(){return getFluidValue$4(this.animation.to)}get velocity(){const et=getAnimated$4(this);return et instanceof AnimatedValue$4?et.lastVelocity||0:et.getPayload().map($t=>$t.lastVelocity||0)}get hasAnimated(){return hasAnimated$3(this)}get isAnimating(){return isAnimating$3(this)}get isPaused(){return isPaused$3(this)}get isDelayed(){return this._state.delayed}advance(et){let $t=!0,kt=!1;const Tt=this.animation;let{toValues:Dt}=Tt;const{config:Ft}=Tt,Ut=getPayload$4(Tt.to);!Ut&&hasFluidValue$4(Tt.to)&&(Dt=toArray$4(getFluidValue$4(Tt.to))),Tt.values.forEach((Yt,Jt)=>{if(Yt.done)return;const Zt=Yt.constructor==AnimatedString$4?1:Ut?Ut[Jt].lastPosition:Dt[Jt];let er=Tt.immediate,rr=Zt;if(!er){if(rr=Yt.lastPosition,Ft.tension<=0){Yt.done=!0;return}let sr=Yt.elapsedTime+=et;const ir=Tt.fromValues[Jt],nr=Yt.v0!=null?Yt.v0:Yt.v0=is$4.arr(Ft.velocity)?Ft.velocity[Jt]:Ft.velocity;let or;const lr=Ft.precision||(ir==Zt?.005:Math.min(1,Math.abs(Zt-ir)*.001));if(is$4.und(Ft.duration))if(Ft.decay){const cr=Ft.decay===!0?.998:Ft.decay,dr=Math.exp(-(1-cr)*sr);rr=ir+nr/(1-cr)*(1-dr),er=Math.abs(Yt.lastPosition-rr)<=lr,or=nr*dr}else{or=Yt.lastVelocity==null?nr:Yt.lastVelocity;const cr=Ft.restVelocity||lr/10,dr=Ft.clamp?0:Ft.bounce,ur=!is$4.und(dr),pr=ir==Zt?Yt.v0>0:ir<Zt;let mr,vr=!1;const kr=1,br=Math.ceil(et/kr);for(let _r=0;_r<br&&(mr=Math.abs(or)>cr,!(!mr&&(er=Math.abs(Zt-rr)<=lr,er)));++_r){ur&&(vr=rr==Zt||rr>Zt==pr,vr&&(or=-or*dr,rr=Zt));const Or=-Ft.tension*1e-6*(rr-Zt),Pr=-Ft.friction*.001*or,Mr=(Or+Pr)/Ft.mass;or=or+Mr*kr,rr=rr+or*kr}}else{let cr=1;Ft.duration>0&&(this._memoizedDuration!==Ft.duration&&(this._memoizedDuration=Ft.duration,Yt.durationProgress>0&&(Yt.elapsedTime=Ft.duration*Yt.durationProgress,sr=Yt.elapsedTime+=et)),cr=(Ft.progress||0)+sr/this._memoizedDuration,cr=cr>1?1:cr<0?0:cr,Yt.durationProgress=cr),rr=ir+Ft.easing(cr)*(Zt-ir),or=(rr-Yt.lastPosition)/et,er=cr==1}Yt.lastVelocity=or,Number.isNaN(rr)&&(console.warn("Got NaN while animating:",this),er=!0)}Ut&&!Ut[Jt].done&&(er=!1),er?Yt.done=!0:$t=!1,Yt.setValue(rr,Ft.round)&&(kt=!0)});const Ht=getAnimated$4(this),Kt=Ht.getValue();if($t){const Yt=getFluidValue$4(Tt.to);(Kt!==Yt||kt)&&!Ft.decay?(Ht.setValue(Yt),this._onChange(Yt)):kt&&Ft.decay&&this._onChange(Kt),this._stop()}else kt&&this._onChange(Kt)}set(et){return raf$4.batchedUpdates(()=>{this._stop(),this._focus(et),this._set(et)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(isAnimating$3(this)){const{to:et,config:$t}=this.animation;raf$4.batchedUpdates(()=>{this._onStart(),$t.decay||this._set(et,!1),this._stop()})}return this}update(et){return(this.queue||(this.queue=[])).push(et),this}start(et,$t){let kt;return is$4.und(et)?(kt=this.queue||[],this.queue=[]):kt=[is$4.obj(et)?et:{...$t,to:et}],Promise.all(kt.map(Tt=>this._update(Tt))).then(Tt=>getCombinedResult$3(this,Tt))}stop(et){const{to:$t}=this.animation;return this._focus(this.get()),stopAsync$3(this._state,et&&this._lastCallId),raf$4.batchedUpdates(()=>this._stop($t,et)),this}reset(){this._update({reset:!0})}eventObserved(et){et.type=="change"?this._start():et.type=="priority"&&(this.priority=et.priority+1)}_prepareNode(et){const $t=this.key||"";let{to:kt,from:Tt}=et;kt=is$4.obj(kt)?kt[$t]:kt,(kt==null||isAsyncTo$3(kt))&&(kt=void 0),Tt=is$4.obj(Tt)?Tt[$t]:Tt,Tt==null&&(Tt=void 0);const Dt={to:kt,from:Tt};return hasAnimated$3(this)||(et.reverse&&([kt,Tt]=[Tt,kt]),Tt=getFluidValue$4(Tt),is$4.und(Tt)?getAnimated$4(this)||this._set(kt):this._set(Tt)),Dt}_update({...et},$t){const{key:kt,defaultProps:Tt}=this;et.default&&Object.assign(Tt,getDefaultProps$3(et,(Ut,Ht)=>/^on/.test(Ht)?resolveProp$3(Ut,kt):Ut)),mergeActiveFn$3(this,et,"onProps"),sendEvent$3(this,"onProps",et,this);const Dt=this._prepareNode(et);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const Ft=this._state;return scheduleProps$3(++this._lastCallId,{key:kt,props:et,defaultProps:Tt,state:Ft,actions:{pause:()=>{isPaused$3(this)||(setPausedBit$3(this,!0),flushCalls$3(Ft.pauseQueue),sendEvent$3(this,"onPause",getFinishedResult$3(this,checkFinished$3(this,this.animation.to)),this))},resume:()=>{isPaused$3(this)&&(setPausedBit$3(this,!1),isAnimating$3(this)&&this._resume(),flushCalls$3(Ft.resumeQueue),sendEvent$3(this,"onResume",getFinishedResult$3(this,checkFinished$3(this,this.animation.to)),this))},start:this._merge.bind(this,Dt)}}).then(Ut=>{if(et.loop&&Ut.finished&&!($t&&Ut.noop)){const Ht=createLoopUpdate$3(et);if(Ht)return this._update(Ht,!0)}return Ut})}_merge(et,$t,kt){if($t.cancel)return this.stop(!0),kt(getCancelledResult$3(this));const Tt=!is$4.und(et.to),Dt=!is$4.und(et.from);if(Tt||Dt)if($t.callId>this._lastToId)this._lastToId=$t.callId;else return kt(getCancelledResult$3(this));const{key:Ft,defaultProps:Ut,animation:Ht}=this,{to:Kt,from:Yt}=Ht;let{to:Jt=Kt,from:Zt=Yt}=et;Dt&&!Tt&&(!$t.default||is$4.und(Jt))&&(Jt=Zt),$t.reverse&&([Jt,Zt]=[Zt,Jt]);const er=!isEqual$5(Zt,Yt);er&&(Ht.from=Zt),Zt=getFluidValue$4(Zt);const rr=!isEqual$5(Jt,Kt);rr&&this._focus(Jt);const sr=isAsyncTo$3($t.to),{config:ir}=Ht,{decay:nr,velocity:or}=ir;(Tt||Dt)&&(ir.velocity=0),$t.config&&!sr&&mergeConfig$3(ir,callProp$3($t.config,Ft),$t.config!==Ut.config?callProp$3(Ut.config,Ft):void 0);let lr=getAnimated$4(this);if(!lr||is$4.und(Jt))return kt(getFinishedResult$3(this,!0));const cr=is$4.und($t.reset)?Dt&&!$t.default:!is$4.und(Zt)&&matchProp$3($t.reset,Ft),dr=cr?Zt:this.get(),ur=computeGoal$3(Jt),pr=is$4.num(ur)||is$4.arr(ur)||isAnimatedString$4(ur),mr=!sr&&(!pr||matchProp$3(Ut.immediate||$t.immediate,Ft));if(rr){const _r=getAnimatedType$4(Jt);if(_r!==lr.constructor)if(mr)lr=this._set(ur);else throw Error(`Cannot animate between ${lr.constructor.name} and ${_r.name}, as the "to" prop suggests`)}const vr=lr.constructor;let kr=hasFluidValue$4(Jt),br=!1;if(!kr){const _r=cr||!hasAnimated$3(this)&&er;(rr||_r)&&(br=isEqual$5(computeGoal$3(dr),ur),kr=!br),(!isEqual$5(Ht.immediate,mr)&&!mr||!isEqual$5(ir.decay,nr)||!isEqual$5(ir.velocity,or))&&(kr=!0)}if(br&&isAnimating$3(this)&&(Ht.changed&&!cr?kr=!0:kr||this._stop(Kt)),!sr&&((kr||hasFluidValue$4(Kt))&&(Ht.values=lr.getPayload(),Ht.toValues=hasFluidValue$4(Jt)?null:vr==AnimatedString$4?[1]:toArray$4(ur)),Ht.immediate!=mr&&(Ht.immediate=mr,!mr&&!cr&&this._set(Kt)),kr)){const{onRest:_r}=Ht;each$4(ACTIVE_EVENTS$3,Pr=>mergeActiveFn$3(this,$t,Pr));const Or=getFinishedResult$3(this,checkFinished$3(this,Kt));flushCalls$3(this._pendingCalls,Or),this._pendingCalls.add(kt),Ht.changed&&raf$4.batchedUpdates(()=>{var Pr;Ht.changed=!cr,_r==null||_r(Or,this),cr?callProp$3(Ut.onRest,Or):(Pr=Ht.onStart)==null||Pr.call(Ht,Or,this)})}cr&&this._set(dr),sr?kt(runAsync$3($t.to,$t,this._state,this)):kr?this._start():isAnimating$3(this)&&!rr?this._pendingCalls.add(kt):kt(getNoopResult$3(dr))}_focus(et){const $t=this.animation;et!==$t.to&&(getFluidObservers$3(this)&&this._detach(),$t.to=et,getFluidObservers$3(this)&&this._attach())}_attach(){let et=0;const{to:$t}=this.animation;hasFluidValue$4($t)&&(addFluidObserver$4($t,this),isFrameValue$4($t)&&(et=$t.priority+1)),this.priority=et}_detach(){const{to:et}=this.animation;hasFluidValue$4(et)&&removeFluidObserver$4(et,this)}_set(et,$t=!0){const kt=getFluidValue$4(et);if(!is$4.und(kt)){const Tt=getAnimated$4(this);if(!Tt||!isEqual$5(kt,Tt.getValue())){const Dt=getAnimatedType$4(kt);!Tt||Tt.constructor!=Dt?setAnimated$4(this,Dt.create(kt)):Tt.setValue(kt),Tt&&raf$4.batchedUpdates(()=>{this._onChange(kt,$t)})}}return getAnimated$4(this)}_onStart(){const et=this.animation;et.changed||(et.changed=!0,sendEvent$3(this,"onStart",getFinishedResult$3(this,checkFinished$3(this,et.to)),this))}_onChange(et,$t){$t||(this._onStart(),callProp$3(this.animation.onChange,et,this)),callProp$3(this.defaultProps.onChange,et,this),super._onChange(et,$t)}_start(){const et=this.animation;getAnimated$4(this).reset(getFluidValue$4(et.to)),et.immediate||(et.fromValues=et.values.map($t=>$t.lastPosition)),isAnimating$3(this)||(setActiveBit$3(this,!0),isPaused$3(this)||this._resume())}_resume(){globals_exports$4.skipAnimation?this.finish():frameLoop$4.start(this)}_stop(et,$t){if(isAnimating$3(this)){setActiveBit$3(this,!1);const kt=this.animation;each$4(kt.values,Dt=>{Dt.done=!0}),kt.toValues&&(kt.onChange=kt.onPause=kt.onResume=void 0),callFluidObservers$4(this,{type:"idle",parent:this});const Tt=$t?getCancelledResult$3(this.get()):getFinishedResult$3(this.get(),checkFinished$3(this,et??kt.to));flushCalls$3(this._pendingCalls,Tt),kt.changed&&(kt.changed=!1,sendEvent$3(this,"onRest",Tt,this))}}};function checkFinished$3(dt,et){const $t=computeGoal$3(et),kt=computeGoal$3(dt.get());return isEqual$5(kt,$t)}function createLoopUpdate$3(dt,et=dt.loop,$t=dt.to){const kt=callProp$3(et);if(kt){const Tt=kt!==!0&&inferTo$3(kt),Dt=(Tt||dt).reverse,Ft=!Tt||Tt.reset;return createUpdate$3({...dt,loop:et,default:!1,pause:void 0,to:!Dt||isAsyncTo$3($t)?$t:void 0,from:Ft?dt.from:void 0,reset:Ft,...Tt})}}function createUpdate$3(dt){const{to:et,from:$t}=dt=inferTo$3(dt),kt=new Set;return is$4.obj(et)&&findDefined$3(et,kt),is$4.obj($t)&&findDefined$3($t,kt),dt.keys=kt.size?Array.from(kt):null,dt}function declareUpdate$2(dt){const et=createUpdate$3(dt);return is$4.und(et.default)&&(et.default=getDefaultProps$3(et)),et}function findDefined$3(dt,et){eachProp$4(dt,($t,kt)=>$t!=null&&et.add(kt))}var ACTIVE_EVENTS$3=["onStart","onRest","onChange","onPause","onResume"];function mergeActiveFn$3(dt,et,$t){dt.animation[$t]=et[$t]!==getDefaultProp$3(et,$t)?resolveProp$3(et[$t],dt.key):void 0}function sendEvent$3(dt,et,...$t){var kt,Tt,Dt,Ft;(Tt=(kt=dt.animation)[et])==null||Tt.call(kt,...$t),(Ft=(Dt=dt.defaultProps)[et])==null||Ft.call(Dt,...$t)}var BATCHED_EVENTS$3=["onStart","onChange","onRest"],nextId2$3=1,Controller$3=class{constructor(et,$t){this.id=nextId2$3++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),$t&&(this._flush=$t),et&&this.start({default:!0,...et})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(et=>et.idle&&!et.isDelayed&&!et.isPaused)}get item(){return this._item}set item(et){this._item=et}get(){const et={};return this.each(($t,kt)=>et[kt]=$t.get()),et}set(et){for(const $t in et){const kt=et[$t];is$4.und(kt)||this.springs[$t].set(kt)}}update(et){return et&&this.queue.push(createUpdate$3(et)),this}start(et){let{queue:$t}=this;return et?$t=toArray$4(et).map(createUpdate$3):this.queue=[],this._flush?this._flush(this,$t):(prepareKeys$3(this,$t),flushUpdateQueue$3(this,$t))}stop(et,$t){if(et!==!!et&&($t=et),$t){const kt=this.springs;each$4(toArray$4($t),Tt=>kt[Tt].stop(!!et))}else stopAsync$3(this._state,this._lastAsyncId),this.each(kt=>kt.stop(!!et));return this}pause(et){if(is$4.und(et))this.start({pause:!0});else{const $t=this.springs;each$4(toArray$4(et),kt=>$t[kt].pause())}return this}resume(et){if(is$4.und(et))this.start({pause:!1});else{const $t=this.springs;each$4(toArray$4(et),kt=>$t[kt].resume())}return this}each(et){eachProp$4(this.springs,et)}_onFrame(){const{onStart:et,onChange:$t,onRest:kt}=this._events,Tt=this._active.size>0,Dt=this._changed.size>0;(Tt&&!this._started||Dt&&!this._started)&&(this._started=!0,flush$3(et,([Ht,Kt])=>{Kt.value=this.get(),Ht(Kt,this,this._item)}));const Ft=!Tt&&this._started,Ut=Dt||Ft&&kt.size?this.get():null;Dt&&$t.size&&flush$3($t,([Ht,Kt])=>{Kt.value=Ut,Ht(Kt,this,this._item)}),Ft&&(this._started=!1,flush$3(kt,([Ht,Kt])=>{Kt.value=Ut,Ht(Kt,this,this._item)}))}eventObserved(et){if(et.type=="change")this._changed.add(et.parent),et.idle||this._active.add(et.parent);else if(et.type=="idle")this._active.delete(et.parent);else return;raf$4.onFrame(this._onFrame)}};function flushUpdateQueue$3(dt,et){return Promise.all(et.map($t=>flushUpdate$3(dt,$t))).then($t=>getCombinedResult$3(dt,$t))}async function flushUpdate$3(dt,et,$t){const{keys:kt,to:Tt,from:Dt,loop:Ft,onRest:Ut,onResolve:Ht}=et,Kt=is$4.obj(et.default)&&et.default;Ft&&(et.loop=!1),Tt===!1&&(et.to=null),Dt===!1&&(et.from=null);const Yt=is$4.arr(Tt)||is$4.fun(Tt)?Tt:void 0;Yt?(et.to=void 0,et.onRest=void 0,Kt&&(Kt.onRest=void 0)):each$4(BATCHED_EVENTS$3,sr=>{const ir=et[sr];if(is$4.fun(ir)){const nr=dt._events[sr];et[sr]=({finished:or,cancelled:lr})=>{const cr=nr.get(ir);cr?(or||(cr.finished=!1),lr&&(cr.cancelled=!0)):nr.set(ir,{value:null,finished:or||!1,cancelled:lr||!1})},Kt&&(Kt[sr]=et[sr])}});const Jt=dt._state;et.pause===!Jt.paused?(Jt.paused=et.pause,flushCalls$3(et.pause?Jt.pauseQueue:Jt.resumeQueue)):Jt.paused&&(et.pause=!0);const Zt=(kt||Object.keys(dt.springs)).map(sr=>dt.springs[sr].start(et)),er=et.cancel===!0||getDefaultProp$3(et,"cancel")===!0;(Yt||er&&Jt.asyncId)&&Zt.push(scheduleProps$3(++dt._lastAsyncId,{props:et,state:Jt,actions:{pause:noop$7,resume:noop$7,start(sr,ir){er?(stopAsync$3(Jt,dt._lastAsyncId),ir(getCancelledResult$3(dt))):(sr.onRest=Ut,ir(runAsync$3(Yt,sr,Jt,dt)))}}})),Jt.paused&&await new Promise(sr=>{Jt.resumeQueue.add(sr)});const rr=getCombinedResult$3(dt,await Promise.all(Zt));if(Ft&&rr.finished&&!($t&&rr.noop)){const sr=createLoopUpdate$3(et,Ft,Tt);if(sr)return prepareKeys$3(dt,[sr]),flushUpdate$3(dt,sr,!0)}return Ht&&raf$4.batchedUpdates(()=>Ht(rr,dt,dt.item)),rr}function getSprings$3(dt,et){const $t={...dt.springs};return et&&each$4(toArray$4(et),kt=>{is$4.und(kt.keys)&&(kt=createUpdate$3(kt)),is$4.obj(kt.to)||(kt={...kt,to:void 0}),prepareSprings$3($t,kt,Tt=>createSpring$3(Tt))}),setSprings$3(dt,$t),$t}function setSprings$3(dt,et){eachProp$4(et,($t,kt)=>{dt.springs[kt]||(dt.springs[kt]=$t,addFluidObserver$4($t,dt))})}function createSpring$3(dt,et){const $t=new SpringValue$3;return $t.key=dt,et&&addFluidObserver$4($t,et),$t}function prepareSprings$3(dt,et,$t){et.keys&&each$4(et.keys,kt=>{(dt[kt]||(dt[kt]=$t(kt)))._prepareNode(et)})}function prepareKeys$3(dt,et){each$4(et,$t=>{prepareSprings$3(dt.springs,$t,kt=>createSpring$3(kt,dt))})}var SpringContext$3=reactExports.createContext({pause:!1,immediate:!1}),SpringRef$3=()=>{const dt=[],et=function(kt){deprecateDirectCall$3();const Tt=[];return each$4(dt,(Dt,Ft)=>{if(is$4.und(kt))Tt.push(Dt.start());else{const Ut=$t(kt,Dt,Ft);Ut&&Tt.push(Dt.start(Ut))}}),Tt};et.current=dt,et.add=function(kt){dt.includes(kt)||dt.push(kt)},et.delete=function(kt){const Tt=dt.indexOf(kt);~Tt&&dt.splice(Tt,1)},et.pause=function(){return each$4(dt,kt=>kt.pause(...arguments)),this},et.resume=function(){return each$4(dt,kt=>kt.resume(...arguments)),this},et.set=function(kt){each$4(dt,(Tt,Dt)=>{const Ft=is$4.fun(kt)?kt(Dt,Tt):kt;Ft&&Tt.set(Ft)})},et.start=function(kt){const Tt=[];return each$4(dt,(Dt,Ft)=>{if(is$4.und(kt))Tt.push(Dt.start());else{const Ut=this._getProps(kt,Dt,Ft);Ut&&Tt.push(Dt.start(Ut))}}),Tt},et.stop=function(){return each$4(dt,kt=>kt.stop(...arguments)),this},et.update=function(kt){return each$4(dt,(Tt,Dt)=>Tt.update(this._getProps(kt,Tt,Dt))),this};const $t=function(kt,Tt,Dt){return is$4.fun(kt)?kt(Dt,Tt):kt};return et._getProps=$t,et};function useSprings$2(dt,et,$t){const kt=is$4.fun(et)&&et;kt&&!$t&&($t=[]);const Tt=reactExports.useMemo(()=>kt||arguments.length==3?SpringRef$3():void 0,[]),Dt=reactExports.useRef(0),Ft=useForceUpdate$4(),Ut=reactExports.useMemo(()=>({ctrls:[],queue:[],flush(nr,or){const lr=getSprings$3(nr,or);return Dt.current>0&&!Ut.queue.length&&!Object.keys(lr).some(dr=>!nr.springs[dr])?flushUpdateQueue$3(nr,or):new Promise(dr=>{setSprings$3(nr,lr),Ut.queue.push(()=>{dr(flushUpdateQueue$3(nr,or))}),Ft()})}}),[]),Ht=reactExports.useRef([...Ut.ctrls]),Kt=reactExports.useRef([]),Yt=usePrev$3(dt)||0;reactExports.useMemo(()=>{each$4(Ht.current.slice(dt,Yt),nr=>{detachRefs$3(nr,Tt),nr.stop(!0)}),Ht.current.length=dt,Jt(Yt,dt)},[dt]),reactExports.useMemo(()=>{Jt(0,Math.min(Yt,dt))},$t);function Jt(nr,or){for(let lr=nr;lr<or;lr++){const cr=Ht.current[lr]||(Ht.current[lr]=new Controller$3(null,Ut.flush)),dr=kt?kt(lr,cr):et[lr];dr&&(Kt.current[lr]=declareUpdate$2(dr))}}const Zt=Ht.current.map((nr,or)=>getSprings$3(nr,Kt.current[or])),er=reactExports.useContext(SpringContext$3),rr=usePrev$3(er),sr=er!==rr&&hasProps$3(er);useIsomorphicLayoutEffect$4(()=>{Dt.current++,Ut.ctrls=Ht.current;const{queue:nr}=Ut;nr.length&&(Ut.queue=[],each$4(nr,or=>or())),each$4(Ht.current,(or,lr)=>{Tt==null||Tt.add(or),sr&&or.start({default:er});const cr=Kt.current[lr];cr&&(replaceRef$3(or,cr.ref),or.ref?or.queue.push(cr):or.start(cr))})}),useOnce$4(()=>()=>{each$4(Ut.ctrls,nr=>nr.stop(!0))});const ir=Zt.map(nr=>({...nr}));return Tt?[ir,Tt]:ir}function useSpring$2(dt,et){const $t=is$4.fun(dt),[[kt],Tt]=useSprings$2(1,$t?dt:[dt],$t?et||[]:et);return $t||arguments.length==2?[kt,Tt]:kt}var Interpolation$4=class extends FrameValue$4{constructor(et,$t){super(),this.source=et,this.idle=!0,this._active=new Set,this.calc=createInterpolator$4(...$t);const kt=this._get(),Tt=getAnimatedType$4(kt);setAnimated$4(this,Tt.create(kt))}advance(et){const $t=this._get(),kt=this.get();isEqual$5($t,kt)||(getAnimated$4(this).setValue($t),this._onChange($t,this.idle)),!this.idle&&checkIdle$4(this._active)&&becomeIdle$4(this)}_get(){const et=is$4.arr(this.source)?this.source.map(getFluidValue$4):toArray$4(getFluidValue$4(this.source));return this.calc(...et)}_start(){this.idle&&!checkIdle$4(this._active)&&(this.idle=!1,each$4(getPayload$4(this),et=>{et.done=!1}),globals_exports$4.skipAnimation?(raf$4.batchedUpdates(()=>this.advance()),becomeIdle$4(this)):frameLoop$4.start(this))}_attach(){let et=1;each$4(toArray$4(this.source),$t=>{hasFluidValue$4($t)&&addFluidObserver$4($t,this),isFrameValue$4($t)&&($t.idle||this._active.add($t),et=Math.max(et,$t.priority+1))}),this.priority=et,this._start()}_detach(){each$4(toArray$4(this.source),et=>{hasFluidValue$4(et)&&removeFluidObserver$4(et,this)}),this._active.clear(),becomeIdle$4(this)}eventObserved(et){et.type=="change"?et.idle?this.advance():(this._active.add(et.parent),this._start()):et.type=="idle"?this._active.delete(et.parent):et.type=="priority"&&(this.priority=toArray$4(this.source).reduce(($t,kt)=>Math.max($t,(isFrameValue$4(kt)?kt.priority:0)+1),0))}};function isIdle$4(dt){return dt.idle!==!1}function checkIdle$4(dt){return!dt.size||Array.from(dt).every(isIdle$4)}function becomeIdle$4(dt){dt.idle||(dt.idle=!0,each$4(getPayload$4(dt),et=>{et.done=!0}),callFluidObservers$4(dt,{type:"idle",parent:dt}))}var to$5=(dt,...et)=>new Interpolation$4(dt,et);globals_exports$4.assign({createStringInterpolator:createStringInterpolator2$4,to:(dt,et)=>new Interpolation$4(dt,et)});var isCustomPropRE$4=/^--/;function dangerousStyleValue$4(dt,et){return et==null||typeof et=="boolean"||et===""?"":typeof et=="number"&&et!==0&&!isCustomPropRE$4.test(dt)&&!(isUnitlessNumber$4.hasOwnProperty(dt)&&isUnitlessNumber$4[dt])?et+"px":(""+et).trim()}var attributeCache$4={};function applyAnimatedValues$4(dt,et){if(!dt.nodeType||!dt.setAttribute)return!1;const $t=dt.nodeName==="filter"||dt.parentNode&&dt.parentNode.nodeName==="filter",{className:kt,style:Tt,children:Dt,scrollTop:Ft,scrollLeft:Ut,viewBox:Ht,...Kt}=et,Yt=Object.values(Kt),Jt=Object.keys(Kt).map(Zt=>$t||dt.hasAttribute(Zt)?Zt:attributeCache$4[Zt]||(attributeCache$4[Zt]=Zt.replace(/([A-Z])/g,er=>"-"+er.toLowerCase())));Dt!==void 0&&(dt.textContent=Dt);for(const Zt in Tt)if(Tt.hasOwnProperty(Zt)){const er=dangerousStyleValue$4(Zt,Tt[Zt]);isCustomPropRE$4.test(Zt)?dt.style.setProperty(Zt,er):dt.style[Zt]=er}Jt.forEach((Zt,er)=>{dt.setAttribute(Zt,Yt[er])}),kt!==void 0&&(dt.className=kt),Ft!==void 0&&(dt.scrollTop=Ft),Ut!==void 0&&(dt.scrollLeft=Ut),Ht!==void 0&&dt.setAttribute("viewBox",Ht)}var isUnitlessNumber$4={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},prefixKey$4=(dt,et)=>dt+et.charAt(0).toUpperCase()+et.substring(1),prefixes$5=["Webkit","Ms","Moz","O"];isUnitlessNumber$4=Object.keys(isUnitlessNumber$4).reduce((dt,et)=>(prefixes$5.forEach($t=>dt[prefixKey$4($t,et)]=dt[et]),dt),isUnitlessNumber$4);var domTransforms$4=/^(matrix|translate|scale|rotate|skew)/,pxTransforms$4=/^(translate)/,degTransforms$4=/^(rotate|skew)/,addUnit$4=(dt,et)=>is$4.num(dt)&&dt!==0?dt+et:dt,isValueIdentity$4=(dt,et)=>is$4.arr(dt)?dt.every($t=>isValueIdentity$4($t,et)):is$4.num(dt)?dt===et:parseFloat(dt)===et,AnimatedStyle$4=class extends AnimatedObject$4{constructor({x:et,y:$t,z:kt,...Tt}){const Dt=[],Ft=[];(et||$t||kt)&&(Dt.push([et||0,$t||0,kt||0]),Ft.push(Ut=>[`translate3d(${Ut.map(Ht=>addUnit$4(Ht,"px")).join(",")})`,isValueIdentity$4(Ut,0)])),eachProp$4(Tt,(Ut,Ht)=>{if(Ht==="transform")Dt.push([Ut||""]),Ft.push(Kt=>[Kt,Kt===""]);else if(domTransforms$4.test(Ht)){if(delete Tt[Ht],is$4.und(Ut))return;const Kt=pxTransforms$4.test(Ht)?"px":degTransforms$4.test(Ht)?"deg":"";Dt.push(toArray$4(Ut)),Ft.push(Ht==="rotate3d"?([Yt,Jt,Zt,er])=>[`rotate3d(${Yt},${Jt},${Zt},${addUnit$4(er,Kt)})`,isValueIdentity$4(er,0)]:Yt=>[`${Ht}(${Yt.map(Jt=>addUnit$4(Jt,Kt)).join(",")})`,isValueIdentity$4(Yt,Ht.startsWith("scale")?1:0)])}}),Dt.length&&(Tt.transform=new FluidTransform$4(Dt,Ft)),super(Tt)}},FluidTransform$4=class extends FluidValue$4{constructor(et,$t){super(),this.inputs=et,this.transforms=$t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let et="",$t=!0;return each$4(this.inputs,(kt,Tt)=>{const Dt=getFluidValue$4(kt[0]),[Ft,Ut]=this.transforms[Tt](is$4.arr(Dt)?Dt:kt.map(getFluidValue$4));et+=" "+Ft,$t=$t&&Ut}),$t?"none":et}observerAdded(et){et==1&&each$4(this.inputs,$t=>each$4($t,kt=>hasFluidValue$4(kt)&&addFluidObserver$4(kt,this)))}observerRemoved(et){et==0&&each$4(this.inputs,$t=>each$4($t,kt=>hasFluidValue$4(kt)&&removeFluidObserver$4(kt,this)))}eventObserved(et){et.type=="change"&&(this._value=null),callFluidObservers$4(this,et)}},primitives$4=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];globals_exports$4.assign({batchedUpdates:reactDomExports.unstable_batchedUpdates,createStringInterpolator:createStringInterpolator2$4,colors:colors2$4});var host$4=createHost$4(primitives$4,{applyAnimatedValues:applyAnimatedValues$4,createAnimatedStyle:dt=>new AnimatedStyle$4(dt),getComponentProps:({scrollTop:dt,scrollLeft:et,...$t})=>$t}),animated$4=host$4.animated;let windowObject;typeof window<"u"?windowObject=window:typeof self<"u"?windowObject=self:windowObject=global;let cancelFrame=null,requestFrame=null;const TIMEOUT_DURATION=20,clearTimeoutFn=windowObject.clearTimeout,setTimeoutFn=windowObject.setTimeout,cancelAnimationFrameFn=windowObject.cancelAnimationFrame||windowObject.mozCancelAnimationFrame||windowObject.webkitCancelAnimationFrame,requestAnimationFrameFn=windowObject.requestAnimationFrame||windowObject.mozRequestAnimationFrame||windowObject.webkitRequestAnimationFrame;cancelAnimationFrameFn==null||requestAnimationFrameFn==null?(cancelFrame=clearTimeoutFn,requestFrame=function(et){return setTimeoutFn(et,TIMEOUT_DURATION)}):(cancelFrame=function([et,$t]){cancelAnimationFrameFn(et),clearTimeoutFn($t)},requestFrame=function(et){const $t=requestAnimationFrameFn(function(){clearTimeoutFn(kt),et()}),kt=setTimeoutFn(function(){cancelAnimationFrameFn($t),et()},TIMEOUT_DURATION);return[$t,kt]});function createDetectElementResize(dt){let et,$t,kt,Tt,Dt,Ft,Ut;const Ht=typeof document<"u"&&document.attachEvent;if(!Ht){Ft=function(nr){const or=nr.__resizeTriggers__,lr=or.firstElementChild,cr=or.lastElementChild,dr=lr.firstElementChild;cr.scrollLeft=cr.scrollWidth,cr.scrollTop=cr.scrollHeight,dr.style.width=lr.offsetWidth+1+"px",dr.style.height=lr.offsetHeight+1+"px",lr.scrollLeft=lr.scrollWidth,lr.scrollTop=lr.scrollHeight},Dt=function(nr){return nr.offsetWidth!==nr.__resizeLast__.width||nr.offsetHeight!==nr.__resizeLast__.height},Ut=function(nr){if(nr.target.className&&typeof nr.target.className.indexOf=="function"&&nr.target.className.indexOf("contract-trigger")<0&&nr.target.className.indexOf("expand-trigger")<0)return;const or=this;Ft(this),this.__resizeRAF__&&cancelFrame(this.__resizeRAF__),this.__resizeRAF__=requestFrame(function(){Dt(or)&&(or.__resizeLast__.width=or.offsetWidth,or.__resizeLast__.height=or.offsetHeight,or.__resizeListeners__.forEach(function(dr){dr.call(or,nr)}))})};let Zt=!1,er="";kt="animationstart";const rr="Webkit Moz O ms".split(" ");let sr="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),ir="";{const nr=document.createElement("fakeelement");if(nr.style.animationName!==void 0&&(Zt=!0),Zt===!1){for(let or=0;or<rr.length;or++)if(nr.style[rr[or]+"AnimationName"]!==void 0){ir=rr[or],er="-"+ir.toLowerCase()+"-",kt=sr[or],Zt=!0;break}}}$t="resizeanim",et="@"+er+"keyframes "+$t+" { from { opacity: 0; } to { opacity: 0; } } ",Tt=er+"animation: 1ms "+$t+"; "}const Kt=function(Zt){if(!Zt.getElementById("detectElementResize")){const er=(et||"")+".resize-triggers { "+(Tt||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',rr=Zt.head||Zt.getElementsByTagName("head")[0],sr=Zt.createElement("style");sr.id="detectElementResize",sr.type="text/css",dt!=null&&sr.setAttribute("nonce",dt),sr.styleSheet?sr.styleSheet.cssText=er:sr.appendChild(Zt.createTextNode(er)),rr.appendChild(sr)}};return{addResizeListener:function(Zt,er){if(Ht)Zt.attachEvent("onresize",er);else{if(!Zt.__resizeTriggers__){const rr=Zt.ownerDocument,sr=windowObject.getComputedStyle(Zt);sr&&sr.position==="static"&&(Zt.style.position="relative"),Kt(rr),Zt.__resizeLast__={},Zt.__resizeListeners__=[],(Zt.__resizeTriggers__=rr.createElement("div")).className="resize-triggers";const ir=rr.createElement("div");ir.className="expand-trigger",ir.appendChild(rr.createElement("div"));const nr=rr.createElement("div");nr.className="contract-trigger",Zt.__resizeTriggers__.appendChild(ir),Zt.__resizeTriggers__.appendChild(nr),Zt.appendChild(Zt.__resizeTriggers__),Ft(Zt),Zt.addEventListener("scroll",Ut,!0),kt&&(Zt.__resizeTriggers__.__animationListener__=function(lr){lr.animationName===$t&&Ft(Zt)},Zt.__resizeTriggers__.addEventListener(kt,Zt.__resizeTriggers__.__animationListener__))}Zt.__resizeListeners__.push(er)}},removeResizeListener:function(Zt,er){if(Ht)Zt.detachEvent("onresize",er);else if(Zt.__resizeListeners__.splice(Zt.__resizeListeners__.indexOf(er),1),!Zt.__resizeListeners__.length){Zt.removeEventListener("scroll",Ut,!0),Zt.__resizeTriggers__.__animationListener__&&(Zt.__resizeTriggers__.removeEventListener(kt,Zt.__resizeTriggers__.__animationListener__),Zt.__resizeTriggers__.__animationListener__=null);try{Zt.__resizeTriggers__=!Zt.removeChild(Zt.__resizeTriggers__)}catch{}}}}}class AutoSizer extends reactExports.Component{constructor(...et){super(...et),this.state={height:this.props.defaultHeight||0,width:this.props.defaultWidth||0},this._autoSizer=null,this._detectElementResize=null,this._didLogDeprecationWarning=!1,this._parentNode=null,this._resizeObserver=null,this._timeoutId=null,this._onResize=()=>{this._timeoutId=null;const{disableHeight:$t,disableWidth:kt,onResize:Tt}=this.props;if(this._parentNode){const Dt=window.getComputedStyle(this._parentNode)||{},Ft=parseFloat(Dt.paddingLeft||"0"),Ut=parseFloat(Dt.paddingRight||"0"),Ht=parseFloat(Dt.paddingTop||"0"),Kt=parseFloat(Dt.paddingBottom||"0"),Yt=this._parentNode.getBoundingClientRect(),Jt=Yt.height-Ht-Kt,Zt=Yt.width-Ft-Ut;if(!$t&&this.state.height!==Jt||!kt&&this.state.width!==Zt){this.setState({height:Jt,width:Zt});const er=()=>{this._didLogDeprecationWarning||(this._didLogDeprecationWarning=!0,console.warn("scaledWidth and scaledHeight parameters have been deprecated; use width and height instead"))};typeof Tt=="function"&&Tt({height:Jt,width:Zt,get scaledHeight(){return er(),Jt},get scaledWidth(){return er(),Zt}})}}},this._setRef=$t=>{this._autoSizer=$t}}componentDidMount(){const{nonce:et}=this.props,$t=this._autoSizer?this._autoSizer.parentNode:null;if($t!=null&&$t.ownerDocument&&$t.ownerDocument.defaultView&&$t instanceof $t.ownerDocument.defaultView.HTMLElement){this._parentNode=$t;const kt=$t.ownerDocument.defaultView.ResizeObserver;kt!=null?(this._resizeObserver=new kt(()=>{this._timeoutId=setTimeout(this._onResize,0)}),this._resizeObserver.observe($t)):(this._detectElementResize=createDetectElementResize(et),this._detectElementResize.addResizeListener($t,this._onResize)),this._onResize()}}componentWillUnmount(){this._parentNode&&(this._detectElementResize&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize),this._timeoutId!==null&&clearTimeout(this._timeoutId),this._resizeObserver&&this._resizeObserver.disconnect())}render(){const{children:et,defaultHeight:$t,defaultWidth:kt,disableHeight:Tt=!1,disableWidth:Dt=!1,doNotBailOutOnEmptyChildren:Ft=!1,nonce:Ut,onResize:Ht,style:Kt={},tagName:Yt="div",...Jt}=this.props,{height:Zt,width:er}=this.state,rr={overflow:"visible"},sr={};let ir=!1;return Tt||(Zt===0&&(ir=!0),rr.height=0,sr.height=Zt,sr.scaledHeight=Zt),Dt||(er===0&&(ir=!0),rr.width=0,sr.width=er,sr.scaledWidth=er),Ft&&(ir=!1),reactExports.createElement(Yt,{ref:this._setRef,style:{...rr,...Kt},...Jt},!ir&&et(sr))}}function c$3(dt,et,$t,kt){var Tt=this,Dt=reactExports.useRef(null),Ft=reactExports.useRef(0),Ut=reactExports.useRef(0),Ht=reactExports.useRef(null),Kt=reactExports.useRef([]),Yt=reactExports.useRef(),Jt=reactExports.useRef(),Zt=reactExports.useRef(dt),er=reactExports.useRef(!0);Zt.current=dt;var rr=typeof window<"u",sr=!et&&et!==0&&rr;if(typeof dt!="function")throw new TypeError("Expected a function");et=+et||0;var ir=!!($t=$t||{}).leading,nr=!("trailing"in $t)||!!$t.trailing,or="maxWait"in $t,lr="debounceOnServer"in $t&&!!$t.debounceOnServer,cr=or?Math.max(+$t.maxWait||0,et):null;reactExports.useEffect(function(){return er.current=!0,function(){er.current=!1}},[]);var dr=reactExports.useMemo(function(){var ur=function(Or){var Pr=Kt.current,Mr=Yt.current;return Kt.current=Yt.current=null,Ft.current=Or,Ut.current=Ut.current||Or,Jt.current=Zt.current.apply(Mr,Pr)},pr=function(Or,Pr){sr&&cancelAnimationFrame(Ht.current),Ht.current=sr?requestAnimationFrame(Or):setTimeout(Or,Pr)},mr=function(Or){if(!er.current)return!1;var Pr=Or-Dt.current;return!Dt.current||Pr>=et||Pr<0||or&&Or-Ft.current>=cr},vr=function(Or){return Ht.current=null,nr&&Kt.current?ur(Or):(Kt.current=Yt.current=null,Jt.current)},kr=function Or(){var Pr=Date.now();if(ir&&Ut.current===Ft.current&&br(),mr(Pr))return vr(Pr);if(er.current){var Mr=et-(Pr-Dt.current),Rr=or?Math.min(Mr,cr-(Pr-Ft.current)):Mr;pr(Or,Rr)}},br=function(){kt&&kt({})},_r=function(){if(rr||lr){var Or=Date.now(),Pr=mr(Or);if(Kt.current=[].slice.call(arguments),Yt.current=Tt,Dt.current=Or,Pr){if(!Ht.current&&er.current)return Ft.current=Dt.current,pr(kr,et),ir?ur(Dt.current):Jt.current;if(or)return pr(kr,et),ur(Dt.current)}return Ht.current||pr(kr,et),Jt.current}};return _r.cancel=function(){var Or=Ht.current;Or&&(sr?cancelAnimationFrame(Ht.current):clearTimeout(Ht.current)),Ft.current=0,Kt.current=Dt.current=Yt.current=Ht.current=null,Or&&kt&&kt({})},_r.isPending=function(){return!!Ht.current},_r.flush=function(){return Ht.current?vr(Date.now()):Jt.current},_r},[ir,or,et,cr,nr,sr,rr,lr,kt]);return dr}function i$1(dt,et){return dt===et}function a$3(dt,et,$t){var kt=$t&&$t.equalityFn||i$1,Tt=reactExports.useRef(dt),Dt=reactExports.useState({})[1],Ft=c$3(reactExports.useCallback(function(Ht){Tt.current=Ht,Dt({})},[Dt]),et,$t,Dt),Ut=reactExports.useRef(dt);return kt(Ut.current,dt)||(Ft(dt),Ut.current=dt),[Tt.current,Ft]}function define(dt,et,$t){dt.prototype=et.prototype=$t,$t.constructor=dt}function extend(dt,et){var $t=Object.create(dt.prototype);for(var kt in et)$t[kt]=et[kt];return $t}function Color(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color,color,{copy(dt){return Object.assign(new this.constructor,this,dt)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color(dt){var et,$t;return dt=(dt+"").trim().toLowerCase(),(et=reHex.exec(dt))?($t=et[1].length,et=parseInt(et[1],16),$t===6?rgbn(et):$t===3?new Rgb(et>>8&15|et>>4&240,et>>4&15|et&240,(et&15)<<4|et&15,1):$t===8?rgba$4(et>>24&255,et>>16&255,et>>8&255,(et&255)/255):$t===4?rgba$4(et>>12&15|et>>8&240,et>>8&15|et>>4&240,et>>4&15|et&240,((et&15)<<4|et&15)/255):null):(et=reRgbInteger.exec(dt))?new Rgb(et[1],et[2],et[3],1):(et=reRgbPercent.exec(dt))?new Rgb(et[1]*255/100,et[2]*255/100,et[3]*255/100,1):(et=reRgbaInteger.exec(dt))?rgba$4(et[1],et[2],et[3],et[4]):(et=reRgbaPercent.exec(dt))?rgba$4(et[1]*255/100,et[2]*255/100,et[3]*255/100,et[4]):(et=reHslPercent.exec(dt))?hsla$4(et[1],et[2]/100,et[3]/100,1):(et=reHslaPercent.exec(dt))?hsla$4(et[1],et[2]/100,et[3]/100,et[4]):named.hasOwnProperty(dt)?rgbn(named[dt]):dt==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(dt){return new Rgb(dt>>16&255,dt>>8&255,dt&255,1)}function rgba$4(dt,et,$t,kt){return kt<=0&&(dt=et=$t=NaN),new Rgb(dt,et,$t,kt)}function rgbConvert(dt){return dt instanceof Color||(dt=color(dt)),dt?(dt=dt.rgb(),new Rgb(dt.r,dt.g,dt.b,dt.opacity)):new Rgb}function rgb$5(dt,et,$t,kt){return arguments.length===1?rgbConvert(dt):new Rgb(dt,et,$t,kt??1)}function Rgb(dt,et,$t,kt){this.r=+dt,this.g=+et,this.b=+$t,this.opacity=+kt}define(Rgb,rgb$5,extend(Color,{brighter(dt){return dt=dt==null?brighter:Math.pow(brighter,dt),new Rgb(this.r*dt,this.g*dt,this.b*dt,this.opacity)},darker(dt){return dt=dt==null?darker:Math.pow(darker,dt),new Rgb(this.r*dt,this.g*dt,this.b*dt,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const dt=clampa(this.opacity);return`${dt===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${dt===1?")":`, ${dt})`}`}function clampa(dt){return isNaN(dt)?1:Math.max(0,Math.min(1,dt))}function clampi(dt){return Math.max(0,Math.min(255,Math.round(dt)||0))}function hex(dt){return dt=clampi(dt),(dt<16?"0":"")+dt.toString(16)}function hsla$4(dt,et,$t,kt){return kt<=0?dt=et=$t=NaN:$t<=0||$t>=1?dt=et=NaN:et<=0&&(dt=NaN),new Hsl(dt,et,$t,kt)}function hslConvert(dt){if(dt instanceof Hsl)return new Hsl(dt.h,dt.s,dt.l,dt.opacity);if(dt instanceof Color||(dt=color(dt)),!dt)return new Hsl;if(dt instanceof Hsl)return dt;dt=dt.rgb();var et=dt.r/255,$t=dt.g/255,kt=dt.b/255,Tt=Math.min(et,$t,kt),Dt=Math.max(et,$t,kt),Ft=NaN,Ut=Dt-Tt,Ht=(Dt+Tt)/2;return Ut?(et===Dt?Ft=($t-kt)/Ut+($t<kt)*6:$t===Dt?Ft=(kt-et)/Ut+2:Ft=(et-$t)/Ut+4,Ut/=Ht<.5?Dt+Tt:2-Dt-Tt,Ft*=60):Ut=Ht>0&&Ht<1?0:Ft,new Hsl(Ft,Ut,Ht,dt.opacity)}function hsl$4(dt,et,$t,kt){return arguments.length===1?hslConvert(dt):new Hsl(dt,et,$t,kt??1)}function Hsl(dt,et,$t,kt){this.h=+dt,this.s=+et,this.l=+$t,this.opacity=+kt}define(Hsl,hsl$4,extend(Color,{brighter(dt){return dt=dt==null?brighter:Math.pow(brighter,dt),new Hsl(this.h,this.s,this.l*dt,this.opacity)},darker(dt){return dt=dt==null?darker:Math.pow(darker,dt),new Hsl(this.h,this.s,this.l*dt,this.opacity)},rgb(){var dt=this.h%360+(this.h<0)*360,et=isNaN(dt)||isNaN(this.s)?0:this.s,$t=this.l,kt=$t+($t<.5?$t:1-$t)*et,Tt=2*$t-kt;return new Rgb(hsl2rgb(dt>=240?dt-240:dt+120,Tt,kt),hsl2rgb(dt,Tt,kt),hsl2rgb(dt<120?dt+240:dt-120,Tt,kt),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const dt=clampa(this.opacity);return`${dt===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${dt===1?")":`, ${dt})`}`}}));function clamph(dt){return dt=(dt||0)%360,dt<0?dt+360:dt}function clampt(dt){return Math.max(0,Math.min(1,dt||0))}function hsl2rgb(dt,et,$t){return(dt<60?et+($t-et)*dt/60:dt<180?$t:dt<240?et+($t-et)*(240-dt)/60:et)*255}const radians=Math.PI/180,degrees=180/Math.PI;var A$4=-.14861,B$3=1.78277,C$3=-.29227,D$3=-.90649,E$5=1.97294,ED=E$5*D$3,EB=E$5*B$3,BC_DA=B$3*C$3-D$3*A$4;function cubehelixConvert(dt){if(dt instanceof Cubehelix)return new Cubehelix(dt.h,dt.s,dt.l,dt.opacity);dt instanceof Rgb||(dt=rgbConvert(dt));var et=dt.r/255,$t=dt.g/255,kt=dt.b/255,Tt=(BC_DA*kt+ED*et-EB*$t)/(BC_DA+ED-EB),Dt=kt-Tt,Ft=(E$5*($t-Tt)-C$3*Dt)/D$3,Ut=Math.sqrt(Ft*Ft+Dt*Dt)/(E$5*Tt*(1-Tt)),Ht=Ut?Math.atan2(Ft,Dt)*degrees-120:NaN;return new Cubehelix(Ht<0?Ht+360:Ht,Ut,Tt,dt.opacity)}function cubehelix$1(dt,et,$t,kt){return arguments.length===1?cubehelixConvert(dt):new Cubehelix(dt,et,$t,kt??1)}function Cubehelix(dt,et,$t,kt){this.h=+dt,this.s=+et,this.l=+$t,this.opacity=+kt}define(Cubehelix,cubehelix$1,extend(Color,{brighter(dt){return dt=dt==null?brighter:Math.pow(brighter,dt),new Cubehelix(this.h,this.s,this.l*dt,this.opacity)},darker(dt){return dt=dt==null?darker:Math.pow(darker,dt),new Cubehelix(this.h,this.s,this.l*dt,this.opacity)},rgb(){var dt=isNaN(this.h)?0:(this.h+120)*radians,et=+this.l,$t=isNaN(this.s)?0:this.s*et*(1-et),kt=Math.cos(dt),Tt=Math.sin(dt);return new Rgb(255*(et+$t*(A$4*kt+B$3*Tt)),255*(et+$t*(C$3*kt+D$3*Tt)),255*(et+$t*(E$5*kt)),this.opacity)}}));function basis(dt,et,$t,kt,Tt){var Dt=dt*dt,Ft=Dt*dt;return((1-3*dt+3*Dt-Ft)*et+(4-6*Dt+3*Ft)*$t+(1+3*dt+3*Dt-3*Ft)*kt+Ft*Tt)/6}function basis$1(dt){var et=dt.length-1;return function($t){var kt=$t<=0?$t=0:$t>=1?($t=1,et-1):Math.floor($t*et),Tt=dt[kt],Dt=dt[kt+1],Ft=kt>0?dt[kt-1]:2*Tt-Dt,Ut=kt<et-1?dt[kt+2]:2*Dt-Tt;return basis(($t-kt/et)*et,Ft,Tt,Dt,Ut)}}const constant$1=dt=>()=>dt;function linear$1(dt,et){return function($t){return dt+$t*et}}function exponential(dt,et,$t){return dt=Math.pow(dt,$t),et=Math.pow(et,$t)-dt,$t=1/$t,function(kt){return Math.pow(dt+kt*et,$t)}}function hue(dt,et){var $t=et-dt;return $t?linear$1(dt,$t>180||$t<-180?$t-360*Math.round($t/360):$t):constant$1(isNaN(dt)?et:dt)}function gamma(dt){return(dt=+dt)==1?nogamma:function(et,$t){return $t-et?exponential(et,$t,dt):constant$1(isNaN(et)?$t:et)}}function nogamma(dt,et){var $t=et-dt;return $t?linear$1(dt,$t):constant$1(isNaN(dt)?et:dt)}const rgb$4=function dt(et){var $t=gamma(et);function kt(Tt,Dt){var Ft=$t((Tt=rgb$5(Tt)).r,(Dt=rgb$5(Dt)).r),Ut=$t(Tt.g,Dt.g),Ht=$t(Tt.b,Dt.b),Kt=nogamma(Tt.opacity,Dt.opacity);return function(Yt){return Tt.r=Ft(Yt),Tt.g=Ut(Yt),Tt.b=Ht(Yt),Tt.opacity=Kt(Yt),Tt+""}}return kt.gamma=dt,kt}(1);function rgbSpline(dt){return function(et){var $t=et.length,kt=new Array($t),Tt=new Array($t),Dt=new Array($t),Ft,Ut;for(Ft=0;Ft<$t;++Ft)Ut=rgb$5(et[Ft]),kt[Ft]=Ut.r||0,Tt[Ft]=Ut.g||0,Dt[Ft]=Ut.b||0;return kt=dt(kt),Tt=dt(Tt),Dt=dt(Dt),Ut.opacity=1,function(Ht){return Ut.r=kt(Ht),Ut.g=Tt(Ht),Ut.b=Dt(Ht),Ut+""}}}var rgbBasis=rgbSpline(basis$1);function numberArray(dt,et){et||(et=[]);var $t=dt?Math.min(et.length,dt.length):0,kt=et.slice(),Tt;return function(Dt){for(Tt=0;Tt<$t;++Tt)kt[Tt]=dt[Tt]*(1-Dt)+et[Tt]*Dt;return kt}}function isNumberArray(dt){return ArrayBuffer.isView(dt)&&!(dt instanceof DataView)}function genericArray(dt,et){var $t=et?et.length:0,kt=dt?Math.min($t,dt.length):0,Tt=new Array(kt),Dt=new Array($t),Ft;for(Ft=0;Ft<kt;++Ft)Tt[Ft]=interpolate$4(dt[Ft],et[Ft]);for(;Ft<$t;++Ft)Dt[Ft]=et[Ft];return function(Ut){for(Ft=0;Ft<kt;++Ft)Dt[Ft]=Tt[Ft](Ut);return Dt}}function date$1(dt,et){var $t=new Date;return dt=+dt,et=+et,function(kt){return $t.setTime(dt*(1-kt)+et*kt),$t}}function p$2(dt,et){return dt=+dt,et=+et,function($t){return dt*(1-$t)+et*$t}}function object(dt,et){var $t={},kt={},Tt;(dt===null||typeof dt!="object")&&(dt={}),(et===null||typeof et!="object")&&(et={});for(Tt in et)Tt in dt?$t[Tt]=interpolate$4(dt[Tt],et[Tt]):kt[Tt]=et[Tt];return function(Dt){for(Tt in $t)kt[Tt]=$t[Tt](Dt);return kt}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero$1(dt){return function(){return dt}}function one(dt){return function(et){return dt(et)+""}}function B$2(dt,et){var $t=reA.lastIndex=reB.lastIndex=0,kt,Tt,Dt,Ft=-1,Ut=[],Ht=[];for(dt=dt+"",et=et+"";(kt=reA.exec(dt))&&(Tt=reB.exec(et));)(Dt=Tt.index)>$t&&(Dt=et.slice($t,Dt),Ut[Ft]?Ut[Ft]+=Dt:Ut[++Ft]=Dt),(kt=kt[0])===(Tt=Tt[0])?Ut[Ft]?Ut[Ft]+=Tt:Ut[++Ft]=Tt:(Ut[++Ft]=null,Ht.push({i:Ft,x:p$2(kt,Tt)})),$t=reB.lastIndex;return $t<et.length&&(Dt=et.slice($t),Ut[Ft]?Ut[Ft]+=Dt:Ut[++Ft]=Dt),Ut.length<2?Ht[0]?one(Ht[0].x):zero$1(et):(et=Ht.length,function(Kt){for(var Yt=0,Jt;Yt<et;++Yt)Ut[(Jt=Ht[Yt]).i]=Jt.x(Kt);return Ut.join("")})}function interpolate$4(dt,et){var $t=typeof et,kt;return et==null||$t==="boolean"?constant$1(et):($t==="number"?p$2:$t==="string"?(kt=color(et))?(et=kt,rgb$4):B$2:et instanceof color?rgb$4:et instanceof Date?date$1:isNumberArray(et)?numberArray:Array.isArray(et)?genericArray:typeof et.valueOf!="function"&&typeof et.toString!="function"||isNaN(et)?object:p$2)(dt,et)}function v$2(dt,et){return dt=+dt,et=+et,function($t){return Math.round(dt*(1-$t)+et*$t)}}function cubehelix(dt){return function et($t){$t=+$t;function kt(Tt,Dt){var Ft=dt((Tt=cubehelix$1(Tt)).h,(Dt=cubehelix$1(Dt)).h),Ut=nogamma(Tt.s,Dt.s),Ht=nogamma(Tt.l,Dt.l),Kt=nogamma(Tt.opacity,Dt.opacity);return function(Yt){return Tt.h=Ft(Yt),Tt.s=Ut(Yt),Tt.l=Ht(Math.pow(Yt,$t)),Tt.opacity=Kt(Yt),Tt+""}}return kt.gamma=et,kt}(1)}cubehelix(hue);var cubehelixLong=cubehelix(nogamma),HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd$1(dt){return this.__data__.set(dt,HASH_UNDEFINED),this}var _setCacheAdd=setCacheAdd$1;function setCacheHas$1(dt){return this.__data__.has(dt)}var _setCacheHas=setCacheHas$1,MapCache=_MapCache,setCacheAdd=_setCacheAdd,setCacheHas=_setCacheHas;function SetCache$3(dt){var et=-1,$t=dt==null?0:dt.length;for(this.__data__=new MapCache;++et<$t;)this.add(dt[et])}SetCache$3.prototype.add=SetCache$3.prototype.push=setCacheAdd;SetCache$3.prototype.has=setCacheHas;var _SetCache=SetCache$3;function baseFindIndex$1(dt,et,$t,kt){for(var Tt=dt.length,Dt=$t+(kt?1:-1);kt?Dt--:++Dt<Tt;)if(et(dt[Dt],Dt,dt))return Dt;return-1}var _baseFindIndex=baseFindIndex$1;function baseIsNaN$1(dt){return dt!==dt}var _baseIsNaN=baseIsNaN$1;function strictIndexOf$1(dt,et,$t){for(var kt=$t-1,Tt=dt.length;++kt<Tt;)if(dt[kt]===et)return kt;return-1}var _strictIndexOf=strictIndexOf$1,baseFindIndex=_baseFindIndex,baseIsNaN=_baseIsNaN,strictIndexOf=_strictIndexOf;function baseIndexOf$1(dt,et,$t){return et===et?strictIndexOf(dt,et,$t):baseFindIndex(dt,baseIsNaN,$t)}var _baseIndexOf=baseIndexOf$1,baseIndexOf=_baseIndexOf;function arrayIncludes$2(dt,et){var $t=dt==null?0:dt.length;return!!$t&&baseIndexOf(dt,et,0)>-1}var _arrayIncludes=arrayIncludes$2;function arrayIncludesWith$2(dt,et,$t){for(var kt=-1,Tt=dt==null?0:dt.length;++kt<Tt;)if($t(et,dt[kt]))return!0;return!1}var _arrayIncludesWith=arrayIncludesWith$2;function cacheHas$3(dt,et){return dt.has(et)}var _cacheHas=cacheHas$3,SetCache$2=_SetCache,arrayIncludes$1=_arrayIncludes,arrayIncludesWith$1=_arrayIncludesWith,arrayMap$2=_arrayMap,baseUnary$3=_baseUnary,cacheHas$2=_cacheHas,LARGE_ARRAY_SIZE$1=200;function baseDifference$1(dt,et,$t,kt){var Tt=-1,Dt=arrayIncludes$1,Ft=!0,Ut=dt.length,Ht=[],Kt=et.length;if(!Ut)return Ht;$t&&(et=arrayMap$2(et,baseUnary$3($t))),kt?(Dt=arrayIncludesWith$1,Ft=!1):et.length>=LARGE_ARRAY_SIZE$1&&(Dt=cacheHas$2,Ft=!1,et=new SetCache$2(et));e:for(;++Tt<Ut;){var Yt=dt[Tt],Jt=$t==null?Yt:$t(Yt);if(Yt=kt||Yt!==0?Yt:0,Ft&&Jt===Jt){for(var Zt=Kt;Zt--;)if(et[Zt]===Jt)continue e;Ht.push(Yt)}else Dt(et,Jt,kt)||Ht.push(Yt)}return Ht}var _baseDifference=baseDifference$1,baseDifference=_baseDifference,baseRest$1=_baseRest,isArrayLikeObject=isArrayLikeObject_1,without=baseRest$1(function(dt,et){return isArrayLikeObject(dt)?baseDifference(dt,et):[]}),without_1=without;const P$2=getDefaultExportFromCjs(without_1);function constant(dt){return function(){return dt}}const epsilon=1e-12;function array(dt){return typeof dt=="object"&&"length"in dt?dt:Array.from(dt)}function Linear(dt){this._context=dt}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(dt,et){switch(dt=+dt,et=+et,this._point){case 0:this._point=1,this._line?this._context.lineTo(dt,et):this._context.moveTo(dt,et);break;case 1:this._point=2;default:this._context.lineTo(dt,et);break}}};function U$1(dt){return new Linear(dt)}function noop$6(){}function point$4(dt,et,$t){dt._context.bezierCurveTo((2*dt._x0+dt._x1)/3,(2*dt._y0+dt._y1)/3,(dt._x0+2*dt._x1)/3,(dt._y0+2*dt._y1)/3,(dt._x0+4*dt._x1+et)/6,(dt._y0+4*dt._y1+$t)/6)}function Basis(dt){this._context=dt}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point$4(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(dt,et){switch(dt=+dt,et=+et,this._point){case 0:this._point=1,this._line?this._context.lineTo(dt,et):this._context.moveTo(dt,et);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$4(this,dt,et);break}this._x0=this._x1,this._x1=dt,this._y0=this._y1,this._y1=et}};function W$4(dt){return new Basis(dt)}function BasisClosed(dt){this._context=dt}BasisClosed.prototype={areaStart:noop$6,areaEnd:noop$6,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(dt,et){switch(dt=+dt,et=+et,this._point){case 0:this._point=1,this._x2=dt,this._y2=et;break;case 1:this._point=2,this._x3=dt,this._y3=et;break;case 2:this._point=3,this._x4=dt,this._y4=et,this._context.moveTo((this._x0+4*this._x1+dt)/6,(this._y0+4*this._y1+et)/6);break;default:point$4(this,dt,et);break}this._x0=this._x1,this._x1=dt,this._y0=this._y1,this._y1=et}};function G$1(dt){return new BasisClosed(dt)}function BasisOpen(dt){this._context=dt}BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(dt,et){switch(dt=+dt,et=+et,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var $t=(this._x0+4*this._x1+dt)/6,kt=(this._y0+4*this._y1+et)/6;this._line?this._context.lineTo($t,kt):this._context.moveTo($t,kt);break;case 3:this._point=4;default:point$4(this,dt,et);break}this._x0=this._x1,this._x1=dt,this._y0=this._y1,this._y1=et}};function I$2(dt){return new BasisOpen(dt)}function Bundle(dt,et){this._basis=new Basis(dt),this._beta=et}Bundle.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var dt=this._x,et=this._y,$t=dt.length-1;if($t>0)for(var kt=dt[0],Tt=et[0],Dt=dt[$t]-kt,Ft=et[$t]-Tt,Ut=-1,Ht;++Ut<=$t;)Ht=Ut/$t,this._basis.point(this._beta*dt[Ut]+(1-this._beta)*(kt+Ht*Dt),this._beta*et[Ut]+(1-this._beta)*(Tt+Ht*Ft));this._x=this._y=null,this._basis.lineEnd()},point:function(dt,et){this._x.push(+dt),this._y.push(+et)}};const A$3=function dt(et){function $t(kt){return et===1?new Basis(kt):new Bundle(kt,et)}return $t.beta=function(kt){return dt(+kt)},$t}(.85);function point$3(dt,et,$t){dt._context.bezierCurveTo(dt._x1+dt._k*(dt._x2-dt._x0),dt._y1+dt._k*(dt._y2-dt._y0),dt._x2+dt._k*(dt._x1-et),dt._y2+dt._k*(dt._y1-$t),dt._x2,dt._y2)}function Cardinal(dt,et){this._context=dt,this._k=(1-et)/6}Cardinal.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:point$3(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(dt,et){switch(dt=+dt,et=+et,this._point){case 0:this._point=1,this._line?this._context.lineTo(dt,et):this._context.moveTo(dt,et);break;case 1:this._point=2,this._x1=dt,this._y1=et;break;case 2:this._point=3;default:point$3(this,dt,et);break}this._x0=this._x1,this._x1=this._x2,this._x2=dt,this._y0=this._y1,this._y1=this._y2,this._y2=et}};const L$4=function dt(et){function $t(kt){return new Cardinal(kt,et)}return $t.tension=function(kt){return dt(+kt)},$t}(0);function CardinalClosed(dt,et){this._context=dt,this._k=(1-et)/6}CardinalClosed.prototype={areaStart:noop$6,areaEnd:noop$6,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(dt,et){switch(dt=+dt,et=+et,this._point){case 0:this._point=1,this._x3=dt,this._y3=et;break;case 1:this._point=2,this._context.moveTo(this._x4=dt,this._y4=et);break;case 2:this._point=3,this._x5=dt,this._y5=et;break;default:point$3(this,dt,et);break}this._x0=this._x1,this._x1=this._x2,this._x2=dt,this._y0=this._y1,this._y1=this._y2,this._y2=et}};const S$2=function dt(et){function $t(kt){return new CardinalClosed(kt,et)}return $t.tension=function(kt){return dt(+kt)},$t}(0);function CardinalOpen(dt,et){this._context=dt,this._k=(1-et)/6}CardinalOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(dt,et){switch(dt=+dt,et=+et,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:point$3(this,dt,et);break}this._x0=this._x1,this._x1=this._x2,this._x2=dt,this._y0=this._y1,this._y1=this._y2,this._y2=et}};const Y$3=function dt(et){function $t(kt){return new CardinalOpen(kt,et)}return $t.tension=function(kt){return dt(+kt)},$t}(0);function point$2(dt,et,$t){var kt=dt._x1,Tt=dt._y1,Dt=dt._x2,Ft=dt._y2;if(dt._l01_a>epsilon){var Ut=2*dt._l01_2a+3*dt._l01_a*dt._l12_a+dt._l12_2a,Ht=3*dt._l01_a*(dt._l01_a+dt._l12_a);kt=(kt*Ut-dt._x0*dt._l12_2a+dt._x2*dt._l01_2a)/Ht,Tt=(Tt*Ut-dt._y0*dt._l12_2a+dt._y2*dt._l01_2a)/Ht}if(dt._l23_a>epsilon){var Kt=2*dt._l23_2a+3*dt._l23_a*dt._l12_a+dt._l12_2a,Yt=3*dt._l23_a*(dt._l23_a+dt._l12_a);Dt=(Dt*Kt+dt._x1*dt._l23_2a-et*dt._l12_2a)/Yt,Ft=(Ft*Kt+dt._y1*dt._l23_2a-$t*dt._l12_2a)/Yt}dt._context.bezierCurveTo(kt,Tt,Dt,Ft,dt._x2,dt._y2)}function CatmullRom(dt,et){this._context=dt,this._alpha=et}CatmullRom.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(dt,et){if(dt=+dt,et=+et,this._point){var $t=this._x2-dt,kt=this._y2-et;this._l23_a=Math.sqrt(this._l23_2a=Math.pow($t*$t+kt*kt,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(dt,et):this._context.moveTo(dt,et);break;case 1:this._point=2;break;case 2:this._point=3;default:point$2(this,dt,et);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=dt,this._y0=this._y1,this._y1=this._y2,this._y2=et}};const q$3=function dt(et){function $t(kt){return et?new CatmullRom(kt,et):new Cardinal(kt,0)}return $t.alpha=function(kt){return dt(+kt)},$t}(.5);function CatmullRomClosed(dt,et){this._context=dt,this._alpha=et}CatmullRomClosed.prototype={areaStart:noop$6,areaEnd:noop$6,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(dt,et){if(dt=+dt,et=+et,this._point){var $t=this._x2-dt,kt=this._y2-et;this._l23_a=Math.sqrt(this._l23_2a=Math.pow($t*$t+kt*kt,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=dt,this._y3=et;break;case 1:this._point=2,this._context.moveTo(this._x4=dt,this._y4=et);break;case 2:this._point=3,this._x5=dt,this._y5=et;break;default:point$2(this,dt,et);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=dt,this._y0=this._y1,this._y1=this._y2,this._y2=et}};const D$2=function dt(et){function $t(kt){return et?new CatmullRomClosed(kt,et):new CardinalClosed(kt,0)}return $t.alpha=function(kt){return dt(+kt)},$t}(.5);function CatmullRomOpen(dt,et){this._context=dt,this._alpha=et}CatmullRomOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(dt,et){if(dt=+dt,et=+et,this._point){var $t=this._x2-dt,kt=this._y2-et;this._l23_a=Math.sqrt(this._l23_2a=Math.pow($t*$t+kt*kt,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:point$2(this,dt,et);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=dt,this._y0=this._y1,this._y1=this._y2,this._y2=et}};const E$4=function dt(et){function $t(kt){return et?new CatmullRomOpen(kt,et):new CardinalOpen(kt,0)}return $t.alpha=function(kt){return dt(+kt)},$t}(.5);function LinearClosed(dt){this._context=dt}LinearClosed.prototype={areaStart:noop$6,areaEnd:noop$6,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(dt,et){dt=+dt,et=+et,this._point?this._context.lineTo(dt,et):(this._point=1,this._context.moveTo(dt,et))}};function F(dt){return new LinearClosed(dt)}function sign(dt){return dt<0?-1:1}function slope3(dt,et,$t){var kt=dt._x1-dt._x0,Tt=et-dt._x1,Dt=(dt._y1-dt._y0)/(kt||Tt<0&&-0),Ft=($t-dt._y1)/(Tt||kt<0&&-0),Ut=(Dt*Tt+Ft*kt)/(kt+Tt);return(sign(Dt)+sign(Ft))*Math.min(Math.abs(Dt),Math.abs(Ft),.5*Math.abs(Ut))||0}function slope2(dt,et){var $t=dt._x1-dt._x0;return $t?(3*(dt._y1-dt._y0)/$t-et)/2:et}function point$1(dt,et,$t){var kt=dt._x0,Tt=dt._y0,Dt=dt._x1,Ft=dt._y1,Ut=(Dt-kt)/3;dt._context.bezierCurveTo(kt+Ut,Tt+Ut*et,Dt-Ut,Ft-Ut*$t,Dt,Ft)}function MonotoneX(dt){this._context=dt}MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point$1(this,this._t0,slope2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(dt,et){var $t=NaN;if(dt=+dt,et=+et,!(dt===this._x1&&et===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(dt,et):this._context.moveTo(dt,et);break;case 1:this._point=2;break;case 2:this._point=3,point$1(this,slope2(this,$t=slope3(this,dt,et)),$t);break;default:point$1(this,this._t0,$t=slope3(this,dt,et));break}this._x0=this._x1,this._x1=dt,this._y0=this._y1,this._y1=et,this._t0=$t}}};function MonotoneY(dt){this._context=new ReflectContext(dt)}(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(dt,et){MonotoneX.prototype.point.call(this,et,dt)};function ReflectContext(dt){this._context=dt}ReflectContext.prototype={moveTo:function(dt,et){this._context.moveTo(et,dt)},closePath:function(){this._context.closePath()},lineTo:function(dt,et){this._context.lineTo(et,dt)},bezierCurveTo:function(dt,et,$t,kt,Tt,Dt){this._context.bezierCurveTo(et,dt,kt,$t,Dt,Tt)}};function monotoneX(dt){return new MonotoneX(dt)}function monotoneY(dt){return new MonotoneY(dt)}function Natural(dt){this._context=dt}Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var dt=this._x,et=this._y,$t=dt.length;if($t)if(this._line?this._context.lineTo(dt[0],et[0]):this._context.moveTo(dt[0],et[0]),$t===2)this._context.lineTo(dt[1],et[1]);else for(var kt=controlPoints(dt),Tt=controlPoints(et),Dt=0,Ft=1;Ft<$t;++Dt,++Ft)this._context.bezierCurveTo(kt[0][Dt],Tt[0][Dt],kt[1][Dt],Tt[1][Dt],dt[Ft],et[Ft]);(this._line||this._line!==0&&$t===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(dt,et){this._x.push(+dt),this._y.push(+et)}};function controlPoints(dt){var et,$t=dt.length-1,kt,Tt=new Array($t),Dt=new Array($t),Ft=new Array($t);for(Tt[0]=0,Dt[0]=2,Ft[0]=dt[0]+2*dt[1],et=1;et<$t-1;++et)Tt[et]=1,Dt[et]=4,Ft[et]=4*dt[et]+2*dt[et+1];for(Tt[$t-1]=2,Dt[$t-1]=7,Ft[$t-1]=8*dt[$t-1]+dt[$t],et=1;et<$t;++et)kt=Tt[et]/Dt[et-1],Dt[et]-=kt,Ft[et]-=kt*Ft[et-1];for(Tt[$t-1]=Ft[$t-1]/Dt[$t-1],et=$t-2;et>=0;--et)Tt[et]=(Ft[et]-Tt[et+1])/Dt[et];for(Dt[$t-1]=(dt[$t]+Tt[$t-1])/2,et=0;et<$t-1;++et)Dt[et]=2*dt[et+1]-Tt[et+1];return[Tt,Dt]}function X$3(dt){return new Natural(dt)}function Step(dt,et){this._context=dt,this._t=et}Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(dt,et){switch(dt=+dt,et=+et,this._point){case 0:this._point=1,this._line?this._context.lineTo(dt,et):this._context.moveTo(dt,et);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,et),this._context.lineTo(dt,et);else{var $t=this._x*(1-this._t)+dt*this._t;this._context.lineTo($t,this._y),this._context.lineTo($t,et)}break}}this._x=dt,this._y=et}};function K$1(dt){return new Step(dt,.5)}function stepBefore(dt){return new Step(dt,0)}function stepAfter(dt){return new Step(dt,1)}function ne$1(dt,et){if((Ft=dt.length)>1)for(var $t=1,kt,Tt,Dt=dt[et[0]],Ft,Ut=Dt.length;$t<Ft;++$t)for(Tt=Dt,Dt=dt[et[$t]],kt=0;kt<Ut;++kt)Dt[kt][1]+=Dt[kt][0]=isNaN(Tt[kt][1])?Tt[kt][0]:Tt[kt][1]}function Z$3(dt){for(var et=dt.length,$t=new Array(et);--et>=0;)$t[et]=et;return $t}function stackValue(dt,et){return dt[et]}function stackSeries(dt){const et=[];return et.key=dt,et}function _$2(){var dt=constant([]),et=Z$3,$t=ne$1,kt=stackValue;function Tt(Dt){var Ft=Array.from(dt.apply(this,arguments),stackSeries),Ut,Ht=Ft.length,Kt=-1,Yt;for(const Jt of Dt)for(Ut=0,++Kt;Ut<Ht;++Ut)(Ft[Ut][Kt]=[0,+kt(Jt,Ft[Ut].key,Kt,Dt)]).data=Jt;for(Ut=0,Yt=array(et(Ft));Ut<Ht;++Ut)Ft[Yt[Ut]].index=Ut;return $t(Ft,Yt),Ft}return Tt.keys=function(Dt){return arguments.length?(dt=typeof Dt=="function"?Dt:constant(Array.from(Dt)),Tt):dt},Tt.value=function(Dt){return arguments.length?(kt=typeof Dt=="function"?Dt:constant(+Dt),Tt):kt},Tt.order=function(Dt){return arguments.length?(et=Dt==null?Z$3:typeof Dt=="function"?Dt:constant(Array.from(Dt)),Tt):et},Tt.offset=function(Dt){return arguments.length?($t=Dt??ne$1,Tt):$t},Tt}function q$2(dt,et){if((Ht=dt.length)>0)for(var $t,kt=0,Tt,Dt,Ft,Ut,Ht,Kt=dt[et[0]].length;kt<Kt;++kt)for(Ft=Ut=0,$t=0;$t<Ht;++$t)(Dt=(Tt=dt[et[$t]][kt])[1]-Tt[0])>0?(Tt[0]=Ft,Tt[1]=Ft+=Dt):Dt<0?(Tt[1]=Ut,Tt[0]=Ut+=Dt):(Tt[0]=0,Tt[1]=Dt)}function ascending(dt,et){return dt==null||et==null?NaN:dt<et?-1:dt>et?1:dt>=et?0:NaN}function descending(dt,et){return dt==null||et==null?NaN:et<dt?-1:et>dt?1:et>=dt?0:NaN}function bisector(dt){let et,$t,kt;dt.length!==2?(et=ascending,$t=(Ut,Ht)=>ascending(dt(Ut),Ht),kt=(Ut,Ht)=>dt(Ut)-Ht):(et=dt===ascending||dt===descending?dt:zero,$t=dt,kt=dt);function Tt(Ut,Ht,Kt=0,Yt=Ut.length){if(Kt<Yt){if(et(Ht,Ht)!==0)return Yt;do{const Jt=Kt+Yt>>>1;$t(Ut[Jt],Ht)<0?Kt=Jt+1:Yt=Jt}while(Kt<Yt)}return Kt}function Dt(Ut,Ht,Kt=0,Yt=Ut.length){if(Kt<Yt){if(et(Ht,Ht)!==0)return Yt;do{const Jt=Kt+Yt>>>1;$t(Ut[Jt],Ht)<=0?Kt=Jt+1:Yt=Jt}while(Kt<Yt)}return Kt}function Ft(Ut,Ht,Kt=0,Yt=Ut.length){const Jt=Tt(Ut,Ht,Kt,Yt-1);return Jt>Kt&&kt(Ut[Jt-1],Ht)>-kt(Ut[Jt],Ht)?Jt-1:Jt}return{left:Tt,center:Ft,right:Dt}}function zero(){return 0}function number$2(dt){return dt===null?NaN:+dt}const ascendingBisect=bisector(ascending),bisectRight=ascendingBisect.right;bisector(number$2).center;const bisect=bisectRight;class InternMap extends Map{constructor(et,$t=keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:$t}}),et!=null)for(const[kt,Tt]of et)this.set(kt,Tt)}get(et){return super.get(intern_get(this,et))}has(et){return super.has(intern_get(this,et))}set(et,$t){return super.set(intern_set(this,et),$t)}delete(et){return super.delete(intern_delete(this,et))}}function intern_get({_intern:dt,_key:et},$t){const kt=et($t);return dt.has(kt)?dt.get(kt):$t}function intern_set({_intern:dt,_key:et},$t){const kt=et($t);return dt.has(kt)?dt.get(kt):(dt.set(kt,$t),$t)}function intern_delete({_intern:dt,_key:et},$t){const kt=et($t);return dt.has(kt)&&($t=dt.get(kt),dt.delete(kt)),$t}function keyof(dt){return dt!==null&&typeof dt=="object"?dt.valueOf():dt}const e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickSpec(dt,et,$t){const kt=(et-dt)/Math.max(0,$t),Tt=Math.floor(Math.log10(kt)),Dt=kt/Math.pow(10,Tt),Ft=Dt>=e10?10:Dt>=e5?5:Dt>=e2?2:1;let Ut,Ht,Kt;return Tt<0?(Kt=Math.pow(10,-Tt)/Ft,Ut=Math.round(dt*Kt),Ht=Math.round(et*Kt),Ut/Kt<dt&&++Ut,Ht/Kt>et&&--Ht,Kt=-Kt):(Kt=Math.pow(10,Tt)*Ft,Ut=Math.round(dt/Kt),Ht=Math.round(et/Kt),Ut*Kt<dt&&++Ut,Ht*Kt>et&&--Ht),Ht<Ut&&.5<=$t&&$t<2?tickSpec(dt,et,$t*2):[Ut,Ht,Kt]}function ticks(dt,et,$t){if(et=+et,dt=+dt,$t=+$t,!($t>0))return[];if(dt===et)return[dt];const kt=et<dt,[Tt,Dt,Ft]=kt?tickSpec(et,dt,$t):tickSpec(dt,et,$t);if(!(Dt>=Tt))return[];const Ut=Dt-Tt+1,Ht=new Array(Ut);if(kt)if(Ft<0)for(let Kt=0;Kt<Ut;++Kt)Ht[Kt]=(Dt-Kt)/-Ft;else for(let Kt=0;Kt<Ut;++Kt)Ht[Kt]=(Dt-Kt)*Ft;else if(Ft<0)for(let Kt=0;Kt<Ut;++Kt)Ht[Kt]=(Tt+Kt)/-Ft;else for(let Kt=0;Kt<Ut;++Kt)Ht[Kt]=(Tt+Kt)*Ft;return Ht}function tickIncrement(dt,et,$t){return et=+et,dt=+dt,$t=+$t,tickSpec(dt,et,$t)[2]}function tickStep(dt,et,$t){et=+et,dt=+dt,$t=+$t;const kt=et<dt,Tt=kt?tickIncrement(et,dt,$t):tickIncrement(dt,et,$t);return(kt?-1:1)*(Tt<0?1/-Tt:Tt)}function range(dt,et,$t){dt=+dt,et=+et,$t=(Tt=arguments.length)<2?(et=dt,dt=0,1):Tt<3?1:+$t;for(var kt=-1,Tt=Math.max(0,Math.ceil((et-dt)/$t))|0,Dt=new Array(Tt);++kt<Tt;)Dt[kt]=dt+kt*$t;return Dt}function initRange(dt,et){switch(arguments.length){case 0:break;case 1:this.range(dt);break;default:this.range(et).domain(dt);break}return this}const implicit=Symbol("implicit");function ordinal(){var dt=new InternMap,et=[],$t=[],kt=implicit;function Tt(Dt){let Ft=dt.get(Dt);if(Ft===void 0){if(kt!==implicit)return kt;dt.set(Dt,Ft=et.push(Dt)-1)}return $t[Ft%$t.length]}return Tt.domain=function(Dt){if(!arguments.length)return et.slice();et=[],dt=new InternMap;for(const Ft of Dt)dt.has(Ft)||dt.set(Ft,et.push(Ft)-1);return Tt},Tt.range=function(Dt){return arguments.length?($t=Array.from(Dt),Tt):$t.slice()},Tt.unknown=function(Dt){return arguments.length?(kt=Dt,Tt):kt},Tt.copy=function(){return ordinal(et,$t).unknown(kt)},initRange.apply(Tt,arguments),Tt}function band(){var dt=ordinal().unknown(void 0),et=dt.domain,$t=dt.range,kt=0,Tt=1,Dt,Ft,Ut=!1,Ht=0,Kt=0,Yt=.5;delete dt.unknown;function Jt(){var Zt=et().length,er=Tt<kt,rr=er?Tt:kt,sr=er?kt:Tt;Dt=(sr-rr)/Math.max(1,Zt-Ht+Kt*2),Ut&&(Dt=Math.floor(Dt)),rr+=(sr-rr-Dt*(Zt-Ht))*Yt,Ft=Dt*(1-Ht),Ut&&(rr=Math.round(rr),Ft=Math.round(Ft));var ir=range(Zt).map(function(nr){return rr+Dt*nr});return $t(er?ir.reverse():ir)}return dt.domain=function(Zt){return arguments.length?(et(Zt),Jt()):et()},dt.range=function(Zt){return arguments.length?([kt,Tt]=Zt,kt=+kt,Tt=+Tt,Jt()):[kt,Tt]},dt.rangeRound=function(Zt){return[kt,Tt]=Zt,kt=+kt,Tt=+Tt,Ut=!0,Jt()},dt.bandwidth=function(){return Ft},dt.step=function(){return Dt},dt.round=function(Zt){return arguments.length?(Ut=!!Zt,Jt()):Ut},dt.padding=function(Zt){return arguments.length?(Ht=Math.min(1,Kt=+Zt),Jt()):Ht},dt.paddingInner=function(Zt){return arguments.length?(Ht=Math.min(1,Zt),Jt()):Ht},dt.paddingOuter=function(Zt){return arguments.length?(Kt=+Zt,Jt()):Kt},dt.align=function(Zt){return arguments.length?(Yt=Math.max(0,Math.min(1,Zt)),Jt()):Yt},dt.copy=function(){return band(et(),[kt,Tt]).round(Ut).paddingInner(Ht).paddingOuter(Kt).align(Yt)},initRange.apply(Jt(),arguments)}function pointish(dt){var et=dt.copy;return dt.padding=dt.paddingOuter,delete dt.paddingInner,delete dt.paddingOuter,dt.copy=function(){return pointish(et())},dt}function point(){return pointish(band.apply(null,arguments).paddingInner(1))}function constants(dt){return function(){return dt}}function number$1(dt){return+dt}var unit=[0,1];function identity$3(dt){return dt}function normalize(dt,et){return(et-=dt=+dt)?function($t){return($t-dt)/et}:constants(isNaN(et)?NaN:.5)}function clamper(dt,et){var $t;return dt>et&&($t=dt,dt=et,et=$t),function(kt){return Math.max(dt,Math.min(et,kt))}}function bimap(dt,et,$t){var kt=dt[0],Tt=dt[1],Dt=et[0],Ft=et[1];return Tt<kt?(kt=normalize(Tt,kt),Dt=$t(Ft,Dt)):(kt=normalize(kt,Tt),Dt=$t(Dt,Ft)),function(Ut){return Dt(kt(Ut))}}function polymap(dt,et,$t){var kt=Math.min(dt.length,et.length)-1,Tt=new Array(kt),Dt=new Array(kt),Ft=-1;for(dt[kt]<dt[0]&&(dt=dt.slice().reverse(),et=et.slice().reverse());++Ft<kt;)Tt[Ft]=normalize(dt[Ft],dt[Ft+1]),Dt[Ft]=$t(et[Ft],et[Ft+1]);return function(Ut){var Ht=bisect(dt,Ut,1,kt)-1;return Dt[Ht](Tt[Ht](Ut))}}function copy(dt,et){return et.domain(dt.domain()).range(dt.range()).interpolate(dt.interpolate()).clamp(dt.clamp()).unknown(dt.unknown())}function transformer(){var dt=unit,et=unit,$t=interpolate$4,kt,Tt,Dt,Ft=identity$3,Ut,Ht,Kt;function Yt(){var Zt=Math.min(dt.length,et.length);return Ft!==identity$3&&(Ft=clamper(dt[0],dt[Zt-1])),Ut=Zt>2?polymap:bimap,Ht=Kt=null,Jt}function Jt(Zt){return Zt==null||isNaN(Zt=+Zt)?Dt:(Ht||(Ht=Ut(dt.map(kt),et,$t)))(kt(Ft(Zt)))}return Jt.invert=function(Zt){return Ft(Tt((Kt||(Kt=Ut(et,dt.map(kt),p$2)))(Zt)))},Jt.domain=function(Zt){return arguments.length?(dt=Array.from(Zt,number$1),Yt()):dt.slice()},Jt.range=function(Zt){return arguments.length?(et=Array.from(Zt),Yt()):et.slice()},Jt.rangeRound=function(Zt){return et=Array.from(Zt),$t=v$2,Yt()},Jt.clamp=function(Zt){return arguments.length?(Ft=Zt?!0:identity$3,Yt()):Ft!==identity$3},Jt.interpolate=function(Zt){return arguments.length?($t=Zt,Yt()):$t},Jt.unknown=function(Zt){return arguments.length?(Dt=Zt,Jt):Dt},function(Zt,er){return kt=Zt,Tt=er,Yt()}}function continuous(){return transformer()(identity$3,identity$3)}function formatDecimal(dt){return Math.abs(dt=Math.round(dt))>=1e21?dt.toLocaleString("en").replace(/,/g,""):dt.toString(10)}function formatDecimalParts(dt,et){if(($t=(dt=et?dt.toExponential(et-1):dt.toExponential()).indexOf("e"))<0)return null;var $t,kt=dt.slice(0,$t);return[kt.length>1?kt[0]+kt.slice(2):kt,+dt.slice($t+1)]}function exponent(dt){return dt=formatDecimalParts(Math.abs(dt)),dt?dt[1]:NaN}function formatGroup(dt,et){return function($t,kt){for(var Tt=$t.length,Dt=[],Ft=0,Ut=dt[0],Ht=0;Tt>0&&Ut>0&&(Ht+Ut+1>kt&&(Ut=Math.max(1,kt-Ht)),Dt.push($t.substring(Tt-=Ut,Tt+Ut)),!((Ht+=Ut+1)>kt));)Ut=dt[Ft=(Ft+1)%dt.length];return Dt.reverse().join(et)}}function formatNumerals(dt){return function(et){return et.replace(/[0-9]/g,function($t){return dt[+$t]})}}var re$1=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(dt){if(!(et=re$1.exec(dt)))throw new Error("invalid format: "+dt);var et;return new FormatSpecifier({fill:et[1],align:et[2],sign:et[3],symbol:et[4],zero:et[5],width:et[6],comma:et[7],precision:et[8]&&et[8].slice(1),trim:et[9],type:et[10]})}formatSpecifier.prototype=FormatSpecifier.prototype;function FormatSpecifier(dt){this.fill=dt.fill===void 0?" ":dt.fill+"",this.align=dt.align===void 0?">":dt.align+"",this.sign=dt.sign===void 0?"-":dt.sign+"",this.symbol=dt.symbol===void 0?"":dt.symbol+"",this.zero=!!dt.zero,this.width=dt.width===void 0?void 0:+dt.width,this.comma=!!dt.comma,this.precision=dt.precision===void 0?void 0:+dt.precision,this.trim=!!dt.trim,this.type=dt.type===void 0?"":dt.type+""}FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function formatTrim(dt){e:for(var et=dt.length,$t=1,kt=-1,Tt;$t<et;++$t)switch(dt[$t]){case".":kt=Tt=$t;break;case"0":kt===0&&(kt=$t),Tt=$t;break;default:if(!+dt[$t])break e;kt>0&&(kt=0);break}return kt>0?dt.slice(0,kt)+dt.slice(Tt+1):dt}var prefixExponent;function formatPrefixAuto(dt,et){var $t=formatDecimalParts(dt,et);if(!$t)return dt+"";var kt=$t[0],Tt=$t[1],Dt=Tt-(prefixExponent=Math.max(-8,Math.min(8,Math.floor(Tt/3)))*3)+1,Ft=kt.length;return Dt===Ft?kt:Dt>Ft?kt+new Array(Dt-Ft+1).join("0"):Dt>0?kt.slice(0,Dt)+"."+kt.slice(Dt):"0."+new Array(1-Dt).join("0")+formatDecimalParts(dt,Math.max(0,et+Dt-1))[0]}function formatRounded(dt,et){var $t=formatDecimalParts(dt,et);if(!$t)return dt+"";var kt=$t[0],Tt=$t[1];return Tt<0?"0."+new Array(-Tt).join("0")+kt:kt.length>Tt+1?kt.slice(0,Tt+1)+"."+kt.slice(Tt+1):kt+new Array(Tt-kt.length+2).join("0")}const formatTypes={"%":function(dt,et){return(dt*100).toFixed(et)},b:function(dt){return Math.round(dt).toString(2)},c:function(dt){return dt+""},d:formatDecimal,e:function(dt,et){return dt.toExponential(et)},f:function(dt,et){return dt.toFixed(et)},g:function(dt,et){return dt.toPrecision(et)},o:function(dt){return Math.round(dt).toString(8)},p:function(dt,et){return formatRounded(dt*100,et)},r:formatRounded,s:formatPrefixAuto,X:function(dt){return Math.round(dt).toString(16).toUpperCase()},x:function(dt){return Math.round(dt).toString(16)}};function identity$2(dt){return dt}var map=Array.prototype.map,prefixes$4=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function formatLocale$1(dt){var et=dt.grouping===void 0||dt.thousands===void 0?identity$2:formatGroup(map.call(dt.grouping,Number),dt.thousands+""),$t=dt.currency===void 0?"":dt.currency[0]+"",kt=dt.currency===void 0?"":dt.currency[1]+"",Tt=dt.decimal===void 0?".":dt.decimal+"",Dt=dt.numerals===void 0?identity$2:formatNumerals(map.call(dt.numerals,String)),Ft=dt.percent===void 0?"%":dt.percent+"",Ut=dt.minus===void 0?"-":dt.minus+"",Ht=dt.nan===void 0?"NaN":dt.nan+"";function Kt(Jt){Jt=formatSpecifier(Jt);var Zt=Jt.fill,er=Jt.align,rr=Jt.sign,sr=Jt.symbol,ir=Jt.zero,nr=Jt.width,or=Jt.comma,lr=Jt.precision,cr=Jt.trim,dr=Jt.type;dr==="n"?(or=!0,dr="g"):formatTypes[dr]||(lr===void 0&&(lr=12),cr=!0,dr="g"),(ir||Zt==="0"&&er==="=")&&(ir=!0,Zt="0",er="=");var ur=sr==="$"?$t:sr==="#"&&/[boxX]/.test(dr)?"0"+dr.toLowerCase():"",pr=sr==="$"?kt:/[%p]/.test(dr)?Ft:"",mr=formatTypes[dr],vr=/[defgprs%]/.test(dr);lr=lr===void 0?6:/[gprs]/.test(dr)?Math.max(1,Math.min(21,lr)):Math.max(0,Math.min(20,lr));function kr(br){var _r=ur,Or=pr,Pr,Mr,Rr;if(dr==="c")Or=mr(br)+Or,br="";else{br=+br;var Tr=br<0||1/br<0;if(br=isNaN(br)?Ht:mr(Math.abs(br),lr),cr&&(br=formatTrim(br)),Tr&&+br==0&&rr!=="+"&&(Tr=!1),_r=(Tr?rr==="("?rr:Ut:rr==="-"||rr==="("?"":rr)+_r,Or=(dr==="s"?prefixes$4[8+prefixExponent/3]:"")+Or+(Tr&&rr==="("?")":""),vr){for(Pr=-1,Mr=br.length;++Pr<Mr;)if(Rr=br.charCodeAt(Pr),48>Rr||Rr>57){Or=(Rr===46?Tt+br.slice(Pr+1):br.slice(Pr))+Or,br=br.slice(0,Pr);break}}}or&&!ir&&(br=et(br,1/0));var xr=_r.length+br.length+Or.length,wr=xr<nr?new Array(nr-xr+1).join(Zt):"";switch(or&&ir&&(br=et(wr+br,wr.length?nr-Or.length:1/0),wr=""),er){case"<":br=_r+br+Or+wr;break;case"=":br=_r+wr+br+Or;break;case"^":br=wr.slice(0,xr=wr.length>>1)+_r+br+Or+wr.slice(xr);break;default:br=wr+_r+br+Or;break}return Dt(br)}return kr.toString=function(){return Jt+""},kr}function Yt(Jt,Zt){var er=Kt((Jt=formatSpecifier(Jt),Jt.type="f",Jt)),rr=Math.max(-8,Math.min(8,Math.floor(exponent(Zt)/3)))*3,sr=Math.pow(10,-rr),ir=prefixes$4[8+rr/3];return function(nr){return er(sr*nr)+ir}}return{format:Kt,formatPrefix:Yt}}var locale$1,format,formatPrefix;defaultLocale$1({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function defaultLocale$1(dt){return locale$1=formatLocale$1(dt),format=locale$1.format,formatPrefix=locale$1.formatPrefix,locale$1}function precisionFixed(dt){return Math.max(0,-exponent(Math.abs(dt)))}function precisionPrefix(dt,et){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(exponent(et)/3)))*3-exponent(Math.abs(dt)))}function precisionRound(dt,et){return dt=Math.abs(dt),et=Math.abs(et)-dt,Math.max(0,exponent(et)-exponent(dt))+1}function tickFormat(dt,et,$t,kt){var Tt=tickStep(dt,et,$t),Dt;switch(kt=formatSpecifier(kt??",f"),kt.type){case"s":{var Ft=Math.max(Math.abs(dt),Math.abs(et));return kt.precision==null&&!isNaN(Dt=precisionPrefix(Tt,Ft))&&(kt.precision=Dt),formatPrefix(kt,Ft)}case"":case"e":case"g":case"p":case"r":{kt.precision==null&&!isNaN(Dt=precisionRound(Tt,Math.max(Math.abs(dt),Math.abs(et))))&&(kt.precision=Dt-(kt.type==="e"));break}case"f":case"%":{kt.precision==null&&!isNaN(Dt=precisionFixed(Tt))&&(kt.precision=Dt-(kt.type==="%")*2);break}}return format(kt)}function linearish(dt){var et=dt.domain;return dt.ticks=function($t){var kt=et();return ticks(kt[0],kt[kt.length-1],$t??10)},dt.tickFormat=function($t,kt){var Tt=et();return tickFormat(Tt[0],Tt[Tt.length-1],$t??10,kt)},dt.nice=function($t){$t==null&&($t=10);var kt=et(),Tt=0,Dt=kt.length-1,Ft=kt[Tt],Ut=kt[Dt],Ht,Kt,Yt=10;for(Ut<Ft&&(Kt=Ft,Ft=Ut,Ut=Kt,Kt=Tt,Tt=Dt,Dt=Kt);Yt-- >0;){if(Kt=tickIncrement(Ft,Ut,$t),Kt===Ht)return kt[Tt]=Ft,kt[Dt]=Ut,et(kt);if(Kt>0)Ft=Math.floor(Ft/Kt)*Kt,Ut=Math.ceil(Ut/Kt)*Kt;else if(Kt<0)Ft=Math.ceil(Ft*Kt)/Kt,Ut=Math.floor(Ut*Kt)/Kt;else break;Ht=Kt}return dt},dt}function linear(){var dt=continuous();return dt.copy=function(){return copy(dt,linear())},initRange.apply(dt,arguments),linearish(dt)}function nice(dt,et){dt=dt.slice();var $t=0,kt=dt.length-1,Tt=dt[$t],Dt=dt[kt],Ft;return Dt<Tt&&(Ft=$t,$t=kt,kt=Ft,Ft=Tt,Tt=Dt,Dt=Ft),dt[$t]=et.floor(Tt),dt[kt]=et.ceil(Dt),dt}function transformLog(dt){return Math.log(dt)}function transformExp(dt){return Math.exp(dt)}function transformLogn(dt){return-Math.log(-dt)}function transformExpn(dt){return-Math.exp(-dt)}function pow10(dt){return isFinite(dt)?+("1e"+dt):dt<0?0:dt}function powp(dt){return dt===10?pow10:dt===Math.E?Math.exp:et=>Math.pow(dt,et)}function logp(dt){return dt===Math.E?Math.log:dt===10&&Math.log10||dt===2&&Math.log2||(dt=Math.log(dt),et=>Math.log(et)/dt)}function reflect(dt){return(et,$t)=>-dt(-et,$t)}function loggish(dt){const et=dt(transformLog,transformExp),$t=et.domain;let kt=10,Tt,Dt;function Ft(){return Tt=logp(kt),Dt=powp(kt),$t()[0]<0?(Tt=reflect(Tt),Dt=reflect(Dt),dt(transformLogn,transformExpn)):dt(transformLog,transformExp),et}return et.base=function(Ut){return arguments.length?(kt=+Ut,Ft()):kt},et.domain=function(Ut){return arguments.length?($t(Ut),Ft()):$t()},et.ticks=Ut=>{const Ht=$t();let Kt=Ht[0],Yt=Ht[Ht.length-1];const Jt=Yt<Kt;Jt&&([Kt,Yt]=[Yt,Kt]);let Zt=Tt(Kt),er=Tt(Yt),rr,sr;const ir=Ut==null?10:+Ut;let nr=[];if(!(kt%1)&&er-Zt<ir){if(Zt=Math.floor(Zt),er=Math.ceil(er),Kt>0){for(;Zt<=er;++Zt)for(rr=1;rr<kt;++rr)if(sr=Zt<0?rr/Dt(-Zt):rr*Dt(Zt),!(sr<Kt)){if(sr>Yt)break;nr.push(sr)}}else for(;Zt<=er;++Zt)for(rr=kt-1;rr>=1;--rr)if(sr=Zt>0?rr/Dt(-Zt):rr*Dt(Zt),!(sr<Kt)){if(sr>Yt)break;nr.push(sr)}nr.length*2<ir&&(nr=ticks(Kt,Yt,ir))}else nr=ticks(Zt,er,Math.min(er-Zt,ir)).map(Dt);return Jt?nr.reverse():nr},et.tickFormat=(Ut,Ht)=>{if(Ut==null&&(Ut=10),Ht==null&&(Ht=kt===10?"s":","),typeof Ht!="function"&&(!(kt%1)&&(Ht=formatSpecifier(Ht)).precision==null&&(Ht.trim=!0),Ht=format(Ht)),Ut===1/0)return Ht;const Kt=Math.max(1,kt*Ut/et.ticks().length);return Yt=>{let Jt=Yt/Dt(Math.round(Tt(Yt)));return Jt*kt<kt-.5&&(Jt*=kt),Jt<=Kt?Ht(Yt):""}},et.nice=()=>$t(nice($t(),{floor:Ut=>Dt(Math.floor(Tt(Ut))),ceil:Ut=>Dt(Math.ceil(Tt(Ut)))})),et}function log(){const dt=loggish(transformer()).domain([1,10]);return dt.copy=()=>copy(dt,log()).base(dt.base()),initRange.apply(dt,arguments),dt}function transformSymlog(dt){return function(et){return Math.sign(et)*Math.log1p(Math.abs(et/dt))}}function transformSymexp(dt){return function(et){return Math.sign(et)*Math.expm1(Math.abs(et))*dt}}function symlogish(dt){var et=1,$t=dt(transformSymlog(et),transformSymexp(et));return $t.constant=function(kt){return arguments.length?dt(transformSymlog(et=+kt),transformSymexp(et)):et},linearish($t)}function symlog(){var dt=symlogish(transformer());return dt.copy=function(){return copy(dt,symlog()).constant(dt.constant())},initRange.apply(dt,arguments)}const t0$1=new Date,t1$1=new Date;function timeInterval(dt,et,$t,kt){function Tt(Dt){return dt(Dt=arguments.length===0?new Date:new Date(+Dt)),Dt}return Tt.floor=Dt=>(dt(Dt=new Date(+Dt)),Dt),Tt.ceil=Dt=>(dt(Dt=new Date(Dt-1)),et(Dt,1),dt(Dt),Dt),Tt.round=Dt=>{const Ft=Tt(Dt),Ut=Tt.ceil(Dt);return Dt-Ft<Ut-Dt?Ft:Ut},Tt.offset=(Dt,Ft)=>(et(Dt=new Date(+Dt),Ft==null?1:Math.floor(Ft)),Dt),Tt.range=(Dt,Ft,Ut)=>{const Ht=[];if(Dt=Tt.ceil(Dt),Ut=Ut==null?1:Math.floor(Ut),!(Dt<Ft)||!(Ut>0))return Ht;let Kt;do Ht.push(Kt=new Date(+Dt)),et(Dt,Ut),dt(Dt);while(Kt<Dt&&Dt<Ft);return Ht},Tt.filter=Dt=>timeInterval(Ft=>{if(Ft>=Ft)for(;dt(Ft),!Dt(Ft);)Ft.setTime(Ft-1)},(Ft,Ut)=>{if(Ft>=Ft)if(Ut<0)for(;++Ut<=0;)for(;et(Ft,-1),!Dt(Ft););else for(;--Ut>=0;)for(;et(Ft,1),!Dt(Ft););}),$t&&(Tt.count=(Dt,Ft)=>(t0$1.setTime(+Dt),t1$1.setTime(+Ft),dt(t0$1),dt(t1$1),Math.floor($t(t0$1,t1$1))),Tt.every=Dt=>(Dt=Math.floor(Dt),!isFinite(Dt)||!(Dt>0)?null:Dt>1?Tt.filter(kt?Ft=>kt(Ft)%Dt===0:Ft=>Tt.count(0,Ft)%Dt===0):Tt)),Tt}const millisecond$1=timeInterval(()=>{},(dt,et)=>{dt.setTime(+dt+et)},(dt,et)=>et-dt);millisecond$1.every=dt=>(dt=Math.floor(dt),!isFinite(dt)||!(dt>0)?null:dt>1?timeInterval(et=>{et.setTime(Math.floor(et/dt)*dt)},(et,$t)=>{et.setTime(+et+$t*dt)},(et,$t)=>($t-et)/dt):millisecond$1);millisecond$1.range;const durationSecond$1=1e3,durationMinute$1=durationSecond$1*60,durationHour$1=durationMinute$1*60,durationDay$1=durationHour$1*24,durationWeek$1=durationDay$1*7,durationMonth=durationDay$1*30,durationYear=durationDay$1*365,second$1=timeInterval(dt=>{dt.setTime(dt-dt.getMilliseconds())},(dt,et)=>{dt.setTime(+dt+et*durationSecond$1)},(dt,et)=>(et-dt)/durationSecond$1,dt=>dt.getUTCSeconds());second$1.range;const timeMinute=timeInterval(dt=>{dt.setTime(dt-dt.getMilliseconds()-dt.getSeconds()*durationSecond$1)},(dt,et)=>{dt.setTime(+dt+et*durationMinute$1)},(dt,et)=>(et-dt)/durationMinute$1,dt=>dt.getMinutes());timeMinute.range;const utcMinute$1=timeInterval(dt=>{dt.setUTCSeconds(0,0)},(dt,et)=>{dt.setTime(+dt+et*durationMinute$1)},(dt,et)=>(et-dt)/durationMinute$1,dt=>dt.getUTCMinutes());utcMinute$1.range;const timeHour=timeInterval(dt=>{dt.setTime(dt-dt.getMilliseconds()-dt.getSeconds()*durationSecond$1-dt.getMinutes()*durationMinute$1)},(dt,et)=>{dt.setTime(+dt+et*durationHour$1)},(dt,et)=>(et-dt)/durationHour$1,dt=>dt.getHours());timeHour.range;const utcHour$1=timeInterval(dt=>{dt.setUTCMinutes(0,0,0)},(dt,et)=>{dt.setTime(+dt+et*durationHour$1)},(dt,et)=>(et-dt)/durationHour$1,dt=>dt.getUTCHours());utcHour$1.range;const timeDay$1=timeInterval(dt=>dt.setHours(0,0,0,0),(dt,et)=>dt.setDate(dt.getDate()+et),(dt,et)=>(et-dt-(et.getTimezoneOffset()-dt.getTimezoneOffset())*durationMinute$1)/durationDay$1,dt=>dt.getDate()-1);timeDay$1.range;const utcDay$2=timeInterval(dt=>{dt.setUTCHours(0,0,0,0)},(dt,et)=>{dt.setUTCDate(dt.getUTCDate()+et)},(dt,et)=>(et-dt)/durationDay$1,dt=>dt.getUTCDate()-1);utcDay$2.range;const unixDay=timeInterval(dt=>{dt.setUTCHours(0,0,0,0)},(dt,et)=>{dt.setUTCDate(dt.getUTCDate()+et)},(dt,et)=>(et-dt)/durationDay$1,dt=>Math.floor(dt/durationDay$1));unixDay.range;function timeWeekday(dt){return timeInterval(et=>{et.setDate(et.getDate()-(et.getDay()+7-dt)%7),et.setHours(0,0,0,0)},(et,$t)=>{et.setDate(et.getDate()+$t*7)},(et,$t)=>($t-et-($t.getTimezoneOffset()-et.getTimezoneOffset())*durationMinute$1)/durationWeek$1)}const timeSunday=timeWeekday(0),timeMonday=timeWeekday(1),timeTuesday=timeWeekday(2),timeWednesday=timeWeekday(3),timeThursday=timeWeekday(4),timeFriday=timeWeekday(5),timeSaturday=timeWeekday(6);timeSunday.range;timeMonday.range;timeTuesday.range;timeWednesday.range;timeThursday.range;timeFriday.range;timeSaturday.range;function utcWeekday$1(dt){return timeInterval(et=>{et.setUTCDate(et.getUTCDate()-(et.getUTCDay()+7-dt)%7),et.setUTCHours(0,0,0,0)},(et,$t)=>{et.setUTCDate(et.getUTCDate()+$t*7)},(et,$t)=>($t-et)/durationWeek$1)}const utcSunday$1=utcWeekday$1(0),utcMonday$1=utcWeekday$1(1),utcTuesday$1=utcWeekday$1(2),utcWednesday$1=utcWeekday$1(3),utcThursday$1=utcWeekday$1(4),utcFriday$1=utcWeekday$1(5),utcSaturday$1=utcWeekday$1(6);utcSunday$1.range;utcMonday$1.range;utcTuesday$1.range;utcWednesday$1.range;utcThursday$1.range;utcFriday$1.range;utcSaturday$1.range;const timeMonth=timeInterval(dt=>{dt.setDate(1),dt.setHours(0,0,0,0)},(dt,et)=>{dt.setMonth(dt.getMonth()+et)},(dt,et)=>et.getMonth()-dt.getMonth()+(et.getFullYear()-dt.getFullYear())*12,dt=>dt.getMonth());timeMonth.range;const utcMonth$1=timeInterval(dt=>{dt.setUTCDate(1),dt.setUTCHours(0,0,0,0)},(dt,et)=>{dt.setUTCMonth(dt.getUTCMonth()+et)},(dt,et)=>et.getUTCMonth()-dt.getUTCMonth()+(et.getUTCFullYear()-dt.getUTCFullYear())*12,dt=>dt.getUTCMonth());utcMonth$1.range;const timeYear=timeInterval(dt=>{dt.setMonth(0,1),dt.setHours(0,0,0,0)},(dt,et)=>{dt.setFullYear(dt.getFullYear()+et)},(dt,et)=>et.getFullYear()-dt.getFullYear(),dt=>dt.getFullYear());timeYear.every=dt=>!isFinite(dt=Math.floor(dt))||!(dt>0)?null:timeInterval(et=>{et.setFullYear(Math.floor(et.getFullYear()/dt)*dt),et.setMonth(0,1),et.setHours(0,0,0,0)},(et,$t)=>{et.setFullYear(et.getFullYear()+$t*dt)});timeYear.range;const utcYear$1=timeInterval(dt=>{dt.setUTCMonth(0,1),dt.setUTCHours(0,0,0,0)},(dt,et)=>{dt.setUTCFullYear(dt.getUTCFullYear()+et)},(dt,et)=>et.getUTCFullYear()-dt.getUTCFullYear(),dt=>dt.getUTCFullYear());utcYear$1.every=dt=>!isFinite(dt=Math.floor(dt))||!(dt>0)?null:timeInterval(et=>{et.setUTCFullYear(Math.floor(et.getUTCFullYear()/dt)*dt),et.setUTCMonth(0,1),et.setUTCHours(0,0,0,0)},(et,$t)=>{et.setUTCFullYear(et.getUTCFullYear()+$t*dt)});utcYear$1.range;function ticker(dt,et,$t,kt,Tt,Dt){const Ft=[[second$1,1,durationSecond$1],[second$1,5,5*durationSecond$1],[second$1,15,15*durationSecond$1],[second$1,30,30*durationSecond$1],[Dt,1,durationMinute$1],[Dt,5,5*durationMinute$1],[Dt,15,15*durationMinute$1],[Dt,30,30*durationMinute$1],[Tt,1,durationHour$1],[Tt,3,3*durationHour$1],[Tt,6,6*durationHour$1],[Tt,12,12*durationHour$1],[kt,1,durationDay$1],[kt,2,2*durationDay$1],[$t,1,durationWeek$1],[et,1,durationMonth],[et,3,3*durationMonth],[dt,1,durationYear]];function Ut(Kt,Yt,Jt){const Zt=Yt<Kt;Zt&&([Kt,Yt]=[Yt,Kt]);const er=Jt&&typeof Jt.range=="function"?Jt:Ht(Kt,Yt,Jt),rr=er?er.range(Kt,+Yt+1):[];return Zt?rr.reverse():rr}function Ht(Kt,Yt,Jt){const Zt=Math.abs(Yt-Kt)/Jt,er=bisector(([,,ir])=>ir).right(Ft,Zt);if(er===Ft.length)return dt.every(tickStep(Kt/durationYear,Yt/durationYear,Jt));if(er===0)return millisecond$1.every(Math.max(tickStep(Kt,Yt,Jt),1));const[rr,sr]=Ft[Zt/Ft[er-1][2]<Ft[er][2]/Zt?er-1:er];return rr.every(sr)}return[Ut,Ht]}const[utcTicks,utcTickInterval]=ticker(utcYear$1,utcMonth$1,utcSunday$1,unixDay,utcHour$1,utcMinute$1),[timeTicks,timeTickInterval]=ticker(timeYear,timeMonth,timeSunday,timeDay$1,timeHour,timeMinute);var t0=new Date,t1=new Date;function newInterval(dt,et,$t,kt){function Tt(Dt){return dt(Dt=arguments.length===0?new Date:new Date(+Dt)),Dt}return Tt.floor=function(Dt){return dt(Dt=new Date(+Dt)),Dt},Tt.ceil=function(Dt){return dt(Dt=new Date(Dt-1)),et(Dt,1),dt(Dt),Dt},Tt.round=function(Dt){var Ft=Tt(Dt),Ut=Tt.ceil(Dt);return Dt-Ft<Ut-Dt?Ft:Ut},Tt.offset=function(Dt,Ft){return et(Dt=new Date(+Dt),Ft==null?1:Math.floor(Ft)),Dt},Tt.range=function(Dt,Ft,Ut){var Ht=[],Kt;if(Dt=Tt.ceil(Dt),Ut=Ut==null?1:Math.floor(Ut),!(Dt<Ft)||!(Ut>0))return Ht;do Ht.push(Kt=new Date(+Dt)),et(Dt,Ut),dt(Dt);while(Kt<Dt&&Dt<Ft);return Ht},Tt.filter=function(Dt){return newInterval(function(Ft){if(Ft>=Ft)for(;dt(Ft),!Dt(Ft);)Ft.setTime(Ft-1)},function(Ft,Ut){if(Ft>=Ft)if(Ut<0)for(;++Ut<=0;)for(;et(Ft,-1),!Dt(Ft););else for(;--Ut>=0;)for(;et(Ft,1),!Dt(Ft););})},$t&&(Tt.count=function(Dt,Ft){return t0.setTime(+Dt),t1.setTime(+Ft),dt(t0),dt(t1),Math.floor($t(t0,t1))},Tt.every=function(Dt){return Dt=Math.floor(Dt),!isFinite(Dt)||!(Dt>0)?null:Dt>1?Tt.filter(kt?function(Ft){return kt(Ft)%Dt===0}:function(Ft){return Tt.count(0,Ft)%Dt===0}):Tt}),Tt}var millisecond=newInterval(function(){},function(dt,et){dt.setTime(+dt+et)},function(dt,et){return et-dt});millisecond.every=function(dt){return dt=Math.floor(dt),!isFinite(dt)||!(dt>0)?null:dt>1?newInterval(function(et){et.setTime(Math.floor(et/dt)*dt)},function(et,$t){et.setTime(+et+$t*dt)},function(et,$t){return($t-et)/dt}):millisecond};const g$1=millisecond;millisecond.range;var durationSecond=1e3,durationMinute=6e4,durationHour=36e5,durationDay=864e5,durationWeek=6048e5,second=newInterval(function(dt){dt.setTime(dt-dt.getMilliseconds())},function(dt,et){dt.setTime(+dt+et*durationSecond)},function(dt,et){return(et-dt)/durationSecond},function(dt){return dt.getUTCSeconds()});const k$3=second;second.range;var minute=newInterval(function(dt){dt.setTime(dt-dt.getMilliseconds()-dt.getSeconds()*durationSecond)},function(dt,et){dt.setTime(+dt+et*durationMinute)},function(dt,et){return(et-dt)/durationMinute},function(dt){return dt.getMinutes()});const T$2=minute;minute.range;var hour=newInterval(function(dt){dt.setTime(dt-dt.getMilliseconds()-dt.getSeconds()*durationSecond-dt.getMinutes()*durationMinute)},function(dt,et){dt.setTime(+dt+et*durationHour)},function(dt,et){return(et-dt)/durationHour},function(dt){return dt.getHours()});const M$1=hour;hour.range;var day=newInterval(function(dt){dt.setHours(0,0,0,0)},function(dt,et){dt.setDate(dt.getDate()+et)},function(dt,et){return(et-dt-(et.getTimezoneOffset()-dt.getTimezoneOffset())*durationMinute)/durationDay},function(dt){return dt.getDate()-1});const timeDay=day;day.range;function weekday(dt){return newInterval(function(et){et.setDate(et.getDate()-(et.getDay()+7-dt)%7),et.setHours(0,0,0,0)},function(et,$t){et.setDate(et.getDate()+$t*7)},function(et,$t){return($t-et-($t.getTimezoneOffset()-et.getTimezoneOffset())*durationMinute)/durationWeek})}var sunday=weekday(0),monday=weekday(1),tuesday=weekday(2),wednesday=weekday(3),thursday=weekday(4),friday=weekday(5),saturday=weekday(6);sunday.range;monday.range;tuesday.range;wednesday.range;thursday.range;friday.range;saturday.range;var month=newInterval(function(dt){dt.setDate(1),dt.setHours(0,0,0,0)},function(dt,et){dt.setMonth(dt.getMonth()+et)},function(dt,et){return et.getMonth()-dt.getMonth()+(et.getFullYear()-dt.getFullYear())*12},function(dt){return dt.getMonth()});const I$1=month;month.range;var year=newInterval(function(dt){dt.setMonth(0,1),dt.setHours(0,0,0,0)},function(dt,et){dt.setFullYear(dt.getFullYear()+et)},function(dt,et){return et.getFullYear()-dt.getFullYear()},function(dt){return dt.getFullYear()});year.every=function(dt){return!isFinite(dt=Math.floor(dt))||!(dt>0)?null:newInterval(function(et){et.setFullYear(Math.floor(et.getFullYear()/dt)*dt),et.setMonth(0,1),et.setHours(0,0,0,0)},function(et,$t){et.setFullYear(et.getFullYear()+$t*dt)})};const $$1=year;year.range;var utcMinute=newInterval(function(dt){dt.setUTCSeconds(0,0)},function(dt,et){dt.setTime(+dt+et*durationMinute)},function(dt,et){return(et-dt)/durationMinute},function(dt){return dt.getUTCMinutes()});const b$3=utcMinute;utcMinute.range;var utcHour=newInterval(function(dt){dt.setUTCMinutes(0,0,0)},function(dt,et){dt.setTime(+dt+et*durationHour)},function(dt,et){return(et-dt)/durationHour},function(dt){return dt.getUTCHours()});const w$3=utcHour;utcHour.range;var utcDay=newInterval(function(dt){dt.setUTCHours(0,0,0,0)},function(dt,et){dt.setUTCDate(dt.getUTCDate()+et)},function(dt,et){return(et-dt)/durationDay},function(dt){return dt.getUTCDate()-1});const utcDay$1=utcDay;utcDay.range;function utcWeekday(dt){return newInterval(function(et){et.setUTCDate(et.getUTCDate()-(et.getUTCDay()+7-dt)%7),et.setUTCHours(0,0,0,0)},function(et,$t){et.setUTCDate(et.getUTCDate()+$t*7)},function(et,$t){return($t-et)/durationWeek})}var utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6);utcSunday.range;utcMonday.range;utcTuesday.range;utcWednesday.range;utcThursday.range;utcFriday.range;utcSaturday.range;var utcMonth=newInterval(function(dt){dt.setUTCDate(1),dt.setUTCHours(0,0,0,0)},function(dt,et){dt.setUTCMonth(dt.getUTCMonth()+et)},function(dt,et){return et.getUTCMonth()-dt.getUTCMonth()+(et.getUTCFullYear()-dt.getUTCFullYear())*12},function(dt){return dt.getUTCMonth()});const P$1=utcMonth;utcMonth.range;var utcYear=newInterval(function(dt){dt.setUTCMonth(0,1),dt.setUTCHours(0,0,0,0)},function(dt,et){dt.setUTCFullYear(dt.getUTCFullYear()+et)},function(dt,et){return et.getUTCFullYear()-dt.getUTCFullYear()},function(dt){return dt.getUTCFullYear()});utcYear.every=function(dt){return!isFinite(dt=Math.floor(dt))||!(dt>0)?null:newInterval(function(et){et.setUTCFullYear(Math.floor(et.getUTCFullYear()/dt)*dt),et.setUTCMonth(0,1),et.setUTCHours(0,0,0,0)},function(et,$t){et.setUTCFullYear(et.getUTCFullYear()+$t*dt)})};const G=utcYear;utcYear.range;function localDate(dt){if(0<=dt.y&&dt.y<100){var et=new Date(-1,dt.m,dt.d,dt.H,dt.M,dt.S,dt.L);return et.setFullYear(dt.y),et}return new Date(dt.y,dt.m,dt.d,dt.H,dt.M,dt.S,dt.L)}function utcDate(dt){if(0<=dt.y&&dt.y<100){var et=new Date(Date.UTC(-1,dt.m,dt.d,dt.H,dt.M,dt.S,dt.L));return et.setUTCFullYear(dt.y),et}return new Date(Date.UTC(dt.y,dt.m,dt.d,dt.H,dt.M,dt.S,dt.L))}function newDate(dt,et,$t){return{y:dt,m:et,d:$t,H:0,M:0,S:0,L:0}}function formatLocale(dt){var et=dt.dateTime,$t=dt.date,kt=dt.time,Tt=dt.periods,Dt=dt.days,Ft=dt.shortDays,Ut=dt.months,Ht=dt.shortMonths,Kt=formatRe(Tt),Yt=formatLookup(Tt),Jt=formatRe(Dt),Zt=formatLookup(Dt),er=formatRe(Ft),rr=formatLookup(Ft),sr=formatRe(Ut),ir=formatLookup(Ut),nr=formatRe(Ht),or=formatLookup(Ht),lr={a:Tr,A:xr,b:wr,B:zr,c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:Hr,q:Gr,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},cr={a:Xr,A:rs,b:Yr,B:es,c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:ns,q:ms,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},dr={a:kr,A:br,b:_r,B:Or,c:Pr,d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:vr,q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:Mr,X:Rr,y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};lr.x=ur($t,lr),lr.X=ur(kt,lr),lr.c=ur(et,lr),cr.x=ur($t,cr),cr.X=ur(kt,cr),cr.c=ur(et,cr);function ur(ls,ds){return function(fs){var cs=[],xs=-1,us=0,$s=ls.length,ks,Ds,Cs;for(fs instanceof Date||(fs=new Date(+fs));++xs<$s;)ls.charCodeAt(xs)===37&&(cs.push(ls.slice(us,xs)),(Ds=pads[ks=ls.charAt(++xs)])!=null?ks=ls.charAt(++xs):Ds=ks==="e"?" ":"0",(Cs=ds[ks])&&(ks=Cs(fs,Ds)),cs.push(ks),us=xs+1);return cs.push(ls.slice(us,xs)),cs.join("")}}function pr(ls,ds){return function(fs){var cs=newDate(1900,void 0,1),xs=mr(cs,ls,fs+="",0),us,$s;if(xs!=fs.length)return null;if("Q"in cs)return new Date(cs.Q);if("s"in cs)return new Date(cs.s*1e3+("L"in cs?cs.L:0));if(ds&&!("Z"in cs)&&(cs.Z=0),"p"in cs&&(cs.H=cs.H%12+cs.p*12),cs.m===void 0&&(cs.m="q"in cs?cs.q:0),"V"in cs){if(cs.V<1||cs.V>53)return null;"w"in cs||(cs.w=1),"Z"in cs?(us=utcDate(newDate(cs.y,0,1)),$s=us.getUTCDay(),us=$s>4||$s===0?utcMonday.ceil(us):utcMonday(us),us=utcDay$1.offset(us,(cs.V-1)*7),cs.y=us.getUTCFullYear(),cs.m=us.getUTCMonth(),cs.d=us.getUTCDate()+(cs.w+6)%7):(us=localDate(newDate(cs.y,0,1)),$s=us.getDay(),us=$s>4||$s===0?monday.ceil(us):monday(us),us=timeDay.offset(us,(cs.V-1)*7),cs.y=us.getFullYear(),cs.m=us.getMonth(),cs.d=us.getDate()+(cs.w+6)%7)}else("W"in cs||"U"in cs)&&("w"in cs||(cs.w="u"in cs?cs.u%7:"W"in cs?1:0),$s="Z"in cs?utcDate(newDate(cs.y,0,1)).getUTCDay():localDate(newDate(cs.y,0,1)).getDay(),cs.m=0,cs.d="W"in cs?(cs.w+6)%7+cs.W*7-($s+5)%7:cs.w+cs.U*7-($s+6)%7);return"Z"in cs?(cs.H+=cs.Z/100|0,cs.M+=cs.Z%100,utcDate(cs)):localDate(cs)}}function mr(ls,ds,fs,cs){for(var xs=0,us=ds.length,$s=fs.length,ks,Ds;xs<us;){if(cs>=$s)return-1;if(ks=ds.charCodeAt(xs++),ks===37){if(ks=ds.charAt(xs++),Ds=dr[ks in pads?ds.charAt(xs++):ks],!Ds||(cs=Ds(ls,fs,cs))<0)return-1}else if(ks!=fs.charCodeAt(cs++))return-1}return cs}function vr(ls,ds,fs){var cs=Kt.exec(ds.slice(fs));return cs?(ls.p=Yt.get(cs[0].toLowerCase()),fs+cs[0].length):-1}function kr(ls,ds,fs){var cs=er.exec(ds.slice(fs));return cs?(ls.w=rr.get(cs[0].toLowerCase()),fs+cs[0].length):-1}function br(ls,ds,fs){var cs=Jt.exec(ds.slice(fs));return cs?(ls.w=Zt.get(cs[0].toLowerCase()),fs+cs[0].length):-1}function _r(ls,ds,fs){var cs=nr.exec(ds.slice(fs));return cs?(ls.m=or.get(cs[0].toLowerCase()),fs+cs[0].length):-1}function Or(ls,ds,fs){var cs=sr.exec(ds.slice(fs));return cs?(ls.m=ir.get(cs[0].toLowerCase()),fs+cs[0].length):-1}function Pr(ls,ds,fs){return mr(ls,et,ds,fs)}function Mr(ls,ds,fs){return mr(ls,$t,ds,fs)}function Rr(ls,ds,fs){return mr(ls,kt,ds,fs)}function Tr(ls){return Ft[ls.getDay()]}function xr(ls){return Dt[ls.getDay()]}function wr(ls){return Ht[ls.getMonth()]}function zr(ls){return Ut[ls.getMonth()]}function Hr(ls){return Tt[+(ls.getHours()>=12)]}function Gr(ls){return 1+~~(ls.getMonth()/3)}function Xr(ls){return Ft[ls.getUTCDay()]}function rs(ls){return Dt[ls.getUTCDay()]}function Yr(ls){return Ht[ls.getUTCMonth()]}function es(ls){return Ut[ls.getUTCMonth()]}function ns(ls){return Tt[+(ls.getUTCHours()>=12)]}function ms(ls){return 1+~~(ls.getUTCMonth()/3)}return{format:function(ls){var ds=ur(ls+="",lr);return ds.toString=function(){return ls},ds},parse:function(ls){var ds=pr(ls+="",!1);return ds.toString=function(){return ls},ds},utcFormat:function(ls){var ds=ur(ls+="",cr);return ds.toString=function(){return ls},ds},utcParse:function(ls){var ds=pr(ls+="",!0);return ds.toString=function(){return ls},ds}}}var pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad(dt,et,$t){var kt=dt<0?"-":"",Tt=(kt?-dt:dt)+"",Dt=Tt.length;return kt+(Dt<$t?new Array($t-Dt+1).join(et)+Tt:Tt)}function requote(dt){return dt.replace(requoteRe,"\\$&")}function formatRe(dt){return new RegExp("^(?:"+dt.map(requote).join("|")+")","i")}function formatLookup(dt){return new Map(dt.map((et,$t)=>[et.toLowerCase(),$t]))}function parseWeekdayNumberSunday(dt,et,$t){var kt=numberRe.exec(et.slice($t,$t+1));return kt?(dt.w=+kt[0],$t+kt[0].length):-1}function parseWeekdayNumberMonday(dt,et,$t){var kt=numberRe.exec(et.slice($t,$t+1));return kt?(dt.u=+kt[0],$t+kt[0].length):-1}function parseWeekNumberSunday(dt,et,$t){var kt=numberRe.exec(et.slice($t,$t+2));return kt?(dt.U=+kt[0],$t+kt[0].length):-1}function parseWeekNumberISO(dt,et,$t){var kt=numberRe.exec(et.slice($t,$t+2));return kt?(dt.V=+kt[0],$t+kt[0].length):-1}function parseWeekNumberMonday(dt,et,$t){var kt=numberRe.exec(et.slice($t,$t+2));return kt?(dt.W=+kt[0],$t+kt[0].length):-1}function parseFullYear(dt,et,$t){var kt=numberRe.exec(et.slice($t,$t+4));return kt?(dt.y=+kt[0],$t+kt[0].length):-1}function parseYear(dt,et,$t){var kt=numberRe.exec(et.slice($t,$t+2));return kt?(dt.y=+kt[0]+(+kt[0]>68?1900:2e3),$t+kt[0].length):-1}function parseZone(dt,et,$t){var kt=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(et.slice($t,$t+6));return kt?(dt.Z=kt[1]?0:-(kt[2]+(kt[3]||"00")),$t+kt[0].length):-1}function parseQuarter(dt,et,$t){var kt=numberRe.exec(et.slice($t,$t+1));return kt?(dt.q=kt[0]*3-3,$t+kt[0].length):-1}function parseMonthNumber(dt,et,$t){var kt=numberRe.exec(et.slice($t,$t+2));return kt?(dt.m=kt[0]-1,$t+kt[0].length):-1}function parseDayOfMonth(dt,et,$t){var kt=numberRe.exec(et.slice($t,$t+2));return kt?(dt.d=+kt[0],$t+kt[0].length):-1}function parseDayOfYear(dt,et,$t){var kt=numberRe.exec(et.slice($t,$t+3));return kt?(dt.m=0,dt.d=+kt[0],$t+kt[0].length):-1}function parseHour24(dt,et,$t){var kt=numberRe.exec(et.slice($t,$t+2));return kt?(dt.H=+kt[0],$t+kt[0].length):-1}function parseMinutes(dt,et,$t){var kt=numberRe.exec(et.slice($t,$t+2));return kt?(dt.M=+kt[0],$t+kt[0].length):-1}function parseSeconds(dt,et,$t){var kt=numberRe.exec(et.slice($t,$t+2));return kt?(dt.S=+kt[0],$t+kt[0].length):-1}function parseMilliseconds(dt,et,$t){var kt=numberRe.exec(et.slice($t,$t+3));return kt?(dt.L=+kt[0],$t+kt[0].length):-1}function parseMicroseconds(dt,et,$t){var kt=numberRe.exec(et.slice($t,$t+6));return kt?(dt.L=Math.floor(kt[0]/1e3),$t+kt[0].length):-1}function parseLiteralPercent(dt,et,$t){var kt=percentRe.exec(et.slice($t,$t+1));return kt?$t+kt[0].length:-1}function parseUnixTimestamp(dt,et,$t){var kt=numberRe.exec(et.slice($t));return kt?(dt.Q=+kt[0],$t+kt[0].length):-1}function parseUnixTimestampSeconds(dt,et,$t){var kt=numberRe.exec(et.slice($t));return kt?(dt.s=+kt[0],$t+kt[0].length):-1}function formatDayOfMonth(dt,et){return pad(dt.getDate(),et,2)}function formatHour24(dt,et){return pad(dt.getHours(),et,2)}function formatHour12(dt,et){return pad(dt.getHours()%12||12,et,2)}function formatDayOfYear(dt,et){return pad(1+timeDay.count($$1(dt),dt),et,3)}function formatMilliseconds(dt,et){return pad(dt.getMilliseconds(),et,3)}function formatMicroseconds(dt,et){return formatMilliseconds(dt,et)+"000"}function formatMonthNumber(dt,et){return pad(dt.getMonth()+1,et,2)}function formatMinutes(dt,et){return pad(dt.getMinutes(),et,2)}function formatSeconds(dt,et){return pad(dt.getSeconds(),et,2)}function formatWeekdayNumberMonday(dt){var et=dt.getDay();return et===0?7:et}function formatWeekNumberSunday(dt,et){return pad(sunday.count($$1(dt)-1,dt),et,2)}function dISO(dt){var et=dt.getDay();return et>=4||et===0?thursday(dt):thursday.ceil(dt)}function formatWeekNumberISO(dt,et){return dt=dISO(dt),pad(thursday.count($$1(dt),dt)+($$1(dt).getDay()===4),et,2)}function formatWeekdayNumberSunday(dt){return dt.getDay()}function formatWeekNumberMonday(dt,et){return pad(monday.count($$1(dt)-1,dt),et,2)}function formatYear(dt,et){return pad(dt.getFullYear()%100,et,2)}function formatYearISO(dt,et){return dt=dISO(dt),pad(dt.getFullYear()%100,et,2)}function formatFullYear(dt,et){return pad(dt.getFullYear()%1e4,et,4)}function formatFullYearISO(dt,et){var $t=dt.getDay();return dt=$t>=4||$t===0?thursday(dt):thursday.ceil(dt),pad(dt.getFullYear()%1e4,et,4)}function formatZone(dt){var et=dt.getTimezoneOffset();return(et>0?"-":(et*=-1,"+"))+pad(et/60|0,"0",2)+pad(et%60,"0",2)}function formatUTCDayOfMonth(dt,et){return pad(dt.getUTCDate(),et,2)}function formatUTCHour24(dt,et){return pad(dt.getUTCHours(),et,2)}function formatUTCHour12(dt,et){return pad(dt.getUTCHours()%12||12,et,2)}function formatUTCDayOfYear(dt,et){return pad(1+utcDay$1.count(G(dt),dt),et,3)}function formatUTCMilliseconds(dt,et){return pad(dt.getUTCMilliseconds(),et,3)}function formatUTCMicroseconds(dt,et){return formatUTCMilliseconds(dt,et)+"000"}function formatUTCMonthNumber(dt,et){return pad(dt.getUTCMonth()+1,et,2)}function formatUTCMinutes(dt,et){return pad(dt.getUTCMinutes(),et,2)}function formatUTCSeconds(dt,et){return pad(dt.getUTCSeconds(),et,2)}function formatUTCWeekdayNumberMonday(dt){var et=dt.getUTCDay();return et===0?7:et}function formatUTCWeekNumberSunday(dt,et){return pad(utcSunday.count(G(dt)-1,dt),et,2)}function UTCdISO(dt){var et=dt.getUTCDay();return et>=4||et===0?utcThursday(dt):utcThursday.ceil(dt)}function formatUTCWeekNumberISO(dt,et){return dt=UTCdISO(dt),pad(utcThursday.count(G(dt),dt)+(G(dt).getUTCDay()===4),et,2)}function formatUTCWeekdayNumberSunday(dt){return dt.getUTCDay()}function formatUTCWeekNumberMonday(dt,et){return pad(utcMonday.count(G(dt)-1,dt),et,2)}function formatUTCYear(dt,et){return pad(dt.getUTCFullYear()%100,et,2)}function formatUTCYearISO(dt,et){return dt=UTCdISO(dt),pad(dt.getUTCFullYear()%100,et,2)}function formatUTCFullYear(dt,et){return pad(dt.getUTCFullYear()%1e4,et,4)}function formatUTCFullYearISO(dt,et){var $t=dt.getUTCDay();return dt=$t>=4||$t===0?utcThursday(dt):utcThursday.ceil(dt),pad(dt.getUTCFullYear()%1e4,et,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(dt){return+dt}function formatUnixTimestampSeconds(dt){return Math.floor(+dt/1e3)}var locale,timeFormat,timeParse,utcFormat,utcParse;defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function defaultLocale(dt){return locale=formatLocale(dt),timeFormat=locale.format,timeParse=locale.parse,utcFormat=locale.utcFormat,utcParse=locale.utcParse,locale}function date(dt){return new Date(dt)}function number(dt){return dt instanceof Date?+dt:+new Date(+dt)}function calendar(dt,et,$t,kt,Tt,Dt,Ft,Ut,Ht,Kt){var Yt=continuous(),Jt=Yt.invert,Zt=Yt.domain,er=Kt(".%L"),rr=Kt(":%S"),sr=Kt("%I:%M"),ir=Kt("%I %p"),nr=Kt("%a %d"),or=Kt("%b %d"),lr=Kt("%B"),cr=Kt("%Y");function dr(ur){return(Ht(ur)<ur?er:Ut(ur)<ur?rr:Ft(ur)<ur?sr:Dt(ur)<ur?ir:kt(ur)<ur?Tt(ur)<ur?nr:or:$t(ur)<ur?lr:cr)(ur)}return Yt.invert=function(ur){return new Date(Jt(ur))},Yt.domain=function(ur){return arguments.length?Zt(Array.from(ur,number)):Zt().map(date)},Yt.ticks=function(ur){var pr=Zt();return dt(pr[0],pr[pr.length-1],ur??10)},Yt.tickFormat=function(ur,pr){return pr==null?dr:Kt(pr)},Yt.nice=function(ur){var pr=Zt();return(!ur||typeof ur.range!="function")&&(ur=et(pr[0],pr[pr.length-1],ur??10)),ur?Zt(nice(pr,ur)):Yt},Yt.copy=function(){return copy(Yt,calendar(dt,et,$t,kt,Tt,Dt,Ft,Ut,Ht,Kt))},Yt}function time(){return initRange.apply(calendar(timeTicks,timeTickInterval,timeYear,timeMonth,timeSunday,timeDay$1,timeHour,timeMinute,second$1,timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function utcTime(){return initRange.apply(calendar(utcTicks,utcTickInterval,utcYear$1,utcMonth$1,utcSunday$1,utcDay$2,utcHour$1,utcMinute$1,second$1,utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function colors$4(dt){for(var et=dt.length/6|0,$t=new Array(et),kt=0;kt<et;)$t[kt]="#"+dt.slice(kt*6,++kt*6);return $t}const e$1=colors$4("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),r$1=colors$4("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),n=colors$4("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),t=colors$4("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),o$2=colors$4("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),i=colors$4("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),u$1=colors$4("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),l=colors$4("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),a$2=colors$4("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),c$2=colors$4("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),ramp$1=dt=>rgbBasis(dt[dt.length-1]);var scheme$q=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(colors$4);const y$1=ramp$1(scheme$q);var scheme$p=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(colors$4);const _$1=ramp$1(scheme$p);var scheme$o=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(colors$4);const w$2=ramp$1(scheme$o);var scheme$n=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(colors$4);const k$2=ramp$1(scheme$n);var scheme$m=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(colors$4);const j$3=ramp$1(scheme$m);var scheme$l=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(colors$4);const z$3=ramp$1(scheme$l);var scheme$k=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(colors$4);const A$2=ramp$1(scheme$k);var scheme$j=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(colors$4);const E$3=ramp$1(scheme$j);var scheme$i=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(colors$4);const O$3=ramp$1(scheme$i);var scheme$h=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(colors$4);const le$1=ramp$1(scheme$h);var scheme$g=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(colors$4);const ae$1=ramp$1(scheme$g);var scheme$f=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(colors$4);const ce$1=ramp$1(scheme$f);var scheme$e=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(colors$4);const se$1=ramp$1(scheme$e);var scheme$d=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(colors$4);const fe$1=ramp$1(scheme$d);var scheme$c=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(colors$4);const pe$1=ramp$1(scheme$c);var scheme$b=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(colors$4);const de$1=ramp$1(scheme$b);var scheme$a=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(colors$4);const me$1=ramp$1(scheme$a);var scheme$9=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(colors$4);const ge$1=ramp$1(scheme$9);var scheme$8=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(colors$4);const he$1=ramp$1(scheme$8);var scheme$7=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(colors$4);const be$1=ramp$1(scheme$7);var scheme$6=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(colors$4);const ve$1=ramp$1(scheme$6);var scheme$5=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(colors$4);const K=ramp$1(scheme$5);var scheme$4=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(colors$4);const L$3=ramp$1(scheme$4);var scheme$3=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(colors$4);const N=ramp$1(scheme$3);var scheme$2=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(colors$4);const W$3=ramp$1(scheme$2);var scheme$1=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(colors$4);const X$2=ramp$1(scheme$1);var scheme=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(colors$4);const Q$2=ramp$1(scheme);function te$1(dt){return dt=Math.max(0,Math.min(1,dt)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-dt*(35.34-dt*(2381.73-dt*(6402.7-dt*(7024.72-dt*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+dt*(170.73+dt*(52.82-dt*(131.46-dt*(176.58-dt*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+dt*(442.36-dt*(2482.43-dt*(6167.24-dt*(6614.94-dt*2475.67)))))))+")"}const ue$1=cubehelixLong(cubehelix$1(300,.5,0),cubehelix$1(-240,.5,1));var warm=cubehelixLong(cubehelix$1(-100,.75,.35),cubehelix$1(80,1.5,.8)),cool=cubehelixLong(cubehelix$1(260,.75,.35),cubehelix$1(80,1.5,.8)),c$1=cubehelix$1();function ye$1(dt){(dt<0||dt>1)&&(dt-=Math.floor(dt));var et=Math.abs(dt-.5);return c$1.h=360*dt-100,c$1.s=1.5-1.5*et,c$1.l=.8-.9*et,c$1+""}var c=rgb$5(),pi_1_3=Math.PI/3,pi_2_3=Math.PI*2/3;function _e(dt){var et;return dt=(.5-dt)*Math.PI,c.r=255*(et=Math.sin(dt))*et,c.g=255*(et=Math.sin(dt+pi_1_3))*et,c.b=255*(et=Math.sin(dt+pi_2_3))*et,c+""}function Y$2(dt){return dt=Math.max(0,Math.min(1,dt)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+dt*(1172.33-dt*(10793.56-dt*(33300.12-dt*(38394.49-dt*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+dt*(557.33+dt*(1225.33-dt*(3574.96-dt*(1073.77+dt*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+dt*(3211.1-dt*(15327.97-dt*(27814-dt*(22569.18-dt*6838.66)))))))+")"}function ramp(dt){var et=dt.length;return function($t){return dt[Math.max(0,Math.min(et-1,Math.floor($t*et)))]}}const Z$2=ramp(colors$4("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var magma=ramp(colors$4("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),inferno=ramp(colors$4("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),plasma=ramp(colors$4("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function last$1(dt){var et=dt==null?0:dt.length;return et?dt[et-1]:void 0}var last_1=last$1;const r=getDefaultExportFromCjs(last_1);var baseGet$3=_baseGet,baseSet=_baseSet,castPath$3=_castPath;function basePickBy$1(dt,et,$t){for(var kt=-1,Tt=et.length,Dt={};++kt<Tt;){var Ft=et[kt],Ut=baseGet$3(dt,Ft);$t(Ut,Ft)&&baseSet(Dt,castPath$3(Ft,dt),Ut)}return Dt}var _basePickBy=basePickBy$1;function baseHasIn$1(dt,et){return dt!=null&&et in Object(dt)}var _baseHasIn=baseHasIn$1,castPath$2=_castPath,isArguments$1=isArguments_1,isArray$7=isArray_1,isIndex=_isIndex,isLength=isLength_1,toKey$3=_toKey;function hasPath$1(dt,et,$t){et=castPath$2(et,dt);for(var kt=-1,Tt=et.length,Dt=!1;++kt<Tt;){var Ft=toKey$3(et[kt]);if(!(Dt=dt!=null&&$t(dt,Ft)))break;dt=dt[Ft]}return Dt||++kt!=Tt?Dt:(Tt=dt==null?0:dt.length,!!Tt&&isLength(Tt)&&isIndex(Ft,Tt)&&(isArray$7(dt)||isArguments$1(dt)))}var _hasPath=hasPath$1,baseHasIn=_baseHasIn,hasPath=_hasPath;function hasIn$2(dt,et){return dt!=null&&hasPath(dt,et,baseHasIn)}var hasIn_1=hasIn$2,basePickBy=_basePickBy,hasIn$1=hasIn_1;function basePick$1(dt,et){return basePickBy(dt,et,function($t,kt){return hasIn$1(dt,kt)})}var _basePick=basePick$1;function arrayPush$3(dt,et){for(var $t=-1,kt=et.length,Tt=dt.length;++$t<kt;)dt[Tt+$t]=et[$t];return dt}var _arrayPush=arrayPush$3,Symbol$3=_Symbol,isArguments=isArguments_1,isArray$6=isArray_1,spreadableSymbol=Symbol$3?Symbol$3.isConcatSpreadable:void 0;function isFlattenable$1(dt){return isArray$6(dt)||isArguments(dt)||!!(spreadableSymbol&&dt&&dt[spreadableSymbol])}var _isFlattenable=isFlattenable$1,arrayPush$2=_arrayPush,isFlattenable=_isFlattenable;function baseFlatten$2(dt,et,$t,kt,Tt){var Dt=-1,Ft=dt.length;for($t||($t=isFlattenable),Tt||(Tt=[]);++Dt<Ft;){var Ut=dt[Dt];et>0&&$t(Ut)?et>1?baseFlatten$2(Ut,et-1,$t,kt,Tt):arrayPush$2(Tt,Ut):kt||(Tt[Tt.length]=Ut)}return Tt}var _baseFlatten=baseFlatten$2,baseFlatten$1=_baseFlatten;function flatten$1(dt){var et=dt==null?0:dt.length;return et?baseFlatten$1(dt,1):[]}var flatten_1=flatten$1,flatten=flatten_1,overRest=_overRest,setToString=_setToString;function flatRest$2(dt){return setToString(overRest(dt,void 0,flatten),dt+"")}var _flatRest=flatRest$2,basePick=_basePick,flatRest$1=_flatRest,pick=flatRest$1(function(dt,et){return dt==null?{}:basePick(dt,et)}),pick_1=pick;const Ir=getDefaultExportFromCjs(pick_1);function arraySome$1(dt,et){for(var $t=-1,kt=dt==null?0:dt.length;++$t<kt;)if(et(dt[$t],$t,dt))return!0;return!1}var _arraySome=arraySome$1,SetCache$1=_SetCache,arraySome=_arraySome,cacheHas$1=_cacheHas,COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2;function equalArrays$2(dt,et,$t,kt,Tt,Dt){var Ft=$t&COMPARE_PARTIAL_FLAG$5,Ut=dt.length,Ht=et.length;if(Ut!=Ht&&!(Ft&&Ht>Ut))return!1;var Kt=Dt.get(dt),Yt=Dt.get(et);if(Kt&&Yt)return Kt==et&&Yt==dt;var Jt=-1,Zt=!0,er=$t&COMPARE_UNORDERED_FLAG$3?new SetCache$1:void 0;for(Dt.set(dt,et),Dt.set(et,dt);++Jt<Ut;){var rr=dt[Jt],sr=et[Jt];if(kt)var ir=Ft?kt(sr,rr,Jt,et,dt,Dt):kt(rr,sr,Jt,dt,et,Dt);if(ir!==void 0){if(ir)continue;Zt=!1;break}if(er){if(!arraySome(et,function(nr,or){if(!cacheHas$1(er,or)&&(rr===nr||Tt(rr,nr,$t,kt,Dt)))return er.push(or)})){Zt=!1;break}}else if(!(rr===sr||Tt(rr,sr,$t,kt,Dt))){Zt=!1;break}}return Dt.delete(dt),Dt.delete(et),Zt}var _equalArrays=equalArrays$2;function mapToArray$1(dt){var et=-1,$t=Array(dt.size);return dt.forEach(function(kt,Tt){$t[++et]=[Tt,kt]}),$t}var _mapToArray=mapToArray$1;function setToArray$3(dt){var et=-1,$t=Array(dt.size);return dt.forEach(function(kt){$t[++et]=kt}),$t}var _setToArray=setToArray$3,Symbol$2=_Symbol,Uint8Array$1=_Uint8Array,eq=eq_1,equalArrays$1=_equalArrays,mapToArray=_mapToArray,setToArray$2=_setToArray,COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2,boolTag$2="[object Boolean]",dateTag$2="[object Date]",errorTag$1="[object Error]",mapTag$4="[object Map]",numberTag$3="[object Number]",regexpTag$2="[object RegExp]",setTag$4="[object Set]",stringTag$2="[object String]",symbolTag$2="[object Symbol]",arrayBufferTag$2="[object ArrayBuffer]",dataViewTag$3="[object DataView]",symbolProto$1=Symbol$2?Symbol$2.prototype:void 0,symbolValueOf$1=symbolProto$1?symbolProto$1.valueOf:void 0;function equalByTag$1(dt,et,$t,kt,Tt,Dt,Ft){switch($t){case dataViewTag$3:if(dt.byteLength!=et.byteLength||dt.byteOffset!=et.byteOffset)return!1;dt=dt.buffer,et=et.buffer;case arrayBufferTag$2:return!(dt.byteLength!=et.byteLength||!Dt(new Uint8Array$1(dt),new Uint8Array$1(et)));case boolTag$2:case dateTag$2:case numberTag$3:return eq(+dt,+et);case errorTag$1:return dt.name==et.name&&dt.message==et.message;case regexpTag$2:case stringTag$2:return dt==et+"";case mapTag$4:var Ut=mapToArray;case setTag$4:var Ht=kt&COMPARE_PARTIAL_FLAG$4;if(Ut||(Ut=setToArray$2),dt.size!=et.size&&!Ht)return!1;var Kt=Ft.get(dt);if(Kt)return Kt==et;kt|=COMPARE_UNORDERED_FLAG$2,Ft.set(dt,et);var Yt=equalArrays$1(Ut(dt),Ut(et),kt,Tt,Dt,Ft);return Ft.delete(dt),Yt;case symbolTag$2:if(symbolValueOf$1)return symbolValueOf$1.call(dt)==symbolValueOf$1.call(et)}return!1}var _equalByTag=equalByTag$1,arrayPush$1=_arrayPush,isArray$5=isArray_1;function baseGetAllKeys$2(dt,et,$t){var kt=et(dt);return isArray$5(dt)?kt:arrayPush$1(kt,$t(dt))}var _baseGetAllKeys=baseGetAllKeys$2;function arrayFilter$2(dt,et){for(var $t=-1,kt=dt==null?0:dt.length,Tt=0,Dt=[];++$t<kt;){var Ft=dt[$t];et(Ft,$t,dt)&&(Dt[Tt++]=Ft)}return Dt}var _arrayFilter=arrayFilter$2;function stubArray$2(){return[]}var stubArray_1=stubArray$2,arrayFilter$1=_arrayFilter,stubArray$1=stubArray_1,objectProto$4=Object.prototype,propertyIsEnumerable=objectProto$4.propertyIsEnumerable,nativeGetSymbols$1=Object.getOwnPropertySymbols,getSymbols$3=nativeGetSymbols$1?function(dt){return dt==null?[]:(dt=Object(dt),arrayFilter$1(nativeGetSymbols$1(dt),function(et){return propertyIsEnumerable.call(dt,et)}))}:stubArray$1,_getSymbols=getSymbols$3,overArg=_overArg,nativeKeys$1=overArg(Object.keys,Object),_nativeKeys=nativeKeys$1,isPrototype=_isPrototype,nativeKeys=_nativeKeys,objectProto$3=Object.prototype,hasOwnProperty$3=objectProto$3.hasOwnProperty;function baseKeys$1(dt){if(!isPrototype(dt))return nativeKeys(dt);var et=[];for(var $t in Object(dt))hasOwnProperty$3.call(dt,$t)&&$t!="constructor"&&et.push($t);return et}var _baseKeys=baseKeys$1,arrayLikeKeys=_arrayLikeKeys,baseKeys=_baseKeys,isArrayLike$2=isArrayLike_1;function keys$5(dt){return isArrayLike$2(dt)?arrayLikeKeys(dt):baseKeys(dt)}var keys_1=keys$5,baseGetAllKeys$1=_baseGetAllKeys,getSymbols$2=_getSymbols,keys$4=keys_1;function getAllKeys$2(dt){return baseGetAllKeys$1(dt,keys$4,getSymbols$2)}var _getAllKeys=getAllKeys$2,getAllKeys$1=_getAllKeys,COMPARE_PARTIAL_FLAG$3=1,objectProto$2=Object.prototype,hasOwnProperty$2=objectProto$2.hasOwnProperty;function equalObjects$1(dt,et,$t,kt,Tt,Dt){var Ft=$t&COMPARE_PARTIAL_FLAG$3,Ut=getAllKeys$1(dt),Ht=Ut.length,Kt=getAllKeys$1(et),Yt=Kt.length;if(Ht!=Yt&&!Ft)return!1;for(var Jt=Ht;Jt--;){var Zt=Ut[Jt];if(!(Ft?Zt in et:hasOwnProperty$2.call(et,Zt)))return!1}var er=Dt.get(dt),rr=Dt.get(et);if(er&&rr)return er==et&&rr==dt;var sr=!0;Dt.set(dt,et),Dt.set(et,dt);for(var ir=Ft;++Jt<Ht;){Zt=Ut[Jt];var nr=dt[Zt],or=et[Zt];if(kt)var lr=Ft?kt(or,nr,Zt,et,dt,Dt):kt(nr,or,Zt,dt,et,Dt);if(!(lr===void 0?nr===or||Tt(nr,or,$t,kt,Dt):lr)){sr=!1;break}ir||(ir=Zt=="constructor")}if(sr&&!ir){var cr=dt.constructor,dr=et.constructor;cr!=dr&&"constructor"in dt&&"constructor"in et&&!(typeof cr=="function"&&cr instanceof cr&&typeof dr=="function"&&dr instanceof dr)&&(sr=!1)}return Dt.delete(dt),Dt.delete(et),sr}var _equalObjects=equalObjects$1,getNative$3=_getNative,root$4=_root,DataView$2=getNative$3(root$4,"DataView"),_DataView=DataView$2,getNative$2=_getNative,root$3=_root,Promise$2=getNative$2(root$3,"Promise"),_Promise=Promise$2,getNative$1=_getNative,root$2=_root,Set$3=getNative$1(root$2,"Set"),_Set=Set$3,getNative=_getNative,root$1=_root,WeakMap$2=getNative(root$1,"WeakMap"),_WeakMap=WeakMap$2,DataView$1=_DataView,Map$1=_Map,Promise$1=_Promise,Set$2=_Set,WeakMap$1=_WeakMap,baseGetTag$1=_baseGetTag,toSource=_toSource,mapTag$3="[object Map]",objectTag$2="[object Object]",promiseTag="[object Promise]",setTag$3="[object Set]",weakMapTag$1="[object WeakMap]",dataViewTag$2="[object DataView]",dataViewCtorString=toSource(DataView$1),mapCtorString=toSource(Map$1),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$2),weakMapCtorString=toSource(WeakMap$1),getTag$4=baseGetTag$1;(DataView$1&&getTag$4(new DataView$1(new ArrayBuffer(1)))!=dataViewTag$2||Map$1&&getTag$4(new Map$1)!=mapTag$3||Promise$1&&getTag$4(Promise$1.resolve())!=promiseTag||Set$2&&getTag$4(new Set$2)!=setTag$3||WeakMap$1&&getTag$4(new WeakMap$1)!=weakMapTag$1)&&(getTag$4=function(dt){var et=baseGetTag$1(dt),$t=et==objectTag$2?dt.constructor:void 0,kt=$t?toSource($t):"";if(kt)switch(kt){case dataViewCtorString:return dataViewTag$2;case mapCtorString:return mapTag$3;case promiseCtorString:return promiseTag;case setCtorString:return setTag$3;case weakMapCtorString:return weakMapTag$1}return et});var _getTag=getTag$4,Stack$2=_Stack,equalArrays=_equalArrays,equalByTag=_equalByTag,equalObjects=_equalObjects,getTag$3=_getTag,isArray$4=isArray_1,isBuffer$1=isBufferExports,isTypedArray=isTypedArray_1,COMPARE_PARTIAL_FLAG$2=1,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",objectTag$1="[object Object]",objectProto$1=Object.prototype,hasOwnProperty$1=objectProto$1.hasOwnProperty;function baseIsEqualDeep$1(dt,et,$t,kt,Tt,Dt){var Ft=isArray$4(dt),Ut=isArray$4(et),Ht=Ft?arrayTag$1:getTag$3(dt),Kt=Ut?arrayTag$1:getTag$3(et);Ht=Ht==argsTag$1?objectTag$1:Ht,Kt=Kt==argsTag$1?objectTag$1:Kt;var Yt=Ht==objectTag$1,Jt=Kt==objectTag$1,Zt=Ht==Kt;if(Zt&&isBuffer$1(dt)){if(!isBuffer$1(et))return!1;Ft=!0,Yt=!1}if(Zt&&!Yt)return Dt||(Dt=new Stack$2),Ft||isTypedArray(dt)?equalArrays(dt,et,$t,kt,Tt,Dt):equalByTag(dt,et,Ht,$t,kt,Tt,Dt);if(!($t&COMPARE_PARTIAL_FLAG$2)){var er=Yt&&hasOwnProperty$1.call(dt,"__wrapped__"),rr=Jt&&hasOwnProperty$1.call(et,"__wrapped__");if(er||rr){var sr=er?dt.value():dt,ir=rr?et.value():et;return Dt||(Dt=new Stack$2),Tt(sr,ir,$t,kt,Dt)}}return Zt?(Dt||(Dt=new Stack$2),equalObjects(dt,et,$t,kt,Tt,Dt)):!1}var _baseIsEqualDeep=baseIsEqualDeep$1,baseIsEqualDeep=_baseIsEqualDeep,isObjectLike$3=isObjectLike_1;function baseIsEqual$3(dt,et,$t,kt,Tt){return dt===et?!0:dt==null||et==null||!isObjectLike$3(dt)&&!isObjectLike$3(et)?dt!==dt&&et!==et:baseIsEqualDeep(dt,et,$t,kt,baseIsEqual$3,Tt)}var _baseIsEqual=baseIsEqual$3,baseIsEqual$2=_baseIsEqual;function isEqual$4(dt,et){return baseIsEqual$2(dt,et)}var isEqual_1=isEqual$4;const Ar=getDefaultExportFromCjs(isEqual_1);var Sr=reactExports.createContext(),qr=function(dt){var et=dt.children,$t=dt.animate,kt=$t===void 0||$t,Tt=dt.config,Dt=Tt===void 0?"default":Tt,Ft=reactExports.useMemo(function(){var Ut=_$3(Dt)?config$3[Dt]:Dt;return{animate:kt,config:Ut}},[kt,Dt]);return jsxRuntimeExports.jsx(Sr.Provider,{value:Ft,children:et})},Dr=function(){return reactExports.useContext(Sr)},Er=function(dt){var et=dt.children,$t=dt.condition,kt=dt.wrapper;return $t?reactExports.cloneElement(kt,{},et):et},Ur={position:"relative"},Fr=function(dt){var et=dt.children,$t=dt.theme,kt=dt.renderWrapper,Tt=kt===void 0||kt,Dt=dt.isInteractive,Ft=Dt===void 0||Dt,Ut=dt.animate,Ht=dt.motionConfig,Kt=reactExports.useRef(null);return jsxRuntimeExports.jsx(z$5,{theme:$t,children:jsxRuntimeExports.jsx(qr,{animate:Ut,config:Ht,children:jsxRuntimeExports.jsx(W$5,{container:Kt,children:jsxRuntimeExports.jsxs(Er,{condition:Tt,wrapper:jsxRuntimeExports.jsx("div",{style:Ur,ref:Kt}),children:[et,Ft&&jsxRuntimeExports.jsx(M$2,{})]})})})})},Kr=function(dt,et){return dt.width===et.width&&dt.height===et.height},Nr=function(dt){var et=dt.children,$t=dt.width,kt=dt.height,Tt=dt.onResize,Dt=dt.debounceResize,Ft=a$3({width:$t,height:kt},Dt,{equalityFn:Kr})[0];return reactExports.useEffect(function(){Tt==null||Tt(Ft)},[Ft,Tt]),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:et(Ft)})},$r=function(dt){var et=dt.children,$t=dt.defaultWidth,kt=dt.defaultHeight,Tt=dt.onResize,Dt=dt.debounceResize,Ft=Dt===void 0?0:Dt;return jsxRuntimeExports.jsx(AutoSizer,{defaultWidth:$t,defaultHeight:kt,children:function(Ut){var Ht=Ut.width,Kt=Ut.height;return jsxRuntimeExports.jsx(Nr,{width:Ht,height:Kt,onResize:Tt,debounceResize:Ft,children:et})}})};function Jr(dt,et){(et==null||et>dt.length)&&(et=dt.length);for(var $t=0,kt=Array(et);$t<et;$t++)kt[$t]=dt[$t];return kt}function Qr(dt,et){var $t=typeof Symbol<"u"&&dt[Symbol.iterator]||dt["@@iterator"];if($t)return($t=$t.call(dt)).next.bind($t);if(Array.isArray(dt)||($t=function(Tt,Dt){if(Tt){if(typeof Tt=="string")return Jr(Tt,Dt);var Ft={}.toString.call(Tt).slice(8,-1);return Ft==="Object"&&Tt.constructor&&(Ft=Tt.constructor.name),Ft==="Map"||Ft==="Set"?Array.from(Tt):Ft==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ft)?Jr(Tt,Dt):void 0}}(dt))||et&&dt&&typeof dt.length=="number"){$t&&(dt=$t);var kt=0;return function(){return kt>=dt.length?{done:!0}:{done:!1,value:dt[kt++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vr(){return Vr=Object.assign?Object.assign.bind():function(dt){for(var et=1;et<arguments.length;et++){var $t=arguments[et];for(var kt in $t)({}).hasOwnProperty.call($t,kt)&&(dt[kt]=$t[kt])}return dt},Vr.apply(null,arguments)}function Zr(dt,et){if(dt==null)return{};var $t={};for(var kt in dt)if({}.hasOwnProperty.call(dt,kt)){if(et.indexOf(kt)!==-1)continue;$t[kt]=dt[kt]}return $t}var rt=["id","colors"],tt=function(dt){var et=dt.id,$t=dt.colors,kt=Zr(dt,rt);return jsxRuntimeExports.jsx("linearGradient",Vr({id:et,x1:0,x2:0,y1:0,y2:1},kt,{children:$t.map(function(Tt){var Dt=Tt.offset,Ft=Tt.color,Ut=Tt.opacity;return jsxRuntimeExports.jsx("stop",{offset:Dt+"%",stopColor:Ft,stopOpacity:Ut!==void 0?Ut:1},Dt)})}))},ot={linearGradient:tt},it={color:"#000000",background:"#ffffff",size:4,padding:4,stagger:!1},at=reactExports.memo(function(dt){var et=dt.id,$t=dt.background,kt=$t===void 0?it.background:$t,Tt=dt.color,Dt=Tt===void 0?it.color:Tt,Ft=dt.size,Ut=Ft===void 0?it.size:Ft,Ht=dt.padding,Kt=Ht===void 0?it.padding:Ht,Yt=dt.stagger,Jt=Yt===void 0?it.stagger:Yt,Zt=Ut+Kt,er=Ut/2,rr=Kt/2;return Jt===!0&&(Zt=2*Ut+2*Kt),jsxRuntimeExports.jsxs("pattern",{id:et,width:Zt,height:Zt,patternUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("rect",{width:Zt,height:Zt,fill:kt}),jsxRuntimeExports.jsx("circle",{cx:rr+er,cy:rr+er,r:er,fill:Dt}),Jt&&jsxRuntimeExports.jsx("circle",{cx:1.5*Kt+Ut+er,cy:1.5*Kt+Ut+er,r:er,fill:Dt})]})}),ut=function(dt){return dt*Math.PI/180},ct=function(dt){return 180*dt/Math.PI},ft=function(dt,et){return{x:Math.cos(dt)*et,y:Math.sin(dt)*et}},ht=function(dt){var et=dt%360;return et<0&&(et+=360),et},gt={svg:{align:{left:"start",center:"middle",right:"end",start:"start",middle:"middle",end:"end"},baseline:{top:"text-before-edge",center:"central",bottom:"alphabetic"}},canvas:{align:{left:"left",center:"center",right:"right",start:"left",middle:"center",end:"right"},baseline:{top:"top",center:"middle",bottom:"bottom"}}},mt={spacing:5,rotation:0,background:"#000000",color:"#ffffff",lineWidth:2},vt=reactExports.memo(function(dt){var et=dt.id,$t=dt.spacing,kt=$t===void 0?mt.spacing:$t,Tt=dt.rotation,Dt=Tt===void 0?mt.rotation:Tt,Ft=dt.background,Ut=Ft===void 0?mt.background:Ft,Ht=dt.color,Kt=Ht===void 0?mt.color:Ht,Yt=dt.lineWidth,Jt=Yt===void 0?mt.lineWidth:Yt,Zt=Math.round(Dt)%360,er=Math.abs(kt);Zt>180?Zt-=360:Zt>90?Zt-=180:Zt<-180?Zt+=360:Zt<-90&&(Zt+=180);var rr,sr=er,ir=er;return Zt===0?rr=`
                M 0 0 L `+sr+` 0
                M 0 `+ir+" L "+sr+" "+ir+`
            `:Zt===90?rr=`
                M 0 0 L 0 `+ir+`
                M `+sr+" 0 L "+sr+" "+ir+`
            `:(sr=Math.abs(er/Math.sin(ut(Zt))),ir=er/Math.sin(ut(90-Zt)),rr=Zt>0?`
                    M 0 `+-ir+" L "+2*sr+" "+ir+`
                    M `+-sr+" "+-ir+" L "+sr+" "+ir+`
                    M `+-sr+" 0 L "+sr+" "+2*ir+`
                `:`
                    M `+-sr+" "+ir+" L "+sr+" "+-ir+`
                    M `+-sr+" "+2*ir+" L "+2*sr+" "+-ir+`
                    M 0 `+2*ir+" L "+2*sr+` 0
                `),jsxRuntimeExports.jsxs("pattern",{id:et,width:sr,height:ir,patternUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("rect",{width:sr,height:ir,fill:Ut,stroke:"rgba(255, 0, 0, 0.1)",strokeWidth:0}),jsxRuntimeExports.jsx("path",{d:rr,strokeWidth:Jt,stroke:Kt,strokeLinecap:"square"})]})}),_t={color:"#000000",background:"#ffffff",size:4,padding:4,stagger:!1},wt=reactExports.memo(function(dt){var et=dt.id,$t=dt.color,kt=$t===void 0?_t.color:$t,Tt=dt.background,Dt=Tt===void 0?_t.background:Tt,Ft=dt.size,Ut=Ft===void 0?_t.size:Ft,Ht=dt.padding,Kt=Ht===void 0?_t.padding:Ht,Yt=dt.stagger,Jt=Yt===void 0?_t.stagger:Yt,Zt=Ut+Kt,er=Kt/2;return Jt===!0&&(Zt=2*Ut+2*Kt),jsxRuntimeExports.jsxs("pattern",{id:et,width:Zt,height:Zt,patternUnits:"userSpaceOnUse",children:[jsxRuntimeExports.jsx("rect",{width:Zt,height:Zt,fill:Dt}),jsxRuntimeExports.jsx("rect",{x:er,y:er,width:Ut,height:Ut,fill:kt}),Jt&&jsxRuntimeExports.jsx("rect",{x:1.5*Kt+Ut,y:1.5*Kt+Ut,width:Ut,height:Ut,fill:kt})]})}),xt={patternDots:at,patternLines:vt,patternSquares:wt},Ot=["type"],zt=Vr({},ot,xt),Mt=reactExports.memo(function(dt){var et=dt.defs;return!et||et.length<1?null:jsxRuntimeExports.jsx("defs",{"aria-hidden":!0,children:et.map(function($t){var kt=$t.type,Tt=Zr($t,Ot);return zt[kt]?reactExports.createElement(zt[kt],Vr({key:Tt.id},Tt)):null})})}),Rt=reactExports.forwardRef(function(dt,et){var $t=dt.width,kt=dt.height,Tt=dt.margin,Dt=dt.defs,Ft=dt.children,Ut=dt.role,Ht=dt.ariaLabel,Kt=dt.ariaLabelledBy,Yt=dt.ariaDescribedBy,Jt=dt.isFocusable,Zt=M$3();return jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:$t,height:kt,role:Ut,"aria-label":Ht,"aria-labelledby":Kt,"aria-describedby":Yt,focusable:Jt,tabIndex:Jt?0:void 0,ref:et,children:[jsxRuntimeExports.jsx(Mt,{defs:Dt}),jsxRuntimeExports.jsx("rect",{width:$t,height:kt,fill:Zt.background}),jsxRuntimeExports.jsx("g",{transform:"translate("+Tt.left+","+Tt.top+")",children:Ft})]})}),jt=reactExports.memo(function(dt){var et=dt.size,$t=dt.color,kt=dt.borderWidth,Tt=dt.borderColor;return jsxRuntimeExports.jsx("circle",{r:et/2,fill:$t,stroke:Tt,strokeWidth:kt,style:{pointerEvents:"none"}})});reactExports.memo(function(dt){var et=dt.x,$t=dt.y,kt=dt.symbol,Tt=kt===void 0?jt:kt,Dt=dt.size,Ft=dt.datum,Ut=dt.color,Ht=dt.borderWidth,Kt=dt.borderColor,Yt=dt.label,Jt=dt.labelTextAnchor,Zt=Jt===void 0?"middle":Jt,er=dt.labelYOffset,rr=er===void 0?-12:er,sr=dt.ariaLabel,ir=dt.ariaLabelledBy,nr=dt.ariaDescribedBy,or=dt.ariaHidden,lr=dt.ariaDisabled,cr=dt.isFocusable,dr=cr!==void 0&&cr,ur=dt.tabIndex,pr=ur===void 0?0:ur,mr=dt.onFocus,vr=dt.onBlur,kr=dt.testId,br=M$3(),_r=Dr(),Or=_r.animate,Pr=_r.config,Mr=useSpring$2({transform:"translate("+et+", "+$t+")",config:Pr,immediate:!Or}),Rr=reactExports.useCallback(function(xr){mr==null||mr(Ft,xr)},[mr,Ft]),Tr=reactExports.useCallback(function(xr){vr==null||vr(Ft,xr)},[vr,Ft]);return jsxRuntimeExports.jsxs(animated$4.g,{transform:Mr.transform,style:{pointerEvents:"none"},focusable:dr,tabIndex:dr?pr:void 0,"aria-label":sr,"aria-labelledby":ir,"aria-describedby":nr,"aria-disabled":lr,"aria-hidden":or,onFocus:dr&&mr?Rr:void 0,onBlur:dr&&vr?Tr:void 0,"data-testid":kr,children:[reactExports.createElement(Tt,{size:Dt,color:Ut,datum:Ft,borderWidth:Ht,borderColor:Kt}),Yt&&jsxRuntimeExports.jsx("text",{textAnchor:Zt,y:rr,style:b$5(br.dots.text),children:Yt})]})});var Bt=reactExports.memo(function(dt){var et=dt.width,$t=dt.height,kt=dt.axis,Tt=dt.scale,Dt=dt.value,Ft=dt.lineStyle,Ut=dt.textStyle,Ht=dt.legend,Kt=dt.legendNode,Yt=dt.legendPosition,Jt=Yt===void 0?"top-right":Yt,Zt=dt.legendOffsetX,er=Zt===void 0?14:Zt,rr=dt.legendOffsetY,sr=rr===void 0?14:rr,ir=dt.legendOrientation,nr=ir===void 0?"horizontal":ir,or=M$3(),lr=0,cr=0,dr=0,ur=0;if(kt==="y"?(dr=Tt(Dt),cr=et):(lr=Tt(Dt),ur=$t),Ht&&!Kt){var pr=function(mr){var vr=mr.axis,kr=mr.width,br=mr.height,_r=mr.position,Or=mr.offsetX,Pr=mr.offsetY,Mr=mr.orientation,Rr=0,Tr=0,xr=Mr==="vertical"?-90:0,wr="start";if(vr==="x")switch(_r){case"top-left":Rr=-Or,Tr=Pr,wr="end";break;case"top":Tr=-Pr,wr=Mr==="horizontal"?"middle":"start";break;case"top-right":Rr=Or,Tr=Pr,wr=Mr==="horizontal"?"start":"end";break;case"right":Rr=Or,Tr=br/2,wr=Mr==="horizontal"?"start":"middle";break;case"bottom-right":Rr=Or,Tr=br-Pr,wr="start";break;case"bottom":Tr=br+Pr,wr=Mr==="horizontal"?"middle":"end";break;case"bottom-left":Tr=br-Pr,Rr=-Or,wr=Mr==="horizontal"?"end":"start";break;case"left":Rr=-Or,Tr=br/2,wr=Mr==="horizontal"?"end":"middle"}else switch(_r){case"top-left":Rr=Or,Tr=-Pr,wr="start";break;case"top":Rr=kr/2,Tr=-Pr,wr=Mr==="horizontal"?"middle":"start";break;case"top-right":Rr=kr-Or,Tr=-Pr,wr=Mr==="horizontal"?"end":"start";break;case"right":Rr=kr+Or,wr=Mr==="horizontal"?"start":"middle";break;case"bottom-right":Rr=kr-Or,Tr=Pr,wr="end";break;case"bottom":Rr=kr/2,Tr=Pr,wr=Mr==="horizontal"?"middle":"end";break;case"bottom-left":Rr=Or,Tr=Pr,wr=Mr==="horizontal"?"start":"end";break;case"left":Rr=-Or,wr=Mr==="horizontal"?"end":"middle"}return{x:Rr,y:Tr,rotation:xr,textAnchor:wr}}({axis:kt,width:et,height:$t,position:Jt,offsetX:er,offsetY:sr,orientation:nr});Kt=jsxRuntimeExports.jsx("text",{transform:"translate("+pr.x+", "+pr.y+") rotate("+pr.rotation+")",textAnchor:pr.textAnchor,dominantBaseline:"central",style:Ut,children:Ht})}return jsxRuntimeExports.jsxs("g",{transform:"translate("+lr+", "+dr+")",children:[jsxRuntimeExports.jsx("line",{x1:0,x2:cr,y1:0,y2:ur,stroke:or.markers.lineColor,strokeWidth:or.markers.lineStrokeWidth,style:Ft}),Kt]})}),Pt=reactExports.memo(function(dt){var et=dt.markers,$t=dt.width,kt=dt.height,Tt=dt.xScale,Dt=dt.yScale;return et&&et.length!==0?et.map(function(Ft,Ut){return jsxRuntimeExports.jsx(Bt,Vr({},Ft,{width:$t,height:kt,scale:Ft.axis==="y"?Dt:Tt}),Ut)}):null}),It=function(dt){var et=Dr(),$t=et.animate,kt=et.config,Tt=function(Ut){var Ht=reactExports.useRef();return reactExports.useEffect(function(){Ht.current=Ut},[Ut]),Ht.current}(dt),Dt=reactExports.useMemo(function(){return B$2(Tt,dt)},[Tt,dt]),Ft=useSpring$2({from:{value:0},to:{value:1},reset:!0,config:kt,immediate:!$t}).value;return to$5(Ft,Dt)};reactExports.createContext(void 0);var Lt={basis:W$4,basisClosed:G$1,basisOpen:I$2,bundle:A$3,cardinal:L$4,cardinalClosed:S$2,cardinalOpen:Y$3,catmullRom:q$3,catmullRomClosed:D$2,catmullRomOpen:E$4,linear:U$1,linearClosed:F,monotoneX,monotoneY,natural:X$3,step:K$1,stepAfter,stepBefore},St=Object.keys(Lt);St.filter(function(dt){return dt.endsWith("Closed")});P$2(St,"bundle","basisClosed","basisOpen","cardinalClosed","cardinalOpen","catmullRomClosed","catmullRomOpen","linearClosed");P$2(St,"bundle","basisClosed","basisOpen","cardinalClosed","cardinalOpen","catmullRomClosed","catmullRomOpen","linearClosed");r(scheme$q),r(scheme$p),r(scheme$o),r(scheme$n),r(scheme$m),r(scheme$l),r(scheme$k),r(scheme$j),r(scheme$i),r(scheme$5),r(scheme$4),r(scheme$3),r(scheme),r(scheme$2),r(scheme$1),r(scheme$h),r(scheme$g),r(scheme$f),r(scheme$e),r(scheme$d),r(scheme$c),r(scheme$b),r(scheme$a),r(scheme$9),r(scheme$8),r(scheme$7),r(scheme$6);r(scheme$q),r(scheme$p),r(scheme$o),r(scheme$n),r(scheme$m),r(scheme$l),r(scheme$k),r(scheme$j),r(scheme$i),r(scheme$5),r(scheme$4),r(scheme$3),r(scheme),r(scheme$2),r(scheme$1),r(scheme$h),r(scheme$g),r(scheme$f),r(scheme$e),r(scheme$d),r(scheme$c),r(scheme$b),r(scheme$a),r(scheme$9),r(scheme$8),r(scheme$7),r(scheme$6);ordinal(a$2);var un$1={top:0,right:0,bottom:0,left:0},cn$1=function(dt,et,$t){return $t===void 0&&($t={}),reactExports.useMemo(function(){var kt=Vr({},un$1,$t);return{margin:kt,innerWidth:dt-kt.left-kt.right,innerHeight:et-kt.top-kt.bottom,outerWidth:dt,outerHeight:et}},[dt,et,$t])},sn$1=function(){var dt=reactExports.useRef(null),et=reactExports.useState({left:0,top:0,width:0,height:0}),$t=et[0],kt=et[1],Tt=reactExports.useState(function(){return typeof ResizeObserver>"u"?null:new ResizeObserver(function(Dt){var Ft=Dt[0];return kt(Ft.contentRect)})})[0];return reactExports.useEffect(function(){return dt.current&&Tt!==null&&Tt.observe(dt.current),function(){Tt!==null&&Tt.disconnect()}},[Tt]),[dt,$t]},fn=function(dt){return typeof dt=="function"?dt:typeof dt=="string"?dt.indexOf("time:")===0?timeFormat(dt.slice("5")):format(dt):function(et){return""+et}},hn=function(dt){return reactExports.useMemo(function(){return fn(dt)},[dt])},gn=function(dt){return Cr(dt)?dt:function(et){return ke$1(et,dt)}},bn=function(dt){return reactExports.useMemo(function(){return gn(dt)},[dt])},wn$1=function(dt,et,$t,kt,Tt,Dt){return dt<=Tt&&Tt<=dt+$t&&et<=Dt&&Dt<=et+kt},kn=function(dt,et){var $t,kt="touches"in et?et.touches[0]:et,Tt=kt.clientX,Dt=kt.clientY,Ft=dt.getBoundingClientRect(),Ut=($t=dt.getBBox!==void 0?dt.getBBox():{width:dt.offsetWidth||0,height:dt.offsetHeight||0}).width===Ft.width?1:$t.width/Ft.width;return[(Tt-Ft.left)*Ut,(Dt-Ft.top)*Ut]},xn=Object.keys(ot),On=Object.keys(xt),zn=function(dt,et,$t){if(dt==="*")return!0;if(Cr(dt))return dt(et);if(je(dt)){var kt=$t?ke$1(et,$t):et;return Ar(Ir(kt,Object.keys(dt)),dt)}return!1},Mn$1=function(dt,et,$t,kt){var Tt=kt===void 0?{}:kt,Dt=Tt.dataKey,Ft=Tt.colorKey,Ut=Ft===void 0?"color":Ft,Ht=Tt.targetKey,Kt=Ht===void 0?"fill":Ht,Yt=[],Jt={};return dt.length&&et.length&&(Yt=[].concat(dt),et.forEach(function(Zt){for(var er,rr=function(){var ir=er.value,nr=ir.id,or=ir.match;if(zn(or,Zt,Dt)){var lr=dt.find(function(br){return br.id===nr});if(lr){if(On.includes(lr.type))if(lr.background==="inherit"||lr.color==="inherit"){var cr=ke$1(Zt,Ut),dr=lr.background,ur=lr.color,pr=nr;lr.background==="inherit"&&(pr=pr+".bg."+cr,dr=cr),lr.color==="inherit"&&(pr=pr+".fg."+cr,ur=cr),Lr(Zt,Kt,"url(#"+pr+")"),Jt[pr]||(Yt.push(Vr({},lr,{id:pr,background:dr,color:ur})),Jt[pr]=1)}else Lr(Zt,Kt,"url(#"+nr+")");else if(xn.includes(lr.type))if(lr.colors.map(function(br){return br.color}).includes("inherit")){var mr=ke$1(Zt,Ut),vr=nr,kr=Vr({},lr,{colors:lr.colors.map(function(br,_r){return br.color!=="inherit"?br:(vr=vr+"."+_r+"."+mr,Vr({},br,{color:br.color==="inherit"?mr:br.color}))})});kr.id=vr,Lr(Zt,Kt,"url(#"+vr+")"),Jt[vr]||(Yt.push(kr),Jt[vr]=1)}else Lr(Zt,Kt,"url(#"+nr+")")}return 1}},sr=Qr($t);!(er=sr()).done&&!rr(););})),Yt};function Rn(){for(var dt=arguments.length,et=new Array(dt),$t=0;$t<dt;$t++)et[$t]=arguments[$t];return function(kt){for(var Tt=0,Dt=et;Tt<Dt.length;Tt++){var Ft=Dt[Tt];typeof Ft=="function"?Ft(kt):Ft!=null&&(Ft.current=kt)}}}var updateQueue$3=makeQueue$3(),raf$3=dt=>schedule$3(dt,updateQueue$3),writeQueue$3=makeQueue$3();raf$3.write=dt=>schedule$3(dt,writeQueue$3);var onStartQueue$3=makeQueue$3();raf$3.onStart=dt=>schedule$3(dt,onStartQueue$3);var onFrameQueue$3=makeQueue$3();raf$3.onFrame=dt=>schedule$3(dt,onFrameQueue$3);var onFinishQueue$3=makeQueue$3();raf$3.onFinish=dt=>schedule$3(dt,onFinishQueue$3);var timeouts$3=[];raf$3.setTimeout=(dt,et)=>{const $t=raf$3.now()+et,kt=()=>{const Dt=timeouts$3.findIndex(Ft=>Ft.cancel==kt);~Dt&&timeouts$3.splice(Dt,1),pendingCount$3-=~Dt?1:0},Tt={time:$t,handler:dt,cancel:kt};return timeouts$3.splice(findTimeout$3($t),0,Tt),pendingCount$3+=1,start$3(),Tt};var findTimeout$3=dt=>~(~timeouts$3.findIndex(et=>et.time>dt)||~timeouts$3.length);raf$3.cancel=dt=>{onStartQueue$3.delete(dt),onFrameQueue$3.delete(dt),onFinishQueue$3.delete(dt),updateQueue$3.delete(dt),writeQueue$3.delete(dt)};raf$3.sync=dt=>{sync$3=!0,raf$3.batchedUpdates(dt),sync$3=!1};raf$3.throttle=dt=>{let et;function $t(){try{dt(...et)}finally{et=null}}function kt(...Tt){et=Tt,raf$3.onStart($t)}return kt.handler=dt,kt.cancel=()=>{onStartQueue$3.delete($t),et=null},kt};var nativeRaf$3=typeof window<"u"?window.requestAnimationFrame:()=>{};raf$3.use=dt=>nativeRaf$3=dt;raf$3.now=typeof performance<"u"?()=>performance.now():Date.now;raf$3.batchedUpdates=dt=>dt();raf$3.catch=console.error;raf$3.frameLoop="always";raf$3.advance=()=>{raf$3.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):update$3()};var ts$3=-1,pendingCount$3=0,sync$3=!1;function schedule$3(dt,et){sync$3?(et.delete(dt),dt(0)):(et.add(dt),start$3())}function start$3(){ts$3<0&&(ts$3=0,raf$3.frameLoop!=="demand"&&nativeRaf$3(loop$3))}function stop$3(){ts$3=-1}function loop$3(){~ts$3&&(nativeRaf$3(loop$3),raf$3.batchedUpdates(update$3))}function update$3(){const dt=ts$3;ts$3=raf$3.now();const et=findTimeout$3(ts$3);if(et&&(eachSafely$3(timeouts$3.splice(0,et),$t=>$t.handler()),pendingCount$3-=et),!pendingCount$3){stop$3();return}onStartQueue$3.flush(),updateQueue$3.flush(dt?Math.min(64,ts$3-dt):16.667),onFrameQueue$3.flush(),writeQueue$3.flush(),onFinishQueue$3.flush()}function makeQueue$3(){let dt=new Set,et=dt;return{add($t){pendingCount$3+=et==dt&&!dt.has($t)?1:0,dt.add($t)},delete($t){return pendingCount$3-=et==dt&&dt.has($t)?1:0,dt.delete($t)},flush($t){et.size&&(dt=new Set,pendingCount$3-=et.size,eachSafely$3(et,kt=>kt($t)&&dt.add(kt)),pendingCount$3+=dt.size,et=dt)}}}function eachSafely$3(dt,et){dt.forEach($t=>{try{et($t)}catch(kt){raf$3.catch(kt)}})}var __defProp$3=Object.defineProperty,__export$3=(dt,et)=>{for(var $t in et)__defProp$3(dt,$t,{get:et[$t],enumerable:!0})},globals_exports$3={};__export$3(globals_exports$3,{assign:()=>assign$3,colors:()=>colors$3,createStringInterpolator:()=>createStringInterpolator$3,skipAnimation:()=>skipAnimation$3,to:()=>to$4,willAdvance:()=>willAdvance$3});function noop$5(){}var defineHidden$3=(dt,et,$t)=>Object.defineProperty(dt,et,{value:$t,writable:!0,configurable:!0}),is$3={arr:Array.isArray,obj:dt=>!!dt&&dt.constructor.name==="Object",fun:dt=>typeof dt=="function",str:dt=>typeof dt=="string",num:dt=>typeof dt=="number",und:dt=>dt===void 0};function isEqual$3(dt,et){if(is$3.arr(dt)){if(!is$3.arr(et)||dt.length!==et.length)return!1;for(let $t=0;$t<dt.length;$t++)if(dt[$t]!==et[$t])return!1;return!0}return dt===et}var each$3=(dt,et)=>dt.forEach(et);function eachProp$3(dt,et,$t){if(is$3.arr(dt)){for(let kt=0;kt<dt.length;kt++)et.call($t,dt[kt],`${kt}`);return}for(const kt in dt)dt.hasOwnProperty(kt)&&et.call($t,dt[kt],kt)}var toArray$3=dt=>is$3.und(dt)?[]:is$3.arr(dt)?dt:[dt],isSSR$3=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),createStringInterpolator$3,to$4,colors$3=null,skipAnimation$3=!1,willAdvance$3=noop$5,assign$3=dt=>{dt.to&&(to$4=dt.to),dt.now&&(raf$3.now=dt.now),dt.colors!==void 0&&(colors$3=dt.colors),dt.skipAnimation!=null&&(skipAnimation$3=dt.skipAnimation),dt.createStringInterpolator&&(createStringInterpolator$3=dt.createStringInterpolator),dt.requestAnimationFrame&&raf$3.use(dt.requestAnimationFrame),dt.batchedUpdates&&(raf$3.batchedUpdates=dt.batchedUpdates),dt.willAdvance&&(willAdvance$3=dt.willAdvance),dt.frameLoop&&(raf$3.frameLoop=dt.frameLoop)},startQueue$3=new Set,currentFrame$3=[],prevFrame$3=[],priority$3=0,frameLoop$3={get idle(){return!startQueue$3.size&&!currentFrame$3.length},start(dt){priority$3>dt.priority?(startQueue$3.add(dt),raf$3.onStart(flushStartQueue$3)):(startSafely$3(dt),raf$3(advance$3))},advance:advance$3,sort(dt){if(priority$3)raf$3.onFrame(()=>frameLoop$3.sort(dt));else{const et=currentFrame$3.indexOf(dt);~et&&(currentFrame$3.splice(et,1),startUnsafely$3(dt))}},clear(){currentFrame$3=[],startQueue$3.clear()}};function flushStartQueue$3(){startQueue$3.forEach(startSafely$3),startQueue$3.clear(),raf$3(advance$3)}function startSafely$3(dt){currentFrame$3.includes(dt)||startUnsafely$3(dt)}function startUnsafely$3(dt){currentFrame$3.splice(findIndex$3(currentFrame$3,et=>et.priority>dt.priority),0,dt)}function advance$3(dt){const et=prevFrame$3;for(let $t=0;$t<currentFrame$3.length;$t++){const kt=currentFrame$3[$t];priority$3=kt.priority,kt.idle||(willAdvance$3(kt),kt.advance(dt),kt.idle||et.push(kt))}return priority$3=0,prevFrame$3=currentFrame$3,prevFrame$3.length=0,currentFrame$3=et,currentFrame$3.length>0}function findIndex$3(dt,et){const $t=dt.findIndex(et);return $t<0?dt.length:$t}var colors2$3={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},NUMBER$3="[-+]?\\d*\\.?\\d+",PERCENTAGE$3=NUMBER$3+"%";function call$3(...dt){return"\\(\\s*("+dt.join(")\\s*,\\s*(")+")\\s*\\)"}var rgb$3=new RegExp("rgb"+call$3(NUMBER$3,NUMBER$3,NUMBER$3)),rgba$3=new RegExp("rgba"+call$3(NUMBER$3,NUMBER$3,NUMBER$3,NUMBER$3)),hsl$3=new RegExp("hsl"+call$3(NUMBER$3,PERCENTAGE$3,PERCENTAGE$3)),hsla$3=new RegExp("hsla"+call$3(NUMBER$3,PERCENTAGE$3,PERCENTAGE$3,NUMBER$3)),hex3$3=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex4$3=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6$3=/^#([0-9a-fA-F]{6})$/,hex8$3=/^#([0-9a-fA-F]{8})$/;function normalizeColor$3(dt){let et;return typeof dt=="number"?dt>>>0===dt&&dt>=0&&dt<=4294967295?dt:null:(et=hex6$3.exec(dt))?parseInt(et[1]+"ff",16)>>>0:colors$3&&colors$3[dt]!==void 0?colors$3[dt]:(et=rgb$3.exec(dt))?(parse255$3(et[1])<<24|parse255$3(et[2])<<16|parse255$3(et[3])<<8|255)>>>0:(et=rgba$3.exec(dt))?(parse255$3(et[1])<<24|parse255$3(et[2])<<16|parse255$3(et[3])<<8|parse1$3(et[4]))>>>0:(et=hex3$3.exec(dt))?parseInt(et[1]+et[1]+et[2]+et[2]+et[3]+et[3]+"ff",16)>>>0:(et=hex8$3.exec(dt))?parseInt(et[1],16)>>>0:(et=hex4$3.exec(dt))?parseInt(et[1]+et[1]+et[2]+et[2]+et[3]+et[3]+et[4]+et[4],16)>>>0:(et=hsl$3.exec(dt))?(hslToRgb$3(parse360$3(et[1]),parsePercentage$3(et[2]),parsePercentage$3(et[3]))|255)>>>0:(et=hsla$3.exec(dt))?(hslToRgb$3(parse360$3(et[1]),parsePercentage$3(et[2]),parsePercentage$3(et[3]))|parse1$3(et[4]))>>>0:null}function hue2rgb$3(dt,et,$t){return $t<0&&($t+=1),$t>1&&($t-=1),$t<1/6?dt+(et-dt)*6*$t:$t<1/2?et:$t<2/3?dt+(et-dt)*(2/3-$t)*6:dt}function hslToRgb$3(dt,et,$t){const kt=$t<.5?$t*(1+et):$t+et-$t*et,Tt=2*$t-kt,Dt=hue2rgb$3(Tt,kt,dt+1/3),Ft=hue2rgb$3(Tt,kt,dt),Ut=hue2rgb$3(Tt,kt,dt-1/3);return Math.round(Dt*255)<<24|Math.round(Ft*255)<<16|Math.round(Ut*255)<<8}function parse255$3(dt){const et=parseInt(dt,10);return et<0?0:et>255?255:et}function parse360$3(dt){return(parseFloat(dt)%360+360)%360/360}function parse1$3(dt){const et=parseFloat(dt);return et<0?0:et>1?255:Math.round(et*255)}function parsePercentage$3(dt){const et=parseFloat(dt);return et<0?0:et>100?1:et/100}function colorToRgba$3(dt){let et=normalizeColor$3(dt);if(et===null)return dt;et=et||0;const $t=(et&4278190080)>>>24,kt=(et&16711680)>>>16,Tt=(et&65280)>>>8,Dt=(et&255)/255;return`rgba(${$t}, ${kt}, ${Tt}, ${Dt})`}var createInterpolator$3=(dt,et,$t)=>{if(is$3.fun(dt))return dt;if(is$3.arr(dt))return createInterpolator$3({range:dt,output:et,extrapolate:$t});if(is$3.str(dt.output[0]))return createStringInterpolator$3(dt);const kt=dt,Tt=kt.output,Dt=kt.range||[0,1],Ft=kt.extrapolateLeft||kt.extrapolate||"extend",Ut=kt.extrapolateRight||kt.extrapolate||"extend",Ht=kt.easing||(Kt=>Kt);return Kt=>{const Yt=findRange$3(Kt,Dt);return interpolate$3(Kt,Dt[Yt],Dt[Yt+1],Tt[Yt],Tt[Yt+1],Ht,Ft,Ut,kt.map)}};function interpolate$3(dt,et,$t,kt,Tt,Dt,Ft,Ut,Ht){let Kt=Ht?Ht(dt):dt;if(Kt<et){if(Ft==="identity")return Kt;Ft==="clamp"&&(Kt=et)}if(Kt>$t){if(Ut==="identity")return Kt;Ut==="clamp"&&(Kt=$t)}return kt===Tt?kt:et===$t?dt<=et?kt:Tt:(et===-1/0?Kt=-Kt:$t===1/0?Kt=Kt-et:Kt=(Kt-et)/($t-et),Kt=Dt(Kt),kt===-1/0?Kt=-Kt:Tt===1/0?Kt=Kt+kt:Kt=Kt*(Tt-kt)+kt,Kt)}function findRange$3(dt,et){for(var $t=1;$t<et.length-1&&!(et[$t]>=dt);++$t);return $t-1}var $get$3=Symbol.for("FluidValue.get"),$observers$3=Symbol.for("FluidValue.observers"),hasFluidValue$3=dt=>!!(dt&&dt[$get$3]),getFluidValue$3=dt=>dt&&dt[$get$3]?dt[$get$3]():dt;function callFluidObserver$3(dt,et){dt.eventObserved?dt.eventObserved(et):dt(et)}function callFluidObservers$3(dt,et){const $t=dt[$observers$3];$t&&$t.forEach(kt=>{callFluidObserver$3(kt,et)})}var FluidValue$3=class{constructor(et){if(!et&&!(et=this.get))throw Error("Unknown getter");setFluidGetter$3(this,et)}},setFluidGetter$3=(dt,et)=>setHidden$3(dt,$get$3,et);function addFluidObserver$3(dt,et){if(dt[$get$3]){let $t=dt[$observers$3];$t||setHidden$3(dt,$observers$3,$t=new Set),$t.has(et)||($t.add(et),dt.observerAdded&&dt.observerAdded($t.size,et))}return et}function removeFluidObserver$3(dt,et){const $t=dt[$observers$3];if($t&&$t.has(et)){const kt=$t.size-1;kt?$t.delete(et):dt[$observers$3]=null,dt.observerRemoved&&dt.observerRemoved(kt,et)}}var setHidden$3=(dt,et,$t)=>Object.defineProperty(dt,et,{value:$t,writable:!0,configurable:!0}),numberRegex$3=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,colorRegex$3=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,unitRegex$3=new RegExp(`(${numberRegex$3.source})(%|[a-z]+)`,"i"),rgbaRegex$3=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,cssVariableRegex$3=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,variableToRgba$3=dt=>{const[et,$t]=parseCSSVariable$3(dt);if(!et||isSSR$3())return dt;const kt=window.getComputedStyle(document.documentElement).getPropertyValue(et);if(kt)return kt.trim();if($t&&$t.startsWith("--")){const Tt=window.getComputedStyle(document.documentElement).getPropertyValue($t);return Tt||dt}else{if($t&&cssVariableRegex$3.test($t))return variableToRgba$3($t);if($t)return $t}return dt},parseCSSVariable$3=dt=>{const et=cssVariableRegex$3.exec(dt);if(!et)return[,];const[,$t,kt]=et;return[$t,kt]},namedColorRegex$3,rgbaRound$3=(dt,et,$t,kt,Tt)=>`rgba(${Math.round(et)}, ${Math.round($t)}, ${Math.round(kt)}, ${Tt})`,createStringInterpolator2$3=dt=>{namedColorRegex$3||(namedColorRegex$3=colors$3?new RegExp(`(${Object.keys(colors$3).join("|")})(?!\\w)`,"g"):/^\b$/);const et=dt.output.map(Dt=>getFluidValue$3(Dt).replace(cssVariableRegex$3,variableToRgba$3).replace(colorRegex$3,colorToRgba$3).replace(namedColorRegex$3,colorToRgba$3)),$t=et.map(Dt=>Dt.match(numberRegex$3).map(Number)),Tt=$t[0].map((Dt,Ft)=>$t.map(Ut=>{if(!(Ft in Ut))throw Error('The arity of each "output" value must be equal');return Ut[Ft]})).map(Dt=>createInterpolator$3({...dt,output:Dt}));return Dt=>{var Ht;const Ft=!unitRegex$3.test(et[0])&&((Ht=et.find(Kt=>unitRegex$3.test(Kt)))==null?void 0:Ht.replace(numberRegex$3,""));let Ut=0;return et[0].replace(numberRegex$3,()=>`${Tt[Ut++](Dt)}${Ft||""}`).replace(rgbaRegex$3,rgbaRound$3)}},prefix$3="react-spring: ",once$3=dt=>{const et=dt;let $t=!1;if(typeof et!="function")throw new TypeError(`${prefix$3}once requires a function parameter`);return(...kt)=>{$t||(et(...kt),$t=!0)}},warnInterpolate$3=once$3(console.warn);function deprecateInterpolate$3(){warnInterpolate$3(`${prefix$3}The "interpolate" function is deprecated in v9 (use "to" instead)`)}once$3(console.warn);function isAnimatedString$3(dt){return is$3.str(dt)&&(dt[0]=="#"||/\d/.test(dt)||!isSSR$3()&&cssVariableRegex$3.test(dt)||dt in(colors$3||{}))}var useIsomorphicLayoutEffect$3=isSSR$3()?reactExports.useEffect:reactExports.useLayoutEffect,useIsMounted$3=()=>{const dt=reactExports.useRef(!1);return useIsomorphicLayoutEffect$3(()=>(dt.current=!0,()=>{dt.current=!1}),[]),dt};function useForceUpdate$3(){const dt=reactExports.useState()[1],et=useIsMounted$3();return()=>{et.current&&dt(Math.random())}}var useOnce$3=dt=>reactExports.useEffect(dt,emptyDeps$3),emptyDeps$3=[],$node$3=Symbol.for("Animated:node"),isAnimated$3=dt=>!!dt&&dt[$node$3]===dt,getAnimated$3=dt=>dt&&dt[$node$3],setAnimated$3=(dt,et)=>defineHidden$3(dt,$node$3,et),getPayload$3=dt=>dt&&dt[$node$3]&&dt[$node$3].getPayload(),Animated$3=class{constructor(){setAnimated$3(this,this)}getPayload(){return this.payload||[]}},AnimatedValue$3=class K_ extends Animated$3{constructor(et){super(),this._value=et,this.done=!0,this.durationProgress=0,is$3.num(this._value)&&(this.lastPosition=this._value)}static create(et){return new K_(et)}getPayload(){return[this]}getValue(){return this._value}setValue(et,$t){return is$3.num(et)&&(this.lastPosition=et,$t&&(et=Math.round(et/$t)*$t,this.done&&(this.lastPosition=et))),this._value===et?!1:(this._value=et,!0)}reset(){const{done:et}=this;this.done=!1,is$3.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,et&&(this.lastVelocity=null),this.v0=null)}},AnimatedString$3=class Y_ extends AnimatedValue$3{constructor(et){super(0),this._string=null,this._toString=createInterpolator$3({output:[et,et]})}static create(et){return new Y_(et)}getValue(){const et=this._string;return et??(this._string=this._toString(this._value))}setValue(et){if(is$3.str(et)){if(et==this._string)return!1;this._string=et,this._value=1}else if(super.setValue(et))this._string=null;else return!1;return!0}reset(et){et&&(this._toString=createInterpolator$3({output:[this.getValue(),et]})),this._value=0,super.reset()}},TreeContext$3={dependencies:null},AnimatedObject$3=class extends Animated$3{constructor(et){super(),this.source=et,this.setValue(et)}getValue(et){const $t={};return eachProp$3(this.source,(kt,Tt)=>{isAnimated$3(kt)?$t[Tt]=kt.getValue(et):hasFluidValue$3(kt)?$t[Tt]=getFluidValue$3(kt):et||($t[Tt]=kt)}),$t}setValue(et){this.source=et,this.payload=this._makePayload(et)}reset(){this.payload&&each$3(this.payload,et=>et.reset())}_makePayload(et){if(et){const $t=new Set;return eachProp$3(et,this._addToPayload,$t),Array.from($t)}}_addToPayload(et){TreeContext$3.dependencies&&hasFluidValue$3(et)&&TreeContext$3.dependencies.add(et);const $t=getPayload$3(et);$t&&each$3($t,kt=>this.add(kt))}},AnimatedArray$3=class X_ extends AnimatedObject$3{constructor(et){super(et)}static create(et){return new X_(et)}getValue(){return this.source.map(et=>et.getValue())}setValue(et){const $t=this.getPayload();return et.length==$t.length?$t.map((kt,Tt)=>kt.setValue(et[Tt])).some(Boolean):(super.setValue(et.map(makeAnimated$3)),!0)}};function makeAnimated$3(dt){return(isAnimatedString$3(dt)?AnimatedString$3:AnimatedValue$3).create(dt)}function getAnimatedType$3(dt){const et=getAnimated$3(dt);return et?et.constructor:is$3.arr(dt)?AnimatedArray$3:isAnimatedString$3(dt)?AnimatedString$3:AnimatedValue$3}var withAnimated$3=(dt,et)=>{const $t=!is$3.fun(dt)||dt.prototype&&dt.prototype.isReactComponent;return reactExports.forwardRef((kt,Tt)=>{const Dt=reactExports.useRef(null),Ft=$t&&reactExports.useCallback(rr=>{Dt.current=updateRef$3(Tt,rr)},[Tt]),[Ut,Ht]=getAnimatedState$3(kt,et),Kt=useForceUpdate$3(),Yt=()=>{const rr=Dt.current;if($t&&!rr)return;(rr?et.applyAnimatedValues(rr,Ut.getValue(!0)):!1)===!1&&Kt()},Jt=new PropsObserver$3(Yt,Ht),Zt=reactExports.useRef(void 0);useIsomorphicLayoutEffect$3(()=>(Zt.current=Jt,each$3(Ht,rr=>addFluidObserver$3(rr,Jt)),()=>{Zt.current&&(each$3(Zt.current.deps,rr=>removeFluidObserver$3(rr,Zt.current)),raf$3.cancel(Zt.current.update))})),reactExports.useEffect(Yt,[]),useOnce$3(()=>()=>{const rr=Zt.current;each$3(rr.deps,sr=>removeFluidObserver$3(sr,rr))});const er=et.getComponentProps(Ut.getValue());return reactExports.createElement(dt,{...er,ref:Ft})})},PropsObserver$3=class{constructor(et,$t){this.update=et,this.deps=$t}eventObserved(et){et.type=="change"&&raf$3.write(this.update)}};function getAnimatedState$3(dt,et){const $t=new Set;return TreeContext$3.dependencies=$t,dt.style&&(dt={...dt,style:et.createAnimatedStyle(dt.style)}),dt=new AnimatedObject$3(dt),TreeContext$3.dependencies=null,[dt,$t]}function updateRef$3(dt,et){return dt&&(is$3.fun(dt)?dt(et):dt.current=et),et}var cacheKey$3=Symbol.for("AnimatedComponent"),createHost$3=(dt,{applyAnimatedValues:et=()=>!1,createAnimatedStyle:$t=Tt=>new AnimatedObject$3(Tt),getComponentProps:kt=Tt=>Tt}={})=>{const Tt={applyAnimatedValues:et,createAnimatedStyle:$t,getComponentProps:kt},Dt=Ft=>{const Ut=getDisplayName$3(Ft)||"Anonymous";return is$3.str(Ft)?Ft=Dt[Ft]||(Dt[Ft]=withAnimated$3(Ft,Tt)):Ft=Ft[cacheKey$3]||(Ft[cacheKey$3]=withAnimated$3(Ft,Tt)),Ft.displayName=`Animated(${Ut})`,Ft};return eachProp$3(dt,(Ft,Ut)=>{is$3.arr(dt)&&(Ut=getDisplayName$3(Ft)),Dt[Ut]=Dt(Ft)}),{animated:Dt}},getDisplayName$3=dt=>is$3.str(dt)?dt:dt&&is$3.str(dt.displayName)?dt.displayName:is$3.fun(dt)&&dt.name||null,isFrameValue$3=dt=>dt instanceof FrameValue$3,nextId$3=1,FrameValue$3=class extends FluidValue$3{constructor(){super(...arguments),this.id=nextId$3++,this._priority=0}get priority(){return this._priority}set priority(et){this._priority!=et&&(this._priority=et,this._onPriorityChange(et))}get(){const et=getAnimated$3(this);return et&&et.getValue()}to(...et){return globals_exports$3.to(this,et)}interpolate(...et){return deprecateInterpolate$3(),globals_exports$3.to(this,et)}toJSON(){return this.get()}observerAdded(et){et==1&&this._attach()}observerRemoved(et){et==0&&this._detach()}_attach(){}_detach(){}_onChange(et,$t=!1){callFluidObservers$3(this,{type:"change",parent:this,value:et,idle:$t})}_onPriorityChange(et){this.idle||frameLoop$3.sort(this),callFluidObservers$3(this,{type:"priority",parent:this,priority:et})}};reactExports.createContext({pause:!1,immediate:!1});var Interpolation$3=class extends FrameValue$3{constructor(et,$t){super(),this.source=et,this.idle=!0,this._active=new Set,this.calc=createInterpolator$3(...$t);const kt=this._get(),Tt=getAnimatedType$3(kt);setAnimated$3(this,Tt.create(kt))}advance(et){const $t=this._get(),kt=this.get();isEqual$3($t,kt)||(getAnimated$3(this).setValue($t),this._onChange($t,this.idle)),!this.idle&&checkIdle$3(this._active)&&becomeIdle$3(this)}_get(){const et=is$3.arr(this.source)?this.source.map(getFluidValue$3):toArray$3(getFluidValue$3(this.source));return this.calc(...et)}_start(){this.idle&&!checkIdle$3(this._active)&&(this.idle=!1,each$3(getPayload$3(this),et=>{et.done=!1}),globals_exports$3.skipAnimation?(raf$3.batchedUpdates(()=>this.advance()),becomeIdle$3(this)):frameLoop$3.start(this))}_attach(){let et=1;each$3(toArray$3(this.source),$t=>{hasFluidValue$3($t)&&addFluidObserver$3($t,this),isFrameValue$3($t)&&($t.idle||this._active.add($t),et=Math.max(et,$t.priority+1))}),this.priority=et,this._start()}_detach(){each$3(toArray$3(this.source),et=>{hasFluidValue$3(et)&&removeFluidObserver$3(et,this)}),this._active.clear(),becomeIdle$3(this)}eventObserved(et){et.type=="change"?et.idle?this.advance():(this._active.add(et.parent),this._start()):et.type=="idle"?this._active.delete(et.parent):et.type=="priority"&&(this.priority=toArray$3(this.source).reduce(($t,kt)=>Math.max($t,(isFrameValue$3(kt)?kt.priority:0)+1),0))}};function isIdle$3(dt){return dt.idle!==!1}function checkIdle$3(dt){return!dt.size||Array.from(dt).every(isIdle$3)}function becomeIdle$3(dt){dt.idle||(dt.idle=!0,each$3(getPayload$3(dt),et=>{et.done=!0}),callFluidObservers$3(dt,{type:"idle",parent:dt}))}globals_exports$3.assign({createStringInterpolator:createStringInterpolator2$3,to:(dt,et)=>new Interpolation$3(dt,et)});var isCustomPropRE$3=/^--/;function dangerousStyleValue$3(dt,et){return et==null||typeof et=="boolean"||et===""?"":typeof et=="number"&&et!==0&&!isCustomPropRE$3.test(dt)&&!(isUnitlessNumber$3.hasOwnProperty(dt)&&isUnitlessNumber$3[dt])?et+"px":(""+et).trim()}var attributeCache$3={};function applyAnimatedValues$3(dt,et){if(!dt.nodeType||!dt.setAttribute)return!1;const $t=dt.nodeName==="filter"||dt.parentNode&&dt.parentNode.nodeName==="filter",{className:kt,style:Tt,children:Dt,scrollTop:Ft,scrollLeft:Ut,viewBox:Ht,...Kt}=et,Yt=Object.values(Kt),Jt=Object.keys(Kt).map(Zt=>$t||dt.hasAttribute(Zt)?Zt:attributeCache$3[Zt]||(attributeCache$3[Zt]=Zt.replace(/([A-Z])/g,er=>"-"+er.toLowerCase())));Dt!==void 0&&(dt.textContent=Dt);for(const Zt in Tt)if(Tt.hasOwnProperty(Zt)){const er=dangerousStyleValue$3(Zt,Tt[Zt]);isCustomPropRE$3.test(Zt)?dt.style.setProperty(Zt,er):dt.style[Zt]=er}Jt.forEach((Zt,er)=>{dt.setAttribute(Zt,Yt[er])}),kt!==void 0&&(dt.className=kt),Ft!==void 0&&(dt.scrollTop=Ft),Ut!==void 0&&(dt.scrollLeft=Ut),Ht!==void 0&&dt.setAttribute("viewBox",Ht)}var isUnitlessNumber$3={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},prefixKey$3=(dt,et)=>dt+et.charAt(0).toUpperCase()+et.substring(1),prefixes$3=["Webkit","Ms","Moz","O"];isUnitlessNumber$3=Object.keys(isUnitlessNumber$3).reduce((dt,et)=>(prefixes$3.forEach($t=>dt[prefixKey$3($t,et)]=dt[et]),dt),isUnitlessNumber$3);var domTransforms$3=/^(matrix|translate|scale|rotate|skew)/,pxTransforms$3=/^(translate)/,degTransforms$3=/^(rotate|skew)/,addUnit$3=(dt,et)=>is$3.num(dt)&&dt!==0?dt+et:dt,isValueIdentity$3=(dt,et)=>is$3.arr(dt)?dt.every($t=>isValueIdentity$3($t,et)):is$3.num(dt)?dt===et:parseFloat(dt)===et,AnimatedStyle$3=class extends AnimatedObject$3{constructor({x:et,y:$t,z:kt,...Tt}){const Dt=[],Ft=[];(et||$t||kt)&&(Dt.push([et||0,$t||0,kt||0]),Ft.push(Ut=>[`translate3d(${Ut.map(Ht=>addUnit$3(Ht,"px")).join(",")})`,isValueIdentity$3(Ut,0)])),eachProp$3(Tt,(Ut,Ht)=>{if(Ht==="transform")Dt.push([Ut||""]),Ft.push(Kt=>[Kt,Kt===""]);else if(domTransforms$3.test(Ht)){if(delete Tt[Ht],is$3.und(Ut))return;const Kt=pxTransforms$3.test(Ht)?"px":degTransforms$3.test(Ht)?"deg":"";Dt.push(toArray$3(Ut)),Ft.push(Ht==="rotate3d"?([Yt,Jt,Zt,er])=>[`rotate3d(${Yt},${Jt},${Zt},${addUnit$3(er,Kt)})`,isValueIdentity$3(er,0)]:Yt=>[`${Ht}(${Yt.map(Jt=>addUnit$3(Jt,Kt)).join(",")})`,isValueIdentity$3(Yt,Ht.startsWith("scale")?1:0)])}}),Dt.length&&(Tt.transform=new FluidTransform$3(Dt,Ft)),super(Tt)}},FluidTransform$3=class extends FluidValue$3{constructor(et,$t){super(),this.inputs=et,this.transforms=$t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let et="",$t=!0;return each$3(this.inputs,(kt,Tt)=>{const Dt=getFluidValue$3(kt[0]),[Ft,Ut]=this.transforms[Tt](is$3.arr(Dt)?Dt:kt.map(getFluidValue$3));et+=" "+Ft,$t=$t&&Ut}),$t?"none":et}observerAdded(et){et==1&&each$3(this.inputs,$t=>each$3($t,kt=>hasFluidValue$3(kt)&&addFluidObserver$3(kt,this)))}observerRemoved(et){et==0&&each$3(this.inputs,$t=>each$3($t,kt=>hasFluidValue$3(kt)&&removeFluidObserver$3(kt,this)))}eventObserved(et){et.type=="change"&&(this._value=null),callFluidObservers$3(this,et)}},primitives$3=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];globals_exports$3.assign({batchedUpdates:reactDomExports.unstable_batchedUpdates,createStringInterpolator:createStringInterpolator2$3,colors:colors2$3});var host$3=createHost$3(primitives$3,{applyAnimatedValues:applyAnimatedValues$3,createAnimatedStyle:dt=>new AnimatedStyle$3(dt),getComponentProps:({scrollTop:dt,scrollLeft:et,...$t})=>$t}),animated$3=host$3.animated,a$1=function(dt,et){dt.font=(et.fontWeight?et.fontWeight+" ":"")+et.fontSize+"px "+et.fontFamily},d=function(dt,et,$t,kt,Tt){kt===void 0&&(kt=0),Tt===void 0&&(Tt=0),et.outlineWidth>0&&(dt.strokeStyle=et.outlineColor,dt.lineWidth=2*et.outlineWidth,dt.lineJoin="round",dt.strokeText($t,kt,Tt)),dt.fillStyle=et.fill,dt.fillText($t,kt,Tt)};function p$1(){return p$1=Object.assign?Object.assign.bind():function(dt){for(var et=1;et<arguments.length;et++){var $t=arguments[et];for(var kt in $t)({}).hasOwnProperty.call($t,kt)&&(dt[kt]=$t[kt])}return dt},p$1.apply(null,arguments)}function s(dt,et){if(dt==null)return{};var $t={};for(var kt in dt)if({}.hasOwnProperty.call(dt,kt)){if(et.indexOf(kt)!==-1)continue;$t[kt]=dt[kt]}return $t}var h=["style","children"],m=["outlineWidth","outlineColor","outlineOpacity"],b$2=function(dt){var et=dt.style,$t=dt.children,kt=s(dt,h),Tt=et.outlineWidth,Dt=et.outlineColor,Ft=et.outlineOpacity,Ut=s(et,m);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Tt>0&&jsxRuntimeExports.jsx(animated$3.text,p$1({},kt,{style:p$1({},Ut,{strokeWidth:2*Tt,stroke:Dt,strokeOpacity:Ft,strokeLinejoin:"round"}),children:$t})),jsxRuntimeExports.jsx(animated$3.text,p$1({},kt,{style:Ut,children:$t}))]})},updateQueue$2=makeQueue$2(),raf$2=dt=>schedule$2(dt,updateQueue$2),writeQueue$2=makeQueue$2();raf$2.write=dt=>schedule$2(dt,writeQueue$2);var onStartQueue$2=makeQueue$2();raf$2.onStart=dt=>schedule$2(dt,onStartQueue$2);var onFrameQueue$2=makeQueue$2();raf$2.onFrame=dt=>schedule$2(dt,onFrameQueue$2);var onFinishQueue$2=makeQueue$2();raf$2.onFinish=dt=>schedule$2(dt,onFinishQueue$2);var timeouts$2=[];raf$2.setTimeout=(dt,et)=>{const $t=raf$2.now()+et,kt=()=>{const Dt=timeouts$2.findIndex(Ft=>Ft.cancel==kt);~Dt&&timeouts$2.splice(Dt,1),pendingCount$2-=~Dt?1:0},Tt={time:$t,handler:dt,cancel:kt};return timeouts$2.splice(findTimeout$2($t),0,Tt),pendingCount$2+=1,start$2(),Tt};var findTimeout$2=dt=>~(~timeouts$2.findIndex(et=>et.time>dt)||~timeouts$2.length);raf$2.cancel=dt=>{onStartQueue$2.delete(dt),onFrameQueue$2.delete(dt),onFinishQueue$2.delete(dt),updateQueue$2.delete(dt),writeQueue$2.delete(dt)};raf$2.sync=dt=>{sync$2=!0,raf$2.batchedUpdates(dt),sync$2=!1};raf$2.throttle=dt=>{let et;function $t(){try{dt(...et)}finally{et=null}}function kt(...Tt){et=Tt,raf$2.onStart($t)}return kt.handler=dt,kt.cancel=()=>{onStartQueue$2.delete($t),et=null},kt};var nativeRaf$2=typeof window<"u"?window.requestAnimationFrame:()=>{};raf$2.use=dt=>nativeRaf$2=dt;raf$2.now=typeof performance<"u"?()=>performance.now():Date.now;raf$2.batchedUpdates=dt=>dt();raf$2.catch=console.error;raf$2.frameLoop="always";raf$2.advance=()=>{raf$2.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):update$2()};var ts$2=-1,pendingCount$2=0,sync$2=!1;function schedule$2(dt,et){sync$2?(et.delete(dt),dt(0)):(et.add(dt),start$2())}function start$2(){ts$2<0&&(ts$2=0,raf$2.frameLoop!=="demand"&&nativeRaf$2(loop$2))}function stop$2(){ts$2=-1}function loop$2(){~ts$2&&(nativeRaf$2(loop$2),raf$2.batchedUpdates(update$2))}function update$2(){const dt=ts$2;ts$2=raf$2.now();const et=findTimeout$2(ts$2);if(et&&(eachSafely$2(timeouts$2.splice(0,et),$t=>$t.handler()),pendingCount$2-=et),!pendingCount$2){stop$2();return}onStartQueue$2.flush(),updateQueue$2.flush(dt?Math.min(64,ts$2-dt):16.667),onFrameQueue$2.flush(),writeQueue$2.flush(),onFinishQueue$2.flush()}function makeQueue$2(){let dt=new Set,et=dt;return{add($t){pendingCount$2+=et==dt&&!dt.has($t)?1:0,dt.add($t)},delete($t){return pendingCount$2-=et==dt&&dt.has($t)?1:0,dt.delete($t)},flush($t){et.size&&(dt=new Set,pendingCount$2-=et.size,eachSafely$2(et,kt=>kt($t)&&dt.add(kt)),pendingCount$2+=dt.size,et=dt)}}}function eachSafely$2(dt,et){dt.forEach($t=>{try{et($t)}catch(kt){raf$2.catch(kt)}})}var __defProp$2=Object.defineProperty,__export$2=(dt,et)=>{for(var $t in et)__defProp$2(dt,$t,{get:et[$t],enumerable:!0})},globals_exports$2={};__export$2(globals_exports$2,{assign:()=>assign$2,colors:()=>colors$2,createStringInterpolator:()=>createStringInterpolator$2,skipAnimation:()=>skipAnimation$2,to:()=>to$3,willAdvance:()=>willAdvance$2});function noop$4(){}var defineHidden$2=(dt,et,$t)=>Object.defineProperty(dt,et,{value:$t,writable:!0,configurable:!0}),is$2={arr:Array.isArray,obj:dt=>!!dt&&dt.constructor.name==="Object",fun:dt=>typeof dt=="function",str:dt=>typeof dt=="string",num:dt=>typeof dt=="number",und:dt=>dt===void 0};function isEqual$2(dt,et){if(is$2.arr(dt)){if(!is$2.arr(et)||dt.length!==et.length)return!1;for(let $t=0;$t<dt.length;$t++)if(dt[$t]!==et[$t])return!1;return!0}return dt===et}var each$2=(dt,et)=>dt.forEach(et);function eachProp$2(dt,et,$t){if(is$2.arr(dt)){for(let kt=0;kt<dt.length;kt++)et.call($t,dt[kt],`${kt}`);return}for(const kt in dt)dt.hasOwnProperty(kt)&&et.call($t,dt[kt],kt)}var toArray$2=dt=>is$2.und(dt)?[]:is$2.arr(dt)?dt:[dt];function flush$2(dt,et){if(dt.size){const $t=Array.from(dt);dt.clear(),each$2($t,et)}}var flushCalls$2=(dt,...et)=>flush$2(dt,$t=>$t(...et)),isSSR$2=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),createStringInterpolator$2,to$3,colors$2=null,skipAnimation$2=!1,willAdvance$2=noop$4,assign$2=dt=>{dt.to&&(to$3=dt.to),dt.now&&(raf$2.now=dt.now),dt.colors!==void 0&&(colors$2=dt.colors),dt.skipAnimation!=null&&(skipAnimation$2=dt.skipAnimation),dt.createStringInterpolator&&(createStringInterpolator$2=dt.createStringInterpolator),dt.requestAnimationFrame&&raf$2.use(dt.requestAnimationFrame),dt.batchedUpdates&&(raf$2.batchedUpdates=dt.batchedUpdates),dt.willAdvance&&(willAdvance$2=dt.willAdvance),dt.frameLoop&&(raf$2.frameLoop=dt.frameLoop)},startQueue$2=new Set,currentFrame$2=[],prevFrame$2=[],priority$2=0,frameLoop$2={get idle(){return!startQueue$2.size&&!currentFrame$2.length},start(dt){priority$2>dt.priority?(startQueue$2.add(dt),raf$2.onStart(flushStartQueue$2)):(startSafely$2(dt),raf$2(advance$2))},advance:advance$2,sort(dt){if(priority$2)raf$2.onFrame(()=>frameLoop$2.sort(dt));else{const et=currentFrame$2.indexOf(dt);~et&&(currentFrame$2.splice(et,1),startUnsafely$2(dt))}},clear(){currentFrame$2=[],startQueue$2.clear()}};function flushStartQueue$2(){startQueue$2.forEach(startSafely$2),startQueue$2.clear(),raf$2(advance$2)}function startSafely$2(dt){currentFrame$2.includes(dt)||startUnsafely$2(dt)}function startUnsafely$2(dt){currentFrame$2.splice(findIndex$2(currentFrame$2,et=>et.priority>dt.priority),0,dt)}function advance$2(dt){const et=prevFrame$2;for(let $t=0;$t<currentFrame$2.length;$t++){const kt=currentFrame$2[$t];priority$2=kt.priority,kt.idle||(willAdvance$2(kt),kt.advance(dt),kt.idle||et.push(kt))}return priority$2=0,prevFrame$2=currentFrame$2,prevFrame$2.length=0,currentFrame$2=et,currentFrame$2.length>0}function findIndex$2(dt,et){const $t=dt.findIndex(et);return $t<0?dt.length:$t}var clamp$2=(dt,et,$t)=>Math.min(Math.max($t,dt),et),colors2$2={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},NUMBER$2="[-+]?\\d*\\.?\\d+",PERCENTAGE$2=NUMBER$2+"%";function call$2(...dt){return"\\(\\s*("+dt.join(")\\s*,\\s*(")+")\\s*\\)"}var rgb$2=new RegExp("rgb"+call$2(NUMBER$2,NUMBER$2,NUMBER$2)),rgba$2=new RegExp("rgba"+call$2(NUMBER$2,NUMBER$2,NUMBER$2,NUMBER$2)),hsl$2=new RegExp("hsl"+call$2(NUMBER$2,PERCENTAGE$2,PERCENTAGE$2)),hsla$2=new RegExp("hsla"+call$2(NUMBER$2,PERCENTAGE$2,PERCENTAGE$2,NUMBER$2)),hex3$2=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex4$2=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6$2=/^#([0-9a-fA-F]{6})$/,hex8$2=/^#([0-9a-fA-F]{8})$/;function normalizeColor$2(dt){let et;return typeof dt=="number"?dt>>>0===dt&&dt>=0&&dt<=4294967295?dt:null:(et=hex6$2.exec(dt))?parseInt(et[1]+"ff",16)>>>0:colors$2&&colors$2[dt]!==void 0?colors$2[dt]:(et=rgb$2.exec(dt))?(parse255$2(et[1])<<24|parse255$2(et[2])<<16|parse255$2(et[3])<<8|255)>>>0:(et=rgba$2.exec(dt))?(parse255$2(et[1])<<24|parse255$2(et[2])<<16|parse255$2(et[3])<<8|parse1$2(et[4]))>>>0:(et=hex3$2.exec(dt))?parseInt(et[1]+et[1]+et[2]+et[2]+et[3]+et[3]+"ff",16)>>>0:(et=hex8$2.exec(dt))?parseInt(et[1],16)>>>0:(et=hex4$2.exec(dt))?parseInt(et[1]+et[1]+et[2]+et[2]+et[3]+et[3]+et[4]+et[4],16)>>>0:(et=hsl$2.exec(dt))?(hslToRgb$2(parse360$2(et[1]),parsePercentage$2(et[2]),parsePercentage$2(et[3]))|255)>>>0:(et=hsla$2.exec(dt))?(hslToRgb$2(parse360$2(et[1]),parsePercentage$2(et[2]),parsePercentage$2(et[3]))|parse1$2(et[4]))>>>0:null}function hue2rgb$2(dt,et,$t){return $t<0&&($t+=1),$t>1&&($t-=1),$t<1/6?dt+(et-dt)*6*$t:$t<1/2?et:$t<2/3?dt+(et-dt)*(2/3-$t)*6:dt}function hslToRgb$2(dt,et,$t){const kt=$t<.5?$t*(1+et):$t+et-$t*et,Tt=2*$t-kt,Dt=hue2rgb$2(Tt,kt,dt+1/3),Ft=hue2rgb$2(Tt,kt,dt),Ut=hue2rgb$2(Tt,kt,dt-1/3);return Math.round(Dt*255)<<24|Math.round(Ft*255)<<16|Math.round(Ut*255)<<8}function parse255$2(dt){const et=parseInt(dt,10);return et<0?0:et>255?255:et}function parse360$2(dt){return(parseFloat(dt)%360+360)%360/360}function parse1$2(dt){const et=parseFloat(dt);return et<0?0:et>1?255:Math.round(et*255)}function parsePercentage$2(dt){const et=parseFloat(dt);return et<0?0:et>100?1:et/100}function colorToRgba$2(dt){let et=normalizeColor$2(dt);if(et===null)return dt;et=et||0;const $t=(et&4278190080)>>>24,kt=(et&16711680)>>>16,Tt=(et&65280)>>>8,Dt=(et&255)/255;return`rgba(${$t}, ${kt}, ${Tt}, ${Dt})`}var createInterpolator$2=(dt,et,$t)=>{if(is$2.fun(dt))return dt;if(is$2.arr(dt))return createInterpolator$2({range:dt,output:et,extrapolate:$t});if(is$2.str(dt.output[0]))return createStringInterpolator$2(dt);const kt=dt,Tt=kt.output,Dt=kt.range||[0,1],Ft=kt.extrapolateLeft||kt.extrapolate||"extend",Ut=kt.extrapolateRight||kt.extrapolate||"extend",Ht=kt.easing||(Kt=>Kt);return Kt=>{const Yt=findRange$2(Kt,Dt);return interpolate$2(Kt,Dt[Yt],Dt[Yt+1],Tt[Yt],Tt[Yt+1],Ht,Ft,Ut,kt.map)}};function interpolate$2(dt,et,$t,kt,Tt,Dt,Ft,Ut,Ht){let Kt=Ht?Ht(dt):dt;if(Kt<et){if(Ft==="identity")return Kt;Ft==="clamp"&&(Kt=et)}if(Kt>$t){if(Ut==="identity")return Kt;Ut==="clamp"&&(Kt=$t)}return kt===Tt?kt:et===$t?dt<=et?kt:Tt:(et===-1/0?Kt=-Kt:$t===1/0?Kt=Kt-et:Kt=(Kt-et)/($t-et),Kt=Dt(Kt),kt===-1/0?Kt=-Kt:Tt===1/0?Kt=Kt+kt:Kt=Kt*(Tt-kt)+kt,Kt)}function findRange$2(dt,et){for(var $t=1;$t<et.length-1&&!(et[$t]>=dt);++$t);return $t-1}var steps$2=(dt,et="end")=>$t=>{$t=et==="end"?Math.min($t,.999):Math.max($t,.001);const kt=$t*dt,Tt=et==="end"?Math.floor(kt):Math.ceil(kt);return clamp$2(0,1,Tt/dt)},c1$2=1.70158,c2$2=c1$2*1.525,c3$2=c1$2+1,c4$2=2*Math.PI/3,c5$2=2*Math.PI/4.5,bounceOut$2=dt=>dt<1/2.75?7.5625*dt*dt:dt<2/2.75?7.5625*(dt-=1.5/2.75)*dt+.75:dt<2.5/2.75?7.5625*(dt-=2.25/2.75)*dt+.9375:7.5625*(dt-=2.625/2.75)*dt+.984375,easings$2={linear:dt=>dt,easeInQuad:dt=>dt*dt,easeOutQuad:dt=>1-(1-dt)*(1-dt),easeInOutQuad:dt=>dt<.5?2*dt*dt:1-Math.pow(-2*dt+2,2)/2,easeInCubic:dt=>dt*dt*dt,easeOutCubic:dt=>1-Math.pow(1-dt,3),easeInOutCubic:dt=>dt<.5?4*dt*dt*dt:1-Math.pow(-2*dt+2,3)/2,easeInQuart:dt=>dt*dt*dt*dt,easeOutQuart:dt=>1-Math.pow(1-dt,4),easeInOutQuart:dt=>dt<.5?8*dt*dt*dt*dt:1-Math.pow(-2*dt+2,4)/2,easeInQuint:dt=>dt*dt*dt*dt*dt,easeOutQuint:dt=>1-Math.pow(1-dt,5),easeInOutQuint:dt=>dt<.5?16*dt*dt*dt*dt*dt:1-Math.pow(-2*dt+2,5)/2,easeInSine:dt=>1-Math.cos(dt*Math.PI/2),easeOutSine:dt=>Math.sin(dt*Math.PI/2),easeInOutSine:dt=>-(Math.cos(Math.PI*dt)-1)/2,easeInExpo:dt=>dt===0?0:Math.pow(2,10*dt-10),easeOutExpo:dt=>dt===1?1:1-Math.pow(2,-10*dt),easeInOutExpo:dt=>dt===0?0:dt===1?1:dt<.5?Math.pow(2,20*dt-10)/2:(2-Math.pow(2,-20*dt+10))/2,easeInCirc:dt=>1-Math.sqrt(1-Math.pow(dt,2)),easeOutCirc:dt=>Math.sqrt(1-Math.pow(dt-1,2)),easeInOutCirc:dt=>dt<.5?(1-Math.sqrt(1-Math.pow(2*dt,2)))/2:(Math.sqrt(1-Math.pow(-2*dt+2,2))+1)/2,easeInBack:dt=>c3$2*dt*dt*dt-c1$2*dt*dt,easeOutBack:dt=>1+c3$2*Math.pow(dt-1,3)+c1$2*Math.pow(dt-1,2),easeInOutBack:dt=>dt<.5?Math.pow(2*dt,2)*((c2$2+1)*2*dt-c2$2)/2:(Math.pow(2*dt-2,2)*((c2$2+1)*(dt*2-2)+c2$2)+2)/2,easeInElastic:dt=>dt===0?0:dt===1?1:-Math.pow(2,10*dt-10)*Math.sin((dt*10-10.75)*c4$2),easeOutElastic:dt=>dt===0?0:dt===1?1:Math.pow(2,-10*dt)*Math.sin((dt*10-.75)*c4$2)+1,easeInOutElastic:dt=>dt===0?0:dt===1?1:dt<.5?-(Math.pow(2,20*dt-10)*Math.sin((20*dt-11.125)*c5$2))/2:Math.pow(2,-20*dt+10)*Math.sin((20*dt-11.125)*c5$2)/2+1,easeInBounce:dt=>1-bounceOut$2(1-dt),easeOutBounce:bounceOut$2,easeInOutBounce:dt=>dt<.5?(1-bounceOut$2(1-2*dt))/2:(1+bounceOut$2(2*dt-1))/2,steps:steps$2},$get$2=Symbol.for("FluidValue.get"),$observers$2=Symbol.for("FluidValue.observers"),hasFluidValue$2=dt=>!!(dt&&dt[$get$2]),getFluidValue$2=dt=>dt&&dt[$get$2]?dt[$get$2]():dt,getFluidObservers$2=dt=>dt[$observers$2]||null;function callFluidObserver$2(dt,et){dt.eventObserved?dt.eventObserved(et):dt(et)}function callFluidObservers$2(dt,et){const $t=dt[$observers$2];$t&&$t.forEach(kt=>{callFluidObserver$2(kt,et)})}var FluidValue$2=class{constructor(et){if(!et&&!(et=this.get))throw Error("Unknown getter");setFluidGetter$2(this,et)}},setFluidGetter$2=(dt,et)=>setHidden$2(dt,$get$2,et);function addFluidObserver$2(dt,et){if(dt[$get$2]){let $t=dt[$observers$2];$t||setHidden$2(dt,$observers$2,$t=new Set),$t.has(et)||($t.add(et),dt.observerAdded&&dt.observerAdded($t.size,et))}return et}function removeFluidObserver$2(dt,et){const $t=dt[$observers$2];if($t&&$t.has(et)){const kt=$t.size-1;kt?$t.delete(et):dt[$observers$2]=null,dt.observerRemoved&&dt.observerRemoved(kt,et)}}var setHidden$2=(dt,et,$t)=>Object.defineProperty(dt,et,{value:$t,writable:!0,configurable:!0}),numberRegex$2=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,colorRegex$2=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,unitRegex$2=new RegExp(`(${numberRegex$2.source})(%|[a-z]+)`,"i"),rgbaRegex$2=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,cssVariableRegex$2=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,variableToRgba$2=dt=>{const[et,$t]=parseCSSVariable$2(dt);if(!et||isSSR$2())return dt;const kt=window.getComputedStyle(document.documentElement).getPropertyValue(et);if(kt)return kt.trim();if($t&&$t.startsWith("--")){const Tt=window.getComputedStyle(document.documentElement).getPropertyValue($t);return Tt||dt}else{if($t&&cssVariableRegex$2.test($t))return variableToRgba$2($t);if($t)return $t}return dt},parseCSSVariable$2=dt=>{const et=cssVariableRegex$2.exec(dt);if(!et)return[,];const[,$t,kt]=et;return[$t,kt]},namedColorRegex$2,rgbaRound$2=(dt,et,$t,kt,Tt)=>`rgba(${Math.round(et)}, ${Math.round($t)}, ${Math.round(kt)}, ${Tt})`,createStringInterpolator2$2=dt=>{namedColorRegex$2||(namedColorRegex$2=colors$2?new RegExp(`(${Object.keys(colors$2).join("|")})(?!\\w)`,"g"):/^\b$/);const et=dt.output.map(Dt=>getFluidValue$2(Dt).replace(cssVariableRegex$2,variableToRgba$2).replace(colorRegex$2,colorToRgba$2).replace(namedColorRegex$2,colorToRgba$2)),$t=et.map(Dt=>Dt.match(numberRegex$2).map(Number)),Tt=$t[0].map((Dt,Ft)=>$t.map(Ut=>{if(!(Ft in Ut))throw Error('The arity of each "output" value must be equal');return Ut[Ft]})).map(Dt=>createInterpolator$2({...dt,output:Dt}));return Dt=>{var Ht;const Ft=!unitRegex$2.test(et[0])&&((Ht=et.find(Kt=>unitRegex$2.test(Kt)))==null?void 0:Ht.replace(numberRegex$2,""));let Ut=0;return et[0].replace(numberRegex$2,()=>`${Tt[Ut++](Dt)}${Ft||""}`).replace(rgbaRegex$2,rgbaRound$2)}},prefix$2="react-spring: ",once$2=dt=>{const et=dt;let $t=!1;if(typeof et!="function")throw new TypeError(`${prefix$2}once requires a function parameter`);return(...kt)=>{$t||(et(...kt),$t=!0)}},warnInterpolate$2=once$2(console.warn);function deprecateInterpolate$2(){warnInterpolate$2(`${prefix$2}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var warnDirectCall$2=once$2(console.warn);function deprecateDirectCall$2(){warnDirectCall$2(`${prefix$2}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function isAnimatedString$2(dt){return is$2.str(dt)&&(dt[0]=="#"||/\d/.test(dt)||!isSSR$2()&&cssVariableRegex$2.test(dt)||dt in(colors$2||{}))}var useIsomorphicLayoutEffect$2=isSSR$2()?reactExports.useEffect:reactExports.useLayoutEffect,useIsMounted$2=()=>{const dt=reactExports.useRef(!1);return useIsomorphicLayoutEffect$2(()=>(dt.current=!0,()=>{dt.current=!1}),[]),dt};function useForceUpdate$2(){const dt=reactExports.useState()[1],et=useIsMounted$2();return()=>{et.current&&dt(Math.random())}}var useOnce$2=dt=>reactExports.useEffect(dt,emptyDeps$2),emptyDeps$2=[];function usePrev$2(dt){const et=reactExports.useRef(void 0);return reactExports.useEffect(()=>{et.current=dt}),et.current}var $node$2=Symbol.for("Animated:node"),isAnimated$2=dt=>!!dt&&dt[$node$2]===dt,getAnimated$2=dt=>dt&&dt[$node$2],setAnimated$2=(dt,et)=>defineHidden$2(dt,$node$2,et),getPayload$2=dt=>dt&&dt[$node$2]&&dt[$node$2].getPayload(),Animated$2=class{constructor(){setAnimated$2(this,this)}getPayload(){return this.payload||[]}},AnimatedValue$2=class Q_ extends Animated$2{constructor(et){super(),this._value=et,this.done=!0,this.durationProgress=0,is$2.num(this._value)&&(this.lastPosition=this._value)}static create(et){return new Q_(et)}getPayload(){return[this]}getValue(){return this._value}setValue(et,$t){return is$2.num(et)&&(this.lastPosition=et,$t&&(et=Math.round(et/$t)*$t,this.done&&(this.lastPosition=et))),this._value===et?!1:(this._value=et,!0)}reset(){const{done:et}=this;this.done=!1,is$2.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,et&&(this.lastVelocity=null),this.v0=null)}},AnimatedString$2=class J_ extends AnimatedValue$2{constructor(et){super(0),this._string=null,this._toString=createInterpolator$2({output:[et,et]})}static create(et){return new J_(et)}getValue(){const et=this._string;return et??(this._string=this._toString(this._value))}setValue(et){if(is$2.str(et)){if(et==this._string)return!1;this._string=et,this._value=1}else if(super.setValue(et))this._string=null;else return!1;return!0}reset(et){et&&(this._toString=createInterpolator$2({output:[this.getValue(),et]})),this._value=0,super.reset()}},TreeContext$2={dependencies:null},AnimatedObject$2=class extends Animated$2{constructor(et){super(),this.source=et,this.setValue(et)}getValue(et){const $t={};return eachProp$2(this.source,(kt,Tt)=>{isAnimated$2(kt)?$t[Tt]=kt.getValue(et):hasFluidValue$2(kt)?$t[Tt]=getFluidValue$2(kt):et||($t[Tt]=kt)}),$t}setValue(et){this.source=et,this.payload=this._makePayload(et)}reset(){this.payload&&each$2(this.payload,et=>et.reset())}_makePayload(et){if(et){const $t=new Set;return eachProp$2(et,this._addToPayload,$t),Array.from($t)}}_addToPayload(et){TreeContext$2.dependencies&&hasFluidValue$2(et)&&TreeContext$2.dependencies.add(et);const $t=getPayload$2(et);$t&&each$2($t,kt=>this.add(kt))}},AnimatedArray$2=class Z_ extends AnimatedObject$2{constructor(et){super(et)}static create(et){return new Z_(et)}getValue(){return this.source.map(et=>et.getValue())}setValue(et){const $t=this.getPayload();return et.length==$t.length?$t.map((kt,Tt)=>kt.setValue(et[Tt])).some(Boolean):(super.setValue(et.map(makeAnimated$2)),!0)}};function makeAnimated$2(dt){return(isAnimatedString$2(dt)?AnimatedString$2:AnimatedValue$2).create(dt)}function getAnimatedType$2(dt){const et=getAnimated$2(dt);return et?et.constructor:is$2.arr(dt)?AnimatedArray$2:isAnimatedString$2(dt)?AnimatedString$2:AnimatedValue$2}var withAnimated$2=(dt,et)=>{const $t=!is$2.fun(dt)||dt.prototype&&dt.prototype.isReactComponent;return reactExports.forwardRef((kt,Tt)=>{const Dt=reactExports.useRef(null),Ft=$t&&reactExports.useCallback(rr=>{Dt.current=updateRef$2(Tt,rr)},[Tt]),[Ut,Ht]=getAnimatedState$2(kt,et),Kt=useForceUpdate$2(),Yt=()=>{const rr=Dt.current;if($t&&!rr)return;(rr?et.applyAnimatedValues(rr,Ut.getValue(!0)):!1)===!1&&Kt()},Jt=new PropsObserver$2(Yt,Ht),Zt=reactExports.useRef(void 0);useIsomorphicLayoutEffect$2(()=>(Zt.current=Jt,each$2(Ht,rr=>addFluidObserver$2(rr,Jt)),()=>{Zt.current&&(each$2(Zt.current.deps,rr=>removeFluidObserver$2(rr,Zt.current)),raf$2.cancel(Zt.current.update))})),reactExports.useEffect(Yt,[]),useOnce$2(()=>()=>{const rr=Zt.current;each$2(rr.deps,sr=>removeFluidObserver$2(sr,rr))});const er=et.getComponentProps(Ut.getValue());return reactExports.createElement(dt,{...er,ref:Ft})})},PropsObserver$2=class{constructor(et,$t){this.update=et,this.deps=$t}eventObserved(et){et.type=="change"&&raf$2.write(this.update)}};function getAnimatedState$2(dt,et){const $t=new Set;return TreeContext$2.dependencies=$t,dt.style&&(dt={...dt,style:et.createAnimatedStyle(dt.style)}),dt=new AnimatedObject$2(dt),TreeContext$2.dependencies=null,[dt,$t]}function updateRef$2(dt,et){return dt&&(is$2.fun(dt)?dt(et):dt.current=et),et}var cacheKey$2=Symbol.for("AnimatedComponent"),createHost$2=(dt,{applyAnimatedValues:et=()=>!1,createAnimatedStyle:$t=Tt=>new AnimatedObject$2(Tt),getComponentProps:kt=Tt=>Tt}={})=>{const Tt={applyAnimatedValues:et,createAnimatedStyle:$t,getComponentProps:kt},Dt=Ft=>{const Ut=getDisplayName$2(Ft)||"Anonymous";return is$2.str(Ft)?Ft=Dt[Ft]||(Dt[Ft]=withAnimated$2(Ft,Tt)):Ft=Ft[cacheKey$2]||(Ft[cacheKey$2]=withAnimated$2(Ft,Tt)),Ft.displayName=`Animated(${Ut})`,Ft};return eachProp$2(dt,(Ft,Ut)=>{is$2.arr(dt)&&(Ut=getDisplayName$2(Ft)),Dt[Ut]=Dt(Ft)}),{animated:Dt}},getDisplayName$2=dt=>is$2.str(dt)?dt:dt&&is$2.str(dt.displayName)?dt.displayName:is$2.fun(dt)&&dt.name||null;function callProp$2(dt,...et){return is$2.fun(dt)?dt(...et):dt}var matchProp$2=(dt,et)=>dt===!0||!!(et&&dt&&(is$2.fun(dt)?dt(et):toArray$2(dt).includes(et))),resolveProp$2=(dt,et)=>is$2.obj(dt)?et&&dt[et]:dt,getDefaultProp$2=(dt,et)=>dt.default===!0?dt[et]:dt.default?dt.default[et]:void 0,noopTransform$2=dt=>dt,getDefaultProps$2=(dt,et=noopTransform$2)=>{let $t=DEFAULT_PROPS$2;dt.default&&dt.default!==!0&&(dt=dt.default,$t=Object.keys(dt));const kt={};for(const Tt of $t){const Dt=et(dt[Tt],Tt);is$2.und(Dt)||(kt[Tt]=Dt)}return kt},DEFAULT_PROPS$2=["config","onProps","onStart","onChange","onPause","onResume","onRest"],RESERVED_PROPS$2={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function getForwardProps$2(dt){const et={};let $t=0;if(eachProp$2(dt,(kt,Tt)=>{RESERVED_PROPS$2[Tt]||(et[Tt]=kt,$t++)}),$t)return et}function inferTo$2(dt){const et=getForwardProps$2(dt);if(et){const $t={to:et};return eachProp$2(dt,(kt,Tt)=>Tt in et||($t[Tt]=kt)),$t}return{...dt}}function computeGoal$2(dt){return dt=getFluidValue$2(dt),is$2.arr(dt)?dt.map(computeGoal$2):isAnimatedString$2(dt)?globals_exports$2.createStringInterpolator({range:[0,1],output:[dt,dt]})(1):dt}function hasProps$2(dt){for(const et in dt)return!0;return!1}function isAsyncTo$2(dt){return is$2.fun(dt)||is$2.arr(dt)&&is$2.obj(dt[0])}function detachRefs$2(dt,et){var $t;($t=dt.ref)==null||$t.delete(dt),et==null||et.delete(dt)}function replaceRef$2(dt,et){var $t;et&&dt.ref!==et&&(($t=dt.ref)==null||$t.delete(dt),et.add(dt),dt.ref=et)}var config$2={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},defaults$2={...config$2.default,mass:1,damping:1,easing:easings$2.linear,clamp:!1},AnimationConfig$2=class{constructor(){this.velocity=0,Object.assign(this,defaults$2)}};function mergeConfig$2(dt,et,$t){$t&&($t={...$t},sanitizeConfig$2($t,et),et={...$t,...et}),sanitizeConfig$2(dt,et),Object.assign(dt,et);for(const Ft in defaults$2)dt[Ft]==null&&(dt[Ft]=defaults$2[Ft]);let{frequency:kt,damping:Tt}=dt;const{mass:Dt}=dt;return is$2.und(kt)||(kt<.01&&(kt=.01),Tt<0&&(Tt=0),dt.tension=Math.pow(2*Math.PI/kt,2)*Dt,dt.friction=4*Math.PI*Tt*Dt/kt),dt}function sanitizeConfig$2(dt,et){if(!is$2.und(et.decay))dt.duration=void 0;else{const $t=!is$2.und(et.tension)||!is$2.und(et.friction);($t||!is$2.und(et.frequency)||!is$2.und(et.damping)||!is$2.und(et.mass))&&(dt.duration=void 0,dt.decay=void 0),$t&&(dt.frequency=void 0)}}var emptyArray$2=[],Animation$2=class{constructor(){this.changed=!1,this.values=emptyArray$2,this.toValues=null,this.fromValues=emptyArray$2,this.config=new AnimationConfig$2,this.immediate=!1}};function scheduleProps$2(dt,{key:et,props:$t,defaultProps:kt,state:Tt,actions:Dt}){return new Promise((Ft,Ut)=>{let Ht,Kt,Yt=matchProp$2($t.cancel??(kt==null?void 0:kt.cancel),et);if(Yt)er();else{is$2.und($t.pause)||(Tt.paused=matchProp$2($t.pause,et));let rr=kt==null?void 0:kt.pause;rr!==!0&&(rr=Tt.paused||matchProp$2(rr,et)),Ht=callProp$2($t.delay||0,et),rr?(Tt.resumeQueue.add(Zt),Dt.pause()):(Dt.resume(),Zt())}function Jt(){Tt.resumeQueue.add(Zt),Tt.timeouts.delete(Kt),Kt.cancel(),Ht=Kt.time-raf$2.now()}function Zt(){Ht>0&&!globals_exports$2.skipAnimation?(Tt.delayed=!0,Kt=raf$2.setTimeout(er,Ht),Tt.pauseQueue.add(Jt),Tt.timeouts.add(Kt)):er()}function er(){Tt.delayed&&(Tt.delayed=!1),Tt.pauseQueue.delete(Jt),Tt.timeouts.delete(Kt),dt<=(Tt.cancelId||0)&&(Yt=!0);try{Dt.start({...$t,callId:dt,cancel:Yt},Ft)}catch(rr){Ut(rr)}}})}var getCombinedResult$2=(dt,et)=>et.length==1?et[0]:et.some($t=>$t.cancelled)?getCancelledResult$2(dt.get()):et.every($t=>$t.noop)?getNoopResult$2(dt.get()):getFinishedResult$2(dt.get(),et.every($t=>$t.finished)),getNoopResult$2=dt=>({value:dt,noop:!0,finished:!0,cancelled:!1}),getFinishedResult$2=(dt,et,$t=!1)=>({value:dt,finished:et,cancelled:$t}),getCancelledResult$2=dt=>({value:dt,cancelled:!0,finished:!1});function runAsync$2(dt,et,$t,kt){const{callId:Tt,parentId:Dt,onRest:Ft}=et,{asyncTo:Ut,promise:Ht}=$t;return!Dt&&dt===Ut&&!et.reset?Ht:$t.promise=(async()=>{$t.asyncId=Tt,$t.asyncTo=dt;const Kt=getDefaultProps$2(et,(ir,nr)=>nr==="onRest"?void 0:ir);let Yt,Jt;const Zt=new Promise((ir,nr)=>(Yt=ir,Jt=nr)),er=ir=>{const nr=Tt<=($t.cancelId||0)&&getCancelledResult$2(kt)||Tt!==$t.asyncId&&getFinishedResult$2(kt,!1);if(nr)throw ir.result=nr,Jt(ir),ir},rr=(ir,nr)=>{const or=new BailSignal$2,lr=new SkipAnimationSignal$2;return(async()=>{if(globals_exports$2.skipAnimation)throw stopAsync$2($t),lr.result=getFinishedResult$2(kt,!1),Jt(lr),lr;er(or);const cr=is$2.obj(ir)?{...ir}:{...nr,to:ir};cr.parentId=Tt,eachProp$2(Kt,(ur,pr)=>{is$2.und(cr[pr])&&(cr[pr]=ur)});const dr=await kt.start(cr);return er(or),$t.paused&&await new Promise(ur=>{$t.resumeQueue.add(ur)}),dr})()};let sr;if(globals_exports$2.skipAnimation)return stopAsync$2($t),getFinishedResult$2(kt,!1);try{let ir;is$2.arr(dt)?ir=(async nr=>{for(const or of nr)await rr(or)})(dt):ir=Promise.resolve(dt(rr,kt.stop.bind(kt))),await Promise.all([ir.then(Yt),Zt]),sr=getFinishedResult$2(kt.get(),!0,!1)}catch(ir){if(ir instanceof BailSignal$2)sr=ir.result;else if(ir instanceof SkipAnimationSignal$2)sr=ir.result;else throw ir}finally{Tt==$t.asyncId&&($t.asyncId=Dt,$t.asyncTo=Dt?Ut:void 0,$t.promise=Dt?Ht:void 0)}return is$2.fun(Ft)&&raf$2.batchedUpdates(()=>{Ft(sr,kt,kt.item)}),sr})()}function stopAsync$2(dt,et){flush$2(dt.timeouts,$t=>$t.cancel()),dt.pauseQueue.clear(),dt.resumeQueue.clear(),dt.asyncId=dt.asyncTo=dt.promise=void 0,et&&(dt.cancelId=et)}var BailSignal$2=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},SkipAnimationSignal$2=class extends Error{constructor(){super("SkipAnimationSignal")}},isFrameValue$2=dt=>dt instanceof FrameValue$2,nextId$2=1,FrameValue$2=class extends FluidValue$2{constructor(){super(...arguments),this.id=nextId$2++,this._priority=0}get priority(){return this._priority}set priority(et){this._priority!=et&&(this._priority=et,this._onPriorityChange(et))}get(){const et=getAnimated$2(this);return et&&et.getValue()}to(...et){return globals_exports$2.to(this,et)}interpolate(...et){return deprecateInterpolate$2(),globals_exports$2.to(this,et)}toJSON(){return this.get()}observerAdded(et){et==1&&this._attach()}observerRemoved(et){et==0&&this._detach()}_attach(){}_detach(){}_onChange(et,$t=!1){callFluidObservers$2(this,{type:"change",parent:this,value:et,idle:$t})}_onPriorityChange(et){this.idle||frameLoop$2.sort(this),callFluidObservers$2(this,{type:"priority",parent:this,priority:et})}},$P$2=Symbol.for("SpringPhase"),HAS_ANIMATED$2=1,IS_ANIMATING$2=2,IS_PAUSED$2=4,hasAnimated$2=dt=>(dt[$P$2]&HAS_ANIMATED$2)>0,isAnimating$2=dt=>(dt[$P$2]&IS_ANIMATING$2)>0,isPaused$2=dt=>(dt[$P$2]&IS_PAUSED$2)>0,setActiveBit$2=(dt,et)=>et?dt[$P$2]|=IS_ANIMATING$2|HAS_ANIMATED$2:dt[$P$2]&=~IS_ANIMATING$2,setPausedBit$2=(dt,et)=>et?dt[$P$2]|=IS_PAUSED$2:dt[$P$2]&=~IS_PAUSED$2,SpringValue$2=class extends FrameValue$2{constructor(et,$t){if(super(),this.animation=new Animation$2,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!is$2.und(et)||!is$2.und($t)){const kt=is$2.obj(et)?{...et}:{...$t,from:et};is$2.und(kt.default)&&(kt.default=!0),this.start(kt)}}get idle(){return!(isAnimating$2(this)||this._state.asyncTo)||isPaused$2(this)}get goal(){return getFluidValue$2(this.animation.to)}get velocity(){const et=getAnimated$2(this);return et instanceof AnimatedValue$2?et.lastVelocity||0:et.getPayload().map($t=>$t.lastVelocity||0)}get hasAnimated(){return hasAnimated$2(this)}get isAnimating(){return isAnimating$2(this)}get isPaused(){return isPaused$2(this)}get isDelayed(){return this._state.delayed}advance(et){let $t=!0,kt=!1;const Tt=this.animation;let{toValues:Dt}=Tt;const{config:Ft}=Tt,Ut=getPayload$2(Tt.to);!Ut&&hasFluidValue$2(Tt.to)&&(Dt=toArray$2(getFluidValue$2(Tt.to))),Tt.values.forEach((Yt,Jt)=>{if(Yt.done)return;const Zt=Yt.constructor==AnimatedString$2?1:Ut?Ut[Jt].lastPosition:Dt[Jt];let er=Tt.immediate,rr=Zt;if(!er){if(rr=Yt.lastPosition,Ft.tension<=0){Yt.done=!0;return}let sr=Yt.elapsedTime+=et;const ir=Tt.fromValues[Jt],nr=Yt.v0!=null?Yt.v0:Yt.v0=is$2.arr(Ft.velocity)?Ft.velocity[Jt]:Ft.velocity;let or;const lr=Ft.precision||(ir==Zt?.005:Math.min(1,Math.abs(Zt-ir)*.001));if(is$2.und(Ft.duration))if(Ft.decay){const cr=Ft.decay===!0?.998:Ft.decay,dr=Math.exp(-(1-cr)*sr);rr=ir+nr/(1-cr)*(1-dr),er=Math.abs(Yt.lastPosition-rr)<=lr,or=nr*dr}else{or=Yt.lastVelocity==null?nr:Yt.lastVelocity;const cr=Ft.restVelocity||lr/10,dr=Ft.clamp?0:Ft.bounce,ur=!is$2.und(dr),pr=ir==Zt?Yt.v0>0:ir<Zt;let mr,vr=!1;const kr=1,br=Math.ceil(et/kr);for(let _r=0;_r<br&&(mr=Math.abs(or)>cr,!(!mr&&(er=Math.abs(Zt-rr)<=lr,er)));++_r){ur&&(vr=rr==Zt||rr>Zt==pr,vr&&(or=-or*dr,rr=Zt));const Or=-Ft.tension*1e-6*(rr-Zt),Pr=-Ft.friction*.001*or,Mr=(Or+Pr)/Ft.mass;or=or+Mr*kr,rr=rr+or*kr}}else{let cr=1;Ft.duration>0&&(this._memoizedDuration!==Ft.duration&&(this._memoizedDuration=Ft.duration,Yt.durationProgress>0&&(Yt.elapsedTime=Ft.duration*Yt.durationProgress,sr=Yt.elapsedTime+=et)),cr=(Ft.progress||0)+sr/this._memoizedDuration,cr=cr>1?1:cr<0?0:cr,Yt.durationProgress=cr),rr=ir+Ft.easing(cr)*(Zt-ir),or=(rr-Yt.lastPosition)/et,er=cr==1}Yt.lastVelocity=or,Number.isNaN(rr)&&(console.warn("Got NaN while animating:",this),er=!0)}Ut&&!Ut[Jt].done&&(er=!1),er?Yt.done=!0:$t=!1,Yt.setValue(rr,Ft.round)&&(kt=!0)});const Ht=getAnimated$2(this),Kt=Ht.getValue();if($t){const Yt=getFluidValue$2(Tt.to);(Kt!==Yt||kt)&&!Ft.decay?(Ht.setValue(Yt),this._onChange(Yt)):kt&&Ft.decay&&this._onChange(Kt),this._stop()}else kt&&this._onChange(Kt)}set(et){return raf$2.batchedUpdates(()=>{this._stop(),this._focus(et),this._set(et)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(isAnimating$2(this)){const{to:et,config:$t}=this.animation;raf$2.batchedUpdates(()=>{this._onStart(),$t.decay||this._set(et,!1),this._stop()})}return this}update(et){return(this.queue||(this.queue=[])).push(et),this}start(et,$t){let kt;return is$2.und(et)?(kt=this.queue||[],this.queue=[]):kt=[is$2.obj(et)?et:{...$t,to:et}],Promise.all(kt.map(Tt=>this._update(Tt))).then(Tt=>getCombinedResult$2(this,Tt))}stop(et){const{to:$t}=this.animation;return this._focus(this.get()),stopAsync$2(this._state,et&&this._lastCallId),raf$2.batchedUpdates(()=>this._stop($t,et)),this}reset(){this._update({reset:!0})}eventObserved(et){et.type=="change"?this._start():et.type=="priority"&&(this.priority=et.priority+1)}_prepareNode(et){const $t=this.key||"";let{to:kt,from:Tt}=et;kt=is$2.obj(kt)?kt[$t]:kt,(kt==null||isAsyncTo$2(kt))&&(kt=void 0),Tt=is$2.obj(Tt)?Tt[$t]:Tt,Tt==null&&(Tt=void 0);const Dt={to:kt,from:Tt};return hasAnimated$2(this)||(et.reverse&&([kt,Tt]=[Tt,kt]),Tt=getFluidValue$2(Tt),is$2.und(Tt)?getAnimated$2(this)||this._set(kt):this._set(Tt)),Dt}_update({...et},$t){const{key:kt,defaultProps:Tt}=this;et.default&&Object.assign(Tt,getDefaultProps$2(et,(Ut,Ht)=>/^on/.test(Ht)?resolveProp$2(Ut,kt):Ut)),mergeActiveFn$2(this,et,"onProps"),sendEvent$2(this,"onProps",et,this);const Dt=this._prepareNode(et);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const Ft=this._state;return scheduleProps$2(++this._lastCallId,{key:kt,props:et,defaultProps:Tt,state:Ft,actions:{pause:()=>{isPaused$2(this)||(setPausedBit$2(this,!0),flushCalls$2(Ft.pauseQueue),sendEvent$2(this,"onPause",getFinishedResult$2(this,checkFinished$2(this,this.animation.to)),this))},resume:()=>{isPaused$2(this)&&(setPausedBit$2(this,!1),isAnimating$2(this)&&this._resume(),flushCalls$2(Ft.resumeQueue),sendEvent$2(this,"onResume",getFinishedResult$2(this,checkFinished$2(this,this.animation.to)),this))},start:this._merge.bind(this,Dt)}}).then(Ut=>{if(et.loop&&Ut.finished&&!($t&&Ut.noop)){const Ht=createLoopUpdate$2(et);if(Ht)return this._update(Ht,!0)}return Ut})}_merge(et,$t,kt){if($t.cancel)return this.stop(!0),kt(getCancelledResult$2(this));const Tt=!is$2.und(et.to),Dt=!is$2.und(et.from);if(Tt||Dt)if($t.callId>this._lastToId)this._lastToId=$t.callId;else return kt(getCancelledResult$2(this));const{key:Ft,defaultProps:Ut,animation:Ht}=this,{to:Kt,from:Yt}=Ht;let{to:Jt=Kt,from:Zt=Yt}=et;Dt&&!Tt&&(!$t.default||is$2.und(Jt))&&(Jt=Zt),$t.reverse&&([Jt,Zt]=[Zt,Jt]);const er=!isEqual$2(Zt,Yt);er&&(Ht.from=Zt),Zt=getFluidValue$2(Zt);const rr=!isEqual$2(Jt,Kt);rr&&this._focus(Jt);const sr=isAsyncTo$2($t.to),{config:ir}=Ht,{decay:nr,velocity:or}=ir;(Tt||Dt)&&(ir.velocity=0),$t.config&&!sr&&mergeConfig$2(ir,callProp$2($t.config,Ft),$t.config!==Ut.config?callProp$2(Ut.config,Ft):void 0);let lr=getAnimated$2(this);if(!lr||is$2.und(Jt))return kt(getFinishedResult$2(this,!0));const cr=is$2.und($t.reset)?Dt&&!$t.default:!is$2.und(Zt)&&matchProp$2($t.reset,Ft),dr=cr?Zt:this.get(),ur=computeGoal$2(Jt),pr=is$2.num(ur)||is$2.arr(ur)||isAnimatedString$2(ur),mr=!sr&&(!pr||matchProp$2(Ut.immediate||$t.immediate,Ft));if(rr){const _r=getAnimatedType$2(Jt);if(_r!==lr.constructor)if(mr)lr=this._set(ur);else throw Error(`Cannot animate between ${lr.constructor.name} and ${_r.name}, as the "to" prop suggests`)}const vr=lr.constructor;let kr=hasFluidValue$2(Jt),br=!1;if(!kr){const _r=cr||!hasAnimated$2(this)&&er;(rr||_r)&&(br=isEqual$2(computeGoal$2(dr),ur),kr=!br),(!isEqual$2(Ht.immediate,mr)&&!mr||!isEqual$2(ir.decay,nr)||!isEqual$2(ir.velocity,or))&&(kr=!0)}if(br&&isAnimating$2(this)&&(Ht.changed&&!cr?kr=!0:kr||this._stop(Kt)),!sr&&((kr||hasFluidValue$2(Kt))&&(Ht.values=lr.getPayload(),Ht.toValues=hasFluidValue$2(Jt)?null:vr==AnimatedString$2?[1]:toArray$2(ur)),Ht.immediate!=mr&&(Ht.immediate=mr,!mr&&!cr&&this._set(Kt)),kr)){const{onRest:_r}=Ht;each$2(ACTIVE_EVENTS$2,Pr=>mergeActiveFn$2(this,$t,Pr));const Or=getFinishedResult$2(this,checkFinished$2(this,Kt));flushCalls$2(this._pendingCalls,Or),this._pendingCalls.add(kt),Ht.changed&&raf$2.batchedUpdates(()=>{var Pr;Ht.changed=!cr,_r==null||_r(Or,this),cr?callProp$2(Ut.onRest,Or):(Pr=Ht.onStart)==null||Pr.call(Ht,Or,this)})}cr&&this._set(dr),sr?kt(runAsync$2($t.to,$t,this._state,this)):kr?this._start():isAnimating$2(this)&&!rr?this._pendingCalls.add(kt):kt(getNoopResult$2(dr))}_focus(et){const $t=this.animation;et!==$t.to&&(getFluidObservers$2(this)&&this._detach(),$t.to=et,getFluidObservers$2(this)&&this._attach())}_attach(){let et=0;const{to:$t}=this.animation;hasFluidValue$2($t)&&(addFluidObserver$2($t,this),isFrameValue$2($t)&&(et=$t.priority+1)),this.priority=et}_detach(){const{to:et}=this.animation;hasFluidValue$2(et)&&removeFluidObserver$2(et,this)}_set(et,$t=!0){const kt=getFluidValue$2(et);if(!is$2.und(kt)){const Tt=getAnimated$2(this);if(!Tt||!isEqual$2(kt,Tt.getValue())){const Dt=getAnimatedType$2(kt);!Tt||Tt.constructor!=Dt?setAnimated$2(this,Dt.create(kt)):Tt.setValue(kt),Tt&&raf$2.batchedUpdates(()=>{this._onChange(kt,$t)})}}return getAnimated$2(this)}_onStart(){const et=this.animation;et.changed||(et.changed=!0,sendEvent$2(this,"onStart",getFinishedResult$2(this,checkFinished$2(this,et.to)),this))}_onChange(et,$t){$t||(this._onStart(),callProp$2(this.animation.onChange,et,this)),callProp$2(this.defaultProps.onChange,et,this),super._onChange(et,$t)}_start(){const et=this.animation;getAnimated$2(this).reset(getFluidValue$2(et.to)),et.immediate||(et.fromValues=et.values.map($t=>$t.lastPosition)),isAnimating$2(this)||(setActiveBit$2(this,!0),isPaused$2(this)||this._resume())}_resume(){globals_exports$2.skipAnimation?this.finish():frameLoop$2.start(this)}_stop(et,$t){if(isAnimating$2(this)){setActiveBit$2(this,!1);const kt=this.animation;each$2(kt.values,Dt=>{Dt.done=!0}),kt.toValues&&(kt.onChange=kt.onPause=kt.onResume=void 0),callFluidObservers$2(this,{type:"idle",parent:this});const Tt=$t?getCancelledResult$2(this.get()):getFinishedResult$2(this.get(),checkFinished$2(this,et??kt.to));flushCalls$2(this._pendingCalls,Tt),kt.changed&&(kt.changed=!1,sendEvent$2(this,"onRest",Tt,this))}}};function checkFinished$2(dt,et){const $t=computeGoal$2(et),kt=computeGoal$2(dt.get());return isEqual$2(kt,$t)}function createLoopUpdate$2(dt,et=dt.loop,$t=dt.to){const kt=callProp$2(et);if(kt){const Tt=kt!==!0&&inferTo$2(kt),Dt=(Tt||dt).reverse,Ft=!Tt||Tt.reset;return createUpdate$2({...dt,loop:et,default:!1,pause:void 0,to:!Dt||isAsyncTo$2($t)?$t:void 0,from:Ft?dt.from:void 0,reset:Ft,...Tt})}}function createUpdate$2(dt){const{to:et,from:$t}=dt=inferTo$2(dt),kt=new Set;return is$2.obj(et)&&findDefined$2(et,kt),is$2.obj($t)&&findDefined$2($t,kt),dt.keys=kt.size?Array.from(kt):null,dt}function declareUpdate$1(dt){const et=createUpdate$2(dt);return is$2.und(et.default)&&(et.default=getDefaultProps$2(et)),et}function findDefined$2(dt,et){eachProp$2(dt,($t,kt)=>$t!=null&&et.add(kt))}var ACTIVE_EVENTS$2=["onStart","onRest","onChange","onPause","onResume"];function mergeActiveFn$2(dt,et,$t){dt.animation[$t]=et[$t]!==getDefaultProp$2(et,$t)?resolveProp$2(et[$t],dt.key):void 0}function sendEvent$2(dt,et,...$t){var kt,Tt,Dt,Ft;(Tt=(kt=dt.animation)[et])==null||Tt.call(kt,...$t),(Ft=(Dt=dt.defaultProps)[et])==null||Ft.call(Dt,...$t)}var BATCHED_EVENTS$2=["onStart","onChange","onRest"],nextId2$2=1,Controller$2=class{constructor(et,$t){this.id=nextId2$2++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),$t&&(this._flush=$t),et&&this.start({default:!0,...et})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(et=>et.idle&&!et.isDelayed&&!et.isPaused)}get item(){return this._item}set item(et){this._item=et}get(){const et={};return this.each(($t,kt)=>et[kt]=$t.get()),et}set(et){for(const $t in et){const kt=et[$t];is$2.und(kt)||this.springs[$t].set(kt)}}update(et){return et&&this.queue.push(createUpdate$2(et)),this}start(et){let{queue:$t}=this;return et?$t=toArray$2(et).map(createUpdate$2):this.queue=[],this._flush?this._flush(this,$t):(prepareKeys$2(this,$t),flushUpdateQueue$2(this,$t))}stop(et,$t){if(et!==!!et&&($t=et),$t){const kt=this.springs;each$2(toArray$2($t),Tt=>kt[Tt].stop(!!et))}else stopAsync$2(this._state,this._lastAsyncId),this.each(kt=>kt.stop(!!et));return this}pause(et){if(is$2.und(et))this.start({pause:!0});else{const $t=this.springs;each$2(toArray$2(et),kt=>$t[kt].pause())}return this}resume(et){if(is$2.und(et))this.start({pause:!1});else{const $t=this.springs;each$2(toArray$2(et),kt=>$t[kt].resume())}return this}each(et){eachProp$2(this.springs,et)}_onFrame(){const{onStart:et,onChange:$t,onRest:kt}=this._events,Tt=this._active.size>0,Dt=this._changed.size>0;(Tt&&!this._started||Dt&&!this._started)&&(this._started=!0,flush$2(et,([Ht,Kt])=>{Kt.value=this.get(),Ht(Kt,this,this._item)}));const Ft=!Tt&&this._started,Ut=Dt||Ft&&kt.size?this.get():null;Dt&&$t.size&&flush$2($t,([Ht,Kt])=>{Kt.value=Ut,Ht(Kt,this,this._item)}),Ft&&(this._started=!1,flush$2(kt,([Ht,Kt])=>{Kt.value=Ut,Ht(Kt,this,this._item)}))}eventObserved(et){if(et.type=="change")this._changed.add(et.parent),et.idle||this._active.add(et.parent);else if(et.type=="idle")this._active.delete(et.parent);else return;raf$2.onFrame(this._onFrame)}};function flushUpdateQueue$2(dt,et){return Promise.all(et.map($t=>flushUpdate$2(dt,$t))).then($t=>getCombinedResult$2(dt,$t))}async function flushUpdate$2(dt,et,$t){const{keys:kt,to:Tt,from:Dt,loop:Ft,onRest:Ut,onResolve:Ht}=et,Kt=is$2.obj(et.default)&&et.default;Ft&&(et.loop=!1),Tt===!1&&(et.to=null),Dt===!1&&(et.from=null);const Yt=is$2.arr(Tt)||is$2.fun(Tt)?Tt:void 0;Yt?(et.to=void 0,et.onRest=void 0,Kt&&(Kt.onRest=void 0)):each$2(BATCHED_EVENTS$2,sr=>{const ir=et[sr];if(is$2.fun(ir)){const nr=dt._events[sr];et[sr]=({finished:or,cancelled:lr})=>{const cr=nr.get(ir);cr?(or||(cr.finished=!1),lr&&(cr.cancelled=!0)):nr.set(ir,{value:null,finished:or||!1,cancelled:lr||!1})},Kt&&(Kt[sr]=et[sr])}});const Jt=dt._state;et.pause===!Jt.paused?(Jt.paused=et.pause,flushCalls$2(et.pause?Jt.pauseQueue:Jt.resumeQueue)):Jt.paused&&(et.pause=!0);const Zt=(kt||Object.keys(dt.springs)).map(sr=>dt.springs[sr].start(et)),er=et.cancel===!0||getDefaultProp$2(et,"cancel")===!0;(Yt||er&&Jt.asyncId)&&Zt.push(scheduleProps$2(++dt._lastAsyncId,{props:et,state:Jt,actions:{pause:noop$4,resume:noop$4,start(sr,ir){er?(stopAsync$2(Jt,dt._lastAsyncId),ir(getCancelledResult$2(dt))):(sr.onRest=Ut,ir(runAsync$2(Yt,sr,Jt,dt)))}}})),Jt.paused&&await new Promise(sr=>{Jt.resumeQueue.add(sr)});const rr=getCombinedResult$2(dt,await Promise.all(Zt));if(Ft&&rr.finished&&!($t&&rr.noop)){const sr=createLoopUpdate$2(et,Ft,Tt);if(sr)return prepareKeys$2(dt,[sr]),flushUpdate$2(dt,sr,!0)}return Ht&&raf$2.batchedUpdates(()=>Ht(rr,dt,dt.item)),rr}function getSprings$2(dt,et){const $t={...dt.springs};return et&&each$2(toArray$2(et),kt=>{is$2.und(kt.keys)&&(kt=createUpdate$2(kt)),is$2.obj(kt.to)||(kt={...kt,to:void 0}),prepareSprings$2($t,kt,Tt=>createSpring$2(Tt))}),setSprings$2(dt,$t),$t}function setSprings$2(dt,et){eachProp$2(et,($t,kt)=>{dt.springs[kt]||(dt.springs[kt]=$t,addFluidObserver$2($t,dt))})}function createSpring$2(dt,et){const $t=new SpringValue$2;return $t.key=dt,et&&addFluidObserver$2($t,et),$t}function prepareSprings$2(dt,et,$t){et.keys&&each$2(et.keys,kt=>{(dt[kt]||(dt[kt]=$t(kt)))._prepareNode(et)})}function prepareKeys$2(dt,et){each$2(et,$t=>{prepareSprings$2(dt.springs,$t,kt=>createSpring$2(kt,dt))})}var SpringContext$2=reactExports.createContext({pause:!1,immediate:!1}),SpringRef$2=()=>{const dt=[],et=function(kt){deprecateDirectCall$2();const Tt=[];return each$2(dt,(Dt,Ft)=>{if(is$2.und(kt))Tt.push(Dt.start());else{const Ut=$t(kt,Dt,Ft);Ut&&Tt.push(Dt.start(Ut))}}),Tt};et.current=dt,et.add=function(kt){dt.includes(kt)||dt.push(kt)},et.delete=function(kt){const Tt=dt.indexOf(kt);~Tt&&dt.splice(Tt,1)},et.pause=function(){return each$2(dt,kt=>kt.pause(...arguments)),this},et.resume=function(){return each$2(dt,kt=>kt.resume(...arguments)),this},et.set=function(kt){each$2(dt,(Tt,Dt)=>{const Ft=is$2.fun(kt)?kt(Dt,Tt):kt;Ft&&Tt.set(Ft)})},et.start=function(kt){const Tt=[];return each$2(dt,(Dt,Ft)=>{if(is$2.und(kt))Tt.push(Dt.start());else{const Ut=this._getProps(kt,Dt,Ft);Ut&&Tt.push(Dt.start(Ut))}}),Tt},et.stop=function(){return each$2(dt,kt=>kt.stop(...arguments)),this},et.update=function(kt){return each$2(dt,(Tt,Dt)=>Tt.update(this._getProps(kt,Tt,Dt))),this};const $t=function(kt,Tt,Dt){return is$2.fun(kt)?kt(Dt,Tt):kt};return et._getProps=$t,et};function useSprings$1(dt,et,$t){const kt=is$2.fun(et)&&et;kt&&!$t&&($t=[]);const Tt=reactExports.useMemo(()=>kt||arguments.length==3?SpringRef$2():void 0,[]),Dt=reactExports.useRef(0),Ft=useForceUpdate$2(),Ut=reactExports.useMemo(()=>({ctrls:[],queue:[],flush(nr,or){const lr=getSprings$2(nr,or);return Dt.current>0&&!Ut.queue.length&&!Object.keys(lr).some(dr=>!nr.springs[dr])?flushUpdateQueue$2(nr,or):new Promise(dr=>{setSprings$2(nr,lr),Ut.queue.push(()=>{dr(flushUpdateQueue$2(nr,or))}),Ft()})}}),[]),Ht=reactExports.useRef([...Ut.ctrls]),Kt=reactExports.useRef([]),Yt=usePrev$2(dt)||0;reactExports.useMemo(()=>{each$2(Ht.current.slice(dt,Yt),nr=>{detachRefs$2(nr,Tt),nr.stop(!0)}),Ht.current.length=dt,Jt(Yt,dt)},[dt]),reactExports.useMemo(()=>{Jt(0,Math.min(Yt,dt))},$t);function Jt(nr,or){for(let lr=nr;lr<or;lr++){const cr=Ht.current[lr]||(Ht.current[lr]=new Controller$2(null,Ut.flush)),dr=kt?kt(lr,cr):et[lr];dr&&(Kt.current[lr]=declareUpdate$1(dr))}}const Zt=Ht.current.map((nr,or)=>getSprings$2(nr,Kt.current[or])),er=reactExports.useContext(SpringContext$2),rr=usePrev$2(er),sr=er!==rr&&hasProps$2(er);useIsomorphicLayoutEffect$2(()=>{Dt.current++,Ut.ctrls=Ht.current;const{queue:nr}=Ut;nr.length&&(Ut.queue=[],each$2(nr,or=>or())),each$2(Ht.current,(or,lr)=>{Tt==null||Tt.add(or),sr&&or.start({default:er});const cr=Kt.current[lr];cr&&(replaceRef$2(or,cr.ref),or.ref?or.queue.push(cr):or.start(cr))})}),useOnce$2(()=>()=>{each$2(Ut.ctrls,nr=>nr.stop(!0))});const ir=Zt.map(nr=>({...nr}));return Tt?[ir,Tt]:ir}function useSpring$1(dt,et){const $t=is$2.fun(dt),[[kt],Tt]=useSprings$1(1,$t?dt:[dt],$t?et||[]:et);return $t||arguments.length==2?[kt,Tt]:kt}function useTransition$1(dt,et,$t){const kt=is$2.fun(et)&&et,{reset:Tt,sort:Dt,trail:Ft=0,expires:Ut=!0,exitBeforeEnter:Ht=!1,onDestroyed:Kt,ref:Yt,config:Jt}=kt?kt():et,Zt=reactExports.useMemo(()=>kt||arguments.length==3?SpringRef$2():void 0,[]),er=toArray$2(dt),rr=[],sr=reactExports.useRef(null),ir=Tt?null:sr.current;useIsomorphicLayoutEffect$2(()=>{sr.current=rr}),useOnce$2(()=>(each$2(rr,Pr=>{Zt==null||Zt.add(Pr.ctrl),Pr.ctrl.ref=Zt}),()=>{each$2(sr.current,Pr=>{Pr.expired&&clearTimeout(Pr.expirationId),detachRefs$2(Pr.ctrl,Zt),Pr.ctrl.stop(!0)})}));const nr=getKeys$1(er,kt?kt():et,ir),or=Tt&&sr.current||[];useIsomorphicLayoutEffect$2(()=>each$2(or,({ctrl:Pr,item:Mr,key:Rr})=>{detachRefs$2(Pr,Zt),callProp$2(Kt,Mr,Rr)}));const lr=[];if(ir&&each$2(ir,(Pr,Mr)=>{Pr.expired?(clearTimeout(Pr.expirationId),or.push(Pr)):(Mr=lr[Mr]=nr.indexOf(Pr.key),~Mr&&(rr[Mr]=Pr))}),each$2(er,(Pr,Mr)=>{rr[Mr]||(rr[Mr]={key:nr[Mr],item:Pr,phase:"mount",ctrl:new Controller$2},rr[Mr].ctrl.item=Pr)}),lr.length){let Pr=-1;const{leave:Mr}=kt?kt():et;each$2(lr,(Rr,Tr)=>{const xr=ir[Tr];~Rr?(Pr=rr.indexOf(xr),rr[Pr]={...xr,item:er[Rr]}):Mr&&rr.splice(++Pr,0,xr)})}is$2.fun(Dt)&&rr.sort((Pr,Mr)=>Dt(Pr.item,Mr.item));let cr=-Ft;const dr=useForceUpdate$2(),ur=getDefaultProps$2(et),pr=new Map,mr=reactExports.useRef(new Map),vr=reactExports.useRef(!1);each$2(rr,(Pr,Mr)=>{const Rr=Pr.key,Tr=Pr.phase,xr=kt?kt():et;let wr,zr;const Hr=callProp$2(xr.delay||0,Rr);if(Tr=="mount")wr=xr.enter,zr="enter";else{const Yr=nr.indexOf(Rr)<0;if(Tr!="leave")if(Yr)wr=xr.leave,zr="leave";else if(wr=xr.update)zr="update";else return;else if(!Yr)wr=xr.enter,zr="enter";else return}if(wr=callProp$2(wr,Pr.item,Mr),wr=is$2.obj(wr)?inferTo$2(wr):{to:wr},!wr.config){const Yr=Jt||ur.config;wr.config=callProp$2(Yr,Pr.item,Mr,zr)}cr+=Ft;const Gr={...ur,delay:Hr+cr,ref:Yt,immediate:xr.immediate,reset:!1,...wr};if(zr=="enter"&&is$2.und(Gr.from)){const Yr=kt?kt():et,es=is$2.und(Yr.initial)||ir?Yr.from:Yr.initial;Gr.from=callProp$2(es,Pr.item,Mr)}const{onResolve:Xr}=Gr;Gr.onResolve=Yr=>{callProp$2(Xr,Yr);const es=sr.current,ns=es.find(ms=>ms.key===Rr);if(ns&&!(Yr.cancelled&&ns.phase!="update")&&ns.ctrl.idle){const ms=es.every(ls=>ls.ctrl.idle);if(ns.phase=="leave"){const ls=callProp$2(Ut,ns.item);if(ls!==!1){const ds=ls===!0?0:ls;if(ns.expired=!0,!ms&&ds>0){ds<=2147483647&&(ns.expirationId=setTimeout(dr,ds));return}}}ms&&es.some(ls=>ls.expired)&&(mr.current.delete(ns),Ht&&(vr.current=!0),dr())}};const rs=getSprings$2(Pr.ctrl,Gr);zr==="leave"&&Ht?mr.current.set(Pr,{phase:zr,springs:rs,payload:Gr}):pr.set(Pr,{phase:zr,springs:rs,payload:Gr})});const kr=reactExports.useContext(SpringContext$2),br=usePrev$2(kr),_r=kr!==br&&hasProps$2(kr);useIsomorphicLayoutEffect$2(()=>{_r&&each$2(rr,Pr=>{Pr.ctrl.start({default:kr})})},[kr]),each$2(pr,(Pr,Mr)=>{if(mr.current.size){const Rr=rr.findIndex(Tr=>Tr.key===Mr.key);rr.splice(Rr,1)}}),useIsomorphicLayoutEffect$2(()=>{each$2(mr.current.size?mr.current:pr,({phase:Pr,payload:Mr},Rr)=>{const{ctrl:Tr}=Rr;Rr.phase=Pr,Zt==null||Zt.add(Tr),_r&&Pr=="enter"&&Tr.start({default:kr}),Mr&&(replaceRef$2(Tr,Mr.ref),(Tr.ref||Zt)&&!vr.current?Tr.update(Mr):(Tr.start(Mr),vr.current&&(vr.current=!1)))})},Tt?void 0:$t);const Or=Pr=>reactExports.createElement(reactExports.Fragment,null,rr.map((Mr,Rr)=>{const{springs:Tr}=pr.get(Mr)||Mr.ctrl,xr=Pr({...Tr},Mr.item,Mr,Rr),wr=is$2.str(Mr.key)||is$2.num(Mr.key)?Mr.key:Mr.ctrl.id,zr=reactExports.version<"19.0.0",Hr=(xr==null?void 0:xr.props)??{},Gr=zr?xr==null?void 0:xr.ref:Hr==null?void 0:Hr.ref;return xr&&xr.type?reactExports.createElement(xr.type,{...Hr,key:wr,ref:Gr}):xr}));return Zt?[Or,Zt]:Or}var nextKey$1=1;function getKeys$1(dt,{key:et,keys:$t=et},kt){if($t===null){const Tt=new Set;return dt.map(Dt=>{const Ft=kt&&kt.find(Ut=>Ut.item===Dt&&Ut.phase!=="leave"&&!Tt.has(Ut));return Ft?(Tt.add(Ft),Ft.key):nextKey$1++})}return is$2.und($t)?dt:is$2.fun($t)?dt.map($t):toArray$2($t)}var Interpolation$2=class extends FrameValue$2{constructor(et,$t){super(),this.source=et,this.idle=!0,this._active=new Set,this.calc=createInterpolator$2(...$t);const kt=this._get(),Tt=getAnimatedType$2(kt);setAnimated$2(this,Tt.create(kt))}advance(et){const $t=this._get(),kt=this.get();isEqual$2($t,kt)||(getAnimated$2(this).setValue($t),this._onChange($t,this.idle)),!this.idle&&checkIdle$2(this._active)&&becomeIdle$2(this)}_get(){const et=is$2.arr(this.source)?this.source.map(getFluidValue$2):toArray$2(getFluidValue$2(this.source));return this.calc(...et)}_start(){this.idle&&!checkIdle$2(this._active)&&(this.idle=!1,each$2(getPayload$2(this),et=>{et.done=!1}),globals_exports$2.skipAnimation?(raf$2.batchedUpdates(()=>this.advance()),becomeIdle$2(this)):frameLoop$2.start(this))}_attach(){let et=1;each$2(toArray$2(this.source),$t=>{hasFluidValue$2($t)&&addFluidObserver$2($t,this),isFrameValue$2($t)&&($t.idle||this._active.add($t),et=Math.max(et,$t.priority+1))}),this.priority=et,this._start()}_detach(){each$2(toArray$2(this.source),et=>{hasFluidValue$2(et)&&removeFluidObserver$2(et,this)}),this._active.clear(),becomeIdle$2(this)}eventObserved(et){et.type=="change"?et.idle?this.advance():(this._active.add(et.parent),this._start()):et.type=="idle"?this._active.delete(et.parent):et.type=="priority"&&(this.priority=toArray$2(this.source).reduce(($t,kt)=>Math.max($t,(isFrameValue$2(kt)?kt.priority:0)+1),0))}};function isIdle$2(dt){return dt.idle!==!1}function checkIdle$2(dt){return!dt.size||Array.from(dt).every(isIdle$2)}function becomeIdle$2(dt){dt.idle||(dt.idle=!0,each$2(getPayload$2(dt),et=>{et.done=!0}),callFluidObservers$2(dt,{type:"idle",parent:dt}))}globals_exports$2.assign({createStringInterpolator:createStringInterpolator2$2,to:(dt,et)=>new Interpolation$2(dt,et)});var isCustomPropRE$2=/^--/;function dangerousStyleValue$2(dt,et){return et==null||typeof et=="boolean"||et===""?"":typeof et=="number"&&et!==0&&!isCustomPropRE$2.test(dt)&&!(isUnitlessNumber$2.hasOwnProperty(dt)&&isUnitlessNumber$2[dt])?et+"px":(""+et).trim()}var attributeCache$2={};function applyAnimatedValues$2(dt,et){if(!dt.nodeType||!dt.setAttribute)return!1;const $t=dt.nodeName==="filter"||dt.parentNode&&dt.parentNode.nodeName==="filter",{className:kt,style:Tt,children:Dt,scrollTop:Ft,scrollLeft:Ut,viewBox:Ht,...Kt}=et,Yt=Object.values(Kt),Jt=Object.keys(Kt).map(Zt=>$t||dt.hasAttribute(Zt)?Zt:attributeCache$2[Zt]||(attributeCache$2[Zt]=Zt.replace(/([A-Z])/g,er=>"-"+er.toLowerCase())));Dt!==void 0&&(dt.textContent=Dt);for(const Zt in Tt)if(Tt.hasOwnProperty(Zt)){const er=dangerousStyleValue$2(Zt,Tt[Zt]);isCustomPropRE$2.test(Zt)?dt.style.setProperty(Zt,er):dt.style[Zt]=er}Jt.forEach((Zt,er)=>{dt.setAttribute(Zt,Yt[er])}),kt!==void 0&&(dt.className=kt),Ft!==void 0&&(dt.scrollTop=Ft),Ut!==void 0&&(dt.scrollLeft=Ut),Ht!==void 0&&dt.setAttribute("viewBox",Ht)}var isUnitlessNumber$2={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},prefixKey$2=(dt,et)=>dt+et.charAt(0).toUpperCase()+et.substring(1),prefixes$2=["Webkit","Ms","Moz","O"];isUnitlessNumber$2=Object.keys(isUnitlessNumber$2).reduce((dt,et)=>(prefixes$2.forEach($t=>dt[prefixKey$2($t,et)]=dt[et]),dt),isUnitlessNumber$2);var domTransforms$2=/^(matrix|translate|scale|rotate|skew)/,pxTransforms$2=/^(translate)/,degTransforms$2=/^(rotate|skew)/,addUnit$2=(dt,et)=>is$2.num(dt)&&dt!==0?dt+et:dt,isValueIdentity$2=(dt,et)=>is$2.arr(dt)?dt.every($t=>isValueIdentity$2($t,et)):is$2.num(dt)?dt===et:parseFloat(dt)===et,AnimatedStyle$2=class extends AnimatedObject$2{constructor({x:et,y:$t,z:kt,...Tt}){const Dt=[],Ft=[];(et||$t||kt)&&(Dt.push([et||0,$t||0,kt||0]),Ft.push(Ut=>[`translate3d(${Ut.map(Ht=>addUnit$2(Ht,"px")).join(",")})`,isValueIdentity$2(Ut,0)])),eachProp$2(Tt,(Ut,Ht)=>{if(Ht==="transform")Dt.push([Ut||""]),Ft.push(Kt=>[Kt,Kt===""]);else if(domTransforms$2.test(Ht)){if(delete Tt[Ht],is$2.und(Ut))return;const Kt=pxTransforms$2.test(Ht)?"px":degTransforms$2.test(Ht)?"deg":"";Dt.push(toArray$2(Ut)),Ft.push(Ht==="rotate3d"?([Yt,Jt,Zt,er])=>[`rotate3d(${Yt},${Jt},${Zt},${addUnit$2(er,Kt)})`,isValueIdentity$2(er,0)]:Yt=>[`${Ht}(${Yt.map(Jt=>addUnit$2(Jt,Kt)).join(",")})`,isValueIdentity$2(Yt,Ht.startsWith("scale")?1:0)])}}),Dt.length&&(Tt.transform=new FluidTransform$2(Dt,Ft)),super(Tt)}},FluidTransform$2=class extends FluidValue$2{constructor(et,$t){super(),this.inputs=et,this.transforms=$t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let et="",$t=!0;return each$2(this.inputs,(kt,Tt)=>{const Dt=getFluidValue$2(kt[0]),[Ft,Ut]=this.transforms[Tt](is$2.arr(Dt)?Dt:kt.map(getFluidValue$2));et+=" "+Ft,$t=$t&&Ut}),$t?"none":et}observerAdded(et){et==1&&each$2(this.inputs,$t=>each$2($t,kt=>hasFluidValue$2(kt)&&addFluidObserver$2(kt,this)))}observerRemoved(et){et==0&&each$2(this.inputs,$t=>each$2($t,kt=>hasFluidValue$2(kt)&&removeFluidObserver$2(kt,this)))}eventObserved(et){et.type=="change"&&(this._value=null),callFluidObservers$2(this,et)}},primitives$2=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];globals_exports$2.assign({batchedUpdates:reactDomExports.unstable_batchedUpdates,createStringInterpolator:createStringInterpolator2$2,colors:colors2$2});var host$2=createHost$2(primitives$2,{applyAnimatedValues:applyAnimatedValues$2,createAnimatedStyle:dt=>new AnimatedStyle$2(dt),getComponentProps:({scrollTop:dt,scrollLeft:et,...$t})=>$t}),animated$2=host$2.animated;function noop$3(){}var noop_1=noop$3,Set$1=_Set,noop$2=noop_1,setToArray$1=_setToArray,INFINITY=1/0,createSet$1=Set$1&&1/setToArray$1(new Set$1([,-0]))[1]==INFINITY?function(dt){return new Set$1(dt)}:noop$2,_createSet=createSet$1,SetCache=_SetCache,arrayIncludes=_arrayIncludes,arrayIncludesWith=_arrayIncludesWith,cacheHas=_cacheHas,createSet=_createSet,setToArray=_setToArray,LARGE_ARRAY_SIZE=200;function baseUniq$1(dt,et,$t){var kt=-1,Tt=arrayIncludes,Dt=dt.length,Ft=!0,Ut=[],Ht=Ut;if($t)Ft=!1,Tt=arrayIncludesWith;else if(Dt>=LARGE_ARRAY_SIZE){var Kt=et?null:createSet(dt);if(Kt)return setToArray(Kt);Ft=!1,Tt=cacheHas,Ht=new SetCache}else Ht=et?[]:Ut;e:for(;++kt<Dt;){var Yt=dt[kt],Jt=et?et(Yt):Yt;if(Yt=$t||Yt!==0?Yt:0,Ft&&Jt===Jt){for(var Zt=Ht.length;Zt--;)if(Ht[Zt]===Jt)continue e;et&&Ht.push(Jt),Ut.push(Yt)}else Tt(Ht,Jt,$t)||(Ht!==Ut&&Ht.push(Jt),Ut.push(Yt))}return Ut}var _baseUniq=baseUniq$1,Stack$1=_Stack,baseIsEqual$1=_baseIsEqual,COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2;function baseIsMatch$1(dt,et,$t,kt){var Tt=$t.length,Dt=Tt,Ft=!kt;if(dt==null)return!Dt;for(dt=Object(dt);Tt--;){var Ut=$t[Tt];if(Ft&&Ut[2]?Ut[1]!==dt[Ut[0]]:!(Ut[0]in dt))return!1}for(;++Tt<Dt;){Ut=$t[Tt];var Ht=Ut[0],Kt=dt[Ht],Yt=Ut[1];if(Ft&&Ut[2]){if(Kt===void 0&&!(Ht in dt))return!1}else{var Jt=new Stack$1;if(kt)var Zt=kt(Kt,Yt,Ht,dt,et,Jt);if(!(Zt===void 0?baseIsEqual$1(Yt,Kt,COMPARE_PARTIAL_FLAG$1|COMPARE_UNORDERED_FLAG$1,kt,Jt):Zt))return!1}}return!0}var _baseIsMatch=baseIsMatch$1,isObject$1=isObject_1;function isStrictComparable$2(dt){return dt===dt&&!isObject$1(dt)}var _isStrictComparable=isStrictComparable$2,isStrictComparable$1=_isStrictComparable,keys$3=keys_1;function getMatchData$1(dt){for(var et=keys$3(dt),$t=et.length;$t--;){var kt=et[$t],Tt=dt[kt];et[$t]=[kt,Tt,isStrictComparable$1(Tt)]}return et}var _getMatchData=getMatchData$1;function matchesStrictComparable$2(dt,et){return function($t){return $t==null?!1:$t[dt]===et&&(et!==void 0||dt in Object($t))}}var _matchesStrictComparable=matchesStrictComparable$2,baseIsMatch=_baseIsMatch,getMatchData=_getMatchData,matchesStrictComparable$1=_matchesStrictComparable;function baseMatches$1(dt){var et=getMatchData(dt);return et.length==1&&et[0][2]?matchesStrictComparable$1(et[0][0],et[0][1]):function($t){return $t===dt||baseIsMatch($t,dt,et)}}var _baseMatches=baseMatches$1,baseIsEqual=_baseIsEqual,get=get_1,hasIn=hasIn_1,isKey$1=_isKey,isStrictComparable=_isStrictComparable,matchesStrictComparable=_matchesStrictComparable,toKey$2=_toKey,COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseMatchesProperty$1(dt,et){return isKey$1(dt)&&isStrictComparable(et)?matchesStrictComparable(toKey$2(dt),et):function($t){var kt=get($t,dt);return kt===void 0&&kt===et?hasIn($t,dt):baseIsEqual(et,kt,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}var _baseMatchesProperty=baseMatchesProperty$1;function baseProperty$1(dt){return function(et){return et==null?void 0:et[dt]}}var _baseProperty=baseProperty$1,baseGet$2=_baseGet;function basePropertyDeep$1(dt){return function(et){return baseGet$2(et,dt)}}var _basePropertyDeep=basePropertyDeep$1,baseProperty=_baseProperty,basePropertyDeep=_basePropertyDeep,isKey=_isKey,toKey$1=_toKey;function property$1(dt){return isKey(dt)?baseProperty(toKey$1(dt)):basePropertyDeep(dt)}var property_1=property$1,baseMatches=_baseMatches,baseMatchesProperty=_baseMatchesProperty,identity$1=identity_1,isArray$3=isArray_1,property=property_1;function baseIteratee$3(dt){return typeof dt=="function"?dt:dt==null?identity$1:typeof dt=="object"?isArray$3(dt)?baseMatchesProperty(dt[0],dt[1]):baseMatches(dt):property(dt)}var _baseIteratee=baseIteratee$3,baseIteratee$2=_baseIteratee,baseUniq=_baseUniq;function uniqBy(dt,et){return dt&&dt.length?baseUniq(dt,baseIteratee$2(et)):[]}var uniqBy_1=uniqBy;const J$1=getDefaultExportFromCjs(uniqBy_1);var baseFor=_baseFor,keys$2=keys_1;function baseForOwn$1(dt,et){return dt&&baseFor(dt,et,keys$2)}var _baseForOwn=baseForOwn$1,isArrayLike$1=isArrayLike_1;function createBaseEach$1(dt,et){return function($t,kt){if($t==null)return $t;if(!isArrayLike$1($t))return dt($t,kt);for(var Tt=$t.length,Dt=et?Tt:-1,Ft=Object($t);(et?Dt--:++Dt<Tt)&&kt(Ft[Dt],Dt,Ft)!==!1;);return $t}}var _createBaseEach=createBaseEach$1,baseForOwn=_baseForOwn,createBaseEach=_createBaseEach,baseEach$2=createBaseEach(baseForOwn),_baseEach=baseEach$2,baseEach$1=_baseEach,isArrayLike=isArrayLike_1;function baseMap$1(dt,et){var $t=-1,kt=isArrayLike(dt)?Array(dt.length):[];return baseEach$1(dt,function(Tt,Dt,Ft){kt[++$t]=et(Tt,Dt,Ft)}),kt}var _baseMap=baseMap$1;function baseSortBy$1(dt,et){var $t=dt.length;for(dt.sort(et);$t--;)dt[$t]=dt[$t].value;return dt}var _baseSortBy=baseSortBy$1,isSymbol=isSymbol_1;function compareAscending$1(dt,et){if(dt!==et){var $t=dt!==void 0,kt=dt===null,Tt=dt===dt,Dt=isSymbol(dt),Ft=et!==void 0,Ut=et===null,Ht=et===et,Kt=isSymbol(et);if(!Ut&&!Kt&&!Dt&&dt>et||Dt&&Ft&&Ht&&!Ut&&!Kt||kt&&Ft&&Ht||!$t&&Ht||!Tt)return 1;if(!kt&&!Dt&&!Kt&&dt<et||Kt&&$t&&Tt&&!kt&&!Dt||Ut&&$t&&Tt||!Ft&&Tt||!Ht)return-1}return 0}var _compareAscending=compareAscending$1,compareAscending=_compareAscending;function compareMultiple$1(dt,et,$t){for(var kt=-1,Tt=dt.criteria,Dt=et.criteria,Ft=Tt.length,Ut=$t.length;++kt<Ft;){var Ht=compareAscending(Tt[kt],Dt[kt]);if(Ht){if(kt>=Ut)return Ht;var Kt=$t[kt];return Ht*(Kt=="desc"?-1:1)}}return dt.index-et.index}var _compareMultiple=compareMultiple$1,arrayMap$1=_arrayMap,baseGet$1=_baseGet,baseIteratee$1=_baseIteratee,baseMap=_baseMap,baseSortBy=_baseSortBy,baseUnary$2=_baseUnary,compareMultiple=_compareMultiple,identity=identity_1,isArray$2=isArray_1;function baseOrderBy$1(dt,et,$t){et.length?et=arrayMap$1(et,function(Dt){return isArray$2(Dt)?function(Ft){return baseGet$1(Ft,Dt.length===1?Dt[0]:Dt)}:Dt}):et=[identity];var kt=-1;et=arrayMap$1(et,baseUnary$2(baseIteratee$1));var Tt=baseMap(dt,function(Dt,Ft,Ut){var Ht=arrayMap$1(et,function(Kt){return Kt(Dt)});return{criteria:Ht,index:++kt,value:Dt}});return baseSortBy(Tt,function(Dt,Ft){return compareMultiple(Dt,Ft,$t)})}var _baseOrderBy=baseOrderBy$1,baseFlatten=_baseFlatten,baseOrderBy=_baseOrderBy,baseRest=_baseRest,isIterateeCall=_isIterateeCall;baseRest(function(dt,et){if(dt==null)return[];var $t=et.length;return $t>1&&isIterateeCall(dt,et[0],et[1])?et=[]:$t>2&&isIterateeCall(et[0],et[1],et[2])&&(et=[et[0]]),baseOrderBy(dt,baseFlatten(et,1),[])});var nodeUtil$2=_nodeUtilExports;nodeUtil$2&&nodeUtil$2.isDate;var L$2=[function(dt){return dt.setMilliseconds(0)},function(dt){return dt.setSeconds(0)},function(dt){return dt.setMinutes(0)},function(dt){return dt.setHours(0)},function(dt){return dt.setDate(1)},function(dt){return dt.setMonth(0)}],Q$1={millisecond:[],second:L$2.slice(0,1),minute:L$2.slice(0,2),hour:L$2.slice(0,3),day:L$2.slice(0,4),month:L$2.slice(0,5),year:L$2.slice(0,6)},W$2=function(dt){return function(et){return Q$1[dt].forEach(function($t){$t(et)}),et}},X$1=function(dt){var et=dt.format,$t=et===void 0?"native":et,kt=dt.precision,Tt=kt===void 0?"millisecond":kt,Dt=dt.useUTC,Ft=Dt===void 0||Dt,Ut=W$2(Tt);return function(Ht){if(Ht===void 0)return Ht;if($t==="native"||Ht instanceof Date)return Ut(Ht);var Kt=Ft?utcParse($t):timeParse($t);return Ut(Kt(Ht))}},Y$1={type:"linear",min:0,max:"auto",stacked:!1,reverse:!1,clamp:!1,nice:!0,round:!1},Z$1=function(dt,et,$t,kt){var Tt,Dt,Ft,Ut,Ht=dt.min,Kt=Ht===void 0?Y$1.min:Ht,Yt=dt.max,Jt=Yt===void 0?Y$1.max:Yt,Zt=dt.stacked,er=Zt===void 0?Y$1.stacked:Zt,rr=dt.reverse,sr=rr===void 0?Y$1.reverse:rr,ir=dt.clamp,nr=ir===void 0?Y$1.clamp:ir,or=dt.nice,lr=or===void 0?Y$1.nice:or,cr=dt.round,dr=cr===void 0?Y$1.round:cr;Kt==="auto"?Tt=er===!0?(Dt=et.minStacked)!=null?Dt:0:et.min:Tt=Kt,Jt==="auto"?Ft=er===!0?(Ut=et.maxStacked)!=null?Ut:0:et.max:Ft=Jt;var ur=linear().range(kt==="x"?[0,$t]:[$t,0]).interpolate(dr?v$2:p$2).domain(sr?[Ft,Tt]:[Tt,Ft]).clamp(nr);return lr===!0?ur.nice():typeof lr=="number"&&ur.nice(lr),_(ur,er)},_=function(dt,et){et===void 0&&(et=!1);var $t=dt;return $t.type="linear",$t.stacked=et,$t},nn=function(dt,et,$t){var kt=point().range([0,$t]).domain(et.all);return kt.type="point",kt},en={type:"band",round:!1},rn=function(dt,et,$t,kt){var Tt=dt.round,Dt=Tt===void 0?en.round:Tt,Ft=band().range(kt==="x"?[0,$t]:[$t,0]).domain(et.all).round(Dt);return an(Ft)},an=function(dt){var et=dt;return et.type="band",et},on={type:"time",format:"native",precision:"millisecond",min:"auto",max:"auto",useUTC:!0,nice:!1},un=function(dt,et,$t){var kt,Tt,Dt=dt.format,Ft=Dt===void 0?on.format:Dt,Ut=dt.precision,Ht=Ut===void 0?on.precision:Ut,Kt=dt.min,Yt=Kt===void 0?on.min:Kt,Jt=dt.max,Zt=Jt===void 0?on.max:Jt,er=dt.useUTC,rr=er===void 0?on.useUTC:er,sr=dt.nice,ir=sr===void 0?on.nice:sr,nr=X$1({format:Ft,precision:Ht,useUTC:rr});kt=Yt==="auto"?nr(et.min):Ft!=="native"?nr(Yt):Yt,Tt=Zt==="auto"?nr(et.max):Ft!=="native"?nr(Zt):Zt;var or=rr?utcTime():time();or.range([0,$t]),kt&&Tt&&or.domain([kt,Tt]),ir===!0?or.nice():typeof ir!="object"&&typeof ir!="number"||or.nice(ir);var lr=or;return lr.type="time",lr.useUTC=rr,lr},cn={type:"log",base:10,min:"auto",max:"auto",round:!1,reverse:!1,nice:!0},sn=function(dt,et,$t,kt){var Tt,Dt=dt.base,Ft=Dt===void 0?cn.base:Dt,Ut=dt.min,Ht=Ut===void 0?cn.min:Ut,Kt=dt.max,Yt=Kt===void 0?cn.max:Kt,Jt=dt.round,Zt=Jt===void 0?cn.round:Jt,er=dt.reverse,rr=er===void 0?cn.reverse:er,sr=dt.nice,ir=sr===void 0?cn.nice:sr;if(et.all.some(function(pr){return pr===0}))throw new Error("a log scale domain must not include or cross zero");var nr,or,lr=!1;if(et.all.filter(function(pr){return pr!=null}).forEach(function(pr){lr||(Tt===void 0?Tt=Math.sign(pr):Math.sign(pr)!==Tt&&(lr=!0))}),lr)throw new Error("a log scale domain must be strictly-positive or strictly-negative");nr=Ht==="auto"?et.min:Ht,or=Yt==="auto"?et.max:Yt;var cr=log().base(Ft),dr=kt==="x"?[0,$t]:[$t,0];Zt===!0?cr.rangeRound(dr):cr.range(dr),rr===!0?cr.domain([or,nr]):cr.domain([nr,or]),ir===!0?cr.nice():typeof ir=="number"&&cr.nice(ir);var ur=cr;return ur.type="log",ur},dn={type:"symlog",constant:1,min:"auto",max:"auto",round:!1,reverse:!1,nice:!0},mn=function(dt,et,$t,kt){var Tt,Dt,Ft=dt.constant,Ut=Ft===void 0?dn.constant:Ft,Ht=dt.min,Kt=Ht===void 0?dn.min:Ht,Yt=dt.max,Jt=Yt===void 0?dn.max:Yt,Zt=dt.round,er=Zt===void 0?dn.round:Zt,rr=dt.reverse,sr=rr===void 0?dn.reverse:rr,ir=dt.nice,nr=ir===void 0?dn.nice:ir;Tt=Kt==="auto"?et.min:Kt,Dt=Jt==="auto"?et.max:Jt;var or=symlog().constant(Ut),lr=kt==="x"?[0,$t]:[$t,0];er===!0?or.rangeRound(lr):or.range(lr),sr===!0?or.domain([Dt,Tt]):or.domain([Tt,Dt]),nr===!0?or.nice():typeof nr=="number"&&or.nice(nr);var cr=or;return cr.type="symlog",cr};function pn(dt,et,$t,kt){switch(dt.type){case"linear":return Z$1(dt,et,$t,kt);case"point":return nn(0,et,$t);case"band":return rn(dt,et,$t,kt);case"time":return un(dt,et,$t);case"log":return sn(dt,et,$t,kt);case"symlog":return mn(dt,et,$t,kt);default:throw new Error("invalid scale spec")}}var Mn=function(dt){var et=dt.bandwidth();if(et===0)return dt;var $t=et/2;return dt.round()&&($t=Math.round($t)),function(kt){var Tt;return((Tt=dt(kt))!=null?Tt:0)+$t}},wn={millisecond:[g$1,g$1],second:[k$3,k$3],minute:[T$2,b$3],hour:[M$1,w$3],day:[newInterval(function(dt){return dt.setHours(0,0,0,0)},function(dt,et){return dt.setDate(dt.getDate()+et)},function(dt,et){return(et.getTime()-dt.getTime())/864e5},function(dt){return Math.floor(dt.getTime()/864e5)}),newInterval(function(dt){return dt.setUTCHours(0,0,0,0)},function(dt,et){return dt.setUTCDate(dt.getUTCDate()+et)},function(dt,et){return(et.getTime()-dt.getTime())/864e5},function(dt){return Math.floor(dt.getTime()/864e5)})],week:[sunday,utcSunday],sunday:[sunday,utcSunday],monday:[monday,utcMonday],tuesday:[tuesday,utcTuesday],wednesday:[wednesday,utcWednesday],thursday:[thursday,utcThursday],friday:[friday,utcFriday],saturday:[saturday,utcSaturday],month:[I$1,P$1],year:[$$1,G]},En=Object.keys(wn),Sn=new RegExp("^every\\s*(\\d+)?\\s*("+En.join("|")+")s?$","i"),Cn=function(dt,et){if(Array.isArray(et))return et;if(typeof et=="string"&&"useUTC"in dt){var $t=et.match(Sn);if($t){var kt=$t[1],Tt=$t[2],Dt=wn[Tt][dt.useUTC?1:0];if(Tt==="day"){var Ft,Ut,Ht=dt.domain(),Kt=Ht[0],Yt=Ht[1],Jt=new Date(Yt);return Jt.setDate(Jt.getDate()+1),(Ft=(Ut=Dt.every(Number(kt??1)))==null?void 0:Ut.range(Kt,Jt))!=null?Ft:[]}if(kt===void 0)return dt.ticks(Dt);var Zt=Dt.every(Number(kt));if(Zt)return dt.ticks(Zt)}throw new Error("Invalid tickValues: "+et)}if("ticks"in dt){if(et===void 0)return dt.ticks();if(typeof(er=et)=="number"&&isFinite(er)&&Math.floor(er)===er)return dt.ticks(et)}var er;return dt.domain()};function A$1(){return A$1=Object.assign?Object.assign.bind():function(dt){for(var et=1;et<arguments.length;et++){var $t=arguments[et];for(var kt in $t)({}).hasOwnProperty.call($t,kt)&&(dt[kt]=$t[kt])}return dt},A$1.apply(null,arguments)}var T$1=function(dt){var et,$t=dt.axis,kt=dt.scale,Tt=dt.ticksPosition,Dt=dt.tickValues,Ft=dt.tickSize,Ut=dt.tickPadding,Ht=dt.tickRotation,Kt=dt.truncateTickAt,Yt=dt.engine,Jt=Yt===void 0?"svg":Yt,Zt=Cn(kt,Dt),er=gt[Jt],rr="bandwidth"in kt?Mn(kt):kt,sr={lineX:0,lineY:0},ir={textX:0,textY:0},nr=typeof document=="object"&&document.dir==="rtl",or=er.align.center,lr=er.baseline.center;return $t==="x"?(et=function(cr){var dr;return{x:(dr=rr(cr))!=null?dr:0,y:0}},sr.lineY=Ft*(Tt==="after"?1:-1),ir.textY=(Ft+Ut)*(Tt==="after"?1:-1),lr=Tt==="after"?er.baseline.top:er.baseline.bottom,Ht===0?or=er.align.center:Tt==="after"&&Ht<0||Tt==="before"&&Ht>0?(or=er.align[nr?"left":"right"],lr=er.baseline.center):(Tt==="after"&&Ht>0||Tt==="before"&&Ht<0)&&(or=er.align[nr?"right":"left"],lr=er.baseline.center)):(et=function(cr){var dr;return{x:0,y:(dr=rr(cr))!=null?dr:0}},sr.lineX=Ft*(Tt==="after"?1:-1),ir.textX=(Ft+Ut)*(Tt==="after"?1:-1),or=Tt==="after"?er.align.left:er.align.right),{ticks:Zt.map(function(cr){var dr=typeof cr=="string"?function(ur){var pr=String(ur).length;return Kt&&Kt>0&&pr>Kt?""+String(ur).slice(0,Kt).concat("..."):""+ur}(cr):cr;return A$1({key:cr instanceof Date?""+cr.valueOf():""+cr,value:dr},et(cr),sr,ir)}),textAlign:or,textBaseline:lr}},w$1=function(dt,et){if(dt===void 0||typeof dt=="function")return dt;if(et.type==="time"){var $t=timeFormat(dt);return function(kt){return $t(kt instanceof Date?kt:new Date(kt))}}return format(dt)},O$2=function(dt){var et,$t=dt.width,kt=dt.height,Tt=dt.scale,Dt=dt.axis,Ft=dt.values,Ut=(et=Ft,(Array.isArray(et)?Ft:void 0)||Cn(Tt,Ft)),Ht="bandwidth"in Tt?Mn(Tt):Tt,Kt=Dt==="x"?Ut.map(function(Yt){var Jt,Zt;return{key:Yt instanceof Date?""+Yt.valueOf():""+Yt,x1:(Jt=Ht(Yt))!=null?Jt:0,x2:(Zt=Ht(Yt))!=null?Zt:0,y1:0,y2:kt}}):Ut.map(function(Yt){var Jt,Zt;return{key:Yt instanceof Date?""+Yt.valueOf():""+Yt,x1:0,x2:$t,y1:(Jt=Ht(Yt))!=null?Jt:0,y2:(Zt=Ht(Yt))!=null?Zt:0}});return Kt},X=reactExports.memo(function(dt){var et,$t=dt.value,kt=dt.format,Tt=dt.lineX,Dt=dt.lineY,Ft=dt.onClick,Ut=dt.textBaseline,Ht=dt.textAnchor,Kt=dt.theme,Yt=dt.animatedProps,Jt=(et=kt==null?void 0:kt($t))!=null?et:$t,Zt=reactExports.useMemo(function(){var er={opacity:Yt.opacity};return Ft?{style:A$1({},er,{cursor:"pointer"}),onClick:function(rr){return Ft(rr,Jt)}}:{style:er}},[Yt.opacity,Ft,Jt]);return jsxRuntimeExports.jsxs(animated$2.g,A$1({transform:Yt.transform},Zt,{children:[jsxRuntimeExports.jsx("line",{x1:0,x2:Tt,y1:0,y2:Dt,style:Kt.line}),jsxRuntimeExports.jsx(b$2,{dominantBaseline:Ut,textAnchor:Ht,transform:Yt.textTransform,style:Kt.text,children:""+Jt})]}))}),Y={tickSize:5,tickPadding:5,tickRotation:0,legendPosition:"middle",legendOffset:0},B$1=function(dt){var et=dt.axis,$t=dt.scale,kt=dt.x,Tt=kt===void 0?0:kt,Dt=dt.y,Ft=Dt===void 0?0:Dt,Ut=dt.length,Ht=dt.ticksPosition,Kt=dt.tickValues,Yt=dt.tickSize,Jt=Yt===void 0?Y.tickSize:Yt,Zt=dt.tickPadding,er=Zt===void 0?Y.tickPadding:Zt,rr=dt.tickRotation,sr=rr===void 0?Y.tickRotation:rr,ir=dt.format,nr=dt.renderTick,or=nr===void 0?X:nr,lr=dt.truncateTickAt,cr=dt.legend,dr=dt.legendPosition,ur=dr===void 0?Y.legendPosition:dr,pr=dt.legendOffset,mr=pr===void 0?Y.legendOffset:pr,vr=dt.style,kr=dt.onClick,br=dt.ariaHidden,_r=M$3(),Or=w$5(_r.axis,vr),Pr=reactExports.useMemo(function(){return w$1(ir,$t)},[ir,$t]),Mr=T$1({axis:et,scale:$t,ticksPosition:Ht,tickValues:Kt,tickSize:Jt,tickPadding:er,tickRotation:sr,truncateTickAt:lr}),Rr=Mr.ticks,Tr=Mr.textAlign,xr=Mr.textBaseline,wr=null;if(cr!==void 0){var zr,Hr=0,Gr=0,Xr=0;et==="y"?(Xr=-90,Hr=mr,ur==="start"?(zr="start",Gr=Ut):ur==="middle"?(zr="middle",Gr=Ut/2):ur==="end"&&(zr="end")):(Gr=mr,ur==="start"?zr="start":ur==="middle"?(zr="middle",Hr=Ut/2):ur==="end"&&(zr="end",Hr=Ut)),wr=jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(b$2,{transform:"translate("+Hr+", "+Gr+") rotate("+Xr+")",textAnchor:zr,style:A$1({},Or.legend.text,{dominantBaseline:"central"}),children:cr})})}var rs=Dr(),Yr=rs.animate,es=rs.config,ns=useSpring$1({transform:"translate("+Tt+","+Ft+")",lineX2:et==="x"?Ut:0,lineY2:et==="x"?0:Ut,config:es,immediate:!Yr}),ms=reactExports.useCallback(function(fs){return{opacity:1,transform:"translate("+fs.x+","+fs.y+")",textTransform:"translate("+fs.textX+","+fs.textY+") rotate("+sr+")"}},[sr]),ls=reactExports.useCallback(function(fs){return{opacity:0,transform:"translate("+fs.x+","+fs.y+")",textTransform:"translate("+fs.textX+","+fs.textY+") rotate("+sr+")"}},[sr]),ds=useTransition$1(Rr,{keys:function(fs){return fs.key},initial:ms,from:ls,enter:ms,update:ms,leave:{opacity:0},config:es,immediate:!Yr});return jsxRuntimeExports.jsxs(animated$2.g,{transform:ns.transform,"aria-hidden":br,children:[ds(function(fs,cs,xs,us){return reactExports.createElement(or,A$1({tickIndex:us,format:Pr,rotate:sr,textBaseline:xr,textAnchor:Tr,truncateTickAt:lr,animatedProps:fs,theme:Or.ticks},cs,kr?{onClick:kr}:{}))}),jsxRuntimeExports.jsx(animated$2.line,{style:Or.domain.line,x1:0,x2:ns.lineX2,y1:0,y2:ns.lineY2}),wr]})},z$2=reactExports.memo(B$1),R$1=["top","right","bottom","left"],V=reactExports.memo(function(dt){var et=dt.xScale,$t=dt.yScale,kt=dt.width,Tt=dt.height,Dt={top:dt.top,right:dt.right,bottom:dt.bottom,left:dt.left};return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:R$1.map(function(Ft){var Ut=Dt[Ft];if(!Ut)return null;var Ht=Ft==="top"||Ft==="bottom";return jsxRuntimeExports.jsx(z$2,A$1({},Ut,{axis:Ht?"x":"y",x:Ft==="right"?kt:0,y:Ft==="bottom"?Tt:0,scale:Ht?et:$t,length:Ht?kt:Tt,ticksPosition:Ft==="top"||Ft==="left"?"before":"after",truncateTickAt:Ut.truncateTickAt}),Ft)})})}),C$2=reactExports.memo(function(dt){var et=dt.animatedProps,$t=M$3();return jsxRuntimeExports.jsx(animated$2.line,A$1({},et,$t.grid.line))}),D$1=reactExports.memo(function(dt){var et=dt.lines,$t=Dr(),kt=$t.animate,Tt=$t.config,Dt=useTransition$1(et,{keys:function(Ft){return Ft.key},initial:function(Ft){return{opacity:1,x1:Ft.x1,x2:Ft.x2,y1:Ft.y1,y2:Ft.y2}},from:function(Ft){return{opacity:0,x1:Ft.x1,x2:Ft.x2,y1:Ft.y1,y2:Ft.y2}},enter:function(Ft){return{opacity:1,x1:Ft.x1,x2:Ft.x2,y1:Ft.y1,y2:Ft.y2}},update:function(Ft){return{opacity:1,x1:Ft.x1,x2:Ft.x2,y1:Ft.y1,y2:Ft.y2}},leave:{opacity:0},config:Tt,immediate:!kt});return jsxRuntimeExports.jsx("g",{children:Dt(function(Ft,Ut){return reactExports.createElement(C$2,A$1({},Ut,{key:Ut.key,animatedProps:Ft}))})})}),j$2=reactExports.memo(function(dt){var et=dt.width,$t=dt.height,kt=dt.xScale,Tt=dt.yScale,Dt=dt.xValues,Ft=dt.yValues,Ut=reactExports.useMemo(function(){return!!kt&&O$2({width:et,height:$t,scale:kt,axis:"x",values:Dt})},[kt,Dt,et,$t]),Ht=reactExports.useMemo(function(){return!!Tt&&O$2({width:et,height:$t,scale:Tt,axis:"y",values:Ft})},[$t,et,Tt,Ft]);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Ut&&jsxRuntimeExports.jsx(D$1,{lines:Ut}),Ht&&jsxRuntimeExports.jsx(D$1,{lines:Ht})]})}),E$2=function(dt,et){var $t,kt,Tt=et.axis,Dt=et.scale,Ft=et.x,Ut=Ft===void 0?0:Ft,Ht=et.y,Kt=Ht===void 0?0:Ht,Yt=et.length,Jt=et.ticksPosition,Zt=et.tickValues,er=et.tickSize,rr=er===void 0?Y.tickSize:er,sr=et.tickPadding,ir=sr===void 0?Y.tickPadding:sr,nr=et.tickRotation,or=nr===void 0?Y.tickRotation:nr,lr=et.format,cr=et.legend,dr=et.legendPosition,ur=dr===void 0?Y.legendPosition:dr,pr=et.legendOffset,mr=pr===void 0?Y.legendOffset:pr,vr=et.theme,kr=et.style,br=T$1({axis:Tt,scale:Dt,ticksPosition:Jt,tickValues:Zt,tickSize:rr,tickPadding:ir,tickRotation:or,engine:"canvas"}),_r=br.ticks,Or=br.textAlign,Pr=br.textBaseline;dt.save(),dt.translate(Ut,Kt);var Mr=R$2(vr.axis,kr);dt.textAlign=Or,dt.textBaseline=Pr,a$1(dt,Mr.ticks.text);var Rr=($t=Mr.domain.line.strokeWidth)!=null?$t:0;typeof Rr!="string"&&Rr>0&&(dt.lineWidth=Rr,dt.lineCap="square",Mr.domain.line.stroke&&(dt.strokeStyle=Mr.domain.line.stroke),dt.beginPath(),dt.moveTo(0,0),dt.lineTo(Tt==="x"?Yt:0,Tt==="x"?0:Yt),dt.stroke());var Tr=typeof lr=="function"?lr:function(rs){return""+rs},xr=(kt=Mr.ticks.line.strokeWidth)!=null?kt:0,wr=typeof xr!="string"&&xr>0;if(_r.forEach(function(rs){wr&&(dt.lineWidth=xr,dt.lineCap="square",Mr.ticks.line.stroke&&(dt.strokeStyle=Mr.ticks.line.stroke),dt.beginPath(),dt.moveTo(rs.x,rs.y),dt.lineTo(rs.x+rs.lineX,rs.y+rs.lineY),dt.stroke());var Yr=Tr(rs.value);dt.save(),dt.translate(rs.x+rs.textX,rs.y+rs.textY),dt.rotate(ut(or)),d(dt,Mr.ticks.text,""+Yr),dt.fillText(""+Yr,0,0),dt.restore()}),cr!==void 0){var zr=0,Hr=0,Gr=0,Xr="center";Tt==="y"?(Gr=-90,zr=mr,ur==="start"?(Xr="start",Hr=Yt):ur==="middle"?(Xr="center",Hr=Yt/2):ur==="end"&&(Xr="end")):(Hr=mr,ur==="start"?Xr="start":ur==="middle"?(Xr="center",zr=Yt/2):ur==="end"&&(Xr="end",zr=Yt)),dt.translate(zr,Hr),dt.rotate(ut(Gr)),a$1(dt,Mr.legend.text),Mr.legend.text.fill&&(dt.fillStyle=Mr.legend.text.fill),dt.textAlign=Xr,dt.textBaseline="middle",d(dt,Mr.legend.text,cr)}dt.restore()},W$1=function(dt,et){var $t=et.xScale,kt=et.yScale,Tt=et.width,Dt=et.height,Ft=et.top,Ut=et.right,Ht=et.bottom,Kt=et.left,Yt=et.theme,Jt={top:Ft,right:Ut,bottom:Ht,left:Kt};R$1.forEach(function(Zt){var er=Jt[Zt];if(!er)return null;var rr=Zt==="top"||Zt==="bottom",sr=Zt==="top"||Zt==="left"?"before":"after",ir=rr?$t:kt,nr=w$1(er.format,ir);E$2(dt,A$1({},er,{axis:rr?"x":"y",x:Zt==="right"?Tt:0,y:Zt==="bottom"?Dt:0,scale:ir,format:nr,length:rr?Tt:Dt,ticksPosition:sr,theme:Yt}))})},q$1=function(dt,et){var $t=et.width,kt=et.height,Tt=et.scale,Dt=et.axis,Ft=et.values;O$2({width:$t,height:kt,scale:Tt,axis:Dt,values:Ft}).forEach(function(Ut){dt.beginPath(),dt.moveTo(Ut.x1,Ut.y1),dt.lineTo(Ut.x2,Ut.y2),dt.stroke()})},updateQueue$1=makeQueue$1(),raf$1=dt=>schedule$1(dt,updateQueue$1),writeQueue$1=makeQueue$1();raf$1.write=dt=>schedule$1(dt,writeQueue$1);var onStartQueue$1=makeQueue$1();raf$1.onStart=dt=>schedule$1(dt,onStartQueue$1);var onFrameQueue$1=makeQueue$1();raf$1.onFrame=dt=>schedule$1(dt,onFrameQueue$1);var onFinishQueue$1=makeQueue$1();raf$1.onFinish=dt=>schedule$1(dt,onFinishQueue$1);var timeouts$1=[];raf$1.setTimeout=(dt,et)=>{const $t=raf$1.now()+et,kt=()=>{const Dt=timeouts$1.findIndex(Ft=>Ft.cancel==kt);~Dt&&timeouts$1.splice(Dt,1),pendingCount$1-=~Dt?1:0},Tt={time:$t,handler:dt,cancel:kt};return timeouts$1.splice(findTimeout$1($t),0,Tt),pendingCount$1+=1,start$1(),Tt};var findTimeout$1=dt=>~(~timeouts$1.findIndex(et=>et.time>dt)||~timeouts$1.length);raf$1.cancel=dt=>{onStartQueue$1.delete(dt),onFrameQueue$1.delete(dt),onFinishQueue$1.delete(dt),updateQueue$1.delete(dt),writeQueue$1.delete(dt)};raf$1.sync=dt=>{sync$1=!0,raf$1.batchedUpdates(dt),sync$1=!1};raf$1.throttle=dt=>{let et;function $t(){try{dt(...et)}finally{et=null}}function kt(...Tt){et=Tt,raf$1.onStart($t)}return kt.handler=dt,kt.cancel=()=>{onStartQueue$1.delete($t),et=null},kt};var nativeRaf$1=typeof window<"u"?window.requestAnimationFrame:()=>{};raf$1.use=dt=>nativeRaf$1=dt;raf$1.now=typeof performance<"u"?()=>performance.now():Date.now;raf$1.batchedUpdates=dt=>dt();raf$1.catch=console.error;raf$1.frameLoop="always";raf$1.advance=()=>{raf$1.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):update$1()};var ts$1=-1,pendingCount$1=0,sync$1=!1;function schedule$1(dt,et){sync$1?(et.delete(dt),dt(0)):(et.add(dt),start$1())}function start$1(){ts$1<0&&(ts$1=0,raf$1.frameLoop!=="demand"&&nativeRaf$1(loop$1))}function stop$1(){ts$1=-1}function loop$1(){~ts$1&&(nativeRaf$1(loop$1),raf$1.batchedUpdates(update$1))}function update$1(){const dt=ts$1;ts$1=raf$1.now();const et=findTimeout$1(ts$1);if(et&&(eachSafely$1(timeouts$1.splice(0,et),$t=>$t.handler()),pendingCount$1-=et),!pendingCount$1){stop$1();return}onStartQueue$1.flush(),updateQueue$1.flush(dt?Math.min(64,ts$1-dt):16.667),onFrameQueue$1.flush(),writeQueue$1.flush(),onFinishQueue$1.flush()}function makeQueue$1(){let dt=new Set,et=dt;return{add($t){pendingCount$1+=et==dt&&!dt.has($t)?1:0,dt.add($t)},delete($t){return pendingCount$1-=et==dt&&dt.has($t)?1:0,dt.delete($t)},flush($t){et.size&&(dt=new Set,pendingCount$1-=et.size,eachSafely$1(et,kt=>kt($t)&&dt.add(kt)),pendingCount$1+=dt.size,et=dt)}}}function eachSafely$1(dt,et){dt.forEach($t=>{try{et($t)}catch(kt){raf$1.catch(kt)}})}var __defProp$1=Object.defineProperty,__export$1=(dt,et)=>{for(var $t in et)__defProp$1(dt,$t,{get:et[$t],enumerable:!0})},globals_exports$1={};__export$1(globals_exports$1,{assign:()=>assign$1,colors:()=>colors$1,createStringInterpolator:()=>createStringInterpolator$1,skipAnimation:()=>skipAnimation$1,to:()=>to$2,willAdvance:()=>willAdvance$1});function noop$1(){}var defineHidden$1=(dt,et,$t)=>Object.defineProperty(dt,et,{value:$t,writable:!0,configurable:!0}),is$1={arr:Array.isArray,obj:dt=>!!dt&&dt.constructor.name==="Object",fun:dt=>typeof dt=="function",str:dt=>typeof dt=="string",num:dt=>typeof dt=="number",und:dt=>dt===void 0};function isEqual$1(dt,et){if(is$1.arr(dt)){if(!is$1.arr(et)||dt.length!==et.length)return!1;for(let $t=0;$t<dt.length;$t++)if(dt[$t]!==et[$t])return!1;return!0}return dt===et}var each$1=(dt,et)=>dt.forEach(et);function eachProp$1(dt,et,$t){if(is$1.arr(dt)){for(let kt=0;kt<dt.length;kt++)et.call($t,dt[kt],`${kt}`);return}for(const kt in dt)dt.hasOwnProperty(kt)&&et.call($t,dt[kt],kt)}var toArray$1=dt=>is$1.und(dt)?[]:is$1.arr(dt)?dt:[dt];function flush$1(dt,et){if(dt.size){const $t=Array.from(dt);dt.clear(),each$1($t,et)}}var flushCalls$1=(dt,...et)=>flush$1(dt,$t=>$t(...et)),isSSR$1=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),createStringInterpolator$1,to$2,colors$1=null,skipAnimation$1=!1,willAdvance$1=noop$1,assign$1=dt=>{dt.to&&(to$2=dt.to),dt.now&&(raf$1.now=dt.now),dt.colors!==void 0&&(colors$1=dt.colors),dt.skipAnimation!=null&&(skipAnimation$1=dt.skipAnimation),dt.createStringInterpolator&&(createStringInterpolator$1=dt.createStringInterpolator),dt.requestAnimationFrame&&raf$1.use(dt.requestAnimationFrame),dt.batchedUpdates&&(raf$1.batchedUpdates=dt.batchedUpdates),dt.willAdvance&&(willAdvance$1=dt.willAdvance),dt.frameLoop&&(raf$1.frameLoop=dt.frameLoop)},startQueue$1=new Set,currentFrame$1=[],prevFrame$1=[],priority$1=0,frameLoop$1={get idle(){return!startQueue$1.size&&!currentFrame$1.length},start(dt){priority$1>dt.priority?(startQueue$1.add(dt),raf$1.onStart(flushStartQueue$1)):(startSafely$1(dt),raf$1(advance$1))},advance:advance$1,sort(dt){if(priority$1)raf$1.onFrame(()=>frameLoop$1.sort(dt));else{const et=currentFrame$1.indexOf(dt);~et&&(currentFrame$1.splice(et,1),startUnsafely$1(dt))}},clear(){currentFrame$1=[],startQueue$1.clear()}};function flushStartQueue$1(){startQueue$1.forEach(startSafely$1),startQueue$1.clear(),raf$1(advance$1)}function startSafely$1(dt){currentFrame$1.includes(dt)||startUnsafely$1(dt)}function startUnsafely$1(dt){currentFrame$1.splice(findIndex$1(currentFrame$1,et=>et.priority>dt.priority),0,dt)}function advance$1(dt){const et=prevFrame$1;for(let $t=0;$t<currentFrame$1.length;$t++){const kt=currentFrame$1[$t];priority$1=kt.priority,kt.idle||(willAdvance$1(kt),kt.advance(dt),kt.idle||et.push(kt))}return priority$1=0,prevFrame$1=currentFrame$1,prevFrame$1.length=0,currentFrame$1=et,currentFrame$1.length>0}function findIndex$1(dt,et){const $t=dt.findIndex(et);return $t<0?dt.length:$t}var clamp$1=(dt,et,$t)=>Math.min(Math.max($t,dt),et),colors2$1={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},NUMBER$1="[-+]?\\d*\\.?\\d+",PERCENTAGE$1=NUMBER$1+"%";function call$1(...dt){return"\\(\\s*("+dt.join(")\\s*,\\s*(")+")\\s*\\)"}var rgb$1=new RegExp("rgb"+call$1(NUMBER$1,NUMBER$1,NUMBER$1)),rgba$1=new RegExp("rgba"+call$1(NUMBER$1,NUMBER$1,NUMBER$1,NUMBER$1)),hsl$1=new RegExp("hsl"+call$1(NUMBER$1,PERCENTAGE$1,PERCENTAGE$1)),hsla$1=new RegExp("hsla"+call$1(NUMBER$1,PERCENTAGE$1,PERCENTAGE$1,NUMBER$1)),hex3$1=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex4$1=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6$1=/^#([0-9a-fA-F]{6})$/,hex8$1=/^#([0-9a-fA-F]{8})$/;function normalizeColor$1(dt){let et;return typeof dt=="number"?dt>>>0===dt&&dt>=0&&dt<=4294967295?dt:null:(et=hex6$1.exec(dt))?parseInt(et[1]+"ff",16)>>>0:colors$1&&colors$1[dt]!==void 0?colors$1[dt]:(et=rgb$1.exec(dt))?(parse255$1(et[1])<<24|parse255$1(et[2])<<16|parse255$1(et[3])<<8|255)>>>0:(et=rgba$1.exec(dt))?(parse255$1(et[1])<<24|parse255$1(et[2])<<16|parse255$1(et[3])<<8|parse1$1(et[4]))>>>0:(et=hex3$1.exec(dt))?parseInt(et[1]+et[1]+et[2]+et[2]+et[3]+et[3]+"ff",16)>>>0:(et=hex8$1.exec(dt))?parseInt(et[1],16)>>>0:(et=hex4$1.exec(dt))?parseInt(et[1]+et[1]+et[2]+et[2]+et[3]+et[3]+et[4]+et[4],16)>>>0:(et=hsl$1.exec(dt))?(hslToRgb$1(parse360$1(et[1]),parsePercentage$1(et[2]),parsePercentage$1(et[3]))|255)>>>0:(et=hsla$1.exec(dt))?(hslToRgb$1(parse360$1(et[1]),parsePercentage$1(et[2]),parsePercentage$1(et[3]))|parse1$1(et[4]))>>>0:null}function hue2rgb$1(dt,et,$t){return $t<0&&($t+=1),$t>1&&($t-=1),$t<1/6?dt+(et-dt)*6*$t:$t<1/2?et:$t<2/3?dt+(et-dt)*(2/3-$t)*6:dt}function hslToRgb$1(dt,et,$t){const kt=$t<.5?$t*(1+et):$t+et-$t*et,Tt=2*$t-kt,Dt=hue2rgb$1(Tt,kt,dt+1/3),Ft=hue2rgb$1(Tt,kt,dt),Ut=hue2rgb$1(Tt,kt,dt-1/3);return Math.round(Dt*255)<<24|Math.round(Ft*255)<<16|Math.round(Ut*255)<<8}function parse255$1(dt){const et=parseInt(dt,10);return et<0?0:et>255?255:et}function parse360$1(dt){return(parseFloat(dt)%360+360)%360/360}function parse1$1(dt){const et=parseFloat(dt);return et<0?0:et>1?255:Math.round(et*255)}function parsePercentage$1(dt){const et=parseFloat(dt);return et<0?0:et>100?1:et/100}function colorToRgba$1(dt){let et=normalizeColor$1(dt);if(et===null)return dt;et=et||0;const $t=(et&4278190080)>>>24,kt=(et&16711680)>>>16,Tt=(et&65280)>>>8,Dt=(et&255)/255;return`rgba(${$t}, ${kt}, ${Tt}, ${Dt})`}var createInterpolator$1=(dt,et,$t)=>{if(is$1.fun(dt))return dt;if(is$1.arr(dt))return createInterpolator$1({range:dt,output:et,extrapolate:$t});if(is$1.str(dt.output[0]))return createStringInterpolator$1(dt);const kt=dt,Tt=kt.output,Dt=kt.range||[0,1],Ft=kt.extrapolateLeft||kt.extrapolate||"extend",Ut=kt.extrapolateRight||kt.extrapolate||"extend",Ht=kt.easing||(Kt=>Kt);return Kt=>{const Yt=findRange$1(Kt,Dt);return interpolate$1(Kt,Dt[Yt],Dt[Yt+1],Tt[Yt],Tt[Yt+1],Ht,Ft,Ut,kt.map)}};function interpolate$1(dt,et,$t,kt,Tt,Dt,Ft,Ut,Ht){let Kt=Ht?Ht(dt):dt;if(Kt<et){if(Ft==="identity")return Kt;Ft==="clamp"&&(Kt=et)}if(Kt>$t){if(Ut==="identity")return Kt;Ut==="clamp"&&(Kt=$t)}return kt===Tt?kt:et===$t?dt<=et?kt:Tt:(et===-1/0?Kt=-Kt:$t===1/0?Kt=Kt-et:Kt=(Kt-et)/($t-et),Kt=Dt(Kt),kt===-1/0?Kt=-Kt:Tt===1/0?Kt=Kt+kt:Kt=Kt*(Tt-kt)+kt,Kt)}function findRange$1(dt,et){for(var $t=1;$t<et.length-1&&!(et[$t]>=dt);++$t);return $t-1}var steps$1=(dt,et="end")=>$t=>{$t=et==="end"?Math.min($t,.999):Math.max($t,.001);const kt=$t*dt,Tt=et==="end"?Math.floor(kt):Math.ceil(kt);return clamp$1(0,1,Tt/dt)},c1$1=1.70158,c2$1=c1$1*1.525,c3$1=c1$1+1,c4$1=2*Math.PI/3,c5$1=2*Math.PI/4.5,bounceOut$1=dt=>dt<1/2.75?7.5625*dt*dt:dt<2/2.75?7.5625*(dt-=1.5/2.75)*dt+.75:dt<2.5/2.75?7.5625*(dt-=2.25/2.75)*dt+.9375:7.5625*(dt-=2.625/2.75)*dt+.984375,easings$1={linear:dt=>dt,easeInQuad:dt=>dt*dt,easeOutQuad:dt=>1-(1-dt)*(1-dt),easeInOutQuad:dt=>dt<.5?2*dt*dt:1-Math.pow(-2*dt+2,2)/2,easeInCubic:dt=>dt*dt*dt,easeOutCubic:dt=>1-Math.pow(1-dt,3),easeInOutCubic:dt=>dt<.5?4*dt*dt*dt:1-Math.pow(-2*dt+2,3)/2,easeInQuart:dt=>dt*dt*dt*dt,easeOutQuart:dt=>1-Math.pow(1-dt,4),easeInOutQuart:dt=>dt<.5?8*dt*dt*dt*dt:1-Math.pow(-2*dt+2,4)/2,easeInQuint:dt=>dt*dt*dt*dt*dt,easeOutQuint:dt=>1-Math.pow(1-dt,5),easeInOutQuint:dt=>dt<.5?16*dt*dt*dt*dt*dt:1-Math.pow(-2*dt+2,5)/2,easeInSine:dt=>1-Math.cos(dt*Math.PI/2),easeOutSine:dt=>Math.sin(dt*Math.PI/2),easeInOutSine:dt=>-(Math.cos(Math.PI*dt)-1)/2,easeInExpo:dt=>dt===0?0:Math.pow(2,10*dt-10),easeOutExpo:dt=>dt===1?1:1-Math.pow(2,-10*dt),easeInOutExpo:dt=>dt===0?0:dt===1?1:dt<.5?Math.pow(2,20*dt-10)/2:(2-Math.pow(2,-20*dt+10))/2,easeInCirc:dt=>1-Math.sqrt(1-Math.pow(dt,2)),easeOutCirc:dt=>Math.sqrt(1-Math.pow(dt-1,2)),easeInOutCirc:dt=>dt<.5?(1-Math.sqrt(1-Math.pow(2*dt,2)))/2:(Math.sqrt(1-Math.pow(-2*dt+2,2))+1)/2,easeInBack:dt=>c3$1*dt*dt*dt-c1$1*dt*dt,easeOutBack:dt=>1+c3$1*Math.pow(dt-1,3)+c1$1*Math.pow(dt-1,2),easeInOutBack:dt=>dt<.5?Math.pow(2*dt,2)*((c2$1+1)*2*dt-c2$1)/2:(Math.pow(2*dt-2,2)*((c2$1+1)*(dt*2-2)+c2$1)+2)/2,easeInElastic:dt=>dt===0?0:dt===1?1:-Math.pow(2,10*dt-10)*Math.sin((dt*10-10.75)*c4$1),easeOutElastic:dt=>dt===0?0:dt===1?1:Math.pow(2,-10*dt)*Math.sin((dt*10-.75)*c4$1)+1,easeInOutElastic:dt=>dt===0?0:dt===1?1:dt<.5?-(Math.pow(2,20*dt-10)*Math.sin((20*dt-11.125)*c5$1))/2:Math.pow(2,-20*dt+10)*Math.sin((20*dt-11.125)*c5$1)/2+1,easeInBounce:dt=>1-bounceOut$1(1-dt),easeOutBounce:bounceOut$1,easeInOutBounce:dt=>dt<.5?(1-bounceOut$1(1-2*dt))/2:(1+bounceOut$1(2*dt-1))/2,steps:steps$1},$get$1=Symbol.for("FluidValue.get"),$observers$1=Symbol.for("FluidValue.observers"),hasFluidValue$1=dt=>!!(dt&&dt[$get$1]),getFluidValue$1=dt=>dt&&dt[$get$1]?dt[$get$1]():dt,getFluidObservers$1=dt=>dt[$observers$1]||null;function callFluidObserver$1(dt,et){dt.eventObserved?dt.eventObserved(et):dt(et)}function callFluidObservers$1(dt,et){const $t=dt[$observers$1];$t&&$t.forEach(kt=>{callFluidObserver$1(kt,et)})}var FluidValue$1=class{constructor(et){if(!et&&!(et=this.get))throw Error("Unknown getter");setFluidGetter$1(this,et)}},setFluidGetter$1=(dt,et)=>setHidden$1(dt,$get$1,et);function addFluidObserver$1(dt,et){if(dt[$get$1]){let $t=dt[$observers$1];$t||setHidden$1(dt,$observers$1,$t=new Set),$t.has(et)||($t.add(et),dt.observerAdded&&dt.observerAdded($t.size,et))}return et}function removeFluidObserver$1(dt,et){const $t=dt[$observers$1];if($t&&$t.has(et)){const kt=$t.size-1;kt?$t.delete(et):dt[$observers$1]=null,dt.observerRemoved&&dt.observerRemoved(kt,et)}}var setHidden$1=(dt,et,$t)=>Object.defineProperty(dt,et,{value:$t,writable:!0,configurable:!0}),numberRegex$1=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,colorRegex$1=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,unitRegex$1=new RegExp(`(${numberRegex$1.source})(%|[a-z]+)`,"i"),rgbaRegex$1=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,cssVariableRegex$1=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,variableToRgba$1=dt=>{const[et,$t]=parseCSSVariable$1(dt);if(!et||isSSR$1())return dt;const kt=window.getComputedStyle(document.documentElement).getPropertyValue(et);if(kt)return kt.trim();if($t&&$t.startsWith("--")){const Tt=window.getComputedStyle(document.documentElement).getPropertyValue($t);return Tt||dt}else{if($t&&cssVariableRegex$1.test($t))return variableToRgba$1($t);if($t)return $t}return dt},parseCSSVariable$1=dt=>{const et=cssVariableRegex$1.exec(dt);if(!et)return[,];const[,$t,kt]=et;return[$t,kt]},namedColorRegex$1,rgbaRound$1=(dt,et,$t,kt,Tt)=>`rgba(${Math.round(et)}, ${Math.round($t)}, ${Math.round(kt)}, ${Tt})`,createStringInterpolator2$1=dt=>{namedColorRegex$1||(namedColorRegex$1=colors$1?new RegExp(`(${Object.keys(colors$1).join("|")})(?!\\w)`,"g"):/^\b$/);const et=dt.output.map(Dt=>getFluidValue$1(Dt).replace(cssVariableRegex$1,variableToRgba$1).replace(colorRegex$1,colorToRgba$1).replace(namedColorRegex$1,colorToRgba$1)),$t=et.map(Dt=>Dt.match(numberRegex$1).map(Number)),Tt=$t[0].map((Dt,Ft)=>$t.map(Ut=>{if(!(Ft in Ut))throw Error('The arity of each "output" value must be equal');return Ut[Ft]})).map(Dt=>createInterpolator$1({...dt,output:Dt}));return Dt=>{var Ht;const Ft=!unitRegex$1.test(et[0])&&((Ht=et.find(Kt=>unitRegex$1.test(Kt)))==null?void 0:Ht.replace(numberRegex$1,""));let Ut=0;return et[0].replace(numberRegex$1,()=>`${Tt[Ut++](Dt)}${Ft||""}`).replace(rgbaRegex$1,rgbaRound$1)}},prefix$1="react-spring: ",once$1=dt=>{const et=dt;let $t=!1;if(typeof et!="function")throw new TypeError(`${prefix$1}once requires a function parameter`);return(...kt)=>{$t||(et(...kt),$t=!0)}},warnInterpolate$1=once$1(console.warn);function deprecateInterpolate$1(){warnInterpolate$1(`${prefix$1}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var warnDirectCall$1=once$1(console.warn);function deprecateDirectCall$1(){warnDirectCall$1(`${prefix$1}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function isAnimatedString$1(dt){return is$1.str(dt)&&(dt[0]=="#"||/\d/.test(dt)||!isSSR$1()&&cssVariableRegex$1.test(dt)||dt in(colors$1||{}))}var useIsomorphicLayoutEffect$1=isSSR$1()?reactExports.useEffect:reactExports.useLayoutEffect,useIsMounted$1=()=>{const dt=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>(dt.current=!0,()=>{dt.current=!1}),[]),dt};function useForceUpdate$1(){const dt=reactExports.useState()[1],et=useIsMounted$1();return()=>{et.current&&dt(Math.random())}}var useOnce$1=dt=>reactExports.useEffect(dt,emptyDeps$1),emptyDeps$1=[];function usePrev$1(dt){const et=reactExports.useRef(void 0);return reactExports.useEffect(()=>{et.current=dt}),et.current}var $node$1=Symbol.for("Animated:node"),isAnimated$1=dt=>!!dt&&dt[$node$1]===dt,getAnimated$1=dt=>dt&&dt[$node$1],setAnimated$1=(dt,et)=>defineHidden$1(dt,$node$1,et),getPayload$1=dt=>dt&&dt[$node$1]&&dt[$node$1].getPayload(),Animated$1=class{constructor(){setAnimated$1(this,this)}getPayload(){return this.payload||[]}},AnimatedValue$1=class eC extends Animated$1{constructor(et){super(),this._value=et,this.done=!0,this.durationProgress=0,is$1.num(this._value)&&(this.lastPosition=this._value)}static create(et){return new eC(et)}getPayload(){return[this]}getValue(){return this._value}setValue(et,$t){return is$1.num(et)&&(this.lastPosition=et,$t&&(et=Math.round(et/$t)*$t,this.done&&(this.lastPosition=et))),this._value===et?!1:(this._value=et,!0)}reset(){const{done:et}=this;this.done=!1,is$1.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,et&&(this.lastVelocity=null),this.v0=null)}},AnimatedString$1=class tC extends AnimatedValue$1{constructor(et){super(0),this._string=null,this._toString=createInterpolator$1({output:[et,et]})}static create(et){return new tC(et)}getValue(){const et=this._string;return et??(this._string=this._toString(this._value))}setValue(et){if(is$1.str(et)){if(et==this._string)return!1;this._string=et,this._value=1}else if(super.setValue(et))this._string=null;else return!1;return!0}reset(et){et&&(this._toString=createInterpolator$1({output:[this.getValue(),et]})),this._value=0,super.reset()}},TreeContext$1={dependencies:null},AnimatedObject$1=class extends Animated$1{constructor(et){super(),this.source=et,this.setValue(et)}getValue(et){const $t={};return eachProp$1(this.source,(kt,Tt)=>{isAnimated$1(kt)?$t[Tt]=kt.getValue(et):hasFluidValue$1(kt)?$t[Tt]=getFluidValue$1(kt):et||($t[Tt]=kt)}),$t}setValue(et){this.source=et,this.payload=this._makePayload(et)}reset(){this.payload&&each$1(this.payload,et=>et.reset())}_makePayload(et){if(et){const $t=new Set;return eachProp$1(et,this._addToPayload,$t),Array.from($t)}}_addToPayload(et){TreeContext$1.dependencies&&hasFluidValue$1(et)&&TreeContext$1.dependencies.add(et);const $t=getPayload$1(et);$t&&each$1($t,kt=>this.add(kt))}},AnimatedArray$1=class rC extends AnimatedObject$1{constructor(et){super(et)}static create(et){return new rC(et)}getValue(){return this.source.map(et=>et.getValue())}setValue(et){const $t=this.getPayload();return et.length==$t.length?$t.map((kt,Tt)=>kt.setValue(et[Tt])).some(Boolean):(super.setValue(et.map(makeAnimated$1)),!0)}};function makeAnimated$1(dt){return(isAnimatedString$1(dt)?AnimatedString$1:AnimatedValue$1).create(dt)}function getAnimatedType$1(dt){const et=getAnimated$1(dt);return et?et.constructor:is$1.arr(dt)?AnimatedArray$1:isAnimatedString$1(dt)?AnimatedString$1:AnimatedValue$1}var withAnimated$1=(dt,et)=>{const $t=!is$1.fun(dt)||dt.prototype&&dt.prototype.isReactComponent;return reactExports.forwardRef((kt,Tt)=>{const Dt=reactExports.useRef(null),Ft=$t&&reactExports.useCallback(rr=>{Dt.current=updateRef$1(Tt,rr)},[Tt]),[Ut,Ht]=getAnimatedState$1(kt,et),Kt=useForceUpdate$1(),Yt=()=>{const rr=Dt.current;if($t&&!rr)return;(rr?et.applyAnimatedValues(rr,Ut.getValue(!0)):!1)===!1&&Kt()},Jt=new PropsObserver$1(Yt,Ht),Zt=reactExports.useRef(void 0);useIsomorphicLayoutEffect$1(()=>(Zt.current=Jt,each$1(Ht,rr=>addFluidObserver$1(rr,Jt)),()=>{Zt.current&&(each$1(Zt.current.deps,rr=>removeFluidObserver$1(rr,Zt.current)),raf$1.cancel(Zt.current.update))})),reactExports.useEffect(Yt,[]),useOnce$1(()=>()=>{const rr=Zt.current;each$1(rr.deps,sr=>removeFluidObserver$1(sr,rr))});const er=et.getComponentProps(Ut.getValue());return reactExports.createElement(dt,{...er,ref:Ft})})},PropsObserver$1=class{constructor(et,$t){this.update=et,this.deps=$t}eventObserved(et){et.type=="change"&&raf$1.write(this.update)}};function getAnimatedState$1(dt,et){const $t=new Set;return TreeContext$1.dependencies=$t,dt.style&&(dt={...dt,style:et.createAnimatedStyle(dt.style)}),dt=new AnimatedObject$1(dt),TreeContext$1.dependencies=null,[dt,$t]}function updateRef$1(dt,et){return dt&&(is$1.fun(dt)?dt(et):dt.current=et),et}var cacheKey$1=Symbol.for("AnimatedComponent"),createHost$1=(dt,{applyAnimatedValues:et=()=>!1,createAnimatedStyle:$t=Tt=>new AnimatedObject$1(Tt),getComponentProps:kt=Tt=>Tt}={})=>{const Tt={applyAnimatedValues:et,createAnimatedStyle:$t,getComponentProps:kt},Dt=Ft=>{const Ut=getDisplayName$1(Ft)||"Anonymous";return is$1.str(Ft)?Ft=Dt[Ft]||(Dt[Ft]=withAnimated$1(Ft,Tt)):Ft=Ft[cacheKey$1]||(Ft[cacheKey$1]=withAnimated$1(Ft,Tt)),Ft.displayName=`Animated(${Ut})`,Ft};return eachProp$1(dt,(Ft,Ut)=>{is$1.arr(dt)&&(Ut=getDisplayName$1(Ft)),Dt[Ut]=Dt(Ft)}),{animated:Dt}},getDisplayName$1=dt=>is$1.str(dt)?dt:dt&&is$1.str(dt.displayName)?dt.displayName:is$1.fun(dt)&&dt.name||null;function callProp$1(dt,...et){return is$1.fun(dt)?dt(...et):dt}var matchProp$1=(dt,et)=>dt===!0||!!(et&&dt&&(is$1.fun(dt)?dt(et):toArray$1(dt).includes(et))),resolveProp$1=(dt,et)=>is$1.obj(dt)?et&&dt[et]:dt,getDefaultProp$1=(dt,et)=>dt.default===!0?dt[et]:dt.default?dt.default[et]:void 0,noopTransform$1=dt=>dt,getDefaultProps$1=(dt,et=noopTransform$1)=>{let $t=DEFAULT_PROPS$1;dt.default&&dt.default!==!0&&(dt=dt.default,$t=Object.keys(dt));const kt={};for(const Tt of $t){const Dt=et(dt[Tt],Tt);is$1.und(Dt)||(kt[Tt]=Dt)}return kt},DEFAULT_PROPS$1=["config","onProps","onStart","onChange","onPause","onResume","onRest"],RESERVED_PROPS$1={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function getForwardProps$1(dt){const et={};let $t=0;if(eachProp$1(dt,(kt,Tt)=>{RESERVED_PROPS$1[Tt]||(et[Tt]=kt,$t++)}),$t)return et}function inferTo$1(dt){const et=getForwardProps$1(dt);if(et){const $t={to:et};return eachProp$1(dt,(kt,Tt)=>Tt in et||($t[Tt]=kt)),$t}return{...dt}}function computeGoal$1(dt){return dt=getFluidValue$1(dt),is$1.arr(dt)?dt.map(computeGoal$1):isAnimatedString$1(dt)?globals_exports$1.createStringInterpolator({range:[0,1],output:[dt,dt]})(1):dt}function hasProps$1(dt){for(const et in dt)return!0;return!1}function isAsyncTo$1(dt){return is$1.fun(dt)||is$1.arr(dt)&&is$1.obj(dt[0])}function detachRefs$1(dt,et){var $t;($t=dt.ref)==null||$t.delete(dt),et==null||et.delete(dt)}function replaceRef$1(dt,et){var $t;et&&dt.ref!==et&&(($t=dt.ref)==null||$t.delete(dt),et.add(dt),dt.ref=et)}var config$1={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},defaults$1={...config$1.default,mass:1,damping:1,easing:easings$1.linear,clamp:!1},AnimationConfig$1=class{constructor(){this.velocity=0,Object.assign(this,defaults$1)}};function mergeConfig$1(dt,et,$t){$t&&($t={...$t},sanitizeConfig$1($t,et),et={...$t,...et}),sanitizeConfig$1(dt,et),Object.assign(dt,et);for(const Ft in defaults$1)dt[Ft]==null&&(dt[Ft]=defaults$1[Ft]);let{frequency:kt,damping:Tt}=dt;const{mass:Dt}=dt;return is$1.und(kt)||(kt<.01&&(kt=.01),Tt<0&&(Tt=0),dt.tension=Math.pow(2*Math.PI/kt,2)*Dt,dt.friction=4*Math.PI*Tt*Dt/kt),dt}function sanitizeConfig$1(dt,et){if(!is$1.und(et.decay))dt.duration=void 0;else{const $t=!is$1.und(et.tension)||!is$1.und(et.friction);($t||!is$1.und(et.frequency)||!is$1.und(et.damping)||!is$1.und(et.mass))&&(dt.duration=void 0,dt.decay=void 0),$t&&(dt.frequency=void 0)}}var emptyArray$1=[],Animation$1=class{constructor(){this.changed=!1,this.values=emptyArray$1,this.toValues=null,this.fromValues=emptyArray$1,this.config=new AnimationConfig$1,this.immediate=!1}};function scheduleProps$1(dt,{key:et,props:$t,defaultProps:kt,state:Tt,actions:Dt}){return new Promise((Ft,Ut)=>{let Ht,Kt,Yt=matchProp$1($t.cancel??(kt==null?void 0:kt.cancel),et);if(Yt)er();else{is$1.und($t.pause)||(Tt.paused=matchProp$1($t.pause,et));let rr=kt==null?void 0:kt.pause;rr!==!0&&(rr=Tt.paused||matchProp$1(rr,et)),Ht=callProp$1($t.delay||0,et),rr?(Tt.resumeQueue.add(Zt),Dt.pause()):(Dt.resume(),Zt())}function Jt(){Tt.resumeQueue.add(Zt),Tt.timeouts.delete(Kt),Kt.cancel(),Ht=Kt.time-raf$1.now()}function Zt(){Ht>0&&!globals_exports$1.skipAnimation?(Tt.delayed=!0,Kt=raf$1.setTimeout(er,Ht),Tt.pauseQueue.add(Jt),Tt.timeouts.add(Kt)):er()}function er(){Tt.delayed&&(Tt.delayed=!1),Tt.pauseQueue.delete(Jt),Tt.timeouts.delete(Kt),dt<=(Tt.cancelId||0)&&(Yt=!0);try{Dt.start({...$t,callId:dt,cancel:Yt},Ft)}catch(rr){Ut(rr)}}})}var getCombinedResult$1=(dt,et)=>et.length==1?et[0]:et.some($t=>$t.cancelled)?getCancelledResult$1(dt.get()):et.every($t=>$t.noop)?getNoopResult$1(dt.get()):getFinishedResult$1(dt.get(),et.every($t=>$t.finished)),getNoopResult$1=dt=>({value:dt,noop:!0,finished:!0,cancelled:!1}),getFinishedResult$1=(dt,et,$t=!1)=>({value:dt,finished:et,cancelled:$t}),getCancelledResult$1=dt=>({value:dt,cancelled:!0,finished:!1});function runAsync$1(dt,et,$t,kt){const{callId:Tt,parentId:Dt,onRest:Ft}=et,{asyncTo:Ut,promise:Ht}=$t;return!Dt&&dt===Ut&&!et.reset?Ht:$t.promise=(async()=>{$t.asyncId=Tt,$t.asyncTo=dt;const Kt=getDefaultProps$1(et,(ir,nr)=>nr==="onRest"?void 0:ir);let Yt,Jt;const Zt=new Promise((ir,nr)=>(Yt=ir,Jt=nr)),er=ir=>{const nr=Tt<=($t.cancelId||0)&&getCancelledResult$1(kt)||Tt!==$t.asyncId&&getFinishedResult$1(kt,!1);if(nr)throw ir.result=nr,Jt(ir),ir},rr=(ir,nr)=>{const or=new BailSignal$1,lr=new SkipAnimationSignal$1;return(async()=>{if(globals_exports$1.skipAnimation)throw stopAsync$1($t),lr.result=getFinishedResult$1(kt,!1),Jt(lr),lr;er(or);const cr=is$1.obj(ir)?{...ir}:{...nr,to:ir};cr.parentId=Tt,eachProp$1(Kt,(ur,pr)=>{is$1.und(cr[pr])&&(cr[pr]=ur)});const dr=await kt.start(cr);return er(or),$t.paused&&await new Promise(ur=>{$t.resumeQueue.add(ur)}),dr})()};let sr;if(globals_exports$1.skipAnimation)return stopAsync$1($t),getFinishedResult$1(kt,!1);try{let ir;is$1.arr(dt)?ir=(async nr=>{for(const or of nr)await rr(or)})(dt):ir=Promise.resolve(dt(rr,kt.stop.bind(kt))),await Promise.all([ir.then(Yt),Zt]),sr=getFinishedResult$1(kt.get(),!0,!1)}catch(ir){if(ir instanceof BailSignal$1)sr=ir.result;else if(ir instanceof SkipAnimationSignal$1)sr=ir.result;else throw ir}finally{Tt==$t.asyncId&&($t.asyncId=Dt,$t.asyncTo=Dt?Ut:void 0,$t.promise=Dt?Ht:void 0)}return is$1.fun(Ft)&&raf$1.batchedUpdates(()=>{Ft(sr,kt,kt.item)}),sr})()}function stopAsync$1(dt,et){flush$1(dt.timeouts,$t=>$t.cancel()),dt.pauseQueue.clear(),dt.resumeQueue.clear(),dt.asyncId=dt.asyncTo=dt.promise=void 0,et&&(dt.cancelId=et)}var BailSignal$1=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},SkipAnimationSignal$1=class extends Error{constructor(){super("SkipAnimationSignal")}},isFrameValue$1=dt=>dt instanceof FrameValue$1,nextId$1=1,FrameValue$1=class extends FluidValue$1{constructor(){super(...arguments),this.id=nextId$1++,this._priority=0}get priority(){return this._priority}set priority(et){this._priority!=et&&(this._priority=et,this._onPriorityChange(et))}get(){const et=getAnimated$1(this);return et&&et.getValue()}to(...et){return globals_exports$1.to(this,et)}interpolate(...et){return deprecateInterpolate$1(),globals_exports$1.to(this,et)}toJSON(){return this.get()}observerAdded(et){et==1&&this._attach()}observerRemoved(et){et==0&&this._detach()}_attach(){}_detach(){}_onChange(et,$t=!1){callFluidObservers$1(this,{type:"change",parent:this,value:et,idle:$t})}_onPriorityChange(et){this.idle||frameLoop$1.sort(this),callFluidObservers$1(this,{type:"priority",parent:this,priority:et})}},$P$1=Symbol.for("SpringPhase"),HAS_ANIMATED$1=1,IS_ANIMATING$1=2,IS_PAUSED$1=4,hasAnimated$1=dt=>(dt[$P$1]&HAS_ANIMATED$1)>0,isAnimating$1=dt=>(dt[$P$1]&IS_ANIMATING$1)>0,isPaused$1=dt=>(dt[$P$1]&IS_PAUSED$1)>0,setActiveBit$1=(dt,et)=>et?dt[$P$1]|=IS_ANIMATING$1|HAS_ANIMATED$1:dt[$P$1]&=~IS_ANIMATING$1,setPausedBit$1=(dt,et)=>et?dt[$P$1]|=IS_PAUSED$1:dt[$P$1]&=~IS_PAUSED$1,SpringValue$1=class extends FrameValue$1{constructor(et,$t){if(super(),this.animation=new Animation$1,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!is$1.und(et)||!is$1.und($t)){const kt=is$1.obj(et)?{...et}:{...$t,from:et};is$1.und(kt.default)&&(kt.default=!0),this.start(kt)}}get idle(){return!(isAnimating$1(this)||this._state.asyncTo)||isPaused$1(this)}get goal(){return getFluidValue$1(this.animation.to)}get velocity(){const et=getAnimated$1(this);return et instanceof AnimatedValue$1?et.lastVelocity||0:et.getPayload().map($t=>$t.lastVelocity||0)}get hasAnimated(){return hasAnimated$1(this)}get isAnimating(){return isAnimating$1(this)}get isPaused(){return isPaused$1(this)}get isDelayed(){return this._state.delayed}advance(et){let $t=!0,kt=!1;const Tt=this.animation;let{toValues:Dt}=Tt;const{config:Ft}=Tt,Ut=getPayload$1(Tt.to);!Ut&&hasFluidValue$1(Tt.to)&&(Dt=toArray$1(getFluidValue$1(Tt.to))),Tt.values.forEach((Yt,Jt)=>{if(Yt.done)return;const Zt=Yt.constructor==AnimatedString$1?1:Ut?Ut[Jt].lastPosition:Dt[Jt];let er=Tt.immediate,rr=Zt;if(!er){if(rr=Yt.lastPosition,Ft.tension<=0){Yt.done=!0;return}let sr=Yt.elapsedTime+=et;const ir=Tt.fromValues[Jt],nr=Yt.v0!=null?Yt.v0:Yt.v0=is$1.arr(Ft.velocity)?Ft.velocity[Jt]:Ft.velocity;let or;const lr=Ft.precision||(ir==Zt?.005:Math.min(1,Math.abs(Zt-ir)*.001));if(is$1.und(Ft.duration))if(Ft.decay){const cr=Ft.decay===!0?.998:Ft.decay,dr=Math.exp(-(1-cr)*sr);rr=ir+nr/(1-cr)*(1-dr),er=Math.abs(Yt.lastPosition-rr)<=lr,or=nr*dr}else{or=Yt.lastVelocity==null?nr:Yt.lastVelocity;const cr=Ft.restVelocity||lr/10,dr=Ft.clamp?0:Ft.bounce,ur=!is$1.und(dr),pr=ir==Zt?Yt.v0>0:ir<Zt;let mr,vr=!1;const kr=1,br=Math.ceil(et/kr);for(let _r=0;_r<br&&(mr=Math.abs(or)>cr,!(!mr&&(er=Math.abs(Zt-rr)<=lr,er)));++_r){ur&&(vr=rr==Zt||rr>Zt==pr,vr&&(or=-or*dr,rr=Zt));const Or=-Ft.tension*1e-6*(rr-Zt),Pr=-Ft.friction*.001*or,Mr=(Or+Pr)/Ft.mass;or=or+Mr*kr,rr=rr+or*kr}}else{let cr=1;Ft.duration>0&&(this._memoizedDuration!==Ft.duration&&(this._memoizedDuration=Ft.duration,Yt.durationProgress>0&&(Yt.elapsedTime=Ft.duration*Yt.durationProgress,sr=Yt.elapsedTime+=et)),cr=(Ft.progress||0)+sr/this._memoizedDuration,cr=cr>1?1:cr<0?0:cr,Yt.durationProgress=cr),rr=ir+Ft.easing(cr)*(Zt-ir),or=(rr-Yt.lastPosition)/et,er=cr==1}Yt.lastVelocity=or,Number.isNaN(rr)&&(console.warn("Got NaN while animating:",this),er=!0)}Ut&&!Ut[Jt].done&&(er=!1),er?Yt.done=!0:$t=!1,Yt.setValue(rr,Ft.round)&&(kt=!0)});const Ht=getAnimated$1(this),Kt=Ht.getValue();if($t){const Yt=getFluidValue$1(Tt.to);(Kt!==Yt||kt)&&!Ft.decay?(Ht.setValue(Yt),this._onChange(Yt)):kt&&Ft.decay&&this._onChange(Kt),this._stop()}else kt&&this._onChange(Kt)}set(et){return raf$1.batchedUpdates(()=>{this._stop(),this._focus(et),this._set(et)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(isAnimating$1(this)){const{to:et,config:$t}=this.animation;raf$1.batchedUpdates(()=>{this._onStart(),$t.decay||this._set(et,!1),this._stop()})}return this}update(et){return(this.queue||(this.queue=[])).push(et),this}start(et,$t){let kt;return is$1.und(et)?(kt=this.queue||[],this.queue=[]):kt=[is$1.obj(et)?et:{...$t,to:et}],Promise.all(kt.map(Tt=>this._update(Tt))).then(Tt=>getCombinedResult$1(this,Tt))}stop(et){const{to:$t}=this.animation;return this._focus(this.get()),stopAsync$1(this._state,et&&this._lastCallId),raf$1.batchedUpdates(()=>this._stop($t,et)),this}reset(){this._update({reset:!0})}eventObserved(et){et.type=="change"?this._start():et.type=="priority"&&(this.priority=et.priority+1)}_prepareNode(et){const $t=this.key||"";let{to:kt,from:Tt}=et;kt=is$1.obj(kt)?kt[$t]:kt,(kt==null||isAsyncTo$1(kt))&&(kt=void 0),Tt=is$1.obj(Tt)?Tt[$t]:Tt,Tt==null&&(Tt=void 0);const Dt={to:kt,from:Tt};return hasAnimated$1(this)||(et.reverse&&([kt,Tt]=[Tt,kt]),Tt=getFluidValue$1(Tt),is$1.und(Tt)?getAnimated$1(this)||this._set(kt):this._set(Tt)),Dt}_update({...et},$t){const{key:kt,defaultProps:Tt}=this;et.default&&Object.assign(Tt,getDefaultProps$1(et,(Ut,Ht)=>/^on/.test(Ht)?resolveProp$1(Ut,kt):Ut)),mergeActiveFn$1(this,et,"onProps"),sendEvent$1(this,"onProps",et,this);const Dt=this._prepareNode(et);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const Ft=this._state;return scheduleProps$1(++this._lastCallId,{key:kt,props:et,defaultProps:Tt,state:Ft,actions:{pause:()=>{isPaused$1(this)||(setPausedBit$1(this,!0),flushCalls$1(Ft.pauseQueue),sendEvent$1(this,"onPause",getFinishedResult$1(this,checkFinished$1(this,this.animation.to)),this))},resume:()=>{isPaused$1(this)&&(setPausedBit$1(this,!1),isAnimating$1(this)&&this._resume(),flushCalls$1(Ft.resumeQueue),sendEvent$1(this,"onResume",getFinishedResult$1(this,checkFinished$1(this,this.animation.to)),this))},start:this._merge.bind(this,Dt)}}).then(Ut=>{if(et.loop&&Ut.finished&&!($t&&Ut.noop)){const Ht=createLoopUpdate$1(et);if(Ht)return this._update(Ht,!0)}return Ut})}_merge(et,$t,kt){if($t.cancel)return this.stop(!0),kt(getCancelledResult$1(this));const Tt=!is$1.und(et.to),Dt=!is$1.und(et.from);if(Tt||Dt)if($t.callId>this._lastToId)this._lastToId=$t.callId;else return kt(getCancelledResult$1(this));const{key:Ft,defaultProps:Ut,animation:Ht}=this,{to:Kt,from:Yt}=Ht;let{to:Jt=Kt,from:Zt=Yt}=et;Dt&&!Tt&&(!$t.default||is$1.und(Jt))&&(Jt=Zt),$t.reverse&&([Jt,Zt]=[Zt,Jt]);const er=!isEqual$1(Zt,Yt);er&&(Ht.from=Zt),Zt=getFluidValue$1(Zt);const rr=!isEqual$1(Jt,Kt);rr&&this._focus(Jt);const sr=isAsyncTo$1($t.to),{config:ir}=Ht,{decay:nr,velocity:or}=ir;(Tt||Dt)&&(ir.velocity=0),$t.config&&!sr&&mergeConfig$1(ir,callProp$1($t.config,Ft),$t.config!==Ut.config?callProp$1(Ut.config,Ft):void 0);let lr=getAnimated$1(this);if(!lr||is$1.und(Jt))return kt(getFinishedResult$1(this,!0));const cr=is$1.und($t.reset)?Dt&&!$t.default:!is$1.und(Zt)&&matchProp$1($t.reset,Ft),dr=cr?Zt:this.get(),ur=computeGoal$1(Jt),pr=is$1.num(ur)||is$1.arr(ur)||isAnimatedString$1(ur),mr=!sr&&(!pr||matchProp$1(Ut.immediate||$t.immediate,Ft));if(rr){const _r=getAnimatedType$1(Jt);if(_r!==lr.constructor)if(mr)lr=this._set(ur);else throw Error(`Cannot animate between ${lr.constructor.name} and ${_r.name}, as the "to" prop suggests`)}const vr=lr.constructor;let kr=hasFluidValue$1(Jt),br=!1;if(!kr){const _r=cr||!hasAnimated$1(this)&&er;(rr||_r)&&(br=isEqual$1(computeGoal$1(dr),ur),kr=!br),(!isEqual$1(Ht.immediate,mr)&&!mr||!isEqual$1(ir.decay,nr)||!isEqual$1(ir.velocity,or))&&(kr=!0)}if(br&&isAnimating$1(this)&&(Ht.changed&&!cr?kr=!0:kr||this._stop(Kt)),!sr&&((kr||hasFluidValue$1(Kt))&&(Ht.values=lr.getPayload(),Ht.toValues=hasFluidValue$1(Jt)?null:vr==AnimatedString$1?[1]:toArray$1(ur)),Ht.immediate!=mr&&(Ht.immediate=mr,!mr&&!cr&&this._set(Kt)),kr)){const{onRest:_r}=Ht;each$1(ACTIVE_EVENTS$1,Pr=>mergeActiveFn$1(this,$t,Pr));const Or=getFinishedResult$1(this,checkFinished$1(this,Kt));flushCalls$1(this._pendingCalls,Or),this._pendingCalls.add(kt),Ht.changed&&raf$1.batchedUpdates(()=>{var Pr;Ht.changed=!cr,_r==null||_r(Or,this),cr?callProp$1(Ut.onRest,Or):(Pr=Ht.onStart)==null||Pr.call(Ht,Or,this)})}cr&&this._set(dr),sr?kt(runAsync$1($t.to,$t,this._state,this)):kr?this._start():isAnimating$1(this)&&!rr?this._pendingCalls.add(kt):kt(getNoopResult$1(dr))}_focus(et){const $t=this.animation;et!==$t.to&&(getFluidObservers$1(this)&&this._detach(),$t.to=et,getFluidObservers$1(this)&&this._attach())}_attach(){let et=0;const{to:$t}=this.animation;hasFluidValue$1($t)&&(addFluidObserver$1($t,this),isFrameValue$1($t)&&(et=$t.priority+1)),this.priority=et}_detach(){const{to:et}=this.animation;hasFluidValue$1(et)&&removeFluidObserver$1(et,this)}_set(et,$t=!0){const kt=getFluidValue$1(et);if(!is$1.und(kt)){const Tt=getAnimated$1(this);if(!Tt||!isEqual$1(kt,Tt.getValue())){const Dt=getAnimatedType$1(kt);!Tt||Tt.constructor!=Dt?setAnimated$1(this,Dt.create(kt)):Tt.setValue(kt),Tt&&raf$1.batchedUpdates(()=>{this._onChange(kt,$t)})}}return getAnimated$1(this)}_onStart(){const et=this.animation;et.changed||(et.changed=!0,sendEvent$1(this,"onStart",getFinishedResult$1(this,checkFinished$1(this,et.to)),this))}_onChange(et,$t){$t||(this._onStart(),callProp$1(this.animation.onChange,et,this)),callProp$1(this.defaultProps.onChange,et,this),super._onChange(et,$t)}_start(){const et=this.animation;getAnimated$1(this).reset(getFluidValue$1(et.to)),et.immediate||(et.fromValues=et.values.map($t=>$t.lastPosition)),isAnimating$1(this)||(setActiveBit$1(this,!0),isPaused$1(this)||this._resume())}_resume(){globals_exports$1.skipAnimation?this.finish():frameLoop$1.start(this)}_stop(et,$t){if(isAnimating$1(this)){setActiveBit$1(this,!1);const kt=this.animation;each$1(kt.values,Dt=>{Dt.done=!0}),kt.toValues&&(kt.onChange=kt.onPause=kt.onResume=void 0),callFluidObservers$1(this,{type:"idle",parent:this});const Tt=$t?getCancelledResult$1(this.get()):getFinishedResult$1(this.get(),checkFinished$1(this,et??kt.to));flushCalls$1(this._pendingCalls,Tt),kt.changed&&(kt.changed=!1,sendEvent$1(this,"onRest",Tt,this))}}};function checkFinished$1(dt,et){const $t=computeGoal$1(et),kt=computeGoal$1(dt.get());return isEqual$1(kt,$t)}function createLoopUpdate$1(dt,et=dt.loop,$t=dt.to){const kt=callProp$1(et);if(kt){const Tt=kt!==!0&&inferTo$1(kt),Dt=(Tt||dt).reverse,Ft=!Tt||Tt.reset;return createUpdate$1({...dt,loop:et,default:!1,pause:void 0,to:!Dt||isAsyncTo$1($t)?$t:void 0,from:Ft?dt.from:void 0,reset:Ft,...Tt})}}function createUpdate$1(dt){const{to:et,from:$t}=dt=inferTo$1(dt),kt=new Set;return is$1.obj(et)&&findDefined$1(et,kt),is$1.obj($t)&&findDefined$1($t,kt),dt.keys=kt.size?Array.from(kt):null,dt}function findDefined$1(dt,et){eachProp$1(dt,($t,kt)=>$t!=null&&et.add(kt))}var ACTIVE_EVENTS$1=["onStart","onRest","onChange","onPause","onResume"];function mergeActiveFn$1(dt,et,$t){dt.animation[$t]=et[$t]!==getDefaultProp$1(et,$t)?resolveProp$1(et[$t],dt.key):void 0}function sendEvent$1(dt,et,...$t){var kt,Tt,Dt,Ft;(Tt=(kt=dt.animation)[et])==null||Tt.call(kt,...$t),(Ft=(Dt=dt.defaultProps)[et])==null||Ft.call(Dt,...$t)}var BATCHED_EVENTS$1=["onStart","onChange","onRest"],nextId2$1=1,Controller$1=class{constructor(et,$t){this.id=nextId2$1++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),$t&&(this._flush=$t),et&&this.start({default:!0,...et})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(et=>et.idle&&!et.isDelayed&&!et.isPaused)}get item(){return this._item}set item(et){this._item=et}get(){const et={};return this.each(($t,kt)=>et[kt]=$t.get()),et}set(et){for(const $t in et){const kt=et[$t];is$1.und(kt)||this.springs[$t].set(kt)}}update(et){return et&&this.queue.push(createUpdate$1(et)),this}start(et){let{queue:$t}=this;return et?$t=toArray$1(et).map(createUpdate$1):this.queue=[],this._flush?this._flush(this,$t):(prepareKeys$1(this,$t),flushUpdateQueue$1(this,$t))}stop(et,$t){if(et!==!!et&&($t=et),$t){const kt=this.springs;each$1(toArray$1($t),Tt=>kt[Tt].stop(!!et))}else stopAsync$1(this._state,this._lastAsyncId),this.each(kt=>kt.stop(!!et));return this}pause(et){if(is$1.und(et))this.start({pause:!0});else{const $t=this.springs;each$1(toArray$1(et),kt=>$t[kt].pause())}return this}resume(et){if(is$1.und(et))this.start({pause:!1});else{const $t=this.springs;each$1(toArray$1(et),kt=>$t[kt].resume())}return this}each(et){eachProp$1(this.springs,et)}_onFrame(){const{onStart:et,onChange:$t,onRest:kt}=this._events,Tt=this._active.size>0,Dt=this._changed.size>0;(Tt&&!this._started||Dt&&!this._started)&&(this._started=!0,flush$1(et,([Ht,Kt])=>{Kt.value=this.get(),Ht(Kt,this,this._item)}));const Ft=!Tt&&this._started,Ut=Dt||Ft&&kt.size?this.get():null;Dt&&$t.size&&flush$1($t,([Ht,Kt])=>{Kt.value=Ut,Ht(Kt,this,this._item)}),Ft&&(this._started=!1,flush$1(kt,([Ht,Kt])=>{Kt.value=Ut,Ht(Kt,this,this._item)}))}eventObserved(et){if(et.type=="change")this._changed.add(et.parent),et.idle||this._active.add(et.parent);else if(et.type=="idle")this._active.delete(et.parent);else return;raf$1.onFrame(this._onFrame)}};function flushUpdateQueue$1(dt,et){return Promise.all(et.map($t=>flushUpdate$1(dt,$t))).then($t=>getCombinedResult$1(dt,$t))}async function flushUpdate$1(dt,et,$t){const{keys:kt,to:Tt,from:Dt,loop:Ft,onRest:Ut,onResolve:Ht}=et,Kt=is$1.obj(et.default)&&et.default;Ft&&(et.loop=!1),Tt===!1&&(et.to=null),Dt===!1&&(et.from=null);const Yt=is$1.arr(Tt)||is$1.fun(Tt)?Tt:void 0;Yt?(et.to=void 0,et.onRest=void 0,Kt&&(Kt.onRest=void 0)):each$1(BATCHED_EVENTS$1,sr=>{const ir=et[sr];if(is$1.fun(ir)){const nr=dt._events[sr];et[sr]=({finished:or,cancelled:lr})=>{const cr=nr.get(ir);cr?(or||(cr.finished=!1),lr&&(cr.cancelled=!0)):nr.set(ir,{value:null,finished:or||!1,cancelled:lr||!1})},Kt&&(Kt[sr]=et[sr])}});const Jt=dt._state;et.pause===!Jt.paused?(Jt.paused=et.pause,flushCalls$1(et.pause?Jt.pauseQueue:Jt.resumeQueue)):Jt.paused&&(et.pause=!0);const Zt=(kt||Object.keys(dt.springs)).map(sr=>dt.springs[sr].start(et)),er=et.cancel===!0||getDefaultProp$1(et,"cancel")===!0;(Yt||er&&Jt.asyncId)&&Zt.push(scheduleProps$1(++dt._lastAsyncId,{props:et,state:Jt,actions:{pause:noop$1,resume:noop$1,start(sr,ir){er?(stopAsync$1(Jt,dt._lastAsyncId),ir(getCancelledResult$1(dt))):(sr.onRest=Ut,ir(runAsync$1(Yt,sr,Jt,dt)))}}})),Jt.paused&&await new Promise(sr=>{Jt.resumeQueue.add(sr)});const rr=getCombinedResult$1(dt,await Promise.all(Zt));if(Ft&&rr.finished&&!($t&&rr.noop)){const sr=createLoopUpdate$1(et,Ft,Tt);if(sr)return prepareKeys$1(dt,[sr]),flushUpdate$1(dt,sr,!0)}return Ht&&raf$1.batchedUpdates(()=>Ht(rr,dt,dt.item)),rr}function getSprings$1(dt,et){const $t={...dt.springs};return et&&each$1(toArray$1(et),kt=>{is$1.und(kt.keys)&&(kt=createUpdate$1(kt)),is$1.obj(kt.to)||(kt={...kt,to:void 0}),prepareSprings$1($t,kt,Tt=>createSpring$1(Tt))}),setSprings$1(dt,$t),$t}function setSprings$1(dt,et){eachProp$1(et,($t,kt)=>{dt.springs[kt]||(dt.springs[kt]=$t,addFluidObserver$1($t,dt))})}function createSpring$1(dt,et){const $t=new SpringValue$1;return $t.key=dt,et&&addFluidObserver$1($t,et),$t}function prepareSprings$1(dt,et,$t){et.keys&&each$1(et.keys,kt=>{(dt[kt]||(dt[kt]=$t(kt)))._prepareNode(et)})}function prepareKeys$1(dt,et){each$1(et,$t=>{prepareSprings$1(dt.springs,$t,kt=>createSpring$1(kt,dt))})}var SpringContext$1=reactExports.createContext({pause:!1,immediate:!1}),SpringRef$1=()=>{const dt=[],et=function(kt){deprecateDirectCall$1();const Tt=[];return each$1(dt,(Dt,Ft)=>{if(is$1.und(kt))Tt.push(Dt.start());else{const Ut=$t(kt,Dt,Ft);Ut&&Tt.push(Dt.start(Ut))}}),Tt};et.current=dt,et.add=function(kt){dt.includes(kt)||dt.push(kt)},et.delete=function(kt){const Tt=dt.indexOf(kt);~Tt&&dt.splice(Tt,1)},et.pause=function(){return each$1(dt,kt=>kt.pause(...arguments)),this},et.resume=function(){return each$1(dt,kt=>kt.resume(...arguments)),this},et.set=function(kt){each$1(dt,(Tt,Dt)=>{const Ft=is$1.fun(kt)?kt(Dt,Tt):kt;Ft&&Tt.set(Ft)})},et.start=function(kt){const Tt=[];return each$1(dt,(Dt,Ft)=>{if(is$1.und(kt))Tt.push(Dt.start());else{const Ut=this._getProps(kt,Dt,Ft);Ut&&Tt.push(Dt.start(Ut))}}),Tt},et.stop=function(){return each$1(dt,kt=>kt.stop(...arguments)),this},et.update=function(kt){return each$1(dt,(Tt,Dt)=>Tt.update(this._getProps(kt,Tt,Dt))),this};const $t=function(kt,Tt,Dt){return is$1.fun(kt)?kt(Dt,Tt):kt};return et._getProps=$t,et};function useTransition(dt,et,$t){const kt=is$1.fun(et)&&et,{reset:Tt,sort:Dt,trail:Ft=0,expires:Ut=!0,exitBeforeEnter:Ht=!1,onDestroyed:Kt,ref:Yt,config:Jt}=kt?kt():et,Zt=reactExports.useMemo(()=>kt||arguments.length==3?SpringRef$1():void 0,[]),er=toArray$1(dt),rr=[],sr=reactExports.useRef(null),ir=Tt?null:sr.current;useIsomorphicLayoutEffect$1(()=>{sr.current=rr}),useOnce$1(()=>(each$1(rr,Pr=>{Zt==null||Zt.add(Pr.ctrl),Pr.ctrl.ref=Zt}),()=>{each$1(sr.current,Pr=>{Pr.expired&&clearTimeout(Pr.expirationId),detachRefs$1(Pr.ctrl,Zt),Pr.ctrl.stop(!0)})}));const nr=getKeys(er,kt?kt():et,ir),or=Tt&&sr.current||[];useIsomorphicLayoutEffect$1(()=>each$1(or,({ctrl:Pr,item:Mr,key:Rr})=>{detachRefs$1(Pr,Zt),callProp$1(Kt,Mr,Rr)}));const lr=[];if(ir&&each$1(ir,(Pr,Mr)=>{Pr.expired?(clearTimeout(Pr.expirationId),or.push(Pr)):(Mr=lr[Mr]=nr.indexOf(Pr.key),~Mr&&(rr[Mr]=Pr))}),each$1(er,(Pr,Mr)=>{rr[Mr]||(rr[Mr]={key:nr[Mr],item:Pr,phase:"mount",ctrl:new Controller$1},rr[Mr].ctrl.item=Pr)}),lr.length){let Pr=-1;const{leave:Mr}=kt?kt():et;each$1(lr,(Rr,Tr)=>{const xr=ir[Tr];~Rr?(Pr=rr.indexOf(xr),rr[Pr]={...xr,item:er[Rr]}):Mr&&rr.splice(++Pr,0,xr)})}is$1.fun(Dt)&&rr.sort((Pr,Mr)=>Dt(Pr.item,Mr.item));let cr=-Ft;const dr=useForceUpdate$1(),ur=getDefaultProps$1(et),pr=new Map,mr=reactExports.useRef(new Map),vr=reactExports.useRef(!1);each$1(rr,(Pr,Mr)=>{const Rr=Pr.key,Tr=Pr.phase,xr=kt?kt():et;let wr,zr;const Hr=callProp$1(xr.delay||0,Rr);if(Tr=="mount")wr=xr.enter,zr="enter";else{const Yr=nr.indexOf(Rr)<0;if(Tr!="leave")if(Yr)wr=xr.leave,zr="leave";else if(wr=xr.update)zr="update";else return;else if(!Yr)wr=xr.enter,zr="enter";else return}if(wr=callProp$1(wr,Pr.item,Mr),wr=is$1.obj(wr)?inferTo$1(wr):{to:wr},!wr.config){const Yr=Jt||ur.config;wr.config=callProp$1(Yr,Pr.item,Mr,zr)}cr+=Ft;const Gr={...ur,delay:Hr+cr,ref:Yt,immediate:xr.immediate,reset:!1,...wr};if(zr=="enter"&&is$1.und(Gr.from)){const Yr=kt?kt():et,es=is$1.und(Yr.initial)||ir?Yr.from:Yr.initial;Gr.from=callProp$1(es,Pr.item,Mr)}const{onResolve:Xr}=Gr;Gr.onResolve=Yr=>{callProp$1(Xr,Yr);const es=sr.current,ns=es.find(ms=>ms.key===Rr);if(ns&&!(Yr.cancelled&&ns.phase!="update")&&ns.ctrl.idle){const ms=es.every(ls=>ls.ctrl.idle);if(ns.phase=="leave"){const ls=callProp$1(Ut,ns.item);if(ls!==!1){const ds=ls===!0?0:ls;if(ns.expired=!0,!ms&&ds>0){ds<=2147483647&&(ns.expirationId=setTimeout(dr,ds));return}}}ms&&es.some(ls=>ls.expired)&&(mr.current.delete(ns),Ht&&(vr.current=!0),dr())}};const rs=getSprings$1(Pr.ctrl,Gr);zr==="leave"&&Ht?mr.current.set(Pr,{phase:zr,springs:rs,payload:Gr}):pr.set(Pr,{phase:zr,springs:rs,payload:Gr})});const kr=reactExports.useContext(SpringContext$1),br=usePrev$1(kr),_r=kr!==br&&hasProps$1(kr);useIsomorphicLayoutEffect$1(()=>{_r&&each$1(rr,Pr=>{Pr.ctrl.start({default:kr})})},[kr]),each$1(pr,(Pr,Mr)=>{if(mr.current.size){const Rr=rr.findIndex(Tr=>Tr.key===Mr.key);rr.splice(Rr,1)}}),useIsomorphicLayoutEffect$1(()=>{each$1(mr.current.size?mr.current:pr,({phase:Pr,payload:Mr},Rr)=>{const{ctrl:Tr}=Rr;Rr.phase=Pr,Zt==null||Zt.add(Tr),_r&&Pr=="enter"&&Tr.start({default:kr}),Mr&&(replaceRef$1(Tr,Mr.ref),(Tr.ref||Zt)&&!vr.current?Tr.update(Mr):(Tr.start(Mr),vr.current&&(vr.current=!1)))})},Tt?void 0:$t);const Or=Pr=>reactExports.createElement(reactExports.Fragment,null,rr.map((Mr,Rr)=>{const{springs:Tr}=pr.get(Mr)||Mr.ctrl,xr=Pr({...Tr},Mr.item,Mr,Rr),wr=is$1.str(Mr.key)||is$1.num(Mr.key)?Mr.key:Mr.ctrl.id,zr=reactExports.version<"19.0.0",Hr=(xr==null?void 0:xr.props)??{},Gr=zr?xr==null?void 0:xr.ref:Hr==null?void 0:Hr.ref;return xr&&xr.type?reactExports.createElement(xr.type,{...Hr,key:wr,ref:Gr}):xr}));return Zt?[Or,Zt]:Or}var nextKey=1;function getKeys(dt,{key:et,keys:$t=et},kt){if($t===null){const Tt=new Set;return dt.map(Dt=>{const Ft=kt&&kt.find(Ut=>Ut.item===Dt&&Ut.phase!=="leave"&&!Tt.has(Ut));return Ft?(Tt.add(Ft),Ft.key):nextKey++})}return is$1.und($t)?dt:is$1.fun($t)?dt.map($t):toArray$1($t)}var Interpolation$1=class extends FrameValue$1{constructor(et,$t){super(),this.source=et,this.idle=!0,this._active=new Set,this.calc=createInterpolator$1(...$t);const kt=this._get(),Tt=getAnimatedType$1(kt);setAnimated$1(this,Tt.create(kt))}advance(et){const $t=this._get(),kt=this.get();isEqual$1($t,kt)||(getAnimated$1(this).setValue($t),this._onChange($t,this.idle)),!this.idle&&checkIdle$1(this._active)&&becomeIdle$1(this)}_get(){const et=is$1.arr(this.source)?this.source.map(getFluidValue$1):toArray$1(getFluidValue$1(this.source));return this.calc(...et)}_start(){this.idle&&!checkIdle$1(this._active)&&(this.idle=!1,each$1(getPayload$1(this),et=>{et.done=!1}),globals_exports$1.skipAnimation?(raf$1.batchedUpdates(()=>this.advance()),becomeIdle$1(this)):frameLoop$1.start(this))}_attach(){let et=1;each$1(toArray$1(this.source),$t=>{hasFluidValue$1($t)&&addFluidObserver$1($t,this),isFrameValue$1($t)&&($t.idle||this._active.add($t),et=Math.max(et,$t.priority+1))}),this.priority=et,this._start()}_detach(){each$1(toArray$1(this.source),et=>{hasFluidValue$1(et)&&removeFluidObserver$1(et,this)}),this._active.clear(),becomeIdle$1(this)}eventObserved(et){et.type=="change"?et.idle?this.advance():(this._active.add(et.parent),this._start()):et.type=="idle"?this._active.delete(et.parent):et.type=="priority"&&(this.priority=toArray$1(this.source).reduce(($t,kt)=>Math.max($t,(isFrameValue$1(kt)?kt.priority:0)+1),0))}};function isIdle$1(dt){return dt.idle!==!1}function checkIdle$1(dt){return!dt.size||Array.from(dt).every(isIdle$1)}function becomeIdle$1(dt){dt.idle||(dt.idle=!0,each$1(getPayload$1(dt),et=>{et.done=!0}),callFluidObservers$1(dt,{type:"idle",parent:dt}))}var to$1=(dt,...et)=>new Interpolation$1(dt,et);globals_exports$1.assign({createStringInterpolator:createStringInterpolator2$1,to:(dt,et)=>new Interpolation$1(dt,et)});var isCustomPropRE$1=/^--/;function dangerousStyleValue$1(dt,et){return et==null||typeof et=="boolean"||et===""?"":typeof et=="number"&&et!==0&&!isCustomPropRE$1.test(dt)&&!(isUnitlessNumber$1.hasOwnProperty(dt)&&isUnitlessNumber$1[dt])?et+"px":(""+et).trim()}var attributeCache$1={};function applyAnimatedValues$1(dt,et){if(!dt.nodeType||!dt.setAttribute)return!1;const $t=dt.nodeName==="filter"||dt.parentNode&&dt.parentNode.nodeName==="filter",{className:kt,style:Tt,children:Dt,scrollTop:Ft,scrollLeft:Ut,viewBox:Ht,...Kt}=et,Yt=Object.values(Kt),Jt=Object.keys(Kt).map(Zt=>$t||dt.hasAttribute(Zt)?Zt:attributeCache$1[Zt]||(attributeCache$1[Zt]=Zt.replace(/([A-Z])/g,er=>"-"+er.toLowerCase())));Dt!==void 0&&(dt.textContent=Dt);for(const Zt in Tt)if(Tt.hasOwnProperty(Zt)){const er=dangerousStyleValue$1(Zt,Tt[Zt]);isCustomPropRE$1.test(Zt)?dt.style.setProperty(Zt,er):dt.style[Zt]=er}Jt.forEach((Zt,er)=>{dt.setAttribute(Zt,Yt[er])}),kt!==void 0&&(dt.className=kt),Ft!==void 0&&(dt.scrollTop=Ft),Ut!==void 0&&(dt.scrollLeft=Ut),Ht!==void 0&&dt.setAttribute("viewBox",Ht)}var isUnitlessNumber$1={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},prefixKey$1=(dt,et)=>dt+et.charAt(0).toUpperCase()+et.substring(1),prefixes$1=["Webkit","Ms","Moz","O"];isUnitlessNumber$1=Object.keys(isUnitlessNumber$1).reduce((dt,et)=>(prefixes$1.forEach($t=>dt[prefixKey$1($t,et)]=dt[et]),dt),isUnitlessNumber$1);var domTransforms$1=/^(matrix|translate|scale|rotate|skew)/,pxTransforms$1=/^(translate)/,degTransforms$1=/^(rotate|skew)/,addUnit$1=(dt,et)=>is$1.num(dt)&&dt!==0?dt+et:dt,isValueIdentity$1=(dt,et)=>is$1.arr(dt)?dt.every($t=>isValueIdentity$1($t,et)):is$1.num(dt)?dt===et:parseFloat(dt)===et,AnimatedStyle$1=class extends AnimatedObject$1{constructor({x:et,y:$t,z:kt,...Tt}){const Dt=[],Ft=[];(et||$t||kt)&&(Dt.push([et||0,$t||0,kt||0]),Ft.push(Ut=>[`translate3d(${Ut.map(Ht=>addUnit$1(Ht,"px")).join(",")})`,isValueIdentity$1(Ut,0)])),eachProp$1(Tt,(Ut,Ht)=>{if(Ht==="transform")Dt.push([Ut||""]),Ft.push(Kt=>[Kt,Kt===""]);else if(domTransforms$1.test(Ht)){if(delete Tt[Ht],is$1.und(Ut))return;const Kt=pxTransforms$1.test(Ht)?"px":degTransforms$1.test(Ht)?"deg":"";Dt.push(toArray$1(Ut)),Ft.push(Ht==="rotate3d"?([Yt,Jt,Zt,er])=>[`rotate3d(${Yt},${Jt},${Zt},${addUnit$1(er,Kt)})`,isValueIdentity$1(er,0)]:Yt=>[`${Ht}(${Yt.map(Jt=>addUnit$1(Jt,Kt)).join(",")})`,isValueIdentity$1(Yt,Ht.startsWith("scale")?1:0)])}}),Dt.length&&(Tt.transform=new FluidTransform$1(Dt,Ft)),super(Tt)}},FluidTransform$1=class extends FluidValue$1{constructor(et,$t){super(),this.inputs=et,this.transforms=$t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let et="",$t=!0;return each$1(this.inputs,(kt,Tt)=>{const Dt=getFluidValue$1(kt[0]),[Ft,Ut]=this.transforms[Tt](is$1.arr(Dt)?Dt:kt.map(getFluidValue$1));et+=" "+Ft,$t=$t&&Ut}),$t?"none":et}observerAdded(et){et==1&&each$1(this.inputs,$t=>each$1($t,kt=>hasFluidValue$1(kt)&&addFluidObserver$1(kt,this)))}observerRemoved(et){et==0&&each$1(this.inputs,$t=>each$1($t,kt=>hasFluidValue$1(kt)&&removeFluidObserver$1(kt,this)))}eventObserved(et){et.type=="change"&&(this._value=null),callFluidObservers$1(this,et)}},primitives$1=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];globals_exports$1.assign({batchedUpdates:reactDomExports.unstable_batchedUpdates,createStringInterpolator:createStringInterpolator2$1,colors:colors2$1});var host$1=createHost$1(primitives$1,{applyAnimatedValues:applyAnimatedValues$1,createAnimatedStyle:dt=>new AnimatedStyle$1(dt),getComponentProps:({scrollTop:dt,scrollLeft:et,...$t})=>$t}),animated$1=host$1.animated,baseEach=_baseEach;function baseFilter$1(dt,et){var $t=[];return baseEach(dt,function(kt,Tt,Dt){et(kt,Tt,Dt)&&$t.push(kt)}),$t}var _baseFilter=baseFilter$1,arrayFilter=_arrayFilter,baseFilter=_baseFilter,baseIteratee=_baseIteratee,isArray$1=isArray_1;function filter(dt,et){var $t=isArray$1(dt)?arrayFilter:baseFilter;return $t(dt,baseIteratee(et))}var filter_1=filter;const o$1=getDefaultExportFromCjs(filter_1);var baseGetTag=_baseGetTag,isObjectLike$2=isObjectLike_1,numberTag$2="[object Number]";function isNumber(dt){return typeof dt=="number"||isObjectLike$2(dt)&&baseGetTag(dt)==numberTag$2}var isNumber_1=isNumber;const e=getDefaultExportFromCjs(isNumber_1);function arrayEach$1(dt,et){for(var $t=-1,kt=dt==null?0:dt.length;++$t<kt&&et(dt[$t],$t,dt)!==!1;);return dt}var _arrayEach=arrayEach$1,copyObject$4=_copyObject,keys$1=keys_1;function baseAssign$1(dt,et){return dt&&copyObject$4(et,keys$1(et),dt)}var _baseAssign=baseAssign$1,copyObject$3=_copyObject,keysIn$2=keysIn_1;function baseAssignIn$1(dt,et){return dt&&copyObject$3(et,keysIn$2(et),dt)}var _baseAssignIn=baseAssignIn$1,copyObject$2=_copyObject,getSymbols$1=_getSymbols;function copySymbols$1(dt,et){return copyObject$2(dt,getSymbols$1(dt),et)}var _copySymbols=copySymbols$1,arrayPush=_arrayPush,getPrototype=_getPrototype,getSymbols=_getSymbols,stubArray=stubArray_1,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbolsIn$2=nativeGetSymbols?function(dt){for(var et=[];dt;)arrayPush(et,getSymbols(dt)),dt=getPrototype(dt);return et}:stubArray,_getSymbolsIn=getSymbolsIn$2,copyObject$1=_copyObject,getSymbolsIn$1=_getSymbolsIn;function copySymbolsIn$1(dt,et){return copyObject$1(dt,getSymbolsIn$1(dt),et)}var _copySymbolsIn=copySymbolsIn$1,baseGetAllKeys=_baseGetAllKeys,getSymbolsIn=_getSymbolsIn,keysIn$1=keysIn_1;function getAllKeysIn$2(dt){return baseGetAllKeys(dt,keysIn$1,getSymbolsIn)}var _getAllKeysIn=getAllKeysIn$2,objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function initCloneArray$1(dt){var et=dt.length,$t=new dt.constructor(et);return et&&typeof dt[0]=="string"&&hasOwnProperty.call(dt,"index")&&($t.index=dt.index,$t.input=dt.input),$t}var _initCloneArray=initCloneArray$1,cloneArrayBuffer$1=_cloneArrayBuffer;function cloneDataView$1(dt,et){var $t=et?cloneArrayBuffer$1(dt.buffer):dt.buffer;return new dt.constructor($t,dt.byteOffset,dt.byteLength)}var _cloneDataView=cloneDataView$1,reFlags=/\w*$/;function cloneRegExp$1(dt){var et=new dt.constructor(dt.source,reFlags.exec(dt));return et.lastIndex=dt.lastIndex,et}var _cloneRegExp=cloneRegExp$1,Symbol$1=_Symbol,symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function cloneSymbol$1(dt){return symbolValueOf?Object(symbolValueOf.call(dt)):{}}var _cloneSymbol=cloneSymbol$1,cloneArrayBuffer=_cloneArrayBuffer,cloneDataView=_cloneDataView,cloneRegExp=_cloneRegExp,cloneSymbol=_cloneSymbol,cloneTypedArray=_cloneTypedArray,boolTag$1="[object Boolean]",dateTag$1="[object Date]",mapTag$2="[object Map]",numberTag$1="[object Number]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",symbolTag$1="[object Symbol]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag$1="[object Float32Array]",float64Tag$1="[object Float64Array]",int8Tag$1="[object Int8Array]",int16Tag$1="[object Int16Array]",int32Tag$1="[object Int32Array]",uint8Tag$1="[object Uint8Array]",uint8ClampedTag$1="[object Uint8ClampedArray]",uint16Tag$1="[object Uint16Array]",uint32Tag$1="[object Uint32Array]";function initCloneByTag$1(dt,et,$t){var kt=dt.constructor;switch(et){case arrayBufferTag$1:return cloneArrayBuffer(dt);case boolTag$1:case dateTag$1:return new kt(+dt);case dataViewTag$1:return cloneDataView(dt,$t);case float32Tag$1:case float64Tag$1:case int8Tag$1:case int16Tag$1:case int32Tag$1:case uint8Tag$1:case uint8ClampedTag$1:case uint16Tag$1:case uint32Tag$1:return cloneTypedArray(dt,$t);case mapTag$2:return new kt;case numberTag$1:case stringTag$1:return new kt(dt);case regexpTag$1:return cloneRegExp(dt);case setTag$2:return new kt;case symbolTag$1:return cloneSymbol(dt)}}var _initCloneByTag=initCloneByTag$1,getTag$2=_getTag,isObjectLike$1=isObjectLike_1,mapTag$1="[object Map]";function baseIsMap$1(dt){return isObjectLike$1(dt)&&getTag$2(dt)==mapTag$1}var _baseIsMap=baseIsMap$1,baseIsMap=_baseIsMap,baseUnary$1=_baseUnary,nodeUtil$1=_nodeUtilExports,nodeIsMap=nodeUtil$1&&nodeUtil$1.isMap,isMap$1=nodeIsMap?baseUnary$1(nodeIsMap):baseIsMap,isMap_1=isMap$1,getTag$1=_getTag,isObjectLike=isObjectLike_1,setTag$1="[object Set]";function baseIsSet$1(dt){return isObjectLike(dt)&&getTag$1(dt)==setTag$1}var _baseIsSet=baseIsSet$1,baseIsSet=_baseIsSet,baseUnary=_baseUnary,nodeUtil=_nodeUtilExports,nodeIsSet=nodeUtil&&nodeUtil.isSet,isSet$1=nodeIsSet?baseUnary(nodeIsSet):baseIsSet,isSet_1=isSet$1,Stack=_Stack,arrayEach=_arrayEach,assignValue=_assignValue,baseAssign=_baseAssign,baseAssignIn=_baseAssignIn,cloneBuffer=_cloneBufferExports,copyArray=_copyArray,copySymbols=_copySymbols,copySymbolsIn=_copySymbolsIn,getAllKeys=_getAllKeys,getAllKeysIn$1=_getAllKeysIn,getTag=_getTag,initCloneArray=_initCloneArray,initCloneByTag=_initCloneByTag,initCloneObject=_initCloneObject,isArray=isArray_1,isBuffer=isBufferExports,isMap=isMap_1,isObject=isObject_1,isSet=isSet_1,keys=keys_1,keysIn=keysIn_1,CLONE_DEEP_FLAG$1=1,CLONE_FLAT_FLAG$1=2,CLONE_SYMBOLS_FLAG$1=4,argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[dataViewTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[setTag]=cloneableTags[stringTag]=cloneableTags[symbolTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0;cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=!1;function baseClone$1(dt,et,$t,kt,Tt,Dt){var Ft,Ut=et&CLONE_DEEP_FLAG$1,Ht=et&CLONE_FLAT_FLAG$1,Kt=et&CLONE_SYMBOLS_FLAG$1;if($t&&(Ft=Tt?$t(dt,kt,Tt,Dt):$t(dt)),Ft!==void 0)return Ft;if(!isObject(dt))return dt;var Yt=isArray(dt);if(Yt){if(Ft=initCloneArray(dt),!Ut)return copyArray(dt,Ft)}else{var Jt=getTag(dt),Zt=Jt==funcTag||Jt==genTag;if(isBuffer(dt))return cloneBuffer(dt,Ut);if(Jt==objectTag||Jt==argsTag||Zt&&!Tt){if(Ft=Ht||Zt?{}:initCloneObject(dt),!Ut)return Ht?copySymbolsIn(dt,baseAssignIn(Ft,dt)):copySymbols(dt,baseAssign(Ft,dt))}else{if(!cloneableTags[Jt])return Tt?dt:{};Ft=initCloneByTag(dt,Jt,Ut)}}Dt||(Dt=new Stack);var er=Dt.get(dt);if(er)return er;Dt.set(dt,Ft),isSet(dt)?dt.forEach(function(ir){Ft.add(baseClone$1(ir,et,$t,ir,dt,Dt))}):isMap(dt)&&dt.forEach(function(ir,nr){Ft.set(nr,baseClone$1(ir,et,$t,nr,dt,Dt))});var rr=Kt?Ht?getAllKeysIn$1:getAllKeys:Ht?keysIn:keys,sr=Yt?void 0:rr(dt);return arrayEach(sr||dt,function(ir,nr){sr&&(nr=ir,ir=dt[nr]),assignValue(Ft,nr,baseClone$1(ir,et,$t,nr,dt,Dt))}),Ft}var _baseClone=baseClone$1;function baseSlice$1(dt,et,$t){var kt=-1,Tt=dt.length;et<0&&(et=-et>Tt?0:Tt+et),$t=$t>Tt?Tt:$t,$t<0&&($t+=Tt),Tt=et>$t?0:$t-et>>>0,et>>>=0;for(var Dt=Array(Tt);++kt<Tt;)Dt[kt]=dt[kt+et];return Dt}var _baseSlice=baseSlice$1,baseGet=_baseGet,baseSlice=_baseSlice;function parent$1(dt,et){return et.length<2?dt:baseGet(dt,baseSlice(et,0,-1))}var _parent=parent$1,castPath$1=_castPath,last=last_1,parent=_parent,toKey=_toKey;function baseUnset$1(dt,et){return et=castPath$1(et,dt),dt=parent(dt,et),dt==null||delete dt[toKey(last(et))]}var _baseUnset=baseUnset$1,isPlainObject=isPlainObject_1;function customOmitClone$1(dt){return isPlainObject(dt)?void 0:dt}var _customOmitClone=customOmitClone$1,arrayMap=_arrayMap,baseClone=_baseClone,baseUnset=_baseUnset,castPath=_castPath,copyObject=_copyObject,customOmitClone=_customOmitClone,flatRest=_flatRest,getAllKeysIn=_getAllKeysIn,CLONE_DEEP_FLAG=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG=4,omit=flatRest(function(dt,et){var $t={};if(dt==null)return $t;var kt=!1;et=arrayMap(et,function(Dt){return Dt=castPath(Dt,dt),kt||(kt=Dt.length>1),Dt}),copyObject(dt,getAllKeysIn(dt),$t),kt&&($t=baseClone($t,CLONE_DEEP_FLAG|CLONE_FLAT_FLAG|CLONE_SYMBOLS_FLAG,customOmitClone));for(var Tt=et.length;Tt--;)baseUnset($t,et[Tt]);return $t}),omit_1=omit;const a=getDefaultExportFromCjs(omit_1);var updateQueue=makeQueue(),raf=dt=>schedule(dt,updateQueue),writeQueue=makeQueue();raf.write=dt=>schedule(dt,writeQueue);var onStartQueue=makeQueue();raf.onStart=dt=>schedule(dt,onStartQueue);var onFrameQueue=makeQueue();raf.onFrame=dt=>schedule(dt,onFrameQueue);var onFinishQueue=makeQueue();raf.onFinish=dt=>schedule(dt,onFinishQueue);var timeouts=[];raf.setTimeout=(dt,et)=>{const $t=raf.now()+et,kt=()=>{const Dt=timeouts.findIndex(Ft=>Ft.cancel==kt);~Dt&&timeouts.splice(Dt,1),pendingCount-=~Dt?1:0},Tt={time:$t,handler:dt,cancel:kt};return timeouts.splice(findTimeout($t),0,Tt),pendingCount+=1,start(),Tt};var findTimeout=dt=>~(~timeouts.findIndex(et=>et.time>dt)||~timeouts.length);raf.cancel=dt=>{onStartQueue.delete(dt),onFrameQueue.delete(dt),onFinishQueue.delete(dt),updateQueue.delete(dt),writeQueue.delete(dt)};raf.sync=dt=>{sync=!0,raf.batchedUpdates(dt),sync=!1};raf.throttle=dt=>{let et;function $t(){try{dt(...et)}finally{et=null}}function kt(...Tt){et=Tt,raf.onStart($t)}return kt.handler=dt,kt.cancel=()=>{onStartQueue.delete($t),et=null},kt};var nativeRaf=typeof window<"u"?window.requestAnimationFrame:()=>{};raf.use=dt=>nativeRaf=dt;raf.now=typeof performance<"u"?()=>performance.now():Date.now;raf.batchedUpdates=dt=>dt();raf.catch=console.error;raf.frameLoop="always";raf.advance=()=>{raf.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):update()};var ts=-1,pendingCount=0,sync=!1;function schedule(dt,et){sync?(et.delete(dt),dt(0)):(et.add(dt),start())}function start(){ts<0&&(ts=0,raf.frameLoop!=="demand"&&nativeRaf(loop))}function stop(){ts=-1}function loop(){~ts&&(nativeRaf(loop),raf.batchedUpdates(update))}function update(){const dt=ts;ts=raf.now();const et=findTimeout(ts);if(et&&(eachSafely(timeouts.splice(0,et),$t=>$t.handler()),pendingCount-=et),!pendingCount){stop();return}onStartQueue.flush(),updateQueue.flush(dt?Math.min(64,ts-dt):16.667),onFrameQueue.flush(),writeQueue.flush(),onFinishQueue.flush()}function makeQueue(){let dt=new Set,et=dt;return{add($t){pendingCount+=et==dt&&!dt.has($t)?1:0,dt.add($t)},delete($t){return pendingCount-=et==dt&&dt.has($t)?1:0,dt.delete($t)},flush($t){et.size&&(dt=new Set,pendingCount-=et.size,eachSafely(et,kt=>kt($t)&&dt.add(kt)),pendingCount+=dt.size,et=dt)}}}function eachSafely(dt,et){dt.forEach($t=>{try{et($t)}catch(kt){raf.catch(kt)}})}var __defProp=Object.defineProperty,__export=(dt,et)=>{for(var $t in et)__defProp(dt,$t,{get:et[$t],enumerable:!0})},globals_exports={};__export(globals_exports,{assign:()=>assign,colors:()=>colors,createStringInterpolator:()=>createStringInterpolator,skipAnimation:()=>skipAnimation,to:()=>to,willAdvance:()=>willAdvance});function noop(){}var defineHidden=(dt,et,$t)=>Object.defineProperty(dt,et,{value:$t,writable:!0,configurable:!0}),is={arr:Array.isArray,obj:dt=>!!dt&&dt.constructor.name==="Object",fun:dt=>typeof dt=="function",str:dt=>typeof dt=="string",num:dt=>typeof dt=="number",und:dt=>dt===void 0};function isEqual(dt,et){if(is.arr(dt)){if(!is.arr(et)||dt.length!==et.length)return!1;for(let $t=0;$t<dt.length;$t++)if(dt[$t]!==et[$t])return!1;return!0}return dt===et}var each=(dt,et)=>dt.forEach(et);function eachProp(dt,et,$t){if(is.arr(dt)){for(let kt=0;kt<dt.length;kt++)et.call($t,dt[kt],`${kt}`);return}for(const kt in dt)dt.hasOwnProperty(kt)&&et.call($t,dt[kt],kt)}var toArray=dt=>is.und(dt)?[]:is.arr(dt)?dt:[dt];function flush(dt,et){if(dt.size){const $t=Array.from(dt);dt.clear(),each($t,et)}}var flushCalls=(dt,...et)=>flush(dt,$t=>$t(...et)),isSSR=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),createStringInterpolator,to,colors=null,skipAnimation=!1,willAdvance=noop,assign=dt=>{dt.to&&(to=dt.to),dt.now&&(raf.now=dt.now),dt.colors!==void 0&&(colors=dt.colors),dt.skipAnimation!=null&&(skipAnimation=dt.skipAnimation),dt.createStringInterpolator&&(createStringInterpolator=dt.createStringInterpolator),dt.requestAnimationFrame&&raf.use(dt.requestAnimationFrame),dt.batchedUpdates&&(raf.batchedUpdates=dt.batchedUpdates),dt.willAdvance&&(willAdvance=dt.willAdvance),dt.frameLoop&&(raf.frameLoop=dt.frameLoop)},startQueue=new Set,currentFrame=[],prevFrame=[],priority=0,frameLoop={get idle(){return!startQueue.size&&!currentFrame.length},start(dt){priority>dt.priority?(startQueue.add(dt),raf.onStart(flushStartQueue)):(startSafely(dt),raf(advance))},advance,sort(dt){if(priority)raf.onFrame(()=>frameLoop.sort(dt));else{const et=currentFrame.indexOf(dt);~et&&(currentFrame.splice(et,1),startUnsafely(dt))}},clear(){currentFrame=[],startQueue.clear()}};function flushStartQueue(){startQueue.forEach(startSafely),startQueue.clear(),raf(advance)}function startSafely(dt){currentFrame.includes(dt)||startUnsafely(dt)}function startUnsafely(dt){currentFrame.splice(findIndex(currentFrame,et=>et.priority>dt.priority),0,dt)}function advance(dt){const et=prevFrame;for(let $t=0;$t<currentFrame.length;$t++){const kt=currentFrame[$t];priority=kt.priority,kt.idle||(willAdvance(kt),kt.advance(dt),kt.idle||et.push(kt))}return priority=0,prevFrame=currentFrame,prevFrame.length=0,currentFrame=et,currentFrame.length>0}function findIndex(dt,et){const $t=dt.findIndex(et);return $t<0?dt.length:$t}var clamp=(dt,et,$t)=>Math.min(Math.max($t,dt),et),colors2={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},NUMBER="[-+]?\\d*\\.?\\d+",PERCENTAGE=NUMBER+"%";function call(...dt){return"\\(\\s*("+dt.join(")\\s*,\\s*(")+")\\s*\\)"}var rgb=new RegExp("rgb"+call(NUMBER,NUMBER,NUMBER)),rgba=new RegExp("rgba"+call(NUMBER,NUMBER,NUMBER,NUMBER)),hsl=new RegExp("hsl"+call(NUMBER,PERCENTAGE,PERCENTAGE)),hsla=new RegExp("hsla"+call(NUMBER,PERCENTAGE,PERCENTAGE,NUMBER)),hex3=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex4=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6=/^#([0-9a-fA-F]{6})$/,hex8=/^#([0-9a-fA-F]{8})$/;function normalizeColor(dt){let et;return typeof dt=="number"?dt>>>0===dt&&dt>=0&&dt<=4294967295?dt:null:(et=hex6.exec(dt))?parseInt(et[1]+"ff",16)>>>0:colors&&colors[dt]!==void 0?colors[dt]:(et=rgb.exec(dt))?(parse255(et[1])<<24|parse255(et[2])<<16|parse255(et[3])<<8|255)>>>0:(et=rgba.exec(dt))?(parse255(et[1])<<24|parse255(et[2])<<16|parse255(et[3])<<8|parse1(et[4]))>>>0:(et=hex3.exec(dt))?parseInt(et[1]+et[1]+et[2]+et[2]+et[3]+et[3]+"ff",16)>>>0:(et=hex8.exec(dt))?parseInt(et[1],16)>>>0:(et=hex4.exec(dt))?parseInt(et[1]+et[1]+et[2]+et[2]+et[3]+et[3]+et[4]+et[4],16)>>>0:(et=hsl.exec(dt))?(hslToRgb(parse360(et[1]),parsePercentage(et[2]),parsePercentage(et[3]))|255)>>>0:(et=hsla.exec(dt))?(hslToRgb(parse360(et[1]),parsePercentage(et[2]),parsePercentage(et[3]))|parse1(et[4]))>>>0:null}function hue2rgb(dt,et,$t){return $t<0&&($t+=1),$t>1&&($t-=1),$t<1/6?dt+(et-dt)*6*$t:$t<1/2?et:$t<2/3?dt+(et-dt)*(2/3-$t)*6:dt}function hslToRgb(dt,et,$t){const kt=$t<.5?$t*(1+et):$t+et-$t*et,Tt=2*$t-kt,Dt=hue2rgb(Tt,kt,dt+1/3),Ft=hue2rgb(Tt,kt,dt),Ut=hue2rgb(Tt,kt,dt-1/3);return Math.round(Dt*255)<<24|Math.round(Ft*255)<<16|Math.round(Ut*255)<<8}function parse255(dt){const et=parseInt(dt,10);return et<0?0:et>255?255:et}function parse360(dt){return(parseFloat(dt)%360+360)%360/360}function parse1(dt){const et=parseFloat(dt);return et<0?0:et>1?255:Math.round(et*255)}function parsePercentage(dt){const et=parseFloat(dt);return et<0?0:et>100?1:et/100}function colorToRgba(dt){let et=normalizeColor(dt);if(et===null)return dt;et=et||0;const $t=(et&4278190080)>>>24,kt=(et&16711680)>>>16,Tt=(et&65280)>>>8,Dt=(et&255)/255;return`rgba(${$t}, ${kt}, ${Tt}, ${Dt})`}var createInterpolator=(dt,et,$t)=>{if(is.fun(dt))return dt;if(is.arr(dt))return createInterpolator({range:dt,output:et,extrapolate:$t});if(is.str(dt.output[0]))return createStringInterpolator(dt);const kt=dt,Tt=kt.output,Dt=kt.range||[0,1],Ft=kt.extrapolateLeft||kt.extrapolate||"extend",Ut=kt.extrapolateRight||kt.extrapolate||"extend",Ht=kt.easing||(Kt=>Kt);return Kt=>{const Yt=findRange(Kt,Dt);return interpolate(Kt,Dt[Yt],Dt[Yt+1],Tt[Yt],Tt[Yt+1],Ht,Ft,Ut,kt.map)}};function interpolate(dt,et,$t,kt,Tt,Dt,Ft,Ut,Ht){let Kt=Ht?Ht(dt):dt;if(Kt<et){if(Ft==="identity")return Kt;Ft==="clamp"&&(Kt=et)}if(Kt>$t){if(Ut==="identity")return Kt;Ut==="clamp"&&(Kt=$t)}return kt===Tt?kt:et===$t?dt<=et?kt:Tt:(et===-1/0?Kt=-Kt:$t===1/0?Kt=Kt-et:Kt=(Kt-et)/($t-et),Kt=Dt(Kt),kt===-1/0?Kt=-Kt:Tt===1/0?Kt=Kt+kt:Kt=Kt*(Tt-kt)+kt,Kt)}function findRange(dt,et){for(var $t=1;$t<et.length-1&&!(et[$t]>=dt);++$t);return $t-1}var steps=(dt,et="end")=>$t=>{$t=et==="end"?Math.min($t,.999):Math.max($t,.001);const kt=$t*dt,Tt=et==="end"?Math.floor(kt):Math.ceil(kt);return clamp(0,1,Tt/dt)},c1=1.70158,c2=c1*1.525,c3=c1+1,c4=2*Math.PI/3,c5=2*Math.PI/4.5,bounceOut=dt=>dt<1/2.75?7.5625*dt*dt:dt<2/2.75?7.5625*(dt-=1.5/2.75)*dt+.75:dt<2.5/2.75?7.5625*(dt-=2.25/2.75)*dt+.9375:7.5625*(dt-=2.625/2.75)*dt+.984375,easings={linear:dt=>dt,easeInQuad:dt=>dt*dt,easeOutQuad:dt=>1-(1-dt)*(1-dt),easeInOutQuad:dt=>dt<.5?2*dt*dt:1-Math.pow(-2*dt+2,2)/2,easeInCubic:dt=>dt*dt*dt,easeOutCubic:dt=>1-Math.pow(1-dt,3),easeInOutCubic:dt=>dt<.5?4*dt*dt*dt:1-Math.pow(-2*dt+2,3)/2,easeInQuart:dt=>dt*dt*dt*dt,easeOutQuart:dt=>1-Math.pow(1-dt,4),easeInOutQuart:dt=>dt<.5?8*dt*dt*dt*dt:1-Math.pow(-2*dt+2,4)/2,easeInQuint:dt=>dt*dt*dt*dt*dt,easeOutQuint:dt=>1-Math.pow(1-dt,5),easeInOutQuint:dt=>dt<.5?16*dt*dt*dt*dt*dt:1-Math.pow(-2*dt+2,5)/2,easeInSine:dt=>1-Math.cos(dt*Math.PI/2),easeOutSine:dt=>Math.sin(dt*Math.PI/2),easeInOutSine:dt=>-(Math.cos(Math.PI*dt)-1)/2,easeInExpo:dt=>dt===0?0:Math.pow(2,10*dt-10),easeOutExpo:dt=>dt===1?1:1-Math.pow(2,-10*dt),easeInOutExpo:dt=>dt===0?0:dt===1?1:dt<.5?Math.pow(2,20*dt-10)/2:(2-Math.pow(2,-20*dt+10))/2,easeInCirc:dt=>1-Math.sqrt(1-Math.pow(dt,2)),easeOutCirc:dt=>Math.sqrt(1-Math.pow(dt-1,2)),easeInOutCirc:dt=>dt<.5?(1-Math.sqrt(1-Math.pow(2*dt,2)))/2:(Math.sqrt(1-Math.pow(-2*dt+2,2))+1)/2,easeInBack:dt=>c3*dt*dt*dt-c1*dt*dt,easeOutBack:dt=>1+c3*Math.pow(dt-1,3)+c1*Math.pow(dt-1,2),easeInOutBack:dt=>dt<.5?Math.pow(2*dt,2)*((c2+1)*2*dt-c2)/2:(Math.pow(2*dt-2,2)*((c2+1)*(dt*2-2)+c2)+2)/2,easeInElastic:dt=>dt===0?0:dt===1?1:-Math.pow(2,10*dt-10)*Math.sin((dt*10-10.75)*c4),easeOutElastic:dt=>dt===0?0:dt===1?1:Math.pow(2,-10*dt)*Math.sin((dt*10-.75)*c4)+1,easeInOutElastic:dt=>dt===0?0:dt===1?1:dt<.5?-(Math.pow(2,20*dt-10)*Math.sin((20*dt-11.125)*c5))/2:Math.pow(2,-20*dt+10)*Math.sin((20*dt-11.125)*c5)/2+1,easeInBounce:dt=>1-bounceOut(1-dt),easeOutBounce:bounceOut,easeInOutBounce:dt=>dt<.5?(1-bounceOut(1-2*dt))/2:(1+bounceOut(2*dt-1))/2,steps},$get=Symbol.for("FluidValue.get"),$observers=Symbol.for("FluidValue.observers"),hasFluidValue=dt=>!!(dt&&dt[$get]),getFluidValue=dt=>dt&&dt[$get]?dt[$get]():dt,getFluidObservers=dt=>dt[$observers]||null;function callFluidObserver(dt,et){dt.eventObserved?dt.eventObserved(et):dt(et)}function callFluidObservers(dt,et){const $t=dt[$observers];$t&&$t.forEach(kt=>{callFluidObserver(kt,et)})}var FluidValue=class{constructor(dt){if(!dt&&!(dt=this.get))throw Error("Unknown getter");setFluidGetter(this,dt)}},setFluidGetter=(dt,et)=>setHidden(dt,$get,et);function addFluidObserver(dt,et){if(dt[$get]){let $t=dt[$observers];$t||setHidden(dt,$observers,$t=new Set),$t.has(et)||($t.add(et),dt.observerAdded&&dt.observerAdded($t.size,et))}return et}function removeFluidObserver(dt,et){const $t=dt[$observers];if($t&&$t.has(et)){const kt=$t.size-1;kt?$t.delete(et):dt[$observers]=null,dt.observerRemoved&&dt.observerRemoved(kt,et)}}var setHidden=(dt,et,$t)=>Object.defineProperty(dt,et,{value:$t,writable:!0,configurable:!0}),numberRegex=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,colorRegex=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,unitRegex=new RegExp(`(${numberRegex.source})(%|[a-z]+)`,"i"),rgbaRegex=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,cssVariableRegex=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,variableToRgba=dt=>{const[et,$t]=parseCSSVariable(dt);if(!et||isSSR())return dt;const kt=window.getComputedStyle(document.documentElement).getPropertyValue(et);if(kt)return kt.trim();if($t&&$t.startsWith("--")){const Tt=window.getComputedStyle(document.documentElement).getPropertyValue($t);return Tt||dt}else{if($t&&cssVariableRegex.test($t))return variableToRgba($t);if($t)return $t}return dt},parseCSSVariable=dt=>{const et=cssVariableRegex.exec(dt);if(!et)return[,];const[,$t,kt]=et;return[$t,kt]},namedColorRegex,rgbaRound=(dt,et,$t,kt,Tt)=>`rgba(${Math.round(et)}, ${Math.round($t)}, ${Math.round(kt)}, ${Tt})`,createStringInterpolator2=dt=>{namedColorRegex||(namedColorRegex=colors?new RegExp(`(${Object.keys(colors).join("|")})(?!\\w)`,"g"):/^\b$/);const et=dt.output.map(Dt=>getFluidValue(Dt).replace(cssVariableRegex,variableToRgba).replace(colorRegex,colorToRgba).replace(namedColorRegex,colorToRgba)),$t=et.map(Dt=>Dt.match(numberRegex).map(Number)),Tt=$t[0].map((Dt,Ft)=>$t.map(Ut=>{if(!(Ft in Ut))throw Error('The arity of each "output" value must be equal');return Ut[Ft]})).map(Dt=>createInterpolator({...dt,output:Dt}));return Dt=>{var Ht;const Ft=!unitRegex.test(et[0])&&((Ht=et.find(Kt=>unitRegex.test(Kt)))==null?void 0:Ht.replace(numberRegex,""));let Ut=0;return et[0].replace(numberRegex,()=>`${Tt[Ut++](Dt)}${Ft||""}`).replace(rgbaRegex,rgbaRound)}},prefix="react-spring: ",once=dt=>{const et=dt;let $t=!1;if(typeof et!="function")throw new TypeError(`${prefix}once requires a function parameter`);return(...kt)=>{$t||(et(...kt),$t=!0)}},warnInterpolate=once(console.warn);function deprecateInterpolate(){warnInterpolate(`${prefix}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var warnDirectCall=once(console.warn);function deprecateDirectCall(){warnDirectCall(`${prefix}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function isAnimatedString(dt){return is.str(dt)&&(dt[0]=="#"||/\d/.test(dt)||!isSSR()&&cssVariableRegex.test(dt)||dt in(colors||{}))}var useIsomorphicLayoutEffect=isSSR()?reactExports.useEffect:reactExports.useLayoutEffect,useIsMounted=()=>{const dt=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>(dt.current=!0,()=>{dt.current=!1}),[]),dt};function useForceUpdate(){const dt=reactExports.useState()[1],et=useIsMounted();return()=>{et.current&&dt(Math.random())}}var useOnce=dt=>reactExports.useEffect(dt,emptyDeps),emptyDeps=[];function usePrev(dt){const et=reactExports.useRef(void 0);return reactExports.useEffect(()=>{et.current=dt}),et.current}var $node=Symbol.for("Animated:node"),isAnimated=dt=>!!dt&&dt[$node]===dt,getAnimated=dt=>dt&&dt[$node],setAnimated=(dt,et)=>defineHidden(dt,$node,et),getPayload=dt=>dt&&dt[$node]&&dt[$node].getPayload(),Animated=class{constructor(){setAnimated(this,this)}getPayload(){return this.payload||[]}},AnimatedValue=class sC extends Animated{constructor(et){super(),this._value=et,this.done=!0,this.durationProgress=0,is.num(this._value)&&(this.lastPosition=this._value)}static create(et){return new sC(et)}getPayload(){return[this]}getValue(){return this._value}setValue(et,$t){return is.num(et)&&(this.lastPosition=et,$t&&(et=Math.round(et/$t)*$t,this.done&&(this.lastPosition=et))),this._value===et?!1:(this._value=et,!0)}reset(){const{done:et}=this;this.done=!1,is.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,et&&(this.lastVelocity=null),this.v0=null)}},AnimatedString=class nC extends AnimatedValue{constructor(et){super(0),this._string=null,this._toString=createInterpolator({output:[et,et]})}static create(et){return new nC(et)}getValue(){const et=this._string;return et??(this._string=this._toString(this._value))}setValue(et){if(is.str(et)){if(et==this._string)return!1;this._string=et,this._value=1}else if(super.setValue(et))this._string=null;else return!1;return!0}reset(et){et&&(this._toString=createInterpolator({output:[this.getValue(),et]})),this._value=0,super.reset()}},TreeContext={dependencies:null},AnimatedObject=class extends Animated{constructor(dt){super(),this.source=dt,this.setValue(dt)}getValue(dt){const et={};return eachProp(this.source,($t,kt)=>{isAnimated($t)?et[kt]=$t.getValue(dt):hasFluidValue($t)?et[kt]=getFluidValue($t):dt||(et[kt]=$t)}),et}setValue(dt){this.source=dt,this.payload=this._makePayload(dt)}reset(){this.payload&&each(this.payload,dt=>dt.reset())}_makePayload(dt){if(dt){const et=new Set;return eachProp(dt,this._addToPayload,et),Array.from(et)}}_addToPayload(dt){TreeContext.dependencies&&hasFluidValue(dt)&&TreeContext.dependencies.add(dt);const et=getPayload(dt);et&&each(et,$t=>this.add($t))}},AnimatedArray=class iC extends AnimatedObject{constructor(et){super(et)}static create(et){return new iC(et)}getValue(){return this.source.map(et=>et.getValue())}setValue(et){const $t=this.getPayload();return et.length==$t.length?$t.map((kt,Tt)=>kt.setValue(et[Tt])).some(Boolean):(super.setValue(et.map(makeAnimated)),!0)}};function makeAnimated(dt){return(isAnimatedString(dt)?AnimatedString:AnimatedValue).create(dt)}function getAnimatedType(dt){const et=getAnimated(dt);return et?et.constructor:is.arr(dt)?AnimatedArray:isAnimatedString(dt)?AnimatedString:AnimatedValue}var withAnimated=(dt,et)=>{const $t=!is.fun(dt)||dt.prototype&&dt.prototype.isReactComponent;return reactExports.forwardRef((kt,Tt)=>{const Dt=reactExports.useRef(null),Ft=$t&&reactExports.useCallback(rr=>{Dt.current=updateRef(Tt,rr)},[Tt]),[Ut,Ht]=getAnimatedState(kt,et),Kt=useForceUpdate(),Yt=()=>{const rr=Dt.current;if($t&&!rr)return;(rr?et.applyAnimatedValues(rr,Ut.getValue(!0)):!1)===!1&&Kt()},Jt=new PropsObserver(Yt,Ht),Zt=reactExports.useRef(void 0);useIsomorphicLayoutEffect(()=>(Zt.current=Jt,each(Ht,rr=>addFluidObserver(rr,Jt)),()=>{Zt.current&&(each(Zt.current.deps,rr=>removeFluidObserver(rr,Zt.current)),raf.cancel(Zt.current.update))})),reactExports.useEffect(Yt,[]),useOnce(()=>()=>{const rr=Zt.current;each(rr.deps,sr=>removeFluidObserver(sr,rr))});const er=et.getComponentProps(Ut.getValue());return reactExports.createElement(dt,{...er,ref:Ft})})},PropsObserver=class{constructor(dt,et){this.update=dt,this.deps=et}eventObserved(dt){dt.type=="change"&&raf.write(this.update)}};function getAnimatedState(dt,et){const $t=new Set;return TreeContext.dependencies=$t,dt.style&&(dt={...dt,style:et.createAnimatedStyle(dt.style)}),dt=new AnimatedObject(dt),TreeContext.dependencies=null,[dt,$t]}function updateRef(dt,et){return dt&&(is.fun(dt)?dt(et):dt.current=et),et}var cacheKey=Symbol.for("AnimatedComponent"),createHost=(dt,{applyAnimatedValues:et=()=>!1,createAnimatedStyle:$t=Tt=>new AnimatedObject(Tt),getComponentProps:kt=Tt=>Tt}={})=>{const Tt={applyAnimatedValues:et,createAnimatedStyle:$t,getComponentProps:kt},Dt=Ft=>{const Ut=getDisplayName(Ft)||"Anonymous";return is.str(Ft)?Ft=Dt[Ft]||(Dt[Ft]=withAnimated(Ft,Tt)):Ft=Ft[cacheKey]||(Ft[cacheKey]=withAnimated(Ft,Tt)),Ft.displayName=`Animated(${Ut})`,Ft};return eachProp(dt,(Ft,Ut)=>{is.arr(dt)&&(Ut=getDisplayName(Ft)),Dt[Ut]=Dt(Ft)}),{animated:Dt}},getDisplayName=dt=>is.str(dt)?dt:dt&&is.str(dt.displayName)?dt.displayName:is.fun(dt)&&dt.name||null;function callProp(dt,...et){return is.fun(dt)?dt(...et):dt}var matchProp=(dt,et)=>dt===!0||!!(et&&dt&&(is.fun(dt)?dt(et):toArray(dt).includes(et))),resolveProp=(dt,et)=>is.obj(dt)?et&&dt[et]:dt,getDefaultProp=(dt,et)=>dt.default===!0?dt[et]:dt.default?dt.default[et]:void 0,noopTransform=dt=>dt,getDefaultProps=(dt,et=noopTransform)=>{let $t=DEFAULT_PROPS;dt.default&&dt.default!==!0&&(dt=dt.default,$t=Object.keys(dt));const kt={};for(const Tt of $t){const Dt=et(dt[Tt],Tt);is.und(Dt)||(kt[Tt]=Dt)}return kt},DEFAULT_PROPS=["config","onProps","onStart","onChange","onPause","onResume","onRest"],RESERVED_PROPS={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function getForwardProps(dt){const et={};let $t=0;if(eachProp(dt,(kt,Tt)=>{RESERVED_PROPS[Tt]||(et[Tt]=kt,$t++)}),$t)return et}function inferTo(dt){const et=getForwardProps(dt);if(et){const $t={to:et};return eachProp(dt,(kt,Tt)=>Tt in et||($t[Tt]=kt)),$t}return{...dt}}function computeGoal(dt){return dt=getFluidValue(dt),is.arr(dt)?dt.map(computeGoal):isAnimatedString(dt)?globals_exports.createStringInterpolator({range:[0,1],output:[dt,dt]})(1):dt}function hasProps(dt){for(const et in dt)return!0;return!1}function isAsyncTo(dt){return is.fun(dt)||is.arr(dt)&&is.obj(dt[0])}function detachRefs(dt,et){var $t;($t=dt.ref)==null||$t.delete(dt),et==null||et.delete(dt)}function replaceRef(dt,et){var $t;et&&dt.ref!==et&&(($t=dt.ref)==null||$t.delete(dt),et.add(dt),dt.ref=et)}var config={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},defaults={...config.default,mass:1,damping:1,easing:easings.linear,clamp:!1},AnimationConfig=class{constructor(){this.velocity=0,Object.assign(this,defaults)}};function mergeConfig(dt,et,$t){$t&&($t={...$t},sanitizeConfig($t,et),et={...$t,...et}),sanitizeConfig(dt,et),Object.assign(dt,et);for(const Ft in defaults)dt[Ft]==null&&(dt[Ft]=defaults[Ft]);let{frequency:kt,damping:Tt}=dt;const{mass:Dt}=dt;return is.und(kt)||(kt<.01&&(kt=.01),Tt<0&&(Tt=0),dt.tension=Math.pow(2*Math.PI/kt,2)*Dt,dt.friction=4*Math.PI*Tt*Dt/kt),dt}function sanitizeConfig(dt,et){if(!is.und(et.decay))dt.duration=void 0;else{const $t=!is.und(et.tension)||!is.und(et.friction);($t||!is.und(et.frequency)||!is.und(et.damping)||!is.und(et.mass))&&(dt.duration=void 0,dt.decay=void 0),$t&&(dt.frequency=void 0)}}var emptyArray=[],Animation=class{constructor(){this.changed=!1,this.values=emptyArray,this.toValues=null,this.fromValues=emptyArray,this.config=new AnimationConfig,this.immediate=!1}};function scheduleProps(dt,{key:et,props:$t,defaultProps:kt,state:Tt,actions:Dt}){return new Promise((Ft,Ut)=>{let Ht,Kt,Yt=matchProp($t.cancel??(kt==null?void 0:kt.cancel),et);if(Yt)er();else{is.und($t.pause)||(Tt.paused=matchProp($t.pause,et));let rr=kt==null?void 0:kt.pause;rr!==!0&&(rr=Tt.paused||matchProp(rr,et)),Ht=callProp($t.delay||0,et),rr?(Tt.resumeQueue.add(Zt),Dt.pause()):(Dt.resume(),Zt())}function Jt(){Tt.resumeQueue.add(Zt),Tt.timeouts.delete(Kt),Kt.cancel(),Ht=Kt.time-raf.now()}function Zt(){Ht>0&&!globals_exports.skipAnimation?(Tt.delayed=!0,Kt=raf.setTimeout(er,Ht),Tt.pauseQueue.add(Jt),Tt.timeouts.add(Kt)):er()}function er(){Tt.delayed&&(Tt.delayed=!1),Tt.pauseQueue.delete(Jt),Tt.timeouts.delete(Kt),dt<=(Tt.cancelId||0)&&(Yt=!0);try{Dt.start({...$t,callId:dt,cancel:Yt},Ft)}catch(rr){Ut(rr)}}})}var getCombinedResult=(dt,et)=>et.length==1?et[0]:et.some($t=>$t.cancelled)?getCancelledResult(dt.get()):et.every($t=>$t.noop)?getNoopResult(dt.get()):getFinishedResult(dt.get(),et.every($t=>$t.finished)),getNoopResult=dt=>({value:dt,noop:!0,finished:!0,cancelled:!1}),getFinishedResult=(dt,et,$t=!1)=>({value:dt,finished:et,cancelled:$t}),getCancelledResult=dt=>({value:dt,cancelled:!0,finished:!1});function runAsync(dt,et,$t,kt){const{callId:Tt,parentId:Dt,onRest:Ft}=et,{asyncTo:Ut,promise:Ht}=$t;return!Dt&&dt===Ut&&!et.reset?Ht:$t.promise=(async()=>{$t.asyncId=Tt,$t.asyncTo=dt;const Kt=getDefaultProps(et,(ir,nr)=>nr==="onRest"?void 0:ir);let Yt,Jt;const Zt=new Promise((ir,nr)=>(Yt=ir,Jt=nr)),er=ir=>{const nr=Tt<=($t.cancelId||0)&&getCancelledResult(kt)||Tt!==$t.asyncId&&getFinishedResult(kt,!1);if(nr)throw ir.result=nr,Jt(ir),ir},rr=(ir,nr)=>{const or=new BailSignal,lr=new SkipAnimationSignal;return(async()=>{if(globals_exports.skipAnimation)throw stopAsync($t),lr.result=getFinishedResult(kt,!1),Jt(lr),lr;er(or);const cr=is.obj(ir)?{...ir}:{...nr,to:ir};cr.parentId=Tt,eachProp(Kt,(ur,pr)=>{is.und(cr[pr])&&(cr[pr]=ur)});const dr=await kt.start(cr);return er(or),$t.paused&&await new Promise(ur=>{$t.resumeQueue.add(ur)}),dr})()};let sr;if(globals_exports.skipAnimation)return stopAsync($t),getFinishedResult(kt,!1);try{let ir;is.arr(dt)?ir=(async nr=>{for(const or of nr)await rr(or)})(dt):ir=Promise.resolve(dt(rr,kt.stop.bind(kt))),await Promise.all([ir.then(Yt),Zt]),sr=getFinishedResult(kt.get(),!0,!1)}catch(ir){if(ir instanceof BailSignal)sr=ir.result;else if(ir instanceof SkipAnimationSignal)sr=ir.result;else throw ir}finally{Tt==$t.asyncId&&($t.asyncId=Dt,$t.asyncTo=Dt?Ut:void 0,$t.promise=Dt?Ht:void 0)}return is.fun(Ft)&&raf.batchedUpdates(()=>{Ft(sr,kt,kt.item)}),sr})()}function stopAsync(dt,et){flush(dt.timeouts,$t=>$t.cancel()),dt.pauseQueue.clear(),dt.resumeQueue.clear(),dt.asyncId=dt.asyncTo=dt.promise=void 0,et&&(dt.cancelId=et)}var BailSignal=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},SkipAnimationSignal=class extends Error{constructor(){super("SkipAnimationSignal")}},isFrameValue=dt=>dt instanceof FrameValue,nextId=1,FrameValue=class extends FluidValue{constructor(){super(...arguments),this.id=nextId++,this._priority=0}get priority(){return this._priority}set priority(dt){this._priority!=dt&&(this._priority=dt,this._onPriorityChange(dt))}get(){const dt=getAnimated(this);return dt&&dt.getValue()}to(...dt){return globals_exports.to(this,dt)}interpolate(...dt){return deprecateInterpolate(),globals_exports.to(this,dt)}toJSON(){return this.get()}observerAdded(dt){dt==1&&this._attach()}observerRemoved(dt){dt==0&&this._detach()}_attach(){}_detach(){}_onChange(dt,et=!1){callFluidObservers(this,{type:"change",parent:this,value:dt,idle:et})}_onPriorityChange(dt){this.idle||frameLoop.sort(this),callFluidObservers(this,{type:"priority",parent:this,priority:dt})}},$P=Symbol.for("SpringPhase"),HAS_ANIMATED=1,IS_ANIMATING=2,IS_PAUSED=4,hasAnimated=dt=>(dt[$P]&HAS_ANIMATED)>0,isAnimating=dt=>(dt[$P]&IS_ANIMATING)>0,isPaused=dt=>(dt[$P]&IS_PAUSED)>0,setActiveBit=(dt,et)=>et?dt[$P]|=IS_ANIMATING|HAS_ANIMATED:dt[$P]&=~IS_ANIMATING,setPausedBit=(dt,et)=>et?dt[$P]|=IS_PAUSED:dt[$P]&=~IS_PAUSED,SpringValue=class extends FrameValue{constructor(dt,et){if(super(),this.animation=new Animation,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!is.und(dt)||!is.und(et)){const $t=is.obj(dt)?{...dt}:{...et,from:dt};is.und($t.default)&&($t.default=!0),this.start($t)}}get idle(){return!(isAnimating(this)||this._state.asyncTo)||isPaused(this)}get goal(){return getFluidValue(this.animation.to)}get velocity(){const dt=getAnimated(this);return dt instanceof AnimatedValue?dt.lastVelocity||0:dt.getPayload().map(et=>et.lastVelocity||0)}get hasAnimated(){return hasAnimated(this)}get isAnimating(){return isAnimating(this)}get isPaused(){return isPaused(this)}get isDelayed(){return this._state.delayed}advance(dt){let et=!0,$t=!1;const kt=this.animation;let{toValues:Tt}=kt;const{config:Dt}=kt,Ft=getPayload(kt.to);!Ft&&hasFluidValue(kt.to)&&(Tt=toArray(getFluidValue(kt.to))),kt.values.forEach((Kt,Yt)=>{if(Kt.done)return;const Jt=Kt.constructor==AnimatedString?1:Ft?Ft[Yt].lastPosition:Tt[Yt];let Zt=kt.immediate,er=Jt;if(!Zt){if(er=Kt.lastPosition,Dt.tension<=0){Kt.done=!0;return}let rr=Kt.elapsedTime+=dt;const sr=kt.fromValues[Yt],ir=Kt.v0!=null?Kt.v0:Kt.v0=is.arr(Dt.velocity)?Dt.velocity[Yt]:Dt.velocity;let nr;const or=Dt.precision||(sr==Jt?.005:Math.min(1,Math.abs(Jt-sr)*.001));if(is.und(Dt.duration))if(Dt.decay){const lr=Dt.decay===!0?.998:Dt.decay,cr=Math.exp(-(1-lr)*rr);er=sr+ir/(1-lr)*(1-cr),Zt=Math.abs(Kt.lastPosition-er)<=or,nr=ir*cr}else{nr=Kt.lastVelocity==null?ir:Kt.lastVelocity;const lr=Dt.restVelocity||or/10,cr=Dt.clamp?0:Dt.bounce,dr=!is.und(cr),ur=sr==Jt?Kt.v0>0:sr<Jt;let pr,mr=!1;const vr=1,kr=Math.ceil(dt/vr);for(let br=0;br<kr&&(pr=Math.abs(nr)>lr,!(!pr&&(Zt=Math.abs(Jt-er)<=or,Zt)));++br){dr&&(mr=er==Jt||er>Jt==ur,mr&&(nr=-nr*cr,er=Jt));const _r=-Dt.tension*1e-6*(er-Jt),Or=-Dt.friction*.001*nr,Pr=(_r+Or)/Dt.mass;nr=nr+Pr*vr,er=er+nr*vr}}else{let lr=1;Dt.duration>0&&(this._memoizedDuration!==Dt.duration&&(this._memoizedDuration=Dt.duration,Kt.durationProgress>0&&(Kt.elapsedTime=Dt.duration*Kt.durationProgress,rr=Kt.elapsedTime+=dt)),lr=(Dt.progress||0)+rr/this._memoizedDuration,lr=lr>1?1:lr<0?0:lr,Kt.durationProgress=lr),er=sr+Dt.easing(lr)*(Jt-sr),nr=(er-Kt.lastPosition)/dt,Zt=lr==1}Kt.lastVelocity=nr,Number.isNaN(er)&&(console.warn("Got NaN while animating:",this),Zt=!0)}Ft&&!Ft[Yt].done&&(Zt=!1),Zt?Kt.done=!0:et=!1,Kt.setValue(er,Dt.round)&&($t=!0)});const Ut=getAnimated(this),Ht=Ut.getValue();if(et){const Kt=getFluidValue(kt.to);(Ht!==Kt||$t)&&!Dt.decay?(Ut.setValue(Kt),this._onChange(Kt)):$t&&Dt.decay&&this._onChange(Ht),this._stop()}else $t&&this._onChange(Ht)}set(dt){return raf.batchedUpdates(()=>{this._stop(),this._focus(dt),this._set(dt)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(isAnimating(this)){const{to:dt,config:et}=this.animation;raf.batchedUpdates(()=>{this._onStart(),et.decay||this._set(dt,!1),this._stop()})}return this}update(dt){return(this.queue||(this.queue=[])).push(dt),this}start(dt,et){let $t;return is.und(dt)?($t=this.queue||[],this.queue=[]):$t=[is.obj(dt)?dt:{...et,to:dt}],Promise.all($t.map(kt=>this._update(kt))).then(kt=>getCombinedResult(this,kt))}stop(dt){const{to:et}=this.animation;return this._focus(this.get()),stopAsync(this._state,dt&&this._lastCallId),raf.batchedUpdates(()=>this._stop(et,dt)),this}reset(){this._update({reset:!0})}eventObserved(dt){dt.type=="change"?this._start():dt.type=="priority"&&(this.priority=dt.priority+1)}_prepareNode(dt){const et=this.key||"";let{to:$t,from:kt}=dt;$t=is.obj($t)?$t[et]:$t,($t==null||isAsyncTo($t))&&($t=void 0),kt=is.obj(kt)?kt[et]:kt,kt==null&&(kt=void 0);const Tt={to:$t,from:kt};return hasAnimated(this)||(dt.reverse&&([$t,kt]=[kt,$t]),kt=getFluidValue(kt),is.und(kt)?getAnimated(this)||this._set($t):this._set(kt)),Tt}_update({...dt},et){const{key:$t,defaultProps:kt}=this;dt.default&&Object.assign(kt,getDefaultProps(dt,(Ft,Ut)=>/^on/.test(Ut)?resolveProp(Ft,$t):Ft)),mergeActiveFn(this,dt,"onProps"),sendEvent(this,"onProps",dt,this);const Tt=this._prepareNode(dt);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const Dt=this._state;return scheduleProps(++this._lastCallId,{key:$t,props:dt,defaultProps:kt,state:Dt,actions:{pause:()=>{isPaused(this)||(setPausedBit(this,!0),flushCalls(Dt.pauseQueue),sendEvent(this,"onPause",getFinishedResult(this,checkFinished(this,this.animation.to)),this))},resume:()=>{isPaused(this)&&(setPausedBit(this,!1),isAnimating(this)&&this._resume(),flushCalls(Dt.resumeQueue),sendEvent(this,"onResume",getFinishedResult(this,checkFinished(this,this.animation.to)),this))},start:this._merge.bind(this,Tt)}}).then(Ft=>{if(dt.loop&&Ft.finished&&!(et&&Ft.noop)){const Ut=createLoopUpdate(dt);if(Ut)return this._update(Ut,!0)}return Ft})}_merge(dt,et,$t){if(et.cancel)return this.stop(!0),$t(getCancelledResult(this));const kt=!is.und(dt.to),Tt=!is.und(dt.from);if(kt||Tt)if(et.callId>this._lastToId)this._lastToId=et.callId;else return $t(getCancelledResult(this));const{key:Dt,defaultProps:Ft,animation:Ut}=this,{to:Ht,from:Kt}=Ut;let{to:Yt=Ht,from:Jt=Kt}=dt;Tt&&!kt&&(!et.default||is.und(Yt))&&(Yt=Jt),et.reverse&&([Yt,Jt]=[Jt,Yt]);const Zt=!isEqual(Jt,Kt);Zt&&(Ut.from=Jt),Jt=getFluidValue(Jt);const er=!isEqual(Yt,Ht);er&&this._focus(Yt);const rr=isAsyncTo(et.to),{config:sr}=Ut,{decay:ir,velocity:nr}=sr;(kt||Tt)&&(sr.velocity=0),et.config&&!rr&&mergeConfig(sr,callProp(et.config,Dt),et.config!==Ft.config?callProp(Ft.config,Dt):void 0);let or=getAnimated(this);if(!or||is.und(Yt))return $t(getFinishedResult(this,!0));const lr=is.und(et.reset)?Tt&&!et.default:!is.und(Jt)&&matchProp(et.reset,Dt),cr=lr?Jt:this.get(),dr=computeGoal(Yt),ur=is.num(dr)||is.arr(dr)||isAnimatedString(dr),pr=!rr&&(!ur||matchProp(Ft.immediate||et.immediate,Dt));if(er){const br=getAnimatedType(Yt);if(br!==or.constructor)if(pr)or=this._set(dr);else throw Error(`Cannot animate between ${or.constructor.name} and ${br.name}, as the "to" prop suggests`)}const mr=or.constructor;let vr=hasFluidValue(Yt),kr=!1;if(!vr){const br=lr||!hasAnimated(this)&&Zt;(er||br)&&(kr=isEqual(computeGoal(cr),dr),vr=!kr),(!isEqual(Ut.immediate,pr)&&!pr||!isEqual(sr.decay,ir)||!isEqual(sr.velocity,nr))&&(vr=!0)}if(kr&&isAnimating(this)&&(Ut.changed&&!lr?vr=!0:vr||this._stop(Ht)),!rr&&((vr||hasFluidValue(Ht))&&(Ut.values=or.getPayload(),Ut.toValues=hasFluidValue(Yt)?null:mr==AnimatedString?[1]:toArray(dr)),Ut.immediate!=pr&&(Ut.immediate=pr,!pr&&!lr&&this._set(Ht)),vr)){const{onRest:br}=Ut;each(ACTIVE_EVENTS,Or=>mergeActiveFn(this,et,Or));const _r=getFinishedResult(this,checkFinished(this,Ht));flushCalls(this._pendingCalls,_r),this._pendingCalls.add($t),Ut.changed&&raf.batchedUpdates(()=>{var Or;Ut.changed=!lr,br==null||br(_r,this),lr?callProp(Ft.onRest,_r):(Or=Ut.onStart)==null||Or.call(Ut,_r,this)})}lr&&this._set(cr),rr?$t(runAsync(et.to,et,this._state,this)):vr?this._start():isAnimating(this)&&!er?this._pendingCalls.add($t):$t(getNoopResult(cr))}_focus(dt){const et=this.animation;dt!==et.to&&(getFluidObservers(this)&&this._detach(),et.to=dt,getFluidObservers(this)&&this._attach())}_attach(){let dt=0;const{to:et}=this.animation;hasFluidValue(et)&&(addFluidObserver(et,this),isFrameValue(et)&&(dt=et.priority+1)),this.priority=dt}_detach(){const{to:dt}=this.animation;hasFluidValue(dt)&&removeFluidObserver(dt,this)}_set(dt,et=!0){const $t=getFluidValue(dt);if(!is.und($t)){const kt=getAnimated(this);if(!kt||!isEqual($t,kt.getValue())){const Tt=getAnimatedType($t);!kt||kt.constructor!=Tt?setAnimated(this,Tt.create($t)):kt.setValue($t),kt&&raf.batchedUpdates(()=>{this._onChange($t,et)})}}return getAnimated(this)}_onStart(){const dt=this.animation;dt.changed||(dt.changed=!0,sendEvent(this,"onStart",getFinishedResult(this,checkFinished(this,dt.to)),this))}_onChange(dt,et){et||(this._onStart(),callProp(this.animation.onChange,dt,this)),callProp(this.defaultProps.onChange,dt,this),super._onChange(dt,et)}_start(){const dt=this.animation;getAnimated(this).reset(getFluidValue(dt.to)),dt.immediate||(dt.fromValues=dt.values.map(et=>et.lastPosition)),isAnimating(this)||(setActiveBit(this,!0),isPaused(this)||this._resume())}_resume(){globals_exports.skipAnimation?this.finish():frameLoop.start(this)}_stop(dt,et){if(isAnimating(this)){setActiveBit(this,!1);const $t=this.animation;each($t.values,Tt=>{Tt.done=!0}),$t.toValues&&($t.onChange=$t.onPause=$t.onResume=void 0),callFluidObservers(this,{type:"idle",parent:this});const kt=et?getCancelledResult(this.get()):getFinishedResult(this.get(),checkFinished(this,dt??$t.to));flushCalls(this._pendingCalls,kt),$t.changed&&($t.changed=!1,sendEvent(this,"onRest",kt,this))}}};function checkFinished(dt,et){const $t=computeGoal(et),kt=computeGoal(dt.get());return isEqual(kt,$t)}function createLoopUpdate(dt,et=dt.loop,$t=dt.to){const kt=callProp(et);if(kt){const Tt=kt!==!0&&inferTo(kt),Dt=(Tt||dt).reverse,Ft=!Tt||Tt.reset;return createUpdate({...dt,loop:et,default:!1,pause:void 0,to:!Dt||isAsyncTo($t)?$t:void 0,from:Ft?dt.from:void 0,reset:Ft,...Tt})}}function createUpdate(dt){const{to:et,from:$t}=dt=inferTo(dt),kt=new Set;return is.obj(et)&&findDefined(et,kt),is.obj($t)&&findDefined($t,kt),dt.keys=kt.size?Array.from(kt):null,dt}function declareUpdate(dt){const et=createUpdate(dt);return is.und(et.default)&&(et.default=getDefaultProps(et)),et}function findDefined(dt,et){eachProp(dt,($t,kt)=>$t!=null&&et.add(kt))}var ACTIVE_EVENTS=["onStart","onRest","onChange","onPause","onResume"];function mergeActiveFn(dt,et,$t){dt.animation[$t]=et[$t]!==getDefaultProp(et,$t)?resolveProp(et[$t],dt.key):void 0}function sendEvent(dt,et,...$t){var kt,Tt,Dt,Ft;(Tt=(kt=dt.animation)[et])==null||Tt.call(kt,...$t),(Ft=(Dt=dt.defaultProps)[et])==null||Ft.call(Dt,...$t)}var BATCHED_EVENTS=["onStart","onChange","onRest"],nextId2=1,Controller=class{constructor(dt,et){this.id=nextId2++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),et&&(this._flush=et),dt&&this.start({default:!0,...dt})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(dt=>dt.idle&&!dt.isDelayed&&!dt.isPaused)}get item(){return this._item}set item(dt){this._item=dt}get(){const dt={};return this.each((et,$t)=>dt[$t]=et.get()),dt}set(dt){for(const et in dt){const $t=dt[et];is.und($t)||this.springs[et].set($t)}}update(dt){return dt&&this.queue.push(createUpdate(dt)),this}start(dt){let{queue:et}=this;return dt?et=toArray(dt).map(createUpdate):this.queue=[],this._flush?this._flush(this,et):(prepareKeys(this,et),flushUpdateQueue(this,et))}stop(dt,et){if(dt!==!!dt&&(et=dt),et){const $t=this.springs;each(toArray(et),kt=>$t[kt].stop(!!dt))}else stopAsync(this._state,this._lastAsyncId),this.each($t=>$t.stop(!!dt));return this}pause(dt){if(is.und(dt))this.start({pause:!0});else{const et=this.springs;each(toArray(dt),$t=>et[$t].pause())}return this}resume(dt){if(is.und(dt))this.start({pause:!1});else{const et=this.springs;each(toArray(dt),$t=>et[$t].resume())}return this}each(dt){eachProp(this.springs,dt)}_onFrame(){const{onStart:dt,onChange:et,onRest:$t}=this._events,kt=this._active.size>0,Tt=this._changed.size>0;(kt&&!this._started||Tt&&!this._started)&&(this._started=!0,flush(dt,([Ut,Ht])=>{Ht.value=this.get(),Ut(Ht,this,this._item)}));const Dt=!kt&&this._started,Ft=Tt||Dt&&$t.size?this.get():null;Tt&&et.size&&flush(et,([Ut,Ht])=>{Ht.value=Ft,Ut(Ht,this,this._item)}),Dt&&(this._started=!1,flush($t,([Ut,Ht])=>{Ht.value=Ft,Ut(Ht,this,this._item)}))}eventObserved(dt){if(dt.type=="change")this._changed.add(dt.parent),dt.idle||this._active.add(dt.parent);else if(dt.type=="idle")this._active.delete(dt.parent);else return;raf.onFrame(this._onFrame)}};function flushUpdateQueue(dt,et){return Promise.all(et.map($t=>flushUpdate(dt,$t))).then($t=>getCombinedResult(dt,$t))}async function flushUpdate(dt,et,$t){const{keys:kt,to:Tt,from:Dt,loop:Ft,onRest:Ut,onResolve:Ht}=et,Kt=is.obj(et.default)&&et.default;Ft&&(et.loop=!1),Tt===!1&&(et.to=null),Dt===!1&&(et.from=null);const Yt=is.arr(Tt)||is.fun(Tt)?Tt:void 0;Yt?(et.to=void 0,et.onRest=void 0,Kt&&(Kt.onRest=void 0)):each(BATCHED_EVENTS,sr=>{const ir=et[sr];if(is.fun(ir)){const nr=dt._events[sr];et[sr]=({finished:or,cancelled:lr})=>{const cr=nr.get(ir);cr?(or||(cr.finished=!1),lr&&(cr.cancelled=!0)):nr.set(ir,{value:null,finished:or||!1,cancelled:lr||!1})},Kt&&(Kt[sr]=et[sr])}});const Jt=dt._state;et.pause===!Jt.paused?(Jt.paused=et.pause,flushCalls(et.pause?Jt.pauseQueue:Jt.resumeQueue)):Jt.paused&&(et.pause=!0);const Zt=(kt||Object.keys(dt.springs)).map(sr=>dt.springs[sr].start(et)),er=et.cancel===!0||getDefaultProp(et,"cancel")===!0;(Yt||er&&Jt.asyncId)&&Zt.push(scheduleProps(++dt._lastAsyncId,{props:et,state:Jt,actions:{pause:noop,resume:noop,start(sr,ir){er?(stopAsync(Jt,dt._lastAsyncId),ir(getCancelledResult(dt))):(sr.onRest=Ut,ir(runAsync(Yt,sr,Jt,dt)))}}})),Jt.paused&&await new Promise(sr=>{Jt.resumeQueue.add(sr)});const rr=getCombinedResult(dt,await Promise.all(Zt));if(Ft&&rr.finished&&!($t&&rr.noop)){const sr=createLoopUpdate(et,Ft,Tt);if(sr)return prepareKeys(dt,[sr]),flushUpdate(dt,sr,!0)}return Ht&&raf.batchedUpdates(()=>Ht(rr,dt,dt.item)),rr}function getSprings(dt,et){const $t={...dt.springs};return et&&each(toArray(et),kt=>{is.und(kt.keys)&&(kt=createUpdate(kt)),is.obj(kt.to)||(kt={...kt,to:void 0}),prepareSprings($t,kt,Tt=>createSpring(Tt))}),setSprings(dt,$t),$t}function setSprings(dt,et){eachProp(et,($t,kt)=>{dt.springs[kt]||(dt.springs[kt]=$t,addFluidObserver($t,dt))})}function createSpring(dt,et){const $t=new SpringValue;return $t.key=dt,et&&addFluidObserver($t,et),$t}function prepareSprings(dt,et,$t){et.keys&&each(et.keys,kt=>{(dt[kt]||(dt[kt]=$t(kt)))._prepareNode(et)})}function prepareKeys(dt,et){each(et,$t=>{prepareSprings(dt.springs,$t,kt=>createSpring(kt,dt))})}var SpringContext=reactExports.createContext({pause:!1,immediate:!1}),SpringRef=()=>{const dt=[],et=function(kt){deprecateDirectCall();const Tt=[];return each(dt,(Dt,Ft)=>{if(is.und(kt))Tt.push(Dt.start());else{const Ut=$t(kt,Dt,Ft);Ut&&Tt.push(Dt.start(Ut))}}),Tt};et.current=dt,et.add=function(kt){dt.includes(kt)||dt.push(kt)},et.delete=function(kt){const Tt=dt.indexOf(kt);~Tt&&dt.splice(Tt,1)},et.pause=function(){return each(dt,kt=>kt.pause(...arguments)),this},et.resume=function(){return each(dt,kt=>kt.resume(...arguments)),this},et.set=function(kt){each(dt,(Tt,Dt)=>{const Ft=is.fun(kt)?kt(Dt,Tt):kt;Ft&&Tt.set(Ft)})},et.start=function(kt){const Tt=[];return each(dt,(Dt,Ft)=>{if(is.und(kt))Tt.push(Dt.start());else{const Ut=this._getProps(kt,Dt,Ft);Ut&&Tt.push(Dt.start(Ut))}}),Tt},et.stop=function(){return each(dt,kt=>kt.stop(...arguments)),this},et.update=function(kt){return each(dt,(Tt,Dt)=>Tt.update(this._getProps(kt,Tt,Dt))),this};const $t=function(kt,Tt,Dt){return is.fun(kt)?kt(Dt,Tt):kt};return et._getProps=$t,et};function useSprings(dt,et,$t){const kt=is.fun(et)&&et;kt&&!$t&&($t=[]);const Tt=reactExports.useMemo(()=>kt||arguments.length==3?SpringRef():void 0,[]),Dt=reactExports.useRef(0),Ft=useForceUpdate(),Ut=reactExports.useMemo(()=>({ctrls:[],queue:[],flush(nr,or){const lr=getSprings(nr,or);return Dt.current>0&&!Ut.queue.length&&!Object.keys(lr).some(dr=>!nr.springs[dr])?flushUpdateQueue(nr,or):new Promise(dr=>{setSprings(nr,lr),Ut.queue.push(()=>{dr(flushUpdateQueue(nr,or))}),Ft()})}}),[]),Ht=reactExports.useRef([...Ut.ctrls]),Kt=reactExports.useRef([]),Yt=usePrev(dt)||0;reactExports.useMemo(()=>{each(Ht.current.slice(dt,Yt),nr=>{detachRefs(nr,Tt),nr.stop(!0)}),Ht.current.length=dt,Jt(Yt,dt)},[dt]),reactExports.useMemo(()=>{Jt(0,Math.min(Yt,dt))},$t);function Jt(nr,or){for(let lr=nr;lr<or;lr++){const cr=Ht.current[lr]||(Ht.current[lr]=new Controller(null,Ut.flush)),dr=kt?kt(lr,cr):et[lr];dr&&(Kt.current[lr]=declareUpdate(dr))}}const Zt=Ht.current.map((nr,or)=>getSprings(nr,Kt.current[or])),er=reactExports.useContext(SpringContext),rr=usePrev(er),sr=er!==rr&&hasProps(er);useIsomorphicLayoutEffect(()=>{Dt.current++,Ut.ctrls=Ht.current;const{queue:nr}=Ut;nr.length&&(Ut.queue=[],each(nr,or=>or())),each(Ht.current,(or,lr)=>{Tt==null||Tt.add(or),sr&&or.start({default:er});const cr=Kt.current[lr];cr&&(replaceRef(or,cr.ref),or.ref?or.queue.push(cr):or.start(cr))})}),useOnce(()=>()=>{each(Ut.ctrls,nr=>nr.stop(!0))});const ir=Zt.map(nr=>({...nr}));return Tt?[ir,Tt]:ir}function useSpring(dt,et){const $t=is.fun(dt),[[kt],Tt]=useSprings(1,$t?dt:[dt],$t?et||[]:et);return $t||arguments.length==2?[kt,Tt]:kt}var Interpolation=class extends FrameValue{constructor(dt,et){super(),this.source=dt,this.idle=!0,this._active=new Set,this.calc=createInterpolator(...et);const $t=this._get(),kt=getAnimatedType($t);setAnimated(this,kt.create($t))}advance(dt){const et=this._get(),$t=this.get();isEqual(et,$t)||(getAnimated(this).setValue(et),this._onChange(et,this.idle)),!this.idle&&checkIdle(this._active)&&becomeIdle(this)}_get(){const dt=is.arr(this.source)?this.source.map(getFluidValue):toArray(getFluidValue(this.source));return this.calc(...dt)}_start(){this.idle&&!checkIdle(this._active)&&(this.idle=!1,each(getPayload(this),dt=>{dt.done=!1}),globals_exports.skipAnimation?(raf.batchedUpdates(()=>this.advance()),becomeIdle(this)):frameLoop.start(this))}_attach(){let dt=1;each(toArray(this.source),et=>{hasFluidValue(et)&&addFluidObserver(et,this),isFrameValue(et)&&(et.idle||this._active.add(et),dt=Math.max(dt,et.priority+1))}),this.priority=dt,this._start()}_detach(){each(toArray(this.source),dt=>{hasFluidValue(dt)&&removeFluidObserver(dt,this)}),this._active.clear(),becomeIdle(this)}eventObserved(dt){dt.type=="change"?dt.idle?this.advance():(this._active.add(dt.parent),this._start()):dt.type=="idle"?this._active.delete(dt.parent):dt.type=="priority"&&(this.priority=toArray(this.source).reduce((et,$t)=>Math.max(et,(isFrameValue($t)?$t.priority:0)+1),0))}};function isIdle(dt){return dt.idle!==!1}function checkIdle(dt){return!dt.size||Array.from(dt).every(isIdle)}function becomeIdle(dt){dt.idle||(dt.idle=!0,each(getPayload(dt),et=>{et.done=!0}),callFluidObservers(dt,{type:"idle",parent:dt}))}globals_exports.assign({createStringInterpolator:createStringInterpolator2,to:(dt,et)=>new Interpolation(dt,et)});var isCustomPropRE=/^--/;function dangerousStyleValue(dt,et){return et==null||typeof et=="boolean"||et===""?"":typeof et=="number"&&et!==0&&!isCustomPropRE.test(dt)&&!(isUnitlessNumber.hasOwnProperty(dt)&&isUnitlessNumber[dt])?et+"px":(""+et).trim()}var attributeCache={};function applyAnimatedValues(dt,et){if(!dt.nodeType||!dt.setAttribute)return!1;const $t=dt.nodeName==="filter"||dt.parentNode&&dt.parentNode.nodeName==="filter",{className:kt,style:Tt,children:Dt,scrollTop:Ft,scrollLeft:Ut,viewBox:Ht,...Kt}=et,Yt=Object.values(Kt),Jt=Object.keys(Kt).map(Zt=>$t||dt.hasAttribute(Zt)?Zt:attributeCache[Zt]||(attributeCache[Zt]=Zt.replace(/([A-Z])/g,er=>"-"+er.toLowerCase())));Dt!==void 0&&(dt.textContent=Dt);for(const Zt in Tt)if(Tt.hasOwnProperty(Zt)){const er=dangerousStyleValue(Zt,Tt[Zt]);isCustomPropRE.test(Zt)?dt.style.setProperty(Zt,er):dt.style[Zt]=er}Jt.forEach((Zt,er)=>{dt.setAttribute(Zt,Yt[er])}),kt!==void 0&&(dt.className=kt),Ft!==void 0&&(dt.scrollTop=Ft),Ut!==void 0&&(dt.scrollLeft=Ut),Ht!==void 0&&dt.setAttribute("viewBox",Ht)}var isUnitlessNumber={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},prefixKey=(dt,et)=>dt+et.charAt(0).toUpperCase()+et.substring(1),prefixes=["Webkit","Ms","Moz","O"];isUnitlessNumber=Object.keys(isUnitlessNumber).reduce((dt,et)=>(prefixes.forEach($t=>dt[prefixKey($t,et)]=dt[et]),dt),isUnitlessNumber);var domTransforms=/^(matrix|translate|scale|rotate|skew)/,pxTransforms=/^(translate)/,degTransforms=/^(rotate|skew)/,addUnit=(dt,et)=>is.num(dt)&&dt!==0?dt+et:dt,isValueIdentity=(dt,et)=>is.arr(dt)?dt.every($t=>isValueIdentity($t,et)):is.num(dt)?dt===et:parseFloat(dt)===et,AnimatedStyle=class extends AnimatedObject{constructor({x:dt,y:et,z:$t,...kt}){const Tt=[],Dt=[];(dt||et||$t)&&(Tt.push([dt||0,et||0,$t||0]),Dt.push(Ft=>[`translate3d(${Ft.map(Ut=>addUnit(Ut,"px")).join(",")})`,isValueIdentity(Ft,0)])),eachProp(kt,(Ft,Ut)=>{if(Ut==="transform")Tt.push([Ft||""]),Dt.push(Ht=>[Ht,Ht===""]);else if(domTransforms.test(Ut)){if(delete kt[Ut],is.und(Ft))return;const Ht=pxTransforms.test(Ut)?"px":degTransforms.test(Ut)?"deg":"";Tt.push(toArray(Ft)),Dt.push(Ut==="rotate3d"?([Kt,Yt,Jt,Zt])=>[`rotate3d(${Kt},${Yt},${Jt},${addUnit(Zt,Ht)})`,isValueIdentity(Zt,0)]:Kt=>[`${Ut}(${Kt.map(Yt=>addUnit(Yt,Ht)).join(",")})`,isValueIdentity(Kt,Ut.startsWith("scale")?1:0)])}}),Tt.length&&(kt.transform=new FluidTransform(Tt,Dt)),super(kt)}},FluidTransform=class extends FluidValue{constructor(dt,et){super(),this.inputs=dt,this.transforms=et,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let dt="",et=!0;return each(this.inputs,($t,kt)=>{const Tt=getFluidValue($t[0]),[Dt,Ft]=this.transforms[kt](is.arr(Tt)?Tt:$t.map(getFluidValue));dt+=" "+Dt,et=et&&Ft}),et?"none":dt}observerAdded(dt){dt==1&&each(this.inputs,et=>each(et,$t=>hasFluidValue($t)&&addFluidObserver($t,this)))}observerRemoved(dt){dt==0&&each(this.inputs,et=>each(et,$t=>hasFluidValue($t)&&removeFluidObserver($t,this)))}eventObserved(dt){dt.type=="change"&&(this._value=null),callFluidObservers(this,dt)}},primitives=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];globals_exports.assign({batchedUpdates:reactDomExports.unstable_batchedUpdates,createStringInterpolator:createStringInterpolator2,colors:colors2});var host=createHost(primitives,{applyAnimatedValues,createAnimatedStyle:dt=>new AnimatedStyle(dt),getComponentProps:({scrollTop:dt,scrollLeft:et,...$t})=>$t}),animated=host.animated;function g(){return g=Object.assign?Object.assign.bind():function(dt){for(var et=1;et<arguments.length;et++){var $t=arguments[et];for(var kt in $t)({}).hasOwnProperty.call($t,kt)&&(dt[kt]=$t[kt])}return dt},g.apply(null,arguments)}var k$1={dotSize:4,noteWidth:120,noteTextOffset:8,animate:!0},W=function(dt){var et=typeof dt;return reactExports.isValidElement(dt)||et==="string"||et==="function"||et==="object"},v$1=function(dt){var et=typeof dt;return et==="string"||et==="function"},b$1=function(dt){return dt.type==="circle"},w=function(dt){return dt.type==="dot"},z$1=function(dt){return dt.type==="rect"},P=function(dt){var et=dt.data,$t=dt.annotations,kt=dt.getPosition,Tt=dt.getDimensions;return $t.reduce(function(Dt,Ft){var Ut=Ft.offset||0;return[].concat(Dt,o$1(et,Ft.match).map(function(Ht){var Kt=kt(Ht),Yt=Tt(Ht);return(b$1(Ft)||z$1(Ft))&&(Yt.size=Yt.size+2*Ut,Yt.width=Yt.width+2*Ut,Yt.height=Yt.height+2*Ut),g({},a(Ft,["match","offset"]),Kt,Yt,{size:Ft.size||Yt.size,datum:Ht})}))},[])},C$1=function(dt,et,$t,kt){var Tt=Math.atan2(kt-et,$t-dt);return ht(ct(Tt))},S$1=function(dt){var et,$t,kt=dt.x,Tt=dt.y,Dt=dt.noteX,Ft=dt.noteY,Ut=dt.noteWidth,Ht=Ut===void 0?k$1.noteWidth:Ut,Kt=dt.noteTextOffset,Yt=Kt===void 0?k$1.noteTextOffset:Kt;if(e(Dt))et=kt+Dt;else{if(Dt.abs===void 0)throw new Error("noteX should be either a number or an object containing an 'abs' property");et=Dt.abs}if(e(Ft))$t=Tt+Ft;else{if(Ft.abs===void 0)throw new Error("noteY should be either a number or an object containing an 'abs' property");$t=Ft.abs}var Jt=kt,Zt=Tt,er=C$1(kt,Tt,et,$t);if(b$1(dt)){var rr=ft(ut(er),dt.size/2);Jt+=rr.x,Zt+=rr.y}if(z$1(dt)){var sr=Math.round((er+90)/45)%8;sr===0&&(Zt-=dt.height/2),sr===1&&(Jt+=dt.width/2,Zt-=dt.height/2),sr===2&&(Jt+=dt.width/2),sr===3&&(Jt+=dt.width/2,Zt+=dt.height/2),sr===4&&(Zt+=dt.height/2),sr===5&&(Jt-=dt.width/2,Zt+=dt.height/2),sr===6&&(Jt-=dt.width/2),sr===7&&(Jt-=dt.width/2,Zt-=dt.height/2)}var ir=et,nr=et;return(er+90)%360>180?(ir-=Ht,nr-=Ht):nr+=Ht,{points:[[Jt,Zt],[et,$t],[nr,$t]],text:[ir,$t-Yt],angle:er+90}},O$1=function(dt){var et=dt.data,$t=dt.annotations,kt=dt.getPosition,Tt=dt.getDimensions;return reactExports.useMemo(function(){return P({data:et,annotations:$t,getPosition:kt,getDimensions:Tt})},[et,$t,kt,Tt])},j$1=function(dt){var et=dt.annotations;return reactExports.useMemo(function(){return et.map(function($t){return g({},$t,{computed:S$1(g({},$t))})})},[et])},M=function(dt){return reactExports.useMemo(function(){return S$1(dt)},[dt])},T=function(dt){var et=dt.datum,$t=dt.x,kt=dt.y,Tt=dt.note,Dt=M$3(),Ft=Dr(),Ut=Ft.animate,Ht=Ft.config,Kt=useSpring({x:$t,y:kt,config:Ht,immediate:!Ut});return typeof Tt=="function"?reactExports.createElement(Tt,{x:$t,y:kt,datum:et}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Dt.annotations.text.outlineWidth>0&&jsxRuntimeExports.jsx(animated.text,{x:Kt.x,y:Kt.y,style:g({},Dt.annotations.text,{strokeLinejoin:"round",strokeWidth:2*Dt.annotations.text.outlineWidth,stroke:Dt.annotations.text.outlineColor}),children:Tt}),jsxRuntimeExports.jsx(animated.text,{x:Kt.x,y:Kt.y,style:a(Dt.annotations.text,["outlineWidth","outlineColor"]),children:Tt})]})},E$1=function(dt){var et=dt.points,$t=dt.isOutline,kt=$t!==void 0&&$t,Tt=M$3(),Dt=reactExports.useMemo(function(){var Ht=et[0];return et.slice(1).reduce(function(Kt,Yt){return Kt+" L"+Yt[0]+","+Yt[1]},"M"+Ht[0]+","+Ht[1])},[et]),Ft=It(Dt);if(kt&&Tt.annotations.link.outlineWidth<=0)return null;var Ut=g({},Tt.annotations.link);return kt&&(Ut.strokeLinecap="square",Ut.strokeWidth=Tt.annotations.link.strokeWidth+2*Tt.annotations.link.outlineWidth,Ut.stroke=Tt.annotations.link.outlineColor,Ut.opacity=Tt.annotations.link.outlineOpacity),jsxRuntimeExports.jsx(animated.path,{fill:"none",d:Ft,style:Ut})},I=function(dt){var et=dt.x,$t=dt.y,kt=dt.size,Tt=M$3(),Dt=Dr(),Ft=Dt.animate,Ut=Dt.config,Ht=useSpring({x:et,y:$t,radius:kt/2,config:Ut,immediate:!Ft});return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Tt.annotations.outline.outlineWidth>0&&jsxRuntimeExports.jsx(animated.circle,{cx:Ht.x,cy:Ht.y,r:Ht.radius,style:g({},Tt.annotations.outline,{fill:"none",strokeWidth:Tt.annotations.outline.strokeWidth+2*Tt.annotations.outline.outlineWidth,stroke:Tt.annotations.outline.outlineColor,opacity:Tt.annotations.outline.outlineOpacity})}),jsxRuntimeExports.jsx(animated.circle,{cx:Ht.x,cy:Ht.y,r:Ht.radius,style:Tt.annotations.outline})]})},D=function(dt){var et=dt.x,$t=dt.y,kt=dt.size,Tt=kt===void 0?k$1.dotSize:kt,Dt=M$3(),Ft=Dr(),Ut=Ft.animate,Ht=Ft.config,Kt=useSpring({x:et,y:$t,radius:Tt/2,config:Ht,immediate:!Ut});return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Dt.annotations.outline.outlineWidth>0&&jsxRuntimeExports.jsx(animated.circle,{cx:Kt.x,cy:Kt.y,r:Kt.radius,style:g({},Dt.annotations.outline,{fill:"none",strokeWidth:2*Dt.annotations.outline.outlineWidth,stroke:Dt.annotations.outline.outlineColor,opacity:Dt.annotations.outline.outlineOpacity})}),jsxRuntimeExports.jsx(animated.circle,{cx:Kt.x,cy:Kt.y,r:Kt.radius,style:Dt.annotations.symbol})]})},L$1=function(dt){var et=dt.x,$t=dt.y,kt=dt.width,Tt=dt.height,Dt=dt.borderRadius,Ft=Dt===void 0?6:Dt,Ut=M$3(),Ht=Dr(),Kt=Ht.animate,Yt=Ht.config,Jt=useSpring({x:et-kt/2,y:$t-Tt/2,width:kt,height:Tt,config:Yt,immediate:!Kt});return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Ut.annotations.outline.outlineWidth>0&&jsxRuntimeExports.jsx(animated.rect,{x:Jt.x,y:Jt.y,rx:Ft,ry:Ft,width:Jt.width,height:Jt.height,style:g({},Ut.annotations.outline,{fill:"none",strokeWidth:Ut.annotations.outline.strokeWidth+2*Ut.annotations.outline.outlineWidth,stroke:Ut.annotations.outline.outlineColor,opacity:Ut.annotations.outline.outlineOpacity})}),jsxRuntimeExports.jsx(animated.rect,{x:Jt.x,y:Jt.y,rx:Ft,ry:Ft,width:Jt.width,height:Jt.height,style:Ut.annotations.outline})]})},R=function(dt){var et=dt.datum,$t=dt.x,kt=dt.y,Tt=dt.note,Dt=M(dt);if(!W(Tt))throw new Error("note should be a valid react element");return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(E$1,{points:Dt.points,isOutline:!0}),b$1(dt)&&jsxRuntimeExports.jsx(I,{x:$t,y:kt,size:dt.size}),w(dt)&&jsxRuntimeExports.jsx(D,{x:$t,y:kt,size:dt.size}),z$1(dt)&&jsxRuntimeExports.jsx(L$1,{x:$t,y:kt,width:dt.width,height:dt.height,borderRadius:dt.borderRadius}),jsxRuntimeExports.jsx(E$1,{points:Dt.points}),jsxRuntimeExports.jsx(T,{datum:et,x:Dt.text[0],y:Dt.text[1],note:Tt})]})},q=function(dt,et){et.forEach(function($t,kt){var Tt=$t[0],Dt=$t[1];kt===0?dt.moveTo(Tt,Dt):dt.lineTo(Tt,Dt)})},J=function(dt,et){var $t=et.annotations,kt=et.theme;$t.length!==0&&(dt.save(),$t.forEach(function(Tt){if(!v$1(Tt.note))throw new Error("note is invalid for canvas implementation");kt.annotations.link.outlineWidth>0&&(dt.lineCap="square",dt.strokeStyle=kt.annotations.link.outlineColor,dt.lineWidth=kt.annotations.link.strokeWidth+2*kt.annotations.link.outlineWidth,dt.beginPath(),q(dt,Tt.computed.points),dt.stroke(),dt.lineCap="butt"),b$1(Tt)&&kt.annotations.outline.outlineWidth>0&&(dt.strokeStyle=kt.annotations.outline.outlineColor,dt.lineWidth=kt.annotations.outline.strokeWidth+2*kt.annotations.outline.outlineWidth,dt.beginPath(),dt.arc(Tt.x,Tt.y,Tt.size/2,0,2*Math.PI),dt.stroke()),w(Tt)&&kt.annotations.symbol.outlineWidth>0&&(dt.strokeStyle=kt.annotations.symbol.outlineColor,dt.lineWidth=2*kt.annotations.symbol.outlineWidth,dt.beginPath(),dt.arc(Tt.x,Tt.y,Tt.size/2,0,2*Math.PI),dt.stroke()),z$1(Tt)&&kt.annotations.outline.outlineWidth>0&&(dt.strokeStyle=kt.annotations.outline.outlineColor,dt.lineWidth=kt.annotations.outline.strokeWidth+2*kt.annotations.outline.outlineWidth,dt.beginPath(),dt.rect(Tt.x-Tt.width/2,Tt.y-Tt.height/2,Tt.width,Tt.height),dt.stroke()),dt.strokeStyle=kt.annotations.link.stroke,dt.lineWidth=kt.annotations.link.strokeWidth,dt.beginPath(),q(dt,Tt.computed.points),dt.stroke(),b$1(Tt)&&(dt.strokeStyle=kt.annotations.outline.stroke,dt.lineWidth=kt.annotations.outline.strokeWidth,dt.beginPath(),dt.arc(Tt.x,Tt.y,Tt.size/2,0,2*Math.PI),dt.stroke()),w(Tt)&&(dt.fillStyle=kt.annotations.symbol.fill,dt.beginPath(),dt.arc(Tt.x,Tt.y,Tt.size/2,0,2*Math.PI),dt.fill()),z$1(Tt)&&(dt.strokeStyle=kt.annotations.outline.stroke,dt.lineWidth=kt.annotations.outline.strokeWidth,dt.beginPath(),dt.rect(Tt.x-Tt.width/2,Tt.y-Tt.height/2,Tt.width,Tt.height),dt.stroke()),typeof Tt.note=="function"?Tt.note(dt,{datum:Tt.datum,x:Tt.computed.text[0],y:Tt.computed.text[1],theme:kt}):(dt.font=kt.annotations.text.fontSize+"px "+kt.annotations.text.fontFamily,dt.textAlign="left",dt.textBaseline="alphabetic",dt.fillStyle=kt.annotations.text.fill,dt.strokeStyle=kt.annotations.text.outlineColor,dt.lineWidth=2*kt.annotations.text.outlineWidth,kt.annotations.text.outlineWidth>0&&(dt.lineJoin="round",dt.strokeText(Tt.note,Tt.computed.text[0],Tt.computed.text[1]),dt.lineJoin="miter"),dt.fillText(Tt.note,Tt.computed.text[0],Tt.computed.text[1]))}),dt.restore())};function Se$1(dt,et){(et==null||et>dt.length)&&(et=dt.length);for(var $t=0,kt=Array(et);$t<et;$t++)kt[$t]=dt[$t];return kt}function qe(dt,et){var $t=typeof Symbol<"u"&&dt[Symbol.iterator]||dt["@@iterator"];if($t)return($t=$t.call(dt)).next.bind($t);if(Array.isArray(dt)||($t=function(Tt,Dt){if(Tt){if(typeof Tt=="string")return Se$1(Tt,Dt);var Ft={}.toString.call(Tt).slice(8,-1);return Ft==="Object"&&Tt.constructor&&(Ft=Tt.constructor.name),Ft==="Map"||Ft==="Set"?Array.from(Tt):Ft==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ft)?Se$1(Tt,Dt):void 0}}(dt))||et&&dt&&typeof dt.length=="number"){$t&&(dt=$t);var kt=0;return function(){return kt>=dt.length?{done:!0}:{done:!1,value:dt[kt++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ce$1(){return Ce$1=Object.assign?Object.assign.bind():function(dt){for(var et=1;et<arguments.length;et++){var $t=arguments[et];for(var kt in $t)({}).hasOwnProperty.call($t,kt)&&(dt[kt]=$t[kt])}return dt},Ce$1.apply(null,arguments)}var Ge={nivo:["#e8c1a0","#f47560","#f1e15b","#e8a838","#61cdbb","#97e3d5"],category10:e$1,accent:r$1,dark2:n,paired:t,pastel1:o$2,pastel2:i,set1:u$1,set2:l,set3:a$2,tableau10:c$2},Ve$1=Object.keys(Ge),Pe$1={brown_blueGreen:scheme$q,purpleRed_green:scheme$p,pink_yellowGreen:scheme$o,purple_orange:scheme$n,red_blue:scheme$m,red_grey:scheme$l,red_yellow_blue:scheme$k,red_yellow_green:scheme$j,spectral:scheme$i},Re$1=Object.keys(Pe$1),Ue={brown_blueGreen:y$1,purpleRed_green:_$1,pink_yellowGreen:w$2,purple_orange:k$2,red_blue:j$3,red_grey:z$3,red_yellow_blue:A$2,red_yellow_green:E$3,spectral:O$3},De$1={blues:scheme$5,greens:scheme$4,greys:scheme$3,oranges:scheme,purples:scheme$2,reds:scheme$1,blue_green:scheme$h,blue_purple:scheme$g,green_blue:scheme$f,orange_red:scheme$e,purple_blue_green:scheme$d,purple_blue:scheme$c,purple_red:scheme$b,red_purple:scheme$a,yellow_green_blue:scheme$9,yellow_green:scheme$8,yellow_orange_brown:scheme$7,yellow_orange_red:scheme$6},Me$1=Object.keys(De$1),Te$1={blues:K,greens:L$3,greys:N,oranges:Q$2,purples:W$3,reds:X$2,turbo:Y$2,viridis:Z$2,inferno,magma,plasma,cividis:te$1,warm,cool,cubehelixDefault:ue$1,blue_green:le$1,blue_purple:ae$1,green_blue:ce$1,orange_red:se$1,purple_blue_green:fe$1,purple_blue:pe$1,purple_red:de$1,red_purple:me$1,yellow_green_blue:ge$1,yellow_green:he$1,yellow_orange_brown:be$1,yellow_orange_red:ve$1},$e=Ce$1({},Ge,Pe$1,De$1),Fe$1=function(dt){return Ve$1.includes(dt)},He$1=function(dt){return Re$1.includes(dt)},Je=function(dt){return Me$1.includes(dt)},Ke={rainbow:ye$1,sinebow:_e};Ce$1({},Ue,Te$1,Ke);var Qe=function(dt){return dt.theme!==void 0},We$1=function(dt){return dt.from!==void 0},Xe$1=function(dt,et){if(typeof dt=="function")return dt;if(je(dt)){if(Qe(dt)){if(et===void 0)throw new Error("Unable to use color from theme as no theme was provided");var $t=ke$1(et,dt.theme);if($t===void 0)throw new Error("Color from theme is undefined at path: '"+dt.theme+"'");return function(){return $t}}if(We$1(dt)){var kt=function(Ht){return ke$1(Ht,dt.from)};if(Array.isArray(dt.modifiers)){for(var Tt,Dt=[],Ft=function(){var Ht=Tt.value,Kt=Ht[0],Yt=Ht[1];if(Kt==="brighter")Dt.push(function(Jt){return Jt.brighter(Yt)});else if(Kt==="darker")Dt.push(function(Jt){return Jt.darker(Yt)});else{if(Kt!=="opacity")throw new Error("Invalid color modifier: '"+Kt+"', must be one of: 'brighter', 'darker', 'opacity'");Dt.push(function(Jt){return Jt.opacity=Yt,Jt})}},Ut=qe(dt.modifiers);!(Tt=Ut()).done;)Ft();return Dt.length===0?kt:function(Ht){return Dt.reduce(function(Kt,Yt){return Yt(Kt)},rgb$5(kt(Ht))).toString()}}return kt}throw new Error("Invalid color spec, you should either specify 'theme' or 'from' when using a config object")}return function(){return dt}},Ye$1=function(dt,et){return reactExports.useMemo(function(){return Xe$1(dt,et)},[dt,et])},gr=function(dt,et){if(typeof dt=="function")return dt;var $t=typeof et=="function"?et:function(Jt){return ke$1(Jt,et)};if(Array.isArray(dt)){var kt=ordinal(dt),Tt=function(Jt){return kt($t(Jt))};return Tt.scale=kt,Tt}if(je(dt)){if(function(Jt){return Jt.datum!==void 0}(dt))return function(Jt){return ke$1(Jt,dt.datum)};if(function(Jt){return Jt.scheme!==void 0}(dt)){if(Fe$1(dt.scheme)){var Dt=ordinal($e[dt.scheme]),Ft=function(Jt){return Dt($t(Jt))};return Ft.scale=Dt,Ft}if(He$1(dt.scheme)){if(dt.size!==void 0&&(dt.size<3||dt.size>11))throw new Error("Invalid size '"+dt.size+"' for diverging color scheme '"+dt.scheme+"', must be between 3~11");var Ut=ordinal($e[dt.scheme][dt.size||11]),Ht=function(Jt){return Ut($t(Jt))};return Ht.scale=Ut,Ht}if(Je(dt.scheme)){if(dt.size!==void 0&&(dt.size<3||dt.size>9))throw new Error("Invalid size '"+dt.size+"' for sequential color scheme '"+dt.scheme+"', must be between 3~9");var Kt=ordinal($e[dt.scheme][dt.size||9]),Yt=function(Jt){return Kt($t(Jt))};return Yt.scale=Kt,Yt}}throw new Error("Invalid colors, when using an object, you should either pass a 'datum' or a 'scheme' property")}return function(){return dt}},hr=function(dt,et){return reactExports.useMemo(function(){return gr(dt,et)},[dt,et])},v=function(dt){var et=dt.x,$t=dt.y,kt=dt.size,Tt=dt.fill,Dt=dt.opacity,Ft=Dt===void 0?1:Dt,Ut=dt.borderWidth,Ht=Ut===void 0?0:Ut,Kt=dt.borderColor;return jsxRuntimeExports.jsx("circle",{r:kt/2,cx:et+kt/2,cy:$t+kt/2,fill:Tt,opacity:Ft,strokeWidth:Ht,stroke:Kt===void 0?"transparent":Kt,style:{pointerEvents:"none"}})},u=function(dt){var et=dt.x,$t=dt.y,kt=dt.size,Tt=dt.fill,Dt=dt.opacity,Ft=Dt===void 0?1:Dt,Ut=dt.borderWidth,Ht=Ut===void 0?0:Ut,Kt=dt.borderColor;return jsxRuntimeExports.jsx("g",{transform:"translate("+et+","+$t+")",children:jsxRuntimeExports.jsx("path",{d:`
                    M`+kt/2+` 0
                    L`+.8*kt+" "+kt/2+`
                    L`+kt/2+" "+kt+`
                    L`+.2*kt+" "+kt/2+`
                    L`+kt/2+` 0
                `,fill:Tt,opacity:Ft,strokeWidth:Ht,stroke:Kt===void 0?"transparent":Kt,style:{pointerEvents:"none"}})})},p=function(dt){var et=dt.x,$t=dt.y,kt=dt.size,Tt=dt.fill,Dt=dt.opacity,Ft=Dt===void 0?1:Dt,Ut=dt.borderWidth,Ht=Ut===void 0?0:Ut,Kt=dt.borderColor;return jsxRuntimeExports.jsx("rect",{x:et,y:$t,fill:Tt,opacity:Ft,strokeWidth:Ht,stroke:Kt===void 0?"transparent":Kt,width:kt,height:kt,style:{pointerEvents:"none"}})},y=function(dt){var et=dt.x,$t=dt.y,kt=dt.size,Tt=dt.fill,Dt=dt.opacity,Ft=Dt===void 0?1:Dt,Ut=dt.borderWidth,Ht=Ut===void 0?0:Ut,Kt=dt.borderColor;return jsxRuntimeExports.jsx("g",{transform:"translate("+et+","+$t+")",children:jsxRuntimeExports.jsx("path",{d:`
                M`+kt/2+` 0
                L`+kt+" "+kt+`
                L0 `+kt+`
                L`+kt/2+` 0
            `,fill:Tt,opacity:Ft,strokeWidth:Ht,stroke:Kt===void 0?"transparent":Kt,style:{pointerEvents:"none"}})})};function b(){return b=Object.assign?Object.assign.bind():function(dt){for(var et=1;et<arguments.length;et++){var $t=arguments[et];for(var kt in $t)({}).hasOwnProperty.call($t,kt)&&(dt[kt]=$t[kt])}return dt},b.apply(null,arguments)}var k={translateX:0,translateY:0,padding:0,itemsSpacing:0,itemDirection:"left-to-right",justify:!1,symbolShape:"square",symbolSize:16,symbolSpacing:8},S={top:0,right:0,bottom:0,left:0},A=function(dt){var et,$t=dt.direction,kt=dt.itemsSpacing,Tt=dt.padding,Dt=dt.itemCount,Ft=dt.itemWidth,Ut=dt.itemHeight;if(typeof Tt!="number"&&(typeof(et=Tt)!="object"||Array.isArray(et)||et===null))throw new Error("Invalid property padding, must be one of: number, object");var Ht=typeof Tt=="number"?{top:Tt,right:Tt,bottom:Tt,left:Tt}:b({},S,Tt),Kt=Ht.left+Ht.right,Yt=Ht.top+Ht.bottom,Jt=Ft+Kt,Zt=Ut+Yt,er=(Dt-1)*kt;return $t==="row"?Jt=Ft*Dt+er+Kt:$t==="column"&&(Zt=Ut*Dt+er+Yt),{width:Jt,height:Zt,padding:Ht}},C=function(dt){var et=dt.anchor,$t=dt.translateX,kt=dt.translateY,Tt=dt.containerWidth,Dt=dt.containerHeight,Ft=dt.width,Ut=dt.height,Ht=$t,Kt=kt;switch(et){case"top":Ht+=(Tt-Ft)/2;break;case"top-right":Ht+=Tt-Ft;break;case"right":Ht+=Tt-Ft,Kt+=(Dt-Ut)/2;break;case"bottom-right":Ht+=Tt-Ft,Kt+=Dt-Ut;break;case"bottom":Ht+=(Tt-Ft)/2,Kt+=Dt-Ut;break;case"bottom-left":Kt+=Dt-Ut;break;case"left":Kt+=(Dt-Ut)/2;break;case"center":Ht+=(Tt-Ft)/2,Kt+=(Dt-Ut)/2}return{x:Ht,y:Kt}},z=function(dt){var et,$t,kt,Tt,Dt,Ft,Ut=dt.direction,Ht=dt.justify,Kt=dt.symbolSize,Yt=dt.symbolSpacing,Jt=dt.width,Zt=dt.height;switch(Ut){case"left-to-right":et=0,$t=(Zt-Kt)/2,Tt=Zt/2,Ft="central",Ht?(kt=Jt,Dt="end"):(kt=Kt+Yt,Dt="start");break;case"right-to-left":et=Jt-Kt,$t=(Zt-Kt)/2,Tt=Zt/2,Ft="central",Ht?(kt=0,Dt="start"):(kt=Jt-Kt-Yt,Dt="end");break;case"top-to-bottom":et=(Jt-Kt)/2,$t=0,kt=Jt/2,Dt="middle",Ht?(Tt=Zt,Ft="alphabetic"):(Tt=Kt+Yt,Ft="text-before-edge");break;case"bottom-to-top":et=(Jt-Kt)/2,$t=Zt-Kt,kt=Jt/2,Dt="middle",Ht?(Tt=0,Ft="text-before-edge"):(Tt=Zt-Kt-Yt,Ft="alphabetic")}return{symbolX:et,symbolY:$t,labelX:kt,labelY:Tt,labelAnchor:Dt,labelAlignment:Ft}},O={circle:v,diamond:u,square:p,triangle:y},B=function(dt){var et,$t,kt,Tt,Dt,Ft,Ut,Ht,Kt,Yt,Jt,Zt=dt.x,er=dt.y,rr=dt.width,sr=dt.height,ir=dt.data,nr=dt.direction,or=nr===void 0?k.itemDirection:nr,lr=dt.justify,cr=lr===void 0?k.justify:lr,dr=dt.textColor,ur=dt.background,pr=ur===void 0?"transparent":ur,mr=dt.opacity,vr=mr===void 0?1:mr,kr=dt.symbolShape,br=kr===void 0?k.symbolShape:kr,_r=dt.symbolSize,Or=_r===void 0?k.symbolSize:_r,Pr=dt.symbolSpacing,Mr=Pr===void 0?k.symbolSpacing:Pr,Rr=dt.symbolBorderWidth,Tr=Rr===void 0?0:Rr,xr=dt.symbolBorderColor,wr=xr===void 0?"transparent":xr,zr=dt.onClick,Hr=dt.onMouseEnter,Gr=dt.onMouseLeave,Xr=dt.toggleSerie,rs=dt.effects,Yr=reactExports.useState({}),es=Yr[0],ns=Yr[1],ms=M$3(),ls=reactExports.useCallback(function(Ns){if(rs){var Ms=rs.filter(function(Us){return Us.on==="hover"}).reduce(function(Us,Ws){return b({},Us,Ws.style)},{});ns(Ms)}Hr==null||Hr(ir,Ns)},[Hr,ir,rs]),ds=reactExports.useCallback(function(Ns){if(rs){var Ms=rs.filter(function(Us){return Us.on!=="hover"}).reduce(function(Us,Ws){return b({},Us,Ws.style)},{});ns(Ms)}Gr==null||Gr(ir,Ns)},[Gr,ir,rs]),fs=z({direction:or,justify:cr,symbolSize:(et=es.symbolSize)!=null?et:Or,symbolSpacing:Mr,width:rr,height:sr}),cs=fs.symbolX,xs=fs.symbolY,us=fs.labelX,$s=fs.labelY,ks=fs.labelAnchor,Ds=fs.labelAlignment,Cs=[zr,Hr,Gr,Xr].some(function(Ns){return Ns!==void 0}),Ts=typeof br=="function"?br:O[br];return jsxRuntimeExports.jsxs("g",{transform:"translate("+Zt+","+er+")",style:{opacity:($t=es.itemOpacity)!=null?$t:vr},children:[jsxRuntimeExports.jsx("rect",{width:rr,height:sr,fill:(kt=es.itemBackground)!=null?kt:pr,style:{cursor:Cs?"pointer":"auto"},onClick:function(Ns){zr==null||zr(ir,Ns),Xr==null||Xr(ir.id)},onMouseEnter:ls,onMouseLeave:ds}),reactExports.createElement(Ts,b({id:ir.id,x:cs,y:xs,size:(Tt=es.symbolSize)!=null?Tt:Or,fill:(Dt=(Ft=ir.fill)!=null?Ft:ir.color)!=null?Dt:"black",borderWidth:(Ut=es.symbolBorderWidth)!=null?Ut:Tr,borderColor:(Ht=es.symbolBorderColor)!=null?Ht:wr},ir.hidden?ms.legends.hidden.symbol:void 0)),jsxRuntimeExports.jsx(b$2,{textAnchor:ks,style:b({},ms.legends.text,{fill:(Kt=(Yt=(Jt=es.itemTextColor)!=null?Jt:dr)!=null?Yt:ms.legends.text.fill)!=null?Kt:"black",dominantBaseline:Ds,pointerEvents:"none",userSelect:"none"},ir.hidden?ms.legends.hidden.text:void 0),x:us,y:$s,children:ir.label})]})},H=function(dt){var et=dt.data,$t=dt.x,kt=dt.y,Tt=dt.direction,Dt=dt.padding,Ft=Dt===void 0?k.padding:Dt,Ut=dt.justify,Ht=dt.effects,Kt=dt.itemWidth,Yt=dt.itemHeight,Jt=dt.itemDirection,Zt=Jt===void 0?k.itemDirection:Jt,er=dt.itemsSpacing,rr=er===void 0?k.itemsSpacing:er,sr=dt.itemTextColor,ir=dt.itemBackground,nr=ir===void 0?"transparent":ir,or=dt.itemOpacity,lr=or===void 0?1:or,cr=dt.symbolShape,dr=dt.symbolSize,ur=dt.symbolSpacing,pr=dt.symbolBorderWidth,mr=dt.symbolBorderColor,vr=dt.onClick,kr=dt.onMouseEnter,br=dt.onMouseLeave,_r=dt.toggleSerie,Or=A({itemCount:et.length,itemWidth:Kt,itemHeight:Yt,itemsSpacing:rr,direction:Tt,padding:Ft}).padding,Pr=Tt==="row"?Kt+rr:0,Mr=Tt==="column"?Yt+rr:0;return jsxRuntimeExports.jsx("g",{transform:"translate("+$t+","+kt+")",children:et.map(function(Rr,Tr){return jsxRuntimeExports.jsx(B,{data:Rr,x:Tr*Pr+Or.left,y:Tr*Mr+Or.top,width:Kt,height:Yt,direction:Zt,justify:Ut,effects:Ht,textColor:sr,background:nr,opacity:lr,symbolShape:cr,symbolSize:dr,symbolSpacing:ur,symbolBorderWidth:pr,symbolBorderColor:mr,onClick:vr,onMouseEnter:kr,onMouseLeave:br,toggleSerie:_r},Tr)})})},E=function(dt){var et=dt.data,$t=dt.containerWidth,kt=dt.containerHeight,Tt=dt.translateX,Dt=Tt===void 0?k.translateX:Tt,Ft=dt.translateY,Ut=Ft===void 0?k.translateY:Ft,Ht=dt.anchor,Kt=dt.direction,Yt=dt.padding,Jt=Yt===void 0?k.padding:Yt,Zt=dt.justify,er=dt.itemsSpacing,rr=er===void 0?k.itemsSpacing:er,sr=dt.itemWidth,ir=dt.itemHeight,nr=dt.itemDirection,or=dt.itemTextColor,lr=dt.itemBackground,cr=dt.itemOpacity,dr=dt.symbolShape,ur=dt.symbolSize,pr=dt.symbolSpacing,mr=dt.symbolBorderWidth,vr=dt.symbolBorderColor,kr=dt.onClick,br=dt.onMouseEnter,_r=dt.onMouseLeave,Or=dt.toggleSerie,Pr=dt.effects,Mr=A({itemCount:et.length,itemsSpacing:rr,itemWidth:sr,itemHeight:ir,direction:Kt,padding:Jt}),Rr=Mr.width,Tr=Mr.height,xr=C({anchor:Ht,translateX:Dt,translateY:Ut,containerWidth:$t,containerHeight:kt,width:Rr,height:Tr}),wr=xr.x,zr=xr.y;return jsxRuntimeExports.jsx(H,{data:et,x:wr,y:zr,direction:Kt,padding:Jt,justify:Zt,effects:Pr,itemsSpacing:rr,itemWidth:sr,itemHeight:ir,itemDirection:nr,itemTextColor:or,itemBackground:lr,itemOpacity:cr,symbolShape:dr,symbolSize:ur,symbolSpacing:pr,symbolBorderWidth:mr,symbolBorderColor:vr,onClick:kr,onMouseEnter:br,onMouseLeave:_r,toggleSerie:typeof Or=="boolean"?void 0:Or})},j={start:"left",middle:"center",end:"right"},L=function(dt,et){var $t=et.data,kt=et.containerWidth,Tt=et.containerHeight,Dt=et.translateX,Ft=Dt===void 0?0:Dt,Ut=et.translateY,Ht=Ut===void 0?0:Ut,Kt=et.anchor,Yt=et.direction,Jt=et.padding,Zt=Jt===void 0?0:Jt,er=et.justify,rr=er!==void 0&&er,sr=et.itemsSpacing,ir=sr===void 0?0:sr,nr=et.itemWidth,or=et.itemHeight,lr=et.itemDirection,cr=lr===void 0?"left-to-right":lr,dr=et.itemTextColor,ur=et.symbolSize,pr=ur===void 0?16:ur,mr=et.symbolSpacing,vr=mr===void 0?8:mr,kr=et.theme,br=A({itemCount:$t.length,itemWidth:nr,itemHeight:or,itemsSpacing:ir,direction:Yt,padding:Zt}),_r=br.width,Or=br.height,Pr=br.padding,Mr=C({anchor:Kt,translateX:Ft,translateY:Ht,containerWidth:kt,containerHeight:Tt,width:_r,height:Or}),Rr=Mr.x,Tr=Mr.y,xr=Yt==="row"?nr+ir:0,wr=Yt==="column"?or+ir:0;dt.save(),dt.translate(Rr,Tr),a$1(dt,kr.legends.text),$t.forEach(function(zr,Hr){var Gr,Xr=Hr*xr+Pr.left,rs=Hr*wr+Pr.top,Yr=z({direction:cr,justify:rr,symbolSize:pr,symbolSpacing:vr,width:nr,height:or}),es=Yr.symbolX,ns=Yr.symbolY,ms=Yr.labelX,ls=Yr.labelY,ds=Yr.labelAnchor,fs=Yr.labelAlignment;dt.fillStyle=(Gr=zr.color)!=null?Gr:"black",dt.fillRect(Xr+es,rs+ns,pr,pr),dt.textAlign=j[ds],fs==="central"&&(dt.textBaseline="middle"),d(dt,b({},kr.legends.text,{fill:dr??kr.legends.text.fill}),String(zr.label),Xr+ms,rs+ls)}),dt.restore()},o=function(dt,et,$t,kt,Tt,Dt){Dt>0?(dt.moveTo(et+Dt,$t),dt.lineTo(et+kt-Dt,$t),dt.quadraticCurveTo(et+kt,$t,et+kt,$t+Dt),dt.lineTo(et+kt,$t+Tt-Dt),dt.quadraticCurveTo(et+kt,$t+Tt,et+kt-Dt,$t+Tt),dt.lineTo(et+Dt,$t+Tt),dt.quadraticCurveTo(et,$t+Tt,et,$t+Tt-Dt),dt.lineTo(et,$t+Dt),dt.quadraticCurveTo(et,$t,et+Dt,$t),dt.closePath()):dt.rect(et,$t,kt,Tt)};function Q(){return Q=Object.assign?Object.assign.bind():function(dt){for(var et=1;et<arguments.length;et++){var $t=arguments[et];for(var kt in $t)({}).hasOwnProperty.call($t,kt)&&(dt[kt]=$t[kt])}return dt},Q.apply(null,arguments)}function U(dt,et){if(dt==null)return{};var $t={};for(var kt in dt)if({}.hasOwnProperty.call(dt,kt)){if(et.indexOf(kt)!==-1)continue;$t[kt]=dt[kt]}return $t}var Z,$=function(dt){var et=dt.bars,$t=dt.annotations,kt=O$1({data:et,annotations:$t,getPosition:function(Tt){return{x:Tt.x+Tt.width/2,y:Tt.y+Tt.height/2}},getDimensions:function(Tt){var Dt=Tt.height,Ft=Tt.width;return{width:Ft,height:Dt,size:Math.max(Ft,Dt)}}});return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:kt.map(function(Tt,Dt){return jsxRuntimeExports.jsx(R,Q({},Tt),Dt)})})},ee=function(dt){var et=dt.width,$t=dt.height,kt=dt.legends,Tt=dt.toggleSerie;return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:kt.map(function(Dt,Ft){var Ut,Ht=Dt[0],Kt=Dt[1];return jsxRuntimeExports.jsx(E,Q({},Ht,{containerWidth:et,containerHeight:$t,data:(Ut=Ht.data)!=null?Ut:Kt,toggleSerie:Ht.toggleSerie&&Ht.dataFrom==="keys"?Tt:void 0}),Ft)})})},te=["data"],ae=function(dt){var et,$t=dt.bar,kt=$t.data,Tt=U($t,te),Dt=dt.style,Ft=Dt.borderColor,Ut=Dt.color,Ht=Dt.height,Kt=Dt.labelColor,Yt=Dt.labelOpacity,Jt=Dt.labelX,Zt=Dt.labelY,er=Dt.transform,rr=Dt.width,sr=Dt.textAnchor,ir=dt.borderRadius,nr=dt.borderWidth,or=dt.label,lr=dt.shouldRenderLabel,cr=dt.isInteractive,dr=dt.onClick,ur=dt.onMouseEnter,pr=dt.onMouseLeave,mr=dt.tooltip,vr=dt.isFocusable,kr=dt.ariaLabel,br=dt.ariaLabelledBy,_r=dt.ariaDescribedBy,Or=dt.ariaDisabled,Pr=dt.ariaHidden,Mr=M$3(),Rr=z$4(),Tr=Rr.showTooltipFromEvent,xr=Rr.showTooltipAt,wr=Rr.hideTooltip,zr=reactExports.useMemo(function(){return function(){return reactExports.createElement(mr,Q({},Tt,kt))}},[mr,Tt,kt]),Hr=reactExports.useCallback(function(ns){dr==null||dr(Q({color:Tt.color},kt),ns)},[Tt,kt,dr]),Gr=reactExports.useCallback(function(ns){return Tr(zr(),ns)},[Tr,zr]),Xr=reactExports.useCallback(function(ns){ur==null||ur(kt,ns),Tr(zr(),ns)},[kt,ur,Tr,zr]),rs=reactExports.useCallback(function(ns){pr==null||pr(kt,ns),wr()},[kt,wr,pr]),Yr=reactExports.useCallback(function(){xr(zr(),[Tt.absX+Tt.width/2,Tt.absY])},[xr,zr,Tt]),es=reactExports.useCallback(function(){wr()},[wr]);return jsxRuntimeExports.jsxs(animated$1.g,{transform:er,children:[jsxRuntimeExports.jsx(animated$1.rect,{width:to$1(rr,function(ns){return Math.max(ns,0)}),height:to$1(Ht,function(ns){return Math.max(ns,0)}),rx:ir,ry:ir,fill:(et=kt.fill)!=null?et:Ut,strokeWidth:nr,stroke:Ft,focusable:vr,tabIndex:vr?0:void 0,"aria-label":kr?kr(kt):void 0,"aria-labelledby":br?br(kt):void 0,"aria-describedby":_r?_r(kt):void 0,"aria-disabled":Or?Or(kt):void 0,"aria-hidden":Pr?Pr(kt):void 0,onMouseEnter:cr?Xr:void 0,onMouseMove:cr?Gr:void 0,onMouseLeave:cr?rs:void 0,onClick:cr?Hr:void 0,onFocus:cr&&vr?Yr:void 0,onBlur:cr&&vr?es:void 0,"data-testid":"bar.item."+kt.id+"."+kt.index}),lr&&jsxRuntimeExports.jsx(b$2,{x:Jt,y:Zt,textAnchor:sr,dominantBaseline:"central",fillOpacity:Yt,style:Q({},Mr.labels.text,{pointerEvents:"none",fill:Kt}),children:or})]})},ie=["color","label"],ne=function(dt){var et=dt.color,$t=dt.label,kt=U(dt,ie);return jsxRuntimeExports.jsx(T$3,{id:$t,value:kt.formattedValue,enableChip:!0,color:et})},le={indexBy:"id",keys:["value"],groupMode:"stacked",layout:"vertical",valueScale:{type:"linear",nice:!0,round:!1},indexScale:{type:"band",round:!1},padding:.1,innerPadding:0,enableGridX:!1,enableGridY:!0,enableLabel:!0,label:"formattedValue",labelPosition:"middle",labelOffset:0,labelSkipWidth:0,labelSkipHeight:0,labelTextColor:{theme:"labels.text.fill"},colorBy:"id",colors:{scheme:"nivo"},borderRadius:0,borderWidth:0,borderColor:{from:"color"},isInteractive:!0,tooltip:ne,tooltipLabel:function(dt){return dt.id+" - "+dt.indexValue},legends:[],initialHiddenIds:[],annotations:[],enableTotals:!1,totalsOffset:10},re=Q({},le,{layers:["grid","axes","bars","totals","markers","legends","annotations"],axisTop:null,axisRight:null,axisBottom:{},axisLeft:{},barComponent:ae,defs:[],fill:[],markers:[],animate:!0,animateOnMount:!1,motionConfig:"default",role:"img",isFocusable:!1}),oe=Q({},le,{layers:["grid","axes","bars","totals","legends","annotations"],axisTop:null,axisRight:null,axisBottom:{},axisLeft:{},renderBar:function(dt,et){var $t=et.bar,kt=$t.color,Tt=$t.height,Dt=$t.width,Ft=$t.x,Ut=$t.y,Ht=et.borderColor,Kt=et.borderRadius,Yt=et.borderWidth,Jt=et.label,Zt=et.shouldRenderLabel,er=et.labelStyle,rr=et.labelX,sr=et.labelY,ir=et.textAnchor;dt.fillStyle=kt,Yt>0&&(dt.strokeStyle=Ht,dt.lineWidth=Yt),dt.beginPath(),o(dt,Ft,Ut,Dt,Tt,Math.min(Kt,Tt)),dt.fill(),Yt>0&&dt.stroke(),Zt&&(dt.textBaseline="middle",dt.textAlign=ir==="middle"?"center":ir,d(dt,er,Jt,Ft+rr,Ut+sr))},pixelRatio:typeof window<"u"&&(Z=window.devicePixelRatio)!=null?Z:1}),de=function(dt,et,$t,kt,Tt,Dt){return pn(kt,{all:dt.map(et),min:0,max:0},Tt,Dt).padding($t)},ue=function(dt,et){return dt.map(function($t){return Q({},et.reduce(function(kt,Tt){return kt[Tt]=null,kt},{}),$t)})},se=function(dt){return Object.keys(dt).reduce(function(et,$t){return dt[$t]&&(et[$t]=dt[$t]),et},{})},ce=function(dt){return[dt,Number(dt)]};function he(dt,et,$t,kt){return dt===void 0&&(dt=le.layout),$t===void 0&&($t=le.labelPosition),kt===void 0&&(kt=le.labelOffset),function(Tt,Dt){var Ft=kt*(et?-1:1);if(dt==="horizontal"){var Ut=Tt/2;return $t==="start"?Ut=et?Tt:0:$t==="end"&&(Ut=et?0:Tt),{labelX:Ut+Ft,labelY:Dt/2,textAnchor:$t==="middle"?"middle":et?"end":"start"}}var Ht=Dt/2;return $t==="start"?Ht=et?0:Dt:$t==="end"&&(Ht=et?Dt:0),{labelX:Tt/2,labelY:Ht-Ft,textAnchor:"middle"}}}var fe=["layout","width","height","padding","innerPadding","valueScale","indexScale","hiddenIds"],be=function(dt,et){return dt>et},ge=function(dt,et){return dt<et},ve=function(dt,et){return Array.from(" ".repeat(et-dt),function($t,kt){return dt+kt})},me=function(dt){return be(dt,0)?0:dt},pe=function(dt,et,$t,kt){var Tt=dt.data,Dt=dt.formatValue,Ft=dt.getColor,Ut=dt.getIndex,Ht=dt.getTooltipLabel,Kt=dt.innerPadding,Yt=Kt===void 0?0:Kt,Jt=dt.keys,Zt=dt.xScale,er=dt.yScale,rr=dt.margin,sr=$t?ge:be,ir=Tt.map(se),nr=[];return Jt.forEach(function(or,lr){return ve(0,Zt.domain().length).forEach(function(cr){var dr,ur,pr,mr=ce(Tt[cr][or]),vr=mr[0],kr=mr[1],br=Ut(Tt[cr]),_r=((dr=Zt(br))!=null?dr:0)+et*lr+Yt*lr,Or=sr(ur=kr,0)?(pr=er(ur))!=null?pr:0:kt,Pr=function(Rr,Tr){var xr;return sr(Rr,0)?kt-Tr:((xr=er(Rr))!=null?xr:0)-kt}(kr,Or),Mr={id:or,value:vr===null?vr:kr,formattedValue:Dt(kr),hidden:!1,index:cr,indexValue:br,data:ir[cr]};nr.push({key:or+"."+Mr.indexValue,index:nr.length,data:Mr,x:_r,y:Or,absX:rr.left+_r,absY:rr.top+Or,width:et,height:Pr,color:Ft(Mr),label:Ht(Mr)})})}),nr},ye=function(dt,et,$t,kt){var Tt=dt.data,Dt=dt.formatValue,Ft=dt.getIndex,Ut=dt.getColor,Ht=dt.getTooltipLabel,Kt=dt.keys,Yt=dt.innerPadding,Jt=Yt===void 0?0:Yt,Zt=dt.xScale,er=dt.yScale,rr=dt.margin,sr=$t?ge:be,ir=Tt.map(se),nr=[];return Kt.forEach(function(or,lr){return ve(0,er.domain().length).forEach(function(cr){var dr,ur,pr,mr=ce(Tt[cr][or]),vr=mr[0],kr=mr[1],br=Ft(Tt[cr]),_r=sr(ur=kr,0)?kt:(pr=Zt(ur))!=null?pr:0,Or=((dr=er(br))!=null?dr:0)+et*lr+Jt*lr,Pr=function(Rr,Tr){var xr;return sr(Rr,0)?((xr=Zt(Rr))!=null?xr:0)-kt:kt-Tr}(kr,_r),Mr={id:or,value:vr===null?vr:kr,formattedValue:Dt(kr),hidden:!1,index:cr,indexValue:br,data:ir[cr]};nr.push({key:or+"."+Mr.indexValue,index:nr.length,data:Mr,x:_r,y:Or,absX:rr.left+_r,absY:rr.top+Or,width:Pr,height:et,color:Ut(Mr),label:Ht(Mr)})})}),nr},xe=function(dt){var et,$t,kt,Tt=dt.layout,Dt=dt.width,Ft=dt.height,Ut=dt.padding,Ht=Ut===void 0?0:Ut,Kt=dt.innerPadding,Yt=Kt===void 0?0:Kt,Jt=dt.valueScale,Zt=dt.indexScale,er=dt.hiddenIds,rr=er===void 0?[]:er,sr=U(dt,fe),ir=sr.keys.filter(function(Tr){return!rr.includes(Tr)}),nr=ue(sr.data,ir),or=Tt==="vertical"?["y","x",Dt]:["x","y",Ft],lr=or[0],cr=or[1],dr=or[2],ur=de(nr,sr.getIndex,Ht,Zt,dr,cr),pr=Jt.min==="auto"?me:function(Tr){return Tr},mr=nr.reduce(function(Tr,xr){return[].concat(Tr,ir.map(function(wr){return xr[wr]}))},[]).filter(Boolean),vr=pr(Math.min.apply(Math,mr)),kr=(kt=Math.max.apply(Math,mr),isFinite(kt)?kt:0),br=pn(Jt,{all:mr,min:vr,max:kr},lr==="x"?Dt:Ft,lr),_r=Tt==="vertical"?[ur,br]:[br,ur],Or=_r[0],Pr=_r[1],Mr=(ur.bandwidth()-Yt*(ir.length-1))/ir.length,Rr=[Q({},sr,{data:nr,keys:ir,innerPadding:Yt,xScale:Or,yScale:Pr}),Mr,(et=Jt.reverse)!=null&&et,($t=br(0))!=null?$t:0];return{xScale:Or,yScale:Pr,bars:Mr>0?Tt==="vertical"?pe.apply(void 0,Rr):ye.apply(void 0,Rr):[]}},Se=["data","layout","width","height","padding","valueScale","indexScale","hiddenIds"],ke=function(dt){var et;return dt.some(Array.isArray)?ke((et=[]).concat.apply(et,dt)):dt},we=function(dt,et,$t){var kt=dt.formatValue,Tt=dt.getColor,Dt=dt.getIndex,Ft=dt.getTooltipLabel,Ut=dt.innerPadding,Ht=dt.stackedData,Kt=dt.xScale,Yt=dt.yScale,Jt=dt.margin,Zt=[];return Ht.forEach(function(er){return Kt.domain().forEach(function(rr,sr){var ir,nr,or=er[sr],lr=(ir=Kt(Dt(or.data)))!=null?ir:0,cr=((nr=function(kr){return Yt(kr[$t?0:1])}(or))!=null?nr:0)+.5*Ut,dr=function(kr,br){var _r;return((_r=Yt(kr[$t?1:0]))!=null?_r:0)-br}(or,cr)-Ut,ur=ce(or.data[er.key]),pr=ur[0],mr=ur[1],vr={id:er.key,value:pr===null?pr:mr,formattedValue:kt(mr),hidden:!1,index:sr,indexValue:rr,data:se(or.data)};Zt.push({key:er.key+"."+rr,index:Zt.length,data:vr,x:lr,y:cr,absX:Jt.left+lr,absY:Jt.top+cr,width:et,height:dr,color:Tt(vr),label:Ft(vr)})})}),Zt},Le=function(dt,et,$t){var kt=dt.formatValue,Tt=dt.getColor,Dt=dt.getIndex,Ft=dt.getTooltipLabel,Ut=dt.innerPadding,Ht=dt.stackedData,Kt=dt.xScale,Yt=dt.yScale,Jt=dt.margin,Zt=[];return Ht.forEach(function(er){return Yt.domain().forEach(function(rr,sr){var ir,nr,or=er[sr],lr=(ir=Yt(Dt(or.data)))!=null?ir:0,cr=((nr=function(kr){return Kt(kr[$t?1:0])}(or))!=null?nr:0)+.5*Ut,dr=function(kr,br){var _r;return((_r=Kt(kr[$t?0:1]))!=null?_r:0)-br}(or,cr)-Ut,ur=ce(or.data[er.key]),pr=ur[0],mr=ur[1],vr={id:er.key,value:pr===null?pr:mr,formattedValue:kt(mr),hidden:!1,index:sr,indexValue:rr,data:se(or.data)};Zt.push({key:er.key+"."+rr,index:Zt.length,data:vr,x:cr,y:lr,absX:Jt.left+cr,absY:Jt.top+lr,width:dr,height:et,color:Tt(vr),label:Ft(vr)})})}),Zt},Ce=function(dt){var et,$t,kt=dt.data,Tt=dt.layout,Dt=dt.width,Ft=dt.height,Ut=dt.padding,Ht=Ut===void 0?0:Ut,Kt=dt.valueScale,Yt=dt.indexScale,Jt=dt.hiddenIds,Zt=Jt===void 0?[]:Jt,er=U(dt,Se),rr=er.keys.filter(function(Mr){return!Zt.includes(Mr)}),sr=_$2().keys(rr).offset(q$2)(ue(kt,rr)),ir=Tt==="vertical"?["y","x",Dt]:["x","y",Ft],nr=ir[0],or=ir[1],lr=ir[2],cr=de(kt,er.getIndex,Ht,Yt,lr,or),dr=($t=ke(sr),Kt.type==="log"?$t.filter(function(Mr){return Mr!==0}):$t),ur=Math.min.apply(Math,dr),pr=Math.max.apply(Math,dr),mr=pn(Kt,{all:dr,min:ur,max:pr},nr==="x"?Dt:Ft,nr),vr=Tt==="vertical"?[cr,mr]:[mr,cr],kr=vr[0],br=vr[1],_r=er.innerPadding>0?er.innerPadding:0,Or=cr.bandwidth(),Pr=[Q({},er,{innerPadding:_r,stackedData:sr,xScale:kr,yScale:br}),Or,(et=Kt.reverse)!=null&&et];return{xScale:kr,yScale:br,bars:Or>0?Tt==="vertical"?we.apply(void 0,Pr):Le.apply(void 0,Pr):[]}},We=function(dt){var et=dt.bars,$t=dt.direction,kt=dt.from,Tt=dt.groupMode,Dt=dt.layout,Ft=dt.legendLabel,Ut=dt.reverse,Ht=gn(Ft??(kt==="indexes"?"indexValue":"id"));return kt==="indexes"?function(Kt,Yt,Jt){var Zt=J$1(Kt.map(function(er){var rr,sr;return{id:(rr=er.data.indexValue)!=null?rr:"",label:Jt(er.data),hidden:er.data.hidden,color:(sr=er.color)!=null?sr:"#000"}}),function(er){return er.id});return Yt==="horizontal"&&Zt.reverse(),Zt}(et,Dt,Ht):function(Kt,Yt,Jt,Zt,er,rr){var sr=J$1(Kt.map(function(ir){var nr;return{id:ir.data.id,label:rr(ir.data),hidden:ir.data.hidden,color:(nr=ir.color)!=null?nr:"#000"}}),function(ir){return ir.id});return(Yt==="vertical"&&Zt==="stacked"&&Jt==="column"&&er!==!0||Yt==="horizontal"&&Zt==="stacked"&&er===!0)&&sr.reverse(),sr}(et,Dt,$t,Tt,Ut,Ht)},Me=function(dt,et,$t){var kt=dt.get(et)||0;dt.set(et,kt+$t)},Be=function(dt,et,$t){var kt=dt.get(et)||0;dt.set(et,kt+($t>0?$t:0))},Re=function(dt,et,$t){var kt=dt.get(et)||0;dt.set(et,Math.max(kt,Number($t)))},Oe=function(dt,et){var $t=dt.get(et)||0;dt.set(et,$t+1)},Ie=function(dt){var et,$t=dt.indexBy,kt=$t===void 0?le.indexBy:$t,Tt=dt.keys,Dt=Tt===void 0?le.keys:Tt,Ft=dt.label,Ut=Ft===void 0?le.label:Ft,Ht=dt.tooltipLabel,Kt=Ht===void 0?le.tooltipLabel:Ht,Yt=dt.valueFormat,Jt=dt.colors,Zt=Jt===void 0?le.colors:Jt,er=dt.colorBy,rr=er===void 0?le.colorBy:er,sr=dt.borderColor,ir=sr===void 0?le.borderColor:sr,nr=dt.labelTextColor,or=nr===void 0?le.labelTextColor:nr,lr=dt.groupMode,cr=lr===void 0?le.groupMode:lr,dr=dt.layout,ur=dr===void 0?le.layout:dr,pr=dt.data,mr=dt.margin,vr=dt.width,kr=dt.height,br=dt.padding,_r=br===void 0?le.padding:br,Or=dt.innerPadding,Pr=Or===void 0?le.innerPadding:Or,Mr=dt.valueScale,Rr=Mr===void 0?le.valueScale:Mr,Tr=dt.indexScale,xr=Tr===void 0?le.indexScale:Tr,wr=dt.initialHiddenIds,zr=wr===void 0?le.initialHiddenIds:wr,Hr=dt.enableLabel,Gr=Hr===void 0?le.enableLabel:Hr,Xr=dt.labelSkipWidth,rs=Xr===void 0?le.labelSkipWidth:Xr,Yr=dt.labelSkipHeight,es=Yr===void 0?le.labelSkipHeight:Yr,ns=dt.legends,ms=ns===void 0?le.legends:ns,ls=dt.legendLabel,ds=dt.totalsOffset,fs=ds===void 0?le.totalsOffset:ds,cs=reactExports.useState(zr??[]),xs=cs[0],us=cs[1],$s=reactExports.useCallback(function(Vs){us(function(ss){return ss.indexOf(Vs)>-1?ss.filter(function(Wr){return Wr!==Vs}):[].concat(ss,[Vs])})},[]),ks=bn(kt),Ds=bn(Ut),Cs=bn(Kt),Ts=hn(Yt),Ns=M$3(),Ms=hr(Zt,rr),Us=Ye$1(ir,Ns),Ws=Ye$1(or,Ns),Ks=(cr==="grouped"?xe:Ce)({layout:ur,data:pr,getIndex:ks,keys:Dt,width:vr,height:kr,getColor:Ms,padding:_r,innerPadding:Pr,valueScale:Rr,indexScale:xr,hiddenIds:xs,formatValue:Ts,getTooltipLabel:Cs,margin:mr}),Qs=Ks.bars,qs=Ks.xScale,zs=Ks.yScale,Js=reactExports.useMemo(function(){return Qs.filter(function(Vs){return Vs.data.value!==null}).map(function(Vs,ss){return Q({},Vs,{index:ss})})},[Qs]),_s=reactExports.useCallback(function(Vs){var ss=Vs.width,Wr=Vs.height;return!!Gr&&!(rs>0&&ss<rs)&&!(es>0&&Wr<es)},[Gr,rs,es]),Fs=reactExports.useMemo(function(){return Dt.map(function(Vs){var ss=Qs.find(function(Wr){return Wr.data.id===Vs});return Q({},ss,{data:Q({id:Vs},ss==null?void 0:ss.data,{hidden:xs.includes(Vs)})})})},[xs,Dt,Qs]),Ln=(et=Rr.reverse)!=null&&et,_a=reactExports.useMemo(function(){return ms.map(function(Vs){return[Vs,We({bars:Vs.dataFrom==="keys"?Fs:Qs,direction:Vs.direction,from:Vs.dataFrom,groupMode:cr,layout:ur,legendLabel:ls,reverse:Ln})]})},[ms,Fs,Qs,cr,ur,ls,Ln]),xo=reactExports.useMemo(function(){return function(Vs,ss,Wr,gs,ps,js,hs){gs===void 0&&(gs=le.layout),ps===void 0&&(ps=le.groupMode);var Es=[];if(Vs.length===0)return Es;var ws=new Map,Ss=Vs[0].width,Ls=Vs[0].height;if(ps==="stacked"){var bs=new Map;Vs.forEach(function(Rs){var Os=Rs.data,Is=Os.indexValue,Ys=Os.value;Me(ws,Is,Number(Ys)),Be(bs,Is,Number(Ys))}),bs.forEach(function(Rs,Os){var Is,Ys,tn,Nn=ws.get(Os)||0;gs==="vertical"?(Is=ss(Os),Ys=Wr(Rs),tn=Wr(Rs/2)):(Is=ss(Rs),Ys=Wr(Os),tn=ss(Rs/2)),Is+=gs==="vertical"?Ss/2:js,Ys+=gs==="vertical"?-js:Ls/2,Es.push({key:"total_"+Os,x:Is,y:Ys,value:Nn,formattedValue:hs(Nn),animationOffset:tn})})}else if(ps==="grouped"){var as=new Map,vs=new Map;Vs.forEach(function(Rs){var Os=Rs.data,Is=Os.indexValue,Ys=Os.value;Me(ws,Is,Number(Ys)),Re(as,Is,Number(Ys)),Oe(vs,Is)}),as.forEach(function(Rs,Os){var Is,Ys,tn,Nn=ws.get(Os)||0,Vn=vs.get(Os);gs==="vertical"?(Is=ss(Os),Ys=Wr(Rs),tn=Wr(Rs/2)):(Is=ss(Rs),Ys=Wr(Os),tn=ss(Rs/2)),Is+=gs==="vertical"?Vn*Ss/2:js,Ys+=gs==="vertical"?-js:Vn*Ls/2,Es.push({key:"total_"+Os,x:Is,y:Ys,value:Nn,formattedValue:hs(Nn),animationOffset:tn})})}return Es}(Qs,qs,zs,ur,cr,fs,Ts)},[Qs,qs,zs,ur,cr,fs,Ts]);return{bars:Qs,barsWithValue:Js,xScale:qs,yScale:zs,getIndex:ks,getLabel:Ds,getTooltipLabel:Cs,formatValue:Ts,getColor:Ms,getBorderColor:Us,getLabelColor:Ws,shouldRenderBarLabel:_s,hiddenIds:xs,toggleSerie:$s,legendsWithData:_a,barTotals:xo}},Ve=function(dt){var et=dt.data,$t=dt.springConfig,kt=dt.animate,Tt=dt.layout,Dt=Tt===void 0?re.layout:Tt,Ft=M$3();return useTransition(et,{keys:function(Ut){return Ut.key},from:function(Ut){return{x:Dt==="vertical"?Ut.x:Ut.animationOffset,y:Dt==="vertical"?Ut.animationOffset:Ut.y,labelOpacity:0}},enter:function(Ut){return{x:Ut.x,y:Ut.y,labelOpacity:1}},update:function(Ut){return{x:Ut.x,y:Ut.y,labelOpacity:1}},leave:function(Ut){return{x:Dt==="vertical"?Ut.x:Ut.animationOffset,y:Dt==="vertical"?Ut.animationOffset:Ut.y,labelOpacity:0}},config:$t,immediate:!kt,initial:kt?void 0:null})(function(Ut,Ht){return jsxRuntimeExports.jsx(animated$1.text,{x:Ut.x,y:Ut.y,fillOpacity:Ut.labelOpacity,style:Q({},Ft.labels.text,{pointerEvents:"none"}),fontWeight:"bold",fontSize:Ft.labels.text.fontSize,fontFamily:Ft.labels.text.fontFamily,textAnchor:Dt==="vertical"?"middle":"start",alignmentBaseline:Dt==="vertical"?"alphabetic":"middle",children:Ht.formattedValue},Ht.key)})},Te=["isInteractive","animate","motionConfig","theme","renderWrapper"],He=function(dt){var et,$t=dt.data,kt=dt.indexBy,Tt=dt.keys,Dt=dt.margin,Ft=dt.width,Ut=dt.height,Ht=dt.groupMode,Kt=dt.layout,Yt=dt.valueScale,Jt=dt.indexScale,Zt=dt.padding,er=dt.innerPadding,rr=dt.axisTop,sr=dt.axisRight,ir=dt.axisBottom,nr=ir===void 0?re.axisBottom:ir,or=dt.axisLeft,lr=or===void 0?re.axisLeft:or,cr=dt.enableGridX,dr=cr===void 0?re.enableGridX:cr,ur=dt.enableGridY,pr=ur===void 0?re.enableGridY:ur,mr=dt.gridXValues,vr=dt.gridYValues,kr=dt.layers,br=kr===void 0?re.layers:kr,_r=dt.barComponent,Or=_r===void 0?re.barComponent:_r,Pr=dt.enableLabel,Mr=Pr===void 0?re.enableLabel:Pr,Rr=dt.label,Tr=dt.labelSkipWidth,xr=Tr===void 0?re.labelSkipWidth:Tr,wr=dt.labelSkipHeight,zr=wr===void 0?re.labelSkipHeight:wr,Hr=dt.labelTextColor,Gr=dt.labelPosition,Xr=Gr===void 0?re.labelPosition:Gr,rs=dt.labelOffset,Yr=rs===void 0?re.labelOffset:rs,es=dt.markers,ns=es===void 0?re.markers:es,ms=dt.colorBy,ls=dt.colors,ds=dt.defs,fs=ds===void 0?re.defs:ds,cs=dt.fill,xs=cs===void 0?re.fill:cs,us=dt.borderRadius,$s=us===void 0?re.borderRadius:us,ks=dt.borderWidth,Ds=ks===void 0?re.borderWidth:ks,Cs=dt.borderColor,Ts=dt.annotations,Ns=Ts===void 0?re.annotations:Ts,Ms=dt.legendLabel,Us=dt.tooltipLabel,Ws=dt.valueFormat,Ks=dt.isInteractive,Qs=Ks===void 0?re.isInteractive:Ks,qs=dt.tooltip,zs=qs===void 0?re.tooltip:qs,Js=dt.onClick,_s=dt.onMouseEnter,Fs=dt.onMouseLeave,Ln=dt.legends,_a=dt.role,xo=_a===void 0?re.role:_a,Vs=dt.ariaLabel,ss=dt.ariaLabelledBy,Wr=dt.ariaDescribedBy,gs=dt.isFocusable,ps=gs===void 0?re.isFocusable:gs,js=dt.barAriaLabel,hs=dt.barAriaLabelledBy,Es=dt.barAriaDescribedBy,ws=dt.barAriaHidden,Ss=dt.barAriaDisabled,Ls=dt.initialHiddenIds,bs=dt.enableTotals,as=bs===void 0?re.enableTotals:bs,vs=dt.totalsOffset,Rs=vs===void 0?re.totalsOffset:vs,Os=dt.forwardedRef,Is=Dr(),Ys=Is.animate,tn=Is.config,Nn=cn$1(Ft,Ut,Dt),Vn=Nn.outerWidth,go=Nn.outerHeight,Zn=Nn.margin,bo=Nn.innerWidth,qo=Nn.innerHeight,$o=Ie({indexBy:kt,label:Rr,tooltipLabel:Us,valueFormat:Ws,colors:ls,colorBy:ms,borderColor:Cs,labelTextColor:Hr,groupMode:Ht,layout:Kt,data:$t,keys:Tt,margin:Zn,width:bo,height:qo,padding:Zt,innerPadding:er,valueScale:Yt,indexScale:Jt,enableLabel:Mr,labelSkipWidth:xr,labelSkipHeight:zr,legends:Ln,legendLabel:Ms,initialHiddenIds:Ls,totalsOffset:Rs}),bv=$o.bars,xw=$o.barsWithValue,$m=$o.xScale,l0=$o.yScale,U2=$o.getLabel,Zs=$o.getTooltipLabel,Bn=$o.getBorderColor,yn=$o.getLabelColor,Kl=$o.shouldRenderBarLabel,_i=$o.toggleSerie,km=$o.legendsWithData,yv=$o.barTotals,aC=$o.getColor,vv=he(Kt,(et=Yt==null?void 0:Yt.reverse)!=null&&et,Xr,Yr),oC=useTransition(xw,{keys:function(Bs){return Bs.key},from:function(Bs){return Q({borderColor:Bn(Bs),color:Bs.color,height:0,labelColor:yn(Bs),labelOpacity:0},vv(Bs.width,Bs.height),{transform:"translate("+Bs.x+", "+(Bs.y+Bs.height)+")",width:Bs.width},Kt==="vertical"?{}:{height:Bs.height,transform:"translate("+Bs.x+", "+Bs.y+")",width:0})},enter:function(Bs){return Q({borderColor:Bn(Bs),color:Bs.color,height:Bs.height,labelColor:yn(Bs),labelOpacity:1},vv(Bs.width,Bs.height),{transform:"translate("+Bs.x+", "+Bs.y+")",width:Bs.width})},update:function(Bs){return Q({borderColor:Bn(Bs),color:Bs.color,height:Bs.height,labelColor:yn(Bs),labelOpacity:1},vv(Bs.width,Bs.height),{transform:"translate("+Bs.x+", "+Bs.y+")",width:Bs.width})},leave:function(Bs){return Q({borderColor:Bn(Bs),color:Bs.color,height:0,labelColor:yn(Bs),labelOpacity:0},vv(Bs.width,Bs.height),{labelY:0,transform:"translate("+Bs.x+", "+(Bs.y+Bs.height)+")",width:Bs.width},Kt==="vertical"?{}:Q({},vv(Bs.width,Bs.height),{labelX:0,height:Bs.height,transform:"translate("+Bs.x+", "+Bs.y+")",width:0}))},config:tn,immediate:!Ys,initial:Ys?void 0:null}),eS=reactExports.useMemo(function(){return{borderRadius:$s,borderWidth:Ds,enableLabel:Mr,isInteractive:Qs,labelSkipWidth:xr,labelSkipHeight:zr,onClick:Js,onMouseEnter:_s,onMouseLeave:Fs,getTooltipLabel:Zs,tooltip:zs,isFocusable:ps,ariaLabel:js,ariaLabelledBy:hs,ariaDescribedBy:Es,ariaHidden:ws,ariaDisabled:Ss}},[$s,Ds,Mr,Zs,Qs,zr,xr,Js,_s,Fs,zs,ps,js,hs,Es,ws,Ss]),lC=Mn$1(fs,bv,xs,{dataKey:"data",targetKey:"data.fill"}),Mu={annotations:null,axes:null,bars:null,grid:null,legends:null,markers:null,totals:null};br.includes("annotations")&&(Mu.annotations=jsxRuntimeExports.jsx($,{bars:bv,annotations:Ns},"annotations")),br.includes("axes")&&(Mu.axes=jsxRuntimeExports.jsx(V,{xScale:$m,yScale:l0,width:bo,height:qo,top:rr,right:sr,bottom:nr,left:lr},"axes")),br.includes("bars")&&(Mu.bars=jsxRuntimeExports.jsx(reactExports.Fragment,{children:oC(function(Bs,Ev){return reactExports.createElement(Or,Q({},eS,{bar:Ev,style:Bs,shouldRenderLabel:Kl(Ev),label:U2(Ev.data)}))})},"bars")),br.includes("grid")&&(Mu.grid=jsxRuntimeExports.jsx(j$2,{width:bo,height:qo,xScale:dr?$m:null,yScale:pr?l0:null,xValues:mr,yValues:vr},"grid")),br.includes("legends")&&(Mu.legends=jsxRuntimeExports.jsx(ee,{width:bo,height:qo,legends:km,toggleSerie:_i},"legends")),br.includes("markers")&&(Mu.markers=jsxRuntimeExports.jsx(Pt,{markers:ns,width:bo,height:qo,xScale:$m,yScale:l0},"markers")),br.includes("totals")&&as&&(Mu.totals=jsxRuntimeExports.jsx(Ve,{data:yv,springConfig:tn,animate:Ys,layout:Kt},"totals"));var cC=Q({},eS,{margin:Zn,width:Ft,height:Ut,innerWidth:bo,innerHeight:qo,bars:bv,legendData:km,enableLabel:Mr,xScale:$m,yScale:l0,tooltip:zs,getTooltipLabel:Zs,onClick:Js,onMouseEnter:_s,onMouseLeave:Fs,getColor:aC});return jsxRuntimeExports.jsx(Rt,{width:Vn,height:go,margin:Zn,defs:lC,role:xo,ariaLabel:Vs,ariaLabelledBy:ss,ariaDescribedBy:Wr,isFocusable:ps,ref:Os,children:br.map(function(Bs,Ev){var tS;return typeof Bs=="function"?jsxRuntimeExports.jsx(reactExports.Fragment,{children:reactExports.createElement(Bs,cC)},Ev):(tS=Mu==null?void 0:Mu[Bs])!=null?tS:null})})},Pe=reactExports.forwardRef(function(dt,et){var $t=dt.isInteractive,kt=$t===void 0?re.isInteractive:$t,Tt=dt.animate,Dt=Tt===void 0?re.animate:Tt,Ft=dt.motionConfig,Ut=Ft===void 0?re.motionConfig:Ft,Ht=dt.theme,Kt=dt.renderWrapper,Yt=U(dt,Te);return jsxRuntimeExports.jsx(Fr,{animate:Dt,isInteractive:kt,motionConfig:Ut,renderWrapper:Kt,theme:Ht,children:jsxRuntimeExports.jsx(He,Q({},Yt,{isInteractive:kt,forwardedRef:et}))})}),Ee=["isInteractive","renderWrapper","theme"],Fe=function(dt,et,$t,kt){return dt.find(function(Tt){return wn$1(Tt.x+et.left,Tt.y+et.top,Tt.width,Tt.height,$t,kt)})},ze=function(dt){var et,$t=dt.data,kt=dt.indexBy,Tt=dt.keys,Dt=dt.margin,Ft=dt.width,Ut=dt.height,Ht=dt.groupMode,Kt=dt.layout,Yt=dt.valueScale,Jt=dt.indexScale,Zt=dt.padding,er=dt.innerPadding,rr=dt.axisTop,sr=dt.axisRight,ir=dt.axisBottom,nr=ir===void 0?oe.axisBottom:ir,or=dt.axisLeft,lr=or===void 0?oe.axisLeft:or,cr=dt.enableGridX,dr=cr===void 0?oe.enableGridX:cr,ur=dt.enableGridY,pr=ur===void 0?oe.enableGridY:ur,mr=dt.gridXValues,vr=dt.gridYValues,kr=dt.labelPosition,br=kr===void 0?oe.labelPosition:kr,_r=dt.labelOffset,Or=_r===void 0?oe.labelOffset:_r,Pr=dt.layers,Mr=Pr===void 0?oe.layers:Pr,Rr=dt.renderBar,Tr=Rr===void 0?oe.renderBar:Rr,xr=dt.enableLabel,wr=xr===void 0?oe.enableLabel:xr,zr=dt.label,Hr=dt.labelSkipWidth,Gr=Hr===void 0?oe.labelSkipWidth:Hr,Xr=dt.labelSkipHeight,rs=Xr===void 0?oe.labelSkipHeight:Xr,Yr=dt.labelTextColor,es=dt.colorBy,ns=dt.colors,ms=dt.borderRadius,ls=ms===void 0?oe.borderRadius:ms,ds=dt.borderWidth,fs=ds===void 0?oe.borderWidth:ds,cs=dt.borderColor,xs=dt.annotations,us=xs===void 0?oe.annotations:xs,$s=dt.legendLabel,ks=dt.tooltipLabel,Ds=dt.valueFormat,Cs=dt.isInteractive,Ts=Cs===void 0?oe.isInteractive:Cs,Ns=dt.tooltip,Ms=Ns===void 0?oe.tooltip:Ns,Us=dt.onClick,Ws=dt.onMouseEnter,Ks=dt.onMouseLeave,Qs=dt.legends,qs=dt.pixelRatio,zs=qs===void 0?oe.pixelRatio:qs,Js=dt.role,_s=dt.forwardedRef,Fs=dt.enableTotals,Ln=Fs===void 0?oe.enableTotals:Fs,_a=dt.totalsOffset,xo=_a===void 0?oe.totalsOffset:_a,Vs=reactExports.useRef(null),ss=M$3(),Wr=cn$1(Ft,Ut,Dt),gs=Wr.margin,ps=Wr.innerWidth,js=Wr.innerHeight,hs=Wr.outerWidth,Es=Wr.outerHeight,ws=Ie({indexBy:kt,label:zr,tooltipLabel:ks,valueFormat:Ds,colors:ns,colorBy:es,borderColor:cs,labelTextColor:Yr,groupMode:Ht,layout:Kt,data:$t,keys:Tt,margin:gs,width:ps,height:js,padding:Zt,innerPadding:er,valueScale:Yt,indexScale:Jt,enableLabel:wr,labelSkipWidth:Gr,labelSkipHeight:rs,legends:Qs,legendLabel:$s,totalsOffset:xo}),Ss=ws.bars,Ls=ws.barsWithValue,bs=ws.xScale,as=ws.yScale,vs=ws.getLabel,Rs=ws.getTooltipLabel,Os=ws.getBorderColor,Is=ws.getLabelColor,Ys=ws.shouldRenderBarLabel,tn=ws.legendsWithData,Nn=ws.barTotals,Vn=ws.getColor,go=z$4(),Zn=go.showTooltipFromEvent,bo=go.hideTooltip,qo=j$1({annotations:O$1({data:Ss,annotations:us,getPosition:function(Zs){return{x:Zs.x,y:Zs.y}},getDimensions:function(Zs){var Bn=Zs.width,yn=Zs.height;return{width:Bn,height:yn,size:Math.max(Bn,yn)}}})}),$o=reactExports.useMemo(function(){return{borderRadius:ls,borderWidth:fs,isInteractive:Ts,isFocusable:!1,labelSkipWidth:Gr,labelSkipHeight:rs,margin:gs,width:Ft,height:Ut,innerWidth:ps,innerHeight:js,bars:Ss,legendData:tn,enableLabel:wr,xScale:bs,yScale:as,tooltip:Ms,getTooltipLabel:Rs,onClick:Us,onMouseEnter:Ws,onMouseLeave:Ks,getColor:Vn}},[ls,fs,Ts,Gr,rs,gs,Ft,Ut,ps,js,Ss,tn,wr,bs,as,Ms,Rs,Us,Ws,Ks,Vn]),bv=hn(Ds),xw=he(Kt,(et=Yt==null?void 0:Yt.reverse)!=null&&et,br,Or);reactExports.useEffect(function(){if(Vs.current){Vs.current.width=hs*zs,Vs.current.height=Es*zs;var Zs=Vs.current.getContext("2d");Zs.scale(zs,zs),Zs.fillStyle=ss.background,Zs.fillRect(0,0,hs,Es),Zs.translate(gs.left,gs.top),Mr.forEach(function(Bn){Bn==="grid"?typeof ss.grid.line.strokeWidth=="number"&&ss.grid.line.strokeWidth>0&&(Zs.lineWidth=ss.grid.line.strokeWidth,Zs.strokeStyle=ss.grid.line.stroke,dr&&q$1(Zs,{width:ps,height:js,scale:bs,axis:"x",values:mr}),pr&&q$1(Zs,{width:ps,height:js,scale:as,axis:"y",values:vr})):Bn==="axes"?W$1(Zs,{xScale:bs,yScale:as,width:ps,height:js,top:rr,right:sr,bottom:nr,left:lr,theme:ss}):Bn==="bars"?(a$1(Zs,ss.text),Ls.forEach(function(yn){Tr(Zs,Q({bar:yn,borderColor:Os(yn),borderRadius:ls,borderWidth:fs,label:vs(yn.data),shouldRenderLabel:Ys(yn),labelStyle:Q({},ss.labels.text,{fill:Is(yn)})},xw(yn.width,yn.height)))})):Bn==="legends"?tn.forEach(function(yn){var Kl=yn[0],_i=yn[1];L(Zs,Q({},Kl,{data:_i,containerWidth:ps,containerHeight:js,theme:ss}))}):Bn==="annotations"?J(Zs,{annotations:qo,theme:ss}):Bn==="totals"&&Ln?function(yn,Kl,_i,km){km===void 0&&(km=oe.layout),a$1(yn,_i.labels.text),yn.textBaseline=km==="vertical"?"alphabetic":"middle",yn.textAlign=km==="vertical"?"center":"start",Kl.forEach(function(yv){d(yn,_i.labels.text,yv.formattedValue,yv.x,yv.y)})}(Zs,Nn,ss,Kt):typeof Bn=="function"&&Bn(Zs,$o)}),Zs.save()}},[nr,lr,sr,rr,Ls,ls,fs,qo,dr,pr,Os,vs,Is,mr,vr,Ht,Ut,js,ps,$o,Mr,Kt,tn,gs.left,gs.top,Es,hs,zs,Tr,bs,as,Ys,ss,Ft,Nn,Ln,bv,xw]);var $m=reactExports.useCallback(function(Zs){if(Ss&&Vs.current){var Bn=kn(Vs.current,Zs),yn=Bn[0],Kl=Bn[1],_i=Fe(Ss,gs,yn,Kl);_i!==void 0?(Zn(reactExports.createElement(Ms,Q({},_i.data,{color:_i.color,label:_i.label,value:Number(_i.data.value)})),Zs),Zs.type==="mouseenter"&&(Ws==null||Ws(_i.data,Zs))):bo()}},[bo,gs,Ws,Ss,Zn,Ms]),l0=reactExports.useCallback(function(Zs){if(Ss&&Vs.current){bo();var Bn=kn(Vs.current,Zs),yn=Bn[0],Kl=Bn[1],_i=Fe(Ss,gs,yn,Kl);_i&&(Ks==null||Ks(_i.data,Zs))}},[bo,gs,Ks,Ss]),U2=reactExports.useCallback(function(Zs){if(Ss&&Vs.current){var Bn=kn(Vs.current,Zs),yn=Bn[0],Kl=Bn[1],_i=Fe(Ss,gs,yn,Kl);_i!==void 0&&(Us==null||Us(Q({},_i.data,{color:_i.color}),Zs))}},[gs,Us,Ss]);return jsxRuntimeExports.jsx("canvas",{ref:Rn(Vs,_s),width:hs*zs,height:Es*zs,style:{width:hs,height:Es,cursor:Ts?"auto":"normal"},onMouseEnter:Ts?$m:void 0,onMouseMove:Ts?$m:void 0,onMouseLeave:Ts?l0:void 0,onClick:Ts?U2:void 0,role:Js})},De=reactExports.forwardRef(function(dt,et){var $t=dt.isInteractive,kt=dt.renderWrapper,Tt=dt.theme,Dt=U(dt,Ee);return jsxRuntimeExports.jsx(Fr,{isInteractive:$t,renderWrapper:kt,theme:Tt,animate:!1,children:jsxRuntimeExports.jsx(ze,Q({},Dt,{isInteractive:$t,forwardedRef:et}))})}),Ae=["defaultWidth","defaultHeight","onResize","debounceResize"],Xe=reactExports.forwardRef(function(dt,et){var $t=dt.defaultWidth,kt=dt.defaultHeight,Tt=dt.onResize,Dt=dt.debounceResize,Ft=U(dt,Ae);return jsxRuntimeExports.jsx($r,{defaultWidth:$t,defaultHeight:kt,onResize:Tt,debounceResize:Dt,children:function(Ut){var Ht=Ut.width,Kt=Ut.height;return jsxRuntimeExports.jsx(Pe,Q({},Ft,{width:Ht,height:Kt,ref:et}))}})}),Ye=["defaultWidth","defaultHeight","onResize","debounceResize"];reactExports.forwardRef(function(dt,et){var $t=dt.defaultWidth,kt=dt.defaultHeight,Tt=dt.onResize,Dt=dt.debounceResize,Ft=U(dt,Ye);return jsxRuntimeExports.jsx($r,{defaultWidth:$t,defaultHeight:kt,onResize:Tt,debounceResize:Dt,children:function(Ut){var Ht=Ut.width,Kt=Ut.height;return jsxRuntimeExports.jsx(De,Q({},Ft,{width:Ht,height:Kt,ref:et}))}})});function LandingAnalytics(){var Zt,er,rr;const{user:dt}=useAuth(),[et,$t]=reactExports.useState(null),[kt,Tt]=reactExports.useState("7"),[Dt,Ft]=reactExports.useState(null),[Ut,Ht]=reactExports.useState(!0);reactExports.useEffect(()=>{async function sr(){const ir=await axiosInstance.get(`https://themessyattic.com/api/landing-analytics/id/by-user/${dt.id}`);$t(ir.data.id)}dt!=null&&dt.id&&sr()},[dt==null?void 0:dt.id]),reactExports.useEffect(()=>{et&&Kt(kt)},[kt,et]);async function Kt(sr){if(et){Ht(!0);try{const ir=await axiosInstance.get(`https://themessyattic.com/api/landing-analytics/summary/${et}?days=${sr}`);ir.data&&ir.data.success?Ft({views:ir.data.views||[],clicks:ir.data.clicks||[],downloads:ir.data.downloads||[]}):(console.warn(" Unexpected response shape:",ir.data),Ft({views:[],clicks:[],downloads:[]}))}catch(ir){console.error(" Error fetching analytics:",ir)}finally{Ht(!1)}}}const Yt=[{key:"views",color:"#1f2937",label:"Views"},{key:"clicks",color:"#7bed9f",label:"Clicks"},{key:"downloads",color:"#670fe7",label:"Downloads"}],Jt=(()=>{if(!Dt)return[];const sr=parseInt(kt,10)||7,ir=new Date,nr=Array.from({length:sr},(lr,cr)=>{const dr=new Date(ir);return dr.setDate(ir.getDate()-(sr-1-cr)),dr.toISOString().slice(0,10)}),or=(lr,cr)=>{var dr;return((dr=lr==null?void 0:lr.find(ur=>ur.date.slice(0,10)===cr))==null?void 0:dr.total)||0};return nr.map(lr=>({date:(()=>{const dr=(typeof lr=="string"?lr:new Date(lr).toISOString()).split("T")[0].split("-"),ur=Number(dr[0]),pr=Number(dr[1])-1,mr=Number(dr[2]);return new Date(ur,pr,mr).toLocaleDateString("en-US",{month:"short",day:"numeric"})})(),Views:or(Dt.views,lr),Clicks:or(Dt.clicks,lr),Downloads:or(Dt.downloads,lr)}))})();return jsxRuntimeExports.jsx("div",{className:`w-full min-h-screen px-4 py-8 pt-24
      text-dashboard-text-light
      dark:text-dashboard-text-dark
      bg-dashboard-bg-light
      dark:bg-dashboard-bg-dark`,children:jsxRuntimeExports.jsxs("div",{className:"max-w-5xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[jsxRuntimeExports.jsx("h1",{className:`text-xl font-semibold normal-case
            text-dashboard-text-light
            dark:text-dashboard-text-dark`,children:"Views"}),jsxRuntimeExports.jsx(ChartNoAxesColumn,{size:22,className:`mt-[1px] sm:mt-0
            text-dashboard-text-light
            dark:text-dashboard-text-dark`})]}),jsxRuntimeExports.jsx("div",{className:"flex gap-2",children:["7","14","30","90"].map(sr=>jsxRuntimeExports.jsxs("button",{onClick:()=>Tt(sr),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-all ${kt===sr?"bg-dashboard-hover-light dark:bg-dashboard-hover-dark text-dashboard-text-light dark:text-dashboard-text-dark":"bg-dashboard-sidebar-light dark:bg-dashboard-sidebar-dark text-dashboard-muted-light dark:text-dashboard-muted-dark border border-dashboard-border-light dark:border-dashboard-border-dark"}`,children:[sr," days"]},sr))})]}),Dt&&jsxRuntimeExports.jsx("div",{className:"grid grid-cols-3 gap-3 sm:grid-cols-3 mb-6",children:Yt.map(sr=>{var ir;return jsxRuntimeExports.jsxs("div",{className:`flex flex-col items-center justify-center rounded-xl p-3 sm:p-4 shadow-md
              bg-dashboard-sidebar-light
              dark:bg-dashboard-sidebar-dark
              border border-dashboard-border-light
              dark:border-dashboard-border-dark`,children:[jsxRuntimeExports.jsx("p",{className:`text-sm
                text-dashboard-muted-light
                dark:text-dashboard-muted-dark`,children:sr.label}),jsxRuntimeExports.jsx("p",{className:`text-2xl font-semibold ${sr.key==="views"?"text-dashboard-metric-light dark:text-dashboard-metric-dark dark:drop-shadow-[0_0_10px_rgba(229,240,255,0.35)]":""}`,style:sr.key!=="views"?{color:sr.color}:void 0,children:((ir=Dt[sr.key])==null?void 0:ir.reduce((nr,or)=>nr+or.total,0))||0})]},sr.key)})}),Dt&&jsxRuntimeExports.jsxs("div",{className:`rounded-2xl py-8 text-center mb-6
          bg-dashboard-sidebar-light
          dark:bg-dashboard-sidebar-dark
          border border-dashboard-border-light
          dark:border-dashboard-border-dark`,children:[jsxRuntimeExports.jsx("p",{className:`text-sm uppercase tracking-wide mb-1
            text-dashboard-muted-light
            dark:text-dashboard-muted-dark`,children:"Total Views"}),jsxRuntimeExports.jsx("h2",{className:`text-5xl font-bold mb-1
              text-dashboard-metric-light
              dark:text-dashboard-metric-dark`,children:Intl.NumberFormat("en-US",{notation:"compact"}).format(((Zt=Dt.views)==null?void 0:Zt.reduce((sr,ir)=>sr+ir.total,0))||0)}),Jt.length>0&&jsxRuntimeExports.jsxs("p",{className:`text-sm mt-1
              text-dashboard-muted-light
              dark:text-dashboard-muted-dark`,children:[new Date(Jt[0].date).toLocaleDateString("en-US",{month:"short",day:"numeric"})," ",""," ",new Date(Jt[Jt.length-1].date).toLocaleDateString("en-US",{month:"short",day:"numeric"})]})]}),jsxRuntimeExports.jsx("div",{className:`rounded-2xl p-4 h-[400px] shadow-inner mb-8
        bg-dashboard-sidebar-light
        dark:bg-dashboard-sidebar-dark
        border border-dashboard-border-light
        dark:border-dashboard-border-dark`,children:Ut?jsxRuntimeExports.jsx("p",{className:`text-center mt-20
            text-dashboard-muted-light
            dark:text-dashboard-muted-dark`,children:"Loading analytics..."}):Dt?jsxRuntimeExports.jsx(Xe,{data:Jt,keys:["Views","Clicks","Downloads"],colors:({id:sr})=>sr==="Views"?"#1f2937":sr==="Clicks"?"#7bed9f":"#670fe7",indexBy:"date",margin:{top:20,right:20,bottom:40,left:50},padding:.25,borderRadius:[4,4,0,0],axisTop:null,axisRight:null,axisLeft:{tickSize:0,tickPadding:8,format:sr=>sr>=1e3?`${sr/1e3}K`:sr,legend:""},axisBottom:{tickSize:0,tickPadding:10,tickRotation:0,legend:"",tickValues:[(er=Jt[0])==null?void 0:er.date,(rr=Jt[Jt.length-1])==null?void 0:rr.date],format:sr=>new Date(sr).toLocaleDateString("en-US",{month:"short",day:"numeric"})},enableLabel:!1,enableGridX:!1,gridYValues:5,theme:{textColor:"#9ca3af",grid:{line:{stroke:"#1f1f1f",strokeWidth:1}},axis:{ticks:{text:{fill:"#9ca3af",fontSize:12}}},tooltip:{container:{background:"#111",color:"#fff",borderRadius:"8px",border:"1px solid #333",boxShadow:"0 2px 8px rgba(0,0,0,0.4)",padding:"8px 10px",fontSize:12}}},tooltip:({id:sr,value:ir,indexValue:nr,color:or})=>jsxRuntimeExports.jsxs("div",{className:`px-3 py-2 rounded-lg
                bg-dashboard-sidebar-light
                dark:bg-dashboard-sidebar-dark
                border border-dashboard-border-light
                dark:border-dashboard-border-dark`,children:[jsxRuntimeExports.jsxs("p",{className:"text-sm font-medium",style:{color:or},children:[sr,": ",ir]}),jsxRuntimeExports.jsx("p",{className:`text-xs
                  text-dashboard-muted-light
                  dark:text-dashboard-muted-dark`,children:nr})]}),groupMode:"grouped"}):jsxRuntimeExports.jsx("p",{className:`text-center
            text-dashboard-muted-light
            dark:text-dashboard-muted-dark`,children:"No analytics data yet"})})]})})}function ThankYouModal({visible:dt,message:et,setMessage:$t,onClose:kt,loading:Tt,onMarkSent:Dt}){return dt?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-md z-[999] flex items-center justify-center px-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-[#0F1629] border border-gray-700 rounded-xl w-full max-w-3xl shadow-2xl p-0 overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"bg-[#1E293B] px-6 py-4 border-b border-gray-700",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold text-white",children:"Email Preview"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"This is what your thank-you email will look like"})]}),jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-gray-400 text-xs uppercase tracking-wider",children:"Subject"}),jsxRuntimeExports.jsx("input",{type:"text",value:"Thank you for your purchase!",disabled:!0,className:"w-full mt-1 bg-gray-800 text-gray-200 border border-gray-700 rounded-lg p-2 text-sm opacity-80"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-gray-400 text-xs uppercase tracking-wider",children:"Email Body"}),Tt?jsxRuntimeExports.jsxs("div",{className:"w-full h-72 bg-gray-900 border border-gray-700 rounded-lg flex flex-col items-center justify-center",children:[jsxRuntimeExports.jsxs("div",{className:"flex space-x-2",children:[jsxRuntimeExports.jsx("span",{className:"w-3 h-3 bg-gray-400 rounded-full animate-bounce"}),jsxRuntimeExports.jsx("span",{className:"w-3 h-3 bg-gray-400 rounded-full animate-bounce [animation-delay:0.15s]"}),jsxRuntimeExports.jsx("span",{className:"w-3 h-3 bg-gray-400 rounded-full animate-bounce [animation-delay:0.3s]"})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm mt-4",children:"Writing your message..."})]}):jsxRuntimeExports.jsx("textarea",{value:et,onChange:Ft=>$t(Ft.target.value),className:"w-full h-72 bg-gray-900 text-white border border-gray-700 rounded-lg p-4 text-sm leading-relaxed resize-none",style:{fontFamily:"ui-sans-serif, system-ui"}})]})]}),jsxRuntimeExports.jsxs("div",{className:"px-6 py-4 bg-[#1E293B] flex justify-end items-center gap-3 border-t border-gray-700",children:[jsxRuntimeExports.jsx("button",{onClick:kt,className:"px-4 py-2 bg-gray-700 text-gray-300 rounded-lg hover:bg-gray-600 transition",children:"Close"}),jsxRuntimeExports.jsx("a",{href:`mailto:?subject=Thank%20you!&body=${encodeURIComponent(et)}`,className:"px-4 py-2 bg-green text-black font-semibold rounded-lg hover:bg-green/80 transition",children:"Open Email App"}),jsxRuntimeExports.jsx("button",{onClick:Dt,className:"px-4 py-2 bg-blue text-white font-semibold rounded-lg hover:bg-blue/80 transition",children:"Mark as Sent"})]})]})}):null}function SellerDashboard(){const{user:dt}=useAuth(),[et,$t]=reactExports.useState(null),[kt,Tt]=reactExports.useState([]),[Dt,Ft]=reactExports.useState(!0),[Ut,Ht]=reactExports.useState([]),[Kt,Yt]=reactExports.useState(1),[Jt,Zt]=reactExports.useState(1),[er,rr]=reactExports.useState(""),[sr,ir]=reactExports.useState(!1),[nr,or]=reactExports.useState(!1),[lr,cr]=reactExports.useState(null);reactExports.useEffect(()=>{if(!(dt!=null&&dt.id))return;if(!(dt!=null&&dt.stripe_connect_account_id)){Ft(!1);return}(async()=>{try{const[vr,kr,br]=await Promise.all([axiosInstance.get(`/seller/balance/${dt.stripe_connect_account_id}`),axiosInstance.get(`/seller/payouts/${dt.stripe_connect_account_id}`),axiosInstance.get(`/seller/sales/${dt.id}?page=${Kt}&limit=20`)]);$t(vr.data.balance),Tt(kr.data.payouts||[]),Zt(br.data.pages||1),Ht(br.data.sales||[])}catch(vr){console.error(" Error fetching seller data:",vr),y$4.error("Failed to load seller info.")}finally{Ft(!1)}})()},[dt==null?void 0:dt.stripe_connect_account_id,Kt]);const dr=async()=>{try{const mr=await axiosInstance.post("/seller/stripe-dashboard",{accountId:dt.stripe_connect_account_id});window.open(mr.data.url,"_blank")}catch(mr){console.error("Stripe Dashboard Error:",mr),y$4.error("Unable to open Stripe dashboard.")}},ur=async mr=>{try{or(!0),ir(!0),cr(mr.id);const vr=await axiosInstance.post("/seller/generate-thank-you",{saleId:mr.id,buyerEmail:mr.buyer_email,productName:mr.product_name});vr.data.success?rr(vr.data.message):rr("AI could not generate a message.")}catch(vr){console.error(vr),rr("AI generation failed.")}finally{or(!1)}},pr=async mr=>{try{(await axiosInstance.post("/seller/mark-thank-you-sent",{saleId:mr})).data.success?(Ht(kr=>kr.map(br=>br.id===mr?{...br,thank_you_sent:1}:br)),y$4.success("Thank-you marked as sent"),ir(!1)):y$4.error("Failed to update status")}catch(vr){console.error(" Error marking thank-you sent:",vr),y$4.error("Server error")}};return Dt?jsxRuntimeExports.jsx(DashboardLayout,{children:jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center min-h-screen text-gray-400",children:"Loading seller data..."})}):dt!=null&&dt.stripe_connect_account_id?jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0},animate:{opacity:1},className:`
      p-8
      text-dashboard-text-light
      dark:text-dashboard-text-dark
      bg-dashboard-bg-light
      dark:bg-dashboard-bg-dark
  `,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold normal-case",children:"Seller Dashboard"}),jsxRuntimeExports.jsx(Landmark,{size:22,className:`
        text-dashboard-muted-light
        dark:text-green
  `})]}),et?jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-10",children:[jsxRuntimeExports.jsxs("div",{className:`bg-dashboard-sidebar-light
          dark:bg-dashboard-sidebar-dark
          border border-dashboard-border-light
          dark:border-dashboard-border-dark rounded-xl p-6 shadow-lg`,children:[jsxRuntimeExports.jsx("h3",{className:`text-dashboard-muted-light
            dark:text-dashboard-muted-dark text-sm mb-1`,children:"Available Balance"}),jsxRuntimeExports.jsxs("p",{className:"text-2xl font-bold text-green",children:["$",(et.available/100||0).toFixed(2)]})]}),jsxRuntimeExports.jsxs("div",{className:`bg-dashboard-sidebar-light
          dark:bg-dashboard-sidebar-dark
          border border-dashboard-border-light
          dark:border-dashboard-border-dark rounded-xl p-6 shadow-lg`,children:[jsxRuntimeExports.jsx("h3",{className:`text-dashboard-muted-light
            dark:text-dashboard-muted-dark text-sm mb-1`,children:"Pending Balance"}),jsxRuntimeExports.jsxs("p",{className:"text-2xl font-bold text-yellow-400",children:["$",(et.pending/100||0).toFixed(2)]})]}),jsxRuntimeExports.jsx("div",{className:`bg-dashboard-sidebar-light
          dark:bg-dashboard-sidebar-dark
          border border-dashboard-border-light
          dark:border-dashboard-border-dark rounded-xl p-6 shadow-lg flex items-center justify-center`,children:jsxRuntimeExports.jsx("button",{onClick:dr,className:"px-6 py-2 bg-green text-black font-semibold rounded-lg hover:opacity-90 transition",children:"Open Stripe Dashboard"})})]}):jsxRuntimeExports.jsx("p",{className:"text-dashboard-muted-light dark:text-dashboard-muted-dark mb-6",children:"No balance data found for this account."}),jsxRuntimeExports.jsxs("div",{className:`bg-dashboard-sidebar-light
      dark:bg-dashboard-sidebar-dark
      border border-dashboard-border-light
      dark:border-dashboard-border-dark rounded-xl p-6 shadow-lg`,children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-dashboard-text-light dark:text-dashboard-text-dark mb-4",children:"Recent Payouts"}),kt.length>0?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"hidden md:block overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:`min-w-full text-sm text-left text-dashboard-text-light
                dark:text-dashboard-text-dark`,children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:`border-b border-gray-700 text-dashboard-muted-light
                  dark:text-dashboard-muted-dark uppercase text-xs`,children:[jsxRuntimeExports.jsx("th",{className:"py-2 px-3",children:"Date"}),jsxRuntimeExports.jsx("th",{className:"py-2 px-3",children:"Amount"}),jsxRuntimeExports.jsx("th",{className:"py-2 px-3",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"py-2 px-3",children:"Arrival"})]})}),jsxRuntimeExports.jsx("tbody",{children:kt.map(mr=>jsxRuntimeExports.jsxs("tr",{className:`border-b border-gray-800 hover:bg-dashboard-hover-light
                      dark:hover:bg-dashboard-hover-dark`,children:[jsxRuntimeExports.jsx("td",{className:"py-2 px-3",children:new Date(mr.created*1e3).toLocaleDateString()}),jsxRuntimeExports.jsxs("td",{className:"py-2 px-3 font-semibold",children:["$",(mr.amount/100).toFixed(2)]}),jsxRuntimeExports.jsx("td",{className:"py-2 px-3",children:jsxRuntimeExports.jsx("span",{className:`px-2 py-1 rounded-md text-xs font-semibold ${mr.status==="paid"?"bg-green-500/10 text-green-400":"bg-yellow-500/10 text-yellow-400"}`,children:mr.status})}),jsxRuntimeExports.jsx("td",{className:"py-2 px-3",children:new Date(mr.arrival_date*1e3).toLocaleDateString()})]},mr.id))})]})}),jsxRuntimeExports.jsx("div",{className:"md:hidden space-y-4",children:kt.map(mr=>jsxRuntimeExports.jsxs("div",{className:`bg-dashboard-sidebar-light
                dark:bg-dashboard-sidebar-dark
                border border-dashboard-border-light
                dark:border-dashboard-border-dark
                rounded-xl p-4 shadow-md`,children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[jsxRuntimeExports.jsx("span",{className:"text-dashboard-muted-light dark:text-dashboard-muted-dark",children:"Date"}),jsxRuntimeExports.jsx("span",{children:new Date(mr.created*1e3).toLocaleDateString()})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[jsxRuntimeExports.jsx("span",{className:"text-dashboard-muted-light dark:text-dashboard-muted-dark",children:"Amount"}),jsxRuntimeExports.jsxs("span",{className:"font-semibold",children:["$",(mr.amount/100).toFixed(2)]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[jsxRuntimeExports.jsx("span",{className:"text-dashboard-muted-light dark:text-dashboard-muted-dark",children:"Status"}),jsxRuntimeExports.jsx("span",{className:`text-xs px-2 py-1 rounded ${mr.status==="paid"?"bg-green-500/10 text-green-400":"bg-yellow-500/10 text-yellow-400"}`,children:mr.status})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-dashboard-muted-light dark:text-dashboard-muted-dark",children:"Arrival"}),jsxRuntimeExports.jsx("span",{children:new Date(mr.arrival_date*1e3).toLocaleDateString()})]})]},mr.id))})]}):jsxRuntimeExports.jsx("p",{className:"text-dashboard-muted-light dark:text-dashboard-muted-dark text-sm",children:"No payouts have been made yet."})]}),jsxRuntimeExports.jsxs("div",{className:`bg-dashboard-sidebar-light
      dark:bg-dashboard-sidebar-dark
      border border-dashboard-border-light
      dark:border-dashboard-border-dark rounded-xl p-6 shadow-lg mt-10`,children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-dashboard-text-light dark:text-dashboard-text-dark mb-4",children:"Recent Sales"}),Ut.length>0?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"hidden md:block overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:`min-w-full text-sm text-left text-dashboard-text-light
                dark:text-dashboard-text-dark`,children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:`border-b border-gray-700 text-dashboard-muted-light
                    dark:text-dashboard-muted-dark uppercase text-xs`,children:[jsxRuntimeExports.jsx("th",{className:"py-2 px-3",children:"Product"}),jsxRuntimeExports.jsx("th",{className:"py-2 px-3",children:"Buyer Email"}),jsxRuntimeExports.jsx("th",{className:"py-2 px-3",children:"Date"}),jsxRuntimeExports.jsx("th",{className:"py-2 px-3",children:"Email Sent"})]})}),jsxRuntimeExports.jsx("tbody",{children:Ut.map(mr=>jsxRuntimeExports.jsxs("tr",{className:"border-b border-gray-800 hover:bg-dashboard-hover-light dark:hover:bg-dashboard-hover-dark",children:[jsxRuntimeExports.jsx("td",{className:"py-2 px-3 font-semibold",children:mr.product_name}),jsxRuntimeExports.jsx("td",{className:"py-2 px-3",children:mr.buyer_email}),jsxRuntimeExports.jsx("td",{className:"py-2 px-3",children:new Date(mr.delivered_at).toLocaleString()}),jsxRuntimeExports.jsx("td",{className:"py-2 px-3",children:mr.thank_you_sent?jsxRuntimeExports.jsx(Check$1,{className:"w-5 h-5 text-green"}):jsxRuntimeExports.jsx("button",{onClick:()=>ur(mr),className:"text-green hover:text-green/70 underline",children:"Auto-Gen Thank You"})})]},mr.id))})]})}),jsxRuntimeExports.jsx("div",{className:"md:hidden space-y-4",children:Ut.map(mr=>jsxRuntimeExports.jsxs("div",{className:`bg-dashboard-sidebar-light
                dark:bg-dashboard-sidebar-dark
                border border-dashboard-border-light
                dark:border-dashboard-border-dark rounded-xl p-4 shadow-md`,children:[jsxRuntimeExports.jsxs("div",{className:"mb-2",children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-dashboard-muted-light dark:text-dashboard-muted-dark mb-1",children:"Product"}),jsxRuntimeExports.jsx("p",{className:"text-sm font-semibold text-dashboard-text-light dark:text-dashboard-text-dark",children:mr.product_name})]}),jsxRuntimeExports.jsxs("div",{className:"mb-2",children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-dashboard-muted-light dark:text-dashboard-muted-dark mb-1",children:"Buyer"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-dashboard-text-light dark:text-dashboard-text-dark break-all",children:mr.buyer_email})]}),jsxRuntimeExports.jsxs("div",{className:"mb-3",children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-dashboard-muted-light dark:text-dashboard-muted-dark mb-1",children:"Date"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-dashboard-muted-light dark:text-dashboard-muted-dark mb-1",children:new Date(mr.delivered_at).toLocaleString()})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-dashboard-border-light dark:border-dashboard-border-dark",children:[jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-400",children:"Thank You"}),mr.thank_you_sent?jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1 text-green text-sm font-semibold",children:[jsxRuntimeExports.jsx(Check$1,{className:"w-4 h-4"}),"Sent"]}):jsxRuntimeExports.jsx("button",{onClick:()=>ur(mr),className:"text-green text-sm font-semibold hover:text-green/70 underline",children:"Auto-Gen"})]})]},mr.id))})]}):jsxRuntimeExports.jsx("p",{className:"text-dashboard-muted-light dark:text-dashboard-muted-dark text-sm",children:"No sales yet."})]}),Ut.length>0&&jsxRuntimeExports.jsxs("div",{className:"flex justify-center items-center gap-6 mt-6",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Yt(mr=>Math.max(1,mr-1)),disabled:Kt===1,className:`px-4 py-2 rounded-lg ${Kt===1?"bg-dashboard-hover-light dark:bg-dashboard-hover-dark text-dashboard-muted-light dark:text-dashboard-muted-dark cursor-not-allowed":"bg-dashboard-sidebar-light dark:bg-dashboard-sidebar-dark text-dashboard-text-light dark:text-dashboard-text-dark hover:bg-dashboard-hover-light dark:hover:bg-dashboard-hover-dark"}`,children:"Prev"}),jsxRuntimeExports.jsxs("span",{className:"text-dashboard-text-light dark:text-dashboard-text-dark text-sm",children:["Page ",Kt," of ",Jt]}),jsxRuntimeExports.jsx("button",{onClick:()=>Yt(mr=>Math.min(Jt,mr+1)),disabled:Kt===Jt,className:`px-4 py-2 rounded-lg ${Kt===Jt?"bg-dashboard-hover-light dark:bg-dashboard-hover-dark text-dashboard-muted-light dark:text-dashboard-muted-dark cursor-not-allowed":"bg-dashboard-sidebar-light dark:bg-dashboard-sidebar-dark text-dashboard-text-light dark:text-dashboard-text-dark hover:bg-dashboard-hover-light dark:hover:bg-dashboard-hover-dark"}`,children:"Next"})]}),jsxRuntimeExports.jsx(ThankYouModal,{visible:sr,message:er,setMessage:rr,onClose:()=>ir(!1),loading:nr,onMarkSent:()=>pr(lr)})]}):jsxRuntimeExports.jsx(DashboardLayout,{children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen text-dashboard-text-light dark:text-dashboard-text-dark",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold mb-3",children:"No Stripe Account Connected"}),jsxRuntimeExports.jsxs("p",{className:"text-gray-400 text-center mb-6 max-w-md",children:["You need to connect your Stripe account in"," ",jsxRuntimeExports.jsx("span",{className:"text-green font-semibold",children:"Settings"})," to view your seller dashboard and payouts."]}),jsxRuntimeExports.jsx("button",{onClick:()=>window.location.href="/settings",className:"px-6 py-3 rounded-lg bg-green text-black font-semibold hover:opacity-90 transition",children:"Go to Settings"})]})})}function CreateCommentBox({targetType:dt="post",targetId:et,onComment:$t}){const[kt,Tt]=reactExports.useState(""),[Dt,Ft]=reactExports.useState(!1),[Ut,Ht]=reactExports.useState([]),[Kt,Yt]=reactExports.useState(!1),[Jt,Zt]=reactExports.useState(""),er=async ir=>{const nr=ir.target.value;Tt(nr);try{const or=nr.match(/@([a-zA-Z0-9_]*)$/);if(!or){Yt(!1),Ht([]);return}const lr=or[1];if(Zt(lr),lr.length<1)return;const cr=await axiosInstance.get(`/community/users/search?query=${lr}`);Ht(cr.data.users||[]),Yt(!0)}catch(or){console.error(" mention search failed:",or),Yt(!1)}},rr=ir=>{try{Tt(nr=>nr.replace(/@([a-zA-Z0-9_]*)$/,`@${ir} `)),Yt(!1),Ht([]),Zt("")}catch(nr){console.error(" insertMention error:",nr)}},sr=async()=>{if(!(!kt.trim()||Dt)){Ft(!0);try{const nr=(await axiosInstance.post("/community/comments",{targetType:dt,targetId:et,body:kt})).data.comment;Tt(""),Yt(!1),Ht([]),Zt(""),$t&&nr&&$t(nr)}catch(ir){console.error("Failed to add comment:",ir)}finally{Ft(!1)}}};return jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("textarea",{value:kt,onChange:er,placeholder:"Write a comment...",className:`
        w-full
        min-h-[100px]
        p-3
        rounded-lg
        bg-dashboard-bg-light dark:bg-dashboard-bg-dark
        text-dashboard-text-light dark:text-dashboard-text-dark
        placeholder-dashboard-muted-light dark:placeholder-dashboard-muted-dark
        border border-dashboard-border-light dark:border-dashboard-border-dark
        focus:outline-none
        focus:ring-1
        focus:ring-green
      `}),Kt&&Ut.length>0&&jsxRuntimeExports.jsx("div",{className:`
      absolute
      left-0
      bottom-full
      mb-2
      w-full
      max-h-56
      overflow-y-auto
      rounded-xl
      border
      bg-dashboard-sidebar-light
      dark:bg-dashboard-sidebar-dark
      border-dashboard-border-light
      dark:border-dashboard-border-dark
      shadow-2xl
      z-50
    `,children:Ut.map(ir=>{var nr,or;return jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>rr(ir.username),className:`
    w-full
    flex
    items-center
    gap-3
    px-3
    py-2
    text-left
    hover:bg-dashboard-hover-light
    dark:hover:bg-dashboard-hover-dark
    transition
  `,children:[ir.profile_image_url?jsxRuntimeExports.jsx("img",{src:ir.profile_image_url,alt:ir.username,className:"w-7 h-7 rounded-full object-cover border border-dashboard-border-light dark:border-dashboard-border-dark"}):jsxRuntimeExports.jsx("div",{className:`
        w-7 h-7
        rounded-full
        flex
        items-center
        justify-center
        text-xs
        font-semibold
        bg-dashboard-bg-light
        dark:bg-dashboard-bg-dark
        border
        border-dashboard-border-light
        dark:border-dashboard-border-dark
        text-dashboard-muted-light
        dark:text-dashboard-muted-dark
      `,children:(or=(nr=ir.username)==null?void 0:nr.charAt(0))==null?void 0:or.toUpperCase()}),jsxRuntimeExports.jsx("div",{className:"flex flex-col leading-tight",children:jsxRuntimeExports.jsxs("span",{className:"text-sm font-medium text-dashboard-text-light dark:text-dashboard-text-dark",children:["@",ir.username]})})]},ir.id)})}),jsxRuntimeExports.jsx("button",{onClick:sr,disabled:Dt,className:`
    mt-6
    px-5 py-2
    rounded-lg
    transition
    border
    ${Dt?"opacity-50 cursor-not-allowed":"hover:bg-green hover:text-black"}
    bg-dashboard-sidebar-light dark:bg-dashboard-sidebar-dark
    text-dashboard-text-light dark:text-dashboard-text-dark
    border-dashboard-border-light dark:border-dashboard-border-dark
  `,children:Dt?"Posting":"Post"})]})}function ButtonSpinner(){return jsxRuntimeExports.jsx("span",{className:`
        inline-block
        w-3 h-3
        border-2
        border-current
        border-t-transparent
        rounded-full
        animate-spin
      `})}function ReplyBox({parentComment:dt,onReply:et,onCancel:$t}){const[kt,Tt]=reactExports.useState(""),[Dt,Ft]=reactExports.useState(!1),[Ut,Ht]=reactExports.useState([]),[Kt,Yt]=reactExports.useState(!1),[Jt,Zt]=reactExports.useState(""),er=async ir=>{const nr=ir.target.value;Tt(nr);try{const or=nr.match(/@([a-zA-Z0-9_]*)$/);if(!or){Yt(!1),Ht([]);return}const lr=or[1];if(Zt(lr),lr.length<1)return;const cr=await axiosInstance.get(`/community/users/search?query=${lr}`);Ht(cr.data.users||[]),Yt(!0)}catch(or){console.error(" mention search failed:",or),Yt(!1)}},rr=ir=>{Tt(nr=>nr.replace(/@([a-zA-Z0-9_]*)$/,`@${ir} `)),Yt(!1),Ht([]),Zt("")},sr=async()=>{if(!kt.trim()||Dt)return;Ft(!0);const ir={body:kt};try{const nr=await axiosInstance.post(`/community/comments/${dt.id}/reply`,ir);Tt(""),Yt(!1),Ht([]),Zt(""),et(nr.data.reply)}catch(nr){console.error("Failed to submit reply:",nr)}finally{Ft(!1)}};return jsxRuntimeExports.jsxs("div",{className:"relative mt-4 -mx-3 -ml-4 sm:mx-0 sm:ml-0",children:[jsxRuntimeExports.jsx("textarea",{value:kt,onChange:er,className:`
          w-full
          min-h-[120px]
          resize-none
          rounded-xl
          p-4
          text-base
          bg-dashboard-bg-light
          dark:bg-dashboard-bg-dark
          border border-dashboard-border-light
          dark:border-dashboard-border-dark
          text-dashboard-text-light
          dark:text-dashboard-text-dark
          placeholder-dashboard-muted-light
          dark:placeholder-dashboard-muted-dark
          focus:outline-none
          focus:ring-2
          focus:ring-green/40
        `,placeholder:"Write your reply"}),Kt&&Ut.length>0&&jsxRuntimeExports.jsx("div",{className:`
      absolute
      left-0
      bottom-full
      mb-2
      w-full
      max-h-56
      overflow-y-auto
      rounded-xl
      border
      bg-dashboard-sidebar-light
      dark:bg-dashboard-sidebar-dark
      border-dashboard-border-light
      dark:border-dashboard-border-dark
      shadow-2xl
      z-50
    `,children:Ut.map(ir=>{var nr,or;return jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>rr(ir.username),className:`
          w-full
          flex
          items-center
          gap-3
          px-3
          py-2
          text-left
          hover:bg-dashboard-hover-light
          dark:hover:bg-dashboard-hover-dark
          transition
        `,children:[ir.profile_image_url?jsxRuntimeExports.jsx("img",{src:ir.profile_image_url,alt:ir.username,className:"w-7 h-7 rounded-full object-cover border"}):jsxRuntimeExports.jsx("div",{className:"w-7 h-7 rounded-full flex items-center justify-center text-xs font-semibold",children:(or=(nr=ir.username)==null?void 0:nr.charAt(0))==null?void 0:or.toUpperCase()}),jsxRuntimeExports.jsxs("span",{className:"text-sm font-medium",children:["@",ir.username]})]},ir.id)})}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[jsxRuntimeExports.jsx("button",{onClick:$t,className:`
    px-4 py-2
    rounded-lg
    text-sm
    bg-dashboard-hover-light
    dark:bg-dashboard-hover-dark
    text-dashboard-text-light
    dark:text-dashboard-text-dark
    border
    border-dashboard-border-light
    dark:border-dashboard-border-dark
    transition
    hover:opacity-90
    focus:outline-none
    focus:ring-2
    focus:ring-dashboard-border-light
    dark:focus:ring-dashboard-border-dark
  `,children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:sr,disabled:Dt,className:`
    px-5 py-2
    rounded-lg
    bg-green
    text-black
    font-medium
    transition
    hover:bg-green/90
    disabled:opacity-60
    disabled:cursor-not-allowed
    flex items-center justify-center gap-2
  `,children:Dt?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(ButtonSpinner,{size:"sm"}),jsxRuntimeExports.jsx("span",{children:"Posting"})]}):"Reply"})]})]})}function MentionCard({user:dt,open:et,onEnter:$t,onLeave:kt}){var Tt;return dt?jsxRuntimeExports.jsx("div",{onMouseEnter:$t,onMouseLeave:kt,className:`
        absolute z-50 bottom-full mb-2 w-72
        rounded-xl
        border
        shadow-xl
        bg-dashboard-sidebar-light
        dark:bg-dashboard-sidebar-dark
        border-dashboard-border-light
        dark:border-dashboard-border-dark
        transition-all duration-150 ease-out
        opacity-0 translate-y-1 pointer-events-none
        ${et?"opacity-100 translate-y-0 pointer-events-auto":""}
        p-3
      `,children:jsxRuntimeExports.jsxs("div",{className:dt.author_has_profile?"":"opacity-60",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-[40px_1fr] gap-3 ",children:[dt.profile_image_url?jsxRuntimeExports.jsx("img",{src:dt.profile_image_url,className:"w-10 h-10 rounded-full object-cover self-start translate-y-[-14px]",alt:dt.name}):jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center bg-gray-300 dark:bg-gray-700 text-sm font-semibold",children:((Tt=dt.name)==null?void 0:Tt.charAt(0))||"U"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-rows-[auto_auto]",children:[jsxRuntimeExports.jsxs("div",{className:"translate-y-[4px]",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-semibold leading-none text-dashboard-text-light dark:text-dashboard-text-dark",children:dt.name}),jsxRuntimeExports.jsxs("p",{className:" -mt-3 text-xs text-dashboard-muted-light dark:text-dashboard-muted-dark",children:["@",dt.username]})]}),dt.bio&&jsxRuntimeExports.jsx("p",{className:"mt-2 text-xs line-clamp-2 text-dashboard-text-light dark:text-dashboard-text-dark",children:dt.bio})]})]}),!dt.author_has_profile&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-[11px] text-dashboard-muted-light italic",children:"Profile coming soon"})]})}):null}function Mention({username:dt}){const[et,$t]=reactExports.useState(!1),[kt,Tt]=reactExports.useState(null),[Dt,Ft]=reactExports.useState(!1),[Ut,Ht]=reactExports.useState(!1),[Kt,Yt]=reactExports.useState(!1),Jt=useNavigate(),Zt=async()=>{if(!(kt||Dt)){Ft(!0);try{const rr=await axiosInstance.get(`/community/users/preview/${dt}`);Tt(rr.data.user)}catch{}finally{Ft(!1)}}},er=rr=>{rr.stopPropagation(),kt!=null&&kt.author_has_profile&&Jt(`/community/authors/${kt.id}`)};return reactExports.useEffect(()=>{!Ut&&!Kt&&$t(!1)},[Ut,Kt]),jsxRuntimeExports.jsxs("span",{className:"relative inline-block",children:[jsxRuntimeExports.jsxs("span",{onClick:er,onMouseEnter:()=>{Ht(!0),$t(!0),Zt()},onMouseLeave:()=>{Ht(!1)},className:`
        text-sky-400 font-medium
        ${kt&&!kt.author_has_profile?"cursor-default opacity-60":"cursor-pointer hover:underline"}
      `,children:["@",dt]}),jsxRuntimeExports.jsx(MentionCard,{user:kt,open:et,onEnter:()=>Yt(!0),onLeave:()=>Yt(!1)})]})}function renderTextWithLinks(dt){try{if(!dt)return null;const et=/\[([^\]]+)\]\((https?:\/\/[^\s)]+)\)/g,$t=/(https?:\/\/[^\s]+)/g,kt=/https?:\/\/(?:www\.)?(?:youtube\.com\/watch\?v=|youtu\.be\/)([\w-]+)/,Tt=/@([a-zA-Z0-9_]+)/g,Dt=[];let Ft=0;return dt.replace(et,(Ut,Ht,Kt,Yt)=>{Yt>Ft&&Dt.push(dt.slice(Ft,Yt)),Dt.push(jsxRuntimeExports.jsx("a",{href:Kt,target:"_blank",rel:"noopener noreferrer",className:`
            underline
            text-dashboard-metric-light dark:text-dashboard-metric-dark
            hover:opacity-80
          `,children:Ht},`md-${Yt}-${Kt}`)),Ft=Yt+Ut.length}),Ft<dt.length&&Dt.push(dt.slice(Ft)),Dt.flatMap((Ut,Ht)=>typeof Ut!="string"?Ut:Ut.split($t).flatMap((Kt,Yt)=>{if(Kt.match($t)){const Jt=Kt.trim(),Zt=Jt.match(kt);return Zt?jsxRuntimeExports.jsx("div",{className:"my-6",children:jsxRuntimeExports.jsx("iframe",{className:`
                    w-full aspect-video rounded-xl
                    border border-dashboard-border-light
                    dark:border-dashboard-border-dark
                  `,src:`https://www.youtube.com/embed/${Zt[1]}`,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})},`yt-${Ht}-${Yt}`):jsxRuntimeExports.jsx("a",{href:Jt,target:"_blank",rel:"noopener noreferrer",className:`
                underline
                text-dashboard-metric-light dark:text-dashboard-metric-dark
                hover:opacity-80
              `,children:Jt},`url-${Ht}-${Yt}`)}return Kt.split(Tt).map((Jt,Zt)=>Zt%2===1?jsxRuntimeExports.jsx(Mention,{username:Jt},`mention-${Ht}-${Yt}-${Zt}`):jsxRuntimeExports.jsx("span",{className:"whitespace-pre-wrap",children:Jt},`text-${Ht}-${Yt}-${Zt}`))}))}catch(et){return console.error(" renderTextWithLinks error:",et),dt}}function CommentThread({comment:dt,postOwnerId:et,depth:$t=0,loadReplies:kt,replies:Tt,setReplies:Dt,replyPages:Ft,timeAgo:Ut,toggleLike:Ht,setActiveReplyBox:Kt,activeReplyBox:Yt,editCommentId:Jt,editBody:Zt,setEditBody:er,setEditCommentId:rr,handleDelete:sr,onReplySubmit:ir,openReplies:nr,toggleReplyVisibility:or,expandedComments:lr,setExpandedComments:cr}){var Pr,Mr,Rr,Tr;const{user:dr}=useAuth(),ur=Tt[dt.id]||[],pr=420,mr=(lr==null?void 0:lr[dt.id])===!0,vr=dt.body.length>pr,kr=!mr&&vr?dt.body.slice(0,pr).trim()+"":dt.body,br=dt.reply_count??(Tt[dt.id]?Tt[dt.id].length:0),_r=$t>0?1:0,Or=$t===0;return jsxRuntimeExports.jsxs("div",{id:`comment-${dt.id}`,children:[jsxRuntimeExports.jsxs("div",{className:Or?`
    bg-dashboard-sidebar-light dark:bg-dashboard-sidebar-dark
    border border-dashboard-border-light dark:border-dashboard-border-dark
    rounded-lg
  `:`
    relative
    ml-2 sm:ml-4
    mt-3 sm:mt-4
  `,children:[!Or&&jsxRuntimeExports.jsx("span",{className:`
      absolute
      left-[-1px]
      top-4
      w-2 h-2
      rounded-full
      bg-dashboard-border-light
      dark:bg-dashboard-border-dark
      z-10
    `}),!Or&&jsxRuntimeExports.jsx("span",{className:`
      absolute
      left-0
      top-3
      bottom-3
      w-px
      bg-dashboard-border-light/40
      dark:bg-dashboard-border-dark/40
      z-0
    `}),jsxRuntimeExports.jsx("div",{className:Or?"p-3":"pl-4 sm:pl-5 py-2 sm:py-3",children:Jt===dt.id?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("textarea",{value:Zt,onChange:xr=>er(xr.target.value),className:"w-full bg-gray-800 border border-gray-700 p-2 rounded text-gray-100 text-sm",rows:3}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3 mt-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>ir(dt.id),className:"px-3 py-1 bg-blue text-white text-xs rounded hover:bg-blue/90",children:"Save"}),jsxRuntimeExports.jsx("button",{onClick:()=>{rr(null),er("")},className:"px-3 py-1 bg-gray-700 text-gray-300 text-xs rounded hover:bg-gray-600",children:"Cancel"})]})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[jsxRuntimeExports.jsx("button",{title:dt.author_has_profile?void 0:"Profile coming soon",onClick:()=>{if((dr==null?void 0:dr.id)!==dt.user_id){if(!dt.author_has_profile){y$4.info("This author hasnt set up their profile yet");return}navigate(`/community/authors/${dt.user_id}`)}},className:`flex-shrink-0 ${!dt.author_has_profile||dt.author_role==="admin"?"cursor-default":"cursor-pointer"}`,children:dt.author_image?jsxRuntimeExports.jsx(Img,{src:dt.author_image,loader:jsxRuntimeExports.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-700/40 animate-pulse"}),unloader:jsxRuntimeExports.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-800 border border-gray-700 flex items-center justify-center text-xs font-semibold text-gray-300",children:((Mr=(Pr=dt.author)==null?void 0:Pr.charAt(0))==null?void 0:Mr.toUpperCase())||"U"}),decode:!0,alt:"User avatar",className:"w-8 h-8 rounded-full object-cover border border-gray-700 transition-opacity duration-300"}):jsxRuntimeExports.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-800 border border-gray-700 flex items-center justify-center text-xs font-semibold text-gray-300",children:((Tr=(Rr=dt.author)==null?void 0:Rr.charAt(0))==null?void 0:Tr.toUpperCase())||"U"})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-[2px] text-xs text-gray-500",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-0",children:[jsxRuntimeExports.jsx("span",{className:`
                      font-medium
                      text-dashboard-muted-light
                      dark:text-dashboard-muted-dark
                    `,children:dt.author}),dt.author_role==="admin"&&jsxRuntimeExports.jsx("span",{className:`
                      flex items-center 
                      text-dashboard-muted-light dark:text-dashboard-muted-dark
                      text-[10px]
                      p-1
                      rounded-full
                    `,children:jsxRuntimeExports.jsx(ShieldCheck,{size:11,className:"text-dashboard-muted-light dark:text-green"})})]})," ",Ut(dt.created_at)]})]}),dt.reply_to_author&&jsxRuntimeExports.jsxs("div",{className:"text-xs text-dashboard-muted-light dark:text-dashboard-muted-dark mb-1",children:["Replying to"," ",jsxRuntimeExports.jsxs("span",{className:"font-medium",children:["@",dt.reply_to_author]})]}),jsxRuntimeExports.jsx("p",{className:`
            prose prose-sm max-w-none
             dark:prose-invert
             dark:prose-a:text-sky-400
             dark:prose-a:decoration-sky-400
            text-dashboard-text-light dark:text-dashboard-text-dark
             whitespace-pre-wrap mb-2
          `,children:renderTextWithLinks(kr)}),!mr&&vr&&jsxRuntimeExports.jsx("button",{onClick:()=>cr(xr=>({...xr,[dt.id]:!0})),className:"text-xs text-sky-400 mt-1 hover:underline",children:"See more"}),mr&&vr&&jsxRuntimeExports.jsx("button",{onClick:()=>cr(xr=>({...xr,[dt.id]:!1})),className:"text-xs text-dashboard-muted-light dark:text-dashboard-muted-dark mt-1 hover:underline",children:"See less"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-xs text-dashboard-muted-light dark:text-dashboard-muted-dark mt-1",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>Ht(dt,dt.parent_id),className:`flex items-center gap-1 ${dt.user_liked?"text-red-600":"text-gray-500"} hover:text-red-600/90 transition-transform ${dt.user_liked?"scale-110":"scale-100"}`,children:[jsxRuntimeExports.jsx(Heart,{size:12,fill:dt.user_liked?"currentColor":"transparent",className:dt.user_liked?"animate-pingOnce":""}),dt.like_count]}),jsxRuntimeExports.jsx("button",{onClick:()=>Kt(dt.id),className:`text-dashboard-text-light dark:text-dashboard-text-dark
                hover:opacity-80
`,children:"Reply"}),dr&&dt.user_id===dr.id&&jsxRuntimeExports.jsx("button",{onClick:()=>{rr(dt.id),er(dt.body)},className:`
                    text-dashboard-muted-light dark:text-dashboard-muted-dark
                    hover:opacity-80
`,children:"Edit"}),dr&&(dt.user_id===dr.id||et===dr.id)&&jsxRuntimeExports.jsx("button",{onClick:()=>sr(dt.id,dt.parent_id),className:"text-dashboard-muted-light dark:text-dashboard-muted-dark hover:opacity-80",children:"Delete"})]}),Yt===dt.id&&jsxRuntimeExports.jsx("div",{className:"mt-2",children:jsxRuntimeExports.jsx(ReplyBox,{parentComment:dt,onReply:async xr=>{Kt(null);const wr=dt.parent_id||dt.id;Dt(zr=>({...zr,[wr]:[...zr[wr]||[],xr]})),await kt(wr)},onCancel:()=>Kt(null)})})]})})]}),br>0&&jsxRuntimeExports.jsx("button",{onClick:()=>or(dt.id),className:`text-xs text-dashboard-text-light dark:text-dashboard-text-dark
    hover:opacity-80
    mt-2 ${_r===1?"ml-4 sm:ml-6":"ml-1"}`,children:nr[dt.id]?"Hide replies":`View replies (${br})`}),nr[dt.id]&&ur.filter(xr=>xr&&xr.id).map(xr=>jsxRuntimeExports.jsx("div",{className:"mt-3",children:jsxRuntimeExports.jsx(CommentThread,{comment:xr,depth:1,postOwnerId:et,loadReplies:kt,replies:Tt,replyPages:Ft,timeAgo:Ut,toggleLike:Ht,activeReplyBox:Yt,setActiveReplyBox:Kt,editCommentId:Jt,editBody:Zt,setEditBody:er,setEditCommentId:rr,handleDelete:sr,onReplySubmit:ir,openReplies:nr,toggleReplyVisibility:or},xr.id)})),nr[dt.id]&&Ft[dt.id]&&jsxRuntimeExports.jsx("button",{onClick:()=>kt(dt.id,Ft[dt.id]),className:"text-xs text-blue hover:text-blue/80 ml-3 mt-1",children:"Show more replies"})]})}function formatPostDate(dt){return new Date(dt).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})}function confirmDelete({message:dt="Delete this comment?",onConfirm:et}){y$4(({closeToast:$t})=>jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-3",children:[jsxRuntimeExports.jsx("p",{className:"text-sm",children:dt}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 justify-end",children:[jsxRuntimeExports.jsx("button",{onClick:()=>{$t()},className:"px-3 py-1 text-xs rounded border border-gray-300 hover:bg-gray-100",children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:()=>{$t(),et()},className:"px-3 py-1 text-xs rounded bg-red-600 text-white hover:bg-red-700",children:"Delete"})]})]}),{autoClose:!1,closeOnClick:!1,closeButton:!1})}const MIN_TIP_DOLLARS=2;function TipModal({open:dt,onTip:et,onClose:$t,loading:kt}){const[Tt,Dt]=reactExports.useState("");if(!dt)return null;const Ft=()=>{const Ut=parseFloat(Tt);isNaN(Ut)||Ut<MIN_TIP_DOLLARS||(et(Math.round(Ut*100)),Dt(""))};return jsxRuntimeExports.jsx("div",{onClick:$t,className:"fixed inset-0 z-50 bg-black/60 flex items-center justify-center px-4",children:jsxRuntimeExports.jsxs("div",{onClick:Ut=>Ut.stopPropagation(),className:`
          bg-dashboard-sidebar-light
          dark:bg-dashboard-sidebar-dark
          rounded-2xl
          p-6
          w-full
          max-w-sm
          space-y-5
          shadow-2xl
          border
          border-dashboard-border-light
          dark:border-dashboard-border-dark
        `,children:[jsxRuntimeExports.jsxs("div",{className:"text-center space-y-1",children:[jsxRuntimeExports.jsx("div",{className:"text-2xl",children:""}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-dashboard-text-light dark:text-dashboard-text-dark",children:"Support this writer"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-dashboard-muted-light dark:text-dashboard-muted-dark",children:"A small tip goes a long way and lets them know their words mattered."})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-3 gap-3",children:[2,5,10].map(Ut=>jsxRuntimeExports.jsxs("button",{onClick:()=>et(Ut*100),disabled:kt,className:`
                py-3
                rounded-xl
                border
                border-dashboard-border-light
                dark:border-dashboard-border-dark
                text-dashboard-text-light
                dark:text-dashboard-text-dark
                font-medium
                transition
                hover:bg-green/10
                hover:border-green/40
                disabled:opacity-60
                disabled:cursor-not-allowed
              `,children:["$",Ut]},Ut))}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("label",{className:"text-xs text-dashboard-muted-light dark:text-dashboard-muted-dark",children:"Custom amount (minimum $2)"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex-1",children:[jsxRuntimeExports.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-dashboard-muted-light dark:text-dashboard-muted-dark",children:"$"}),jsxRuntimeExports.jsx("input",{type:"number",min:MIN_TIP_DOLLARS,step:"0.01",placeholder:"2.00",value:Tt,onChange:Ut=>Dt(Ut.target.value),className:`
                w-full
                pl-7
                pr-3
                py-2.5
                rounded-lg
                bg-dashboard-bg-light
                dark:bg-dashboard-bg-dark
                border
                border-dashboard-border-light
                dark:border-dashboard-border-dark
                text-dashboard-text-light
                dark:text-dashboard-text-dark
                text-sm
                focus:outline-none
                focus:ring-2
                focus:ring-green/40
              `})]}),jsxRuntimeExports.jsx("button",{onClick:Ft,disabled:kt||!Tt||parseFloat(Tt)<MIN_TIP_DOLLARS,className:`
              px-4
              rounded-lg
              bg-green
              text-black
              font-medium
              text-sm
              transition
              hover:bg-green/90
              disabled:opacity-50
              disabled:cursor-not-allowed
            `,children:"Send"})]}),Number(Tt)>0&&Number(Tt)<MIN_TIP_DOLLARS&&jsxRuntimeExports.jsx("p",{className:"text-[11px] text-dashboard-muted-light dark:text-dashboard-muted-dark",children:"Minimum tip is $2"})]}),jsxRuntimeExports.jsx("button",{onClick:$t,className:`
            w-full
            text-xs
            text-dashboard-muted-light
            dark:text-dashboard-muted-dark
            hover:opacity-80
          `,children:"Maybe later"})]})})}function CommunityPost({targetType:dt="post"}){var Ss,Ls,bs;const et=dt==="fragment",{user:$t,authLoading:kt}=useAuth(),{slug:Tt,id:Dt}=useParams(),Ft=et?Dt:Tt,Ut=useNavigate(),[Ht,Kt]=reactExports.useState(null),[Yt,Jt]=reactExports.useState([]),[Zt,er]=reactExports.useState(1),[rr,sr]=reactExports.useState(!1),[ir,nr]=reactExports.useState(!0),[or,lr]=reactExports.useState({}),[cr,dr]=reactExports.useState({}),[ur,pr]=reactExports.useState(!1),[mr,vr]=reactExports.useState(null),[kr,br]=reactExports.useState(""),[_r,Or]=reactExports.useState(null),[Pr,Mr]=reactExports.useState(!1),[Rr,Tr]=reactExports.useState({}),xr=useLocation(),wr=new URLSearchParams(xr.search),zr=wr.get("comment"),[Hr,Gr]=reactExports.useState(!1),[Xr,rs]=reactExports.useState(!1),[Yr,es]=reactExports.useState(!1),[ns,ms]=reactExports.useState(!1),[ls,ds]=reactExports.useState({}),[fs,cs]=reactExports.useState(!1),[xs,us]=reactExports.useState(!1),$s=`
  post-body-frag
  max-w-none
  text-sm leading-relaxed
  text-dashboard-text-light dark:text-dashboard-text-dark
  whitespace-pre-wrap
`,ks=`
  post-body
  prose prose-md max-w-none
  prose-pre:bg-zinc-900 dark:prose-pre:bg-zinc-800
  prose-pre:text-gray-100
  prose-pre:overflow-x-auto
  prose-code:text-[#e5e7eb]
  dark:prose-invert
  text-dashboard-text-light dark:text-dashboard-text-dark
`,Ds={post:{fetch:as=>axiosInstance.get(`/community/posts/${as}`),fetchComments:(as,vs,Rs)=>axiosInstance.get(`/community/posts/${as}/comments?page=${vs}&limit=${Rs}`),idKey:"id",redirectBase:"/community/post"},fragment:{fetch:as=>axiosInstance.get(`/fragments/${as}`),fetchComments:(as,vs,Rs)=>axiosInstance.get(`/community/comments?targetType=fragment&targetId=${as}&page=${vs}&limit=${Rs}`),idKey:"id",redirectBase:"/community"}},Cs=et?"/community":`/community/post/${Ht==null?void 0:Ht.slug}`;reactExports.useEffect(()=>{Yt.length&&ds(as=>{const vs={...as};return Yt.forEach(Rs=>{vs[Rs.id]===void 0&&(vs[Rs.id]=Rs.body.length<=420)}),vs})},[Yt]);const Ts=()=>{if(!$t){Ut(`/signup-community?redirect=${Cs}`);return}es(!0)},Ns=async as=>{var vs,Rs;if(!ns){ms(!0);try{const Os=await axiosInstance.post("/seller-checkout/create-checkout-session",{checkoutType:"tip",targetType:dt,targetId:Ht.id,tipAmountInCents:as});window.location.href=Os.data.url}catch(Os){if(((Rs=(vs=Os.response)==null?void 0:vs.data)==null?void 0:Rs.message)==="Recipient cannot receive tips"){y$4.info("This writer hasnt enabled tips yet. Youll be able to support them once they do."),ms(!1);return}y$4.error("Failed to start tip checkout"),console.error(Os)}ms(!1)}};reactExports.useEffect(()=>{kt||Ht&&($t||Ut(`/signup-community?redirect=${Cs}`,{replace:!0}))},[$t,kt,Ht,Cs]),reactExports.useEffect(()=>(document.body.style.overflow="auto",document.body.style.position="",document.body.style.width="",()=>{document.body.style.overflow="auto",document.body.style.position="",document.body.style.width=""}),[]);const Ms=async()=>{var as;try{const vs=await Ds[dt].fetch(Ft),Rs=dt==="fragment"?vs.data.fragment:vs.data.post;if(!Rs){console.error("Missing post data:",vs.data);return}if(Kt(Rs),$t!=null&&$t.id&&(Rs!=null&&Rs.user_id)&&$t.id!==Rs.user_id)try{const Is=await axiosInstance.get(`/community/subscriptions/${Rs.user_id}/status`);Gr(Is.data.subscribed),us(Is.data.has_paid_subscription)}catch(Is){console.error("Failed to load subscription status",Is)}const Os=await Ds[dt].fetchComments(Rs.id,1,10);Jt(Os.data.comments||[]),console.log(" COMMENTS FETCH RESULT",{targetType:dt,targetId:Rs.id,count:(as=Os.data.comments)==null?void 0:as.length,comments:Os.data.comments}),er(Os.data.nextPage||null),nr(!!Os.data.nextPage)}catch(vs){console.error("Failed to load:",vs)}},Us=async()=>{if(!Xr){if(!$t){Ut(`/signup-community?redirect=${Cs}`);return}if(Hr){rs(!0);try{await axiosInstance.delete(`/community/subscriptions/${Ht.user_id}/subscribe`),Gr(!1)}catch(as){console.error("Unsubscribe failed",as)}rs(!1);return}if(!xs){rs(!0);try{await axiosInstance.post(`/community/subscriptions/${Ht.user_id}/subscribe`),Gr(!0)}catch(as){console.error("Subscribe failed",as)}rs(!1);return}Ut(`/community/subscribe/${Ht.user_id}/choose`,{state:{from:Cs}})}},Ws=async()=>{if(!$t){Ut(`/signup-community?redirect=${Cs}`);return}const as={targetType:dt,targetId:Ht.id};try{Ht.has_liked?(await axiosInstance.delete("/community/delete-like",{data:as}),Kt(vs=>({...vs,has_liked:0,like_count:Math.max(vs.like_count-1,0)}))):(await axiosInstance.post("/community/likes",as),Kt(vs=>({...vs,has_liked:1,like_count:vs.like_count+1})))}catch{y$4.error("Failed to update like")}},Ks=async()=>{if(!$t){Ut(`/signup-community?redirect=${Cs}`);return}Kt(as=>{const vs=as.is_bookmarked;return{...as,is_bookmarked:!vs,save_count:Math.max((as.save_count||0)+(vs?-1:1),0)}});try{const as=await axiosInstance.post(`/community/bookmark/${Ht.id}`);Kt(vs=>({...vs,is_bookmarked:as.data.bookmarked})),as.data.bookmarked&&(cs(!0),setTimeout(()=>cs(!1),1200))}catch(as){console.error("Bookmark toggle failed:",as),Kt(vs=>{const Rs=vs.is_bookmarked;return{...vs,is_bookmarked:!Rs,save_count:Math.max((vs.save_count||0)+(Rs?-1:1),0)}}),y$4.error("Failed to save bookmark")}};reactExports.useEffect(()=>{if(wr.get("tipped")==="1"){Mr(!0);const as=new URL(window.location.href);as.searchParams.delete("tipped"),window.history.replaceState({},"",as.pathname),setTimeout(()=>{Mr(!1)},1800)}},[]),reactExports.useEffect(()=>{Ft&&Ms()},[Ft,$t]);const Qs=async()=>{if(!(!ir||rr)){sr(!0);try{const as=await Ds[dt].fetchComments(Ht.id,Zt,10);Jt(vs=>[...vs,...as.data.comments||[]]),as.data.nextPage?er(as.data.nextPage):nr(!1)}catch(as){console.error("Load more failed:",as)}sr(!1)}},qs=reactExports.useRef();reactExports.useEffect(()=>{const as=new IntersectionObserver(vs=>{vs[0].isIntersecting&&Qs()},{threshold:1});return qs.current&&as.observe(qs.current),()=>as.disconnect()},[]);const zs=async(as,vs=1)=>{try{const Os=await axiosInstance.get(`/community/comments/${as}/replies?page=${vs}&limit=5`);let Is=Os.data.replies||[];Is=Is.filter(tn=>tn&&tn.id);const Ys=[...Is];dr(tn=>({...tn,[as]:vs===1?[...Ys]:[...tn[as]||[],...Ys]})),Tr(tn=>({...tn,[as]:Os.data.nextPage}))}catch(Os){console.error("Failed to load replies:",Os)}},Js=as=>{lr(vs=>({...vs,[as]:!vs[as]})),cr[as]||zs(as)},_s=async as=>{try{await axiosInstance.put(`/community/comments/${as}`,{body:kr}),Jt(vs=>vs.map(Rs=>Rs.id===as?{...Rs,body:kr}:Rs)),vr(null),br("")}catch(vs){console.error("Failed to update comment:",vs)}},Fs=(as,vs=null)=>{confirmDelete({message:"Delete this comment?",onConfirm:async()=>{try{vs?dr(Rs=>({...Rs,[vs]:(Rs[vs]||[]).filter(Os=>Os.id!==as)})):(Jt(Rs=>Rs.filter(Os=>Os.id!==as)),Kt(Rs=>({...Rs,comment_count:Math.max((Rs.comment_count||1)-1,0)}))),await axiosInstance.delete(`/community/comments/${as}`),y$4.success("Comment deleted")}catch(Rs){console.error(" Delete failed:",Rs),y$4.error("Failed to delete comment")}}})},Ln=async(as,vs=null)=>{try{as.user_liked?(await axiosInstance.delete(`/community/comments/${as.id}/like`),as.like_count-=1,as.user_liked=0):(await axiosInstance.post(`/community/comments/${as.id}/like`),as.like_count+=1,as.user_liked=1),vs?dr(Rs=>({...Rs,[vs]:[...Rs[vs]]})):Jt([...Yt])}catch(Rs){console.error("Failed to toggle like:",Rs)}};if(reactExports.useEffect(()=>{zr&&setTimeout(()=>{const as=document.getElementById(`comment-${zr}`);as&&(as.scrollIntoView({behavior:"smooth",block:"center"}),as.classList.add("ring-2","ring-green","rounded-lg"),setTimeout(()=>{as.classList.remove("ring-2","ring-green")},3e3))},500)},[Yt,cr]),!Ht)return jsxRuntimeExports.jsx("div",{className:"p-10 text-center opacity-60",children:"Loading post"});const _a={PUBLIC:"public",PAID:"paid",PRIVATE:"private"},xo=Ht.comments_visibility===_a.PAID,Vs=Ht.comments_visibility===_a.PRIVATE;console.log(" COMMENTS DEBUG",{authLoading:kt,userId:$t==null?void 0:$t.id,postUserId:Ht==null?void 0:Ht.user_id,isOwner:($t==null?void 0:$t.id)===(Ht==null?void 0:Ht.user_id),comments_visibility:Ht==null?void 0:Ht.comments_visibility,comments_locked:Ht==null?void 0:Ht.comments_locked,isSubscribed:Hr,hasPaidSubscription:xs});const ss=(()=>($t==null?void 0:$t.id)===Ht.user_id?!1:!!(Ht.comments_locked===1||xo&&!xs||Vs&&!Hr))();console.log(" COMMENTS LOCK RESULT",{commentsLocked:ss,reason:{adminLock:Ht.comments_locked===1,paidBlocked:xo&&!xs,privateBlocked:Vs&&!Hr,ownerBypass:($t==null?void 0:$t.id)===Ht.user_id,authLoading:kt}});const Wr=((Ss=xr.state)==null?void 0:Ss.from)||(et?"/community":`/community/topic/${Ht.topic_id}`),gs=((bs=(Ls=Ht.author)==null?void 0:Ls.charAt(0))==null?void 0:bs.toUpperCase())??"U",ps=Ht.is_admin_post===1,js=as=>{const vs=new Date(as),Rs=Math.floor((Date.now()-vs)/1e3);if(Rs<60)return"Just now";const Os=Math.floor(Rs/60);if(Os<60)return`${Os}m ago`;const Is=Math.floor(Os/60);return Is<24?`${Is}h ago`:`${Math.floor(Is/24)}d ago`},hs=Ht.author_role==="admin",Es=et?`${window.location.origin}/community/fragments/${Ht.id}`:`${window.location.origin}/p/${Ht.slug}`,ws=async()=>{try{await navigator.clipboard.writeText(Es),pr(!0),setTimeout(()=>pr(!1),1500)}catch{y$4.error("Failed to copy link")}};return jsxRuntimeExports.jsxs("div",{className:`
      w-full flex justify-center items-start min-h-screen
      px-0 py-0
      sm:px-6 sm:py-0
      lg:py-0
    `,children:[jsxRuntimeExports.jsxs("div",{className:`
    w-full max-w-4xl

    /* mobile */
    bg-transparent
    border-none
    rounded-none
    shadow-none
    p-0

    /* desktop */
    sm:bg-dashboard-sidebar-light
    sm:dark:bg-dashboard-sidebar-dark
    sm:border sm:border-dashboard-border-light sm:dark:border-dashboard-border-dark
    sm:rounded-xl
    sm:p-8
    lg:p-10
    sm:shadow-xl

    space-y-6 sm:space-y-8 lg:space-y-10
  `,children:[jsxRuntimeExports.jsx("div",{className:`
  w-full mb-6 text-sm flex items-center gap-2
  text-dashboard-muted-light dark:text-dashboard-muted-dark
`,children:jsxRuntimeExports.jsx("button",{onClick:()=>Ut(Wr),className:`
            w-10 h-10
            flex items-center justify-center
            rounded-xl
            bg-dashboard-hover-light dark:bg-dashboard-hover-dark
            hover:opacity-90
            transition
          `,"aria-label":"Back",children:jsxRuntimeExports.jsx(ChevronLeft,{size:21})})}),jsxRuntimeExports.jsxs("div",{className:"w-full space-y-6 sm:space-y-8 lg:space-y-100",children:[jsxRuntimeExports.jsxs("div",{className:`
            bg-transparent
            border-none
            rounded-none
            shadow-none
            p-0

            sm:bg-dashboard-sidebar-light
            sm:dark:bg-dashboard-sidebar-dark
            sm:border sm:border-dashboard-border-light sm:dark:border-dashboard-border-dark
            sm:rounded-xl
            sm:p-8
            sm:shadow-lg
          `,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-4 mb-4 sm:mb-6",children:[jsxRuntimeExports.jsx("button",{title:Ht.author_has_profile?void 0:"Profile coming soon",onClick:()=>{if(($t==null?void 0:$t.id)!==Ht.user_id){if(!Ht.author_has_profile){y$4.info("This! author hasnt set up their profile yet");return}Ut(`/community/authors/${Ht.user_id}`)}},className:`group -mt-2.5 ${Ht.author_has_profile?"cursor-pointer":"cursor-default"}`,children:ps?jsxRuntimeExports.jsx("img",{src:headerLogo,className:"w-12 h-12 rounded-full object-cover",alt:"The Messy Attic"}):Ht.author_image?jsxRuntimeExports.jsx(Img,{src:Ht.author_image,loader:jsxRuntimeExports.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-700/40 animate-pulse"}),unloader:jsxRuntimeExports.jsx("div",{className:`w-12 h-12 rounded-full border flex items-center justify-center text-xl font-bold bg-dashboard-bg-light dark:bg-dashboard-bg-dark
                      border-dashboard-border-light dark:border-dashboard-border-dark
                      text-dashboard-muted-light dark:text-dashboard-muted-dark`,children:gs}),decode:!0,alt:"User avatar",className:"w-12 h-12 rounded-full object-cover  shadow-xl transition-opacity duration-300"}):jsxRuntimeExports.jsx("div",{className:"w-12 h-12 rounded-full bg-green/90 border border-green flex items-center justify-center text-xl font-bold text-green",children:gs})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-[1px]",children:[jsxRuntimeExports.jsx("p",{className:"text-dashboard-text-light dark:text-dashboard-text-dark text-lg font-semibold",children:Ht.author}),(ps||hs)&&jsxRuntimeExports.jsx("span",{className:`
                        flex items-center
                        text-dashboard-muted-light dark:text-dashboard-muted-dark
                        text-[10px]
                        px-0.5 py-0.5
                        rounded-full
                      `,children:jsxRuntimeExports.jsx(ShieldCheck,{size:15,className:"text-dashboard-muted-light dark:text-dashboard-muted-dark"})})]}),!ps&&($t==null?void 0:$t.id)!==Ht.user_id&&jsxRuntimeExports.jsx("button",{onClick:Us,disabled:Xr,className:`
                      text-xs
                      px-2
                      py-1
                      min-w-[88px]
                      rounded-md
                      border
                      transition
                      flex
                      items-center
                      justify-center
                      gap-1

                      ${Hr?"bg-green/10 text-green border-green/30":"bg-dashboard-sidebar-light dark:bg-dashboard-sidebar-dark text-dashboard-text-light dark:text-dashboard-text-dark"}

                      ${Xr?"opacity-70 cursor-not-allowed":"hover:bg-dashboard-hover-light dark:hover:bg-dashboard-hover-dark"}
                    `,children:Xr?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(ButtonSpinner,{}),jsxRuntimeExports.jsx("span",{children:Hr?"Updating":"Subscribing"})]}):jsxRuntimeExports.jsx("span",{children:Hr?"Subscribed":"Subscribe"})})]}),jsxRuntimeExports.jsxs("p",{className:"text-dashboard-muted-light dark:text-dashboard-muted-dark text-sm mt-1 flex items-center flex-wrap gap-1",children:[jsxRuntimeExports.jsx("span",{children:formatPostDate(Ht.created_at)}),jsxRuntimeExports.jsx("span",{className:"mx-1",children:""}),jsxRuntimeExports.jsx("span",{className:"opacity-80",children:js(Ht.created_at)}),jsxRuntimeExports.jsx("span",{className:"mx-1",children:""}),jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1 opacity-80",children:[jsxRuntimeExports.jsx(Bookmark,{size:12,className:"text-dashboard-muted-light dark:text-dashboard-muted-dark stroke-[2]"}),Ht.save_count]})]}),jsxRuntimeExports.jsx("div",{className:`
                  sm:hidden
                  mt-2
                  w-full
                  flex items-center
                  justify-between
                  text-dashboard-muted-light
                  dark:text-dashboard-muted-dark
                `,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[jsxRuntimeExports.jsx(Eye,{size:18,className:"opacity-70"}),jsxRuntimeExports.jsx("span",{children:Ht.views??0})]}),jsxRuntimeExports.jsxs("button",{onClick:Ws,className:`
                      flex items-center gap-2
                      text-sm
                      active:scale-95
                      transition
                    `,children:[jsxRuntimeExports.jsx(Heart,{size:18,className:Ht.has_liked?"text-red-500 fill-red-500":"opacity-80"}),jsxRuntimeExports.jsx("span",{children:Ht.like_count??0})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>{var as;return(as=document.getElementById("comments"))==null?void 0:as.scrollIntoView({behavior:"smooth"})},className:`
                      flex items-center gap-2
                      text-sm
                      active:scale-95
                      transition
                    `,children:[ss?jsxRuntimeExports.jsx(MessageSquareLock,{size:15,className:"opacity-80"}):jsxRuntimeExports.jsx(MessageSquare,{size:15,className:"opacity-80"}),jsxRuntimeExports.jsx("span",{children:Ht.comment_count??0})]}),jsxRuntimeExports.jsx("button",{onClick:ws,className:`
                      flex items-center gap-2
                      text-sm
                      active:scale-95
                      transition
                    `,children:ur?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(Check$1,{size:18,className:"text-green"})}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(Share2,{size:18,className:"opacity-80"})})}),$t&&$t.id!==Ht.user_id&&(Pr?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm text-green",children:[jsxRuntimeExports.jsx(Check$1,{size:18}),jsxRuntimeExports.jsx("span",{children:"Sent"})]}):jsxRuntimeExports.jsxs("button",{onClick:Ts,className:`
                          flex items-center gap-2
                          text-sm
                          active:scale-95
                          transition
                        `,children:[jsxRuntimeExports.jsx(DollarSign,{size:18,className:"opacity-80"}),jsxRuntimeExports.jsx("span",{children:"Tip"})]}))]})}),jsxRuntimeExports.jsxs("div",{className:"hidden sm:flex items-center gap-6 mt-2 text-xs text-dashboard-muted-light dark:text-dashboard-muted-dark",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-[3px]",children:[jsxRuntimeExports.jsx(Eye,{size:16}),jsxRuntimeExports.jsx("span",{children:Ht.views??0})]}),jsxRuntimeExports.jsxs("button",{onClick:Ws,className:`
                    flex items-center gap-[3px]
                    transition
                    ${Ht.has_liked?"text-red-500":"opacity-70 hover:opacity-100"}
                  `,children:[jsxRuntimeExports.jsx(Heart,{size:16,fill:Ht.has_liked?"currentColor":"transparent"}),jsxRuntimeExports.jsx("span",{children:Ht.like_count??0})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-[3px]",children:[ss?jsxRuntimeExports.jsx(MessageSquareLock,{size:15,className:"opacity-80"}):jsxRuntimeExports.jsx(MessageSquare,{size:15,className:"opacity-80"}),jsxRuntimeExports.jsx("span",{children:Ht.comment_count??0})]}),jsxRuntimeExports.jsx("button",{onClick:ws,className:`
                    relative
                    flex items-center gap-1
                     hover:text-sky-400/80
                    transition
                  `,children:ur?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(Check$1,{size:16,className:"text-green"})}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(Share2,{size:16})})}),$t&&$t.id!==Ht.user_id&&(Pr?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 text-green text-xs",children:[jsxRuntimeExports.jsx(Check$1,{size:14}),jsxRuntimeExports.jsx("span",{children:"Tip sent!"})]}):jsxRuntimeExports.jsxs("button",{onClick:Ts,className:`
                        flex items-center gap-1
                        text-dashboard-muted-light
                        dark:text-dashboard-muted-dark
                        hover:text-green
                        transition
                      `,children:[jsxRuntimeExports.jsx(DollarSign,{size:16}),jsxRuntimeExports.jsx("span",{children:"Tip"})]}))]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between gap-4",children:[!et&&jsxRuntimeExports.jsx("h2",{className:`
                not-prose
                text-3xl sm:text-3xl
                font-bold
                tracking-tight
                leading-tight
                text-dashboard-text-light
                dark:text-dashboard-text-dark
              `,children:Ht.title}),!et&&$t&&jsxRuntimeExports.jsx("button",{onClick:Ks,className:`
                  mt-1
                  p-2
                  rounded-lg
                  text-dashboard-muted-light
                  dark:text-dashboard-muted-dark
                  hover:bg-dashboard-hover-light
                  dark:hover:bg-dashboard-hover-dark
                  active:scale-95
                  transition
                `,title:Ht.is_bookmarked?"Saved":"Save for later",children:fs?jsxRuntimeExports.jsx(Check$1,{size:18,className:"text-green"}):jsxRuntimeExports.jsx(Bookmark,{size:18,className:Ht.is_bookmarked?"text-green stroke-[2.2]":"opacity-80"})})]}),!et&&Ht.subtitle&&jsxRuntimeExports.jsx("p",{className:`
                text-base sm:text-lg
                font-normal
                leading-relaxed
                max-w-2xl
                text-dashboard-muted-light
                dark:text-dashboard-muted-dark
              `,children:Ht.subtitle}),Ht.image_url&&jsxRuntimeExports.jsx("div",{className:"mb-6",children:jsxRuntimeExports.jsx("img",{src:Ht.image_url,alt:"Post",className:`
                w-full
                max-h-[420px]
                object-cover
                rounded-xl
                mt-12
                border border-dashboard-border-light
                dark:border-dashboard-border-dark
              `})}),jsxRuntimeExports.jsx("div",{className:et?$s:ks,children:et?jsxRuntimeExports.jsx("p",{children:Ht.body}):jsxRuntimeExports.jsx("div",{dangerouslySetInnerHTML:{__html:Ht.body}})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:`text-xl font-semibold mb-5
            text-dashboard-text-light dark:text-dashboard-text-dark`,children:"Comments"}),ss?jsxRuntimeExports.jsxs("div",{className:"mb-10 p-4 rounded-lg border border-dashboard-border-light dark:border-dashboard-border-dark text-sm text-dashboard-muted-light dark:text-dashboard-muted-dark flex items-center gap-2",children:[jsxRuntimeExports.jsx(MessageSquareLock,{size:16}),jsxRuntimeExports.jsx("span",{children:xo?"Comments are for paid subscribers only.":"Comments are private."}),xo&&($t==null?void 0:$t.id)!==Ht.user_id&&jsxRuntimeExports.jsx("button",{onClick:()=>Ut(`/community/subscribe/${Ht.user_id}/choose`,{state:{from:Cs}}),className:`
                    text-green
                    text-sm
                    font-medium
                    w-fit
                    hover:underline
                  `,children:"Become a paid subscriber "})]}):Yt.length===0?jsxRuntimeExports.jsx("p",{className:"text-dashboard-muted-light dark:text-dashboard-muted-dark mb-6",children:"No comments yet."}):null,!ss&&jsxRuntimeExports.jsxs("div",{className:"space-y-4 mb-10",children:[Yt.map(as=>{var Nn;const vs=((Nn=as.author)==null?void 0:Nn.charAt(0).toUpperCase())??"U",Rs=as.author_role==="admin",Os=420,Is=ls[as.id]!==!1,Ys=as.body.length>Os,tn=!Is&&Ys?as.body.slice(0,Os).trim()+"":as.body;return jsxRuntimeExports.jsx("div",{className:`
                    /* mobile */
                    bg-transparent
                    border-b border-dashboard-border-light/50 dark:border-dashboard-border-dark/50
                    rounded-none
                    shadow-none
                    p-3

                    /* desktop */
                    sm:bg-dashboard-sidebar-light
                    sm:dark:bg-dashboard-sidebar-dark
                    sm:border sm:border-dashboard-border-light sm:dark:border-dashboard-border-dark
                    sm:rounded-lg
                    sm:p-5
                    lg:p-6
                    sm:shadow-inner
                  `,children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-4",children:[jsxRuntimeExports.jsx("button",{title:as.author_has_profile?void 0:"Profile coming soon",onClick:()=>{if(($t==null?void 0:$t.id)!==as.user_id){if(!as.author_has_profile){y$4.info("This author hasnt set up their profile yet");return}Ut(`/community/authors/${as.user_id}`)}},className:`flex-shrink-0 ${as.author_has_profile?"cursor-pointer":"cursor-default"}`,children:as.author_image?jsxRuntimeExports.jsx(Img,{src:as.author_image,loader:jsxRuntimeExports.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-700/40 animate-pulse"}),unloader:jsxRuntimeExports.jsx("div",{className:`
                                w-10 h-10 rounded-full
                                flex items-center justify-center
                                text-sm font-semibold
                                bg-dashboard-bg-light dark:bg-dashboard-bg-dark
                                border border-dashboard-border-light dark:border-dashboard-border-dark
                                text-dashboard-muted-light dark:text-dashboard-muted-dark
                              `,children:vs}),decode:!0,alt:"Comment avatar",className:"w-10 h-10 rounded-full object-cover border border-gray-700 transition-opacity duration-300"}):jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-800 border border-gray-700 flex items-center justify-center text-sm font-semibold text-gray-300",children:vs})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"text-xs text-dashboard-muted-light dark:text-dashboard-muted-dark mt-2 flex items-center gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-0",children:[jsxRuntimeExports.jsx("span",{className:`
                              font-medium
                              text-dashboard-muted-light
                              dark:text-dashboard-muted-dark
                            `,children:as.author}),Rs&&jsxRuntimeExports.jsx("span",{className:`
                                flex items-center gap-1
                                text-dashboard-muted-light dark:text-dashboard-muted-dark
                                text-xs
                                px-1
                                rounded-full
                              `,children:jsxRuntimeExports.jsx(ShieldCheck,{className:"text-dashboard-muted-light dark:text-green",size:12})})]}),jsxRuntimeExports.jsx("span",{children:js(as.created_at)})]}),mr!==as.id&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:`
                              prose prose-sm max-w-none
                              my-1
                              text-dashboard-text-light dark:text-dashboard-text-dark
                              whitespace-pre-wrap
                              dark:prose-invert
                              dark:prose-a:text-sky-400
                              dark:prose-a:decoration-sky-400
                            `,children:renderTextWithLinks(tn)}),!Is&&Ys&&jsxRuntimeExports.jsx("button",{onClick:()=>ds(Vn=>({...Vn,[as.id]:!0})),className:"text-xs text-sky-400 mt-1 hover:underline",children:"See more"}),Is&&Ys&&jsxRuntimeExports.jsx("button",{onClick:()=>ds(Vn=>({...Vn,[as.id]:!1})),className:"text-xs text-dashboard-muted-light dark:text-dashboard-muted-dark mt-1 hover:underline",children:"See less"})]}),mr===as.id&&jsxRuntimeExports.jsxs("div",{className:"mt-3",children:[jsxRuntimeExports.jsx("textarea",{value:kr,onChange:Vn=>br(Vn.target.value),className:`
                              w-full
                              bg-dashboard-bg-light dark:bg-dashboard-bg-dark
                              border border-dashboard-border-light dark:border-dashboard-border-dark
                              p-2 rounded
                              text-dashboard-text-light dark:text-dashboard-text-dark
                              text-sm
                            `,rows:3}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3 mt-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>_s(as.id),className:"px-3 py-1 bg-blue text-white text-xs rounded hover:bg-blue/90",children:"Save"}),jsxRuntimeExports.jsx("button",{onClick:()=>{vr(null),br("")},className:`
                                px-3 py-1
                                bg-dashboard-sidebar-light dark:bg-dashboard-sidebar-dark
                                text-dashboard-muted-light dark:text-dashboard-muted-dark
                                border border-dashboard-border-light dark:border-dashboard-border-dark
                                text-xs rounded
                                hover:opacity-80
`,children:"Cancel"})]})]}),mr!==as.id&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mt-1.5",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>Ln(as),className:`text-xs ${as.user_liked?"text-red-600":"text-dashboard-muted-light dark:text-dashboard-muted-dark"} hover:opacity-80`,children:[jsxRuntimeExports.jsx(Heart,{size:12,fill:as.user_liked?"currentColor":"transparent",className:"inline-block mr-1"}),as.like_count]}),!ss&&jsxRuntimeExports.jsx("button",{onClick:()=>Or(as.id),className:"text-xs text-dashboard-text-light dark:text-dashboard-text-dark hover:opacity-80",children:"Reply"}),as.reply_count>0&&jsxRuntimeExports.jsx("button",{onClick:()=>Js(as.id),className:"text-xs text-dashboard-text-light dark:text-dashboard-text-dark hover:opacity-80",children:or[as.id]?"Hide replies":`View replies (${as.reply_count})`}),!or[as.id]&&$t&&as.user_id===$t.id&&jsxRuntimeExports.jsx("button",{onClick:()=>{vr(as.id),br(as.body)},className:"text-xs text-dashboard-text-light dark:text-dashboard-text-dark hover:opacity-80",children:"Edit"}),!or[as.id]&&$t&&(as.user_id===$t.id||Ht.user_id===$t.id)&&jsxRuntimeExports.jsx("button",{onClick:()=>Fs(as.id),className:"text-xs text-dashboard-text-light dark:text-dashboard-text-dark hover:opacity-80",children:"Delete"})]}),_r===as.id&&jsxRuntimeExports.jsx("div",{className:"mt-3 ml-6",children:jsxRuntimeExports.jsx(ReplyBox,{parentComment:as,onReply:async Vn=>{dr(go=>({...go,[as.id]:[...go[as.id]||[],Vn]})),Jt(go=>go.map(Zn=>Zn.id===as.id?{...Zn,reply_count:(Zn.reply_count||0)+1}:Zn)),lr(go=>({...go,[as.id]:!0})),setTimeout(()=>Or(null),100)},onCancel:()=>Or(null)})}),or[as.id]&&(cr[as.id]||[]).map(Vn=>jsxRuntimeExports.jsx(CommentThread,{postOwnerId:Ht.user_id,comment:Vn,depth:1,loadReplies:zs,replies:cr,setReplies:dr,replyPages:Rr,timeAgo:js,toggleLike:Ln,activeReplyBox:_r,setActiveReplyBox:Or,editCommentId:mr,editBody:kr,setEditBody:br,setEditCommentId:vr,handleDelete:Fs,onReplySubmit:_s,openReplies:or,toggleReplyVisibility:Js,expandedComments:ls,setExpandedComments:ds},Vn.id))]})]})},as.id)}),jsxRuntimeExports.jsx("div",{ref:qs,className:"h-10"})]}),!ss&&jsxRuntimeExports.jsx(CreateCommentBox,{targetType:dt,targetId:Ht.id,onComment:as=>{Jt(vs=>[as,...vs]),Kt(vs=>({...vs,comment_count:(vs.comment_count||0)+1}))}})]})]})]}),jsxRuntimeExports.jsx(TipModal,{open:Yr,loading:ns,onTip:Ns,onClose:()=>es(!1)})]})}const timeAgo=dt=>{const et=new Date(dt),$t=Math.floor((Date.now()-et)/1e3);if($t<60)return"Just now";const kt=Math.floor($t/60);if(kt<60)return`${kt}m ago`;const Tt=Math.floor(kt/60);return Tt<24?`${Tt}h ago`:`${Math.floor(Tt/24)}d ago`},formatDate=dt=>new Date(dt).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"});function MobilePostCard({post:dt,onOpen:et,onLike:$t,onShare:kt,isCommentsLocked:Tt,copiedPostId:Dt}){return jsxRuntimeExports.jsxs("div",{onClick:et,className:`
        rounded-2xl
        bg-dashboard-sidebar-light
        dark:bg-dashboard-sidebar-dark
        border border-dashboard-border-light
        dark:border-dashboard-border-dark
        shadow-sm
        overflow-hidden
      `,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3 px-4 pt-4",children:[dt.author_image?jsxRuntimeExports.jsx("img",{src:dt.author_image,alt:"",className:`
              w-8 h-8 rounded-full object-cover
              border border-dashboard-border-light
              dark:border-dashboard-border-dark
            `}):jsxRuntimeExports.jsx("div",{className:"w-8 h-8 rounded-full bg-dashboard-hover-light dark:bg-dashboard-hover-dark"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-dashboard-text-light dark:text-dashboard-text-dark",children:dt.author}),jsxRuntimeExports.jsxs("div",{className:"mt-1 text-xs text-dashboard-muted-light dark:text-dashboard-muted-dark flex items-center gap-1",children:[jsxRuntimeExports.jsx("span",{children:formatDate(dt.created_at)}),jsxRuntimeExports.jsx("span",{children:""}),jsxRuntimeExports.jsx("span",{children:timeAgo(dt.created_at)}),dt.updated_at&&new Date(dt.updated_at)>new Date(dt.created_at)&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{children:""}),jsxRuntimeExports.jsx("span",{className:"italic opacity-70",children:"edited"})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4 mx-4 rounded-xl overflow-hidden",children:[dt.image_url?jsxRuntimeExports.jsx("img",{src:dt.image_url,alt:"",className:"w-full h-60 object-cover",loading:"lazy"}):jsxRuntimeExports.jsx("div",{className:`
            w-full h-60
            bg-dashboard-hover-light
            dark:bg-dashboard-hover-dark
            flex items-center justify-center
          `,children:jsxRuntimeExports.jsx("span",{className:"text-sm text-dashboard-muted-light dark:text-dashboard-muted-dark",children:"No image uploaded"})}),jsxRuntimeExports.jsxs("div",{className:"relative bg-dashboard-sidebar-light dark:bg-dashboard-hover-dark",children:[jsxRuntimeExports.jsx("div",{className:`
              absolute inset-x-0 -top-28 h-28
              bg-gradient-to-t
              from-dashboard-sidebar-light
              dark:from-dashboard-hover-dark
              to-transparent
              pointer-events-none
            `}),jsxRuntimeExports.jsxs("div",{className:"relative px-4 py-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-dashboard-text-light dark:text-dashboard-text-dark line-clamp-2",children:dt.title}),dt.subtitle&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-dashboard-muted-light dark:text-dashboard-muted-dark line-clamp-1",children:dt.subtitle}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-sm text-dashboard-muted-light dark:text-dashboard-muted-dark line-clamp-2",children:dt.excerpt||dt.body_preview||""}),jsxRuntimeExports.jsx("button",{className:`
              mt-4
              w-full
              rounded-lg
              bg-dashboard-border-light
              dark:bg-white/15
              text-dashboard-text-light
              dark:text-dashboard-text-dark
              font-semibold
              py-2.5
              text-sm
              hover:bg-dashboard-hover-light
              dark:hover:bg-white/25
              transition
            `,children:"Read"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:`
        mt-2
        px-6 sm:px-0
        flex items-center gap-6
        py-3
        text-xs
        text-dashboard-muted-light
        dark:text-dashboard-muted-dark
      `,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Eye,{size:14,className:"opacity-70"}),jsxRuntimeExports.jsx("span",{children:dt.views??0})]}),jsxRuntimeExports.jsxs("button",{onClick:$t,disabled:!$t,className:"flex items-center gap-1 hover:opacity-80 transition disabled:opacity-60 disabled:cursor-default",children:[jsxRuntimeExports.jsx(Heart,{size:14,className:dt.has_liked?"text-red-500 fill-red-500":"opacity-70"}),jsxRuntimeExports.jsx("span",{children:dt.like_count??0})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 opacity-70",children:[Tt?jsxRuntimeExports.jsx(MessageSquareLock,{size:14}):jsxRuntimeExports.jsx(MessageSquare,{size:14}),jsxRuntimeExports.jsx("span",{children:dt.comment_count??0})]}),jsxRuntimeExports.jsx("button",{onClick:kt,disabled:!kt,className:"flex items-center gap-1 hover:opacity-80 transition disabled:opacity-60 disabled:cursor-default",children:Dt===dt.id?jsxRuntimeExports.jsx(Check$1,{size:14,className:"text-green-500"}):jsxRuntimeExports.jsx(Share2,{size:14,className:"opacity-70"})})]})]})}function MobileCreateFAB({open:dt,setOpen:et,onCreatePost:$t,onCreateFragment:kt,containerRef:Tt,className:Dt=""}){return jsxRuntimeExports.jsxs("div",{ref:Tt,className:`
    md:hidden
    fixed bottom-6 right-6 z-50
    transition-all duration-200 ease-out
    ${Dt}
  `,children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>et(Ft=>!Ft),className:`
          w-full
          px-3 py-3
          rounded-xl
          flex items-center justify-center
          bg-green
          text-black
          shadow-xl
          hover:opacity-90
          transition
        `,"aria-label":"Create",children:jsxRuntimeExports.jsx(Plus,{size:26,className:`transition-transform ${dt?"rotate-45":""}`})}),dt&&jsxRuntimeExports.jsxs("div",{className:`
            absolute bottom-full right-0 mb-3
            w-44
            rounded-xl
            border border-dashboard-border-light
            dark:border-dashboard-border-dark
            bg-dashboard-sidebar-light
            dark:bg-dashboard-sidebar-dark
            shadow-2xl
            overflow-hidden
          `,children:[jsxRuntimeExports.jsx("button",{onClick:()=>{et(!1),$t()},className:`
              w-full px-4 py-3 text-left text-sm
              hover:bg-dashboard-hover-light
              dark:hover:bg-dashboard-hover-dark
            `,children:"Post"}),jsxRuntimeExports.jsx("button",{onClick:()=>{et(!1),kt()},className:`
              w-full px-4 py-3 text-left text-sm
              hover:bg-dashboard-hover-light
              dark:hover:bg-dashboard-hover-dark
            `,children:"Fragment"})]})]})}function CommunityTopic(){const{topicId:dt}=useParams(),et=useNavigate(),$t=useLocation(),[kt,Tt]=reactExports.useState(null),[Dt,Ft]=reactExports.useState([]),[Ut,Ht]=reactExports.useState(!1),Kt=reactExports.useRef(null),[Yt,Jt]=reactExports.useState(!0),Zt=reactExports.useRef(0);function er(sr){return sr.comments_locked===1||sr.comments_visibility==="paid"&&sr.has_paid_subscription!==1||sr.comments_visibility==="private"&&sr.is_subscribed!==1}const rr=async()=>{try{const sr=await axiosInstance.get(`/community/topics/${dt}`);Tt(sr.data.topic),console.log("topic",kt);const ir=await axiosInstance.get(`/community/topics/${dt}/posts`);Ft(ir.data.posts)}catch(sr){console.error("Failed to load topic:",sr)}};return reactExports.useEffect(()=>{rr()},[dt]),reactExports.useEffect(()=>{Ht(!1)},[dt]),reactExports.useEffect(()=>{function sr(){const ir=window.scrollY;ir>Zt.current&&ir>80&&Jt(!1),ir<Zt.current&&Jt(!0),Zt.current=ir}return window.addEventListener("scroll",sr,{passive:!0}),()=>{window.removeEventListener("scroll",sr)}},[]),reactExports.useEffect(()=>(document.body.style.overflow="auto",document.body.style.position="",document.body.style.width="",()=>{document.body.style.overflow="auto",document.body.style.position="",document.body.style.width=""}),[]),kt?jsxRuntimeExports.jsxs("div",{className:"sm:pt-16 px-0 sm:px-6 lg:px-6 max-w-4xl mx-auto",children:[jsxRuntimeExports.jsx("div",{className:`flex items-center gap-2 text-sm
      text-dashboard-muted-light dark:text-dashboard-muted-dark mb-4`,children:jsxRuntimeExports.jsx("button",{onClick:()=>et("/community"),className:`
            w-10 h-10
            flex items-center justify-center
            rounded-xl
            bg-dashboard-hover-light dark:bg-dashboard-hover-dark
            hover:opacity-90
            transition
          `,children:jsxRuntimeExports.jsx(ChevronLeft,{size:21})})}),jsxRuntimeExports.jsxs("div",{className:`
        flex items-start justify-between mb-6
        px-4             
        sm:px-0           
      `,children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:`
        text-2xl font-semibold
        text-dashboard-text-light dark:text-dashboard-text-dark
      `,children:kt.name}),kt.description&&jsxRuntimeExports.jsx("p",{className:`
          mt-1
          text-sm
          text-dashboard-muted-light
          dark:text-dashboard-muted-dark
          max-w-2xl
        `,children:kt.description})]}),Dt.length>0&&jsxRuntimeExports.jsxs("button",{onClick:()=>et("/community/create-post",{state:{topicId:kt.id,topicName:kt.name}}),className:`
      hidden md:flex
      items-center gap-2
      px-3 py-1.5
      rounded-md text-sm
      border border-dashboard-border-light dark:border-dashboard-border-dark
      text-dashboard-text-light dark:text-dashboard-text-dark
      hover:bg-dashboard-hover-light dark:hover:bg-dashboard-hover-dark
      transition
    `,children:[jsxRuntimeExports.jsx(Plus,{size:18}),"New Post"]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[Dt.length===0&&jsxRuntimeExports.jsxs("div",{className:`
        mt-16
        px-6
        py-12
        rounded-xl
        border border-dashboard-border-light
        dark:border-dashboard-border-dark
        bg-dashboard-sidebar-light
        dark:bg-dashboard-sidebar-dark
        text-center
      `,children:[jsxRuntimeExports.jsxs("h2",{className:`
          text-lg font-semibold
          text-dashboard-text-light
          dark:text-dashboard-text-dark
          mb-2
        `,children:["This is the ",kt.name," room"]}),jsxRuntimeExports.jsxs("p",{className:`
          text-sm
          text-dashboard-muted-light
          dark:text-dashboard-muted-dark
          max-w-md
          mx-auto
          leading-relaxed
        `,children:["No one has started a conversation here yet. This space is for ideas, questions, and writing related to ",kt.name,". Be the first to set the tone."]}),jsxRuntimeExports.jsx("button",{onClick:()=>et("/community/create-post",{state:{topicId:kt.id,topicName:kt.name}}),className:`
          mt-6
          px-5 py-2.5
          rounded-lg
          bg-green text-black
          font-medium
          hover:opacity-90
          transition
        `,children:"Write the first post"})]}),Dt.map(sr=>{const ir=async()=>{try{await axiosInstance.post(`/community/${dt}/mark-viewed`)}catch{}et(`/community/post/${sr.id}`,{state:{from:$t.pathname}})};return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"md:hidden",children:jsxRuntimeExports.jsx(MobilePostCard,{post:sr,onOpen:ir,onLike:()=>{},onShare:()=>{},isCommentsLocked:er(sr),copiedPostId:null})}),jsxRuntimeExports.jsx("div",{onClick:ir,className:`
                hidden md:block
                px-4 py-4 sm:px-6
                rounded-lg
                border border-dashboard-border-light
                dark:border-dashboard-border-dark
                bg-dashboard-sidebar-light
                dark:bg-dashboard-sidebar-dark
                hover:bg-dashboard-hover-light
                dark:hover:bg-dashboard-hover-dark
                transition
                cursor-pointer
              `,children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-[1fr_auto] gap-6 items-start",children:[jsxRuntimeExports.jsx("div",{className:"min-w-0",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-[32px_1fr] gap-3",children:[sr.author_image?jsxRuntimeExports.jsx("img",{src:sr.author_image,alt:"",className:`
                          w-8 h-8 rounded-full object-cover
                          border border-dashboard-border-light
                          dark:border-dashboard-border-dark
                        `}):jsxRuntimeExports.jsx("div",{className:"w-8 h-8 rounded-full bg-dashboard-hover-light dark:bg-dashboard-hover-dark"}),jsxRuntimeExports.jsxs("div",{className:"min-w-0",children:[jsxRuntimeExports.jsxs("div",{className:"mb-2",children:[jsxRuntimeExports.jsx("span",{className:"text-xs font-medium text-dashboard-muted-light dark:text-dashboard-muted-dark",children:sr.author}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 text-[11px] text-dashboard-muted-light dark:text-dashboard-muted-dark",children:[jsxRuntimeExports.jsx("span",{children:timeAgo(sr.created_at)}),jsxRuntimeExports.jsx("span",{children:""}),jsxRuntimeExports.jsx("span",{children:formatDate(sr.created_at)})]})]}),jsxRuntimeExports.jsx("h3",{className:`
                          text-base sm:text-lg font-semibold
                          line-clamp-2
                          text-dashboard-text-light
                          dark:text-dashboard-text-dark
                          mb-1
                        `,children:sr.title}),sr.subtitle&&jsxRuntimeExports.jsx("p",{className:`
                            text-sm sm:text-base
                            line-clamp-2
                            text-dashboard-muted-light
                            dark:text-dashboard-muted-dark
                            mb-2
                          `,children:sr.subtitle}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-6 text-xs text-dashboard-muted-light dark:text-dashboard-muted-dark",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-[3px]",children:[jsxRuntimeExports.jsx(Eye,{size:14,className:"opacity-70"}),jsxRuntimeExports.jsx("span",{children:sr.views??0})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-[3px]",children:[jsxRuntimeExports.jsx(Heart,{size:14,className:"opacity-70"}),jsxRuntimeExports.jsx("span",{children:sr.like_count??0})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-[3px]",children:[er(sr)?jsxRuntimeExports.jsx(MessageSquareLock,{size:14,className:"opacity-70"}):jsxRuntimeExports.jsx(MessageSquare,{size:14,className:"opacity-70"}),jsxRuntimeExports.jsx("span",{children:sr.comment_count??0})]})]})]})]})}),jsxRuntimeExports.jsx("div",{className:`
                  w-14 h-14 sm:w-16 sm:h-16 lg:w-20 lg:h-20
                  rounded-lg
                  flex-shrink-0
                  border border-dashboard-border-light
                  dark:border-dashboard-border-dark
                  overflow-hidden
                  bg-dashboard-hover-light
                  dark:bg-dashboard-hover-dark
                `,children:sr.image_url?jsxRuntimeExports.jsx("img",{src:sr.image_url,alt:"",className:"w-full h-full object-cover"}):jsxRuntimeExports.jsx("div",{className:"w-full h-full flex items-center justify-center text-xs opacity-60",children:"No image"})})]})})]},sr.id)})]}),jsxRuntimeExports.jsx(MobileCreateFAB,{className:`
    transition-all duration-200 ease-out
    ${Yt?"opacity-100 translate-y-0":"opacity-0 translate-y-6 pointer-events-none"}
  `,open:Ut,setOpen:Ht,containerRef:Kt,onCreatePost:()=>et("/community/create-post",{state:{topicId:kt.id,topicName:kt.name}}),onCreateFragment:()=>et("/community/fragments/create",{state:{topicId:kt.id,topicName:kt.name}})})]}):null}function FragmentItem({fragment:dt,onOpen:et,onToggleLike:$t}){const{body:kt,created_at:Tt,updated_at:Dt,views:Ft,like_count:Ut,has_liked:Ht,comment_count:Kt,reshare_count:Yt,author:Jt,author_image:Zt,author_is_verified:er,reshared_id:rr,reshared_body:sr,reshared_author:ir}=dt,nr=er===1;return jsxRuntimeExports.jsx("div",{onClick:et,className:`
    px-4 py-4
    sm:px-6
    rounded-lg
    border
    border-dashboard-border-light
    dark:border-dashboard-border-dark
    bg-dashboard-sidebar-light
    dark:bg-dashboard-sidebar-dark
    hover:bg-dashboard-hover-light
    dark:hover:bg-dashboard-hover-dark
    transition
    cursor-pointer
  `,children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-[40px_1fr] gap-3",children:[Zt?jsxRuntimeExports.jsx("img",{src:Zt,alt:"",className:"w-8 h-8 rounded-full object-cover"}):jsxRuntimeExports.jsx("div",{className:"w-8 h-8 rounded-full bg-dashboard-hover-light dark:bg-dashboard-hover-dark"}),jsxRuntimeExports.jsxs("div",{className:"min-w-0",children:[jsxRuntimeExports.jsxs("div",{className:"mb-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-[2px]",children:[jsxRuntimeExports.jsx("span",{className:"text-xs font-medium text-dashboard-muted-light dark:text-dashboard-muted-dark",children:Jt}),nr&&jsxRuntimeExports.jsx(ShieldCheck,{size:12,className:"text-dashboard-muted-light dark:text-green"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 text-[11px] text-dashboard-muted-light dark:text-dashboard-muted-dark",children:[jsxRuntimeExports.jsx("span",{children:timeAgo(Tt)}),Dt&&new Date(Dt)>new Date(Tt)&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{children:""}),jsxRuntimeExports.jsx("span",{className:"italic opacity-70",children:"edited"})]})]})]}),jsxRuntimeExports.jsx("p",{className:"text-sm leading-relaxed text-dashboard-text-light dark:text-dashboard-text-dark whitespace-pre-wrap",children:kt}),rr&&jsxRuntimeExports.jsxs("div",{className:`
            mt-3 p-3
            rounded-lg
            border border-dashboard-border-light
            dark:border-dashboard-border-dark
            text-xs
            text-dashboard-muted-light
            dark:text-dashboard-muted-dark
          `,children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:ir}),jsxRuntimeExports.jsx("p",{className:"mt-1 whitespace-pre-wrap",children:sr})]}),jsxRuntimeExports.jsxs("div",{className:"mt-3 flex items-center gap-6 text-xs text-dashboard-muted-light dark:text-dashboard-muted-dark",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-[3px]",children:[jsxRuntimeExports.jsx(Eye,{size:14,className:"opacity-70"}),jsxRuntimeExports.jsx("span",{children:Ft??0})]}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:or=>{or.stopPropagation(),$t(dt.id,Ht)},className:"flex items-center gap-[3px] hover:opacity-80 transition",children:[jsxRuntimeExports.jsx(Heart,{size:14,className:Ht?"text-red-500 fill-red-500":"opacity-70"}),jsxRuntimeExports.jsx("span",{children:Ut})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-[3px]",children:[jsxRuntimeExports.jsx(MessageSquare,{size:14,className:"opacity-70"}),jsxRuntimeExports.jsx("span",{children:Kt})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-[3px]",children:[jsxRuntimeExports.jsx(Repeat,{size:14,className:"opacity-70"}),jsxRuntimeExports.jsx("span",{children:Yt})]})]})]})]})})}function CommunityHome(){var rs;const et=reactExports.useRef(null),[$t,kt]=reactExports.useState([]),Tt=useNavigate(),[Dt,Ft]=reactExports.useState(new Set),[Ut,Ht]=reactExports.useState([]),[Kt,Yt]=reactExports.useState(0),[Jt,Zt]=reactExports.useState(!0),[er,rr]=reactExports.useState(!1),[sr,ir]=reactExports.useState("all"),[nr,or]=reactExports.useState(!1),lr=reactExports.useRef(null),[cr,dr]=reactExports.useState(!0),ur=reactExports.useRef(0),[pr,mr]=reactExports.useState(!1),vr=reactExports.useRef(null),[kr,br]=reactExports.useState(null),[_r,Or]=reactExports.useState({hasActivity:!1,summary:{commentsOnYourPosts:0,repliesToYourComments:0,mentions:0}}),[Pr,Mr]=reactExports.useState(!1);async function Rr(Yr){try{await axiosInstance.post(`/community/posts/${Yr}/view`)}catch{}Tt(`/community/post/${Yr}`)}const Tr=reactExports.useCallback(async(Yr=!1)=>{if(!er&&!(!Yr&&!Jt))try{rr(!0),Yr&&(Yt(0),Zt(!0));const es=await axiosInstance.get("/community/feed",{params:{limit:20,offset:Yr?0:Kt}}),ns=es.data.items||[];Ht(ms=>Yr?ns:[...ms,...ns]),Yt(ms=>ms+ns.length),es.data.hasMore||Zt(!1)}catch(es){console.error("Failed to load feed:",es)}finally{rr(!1)}},[20,Kt,Jt,er]);function xr(Yr){return Yr.is_owner===1?!1:Yr.comments_locked===1||Yr.comments_visibility==="paid"||Yr.comments_visibility==="private"&&Yr.is_subscribed!==1}reactExports.useEffect(()=>{function Yr(){const es=window.scrollY;es>ur.current&&es>80&&dr(!1),es<ur.current&&dr(!0),ur.current=es}return window.addEventListener("scroll",Yr,{passive:!0}),()=>{window.removeEventListener("scroll",Yr)}},[]),reactExports.useEffect(()=>{(async()=>{var es;try{const ns=await axiosInstance.get("/community/recap");(es=ns.data)!=null&&es.hasActivity&&Or(ns.data)}catch(ns){console.error("Failed to fetch recap:",ns)}})()},[]),reactExports.useEffect(()=>{if(!et.current)return;const Yr=new IntersectionObserver(es=>{es[0].isIntersecting&&Jt&&!er&&Tr()},{root:null,rootMargin:"200px",threshold:0});return Yr.observe(et.current),()=>Yr.disconnect()},[Jt,er,Tr]);const wr=async()=>{Mr(!0);try{await axiosInstance.post("/community/mark-seen")}catch{}};reactExports.useEffect(()=>{Tr(!0)},[]),reactExports.useEffect(()=>{function Yr(es){vr.current&&!vr.current.contains(es.target)&&mr(!1)}return document.addEventListener("mousedown",Yr),()=>{document.removeEventListener("mousedown",Yr)}},[]),reactExports.useEffect(()=>{function Yr(es){lr.current&&!lr.current.contains(es.target)&&or(!1)}return nr&&document.addEventListener("click",Yr),()=>{document.removeEventListener("click",Yr)}},[nr]);const zr=reactExports.useMemo(()=>{const Yr=Ut.filter(es=>es.type==="post").map(es=>es.data);return sr==="all"?Yr:Yr.filter(es=>es.topic_id===sr)},[Ut,sr]),Hr=async(Yr,es)=>{Yr.stopPropagation();const ns=`${window.location.origin}/p/${es.slug}`;try{await navigator.clipboard.writeText(ns),br(es.id),setTimeout(()=>br(null),1500)}catch{y$4.error("Failed to copy link")}},Gr=async(Yr,es)=>{if(Yr.stopPropagation(),!!(es!=null&&es.id))try{es.has_liked?await axiosInstance.delete("/community/delete-like",{data:{targetType:"post",targetId:es.id}}):await axiosInstance.post("/community/likes",{targetType:"post",targetId:es.id}),Ht(ns=>ns.map(ms=>ms.type==="post"&&ms.data.id===es.id?{...ms,data:{...ms.data,has_liked:es.has_liked?0:1,like_count:Math.max((ms.data.like_count||0)+(es.has_liked?-1:1),0)}}:ms))}catch(ns){console.error("Failed to toggle post like:",ns),y$4.error("Failed to update like")}},Xr=async Yr=>{try{Yr.has_liked?await axiosInstance.delete("/community/delete-like",{data:{targetType:"fragment",targetId:Yr.id}}):await axiosInstance.post("/community/likes",{targetType:"fragment",targetId:Yr.id}),Ht(es=>es.map(ns=>ns.type==="fragment"&&ns.data.id===Yr.id?{...ns,data:{...ns.data,has_liked:Yr.has_liked?0:1,like_count:(ns.data.like_count||0)+(Yr.has_liked?-1:1)}}:ns))}catch{y$4.error("Failed to update fragment like")}};return reactExports.useEffect(()=>{(async()=>{try{const es=await axiosInstance.get("/community/views");Ft(new Set(es.data.viewedTopics))}catch(es){console.error("Failed to load viewed topics:",es)}})()},[]),reactExports.useEffect(()=>{(async()=>{try{const es=await axiosInstance.get("/community/topics");kt(es.data.topics||[])}catch(es){console.error("Failed to load topics:",es)}})()},[]),jsxRuntimeExports.jsxs("div",{className:`
    w-full min-h-screen
    px-0 py-0
    bg-dashboard-bg-light
    dark:bg-dashboard-bg-dark
  `,children:[jsxRuntimeExports.jsx("div",{className:"w-full flex justify-center",children:jsxRuntimeExports.jsxs("div",{className:`
          w-full max-w-5xl

          /* mobile */
          bg-transparent
          border-none
          rounded-none
          shadow-none
          p-0

          /* desktop */
          sm:bg-dashboard-sidebar-light
          sm:dark:bg-dashboard-sidebar-dark
          sm:border sm:border-dashboard-border-light sm:dark:border-dashboard-border-dark
          sm:rounded-xl
          sm:p-8
          lg:p-10
          sm:shadow-xl
          sm:backdrop-blur-sm
          flex flex-col
        `,children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center text-center",children:jsxRuntimeExports.jsx("img",{src:headerLogo,alt:"Messy Attic Logo",width:75,height:75,className:`
              block
              select-none
            `})}),jsxRuntimeExports.jsx("h1",{className:`
          text-3xl font-bold text-center normal-case
          text-dashboard-text-light
          dark:text-dashboard-text-dark mb-2
  `,children:"The Messy Attic"}),jsxRuntimeExports.jsxs("p",{className:`
            text-center text-sm sm:text-base
            max-w-xl mx-auto
            text-dashboard-muted-light
            dark:text-dashboard-muted-dark
            mb-8
          `,children:["where writers come together to share work, encourage one another,",jsxRuntimeExports.jsx("br",{}),"and grow through honest feedback and connection."]}),jsxRuntimeExports.jsxs("div",{ref:lr,className:"hidden md:flex justify-center mb-8 relative",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:Yr=>{Yr.stopPropagation(),or(es=>!es)},className:`
              w-full
              px-6 py-4
              rounded-xl

              sm:w-12 sm:h-12
              sm:px-0 sm:py-0
              sm:rounded-xl

              flex items-center justify-center
              font-semibold
              bg-green
              text-black
              hover:opacity-90
              transition
              shadow-sm
            `,"aria-label":"Create",children:jsxRuntimeExports.jsx(Plus,{size:22,className:`transition-transform ${nr?"rotate-45":""}`})}),nr&&jsxRuntimeExports.jsxs("div",{className:`
                absolute top-full mt-2
                w-40
                rounded-lg
                border border-dashboard-border-light
                dark:border-dashboard-border-dark
                bg-dashboard-sidebar-light
                dark:bg-dashboard-sidebar-dark
                shadow-xl
                overflow-hidden
                z-50
              `,children:[jsxRuntimeExports.jsx("button",{onClick:()=>{or(!1),Tt("/community/create-post")},className:`
                  w-full px-4 py-3 text-left text-sm
                  hover:bg-dashboard-hover-light
                  dark:hover:bg-dashboard-hover-dark
                `,children:"Post"}),jsxRuntimeExports.jsx("button",{onClick:()=>{or(!1),Tt("/community/fragments/create")},className:`
                  w-full px-4 py-3 text-left text-sm
                  hover:bg-dashboard-hover-light
                  dark:hover:bg-dashboard-hover-dark
                `,children:"Fragment"})]})]}),_r.hasActivity&&!Pr&&jsxRuntimeExports.jsx("div",{className:"mb-6",children:jsxRuntimeExports.jsxs("div",{className:`
                max-w-4xl mx-auto
                rounded-xl
                border border-dashboard-border-light dark:border-dashboard-border-dark
                bg-dashboard-sidebar-light dark:bg-dashboard-sidebar-dark
                p-5
                shadow-sm
                flex flex-col gap-3
              `,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-semibold text-dashboard-text-light dark:text-dashboard-text-dark",children:"Welcome back"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-dashboard-muted-light dark:text-dashboard-muted-dark mt-1",children:"Heres whats happened since your last visit."})]}),jsxRuntimeExports.jsx("button",{onClick:wr,className:`
                    text-xs
                    text-dashboard-muted-light
                    dark:text-dashboard-muted-dark
                    hover:opacity-80
                  `,children:"Dismiss"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 text-sm",children:[_r.summary.commentsOnYourPosts>0&&jsxRuntimeExports.jsxs("button",{onClick:wr,className:"block text-left hover:underline",children:[" ",_r.summary.commentsOnYourPosts," new comment",_r.summary.commentsOnYourPosts>1?"s":""," on your posts"]}),_r.summary.repliesToYourComments>0&&jsxRuntimeExports.jsxs("button",{onClick:wr,className:"block text-left hover:underline",children:[" ",_r.summary.repliesToYourComments," repl",_r.summary.repliesToYourComments>1?"ies":"y"," to your comments"]}),_r.summary.mentions>0&&jsxRuntimeExports.jsxs("button",{onClick:wr,className:"block text-left hover:underline",children:[" You were mentioned ",_r.summary.mentions," time",_r.summary.mentions>1?"s":""]})]})]})}),jsxRuntimeExports.jsxs("div",{ref:vr,className:"relative mb-6 flex-shrink-0 flex justify-center",children:[jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>mr(Yr=>!Yr),className:`
              w-full sm:w-64
              h-10
              px-4
              flex items-center justify-between
              rounded-lg
              border border-dashboard-border-light dark:border-dashboard-border-dark
              bg-dashboard-sidebar-light dark:bg-dashboard-sidebar-dark
              text-sm font-medium
              text-dashboard-text-light dark:text-dashboard-text-dark
              hover:bg-dashboard-hover-light dark:hover:bg-dashboard-hover-dark
              transition
            `,children:[jsxRuntimeExports.jsx("span",{children:sr==="all"?"All topics":((rs=$t.find(Yr=>Yr.id===sr))==null?void 0:rs.name)||"Select topic"}),jsxRuntimeExports.jsx("svg",{className:`w-4 h-4 transition-transform ${pr?"rotate-180":""}`,viewBox:"0 0 20 20",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.7a.75.75 0 111.06 1.06l-4.24 4.25a.75.75 0 01-1.06 0L5.21 8.29a.75.75 0 01.02-1.08z",clipRule:"evenodd"})})]}),pr&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>mr(!1)}),jsxRuntimeExports.jsxs("div",{className:`
                absolute z-50 mt-2 w-full sm:w-64
                rounded-lg
                border border-dashboard-border-light dark:border-dashboard-border-dark
                bg-dashboard-sidebar-light dark:bg-dashboard-sidebar-dark
                shadow-xl
                max-h-[400px] overflow-y-auto
              `,children:[jsxRuntimeExports.jsx("button",{onClick:()=>{ir("all"),mr(!1)},className:`
                  w-full px-4 py-2 text-left text-sm
                  hover:bg-dashboard-hover-light dark:hover:bg-dashboard-hover-dark
                `,children:"All topics"}),$t.map(Yr=>jsxRuntimeExports.jsx("button",{onClick:()=>{ir(Yr.id),Tt(`/community/topic/${Yr.id}`),mr(!1)},className:`
                    w-full px-4 py-2 text-left text-sm
                    hover:bg-dashboard-hover-light dark:hover:bg-dashboard-hover-dark
                  `,children:Yr.name},Yr.id))]})]})]}),jsxRuntimeExports.jsxs("div",{className:"w-full mt-4",children:[jsxRuntimeExports.jsx("div",{className:"max-w-4xl mx-auto space-y-2 px-0 sm:px-6",children:(sr==="all"?Ut:zr.map(Yr=>({type:"post",data:Yr}))).map(Yr=>{if(Yr.type==="post"){const es=Yr.data;return jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("div",{className:"md:hidden",children:jsxRuntimeExports.jsx(MobilePostCard,{post:es,onOpen:()=>Rr(es.id),onLike:ns=>Gr(ns,es),onShare:ns=>Hr(ns,es),isCommentsLocked:xr(es),copiedPostId:kr})}),jsxRuntimeExports.jsx("div",{className:`
    hidden md:block
    px-4 py-4 sm:px-6
    rounded-lg
    border border-dashboard-border-light
    dark:border-dashboard-border-dark
    bg-dashboard-sidebar-light
    dark:bg-dashboard-sidebar-dark
    hover:bg-dashboard-hover-light
    dark:hover:bg-dashboard-hover-dark
    transition
    cursor-pointer
  `,children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-[1fr_auto] gap-6 items-start",children:[jsxRuntimeExports.jsx("div",{onClick:()=>Rr(es.id),className:"min-w-0 cursor-pointer",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-[32px_1fr] gap-3",children:[es.author_image?jsxRuntimeExports.jsx("img",{src:es.author_image,alt:"",className:"w-8 h-8 rounded-full object-cover"}):jsxRuntimeExports.jsx("div",{className:"w-8 h-8 rounded-full bg-dashboard-hover-light dark:bg-dashboard-hover-dark"}),jsxRuntimeExports.jsxs("div",{className:"min-w-0",children:[jsxRuntimeExports.jsxs("div",{className:"mb-2",children:[jsxRuntimeExports.jsx("span",{className:"text-xs font-medium text-dashboard-muted-light dark:text-dashboard-muted-dark",children:es.author}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 text-[11px] text-dashboard-muted-light dark:text-dashboard-muted-dark",children:[jsxRuntimeExports.jsx("span",{children:timeAgo(es.created_at)}),jsxRuntimeExports.jsx("span",{children:""}),jsxRuntimeExports.jsx("span",{children:formatDate(es.created_at)}),jsxRuntimeExports.jsx("span",{children:""}),jsxRuntimeExports.jsx("span",{children:es.topic_name})]})]}),jsxRuntimeExports.jsx("h3",{className:`
              text-base sm:text-lg font-semibold
              text-dashboard-text-light dark:text-dashboard-text-dark
              line-clamp-2
              mb-1
            `,children:es.title}),es.subtitle&&jsxRuntimeExports.jsx("p",{className:`
                text-sm
                text-dashboard-muted-light
                dark:text-dashboard-muted-dark
                line-clamp-2
                mb-2
              `,children:es.subtitle}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-6 text-xs text-dashboard-muted-light dark:text-dashboard-muted-dark",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-[3px]",children:[jsxRuntimeExports.jsx(Eye,{size:14,className:"opacity-70"}),jsxRuntimeExports.jsx("span",{children:es.views??0})]}),jsxRuntimeExports.jsxs("button",{onClick:ns=>Gr(ns,es),className:"flex items-center gap-[3px] hover:opacity-80 transition",children:[jsxRuntimeExports.jsx(Heart,{size:14,className:es.has_liked?"text-red-500 fill-red-500":"opacity-70"}),jsxRuntimeExports.jsx("span",{children:es.like_count??0})]}),jsxRuntimeExports.jsxs("button",{onClick:ns=>{ns.stopPropagation(),Rr(es.id)},className:"flex items-center gap-[3px] hover:opacity-80 transition",children:[xr(es)?jsxRuntimeExports.jsx(MessageSquareLock,{size:14,className:"opacity-70"}):jsxRuntimeExports.jsx(MessageSquare,{size:14,className:"opacity-70"}),jsxRuntimeExports.jsx("span",{children:es.comment_count??0})]}),jsxRuntimeExports.jsx("button",{onClick:ns=>Hr(ns,es),className:"flex items-center gap-[3px] hover:opacity-80 transition",children:kr===es.id?jsxRuntimeExports.jsx(Check$1,{size:14,className:"text-green-500"}):jsxRuntimeExports.jsx(Share2,{size:14,className:"opacity-70"})})]})]})]})}),jsxRuntimeExports.jsx("div",{className:`
        w-14 h-14 sm:w-16 sm:h-16 lg:w-20 lg:h-20
        rounded-lg
        flex-shrink-0
        border border-dashboard-border-light
        dark:border-dashboard-border-dark
        overflow-hidden
        bg-dashboard-hover-light
        dark:bg-dashboard-hover-dark
      `,children:es.image_url?jsxRuntimeExports.jsx("img",{src:es.image_url,alt:"",className:"w-full h-full object-cover"}):jsxRuntimeExports.jsx("div",{className:"w-full h-full flex items-center justify-center",children:jsxRuntimeExports.jsx("span",{className:"text-[10px] uppercase opacity-70",children:"No image"})})})]})})]},es.id)}return Yr.type==="fragment"?jsxRuntimeExports.jsx(FragmentItem,{fragment:Yr.data,onOpen:()=>Tt(`/community/fragments/${Yr.data.id}`),onToggleLike:()=>Xr(Yr.data)},Yr.data.id):null})}),er&&Jt&&jsxRuntimeExports.jsx("div",{className:"py-4 text-center text-xs opacity-60 text-dashboard-text-light dark:text-dashboard-text-dark",children:"Loading more"}),jsxRuntimeExports.jsx("div",{ref:et,className:"h-10"})]})]})}),jsxRuntimeExports.jsx(MobileCreateFAB,{className:`
    transition-all duration-200 ease-out
    ${cr?"opacity-100 translate-y-0":"opacity-0 translate-y-6 pointer-events-none"}
  `,open:nr,setOpen:or,containerRef:lr,onCreatePost:()=>Tt("/community/create-post"),onCreateFragment:()=>Tt("/community/fragments/create")})]})}function Notifications(){const[dt,et]=reactExports.useState([]),$t=useNavigate();reactExports.useEffect(()=>{(async()=>{try{const Ft=await axiosInstance.get("/notifications");et(Ft.data.notifications||[])}catch(Ft){console.error("Failed to load notifications",Ft)}})()},[]);const kt=async Dt=>{if(Dt.is_read||await Tt(Dt.id),Dt.type==="subscription"){$t(`/community/authors/${Dt.actor_id}`);return}if(Dt.target_type==="post"){if(Dt.type==="post_like"){$t(`/community/post/${Dt.target_id}`);return}$t(`/community/post/${Dt.target_id}${Dt.reference_id?`?highlight=${Dt.reference_id}`:""}`);return}if(Dt.target_type==="fragment"){$t(`/community/fragments/${Dt.target_id}${Dt.reference_id?`?highlight=${Dt.reference_id}`:""}`);return}console.warn("Unknown notification target:",Dt)},Tt=reactExports.useCallback(async Dt=>{try{await axiosInstance.post("/notifications/mark-read",{ids:[Dt]}),et(Ft=>Ft.map(Ut=>Ut.id===Dt?{...Ut,is_read:1}:Ut))}catch(Ft){console.error("Failed to mark notification read",Ft)}},[]);return reactExports.useEffect(()=>(document.body.style.overflow="auto",document.body.style.position="",document.body.style.width="",()=>{document.body.style.overflow="auto",document.body.style.position="",document.body.style.width=""}),[]),jsxRuntimeExports.jsx("div",{className:"w-full flex justify-center items-start min-h-[80vh] px-0 sm:px-0 py-3 sm:py-3",children:jsxRuntimeExports.jsxs("div",{className:`
        w-full max-w-2xl

        /* mobile */
        p-4
        rounded-none
        border-none
        shadow-none
        bg-transparent

        /* desktop */
        sm:p-8
        sm:rounded-2xl
        sm:shadow-xl
        sm:bg-dashboard-sidebar-light
        sm:dark:bg-dashboard-sidebar-dark
        sm:border
        sm:border-dashboard-border-light
        sm:dark:border-dashboard-border-dark
      `,children:[jsxRuntimeExports.jsx("h1",{className:`
          text-2xl font-bold mb-6 text-center normal-case
          text-dashboard-text-light
          dark:text-dashboard-text-dark
  `,children:"Notifications "}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[dt.length===0&&jsxRuntimeExports.jsx("p",{className:`
              text-center py-6
              text-dashboard-muted-light
              dark:text-dashboard-muted-dark
  `,children:"No notifications yet."}),dt.map(Dt=>{var Ft,Ut,Ht,Kt;return jsxRuntimeExports.jsxs("button",{onClick:()=>kt(Dt),className:`
              relative
              w-full text-left p-4 sm:p-4 rounded-lg transition
              ${Dt.is_read?"bg-dashboard-sidebar-light dark:bg-dashboard-sidebar-dark opacity-80":"bg-green/10 dark:bg-green/20 border-green/40"}
              border border-dashboard-border-light
              dark:border-dashboard-border-dark
              hover:border-green
            `,children:[!Dt.is_read&&jsxRuntimeExports.jsx("span",{className:`
        absolute top-3 right-3
        w-2 h-2 rounded-full
        bg-green
      `}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[Dt.actor_image?jsxRuntimeExports.jsx(Img,{src:Dt.actor_image,loader:jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-full border border-dashboard-border-light dark:border-dashboard-border-dark animate-pulse"}),unloader:jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-sm font-semibold bg-dashboard-sidebar-light dark:bg-dashboard-sidebar-dark border border-dashboard-border-light dark:border-dashboard-border-dark text-dashboard-text-light dark:text-dashboard-text-dark",children:((Ut=(Ft=Dt.actor_name)==null?void 0:Ft.charAt(0))==null?void 0:Ut.toUpperCase())||"U"}),decode:!0,alt:"User avatar",className:"w-10 h-10 rounded-full object-cover border border-dashboard-border-light dark:border-dashboard-border-dark"}):jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-sm font-semibold bg-dashboard-sidebar-light dark:bg-dashboard-sidebar-dark border border-dashboard-border-light dark:border-dashboard-border-dark text-dashboard-text-light dark:text-dashboard-text-dark",children:((Kt=(Ht=Dt.actor_name)==null?void 0:Ht.charAt(0))==null?void 0:Kt.toUpperCase())||"U"}),jsxRuntimeExports.jsxs("div",{className:"min-w-0",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-dashboard-text-light dark:text-dashboard-text-dark truncate",children:Dt.actor_name?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:Dt.actor_name})," ",Dt.message.replace("Someone","").trim()]}):Dt.message}),Dt.post_title&&jsxRuntimeExports.jsx("p",{className:`
                        text-xs mt-1 truncate
                        text-dashboard-muted-light
                        dark:text-dashboard-muted-dark
                      `,children:Dt.post_title}),jsxRuntimeExports.jsx("p",{className:"text-[11px] mt-1 text-dashboard-muted-light dark:text-dashboard-muted-dark",children:new Date(Dt.created_at).toLocaleString([],{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit"})})]})]}),Dt.post_image&&jsxRuntimeExports.jsx("img",{src:Dt.post_image,alt:"",className:`
        w-12 h-12
        rounded-lg
        object-cover
        flex-shrink-0
        border border-dashboard-border-light
        dark:border-dashboard-border-dark
      `})]})]},Dt.id)})]})]})})}function DocsIndexPage(){const[dt,et]=reactExports.useState(""),kt=[{id:"settings-page",title:"Settings Page",description:"Manage your profile, avatar, Two-Factor Authentication, Passkeys, Stripe payouts, brand identity file, and your default CTA message.",path:"/docs/settings"},{id:"landing-builder",title:"Landing Page Builder",description:"Create landing pages using blocks, templates, Stripe checkout, and custom branding.",path:"/docs/landing-page-builder"},{id:"seller-dashboard",title:"Seller Dashboard",description:"Track sales, payouts, customers, and AI emails with your Stripe-connected dashboard.",path:"/docs/seller-dashboard"},{id:"analytics",title:"Analytics",description:"Track views, clicks, analytics, sales, and sales across your entire system.",path:"/docs/analytics-docs"},{id:"custom-domains",title:"Custom Domains",description:"Connect your own domain to The Messy Attic, verify ownership, and host landing pages under your brand.",path:"/docs/custom-domain"},{id:"authors-assistant",title:"Authors Assistant",description:"Write, revise, finalize, and publish full-length books using a structured, section-based workflow built for serious authors.",path:"/docs/authors-assistant"}].filter(Tt=>Tt.title.toLowerCase().includes(dt.toLowerCase())||Tt.description.toLowerCase().includes(dt.toLowerCase()));return jsxRuntimeExports.jsxs("div",{className:`
      w-full max-w-4xl mx-auto
      py-10 px-6
      text-dashboard-text-light
      dark:text-dashboard-text-dark
    `,children:[jsxRuntimeExports.jsxs("header",{className:"mb-10",children:[jsxRuntimeExports.jsxs("h1",{className:`
          text-3xl font-bold flex items-center gap-3 mb-2 normal-case
          text-dashboard-text-light
          dark:text-dashboard-text-dark
        `,children:[jsxRuntimeExports.jsx(ShieldQuestionMark,{className:"w-8 h-8 text-green"}),"Documentation"]}),jsxRuntimeExports.jsx("p",{className:`
          text-sm
          text-dashboard-muted-light
          dark:text-dashboard-muted-dark
        `,children:"Search or browse through all Cre8tly Studio help guides, tutorials, and feature overviews."})]}),jsxRuntimeExports.jsxs("div",{className:"relative mb-8",children:[jsxRuntimeExports.jsx(Search,{className:`
          absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5
          text-dashboard-muted-light
          dark:text-dashboard-muted-dark
        `}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search documentation...",value:dt,onChange:Tt=>et(Tt.target.value),style:{paddingLeft:"50px"},className:`
          w-full
          px-4 py-3 pl-14
          rounded-xl
          bg-dashboard-bg-light
          dark:bg-dashboard-bg-dark
          border border-dashboard-border-light
          dark:border-dashboard-border-dark
          text-dashboard-text-light
          dark:text-dashboard-text-dark
          placeholder-dashboard-muted-light
          dark:placeholder-dashboard-muted-dark
          focus:outline-none
          focus:ring-2 focus:ring-green
        `})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:kt.map(Tt=>jsxRuntimeExports.jsxs(Link$2,{to:Tt.path,className:`
            block p-5 rounded-xl transition shadow
            bg-dashboard-sidebar-light
            dark:bg-dashboard-sidebar-dark
            border border-dashboard-border-light
            dark:border-dashboard-border-dark
            hover:border-dashboard-muted-light
            dark:hover:border-dashboard-muted-dark
          `,children:[jsxRuntimeExports.jsx("h2",{className:`
              text-lg font-semibold mb-2
              text-dashboard-text-light
              dark:text-dashboard-text-dark
            `,children:Tt.title}),jsxRuntimeExports.jsx("p",{className:`
              text-sm leading-relaxed
              text-dashboard-muted-light
              dark:text-dashboard-muted-dark
            `,children:Tt.description})]},Tt.id))}),kt.length===0&&jsxRuntimeExports.jsx("p",{className:`
          text-center text-sm mt-10 italic
          text-dashboard-muted-light
          dark:text-dashboard-muted-dark
        `,children:"No documents found for your search."})]})}function SettingsDocs(){const dt=[{id:"intro",label:"Introduction"},{id:"avatar",label:"Profile Avatar"},{id:"twofa",label:"Two-Factor Authentication"},{id:"passkeys",label:"Passkey Authentication"},{id:"stripe",label:"Stripe Payouts"},{id:"brand-file",label:"Brand Identity File"},{id:"cta",label:"Default Closing Message / CTA"}],et=$t=>{const kt=document.getElementById($t);kt&&kt.scrollIntoView({behavior:"smooth",block:"start"})};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 p-2 text-white relative",children:[jsxRuntimeExports.jsx("aside",{className:"hidden lg:block w-64 fixed left-[180px] top-[120px] z-20",children:jsxRuntimeExports.jsxs("div",{className:"bg-[#020617] border border-gray-800 rounded-2xl p-4 shadow-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[jsxRuntimeExports.jsx(Settings,{className:"w-5 h-5 text-green"}),jsxRuntimeExports.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wide text-gray-300",children:"Settings Docs"})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 mb-3",children:"Learn how to manage security, payouts, branding, and your default CTA."}),jsxRuntimeExports.jsx("ul",{className:"space-y-1 text-sm",children:dt.map($t=>jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>et($t.id),className:"w-full text-left px-2 py-1.5 rounded-lg hover:bg-gray-900 hover:text-white transition text-gray-300 text-xs",children:$t.label})},$t.id))})]})}),jsxRuntimeExports.jsx("div",{className:"max-w-3xl mx-auto bg-black/70 rounded-2xl shadow-lg p-8",children:jsxRuntimeExports.jsxs("main",{className:"pb-16",children:[jsxRuntimeExports.jsxs("header",{className:"mb-8 border-b border-gray-800 pb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[jsxRuntimeExports.jsx(Settings,{className:"w-7 h-7 text-green"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-silver",children:"Settings & Account Management"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Learn how to manage your profile, security, payouts, brand identity, and CTA message."})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-[11px] text-gray-400",children:[jsxRuntimeExports.jsx("span",{className:"px-2 py-1 rounded-full bg-gray-900 border border-gray-700",children:"Estimated Time, 2 to 3 minutes"}),jsxRuntimeExports.jsxs("span",{className:"px-2 py-1 rounded-full bg-gray-900 border border-gray-700 flex items-center gap-1",children:[jsxRuntimeExports.jsx(BookOpen,{className:"w-3 h-3 text-green"}),"Best For, every Messy Attic user"]})]})]}),jsxRuntimeExports.jsxs("section",{id:"intro",className:"mb-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2 text-silver",children:"1. Introduction"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 leading-relaxed mb-3",children:"The Settings page is where you control your account information, security features, payout connections, branding, and the default CTA that appears at the end of your lead magnets or documents."})]}),jsxRuntimeExports.jsxs("section",{id:"avatar",className:"mb-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2 text-silver",children:"2. Profile Avatar"}),jsxRuntimeExports.jsx(Image$2,{className:"w-5 h-5 text-green mb-2"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"Your avatar displays inside your dashboard and seller profile. Upload any image and it updates instantly."}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside text-sm text-gray-300 space-y-1",children:[jsxRuntimeExports.jsx("li",{children:"Select an image file"}),jsxRuntimeExports.jsx("li",{children:"Click Upload Avatar"}),jsxRuntimeExports.jsx("li",{children:"Cre8tly updates your profile everywhere"})]})]}),jsxRuntimeExports.jsxs("section",{id:"twofa",className:"mb-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2 text-silver",children:"3. Two-Factor Authentication (2FA)"}),jsxRuntimeExports.jsx(ShieldCheck,{className:"w-5 h-5 text-green mb-2"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 leading-relaxed mb-3",children:"2FA adds a second layer of protection to your account by requiring a 6-digit code at login."}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside text-sm text-gray-300 space-y-1",children:[jsxRuntimeExports.jsx("li",{children:"Click Enable 2FA"}),jsxRuntimeExports.jsx("li",{children:"Scan the QR code using Google Authenticator"}),jsxRuntimeExports.jsx("li",{children:"Enter your 6-digit code to activate"}),jsxRuntimeExports.jsx("li",{children:"You can disable 2FA at any time"})]})]}),jsxRuntimeExports.jsxs("section",{id:"passkeys",className:"mb-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2 text-silver",children:"4. Passkey Authentication"}),jsxRuntimeExports.jsx(KeyRound,{className:"w-5 h-5 text-green mb-2"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"Passkeys let you sign in using Face ID, Touch ID, Windows Hello, or hardware-based biometric authentication."}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside text-sm text-gray-300 space-y-1",children:[jsxRuntimeExports.jsx("li",{children:"Register a passkey from your device"}),jsxRuntimeExports.jsx("li",{children:"Use Sign in with Passkey at login"}),jsxRuntimeExports.jsx("li",{children:"You may remove a passkey anytime"})]})]}),jsxRuntimeExports.jsxs("section",{id:"stripe",className:"mb-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2 text-silver",children:"5. Stripe Payouts"}),jsxRuntimeExports.jsx(CreditCard,{className:"w-5 h-5 text-green mb-2"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"To receive payment through The Messy Attic, connect a Stripe Express account."}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside text-sm text-gray-300 space-y-1",children:[jsxRuntimeExports.jsx("li",{children:"Start Stripe onboarding"}),jsxRuntimeExports.jsx("li",{children:"Complete ID verification"}),jsxRuntimeExports.jsx("li",{children:"Enable payouts"}),jsxRuntimeExports.jsx("li",{children:"If pending, resume setup anytime"})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400 mt-3",children:"Free trial users must upgrade before connecting payouts."})]}),jsxRuntimeExports.jsxs("section",{id:"brand-file",className:"mb-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2 text-silver",children:"6. Brand Identity File"}),jsxRuntimeExports.jsx(FileText,{className:"w-5 h-5 text-green mb-2"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"The Brand Identity File helps the AI understand your tone, writing style, formatting preferences, examples, and personality."}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 mb-2",children:"Accepted files, PDF, DOCX, DOC, TXT."}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside text-sm text-gray-300 space-y-1",children:[jsxRuntimeExports.jsx("li",{children:"Upload a new brand file anytime"}),jsxRuntimeExports.jsx("li",{children:"Remove your existing file to reset defaults"}),jsxRuntimeExports.jsx("li",{children:"Your brand file applies automatically to new projects"})]})]}),jsxRuntimeExports.jsxs("section",{id:"cta",className:"mb-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2 text-silver",children:"7. Default Closing Message / CTA"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"This CTA appears at the end of every lead magnet or pro document you create. Add your website, newsletter, signature, or next step."}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside text-sm text-gray-300 space-y-1",children:[jsxRuntimeExports.jsx("li",{children:"Customize your closing message"}),jsxRuntimeExports.jsx("li",{children:"Save it once, it applies everywhere"}),jsxRuntimeExports.jsx("li",{children:"You can update it anytime"})]})]})]})})]})}function LandingBuilderDocs(){const dt=[{id:"intro",label:"Introduction"},{id:"overview",label:"What the Landing Page Builder Does"},{id:"layout",label:"Layout and Interface"},{id:"blocks",label:"Block Basics"},{id:"hero-block",label:"Hero Sections"},{id:"feature-blocks",label:"Feature and Benefit Blocks"},{id:"testimonial-blocks",label:"Testimonials and Social Proof"},{id:"offer-pricing",label:"Offer and Pricing Blocks"},{id:"media-blocks",label:"Images and Video Blocks"},{id:"cta-buttons",label:"Buttons and Calls-to-Action"},{id:"branding",label:"Branding, Colors, and Backgrounds"},{id:"stripe",label:"Stripe Checkout Block"},{id:"seo",label:"SEO, URL, and Meta Settings"},{id:"mobile",label:"Mobile Layout and Responsiveness"},{id:"saving",label:"Saving, Previewing, and Publishing"},{id:"analytics",label:"Analytics and Tracking"},{id:"best-practices",label:"Best Practices"},{id:"troubleshooting",label:"Troubleshooting"}],et=$t=>{const kt=document.getElementById($t);kt&&kt.scrollIntoView({behavior:"smooth",block:"start"})};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 p-2 text-white relative",children:[jsxRuntimeExports.jsx("aside",{className:"hidden lg:block w-64 fixed left-[180px] top-[120px] z-20",children:jsxRuntimeExports.jsxs("div",{className:"bg-[#020617] border border-gray-800 rounded-2xl p-4 shadow-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[jsxRuntimeExports.jsx(BookOpen,{className:"w-5 h-5 text-green"}),jsxRuntimeExports.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wide text-gray-300",children:"Landing Builder Docs"})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 mb-3",children:"Learn how to design, brand, and publish high-converting landing pages with The Messy Attic."}),jsxRuntimeExports.jsx("ul",{className:"space-y-1 text-sm",children:dt.map($t=>jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>et($t.id),className:"w-full text-left px-2 py-1.5 rounded-lg hover:bg-gray-900 hover:text-white transition text-gray-300 text-xs",children:$t.label})},$t.id))})]})}),jsxRuntimeExports.jsx("div",{className:"max-w-3xl mx-auto bg-black/70 rounded-2xl shadow-lg p-8",children:jsxRuntimeExports.jsxs("main",{className:"pb-16",children:[jsxRuntimeExports.jsxs("header",{className:"mb-8 border-b border-gray-800 pb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[jsxRuntimeExports.jsx(PanelsTopLeft,{className:"w-7 h-7 text-green"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-silver",children:"Landing Page Builder"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"A block-based builder for creating branded, Stripe-ready landing pages that sell your digital products."})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-[11px] text-gray-400",children:[jsxRuntimeExports.jsx("span",{className:"px-2 py-1 rounded-full bg-gray-900 border border-gray-700",children:"Estimated Time, 5 to 15 minutes per page"}),jsxRuntimeExports.jsx("span",{className:"px-2 py-1 rounded-full bg-gray-900 border border-gray-700 flex items-center gap-1",children:"Best For, lead magnets, sales pages, and digital product offers"})]})]}),jsxRuntimeExports.jsxs("section",{id:"intro",className:"mb-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2 text-silver",children:"1. Introduction"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 leading-relaxed mb-3",children:"The Landing Page Builder is where you turn your lead magnets, books, and digital products into a live, shareable experience. It lets you stack pre-designed blocks, connect Stripe checkout, and ship a clean, on-brand page without touching raw HTML or CSS."}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 leading-relaxed mb-3",children:"Every landing page you create in The Messy Attic is built from reusable blocks. You can reorder them, change backgrounds, swap images, and customize copy while keeping the layout consistent and conversion-focused."}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300",children:"The goal, move from I have a product to I have a page that can take payments and capture attention in a single working session."})]}),jsxRuntimeExports.jsxs("section",{id:"overview",className:"mb-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2 text-silver",children:"2. What the Landing Page Builder Does"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"The builder acts as a visual layer on top of your content and product data. It:"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside text-sm text-gray-300 space-y-1 mb-3",children:[jsxRuntimeExports.jsx("li",{children:"Lets you assemble pages using pre-built sections (blocks)"}),jsxRuntimeExports.jsx("li",{children:"Connects directly to Stripe so visitors can purchase without extra tools"}),jsxRuntimeExports.jsx("li",{children:"Applies your brand colors, gradients, and fonts from Settings"}),jsxRuntimeExports.jsx("li",{children:"Generates a public URL for each published landing page"}),jsxRuntimeExports.jsx("li",{children:"Works with templates so you can reuse proven layouts"})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300",children:"Think of it as your front door for each offer, controlled fully inside The Messy Attic."})]}),jsxRuntimeExports.jsxs("section",{id:"layout",className:"mb-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2 text-silver",children:"3. Layout and Interface"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"The Landing Page Builder uses an expandable block system. Every block contains its own settings. All editing is done directly inside the block itself."}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"The interface is made up of three main parts:"}),jsxRuntimeExports.jsxs("ol",{className:"list-decimal list-inside text-sm text-gray-300 space-y-1 mb-3",children:[jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Live Page Preview"}),"  the page is rendered exactly how visitors will see it while you build."]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Expandable Blocks"}),"  each block (Image, h1, FAQs, Testimonials, Pricing, Stripe Checkout, etc.) contains its own controls. Click a block to expand it and reveal all editable fields for that section."]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Block Actions"}),"  every block includes built-in tools such as:",jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside ml-5 mt-1 text-gray-400 space-y-1",children:[jsxRuntimeExports.jsx("li",{children:"Move Up / Move Down"}),jsxRuntimeExports.jsx("li",{children:"Delete Block"}),jsxRuntimeExports.jsx("li",{children:"Collapse / Expand"})]})]})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300",children:"Instead of separating design controls into a right sidebar, the Cre8tly Builder keeps everything together inside the block you're working on. This keeps editing fast, simple, and intuitive without navigating between panels."})]}),jsxRuntimeExports.jsxs("section",{id:"blocks",className:"mb-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2 text-silver",children:"4. Block Basics"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"Everything on your page is a block. Blocks keep your design consistent while giving you room to customize copy and visuals."}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside text-sm text-gray-300 space-y-1 mb-3",children:[jsxRuntimeExports.jsx("li",{children:"Add new blocks from the Add Block or + controls"}),jsxRuntimeExports.jsx("li",{children:"Reorder blocks using drag handles or move up / move down"}),jsxRuntimeExports.jsx("li",{children:"Delete/Remove blocks you no longer need"})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300",children:"Different block types come with different fields, but they all follow the same principle, structured inputs that output a polished section."})]}),jsxRuntimeExports.jsxs("section",{id:"hero-block",className:"mb-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2 text-silver",children:"5. Hero Sections"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"The hero block is usually the first section on your landing page. It sets the tone, explains what the visitor is looking at, and gives them a clear next step."}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside text-sm text-gray-300 space-y-1 mb-3",children:[jsxRuntimeExports.jsx("li",{children:"Headline and subheadline"}),jsxRuntimeExports.jsx("li",{children:"Support text or bullet list"}),jsxRuntimeExports.jsx("li",{children:"Primary call-to-action button (e.g. Get Instant Access)"}),jsxRuntimeExports.jsx("li",{children:"Optional supporting image, mockup, or cover"})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300",children:"Use your hero to answer, What is this, who is it for, and why should I care right now?"})]}),jsxRuntimeExports.jsxs("section",{id:"feature-blocks",className:"mb-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2 text-silver",children:"6. Feature and Benefit Sections"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"Feature sections help you break down what is inside your product or offer. These often appear under the hero section."}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"Typical fields include:"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside text-sm text-gray-300 space-y-1 mb-3",children:[jsxRuntimeExports.jsx("li",{children:"Section title (e.g. What You Will Get)"}),jsxRuntimeExports.jsx("li",{children:"Subtitle or one-line promise"}),jsxRuntimeExports.jsx("li",{children:"3 to 6 feature items with titles and descriptions"}),jsxRuntimeExports.jsx("li",{children:"Optional icons or checkmarks"})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300",children:"Focus each feature on outcomes, not just components. Instead of 12 videos, write 12 short lessons that you can finish in a weekend."})]}),jsxRuntimeExports.jsxs("section",{id:"testimonial-blocks",className:"mb-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2 text-silver",children:"7. Testimonials and Social Proof"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"Testimonial blocks are designed to showcase real results, trust, and proof. They are especially useful before or after your pricing section."}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"You can usually configure:"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside text-sm text-gray-300 space-y-1 mb-3",children:[jsxRuntimeExports.jsx("li",{children:"Quote text or result summary"}),jsxRuntimeExports.jsx("li",{children:"Customer name and role"}),jsxRuntimeExports.jsx("li",{children:"Optional avatar or image"}),jsxRuntimeExports.jsx("li",{children:"Optional rating stars or badges"})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300",children:"Use testimonials that speak to the same pains and goals your heros headline introduces."})]}),jsxRuntimeExports.jsxs("section",{id:"offer-pricing",className:"mb-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2 text-silver",children:"8. Offer and Pricing Blocks"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"Offer blocks are where you clearly state the price, what is included, and what buyers receive when they pay."}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside text-sm text-gray-300 space-y-1 mb-3",children:[jsxRuntimeExports.jsx("li",{children:"Plan title (e.g. Business Builder Annual)"}),jsxRuntimeExports.jsx("li",{children:"Price and billing frequency"}),jsxRuntimeExports.jsx("li",{children:"Feature checklist or inclusions list"}),jsxRuntimeExports.jsx("li",{children:"Primary button that connects to Stripe Checkout"}),jsxRuntimeExports.jsx("li",{children:"Guarantee or reassurance text under the button"})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300",children:"Keep this section simple and direct. The only job of this block is to make the decision feel safe and obvious."})]}),jsxRuntimeExports.jsxs("section",{id:"media-blocks",className:"mb-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2 text-silver",children:"9. Images and Video Blocks"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"Media blocks are used to show screenshots, mockups, previews, or short embedded videos of your product in action."}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"Common uses,"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside text-sm text-gray-300 space-y-1 mb-3",children:[jsxRuntimeExports.jsx("li",{children:"Showing the inside of a lead magnet"}),jsxRuntimeExports.jsx("li",{children:"Previewing the dashboard or builder"}),jsxRuntimeExports.jsx("li",{children:"Demonstrating a process visually"})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300",children:"Use clean, high-contrast visuals and avoid overloading this block with text. Let the image or video do the heavy lifting."})]}),jsxRuntimeExports.jsxs("section",{id:"cta-buttons",className:"mb-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2 text-silver",children:"10. Buttons and Calls-to-Action"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"CTA buttons are the bridge between reading and taking action. Throughout your page, you will see buttons that either scroll to the Stripe section, open checkout, or jump to key content."}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"Best practices for CTAs in the builder:"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside text-sm text-gray-300 space-y-1 mb-3",children:[jsxRuntimeExports.jsx("li",{children:"Use action phrases, Get Instant Access or Start the Trial"}),jsxRuntimeExports.jsx("li",{children:"Match button color to your brands primary accent"}),jsxRuntimeExports.jsx("li",{children:"Repeat CTAs after major sections (story  proof  CTA)"})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300",children:"In many blocks, the button can be linked to the Stripe Checkout Block."})]}),jsxRuntimeExports.jsxs("section",{id:"branding",className:"mb-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2 text-silver",children:"11. Branding, Colors, and Backgrounds"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"Every block in the Landing Page Builder controls its own colors, backgrounds, and visual styling. There is also global text color settings. Each block includes its own collapsible styling panel where you can customize exactly how that section looks."}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"Most blocks include a background and color panel with options like:"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside text-sm text-gray-300 space-y-1 mb-3",children:[jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Use No Background"}),"Leaves the block completely transparent so it blends with the page."]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Solid Color"}),"Pick a color with the built-in color picker or type a HEX code for an exact match."]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Gradient Background"}),"Enable gradient mode and choose:",jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside ml-5 mt-1 text-gray-400 space-y-1",children:[jsxRuntimeExports.jsx("li",{children:"Start color (picker or HEX input)"}),jsxRuntimeExports.jsx("li",{children:"End color (picker or HEX input)"}),jsxRuntimeExports.jsx("li",{children:"Gradient angle or direction"})]})]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Match Main Background"}),"Uses the same color that the top hero or main theme block is using, giving you a consistent banded layout."]})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300",children:"Because each block controls its own styling independently, you can mix transparent sections, solid bands, and gradients on the same page while keeping full control over how every part of your landing page looks."})]}),jsxRuntimeExports.jsxs("section",{id:"stripe",className:"mb-10",children:[jsxRuntimeExports.jsxs("h2",{className:"text-lg font-semibold mb-2 text-silver flex items-center gap-2",children:["12. Stripe Checkout Block",jsxRuntimeExports.jsx(CreditCard,{className:"w-4 h-4 text-gray-400"})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"The Stripe Checkout Block is what turns your landing page into a sales engine. Each block connects a single published PDF inside your The Messy Attic account to your Stripe Express account so you can sell digital products securely and instantly."}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"The Messy Attic does not allow outside links, external files, or downloads. You can only sell PDFs you have created and published inside your Cre8tly account. This ensures clean delivery, proper analytics tracking, and secure fulfillment for buyers."}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"When you add a Stripe Checkout Block, you choose one of your published PDFs as the product. Cre8tly automatically links it to your Stripe Express account and configures the checkout experience."}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"The setup includes:"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside text-sm text-gray-300 space-y-1 mb-3",children:[jsxRuntimeExports.jsx("li",{children:"Selecting which published PDF to sell"}),jsxRuntimeExports.jsx("li",{children:"Connecting the PDF to your Stripe Express account"}),jsxRuntimeExports.jsx("li",{children:"Choosing the payment type, one-time or subscription"}),jsxRuntimeExports.jsx("li",{children:"Customizing the checkout button label"}),jsxRuntimeExports.jsx("li",{children:"Setting success and cancellation redirects"})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"You are not limited to one offer. You can add multiple Stripe Checkout Blocks to the same landing page to sell:"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside text-sm text-gray-300 space-y-1 mb-3",children:[jsxRuntimeExports.jsx("li",{children:"Different PDFs"}),jsxRuntimeExports.jsx("li",{children:"Different price points"}),jsxRuntimeExports.jsx("li",{children:"Different subscription tiers"}),jsxRuntimeExports.jsx("li",{children:"Bundles, upgrades, or add-ons"})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"Each Stripe block operates independently, so visitors can choose whichever offer they want. This gives you complete flexibility when designing funnels, upsells, cross-sells, or multi-product pages."}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300",children:"After purchasing, customers complete payment through Stripes secure checkout and are automatically redirected to a dedicated Thank You page. Their purchased PDF is instantly available for download, and the revenue is deposited directly into your connected Stripe Express account."})]}),jsxRuntimeExports.jsxs("section",{id:"seo",className:"mb-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2 text-silver",children:"13. URL and Public Link"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"Each landing page in The Messy Attic is published on its own custom subdomain. Instead of managing slugs or manual meta tags, you choose a subdomain name and The Messy Attic handles the rest."}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside text-sm text-gray-300 space-y-1 mb-3",children:[jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Custom Subdomain,"})," pick a unique name for your page, for example"," ",jsxRuntimeExports.jsx("span",{className:"font-mono text-gray-400",children:"thedigitalstore"}),"."]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Public URL,"})," your page is published at"," ",jsxRuntimeExports.jsx("span",{className:"font-mono text-gray-400",children:"https://theblueprint.themessyattic.com"})," ","(using whatever subdomain you chose)."]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Automatic Meta Handling,"})," ","The Messy Attic manages the basic metadata and structure behind the scenes so you can focus on your offer and design instead of SEO setup."]})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300",children:"Choose a clear, memorable subdomain that matches your offer or brand name, so when you share the link, people instantly recognize what the page is about."})]}),jsxRuntimeExports.jsxs("section",{id:"mobile",className:"mb-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2 text-silver",children:"15. Mobile Layout and Responsiveness"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"Most visitors will see your landing page on a phone. The builder is designed so blocks stack cleanly on smaller screens, with text sizes and spacing adjusted for readability."}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"Inside the editor, you may have options to:"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside text-sm text-gray-300 space-y-1 mb-3",children:[jsxRuntimeExports.jsx("li",{children:"Preview how blocks collapse into a single column"}),jsxRuntimeExports.jsx("li",{children:"Check how long headlines look on narrow screens"}),jsxRuntimeExports.jsx("li",{children:"Ensure buttons stay large enough to tap easily"})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300",children:"Always review your page on mobile before publishing. A great desktop design still needs a frictionless mobile experience."})]}),jsxRuntimeExports.jsxs("section",{id:"saving",className:"mb-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2 text-silver",children:"16. Saving, Previewing, and Version Management"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"The Messy Attic gives you full control over how your landing page evolves. You can update the live version instantly, or create separate versions to test new layouts, colors, or offers without affecting what your visitors see."}),jsxRuntimeExports.jsx("h3",{className:"text-sm font-semibold text-gray-200 mb-2",children:"Live Saving"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-300 mb-3",children:["Clicking ",jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Save Changes"})," ","instantly updates the live landing page. Any edits you maketext, layout changes, block settings, colors, or Stripe buttonsbecome visible to the public immediately after saving."]}),jsxRuntimeExports.jsx("h3",{className:"text-sm font-semibold text-gray-200 mb-2",children:"Creating Page Versions"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"Versions let you experiment freely without touching your live design. This is ideal for A/B layouts, new designs, seasonal updates, or major revisions."}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside text-sm text-gray-300 space-y-1 mb-3",children:[jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"First Time Saving a Version:"})," ","you are prompted to name it manually (for example:",jsxRuntimeExports.jsx("span",{className:"font-mono text-gray-400",children:"Summer Redesign"}),")."]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Each version after that"})," ","is automatically numbered, such as",jsxRuntimeExports.jsx("span",{className:"font-mono text-gray-400",children:"Version 2"}),",",jsxRuntimeExports.jsx("span",{className:"font-mono text-gray-400",children:"Version 3"}),", etc."]}),jsxRuntimeExports.jsxs("li",{children:["Versions do ",jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"not"})," affect the live site until you apply them."]})]}),jsxRuntimeExports.jsx("h3",{className:"text-sm font-semibold text-gray-200 mb-2",children:"Applying and Managing Versions"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"The Versions Panel allows you to preview, apply, or delete any saved version."}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside text-sm text-gray-300 space-y-1 mb-3",children:[jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Preview"})," a version without changing the live site."]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Apply"})," a version to load it into the editor so you can continue editing or make it live."]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Delete"})," a version if you no longer need it."]})]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-amber-400 font-semibold mb-4",children:[" Important, after applying a version you must click"," ",jsxRuntimeExports.jsx("span",{className:"underline",children:"Save Changes"})," for it to become the new live public site."]}),jsxRuntimeExports.jsx("h3",{className:"text-sm font-semibold text-gray-200 mb-2",children:"Preview Mode"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"Preview mode opens your landing page in a clean, visitor-ready display without the editor UI. This is ideal for testing spacing, mobile layout, scrolling behavior, and the full customer flow."}),jsxRuntimeExports.jsx("h3",{className:"text-sm font-semibold text-gray-200 mb-2",children:"Publishing / Live Site Behavior"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-300",children:["The Messy Attic does not require a separate publishing step. The live site is updated the moment you click"," ",jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Save Changes"}),". Applying a version does not go live until you save."]})]}),jsxRuntimeExports.jsxs("section",{id:"analytics",className:"mb-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2 text-silver",children:"17. Analytics and Tracking"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"Landing pages feed directly into your Seller Dashboard analytics. Over time, you will see:"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside text-sm text-gray-300 space-y-1 mb-3",children:[jsxRuntimeExports.jsx("li",{children:"Total views and unique visitors"}),jsxRuntimeExports.jsx("li",{children:"Clicks on key buttons and Stripe checkout"}),jsxRuntimeExports.jsx("li",{children:"Conversion insights connected to your products"})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300",children:"Use this data to test different headlines, offers, and layouts by duplicating pages and comparing performance."})]}),jsxRuntimeExports.jsxs("section",{id:"best-practices",className:"mb-10",children:[jsxRuntimeExports.jsxs("h2",{className:"text-lg font-semibold mb-2 text-silver flex items-center gap-2",children:["18. Best Practices",jsxRuntimeExports.jsx(Settings,{className:"w-4 h-4 text-gray-400"})]}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside text-sm text-gray-300 space-y-1",children:[jsxRuntimeExports.jsx("li",{children:"Keep one main goal per page, download, buy, or book."}),jsxRuntimeExports.jsx("li",{children:"Use one clear CTA repeated multiple times."}),jsxRuntimeExports.jsx("li",{children:"Start with a template, then tweak copy to match your voice."}),jsxRuntimeExports.jsx("li",{children:"Use Testimonials and Proof near your pricing or Stripe section."}),jsxRuntimeExports.jsx("li",{children:"Ensure your hero, offer, and Stripe block all tell the same story."})]})]}),jsxRuntimeExports.jsxs("section",{id:"troubleshooting",className:"mb-10",children:[jsxRuntimeExports.jsxs("h2",{className:"text-lg font-semibold mb-2 text-silver flex items-center gap-2",children:["19. Troubleshooting",jsxRuntimeExports.jsx(CircleQuestionMark,{className:"w-4 h-4 text-gray-400"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4 text-sm text-gray-300",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-semibold text-gray-200 mb-1",children:"My page is not loading the latest changes"}),jsxRuntimeExports.jsx("p",{children:"Make sure you saved and re-published the landing page. Then refresh the public URL or open it in a private browser tab to avoid cached content."})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-semibold text-gray-200 mb-1",children:"Stripe button is not working"}),jsxRuntimeExports.jsx("p",{children:"Confirm your Stripe account is connected in Settings and that a valid price or product ID is configured inside the Stripe Checkout Block."})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-semibold text-gray-200 mb-1",children:"Page looks broken on mobile"}),jsxRuntimeExports.jsx("p",{children:"Check for extremely long words, unbroken URLs, or oversized images in your hero or feature blocks. Shorten text and re-upload optimized images if needed."})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-semibold text-gray-200 mb-1",children:"My page is not showing in analytics yet"}),jsxRuntimeExports.jsx("p",{children:"Analytics update over time. If the page is brand new, visit it from another device or browser to generate initial data, then revisit the Seller Dashboard."})]})]})]})]})})]})}function SellerDashboardDocs(){const dt=[{id:"intro",label:"Introduction"},{id:"overview",label:"Dashboard Overview"},{id:"earnings",label:"Earnings & Payouts"},{id:"orders",label:"Customer Orders"},{id:"emails",label:"AI Email Templates"},{id:"stripe",label:"Stripe Express Integration"},{id:"faq",label:"Troubleshooting"}],et=$t=>{const kt=document.getElementById($t);kt&&kt.scrollIntoView({behavior:"smooth",block:"start"})};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 p-2 text-white relative",children:[jsxRuntimeExports.jsx("aside",{className:"hidden lg:block w-64 fixed left-[180px] top-[120px] z-20",children:jsxRuntimeExports.jsxs("div",{className:"bg-[#020617] border border-gray-800 rounded-2xl p-4 shadow-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[jsxRuntimeExports.jsx(BookOpen,{className:"w-5 h-5 text-green"}),jsxRuntimeExports.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wide text-gray-300",children:"Seller Dashboard Docs"})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 mb-3",children:"Learn how to track sales, payouts, customers, and send emails using your built-in Seller Dashboard."}),jsxRuntimeExports.jsx("ul",{className:"space-y-1 text-sm",children:dt.map($t=>jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("button",{onClick:()=>et($t.id),className:"w-full text-left px-2 py-1.5 rounded-lg hover:bg-gray-900 hover:text-white text-gray-300 text-xs transition",children:$t.label})},$t.id))})]})}),jsxRuntimeExports.jsx("div",{className:"max-w-3xl mx-auto bg-black/70 rounded-2xl shadow-lg p-8",children:jsxRuntimeExports.jsxs("main",{className:"pb-16",children:[jsxRuntimeExports.jsxs("header",{className:"mb-8 border-b border-gray-800 pb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[jsxRuntimeExports.jsx(FileText,{className:"w-7 h-7 text-green"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-silver",children:"Seller Dashboard"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Track your sales, payouts, customers, and follow-up emails directly inside The Messy Attic."})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-[11px] text-gray-400",children:[jsxRuntimeExports.jsx("span",{className:"px-2 py-1 rounded-full bg-gray-900 border border-gray-700",children:"Estimated Learning Time, under 2 minutes"}),jsxRuntimeExports.jsxs("span",{className:"px-2 py-1 rounded-full bg-gray-900 border border-gray-700 flex items-center gap-1",children:[jsxRuntimeExports.jsx(Sparkles,{className:"w-3 h-3 text-green"}),"Best For, creators selling digital products"]})]})]}),jsxRuntimeExports.jsxs("section",{id:"intro",className:"mb-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2 text-silver",children:"1. Introduction"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 mb-3 leading-relaxed",children:"The Seller Dashboard is where you manage your entire sales system. Any PDF purchased from your Cre8tly landing pages appears here instantly, including customer details, the product purchased, and payout information from Stripe Express."}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300",children:"It mirrors key Stripe Express information while adding creator-specific tools like customer emails, PDF titles purchased, time and date of purchase, and AI-generated templates."})]}),jsxRuntimeExports.jsxs("section",{id:"overview",className:"mb-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2 text-silver",children:"2. Dashboard Overview"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"Your Seller Dashboard gives you a quick snapshot of your business performance, including:"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside text-sm text-gray-300 space-y-1",children:[jsxRuntimeExports.jsx("li",{children:"Pending Balance"}),jsxRuntimeExports.jsx("li",{children:"Available Balance"}),jsxRuntimeExports.jsx("li",{children:"Total revenue earned"}),jsxRuntimeExports.jsx("li",{children:"Recent Payouts"}),jsxRuntimeExports.jsx("li",{children:"Most recent customer purchases"}),jsxRuntimeExports.jsx("li",{children:"Top-selling PDFs"})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 mt-3",children:"Everything updates in real time based on purchases made through your landing pages."})]}),jsxRuntimeExports.jsxs("section",{id:"earnings",className:"mb-10",children:[jsxRuntimeExports.jsxs("h2",{className:"text-lg font-semibold mb-2 text-silver flex items-center gap-2",children:["3. Earnings & Payouts"," ",jsxRuntimeExports.jsx(CreditCard,{className:"w-4 h-4 text-gray-400"})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"All revenue you earn is paid out through your Stripe Express account. Inside Cre8tly, you can view:"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside text-sm text-gray-300 space-y-1 mb-3",children:[jsxRuntimeExports.jsx("li",{children:"Total earnings"}),jsxRuntimeExports.jsx("li",{children:"Payouts already completed"}),jsxRuntimeExports.jsx("li",{children:"Upcoming payout amounts"}),jsxRuntimeExports.jsx("li",{children:"Estimated payout dates"})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300",children:"Tax documents, bank details, and payout history are fully managed inside Stripe Express."})]}),jsxRuntimeExports.jsxs("section",{id:"orders",className:"mb-10",children:[jsxRuntimeExports.jsxs("h2",{className:"text-lg font-semibold mb-2 text-silver flex items-center gap-2",children:["4. Customer Orders ",jsxRuntimeExports.jsx(Users,{className:"w-4 h-4 text-gray-400"})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"Every completed purchase through your Stripe Checkout Block appears in your Orders list. You can view:"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside text-sm text-gray-300 space-y-1 mb-3",children:[jsxRuntimeExports.jsx("li",{children:"Customer email address"}),jsxRuntimeExports.jsx("li",{children:"Which PDF they purchased"}),jsxRuntimeExports.jsx("li",{children:"Sale price"}),jsxRuntimeExports.jsx("li",{children:"Date of purchase"}),jsxRuntimeExports.jsx("li",{children:"Download status"})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300",children:"This replaces the need to dig through Stripe manually, everything is visible right inside your dashboard."})]}),jsxRuntimeExports.jsxs("section",{id:"emails",className:"mb-10",children:[jsxRuntimeExports.jsxs("h2",{className:"text-lg font-semibold mb-2 text-silver flex items-center gap-2",children:["5. AI Email Templates ",jsxRuntimeExports.jsx(Mail,{className:"w-4 h-4 text-gray-400"})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 mb-4",children:"You can send emails directly from the Seller Dashboard using AI-generated templates. These are automatically personalized using:"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside text-sm text-gray-300 space-y-1",children:[jsxRuntimeExports.jsx("li",{children:"The customers name (when available)"}),jsxRuntimeExports.jsx("li",{children:"The product they purchased"}),jsxRuntimeExports.jsx("li",{children:"Your saved CTA or brand tone"}),jsxRuntimeExports.jsx("li",{children:"Your next-step offer or resource"})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 mt-3",children:"Perfect for thank-you messages, upsells, follow-ups, or support replies, all without leaving your dashboard."})]}),jsxRuntimeExports.jsxs("section",{id:"stripe",className:"mb-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2 text-silver",children:"6. Stripe Express Integration"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 mb-3 leading-relaxed",children:"Stripe Express powers your payouts. Cre8tly handles the delivery experience, customer details, and sales tracking, but Stripe handles:"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside text-sm text-gray-300 space-y-1",children:[jsxRuntimeExports.jsx("li",{children:"Identity verification"}),jsxRuntimeExports.jsx("li",{children:"Bank transfers"}),jsxRuntimeExports.jsx("li",{children:"Payout scheduling"}),jsxRuntimeExports.jsx("li",{children:"Tax forms (1099, etc.)"})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 mt-3",children:"After a successful purchase:"}),jsxRuntimeExports.jsxs("ol",{className:"list-decimal list-inside text-sm text-gray-300 space-y-1",children:[jsxRuntimeExports.jsx("li",{children:"Stripe processes the payment"}),jsxRuntimeExports.jsx("li",{children:"You receive the revenue (minus Stripe and The Messy Attic Platform fees)"}),jsxRuntimeExports.jsx("li",{children:"The customer is redirected to your Thank You page"}),jsxRuntimeExports.jsx("li",{children:"The PDF is delivered instantly"}),jsxRuntimeExports.jsx("li",{children:"The order appears inside your dashboard"})]})]}),jsxRuntimeExports.jsxs("section",{id:"faq",className:"mb-10",children:[jsxRuntimeExports.jsxs("h2",{className:"text-lg font-semibold mb-2 text-silver flex items-center gap-2",children:["7. Troubleshooting"," ",jsxRuntimeExports.jsx(CircleQuestionMark,{className:"w-4 h-4 text-gray-400"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-semibold text-gray-200 mb-1",children:"My payout is missing"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300",children:"Check your Stripe Express dashboard, payout timing is fully controlled by Stripe."})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-semibold text-gray-200 mb-1",children:"A customer didnt receive their PDF"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300",children:"Contact support if your customer did not receive their download after purchase."})]})]})]})]})})]})}function LandingAnalyticsDocs(){const dt=[{id:"intro",label:"Introduction"},{id:"overview",label:"What Analytics Track"},{id:"ranges",label:"7, 14, 30, 90 Day Filters"},{id:"unique",label:"Unique Visitors Explained"},{id:"exclusions",label:"Which Views Do NOT Count"},{id:"metrics",label:"Understanding Each Metric"},{id:"charts",label:"Graph & Data Visualization"},{id:"faq",label:"Troubleshooting"}],et=$t=>{const kt=document.getElementById($t);kt&&kt.scrollIntoView({behavior:"smooth",block:"start"})};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 p-2 text-white relative",children:[jsxRuntimeExports.jsx("aside",{className:"hidden lg:block w-64 fixed left-[180px] top-[120px] z-20",children:jsxRuntimeExports.jsxs("div",{className:"bg-[#020617] border border-gray-800 rounded-2xl p-4 shadow-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[jsxRuntimeExports.jsx(BookOpen,{className:"w-5 h-5 text-green"}),jsxRuntimeExports.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wide text-gray-300",children:"Analytics Docs"})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 mb-3",children:"Learn how Cre8tly tracks views, clicks, downloads, and sales across your landing pages."}),jsxRuntimeExports.jsx("ul",{className:"space-y-1 text-sm",children:dt.map($t=>jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("button",{onClick:()=>et($t.id),className:"w-full text-left px-2 py-1.5 rounded-lg hover:bg-gray-900 hover:text-white text-gray-300 text-xs transition",children:$t.label})},$t.id))})]})}),jsxRuntimeExports.jsx("div",{className:"max-w-3xl mx-auto bg-black/70 rounded-2xl shadow-lg p-8",children:jsxRuntimeExports.jsxs("main",{className:"pb-16",children:[jsxRuntimeExports.jsxs("header",{className:"mb-8 border-b border-gray-800 pb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[jsxRuntimeExports.jsx(ChartNoAxesColumn,{className:"w-7 h-7 text-green"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-silver",children:"Landing Page Analytics"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Track unique visitors, clicks, downloads, and sales over time."})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-[11px] text-gray-400",children:[jsxRuntimeExports.jsx("span",{className:"px-2 py-1 rounded-full bg-gray-900 border border-gray-700",children:"Estimated Learning Time, under 2 minutes"}),jsxRuntimeExports.jsxs("span",{className:"px-2 py-1 rounded-full bg-gray-900 border border-gray-700 flex items-center gap-1",children:[jsxRuntimeExports.jsx(Sparkles,{className:"w-3 h-3 text-green"}),"Best For, creators optimizing page performance"]})]})]}),jsxRuntimeExports.jsxs("section",{id:"intro",className:"mb-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2 text-silver",children:"1. Introduction"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 leading-relaxed mb-3",children:"The Analytics dashboard gives you a clear picture of how your landing page is performing. You can see how many people visit, how many click your CTA, how many download your lead magnet, and how many complete a purchase."}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300",children:"This makes it easy to test designs, measure improvements, and understand how your audience moves through your funnel."})]}),jsxRuntimeExports.jsxs("section",{id:"overview",className:"mb-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2 text-silver",children:"2. What Analytics Track"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside text-sm text-gray-300 space-y-1",children:[jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Unique Visitors"}),", people who viewed your landing page"]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Clicks"}),", taps or clicks on your main CTA or Stripe button"]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Downloads"}),", how many times your PDF was downloaded"]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Sales"}),", purchases completed through Stripe Checkout"]})]})]}),jsxRuntimeExports.jsxs("section",{id:"ranges",className:"mb-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2 text-silver",children:"3. 7, 14, 30, and 90-Day Filters"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"You can switch between different time periods to see how your page performs over short or long ranges:"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside text-sm text-gray-300 space-y-1",children:[jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"7 days"}),", perfect for new pages and quick tests"]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"14 days"}),", wider snapshot of engagement"]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"30 days"}),", a full month of performance"]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"90 days"}),", long-term behavior and trends"]})]})]}),jsxRuntimeExports.jsxs("section",{id:"unique",className:"mb-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2 text-silver",children:"4. How Unique Visitors Are Counted"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-300 mb-3",children:["Cre8tly tracks"," ",jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"unique visitors"})," by counting each device or browser session only once per day. This means:"]}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside text-sm text-gray-300 space-y-1",children:[jsxRuntimeExports.jsx("li",{children:"If the same person visits your page multiple times in one day, it counts as 1 view"}),jsxRuntimeExports.jsx("li",{children:"If they return the next day, it counts as another unique view"}),jsxRuntimeExports.jsx("li",{children:"This prevents inflated numbers and gives clean, accurate data"})]})]}),jsxRuntimeExports.jsxs("section",{id:"exclusions",className:"mb-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2 text-silver",children:"5. Views That Are NOT Counted"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-300 leading-relaxed mb-3",children:["To keep your analytics accurate, Cre8tly automatically excludes your own visits when you click"," ",jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Visit Live URL"})," inside the Landing Page Builder."]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 mb-2",children:"This means:"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside text-sm text-gray-300 space-y-1",children:[jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Your own views do not count"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Your own CTA clicks do not count"})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Your own downloads do not count"})})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 mt-3",children:"Only real visitorsactual potential customersare included."})]}),jsxRuntimeExports.jsxs("section",{id:"metrics",className:"mb-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2 text-silver flex items-center gap-2",children:"6. Understanding Each Metric"}),jsxRuntimeExports.jsxs("div",{className:"space-y-5",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:"text-sm font-semibold text-gray-200 flex items-center gap-2 mb-1",children:[jsxRuntimeExports.jsx(Activity,{className:"w-4 h-4 text-gray-400"}),"Unique Views"]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300",children:"How many individual people saw your landing page during the selected time range."})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:"text-sm font-semibold text-gray-200 flex items-center gap-2 mb-1",children:[jsxRuntimeExports.jsx(MousePointerClick,{className:"w-4 h-4 text-gray-400"}),"Clicks"]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300",children:"Tracks clicks on your CTA button or Stripe Checkout button. This shows how many visitors engaged with your offer."})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:"text-sm font-semibold text-gray-200 flex items-center gap-2 mb-1",children:[jsxRuntimeExports.jsx(Download,{className:"w-4 h-4 text-gray-400"}),"Downloads"]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300",children:"Counts how many times your lead magnet or PDF was downloaded from your page."})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:"text-sm font-semibold text-gray-200 flex items-center gap-2 mb-1",children:[jsxRuntimeExports.jsx(DollarSign,{className:"w-4 h-4 text-gray-400"}),"Sales"]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300",children:"How many purchases were completed through Stripe Checkout."})]})]})]}),jsxRuntimeExports.jsxs("section",{id:"charts",className:"mb-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2 text-silver",children:"7. Charts & Visual Data"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"The bar chart shows a daily breakdown of Views, Clicks, and Downloads across the selected date range. Missing days are automatically filled so the graph always displays a complete timeline."}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300",children:"Hover over any bar to see the exact numbers for that day."})]}),jsxRuntimeExports.jsxs("section",{id:"faq",className:"mb-10",children:[jsxRuntimeExports.jsxs("h2",{className:"text-lg font-semibold mb-2 text-silver flex items-center gap-2",children:["8. Troubleshooting"," ",jsxRuntimeExports.jsx(CircleQuestionMark,{className:"w-4 h-4 text-gray-400"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-semibold text-gray-200 mb-1",children:"My analytics show zero views"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300",children:"Remember that your own visits are not counted. Have someone else visit your page or share your link publicly to start generating real data."})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-semibold text-gray-200 mb-1",children:"The chart has gaps or missing days"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300",children:"This is normal. Days with no activity are shown as zero so your timeline stays accurate."})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-semibold text-gray-200 mb-1",children:"My downloads increased but my sales didnt"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300",children:"High downloads but low sales often mean your CTA or offer needs clarification or a stronger headline."})]})]})]})]})})]})}function SiteLayout(){const dt=useLocation();return reactExports.useEffect(()=>{window.scrollTo({top:0,behavior:"auto"})},[dt.pathname]),jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-white text-black",children:[jsxRuntimeExports.jsx(Nav,{}),jsxRuntimeExports.jsx("main",{className:"relative min-h-screen bg-white",children:jsxRuntimeExports.jsx(Outlet,{})}),jsxRuntimeExports.jsx(Footer,{})]})}function LandingInfoPage(){const dt=Tt=>({hidden:{opacity:0,x:Tt?60:-60},visible:{opacity:1,x:0,transition:{duration:.6,ease:"easeOut"}}}),et=Tt=>({hidden:{opacity:0,x:Tt?-60:60,scale:.96},visible:{opacity:1,x:0,scale:1,transition:{duration:.6,ease:"easeOut"}}}),$t={hidden:{opacity:0,y:40},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}},kt=[{title:"Build and Publish Landing Pages Instantly",description:"Create high-converting landing pages in minutes and publish them instantly with a free The Messy Attic subdomain you can share anywhere.",image:landing},{title:"Drag, Drop, and Design With Ease",description:"Use a flexible block based builder to structure your page exactly how you want, sections, content blocks, offers, and calls to action.",image:blocks},{title:"Sell Digital Products Instantly",description:"Turn landing pages into revenue generators by selling PDFs, guides, audio, and digital downloads directly from your page.",image:downLoadFeature},{title:"Built In Checkout and Payments",description:"Accept payments through secure Stripe Express checkout and receive weekly payouts with no extra setup.",image:stripeCheckout},{title:"Capture Leads Automatically",description:"Collect emails and leads directly from your landing pages and build your audience with every visit.",image:leadCapture},{title:"AI Powered Content Creation",description:"Generate headlines, descriptions, offers, buttons, and full landing page copy using built-in AI inside your landing page blocks.",image:aiCopy},{title:"Save Versions and Iterate Without Risk",description:"Automatically save versions of your landing page so you can experiment, refine, and improve without losing previous work.",image:versions},{title:"Stay Organized With Section Containers",description:"Group content into containers to keep your landing page clean, structured, and easy to manage as it grows.",image:containers},{title:"Offer PDFs Youve Already Created",description:"Attach any PDF created inside The Messy Attic directly to your landing page and turn it into a downloadable or sellable offer.",image:offer},{title:"Built-In Free Download Offers",description:"Create free download offers to capture emails and deliver PDFs instantly without extra tools or integrations.",image:freeOffer},{title:"Fully Custom Brand Control",description:"Apply your brand logo, background themes, font styles, and text colors so every landing page matches your identity perfectly.",image:customBranding},{title:"Real-Time Landing Page Preview",description:"Preview your landing page live as you build so you always know exactly how it will look before publishing.",image:landingPreview},{title:"Flexible Block-Based Builder",description:"Design pages using powerful content blocks including headings, text, images, videos, dividers, FAQs, testimonials, countdown timers, and more.",image:blockFeatures},{title:"Conversion-Focused Offer Blocks",description:"Highlight offers with banners, pricing grids, verified reviews, and feature sections designed to increase trust and conversions.",image:blockConversion},{title:"Secure Checkout and Payments",description:"Accept payments with secure Stripe checkout blocks so customers can purchase directly from your landing page with confidence.",image:secureCheckout},{title:"Built-In Media and Interactive Blocks",description:"Add videos, audio players, social links, calendars, and countdown timers to create engaging, interactive experiences.",image:audioPlayer},{title:"Referral and Growth Tools",description:"Use shareable links to encourage word-of-mouth growth and expand your reach organically.",image:freeSubDomain},{title:"One Dashboard, Everything Connected",description:"Design, publish, track, and update your landing pages from one dashboard without switching between multiple tools..",image:tools}];return jsxRuntimeExports.jsx("main",{className:"w-full bg-white pt-32 pb-32",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-6 relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute left-1/2 top-8 bottom-8 w-px bg-gray-300 hidden lg:block"}),jsxRuntimeExports.jsx("div",{className:"flex flex-col gap-32",children:kt.map((Tt,Dt)=>{const Ft=Dt%2===1;return jsxRuntimeExports.jsxs(motion.div,{className:"relative grid grid-cols-1 lg:grid-cols-2 items-center gap-16",initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-120px"},children:[jsxRuntimeExports.jsx(motion.div,{initial:{scale:0,opacity:0},whileInView:{scale:1,opacity:1},transition:{duration:.4,ease:"easeOut"},viewport:{once:!0},className:"absolute left-1/2 -translate-x-1/2 w-8 h-8 rounded-full bg-black text-white flex items-center justify-center text-sm font-semibold z-10 hidden lg:flex",children:Dt+1}),jsxRuntimeExports.jsxs(motion.div,{variants:dt(Ft),className:`flex flex-col ${Ft?"lg:col-start-2":"lg:col-start-1"}`,children:[jsxRuntimeExports.jsx(motion.h2,{className:"text-3xl font-bold text-black mb-4",children:Tt.title}),jsxRuntimeExports.jsx(motion.p,{className:"text-lg text-gray-600 leading-relaxed max-w-xl",children:Tt.description})]}),jsxRuntimeExports.jsx(motion.div,{variants:et(Ft),className:`w-full ${Ft?"lg:col-start-1":"lg:col-start-2"}`,children:jsxRuntimeExports.jsx("div",{className:"bg-gray-100 aspect-[16/9] rounded-3xl overflow-hidden shadow-xl",children:jsxRuntimeExports.jsx("img",{loading:"lazy",src:Tt.image,alt:Tt.title,className:"w-full h-full object-cover"})})})]},Dt)})}),jsxRuntimeExports.jsx(motion.section,{className:"mt-48",initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-100px"},variants:$t,children:jsxRuntimeExports.jsx("div",{className:"max-w-6xl mx-auto px-6",children:jsxRuntimeExports.jsxs(motion.div,{variants:$t,className:`
              relative overflow-hidden
              rounded-3xl
              bg-gradient-to-br from-black via-gray-900 to-black
              px-10 py-16
              shadow-2xl
            `,children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 opacity-30 bg-[radial-gradient(circle_at_top,rgba(255,255,255,0.12),transparent_60%)]"}),jsxRuntimeExports.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center",children:[jsxRuntimeExports.jsx(motion.h2,{variants:$t,className:"text-4xl font-bold text-white mb-4",children:"Preview a Real Landing Page"}),jsxRuntimeExports.jsx(motion.p,{variants:$t,className:"text-lg text-gray-300 max-w-2xl mb-10",children:"Explore a fully built, live landing page created with Cre8tly Studio. See the design, flow, and conversion structure in action."}),jsxRuntimeExports.jsxs(motion.button,{variants:$t,type:"button",onClick:()=>window.open("https://theinspirecollective.themessyattic.com/","_blank","noopener,noreferrer"),className:`
                  group inline-flex items-center gap-3
                  rounded-full
                  bg-white text-black
                  px-10 py-5
                  text-lg font-semibold
                  shadow-xl
                  transition-all duration-300
                  hover:shadow-2xl
                  hover:-translate-y-0.5
                  focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-black
                `,children:["View Live Landing Page",jsxRuntimeExports.jsx("svg",{className:"w-5 h-5 transition-transform duration-300 group-hover:translate-x-1",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})]}),jsxRuntimeExports.jsx(motion.span,{variants:$t,className:"mt-4 text-sm text-gray-400",children:"Opens a live example in a new tab"})]})]})})})]})})}const reveal$1={hidden:{y:24},visible:{y:0,transition:{duration:.6,ease:"easeOut"}}},stagger$2={visible:{transition:{staggerChildren:.12}}},Pill=({children:dt})=>jsxRuntimeExports.jsx("span",{className:"inline-flex items-center gap-1 rounded-full border border-gray-200 bg-gray-50 px-3 py-1 text-xs font-semibold tracking-wide text-gray-700",children:dt}),Card$1=({className:dt="",children:et})=>jsxRuntimeExports.jsx("div",{className:["rounded-2xl border border-gray-200 bg-white shadow-sm",dt].join(" "),children:et}),RangeButton=({active:dt,children:et,onClick:$t})=>jsxRuntimeExports.jsx("button",{type:"button",onMouseDown:kt=>kt.preventDefault(),onClick:$t,className:["px-4 py-2 min-w-[88px] rounded-full text-sm font-semibold border transition select-none whitespace-nowrap",dt?"bg-green text-gray-700 border-green":"bg-white text-gray-600 border-gray-300 hover:bg-gray-100"].join(" "),children:et}),Stat=({icon:dt,label:et,value:$t,sub:kt,color:Tt})=>jsxRuntimeExports.jsxs(motion.div,{variants:reveal$1,whileHover:{y:-6},className:"rounded-2xl border border-gray-200 bg-white p-5 shadow-sm transition",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:`h-10 w-10 rounded-xl flex items-center justify-center ${Tt}`,children:jsxRuntimeExports.jsx(dt,{className:"h-5 w-5 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-xs font-semibold text-gray-500",children:et}),jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-gray-900",children:$t})]})]}),kt&&jsxRuntimeExports.jsx("div",{className:"mt-3 text-sm text-gray-600",children:kt})]});function formatNumber(dt){return new Intl.NumberFormat().format(dt)}function AnalyticsFeaturePage(){const dt=useNavigate(),et=Ft=>{const Ut=localStorage.getItem("ref_slug");return dt(Ut?`${Ft}?ref=${Ut}`:Ft)},$t=reactExports.useMemo(()=>[{key:"7",label:"7 days",mult:1},{key:"14",label:"14 days",mult:1.6},{key:"30",label:"30 days",mult:2.8},{key:"90",label:"90 days",mult:6.9}],[]),[kt,Tt]=reactExports.useState("30"),Dt=reactExports.useMemo(()=>{const Ht=$t.find(Zt=>Zt.key===kt)||$t[2],Kt=Math.round(1800*Ht.mult),Yt=Math.round(420*Ht.mult),Jt=Math.max(5,Math.min(40,Math.round(Yt/Kt*100)));return{clicks:Kt,downloads:Yt,conversion:Jt,trend:Ht.key==="7"?8:Ht.key==="14"?14:Ht.key==="30"?26:41}},[kt,$t]);return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-white text-gray-900 pt-24",children:[jsxRuntimeExports.jsxs("section",{className:"relative mx-auto max-w-6xl px-4 sm:px-6 pt-16 pb-14 sm:pt-20 sm:pb-20",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-green sm:rounded-xl"}),jsxRuntimeExports.jsxs(motion.div,{variants:stagger$2,initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"relative grid gap-10 lg:grid-cols-2 items-center",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-5 text-center lg:text-left px-2 sm:px-0",children:[jsxRuntimeExports.jsxs(motion.div,{variants:reveal$1,className:"flex flex-wrap gap-2 justify-center lg:justify-start",children:[jsxRuntimeExports.jsxs(Pill,{children:[jsxRuntimeExports.jsx(ChartColumn,{className:"h-4 w-4"}),"Analytics"]}),jsxRuntimeExports.jsxs(Pill,{children:[jsxRuntimeExports.jsx(Sparkles,{className:"h-4 w-4"}),"Digital product tracking"]}),jsxRuntimeExports.jsxs(Pill,{children:[jsxRuntimeExports.jsx(ShieldCheck,{className:"h-4 w-4"}),"Business ready insights"]})]}),jsxRuntimeExports.jsxs(motion.h1,{variants:reveal$1,className:"text-4xl sm:text-5xl lg:text-6xl font-extrabold tracking-tight text-gray-700",children:["Analytics help you",jsxRuntimeExports.jsx("span",{className:"block",children:"grow with confidence."})]}),jsxRuntimeExports.jsx(motion.p,{variants:reveal$1,className:"max-w-2xl mx-auto lg:mx-0 text-lg text-gray-700/80",children:"Track views, clicks, and downloads across 7, 14, 30, and 90 day windows so you always know what is working and what to improve."})]}),jsxRuntimeExports.jsx(motion.div,{variants:reveal$1,className:"flex justify-center lg:justify-end pt-2 sm:pt-0",children:jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 rounded-full bg-black/10 blur-xl"}),jsxRuntimeExports.jsx("div",{className:`
            relative
            flex items-center justify-center
            rounded-full
            bg-white/60
            border border-black/10
            h-28 w-28
            sm:h-36 sm:w-36
            lg:h-64 lg:w-64
          `,children:jsxRuntimeExports.jsx(ChartColumn,{className:"h-14 w-14 sm:h-18 sm:w-18 lg:h-32 lg:w-32 text-gray-700"})})]})})]})]}),jsxRuntimeExports.jsx("section",{className:"mx-auto max-w-6xl px-6 pb-20 pt-24",children:jsxRuntimeExports.jsx(Card$1,{className:"p-6 sm:p-8",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm font-semibold text-gray-700",children:"Performance snapshot"}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Demo preview using sample data"})]}),jsxRuntimeExports.jsx("div",{className:"flex gap-2",children:$t.map(Ft=>jsxRuntimeExports.jsx(RangeButton,{active:kt===Ft.key,onClick:()=>Tt(Ft.key),children:Ft.label},Ft.key))})]}),jsxRuntimeExports.jsxs(motion.div,{variants:stagger$2,initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"grid gap-4 md:grid-cols-3",children:[jsxRuntimeExports.jsx(Stat,{icon:MousePointerClick,label:"Total clicks",value:formatNumber(Dt.clicks),sub:"All landing page interactions",color:"bg-black"}),jsxRuntimeExports.jsx(Stat,{icon:Download,label:"Total downloads",value:formatNumber(Dt.downloads),sub:"Assets delivered to users",color:"bg-downloadGreen"}),jsxRuntimeExports.jsxs(motion.div,{variants:reveal$1,whileHover:{y:-6},className:"rounded-2xl border border-gray-200 bg-white p-5 shadow-sm transition",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"h-10 w-10 rounded-xl bg-royalPurple flex items-center justify-center",children:jsxRuntimeExports.jsx(TrendingUp,{className:"h-5 w-5 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-xs font-semibold text-gray-500",children:"Conversion rate"}),jsxRuntimeExports.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[Dt.conversion,"%"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-xs font-semibold text-gray-500",children:[jsxRuntimeExports.jsx("span",{children:"Momentum"}),jsxRuntimeExports.jsxs("span",{children:["+",Dt.trend,"%"]})]}),jsxRuntimeExports.jsx("div",{className:"mt-2 h-2 w-full rounded-full bg-gray-200",children:jsxRuntimeExports.jsx("div",{className:"h-full rounded-full bg-royalPurple",style:{width:`${Dt.trend}%`}})})]})]})]})]})})}),jsxRuntimeExports.jsxs("section",{className:"mx-auto max-w-6xl px-6 py-20",children:[jsxRuntimeExports.jsxs(motion.div,{variants:reveal$1,initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"mb-12 max-w-2xl",children:[jsxRuntimeExports.jsxs("h2",{className:"text-3xl sm:text-4xl font-extrabold tracking-tight text-gray-700",children:["Built for growth,",jsxRuntimeExports.jsx("span",{className:"block",children:"not guesswork."})]}),jsxRuntimeExports.jsx("p",{className:"mt-4 text-gray-600",children:"Analytics turn effort into strategy. When you know what users click and download, you can scale what works and fix what does not."})]}),jsxRuntimeExports.jsx(motion.div,{variants:stagger$2,initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[Clock,MousePointerClick,Download,TrendingUp].map((Ft,Ut)=>jsxRuntimeExports.jsx(motion.div,{variants:reveal$1,children:jsxRuntimeExports.jsxs(Card$1,{className:"p-6 hover:-translate-y-1 transition",children:[jsxRuntimeExports.jsx(Ft,{className:"h-5 w-5 text-emerald-600"}),jsxRuntimeExports.jsx("div",{className:"mt-3 font-bold",children:["Time based insights","Track real intent","Clear performance signals","Scale with confidence"][Ut]}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Make smarter decisions with real performance data."})]})},Ut))})]}),jsxRuntimeExports.jsx("section",{className:"mx-auto max-w-6xl px-6 pb-24",children:jsxRuntimeExports.jsxs(Card$1,{className:"relative p-10",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-green rounded-xl"}),jsxRuntimeExports.jsxs("div",{className:"relative flex flex-col md:flex-row md:items-center md:justify-between gap-8",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm font-semibold text-gray-700",children:"The Messy Attic Analytics"}),jsxRuntimeExports.jsx("div",{className:"mt-2 text-3xl sm:text-4xl font-extrabold text-gray-700 leading-tight",children:"Know more. Convert more."}),jsxRuntimeExports.jsx("p",{className:"mt-3 text-gray-800 max-w-xl",children:"Track performance across time, understand user behavior, and grow your digital products with clarity."})]}),jsxRuntimeExports.jsx("div",{className:"flex gap-3",children:jsxRuntimeExports.jsx("button",{onClick:()=>et("/plans"),className:"rounded-xl border border-black/40 px-6 py-3 text-sm font-bold text-gray-700 hover:bg-white/10 transition",children:"Get started for free"})})]})]})})]})}const Card=({className:dt="",children:et})=>jsxRuntimeExports.jsx("div",{className:["rounded-2xl border border-gray-200 bg-white shadow-sm",dt].join(" "),children:et}),reveal={hidden:{y:24},visible:{y:0,transition:{duration:.6,ease:"easeOut"}}},stagger$1={visible:{transition:{staggerChildren:.12}}};function CommunityFeaturePage(){const dt=useNavigate(),et=$t=>{const kt=localStorage.getItem("ref_slug");return dt(kt?`${$t}?ref=${kt}`:$t)};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-white text-gray-900 pt-20",children:[jsxRuntimeExports.jsxs("section",{className:"relative mx-auto max-w-6xl px-4 sm:px-6 pt-16 pb-14 sm:pt-20 sm:pb-20 overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black to-neutral-900 sm:rounded-xl"}),jsxRuntimeExports.jsxs(motion.div,{variants:stagger$1,initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"relative grid gap-8 lg:grid-cols-2 items-center",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-5 text-center lg:text-left px-2 sm:px-0",children:[jsxRuntimeExports.jsx(motion.div,{variants:reveal,className:"text-sm font-medium tracking-wide text-white/70 uppercase",children:"SUBSCRIPTION-FIRST  WRITING-LED  INVITE-ONLY"}),jsxRuntimeExports.jsx(motion.h1,{variants:reveal,className:"text-4xl sm:text-5xl lg:text-6xl font-extrabold tracking-tight text-white",children:"A subscription-first community built for writers."}),jsxRuntimeExports.jsx(motion.p,{variants:reveal,className:"max-w-2xl mx-auto lg:mx-0 text-lg text-white/90",children:"Publish posts, invite your audience, and build a focused community without follows, feeds, or algorithms."})]}),jsxRuntimeExports.jsx(motion.div,{variants:reveal,className:"flex justify-center lg:justify-end pt-2 sm:pt-0",children:jsxRuntimeExports.jsx("div",{className:"relative flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:`
      flex items-center justify-center 
      rounded-full
      border border-white/10
      h-28 w-28
      sm:h-36 sm:w-36
      lg:h-64 lg:w-64
    `,children:jsxRuntimeExports.jsx(PenTool,{className:"h-14 w-14 sm:h-18 sm:w-18 lg:h-32 lg:w-32 text-neutral-200"})})})})]})]}),jsxRuntimeExports.jsx("section",{className:"mx-auto max-w-6xl px-6 pb-20 pt-20",children:jsxRuntimeExports.jsx(Card,{className:"p-6 sm:p-8",children:jsxRuntimeExports.jsx(motion.div,{variants:stagger$1,initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"grid gap-6 md:grid-cols-3",children:[{icon:Users,title:"Subscribe only, no follows",desc:"Members subscribe intentionally. No followers, no feeds, no algorithmic noise."},{icon:FileText,title:"Professional posts",desc:"Publish long form posts with a clean editor built for serious writing."},{icon:Upload,title:"Invite by CSV",desc:"Upload your email list and invite your existing audience directly."}].map(({icon:$t,title:kt,desc:Tt,color:Dt})=>jsxRuntimeExports.jsxs(motion.div,{variants:reveal,whileHover:{y:-6},className:"rounded-xl border border-gray-200 bg-white p-5 shadow-sm transition",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-md border border-gray-200 text-gray-700",children:jsxRuntimeExports.jsx($t,{className:"h-5 w-5 text-black"})}),jsxRuntimeExports.jsx("div",{className:"font-bold",children:kt})]}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-sm text-gray-600",children:Tt})]},kt))})})}),jsxRuntimeExports.jsxs("section",{className:"mx-auto max-w-6xl px-6 py-20",children:[jsxRuntimeExports.jsxs(motion.div,{variants:reveal,initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"mb-12 max-w-2xl",children:[jsxRuntimeExports.jsxs("h2",{className:"text-2xl sm:text-4xl font-extrabold tracking-tight text-gray-800 leading-tight",children:["Everything a modern",jsxRuntimeExports.jsx("span",{className:"block",children:"community needs"})]}),jsxRuntimeExports.jsx("p",{className:"mt-4 text-gray-600",children:"The Messy Attic communities are designed for focus, ownership, and meaningful discussion without algorithms or social feeds."})]}),jsxRuntimeExports.jsx(motion.div,{variants:stagger$1,initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[{icon:Users,title:"Creator profiles",color:"text-blue-600",desc:"Each creator has a dedicated profile with bio, links, and a clear identity."},{icon:MessageSquare,title:"Comments and discussion",color:"text-purple-600",desc:"Readers can comment, reply, and take part in thoughtful discussion together."},{icon:Share2,title:"Shareable posts",color:"text-emerald-600",desc:"Every post includes a shareable link you can use anywhere online."},{icon:Lock,title:"Intentional access",color:"text-pink-600",desc:"Subscription based access keeps communities focused, respectful, and intentional."}].map(({icon:$t,title:kt,desc:Tt,color:Dt})=>jsxRuntimeExports.jsx(motion.div,{variants:reveal,children:jsxRuntimeExports.jsxs(Card,{className:"p-6 hover:-translate-y-1 transition",children:[jsxRuntimeExports.jsx($t,{className:`h-5 w-5 ${Dt}`}),jsxRuntimeExports.jsx("div",{className:"mt-3 font-bold",children:kt}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-sm text-gray-600",children:Tt})]})},kt))})]}),jsxRuntimeExports.jsx("section",{className:"mx-auto max-w-6xl px-6 pb-24",children:jsxRuntimeExports.jsxs(Card,{className:"relative overflow-hidden p-10",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black to-neutral-900 sm:rounded-xl"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-black/20"}),jsxRuntimeExports.jsxs("div",{className:"relative flex flex-col md:flex-row md:items-center md:justify-between gap-8",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm font-semibold text-white/80",children:"The Messy Attic Community"}),jsxRuntimeExports.jsx("div",{className:"mt-2 text-3xl sm:text-4xl font-extrabold text-white leading-tight",children:"Build a community around your writing."}),jsxRuntimeExports.jsx("p",{className:"mt-3 text-white/90 max-w-xl",children:"Publish posts, invite your audience, and host thoughtful discussion without followers or algorithms."})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:()=>et("/signup-community"),className:"rounded-xl bg-white px-6 py-3 text-sm font-bold text-gray-900 shadow-lg hover:bg-gray-100 transition",children:"Join the community"}),jsxRuntimeExports.jsx("button",{onClick:()=>et("/plans"),className:"rounded-xl border border-white/40 px-6 py-3 text-sm font-semibold text-white hover:bg-white/10 transition",children:"Start free trial"})]})]})]})})]})}const fadeUp={hidden:{opacity:0,y:40},visible:{opacity:1,y:0,transition:{duration:.7,ease:"easeOut"}}},stagger={visible:{transition:{staggerChildren:.12}}},floatSlow={animate:{y:[0,-12,0],transition:{duration:6,repeat:1/0,ease:"easeInOut"}}};function StripePayments(){const dt=useNavigate(),et=$t=>{const kt=localStorage.getItem("ref_slug");return dt(kt?`${$t}?ref=${kt}`:$t)};return jsxRuntimeExports.jsxs("main",{className:"relative w-full min-h-screen bg-white pt-32 pb-32 px-6",children:[jsxRuntimeExports.jsx(motion.div,{className:"absolute -top-40 left-1/2 -translate-x-1/2 w-[1000px] h-[1000px] rounded-full bg-green/10 blur-3xl pointer-events-none",variants:floatSlow,animate:"animate"}),jsxRuntimeExports.jsxs(motion.section,{variants:stagger,initial:"hidden",animate:"visible",className:"max-w-6xl mx-auto text-center mb-32",children:[jsxRuntimeExports.jsx(motion.h1,{variants:fadeUp,className:"text-4xl sm:text-5xl lg:text-6xl font-extrabold text-black design-text mb-6",children:"Accept payments instantly with Stripe"}),jsxRuntimeExports.jsx(motion.p,{variants:fadeUp,className:"max-w-2xl mx-auto text-black/80 text-lg mb-10",children:"The Messy Attic connects Stripe directly to your products so you can get paid without friction."}),jsxRuntimeExports.jsxs(motion.button,{onClick:()=>et("/plans"),variants:fadeUp,whileHover:{scale:1.06},whileTap:{scale:.96},className:"inline-flex items-center gap-2 px-8 py-4 rounded-xl bg-black text-white font-semibold text-lg shadow-lg",children:["Start selling with Stripe",jsxRuntimeExports.jsx(ArrowRight,{className:"h-5 w-5"})]})]}),jsxRuntimeExports.jsxs("section",{className:"relative max-w-6xl mx-auto mb-40",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 -z-10 bg-gradient-to-br from-green/10 via-transparent to-transparent blur-3xl rounded-[40px]"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:[{icon:jsxRuntimeExports.jsx(Zap,{}),title:"Launch faster",text:"Create an offer and start accepting payments the same day.",accent:"from-green to-emerald-400"},{icon:jsxRuntimeExports.jsx(CreditCard,{}),title:"Checkout that converts",text:"Stripe Checkout is trusted worldwide and optimized for sales.",accent:"from-indigo-500 to-purple-500"},{icon:jsxRuntimeExports.jsx(Banknote,{}),title:"Automatic payouts",text:"Funds are deposited directly into your bank account.",accent:"from-emerald-400 to-green"},{icon:jsxRuntimeExports.jsx(ShieldCheck,{}),title:"Enterprise security",text:"Fraud protection and compliance handled by Stripe.",accent:"from-slate-600 to-slate-800"},{icon:jsxRuntimeExports.jsx(Globe,{}),title:"Sell globally",text:"Accept payments worldwide without extra setup.",accent:"from-cyan-500 to-blue-600"},{icon:jsxRuntimeExports.jsx(Zap,{}),title:"Instant delivery",text:"Products are delivered automatically after purchase.",accent:"from-green to-lime-400"}].map(($t,kt)=>jsxRuntimeExports.jsxs(motion.div,{initial:"hidden",whileInView:"visible",variants:fadeUp,viewport:{once:!0},whileHover:{y:-10,scale:1.02},transition:{duration:.5},className:"group relative rounded-[28px] p-[1px] overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${$t.accent} opacity-40 group-hover:opacity-100 transition`}),jsxRuntimeExports.jsxs("div",{className:"relative h-full rounded-[27px] bg-black text-white p-8 flex flex-col justify-between",children:[jsxRuntimeExports.jsx(motion.div,{className:"flex items-center justify-center h-14 w-14 rounded-2xl bg-white/10 text-green mb-6",animate:{rotate:[0,2,-2,0]},transition:{duration:6,repeat:1/0},children:$t.icon}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold mb-3",children:$t.title}),jsxRuntimeExports.jsx("p",{className:"text-white/70 leading-relaxed",children:$t.text})]}),jsxRuntimeExports.jsx("div",{className:"mt-8 h-[2px] w-0 bg-green group-hover:w-full transition-all duration-500"})]})]},kt))})]}),jsxRuntimeExports.jsxs("section",{className:"relative max-w-6xl mx-auto mb-40",children:[jsxRuntimeExports.jsx("div",{className:"absolute -top-24 left-1/2 -translate-x-1/2 w-[900px] h-[400px] bg-green/10 blur-3xl rounded-full -z-10"}),jsxRuntimeExports.jsxs(motion.div,{variants:stagger,initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"text-center mb-20",children:[jsxRuntimeExports.jsx(motion.h2,{variants:fadeUp,className:"text-4xl sm:text-5xl font-extrabold text-black mb-4",children:"Create an offer. Connect Stripe. Get paid."}),jsxRuntimeExports.jsx(motion.p,{variants:fadeUp,className:"max-w-3xl mx-auto text-lg text-black/70",children:"Build your offer, add it to your landing page, connect Stripe Express, and start accepting payments in minutes."})]}),jsxRuntimeExports.jsx(motion.div,{variants:stagger,initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[{step:"01",title:"Create your offer",text:"Set pricing, upload content, and define what buyers receive."},{step:"02",title:"Add it to your page",text:"Drop the offer onto your landing page instantly."},{step:"03",title:"Connect Stripe Express",text:"Fast onboarding with secure identity and bank setup."},{step:"04",title:"Get paid automatically",text:"Stripe processes payments and deposits funds directly."}].map(($t,kt)=>jsxRuntimeExports.jsxs(motion.div,{variants:fadeUp,whileHover:{y:-8},className:"group relative rounded-3xl p-[1px] overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green via-emerald-400 to-lime-300 opacity-30 group-hover:opacity-60 transition"}),jsxRuntimeExports.jsxs("div",{className:"relative h-full rounded-[22px] bg-white p-8 text-left shadow-md hover:shadow-xl transition",children:[jsxRuntimeExports.jsxs("div",{className:"text-sm font-bold text-gray-400 mb-3",children:["STEP ",$t.step]}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-black mb-3",children:$t.title}),jsxRuntimeExports.jsx("p",{className:"text-black/70 leading-relaxed",children:$t.text})]})]},kt))}),jsxRuntimeExports.jsxs("div",{className:"mt-20 text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-lg text-black/80 mb-4",children:"Your money never sits in The Messy Attic"}),jsxRuntimeExports.jsx("p",{className:"max-w-2xl mx-auto text-black/60",children:"Stripe handles payments and deposits funds directly to your bank. Standard payouts arrive in 2 to 3 business days."})]})]}),jsxRuntimeExports.jsx("section",{className:"max-w-6xl mx-auto text-center",children:jsxRuntimeExports.jsxs("div",{className:"rounded-3xl bg-black text-white px-10 py-20",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl sm:text-4xl font-bold mb-6",children:"Ready to start getting paid"}),jsxRuntimeExports.jsx("p",{className:"max-w-xl mx-auto text-white/80 mb-10",children:"Connect Stripe once and sell every product you create inside Cre8tly Studio."}),jsxRuntimeExports.jsxs(motion.button,{onClick:()=>et("/plans"),whileHover:{scale:1.07},whileTap:{scale:.95},animate:{boxShadow:["0 0 0 rgba(0,0,0,0)","0 0 30px rgba(34,197,94,0.6)","0 0 0 rgba(0,0,0,0)"]},transition:{duration:3,repeat:1/0},className:"inline-flex items-center gap-2 px-8 py-4 rounded-xl bg-green text-black font-semibold text-lg",children:["Get started for free",jsxRuntimeExports.jsx(ArrowRight,{className:"h-5 w-5"})]})]})})]})}function AuthorsAssistant(){const dt=useNavigate(),et=$t=>{const kt=localStorage.getItem("ref_slug");return dt(kt?`${$t}?ref=${kt}`:$t)};return jsxRuntimeExports.jsx("section",{className:"w-full bg-white",children:jsxRuntimeExports.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-28",children:[jsxRuntimeExports.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-20",children:[jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-2 text-gray-500 text-sm font-medium mb-6 tracking-wide",children:[jsxRuntimeExports.jsx(Sparkles,{className:"h-4 w-4"}),"AI Writing Assistant"]}),jsxRuntimeExports.jsx("h1",{className:"text-4xl sm:text-5xl lg:text-[56px] font-semibold text-gray-900 leading-[1.1] tracking-tight",children:"Write, Finalize, and Publish Books With Authors Assistant"}),jsxRuntimeExports.jsx("p",{className:"mt-6 text-[17px] text-gray-500 max-w-2xl mx-auto leading-relaxed",children:"Create, organize, and complete full-length books with an AI system built for serious authors. Authors Assistant structures your work into sections, preserves every revision, and gives you full control over when your book is finalized and published. It does not write books for you. It supports clear thinking, intentional editing, and real completion, so you can produce finished, publishable work without compromising your voice."})]}),jsxRuntimeExports.jsx("div",{className:"mt-20 w-full rounded-2xl bg-white overflow-hidden border border-gray-200",children:jsxRuntimeExports.jsx("div",{className:"aspect-[16/9] w-full",children:jsxRuntimeExports.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-lg font-medium",children:jsxRuntimeExports.jsx("img",{src:bookFeature,alt:"The Messy Attic platform preview",className:"w-full h-full object-cover shadow-sm"})})})}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 gap-8 pt-24",children:[jsxRuntimeExports.jsx(Feature,{icon:BookOpen,iconColor:"text-blue bg-blue/10",title:"Section Based Book Writing",text:"Write your book in structured sections instead of one long document, making complex ideas easier to manage."}),jsxRuntimeExports.jsx(Feature,{icon:PenTool,iconColor:"text-blue bg-blue/10",title:"Endless Editing and Revisions",text:"Rewrite, expand, shorten, or refine any section as many times as you want without starting over."}),jsxRuntimeExports.jsx(Feature,{icon:FileText,iconColor:"text-blue bg-blue/10",title:"Save Drafts Automatically",text:"Your progress is always saved. Come back anytime and continue writing exactly where you left off."}),jsxRuntimeExports.jsx(Feature,{icon:Upload,iconColor:"text-blue bg-blue/10",title:"Upload PDFs and Documents",text:"Import existing manuscripts, notes, outlines, or research from PDFs or text documents."}),jsxRuntimeExports.jsx(Feature,{icon:Sparkles,iconColor:"text-blue bg-blue/10",title:"AI Assisted Section Refinement",text:"Improve clarity, flow, and structure while keeping your original meaning and voice intact."}),jsxRuntimeExports.jsx(Feature,{icon:BookOpen,iconColor:"text-blue bg-blue/10",title:"Long Form Memory Per Project",text:"Authors Assistant understands your book as a whole, not just isolated prompts."}),jsxRuntimeExports.jsx(Feature,{icon:FileText,iconColor:"text-blue bg-blue/10",title:"Upload Your Own Book Cover",text:"Bring your own professionally designed cover and attach it to your book before export."}),jsxRuntimeExports.jsx(Feature,{icon:PenTool,iconColor:"text-blue bg-blue/10",title:"Built for Nonfiction and Fiction",text:"Works with real world material or storytelling without inventing facts or altering intent."}),jsxRuntimeExports.jsx(Feature,{icon:Download,iconColor:"text-blue bg-blue/10",title:"Export and Publish When You Are Ready",text:"Download individual chapters as PDFs during writing, then publish your completed book as a single EPUB when finished."}),jsxRuntimeExports.jsx(Feature,{icon:Lock,iconColor:"text-blue bg-blue/10",title:"Finalize and Lock Your Book",text:"Explicitly finalize your book when it is complete. Once finalized, chapters are locked to preserve a canonical version ready for publishing."}),jsxRuntimeExports.jsx(Feature,{icon:Book,iconColor:"text-blue bg-blue/10",title:"Publish a Complete EPUB Book",text:"Combine all finalized chapters into a single EPUB file, compatible with Kindle and major ebook platforms."}),jsxRuntimeExports.jsx(Feature,{icon:CircleCheckBig,iconColor:"text-blue bg-blue/10",title:"Structured Publishing Workflow",text:"Move from draft to finished book through a clear process: write, revise, finalize, and publish, without accidental changes or broken exports."})]}),jsxRuntimeExports.jsxs("div",{className:"mt-28 text-center border-t border-gray-200 pt-16",children:[jsxRuntimeExports.jsx("h3",{className:"text-3xl font-extrabold text-gray-900",children:"Turn Finished Manuscripts Into Publishable Books"}),jsxRuntimeExports.jsx("p",{className:"mt-4 text-gray-600 max-w-xl mx-auto",children:"Authors Assistant is more than a writing tool. It is a complete book creation and publishing workflow, designed to help serious authors finish what they start."}),jsxRuntimeExports.jsx("div",{className:"mt-8 flex justify-center gap-4",children:jsxRuntimeExports.jsx("button",{onClick:()=>et("/plans"),className:"px-8 py-4 rounded-lg bg-blue text-white font-medium hover:bg-blue/90 transition",children:"Try Authors Assistant"})})]})]})})}function Feature({icon:dt,title:et,text:$t}){return jsxRuntimeExports.jsxs("div",{className:"group relative rounded-2xl border border-gray-200 bg-white p-6 transition-all duration-200 hover:border-gray-300",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-x-0 top-0 h-[1px] bg-gradient-to-r from-transparent via-gray-200 to-transparent opacity-0 group-hover:opacity-100 transition"}),jsxRuntimeExports.jsx("div",{className:"mb-4 flex h-9 w-9 items-center justify-center rounded-lg bg-blue/10 text-blue",children:jsxRuntimeExports.jsx(dt,{className:"h-5 w-5"})}),jsxRuntimeExports.jsx("h4",{className:"text-[15px] font-semibold text-gray-900 tracking-tight",children:et}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-sm text-gray-500 leading-relaxed",children:$t})]})}function SettingsDomains(){const[dt,et]=reactExports.useState([]),[$t,kt]=reactExports.useState(""),[Tt,Dt]=reactExports.useState(!1),[Ft,Ut]=reactExports.useState(null),Ht=useNavigate(),Kt=async()=>{try{const rr=await axiosInstance.get("/domains");et(rr.data.domains||[])}catch(rr){console.error(rr),y$4.error("Failed to load domains")}};reactExports.useEffect(()=>{Kt()},[]);const Yt=async()=>{var rr,sr;if(!$t.trim()){y$4.warning("Enter a domain name");return}Dt(!0);try{await axiosInstance.post("/domains/add",{domain:$t.trim().toLowerCase()}),y$4.success("Domain added. Please verify ownership."),kt(""),Kt()}catch(ir){console.error(ir),y$4.error(((sr=(rr=ir==null?void 0:ir.response)==null?void 0:rr.data)==null?void 0:sr.message)||"Failed to add domain")}finally{Dt(!1)}},Jt=async rr=>{Ut(rr);try{(await axiosInstance.post("/domains/verify",{domain:rr})).data.verified?(y$4.success("Domain verified successfully!"),Kt()):y$4.info("Verification not found yet. Try again shortly.")}catch(sr){console.error(sr),y$4.error("Verification failed")}finally{Ut(null)}},Zt=async rr=>{if(window.confirm("Remove this domain?"))try{await axiosInstance.delete(`/domains/remove/${rr}`),y$4.info("Domain removed"),Kt()}catch(sr){console.error(sr),y$4.error("Failed to remove domain")}},er=async rr=>{try{await axiosInstance.post("/domains/set-primary",{domain:rr}),y$4.success("Primary domain updated"),Kt()}catch(sr){console.error(sr),y$4.error("Failed to set primary domain")}};return jsxRuntimeExports.jsx("div",{className:"flex justify-center w-full min-h-screen bg-[#030712] text-white",children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-[900px] p-6",children:[jsxRuntimeExports.jsxs("div",{className:"mb-10",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Ht("/settings"),className:"mb-4 px-4 py-2 rounded-lg bg-gray-800 text-gray-300 text-sm hover:bg-gray-700 hover:text-white transition",children:" Back to Settings"}),jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Custom Domains"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400 max-w-xl",children:"Connect your own domain to host landing pages under your brand. Domain ownership verification is required."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-[#0B0F19] border border-gray-800 rounded-xl p-6 shadow-lg",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-1",children:"Add New Domain"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Enter a root domain you own, for example yourdomain.com"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"yourdomain.com",value:$t,onChange:rr=>kt(rr.target.value),className:"flex-1 px-4 py-2 rounded-lg bg-gray-900 border border-gray-700 text-white placeholder-gray-500 focus:ring-2 focus:ring-green outline-none"}),jsxRuntimeExports.jsx("button",{onClick:Yt,disabled:Tt,className:"px-6 py-2 rounded-lg bg-royalPurple text-white font-semibold hover:opacity-90 disabled:opacity-60 transition",children:Tt?"Adding...":"Add Domain"})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-3",children:"Subdomains like www will be handled automatically."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-[#0B0F19] border border-gray-800 rounded-xl p-6 shadow-lg mt-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Your Domains"}),dt.length===0?jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"No domains connected yet."}):jsxRuntimeExports.jsx("div",{className:"space-y-4",children:dt.map(rr=>jsxRuntimeExports.jsxs("div",{className:"border border-gray-700 rounded-lg p-4 bg-gray-900/60",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"font-semibold text-white",children:rr.domain}),rr.verified&&jsxRuntimeExports.jsx("span",{className:"text-xs px-2 py-1 rounded-md bg-green/10 text-green font-semibold",children:"Verified"}),rr.is_primary&&jsxRuntimeExports.jsx("span",{className:"text-xs px-2 py-1 rounded-md bg-blue/10 text-blue font-semibold",children:"Primary"})]}),!rr.verified&&jsxRuntimeExports.jsx("p",{className:"text-xs text-amber-400 mt-2",children:"Add this TXT record to your DNS to verify ownership"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2",children:[!rr.verified&&jsxRuntimeExports.jsx("button",{onClick:()=>Jt(rr.domain),disabled:Ft===rr.domain,className:"px-4 py-1.5 text-sm rounded-md bg-amber-500 text-black font-semibold hover:opacity-90",children:Ft===rr.domain?"Verifying...":"Verify"}),rr.verified&&!rr.is_primary&&jsxRuntimeExports.jsx("button",{onClick:()=>er(rr.domain),className:"px-4 py-1.5 text-sm rounded-md bg-gray-800 text-gray-300 hover:border-green border border-gray-700",children:"Set Primary"}),jsxRuntimeExports.jsx("button",{onClick:()=>Zt(rr.domain),className:"px-4 py-1.5 text-sm rounded-md bg-red-600 text-white hover:bg-red-700",children:"Remove"})]})]}),!rr.verified&&jsxRuntimeExports.jsxs("div",{className:"mt-4 bg-black/60 border border-gray-700 rounded-lg p-3 text-xs font-mono text-gray-200",children:[jsxRuntimeExports.jsx("div",{children:"Type: TXT"}),jsxRuntimeExports.jsx("div",{children:"Host: @"}),jsxRuntimeExports.jsxs("div",{className:"break-all",children:["Value: cre8tly-domain-verification=",rr.verification_token]})]}),rr.verified&&!rr.is_primary&&jsxRuntimeExports.jsxs("div",{className:"mt-4 bg-[#0B1220] border border-gray-700 rounded-lg p-4",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-semibold text-white mb-2",children:"Step 2: Point your domain to Cre8tly"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 mb-3",children:"Add ONE of the following DNS records with your domain provider"}),jsxRuntimeExports.jsxs("div",{className:"mb-3",children:[jsxRuntimeExports.jsx("p",{className:"text-xs font-semibold text-green mb-1",children:"Option A (recommended)"}),jsxRuntimeExports.jsxs("div",{className:"bg-black/60 rounded-md p-3 text-xs font-mono text-gray-200 space-y-1",children:[jsxRuntimeExports.jsx("div",{children:"Type: CNAME"}),jsxRuntimeExports.jsx("div",{children:"Host: @"}),jsxRuntimeExports.jsx("div",{children:"Value: domains.themessyattic.com"}),jsxRuntimeExports.jsx("div",{children:"Proxy: ON (orange cloud)"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-xs font-semibold text-blue mb-1",children:"Option B (if @ is not allowed)"}),jsxRuntimeExports.jsxs("div",{className:"bg-black/60 rounded-md p-3 text-xs font-mono text-gray-200 space-y-1",children:[jsxRuntimeExports.jsx("div",{children:"Type: CNAME"}),jsxRuntimeExports.jsx("div",{children:"Host: www"}),jsxRuntimeExports.jsx("div",{children:"Value: domains.themessyattic.com"}),jsxRuntimeExports.jsx("div",{children:"Proxy: ON (orange cloud)"})]})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-3",children:"DNS changes may take a few minutes to propagate"})]})]},rr.domain))})]}),jsxRuntimeExports.jsx("div",{className:"bg-black/40 border border-gray-700 rounded-xl p-5 mt-10",children:jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 leading-relaxed",children:"By connecting a domain, you confirm that you own or control this domain and have permission to use it. The Messy Attic reserves the right to suspend or remove domains used for impersonation, abuse, copyright infringement, or unlawful activity."})})]})})}function CustomDomainsDocs(){const dt=[{id:"intro",label:"Introduction"},{id:"overview",label:"What Custom Domains Do"},{id:"add",label:"Adding a Domain"},{id:"verify",label:"Verifying Ownership"},{id:"point",label:"Pointing Your Domain"},{id:"primary",label:"Primary Domains"},{id:"propagation",label:"DNS Propagation"},{id:"faq",label:"Troubleshooting"}],et=$t=>{const kt=document.getElementById($t);kt&&kt.scrollIntoView({behavior:"smooth",block:"start"})};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 p-2 text-white relative",children:[jsxRuntimeExports.jsx("aside",{className:"hidden lg:block w-64 fixed left-[180px] top-[120px] z-20",children:jsxRuntimeExports.jsxs("div",{className:"bg-[#020617] border border-gray-800 rounded-2xl p-4 shadow-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[jsxRuntimeExports.jsx(BookOpen,{className:"w-5 h-5 text-green"}),jsxRuntimeExports.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wide text-gray-300",children:"Custom Domains Docs"})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 mb-3",children:"Learn how to connect and verify your own domain with The Messy Attic."}),jsxRuntimeExports.jsx("ul",{className:"space-y-1 text-sm",children:dt.map($t=>jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("button",{onClick:()=>et($t.id),className:"w-full text-left px-2 py-1.5 rounded-lg hover:bg-gray-900 hover:text-white text-gray-300 text-xs transition",children:$t.label})},$t.id))})]})}),jsxRuntimeExports.jsx("div",{className:"max-w-3xl mx-auto bg-black/70 rounded-2xl shadow-lg p-8",children:jsxRuntimeExports.jsxs("main",{className:"pb-16",children:[jsxRuntimeExports.jsxs("header",{className:"mb-8 border-b border-gray-800 pb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[jsxRuntimeExports.jsx(Globe,{className:"w-7 h-7 text-green"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-silver",children:"Custom Domains"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Host your landing pages on your own branded domain."})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-[11px] text-gray-400",children:[jsxRuntimeExports.jsx("span",{className:"px-2 py-1 rounded-full bg-gray-900 border border-gray-700",children:"Estimated Learning Time, under 2 minutes"}),jsxRuntimeExports.jsxs("span",{className:"px-2 py-1 rounded-full bg-gray-900 border border-gray-700 flex items-center gap-1",children:[jsxRuntimeExports.jsx(Sparkles,{className:"w-3 h-3 text-green"}),"Best For, creators building branded funnels"]})]})]}),jsxRuntimeExports.jsxs("section",{id:"intro",className:"mb-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2 text-silver",children:"1. Introduction"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 leading-relaxed mb-3",children:"Custom Domains allow you to publish your Cre8tly landing pages under your own domain instead of a Cre8tly subdomain."}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300",children:"This builds trust, improves conversions, and gives your brand full control over how your pages appear to visitors."})]}),jsxRuntimeExports.jsxs("section",{id:"overview",className:"mb-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2 text-silver",children:"2. What Custom Domains Do"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside text-sm text-gray-300 space-y-1",children:[jsxRuntimeExports.jsx("li",{children:"Host landing pages on your own domain"}),jsxRuntimeExports.jsx("li",{children:"Remove Cre8tly branding from page URLs"}),jsxRuntimeExports.jsx("li",{children:"Improve trust and professionalism"}),jsxRuntimeExports.jsx("li",{children:"Enable consistent branding across funnels"})]})]}),jsxRuntimeExports.jsxs("section",{id:"add",className:"mb-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2 text-silver",children:"3. Adding a Domain"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-300 mb-3",children:["To add a domain, navigate to"," ",jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Settings  Domains"})," and enter the root domain you own."]}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside text-sm text-gray-300 space-y-1",children:[jsxRuntimeExports.jsx("li",{children:"Enter only the root domain, example, yourdomain.com"}),jsxRuntimeExports.jsx("li",{children:"Do not include https or paths"}),jsxRuntimeExports.jsx("li",{children:"Subdomains like www are handled automatically"})]})]}),jsxRuntimeExports.jsxs("section",{id:"verify",className:"mb-10",children:[jsxRuntimeExports.jsxs("h2",{className:"text-lg font-semibold mb-2 text-silver flex items-center gap-2",children:["4. Verifying Domain Ownership",jsxRuntimeExports.jsx(ShieldCheck,{className:"w-4 h-4 text-gray-400"})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"After adding a domain, Cre8tly generates a verification token. This ensures you actually own or control the domain."}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 mb-2",children:"You must add a TXT record to your DNS provider:"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside text-sm text-gray-300 space-y-1",children:[jsxRuntimeExports.jsx("li",{children:"Type, TXT"}),jsxRuntimeExports.jsx("li",{children:"Host, @"}),jsxRuntimeExports.jsx("li",{children:"Value, cre8tly-domain-verification=your-token"})]})]}),jsxRuntimeExports.jsxs("section",{id:"point",className:"mb-10",children:[jsxRuntimeExports.jsxs("h2",{className:"text-lg font-semibold mb-2 text-silver flex items-center gap-2",children:["5. Pointing Your Domain",jsxRuntimeExports.jsx(Link$1,{className:"w-4 h-4 text-gray-400"})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"Once verified, you must point your domain to Cre8tly using a CNAME record."}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside text-sm text-gray-300 space-y-1",children:[jsxRuntimeExports.jsx("li",{children:"Type, CNAME"}),jsxRuntimeExports.jsx("li",{children:"Host, @ or www"}),jsxRuntimeExports.jsx("li",{children:"Value, domains.themessyattic.com"}),jsxRuntimeExports.jsx("li",{children:"Proxy must be ON if using Cloudflare"})]})]}),jsxRuntimeExports.jsxs("section",{id:"primary",className:"mb-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2 text-silver",children:"6. Primary Domains"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300",children:"If you connect multiple domains, you can set one as your primary domain. This is the default domain used when publishing landing pages."})]}),jsxRuntimeExports.jsxs("section",{id:"propagation",className:"mb-10",children:[jsxRuntimeExports.jsxs("h2",{className:"text-lg font-semibold mb-2 text-silver flex items-center gap-2",children:["7. DNS Propagation",jsxRuntimeExports.jsx(TriangleAlert,{className:"w-4 h-4 text-gray-400"})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"DNS changes are not instant. Depending on your provider, it may take a few minutes up to 24 hours for changes to fully propagate."}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300",children:"If verification fails immediately, wait a few minutes and try again."})]}),jsxRuntimeExports.jsxs("section",{id:"faq",className:"mb-10",children:[jsxRuntimeExports.jsxs("h2",{className:"text-lg font-semibold mb-2 text-silver flex items-center gap-2",children:["8. Troubleshooting",jsxRuntimeExports.jsx(CircleQuestionMark,{className:"w-4 h-4 text-gray-400"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-semibold text-gray-200 mb-1",children:"My domain will not verify"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300",children:"Double-check that the TXT record is added correctly and wait for DNS propagation before retrying verification."})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-semibold text-gray-200 mb-1",children:"My domain points correctly but pages do not load"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300",children:"Ensure your CNAME record points to domains.themessyattic.com and that proxy mode is enabled if using Cloudflare."})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-semibold text-gray-200 mb-1",children:"Can I remove a domain later"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300",children:"Yes. Domains can be removed at any time from Settings. Any pages using that domain will stop resolving."})]})]})]})]})})]})}function AuthorsAssistantDocs(){const dt=[{id:"intro",label:"Introduction"},{id:"what-it-is",label:"What Authors Assistant Is"},{id:"what-it-is-not",label:"What It Is Not"},{id:"projects",label:"Books and Projects"},{id:"sections",label:"Section-Based Writing"},{id:"editing",label:"Editing and Revisions"},{id:"uploads",label:"Uploading Existing Material"},{id:"memory",label:"Long-Form Memory"},{id:"drafts",label:"Draft Saving and Safety"},{id:"covers",label:"Book Covers"},{id:"finalizing",label:"Finalizing a Book"},{id:"exporting",label:"Exporting and Publishing"},{id:"workflow",label:"Recommended Workflow"},{id:"best-practices",label:"Best Practices"},{id:"troubleshooting",label:"Troubleshooting"}],et=$t=>{const kt=document.getElementById($t);kt&&kt.scrollIntoView({behavior:"smooth",block:"start"})};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 p-2 text-white relative",children:[jsxRuntimeExports.jsx("aside",{className:"hidden lg:block w-64 fixed left-[180px] top-[120px] z-20",children:jsxRuntimeExports.jsxs("div",{className:"bg-[#020617] border border-gray-800 rounded-2xl p-4 shadow-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[jsxRuntimeExports.jsx(FilePen,{className:"w-4 h-4 text-green"}),jsxRuntimeExports.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wide text-gray-300",children:"Authors Assistant Docs"})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 mb-4",children:"Learn how to write, revise, finalize, and publish full-length books using a structured workflow built for serious authors."}),jsxRuntimeExports.jsx("ul",{className:"space-y-1 text-xs",children:dt.map($t=>jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("button",{onClick:()=>et($t.id),className:"w-full text-left px-2 py-1.5 rounded-lg hover:bg-gray-900 hover:text-white transition text-gray-300",children:$t.label})},$t.id))})]})}),jsxRuntimeExports.jsx("div",{className:"max-w-3xl mx-auto bg-black/70 rounded-2xl shadow-lg p-8",children:jsxRuntimeExports.jsxs("main",{className:"pb-16",children:[jsxRuntimeExports.jsxs("header",{className:"mb-8 border-b border-gray-800 pb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[jsxRuntimeExports.jsx(FilePen,{className:"w-6 h-6 text-green"}),jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-silver",children:"Authors Assistant"})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 ml-9",children:"A structured writing and publishing system for completing real books without compromising your voice."})]}),jsxRuntimeExports.jsxs("section",{id:"intro",className:"mb-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2 text-silver",children:"1. Introduction"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"Authors Assistant is a long-form writing and publishing system designed to help you finish real books. It is built for authors who value structure, revision control, and intentional completion."}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300",children:"Every book is treated as a project, every chapter as a deliberate section, and every revision as part of a clear process."})]}),jsxRuntimeExports.jsxs("section",{id:"what-it-is",className:"mb-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2 text-silver",children:"2. What Authors Assistant Is"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside text-sm text-gray-300 space-y-1 mb-3",children:[jsxRuntimeExports.jsx("li",{children:"Section-based book writing"}),jsxRuntimeExports.jsx("li",{children:"Unlimited revisions per section"}),jsxRuntimeExports.jsx("li",{children:"Project-level long-form memory"}),jsxRuntimeExports.jsx("li",{children:"Draft preservation and safety"}),jsxRuntimeExports.jsx("li",{children:"Finalization and EPUB publishing"})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300",children:"It supports clear thinking, deliberate editing, and real completion."})]}),jsxRuntimeExports.jsxs("section",{id:"what-it-is-not",className:"mb-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2 text-silver",children:"3. What It Is Not"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"Authors Assistant does not write books for you."}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300",children:"It does not invent facts, overwrite intent, or replace your thinking. The AI exists to refine and support what you write, not to generate disposable content."})]}),jsxRuntimeExports.jsxs("section",{id:"projects",className:"mb-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2 text-silver",children:"4. Books and Projects"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"Each book is its own project with isolated memory and structure."}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside text-sm text-gray-300 space-y-1",children:[jsxRuntimeExports.jsx("li",{children:"Title and metadata"}),jsxRuntimeExports.jsx("li",{children:"Sections and chapters"}),jsxRuntimeExports.jsx("li",{children:"Uploaded reference material"}),jsxRuntimeExports.jsx("li",{children:"Finalization state"})]})]}),jsxRuntimeExports.jsxs("section",{id:"sections",className:"mb-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2 text-silver",children:"5. Section-Based Writing"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300",children:"Writing is broken into sections so you can focus deeply without being overwhelmed by a single document."})]}),jsxRuntimeExports.jsxs("section",{id:"editing",className:"mb-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2 text-silver",children:"6. Editing and Revisions"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"Each section can be rewritten, expanded, shortened, or refined independently."}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300",children:"Revisions do not affect other sections, allowing safe, focused editing."})]}),jsxRuntimeExports.jsxs("section",{id:"uploads",className:"mb-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2 text-silver",children:"7. Uploading Existing Material"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside text-sm text-gray-300 space-y-1",children:[jsxRuntimeExports.jsx("li",{children:"PDF manuscripts"}),jsxRuntimeExports.jsx("li",{children:"Text documents"}),jsxRuntimeExports.jsx("li",{children:"Outlines and notes"})]})]}),jsxRuntimeExports.jsxs("section",{id:"memory",className:"mb-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2 text-silver",children:"8. Long-Form Memory"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300",children:"Authors Assistant maintains awareness of your entire book, not just isolated prompts."})]}),jsxRuntimeExports.jsxs("section",{id:"drafts",className:"mb-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2 text-silver",children:"9. Draft Saving and Safety"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300",children:"All progress is saved automatically. You can leave and return at any time without losing work."})]}),jsxRuntimeExports.jsxs("section",{id:"covers",className:"mb-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2 text-silver",children:"10. Book Covers"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300",children:"Upload a custom cover to include it in your final EPUB export."})]}),jsxRuntimeExports.jsxs("section",{id:"finalizing",className:"mb-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2 text-silver",children:"11. Finalizing a Book"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300",children:"Finalizing locks all sections and creates a canonical version ready for publishing."})]}),jsxRuntimeExports.jsxs("section",{id:"exporting",className:"mb-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2 text-silver",children:"12. Exporting and Publishing"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"Export individual sections as PDFs during writing."}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300",children:"Once finalized, export a complete EPUB compatible with Kindle and major ebook platforms."})]}),jsxRuntimeExports.jsxs("section",{id:"workflow",className:"mb-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2 text-silver",children:"13. Recommended Workflow"}),jsxRuntimeExports.jsxs("ol",{className:"list-decimal list-inside text-sm text-gray-300 space-y-1",children:[jsxRuntimeExports.jsx("li",{children:"Create a book project"}),jsxRuntimeExports.jsx("li",{children:"Write sections"}),jsxRuntimeExports.jsx("li",{children:"Revise intentionally"}),jsxRuntimeExports.jsx("li",{children:"Upload a cover"}),jsxRuntimeExports.jsx("li",{children:"Finalize the book"}),jsxRuntimeExports.jsx("li",{children:"Export EPUB"})]})]}),jsxRuntimeExports.jsxs("section",{id:"best-practices",className:"mb-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2 text-silver",children:"14. Best Practices"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside text-sm text-gray-300 space-y-1",children:[jsxRuntimeExports.jsx("li",{children:"Write one section at a time"}),jsxRuntimeExports.jsx("li",{children:"Finalize only when complete"}),jsxRuntimeExports.jsx("li",{children:"Use AI to refine, not replace"})]})]}),jsxRuntimeExports.jsxs("section",{id:"troubleshooting",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2 text-silver",children:"15. Troubleshooting"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300",children:"If a section cannot be edited, check whether the book has been finalized. Finalized books are locked by design."})]})]})})]})}function SignupCommunity(){const{login:dt}=useAuth(),[et,$t]=reactExports.useState(!1),kt=useNavigate(),[Tt,Dt]=reactExports.useState({name:"",username:"",email:"",password:""}),[Ft,Ut]=reactExports.useState(!1),[Ht,Kt]=reactExports.useState(""),[Yt]=useSearchParams(),Jt=Yt.get("ref");reactExports.useEffect(()=>{if(Ht){const rr=setTimeout(()=>Kt(""),5e3);return()=>clearTimeout(rr)}},[Ht]);const Zt=rr=>{const{name:sr,value:ir}=rr.target;Dt({...Tt,[sr]:sr==="username"?ir.toLowerCase():ir})},er=async rr=>{var sr,ir;rr.preventDefault(),Ut(!0),Kt("");try{const nr=Tt.username.trim();if(!/^[a-zA-Z0-9_]{3,20}$/.test(nr)){Kt("Username must be 320 characters and contain only letters, numbers, or underscores."),Ut(!1);return}const or={name:Tt.name,email:Tt.email,password:Tt.password,username:nr,...Jt&&{refSlug:Jt}},lr=await axios$1.post("https://themessyattic.com/api/auth/signup-community",or);lr.status===201?(await dt(Tt.email,Tt.password),kt("/community")):Kt(lr.data.message||"Something went wrong")}catch(nr){(ir=(sr=nr.response)==null?void 0:sr.data)!=null&&ir.message?Kt(nr.response.data.message):Kt("Signup failed. Please try again later.")}finally{Ut(!1)}};return reactExports.useEffect(()=>(document.body.style.overflow="auto",document.body.style.position="",document.body.style.width="",()=>{document.body.style.overflow="auto",document.body.style.position="",document.body.style.width=""}),[]),jsxRuntimeExports.jsx("div",{className:"min-h-screen flex flex-col bg-white",children:jsxRuntimeExports.jsx("section",{className:"flex flex-col justify-center items-center flex-grow px-6 py-20",children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-md bg-white p-8 rounded-2xl border border-gray-200 shadow-xl",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 mb-5",children:[jsxRuntimeExports.jsx("img",{src:headerLogo,alt:"The Messy Attic",className:"h-12 w-12 object-contain"}),jsxRuntimeExports.jsx("div",{className:"flex flex-col leading-tight",children:jsxRuntimeExports.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"The Messy Attic"})})]}),jsxRuntimeExports.jsxs("div",{className:"mb-5",children:[jsxRuntimeExports.jsx("h3",{className:"text-3xl font-bold text-gray-900",children:"Join the community"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Already have an account?"," ",jsxRuntimeExports.jsx("a",{href:"/login",className:"font-semibold hover:underline",children:"Log in"})]})]}),Ht&&jsxRuntimeExports.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 text-sm rounded-lg p-3 mb-4 text-center",children:Ht}),jsxRuntimeExports.jsxs("form",{onSubmit:er,className:"space-y-4",children:[jsxRuntimeExports.jsx("input",{type:"text",name:"name",value:Tt.name,onChange:Zt,placeholder:"Full Name",required:!0,className:"w-full h-[48px] px-4 rounded-lg border border-gray-300"}),jsxRuntimeExports.jsx("input",{type:"text",name:"username",value:Tt.username,onChange:Zt,placeholder:"Username",required:!0,autoComplete:"username",className:"w-full h-[48px] px-4 rounded-lg border border-gray-300"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"320 characters, letters, numbers, underscores only"}),jsxRuntimeExports.jsx("input",{type:"email",name:"email",value:Tt.email,onChange:Zt,placeholder:"Email Address",required:!0,className:"w-full h-[48px] px-4 rounded-lg border border-gray-300"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:et?"text":"password",name:"password",value:Tt.password,onChange:Zt,placeholder:"Password",required:!0,className:"w-full h-[48px] px-4 pr-12 rounded-lg border border-gray-300"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>$t(!et),className:"absolute inset-y-0 right-3 flex items-center text-gray-400",children:et?jsxRuntimeExports.jsx(EyeOff,{size:18}):jsxRuntimeExports.jsx(Eye,{size:18})})]}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:Ft,className:"w-full bg-black text-white font-semibold py-3 rounded-lg",children:Ft?"Joining Community...":"Join the Community"})]})]})})})}function MyPosts(){const dt=useNavigate(),[et,$t]=reactExports.useState([]),[kt,Tt]=reactExports.useState(null),[Dt,Ft]=reactExports.useState([]),{postId:Ut}=useParams(),Ht=!!Ut,[Kt,Yt]=reactExports.useState(Ht),[Jt,Zt]=reactExports.useState(!0),er="w-full px-4 py-3 text-sm text-left flex items-center gap-3 transition-colors";reactExports.useEffect(()=>{sr(),rr()},[]),reactExports.useEffect(()=>{function or(){Tt(null)}return window.addEventListener("click",or),()=>window.removeEventListener("click",or)},[]),reactExports.useEffect(()=>{if(!Ht)return;async function or(){try{const cr=(await axiosInstance.get(`/community/posts/${Ut}`)).data.post;setTitle(cr.title||""),setSubtitle(cr.subtitle||""),setBody(cr.body||""),setImagePreview(cr.image_url||null),setSelectedTopicId(cr.topic_id||""),setRelatedTopicIds(cr.related_topic_ids||[])}catch(lr){console.error("Failed to load post:",lr),dt("/community/my-posts")}finally{Yt(!1)}}or()},[Ut,Ht]);async function rr(){try{const or=await axiosInstance.get("/community/topics");Ft(or.data.topics||[])}catch(or){console.error("Failed to fetch topics:",or)}}async function sr(){try{Zt(!0);const or=await axiosInstance.get("/community/posts/user");$t(or.data.posts||[])}catch(or){console.error("Failed to fetch posts:",or)}finally{Zt(!1)}}function ir(or){const lr=y$4(({closeToast:cr})=>jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",children:"Delete this post?"}),jsxRuntimeExports.jsx("p",{className:"text-xs opacity-70",children:"This action cannot be undone."}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[jsxRuntimeExports.jsx("button",{onClick:cr,className:`
              px-3 py-1.5 text-xs rounded-md
              border border-dashboard-border-light
              hover:bg-dashboard-hover-light
            `,children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:async()=>{try{await axiosInstance.delete(`/community/posts/${or}`),$t(dr=>dr.filter(ur=>ur.id!==or)),Tt(null),y$4.dismiss(lr),y$4.success("Post deleted")}catch(dr){console.error("Failed to delete post:",dr),y$4.error("Failed to delete post")}},className:`
              px-3 py-1.5 text-xs rounded-md
              bg-red-600 text-white
              hover:bg-red-700
            `,children:"Delete"})]})]}),{closeButton:!1,className:"rounded-xl"})}function nr(or){const lr=`${window.location.origin}/p/${or.slug}`;navigator.clipboard.writeText(lr).then(()=>y$4.success("Link copied to clipboard"),()=>y$4.error("Failed to copy link")),Tt(null)}return Kt?jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center",children:jsxRuntimeExports.jsx("p",{className:"text-sm opacity-60",children:"Loading post"})}):jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-dashboard-bg-light dark:bg-dashboard-bg-dark",children:[jsxRuntimeExports.jsx("div",{className:"sticky top-0 z-20 px-4 py-3 border-b border-dashboard-border-light dark:border-dashboard-border-dark",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between max-w-3xl mx-auto",children:[jsxRuntimeExports.jsx("h1",{className:"text-lg font-semibold",children:"My Posts"}),jsxRuntimeExports.jsx("button",{onClick:()=>dt("/community/create-post"),className:`
    hidden md:inline-flex
    px-3 py-2 rounded-lg text-sm font-medium
    bg-dashboard-text-light dark:bg-dashboard-text-dark
    text-dashboard-bg-light dark:text-dashboard-bg-dark
    hover:opacity-90
    transition
  `,children:"Create new"})]})}),jsxRuntimeExports.jsx("div",{className:"md:hidden px-4 py-3 border-b border-dashboard-border-light dark:border-dashboard-border-dark bg-dashboard-bg-light dark:bg-dashboard-bg-dark",children:jsxRuntimeExports.jsx("button",{onClick:()=>dt("/community/create-post"),className:`
      w-full
      py-2.5
      rounded-lg
      text-sm
      font-medium
      bg-dashboard-text-light
      dark:bg-dashboard-text-dark
      text-dashboard-bg-light
      dark:text-dashboard-bg-dark
      hover:opacity-90
      transition
    `,children:"Create new post"})}),jsxRuntimeExports.jsxs("div",{className:"px-4 py-4 pb-24 max-w-3xl mx-auto space-y-2",children:[Jt&&jsxRuntimeExports.jsx("p",{className:"text-sm opacity-60",children:"Loading posts"}),!Jt&&et.length===0&&jsxRuntimeExports.jsx("p",{className:"text-sm opacity-60",children:"You havent posted anything yet."}),et.map(or=>jsxRuntimeExports.jsxs("div",{className:`
              flex items-center gap-4 p-4 rounded-xl
              border border-dashboard-border-light dark:border-dashboard-border-dark
              bg-dashboard-sidebar-light dark:bg-dashboard-sidebar-dark
            `,children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 rounded-md overflow-hidden bg-dashboard-hover-light dark:bg-dashboard-hover-dark flex-shrink-0",children:or.image_url?jsxRuntimeExports.jsx("img",{src:or.image_url,alt:"",loading:"lazy",decoding:"async",className:"w-full h-full object-cover"}):jsxRuntimeExports.jsx("div",{className:"w-full h-full flex items-center justify-center opacity-50",children:""})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 flex items-center gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-semibold line-clamp-1",children:jsxRuntimeExports.jsx(Link$2,{to:`/community/post/${or.id}`,className:`
                    hover:underline
                    text-dashboard-text-light
                    dark:text-dashboard-text-dark
                  `,children:or.title})}),or.subtitle&&jsxRuntimeExports.jsx("p",{className:`
                    mt-0.5
                    text-xs
                    leading-snug
                    line-clamp-1
                    text-dashboard-muted-light
                    dark:text-dashboard-muted-dark
                  `,children:or.subtitle}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-xs opacity-60",children:new Date(or.created_at).toLocaleDateString()}),jsxRuntimeExports.jsxs("div",{className:"mt-2 flex items-center gap-6 text-xs text-dashboard-muted-light dark:text-dashboard-muted-dark",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1.5",children:[jsxRuntimeExports.jsx(Heart,{size:14,className:"opacity-70"}),jsxRuntimeExports.jsx("span",{children:or.like_count??0})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1.5",children:[jsxRuntimeExports.jsx(MessageCircle,{size:14,className:"opacity-70"}),jsxRuntimeExports.jsx("span",{children:or.comment_count??0})]}),or.is_pinned===1&&jsxRuntimeExports.jsx("span",{children:"Pinned"}),or.is_locked===1&&jsxRuntimeExports.jsx("span",{children:"Locked"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center text-xs text-dashboard-muted-light dark:text-dashboard-muted-dark",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-semibold text-dashboard-text-light dark:text-dashboard-text-dark",children:or.views}),jsxRuntimeExports.jsx("span",{children:"views"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("button",{onClick:lr=>{lr.stopPropagation(),Tt(kt===or.id?null:or.id)},className:"p-2 rounded-md hover:bg-dashboard-hover-light dark:hover:bg-dashboard-hover-dark",children:jsxRuntimeExports.jsx(Ellipsis,{size:18})}),kt===or.id&&jsxRuntimeExports.jsxs("div",{onClick:lr=>lr.stopPropagation(),className:`
                      absolute left-1/2 mt-2 -translate-x-1/2 z-30
                      w-56
                      rounded-xl
                      bg-dashboard-sidebar-light dark:bg-dashboard-sidebar-dark
                      border border-dashboard-border-light dark:border-dashboard-border-dark
                      shadow-xl
                      overflow-hidden
                    `,children:[jsxRuntimeExports.jsxs("button",{onClick:()=>nr(or),className:`${er} hover:bg-dashboard-hover-light dark:hover:bg-dashboard-hover-dark text-sm`,children:[jsxRuntimeExports.jsx(Link$1,{size:16,className:"opacity-80"}),"Copy link"]}),jsxRuntimeExports.jsx("div",{className:"h-px bg-dashboard-border-light dark:bg-dashboard-border-dark my-1"}),jsxRuntimeExports.jsxs("button",{onClick:()=>{Tt(null),dt(`/community/edit-post/${or.id}`)},className:`${er} hover:bg-dashboard-hover-light dark:hover:bg-dashboard-hover-dark text-sm`,children:[jsxRuntimeExports.jsx(Pencil,{size:16,className:"opacity-80"}),"Edit"]}),jsxRuntimeExports.jsx("div",{className:"h-px bg-dashboard-border-light dark:bg-dashboard-border-dark my-1"}),jsxRuntimeExports.jsxs("button",{onClick:()=>{Tt(null),ir(or.id)},className:`${er} text-red-500 hover:bg-red-500/10 text-sm`,children:[jsxRuntimeExports.jsx(Trash2,{size:16}),"Delete"]})]})]})]})]})]},or.id))]})]})}function AddSubscribersModal({open:dt,onClose:et,onSuccess:$t}){const[kt,Tt]=reactExports.useState([]),[Dt,Ft]=reactExports.useState(""),[Ut,Ht]=reactExports.useState(!1);if(!dt)return null;function Kt(){const er=Dt.trim().toLowerCase();if(er){if(kt.includes(er)){y$4.info("Email already added");return}Tt(rr=>[...rr,er]),Ft("")}}function Yt(er){Tt(rr=>rr.filter(sr=>sr!==er))}function Jt(er){var ir;const rr=(ir=er.target.files)==null?void 0:ir[0];if(!rr)return;const sr=new FileReader;sr.onload=()=>{const or=sr.result.split(/\r?\n/).map(lr=>lr.trim()).filter(Boolean).map(lr=>{var cr;return(cr=lr.split(",")[0])==null?void 0:cr.trim().toLowerCase()}).filter(Boolean);Tt(lr=>[...new Set([...lr,...or])])},sr.readAsText(rr)}async function Zt(){if(!kt.length){y$4.error("Add at least one email");return}try{Ht(!0),await axiosInstance.post("/community/subscriptions/invites",{emails:kt}),y$4.success("Invites sent"),$t==null||$t(),et()}catch{y$4.error("Failed to send invites")}finally{Ht(!1)}}return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70",children:jsxRuntimeExports.jsxs("div",{className:`
        w-full max-w-lg
        mx-4 sm:mx-6 md:mx-0
        rounded-2xl
        bg-dashboard-sidebar-light dark:bg-dashboard-sidebar-dark
        border border-dashboard-border-light dark:border-dashboard-border-dark
        p-6
      `,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold",children:"Add subscribers"}),jsxRuntimeExports.jsx("button",{onClick:et,children:jsxRuntimeExports.jsx(X$5,{size:18})})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 mb-3",children:[jsxRuntimeExports.jsx("input",{value:Dt,onChange:er=>Ft(er.target.value),placeholder:"email@example.com",autoComplete:"off",autoCorrect:"off",spellCheck:!1,className:"flex-1 rounded-lg px-3 py-2 text-sm border bg-dashboard-bg-light dark:bg-dashboard-bg-dark",onKeyDown:er=>{er.key==="Enter"&&(er.preventDefault(),Kt())}}),jsxRuntimeExports.jsx("button",{onClick:Kt,className:"px-3 rounded-lg bg-dashboard-hover-light dark:bg-dashboard-hover-dark",children:jsxRuntimeExports.jsx(Plus,{size:16})})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer opacity-80 hover:opacity-100 mb-4",children:[jsxRuntimeExports.jsx(Upload,{size:14}),"Upload CSV",jsxRuntimeExports.jsx("input",{type:"file",accept:".csv",onChange:Jt,className:"hidden"})]}),kt.length>0&&jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:kt.map(er=>jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 text-xs rounded-full bg-dashboard-hover-light dark:bg-dashboard-hover-dark",children:[er,jsxRuntimeExports.jsx("button",{onClick:()=>Yt(er),children:jsxRuntimeExports.jsx(X$5,{size:12})})]},er))}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:et,className:"text-sm px-4 py-2 rounded-lg border",children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:Zt,disabled:Ut,className:"text-sm px-4 py-2 rounded-lg bg-blue text-white disabled:opacity-50",children:Ut?"Sending":"Send invites"})]})]})})}function PendingInvites({refreshKey:dt}){const[et,$t]=reactExports.useState([]),[kt,Tt]=reactExports.useState(!0);async function Dt(){try{Tt(!0);const Ht=await axiosInstance.get("/community/subscriptions/invites");$t(Ht.data.invites||[])}catch{y$4.error("Failed to load invites")}finally{Tt(!1)}}reactExports.useEffect(()=>{Dt()},[dt]);async function Ft(Ht){try{await axiosInstance.post(`/community/subscriptions/invites/${Ht}/resend`),y$4.success("Invite resent")}catch{y$4.error("Failed to resend invite")}}async function Ut(Ht){if(window.confirm("Cancel this invite?"))try{await axiosInstance.delete(`/community/subscriptions/invites/${Ht}`),$t(Kt=>Kt.filter(Yt=>Yt.id!==Ht)),y$4.success("Invite cancelled")}catch{y$4.error("Failed to cancel invite")}}return kt?jsxRuntimeExports.jsx("p",{className:"text-sm opacity-60",children:"Loading invites"}):et.length?jsxRuntimeExports.jsxs("div",{className:"mt-8",children:[jsxRuntimeExports.jsx("h2",{className:"text-sm font-semibold mb-3",children:"Pending invites"}),jsxRuntimeExports.jsx("div",{className:"rounded-xl border border-dashboard-border-light dark:border-dashboard-border-dark overflow-hidden",children:jsxRuntimeExports.jsxs("table",{className:"w-full text-sm",children:[jsxRuntimeExports.jsx("thead",{className:"bg-dashboard-hover-light dark:bg-dashboard-hover-dark",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"p-3 text-left",children:"Email"}),jsxRuntimeExports.jsx("th",{className:"p-3 text-left",children:"Sent"}),jsxRuntimeExports.jsx("th",{className:"p-3"})]})}),jsxRuntimeExports.jsx("tbody",{children:et.map(Ht=>jsxRuntimeExports.jsxs("tr",{className:"border-t border-dashboard-border-light dark:border-dashboard-border-dark",children:[jsxRuntimeExports.jsx("td",{className:"p-3",children:Ht.email}),jsxRuntimeExports.jsx("td",{className:"p-3",children:new Date(Ht.created_at).toLocaleDateString()}),jsxRuntimeExports.jsxs("td",{className:"p-3 flex justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Ft(Ht.id),className:"p-2 rounded-md hover:bg-dashboard-hover-light dark:hover:bg-dashboard-hover-dark",title:"Resend",children:jsxRuntimeExports.jsx(RotateCcw,{size:14})}),jsxRuntimeExports.jsx("button",{onClick:()=>Ut(Ht.id),className:"p-2 rounded-md hover:bg-red-500/10 text-red-500",title:"Cancel",children:jsxRuntimeExports.jsx(Trash2,{size:14})})]})]},Ht.id))})]})})]}):null}const GRID_COLS$1="grid-cols-[48px_2.2fr_140px_160px_160px_120px_48px]";function Subscriptions(){const dt=useNavigate(),[et,$t]=reactExports.useState(null),[kt,Tt]=reactExports.useState(""),[Dt,Ft]=reactExports.useState([]),[Ut,Ht]=reactExports.useState(0),[Kt,Yt]=reactExports.useState(!0),[Jt,Zt]=reactExports.useState(!1),[er,rr]=reactExports.useState(0);function sr(mr){$t(vr=>vr===mr?null:mr)}function ir(mr){return new Date(mr).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})}async function nr(){try{Yt(!0);const mr=await axiosInstance.get("/community/subscriptions/me");Ft(mr.data.subscribers||[]),Ht(mr.data.count||0)}catch(mr){console.error("Failed to fetch subscribers",mr)}finally{Yt(!1)}}reactExports.useEffect(()=>{nr()},[]);const or=Dt.filter(mr=>mr.email.toLowerCase().includes(kt.toLowerCase())),lr=Dt.reduce((mr,vr)=>vr.type==="monthly"?mr+(vr.revenue||0)*12:vr.type==="annual"||vr.type==="vip"?mr+(vr.revenue||0):mr,0),cr=lr/12;function dr(mr){navigator.clipboard.writeText(mr),y$4.success("Email copied"),$t(null)}function ur(mr){y$4.info(`Message flow for ${mr} (next step)`),$t(null)}async function pr(mr){try{await axiosInstance.delete(`/community/subscriptions/${mr}`),Ft(vr=>vr.filter(kr=>kr.id!==mr)),y$4.success("Subscriber removed")}catch{y$4.error("Failed to remove subscriber")}$t(null)}return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-dashboard-bg-light dark:bg-dashboard-bg-dark",children:[jsxRuntimeExports.jsx("div",{className:"sticky top-0 z-20 border-b border-dashboard-border-light dark:border-dashboard-border-dark px-4 py-3",children:jsxRuntimeExports.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-lg font-semibold",children:"Subscribers"}),jsxRuntimeExports.jsxs("p",{className:"text-xs opacity-60",children:[Ut," subscribers"]})]}),jsxRuntimeExports.jsx("button",{onClick:()=>Zt(!0),className:"hidden md:inline-flex px-3 py-2 rounded-lg text-sm bg-blue text-white hover:opacity-90",children:"Add subscribers"})]})}),jsxRuntimeExports.jsx("div",{className:"px-4 pt-4 max-w-6xl mx-auto",children:jsxRuntimeExports.jsxs("div",{className:`
          grid grid-cols-1 sm:grid-cols-2 gap-3
          rounded-xl
          border
          border-dashboard-border-light
          dark:border-dashboard-border-dark
          bg-dashboard-sidebar-light
          dark:bg-dashboard-sidebar-dark
          p-4
        `,children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-xs uppercase tracking-wide opacity-60",children:"Gross ARR"}),jsxRuntimeExports.jsxs("p",{className:"text-lg text-green font-semibold tabular-nums",children:["$",lr.toFixed(2)]}),jsxRuntimeExports.jsx("p",{className:"text-xs opacity-50 mt-1",children:"Annualized recurring revenue before fees"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-xs uppercase tracking-wide opacity-60",children:"Gross monthly"}),jsxRuntimeExports.jsxs("p",{className:"text-lg font-semibold tabular-nums",children:["$",cr.toFixed(2)]}),jsxRuntimeExports.jsx("p",{className:"text-xs opacity-50 mt-1",children:"Derived from active subscriptions"})]})]})}),jsxRuntimeExports.jsx("div",{className:"md:hidden px-4 py-3 border-b border-dashboard-border-light dark:border-dashboard-border-dark bg-dashboard-bg-light dark:bg-dashboard-bg-dark",children:jsxRuntimeExports.jsx("button",{onClick:()=>Zt(!0),className:`
      w-full
      py-2.5
      rounded-lg
      text-sm
      font-medium
      bg-blue
      text-white
      hover:opacity-90
    `,children:"Add subscribers"})}),jsxRuntimeExports.jsx("div",{className:"px-4 py-4 max-w-6xl mx-auto",children:jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Search,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 opacity-50"}),jsxRuntimeExports.jsx("input",{value:kt,onChange:mr=>Tt(mr.target.value),placeholder:"Search by name or email...",autoComplete:"off",autoCorrect:"off",spellCheck:!1,className:`
              w-full pl-9 pr-3 py-2 rounded-lg text-sm
              bg-dashboard-sidebar-light dark:bg-dashboard-sidebar-dark
              border border-dashboard-border-light dark:border-dashboard-border-dark
              outline-none
            `})]})}),jsxRuntimeExports.jsxs("div",{className:"hidden md:block px-4 max-w-6xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:`
          grid ${GRID_COLS$1}
          items-center
          px-4 py-3
          text-xs
          font-medium
          text-white/50
          bg-dashboard-hover-light
          dark:bg-dashboard-hover-dark
          rounded-t-xl
          border
          border-dashboard-border-light
          dark:border-dashboard-border-dark
        `,children:[jsxRuntimeExports.jsx("div",{className:"flex justify-center",children:jsxRuntimeExports.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-white/30 bg-transparent accent-white/70"})}),jsxRuntimeExports.jsx("div",{children:"Subscriber"}),jsxRuntimeExports.jsx("div",{children:"Type"}),jsxRuntimeExports.jsx("div",{className:"text-center",children:"Activity"}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-1",children:"Start date"}),jsxRuntimeExports.jsx("div",{className:"text-right",children:"Revenue"}),jsxRuntimeExports.jsx("div",{})]}),jsxRuntimeExports.jsx("div",{className:"space-y-1 mt-1",children:or.map(mr=>jsxRuntimeExports.jsxs("div",{className:`
              grid ${GRID_COLS$1}
              items-center
              px-4 py-3
              rounded-xl
              bg-dashboard-sidebar-light
              dark:bg-dashboard-sidebar-dark
              border
              border-dashboard-border-light
              dark:border-dashboard-border-dark
              hover:bg-dashboard-hover-light
              dark:hover:bg-dashboard-hover-dark
              transition
            `,children:[jsxRuntimeExports.jsx("div",{className:"flex justify-center",children:jsxRuntimeExports.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-white/30 bg-transparent accent-white/70"})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[jsxRuntimeExports.jsx("button",{onClick:vr=>{if(vr.stopPropagation(),!mr.has_profile){y$4.info("This author hasnt set up their profile yet");return}dt(`/community/authors/${mr.id}`)},className:`
                  flex-shrink-0`,children:mr.profile_image_url?jsxRuntimeExports.jsx("img",{src:mr.profile_image_url,alt:mr.email,className:`
                      w-8 h-8
                      rounded-full
                      object-cover
                      border
                      border-dashboard-border-light
                      dark:border-dashboard-border-dark
                    `}):jsxRuntimeExports.jsx("div",{className:`
                      w-8 h-8
                      rounded-full
                      bg-dashboard-hover-light
                      dark:bg-dashboard-hover-dark
                      flex
                      items-center
                      justify-center
                      text-xs
                    `,children:mr.email.charAt(0).toUpperCase()})}),jsxRuntimeExports.jsx("span",{className:"text-sm truncate",children:mr.email})]}),jsxRuntimeExports.jsx("div",{children:mr.paid?jsxRuntimeExports.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${mr.type==="monthly"?"bg-green/20 text-green":mr.type==="annual"?"bg-blue/20 text-blue":mr.type==="vip"?"bg-purple/20 text-purple":"bg-gray-500/20"}`,children:mr.type==="monthly"?"Monthly Paid":mr.type==="annual"?"Annual Paid":mr.type==="vip"?"VIP":"Paid"}):jsxRuntimeExports.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs bg-gray-500/20 text-gray-400",children:"Free"})}),jsxRuntimeExports.jsx("div",{className:"flex justify-center gap-0.5",children:[1,2,3,4,5].map(vr=>jsxRuntimeExports.jsx(Star,{size:10,className:vr<=mr.activity?"text-yellow fill-yellow":"opacity-30"},vr))}),jsxRuntimeExports.jsx("div",{className:"text-sm text-white/70",children:ir(mr.created_at)}),jsxRuntimeExports.jsxs("div",{className:"text-sm tabular-nums text-right text-white/70",children:["$",mr.revenue.toFixed(2)]}),jsxRuntimeExports.jsxs("div",{onClick:vr=>vr.stopPropagation(),className:"relative flex justify-center",children:[jsxRuntimeExports.jsx("button",{onClick:()=>sr(mr.id),className:"p-2 rounded-md hover:bg-dashboard-hover-light dark:hover:bg-dashboard-hover-dark",children:jsxRuntimeExports.jsx(Ellipsis,{size:16})}),et===mr.id&&jsxRuntimeExports.jsxs("div",{className:`
                absolute
                top-10
                right-0
                w-44
                rounded-xl
                shadow-xl
                z-50
                bg-dashboard-sidebar-light
                dark:bg-dashboard-sidebar-dark
                border
                border-dashboard-border-light
                dark:border-dashboard-border-dark
                transition-all duration-150
              `,children:[jsxRuntimeExports.jsxs("button",{onClick:()=>dr(mr.email),className:"w-full px-4 py-2 flex items-center gap-2 text-sm hover:bg-dashboard-hover-light dark:hover:bg-dashboard-hover-dark",children:[jsxRuntimeExports.jsx(Copy,{size:14}),"Copy email"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>ur(mr.email),className:"w-full px-4 py-2 flex items-center gap-2 text-sm hover:bg-dashboard-hover-light dark:hover:bg-dashboard-hover-dark",children:[jsxRuntimeExports.jsx(MessageCircle,{size:14}),"Send message"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>pr(mr.id),className:"w-full px-4 py-2 flex items-center gap-2 text-sm text-red-500 hover:bg-red-500/10",children:[jsxRuntimeExports.jsx(Trash2,{size:14}),"Remove"]})]})]})]},mr.id))}),et&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>$t(null)})]}),jsxRuntimeExports.jsx("div",{className:"md:hidden px-4 space-y-3",children:or.map(mr=>jsxRuntimeExports.jsxs("div",{className:"p-4 rounded-xl border border-dashboard-border-light dark:border-dashboard-border-dark bg-dashboard-sidebar-light dark:bg-dashboard-sidebar-dark",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between",children:jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:vr=>{if(vr.stopPropagation(),!mr.has_profile){y$4.info("This author hasnt set up their profile yet");return}dt(`/community/authors/${mr.id}`)},className:`
                    flex-shrink-0`,children:mr.profile_image_url?jsxRuntimeExports.jsx("img",{src:mr.profile_image_url,alt:mr.email,className:`
                        w-8 h-8
                        rounded-full
                        object-cover
                        border
                        border-dashboard-border-light
                        dark:border-dashboard-border-dark
                      `}):jsxRuntimeExports.jsx("div",{className:`
                        w-8 h-8
                        rounded-full
                        bg-dashboard-hover-light
                        dark:bg-dashboard-hover-dark
                        flex
                        items-center
                        justify-center
                        text-xs
                      `,children:mr.email.charAt(0).toUpperCase()})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:mr.email}),jsxRuntimeExports.jsxs("p",{className:"text-xs opacity-60",children:["Started ",ir(mr.created_at)]})]})]})})}),jsxRuntimeExports.jsx("div",{className:"mt-2 flex gap-0.5",children:[1,2,3,4,5].map(vr=>jsxRuntimeExports.jsx(Star,{size:10,className:vr<=mr.activity?"text-yellow fill-yellow":"opacity-30"},vr))}),jsxRuntimeExports.jsxs("p",{className:"mt-1 text-xs",children:["Revenue $",mr.revenue.toFixed(2)]}),jsxRuntimeExports.jsxs("div",{onClick:vr=>vr.stopPropagation(),className:"mt-3",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>sr(mr.id),className:`
                w-full
                flex
                items-center
                justify-center
                gap-2
                py-2
                rounded-lg
                text-sm
                bg-dashboard-hover-light
                dark:bg-dashboard-hover-dark
                hover:opacity-90
                transition-all duration-150
              `,children:[jsxRuntimeExports.jsx(Ellipsis,{size:16}),"Options"]}),et===mr.id&&jsxRuntimeExports.jsxs("div",{className:`
                  mt-2
                  w-full
                  rounded-xl
                  shadow-xl
                  bg-dashboard-sidebar-light
                  dark:bg-dashboard-sidebar-dark
                  border
                  border-dashboard-border-light
                  dark:border-dashboard-border-dark
                  overflow-hidden
                `,children:[jsxRuntimeExports.jsx("button",{onClick:()=>dr(mr.email),className:"w-full px-4 py-3 text-sm text-left hover:bg-dashboard-hover-light dark:hover:bg-dashboard-hover-dark",children:"Copy email"}),jsxRuntimeExports.jsx("button",{onClick:()=>ur(mr.email),className:"w-full px-4 py-3 text-sm text-left hover:bg-dashboard-hover-light dark:hover:bg-dashboard-hover-dark",children:"Send message"}),jsxRuntimeExports.jsx("button",{onClick:()=>pr(mr.id),className:"w-full px-4 py-3 text-sm text-left text-red-500 hover:bg-red-500/10",children:"Remove"})]})]})]},mr.id))}),jsxRuntimeExports.jsx("div",{className:"px-4 max-w-6xl mx-auto mt-10",children:jsxRuntimeExports.jsx(PendingInvites,{refreshKey:er})}),jsxRuntimeExports.jsx(AddSubscribersModal,{open:Jt,onClose:()=>Zt(!1),onSuccess:()=>{nr(),rr(mr=>mr+1)}})]})}function PreviewSubscribeModal({open:dt,onClose:et,onConfirm:$t}){return dt?jsxRuntimeExports.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:et}),jsxRuntimeExports.jsxs("div",{className:`
          relative
          w-full max-w-md
          rounded-2xl
          bg-white dark:bg-[#0f1216]
          p-6
          shadow-xl
          border
          border-dashboard-border-light
          dark:border-dashboard-border-dark
        `,children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-semibold mb-2",children:"Preview subscription page?"}),jsxRuntimeExports.jsx("p",{className:"text-sm opacity-70 mb-5",children:"You have unsaved changes. The preview will show your last saved subscription settings, not your current edits."}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-3",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:et,className:`
              px-4 py-2
              rounded-lg
              text-sm
              border
              hover:bg-dashboard-hover-light
              dark:hover:bg-dashboard-hover-dark
            `,children:"Cancel"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:$t,className:`
              px-4 py-2
              rounded-lg
              text-sm
              bg-blue
              text-white
              hover:opacity-90
            `,children:"Preview anyway"})]})]})]}):null}const inputClass=`
  w-full rounded-xl px-4 py-3 text-sm
  bg-white dark:bg-[#0f1216]
  text-dashboard-text-light dark:text-dashboard-text-dark
  border border-dashboard-border-light dark:border-[#23272f]
  placeholder:text-dashboard-muted-light dark:placeholder:text-gray-500
  focus:outline-none focus:ring-2 focus:ring-blue/40
`;function ProfileSettings(){const[dt,et]=reactExports.useState(!0),[$t,kt]=reactExports.useState(!1),[Tt,Dt]=reactExports.useState(""),[Ft,Ut]=reactExports.useState(""),[Ht,Kt]=reactExports.useState(""),[Yt,Jt]=reactExports.useState(""),[Zt,er]=reactExports.useState([]),[rr,sr]=reactExports.useState([]),[ir,nr]=reactExports.useState([]),[or,lr]=reactExports.useState(""),[cr,dr]=reactExports.useState(""),[ur,pr]=reactExports.useState(""),[mr,vr]=reactExports.useState(""),[kr,br]=reactExports.useState(null),[_r,Or]=reactExports.useState({new_free_subscriber:!0,canceled_free_subscription:!0,post_comments:!0}),[Pr,Mr]=reactExports.useState(!1),[Rr,Tr]=reactExports.useState(!1),[xr,wr]=reactExports.useState(!1),[zr,Hr]=reactExports.useState(""),[Gr,Xr]=reactExports.useState(""),[rs,Yr]=reactExports.useState(""),[es,ns]=reactExports.useState([]),[ms,ls]=reactExports.useState(""),[ds,fs]=reactExports.useState(!1),[cs,xs]=reactExports.useState([]),[us,$s]=reactExports.useState([]),[ks,Ds]=reactExports.useState(""),[Cs,Ts]=reactExports.useState(""),[Ns,Ms]=reactExports.useState(!1);function Us(_s){Or(Fs=>({...Fs,[_s]:!Fs[_s]}))}reactExports.useEffect(()=>{Ws(),Qs()},[]);async function Ws(){try{et(!0);const Fs=(await axiosInstance.get("/community/authors/me")).data.profile||{};wr(!!Fs.subscriptions_enabled),Dt(Fs.username||""),Ut(Fs.bio||""),Kt(Fs.about||""),Jt(Fs.current_employment||""),er(Fs.interests||[]),sr(Fs.services||[]),nr(Fs.media_links||[]),br(Fs.id),fs(!!Fs.stripe_connect_account_id),wr(!!Fs.subscriptions_enabled),Hr(typeof Fs.monthly_price=="number"?Fs.monthly_price.toFixed(2):""),Xr(typeof Fs.annual_price=="number"?Fs.annual_price.toFixed(2):""),xs(Fs.monthly_benefits||[]),$s(Fs.annual_benefits||[]),Yr(typeof Fs.vip_price=="number"?Fs.vip_price.toFixed(2):""),ns(Fs.vip_benefits||[])}catch{y$4.error("Failed to load profile")}finally{et(!1)}}const Ks=ds||xr;async function Qs(){try{const _s=await axiosInstance.get("/community/authors/me/notifications");Or({new_free_subscriber:!!_s.data.preferences.new_free_subscriber,canceled_free_subscription:!!_s.data.preferences.canceled_free_subscription,post_comments:!!_s.data.preferences.post_comments}),Mr(!0)}catch(_s){console.error("fetchNotificationPrefs error",_s),y$4.error("Failed to load notification preferences")}}async function qs(){try{if(kt(!0),!/^[a-zA-Z0-9_]{3,20}$/.test(Tt)){y$4.error("Username must be 320 characters and contain only letters, numbers, or underscores.");return}await axiosInstance.post("/community/authors/me",{username:Tt,bio:Ft,about:Ht,current_employment:Yt,interests:Zt,services:rr,media_links:ir,monthly_benefits:cs,annual_benefits:us,vip_benefits:es}),await axiosInstance.post("/community/authors/me/subscription-pricing",{subscriptions_enabled:xr,monthly_price_cents:xr&&zr?Math.round(Number(zr)*100):void 0,annual_price_cents:xr&&Gr?Math.round(Number(Gr)*100):void 0,vip_price_cents:rs?Math.round(Number(rs)*100):void 0}),await axiosInstance.post("/community/authors/me/update-notifications",_r),y$4.success("Profile updated")}catch{y$4.error("Failed to save profile")}finally{kt(!1)}}function zs(){!ur||!mr||(nr([...ir,{label:ur,url:mr}]),pr(""),vr(""))}function Js(_s){nr(ir.filter((Fs,Ln)=>Ln!==_s))}return dt?jsxRuntimeExports.jsx("p",{className:"p-6 opacity-60",children:"Loading settings"}):jsxRuntimeExports.jsxs("div",{className:"h-screen flex flex-col bg-dashboard-bg-light dark:bg-dashboard-bg-dark overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0 sticky top-3 z-20 border-b border-dashboard-border-light dark:border-dashboard-border-dark bg-dashboard-bg-light dark:bg-dashboard-bg-dark",children:jsxRuntimeExports.jsxs("div",{className:"px-3 sm:px-4 py-3 max-w-4xl mx-auto",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between",children:jsxRuntimeExports.jsx("h1",{className:"text-lg font-semibold",children:"Author Settings"})}),jsxRuntimeExports.jsx("div",{className:"hidden md:flex justify-end",children:jsxRuntimeExports.jsx("button",{onClick:qs,disabled:$t||!Pr,className:`
          px-4 py-2 rounded-lg text-sm font-medium
          bg-blue text-white
          hover:opacity-90 disabled:opacity-50
        `,children:$t?"Saving":"Save"})})]})}),jsxRuntimeExports.jsx("div",{className:"md:hidden px-4 py-3 border-b border-dashboard-border-light dark:border-dashboard-border-dark bg-dashboard-bg-light dark:bg-dashboard-bg-dark",children:jsxRuntimeExports.jsx("button",{onClick:qs,disabled:$t,className:`
      w-full
      py-3
      rounded-lg
      text-sm
      font-medium
      bg-blue
      text-white
      hover:opacity-90
      disabled:opacity-50
    `,children:$t?"Saving":"Save changes"})}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-y-auto",children:jsxRuntimeExports.jsxs("div",{className:"px-0 sm:px-4 py-4 sm:py-6 max-w-4xl mx-auto space-y-6 sm:space-y-8",children:[jsxRuntimeExports.jsxs(Section$1,{title:"Username",description:"Your public @username. This will appear on your posts and profile.",children:[Rr&&jsxRuntimeExports.jsx("p",{className:"text-xs mt-1 text-yellow-600",children:"Usernames cant be changed once set."}),jsxRuntimeExports.jsx("input",{value:Tt,onChange:_s=>Dt(_s.target.value.toLowerCase()),placeholder:"@username",disabled:Rr,className:`${inputClass} disabled:opacity-60`}),jsxRuntimeExports.jsx("p",{className:"text-xs mt-1 text-dashboard-muted-light dark:text-dashboard-muted-dark",children:"Letters, numbers, and underscores only"})]}),jsxRuntimeExports.jsx(Section$1,{title:"Bio",description:"Short one-line summary",children:jsxRuntimeExports.jsx("textarea",{value:Ft,onChange:_s=>Ut(_s.target.value),rows:5,className:`${inputClass} resize-none`})}),jsxRuntimeExports.jsx(Section$1,{title:"About",description:"Writer introduction",children:jsxRuntimeExports.jsx("textarea",{value:Ht,onChange:_s=>Kt(_s.target.value),rows:15,className:inputClass})}),jsxRuntimeExports.jsx(Section$1,{title:"Current Employment",children:jsxRuntimeExports.jsx("input",{value:Yt,onChange:_s=>Jt(_s.target.value),className:inputClass})}),jsxRuntimeExports.jsx(TagSection,{title:"Interests",value:or,setValue:lr,list:Zt,setList:er}),jsxRuntimeExports.jsx(TagSection,{title:"Services Provided",value:cr,setValue:dr,list:rr,setList:sr}),jsxRuntimeExports.jsxs(Section$1,{title:"Media Links",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-2 mb-3",children:[jsxRuntimeExports.jsx("input",{placeholder:"Label",value:ur,onChange:_s=>pr(_s.target.value),className:inputClass}),jsxRuntimeExports.jsx("input",{placeholder:"URL",value:mr,onChange:_s=>vr(_s.target.value),className:inputClass}),jsxRuntimeExports.jsx("button",{onClick:zs,className:`
                  px-4 rounded-xl
                  bg-dashboard-hover-light dark:bg-[#1b1f27]
                  border border-dashboard-border-light dark:border-[#2a2f38]
                `,children:jsxRuntimeExports.jsx(Plus,{size:16})})]}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:ir.map((_s,Fs)=>jsxRuntimeExports.jsxs("div",{className:`
                    flex items-center justify-between
                    rounded-xl p-4
                    bg-dashboard-sidebar-light dark:bg-dashboard-sidebar-dark
                    border border-dashboard-border-light dark:border-dashboard-border-dark
                  `,children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:_s.label}),jsxRuntimeExports.jsx("p",{className:"text-xs opacity-60",children:_s.url})]}),jsxRuntimeExports.jsx("button",{onClick:()=>Js(Fs),children:jsxRuntimeExports.jsx(X$5,{size:16})})]},Fs))})]}),jsxRuntimeExports.jsxs(Section$1,{title:"Paid subscriptions",description:jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("p",{children:"Let readers support you with a recurring subscription."}),!ds&&jsxRuntimeExports.jsxs("p",{className:"text-xs text-yellow-500",children:["Youll need to"," ",jsxRuntimeExports.jsx(Link$2,{to:"/settings",className:"underline hover:opacity-80",children:"set up billing"})," ","before enabling paid subscriptions."]})]}),children:[jsxRuntimeExports.jsx("div",{className:"w-full mb-6 sm:flex sm:justify-end",children:xr&&kr&&jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>Ms(!0),className:`
                  w-full
                  sm:w-auto
                  text-xs
                  px-4
                  py-3
                  sm:py-2
                  rounded-lg
                  border
                  text-center
                  hover:bg-dashboard-hover-light
                  dark:hover:bg-dashboard-hover-dark
                  transition
                `,children:"Preview page"})}),jsxRuntimeExports.jsxs("div",{className:"space-y-5",children:[jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-3 text-sm text-green",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",disabled:!Ks,checked:xr,onChange:_s=>wr(_s.target.checked)}),"Enable paid subscriptions"]}),xr&&jsxRuntimeExports.jsxs("div",{className:`
                  rounded-xl
                  p-4
                  sm:p-5
                  bg-dashboard-hover-light
                  dark:bg-dashboard-hover-dark
                  border
                  border-dashboard-border-light
                  dark:border-dashboard-border-dark
                  space-y-5
                `,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs bg-blue/20 text-mediaBlue",children:"Standard"}),jsxRuntimeExports.jsx("span",{className:"text-xs opacity-60",children:"Monthly and annual subscriptions"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-xs opacity-60",children:"Monthly price (USD)"}),jsxRuntimeExports.jsx("input",{type:"number",min:"1",step:"0.01",value:zr,onChange:_s=>Hr(_s.target.value),className:inputClass,placeholder:"7.50"})]}),jsxRuntimeExports.jsx(BenefitEditor,{title:"Monthly subscription benefits",benefits:cs,setBenefits:xs,newValue:ks,setNewValue:Ds})]}),jsxRuntimeExports.jsx("div",{className:"border-t border-dashboard-border-light dark:border-dashboard-border-dark"}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-xs opacity-60",children:"Annual price (USD)"}),jsxRuntimeExports.jsx("input",{type:"number",min:"1",step:"0.01",value:Gr,onChange:_s=>Xr(_s.target.value),className:inputClass,placeholder:"50.00"})]}),jsxRuntimeExports.jsx(BenefitEditor,{title:"Annual subscription benefits",benefits:us,setBenefits:$s,newValue:Cs,setNewValue:Ts})]})]}),xr&&jsxRuntimeExports.jsxs("div",{className:`
      rounded-xl
      p-4
      sm:p-5
      bg-dashboard-hover-light
      dark:bg-dashboard-hover-dark
      border
      border-dashboard-border-light
      dark:border-dashboard-border-dark
      space-y-4
    `,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs bg-purple/20 text-purple",children:"VIP Founder"}),jsxRuntimeExports.jsx("span",{className:"text-xs opacity-60",children:"Premium, limited tier"})]}),jsxRuntimeExports.jsx("span",{className:"text-xs opacity-50",children:"Annual only"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-xs opacity-60",children:"Price (USD / year)"}),jsxRuntimeExports.jsx("input",{type:"number",min:"1",step:"0.01",value:rs,onChange:_s=>Yr(_s.target.value),className:inputClass,placeholder:"240.00"})]}),jsxRuntimeExports.jsx(BenefitEditor,{title:"VIP Founder benefits",benefits:es,setBenefits:ns,newValue:ms,setNewValue:ls})]})]})]}),jsxRuntimeExports.jsx(Section$1,{title:"Unlock more tools",description:"Upgrade your plan to access premium writing and publishing features.",children:jsxRuntimeExports.jsxs("div",{className:`
              flex flex-col sm:flex-row
              items-start sm:items-center
              justify-between
              gap-4
              rounded-xl
              p-4
              bg-dashboard-hover-light
              dark:bg-dashboard-hover-dark
              border
              border-dashboard-border-light
              dark:border-dashboard-border-dark
            `,children:[jsxRuntimeExports.jsx("p",{className:"text-sm opacity-80 max-w-xl",children:"Authors Assistant and the Pro Document Generator are available on paid plans with expanded limits and advanced tools."}),jsxRuntimeExports.jsx(Link$2,{to:"/plans",children:jsxRuntimeExports.jsx("button",{className:`
                  px-4 py-2
                  rounded-lg
                  text-sm font-medium
                  bg-blue
                  text-white
                  hover:opacity-90
                  whitespace-nowrap
                `,children:"View plans"})})]})}),jsxRuntimeExports.jsx(Section$1,{title:"Notifications",description:"Control which activity you want to be notified about",children:jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx(NotificationRow,{title:"New free subscriber",description:"When someone subscribes for free",enabled:_r.new_free_subscriber,onToggle:()=>Us("new_free_subscriber")}),jsxRuntimeExports.jsx(NotificationRow,{title:"Canceled free subscription",description:"When someone cancels a free subscription",enabled:_r.canceled_free_subscription,onToggle:()=>Us("canceled_free_subscription")})]}),jsxRuntimeExports.jsx("div",{className:"border-t border-dashboard-border-light dark:border-dashboard-border-dark"}),jsxRuntimeExports.jsx("div",{className:"space-y-4",children:jsxRuntimeExports.jsx(NotificationRow,{title:"Comments on your posts",description:"When someone comments on a post you published",enabled:_r.post_comments,onToggle:()=>Us("post_comments")})})]})})]})}),jsxRuntimeExports.jsx(PreviewSubscribeModal,{open:Ns,onClose:()=>Ms(!1),onConfirm:()=>{Ms(!1),window.open(`/community/subscribe/${kr}/choose?preview=1`,"_blank")}})]})}function Section$1({title:dt,description:et,children:$t}){return jsxRuntimeExports.jsxs("div",{className:`
        /* mobile */
        p-4
        rounded-none
        border-none
        shadow-none
        bg-transparent

        /* desktop */
        sm:p-6
        sm:rounded-2xl
        sm:bg-dashboard-sidebar-light
        sm:dark:bg-dashboard-sidebar-dark
        sm:border
        sm:border-dashboard-border-light
        sm:dark:border-dashboard-border-dark
        sm:shadow-sm
      `,children:[jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-sm font-semibold",children:dt}),et&&jsxRuntimeExports.jsx("div",{className:"text-xs opacity-60 mt-1",children:et})]}),$t]})}function Toggle({enabled:dt,onChange:et}){return jsxRuntimeExports.jsx("button",{type:"button",onClick:et,className:`
        relative inline-flex h-6 w-11 items-center rounded-full transition
        ${dt?"bg-indigo-500":"bg-gray-400/40"}
      `,children:jsxRuntimeExports.jsx("span",{className:`
          inline-block h-5 w-5 transform rounded-full bg-white transition
          ${dt?"translate-x-5":"translate-x-1"}
        `})})}function NotificationRow({title:dt,description:et,enabled:$t,onToggle:kt}){return jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:dt}),jsxRuntimeExports.jsx("p",{className:"text-sm opacity-60",children:et})]}),jsxRuntimeExports.jsx(Toggle,{enabled:$t,onChange:kt})]})}function TagSection({title:dt,value:et,setValue:$t,list:kt,setList:Tt}){function Dt(){if(!et.trim())return;const Ft=et.split(",").map(Ut=>Ut.trim()).filter(Boolean).filter(Ut=>!kt.includes(Ut));Ft.length&&Tt([...kt,...Ft]),$t("")}return jsxRuntimeExports.jsxs(Section$1,{title:dt,children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-2 mb-3",children:[jsxRuntimeExports.jsx("input",{value:et,onChange:Ft=>$t(Ft.target.value),onKeyDown:Ft=>{Ft.key==="Enter"&&(Ft.preventDefault(),Dt())},placeholder:"Type tags separated by commas",className:inputClass}),jsxRuntimeExports.jsx("button",{onClick:Dt,className:`
            px-4 rounded-xl
            bg-dashboard-hover-light dark:bg-[#1b1f27]
            border border-dashboard-border-light dark:border-[#2a2f38]
          `,children:jsxRuntimeExports.jsx(Plus,{size:16})})]}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:kt.map(Ft=>jsxRuntimeExports.jsxs("span",{className:`
              flex items-center gap-1
              px-3 py-1 rounded-full text-xs font-medium
              bg-dashboard-hover-light dark:bg-[#1b1f27]
              border border-dashboard-border-light dark:border-[#2a2f38]
            `,children:[Ft,jsxRuntimeExports.jsx("button",{onClick:()=>Tt(kt.filter(Ut=>Ut!==Ft)),children:jsxRuntimeExports.jsx(X$5,{size:12})})]},Ft))})]})}function BenefitEditor({title:dt,benefits:et,setBenefits:$t,newValue:kt,setNewValue:Tt}){const Ft=et.length>=10,[Ut,Ht]=reactExports.useState(null);function Kt(Zt){Ht(Zt)}function Yt(Zt){Zt.preventDefault()}function Jt(Zt){if(Ut===null||Ut===Zt)return;const er=[...et],[rr]=er.splice(Ut,1);er.splice(Zt,0,rr),$t(er),Ht(null)}return jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium",children:dt}),jsxRuntimeExports.jsxs("span",{className:"text-xs opacity-60",children:[et.length,"/",10]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("input",{value:kt,onChange:Zt=>Tt(Zt.target.value),placeholder:Ft?"Maximum benefits reached":"Add a benefit",disabled:Ft,className:`${inputClass} ${Ft?"opacity-60":""}`}),jsxRuntimeExports.jsx("button",{disabled:Ft,onClick:()=>{!kt.trim()||Ft||($t([...et,kt.trim()]),Tt(""))},className:`
            px-4 rounded-xl
            bg-dashboard-hover-light dark:bg-[#1b1f27]
            disabled:opacity-50
          `,children:jsxRuntimeExports.jsx(Plus,{size:16})})]}),Ft&&jsxRuntimeExports.jsx("p",{className:"text-xs text-yellow-500",children:"You can add up to 10 benefits per subscription tier."}),jsxRuntimeExports.jsx("ul",{className:"space-y-2",children:et.map((Zt,er)=>jsxRuntimeExports.jsxs("li",{draggable:!0,onDragStart:()=>Kt(er),onDragOver:Yt,onDrop:()=>Jt(er),className:`
              flex items-center justify-between gap-3
              rounded-xl p-3
              bg-dashboard-sidebar-light dark:bg-dashboard-sidebar-dark
              border border-dashboard-border-light dark:border-dashboard-border-dark
              cursor-move
            `,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"opacity-50 cursor-grab",children:""}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:Zt})]}),jsxRuntimeExports.jsx("button",{onClick:()=>$t(et.filter((rr,sr)=>sr!==er)),children:jsxRuntimeExports.jsx(X$5,{size:14})})]},er))})]})}function ProfilePostCarousel({posts:dt}){return dt!=null&&dt.length?jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-semibold opacity-80",children:"More from this author"}),jsxRuntimeExports.jsx("div",{className:`
          flex gap-4 overflow-x-auto pb-2
          snap-x snap-mandatory
          no-scrollbar
        `,children:dt.map(et=>jsxRuntimeExports.jsxs(Link$2,{to:`/community/post/${et.id}`,className:`
              min-w-[220px] max-w-[220px]
              snap-start
              rounded-xl
              border border-dashboard-border-light
              dark:border-dashboard-border-dark
              bg-dashboard-sidebar-light
              dark:bg-dashboard-sidebar-dark
              hover:opacity-90
              transition
            `,children:[jsxRuntimeExports.jsx("div",{className:"h-28 w-full rounded-t-xl overflow-hidden bg-dashboard-hover-light dark:bg-dashboard-hover-dark",children:et.image_url?jsxRuntimeExports.jsx("img",{src:et.image_url,alt:"",className:"w-full h-full object-cover"}):jsxRuntimeExports.jsx("div",{className:"w-full h-full flex items-center justify-center opacity-40",children:""})}),jsxRuntimeExports.jsxs("div",{className:"p-3 space-y-1",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-semibold line-clamp-2",children:et.title}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 text-xs opacity-60",children:[jsxRuntimeExports.jsxs("span",{children:[et.views," views"]}),jsxRuntimeExports.jsxs("span",{children:[et.comment_count," comments"]})]})]})]},et.id))})]}):null}const BADGE_DEFS={helpful:{label:"Helpful Creator",icon:HandHeart,color:"text-green",bg:"bg-green/10"},great_listener:{label:"Great Listener",icon:Ear,color:"text-blue",bg:"bg-blue/10"},posted_regularly:{label:"Posted Regularly",icon:PenLine,color:"text-royalPurple",bg:"bg-royalPurple/10"},quality_content:{label:"Quality Content",icon:Sparkles,color:"text-amber-500",bg:"bg-amber-500/10"}};function Profile(){var cr,dr,ur,pr,mr;const[dt,et]=reactExports.useState(!0),[$t,kt]=reactExports.useState(null),{user:Tt}=useAuth(),{userId:Dt}=useParams(),Ft=useNavigate(),[Ut,Ht]=reactExports.useState(!1),[Kt,Yt]=reactExports.useState(!1),[Jt,Zt]=reactExports.useState([]),[er,rr]=reactExports.useState(!1),sr=!Dt||(Tt==null?void 0:Tt.id)===Dt;reactExports.useEffect(()=>{$t!=null&&$t.id&&Tt&&(sr||ir())},[$t,Tt,sr]);async function ir(){try{const vr=await axiosInstance.get(`/community/subscriptions/${$t.id}/status`);Ht(vr.data.subscribed),rr(vr.data.has_paid_subscription)}catch(vr){console.error("Failed to load subscription status",vr)}}reactExports.useEffect(()=>{nr(),or()},[Dt]);async function nr(){try{et(!0);const vr=await axiosInstance.get(Dt?`/community/authors/${Dt}`:"/community/authors/me");kt(vr.data.profile)}catch{console.error("Failed to load author profile")}finally{et(!1)}}async function or(){try{const vr=sr||!Dt?"/badges/my-badges":`/badges/user-badges/${Dt}`,kr=await axiosInstance.get(vr);Zt(kr.data.badges||[])}catch(vr){console.error("Failed to load badges",vr)}}async function lr(){if($t!=null&&$t.id){if(!Tt){Ft(`/signup-community?redirect=/community/authors/${$t.id}`);return}if(Ut){Yt(!0);try{await axiosInstance.delete(`/community/subscriptions/${$t.id}/subscribe`),Ht(!1)}catch{y$4.error("Failed to unsubscribe")}finally{Yt(!1)}return}if(!er){Yt(!0);try{await axiosInstance.post(`/community/subscriptions/${$t.id}/subscribe`),Ht(!0)}catch{y$4.error("Subscription failed")}finally{Yt(!1)}return}Ft(`/community/subscribe/${$t.id}/choose`,{state:{from:`/community/authors/${$t.id}`}})}}return dt?jsxRuntimeExports.jsx("div",{className:"p-6 opacity-60",children:"Loading profile"}):$t?jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-dashboard-bg-light dark:bg-dashboard-bg-dark",children:jsxRuntimeExports.jsx("div",{className:"max-w-6xl mx-auto px-4 py-2 sm:py-8",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"md:col-span-1 space-y-6",children:[jsxRuntimeExports.jsx("div",{className:"rounded-2xl p-6 bg-dashboard-sidebar-light dark:bg-dashboard-sidebar-dark border border-dashboard-border-light dark:border-dashboard-border-dark",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center text-center",children:[jsxRuntimeExports.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden mb-4 bg-dashboard-hover-light dark:bg-dashboard-hover-dark",children:$t.profile_image_url?jsxRuntimeExports.jsx("img",{src:$t.profile_image_url,alt:"",className:"w-full h-full object-cover"}):jsxRuntimeExports.jsx("div",{className:"w-full h-full flex items-center justify-center text-3xl font-semibold opacity-40",children:(cr=$t.name)==null?void 0:cr.charAt(0)})}),jsxRuntimeExports.jsx("h1",{className:"text-lg font-semibold",children:$t.name}),jsxRuntimeExports.jsxs("p",{children:["@",$t.username]}),!sr&&jsxRuntimeExports.jsx("button",{onClick:lr,disabled:Kt,className:`
    mt-4
    text-sm px-4 py-2 rounded-lg border transition
    flex items-center justify-center gap-2
    ${Ut?"bg-green/10 text-green border-green/30 hover:bg-green/20":"bg-dashboard-hover-light dark:bg-dashboard-hover-dark text-dashboard-text-light dark:text-dashboard-text-dark border-dashboard-border-light dark:border-dashboard-border-dark hover:opacity-80"}
    disabled:opacity-50
  `,children:Kt?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(ButtonSpinner,{size:14}),jsxRuntimeExports.jsx("span",{className:"text-xs",children:"Please wait"})]}):Ut?"Subscribed":"Subscribe"}),$t.bio&&jsxRuntimeExports.jsx("p",{className:"mt-3 text-sm opacity-70 leading-relaxed text-left",children:$t.bio}),jsxRuntimeExports.jsxs("button",{onClick:()=>{Ft(sr?"/community/subscriptions/subscribers":`/community/authors/${$t.id}/subscribers`)},className:`
                  mt-4 w-full
                  flex items-center justify-center
                  rounded-lg
                  bg-dashboard-hover-light dark:bg-dashboard-hover-dark
                  px-4 py-2
                  text-sm
                  text-dashboard-text-light dark:text-dashboard-text-dark
                  hover:opacity-80
                  transition
                `,children:[jsxRuntimeExports.jsx("span",{children:$t.subscriber_count.toLocaleString()}),jsxRuntimeExports.jsxs("span",{className:"ml-1 opacity-70",children:["subscriber",$t.subscriber_count===1?"":"s"]})]}),Jt.length>0&&jsxRuntimeExports.jsx("div",{className:"mt-4 w-full",children:jsxRuntimeExports.jsx("div",{className:`
                      grid grid-cols-3 gap-3 justify-items-center
                      sm:flex sm:flex-wrap sm:justify-center
                    `,children:Jt.map(vr=>jsxRuntimeExports.jsx(ProfileBadge,{badge:vr},vr.key_name))})})]})}),((dr=$t.media_links)==null?void 0:dr.length)>0&&jsxRuntimeExports.jsxs("div",{className:"rounded-2xl p-5 bg-dashboard-sidebar-light dark:bg-dashboard-sidebar-dark border border-dashboard-border-light dark:border-dashboard-border-dark",children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-semibold mb-3",children:"Links"}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:$t.media_links.map((vr,kr)=>jsxRuntimeExports.jsxs("a",{href:vr.url,target:"_blank",rel:"noreferrer",className:`
                        flex items-center justify-between
                        px-3 py-2 rounded-lg text-sm
                        bg-dashboard-hover-light dark:bg-dashboard-hover-dark
                        hover:opacity-80 transition
                      `,children:[jsxRuntimeExports.jsx("span",{children:vr.label}),jsxRuntimeExports.jsx(ExternalLink,{size:14})]},kr))})]})]}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-2 space-y-8",children:[$t.about&&jsxRuntimeExports.jsx(Section,{title:"About",children:jsxRuntimeExports.jsx("p",{className:"text-sm leading-relaxed opacity-80",children:$t.about})}),$t.current_employment&&jsxRuntimeExports.jsx(Section,{title:"Current Employment",children:jsxRuntimeExports.jsx("p",{className:"text-sm opacity-80",children:$t.current_employment})}),((ur=$t.interests)==null?void 0:ur.length)>0&&jsxRuntimeExports.jsx(Section,{title:"Interests",children:jsxRuntimeExports.jsx(TagGrid,{tags:$t.interests})}),((pr=$t.services)==null?void 0:pr.length)>0&&jsxRuntimeExports.jsx(Section,{title:"Services Provided",children:jsxRuntimeExports.jsx(TagGrid,{tags:$t.services})}),jsxRuntimeExports.jsx(Section,{title:"Recent Activity",children:jsxRuntimeExports.jsx("p",{className:"text-sm opacity-60",children:"More posts and recommendations coming next."})}),((mr=$t.posts)==null?void 0:mr.length)>0&&jsxRuntimeExports.jsx(Section,{title:"Posts",children:jsxRuntimeExports.jsx(ProfilePostCarousel,{posts:$t.posts})})]})]})})}):jsxRuntimeExports.jsx("div",{className:"p-6 opacity-60",children:"Profile not found"})}function Section({title:dt,children:et}){return jsxRuntimeExports.jsxs("div",{className:"rounded-2xl p-6 bg-dashboard-sidebar-light dark:bg-dashboard-sidebar-dark border border-dashboard-border-light dark:border-dashboard-border-dark",children:[jsxRuntimeExports.jsx("h2",{className:"text-sm font-semibold mb-3",children:dt}),et]})}function ProfileBadge({badge:dt}){const et=BADGE_DEFS[dt.key_name];if(!et)return null;const $t=!!dt.earned,kt=et.icon;return jsxRuntimeExports.jsxs("div",{title:dt.description,className:`
        flex flex-col items-center
        w-16
        text-center
        transition
        ${$t?"opacity-100":"opacity-40 grayscale"}
      `,children:[jsxRuntimeExports.jsx("div",{className:`
          w-10 h-10 rounded-full
          flex items-center justify-center
          border
          ${et.bg}
          ${$t?et.color:""}
          border-dashboard-border-light dark:border-dashboard-border-dark
        `,children:jsxRuntimeExports.jsx(kt,{size:18})}),jsxRuntimeExports.jsx("span",{className:"mt-1 text-[10px] leading-tight",children:et.label})]})}function TagGrid({tags:dt}){return jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:dt.map(et=>jsxRuntimeExports.jsx("span",{className:`
            px-3 py-1 rounded-full text-xs font-medium
            bg-dashboard-hover-light dark:bg-[#1b1f27]
            border border-dashboard-border-light dark:border-[#2a2f38]
          `,children:et},et))})}function InviteAccept(){const{token:dt}=useParams(),et=useNavigate(),{user:$t}=useAuth(),[kt,Tt]=reactExports.useState(!0),[Dt,Ft]=reactExports.useState(null);reactExports.useEffect(()=>{Ut()},[]);async function Ut(){try{const Kt=await axiosInstance.get(`/community/subscriptions/invites/${dt}`);Ft(Kt.data.invite)}catch{y$4.error("Invite not found or expired")}finally{Tt(!1)}}async function Ht(){if(!$t){et(`/signup-community?email=${encodeURIComponent(Dt.email)}&invite=${dt}`);return}try{et(`/signup-community?email=${encodeURIComponent(Dt.email)}&invite=${dt}`),y$4.success("Subscription activated"),et("/community")}catch{y$4.error("Failed to accept invite")}}return kt?jsxRuntimeExports.jsx("div",{className:"p-10 text-center",children:"Loading"}):Dt?jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 bg-white dark:bg-dashboard-bg-dark",children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-md rounded-2xl bg-white dark:bg-dashboard-sidebar-dark border border-gray-200 dark:border-dashboard-border-dark shadow-xl p-8 text-center",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center mb-6",children:[jsxRuntimeExports.jsx("img",{src:headerLogo,alt:"The Messy Attic",className:"h-16 mb-2"}),jsxRuntimeExports.jsx("div",{className:"text-lg font-semibold tracking-wide text-gray-700 dark:text-gray-300",children:"yThe Messy Attic Community"})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-center mb-4",children:jsxRuntimeExports.jsx("div",{className:"w-20 h-20 rounded-full overflow-hidden border border-gray-200 shadow-sm",children:jsxRuntimeExports.jsx("img",{src:Dt.author_avatar||defaultImage,alt:Dt.author_name,className:"w-full h-full object-cover"})})}),jsxRuntimeExports.jsx("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-2",children:"Youve been invited"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:Dt.author_name})," ","has invited you to join a private community for writers, authors, and readers."]}),jsxRuntimeExports.jsx("button",{onClick:Ht,className:"w-full py-3 rounded-xl bg-primary text-black font-semibold hover:opacity-90 transition",children:"Accept invitation"}),jsxRuntimeExports.jsx("p",{className:"mt-6 text-xs text-gray-400",children:"Youll be asked to sign in or create an account if needed."})]})}):jsxRuntimeExports.jsx("div",{className:"p-10 text-center opacity-60",children:"Invite not available"})}var inputRegex=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,Image$1=Node3.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{},resize:!1}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:dt}){return["img",mergeAttributes(this.options.HTMLAttributes,dt)]},parseMarkdown:(dt,et)=>et.createNode("image",{src:dt.href,title:dt.title,alt:dt.text}),renderMarkdown:dt=>{var et,$t,kt,Tt,Dt,Ft;const Ut=($t=(et=dt.attrs)==null?void 0:et.src)!=null?$t:"",Ht=(Tt=(kt=dt.attrs)==null?void 0:kt.alt)!=null?Tt:"",Kt=(Ft=(Dt=dt.attrs)==null?void 0:Dt.title)!=null?Ft:"";return Kt?`![${Ht}](${Ut} "${Kt}")`:`![${Ht}](${Ut})`},addNodeView(){if(!this.options.resize||!this.options.resize.enabled||typeof document>"u")return null;const{directions:dt,minWidth:et,minHeight:$t,alwaysPreserveAspectRatio:kt}=this.options.resize;return({node:Tt,getPos:Dt,HTMLAttributes:Ft,editor:Ut})=>{const Ht=document.createElement("img");Object.entries(Ft).forEach(([Jt,Zt])=>{if(Zt!=null)switch(Jt){case"width":case"height":break;default:Ht.setAttribute(Jt,Zt);break}}),Ht.src=Ft.src;const Kt=new ResizableNodeView({element:Ht,editor:Ut,node:Tt,getPos:Dt,onResize:(Jt,Zt)=>{Ht.style.width=`${Jt}px`,Ht.style.height=`${Zt}px`},onCommit:(Jt,Zt)=>{const er=Dt();er!==void 0&&this.editor.chain().setNodeSelection(er).updateAttributes(this.name,{width:Jt,height:Zt}).run()},onUpdate:(Jt,Zt,er)=>Jt.type===Tt.type,options:{directions:dt,min:{width:et,height:$t},preserveAspectRatio:kt===!0}}),Yt=Kt.dom;return Yt.style.visibility="hidden",Yt.style.pointerEvents="none",Ht.onload=()=>{Yt.style.visibility="",Yt.style.pointerEvents=""},Kt}},addCommands(){return{setImage:dt=>({commands:et})=>et.insertContent({type:this.name,attrs:dt})}},addInputRules(){return[nodeInputRule({find:inputRegex,type:this.type,getAttributes:dt=>{const[,,et,$t,kt]=dt;return{src:$t,alt:et,title:kt}}})]}}),index_default$1=Image$1,YOUTUBE_REGEX=/^((?:https?:)?\/\/)?((?:www|m|music)\.)?((?:youtube\.com|youtu\.be|youtube-nocookie\.com))(\/(?:[\w-]+\?v=|embed\/|v\/)?)([\w-]+)(\S+)?$/,YOUTUBE_REGEX_GLOBAL=/^((?:https?:)?\/\/)?((?:www|m|music)\.)?((?:youtube\.com|youtu\.be|youtube-nocookie\.com))(\/(?:[\w-]+\?v=|embed\/|v\/)?)([\w-]+)(\S+)?$/g,isValidYoutubeUrl=dt=>dt.match(YOUTUBE_REGEX),getYoutubeEmbedUrl=(dt,et)=>et?"https://www.youtube-nocookie.com/embed/videoseries?list=":dt?"https://www.youtube-nocookie.com/embed/":"https://www.youtube.com/embed/",getEmbedUrlFromYoutubeUrl=dt=>{const{url:et,allowFullscreen:$t,autoplay:kt,ccLanguage:Tt,ccLoadPolicy:Dt,controls:Ft,disableKBcontrols:Ut,enableIFrameApi:Ht,endTime:Kt,interfaceLanguage:Yt,ivLoadPolicy:Jt,loop:Zt,modestBranding:er,nocookie:rr,origin:sr,playlist:ir,progressBarColor:nr,startAt:or,rel:lr}=dt;if(!isValidYoutubeUrl(et))return null;if(et.includes("/embed/"))return et;if(et.includes("youtu.be")){const mr=et.split("/").pop();return mr?`${getYoutubeEmbedUrl(rr)}${mr}`:null}const dr=/(?:(v|list)=|shorts\/)([-\w]+)/gm.exec(et);if(!dr||!dr[2])return null;let ur=`${getYoutubeEmbedUrl(rr,dr[1]==="list")}${dr[2]}`;const pr=[];return $t===!1&&pr.push("fs=0"),kt&&pr.push("autoplay=1"),Tt&&pr.push(`cc_lang_pref=${Tt}`),Dt&&pr.push("cc_load_policy=1"),Ft||pr.push("controls=0"),Ut&&pr.push("disablekb=1"),Ht&&pr.push("enablejsapi=1"),Kt&&pr.push(`end=${Kt}`),Yt&&pr.push(`hl=${Yt}`),Jt&&pr.push(`iv_load_policy=${Jt}`),Zt&&pr.push("loop=1"),er&&pr.push("modestbranding=1"),sr&&pr.push(`origin=${sr}`),ir&&pr.push(`playlist=${ir}`),or&&pr.push(`start=${or}`),nr&&pr.push(`color=${nr}`),lr!==void 0&&pr.push(`rel=${lr}`),pr.length&&(ur+=`${dr[1]==="list"?"&":"?"}${pr.join("&")}`),ur},Youtube=Node3.create({name:"youtube",addOptions(){return{addPasteHandler:!0,allowFullscreen:!0,autoplay:!1,ccLanguage:void 0,ccLoadPolicy:void 0,controls:!0,disableKBcontrols:!1,enableIFrameApi:!1,endTime:0,height:480,interfaceLanguage:void 0,ivLoadPolicy:0,loop:!1,modestBranding:!1,HTMLAttributes:{},inline:!1,nocookie:!1,origin:"",playlist:"",progressBarColor:void 0,width:640,rel:1}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},start:{default:0},width:{default:this.options.width},height:{default:this.options.height}}},parseHTML(){return[{tag:"div[data-youtube-video] iframe"}]},addCommands(){return{setYoutubeVideo:dt=>({commands:et})=>isValidYoutubeUrl(dt.src)?et.insertContent({type:this.name,attrs:dt}):!1}},addPasteRules(){return this.options.addPasteHandler?[nodePasteRule({find:YOUTUBE_REGEX_GLOBAL,type:this.type,getAttributes:dt=>({src:dt.input})})]:[]},renderHTML({HTMLAttributes:dt}){const et=getEmbedUrlFromYoutubeUrl({url:dt.src,allowFullscreen:this.options.allowFullscreen,autoplay:this.options.autoplay,ccLanguage:this.options.ccLanguage,ccLoadPolicy:this.options.ccLoadPolicy,controls:this.options.controls,disableKBcontrols:this.options.disableKBcontrols,enableIFrameApi:this.options.enableIFrameApi,endTime:this.options.endTime,interfaceLanguage:this.options.interfaceLanguage,ivLoadPolicy:this.options.ivLoadPolicy,loop:this.options.loop,modestBranding:this.options.modestBranding,nocookie:this.options.nocookie,origin:this.options.origin,playlist:this.options.playlist,progressBarColor:this.options.progressBarColor,startAt:dt.start||0,rel:this.options.rel});return dt.src=et,["div",{"data-youtube-video":""},["iframe",mergeAttributes(this.options.HTMLAttributes,{width:this.options.width,height:this.options.height,allowfullscreen:this.options.allowFullscreen,autoplay:this.options.autoplay,ccLanguage:this.options.ccLanguage,ccLoadPolicy:this.options.ccLoadPolicy,disableKBcontrols:this.options.disableKBcontrols,enableIFrameApi:this.options.enableIFrameApi,endTime:this.options.endTime,interfaceLanguage:this.options.interfaceLanguage,ivLoadPolicy:this.options.ivLoadPolicy,loop:this.options.loop,modestBranding:this.options.modestBranding,origin:this.options.origin,playlist:this.options.playlist,progressBarColor:this.options.progressBarColor,rel:this.options.rel},dt)]]},...createAtomBlockMarkdownSpec({nodeName:"youtube",allowedAttributes:["src","width","height","start"]})}),index_default=Youtube;function LinkModal({open:dt,onClose:et,onSubmit:$t}){const[kt,Tt]=reactExports.useState(""),[Dt,Ft]=reactExports.useState("click here");return dt?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 bg-black/60 backdrop-blur-sm flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"bg-dashboard-sidebar-light dark:bg-dashboard-sidebar-dark p-6 rounded-xl w-full max-w-sm border border-dashboard-border-light dark:border-dashboard-border-dark shadow-xl",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold mb-4 text-dashboard-text-light dark:text-dashboard-text-dark",children:"Insert link"}),jsxRuntimeExports.jsx("input",{value:Dt,onChange:Ut=>Ft(Ut.target.value),placeholder:"Link text",className:"w-full mb-3 p-2 rounded border border-dashboard-border-light dark:border-dashboard-border-dark bg-dashboard-bg-light dark:bg-dashboard-bg-dark"}),jsxRuntimeExports.jsx("input",{value:kt,onChange:Ut=>Tt(Ut.target.value),placeholder:"https://...",className:"w-full mb-4 p-2 rounded border border-dashboard-border-light dark:border-dashboard-border-dark bg-dashboard-bg-light dark:bg-dashboard-bg-dark"}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:et,className:"text-sm opacity-70",children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:()=>{kt&&($t({url:kt,text:Dt}),Tt(""),Ft("click here"),et())},className:"px-3 py-1 bg-green text-black rounded",children:"Insert"})]})]})}):null}function VideoModal({open:dt,onClose:et,onInsert:$t}){const[kt,Tt]=reactExports.useState("");return dt?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-md rounded-xl bg-dashboard-sidebar-light dark:bg-dashboard-sidebar-dark border border-dashboard-border-light dark:border-dashboard-border-dark p-6 shadow-xl",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-dashboard-text-light dark:text-dashboard-text-dark",children:"Insert YouTube Video"}),jsxRuntimeExports.jsx("button",{onClick:et,className:"hover:opacity-80",children:jsxRuntimeExports.jsx(X$5,{size:20})})]}),jsxRuntimeExports.jsx("input",{placeholder:"https://youtube.com/watch?v=...",value:kt,onChange:Dt=>Tt(Dt.target.value),className:"w-full p-3 rounded-lg bg-dashboard-bg-light dark:bg-dashboard-bg-dark border border-dashboard-border-light dark:border-dashboard-border-dark"}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[jsxRuntimeExports.jsx("button",{onClick:et,className:"px-4 py-2 rounded-lg border",children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:()=>{kt&&($t(kt),Tt(""),et())},className:"px-4 py-2 rounded-lg bg-green text-black",children:"Insert"})]})]})}):null}const CommunityPostEditor=reactExports.forwardRef(({value:dt,onChange:et},$t)=>{const kt=reactExports.useRef(null),[Tt,Dt]=reactExports.useState(!1),[Ft,Ut]=reactExports.useState(!1),[Ht,Kt]=reactExports.useState(!1),[Yt,Jt]=reactExports.useState(0);reactExports.useState(null);const Zt=useEditor({autofocus:!1,extensions:[index_default$9.configure({link:!1,underline:!1,blockquote:!1,heading:{levels:[1,2,3,4,5]},codeBlock:!0}),index_default$d,index_default$a,index_default$c,index_default$b.configure({openOnClick:!1,autolink:!0,HTMLAttributes:{target:"_blank",rel:"noopener noreferrer"}}),index_default$4.configure({types:["heading","paragraph"]}),index_default$1.configure({inline:!1,allowBase64:!1}),index_default.configure({controls:!0,nocookie:!0,modestBranding:!0}),index_default$3.configure({placeholder:"Write your post..."})],editorProps:{attributes:{class:"prose prose-lg max-w-none focus:outline-none text-dashboard-text-light dark:text-dashboard-text-dark"}},onUpdate({editor:sr}){const ir=sr.getHTML(),or=sr.state.doc.textBetween(0,sr.state.doc.content.size," ").trim().split(/\s+/).filter(Boolean).length;Jt(or),!(!ir||ir.trim()==="<p></p>")&&ir!==dt&&et(ir)}}),er=sr=>{if(!Zt)return;const{from:ir,to:nr,empty:or}=Zt.state.selection;if(or)return;const lr=Zt.state.doc.textBetween(ir,nr," ");Zt.chain().focus().deleteRange({from:ir,to:nr}).insertContent({type:"heading",attrs:{level:sr},content:[{type:"text",text:lr}]}).run()},rr=()=>{Zt&&Zt.chain().focus().setParagraph().run()};return reactExports.useImperativeHandle($t,()=>({insertImage:sr=>{Zt&&Zt.chain().focus().createParagraphNear().setImage({src:sr}).run()}})),reactExports.useEffect(()=>{if(!Ht)return;const sr=ir=>{kt.current&&(kt.current.contains(ir.target)||Kt(!1))};return document.addEventListener("mousedown",sr),()=>document.removeEventListener("mousedown",sr)},[Ht]),reactExports.useEffect(()=>{!Zt||!dt||!dt.trim()||Zt.getHTML()===dt||Zt.commands.setContent(dt,!1)},[Zt,dt]),Zt?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"rounded-xl border border-dashboard-border-light dark:border-dashboard-border-dark bg-dashboard-bg-light dark:bg-dashboard-bg-dark",children:[jsxRuntimeExports.jsxs("div",{className:`
          flex items-center gap-2
          px-3 py-2
          border-b border-dashboard-border-light dark:border-dashboard-border-dark

          overflow-x-auto  
          overflow-y-visible
          whitespace-nowrap

          md:overflow-visible
          md:whitespace-normal
          no-scrollbar
        `,children:[jsxRuntimeExports.jsxs("div",{ref:kt,className:"shrink-0 relative hidden md:block",children:[jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>Kt(sr=>!sr),className:`
              shrink-0
              flex items-center justify-between
              min-w-[140px]
              px-3 py-2
              rounded-md
              text-sm font-medium
              bg-dashboard-bg-light dark:bg-dashboard-bg-dark
              border border-dashboard-border-light dark:border-dashboard-border-dark
              text-dashboard-text-light dark:text-dashboard-text-dark
              hover:bg-dashboard-hover-light dark:hover:bg-dashboard-hover-dark
            `,children:[jsxRuntimeExports.jsx("span",{children:"Body"}),jsxRuntimeExports.jsx(ChevronDown,{size:14,className:"opacity-70"})]}),Ht&&jsxRuntimeExports.jsxs("div",{className:`
                absolute left-0 mt-1 z-20
                w-44
                rounded-md
                bg-dashboard-sidebar-light dark:bg-dashboard-sidebar-dark
                border border-dashboard-border-light dark:border-dashboard-border-dark
                shadow-lg
                overflow-hidden
              `,children:[jsxRuntimeExports.jsx("button",{onClick:rr,className:"w-full px-4 py-2 text-left text-sm hover:bg-dashboard-hover-light dark:hover:bg-dashboard-hover-dark",children:"Body"}),jsxRuntimeExports.jsx("div",{className:"border-t border-dashboard-border-light dark:border-dashboard-border-dark"}),[1,2,3,4,5].map(sr=>jsxRuntimeExports.jsxs("button",{onClick:()=>er(sr),className:"w-full px-4 py-2 text-left text-sm hover:bg-dashboard-hover-light dark:hover:bg-dashboard-hover-dark",children:["Heading H",sr]},sr))]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-1 shrink-0 md:hidden",children:[jsxRuntimeExports.jsx("button",{onClick:rr,className:`
      px-3 py-2 text-sm rounded
      border border-dashboard-border-light dark:border-dashboard-border-dark
      bg-dashboard-bg-light dark:bg-dashboard-bg-dark
      text-dashboard-text-light dark:text-dashboard-text-dark
      hover:bg-dashboard-hover-light dark:hover:bg-dashboard-hover-dark
    `,children:"Body"}),[1,2,3,4,5,6].map(sr=>jsxRuntimeExports.jsxs("button",{onClick:()=>er(sr),className:`
        px-3 py-2 text-sm rounded shrink-0
        border border-dashboard-border-light dark:border-dashboard-border-dark
        bg-dashboard-bg-light dark:bg-dashboard-bg-dark
        text-dashboard-text-light dark:text-dashboard-text-dark
        hover:bg-dashboard-hover-light dark:hover:bg-dashboard-hover-dark
      `,children:["H",sr]},sr))]}),jsxRuntimeExports.jsx("button",{onClick:()=>Zt.chain().focus().toggleBold().run(),className:`
              shrink-0
            p-2 rounded
            hover:bg-dashboard-hover-light dark:hover:bg-dashboard-hover-dark 
            ${Zt.isActive("bold")?"bg-dashboard-hover-light dark:bg-dashboard-hover-dark":""}
          `,children:jsxRuntimeExports.jsx(Bold$1,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>Zt.chain().focus().toggleItalic().run(),className:`
            shrink-0
            p-2 rounded
            hover:bg-dashboard-hover-light dark:hover:bg-dashboard-hover-dark
            ${Zt.isActive("italic")?"bg-dashboard-hover-light dark:bg-dashboard-hover-dark":""}
          `,children:jsxRuntimeExports.jsx(Italic$1,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>Zt.chain().focus().toggleBlockquote().run(),className:`
            shrink-0
            p-2 rounded
            hover:bg-dashboard-hover-light dark:hover:bg-dashboard-hover-dark
            ${Zt.isActive("blockquote")?"bg-dashboard-hover-light dark:bg-dashboard-hover-dark":""}
          `,title:"Quote",children:""}),jsxRuntimeExports.jsx("button",{onClick:()=>Zt.chain().focus().setHorizontalRule().run(),className:"shrink-0 p-2 rounded hover:bg-dashboard-hover-light dark:hover:bg-dashboard-hover-dark",children:jsxRuntimeExports.jsx(Minus,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>Dt(!0),className:"shrink-0 p-2 rounded hover:bg-dashboard-hover-light dark:hover:bg-dashboard-hover-dark",children:jsxRuntimeExports.jsx(Link2,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>Zt.chain().focus().unsetLink().run(),className:"shrink-0 p-2 rounded hover:bg-dashboard-hover-light dark:hover:bg-dashboard-hover-dark",children:jsxRuntimeExports.jsx(Unlink,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>Ut(!0),className:"shrink-0 p-2 rounded hover:bg-dashboard-hover-light dark:hover:bg-dashboard-hover-dark",children:jsxRuntimeExports.jsx(SquarePlay,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>Zt.chain().focus().toggleCodeBlock().run(),className:"shrink-0 p-2 rounded hover:bg-dashboard-hover-light dark:hover:bg-dashboard-hover-dark",children:jsxRuntimeExports.jsx(Code$1,{size:16})}),jsxRuntimeExports.jsxs("label",{className:"shrink-0 p-2 rounded cursor-pointer hover:bg-dashboard-hover-light dark:hover:bg-dashboard-hover-dark",children:[jsxRuntimeExports.jsx(Image$2,{size:16}),jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*",hidden:!0,onChange:async sr=>{var nr,or;const ir=(nr=sr.target.files)==null?void 0:nr[0];if(ir)try{const lr=new FormData;lr.append("image",ir);const dr=(or=(await axiosInstance.post("/community/upload-image",lr,{headers:{"Content-Type":"multipart/form-data"}})).data)==null?void 0:or.image_url;if(!dr)return;Zt.chain().focus().createParagraphNear().setImage({src:dr}).run()}catch(lr){console.error("Image upload failed:",lr)}finally{sr.target.value=""}}})]})]}),jsxRuntimeExports.jsx(EditorContent,{editor:Zt,className:`
          p-4
          min-h-[240px]
          max-h-[45vh]
          overflow-y-auto
          post-body
          prose prose-lg max-w-none

          prose-headings:mt-6 prose-headings:mb-2
          prose-p:my-3

          prose-strong:text-inherit
          prose-strong:font-semibold

          prose-a:underline
          prose-a:underline-offset-2
          prose-a:font-medium
          prose-a:text-blue
          prose-a:decoration-blue

          dark:prose-invert
          dark:prose-strong:text-inherit
          dark:prose-a:text-sky-400
          dark:prose-a:decoration-sky-400
        `}),jsxRuntimeExports.jsxs("div",{className:`
    flex justify-end
    px-4 py-2
    text-xs

    bg-dashboard-hover-light
    dark:bg-dashboard-hover-dark

    text-dashboard-muted-light
    dark:text-dashboard-muted-dark

    border-t
    border-dashboard-border-light
    dark:border-dashboard-border-dark

    rounded-b-xl
  `,children:[Yt," words"]})]}),jsxRuntimeExports.jsx(LinkModal,{open:Tt,onClose:()=>Dt(!1),onSubmit:({url:sr,text:ir})=>{if(!sr)return;const{empty:nr}=Zt.state.selection;nr?Zt.chain().focus().insertText(ir||"click here").setLink({href:sr,target:"_blank",rel:"noopener noreferrer"}).run():Zt.chain().focus().setLink({href:sr,target:"_blank",rel:"noopener noreferrer"}).run()}}),jsxRuntimeExports.jsx(VideoModal,{open:Ft,onClose:()=>Ut(!1),onInsert:sr=>{Zt.chain().focus().setYoutubeVideo({src:sr,width:640,height:360}).run()}})]}):null});function renderEmailPreview({subject:dt,bodyHtml:et},$t={}){let kt=dt||"",Tt=et||"";return Object.entries($t).forEach(([Dt,Ft])=>{const Ut=`{{${Dt}}}`;kt=kt.split(Ut).join(Ft??""),Tt=Tt.split(Ut).join(Ft??"")}),{subject:kt,html:Tt}}function EmailPreview({subject:dt,bodyHtml:et,creatorName:$t}){const[kt,Tt]=reactExports.useState("desktop"),Ft=renderEmailPreview({subject:dt,bodyHtml:et},{subscriber_name:"John Doe",author_name:$t});return jsxRuntimeExports.jsxs("div",{className:"sticky top-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-3",children:[jsxRuntimeExports.jsx("h2",{className:"text-sm font-semibold text-gray-300",children:"Preview"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Tt("desktop"),className:`px-2 py-1 text-xs rounded ${kt==="desktop"?"bg-indigo-600 text-white":"bg-gray-700 text-gray-300"}`,children:"Desktop"}),jsxRuntimeExports.jsx("button",{onClick:()=>Tt("mobile"),className:`px-2 py-1 text-xs rounded ${kt==="mobile"?"bg-indigo-600 text-white":"bg-gray-700 text-gray-300"}`,children:"Mobile"})]})]}),jsxRuntimeExports.jsxs("div",{className:`
    mx-auto rounded-lg
    border border-dashboard-border-light dark:border-dashboard-border-dark
    bg-dashboard-sidebar-light dark:bg-dashboard-sidebar-dark
    text-dashboard-text-light dark:text-dashboard-text-dark
    ${kt==="desktop"?"max-w-xl":"max-w-sm"}
  `,children:[jsxRuntimeExports.jsxs("div",{className:"px-4 py-3 border-b border-dashboard-border-light dark:border-dashboard-border-dark",children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-dashboard-muted-light dark:text-dashboard-muted-dark mb-1",children:"Subject"}),jsxRuntimeExports.jsx("p",{className:"font-medium",children:Ft.subject||"(No subject)"})]}),jsxRuntimeExports.jsx("div",{className:"px-4 py-4 prose prose-sm max-w-none post-body",dangerouslySetInnerHTML:{__html:Ft.html||"<p></p>"}})]})]})}function SendTestEmailModal({open:dt,email:et,onCancel:$t,onConfirm:kt}){return dt?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60",children:jsxRuntimeExports.jsxs("div",{className:`
        w-full max-w-sm rounded-xl
        bg-dashboard-bg-light dark:bg-dashboard-bg-dark
        border border-dashboard-border-light dark:border-dashboard-border-dark
        p-6
      `,children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Send test email?"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-dashboard-muted-light dark:text-dashboard-muted-dark mb-6",children:["This will send a test email to ",jsxRuntimeExports.jsx("strong",{children:et}),"."]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:$t,className:"px-4 py-2 rounded-md border border-dashboard-border-light dark:border-dashboard-border-dark",children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:kt,className:"px-4 py-2 rounded-md bg-indigo-600 text-white hover:bg-indigo-700",children:"Send"})]})]})}):null}const EMAIL_HTML_WARN_LIMIT=1e5,EMAIL_HTML_BLOCK_LIMIT=15e4;function EmailTemplates(){const{user:dt}=useAuth(),[et,$t]=reactExports.useState(""),[kt,Tt]=reactExports.useState(""),[Dt,Ft]=reactExports.useState(!0),[Ut,Ht]=reactExports.useState(!1),[Kt,Yt]=reactExports.useState(!1),[Jt,Zt]=reactExports.useState(!1),er=(kt==null?void 0:kt.length)||0,rr=er>EMAIL_HTML_BLOCK_LIMIT,sr=er>EMAIL_HTML_WARN_LIMIT,ir=Kt||!et.trim()||!kt.trim()||rr;reactExports.useEffect(()=>{nr()},[]);async function nr(){var cr,dr,ur;try{const pr=await axiosInstance.get("/community/authors/me/email-templates/free_subscriber_welcome");(cr=pr==null?void 0:pr.data)!=null&&cr.template&&($t(pr.data.template.subject||""),Tt(pr.data.template.body_html||""))}catch(pr){console.error("Failed to load email template",(dr=pr==null?void 0:pr.response)==null?void 0:dr.status,((ur=pr==null?void 0:pr.response)==null?void 0:ur.data)||pr.message)}finally{Ft(!1)}}async function or(){try{Ht(!0),await axiosInstance.post("/community/authors/me/email-templates",{type:"free_subscriber_welcome",subject:et,body_html:kt}),y$4.success("Template saved")}catch(cr){console.error("Failed to save email template",cr),y$4.error("Failed to save template")}finally{Ht(!1)}}async function lr(){var cr,dr;try{Yt(!0),await axiosInstance.post("/community/authors/test",{type:"free_subscriber_welcome"}),y$4.success("Test email sent")}catch(ur){if(((cr=ur==null?void 0:ur.response)==null?void 0:cr.status)===429){const pr=(dr=ur.response.data)==null?void 0:dr.retry_after_seconds,mr=pr?Math.ceil(pr/60):null;y$4.warning(mr?`Too many test emails. Try again in ${mr} minute${mr>1?"s":""}.`:"Too many test emails. Please try again later.")}else console.error("Failed to send test email",ur),y$4.error("Failed to send test email")}finally{Yt(!1)}}return Dt?jsxRuntimeExports.jsx("div",{className:"p-6 text-gray-400",children:"Loading email template"}):jsxRuntimeExports.jsx("div",{className:"h-full overflow-y-auto",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 p-4 sm:p-6 max-w-7xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[jsxRuntimeExports.jsx(MailCheck,{className:"w-6 h-6 text-gray-300"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-xl font-semibold text-white",children:"Email Templates"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Customize the welcome email sent to new free subscribers."})]})]}),jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"Subject"}),jsxRuntimeExports.jsx("input",{value:et,onChange:cr=>$t(cr.target.value),placeholder:"Welcome {{subscriber_name}}",className:`
              w-full rounded-md px-4 py-2
              bg-[#0b1220] text-white
              border border-gray-700
              focus:outline-none focus:ring-2 focus:ring-indigo-500
            `}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Variables: ","{{subscriber_name}}",", ","{{author_name}}"]})]}),jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"Email Body"}),jsxRuntimeExports.jsx(CommunityPostEditor,{value:kt,onChange:Tt})]}),sr&&!rr&&jsxRuntimeExports.jsx("p",{className:"mt-2 text-sm text-yellow-500",children:" This email is very long and may be truncated or rejected by some email clients."}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:or,disabled:Ut,className:`
            px-4 py-2 rounded-md
            bg-indigo-600 text-white
            hover:bg-indigo-700
            disabled:opacity-50
          `,children:Ut?"Saving":"Save Template"}),jsxRuntimeExports.jsx("button",{onClick:()=>Zt(!0),disabled:ir,className:`
            px-4 py-2 rounded-md
            bg-gray-700 text-white
            hover:bg-gray-600
            disabled:opacity-50
          `,children:Kt?jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}),"Sending"]}):"Send Test"})]}),!Kt&&!et.trim()&&jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Add a subject and email body to send a test."}),!Kt&&rr&&jsxRuntimeExports.jsx("p",{className:"text-xs text-red-500 mt-2",children:"This email is too large to send."})]}),jsxRuntimeExports.jsx(EmailPreview,{subject:et,bodyHtml:kt,creatorName:(dt==null?void 0:dt.name)||""}),jsxRuntimeExports.jsx(SendTestEmailModal,{open:Jt,email:dt.email,onCancel:()=>Zt(!1),onConfirm:async()=>{Zt(!1),await lr()}})]})})}const OPTIONS=[{value:"public",label:"Public",description:"Anyone can comment",icon:Eye},{value:"private",label:"Subscribers",description:"Any subscriber (Free or Paid) can comment",icon:Users},{value:"paid",label:"Paid subscribers",description:"Paying subscribers only",icon:Lock}];function CommentVisibilityDropdown({value:dt="public",onChange:et}){const[$t,kt]=reactExports.useState(!1),Tt=reactExports.useRef(null),Dt=OPTIONS.find(Ft=>Ft.value===dt)||OPTIONS[0];return reactExports.useEffect(()=>{function Ft(Ut){Tt.current&&!Tt.current.contains(Ut.target)&&kt(!1)}return document.addEventListener("mousedown",Ft),()=>document.removeEventListener("mousedown",Ft)},[]),jsxRuntimeExports.jsxs("div",{ref:Tt,className:"relative mt-6",children:[jsxRuntimeExports.jsx("label",{className:`
          block mb-1
          text-sm font-medium
          text-dashboard-text-light
          dark:text-dashboard-text-dark
        `,children:"Comment access"}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>kt(Ft=>!Ft),className:`
          w-full
          p-3
          rounded-lg
          flex items-center justify-between
          border
          bg-dashboard-bg-light dark:bg-dashboard-bg-dark
          border-dashboard-border-light dark:border-dashboard-border-dark
          text-dashboard-text-light dark:text-dashboard-text-dark
          hover:bg-dashboard-hover-light dark:hover:bg-dashboard-hover-dark
          focus:outline-none focus:ring-2 focus:ring-green
        `,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Dt.icon,{size:16,className:"opacity-70"}),jsxRuntimeExports.jsxs("div",{className:"text-left",children:[jsxRuntimeExports.jsx("div",{className:"text-sm font-medium",children:Dt.label}),jsxRuntimeExports.jsx("div",{className:"text-xs opacity-70",children:Dt.description})]})]}),jsxRuntimeExports.jsx("svg",{className:`w-4 h-4 transition-transform ${$t?"rotate-180":""}`,viewBox:"0 0 20 20",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.7a.75.75 0 111.06 1.06l-4.24 4.25a.75.75 0 01-1.06 0L5.21 8.29a.75.75 0 01.02-1.08z",clipRule:"evenodd"})})]}),$t&&jsxRuntimeExports.jsx("div",{className:`
            mt-2 w-full
            rounded-lg
            border
            bg-dashboard-sidebar-light dark:bg-dashboard-sidebar-dark
            border-dashboard-border-light dark:border-dashboard-border-dark
            shadow-xl
            overflow-hidden
          `,children:OPTIONS.map(Ft=>{const Ut=Ft.icon,Ht=Ft.value===dt;return jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>{et(Ft.value),kt(!1)},className:`
                  w-full px-4 py-3 text-left
                  flex items-start gap-3
                  transition
                  ${Ht?"bg-green/10 text-green":"hover:bg-dashboard-hover-light dark:hover:bg-dashboard-hover-dark"}
                `,children:[jsxRuntimeExports.jsx(Ut,{size:16,className:"mt-0.5 opacity-80"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm font-medium",children:Ft.label}),jsxRuntimeExports.jsx("div",{className:"text-xs opacity-70",children:Ft.description})]})]},Ft.value)})}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-xs text-dashboard-muted-light dark:text-dashboard-muted-dark",children:"Subscribers can comment on subscriber-only posts. Paid posts require an active paid subscription."})]})}function CreatePostPage({post:dt=null,topicId:et}){var zr,Hr;const $t=useNavigate(),kt=reactExports.useRef(null),{postId:Tt}=useParams(),Dt=!!Tt,[Ft,Ut]=reactExports.useState((dt==null?void 0:dt.title)||""),[Ht,Kt]=reactExports.useState((dt==null?void 0:dt.subtitle)||""),[Yt,Jt]=reactExports.useState((dt==null?void 0:dt.body)||""),[Zt,er]=reactExports.useState([]),rr=useLocation(),sr=((zr=rr.state)==null?void 0:zr.topicId)||null,ir=((Hr=rr.state)==null?void 0:Hr.topicName)||null,[nr,or]=reactExports.useState(sr||""),[lr,cr]=reactExports.useState(null),[dr,ur]=reactExports.useState((dt==null?void 0:dt.image_url)||null),[pr,mr]=reactExports.useState(!1),vr=3,[kr,br]=reactExports.useState([]),[_r,Or]=reactExports.useState((dt==null?void 0:dt.comments_visibility)||"public"),Pr=reactExports.useMemo(()=>et?Zt.find(Gr=>Gr.id===et):nr?Zt.find(Gr=>Gr.id===nr):null,[et,nr,Zt]),Mr=reactExports.useMemo(()=>{var Xr,rs;const Gr=(rs=(Xr=Yt==null?void 0:Yt.replace(/<[^>]*>/g," "))==null?void 0:Xr.replace(/\s+/g," "))==null?void 0:rs.trim();return Gr?Gr.split(" ").length:0},[Yt]),Rr=501,Tr=Mr<Rr,xr=Mr>0,wr=async()=>{var Xr;if(!Ft.trim()){y$4.error("Title is required");return}if(!((Xr=Yt==null?void 0:Yt.replace(/<[^>]*>/g,""))==null?void 0:Xr.trim())){y$4.error("Post body cannot be empty");return}if(!Dt&&!et&&!nr){y$4.error("Please select a topic");return}if(!Dt&&Mr<Rr){y$4.error(`Posts require at least ${Rr} words. This looks like a fragment.`);return}try{let rs=null;if(lr){mr(!0);const Yr=new FormData;Yr.append("image",lr),rs=(await axiosInstance.post("/community/upload-image",Yr,{headers:{"Content-Type":"multipart/form-data"}})).data.image_url}if(Dt){const Yr={title:Ft,subtitle:Ht,body:Yt,comments_visibility:_r};rs&&(Yr.image_url=rs),await axiosInstance.put(`/community/posts/${Tt}`,Yr)}else{const Yr=sr||nr;await axiosInstance.post(`/community/topics/${Yr}/posts`,{title:Ft,subtitle:Ht,body:Yt,image_url:rs,relatedTopicIds:kr,comments_visibility:_r})}Dt?(y$4.success("Post updated"),$t("/community/posts")):(y$4.success("Post published"),$t("/community"))}catch(rs){console.error("Failed to create post:",rs)}finally{mr(!1)}};return reactExports.useEffect(()=>{(async()=>{try{const Xr=await axiosInstance.get("/community/topics");er(Xr.data.topics||[])}catch(Xr){console.error("Failed to load topics:",Xr)}})()},[]),reactExports.useEffect(()=>{if(!Dt||!Tt)return;async function Gr(){try{const rs=(await axiosInstance.get(`/community/posts/${Tt}`)).data.post;Ut(rs.title),Kt(rs.subtitle||""),Jt(rs.body),or(rs.topic_id),rs.image_url&&ur(rs.image_url)}catch(Xr){console.error("Failed to load post",Xr)}}Gr()},[Dt,Tt]),jsxRuntimeExports.jsxs("div",{className:"min-h-screen w-full bg-dashboard-bg-light dark:bg-dashboard-bg-dark flex flex-col",children:[jsxRuntimeExports.jsxs("header",{className:`
    sticky top-0 z-20
    h-14
    px-4 sm:px-6
    flex items-center justify-between
    bg-dashboard-sidebar-light dark:bg-dashboard-sidebar-dark
    border-b border-dashboard-border-light dark:border-dashboard-border-dark
  `,children:[jsxRuntimeExports.jsx("button",{onClick:()=>$t(-1),className:"text-sm font-medium text-dashboard-muted-light dark:text-dashboard-muted-dark",children:"Cancel"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-semibold",children:Dt?"Edit Post":"Create Post"}),jsxRuntimeExports.jsx("button",{onClick:wr,disabled:pr||!Dt&&xr&&Tr,className:`
      px-3 py-1.5 rounded-md text-sm font-medium
      bg-green text-black
      disabled:opacity-50
    `,children:pr?"Saving":Dt?"Save":"Post"})]}),jsxRuntimeExports.jsx("main",{className:"flex-1 overflow-y-auto px-4 sm:px-6 py-6",children:jsxRuntimeExports.jsxs("div",{className:"mx-auto w-full max-w-3xl space-y-6",children:[!Dt&&!sr&&Zt.length>0&&jsxRuntimeExports.jsxs("div",{className:"space-y-1 mb-4",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium",children:"Topic"}),jsxRuntimeExports.jsxs("select",{value:nr,onChange:Gr=>or(Gr.target.value),className:`
                w-full p-3 rounded-lg
                bg-dashboard-bg-light dark:bg-dashboard-bg-dark
                border border-dashboard-border-light dark:border-dashboard-border-dark
                text-dashboard-text-light dark:text-dashboard-text-dark
                focus:outline-none focus:ring-2
              `,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select a topic"}),Zt.filter(Gr=>!Gr.is_locked).map(Gr=>jsxRuntimeExports.jsx("option",{value:Gr.id,children:Gr.name},Gr.id))]})]}),(sr||Dt)&&jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("span",{className:"text-xs uppercase tracking-wide text-dashboard-muted-light dark:text-dashboard-muted-dark",children:"Posting in"}),jsxRuntimeExports.jsx("div",{className:`
        mt-1 inline-flex items-center px-3 py-1 rounded-full
        bg-dashboard-hover-light dark:bg-dashboard-hover-dark
        text-sm font-medium
        text-dashboard-text-light dark:text-dashboard-text-dark
      `,children:ir||(Pr==null?void 0:Pr.name)})]}),jsxRuntimeExports.jsx(CommentVisibilityDropdown,{value:_r,onChange:Or}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("label",{className:`
              text-sm font-medium
              text-dashboard-text-light
              dark:text-dashboard-text-dark
            `,children:"Title"}),jsxRuntimeExports.jsx("input",{value:Ft,onChange:Gr=>Ut(Gr.target.value),placeholder:"Give your post a clear title",className:`
              w-full p-3 rounded-lg
              bg-dashboard-bg-light dark:bg-dashboard-bg-dark
              border border-dashboard-border-light dark:border-dashboard-border-dark
              text-dashboard-text-light dark:text-dashboard-text-dark
              placeholder:text-dashboard-muted-light
              dark:placeholder:text-dashboard-muted-dark
              focus:outline-none focus:ring-2 focus:ring-green
            `})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1 mt-4",children:[jsxRuntimeExports.jsx("label",{className:`
              text-sm font-medium
              text-dashboard-text-light
              dark:text-dashboard-text-dark
            `,children:"Subtitle (optional)"}),jsxRuntimeExports.jsx("input",{value:Ht,onChange:Gr=>Kt(Gr.target.value),placeholder:"Add context or a short summary",className:`
              w-full p-3 rounded-lg
              bg-dashboard-bg-light dark:bg-dashboard-bg-dark
              border border-dashboard-border-light dark:border-dashboard-border-dark
              text-dashboard-text-light dark:text-dashboard-text-dark
              placeholder:text-dashboard-muted-light
              dark:placeholder:text-dashboard-muted-dark
              focus:outline-none focus:ring-2 focus:ring-green
            `})]}),jsxRuntimeExports.jsx("div",{className:"mt-6 md:mt-8",children:dr?jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("img",{src:dr,className:`
                w-full max-h-[240px] object-cover rounded-lg
                border border-dashboard-border-light dark:border-dashboard-border-dark
              `}),jsxRuntimeExports.jsx("button",{onClick:()=>{cr(null),ur(null)},className:`
                absolute top-2 right-2
                px-2 py-1 text-xs rounded
                bg-black/60 text-white
                hover:opacity-80
              `,children:"Remove"})]}):jsxRuntimeExports.jsxs("label",{className:`
              flex flex-col items-center justify-center gap-2
              w-full p-6 cursor-pointer rounded-lg
              border border-dashed border-dashboard-border-light dark:border-dashboard-border-dark
              text-dashboard-muted-light dark:text-dashboard-muted-dark
              hover:bg-dashboard-hover-light dark:hover:bg-dashboard-hover-dark
              transition
            `,children:[jsxRuntimeExports.jsx(Image$2,{size:28,className:"opacity-70"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:"Add Image"}),jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*",hidden:!0,onChange:Gr=>{const Xr=Gr.target.files[0];Xr&&(cr(Xr),ur(URL.createObjectURL(Xr)))}})]})}),!Dt&&jsxRuntimeExports.jsxs("div",{className:`
              mb-3
              rounded-lg
              border border-dashboard-border-light
              dark:border-dashboard-border-dark
              bg-dashboard-hover-light
              dark:bg-dashboard-hover-dark
              px-4 py-3
              text-xs sm:text-sm
              text-dashboard-muted-light
              dark:text-dashboard-muted-dark
              space-y-2
            `,children:[jsxRuntimeExports.jsx("p",{children:"This community works best when people show up as themselves. Share something real, ask a genuine question, or offer a perspective that might help someone else."}),jsxRuntimeExports.jsx("p",{className:"opacity-80",children:"This isnt a place for quick promos or low-effort posts. Those may be removed so the space stays thoughtful and worth showing up for."})]}),jsxRuntimeExports.jsx(CommunityPostEditor,{ref:kt,value:Yt,onChange:Jt}),!Dt&&xr&&Tr&&jsxRuntimeExports.jsxs("div",{className:`
              mt-3
              rounded-lg
              border border-dashboard-border-light
              dark:border-dashboard-border-dark
              bg-dashboard-hover-light
              dark:bg-dashboard-hover-dark
              px-4 py-3
              text-sm
              text-dashboard-muted-light
              dark:text-dashboard-muted-dark
            `,children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:"Keep going  longer posts work best here."}),jsxRuntimeExports.jsxs("p",{className:"mt-1 opacity-80",children:["Posts need at least ",Rr," words. Short pieces belong as fragments."]}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>$t("/community/fragments/create"),className:"mt-2 text-green text-sm font-medium hover:underline",children:"Post a fragment "})]}),kr.length>0&&jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("span",{className:"text-xs uppercase tracking-wide text-dashboard-muted-light dark:text-dashboard-muted-dark",children:"Tags"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:kr.map(Gr=>{const Xr=Zt.find(rs=>rs.id===Gr);return Xr?jsxRuntimeExports.jsxs("span",{className:`
              inline-flex items-center gap-1
              px-2.5 py-1
              rounded-full
              text-xs font-medium
              bg-dashboard-hover-light dark:bg-dashboard-hover-dark
              text-dashboard-text-light dark:text-dashboard-text-dark
            `,children:[Xr.name,jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>br(rs=>rs.filter(Yr=>Yr!==Gr)),className:"opacity-60 hover:opacity-100",children:""})]},Gr):null})})]}),Zt.length>0&&jsxRuntimeExports.jsxs("div",{className:"mt-6 space-y-2",children:[jsxRuntimeExports.jsx("label",{className:`
                text-sm font-medium
                text-dashboard-text-light
                dark:text-dashboard-text-dark
              `,children:"Related topics (optional)"}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-dashboard-muted-light dark:text-dashboard-muted-dark",children:["Help readers find this post. Choose up to ",vr,"."]}),jsxRuntimeExports.jsx("p",{className:"text-[11px] italic text-dashboard-muted-light dark:text-dashboard-muted-dark",children:"Related topics are locked after publishing to keep discovery consistent."}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:Zt.filter(Gr=>!Gr.is_locked&&Gr.id!==et).map(Gr=>{const Xr=kr.includes(Gr.id);return jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>{br(rs=>Xr?rs.filter(Yr=>Yr!==Gr.id):rs.length>=vr?(y$4.info(`You can select up to ${vr} related topics`),rs):[...rs,Gr.id])},className:`
                         px-3 py-1.5 rounded-full text-xs font-medium transition
                        ${Xr?"bg-green text-black":"border border-dashboard-border-light dark:border-dashboard-border-dark text-dashboard-text-light dark:text-dashboard-text-dark"}
                      `,children:Gr.name},Gr.id)})})]})]})})]})}function CommunitySubscribers(){const dt=useNavigate(),{userId:et}=useParams(),{user:$t}=useAuth(),kt=et??$t.id,[Tt,Dt]=reactExports.useState(!0),[Ft,Ut]=reactExports.useState([]);reactExports.useEffect(()=>{Dt(!0),Ht()},[et]);async function Ht(){try{const Kt=et?`/community/subscriptions/authors/${kt}/subscribers`:"/community/subscriptions/all-user-subscribers",Yt=await axiosInstance.get(Kt);Ut(Yt.data.subscribers||[])}catch(Kt){console.error("Failed to load subscribers",Kt),y$4.error("Failed to load subscribers")}finally{Dt(!1)}}return Tt?jsxRuntimeExports.jsx("div",{className:"p-6 opacity-60",children:"Loading subscribers"}):jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-dashboard-bg-light dark:bg-dashboard-bg-dark",children:jsxRuntimeExports.jsxs("div",{className:"max-w-3xl mx-auto px-0 py-14 space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>{dt(et?`/community/authors/${et}`:"/community/profile")},className:"flex items-center gap-1 text-sm opacity-70 hover:opacity-100 transition",children:[jsxRuntimeExports.jsx(ArrowLeft,{size:16}),"Back"]}),jsxRuntimeExports.jsx("h1",{className:"text-lg font-semibold",children:"Subscribers"})]}),Ft.length===0&&jsxRuntimeExports.jsx("div",{className:"opacity-60 text-sm",children:et?"This author doesnt have any subscribers yet.":"You dont have any subscribers yet."}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:Ft.map(Kt=>{var Yt;return jsxRuntimeExports.jsxs("button",{onClick:()=>{if(!Kt.has_profile){y$4.info("This user hasnt set up a profile yet");return}dt(`/community/authors/${Kt.id}`)},className:`
                w-full
                flex items-center gap-4
                p-4
                rounded-xl
                text-left
                bg-dashboard-sidebar-light
                dark:bg-dashboard-sidebar-dark
                border
                border-dashboard-border-light
                dark:border-dashboard-border-dark
                hover:bg-dashboard-hover-light
                dark:hover:bg-dashboard-hover-dark
                transition
              `,children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden bg-dashboard-hover-light dark:bg-dashboard-hover-dark flex items-center justify-center",children:Kt.profile_image_url?jsxRuntimeExports.jsx("img",{src:Kt.profile_image_url,alt:"",className:"w-full h-full object-cover"}):jsxRuntimeExports.jsx("span",{className:"text-sm font-semibold opacity-50",children:(Yt=Kt.name)==null?void 0:Yt.charAt(0)})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:Kt.name}),Kt.has_subscription===1&&jsxRuntimeExports.jsxs("span",{title:"Paid supporter",className:`
                      inline-flex items-center gap-1
                      px-2 py-0.5
                      rounded-full
                      text-[10px]
                      font-semibold
                      bg-green/10
                      text-green
                      border border-green/30
                      tracking-wide
                    `,children:[jsxRuntimeExports.jsx(Crown,{size:12}),"Paid"]})]}),Kt.username&&jsxRuntimeExports.jsxs("span",{className:"text-xs opacity-60",children:["@",Kt.username]})]})]},Kt.id)})})]})})}function Saved(){const dt=useNavigate(),[et,$t]=reactExports.useState([]),[kt,Tt]=reactExports.useState(!0),[Dt,Ft]=reactExports.useState(1),[Ut,Ht]=reactExports.useState(!0),[Kt,Yt]=reactExports.useState(null);reactExports.useEffect(()=>{Jt()},[]);async function Jt(){if(Ut)try{Tt(!0);const sr=await axiosInstance.get(`/community/saved-user-bookmarks?page=${Dt}`);$t(ir=>[...ir,...sr.data.posts||[]]),sr.data.nextPage?Ft(sr.data.nextPage):Ht(!1)}catch(sr){console.error("Failed to load saved posts:",sr)}finally{Tt(!1)}}async function Zt(sr){try{await axiosInstance.post(`/community/posts/${sr}/view`)}catch{}dt(`/community/post/${sr}`)}const er=async(sr,ir)=>{sr.stopPropagation();const nr=`${window.location.origin}/p/${ir.slug}`;try{await navigator.clipboard.writeText(nr),Yt(ir.id),setTimeout(()=>Yt(null),1500)}catch{toast.error("Failed to copy link")}},rr=async(sr,ir)=>{sr.stopPropagation();try{ir.has_liked?(await axiosInstance.delete(`/community/${ir.id}/like`),$t(nr=>nr.map(or=>or.id===ir.id?{...or,has_liked:0,like_count:Math.max((or.like_count||1)-1,0)}:or))):(await axiosInstance.post(`/community/${ir.id}/like`),$t(nr=>nr.map(or=>or.id===ir.id?{...or,has_liked:1,like_count:(or.like_count||0)+1}:or)))}catch{toast.error("Failed to update like")}};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-dashboard-bg-light dark:bg-dashboard-bg-dark",children:[jsxRuntimeExports.jsx("div",{className:"sticky top-0 z-20 px-4 py-3 border-b border-dashboard-border-light dark:border-dashboard-border-dark",children:jsxRuntimeExports.jsx("div",{className:"max-w-3xl mx-auto",children:jsxRuntimeExports.jsx("h1",{className:"text-lg font-semibold",children:"Saved"})})}),jsxRuntimeExports.jsxs("div",{className:"px-0 py-4 pb-24 max-w-3xl mx-auto space-y-2",children:[kt&&et.length===0&&jsxRuntimeExports.jsx("p",{className:"text-sm opacity-60",children:"Loading saved posts"}),!kt&&et.length===0&&jsxRuntimeExports.jsx("p",{className:"text-sm opacity-60",children:"Posts you save to read later will show up here."}),et.map(sr=>jsxRuntimeExports.jsx("div",{className:`
            w-full
            px-4 py-3
            sm:px-6 sm:py-4
            border-b border-dashboard-border-light
            dark:border-dashboard-border-dark
            hover:bg-dashboard-hover-light
            dark:hover:bg-dashboard-hover-dark
            transition
          `,children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-[1fr_auto] gap-4 items-start",children:[jsxRuntimeExports.jsxs("div",{onClick:()=>Zt(sr.id),className:"min-w-0 cursor-pointer group",children:[jsxRuntimeExports.jsx("h3",{className:`
                  text-base sm:text-lg font-semibold
                  text-dashboard-text-light dark:text-dashboard-text-dark
                  line-clamp-1 sm:line-clamp-2
                  group-hover:underline
                `,children:sr.title}),sr.subtitle&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm line-clamp-1 text-dashboard-muted-light dark:text-dashboard-muted-dark",children:sr.subtitle}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[sr.author_image?jsxRuntimeExports.jsx("img",{src:sr.author_image,alt:"",className:"w-6 h-6 rounded-full object-cover"}):jsxRuntimeExports.jsx("div",{className:"w-6 h-6 rounded-full bg-dashboard-hover-light dark:bg-dashboard-hover-dark"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-dashboard-muted-light dark:text-dashboard-muted-dark",children:sr.author})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-4 mt-2 text-xs text-dashboard-muted-light dark:text-dashboard-muted-dark",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-1",children:[jsxRuntimeExports.jsx(Eye,{size:14}),sr.views??0]}),jsxRuntimeExports.jsxs("button",{onClick:ir=>rr(ir,sr),className:"flex items-center justify-center gap-1",children:[jsxRuntimeExports.jsx(Heart,{size:14,className:sr.has_liked?"text-red-500 fill-red-500":"opacity-70"}),sr.like_count??0]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-1",children:[jsxRuntimeExports.jsx(MessageCircle,{size:14}),sr.comment_count??0]}),jsxRuntimeExports.jsx("button",{onClick:ir=>er(ir,sr),className:"flex items-center justify-center gap-1",children:Kt===sr.id?jsxRuntimeExports.jsx(Check,{size:14,className:"text-green"}):jsxRuntimeExports.jsx(Share2,{size:14,className:"opacity-70"})})]})]}),jsxRuntimeExports.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden bg-dashboard-hover-light dark:bg-dashboard-hover-dark",children:sr.image_url?jsxRuntimeExports.jsx("img",{src:sr.image_url,alt:"",className:"w-full h-full object-cover"}):jsxRuntimeExports.jsx("div",{className:`
                    w-full h-full
                    flex items-center justify-center
                    bg-gradient-to-br
                    from-sky-400/80
                    via-sky-300/90
                    to-blue/80
                  `,children:jsxRuntimeExports.jsx("span",{className:`
                      text-[10px]
                      font-medium
                      uppercase
                      tracking-wide
                      text-dashboard-text-light dark:text-dashboard-text-dark
                      select-none
                    `,children:"No image"})})})]})},sr.id)),Ut&&!kt&&jsxRuntimeExports.jsx("button",{onClick:Jt,className:"w-full py-3 text-sm opacity-60 hover:opacity-100 transition",children:"Load more"})]})]})}function CreateFragment(){const et=useNavigate(),[$t,kt]=reactExports.useState(""),[Tt,Dt]=reactExports.useState(null),[Ft,Ut]=reactExports.useState(null),[Ht,Kt]=reactExports.useState(!1),{fragmentId:Yt}=useParams(),Jt=!!Yt,Zt=async()=>{const rr=$t.trim();if(!rr){y$4.error("Fragment cannot be empty");return}if(rr.length>500){y$4.error("Fragments must be 500 characters or less");return}try{Kt(!0);let sr=null;if(Tt){const ir=new FormData;ir.append("image",Tt),sr=(await axiosInstance.post("/community/upload-image",ir,{headers:{"Content-Type":"multipart/form-data"}})).data.image_url}Jt?await axiosInstance.put(`/fragments/${Yt}`,{body:$t,image_url:sr}):await axiosInstance.post("/fragments",{body:$t,image_url:sr}),y$4.success("Fragment published"),et("/community")}catch(sr){console.error("Failed to create fragment:",sr),y$4.error("Failed to publish fragment")}finally{Kt(!1)}},er=()=>{et(Jt?"/community/my-fragments":"/community")};return reactExports.useEffect(()=>{if(!Jt)return;async function rr(){try{const ir=(await axiosInstance.get(`/fragments/${Yt}`)).data.fragment;kt(ir.body||""),Ut(ir.image_url||null)}catch(sr){console.error("Failed to load fragment:",sr),et("/community/my-fragments")}}rr()},[Yt,Jt]),jsxRuntimeExports.jsxs("div",{className:"min-h-screen w-full bg-dashboard-bg-light dark:bg-dashboard-bg-dark flex flex-col",children:[jsxRuntimeExports.jsxs("header",{className:`
          sticky top-0 z-20
          h-14
          px-4 sm:px-6
          flex items-center justify-between
          bg-dashboard-sidebar-light dark:bg-dashboard-sidebar-dark
          border-b border-dashboard-border-light dark:border-dashboard-border-dark
        `,children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:er,className:"text-sm font-medium text-dashboard-muted-light dark:text-dashboard-muted-dark",children:"Cancel"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-semibold",children:Jt?"Edit Fragment":"Post Fragment"}),jsxRuntimeExports.jsx("button",{onClick:Zt,disabled:Ht,className:`
    hidden sm:inline-flex
    px-3 py-1.5
    rounded-md
    text-sm font-medium
    bg-green text-black
    disabled:opacity-50
  `,children:Ht?"Saving":Jt?"Save Changes":"Post Fragment"})]}),jsxRuntimeExports.jsxs("main",{className:"flex-1 overflow-y-auto px-4 sm:px-6 py-6",children:[jsxRuntimeExports.jsx("div",{className:"mx-auto w-full max-w-3xl space-y-6",children:jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("label",{className:`
                text-sm font-medium
                text-dashboard-text-light
                dark:text-dashboard-text-dark
              `,children:"Fragment"}),jsxRuntimeExports.jsx("textarea",{value:$t,onChange:rr=>{const sr=rr.target.value;sr.length<=500&&kt(sr)},placeholder:"Write a thought, a line, or something unfinished",rows:6,className:`
              w-full p-4 rounded-lg
              bg-dashboard-bg-light dark:bg-dashboard-bg-dark
              border border-dashboard-border-light dark:border-dashboard-border-dark
              text-dashboard-text-light dark:text-dashboard-text-dark
              placeholder:text-dashboard-muted-light
              dark:placeholder:text-dashboard-muted-dark
              focus:outline-none focus:ring-2 focus:ring-green
              resize-y
            `}),jsxRuntimeExports.jsxs("div",{className:`flex justify-end text-xs ${$t.length>=500?"text-red-500":"text-dashboard-muted-light dark:text-dashboard-muted-dark"}`,children:[$t.length,"/",500]})]})}),jsxRuntimeExports.jsx("div",{className:`
    sm:hidden
    sticky bottom-0
    w-full
    border-t border-dashboard-border-light dark:border-dashboard-border-dark
    bg-dashboard-sidebar-light dark:bg-dashboard-sidebar-dark
    px-4 py-3
  `,children:jsxRuntimeExports.jsx("button",{onClick:Zt,disabled:Ht,className:`
            w-full
            py-3
            rounded-lg
            text-sm font-semibold
            bg-green text-black
            disabled:opacity-50
          `,children:Ht?"Saving":Jt?"Save Changes":"Post Fragment"})})]})]})}function MyFragments(){const dt=useNavigate(),[et,$t]=reactExports.useState([]),[kt,Tt]=reactExports.useState(null),[Dt,Ft]=reactExports.useState(!0),Ut="w-full px-4 py-3 text-sm text-left flex items-center gap-3 transition-colors";reactExports.useEffect(()=>{Ht()},[]),reactExports.useEffect(()=>{function Yt(){Tt(null)}return window.addEventListener("click",Yt),()=>window.removeEventListener("click",Yt)},[]);async function Ht(){try{Ft(!0);const Yt=await axiosInstance.get("/fragments/my-fragments");$t(Yt.data.fragments||[])}catch(Yt){console.error("Failed to fetch fragments:",Yt)}finally{Ft(!1)}}function Kt(Yt){const Jt=y$4(({closeToast:Zt})=>jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",children:"Delete this fragment?"}),jsxRuntimeExports.jsx("p",{className:"text-xs opacity-70",children:"This cannot be undone."}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[jsxRuntimeExports.jsx("button",{onClick:Zt,className:"px-3 py-1.5 text-xs rounded-md border",children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:async()=>{try{await axiosInstance.delete(`/fragments/${Yt}`),$t(er=>er.filter(rr=>rr.id!==Yt)),y$4.dismiss(Jt),y$4.success("Fragment deleted")}catch{y$4.error("Failed to delete fragment")}},className:"px-3 py-1.5 text-xs rounded-md bg-red-600 text-white",children:"Delete"})]})]}),{closeButton:!1,className:"rounded-xl"})}return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-dashboard-bg-light dark:bg-dashboard-bg-dark",children:[jsxRuntimeExports.jsx("div",{className:"sticky top-0 z-20 px-4 py-3 border-b border-dashboard-border-light dark:border-dashboard-border-dark",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between max-w-3xl mx-auto",children:[jsxRuntimeExports.jsx("h1",{className:"text-lg font-semibold",children:"My Fragments"}),jsxRuntimeExports.jsx("button",{onClick:()=>dt("/community/fragments/create"),className:`
              hidden md:inline-flex
              px-3 py-2 rounded-lg text-sm font-medium
              bg-dashboard-text-light dark:bg-dashboard-text-dark
              text-dashboard-bg-light dark:text-dashboard-bg-dark
            `,children:"Write Fragment"})]})}),jsxRuntimeExports.jsx("div",{className:"md:hidden px-4 py-3",children:jsxRuntimeExports.jsx("button",{onClick:()=>dt("/community/fragments/create"),className:`
            w-full py-2.5 rounded-lg text-sm font-medium
            bg-dashboard-text-light dark:bg-dashboard-text-dark
            text-dashboard-bg-light dark:text-dashboard-bg-dark
          `,children:"Write Fragment"})}),jsxRuntimeExports.jsxs("div",{className:"px-0 py-4 pb-24 max-w-3xl mx-auto space-y-2",children:[Dt&&jsxRuntimeExports.jsx("p",{className:"text-sm opacity-60",children:"Loading fragments"}),!Dt&&et.length===0&&jsxRuntimeExports.jsx("p",{className:"text-sm opacity-60",children:"You havent written any fragments yet."}),et.map(Yt=>{var Jt,Zt;return jsxRuntimeExports.jsx("div",{onClick:()=>dt(`/community/fragments/${Yt.id}`),className:`
      px-4 py-4 sm:px-6
      rounded-lg
      border border-dashboard-border-light dark:border-dashboard-border-dark
      bg-dashboard-sidebar-light dark:bg-dashboard-sidebar-dark
      hover:bg-dashboard-hover-light dark:hover:bg-dashboard-hover-dark
      transition
      cursor-pointer
    `,children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-[40px_1fr] gap-3",children:[Yt.author_image?jsxRuntimeExports.jsx("img",{src:Yt.author_image,alt:"",className:"w-8 h-8 rounded-full object-cover"}):jsxRuntimeExports.jsx("div",{className:`
            w-8 h-8 rounded-full
            bg-dashboard-hover-light dark:bg-dashboard-hover-dark
            flex items-center justify-center
            text-xs font-semibold
            text-dashboard-muted-light dark:text-dashboard-muted-dark
          `,children:(Zt=(Jt=Yt.author)==null?void 0:Jt.charAt(0))==null?void 0:Zt.toUpperCase()}),jsxRuntimeExports.jsxs("div",{className:"min-w-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-xs font-medium text-dashboard-muted-light dark:text-dashboard-muted-dark",children:Yt.author}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 text-[11px] text-dashboard-muted-light dark:text-dashboard-muted-dark",children:[jsxRuntimeExports.jsx("span",{children:formatDate(Yt.created_at)}),jsxRuntimeExports.jsx("span",{children:""}),jsxRuntimeExports.jsx("span",{children:timeAgo(Yt.created_at)}),Yt.updated_at&&new Date(Yt.updated_at).getTime()-new Date(Yt.created_at).getTime()>6e4&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{children:""}),jsxRuntimeExports.jsx("span",{className:"italic opacity-50",children:"edited"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:er=>{er.stopPropagation(),Tt(kt===Yt.id?null:Yt.id)},className:"p-2 rounded-md hover:bg-dashboard-hover-light dark:hover:bg-dashboard-hover-dark",children:jsxRuntimeExports.jsx(Ellipsis,{size:18})}),kt===Yt.id&&jsxRuntimeExports.jsxs("div",{onClick:er=>er.stopPropagation(),className:`
                  absolute right-0 mt-2 z-30
                  w-56
                  rounded-xl
                  bg-dashboard-sidebar-light dark:bg-dashboard-sidebar-dark
                  border border-dashboard-border-light dark:border-dashboard-border-dark
                  shadow-xl
                  overflow-hidden
                `,children:[jsxRuntimeExports.jsxs("button",{onClick:er=>{er.stopPropagation(),Tt(null),dt(`/community/fragments/edit/${Yt.id}`)},className:`${Ut} hover:bg-dashboard-hover-light dark:hover:bg-dashboard-hover-dark`,children:[jsxRuntimeExports.jsx(Pencil,{size:16,className:"opacity-80"}),"Edit"]}),jsxRuntimeExports.jsx("div",{className:"h-px bg-dashboard-border-light dark:bg-dashboard-border-dark my-1"}),jsxRuntimeExports.jsxs("button",{onClick:er=>{er.stopPropagation(),Tt(null),Kt(Yt.id)},className:`${Ut} text-red-500 hover:bg-red-500/10`,children:[jsxRuntimeExports.jsx(Trash2,{size:16}),"Delete"]})]})]})]}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-sm leading-relaxed line-clamp-3 text-dashboard-text-light dark:text-dashboard-text-dark",children:Yt.body}),jsxRuntimeExports.jsxs("div",{className:"mt-3 flex items-center gap-6 text-xs text-dashboard-muted-light dark:text-dashboard-muted-dark",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-[3px]",children:[jsxRuntimeExports.jsx(Eye,{size:14,className:"opacity-70"}),jsxRuntimeExports.jsx("span",{children:Yt.views??0})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-[3px]",children:[jsxRuntimeExports.jsx(Heart,{size:14,className:"opacity-70"}),jsxRuntimeExports.jsx("span",{children:Yt.like_count??0})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-[3px]",children:[jsxRuntimeExports.jsx(MessageCircle,{size:14,className:"opacity-70"}),jsxRuntimeExports.jsx("span",{children:Yt.comment_count??0})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-[3px]",children:[jsxRuntimeExports.jsx(Repeat,{size:14,className:"opacity-70"}),jsxRuntimeExports.jsx("span",{children:Yt.reshare_count??0})]})]})]})]})},Yt.id)})]})]})}function SubscribeChoicePage(){var kr,br,_r,Or;const{authorId:dt}=useParams(),et=useLocation(),[$t]=useSearchParams(),kt=$t.get("preview")==="1",Tt=useNavigate(),Dt=((kr=et.state)==null?void 0:kr.from)||`/community/authors/${dt}`,[Ft,Ut]=reactExports.useState(null),[Ht,Kt]=reactExports.useState(!0),[Yt,Jt]=reactExports.useState(!1),[Zt,er]=reactExports.useState(!1);reactExports.useEffect(()=>{rr()},[]);async function rr(){try{const[Pr,Mr]=await Promise.all([axiosInstance.get(`/community/authors/${dt}`),axiosInstance.get(`/community/subscriptions/${dt}/status`)]);Ut(Pr.data.profile),er(Mr.data.has_paid_subscription)}catch{y$4.error("Failed to load author"),Tt(Dt)}finally{Kt(!1)}}const sr=!!(Ft!=null&&Ft.monthly_price),ir=!!(Ft!=null&&Ft.annual_price),nr=typeof(Ft==null?void 0:Ft.vip_price)=="number",or=typeof(Ft==null?void 0:Ft.vip_price)=="number"?Ft.vip_price:null,lr=typeof(Ft==null?void 0:Ft.monthly_price)=="number"?Ft.monthly_price:null,cr=typeof(Ft==null?void 0:Ft.annual_price)=="number"?Ft.annual_price:null,dr=lr&&cr?cr/12:null,ur=lr&&cr?lr*12-cr:null,pr=ur!==null&&ur>0;async function mr(){if(!Yt){Jt(!0);try{await axiosInstance.post(`/community/subscriptions/${dt}/subscribe`),y$4.success("Subscribed"),Tt(Dt)}catch{y$4.error("Failed to subscribe")}finally{Jt(!1)}}}async function vr(Pr){if(!Yt){Jt(!0);try{const Mr=await axiosInstance.post("/seller-checkout/create-author-subscription-checkout",{authorUserId:dt,billingInterval:Pr});window.location.href=Mr.data.url}catch{y$4.error("Failed to start checkout"),Jt(!1)}}}return Ht?jsxRuntimeExports.jsx("div",{className:"p-10 text-center opacity-60",children:"Loading subscription options"}):Ft?jsxRuntimeExports.jsxs("div",{className:"max-w-3xl mx-auto px-0 py-10 space-y-8",children:[jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>{if(kt){window.close();return}Tt(Dt)},className:"flex items-center gap-2 text-sm opacity-70 hover:opacity-100",children:[jsxRuntimeExports.jsx(ArrowLeft,{size:16}),kt?"Close preview":"Back"]}),jsxRuntimeExports.jsxs("div",{className:"text-center space-y-3",children:[jsxRuntimeExports.jsx("img",{src:Ft.profile_image_url||defaultImage,alt:Ft.name,className:"w-20 h-20 rounded-full mx-auto object-cover"}),jsxRuntimeExports.jsxs("h1",{className:"text-2xl font-semibold",children:["Subscribe to ",Ft.name]}),jsxRuntimeExports.jsx("p",{className:"text-sm opacity-70 max-w-md mx-auto",children:"Choose how youd like to follow and support this writer."})]}),kt&&jsxRuntimeExports.jsx("div",{className:"rounded-lg border border-yellow-300 bg-yellow-50 text-yellow-800 px-4 py-2 text-sm text-center",children:"Youre previewing your subscription page as others see it."}),jsxRuntimeExports.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"rounded-xl border p-6 space-y-4 bg-dashboard-sidebar-light dark:bg-dashboard-sidebar-dark",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:"Free"}),jsxRuntimeExports.jsxs("ul",{className:"text-sm space-y-2 opacity-80",children:[jsxRuntimeExports.jsxs("li",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Check$1,{size:14})," New public post"]}),jsxRuntimeExports.jsxs("li",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Check$1,{size:14})," Comment and engage"]}),jsxRuntimeExports.jsxs("li",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Check$1,{size:14})," Send tips"]})]}),jsxRuntimeExports.jsx("button",{type:"button",disabled:Yt,onClick:mr,className:`
            w-full mt-4 py-3 rounded-lg
            border
            transition
            flex items-center justify-center gap-2
            ${Yt?"opacity-70 cursor-not-allowed":"hover:bg-dashboard-hover-light dark:hover:bg-dashboard-hover-dark"}
          `,children:Yt?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(ButtonSpinner,{size:16}),"Subscribing"]}):"Subscribe for free"})]}),sr&&jsxRuntimeExports.jsxs("div",{className:"rounded-xl border p-6 space-y-4 bg-dashboard-sidebar-light dark:bg-dashboard-sidebar-dark",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:"Monthly"}),jsxRuntimeExports.jsx("ul",{className:"text-sm space-y-2 opacity-80",children:((br=Ft.monthly_benefits)==null?void 0:br.length)>0?Ft.monthly_benefits.map((Pr,Mr)=>jsxRuntimeExports.jsxs("li",{className:"flex items-start gap-2",children:[jsxRuntimeExports.jsx(Check$1,{size:14,className:"mt-[2px] shrink-0"}),Pr]},Mr)):jsxRuntimeExports.jsxs("li",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Check$1,{size:14})," Support the writer"]})}),jsxRuntimeExports.jsxs("button",{type:"button",disabled:Yt,onClick:()=>vr("monthly"),className:`
              w-full mt-4 py-3 rounded-lg
              bg-blue text-white
              hover:opacity-90
              transition
            `,children:["Subscribe  $",Ft.monthly_price.toFixed(2)]})]}),ir&&jsxRuntimeExports.jsxs("div",{className:"rounded-xl border p-6 space-y-4 bg-dashboard-sidebar-light dark:bg-dashboard-sidebar-dark",children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:["Annual",jsxRuntimeExports.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-green/10 text-green",children:"Best value"})]}),jsxRuntimeExports.jsx("ul",{className:"text-sm space-y-2 opacity-80",children:((_r=Ft.annual_benefits)==null?void 0:_r.length)>0?Ft.annual_benefits.map((Pr,Mr)=>jsxRuntimeExports.jsxs("li",{className:"flex items-start gap-2",children:[jsxRuntimeExports.jsx(Check$1,{size:14,className:"mt-[2px] shrink-0"}),Pr]},Mr)):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("li",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Check$1,{size:14})," Everything in Monthly"]}),jsxRuntimeExports.jsxs("li",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Check$1,{size:14})," Save with annual billing"]})]})}),dr&&jsxRuntimeExports.jsxs("p",{className:"text-xs opacity-70",children:["$",dr.toFixed(2),"/month, billed annually"]}),pr&&jsxRuntimeExports.jsxs("p",{className:"text-xs text-green",children:["Save $",ur.toFixed(2)," per year"]}),jsxRuntimeExports.jsxs("button",{type:"button",disabled:Yt,onClick:()=>vr("annual"),className:`
              w-full mt-4 py-3 rounded-lg
              bg-blue/90 text-white
              hover:opacity-90
              transition
            `,children:["Subscribe  $",Ft.annual_price.toFixed(2)]})]}),nr&&jsxRuntimeExports.jsxs("div",{className:"rounded-xl border p-6 space-y-4 bg-dashboard-sidebar-light dark:bg-dashboard-sidebar-dark",children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:["VIP Founder",jsxRuntimeExports.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-purple-500/10 text-brightPurple",children:"Limited"})]}),jsxRuntimeExports.jsx("ul",{className:"text-sm space-y-2 opacity-80",children:((Or=Ft.vip_benefits)==null?void 0:Or.length)>0?Ft.vip_benefits.map((Pr,Mr)=>jsxRuntimeExports.jsxs("li",{className:"flex items-start gap-2",children:[jsxRuntimeExports.jsx(Check$1,{size:14,className:"mt-[2px] shrink-0"}),Pr]},Mr)):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("li",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Check$1,{size:14})," Founder level access"]}),jsxRuntimeExports.jsxs("li",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Check$1,{size:14})," Direct support of the writer"]})]})}),jsxRuntimeExports.jsx("p",{className:"text-xs opacity-70",children:"Billed annually"}),jsxRuntimeExports.jsxs("button",{type:"button",disabled:Yt,onClick:()=>vr("vip"),className:`
        w-full mt-4 py-3 rounded-lg
        bg-brightPurple text-white
        hover:opacity-90
        transition
      `,children:["Subscribe  $",or.toFixed(2)]})]})]})]}):jsxRuntimeExports.jsx("div",{className:"p-10 text-center opacity-60",children:"Author not found"})}const GRID_COLS="grid-cols-[2.5fr_120px_160px_48px]";function MySubscriptions(){const dt=useNavigate(),[et,$t]=reactExports.useState(null),[kt,Tt]=reactExports.useState(""),[Dt,Ft]=reactExports.useState([]),[Ut,Ht]=reactExports.useState(!0),[Kt,Yt]=reactExports.useState(!1),[Jt,Zt]=reactExports.useState(null);function er(or){$t(lr=>lr===or?null:or)}function rr(or){return new Date(or).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})}async function sr(){try{Ht(!0);const or=await axiosInstance.get("/community/subscriptions/my");Ft(or.data.subscriptions||[])}catch(or){console.error("Failed to fetch subscriptions",or),y$4.error("Failed to load subscriptions")}finally{Ht(!1)}}reactExports.useEffect(()=>{sr()},[]);const ir=Dt.filter(or=>or.author_name.toLowerCase().includes(kt.toLowerCase())||or.author_username.toLowerCase().includes(kt.toLowerCase()));function nr(or){dt(`/subscriptions/${or.author_user_id}/cancel`,{state:or})}return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-dashboard-bg-light dark:bg-dashboard-bg-dark",children:[jsxRuntimeExports.jsx("div",{className:"sticky top-0 z-20 border-b border-dashboard-border-light dark:border-dashboard-border-dark px-4 py-3",children:jsxRuntimeExports.jsxs("div",{className:"max-w-6xl mx-auto",children:[jsxRuntimeExports.jsx("h1",{className:"text-lg font-semibold",children:"My Subscriptions"}),jsxRuntimeExports.jsxs("p",{className:"text-xs opacity-60",children:[Dt.length," active subscription",Dt.length!==1?"s":""]})]})}),jsxRuntimeExports.jsx("div",{className:"px-4 py-4 max-w-6xl mx-auto",children:jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Search,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 opacity-50"}),jsxRuntimeExports.jsx("input",{value:kt,onChange:or=>Tt(or.target.value),placeholder:"Search by author...",autoComplete:"off",autoCorrect:"off",spellCheck:!1,className:`
              w-full pl-9 pr-3 py-2 rounded-lg text-sm
              bg-dashboard-sidebar-light dark:bg-dashboard-sidebar-dark
              border border-dashboard-border-light dark:border-dashboard-border-dark
              outline-none
            `})]})}),jsxRuntimeExports.jsxs("div",{className:"hidden md:block px-4 max-w-6xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:`
          grid ${GRID_COLS}
          items-center
          px-4 py-3
          text-xs font-medium
          text-white/50
          bg-dashboard-hover-light
          dark:bg-dashboard-hover-dark
          rounded-t-xl
          border
          border-dashboard-border-light
          dark:border-dashboard-border-dark
        `,children:[jsxRuntimeExports.jsx("div",{children:"Author"}),jsxRuntimeExports.jsx("div",{children:"Plan"}),jsxRuntimeExports.jsx("div",{children:"Renews"}),jsxRuntimeExports.jsx("div",{})]}),jsxRuntimeExports.jsx("div",{className:"space-y-1 mt-1",children:ir.map(or=>{const lr=or.paid_subscription===1;return jsxRuntimeExports.jsxs("div",{className:`
                grid ${GRID_COLS}
                items-center
                px-4 py-3
                rounded-xl
                bg-dashboard-sidebar-light
                dark:bg-dashboard-sidebar-dark
                border
                border-dashboard-border-light
                dark:border-dashboard-border-dark
                hover:bg-dashboard-hover-light
                dark:hover:bg-dashboard-hover-dark
                transition
              `,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[jsxRuntimeExports.jsx("button",{onClick:()=>dt(`/community/authors/${or.author_user_id}`),className:"flex-shrink-0",children:or.author_image_url?jsxRuntimeExports.jsx("img",{src:or.author_image_url,alt:or.author_name,className:"w-8 h-8 rounded-full object-cover"}):jsxRuntimeExports.jsx("div",{className:"w-8 h-8 rounded-full bg-dashboard-hover-light dark:bg-dashboard-hover-dark flex items-center justify-center text-xs",children:or.author_name.charAt(0)})}),jsxRuntimeExports.jsxs("div",{className:"min-w-0",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium truncate",children:or.author_name}),jsxRuntimeExports.jsxs("p",{className:"text-xs opacity-60 truncate",children:["@",or.author_username]})]})]}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${or.paid_subscription?or.type==="monthly"?"bg-green/20 text-green":or.type==="annual"?"bg-blue/20 text-blue":"bg-purple/20 text-purple":"bg-gray-500/20 text-gray-400"}`,children:or.paid_subscription?or.type==="monthly"?"Monthly":or.type==="annual"?"Annual":"VIP":"Free"})}),jsxRuntimeExports.jsx("div",{className:"text-sm opacity-70",children:or.paid_subscription?or.cancel_at_period_end?`Ends ${rr(or.current_period_end)}`:"Renews monthly":""}),jsxRuntimeExports.jsxs("div",{onClick:cr=>cr.stopPropagation(),className:"relative flex justify-center",children:[jsxRuntimeExports.jsx("button",{onClick:()=>er(or.id),className:"p-2 rounded-md hover:bg-dashboard-hover-light dark:hover:bg-dashboard-hover-dark",children:jsxRuntimeExports.jsx(Ellipsis,{size:16})}),et===or.id&&jsxRuntimeExports.jsxs("div",{className:`
                    absolute right-0 top-10
                    w-44
                    rounded-xl
                    shadow-xl
                    z-50
                    bg-dashboard-sidebar-light
                    dark:bg-dashboard-sidebar-dark
                    border
                    border-dashboard-border-light
                    dark:border-dashboard-border-dark
                  `,children:[jsxRuntimeExports.jsx("button",{onClick:()=>{$t(null),dt(`/community/authors/${or.author_user_id}`)},className:"w-full px-4 py-2 text-sm text-left hover:bg-dashboard-hover-light dark:hover:bg-dashboard-hover-dark",children:"View author"}),lr&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx("button",{onClick:()=>{$t(null),Zt(or),Yt(!0)},className:"w-full px-4 py-2 text-sm text-left text-red-500 hover:bg-red-500/10",children:"Cancel subscription"})})]})]})]},or.id)})}),et&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>$t(null)})]}),jsxRuntimeExports.jsx("div",{className:"md:hidden px-4 space-y-3",children:ir.map(or=>{const lr=or.paid_subscription===1;return jsxRuntimeExports.jsxs("div",{className:"p-4 rounded-xl border border-dashboard-border-light dark:border-dashboard-border-dark bg-dashboard-sidebar-light dark:bg-dashboard-sidebar-dark",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:()=>dt(`/community/authors/${or.author_user_id}`),children:or.author_image_url?jsxRuntimeExports.jsx("img",{src:or.author_image_url,alt:or.author_name,className:"w-8 h-8 rounded-full object-cover"}):jsxRuntimeExports.jsx("div",{className:"w-8 h-8 rounded-full bg-dashboard-hover-light dark:bg-dashboard-hover-dark flex items-center justify-center text-xs",children:or.author_name.charAt(0)})}),jsxRuntimeExports.jsxs("div",{className:"min-w-0",children:[jsxRuntimeExports.jsx("p",{className:"font-medium truncate",children:or.author_name}),jsxRuntimeExports.jsx("p",{className:"text-xs opacity-60",children:or.paid_subscription?`${or.type==="monthly"?"Monthly":or.type==="annual"?"Annual":"VIP"}  ${or.cancel_at_period_end?`Ends ${rr(or.current_period_end)}`:"Renews monthly"}`:"Free"})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-3",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>er(or.id),className:"w-full py-2 rounded-lg bg-dashboard-hover-light dark:bg-dashboard-hover-dark text-sm flex items-center justify-center gap-2",children:[jsxRuntimeExports.jsx(Ellipsis,{size:16}),"Options"]}),et===or.id&&jsxRuntimeExports.jsxs("div",{className:"mt-2 rounded-xl overflow-hidden border border-dashboard-border-light dark:border-dashboard-border-dark",children:[jsxRuntimeExports.jsx("button",{onClick:()=>{$t(null),dt(`/community/authors/${or.author_user_id}`)},className:"w-full px-4 py-3 text-sm text-left hover:bg-dashboard-hover-light dark:hover:bg-dashboard-hover-dark",children:"View author"}),lr&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx("button",{onClick:()=>{$t(null),Zt(or),Yt(!0)},className:"w-full px-4 py-2 text-sm text-left text-red-500 hover:bg-red-500/10",children:"Cancel subscription"})})]})]})]},or.id)})}),Ut&&jsxRuntimeExports.jsx("p",{className:"text-sm opacity-60 px-4 py-6",children:"Loading subscriptions"}),Kt&&Jt&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-sm rounded-xl bg-dashboard-sidebar-light dark:bg-dashboard-sidebar-dark p-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold",children:"Cancel subscription?"}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-sm opacity-70",children:"Youll keep access until the end of the current billing period."}),jsxRuntimeExports.jsxs("div",{className:"mt-6 flex gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Yt(!1),className:"flex-1 py-2 rounded-lg border",children:"Keep subscription"}),jsxRuntimeExports.jsx("button",{onClick:()=>{nr(Jt),Yt(!1),Zt(null)},className:"flex-1 py-2 rounded-lg bg-red-600 text-white",children:"Cancel anyway"})]})]})})]})}const AnimatedRoutes=()=>{const dt=useLocation(),et=localStorage.getItem("theme")||"dark";return document.documentElement.classList.add(et),jsxRuntimeExports.jsx(AnimatePresence,{mode:"sync",children:jsxRuntimeExports.jsxs(Routes,{location:dt,children:[jsxRuntimeExports.jsxs(Route,{element:jsxRuntimeExports.jsx(SiteLayout,{}),children:[jsxRuntimeExports.jsx(Route,{index:!0,element:jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.25},children:jsxRuntimeExports.jsx(Landing,{})})}),jsxRuntimeExports.jsx(Route,{path:"contact",element:jsxRuntimeExports.jsx(Contact,{})}),jsxRuntimeExports.jsx(Route,{path:"terms",element:jsxRuntimeExports.jsx(Terms,{})}),jsxRuntimeExports.jsx(Route,{path:"privacy-policy",element:jsxRuntimeExports.jsx(Privacy,{})}),jsxRuntimeExports.jsx(Route,{path:"refund-policy",element:jsxRuntimeExports.jsx(Refund,{})}),jsxRuntimeExports.jsx(Route,{path:"cookie-policy",element:jsxRuntimeExports.jsx(Cookie,{})}),jsxRuntimeExports.jsx(Route,{path:"landing",element:jsxRuntimeExports.jsx(LandingInfoPage,{})}),jsxRuntimeExports.jsx(Route,{path:"plans",element:jsxRuntimeExports.jsx(PlansPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/signup-community",element:jsxRuntimeExports.jsx(SignupCommunity,{})}),jsxRuntimeExports.jsx(Route,{path:"analytics",element:jsxRuntimeExports.jsx(AnalyticsFeaturePage,{})}),jsxRuntimeExports.jsx(Route,{path:"community-feature",element:jsxRuntimeExports.jsx(CommunityFeaturePage,{})}),jsxRuntimeExports.jsx(Route,{path:"stripe-payments",element:jsxRuntimeExports.jsx(StripePayments,{})}),jsxRuntimeExports.jsx(Route,{path:"authors-assistant",element:jsxRuntimeExports.jsx(AuthorsAssistant,{})}),jsxRuntimeExports.jsx(Route,{path:"sign-up",element:jsxRuntimeExports.jsx(SignupPage,{})}),jsxRuntimeExports.jsx(Route,{path:"login",element:jsxRuntimeExports.jsx(LoginPage,{})}),jsxRuntimeExports.jsx(Route,{path:"forgot-password",element:jsxRuntimeExports.jsx(ForgotPassword,{})}),jsxRuntimeExports.jsx(Route,{path:"reset-password",element:jsxRuntimeExports.jsx(ResetPassword,{})}),jsxRuntimeExports.jsx(Route,{path:"/community/invites/:token",element:jsxRuntimeExports.jsx(InviteAccept,{})})]}),jsxRuntimeExports.jsx(Route,{path:"/settings",element:jsxRuntimeExports.jsx(PrivateRoute,{role:["customer","admin","marketer"],children:jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.25},className:"min-h-screen bg-[#030712]",children:jsxRuntimeExports.jsx(DashboardLayout,{children:jsxRuntimeExports.jsx(DashboardSettings,{})})})})}),jsxRuntimeExports.jsx(Route,{path:"/settings/domains",element:jsxRuntimeExports.jsx(PrivateRoute,{role:["customer","admin","marketer"],children:jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.25},className:"min-h-screen bg-[#030712]",children:jsxRuntimeExports.jsx(DashboardLayout,{children:jsxRuntimeExports.jsx(SettingsDomains,{})})})})}),jsxRuntimeExports.jsx(Route,{path:"books",element:jsxRuntimeExports.jsx(BooksDashboard,{})}),jsxRuntimeExports.jsx(Route,{path:"thank-you",element:jsxRuntimeExports.jsx(ThankYou,{})}),jsxRuntimeExports.jsx(Route,{path:"/community",element:jsxRuntimeExports.jsx(PrivateRoute,{role:["customer","admin","marketer"],children:jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.25},className:"min-h-screen bg-[#030712]",children:jsxRuntimeExports.jsx(DashboardLayout,{children:jsxRuntimeExports.jsx(CommunityHome,{})})})})}),jsxRuntimeExports.jsx(Route,{path:"/community-alerts",element:jsxRuntimeExports.jsx(PrivateRoute,{role:["customer","admin","marketer"],children:jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.25},className:"min-h-screen bg-[#030712]",children:jsxRuntimeExports.jsx(DashboardLayout,{children:jsxRuntimeExports.jsx(Notifications,{})})})})}),jsxRuntimeExports.jsx(Route,{path:"/community/topic/:topicId",element:jsxRuntimeExports.jsx(PrivateRoute,{role:["customer","admin","marketer"],children:jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.25},className:"min-h-screen bg-[#030712]",children:jsxRuntimeExports.jsx(DashboardLayout,{children:jsxRuntimeExports.jsx(CommunityTopic,{})})})})}),jsxRuntimeExports.jsx(Route,{path:"/community/post/:slug",element:jsxRuntimeExports.jsx(PrivateRoute,{role:["customer","admin","marketer"],children:jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.25},className:"min-h-screen bg-[#030712]",children:jsxRuntimeExports.jsx(DashboardLayout,{children:jsxRuntimeExports.jsx(CommunityPost,{})})})})}),jsxRuntimeExports.jsx(Route,{path:"/community/subscriptions",element:jsxRuntimeExports.jsx(PrivateRoute,{role:["customer","admin","marketer"],children:jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.25},className:"min-h-screen bg-[#030712]",children:jsxRuntimeExports.jsx(DashboardLayout,{children:jsxRuntimeExports.jsx(Subscriptions,{})})})})}),jsxRuntimeExports.jsx(Route,{path:"/community/my-subscriptions",element:jsxRuntimeExports.jsx(PrivateRoute,{role:["customer","admin","marketer"],children:jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.25},className:"min-h-screen bg-[#030712]",children:jsxRuntimeExports.jsx(DashboardLayout,{children:jsxRuntimeExports.jsx(MySubscriptions,{})})})})}),jsxRuntimeExports.jsx(Route,{path:"/community/subscriptions/subscribers",element:jsxRuntimeExports.jsx(PrivateRoute,{role:["customer","admin","marketer"],children:jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.25},className:"min-h-screen bg-[#030712]",children:jsxRuntimeExports.jsx(DashboardLayout,{children:jsxRuntimeExports.jsx(CommunitySubscribers,{})})})})}),jsxRuntimeExports.jsx(Route,{path:"/community/subscribe/:authorId/choose",element:jsxRuntimeExports.jsx(PrivateRoute,{role:["customer","admin","marketer"],children:jsxRuntimeExports.jsx(DashboardLayout,{children:jsxRuntimeExports.jsx(SubscribeChoicePage,{})})})}),jsxRuntimeExports.jsx(Route,{path:"/community/authors/:userId/subscribers",element:jsxRuntimeExports.jsx(PrivateRoute,{role:["customer","admin","marketer"],children:jsxRuntimeExports.jsx(DashboardLayout,{children:jsxRuntimeExports.jsx(CommunitySubscribers,{})})})}),jsxRuntimeExports.jsx(Route,{path:"/community/settings",element:jsxRuntimeExports.jsx(PrivateRoute,{role:["customer","admin","marketer"],children:jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.25},className:"min-h-screen bg-[#030712]",children:jsxRuntimeExports.jsx(DashboardLayout,{children:jsxRuntimeExports.jsx(ProfileSettings,{})})})})}),jsxRuntimeExports.jsx(Route,{path:"/community/profile",element:jsxRuntimeExports.jsx(PrivateRoute,{role:["customer","admin","marketer"],children:jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.25},className:"min-h-screen bg-[#030712]",children:jsxRuntimeExports.jsx(DashboardLayout,{children:jsxRuntimeExports.jsx(Profile,{})})})})}),jsxRuntimeExports.jsx(Route,{path:"/community/profile/:userId",element:jsxRuntimeExports.jsx(PrivateRoute,{role:["customer","admin","marketer"],children:jsxRuntimeExports.jsx(DashboardLayout,{children:jsxRuntimeExports.jsx(Profile,{})})})}),jsxRuntimeExports.jsx(Route,{path:"/community/bookmarks",element:jsxRuntimeExports.jsx(PrivateRoute,{role:["customer","admin","marketer"],children:jsxRuntimeExports.jsx(DashboardLayout,{children:jsxRuntimeExports.jsx(Saved,{})})})}),jsxRuntimeExports.jsx(Route,{path:"/community/my-fragments",element:jsxRuntimeExports.jsx(PrivateRoute,{role:["customer","admin","marketer"],children:jsxRuntimeExports.jsx(DashboardLayout,{children:jsxRuntimeExports.jsx(MyFragments,{})})})}),jsxRuntimeExports.jsx(Route,{path:"/community/fragments/edit/:fragmentId",element:jsxRuntimeExports.jsx(PrivateRoute,{role:["customer","admin","marketer"],children:jsxRuntimeExports.jsx(DashboardLayout,{children:jsxRuntimeExports.jsx(CreateFragment,{})})})}),jsxRuntimeExports.jsx(Route,{path:"/community/fragments/create",element:jsxRuntimeExports.jsx(PrivateRoute,{role:["customer","admin","marketer"],children:jsxRuntimeExports.jsx(DashboardLayout,{children:jsxRuntimeExports.jsx(CreateFragment,{})})})}),jsxRuntimeExports.jsx(Route,{path:"/community/fragments/:id",element:jsxRuntimeExports.jsx(PrivateRoute,{role:["customer","admin","marketer"],children:jsxRuntimeExports.jsx(DashboardLayout,{children:jsxRuntimeExports.jsx(CommunityPost,{targetType:"fragment"})})})}),jsxRuntimeExports.jsx(Route,{path:"/community/authors/:userId",element:jsxRuntimeExports.jsx(PrivateRoute,{role:["customer","admin","marketer"],children:jsxRuntimeExports.jsx(DashboardLayout,{children:jsxRuntimeExports.jsx(Profile,{})})})}),jsxRuntimeExports.jsx(Route,{path:"/community/posts",element:jsxRuntimeExports.jsx(PrivateRoute,{role:["customer","admin","marketer"],children:jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.25},className:"min-h-screen bg-[#030712]",children:jsxRuntimeExports.jsx(DashboardLayout,{children:jsxRuntimeExports.jsx(MyPosts,{})})})})}),jsxRuntimeExports.jsx(Route,{path:"/community/email-templates",element:jsxRuntimeExports.jsx(PrivateRoute,{role:["customer","admin","marketer"],children:jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.25},className:"min-h-screen bg-[#030712]",children:jsxRuntimeExports.jsx(DashboardLayout,{children:jsxRuntimeExports.jsx(EmailTemplates,{})})})})}),jsxRuntimeExports.jsx(Route,{path:"/community/create-post",element:jsxRuntimeExports.jsx(PrivateRoute,{role:["customer","admin","marketer"],children:jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.25},className:"min-h-screen bg-[#030712]",children:jsxRuntimeExports.jsx(DashboardLayout,{children:jsxRuntimeExports.jsx(CreatePostPage,{})})})})}),jsxRuntimeExports.jsx(Route,{path:"/community/edit-post/:postId",element:jsxRuntimeExports.jsx(PrivateRoute,{role:["customer","admin","marketer"],children:jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.25},className:"min-h-screen bg-[#030712]",children:jsxRuntimeExports.jsx(DashboardLayout,{children:jsxRuntimeExports.jsx(CreatePostPage,{isEdit:!0})})})})}),jsxRuntimeExports.jsx(Route,{path:"/seller-dashboard",element:jsxRuntimeExports.jsx(PrivateRoute,{role:["marketer","admin","customer"],children:jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.25},className:"min-h-screen",children:jsxRuntimeExports.jsx(DashboardLayout,{children:jsxRuntimeExports.jsx(SellerDashboard,{})})})})}),jsxRuntimeExports.jsx(Route,{path:"/notifications",element:jsxRuntimeExports.jsx(PrivateRoute,{role:["customer","admin","marketer"],children:jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.25},children:jsxRuntimeExports.jsx(DashboardLayout,{children:jsxRuntimeExports.jsx(Inbox,{})})})})}),jsxRuntimeExports.jsx(Route,{path:"/landing-page-builder",element:jsxRuntimeExports.jsx(PrivateRoute,{role:["customer","admin","marketer"],children:jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.25},className:"min-h-screen bg-[#030712]",children:jsxRuntimeExports.jsx(DashboardLayout,{children:jsxRuntimeExports.jsx(LandingPageBuilder,{})})})})}),jsxRuntimeExports.jsx(Route,{path:"/landing-analytics",element:jsxRuntimeExports.jsx(PrivateRoute,{role:["customer","admin","marketer"],children:jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.25},className:"min-h-screen bg-[#030712]",children:jsxRuntimeExports.jsx(DashboardLayout,{children:jsxRuntimeExports.jsx(LandingAnalytics,{})})})})}),jsxRuntimeExports.jsx(Route,{path:"/docs",element:jsxRuntimeExports.jsx(PrivateRoute,{role:["customer","admin","marketer"],children:jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.25},className:"min-h-screen bg-[#030712]",children:jsxRuntimeExports.jsx(DashboardLayout,{children:jsxRuntimeExports.jsx(DocsIndexPage,{})})})})}),jsxRuntimeExports.jsx(Route,{path:"/docs/settings",element:jsxRuntimeExports.jsx(PrivateRoute,{role:["customer","admin","marketer"],children:jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.25},className:"min-h-screen bg-[#030712]",children:jsxRuntimeExports.jsx(DashboardLayout,{children:jsxRuntimeExports.jsx(SettingsDocs,{})})})})}),jsxRuntimeExports.jsx(Route,{path:"/docs/landing-page-builder",element:jsxRuntimeExports.jsx(PrivateRoute,{role:["customer","admin","marketer"],children:jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.25},className:"min-h-screen bg-[#030712]",children:jsxRuntimeExports.jsx(DashboardLayout,{children:jsxRuntimeExports.jsx(LandingBuilderDocs,{})})})})}),jsxRuntimeExports.jsx(Route,{path:"/docs/seller-dashboard",element:jsxRuntimeExports.jsx(PrivateRoute,{role:["customer","admin","marketer"],children:jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.25},className:"min-h-screen bg-[#030712]",children:jsxRuntimeExports.jsx(DashboardLayout,{children:jsxRuntimeExports.jsx(SellerDashboardDocs,{})})})})}),jsxRuntimeExports.jsx(Route,{path:"/docs/analytics-docs",element:jsxRuntimeExports.jsx(PrivateRoute,{role:["customer","admin","marketer"],children:jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.25},className:"min-h-screen bg-[#030712]",children:jsxRuntimeExports.jsx(DashboardLayout,{children:jsxRuntimeExports.jsx(LandingAnalyticsDocs,{})})})})}),jsxRuntimeExports.jsx(Route,{path:"/docs/custom-domain",element:jsxRuntimeExports.jsx(PrivateRoute,{role:["customer","admin","marketer"],children:jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.25},className:"min-h-screen bg-[#030712]",children:jsxRuntimeExports.jsx(DashboardLayout,{children:jsxRuntimeExports.jsx(CustomDomainsDocs,{})})})})}),jsxRuntimeExports.jsx(Route,{path:"/docs/authors-assistant",element:jsxRuntimeExports.jsx(PrivateRoute,{role:["customer","admin","marketer"],children:jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.25},className:"min-h-screen bg-[#030712]",children:jsxRuntimeExports.jsx(DashboardLayout,{children:jsxRuntimeExports.jsx(AuthorsAssistantDocs,{})})})})}),jsxRuntimeExports.jsx(Route,{path:"*",element:jsxRuntimeExports.jsx(NotFound,{})})]},dt.pathname)})},RootApp=()=>{const{maintenance:dt,loading:et}=useMaintenance();return et?null:dt?jsxRuntimeExports.jsx(MaintenanceScreen,{}):jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsx(AuthProviderWithRouter,{children:jsxRuntimeExports.jsxs(BookProvider,{children:[jsxRuntimeExports.jsx(Lt$1,{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"colored"}),jsxRuntimeExports.jsx(AnimatedRoutes,{})]})})})},container=document.getElementById("root"),root=createRoot(container);root.render(jsxRuntimeExports.jsx(RootApp,{}));export{commonjsGlobal as c,getAugmentedNamespace as g};
