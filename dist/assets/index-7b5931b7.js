var R_=Object.defineProperty;var M_=(et,g,it)=>g in et?R_(et,g,{enumerable:!0,configurable:!0,writable:!0,value:it}):et[g]=it;var Nr=(et,g,it)=>(M_(et,typeof g!="symbol"?g+"":g,it),it),Uw=(et,g,it)=>{if(!g.has(et))throw TypeError("Cannot "+it)};var Ft=(et,g,it)=>(Uw(et,g,"read from private field"),it?it.call(et):g.get(et)),sr=(et,g,it)=>{if(g.has(et))throw TypeError("Cannot add the same private member more than once");g instanceof WeakSet?g.add(et):g.set(et,it)},ur=(et,g,it,ot)=>(Uw(et,g,"write to private field"),ot?ot.call(et,it):g.set(et,it),it);var Sn=(et,g,it,ot)=>({set _(ut){ur(et,g,ut,it)},get _(){return Ft(et,g,ot)}}),vr=(et,g,it)=>(Uw(et,g,"access private method"),it);function _mergeNamespaces(et,g){for(var it=0;it<g.length;it++){const ot=g[it];if(typeof ot!="string"&&!Array.isArray(ot)){for(const ut in ot)if(ut!=="default"&&!(ut in et)){const ct=Object.getOwnPropertyDescriptor(ot,ut);ct&&Object.defineProperty(et,ut,ct.get?ct:{enumerable:!0,get:()=>ot[ut]})}}}return Object.freeze(Object.defineProperty(et,Symbol.toStringTag,{value:"Module"}))}(function(){const g=document.createElement("link").relList;if(g&&g.supports&&g.supports("modulepreload"))return;for(const ut of document.querySelectorAll('link[rel="modulepreload"]'))ot(ut);new MutationObserver(ut=>{for(const ct of ut)if(ct.type==="childList")for(const dt of ct.addedNodes)dt.tagName==="LINK"&&dt.rel==="modulepreload"&&ot(dt)}).observe(document,{childList:!0,subtree:!0});function it(ut){const ct={};return ut.integrity&&(ct.integrity=ut.integrity),ut.referrerPolicy&&(ct.referrerPolicy=ut.referrerPolicy),ut.crossOrigin==="use-credentials"?ct.credentials="include":ut.crossOrigin==="anonymous"?ct.credentials="omit":ct.credentials="same-origin",ct}function ot(ut){if(ut.ep)return;ut.ep=!0;const ct=it(ut);fetch(ut.href,ct)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(et){return et&&et.__esModule&&Object.prototype.hasOwnProperty.call(et,"default")?et.default:et}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$4=Symbol.for("react.element"),n$5=Symbol.for("react.portal"),p$5=Symbol.for("react.fragment"),q$1=Symbol.for("react.strict_mode"),r$4=Symbol.for("react.profiler"),t$4=Symbol.for("react.provider"),u$6=Symbol.for("react.context"),v$3=Symbol.for("react.forward_ref"),w$5=Symbol.for("react.suspense"),x$3=Symbol.for("react.memo"),y$5=Symbol.for("react.lazy"),z$2=Symbol.iterator;function A$3(et){return et===null||typeof et!="object"?null:(et=z$2&&et[z$2]||et["@@iterator"],typeof et=="function"?et:null)}var B$2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$5=Object.assign,D$2={};function E$3(et,g,it){this.props=et,this.context=g,this.refs=D$2,this.updater=it||B$2}E$3.prototype.isReactComponent={};E$3.prototype.setState=function(et,g){if(typeof et!="object"&&typeof et!="function"&&et!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,et,g,"setState")};E$3.prototype.forceUpdate=function(et){this.updater.enqueueForceUpdate(this,et,"forceUpdate")};function F$3(){}F$3.prototype=E$3.prototype;function G$2(et,g,it){this.props=et,this.context=g,this.refs=D$2,this.updater=it||B$2}var H$4=G$2.prototype=new F$3;H$4.constructor=G$2;C$5(H$4,E$3.prototype);H$4.isPureReactComponent=!0;var I$5=Array.isArray,J$2=Object.prototype.hasOwnProperty,K$3={current:null},L$4={key:!0,ref:!0,__self:!0,__source:!0};function M$4(et,g,it){var ot,ut={},ct=null,dt=null;if(g!=null)for(ot in g.ref!==void 0&&(dt=g.ref),g.key!==void 0&&(ct=""+g.key),g)J$2.call(g,ot)&&!L$4.hasOwnProperty(ot)&&(ut[ot]=g[ot]);var ft=arguments.length-2;if(ft===1)ut.children=it;else if(1<ft){for(var St=Array(ft),Tt=0;Tt<ft;Tt++)St[Tt]=arguments[Tt+2];ut.children=St}if(et&&et.defaultProps)for(ot in ft=et.defaultProps,ft)ut[ot]===void 0&&(ut[ot]=ft[ot]);return{$$typeof:l$4,type:et,key:ct,ref:dt,props:ut,_owner:K$3.current}}function N$3(et,g){return{$$typeof:l$4,type:et.type,key:g,ref:et.ref,props:et.props,_owner:et._owner}}function O$5(et){return typeof et=="object"&&et!==null&&et.$$typeof===l$4}function escape$1(et){var g={"=":"=0",":":"=2"};return"$"+et.replace(/[=:]/g,function(it){return g[it]})}var P$4=/\/+/g;function Q$2(et,g){return typeof et=="object"&&et!==null&&et.key!=null?escape$1(""+et.key):g.toString(36)}function R$4(et,g,it,ot,ut){var ct=typeof et;(ct==="undefined"||ct==="boolean")&&(et=null);var dt=!1;if(et===null)dt=!0;else switch(ct){case"string":case"number":dt=!0;break;case"object":switch(et.$$typeof){case l$4:case n$5:dt=!0}}if(dt)return dt=et,ut=ut(dt),et=ot===""?"."+Q$2(dt,0):ot,I$5(ut)?(it="",et!=null&&(it=et.replace(P$4,"$&/")+"/"),R$4(ut,g,it,"",function(Tt){return Tt})):ut!=null&&(O$5(ut)&&(ut=N$3(ut,it+(!ut.key||dt&&dt.key===ut.key?"":(""+ut.key).replace(P$4,"$&/")+"/")+et)),g.push(ut)),1;if(dt=0,ot=ot===""?".":ot+":",I$5(et))for(var ft=0;ft<et.length;ft++){ct=et[ft];var St=ot+Q$2(ct,ft);dt+=R$4(ct,g,it,St,ut)}else if(St=A$3(et),typeof St=="function")for(et=St.call(et),ft=0;!(ct=et.next()).done;)ct=ct.value,St=ot+Q$2(ct,ft++),dt+=R$4(ct,g,it,St,ut);else if(ct==="object")throw g=String(et),Error("Objects are not valid as a React child (found: "+(g==="[object Object]"?"object with keys {"+Object.keys(et).join(", ")+"}":g)+"). If you meant to render a collection of children, use an array instead.");return dt}function S$4(et,g,it){if(et==null)return et;var ot=[],ut=0;return R$4(et,ot,"","",function(ct){return g.call(it,ct,ut++)}),ot}function T$4(et){if(et._status===-1){var g=et._result;g=g(),g.then(function(it){(et._status===0||et._status===-1)&&(et._status=1,et._result=it)},function(it){(et._status===0||et._status===-1)&&(et._status=2,et._result=it)}),et._status===-1&&(et._status=0,et._result=g)}if(et._status===1)return et._result.default;throw et._result}var U$5={current:null},V$3={transition:null},W$3={ReactCurrentDispatcher:U$5,ReactCurrentBatchConfig:V$3,ReactCurrentOwner:K$3};function X$5(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$4,forEach:function(et,g,it){S$4(et,function(){g.apply(this,arguments)},it)},count:function(et){var g=0;return S$4(et,function(){g++}),g},toArray:function(et){return S$4(et,function(g){return g})||[]},only:function(et){if(!O$5(et))throw Error("React.Children.only expected to receive a single React element child.");return et}};react_production_min.Component=E$3;react_production_min.Fragment=p$5;react_production_min.Profiler=r$4;react_production_min.PureComponent=G$2;react_production_min.StrictMode=q$1;react_production_min.Suspense=w$5;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$3;react_production_min.act=X$5;react_production_min.cloneElement=function(et,g,it){if(et==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+et+".");var ot=C$5({},et.props),ut=et.key,ct=et.ref,dt=et._owner;if(g!=null){if(g.ref!==void 0&&(ct=g.ref,dt=K$3.current),g.key!==void 0&&(ut=""+g.key),et.type&&et.type.defaultProps)var ft=et.type.defaultProps;for(St in g)J$2.call(g,St)&&!L$4.hasOwnProperty(St)&&(ot[St]=g[St]===void 0&&ft!==void 0?ft[St]:g[St])}var St=arguments.length-2;if(St===1)ot.children=it;else if(1<St){ft=Array(St);for(var Tt=0;Tt<St;Tt++)ft[Tt]=arguments[Tt+2];ot.children=ft}return{$$typeof:l$4,type:et.type,key:ut,ref:ct,props:ot,_owner:dt}};react_production_min.createContext=function(et){return et={$$typeof:u$6,_currentValue:et,_currentValue2:et,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},et.Provider={$$typeof:t$4,_context:et},et.Consumer=et};react_production_min.createElement=M$4;react_production_min.createFactory=function(et){var g=M$4.bind(null,et);return g.type=et,g};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(et){return{$$typeof:v$3,render:et}};react_production_min.isValidElement=O$5;react_production_min.lazy=function(et){return{$$typeof:y$5,_payload:{_status:-1,_result:et},_init:T$4}};react_production_min.memo=function(et,g){return{$$typeof:x$3,type:et,compare:g===void 0?null:g}};react_production_min.startTransition=function(et){var g=V$3.transition;V$3.transition={};try{et()}finally{V$3.transition=g}};react_production_min.unstable_act=X$5;react_production_min.useCallback=function(et,g){return U$5.current.useCallback(et,g)};react_production_min.useContext=function(et){return U$5.current.useContext(et)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(et){return U$5.current.useDeferredValue(et)};react_production_min.useEffect=function(et,g){return U$5.current.useEffect(et,g)};react_production_min.useId=function(){return U$5.current.useId()};react_production_min.useImperativeHandle=function(et,g,it){return U$5.current.useImperativeHandle(et,g,it)};react_production_min.useInsertionEffect=function(et,g){return U$5.current.useInsertionEffect(et,g)};react_production_min.useLayoutEffect=function(et,g){return U$5.current.useLayoutEffect(et,g)};react_production_min.useMemo=function(et,g){return U$5.current.useMemo(et,g)};react_production_min.useReducer=function(et,g,it){return U$5.current.useReducer(et,g,it)};react_production_min.useRef=function(et){return U$5.current.useRef(et)};react_production_min.useState=function(et){return U$5.current.useState(et)};react_production_min.useSyncExternalStore=function(et,g,it){return U$5.current.useSyncExternalStore(et,g,it)};react_production_min.useTransition=function(){return U$5.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$7=reactExports,k$1=Symbol.for("react.element"),l$3=Symbol.for("react.fragment"),m$6=Object.prototype.hasOwnProperty,n$4=f$7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$4={key:!0,ref:!0,__self:!0,__source:!0};function q(et,g,it){var ot,ut={},ct=null,dt=null;it!==void 0&&(ct=""+it),g.key!==void 0&&(ct=""+g.key),g.ref!==void 0&&(dt=g.ref);for(ot in g)m$6.call(g,ot)&&!p$4.hasOwnProperty(ot)&&(ut[ot]=g[ot]);if(et&&et.defaultProps)for(ot in g=et.defaultProps,g)ut[ot]===void 0&&(ut[ot]=g[ot]);return{$$typeof:k$1,type:et,key:ct,ref:dt,props:ut,_owner:n$4.current}}reactJsxRuntime_production_min.Fragment=l$3;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(et){function g(nr,ir){var mr=nr.length;nr.push(ir);e:for(;0<mr;){var lr=mr-1>>>1,br=nr[lr];if(0<ut(br,ir))nr[lr]=ir,nr[mr]=br,mr=lr;else break e}}function it(nr){return nr.length===0?null:nr[0]}function ot(nr){if(nr.length===0)return null;var ir=nr[0],mr=nr.pop();if(mr!==ir){nr[0]=mr;e:for(var lr=0,br=nr.length,Er=br>>>1;lr<Er;){var Sr=2*(lr+1)-1,_r=nr[Sr],wr=Sr+1,Ar=nr[wr];if(0>ut(_r,mr))wr<br&&0>ut(Ar,_r)?(nr[lr]=Ar,nr[wr]=mr,lr=wr):(nr[lr]=_r,nr[Sr]=mr,lr=Sr);else if(wr<br&&0>ut(Ar,mr))nr[lr]=Ar,nr[wr]=mr,lr=wr;else break e}}return ir}function ut(nr,ir){var mr=nr.sortIndex-ir.sortIndex;return mr!==0?mr:nr.id-ir.id}if(typeof performance=="object"&&typeof performance.now=="function"){var ct=performance;et.unstable_now=function(){return ct.now()}}else{var dt=Date,ft=dt.now();et.unstable_now=function(){return dt.now()-ft}}var St=[],Tt=[],kt=1,jt=null,Rt=3,$t=!1,zt=!1,Ht=!1,Zt=typeof setTimeout=="function"?setTimeout:null,Bt=typeof clearTimeout=="function"?clearTimeout:null,Ut=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Kt(nr){for(var ir=it(Tt);ir!==null;){if(ir.callback===null)ot(Tt);else if(ir.startTime<=nr)ot(Tt),ir.sortIndex=ir.expirationTime,g(St,ir);else break;ir=it(Tt)}}function Yt(nr){if(Ht=!1,Kt(nr),!zt)if(it(St)!==null)zt=!0,dr(Jt);else{var ir=it(Tt);ir!==null&&pr(Yt,ir.startTime-nr)}}function Jt(nr,ir){zt=!1,Ht&&(Ht=!1,Bt(rr),rr=-1),$t=!0;var mr=Rt;try{for(Kt(ir),jt=it(St);jt!==null&&(!(jt.expirationTime>ir)||nr&&!or());){var lr=jt.callback;if(typeof lr=="function"){jt.callback=null,Rt=jt.priorityLevel;var br=lr(jt.expirationTime<=ir);ir=et.unstable_now(),typeof br=="function"?jt.callback=br:jt===it(St)&&ot(St),Kt(ir)}else ot(St);jt=it(St)}if(jt!==null)var Er=!0;else{var Sr=it(Tt);Sr!==null&&pr(Yt,Sr.startTime-ir),Er=!1}return Er}finally{jt=null,Rt=mr,$t=!1}}var er=!1,tr=null,rr=-1,hr=5,ar=-1;function or(){return!(et.unstable_now()-ar<hr)}function cr(){if(tr!==null){var nr=et.unstable_now();ar=nr;var ir=!0;try{ir=tr(!0,nr)}finally{ir?gr():(er=!1,tr=null)}}else er=!1}var gr;if(typeof Ut=="function")gr=function(){Ut(cr)};else if(typeof MessageChannel<"u"){var yr=new MessageChannel,xr=yr.port2;yr.port1.onmessage=cr,gr=function(){xr.postMessage(null)}}else gr=function(){Zt(cr,0)};function dr(nr){tr=nr,er||(er=!0,gr())}function pr(nr,ir){rr=Zt(function(){nr(et.unstable_now())},ir)}et.unstable_IdlePriority=5,et.unstable_ImmediatePriority=1,et.unstable_LowPriority=4,et.unstable_NormalPriority=3,et.unstable_Profiling=null,et.unstable_UserBlockingPriority=2,et.unstable_cancelCallback=function(nr){nr.callback=null},et.unstable_continueExecution=function(){zt||$t||(zt=!0,dr(Jt))},et.unstable_forceFrameRate=function(nr){0>nr||125<nr?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):hr=0<nr?Math.floor(1e3/nr):5},et.unstable_getCurrentPriorityLevel=function(){return Rt},et.unstable_getFirstCallbackNode=function(){return it(St)},et.unstable_next=function(nr){switch(Rt){case 1:case 2:case 3:var ir=3;break;default:ir=Rt}var mr=Rt;Rt=ir;try{return nr()}finally{Rt=mr}},et.unstable_pauseExecution=function(){},et.unstable_requestPaint=function(){},et.unstable_runWithPriority=function(nr,ir){switch(nr){case 1:case 2:case 3:case 4:case 5:break;default:nr=3}var mr=Rt;Rt=nr;try{return ir()}finally{Rt=mr}},et.unstable_scheduleCallback=function(nr,ir,mr){var lr=et.unstable_now();switch(typeof mr=="object"&&mr!==null?(mr=mr.delay,mr=typeof mr=="number"&&0<mr?lr+mr:lr):mr=lr,nr){case 1:var br=-1;break;case 2:br=250;break;case 5:br=1073741823;break;case 4:br=1e4;break;default:br=5e3}return br=mr+br,nr={id:kt++,callback:ir,priorityLevel:nr,startTime:mr,expirationTime:br,sortIndex:-1},mr>lr?(nr.sortIndex=mr,g(Tt,nr),it(St)===null&&nr===it(Tt)&&(Ht?(Bt(rr),rr=-1):Ht=!0,pr(Yt,mr-lr))):(nr.sortIndex=br,g(St,nr),zt||$t||(zt=!0,dr(Jt))),nr},et.unstable_shouldYield=or,et.unstable_wrapCallback=function(nr){var ir=Rt;return function(){var mr=Rt;Rt=ir;try{return nr.apply(this,arguments)}finally{Rt=mr}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$3(et){for(var g="https://reactjs.org/docs/error-decoder.html?invariant="+et,it=1;it<arguments.length;it++)g+="&args[]="+encodeURIComponent(arguments[it]);return"Minified React error #"+et+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(et,g){ha(et,g),ha(et+"Capture",g)}function ha(et,g){for(ea[et]=g,et=0;et<g.length;et++)da.add(g[et])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(et){return ja.call(ma,et)?!0:ja.call(la,et)?!1:ka.test(et)?ma[et]=!0:(la[et]=!0,!1)}function pa(et,g,it,ot){if(it!==null&&it.type===0)return!1;switch(typeof g){case"function":case"symbol":return!0;case"boolean":return ot?!1:it!==null?!it.acceptsBooleans:(et=et.toLowerCase().slice(0,5),et!=="data-"&&et!=="aria-");default:return!1}}function qa(et,g,it,ot){if(g===null||typeof g>"u"||pa(et,g,it,ot))return!0;if(ot)return!1;if(it!==null)switch(it.type){case 3:return!g;case 4:return g===!1;case 5:return isNaN(g);case 6:return isNaN(g)||1>g}return!1}function v$2(et,g,it,ot,ut,ct,dt){this.acceptsBooleans=g===2||g===3||g===4,this.attributeName=ot,this.attributeNamespace=ut,this.mustUseProperty=it,this.propertyName=et,this.type=g,this.sanitizeURL=ct,this.removeEmptyString=dt}var z$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(et){z$1[et]=new v$2(et,0,!1,et,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(et){var g=et[0];z$1[g]=new v$2(g,1,!1,et[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(et){z$1[et]=new v$2(et,2,!1,et.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(et){z$1[et]=new v$2(et,2,!1,et,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(et){z$1[et]=new v$2(et,3,!1,et.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(et){z$1[et]=new v$2(et,3,!0,et,null,!1,!1)});["capture","download"].forEach(function(et){z$1[et]=new v$2(et,4,!1,et,null,!1,!1)});["cols","rows","size","span"].forEach(function(et){z$1[et]=new v$2(et,6,!1,et,null,!1,!1)});["rowSpan","start"].forEach(function(et){z$1[et]=new v$2(et,5,!1,et.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(et){return et[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(et){var g=et.replace(ra,sa);z$1[g]=new v$2(g,1,!1,et,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(et){var g=et.replace(ra,sa);z$1[g]=new v$2(g,1,!1,et,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(et){var g=et.replace(ra,sa);z$1[g]=new v$2(g,1,!1,et,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(et){z$1[et]=new v$2(et,1,!1,et.toLowerCase(),null,!1,!1)});z$1.xlinkHref=new v$2("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(et){z$1[et]=new v$2(et,1,!1,et.toLowerCase(),null,!0,!0)});function ta(et,g,it,ot){var ut=z$1.hasOwnProperty(g)?z$1[g]:null;(ut!==null?ut.type!==0:ot||!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(qa(g,it,ut,ot)&&(it=null),ot||ut===null?oa(g)&&(it===null?et.removeAttribute(g):et.setAttribute(g,""+it)):ut.mustUseProperty?et[ut.propertyName]=it===null?ut.type===3?!1:"":it:(g=ut.attributeName,ot=ut.attributeNamespace,it===null?et.removeAttribute(g):(ut=ut.type,it=ut===3||ut===4&&it===!0?"":""+it,ot?et.setAttributeNS(ot,g,it):et.setAttribute(g,it))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(et){return et===null||typeof et!="object"?null:(et=Ja&&et[Ja]||et["@@iterator"],typeof et=="function"?et:null)}var A$2=Object.assign,La;function Ma(et){if(La===void 0)try{throw Error()}catch(it){var g=it.stack.trim().match(/\n( *(at )?)/);La=g&&g[1]||""}return`
`+La+et}var Na=!1;function Oa(et,g){if(!et||Na)return"";Na=!0;var it=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(g)if(g=function(){throw Error()},Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(Tt){var ot=Tt}Reflect.construct(et,[],g)}else{try{g.call()}catch(Tt){ot=Tt}et.call(g.prototype)}else{try{throw Error()}catch(Tt){ot=Tt}et()}}catch(Tt){if(Tt&&ot&&typeof Tt.stack=="string"){for(var ut=Tt.stack.split(`
`),ct=ot.stack.split(`
`),dt=ut.length-1,ft=ct.length-1;1<=dt&&0<=ft&&ut[dt]!==ct[ft];)ft--;for(;1<=dt&&0<=ft;dt--,ft--)if(ut[dt]!==ct[ft]){if(dt!==1||ft!==1)do if(dt--,ft--,0>ft||ut[dt]!==ct[ft]){var St=`
`+ut[dt].replace(" at new "," at ");return et.displayName&&St.includes("<anonymous>")&&(St=St.replace("<anonymous>",et.displayName)),St}while(1<=dt&&0<=ft);break}}}finally{Na=!1,Error.prepareStackTrace=it}return(et=et?et.displayName||et.name:"")?Ma(et):""}function Pa(et){switch(et.tag){case 5:return Ma(et.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return et=Oa(et.type,!1),et;case 11:return et=Oa(et.type.render,!1),et;case 1:return et=Oa(et.type,!0),et;default:return""}}function Qa(et){if(et==null)return null;if(typeof et=="function")return et.displayName||et.name||null;if(typeof et=="string")return et;switch(et){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof et=="object")switch(et.$$typeof){case Ca:return(et.displayName||"Context")+".Consumer";case Ba:return(et._context.displayName||"Context")+".Provider";case Da:var g=et.render;return et=et.displayName,et||(et=g.displayName||g.name||"",et=et!==""?"ForwardRef("+et+")":"ForwardRef"),et;case Ga:return g=et.displayName||null,g!==null?g:Qa(et.type)||"Memo";case Ha:g=et._payload,et=et._init;try{return Qa(et(g))}catch{}}return null}function Ra(et){var g=et.type;switch(et.tag){case 24:return"Cache";case 9:return(g.displayName||"Context")+".Consumer";case 10:return(g._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return et=g.render,et=et.displayName||et.name||"",g.displayName||(et!==""?"ForwardRef("+et+")":"ForwardRef");case 7:return"Fragment";case 5:return g;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(g);case 8:return g===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof g=="function")return g.displayName||g.name||null;if(typeof g=="string")return g}return null}function Sa(et){switch(typeof et){case"boolean":case"number":case"string":case"undefined":return et;case"object":return et;default:return""}}function Ta(et){var g=et.type;return(et=et.nodeName)&&et.toLowerCase()==="input"&&(g==="checkbox"||g==="radio")}function Ua(et){var g=Ta(et)?"checked":"value",it=Object.getOwnPropertyDescriptor(et.constructor.prototype,g),ot=""+et[g];if(!et.hasOwnProperty(g)&&typeof it<"u"&&typeof it.get=="function"&&typeof it.set=="function"){var ut=it.get,ct=it.set;return Object.defineProperty(et,g,{configurable:!0,get:function(){return ut.call(this)},set:function(dt){ot=""+dt,ct.call(this,dt)}}),Object.defineProperty(et,g,{enumerable:it.enumerable}),{getValue:function(){return ot},setValue:function(dt){ot=""+dt},stopTracking:function(){et._valueTracker=null,delete et[g]}}}}function Va(et){et._valueTracker||(et._valueTracker=Ua(et))}function Wa(et){if(!et)return!1;var g=et._valueTracker;if(!g)return!0;var it=g.getValue(),ot="";return et&&(ot=Ta(et)?et.checked?"true":"false":et.value),et=ot,et!==it?(g.setValue(et),!0):!1}function Xa(et){if(et=et||(typeof document<"u"?document:void 0),typeof et>"u")return null;try{return et.activeElement||et.body}catch{return et.body}}function Ya(et,g){var it=g.checked;return A$2({},g,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:it??et._wrapperState.initialChecked})}function Za(et,g){var it=g.defaultValue==null?"":g.defaultValue,ot=g.checked!=null?g.checked:g.defaultChecked;it=Sa(g.value!=null?g.value:it),et._wrapperState={initialChecked:ot,initialValue:it,controlled:g.type==="checkbox"||g.type==="radio"?g.checked!=null:g.value!=null}}function ab(et,g){g=g.checked,g!=null&&ta(et,"checked",g,!1)}function bb(et,g){ab(et,g);var it=Sa(g.value),ot=g.type;if(it!=null)ot==="number"?(it===0&&et.value===""||et.value!=it)&&(et.value=""+it):et.value!==""+it&&(et.value=""+it);else if(ot==="submit"||ot==="reset"){et.removeAttribute("value");return}g.hasOwnProperty("value")?cb(et,g.type,it):g.hasOwnProperty("defaultValue")&&cb(et,g.type,Sa(g.defaultValue)),g.checked==null&&g.defaultChecked!=null&&(et.defaultChecked=!!g.defaultChecked)}function db(et,g,it){if(g.hasOwnProperty("value")||g.hasOwnProperty("defaultValue")){var ot=g.type;if(!(ot!=="submit"&&ot!=="reset"||g.value!==void 0&&g.value!==null))return;g=""+et._wrapperState.initialValue,it||g===et.value||(et.value=g),et.defaultValue=g}it=et.name,it!==""&&(et.name=""),et.defaultChecked=!!et._wrapperState.initialChecked,it!==""&&(et.name=it)}function cb(et,g,it){(g!=="number"||Xa(et.ownerDocument)!==et)&&(it==null?et.defaultValue=""+et._wrapperState.initialValue:et.defaultValue!==""+it&&(et.defaultValue=""+it))}var eb=Array.isArray;function fb(et,g,it,ot){if(et=et.options,g){g={};for(var ut=0;ut<it.length;ut++)g["$"+it[ut]]=!0;for(it=0;it<et.length;it++)ut=g.hasOwnProperty("$"+et[it].value),et[it].selected!==ut&&(et[it].selected=ut),ut&&ot&&(et[it].defaultSelected=!0)}else{for(it=""+Sa(it),g=null,ut=0;ut<et.length;ut++){if(et[ut].value===it){et[ut].selected=!0,ot&&(et[ut].defaultSelected=!0);return}g!==null||et[ut].disabled||(g=et[ut])}g!==null&&(g.selected=!0)}}function gb(et,g){if(g.dangerouslySetInnerHTML!=null)throw Error(p$3(91));return A$2({},g,{value:void 0,defaultValue:void 0,children:""+et._wrapperState.initialValue})}function hb(et,g){var it=g.value;if(it==null){if(it=g.children,g=g.defaultValue,it!=null){if(g!=null)throw Error(p$3(92));if(eb(it)){if(1<it.length)throw Error(p$3(93));it=it[0]}g=it}g==null&&(g=""),it=g}et._wrapperState={initialValue:Sa(it)}}function ib(et,g){var it=Sa(g.value),ot=Sa(g.defaultValue);it!=null&&(it=""+it,it!==et.value&&(et.value=it),g.defaultValue==null&&et.defaultValue!==it&&(et.defaultValue=it)),ot!=null&&(et.defaultValue=""+ot)}function jb(et){var g=et.textContent;g===et._wrapperState.initialValue&&g!==""&&g!==null&&(et.value=g)}function kb(et){switch(et){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(et,g){return et==null||et==="http://www.w3.org/1999/xhtml"?kb(g):et==="http://www.w3.org/2000/svg"&&g==="foreignObject"?"http://www.w3.org/1999/xhtml":et}var mb,nb=function(et){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(g,it,ot,ut){MSApp.execUnsafeLocalFunction(function(){return et(g,it,ot,ut)})}:et}(function(et,g){if(et.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in et)et.innerHTML=g;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+g.valueOf().toString()+"</svg>",g=mb.firstChild;et.firstChild;)et.removeChild(et.firstChild);for(;g.firstChild;)et.appendChild(g.firstChild)}});function ob(et,g){if(g){var it=et.firstChild;if(it&&it===et.lastChild&&it.nodeType===3){it.nodeValue=g;return}}et.textContent=g}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(et){qb.forEach(function(g){g=g+et.charAt(0).toUpperCase()+et.substring(1),pb[g]=pb[et]})});function rb(et,g,it){return g==null||typeof g=="boolean"||g===""?"":it||typeof g!="number"||g===0||pb.hasOwnProperty(et)&&pb[et]?(""+g).trim():g+"px"}function sb(et,g){et=et.style;for(var it in g)if(g.hasOwnProperty(it)){var ot=it.indexOf("--")===0,ut=rb(it,g[it],ot);it==="float"&&(it="cssFloat"),ot?et.setProperty(it,ut):et[it]=ut}}var tb=A$2({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(et,g){if(g){if(tb[et]&&(g.children!=null||g.dangerouslySetInnerHTML!=null))throw Error(p$3(137,et));if(g.dangerouslySetInnerHTML!=null){if(g.children!=null)throw Error(p$3(60));if(typeof g.dangerouslySetInnerHTML!="object"||!("__html"in g.dangerouslySetInnerHTML))throw Error(p$3(61))}if(g.style!=null&&typeof g.style!="object")throw Error(p$3(62))}}function vb(et,g){if(et.indexOf("-")===-1)return typeof g.is=="string";switch(et){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(et){return et=et.target||et.srcElement||window,et.correspondingUseElement&&(et=et.correspondingUseElement),et.nodeType===3?et.parentNode:et}var yb=null,zb=null,Ab=null;function Bb(et){if(et=Cb(et)){if(typeof yb!="function")throw Error(p$3(280));var g=et.stateNode;g&&(g=Db(g),yb(et.stateNode,et.type,g))}}function Eb(et){zb?Ab?Ab.push(et):Ab=[et]:zb=et}function Fb(){if(zb){var et=zb,g=Ab;if(Ab=zb=null,Bb(et),g)for(et=0;et<g.length;et++)Bb(g[et])}}function Gb(et,g){return et(g)}function Hb(){}var Ib=!1;function Jb(et,g,it){if(Ib)return et(g,it);Ib=!0;try{return Gb(et,g,it)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(et,g){var it=et.stateNode;if(it===null)return null;var ot=Db(it);if(ot===null)return null;it=ot[g];e:switch(g){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(ot=!ot.disabled)||(et=et.type,ot=!(et==="button"||et==="input"||et==="select"||et==="textarea")),et=!ot;break e;default:et=!1}if(et)return null;if(it&&typeof it!="function")throw Error(p$3(231,g,typeof it));return it}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(et,g,it,ot,ut,ct,dt,ft,St){var Tt=Array.prototype.slice.call(arguments,3);try{g.apply(it,Tt)}catch(kt){this.onError(kt)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(et){Ob=!0,Pb=et}};function Tb(et,g,it,ot,ut,ct,dt,ft,St){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(et,g,it,ot,ut,ct,dt,ft,St){if(Tb.apply(this,arguments),Ob){if(Ob){var Tt=Pb;Ob=!1,Pb=null}else throw Error(p$3(198));Qb||(Qb=!0,Rb=Tt)}}function Vb(et){var g=et,it=et;if(et.alternate)for(;g.return;)g=g.return;else{et=g;do g=et,g.flags&4098&&(it=g.return),et=g.return;while(et)}return g.tag===3?it:null}function Wb(et){if(et.tag===13){var g=et.memoizedState;if(g===null&&(et=et.alternate,et!==null&&(g=et.memoizedState)),g!==null)return g.dehydrated}return null}function Xb(et){if(Vb(et)!==et)throw Error(p$3(188))}function Yb(et){var g=et.alternate;if(!g){if(g=Vb(et),g===null)throw Error(p$3(188));return g!==et?null:et}for(var it=et,ot=g;;){var ut=it.return;if(ut===null)break;var ct=ut.alternate;if(ct===null){if(ot=ut.return,ot!==null){it=ot;continue}break}if(ut.child===ct.child){for(ct=ut.child;ct;){if(ct===it)return Xb(ut),et;if(ct===ot)return Xb(ut),g;ct=ct.sibling}throw Error(p$3(188))}if(it.return!==ot.return)it=ut,ot=ct;else{for(var dt=!1,ft=ut.child;ft;){if(ft===it){dt=!0,it=ut,ot=ct;break}if(ft===ot){dt=!0,ot=ut,it=ct;break}ft=ft.sibling}if(!dt){for(ft=ct.child;ft;){if(ft===it){dt=!0,it=ct,ot=ut;break}if(ft===ot){dt=!0,ot=ct,it=ut;break}ft=ft.sibling}if(!dt)throw Error(p$3(189))}}if(it.alternate!==ot)throw Error(p$3(190))}if(it.tag!==3)throw Error(p$3(188));return it.stateNode.current===it?et:g}function Zb(et){return et=Yb(et),et!==null?$b(et):null}function $b(et){if(et.tag===5||et.tag===6)return et;for(et=et.child;et!==null;){var g=$b(et);if(g!==null)return g;et=et.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$1=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(et){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,et,void 0,(et.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(et){return et>>>=0,et===0?32:31-(pc(et)/qc|0)|0}var rc=64,sc=4194304;function tc(et){switch(et&-et){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return et&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return et&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return et}}function uc(et,g){var it=et.pendingLanes;if(it===0)return 0;var ot=0,ut=et.suspendedLanes,ct=et.pingedLanes,dt=it&268435455;if(dt!==0){var ft=dt&~ut;ft!==0?ot=tc(ft):(ct&=dt,ct!==0&&(ot=tc(ct)))}else dt=it&~ut,dt!==0?ot=tc(dt):ct!==0&&(ot=tc(ct));if(ot===0)return 0;if(g!==0&&g!==ot&&!(g&ut)&&(ut=ot&-ot,ct=g&-g,ut>=ct||ut===16&&(ct&4194240)!==0))return g;if(ot&4&&(ot|=it&16),g=et.entangledLanes,g!==0)for(et=et.entanglements,g&=ot;0<g;)it=31-oc(g),ut=1<<it,ot|=et[it],g&=~ut;return ot}function vc(et,g){switch(et){case 1:case 2:case 4:return g+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(et,g){for(var it=et.suspendedLanes,ot=et.pingedLanes,ut=et.expirationTimes,ct=et.pendingLanes;0<ct;){var dt=31-oc(ct),ft=1<<dt,St=ut[dt];St===-1?(!(ft&it)||ft&ot)&&(ut[dt]=vc(ft,g)):St<=g&&(et.expiredLanes|=ft),ct&=~ft}}function xc(et){return et=et.pendingLanes&-1073741825,et!==0?et:et&1073741824?1073741824:0}function yc(){var et=rc;return rc<<=1,!(rc&4194240)&&(rc=64),et}function zc(et){for(var g=[],it=0;31>it;it++)g.push(et);return g}function Ac(et,g,it){et.pendingLanes|=g,g!==536870912&&(et.suspendedLanes=0,et.pingedLanes=0),et=et.eventTimes,g=31-oc(g),et[g]=it}function Bc(et,g){var it=et.pendingLanes&~g;et.pendingLanes=g,et.suspendedLanes=0,et.pingedLanes=0,et.expiredLanes&=g,et.mutableReadLanes&=g,et.entangledLanes&=g,g=et.entanglements;var ot=et.eventTimes;for(et=et.expirationTimes;0<it;){var ut=31-oc(it),ct=1<<ut;g[ut]=0,ot[ut]=-1,et[ut]=-1,it&=~ct}}function Cc(et,g){var it=et.entangledLanes|=g;for(et=et.entanglements;it;){var ot=31-oc(it),ut=1<<ot;ut&g|et[ot]&g&&(et[ot]|=g),it&=~ut}}var C$4=0;function Dc(et){return et&=-et,1<et?4<et?et&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(et,g){switch(et){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(g.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(g.pointerId)}}function Tc(et,g,it,ot,ut,ct){return et===null||et.nativeEvent!==ct?(et={blockedOn:g,domEventName:it,eventSystemFlags:ot,nativeEvent:ct,targetContainers:[ut]},g!==null&&(g=Cb(g),g!==null&&Fc(g)),et):(et.eventSystemFlags|=ot,g=et.targetContainers,ut!==null&&g.indexOf(ut)===-1&&g.push(ut),et)}function Uc(et,g,it,ot,ut){switch(g){case"focusin":return Lc=Tc(Lc,et,g,it,ot,ut),!0;case"dragenter":return Mc=Tc(Mc,et,g,it,ot,ut),!0;case"mouseover":return Nc=Tc(Nc,et,g,it,ot,ut),!0;case"pointerover":var ct=ut.pointerId;return Oc.set(ct,Tc(Oc.get(ct)||null,et,g,it,ot,ut)),!0;case"gotpointercapture":return ct=ut.pointerId,Pc.set(ct,Tc(Pc.get(ct)||null,et,g,it,ot,ut)),!0}return!1}function Vc(et){var g=Wc(et.target);if(g!==null){var it=Vb(g);if(it!==null){if(g=it.tag,g===13){if(g=Wb(it),g!==null){et.blockedOn=g,Ic(et.priority,function(){Gc(it)});return}}else if(g===3&&it.stateNode.current.memoizedState.isDehydrated){et.blockedOn=it.tag===3?it.stateNode.containerInfo:null;return}}}et.blockedOn=null}function Xc(et){if(et.blockedOn!==null)return!1;for(var g=et.targetContainers;0<g.length;){var it=Yc(et.domEventName,et.eventSystemFlags,g[0],et.nativeEvent);if(it===null){it=et.nativeEvent;var ot=new it.constructor(it.type,it);wb=ot,it.target.dispatchEvent(ot),wb=null}else return g=Cb(it),g!==null&&Fc(g),et.blockedOn=it,!1;g.shift()}return!0}function Zc(et,g,it){Xc(et)&&it.delete(g)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(et,g){et.blockedOn===g&&(et.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(et){function g(ut){return ad(ut,et)}if(0<Kc.length){ad(Kc[0],et);for(var it=1;it<Kc.length;it++){var ot=Kc[it];ot.blockedOn===et&&(ot.blockedOn=null)}}for(Lc!==null&&ad(Lc,et),Mc!==null&&ad(Mc,et),Nc!==null&&ad(Nc,et),Oc.forEach(g),Pc.forEach(g),it=0;it<Qc.length;it++)ot=Qc[it],ot.blockedOn===et&&(ot.blockedOn=null);for(;0<Qc.length&&(it=Qc[0],it.blockedOn===null);)Vc(it),it.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(et,g,it,ot){var ut=C$4,ct=cd.transition;cd.transition=null;try{C$4=1,fd(et,g,it,ot)}finally{C$4=ut,cd.transition=ct}}function gd(et,g,it,ot){var ut=C$4,ct=cd.transition;cd.transition=null;try{C$4=4,fd(et,g,it,ot)}finally{C$4=ut,cd.transition=ct}}function fd(et,g,it,ot){if(dd){var ut=Yc(et,g,it,ot);if(ut===null)hd(et,g,ot,id$2,it),Sc(et,ot);else if(Uc(ut,et,g,it,ot))ot.stopPropagation();else if(Sc(et,ot),g&4&&-1<Rc.indexOf(et)){for(;ut!==null;){var ct=Cb(ut);if(ct!==null&&Ec(ct),ct=Yc(et,g,it,ot),ct===null&&hd(et,g,ot,id$2,it),ct===ut)break;ut=ct}ut!==null&&ot.stopPropagation()}else hd(et,g,ot,null,it)}}var id$2=null;function Yc(et,g,it,ot){if(id$2=null,et=xb(ot),et=Wc(et),et!==null)if(g=Vb(et),g===null)et=null;else if(it=g.tag,it===13){if(et=Wb(g),et!==null)return et;et=null}else if(it===3){if(g.stateNode.current.memoizedState.isDehydrated)return g.tag===3?g.stateNode.containerInfo:null;et=null}else g!==et&&(et=null);return id$2=et,null}function jd(et){switch(et){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var et,g=ld,it=g.length,ot,ut="value"in kd?kd.value:kd.textContent,ct=ut.length;for(et=0;et<it&&g[et]===ut[et];et++);var dt=it-et;for(ot=1;ot<=dt&&g[it-ot]===ut[ct-ot];ot++);return md=ut.slice(et,1<ot?1-ot:void 0)}function od(et){var g=et.keyCode;return"charCode"in et?(et=et.charCode,et===0&&g===13&&(et=13)):et=g,et===10&&(et=13),32<=et||et===13?et:0}function pd(){return!0}function qd(){return!1}function rd(et){function g(it,ot,ut,ct,dt){this._reactName=it,this._targetInst=ut,this.type=ot,this.nativeEvent=ct,this.target=dt,this.currentTarget=null;for(var ft in et)et.hasOwnProperty(ft)&&(it=et[ft],this[ft]=it?it(ct):ct[ft]);return this.isDefaultPrevented=(ct.defaultPrevented!=null?ct.defaultPrevented:ct.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$2(g.prototype,{preventDefault:function(){this.defaultPrevented=!0;var it=this.nativeEvent;it&&(it.preventDefault?it.preventDefault():typeof it.returnValue!="unknown"&&(it.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var it=this.nativeEvent;it&&(it.stopPropagation?it.stopPropagation():typeof it.cancelBubble!="unknown"&&(it.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),g}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(et){return et.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$2({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$2({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(et){return et.relatedTarget===void 0?et.fromElement===et.srcElement?et.toElement:et.fromElement:et.relatedTarget},movementX:function(et){return"movementX"in et?et.movementX:(et!==yd&&(yd&&et.type==="mousemove"?(wd=et.screenX-yd.screenX,xd=et.screenY-yd.screenY):xd=wd=0,yd=et),wd)},movementY:function(et){return"movementY"in et?et.movementY:xd}}),Bd=rd(Ad),Cd=A$2({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$2({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$2({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$2({},sd,{clipboardData:function(et){return"clipboardData"in et?et.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$2({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(et){var g=this.nativeEvent;return g.getModifierState?g.getModifierState(et):(et=Od[et])?!!g[et]:!1}function zd(){return Pd}var Qd=A$2({},ud,{key:function(et){if(et.key){var g=Md[et.key]||et.key;if(g!=="Unidentified")return g}return et.type==="keypress"?(et=od(et),et===13?"Enter":String.fromCharCode(et)):et.type==="keydown"||et.type==="keyup"?Nd[et.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(et){return et.type==="keypress"?od(et):0},keyCode:function(et){return et.type==="keydown"||et.type==="keyup"?et.keyCode:0},which:function(et){return et.type==="keypress"?od(et):et.type==="keydown"||et.type==="keyup"?et.keyCode:0}}),Rd=rd(Qd),Sd=A$2({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$2({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$2({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$2({},Ad,{deltaX:function(et){return"deltaX"in et?et.deltaX:"wheelDeltaX"in et?-et.wheelDeltaX:0},deltaY:function(et){return"deltaY"in et?et.deltaY:"wheelDeltaY"in et?-et.wheelDeltaY:"wheelDelta"in et?-et.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de$1=ia&&(!ae||be&&8<be&&11>=be),ee$1=String.fromCharCode(32),fe$1=!1;function ge(et,g){switch(et){case"keyup":return $d.indexOf(g.keyCode)!==-1;case"keydown":return g.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$1(et){return et=et.detail,typeof et=="object"&&"data"in et?et.data:null}var ie=!1;function je$1(et,g){switch(et){case"compositionend":return he$1(g);case"keypress":return g.which!==32?null:(fe$1=!0,ee$1);case"textInput":return et=g.data,et===ee$1&&fe$1?null:et;default:return null}}function ke$1(et,g){if(ie)return et==="compositionend"||!ae&&ge(et,g)?(et=nd(),md=ld=kd=null,ie=!1,et):null;switch(et){case"paste":return null;case"keypress":if(!(g.ctrlKey||g.altKey||g.metaKey)||g.ctrlKey&&g.altKey){if(g.char&&1<g.char.length)return g.char;if(g.which)return String.fromCharCode(g.which)}return null;case"compositionend":return de$1&&g.locale!=="ko"?null:g.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$1(et){var g=et&&et.nodeName&&et.nodeName.toLowerCase();return g==="input"?!!le[et.type]:g==="textarea"}function ne(et,g,it,ot){Eb(ot),g=oe(g,"onChange"),0<g.length&&(it=new td("onChange","change",null,it,ot),et.push({event:it,listeners:g}))}var pe=null,qe=null;function re$2(et){se(et,0)}function te$2(et){var g=ue$1(et);if(Wa(g))return et}function ve(et,g){if(et==="change")return g}var we$1=!1;if(ia){var xe;if(ia){var ye$1="oninput"in document;if(!ye$1){var ze$1=document.createElement("div");ze$1.setAttribute("oninput","return;"),ye$1=typeof ze$1.oninput=="function"}xe=ye$1}else xe=!1;we$1=xe&&(!document.documentMode||9<document.documentMode)}function Ae$1(){pe&&(pe.detachEvent("onpropertychange",Be$1),qe=pe=null)}function Be$1(et){if(et.propertyName==="value"&&te$2(qe)){var g=[];ne(g,qe,et,xb(et)),Jb(re$2,g)}}function Ce(et,g,it){et==="focusin"?(Ae$1(),pe=g,qe=it,pe.attachEvent("onpropertychange",Be$1)):et==="focusout"&&Ae$1()}function De$1(et){if(et==="selectionchange"||et==="keyup"||et==="keydown")return te$2(qe)}function Ee(et,g){if(et==="click")return te$2(g)}function Fe$1(et,g){if(et==="input"||et==="change")return te$2(g)}function Ge$1(et,g){return et===g&&(et!==0||1/et===1/g)||et!==et&&g!==g}var He$2=typeof Object.is=="function"?Object.is:Ge$1;function Ie$2(et,g){if(He$2(et,g))return!0;if(typeof et!="object"||et===null||typeof g!="object"||g===null)return!1;var it=Object.keys(et),ot=Object.keys(g);if(it.length!==ot.length)return!1;for(ot=0;ot<it.length;ot++){var ut=it[ot];if(!ja.call(g,ut)||!He$2(et[ut],g[ut]))return!1}return!0}function Je(et){for(;et&&et.firstChild;)et=et.firstChild;return et}function Ke(et,g){var it=Je(et);et=0;for(var ot;it;){if(it.nodeType===3){if(ot=et+it.textContent.length,et<=g&&ot>=g)return{node:it,offset:g-et};et=ot}e:{for(;it;){if(it.nextSibling){it=it.nextSibling;break e}it=it.parentNode}it=void 0}it=Je(it)}}function Le$1(et,g){return et&&g?et===g?!0:et&&et.nodeType===3?!1:g&&g.nodeType===3?Le$1(et,g.parentNode):"contains"in et?et.contains(g):et.compareDocumentPosition?!!(et.compareDocumentPosition(g)&16):!1:!1}function Me$1(){for(var et=window,g=Xa();g instanceof et.HTMLIFrameElement;){try{var it=typeof g.contentWindow.location.href=="string"}catch{it=!1}if(it)et=g.contentWindow;else break;g=Xa(et.document)}return g}function Ne$1(et){var g=et&&et.nodeName&&et.nodeName.toLowerCase();return g&&(g==="input"&&(et.type==="text"||et.type==="search"||et.type==="tel"||et.type==="url"||et.type==="password")||g==="textarea"||et.contentEditable==="true")}function Oe$1(et){var g=Me$1(),it=et.focusedElem,ot=et.selectionRange;if(g!==it&&it&&it.ownerDocument&&Le$1(it.ownerDocument.documentElement,it)){if(ot!==null&&Ne$1(it)){if(g=ot.start,et=ot.end,et===void 0&&(et=g),"selectionStart"in it)it.selectionStart=g,it.selectionEnd=Math.min(et,it.value.length);else if(et=(g=it.ownerDocument||document)&&g.defaultView||window,et.getSelection){et=et.getSelection();var ut=it.textContent.length,ct=Math.min(ot.start,ut);ot=ot.end===void 0?ct:Math.min(ot.end,ut),!et.extend&&ct>ot&&(ut=ot,ot=ct,ct=ut),ut=Ke(it,ct);var dt=Ke(it,ot);ut&&dt&&(et.rangeCount!==1||et.anchorNode!==ut.node||et.anchorOffset!==ut.offset||et.focusNode!==dt.node||et.focusOffset!==dt.offset)&&(g=g.createRange(),g.setStart(ut.node,ut.offset),et.removeAllRanges(),ct>ot?(et.addRange(g),et.extend(dt.node,dt.offset)):(g.setEnd(dt.node,dt.offset),et.addRange(g)))}}for(g=[],et=it;et=et.parentNode;)et.nodeType===1&&g.push({element:et,left:et.scrollLeft,top:et.scrollTop});for(typeof it.focus=="function"&&it.focus(),it=0;it<g.length;it++)et=g[it],et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se$1=null,Te$1=!1;function Ue$1(et,g,it){var ot=it.window===it?it.document:it.nodeType===9?it:it.ownerDocument;Te$1||Qe==null||Qe!==Xa(ot)||(ot=Qe,"selectionStart"in ot&&Ne$1(ot)?ot={start:ot.selectionStart,end:ot.selectionEnd}:(ot=(ot.ownerDocument&&ot.ownerDocument.defaultView||window).getSelection(),ot={anchorNode:ot.anchorNode,anchorOffset:ot.anchorOffset,focusNode:ot.focusNode,focusOffset:ot.focusOffset}),Se$1&&Ie$2(Se$1,ot)||(Se$1=ot,ot=oe(Re,"onSelect"),0<ot.length&&(g=new td("onSelect","select",null,g,it),et.push({event:g,listeners:ot}),g.target=Qe)))}function Ve(et,g){var it={};return it[et.toLowerCase()]=g.toLowerCase(),it["Webkit"+et]="webkit"+g,it["Moz"+et]="moz"+g,it}var We$1={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye$1={};ia&&(Ye$1=document.createElement("div").style,"AnimationEvent"in window||(delete We$1.animationend.animation,delete We$1.animationiteration.animation,delete We$1.animationstart.animation),"TransitionEvent"in window||delete We$1.transitionend.transition);function Ze(et){if(Xe[et])return Xe[et];if(!We$1[et])return et;var g=We$1[et],it;for(it in g)if(g.hasOwnProperty(it)&&it in Ye$1)return Xe[et]=g[it];return et}var $e$1=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(et,g){df.set(et,g),fa(g,[et])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e$1,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(et,g,it){var ot=et.type||"unknown-event";et.currentTarget=it,Ub(ot,g,void 0,et),et.currentTarget=null}function se(et,g){g=(g&4)!==0;for(var it=0;it<et.length;it++){var ot=et[it],ut=ot.event;ot=ot.listeners;e:{var ct=void 0;if(g)for(var dt=ot.length-1;0<=dt;dt--){var ft=ot[dt],St=ft.instance,Tt=ft.currentTarget;if(ft=ft.listener,St!==ct&&ut.isPropagationStopped())break e;nf(ut,ft,Tt),ct=St}else for(dt=0;dt<ot.length;dt++){if(ft=ot[dt],St=ft.instance,Tt=ft.currentTarget,ft=ft.listener,St!==ct&&ut.isPropagationStopped())break e;nf(ut,ft,Tt),ct=St}}}if(Qb)throw et=Rb,Qb=!1,Rb=null,et}function D$1(et,g){var it=g[of];it===void 0&&(it=g[of]=new Set);var ot=et+"__bubble";it.has(ot)||(pf(g,et,2,!1),it.add(ot))}function qf(et,g,it){var ot=0;g&&(ot|=4),pf(it,et,ot,g)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(et){if(!et[rf]){et[rf]=!0,da.forEach(function(it){it!=="selectionchange"&&(mf.has(it)||qf(it,!1,et),qf(it,!0,et))});var g=et.nodeType===9?et:et.ownerDocument;g===null||g[rf]||(g[rf]=!0,qf("selectionchange",!1,g))}}function pf(et,g,it,ot){switch(jd(g)){case 1:var ut=ed;break;case 4:ut=gd;break;default:ut=fd}it=ut.bind(null,g,it,et),ut=void 0,!Lb||g!=="touchstart"&&g!=="touchmove"&&g!=="wheel"||(ut=!0),ot?ut!==void 0?et.addEventListener(g,it,{capture:!0,passive:ut}):et.addEventListener(g,it,!0):ut!==void 0?et.addEventListener(g,it,{passive:ut}):et.addEventListener(g,it,!1)}function hd(et,g,it,ot,ut){var ct=ot;if(!(g&1)&&!(g&2)&&ot!==null)e:for(;;){if(ot===null)return;var dt=ot.tag;if(dt===3||dt===4){var ft=ot.stateNode.containerInfo;if(ft===ut||ft.nodeType===8&&ft.parentNode===ut)break;if(dt===4)for(dt=ot.return;dt!==null;){var St=dt.tag;if((St===3||St===4)&&(St=dt.stateNode.containerInfo,St===ut||St.nodeType===8&&St.parentNode===ut))return;dt=dt.return}for(;ft!==null;){if(dt=Wc(ft),dt===null)return;if(St=dt.tag,St===5||St===6){ot=ct=dt;continue e}ft=ft.parentNode}}ot=ot.return}Jb(function(){var Tt=ct,kt=xb(it),jt=[];e:{var Rt=df.get(et);if(Rt!==void 0){var $t=td,zt=et;switch(et){case"keypress":if(od(it)===0)break e;case"keydown":case"keyup":$t=Rd;break;case"focusin":zt="focus",$t=Fd;break;case"focusout":zt="blur",$t=Fd;break;case"beforeblur":case"afterblur":$t=Fd;break;case"click":if(it.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$t=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$t=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$t=Vd;break;case $e$1:case af:case bf:$t=Hd;break;case cf:$t=Xd;break;case"scroll":$t=vd;break;case"wheel":$t=Zd;break;case"copy":case"cut":case"paste":$t=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$t=Td}var Ht=(g&4)!==0,Zt=!Ht&&et==="scroll",Bt=Ht?Rt!==null?Rt+"Capture":null:Rt;Ht=[];for(var Ut=Tt,Kt;Ut!==null;){Kt=Ut;var Yt=Kt.stateNode;if(Kt.tag===5&&Yt!==null&&(Kt=Yt,Bt!==null&&(Yt=Kb(Ut,Bt),Yt!=null&&Ht.push(tf(Ut,Yt,Kt)))),Zt)break;Ut=Ut.return}0<Ht.length&&(Rt=new $t(Rt,zt,null,it,kt),jt.push({event:Rt,listeners:Ht}))}}if(!(g&7)){e:{if(Rt=et==="mouseover"||et==="pointerover",$t=et==="mouseout"||et==="pointerout",Rt&&it!==wb&&(zt=it.relatedTarget||it.fromElement)&&(Wc(zt)||zt[uf]))break e;if(($t||Rt)&&(Rt=kt.window===kt?kt:(Rt=kt.ownerDocument)?Rt.defaultView||Rt.parentWindow:window,$t?(zt=it.relatedTarget||it.toElement,$t=Tt,zt=zt?Wc(zt):null,zt!==null&&(Zt=Vb(zt),zt!==Zt||zt.tag!==5&&zt.tag!==6)&&(zt=null)):($t=null,zt=Tt),$t!==zt)){if(Ht=Bd,Yt="onMouseLeave",Bt="onMouseEnter",Ut="mouse",(et==="pointerout"||et==="pointerover")&&(Ht=Td,Yt="onPointerLeave",Bt="onPointerEnter",Ut="pointer"),Zt=$t==null?Rt:ue$1($t),Kt=zt==null?Rt:ue$1(zt),Rt=new Ht(Yt,Ut+"leave",$t,it,kt),Rt.target=Zt,Rt.relatedTarget=Kt,Yt=null,Wc(kt)===Tt&&(Ht=new Ht(Bt,Ut+"enter",zt,it,kt),Ht.target=Kt,Ht.relatedTarget=Zt,Yt=Ht),Zt=Yt,$t&&zt)t:{for(Ht=$t,Bt=zt,Ut=0,Kt=Ht;Kt;Kt=vf(Kt))Ut++;for(Kt=0,Yt=Bt;Yt;Yt=vf(Yt))Kt++;for(;0<Ut-Kt;)Ht=vf(Ht),Ut--;for(;0<Kt-Ut;)Bt=vf(Bt),Kt--;for(;Ut--;){if(Ht===Bt||Bt!==null&&Ht===Bt.alternate)break t;Ht=vf(Ht),Bt=vf(Bt)}Ht=null}else Ht=null;$t!==null&&wf(jt,Rt,$t,Ht,!1),zt!==null&&Zt!==null&&wf(jt,Zt,zt,Ht,!0)}}e:{if(Rt=Tt?ue$1(Tt):window,$t=Rt.nodeName&&Rt.nodeName.toLowerCase(),$t==="select"||$t==="input"&&Rt.type==="file")var Jt=ve;else if(me$1(Rt))if(we$1)Jt=Fe$1;else{Jt=De$1;var er=Ce}else($t=Rt.nodeName)&&$t.toLowerCase()==="input"&&(Rt.type==="checkbox"||Rt.type==="radio")&&(Jt=Ee);if(Jt&&(Jt=Jt(et,Tt))){ne(jt,Jt,it,kt);break e}er&&er(et,Rt,Tt),et==="focusout"&&(er=Rt._wrapperState)&&er.controlled&&Rt.type==="number"&&cb(Rt,"number",Rt.value)}switch(er=Tt?ue$1(Tt):window,et){case"focusin":(me$1(er)||er.contentEditable==="true")&&(Qe=er,Re=Tt,Se$1=null);break;case"focusout":Se$1=Re=Qe=null;break;case"mousedown":Te$1=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$1=!1,Ue$1(jt,it,kt);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue$1(jt,it,kt)}var tr;if(ae)e:{switch(et){case"compositionstart":var rr="onCompositionStart";break e;case"compositionend":rr="onCompositionEnd";break e;case"compositionupdate":rr="onCompositionUpdate";break e}rr=void 0}else ie?ge(et,it)&&(rr="onCompositionEnd"):et==="keydown"&&it.keyCode===229&&(rr="onCompositionStart");rr&&(de$1&&it.locale!=="ko"&&(ie||rr!=="onCompositionStart"?rr==="onCompositionEnd"&&ie&&(tr=nd()):(kd=kt,ld="value"in kd?kd.value:kd.textContent,ie=!0)),er=oe(Tt,rr),0<er.length&&(rr=new Ld(rr,et,null,it,kt),jt.push({event:rr,listeners:er}),tr?rr.data=tr:(tr=he$1(it),tr!==null&&(rr.data=tr)))),(tr=ce?je$1(et,it):ke$1(et,it))&&(Tt=oe(Tt,"onBeforeInput"),0<Tt.length&&(kt=new Ld("onBeforeInput","beforeinput",null,it,kt),jt.push({event:kt,listeners:Tt}),kt.data=tr))}se(jt,g)})}function tf(et,g,it){return{instance:et,listener:g,currentTarget:it}}function oe(et,g){for(var it=g+"Capture",ot=[];et!==null;){var ut=et,ct=ut.stateNode;ut.tag===5&&ct!==null&&(ut=ct,ct=Kb(et,it),ct!=null&&ot.unshift(tf(et,ct,ut)),ct=Kb(et,g),ct!=null&&ot.push(tf(et,ct,ut))),et=et.return}return ot}function vf(et){if(et===null)return null;do et=et.return;while(et&&et.tag!==5);return et||null}function wf(et,g,it,ot,ut){for(var ct=g._reactName,dt=[];it!==null&&it!==ot;){var ft=it,St=ft.alternate,Tt=ft.stateNode;if(St!==null&&St===ot)break;ft.tag===5&&Tt!==null&&(ft=Tt,ut?(St=Kb(it,ct),St!=null&&dt.unshift(tf(it,St,ft))):ut||(St=Kb(it,ct),St!=null&&dt.push(tf(it,St,ft)))),it=it.return}dt.length!==0&&et.push({event:g,listeners:dt})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(et){return(typeof et=="string"?et:""+et).replace(xf,`
`).replace(yf,"")}function Af(et,g,it){if(g=zf(g),zf(et)!==g&&it)throw Error(p$3(425))}function Bf(){}var Cf=null,Df=null;function Ef(et,g){return et==="textarea"||et==="noscript"||typeof g.children=="string"||typeof g.children=="number"||typeof g.dangerouslySetInnerHTML=="object"&&g.dangerouslySetInnerHTML!==null&&g.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(et){return Hf.resolve(null).then(et).catch(If)}:Ff;function If(et){setTimeout(function(){throw et})}function Kf(et,g){var it=g,ot=0;do{var ut=it.nextSibling;if(et.removeChild(it),ut&&ut.nodeType===8)if(it=ut.data,it==="/$"){if(ot===0){et.removeChild(ut),bd(g);return}ot--}else it!=="$"&&it!=="$?"&&it!=="$!"||ot++;it=ut}while(it);bd(g)}function Lf(et){for(;et!=null;et=et.nextSibling){var g=et.nodeType;if(g===1||g===3)break;if(g===8){if(g=et.data,g==="$"||g==="$!"||g==="$?")break;if(g==="/$")return null}}return et}function Mf(et){et=et.previousSibling;for(var g=0;et;){if(et.nodeType===8){var it=et.data;if(it==="$"||it==="$!"||it==="$?"){if(g===0)return et;g--}else it==="/$"&&g++}et=et.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(et){var g=et[Of];if(g)return g;for(var it=et.parentNode;it;){if(g=it[uf]||it[Of]){if(it=g.alternate,g.child!==null||it!==null&&it.child!==null)for(et=Mf(et);et!==null;){if(it=et[Of])return it;et=Mf(et)}return g}et=it,it=et.parentNode}return null}function Cb(et){return et=et[Of]||et[uf],!et||et.tag!==5&&et.tag!==6&&et.tag!==13&&et.tag!==3?null:et}function ue$1(et){if(et.tag===5||et.tag===6)return et.stateNode;throw Error(p$3(33))}function Db(et){return et[Pf]||null}var Sf=[],Tf=-1;function Uf(et){return{current:et}}function E$2(et){0>Tf||(et.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$1(et,g){Tf++,Sf[Tf]=et.current,et.current=g}var Vf={},H$3=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(et,g){var it=et.type.contextTypes;if(!it)return Vf;var ot=et.stateNode;if(ot&&ot.__reactInternalMemoizedUnmaskedChildContext===g)return ot.__reactInternalMemoizedMaskedChildContext;var ut={},ct;for(ct in it)ut[ct]=g[ct];return ot&&(et=et.stateNode,et.__reactInternalMemoizedUnmaskedChildContext=g,et.__reactInternalMemoizedMaskedChildContext=ut),ut}function Zf(et){return et=et.childContextTypes,et!=null}function $f(){E$2(Wf),E$2(H$3)}function ag(et,g,it){if(H$3.current!==Vf)throw Error(p$3(168));G$1(H$3,g),G$1(Wf,it)}function bg(et,g,it){var ot=et.stateNode;if(g=g.childContextTypes,typeof ot.getChildContext!="function")return it;ot=ot.getChildContext();for(var ut in ot)if(!(ut in g))throw Error(p$3(108,Ra(et)||"Unknown",ut));return A$2({},it,ot)}function cg(et){return et=(et=et.stateNode)&&et.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$3.current,G$1(H$3,et),G$1(Wf,Wf.current),!0}function dg(et,g,it){var ot=et.stateNode;if(!ot)throw Error(p$3(169));it?(et=bg(et,g,Xf),ot.__reactInternalMemoizedMergedChildContext=et,E$2(Wf),E$2(H$3),G$1(H$3,et)):E$2(Wf),G$1(Wf,it)}var eg=null,fg=!1,gg=!1;function hg(et){eg===null?eg=[et]:eg.push(et)}function ig(et){fg=!0,hg(et)}function jg(){if(!gg&&eg!==null){gg=!0;var et=0,g=C$4;try{var it=eg;for(C$4=1;et<it.length;et++){var ot=it[et];do ot=ot(!0);while(ot!==null)}eg=null,fg=!1}catch(ut){throw eg!==null&&(eg=eg.slice(et+1)),ac(fc,jg),ut}finally{C$4=g,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(et,g){kg[lg++]=ng,kg[lg++]=mg,mg=et,ng=g}function ug(et,g,it){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=et;var ot=rg;et=sg;var ut=32-oc(ot)-1;ot&=~(1<<ut),it+=1;var ct=32-oc(g)+ut;if(30<ct){var dt=ut-ut%5;ct=(ot&(1<<dt)-1).toString(32),ot>>=dt,ut-=dt,rg=1<<32-oc(g)+ut|it<<ut|ot,sg=ct+et}else rg=1<<ct|it<<ut|ot,sg=et}function vg(et){et.return!==null&&(tg(et,1),ug(et,1,0))}function wg(et){for(;et===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;et===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$4=!1,zg=null;function Ag(et,g){var it=Bg(5,null,null,0);it.elementType="DELETED",it.stateNode=g,it.return=et,g=et.deletions,g===null?(et.deletions=[it],et.flags|=16):g.push(it)}function Cg(et,g){switch(et.tag){case 5:var it=et.type;return g=g.nodeType!==1||it.toLowerCase()!==g.nodeName.toLowerCase()?null:g,g!==null?(et.stateNode=g,xg=et,yg=Lf(g.firstChild),!0):!1;case 6:return g=et.pendingProps===""||g.nodeType!==3?null:g,g!==null?(et.stateNode=g,xg=et,yg=null,!0):!1;case 13:return g=g.nodeType!==8?null:g,g!==null?(it=qg!==null?{id:rg,overflow:sg}:null,et.memoizedState={dehydrated:g,treeContext:it,retryLane:1073741824},it=Bg(18,null,null,0),it.stateNode=g,it.return=et,et.child=it,xg=et,yg=null,!0):!1;default:return!1}}function Dg(et){return(et.mode&1)!==0&&(et.flags&128)===0}function Eg(et){if(I$4){var g=yg;if(g){var it=g;if(!Cg(et,g)){if(Dg(et))throw Error(p$3(418));g=Lf(it.nextSibling);var ot=xg;g&&Cg(et,g)?Ag(ot,it):(et.flags=et.flags&-4097|2,I$4=!1,xg=et)}}else{if(Dg(et))throw Error(p$3(418));et.flags=et.flags&-4097|2,I$4=!1,xg=et}}}function Fg(et){for(et=et.return;et!==null&&et.tag!==5&&et.tag!==3&&et.tag!==13;)et=et.return;xg=et}function Gg(et){if(et!==xg)return!1;if(!I$4)return Fg(et),I$4=!0,!1;var g;if((g=et.tag!==3)&&!(g=et.tag!==5)&&(g=et.type,g=g!=="head"&&g!=="body"&&!Ef(et.type,et.memoizedProps)),g&&(g=yg)){if(Dg(et))throw Hg(),Error(p$3(418));for(;g;)Ag(et,g),g=Lf(g.nextSibling)}if(Fg(et),et.tag===13){if(et=et.memoizedState,et=et!==null?et.dehydrated:null,!et)throw Error(p$3(317));e:{for(et=et.nextSibling,g=0;et;){if(et.nodeType===8){var it=et.data;if(it==="/$"){if(g===0){yg=Lf(et.nextSibling);break e}g--}else it!=="$"&&it!=="$!"&&it!=="$?"||g++}et=et.nextSibling}yg=null}}else yg=xg?Lf(et.stateNode.nextSibling):null;return!0}function Hg(){for(var et=yg;et;)et=Lf(et.nextSibling)}function Ig(){yg=xg=null,I$4=!1}function Jg(et){zg===null?zg=[et]:zg.push(et)}var Kg=ua.ReactCurrentBatchConfig;function Lg(et,g,it){if(et=it.ref,et!==null&&typeof et!="function"&&typeof et!="object"){if(it._owner){if(it=it._owner,it){if(it.tag!==1)throw Error(p$3(309));var ot=it.stateNode}if(!ot)throw Error(p$3(147,et));var ut=ot,ct=""+et;return g!==null&&g.ref!==null&&typeof g.ref=="function"&&g.ref._stringRef===ct?g.ref:(g=function(dt){var ft=ut.refs;dt===null?delete ft[ct]:ft[ct]=dt},g._stringRef=ct,g)}if(typeof et!="string")throw Error(p$3(284));if(!it._owner)throw Error(p$3(290,et))}return et}function Mg(et,g){throw et=Object.prototype.toString.call(g),Error(p$3(31,et==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":et))}function Ng(et){var g=et._init;return g(et._payload)}function Og(et){function g(Bt,Ut){if(et){var Kt=Bt.deletions;Kt===null?(Bt.deletions=[Ut],Bt.flags|=16):Kt.push(Ut)}}function it(Bt,Ut){if(!et)return null;for(;Ut!==null;)g(Bt,Ut),Ut=Ut.sibling;return null}function ot(Bt,Ut){for(Bt=new Map;Ut!==null;)Ut.key!==null?Bt.set(Ut.key,Ut):Bt.set(Ut.index,Ut),Ut=Ut.sibling;return Bt}function ut(Bt,Ut){return Bt=Pg(Bt,Ut),Bt.index=0,Bt.sibling=null,Bt}function ct(Bt,Ut,Kt){return Bt.index=Kt,et?(Kt=Bt.alternate,Kt!==null?(Kt=Kt.index,Kt<Ut?(Bt.flags|=2,Ut):Kt):(Bt.flags|=2,Ut)):(Bt.flags|=1048576,Ut)}function dt(Bt){return et&&Bt.alternate===null&&(Bt.flags|=2),Bt}function ft(Bt,Ut,Kt,Yt){return Ut===null||Ut.tag!==6?(Ut=Qg(Kt,Bt.mode,Yt),Ut.return=Bt,Ut):(Ut=ut(Ut,Kt),Ut.return=Bt,Ut)}function St(Bt,Ut,Kt,Yt){var Jt=Kt.type;return Jt===ya?kt(Bt,Ut,Kt.props.children,Yt,Kt.key):Ut!==null&&(Ut.elementType===Jt||typeof Jt=="object"&&Jt!==null&&Jt.$$typeof===Ha&&Ng(Jt)===Ut.type)?(Yt=ut(Ut,Kt.props),Yt.ref=Lg(Bt,Ut,Kt),Yt.return=Bt,Yt):(Yt=Rg(Kt.type,Kt.key,Kt.props,null,Bt.mode,Yt),Yt.ref=Lg(Bt,Ut,Kt),Yt.return=Bt,Yt)}function Tt(Bt,Ut,Kt,Yt){return Ut===null||Ut.tag!==4||Ut.stateNode.containerInfo!==Kt.containerInfo||Ut.stateNode.implementation!==Kt.implementation?(Ut=Sg(Kt,Bt.mode,Yt),Ut.return=Bt,Ut):(Ut=ut(Ut,Kt.children||[]),Ut.return=Bt,Ut)}function kt(Bt,Ut,Kt,Yt,Jt){return Ut===null||Ut.tag!==7?(Ut=Tg(Kt,Bt.mode,Yt,Jt),Ut.return=Bt,Ut):(Ut=ut(Ut,Kt),Ut.return=Bt,Ut)}function jt(Bt,Ut,Kt){if(typeof Ut=="string"&&Ut!==""||typeof Ut=="number")return Ut=Qg(""+Ut,Bt.mode,Kt),Ut.return=Bt,Ut;if(typeof Ut=="object"&&Ut!==null){switch(Ut.$$typeof){case va:return Kt=Rg(Ut.type,Ut.key,Ut.props,null,Bt.mode,Kt),Kt.ref=Lg(Bt,null,Ut),Kt.return=Bt,Kt;case wa:return Ut=Sg(Ut,Bt.mode,Kt),Ut.return=Bt,Ut;case Ha:var Yt=Ut._init;return jt(Bt,Yt(Ut._payload),Kt)}if(eb(Ut)||Ka(Ut))return Ut=Tg(Ut,Bt.mode,Kt,null),Ut.return=Bt,Ut;Mg(Bt,Ut)}return null}function Rt(Bt,Ut,Kt,Yt){var Jt=Ut!==null?Ut.key:null;if(typeof Kt=="string"&&Kt!==""||typeof Kt=="number")return Jt!==null?null:ft(Bt,Ut,""+Kt,Yt);if(typeof Kt=="object"&&Kt!==null){switch(Kt.$$typeof){case va:return Kt.key===Jt?St(Bt,Ut,Kt,Yt):null;case wa:return Kt.key===Jt?Tt(Bt,Ut,Kt,Yt):null;case Ha:return Jt=Kt._init,Rt(Bt,Ut,Jt(Kt._payload),Yt)}if(eb(Kt)||Ka(Kt))return Jt!==null?null:kt(Bt,Ut,Kt,Yt,null);Mg(Bt,Kt)}return null}function $t(Bt,Ut,Kt,Yt,Jt){if(typeof Yt=="string"&&Yt!==""||typeof Yt=="number")return Bt=Bt.get(Kt)||null,ft(Ut,Bt,""+Yt,Jt);if(typeof Yt=="object"&&Yt!==null){switch(Yt.$$typeof){case va:return Bt=Bt.get(Yt.key===null?Kt:Yt.key)||null,St(Ut,Bt,Yt,Jt);case wa:return Bt=Bt.get(Yt.key===null?Kt:Yt.key)||null,Tt(Ut,Bt,Yt,Jt);case Ha:var er=Yt._init;return $t(Bt,Ut,Kt,er(Yt._payload),Jt)}if(eb(Yt)||Ka(Yt))return Bt=Bt.get(Kt)||null,kt(Ut,Bt,Yt,Jt,null);Mg(Ut,Yt)}return null}function zt(Bt,Ut,Kt,Yt){for(var Jt=null,er=null,tr=Ut,rr=Ut=0,hr=null;tr!==null&&rr<Kt.length;rr++){tr.index>rr?(hr=tr,tr=null):hr=tr.sibling;var ar=Rt(Bt,tr,Kt[rr],Yt);if(ar===null){tr===null&&(tr=hr);break}et&&tr&&ar.alternate===null&&g(Bt,tr),Ut=ct(ar,Ut,rr),er===null?Jt=ar:er.sibling=ar,er=ar,tr=hr}if(rr===Kt.length)return it(Bt,tr),I$4&&tg(Bt,rr),Jt;if(tr===null){for(;rr<Kt.length;rr++)tr=jt(Bt,Kt[rr],Yt),tr!==null&&(Ut=ct(tr,Ut,rr),er===null?Jt=tr:er.sibling=tr,er=tr);return I$4&&tg(Bt,rr),Jt}for(tr=ot(Bt,tr);rr<Kt.length;rr++)hr=$t(tr,Bt,rr,Kt[rr],Yt),hr!==null&&(et&&hr.alternate!==null&&tr.delete(hr.key===null?rr:hr.key),Ut=ct(hr,Ut,rr),er===null?Jt=hr:er.sibling=hr,er=hr);return et&&tr.forEach(function(or){return g(Bt,or)}),I$4&&tg(Bt,rr),Jt}function Ht(Bt,Ut,Kt,Yt){var Jt=Ka(Kt);if(typeof Jt!="function")throw Error(p$3(150));if(Kt=Jt.call(Kt),Kt==null)throw Error(p$3(151));for(var er=Jt=null,tr=Ut,rr=Ut=0,hr=null,ar=Kt.next();tr!==null&&!ar.done;rr++,ar=Kt.next()){tr.index>rr?(hr=tr,tr=null):hr=tr.sibling;var or=Rt(Bt,tr,ar.value,Yt);if(or===null){tr===null&&(tr=hr);break}et&&tr&&or.alternate===null&&g(Bt,tr),Ut=ct(or,Ut,rr),er===null?Jt=or:er.sibling=or,er=or,tr=hr}if(ar.done)return it(Bt,tr),I$4&&tg(Bt,rr),Jt;if(tr===null){for(;!ar.done;rr++,ar=Kt.next())ar=jt(Bt,ar.value,Yt),ar!==null&&(Ut=ct(ar,Ut,rr),er===null?Jt=ar:er.sibling=ar,er=ar);return I$4&&tg(Bt,rr),Jt}for(tr=ot(Bt,tr);!ar.done;rr++,ar=Kt.next())ar=$t(tr,Bt,rr,ar.value,Yt),ar!==null&&(et&&ar.alternate!==null&&tr.delete(ar.key===null?rr:ar.key),Ut=ct(ar,Ut,rr),er===null?Jt=ar:er.sibling=ar,er=ar);return et&&tr.forEach(function(cr){return g(Bt,cr)}),I$4&&tg(Bt,rr),Jt}function Zt(Bt,Ut,Kt,Yt){if(typeof Kt=="object"&&Kt!==null&&Kt.type===ya&&Kt.key===null&&(Kt=Kt.props.children),typeof Kt=="object"&&Kt!==null){switch(Kt.$$typeof){case va:e:{for(var Jt=Kt.key,er=Ut;er!==null;){if(er.key===Jt){if(Jt=Kt.type,Jt===ya){if(er.tag===7){it(Bt,er.sibling),Ut=ut(er,Kt.props.children),Ut.return=Bt,Bt=Ut;break e}}else if(er.elementType===Jt||typeof Jt=="object"&&Jt!==null&&Jt.$$typeof===Ha&&Ng(Jt)===er.type){it(Bt,er.sibling),Ut=ut(er,Kt.props),Ut.ref=Lg(Bt,er,Kt),Ut.return=Bt,Bt=Ut;break e}it(Bt,er);break}else g(Bt,er);er=er.sibling}Kt.type===ya?(Ut=Tg(Kt.props.children,Bt.mode,Yt,Kt.key),Ut.return=Bt,Bt=Ut):(Yt=Rg(Kt.type,Kt.key,Kt.props,null,Bt.mode,Yt),Yt.ref=Lg(Bt,Ut,Kt),Yt.return=Bt,Bt=Yt)}return dt(Bt);case wa:e:{for(er=Kt.key;Ut!==null;){if(Ut.key===er)if(Ut.tag===4&&Ut.stateNode.containerInfo===Kt.containerInfo&&Ut.stateNode.implementation===Kt.implementation){it(Bt,Ut.sibling),Ut=ut(Ut,Kt.children||[]),Ut.return=Bt,Bt=Ut;break e}else{it(Bt,Ut);break}else g(Bt,Ut);Ut=Ut.sibling}Ut=Sg(Kt,Bt.mode,Yt),Ut.return=Bt,Bt=Ut}return dt(Bt);case Ha:return er=Kt._init,Zt(Bt,Ut,er(Kt._payload),Yt)}if(eb(Kt))return zt(Bt,Ut,Kt,Yt);if(Ka(Kt))return Ht(Bt,Ut,Kt,Yt);Mg(Bt,Kt)}return typeof Kt=="string"&&Kt!==""||typeof Kt=="number"?(Kt=""+Kt,Ut!==null&&Ut.tag===6?(it(Bt,Ut.sibling),Ut=ut(Ut,Kt),Ut.return=Bt,Bt=Ut):(it(Bt,Ut),Ut=Qg(Kt,Bt.mode,Yt),Ut.return=Bt,Bt=Ut),dt(Bt)):it(Bt,Ut)}return Zt}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(et){var g=Wg.current;E$2(Wg),et._currentValue=g}function bh(et,g,it){for(;et!==null;){var ot=et.alternate;if((et.childLanes&g)!==g?(et.childLanes|=g,ot!==null&&(ot.childLanes|=g)):ot!==null&&(ot.childLanes&g)!==g&&(ot.childLanes|=g),et===it)break;et=et.return}}function ch(et,g){Xg=et,Zg=Yg=null,et=et.dependencies,et!==null&&et.firstContext!==null&&(et.lanes&g&&(dh=!0),et.firstContext=null)}function eh(et){var g=et._currentValue;if(Zg!==et)if(et={context:et,memoizedValue:g,next:null},Yg===null){if(Xg===null)throw Error(p$3(308));Yg=et,Xg.dependencies={lanes:0,firstContext:et}}else Yg=Yg.next=et;return g}var fh=null;function gh(et){fh===null?fh=[et]:fh.push(et)}function hh(et,g,it,ot){var ut=g.interleaved;return ut===null?(it.next=it,gh(g)):(it.next=ut.next,ut.next=it),g.interleaved=it,ih(et,ot)}function ih(et,g){et.lanes|=g;var it=et.alternate;for(it!==null&&(it.lanes|=g),it=et,et=et.return;et!==null;)et.childLanes|=g,it=et.alternate,it!==null&&(it.childLanes|=g),it=et,et=et.return;return it.tag===3?it.stateNode:null}var jh=!1;function kh(et){et.updateQueue={baseState:et.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(et,g){et=et.updateQueue,g.updateQueue===et&&(g.updateQueue={baseState:et.baseState,firstBaseUpdate:et.firstBaseUpdate,lastBaseUpdate:et.lastBaseUpdate,shared:et.shared,effects:et.effects})}function mh(et,g){return{eventTime:et,lane:g,tag:0,payload:null,callback:null,next:null}}function nh(et,g,it){var ot=et.updateQueue;if(ot===null)return null;if(ot=ot.shared,K$2&2){var ut=ot.pending;return ut===null?g.next=g:(g.next=ut.next,ut.next=g),ot.pending=g,ih(et,it)}return ut=ot.interleaved,ut===null?(g.next=g,gh(ot)):(g.next=ut.next,ut.next=g),ot.interleaved=g,ih(et,it)}function oh(et,g,it){if(g=g.updateQueue,g!==null&&(g=g.shared,(it&4194240)!==0)){var ot=g.lanes;ot&=et.pendingLanes,it|=ot,g.lanes=it,Cc(et,it)}}function ph(et,g){var it=et.updateQueue,ot=et.alternate;if(ot!==null&&(ot=ot.updateQueue,it===ot)){var ut=null,ct=null;if(it=it.firstBaseUpdate,it!==null){do{var dt={eventTime:it.eventTime,lane:it.lane,tag:it.tag,payload:it.payload,callback:it.callback,next:null};ct===null?ut=ct=dt:ct=ct.next=dt,it=it.next}while(it!==null);ct===null?ut=ct=g:ct=ct.next=g}else ut=ct=g;it={baseState:ot.baseState,firstBaseUpdate:ut,lastBaseUpdate:ct,shared:ot.shared,effects:ot.effects},et.updateQueue=it;return}et=it.lastBaseUpdate,et===null?it.firstBaseUpdate=g:et.next=g,it.lastBaseUpdate=g}function qh(et,g,it,ot){var ut=et.updateQueue;jh=!1;var ct=ut.firstBaseUpdate,dt=ut.lastBaseUpdate,ft=ut.shared.pending;if(ft!==null){ut.shared.pending=null;var St=ft,Tt=St.next;St.next=null,dt===null?ct=Tt:dt.next=Tt,dt=St;var kt=et.alternate;kt!==null&&(kt=kt.updateQueue,ft=kt.lastBaseUpdate,ft!==dt&&(ft===null?kt.firstBaseUpdate=Tt:ft.next=Tt,kt.lastBaseUpdate=St))}if(ct!==null){var jt=ut.baseState;dt=0,kt=Tt=St=null,ft=ct;do{var Rt=ft.lane,$t=ft.eventTime;if((ot&Rt)===Rt){kt!==null&&(kt=kt.next={eventTime:$t,lane:0,tag:ft.tag,payload:ft.payload,callback:ft.callback,next:null});e:{var zt=et,Ht=ft;switch(Rt=g,$t=it,Ht.tag){case 1:if(zt=Ht.payload,typeof zt=="function"){jt=zt.call($t,jt,Rt);break e}jt=zt;break e;case 3:zt.flags=zt.flags&-65537|128;case 0:if(zt=Ht.payload,Rt=typeof zt=="function"?zt.call($t,jt,Rt):zt,Rt==null)break e;jt=A$2({},jt,Rt);break e;case 2:jh=!0}}ft.callback!==null&&ft.lane!==0&&(et.flags|=64,Rt=ut.effects,Rt===null?ut.effects=[ft]:Rt.push(ft))}else $t={eventTime:$t,lane:Rt,tag:ft.tag,payload:ft.payload,callback:ft.callback,next:null},kt===null?(Tt=kt=$t,St=jt):kt=kt.next=$t,dt|=Rt;if(ft=ft.next,ft===null){if(ft=ut.shared.pending,ft===null)break;Rt=ft,ft=Rt.next,Rt.next=null,ut.lastBaseUpdate=Rt,ut.shared.pending=null}}while(1);if(kt===null&&(St=jt),ut.baseState=St,ut.firstBaseUpdate=Tt,ut.lastBaseUpdate=kt,g=ut.shared.interleaved,g!==null){ut=g;do dt|=ut.lane,ut=ut.next;while(ut!==g)}else ct===null&&(ut.shared.lanes=0);rh|=dt,et.lanes=dt,et.memoizedState=jt}}function sh(et,g,it){if(et=g.effects,g.effects=null,et!==null)for(g=0;g<et.length;g++){var ot=et[g],ut=ot.callback;if(ut!==null){if(ot.callback=null,ot=it,typeof ut!="function")throw Error(p$3(191,ut));ut.call(ot)}}}var th={},uh=Uf(th),vh$1=Uf(th),wh=Uf(th);function xh(et){if(et===th)throw Error(p$3(174));return et}function yh(et,g){switch(G$1(wh,g),G$1(vh$1,et),G$1(uh,th),et=g.nodeType,et){case 9:case 11:g=(g=g.documentElement)?g.namespaceURI:lb(null,"");break;default:et=et===8?g.parentNode:g,g=et.namespaceURI||null,et=et.tagName,g=lb(g,et)}E$2(uh),G$1(uh,g)}function zh(){E$2(uh),E$2(vh$1),E$2(wh)}function Ah(et){xh(wh.current);var g=xh(uh.current),it=lb(g,et.type);g!==it&&(G$1(vh$1,et),G$1(uh,it))}function Bh(et){vh$1.current===et&&(E$2(uh),E$2(vh$1))}var L$3=Uf(0);function Ch(et){for(var g=et;g!==null;){if(g.tag===13){var it=g.memoizedState;if(it!==null&&(it=it.dehydrated,it===null||it.data==="$?"||it.data==="$!"))return g}else if(g.tag===19&&g.memoizedProps.revealOrder!==void 0){if(g.flags&128)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===et)break;for(;g.sibling===null;){if(g.return===null||g.return===et)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}var Dh=[];function Eh(){for(var et=0;et<Dh.length;et++)Dh[et]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M$3=null,N$2=null,O$4=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P$3(){throw Error(p$3(321))}function Mh(et,g){if(g===null)return!1;for(var it=0;it<g.length&&it<et.length;it++)if(!He$2(et[it],g[it]))return!1;return!0}function Nh(et,g,it,ot,ut,ct){if(Hh=ct,M$3=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,Fh.current=et===null||et.memoizedState===null?Oh:Ph,et=it(ot,ut),Jh){ct=0;do{if(Jh=!1,Kh=0,25<=ct)throw Error(p$3(301));ct+=1,O$4=N$2=null,g.updateQueue=null,Fh.current=Qh,et=it(ot,ut)}while(Jh)}if(Fh.current=Rh,g=N$2!==null&&N$2.next!==null,Hh=0,O$4=N$2=M$3=null,Ih=!1,g)throw Error(p$3(300));return et}function Sh(){var et=Kh!==0;return Kh=0,et}function Th(){var et={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O$4===null?M$3.memoizedState=O$4=et:O$4=O$4.next=et,O$4}function Uh(){if(N$2===null){var et=M$3.alternate;et=et!==null?et.memoizedState:null}else et=N$2.next;var g=O$4===null?M$3.memoizedState:O$4.next;if(g!==null)O$4=g,N$2=et;else{if(et===null)throw Error(p$3(310));N$2=et,et={memoizedState:N$2.memoizedState,baseState:N$2.baseState,baseQueue:N$2.baseQueue,queue:N$2.queue,next:null},O$4===null?M$3.memoizedState=O$4=et:O$4=O$4.next=et}return O$4}function Vh(et,g){return typeof g=="function"?g(et):g}function Wh(et){var g=Uh(),it=g.queue;if(it===null)throw Error(p$3(311));it.lastRenderedReducer=et;var ot=N$2,ut=ot.baseQueue,ct=it.pending;if(ct!==null){if(ut!==null){var dt=ut.next;ut.next=ct.next,ct.next=dt}ot.baseQueue=ut=ct,it.pending=null}if(ut!==null){ct=ut.next,ot=ot.baseState;var ft=dt=null,St=null,Tt=ct;do{var kt=Tt.lane;if((Hh&kt)===kt)St!==null&&(St=St.next={lane:0,action:Tt.action,hasEagerState:Tt.hasEagerState,eagerState:Tt.eagerState,next:null}),ot=Tt.hasEagerState?Tt.eagerState:et(ot,Tt.action);else{var jt={lane:kt,action:Tt.action,hasEagerState:Tt.hasEagerState,eagerState:Tt.eagerState,next:null};St===null?(ft=St=jt,dt=ot):St=St.next=jt,M$3.lanes|=kt,rh|=kt}Tt=Tt.next}while(Tt!==null&&Tt!==ct);St===null?dt=ot:St.next=ft,He$2(ot,g.memoizedState)||(dh=!0),g.memoizedState=ot,g.baseState=dt,g.baseQueue=St,it.lastRenderedState=ot}if(et=it.interleaved,et!==null){ut=et;do ct=ut.lane,M$3.lanes|=ct,rh|=ct,ut=ut.next;while(ut!==et)}else ut===null&&(it.lanes=0);return[g.memoizedState,it.dispatch]}function Xh(et){var g=Uh(),it=g.queue;if(it===null)throw Error(p$3(311));it.lastRenderedReducer=et;var ot=it.dispatch,ut=it.pending,ct=g.memoizedState;if(ut!==null){it.pending=null;var dt=ut=ut.next;do ct=et(ct,dt.action),dt=dt.next;while(dt!==ut);He$2(ct,g.memoizedState)||(dh=!0),g.memoizedState=ct,g.baseQueue===null&&(g.baseState=ct),it.lastRenderedState=ct}return[ct,ot]}function Yh(){}function Zh(et,g){var it=M$3,ot=Uh(),ut=g(),ct=!He$2(ot.memoizedState,ut);if(ct&&(ot.memoizedState=ut,dh=!0),ot=ot.queue,$h(ai.bind(null,it,ot,et),[et]),ot.getSnapshot!==g||ct||O$4!==null&&O$4.memoizedState.tag&1){if(it.flags|=2048,bi(9,ci.bind(null,it,ot,ut,g),void 0,null),Q$1===null)throw Error(p$3(349));Hh&30||di(it,g,ut)}return ut}function di(et,g,it){et.flags|=16384,et={getSnapshot:g,value:it},g=M$3.updateQueue,g===null?(g={lastEffect:null,stores:null},M$3.updateQueue=g,g.stores=[et]):(it=g.stores,it===null?g.stores=[et]:it.push(et))}function ci(et,g,it,ot){g.value=it,g.getSnapshot=ot,ei(g)&&fi(et)}function ai(et,g,it){return it(function(){ei(g)&&fi(et)})}function ei(et){var g=et.getSnapshot;et=et.value;try{var it=g();return!He$2(et,it)}catch{return!0}}function fi(et){var g=ih(et,1);g!==null&&gi(g,et,1,-1)}function hi(et){var g=Th();return typeof et=="function"&&(et=et()),g.memoizedState=g.baseState=et,et={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:et},g.queue=et,et=et.dispatch=ii.bind(null,M$3,et),[g.memoizedState,et]}function bi(et,g,it,ot){return et={tag:et,create:g,destroy:it,deps:ot,next:null},g=M$3.updateQueue,g===null?(g={lastEffect:null,stores:null},M$3.updateQueue=g,g.lastEffect=et.next=et):(it=g.lastEffect,it===null?g.lastEffect=et.next=et:(ot=it.next,it.next=et,et.next=ot,g.lastEffect=et)),et}function ji(){return Uh().memoizedState}function ki(et,g,it,ot){var ut=Th();M$3.flags|=et,ut.memoizedState=bi(1|g,it,void 0,ot===void 0?null:ot)}function li(et,g,it,ot){var ut=Uh();ot=ot===void 0?null:ot;var ct=void 0;if(N$2!==null){var dt=N$2.memoizedState;if(ct=dt.destroy,ot!==null&&Mh(ot,dt.deps)){ut.memoizedState=bi(g,it,ct,ot);return}}M$3.flags|=et,ut.memoizedState=bi(1|g,it,ct,ot)}function mi(et,g){return ki(8390656,8,et,g)}function $h(et,g){return li(2048,8,et,g)}function ni(et,g){return li(4,2,et,g)}function oi(et,g){return li(4,4,et,g)}function pi(et,g){if(typeof g=="function")return et=et(),g(et),function(){g(null)};if(g!=null)return et=et(),g.current=et,function(){g.current=null}}function qi(et,g,it){return it=it!=null?it.concat([et]):null,li(4,4,pi.bind(null,g,et),it)}function ri(){}function si(et,g){var it=Uh();g=g===void 0?null:g;var ot=it.memoizedState;return ot!==null&&g!==null&&Mh(g,ot[1])?ot[0]:(it.memoizedState=[et,g],et)}function ti(et,g){var it=Uh();g=g===void 0?null:g;var ot=it.memoizedState;return ot!==null&&g!==null&&Mh(g,ot[1])?ot[0]:(et=et(),it.memoizedState=[et,g],et)}function ui(et,g,it){return Hh&21?(He$2(it,g)||(it=yc(),M$3.lanes|=it,rh|=it,et.baseState=!0),g):(et.baseState&&(et.baseState=!1,dh=!0),et.memoizedState=it)}function vi(et,g){var it=C$4;C$4=it!==0&&4>it?it:4,et(!0);var ot=Gh.transition;Gh.transition={};try{et(!1),g()}finally{C$4=it,Gh.transition=ot}}function wi(){return Uh().memoizedState}function xi(et,g,it){var ot=yi(et);if(it={lane:ot,action:it,hasEagerState:!1,eagerState:null,next:null},zi(et))Ai(g,it);else if(it=hh(et,g,it,ot),it!==null){var ut=R$3();gi(it,et,ot,ut),Bi(it,g,ot)}}function ii(et,g,it){var ot=yi(et),ut={lane:ot,action:it,hasEagerState:!1,eagerState:null,next:null};if(zi(et))Ai(g,ut);else{var ct=et.alternate;if(et.lanes===0&&(ct===null||ct.lanes===0)&&(ct=g.lastRenderedReducer,ct!==null))try{var dt=g.lastRenderedState,ft=ct(dt,it);if(ut.hasEagerState=!0,ut.eagerState=ft,He$2(ft,dt)){var St=g.interleaved;St===null?(ut.next=ut,gh(g)):(ut.next=St.next,St.next=ut),g.interleaved=ut;return}}catch{}finally{}it=hh(et,g,ut,ot),it!==null&&(ut=R$3(),gi(it,et,ot,ut),Bi(it,g,ot))}}function zi(et){var g=et.alternate;return et===M$3||g!==null&&g===M$3}function Ai(et,g){Jh=Ih=!0;var it=et.pending;it===null?g.next=g:(g.next=it.next,it.next=g),et.pending=g}function Bi(et,g,it){if(it&4194240){var ot=g.lanes;ot&=et.pendingLanes,it|=ot,g.lanes=it,Cc(et,it)}}var Rh={readContext:eh,useCallback:P$3,useContext:P$3,useEffect:P$3,useImperativeHandle:P$3,useInsertionEffect:P$3,useLayoutEffect:P$3,useMemo:P$3,useReducer:P$3,useRef:P$3,useState:P$3,useDebugValue:P$3,useDeferredValue:P$3,useTransition:P$3,useMutableSource:P$3,useSyncExternalStore:P$3,useId:P$3,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(et,g){return Th().memoizedState=[et,g===void 0?null:g],et},useContext:eh,useEffect:mi,useImperativeHandle:function(et,g,it){return it=it!=null?it.concat([et]):null,ki(4194308,4,pi.bind(null,g,et),it)},useLayoutEffect:function(et,g){return ki(4194308,4,et,g)},useInsertionEffect:function(et,g){return ki(4,2,et,g)},useMemo:function(et,g){var it=Th();return g=g===void 0?null:g,et=et(),it.memoizedState=[et,g],et},useReducer:function(et,g,it){var ot=Th();return g=it!==void 0?it(g):g,ot.memoizedState=ot.baseState=g,et={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:et,lastRenderedState:g},ot.queue=et,et=et.dispatch=xi.bind(null,M$3,et),[ot.memoizedState,et]},useRef:function(et){var g=Th();return et={current:et},g.memoizedState=et},useState:hi,useDebugValue:ri,useDeferredValue:function(et){return Th().memoizedState=et},useTransition:function(){var et=hi(!1),g=et[0];return et=vi.bind(null,et[1]),Th().memoizedState=et,[g,et]},useMutableSource:function(){},useSyncExternalStore:function(et,g,it){var ot=M$3,ut=Th();if(I$4){if(it===void 0)throw Error(p$3(407));it=it()}else{if(it=g(),Q$1===null)throw Error(p$3(349));Hh&30||di(ot,g,it)}ut.memoizedState=it;var ct={value:it,getSnapshot:g};return ut.queue=ct,mi(ai.bind(null,ot,ct,et),[et]),ot.flags|=2048,bi(9,ci.bind(null,ot,ct,it,g),void 0,null),it},useId:function(){var et=Th(),g=Q$1.identifierPrefix;if(I$4){var it=sg,ot=rg;it=(ot&~(1<<32-oc(ot)-1)).toString(32)+it,g=":"+g+"R"+it,it=Kh++,0<it&&(g+="H"+it.toString(32)),g+=":"}else it=Lh++,g=":"+g+"r"+it.toString(32)+":";return et.memoizedState=g},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(et){var g=Uh();return ui(g,N$2.memoizedState,et)},useTransition:function(){var et=Wh(Vh)[0],g=Uh().memoizedState;return[et,g]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(et){var g=Uh();return N$2===null?g.memoizedState=et:ui(g,N$2.memoizedState,et)},useTransition:function(){var et=Xh(Vh)[0],g=Uh().memoizedState;return[et,g]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(et,g){if(et&&et.defaultProps){g=A$2({},g),et=et.defaultProps;for(var it in et)g[it]===void 0&&(g[it]=et[it]);return g}return g}function Di(et,g,it,ot){g=et.memoizedState,it=it(ot,g),it=it==null?g:A$2({},g,it),et.memoizedState=it,et.lanes===0&&(et.updateQueue.baseState=it)}var Ei={isMounted:function(et){return(et=et._reactInternals)?Vb(et)===et:!1},enqueueSetState:function(et,g,it){et=et._reactInternals;var ot=R$3(),ut=yi(et),ct=mh(ot,ut);ct.payload=g,it!=null&&(ct.callback=it),g=nh(et,ct,ut),g!==null&&(gi(g,et,ut,ot),oh(g,et,ut))},enqueueReplaceState:function(et,g,it){et=et._reactInternals;var ot=R$3(),ut=yi(et),ct=mh(ot,ut);ct.tag=1,ct.payload=g,it!=null&&(ct.callback=it),g=nh(et,ct,ut),g!==null&&(gi(g,et,ut,ot),oh(g,et,ut))},enqueueForceUpdate:function(et,g){et=et._reactInternals;var it=R$3(),ot=yi(et),ut=mh(it,ot);ut.tag=2,g!=null&&(ut.callback=g),g=nh(et,ut,ot),g!==null&&(gi(g,et,ot,it),oh(g,et,ot))}};function Fi(et,g,it,ot,ut,ct,dt){return et=et.stateNode,typeof et.shouldComponentUpdate=="function"?et.shouldComponentUpdate(ot,ct,dt):g.prototype&&g.prototype.isPureReactComponent?!Ie$2(it,ot)||!Ie$2(ut,ct):!0}function Gi(et,g,it){var ot=!1,ut=Vf,ct=g.contextType;return typeof ct=="object"&&ct!==null?ct=eh(ct):(ut=Zf(g)?Xf:H$3.current,ot=g.contextTypes,ct=(ot=ot!=null)?Yf(et,ut):Vf),g=new g(it,ct),et.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Ei,et.stateNode=g,g._reactInternals=et,ot&&(et=et.stateNode,et.__reactInternalMemoizedUnmaskedChildContext=ut,et.__reactInternalMemoizedMaskedChildContext=ct),g}function Hi(et,g,it,ot){et=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps(it,ot),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps(it,ot),g.state!==et&&Ei.enqueueReplaceState(g,g.state,null)}function Ii(et,g,it,ot){var ut=et.stateNode;ut.props=it,ut.state=et.memoizedState,ut.refs={},kh(et);var ct=g.contextType;typeof ct=="object"&&ct!==null?ut.context=eh(ct):(ct=Zf(g)?Xf:H$3.current,ut.context=Yf(et,ct)),ut.state=et.memoizedState,ct=g.getDerivedStateFromProps,typeof ct=="function"&&(Di(et,g,ct,it),ut.state=et.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof ut.getSnapshotBeforeUpdate=="function"||typeof ut.UNSAFE_componentWillMount!="function"&&typeof ut.componentWillMount!="function"||(g=ut.state,typeof ut.componentWillMount=="function"&&ut.componentWillMount(),typeof ut.UNSAFE_componentWillMount=="function"&&ut.UNSAFE_componentWillMount(),g!==ut.state&&Ei.enqueueReplaceState(ut,ut.state,null),qh(et,it,ut,ot),ut.state=et.memoizedState),typeof ut.componentDidMount=="function"&&(et.flags|=4194308)}function Ji(et,g){try{var it="",ot=g;do it+=Pa(ot),ot=ot.return;while(ot);var ut=it}catch(ct){ut=`
Error generating stack: `+ct.message+`
`+ct.stack}return{value:et,source:g,stack:ut,digest:null}}function Ki(et,g,it){return{value:et,source:null,stack:it??null,digest:g??null}}function Li(et,g){try{console.error(g.value)}catch(it){setTimeout(function(){throw it})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(et,g,it){it=mh(-1,it),it.tag=3,it.payload={element:null};var ot=g.value;return it.callback=function(){Oi||(Oi=!0,Pi=ot),Li(et,g)},it}function Qi(et,g,it){it=mh(-1,it),it.tag=3;var ot=et.type.getDerivedStateFromError;if(typeof ot=="function"){var ut=g.value;it.payload=function(){return ot(ut)},it.callback=function(){Li(et,g)}}var ct=et.stateNode;return ct!==null&&typeof ct.componentDidCatch=="function"&&(it.callback=function(){Li(et,g),typeof ot!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var dt=g.stack;this.componentDidCatch(g.value,{componentStack:dt!==null?dt:""})}),it}function Si(et,g,it){var ot=et.pingCache;if(ot===null){ot=et.pingCache=new Mi;var ut=new Set;ot.set(g,ut)}else ut=ot.get(g),ut===void 0&&(ut=new Set,ot.set(g,ut));ut.has(it)||(ut.add(it),et=Ti.bind(null,et,g,it),g.then(et,et))}function Ui(et){do{var g;if((g=et.tag===13)&&(g=et.memoizedState,g=g!==null?g.dehydrated!==null:!0),g)return et;et=et.return}while(et!==null);return null}function Vi(et,g,it,ot,ut){return et.mode&1?(et.flags|=65536,et.lanes=ut,et):(et===g?et.flags|=65536:(et.flags|=128,it.flags|=131072,it.flags&=-52805,it.tag===1&&(it.alternate===null?it.tag=17:(g=mh(-1,1),g.tag=2,nh(it,g,1))),it.lanes|=1),et)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(et,g,it,ot){g.child=et===null?Vg(g,null,it,ot):Ug(g,et.child,it,ot)}function Yi(et,g,it,ot,ut){it=it.render;var ct=g.ref;return ch(g,ut),ot=Nh(et,g,it,ot,ct,ut),it=Sh(),et!==null&&!dh?(g.updateQueue=et.updateQueue,g.flags&=-2053,et.lanes&=~ut,Zi(et,g,ut)):(I$4&&it&&vg(g),g.flags|=1,Xi(et,g,ot,ut),g.child)}function $i(et,g,it,ot,ut){if(et===null){var ct=it.type;return typeof ct=="function"&&!aj(ct)&&ct.defaultProps===void 0&&it.compare===null&&it.defaultProps===void 0?(g.tag=15,g.type=ct,bj(et,g,ct,ot,ut)):(et=Rg(it.type,null,ot,g,g.mode,ut),et.ref=g.ref,et.return=g,g.child=et)}if(ct=et.child,!(et.lanes&ut)){var dt=ct.memoizedProps;if(it=it.compare,it=it!==null?it:Ie$2,it(dt,ot)&&et.ref===g.ref)return Zi(et,g,ut)}return g.flags|=1,et=Pg(ct,ot),et.ref=g.ref,et.return=g,g.child=et}function bj(et,g,it,ot,ut){if(et!==null){var ct=et.memoizedProps;if(Ie$2(ct,ot)&&et.ref===g.ref)if(dh=!1,g.pendingProps=ot=ct,(et.lanes&ut)!==0)et.flags&131072&&(dh=!0);else return g.lanes=et.lanes,Zi(et,g,ut)}return cj(et,g,it,ot,ut)}function dj(et,g,it){var ot=g.pendingProps,ut=ot.children,ct=et!==null?et.memoizedState:null;if(ot.mode==="hidden")if(!(g.mode&1))g.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$1(ej,fj),fj|=it;else{if(!(it&1073741824))return et=ct!==null?ct.baseLanes|it:it,g.lanes=g.childLanes=1073741824,g.memoizedState={baseLanes:et,cachePool:null,transitions:null},g.updateQueue=null,G$1(ej,fj),fj|=et,null;g.memoizedState={baseLanes:0,cachePool:null,transitions:null},ot=ct!==null?ct.baseLanes:it,G$1(ej,fj),fj|=ot}else ct!==null?(ot=ct.baseLanes|it,g.memoizedState=null):ot=it,G$1(ej,fj),fj|=ot;return Xi(et,g,ut,it),g.child}function gj(et,g){var it=g.ref;(et===null&&it!==null||et!==null&&et.ref!==it)&&(g.flags|=512,g.flags|=2097152)}function cj(et,g,it,ot,ut){var ct=Zf(it)?Xf:H$3.current;return ct=Yf(g,ct),ch(g,ut),it=Nh(et,g,it,ot,ct,ut),ot=Sh(),et!==null&&!dh?(g.updateQueue=et.updateQueue,g.flags&=-2053,et.lanes&=~ut,Zi(et,g,ut)):(I$4&&ot&&vg(g),g.flags|=1,Xi(et,g,it,ut),g.child)}function hj(et,g,it,ot,ut){if(Zf(it)){var ct=!0;cg(g)}else ct=!1;if(ch(g,ut),g.stateNode===null)ij(et,g),Gi(g,it,ot),Ii(g,it,ot,ut),ot=!0;else if(et===null){var dt=g.stateNode,ft=g.memoizedProps;dt.props=ft;var St=dt.context,Tt=it.contextType;typeof Tt=="object"&&Tt!==null?Tt=eh(Tt):(Tt=Zf(it)?Xf:H$3.current,Tt=Yf(g,Tt));var kt=it.getDerivedStateFromProps,jt=typeof kt=="function"||typeof dt.getSnapshotBeforeUpdate=="function";jt||typeof dt.UNSAFE_componentWillReceiveProps!="function"&&typeof dt.componentWillReceiveProps!="function"||(ft!==ot||St!==Tt)&&Hi(g,dt,ot,Tt),jh=!1;var Rt=g.memoizedState;dt.state=Rt,qh(g,ot,dt,ut),St=g.memoizedState,ft!==ot||Rt!==St||Wf.current||jh?(typeof kt=="function"&&(Di(g,it,kt,ot),St=g.memoizedState),(ft=jh||Fi(g,it,ft,ot,Rt,St,Tt))?(jt||typeof dt.UNSAFE_componentWillMount!="function"&&typeof dt.componentWillMount!="function"||(typeof dt.componentWillMount=="function"&&dt.componentWillMount(),typeof dt.UNSAFE_componentWillMount=="function"&&dt.UNSAFE_componentWillMount()),typeof dt.componentDidMount=="function"&&(g.flags|=4194308)):(typeof dt.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=ot,g.memoizedState=St),dt.props=ot,dt.state=St,dt.context=Tt,ot=ft):(typeof dt.componentDidMount=="function"&&(g.flags|=4194308),ot=!1)}else{dt=g.stateNode,lh(et,g),ft=g.memoizedProps,Tt=g.type===g.elementType?ft:Ci(g.type,ft),dt.props=Tt,jt=g.pendingProps,Rt=dt.context,St=it.contextType,typeof St=="object"&&St!==null?St=eh(St):(St=Zf(it)?Xf:H$3.current,St=Yf(g,St));var $t=it.getDerivedStateFromProps;(kt=typeof $t=="function"||typeof dt.getSnapshotBeforeUpdate=="function")||typeof dt.UNSAFE_componentWillReceiveProps!="function"&&typeof dt.componentWillReceiveProps!="function"||(ft!==jt||Rt!==St)&&Hi(g,dt,ot,St),jh=!1,Rt=g.memoizedState,dt.state=Rt,qh(g,ot,dt,ut);var zt=g.memoizedState;ft!==jt||Rt!==zt||Wf.current||jh?(typeof $t=="function"&&(Di(g,it,$t,ot),zt=g.memoizedState),(Tt=jh||Fi(g,it,Tt,ot,Rt,zt,St)||!1)?(kt||typeof dt.UNSAFE_componentWillUpdate!="function"&&typeof dt.componentWillUpdate!="function"||(typeof dt.componentWillUpdate=="function"&&dt.componentWillUpdate(ot,zt,St),typeof dt.UNSAFE_componentWillUpdate=="function"&&dt.UNSAFE_componentWillUpdate(ot,zt,St)),typeof dt.componentDidUpdate=="function"&&(g.flags|=4),typeof dt.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof dt.componentDidUpdate!="function"||ft===et.memoizedProps&&Rt===et.memoizedState||(g.flags|=4),typeof dt.getSnapshotBeforeUpdate!="function"||ft===et.memoizedProps&&Rt===et.memoizedState||(g.flags|=1024),g.memoizedProps=ot,g.memoizedState=zt),dt.props=ot,dt.state=zt,dt.context=St,ot=Tt):(typeof dt.componentDidUpdate!="function"||ft===et.memoizedProps&&Rt===et.memoizedState||(g.flags|=4),typeof dt.getSnapshotBeforeUpdate!="function"||ft===et.memoizedProps&&Rt===et.memoizedState||(g.flags|=1024),ot=!1)}return jj(et,g,it,ot,ct,ut)}function jj(et,g,it,ot,ut,ct){gj(et,g);var dt=(g.flags&128)!==0;if(!ot&&!dt)return ut&&dg(g,it,!1),Zi(et,g,ct);ot=g.stateNode,Wi.current=g;var ft=dt&&typeof it.getDerivedStateFromError!="function"?null:ot.render();return g.flags|=1,et!==null&&dt?(g.child=Ug(g,et.child,null,ct),g.child=Ug(g,null,ft,ct)):Xi(et,g,ft,ct),g.memoizedState=ot.state,ut&&dg(g,it,!0),g.child}function kj(et){var g=et.stateNode;g.pendingContext?ag(et,g.pendingContext,g.pendingContext!==g.context):g.context&&ag(et,g.context,!1),yh(et,g.containerInfo)}function lj(et,g,it,ot,ut){return Ig(),Jg(ut),g.flags|=256,Xi(et,g,it,ot),g.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(et){return{baseLanes:et,cachePool:null,transitions:null}}function oj(et,g,it){var ot=g.pendingProps,ut=L$3.current,ct=!1,dt=(g.flags&128)!==0,ft;if((ft=dt)||(ft=et!==null&&et.memoizedState===null?!1:(ut&2)!==0),ft?(ct=!0,g.flags&=-129):(et===null||et.memoizedState!==null)&&(ut|=1),G$1(L$3,ut&1),et===null)return Eg(g),et=g.memoizedState,et!==null&&(et=et.dehydrated,et!==null)?(g.mode&1?et.data==="$!"?g.lanes=8:g.lanes=1073741824:g.lanes=1,null):(dt=ot.children,et=ot.fallback,ct?(ot=g.mode,ct=g.child,dt={mode:"hidden",children:dt},!(ot&1)&&ct!==null?(ct.childLanes=0,ct.pendingProps=dt):ct=pj(dt,ot,0,null),et=Tg(et,ot,it,null),ct.return=g,et.return=g,ct.sibling=et,g.child=ct,g.child.memoizedState=nj(it),g.memoizedState=mj,et):qj(g,dt));if(ut=et.memoizedState,ut!==null&&(ft=ut.dehydrated,ft!==null))return rj(et,g,dt,ot,ft,ut,it);if(ct){ct=ot.fallback,dt=g.mode,ut=et.child,ft=ut.sibling;var St={mode:"hidden",children:ot.children};return!(dt&1)&&g.child!==ut?(ot=g.child,ot.childLanes=0,ot.pendingProps=St,g.deletions=null):(ot=Pg(ut,St),ot.subtreeFlags=ut.subtreeFlags&14680064),ft!==null?ct=Pg(ft,ct):(ct=Tg(ct,dt,it,null),ct.flags|=2),ct.return=g,ot.return=g,ot.sibling=ct,g.child=ot,ot=ct,ct=g.child,dt=et.child.memoizedState,dt=dt===null?nj(it):{baseLanes:dt.baseLanes|it,cachePool:null,transitions:dt.transitions},ct.memoizedState=dt,ct.childLanes=et.childLanes&~it,g.memoizedState=mj,ot}return ct=et.child,et=ct.sibling,ot=Pg(ct,{mode:"visible",children:ot.children}),!(g.mode&1)&&(ot.lanes=it),ot.return=g,ot.sibling=null,et!==null&&(it=g.deletions,it===null?(g.deletions=[et],g.flags|=16):it.push(et)),g.child=ot,g.memoizedState=null,ot}function qj(et,g){return g=pj({mode:"visible",children:g},et.mode,0,null),g.return=et,et.child=g}function sj(et,g,it,ot){return ot!==null&&Jg(ot),Ug(g,et.child,null,it),et=qj(g,g.pendingProps.children),et.flags|=2,g.memoizedState=null,et}function rj(et,g,it,ot,ut,ct,dt){if(it)return g.flags&256?(g.flags&=-257,ot=Ki(Error(p$3(422))),sj(et,g,dt,ot)):g.memoizedState!==null?(g.child=et.child,g.flags|=128,null):(ct=ot.fallback,ut=g.mode,ot=pj({mode:"visible",children:ot.children},ut,0,null),ct=Tg(ct,ut,dt,null),ct.flags|=2,ot.return=g,ct.return=g,ot.sibling=ct,g.child=ot,g.mode&1&&Ug(g,et.child,null,dt),g.child.memoizedState=nj(dt),g.memoizedState=mj,ct);if(!(g.mode&1))return sj(et,g,dt,null);if(ut.data==="$!"){if(ot=ut.nextSibling&&ut.nextSibling.dataset,ot)var ft=ot.dgst;return ot=ft,ct=Error(p$3(419)),ot=Ki(ct,ot,void 0),sj(et,g,dt,ot)}if(ft=(dt&et.childLanes)!==0,dh||ft){if(ot=Q$1,ot!==null){switch(dt&-dt){case 4:ut=2;break;case 16:ut=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:ut=32;break;case 536870912:ut=268435456;break;default:ut=0}ut=ut&(ot.suspendedLanes|dt)?0:ut,ut!==0&&ut!==ct.retryLane&&(ct.retryLane=ut,ih(et,ut),gi(ot,et,ut,-1))}return tj(),ot=Ki(Error(p$3(421))),sj(et,g,dt,ot)}return ut.data==="$?"?(g.flags|=128,g.child=et.child,g=uj.bind(null,et),ut._reactRetry=g,null):(et=ct.treeContext,yg=Lf(ut.nextSibling),xg=g,I$4=!0,zg=null,et!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=et.id,sg=et.overflow,qg=g),g=qj(g,ot.children),g.flags|=4096,g)}function vj(et,g,it){et.lanes|=g;var ot=et.alternate;ot!==null&&(ot.lanes|=g),bh(et.return,g,it)}function wj(et,g,it,ot,ut){var ct=et.memoizedState;ct===null?et.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:ot,tail:it,tailMode:ut}:(ct.isBackwards=g,ct.rendering=null,ct.renderingStartTime=0,ct.last=ot,ct.tail=it,ct.tailMode=ut)}function xj(et,g,it){var ot=g.pendingProps,ut=ot.revealOrder,ct=ot.tail;if(Xi(et,g,ot.children,it),ot=L$3.current,ot&2)ot=ot&1|2,g.flags|=128;else{if(et!==null&&et.flags&128)e:for(et=g.child;et!==null;){if(et.tag===13)et.memoizedState!==null&&vj(et,it,g);else if(et.tag===19)vj(et,it,g);else if(et.child!==null){et.child.return=et,et=et.child;continue}if(et===g)break e;for(;et.sibling===null;){if(et.return===null||et.return===g)break e;et=et.return}et.sibling.return=et.return,et=et.sibling}ot&=1}if(G$1(L$3,ot),!(g.mode&1))g.memoizedState=null;else switch(ut){case"forwards":for(it=g.child,ut=null;it!==null;)et=it.alternate,et!==null&&Ch(et)===null&&(ut=it),it=it.sibling;it=ut,it===null?(ut=g.child,g.child=null):(ut=it.sibling,it.sibling=null),wj(g,!1,ut,it,ct);break;case"backwards":for(it=null,ut=g.child,g.child=null;ut!==null;){if(et=ut.alternate,et!==null&&Ch(et)===null){g.child=ut;break}et=ut.sibling,ut.sibling=it,it=ut,ut=et}wj(g,!0,it,null,ct);break;case"together":wj(g,!1,null,null,void 0);break;default:g.memoizedState=null}return g.child}function ij(et,g){!(g.mode&1)&&et!==null&&(et.alternate=null,g.alternate=null,g.flags|=2)}function Zi(et,g,it){if(et!==null&&(g.dependencies=et.dependencies),rh|=g.lanes,!(it&g.childLanes))return null;if(et!==null&&g.child!==et.child)throw Error(p$3(153));if(g.child!==null){for(et=g.child,it=Pg(et,et.pendingProps),g.child=it,it.return=g;et.sibling!==null;)et=et.sibling,it=it.sibling=Pg(et,et.pendingProps),it.return=g;it.sibling=null}return g.child}function yj(et,g,it){switch(g.tag){case 3:kj(g),Ig();break;case 5:Ah(g);break;case 1:Zf(g.type)&&cg(g);break;case 4:yh(g,g.stateNode.containerInfo);break;case 10:var ot=g.type._context,ut=g.memoizedProps.value;G$1(Wg,ot._currentValue),ot._currentValue=ut;break;case 13:if(ot=g.memoizedState,ot!==null)return ot.dehydrated!==null?(G$1(L$3,L$3.current&1),g.flags|=128,null):it&g.child.childLanes?oj(et,g,it):(G$1(L$3,L$3.current&1),et=Zi(et,g,it),et!==null?et.sibling:null);G$1(L$3,L$3.current&1);break;case 19:if(ot=(it&g.childLanes)!==0,et.flags&128){if(ot)return xj(et,g,it);g.flags|=128}if(ut=g.memoizedState,ut!==null&&(ut.rendering=null,ut.tail=null,ut.lastEffect=null),G$1(L$3,L$3.current),ot)break;return null;case 22:case 23:return g.lanes=0,dj(et,g,it)}return Zi(et,g,it)}var zj,Aj,Bj,Cj;zj=function(et,g){for(var it=g.child;it!==null;){if(it.tag===5||it.tag===6)et.appendChild(it.stateNode);else if(it.tag!==4&&it.child!==null){it.child.return=it,it=it.child;continue}if(it===g)break;for(;it.sibling===null;){if(it.return===null||it.return===g)return;it=it.return}it.sibling.return=it.return,it=it.sibling}};Aj=function(){};Bj=function(et,g,it,ot){var ut=et.memoizedProps;if(ut!==ot){et=g.stateNode,xh(uh.current);var ct=null;switch(it){case"input":ut=Ya(et,ut),ot=Ya(et,ot),ct=[];break;case"select":ut=A$2({},ut,{value:void 0}),ot=A$2({},ot,{value:void 0}),ct=[];break;case"textarea":ut=gb(et,ut),ot=gb(et,ot),ct=[];break;default:typeof ut.onClick!="function"&&typeof ot.onClick=="function"&&(et.onclick=Bf)}ub(it,ot);var dt;it=null;for(Tt in ut)if(!ot.hasOwnProperty(Tt)&&ut.hasOwnProperty(Tt)&&ut[Tt]!=null)if(Tt==="style"){var ft=ut[Tt];for(dt in ft)ft.hasOwnProperty(dt)&&(it||(it={}),it[dt]="")}else Tt!=="dangerouslySetInnerHTML"&&Tt!=="children"&&Tt!=="suppressContentEditableWarning"&&Tt!=="suppressHydrationWarning"&&Tt!=="autoFocus"&&(ea.hasOwnProperty(Tt)?ct||(ct=[]):(ct=ct||[]).push(Tt,null));for(Tt in ot){var St=ot[Tt];if(ft=ut!=null?ut[Tt]:void 0,ot.hasOwnProperty(Tt)&&St!==ft&&(St!=null||ft!=null))if(Tt==="style")if(ft){for(dt in ft)!ft.hasOwnProperty(dt)||St&&St.hasOwnProperty(dt)||(it||(it={}),it[dt]="");for(dt in St)St.hasOwnProperty(dt)&&ft[dt]!==St[dt]&&(it||(it={}),it[dt]=St[dt])}else it||(ct||(ct=[]),ct.push(Tt,it)),it=St;else Tt==="dangerouslySetInnerHTML"?(St=St?St.__html:void 0,ft=ft?ft.__html:void 0,St!=null&&ft!==St&&(ct=ct||[]).push(Tt,St)):Tt==="children"?typeof St!="string"&&typeof St!="number"||(ct=ct||[]).push(Tt,""+St):Tt!=="suppressContentEditableWarning"&&Tt!=="suppressHydrationWarning"&&(ea.hasOwnProperty(Tt)?(St!=null&&Tt==="onScroll"&&D$1("scroll",et),ct||ft===St||(ct=[])):(ct=ct||[]).push(Tt,St))}it&&(ct=ct||[]).push("style",it);var Tt=ct;(g.updateQueue=Tt)&&(g.flags|=4)}};Cj=function(et,g,it,ot){it!==ot&&(g.flags|=4)};function Dj(et,g){if(!I$4)switch(et.tailMode){case"hidden":g=et.tail;for(var it=null;g!==null;)g.alternate!==null&&(it=g),g=g.sibling;it===null?et.tail=null:it.sibling=null;break;case"collapsed":it=et.tail;for(var ot=null;it!==null;)it.alternate!==null&&(ot=it),it=it.sibling;ot===null?g||et.tail===null?et.tail=null:et.tail.sibling=null:ot.sibling=null}}function S$3(et){var g=et.alternate!==null&&et.alternate.child===et.child,it=0,ot=0;if(g)for(var ut=et.child;ut!==null;)it|=ut.lanes|ut.childLanes,ot|=ut.subtreeFlags&14680064,ot|=ut.flags&14680064,ut.return=et,ut=ut.sibling;else for(ut=et.child;ut!==null;)it|=ut.lanes|ut.childLanes,ot|=ut.subtreeFlags,ot|=ut.flags,ut.return=et,ut=ut.sibling;return et.subtreeFlags|=ot,et.childLanes=it,g}function Ej(et,g,it){var ot=g.pendingProps;switch(wg(g),g.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$3(g),null;case 1:return Zf(g.type)&&$f(),S$3(g),null;case 3:return ot=g.stateNode,zh(),E$2(Wf),E$2(H$3),Eh(),ot.pendingContext&&(ot.context=ot.pendingContext,ot.pendingContext=null),(et===null||et.child===null)&&(Gg(g)?g.flags|=4:et===null||et.memoizedState.isDehydrated&&!(g.flags&256)||(g.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(et,g),S$3(g),null;case 5:Bh(g);var ut=xh(wh.current);if(it=g.type,et!==null&&g.stateNode!=null)Bj(et,g,it,ot,ut),et.ref!==g.ref&&(g.flags|=512,g.flags|=2097152);else{if(!ot){if(g.stateNode===null)throw Error(p$3(166));return S$3(g),null}if(et=xh(uh.current),Gg(g)){ot=g.stateNode,it=g.type;var ct=g.memoizedProps;switch(ot[Of]=g,ot[Pf]=ct,et=(g.mode&1)!==0,it){case"dialog":D$1("cancel",ot),D$1("close",ot);break;case"iframe":case"object":case"embed":D$1("load",ot);break;case"video":case"audio":for(ut=0;ut<lf.length;ut++)D$1(lf[ut],ot);break;case"source":D$1("error",ot);break;case"img":case"image":case"link":D$1("error",ot),D$1("load",ot);break;case"details":D$1("toggle",ot);break;case"input":Za(ot,ct),D$1("invalid",ot);break;case"select":ot._wrapperState={wasMultiple:!!ct.multiple},D$1("invalid",ot);break;case"textarea":hb(ot,ct),D$1("invalid",ot)}ub(it,ct),ut=null;for(var dt in ct)if(ct.hasOwnProperty(dt)){var ft=ct[dt];dt==="children"?typeof ft=="string"?ot.textContent!==ft&&(ct.suppressHydrationWarning!==!0&&Af(ot.textContent,ft,et),ut=["children",ft]):typeof ft=="number"&&ot.textContent!==""+ft&&(ct.suppressHydrationWarning!==!0&&Af(ot.textContent,ft,et),ut=["children",""+ft]):ea.hasOwnProperty(dt)&&ft!=null&&dt==="onScroll"&&D$1("scroll",ot)}switch(it){case"input":Va(ot),db(ot,ct,!0);break;case"textarea":Va(ot),jb(ot);break;case"select":case"option":break;default:typeof ct.onClick=="function"&&(ot.onclick=Bf)}ot=ut,g.updateQueue=ot,ot!==null&&(g.flags|=4)}else{dt=ut.nodeType===9?ut:ut.ownerDocument,et==="http://www.w3.org/1999/xhtml"&&(et=kb(it)),et==="http://www.w3.org/1999/xhtml"?it==="script"?(et=dt.createElement("div"),et.innerHTML="<script><\/script>",et=et.removeChild(et.firstChild)):typeof ot.is=="string"?et=dt.createElement(it,{is:ot.is}):(et=dt.createElement(it),it==="select"&&(dt=et,ot.multiple?dt.multiple=!0:ot.size&&(dt.size=ot.size))):et=dt.createElementNS(et,it),et[Of]=g,et[Pf]=ot,zj(et,g,!1,!1),g.stateNode=et;e:{switch(dt=vb(it,ot),it){case"dialog":D$1("cancel",et),D$1("close",et),ut=ot;break;case"iframe":case"object":case"embed":D$1("load",et),ut=ot;break;case"video":case"audio":for(ut=0;ut<lf.length;ut++)D$1(lf[ut],et);ut=ot;break;case"source":D$1("error",et),ut=ot;break;case"img":case"image":case"link":D$1("error",et),D$1("load",et),ut=ot;break;case"details":D$1("toggle",et),ut=ot;break;case"input":Za(et,ot),ut=Ya(et,ot),D$1("invalid",et);break;case"option":ut=ot;break;case"select":et._wrapperState={wasMultiple:!!ot.multiple},ut=A$2({},ot,{value:void 0}),D$1("invalid",et);break;case"textarea":hb(et,ot),ut=gb(et,ot),D$1("invalid",et);break;default:ut=ot}ub(it,ut),ft=ut;for(ct in ft)if(ft.hasOwnProperty(ct)){var St=ft[ct];ct==="style"?sb(et,St):ct==="dangerouslySetInnerHTML"?(St=St?St.__html:void 0,St!=null&&nb(et,St)):ct==="children"?typeof St=="string"?(it!=="textarea"||St!=="")&&ob(et,St):typeof St=="number"&&ob(et,""+St):ct!=="suppressContentEditableWarning"&&ct!=="suppressHydrationWarning"&&ct!=="autoFocus"&&(ea.hasOwnProperty(ct)?St!=null&&ct==="onScroll"&&D$1("scroll",et):St!=null&&ta(et,ct,St,dt))}switch(it){case"input":Va(et),db(et,ot,!1);break;case"textarea":Va(et),jb(et);break;case"option":ot.value!=null&&et.setAttribute("value",""+Sa(ot.value));break;case"select":et.multiple=!!ot.multiple,ct=ot.value,ct!=null?fb(et,!!ot.multiple,ct,!1):ot.defaultValue!=null&&fb(et,!!ot.multiple,ot.defaultValue,!0);break;default:typeof ut.onClick=="function"&&(et.onclick=Bf)}switch(it){case"button":case"input":case"select":case"textarea":ot=!!ot.autoFocus;break e;case"img":ot=!0;break e;default:ot=!1}}ot&&(g.flags|=4)}g.ref!==null&&(g.flags|=512,g.flags|=2097152)}return S$3(g),null;case 6:if(et&&g.stateNode!=null)Cj(et,g,et.memoizedProps,ot);else{if(typeof ot!="string"&&g.stateNode===null)throw Error(p$3(166));if(it=xh(wh.current),xh(uh.current),Gg(g)){if(ot=g.stateNode,it=g.memoizedProps,ot[Of]=g,(ct=ot.nodeValue!==it)&&(et=xg,et!==null))switch(et.tag){case 3:Af(ot.nodeValue,it,(et.mode&1)!==0);break;case 5:et.memoizedProps.suppressHydrationWarning!==!0&&Af(ot.nodeValue,it,(et.mode&1)!==0)}ct&&(g.flags|=4)}else ot=(it.nodeType===9?it:it.ownerDocument).createTextNode(ot),ot[Of]=g,g.stateNode=ot}return S$3(g),null;case 13:if(E$2(L$3),ot=g.memoizedState,et===null||et.memoizedState!==null&&et.memoizedState.dehydrated!==null){if(I$4&&yg!==null&&g.mode&1&&!(g.flags&128))Hg(),Ig(),g.flags|=98560,ct=!1;else if(ct=Gg(g),ot!==null&&ot.dehydrated!==null){if(et===null){if(!ct)throw Error(p$3(318));if(ct=g.memoizedState,ct=ct!==null?ct.dehydrated:null,!ct)throw Error(p$3(317));ct[Of]=g}else Ig(),!(g.flags&128)&&(g.memoizedState=null),g.flags|=4;S$3(g),ct=!1}else zg!==null&&(Fj(zg),zg=null),ct=!0;if(!ct)return g.flags&65536?g:null}return g.flags&128?(g.lanes=it,g):(ot=ot!==null,ot!==(et!==null&&et.memoizedState!==null)&&ot&&(g.child.flags|=8192,g.mode&1&&(et===null||L$3.current&1?T$3===0&&(T$3=3):tj())),g.updateQueue!==null&&(g.flags|=4),S$3(g),null);case 4:return zh(),Aj(et,g),et===null&&sf(g.stateNode.containerInfo),S$3(g),null;case 10:return ah(g.type._context),S$3(g),null;case 17:return Zf(g.type)&&$f(),S$3(g),null;case 19:if(E$2(L$3),ct=g.memoizedState,ct===null)return S$3(g),null;if(ot=(g.flags&128)!==0,dt=ct.rendering,dt===null)if(ot)Dj(ct,!1);else{if(T$3!==0||et!==null&&et.flags&128)for(et=g.child;et!==null;){if(dt=Ch(et),dt!==null){for(g.flags|=128,Dj(ct,!1),ot=dt.updateQueue,ot!==null&&(g.updateQueue=ot,g.flags|=4),g.subtreeFlags=0,ot=it,it=g.child;it!==null;)ct=it,et=ot,ct.flags&=14680066,dt=ct.alternate,dt===null?(ct.childLanes=0,ct.lanes=et,ct.child=null,ct.subtreeFlags=0,ct.memoizedProps=null,ct.memoizedState=null,ct.updateQueue=null,ct.dependencies=null,ct.stateNode=null):(ct.childLanes=dt.childLanes,ct.lanes=dt.lanes,ct.child=dt.child,ct.subtreeFlags=0,ct.deletions=null,ct.memoizedProps=dt.memoizedProps,ct.memoizedState=dt.memoizedState,ct.updateQueue=dt.updateQueue,ct.type=dt.type,et=dt.dependencies,ct.dependencies=et===null?null:{lanes:et.lanes,firstContext:et.firstContext}),it=it.sibling;return G$1(L$3,L$3.current&1|2),g.child}et=et.sibling}ct.tail!==null&&B$1()>Gj&&(g.flags|=128,ot=!0,Dj(ct,!1),g.lanes=4194304)}else{if(!ot)if(et=Ch(dt),et!==null){if(g.flags|=128,ot=!0,it=et.updateQueue,it!==null&&(g.updateQueue=it,g.flags|=4),Dj(ct,!0),ct.tail===null&&ct.tailMode==="hidden"&&!dt.alternate&&!I$4)return S$3(g),null}else 2*B$1()-ct.renderingStartTime>Gj&&it!==1073741824&&(g.flags|=128,ot=!0,Dj(ct,!1),g.lanes=4194304);ct.isBackwards?(dt.sibling=g.child,g.child=dt):(it=ct.last,it!==null?it.sibling=dt:g.child=dt,ct.last=dt)}return ct.tail!==null?(g=ct.tail,ct.rendering=g,ct.tail=g.sibling,ct.renderingStartTime=B$1(),g.sibling=null,it=L$3.current,G$1(L$3,ot?it&1|2:it&1),g):(S$3(g),null);case 22:case 23:return Hj(),ot=g.memoizedState!==null,et!==null&&et.memoizedState!==null!==ot&&(g.flags|=8192),ot&&g.mode&1?fj&1073741824&&(S$3(g),g.subtreeFlags&6&&(g.flags|=8192)):S$3(g),null;case 24:return null;case 25:return null}throw Error(p$3(156,g.tag))}function Ij(et,g){switch(wg(g),g.tag){case 1:return Zf(g.type)&&$f(),et=g.flags,et&65536?(g.flags=et&-65537|128,g):null;case 3:return zh(),E$2(Wf),E$2(H$3),Eh(),et=g.flags,et&65536&&!(et&128)?(g.flags=et&-65537|128,g):null;case 5:return Bh(g),null;case 13:if(E$2(L$3),et=g.memoizedState,et!==null&&et.dehydrated!==null){if(g.alternate===null)throw Error(p$3(340));Ig()}return et=g.flags,et&65536?(g.flags=et&-65537|128,g):null;case 19:return E$2(L$3),null;case 4:return zh(),null;case 10:return ah(g.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U$4=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V$2=null;function Lj(et,g){var it=et.ref;if(it!==null)if(typeof it=="function")try{it(null)}catch(ot){W$2(et,g,ot)}else it.current=null}function Mj(et,g,it){try{it()}catch(ot){W$2(et,g,ot)}}var Nj=!1;function Oj(et,g){if(Cf=dd,et=Me$1(),Ne$1(et)){if("selectionStart"in et)var it={start:et.selectionStart,end:et.selectionEnd};else e:{it=(it=et.ownerDocument)&&it.defaultView||window;var ot=it.getSelection&&it.getSelection();if(ot&&ot.rangeCount!==0){it=ot.anchorNode;var ut=ot.anchorOffset,ct=ot.focusNode;ot=ot.focusOffset;try{it.nodeType,ct.nodeType}catch{it=null;break e}var dt=0,ft=-1,St=-1,Tt=0,kt=0,jt=et,Rt=null;t:for(;;){for(var $t;jt!==it||ut!==0&&jt.nodeType!==3||(ft=dt+ut),jt!==ct||ot!==0&&jt.nodeType!==3||(St=dt+ot),jt.nodeType===3&&(dt+=jt.nodeValue.length),($t=jt.firstChild)!==null;)Rt=jt,jt=$t;for(;;){if(jt===et)break t;if(Rt===it&&++Tt===ut&&(ft=dt),Rt===ct&&++kt===ot&&(St=dt),($t=jt.nextSibling)!==null)break;jt=Rt,Rt=jt.parentNode}jt=$t}it=ft===-1||St===-1?null:{start:ft,end:St}}else it=null}it=it||{start:0,end:0}}else it=null;for(Df={focusedElem:et,selectionRange:it},dd=!1,V$2=g;V$2!==null;)if(g=V$2,et=g.child,(g.subtreeFlags&1028)!==0&&et!==null)et.return=g,V$2=et;else for(;V$2!==null;){g=V$2;try{var zt=g.alternate;if(g.flags&1024)switch(g.tag){case 0:case 11:case 15:break;case 1:if(zt!==null){var Ht=zt.memoizedProps,Zt=zt.memoizedState,Bt=g.stateNode,Ut=Bt.getSnapshotBeforeUpdate(g.elementType===g.type?Ht:Ci(g.type,Ht),Zt);Bt.__reactInternalSnapshotBeforeUpdate=Ut}break;case 3:var Kt=g.stateNode.containerInfo;Kt.nodeType===1?Kt.textContent="":Kt.nodeType===9&&Kt.documentElement&&Kt.removeChild(Kt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$3(163))}}catch(Yt){W$2(g,g.return,Yt)}if(et=g.sibling,et!==null){et.return=g.return,V$2=et;break}V$2=g.return}return zt=Nj,Nj=!1,zt}function Pj(et,g,it){var ot=g.updateQueue;if(ot=ot!==null?ot.lastEffect:null,ot!==null){var ut=ot=ot.next;do{if((ut.tag&et)===et){var ct=ut.destroy;ut.destroy=void 0,ct!==void 0&&Mj(g,it,ct)}ut=ut.next}while(ut!==ot)}}function Qj(et,g){if(g=g.updateQueue,g=g!==null?g.lastEffect:null,g!==null){var it=g=g.next;do{if((it.tag&et)===et){var ot=it.create;it.destroy=ot()}it=it.next}while(it!==g)}}function Rj(et){var g=et.ref;if(g!==null){var it=et.stateNode;switch(et.tag){case 5:et=it;break;default:et=it}typeof g=="function"?g(et):g.current=et}}function Sj(et){var g=et.alternate;g!==null&&(et.alternate=null,Sj(g)),et.child=null,et.deletions=null,et.sibling=null,et.tag===5&&(g=et.stateNode,g!==null&&(delete g[Of],delete g[Pf],delete g[of],delete g[Qf],delete g[Rf])),et.stateNode=null,et.return=null,et.dependencies=null,et.memoizedProps=null,et.memoizedState=null,et.pendingProps=null,et.stateNode=null,et.updateQueue=null}function Tj(et){return et.tag===5||et.tag===3||et.tag===4}function Uj(et){e:for(;;){for(;et.sibling===null;){if(et.return===null||Tj(et.return))return null;et=et.return}for(et.sibling.return=et.return,et=et.sibling;et.tag!==5&&et.tag!==6&&et.tag!==18;){if(et.flags&2||et.child===null||et.tag===4)continue e;et.child.return=et,et=et.child}if(!(et.flags&2))return et.stateNode}}function Vj(et,g,it){var ot=et.tag;if(ot===5||ot===6)et=et.stateNode,g?it.nodeType===8?it.parentNode.insertBefore(et,g):it.insertBefore(et,g):(it.nodeType===8?(g=it.parentNode,g.insertBefore(et,it)):(g=it,g.appendChild(et)),it=it._reactRootContainer,it!=null||g.onclick!==null||(g.onclick=Bf));else if(ot!==4&&(et=et.child,et!==null))for(Vj(et,g,it),et=et.sibling;et!==null;)Vj(et,g,it),et=et.sibling}function Wj(et,g,it){var ot=et.tag;if(ot===5||ot===6)et=et.stateNode,g?it.insertBefore(et,g):it.appendChild(et);else if(ot!==4&&(et=et.child,et!==null))for(Wj(et,g,it),et=et.sibling;et!==null;)Wj(et,g,it),et=et.sibling}var X$4=null,Xj=!1;function Yj(et,g,it){for(it=it.child;it!==null;)Zj(et,g,it),it=it.sibling}function Zj(et,g,it){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,it)}catch{}switch(it.tag){case 5:U$4||Lj(it,g);case 6:var ot=X$4,ut=Xj;X$4=null,Yj(et,g,it),X$4=ot,Xj=ut,X$4!==null&&(Xj?(et=X$4,it=it.stateNode,et.nodeType===8?et.parentNode.removeChild(it):et.removeChild(it)):X$4.removeChild(it.stateNode));break;case 18:X$4!==null&&(Xj?(et=X$4,it=it.stateNode,et.nodeType===8?Kf(et.parentNode,it):et.nodeType===1&&Kf(et,it),bd(et)):Kf(X$4,it.stateNode));break;case 4:ot=X$4,ut=Xj,X$4=it.stateNode.containerInfo,Xj=!0,Yj(et,g,it),X$4=ot,Xj=ut;break;case 0:case 11:case 14:case 15:if(!U$4&&(ot=it.updateQueue,ot!==null&&(ot=ot.lastEffect,ot!==null))){ut=ot=ot.next;do{var ct=ut,dt=ct.destroy;ct=ct.tag,dt!==void 0&&(ct&2||ct&4)&&Mj(it,g,dt),ut=ut.next}while(ut!==ot)}Yj(et,g,it);break;case 1:if(!U$4&&(Lj(it,g),ot=it.stateNode,typeof ot.componentWillUnmount=="function"))try{ot.props=it.memoizedProps,ot.state=it.memoizedState,ot.componentWillUnmount()}catch(ft){W$2(it,g,ft)}Yj(et,g,it);break;case 21:Yj(et,g,it);break;case 22:it.mode&1?(U$4=(ot=U$4)||it.memoizedState!==null,Yj(et,g,it),U$4=ot):Yj(et,g,it);break;default:Yj(et,g,it)}}function ak(et){var g=et.updateQueue;if(g!==null){et.updateQueue=null;var it=et.stateNode;it===null&&(it=et.stateNode=new Kj),g.forEach(function(ot){var ut=bk.bind(null,et,ot);it.has(ot)||(it.add(ot),ot.then(ut,ut))})}}function ck(et,g){var it=g.deletions;if(it!==null)for(var ot=0;ot<it.length;ot++){var ut=it[ot];try{var ct=et,dt=g,ft=dt;e:for(;ft!==null;){switch(ft.tag){case 5:X$4=ft.stateNode,Xj=!1;break e;case 3:X$4=ft.stateNode.containerInfo,Xj=!0;break e;case 4:X$4=ft.stateNode.containerInfo,Xj=!0;break e}ft=ft.return}if(X$4===null)throw Error(p$3(160));Zj(ct,dt,ut),X$4=null,Xj=!1;var St=ut.alternate;St!==null&&(St.return=null),ut.return=null}catch(Tt){W$2(ut,g,Tt)}}if(g.subtreeFlags&12854)for(g=g.child;g!==null;)dk(g,et),g=g.sibling}function dk(et,g){var it=et.alternate,ot=et.flags;switch(et.tag){case 0:case 11:case 14:case 15:if(ck(g,et),ek(et),ot&4){try{Pj(3,et,et.return),Qj(3,et)}catch(Ht){W$2(et,et.return,Ht)}try{Pj(5,et,et.return)}catch(Ht){W$2(et,et.return,Ht)}}break;case 1:ck(g,et),ek(et),ot&512&&it!==null&&Lj(it,it.return);break;case 5:if(ck(g,et),ek(et),ot&512&&it!==null&&Lj(it,it.return),et.flags&32){var ut=et.stateNode;try{ob(ut,"")}catch(Ht){W$2(et,et.return,Ht)}}if(ot&4&&(ut=et.stateNode,ut!=null)){var ct=et.memoizedProps,dt=it!==null?it.memoizedProps:ct,ft=et.type,St=et.updateQueue;if(et.updateQueue=null,St!==null)try{ft==="input"&&ct.type==="radio"&&ct.name!=null&&ab(ut,ct),vb(ft,dt);var Tt=vb(ft,ct);for(dt=0;dt<St.length;dt+=2){var kt=St[dt],jt=St[dt+1];kt==="style"?sb(ut,jt):kt==="dangerouslySetInnerHTML"?nb(ut,jt):kt==="children"?ob(ut,jt):ta(ut,kt,jt,Tt)}switch(ft){case"input":bb(ut,ct);break;case"textarea":ib(ut,ct);break;case"select":var Rt=ut._wrapperState.wasMultiple;ut._wrapperState.wasMultiple=!!ct.multiple;var $t=ct.value;$t!=null?fb(ut,!!ct.multiple,$t,!1):Rt!==!!ct.multiple&&(ct.defaultValue!=null?fb(ut,!!ct.multiple,ct.defaultValue,!0):fb(ut,!!ct.multiple,ct.multiple?[]:"",!1))}ut[Pf]=ct}catch(Ht){W$2(et,et.return,Ht)}}break;case 6:if(ck(g,et),ek(et),ot&4){if(et.stateNode===null)throw Error(p$3(162));ut=et.stateNode,ct=et.memoizedProps;try{ut.nodeValue=ct}catch(Ht){W$2(et,et.return,Ht)}}break;case 3:if(ck(g,et),ek(et),ot&4&&it!==null&&it.memoizedState.isDehydrated)try{bd(g.containerInfo)}catch(Ht){W$2(et,et.return,Ht)}break;case 4:ck(g,et),ek(et);break;case 13:ck(g,et),ek(et),ut=et.child,ut.flags&8192&&(ct=ut.memoizedState!==null,ut.stateNode.isHidden=ct,!ct||ut.alternate!==null&&ut.alternate.memoizedState!==null||(fk=B$1())),ot&4&&ak(et);break;case 22:if(kt=it!==null&&it.memoizedState!==null,et.mode&1?(U$4=(Tt=U$4)||kt,ck(g,et),U$4=Tt):ck(g,et),ek(et),ot&8192){if(Tt=et.memoizedState!==null,(et.stateNode.isHidden=Tt)&&!kt&&et.mode&1)for(V$2=et,kt=et.child;kt!==null;){for(jt=V$2=kt;V$2!==null;){switch(Rt=V$2,$t=Rt.child,Rt.tag){case 0:case 11:case 14:case 15:Pj(4,Rt,Rt.return);break;case 1:Lj(Rt,Rt.return);var zt=Rt.stateNode;if(typeof zt.componentWillUnmount=="function"){ot=Rt,it=Rt.return;try{g=ot,zt.props=g.memoizedProps,zt.state=g.memoizedState,zt.componentWillUnmount()}catch(Ht){W$2(ot,it,Ht)}}break;case 5:Lj(Rt,Rt.return);break;case 22:if(Rt.memoizedState!==null){gk(jt);continue}}$t!==null?($t.return=Rt,V$2=$t):gk(jt)}kt=kt.sibling}e:for(kt=null,jt=et;;){if(jt.tag===5){if(kt===null){kt=jt;try{ut=jt.stateNode,Tt?(ct=ut.style,typeof ct.setProperty=="function"?ct.setProperty("display","none","important"):ct.display="none"):(ft=jt.stateNode,St=jt.memoizedProps.style,dt=St!=null&&St.hasOwnProperty("display")?St.display:null,ft.style.display=rb("display",dt))}catch(Ht){W$2(et,et.return,Ht)}}}else if(jt.tag===6){if(kt===null)try{jt.stateNode.nodeValue=Tt?"":jt.memoizedProps}catch(Ht){W$2(et,et.return,Ht)}}else if((jt.tag!==22&&jt.tag!==23||jt.memoizedState===null||jt===et)&&jt.child!==null){jt.child.return=jt,jt=jt.child;continue}if(jt===et)break e;for(;jt.sibling===null;){if(jt.return===null||jt.return===et)break e;kt===jt&&(kt=null),jt=jt.return}kt===jt&&(kt=null),jt.sibling.return=jt.return,jt=jt.sibling}}break;case 19:ck(g,et),ek(et),ot&4&&ak(et);break;case 21:break;default:ck(g,et),ek(et)}}function ek(et){var g=et.flags;if(g&2){try{e:{for(var it=et.return;it!==null;){if(Tj(it)){var ot=it;break e}it=it.return}throw Error(p$3(160))}switch(ot.tag){case 5:var ut=ot.stateNode;ot.flags&32&&(ob(ut,""),ot.flags&=-33);var ct=Uj(et);Wj(et,ct,ut);break;case 3:case 4:var dt=ot.stateNode.containerInfo,ft=Uj(et);Vj(et,ft,dt);break;default:throw Error(p$3(161))}}catch(St){W$2(et,et.return,St)}et.flags&=-3}g&4096&&(et.flags&=-4097)}function hk(et,g,it){V$2=et,ik(et)}function ik(et,g,it){for(var ot=(et.mode&1)!==0;V$2!==null;){var ut=V$2,ct=ut.child;if(ut.tag===22&&ot){var dt=ut.memoizedState!==null||Jj;if(!dt){var ft=ut.alternate,St=ft!==null&&ft.memoizedState!==null||U$4;ft=Jj;var Tt=U$4;if(Jj=dt,(U$4=St)&&!Tt)for(V$2=ut;V$2!==null;)dt=V$2,St=dt.child,dt.tag===22&&dt.memoizedState!==null?jk(ut):St!==null?(St.return=dt,V$2=St):jk(ut);for(;ct!==null;)V$2=ct,ik(ct),ct=ct.sibling;V$2=ut,Jj=ft,U$4=Tt}kk(et)}else ut.subtreeFlags&8772&&ct!==null?(ct.return=ut,V$2=ct):kk(et)}}function kk(et){for(;V$2!==null;){var g=V$2;if(g.flags&8772){var it=g.alternate;try{if(g.flags&8772)switch(g.tag){case 0:case 11:case 15:U$4||Qj(5,g);break;case 1:var ot=g.stateNode;if(g.flags&4&&!U$4)if(it===null)ot.componentDidMount();else{var ut=g.elementType===g.type?it.memoizedProps:Ci(g.type,it.memoizedProps);ot.componentDidUpdate(ut,it.memoizedState,ot.__reactInternalSnapshotBeforeUpdate)}var ct=g.updateQueue;ct!==null&&sh(g,ct,ot);break;case 3:var dt=g.updateQueue;if(dt!==null){if(it=null,g.child!==null)switch(g.child.tag){case 5:it=g.child.stateNode;break;case 1:it=g.child.stateNode}sh(g,dt,it)}break;case 5:var ft=g.stateNode;if(it===null&&g.flags&4){it=ft;var St=g.memoizedProps;switch(g.type){case"button":case"input":case"select":case"textarea":St.autoFocus&&it.focus();break;case"img":St.src&&(it.src=St.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(g.memoizedState===null){var Tt=g.alternate;if(Tt!==null){var kt=Tt.memoizedState;if(kt!==null){var jt=kt.dehydrated;jt!==null&&bd(jt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$3(163))}U$4||g.flags&512&&Rj(g)}catch(Rt){W$2(g,g.return,Rt)}}if(g===et){V$2=null;break}if(it=g.sibling,it!==null){it.return=g.return,V$2=it;break}V$2=g.return}}function gk(et){for(;V$2!==null;){var g=V$2;if(g===et){V$2=null;break}var it=g.sibling;if(it!==null){it.return=g.return,V$2=it;break}V$2=g.return}}function jk(et){for(;V$2!==null;){var g=V$2;try{switch(g.tag){case 0:case 11:case 15:var it=g.return;try{Qj(4,g)}catch(St){W$2(g,it,St)}break;case 1:var ot=g.stateNode;if(typeof ot.componentDidMount=="function"){var ut=g.return;try{ot.componentDidMount()}catch(St){W$2(g,ut,St)}}var ct=g.return;try{Rj(g)}catch(St){W$2(g,ct,St)}break;case 5:var dt=g.return;try{Rj(g)}catch(St){W$2(g,dt,St)}}}catch(St){W$2(g,g.return,St)}if(g===et){V$2=null;break}var ft=g.sibling;if(ft!==null){ft.return=g.return,V$2=ft;break}V$2=g.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K$2=0,Q$1=null,Y=null,Z$2=0,fj=0,ej=Uf(0),T$3=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R$3(){return K$2&6?B$1():Ak!==-1?Ak:Ak=B$1()}function yi(et){return et.mode&1?K$2&2&&Z$2!==0?Z$2&-Z$2:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(et=C$4,et!==0||(et=window.event,et=et===void 0?16:jd(et.type)),et):1}function gi(et,g,it,ot){if(50<yk)throw yk=0,zk=null,Error(p$3(185));Ac(et,it,ot),(!(K$2&2)||et!==Q$1)&&(et===Q$1&&(!(K$2&2)&&(qk|=it),T$3===4&&Ck(et,Z$2)),Dk(et,ot),it===1&&K$2===0&&!(g.mode&1)&&(Gj=B$1()+500,fg&&jg()))}function Dk(et,g){var it=et.callbackNode;wc(et,g);var ot=uc(et,et===Q$1?Z$2:0);if(ot===0)it!==null&&bc(it),et.callbackNode=null,et.callbackPriority=0;else if(g=ot&-ot,et.callbackPriority!==g){if(it!=null&&bc(it),g===1)et.tag===0?ig(Ek.bind(null,et)):hg(Ek.bind(null,et)),Jf(function(){!(K$2&6)&&jg()}),it=null;else{switch(Dc(ot)){case 1:it=fc;break;case 4:it=gc;break;case 16:it=hc;break;case 536870912:it=jc;break;default:it=hc}it=Fk(it,Gk.bind(null,et))}et.callbackPriority=g,et.callbackNode=it}}function Gk(et,g){if(Ak=-1,Bk=0,K$2&6)throw Error(p$3(327));var it=et.callbackNode;if(Hk()&&et.callbackNode!==it)return null;var ot=uc(et,et===Q$1?Z$2:0);if(ot===0)return null;if(ot&30||ot&et.expiredLanes||g)g=Ik(et,ot);else{g=ot;var ut=K$2;K$2|=2;var ct=Jk();(Q$1!==et||Z$2!==g)&&(uk=null,Gj=B$1()+500,Kk(et,g));do try{Lk();break}catch(ft){Mk(et,ft)}while(1);$g(),mk.current=ct,K$2=ut,Y!==null?g=0:(Q$1=null,Z$2=0,g=T$3)}if(g!==0){if(g===2&&(ut=xc(et),ut!==0&&(ot=ut,g=Nk(et,ut))),g===1)throw it=pk,Kk(et,0),Ck(et,ot),Dk(et,B$1()),it;if(g===6)Ck(et,ot);else{if(ut=et.current.alternate,!(ot&30)&&!Ok(ut)&&(g=Ik(et,ot),g===2&&(ct=xc(et),ct!==0&&(ot=ct,g=Nk(et,ct))),g===1))throw it=pk,Kk(et,0),Ck(et,ot),Dk(et,B$1()),it;switch(et.finishedWork=ut,et.finishedLanes=ot,g){case 0:case 1:throw Error(p$3(345));case 2:Pk(et,tk,uk);break;case 3:if(Ck(et,ot),(ot&130023424)===ot&&(g=fk+500-B$1(),10<g)){if(uc(et,0)!==0)break;if(ut=et.suspendedLanes,(ut&ot)!==ot){R$3(),et.pingedLanes|=et.suspendedLanes&ut;break}et.timeoutHandle=Ff(Pk.bind(null,et,tk,uk),g);break}Pk(et,tk,uk);break;case 4:if(Ck(et,ot),(ot&4194240)===ot)break;for(g=et.eventTimes,ut=-1;0<ot;){var dt=31-oc(ot);ct=1<<dt,dt=g[dt],dt>ut&&(ut=dt),ot&=~ct}if(ot=ut,ot=B$1()-ot,ot=(120>ot?120:480>ot?480:1080>ot?1080:1920>ot?1920:3e3>ot?3e3:4320>ot?4320:1960*lk(ot/1960))-ot,10<ot){et.timeoutHandle=Ff(Pk.bind(null,et,tk,uk),ot);break}Pk(et,tk,uk);break;case 5:Pk(et,tk,uk);break;default:throw Error(p$3(329))}}}return Dk(et,B$1()),et.callbackNode===it?Gk.bind(null,et):null}function Nk(et,g){var it=sk;return et.current.memoizedState.isDehydrated&&(Kk(et,g).flags|=256),et=Ik(et,g),et!==2&&(g=tk,tk=it,g!==null&&Fj(g)),et}function Fj(et){tk===null?tk=et:tk.push.apply(tk,et)}function Ok(et){for(var g=et;;){if(g.flags&16384){var it=g.updateQueue;if(it!==null&&(it=it.stores,it!==null))for(var ot=0;ot<it.length;ot++){var ut=it[ot],ct=ut.getSnapshot;ut=ut.value;try{if(!He$2(ct(),ut))return!1}catch{return!1}}}if(it=g.child,g.subtreeFlags&16384&&it!==null)it.return=g,g=it;else{if(g===et)break;for(;g.sibling===null;){if(g.return===null||g.return===et)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function Ck(et,g){for(g&=~rk,g&=~qk,et.suspendedLanes|=g,et.pingedLanes&=~g,et=et.expirationTimes;0<g;){var it=31-oc(g),ot=1<<it;et[it]=-1,g&=~ot}}function Ek(et){if(K$2&6)throw Error(p$3(327));Hk();var g=uc(et,0);if(!(g&1))return Dk(et,B$1()),null;var it=Ik(et,g);if(et.tag!==0&&it===2){var ot=xc(et);ot!==0&&(g=ot,it=Nk(et,ot))}if(it===1)throw it=pk,Kk(et,0),Ck(et,g),Dk(et,B$1()),it;if(it===6)throw Error(p$3(345));return et.finishedWork=et.current.alternate,et.finishedLanes=g,Pk(et,tk,uk),Dk(et,B$1()),null}function Qk(et,g){var it=K$2;K$2|=1;try{return et(g)}finally{K$2=it,K$2===0&&(Gj=B$1()+500,fg&&jg())}}function Rk(et){wk!==null&&wk.tag===0&&!(K$2&6)&&Hk();var g=K$2;K$2|=1;var it=ok.transition,ot=C$4;try{if(ok.transition=null,C$4=1,et)return et()}finally{C$4=ot,ok.transition=it,K$2=g,!(K$2&6)&&jg()}}function Hj(){fj=ej.current,E$2(ej)}function Kk(et,g){et.finishedWork=null,et.finishedLanes=0;var it=et.timeoutHandle;if(it!==-1&&(et.timeoutHandle=-1,Gf(it)),Y!==null)for(it=Y.return;it!==null;){var ot=it;switch(wg(ot),ot.tag){case 1:ot=ot.type.childContextTypes,ot!=null&&$f();break;case 3:zh(),E$2(Wf),E$2(H$3),Eh();break;case 5:Bh(ot);break;case 4:zh();break;case 13:E$2(L$3);break;case 19:E$2(L$3);break;case 10:ah(ot.type._context);break;case 22:case 23:Hj()}it=it.return}if(Q$1=et,Y=et=Pg(et.current,null),Z$2=fj=g,T$3=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(g=0;g<fh.length;g++)if(it=fh[g],ot=it.interleaved,ot!==null){it.interleaved=null;var ut=ot.next,ct=it.pending;if(ct!==null){var dt=ct.next;ct.next=ut,ot.next=dt}it.pending=ot}fh=null}return et}function Mk(et,g){do{var it=Y;try{if($g(),Fh.current=Rh,Ih){for(var ot=M$3.memoizedState;ot!==null;){var ut=ot.queue;ut!==null&&(ut.pending=null),ot=ot.next}Ih=!1}if(Hh=0,O$4=N$2=M$3=null,Jh=!1,Kh=0,nk.current=null,it===null||it.return===null){T$3=1,pk=g,Y=null;break}e:{var ct=et,dt=it.return,ft=it,St=g;if(g=Z$2,ft.flags|=32768,St!==null&&typeof St=="object"&&typeof St.then=="function"){var Tt=St,kt=ft,jt=kt.tag;if(!(kt.mode&1)&&(jt===0||jt===11||jt===15)){var Rt=kt.alternate;Rt?(kt.updateQueue=Rt.updateQueue,kt.memoizedState=Rt.memoizedState,kt.lanes=Rt.lanes):(kt.updateQueue=null,kt.memoizedState=null)}var $t=Ui(dt);if($t!==null){$t.flags&=-257,Vi($t,dt,ft,ct,g),$t.mode&1&&Si(ct,Tt,g),g=$t,St=Tt;var zt=g.updateQueue;if(zt===null){var Ht=new Set;Ht.add(St),g.updateQueue=Ht}else zt.add(St);break e}else{if(!(g&1)){Si(ct,Tt,g),tj();break e}St=Error(p$3(426))}}else if(I$4&&ft.mode&1){var Zt=Ui(dt);if(Zt!==null){!(Zt.flags&65536)&&(Zt.flags|=256),Vi(Zt,dt,ft,ct,g),Jg(Ji(St,ft));break e}}ct=St=Ji(St,ft),T$3!==4&&(T$3=2),sk===null?sk=[ct]:sk.push(ct),ct=dt;do{switch(ct.tag){case 3:ct.flags|=65536,g&=-g,ct.lanes|=g;var Bt=Ni(ct,St,g);ph(ct,Bt);break e;case 1:ft=St;var Ut=ct.type,Kt=ct.stateNode;if(!(ct.flags&128)&&(typeof Ut.getDerivedStateFromError=="function"||Kt!==null&&typeof Kt.componentDidCatch=="function"&&(Ri===null||!Ri.has(Kt)))){ct.flags|=65536,g&=-g,ct.lanes|=g;var Yt=Qi(ct,ft,g);ph(ct,Yt);break e}}ct=ct.return}while(ct!==null)}Sk(it)}catch(Jt){g=Jt,Y===it&&it!==null&&(Y=it=it.return);continue}break}while(1)}function Jk(){var et=mk.current;return mk.current=Rh,et===null?Rh:et}function tj(){(T$3===0||T$3===3||T$3===2)&&(T$3=4),Q$1===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q$1,Z$2)}function Ik(et,g){var it=K$2;K$2|=2;var ot=Jk();(Q$1!==et||Z$2!==g)&&(uk=null,Kk(et,g));do try{Tk();break}catch(ut){Mk(et,ut)}while(1);if($g(),K$2=it,mk.current=ot,Y!==null)throw Error(p$3(261));return Q$1=null,Z$2=0,T$3}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk(et){var g=Vk(et.alternate,et,fj);et.memoizedProps=et.pendingProps,g===null?Sk(et):Y=g,nk.current=null}function Sk(et){var g=et;do{var it=g.alternate;if(et=g.return,g.flags&32768){if(it=Ij(it,g),it!==null){it.flags&=32767,Y=it;return}if(et!==null)et.flags|=32768,et.subtreeFlags=0,et.deletions=null;else{T$3=6,Y=null;return}}else if(it=Ej(it,g,fj),it!==null){Y=it;return}if(g=g.sibling,g!==null){Y=g;return}Y=g=et}while(g!==null);T$3===0&&(T$3=5)}function Pk(et,g,it){var ot=C$4,ut=ok.transition;try{ok.transition=null,C$4=1,Wk(et,g,it,ot)}finally{ok.transition=ut,C$4=ot}return null}function Wk(et,g,it,ot){do Hk();while(wk!==null);if(K$2&6)throw Error(p$3(327));it=et.finishedWork;var ut=et.finishedLanes;if(it===null)return null;if(et.finishedWork=null,et.finishedLanes=0,it===et.current)throw Error(p$3(177));et.callbackNode=null,et.callbackPriority=0;var ct=it.lanes|it.childLanes;if(Bc(et,ct),et===Q$1&&(Y=Q$1=null,Z$2=0),!(it.subtreeFlags&2064)&&!(it.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),ct=(it.flags&15990)!==0,it.subtreeFlags&15990||ct){ct=ok.transition,ok.transition=null;var dt=C$4;C$4=1;var ft=K$2;K$2|=4,nk.current=null,Oj(et,it),dk(it,et),Oe$1(Df),dd=!!Cf,Df=Cf=null,et.current=it,hk(it),dc(),K$2=ft,C$4=dt,ok.transition=ct}else et.current=it;if(vk&&(vk=!1,wk=et,xk=ut),ct=et.pendingLanes,ct===0&&(Ri=null),mc(it.stateNode),Dk(et,B$1()),g!==null)for(ot=et.onRecoverableError,it=0;it<g.length;it++)ut=g[it],ot(ut.value,{componentStack:ut.stack,digest:ut.digest});if(Oi)throw Oi=!1,et=Pi,Pi=null,et;return xk&1&&et.tag!==0&&Hk(),ct=et.pendingLanes,ct&1?et===zk?yk++:(yk=0,zk=et):yk=0,jg(),null}function Hk(){if(wk!==null){var et=Dc(xk),g=ok.transition,it=C$4;try{if(ok.transition=null,C$4=16>et?16:et,wk===null)var ot=!1;else{if(et=wk,wk=null,xk=0,K$2&6)throw Error(p$3(331));var ut=K$2;for(K$2|=4,V$2=et.current;V$2!==null;){var ct=V$2,dt=ct.child;if(V$2.flags&16){var ft=ct.deletions;if(ft!==null){for(var St=0;St<ft.length;St++){var Tt=ft[St];for(V$2=Tt;V$2!==null;){var kt=V$2;switch(kt.tag){case 0:case 11:case 15:Pj(8,kt,ct)}var jt=kt.child;if(jt!==null)jt.return=kt,V$2=jt;else for(;V$2!==null;){kt=V$2;var Rt=kt.sibling,$t=kt.return;if(Sj(kt),kt===Tt){V$2=null;break}if(Rt!==null){Rt.return=$t,V$2=Rt;break}V$2=$t}}}var zt=ct.alternate;if(zt!==null){var Ht=zt.child;if(Ht!==null){zt.child=null;do{var Zt=Ht.sibling;Ht.sibling=null,Ht=Zt}while(Ht!==null)}}V$2=ct}}if(ct.subtreeFlags&2064&&dt!==null)dt.return=ct,V$2=dt;else e:for(;V$2!==null;){if(ct=V$2,ct.flags&2048)switch(ct.tag){case 0:case 11:case 15:Pj(9,ct,ct.return)}var Bt=ct.sibling;if(Bt!==null){Bt.return=ct.return,V$2=Bt;break e}V$2=ct.return}}var Ut=et.current;for(V$2=Ut;V$2!==null;){dt=V$2;var Kt=dt.child;if(dt.subtreeFlags&2064&&Kt!==null)Kt.return=dt,V$2=Kt;else e:for(dt=Ut;V$2!==null;){if(ft=V$2,ft.flags&2048)try{switch(ft.tag){case 0:case 11:case 15:Qj(9,ft)}}catch(Jt){W$2(ft,ft.return,Jt)}if(ft===dt){V$2=null;break e}var Yt=ft.sibling;if(Yt!==null){Yt.return=ft.return,V$2=Yt;break e}V$2=ft.return}}if(K$2=ut,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,et)}catch{}ot=!0}return ot}finally{C$4=it,ok.transition=g}}return!1}function Xk(et,g,it){g=Ji(it,g),g=Ni(et,g,1),et=nh(et,g,1),g=R$3(),et!==null&&(Ac(et,1,g),Dk(et,g))}function W$2(et,g,it){if(et.tag===3)Xk(et,et,it);else for(;g!==null;){if(g.tag===3){Xk(g,et,it);break}else if(g.tag===1){var ot=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof ot.componentDidCatch=="function"&&(Ri===null||!Ri.has(ot))){et=Ji(it,et),et=Qi(g,et,1),g=nh(g,et,1),et=R$3(),g!==null&&(Ac(g,1,et),Dk(g,et));break}}g=g.return}}function Ti(et,g,it){var ot=et.pingCache;ot!==null&&ot.delete(g),g=R$3(),et.pingedLanes|=et.suspendedLanes&it,Q$1===et&&(Z$2&it)===it&&(T$3===4||T$3===3&&(Z$2&130023424)===Z$2&&500>B$1()-fk?Kk(et,0):rk|=it),Dk(et,g)}function Yk(et,g){g===0&&(et.mode&1?(g=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):g=1);var it=R$3();et=ih(et,g),et!==null&&(Ac(et,g,it),Dk(et,it))}function uj(et){var g=et.memoizedState,it=0;g!==null&&(it=g.retryLane),Yk(et,it)}function bk(et,g){var it=0;switch(et.tag){case 13:var ot=et.stateNode,ut=et.memoizedState;ut!==null&&(it=ut.retryLane);break;case 19:ot=et.stateNode;break;default:throw Error(p$3(314))}ot!==null&&ot.delete(g),Yk(et,it)}var Vk;Vk=function(et,g,it){if(et!==null)if(et.memoizedProps!==g.pendingProps||Wf.current)dh=!0;else{if(!(et.lanes&it)&&!(g.flags&128))return dh=!1,yj(et,g,it);dh=!!(et.flags&131072)}else dh=!1,I$4&&g.flags&1048576&&ug(g,ng,g.index);switch(g.lanes=0,g.tag){case 2:var ot=g.type;ij(et,g),et=g.pendingProps;var ut=Yf(g,H$3.current);ch(g,it),ut=Nh(null,g,ot,et,ut,it);var ct=Sh();return g.flags|=1,typeof ut=="object"&&ut!==null&&typeof ut.render=="function"&&ut.$$typeof===void 0?(g.tag=1,g.memoizedState=null,g.updateQueue=null,Zf(ot)?(ct=!0,cg(g)):ct=!1,g.memoizedState=ut.state!==null&&ut.state!==void 0?ut.state:null,kh(g),ut.updater=Ei,g.stateNode=ut,ut._reactInternals=g,Ii(g,ot,et,it),g=jj(null,g,ot,!0,ct,it)):(g.tag=0,I$4&&ct&&vg(g),Xi(null,g,ut,it),g=g.child),g;case 16:ot=g.elementType;e:{switch(ij(et,g),et=g.pendingProps,ut=ot._init,ot=ut(ot._payload),g.type=ot,ut=g.tag=Zk(ot),et=Ci(ot,et),ut){case 0:g=cj(null,g,ot,et,it);break e;case 1:g=hj(null,g,ot,et,it);break e;case 11:g=Yi(null,g,ot,et,it);break e;case 14:g=$i(null,g,ot,Ci(ot.type,et),it);break e}throw Error(p$3(306,ot,""))}return g;case 0:return ot=g.type,ut=g.pendingProps,ut=g.elementType===ot?ut:Ci(ot,ut),cj(et,g,ot,ut,it);case 1:return ot=g.type,ut=g.pendingProps,ut=g.elementType===ot?ut:Ci(ot,ut),hj(et,g,ot,ut,it);case 3:e:{if(kj(g),et===null)throw Error(p$3(387));ot=g.pendingProps,ct=g.memoizedState,ut=ct.element,lh(et,g),qh(g,ot,null,it);var dt=g.memoizedState;if(ot=dt.element,ct.isDehydrated)if(ct={element:ot,isDehydrated:!1,cache:dt.cache,pendingSuspenseBoundaries:dt.pendingSuspenseBoundaries,transitions:dt.transitions},g.updateQueue.baseState=ct,g.memoizedState=ct,g.flags&256){ut=Ji(Error(p$3(423)),g),g=lj(et,g,ot,it,ut);break e}else if(ot!==ut){ut=Ji(Error(p$3(424)),g),g=lj(et,g,ot,it,ut);break e}else for(yg=Lf(g.stateNode.containerInfo.firstChild),xg=g,I$4=!0,zg=null,it=Vg(g,null,ot,it),g.child=it;it;)it.flags=it.flags&-3|4096,it=it.sibling;else{if(Ig(),ot===ut){g=Zi(et,g,it);break e}Xi(et,g,ot,it)}g=g.child}return g;case 5:return Ah(g),et===null&&Eg(g),ot=g.type,ut=g.pendingProps,ct=et!==null?et.memoizedProps:null,dt=ut.children,Ef(ot,ut)?dt=null:ct!==null&&Ef(ot,ct)&&(g.flags|=32),gj(et,g),Xi(et,g,dt,it),g.child;case 6:return et===null&&Eg(g),null;case 13:return oj(et,g,it);case 4:return yh(g,g.stateNode.containerInfo),ot=g.pendingProps,et===null?g.child=Ug(g,null,ot,it):Xi(et,g,ot,it),g.child;case 11:return ot=g.type,ut=g.pendingProps,ut=g.elementType===ot?ut:Ci(ot,ut),Yi(et,g,ot,ut,it);case 7:return Xi(et,g,g.pendingProps,it),g.child;case 8:return Xi(et,g,g.pendingProps.children,it),g.child;case 12:return Xi(et,g,g.pendingProps.children,it),g.child;case 10:e:{if(ot=g.type._context,ut=g.pendingProps,ct=g.memoizedProps,dt=ut.value,G$1(Wg,ot._currentValue),ot._currentValue=dt,ct!==null)if(He$2(ct.value,dt)){if(ct.children===ut.children&&!Wf.current){g=Zi(et,g,it);break e}}else for(ct=g.child,ct!==null&&(ct.return=g);ct!==null;){var ft=ct.dependencies;if(ft!==null){dt=ct.child;for(var St=ft.firstContext;St!==null;){if(St.context===ot){if(ct.tag===1){St=mh(-1,it&-it),St.tag=2;var Tt=ct.updateQueue;if(Tt!==null){Tt=Tt.shared;var kt=Tt.pending;kt===null?St.next=St:(St.next=kt.next,kt.next=St),Tt.pending=St}}ct.lanes|=it,St=ct.alternate,St!==null&&(St.lanes|=it),bh(ct.return,it,g),ft.lanes|=it;break}St=St.next}}else if(ct.tag===10)dt=ct.type===g.type?null:ct.child;else if(ct.tag===18){if(dt=ct.return,dt===null)throw Error(p$3(341));dt.lanes|=it,ft=dt.alternate,ft!==null&&(ft.lanes|=it),bh(dt,it,g),dt=ct.sibling}else dt=ct.child;if(dt!==null)dt.return=ct;else for(dt=ct;dt!==null;){if(dt===g){dt=null;break}if(ct=dt.sibling,ct!==null){ct.return=dt.return,dt=ct;break}dt=dt.return}ct=dt}Xi(et,g,ut.children,it),g=g.child}return g;case 9:return ut=g.type,ot=g.pendingProps.children,ch(g,it),ut=eh(ut),ot=ot(ut),g.flags|=1,Xi(et,g,ot,it),g.child;case 14:return ot=g.type,ut=Ci(ot,g.pendingProps),ut=Ci(ot.type,ut),$i(et,g,ot,ut,it);case 15:return bj(et,g,g.type,g.pendingProps,it);case 17:return ot=g.type,ut=g.pendingProps,ut=g.elementType===ot?ut:Ci(ot,ut),ij(et,g),g.tag=1,Zf(ot)?(et=!0,cg(g)):et=!1,ch(g,it),Gi(g,ot,ut),Ii(g,ot,ut,it),jj(null,g,ot,!0,et,it);case 19:return xj(et,g,it);case 22:return dj(et,g,it)}throw Error(p$3(156,g.tag))};function Fk(et,g){return ac(et,g)}function $k(et,g,it,ot){this.tag=et,this.key=it,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=ot,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(et,g,it,ot){return new $k(et,g,it,ot)}function aj(et){return et=et.prototype,!(!et||!et.isReactComponent)}function Zk(et){if(typeof et=="function")return aj(et)?1:0;if(et!=null){if(et=et.$$typeof,et===Da)return 11;if(et===Ga)return 14}return 2}function Pg(et,g){var it=et.alternate;return it===null?(it=Bg(et.tag,g,et.key,et.mode),it.elementType=et.elementType,it.type=et.type,it.stateNode=et.stateNode,it.alternate=et,et.alternate=it):(it.pendingProps=g,it.type=et.type,it.flags=0,it.subtreeFlags=0,it.deletions=null),it.flags=et.flags&14680064,it.childLanes=et.childLanes,it.lanes=et.lanes,it.child=et.child,it.memoizedProps=et.memoizedProps,it.memoizedState=et.memoizedState,it.updateQueue=et.updateQueue,g=et.dependencies,it.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},it.sibling=et.sibling,it.index=et.index,it.ref=et.ref,it}function Rg(et,g,it,ot,ut,ct){var dt=2;if(ot=et,typeof et=="function")aj(et)&&(dt=1);else if(typeof et=="string")dt=5;else e:switch(et){case ya:return Tg(it.children,ut,ct,g);case za:dt=8,ut|=8;break;case Aa:return et=Bg(12,it,g,ut|2),et.elementType=Aa,et.lanes=ct,et;case Ea:return et=Bg(13,it,g,ut),et.elementType=Ea,et.lanes=ct,et;case Fa:return et=Bg(19,it,g,ut),et.elementType=Fa,et.lanes=ct,et;case Ia:return pj(it,ut,ct,g);default:if(typeof et=="object"&&et!==null)switch(et.$$typeof){case Ba:dt=10;break e;case Ca:dt=9;break e;case Da:dt=11;break e;case Ga:dt=14;break e;case Ha:dt=16,ot=null;break e}throw Error(p$3(130,et==null?et:typeof et,""))}return g=Bg(dt,it,g,ut),g.elementType=et,g.type=ot,g.lanes=ct,g}function Tg(et,g,it,ot){return et=Bg(7,et,ot,g),et.lanes=it,et}function pj(et,g,it,ot){return et=Bg(22,et,ot,g),et.elementType=Ia,et.lanes=it,et.stateNode={isHidden:!1},et}function Qg(et,g,it){return et=Bg(6,et,null,g),et.lanes=it,et}function Sg(et,g,it){return g=Bg(4,et.children!==null?et.children:[],et.key,g),g.lanes=it,g.stateNode={containerInfo:et.containerInfo,pendingChildren:null,implementation:et.implementation},g}function al(et,g,it,ot,ut){this.tag=g,this.containerInfo=et,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=ot,this.onRecoverableError=ut,this.mutableSourceEagerHydrationData=null}function bl(et,g,it,ot,ut,ct,dt,ft,St){return et=new al(et,g,it,ft,St),g===1?(g=1,ct===!0&&(g|=8)):g=0,ct=Bg(3,null,null,g),et.current=ct,ct.stateNode=et,ct.memoizedState={element:ot,isDehydrated:it,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(ct),et}function cl(et,g,it){var ot=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:ot==null?null:""+ot,children:et,containerInfo:g,implementation:it}}function dl(et){if(!et)return Vf;et=et._reactInternals;e:{if(Vb(et)!==et||et.tag!==1)throw Error(p$3(170));var g=et;do{switch(g.tag){case 3:g=g.stateNode.context;break e;case 1:if(Zf(g.type)){g=g.stateNode.__reactInternalMemoizedMergedChildContext;break e}}g=g.return}while(g!==null);throw Error(p$3(171))}if(et.tag===1){var it=et.type;if(Zf(it))return bg(et,it,g)}return g}function el(et,g,it,ot,ut,ct,dt,ft,St){return et=bl(it,ot,!0,et,ut,ct,dt,ft,St),et.context=dl(null),it=et.current,ot=R$3(),ut=yi(it),ct=mh(ot,ut),ct.callback=g??null,nh(it,ct,ut),et.current.lanes=ut,Ac(et,ut,ot),Dk(et,ot),et}function fl(et,g,it,ot){var ut=g.current,ct=R$3(),dt=yi(ut);return it=dl(it),g.context===null?g.context=it:g.pendingContext=it,g=mh(ct,dt),g.payload={element:et},ot=ot===void 0?null:ot,ot!==null&&(g.callback=ot),et=nh(ut,g,dt),et!==null&&(gi(et,ut,dt,ct),oh(et,ut,dt)),dt}function gl(et){if(et=et.current,!et.child)return null;switch(et.child.tag){case 5:return et.child.stateNode;default:return et.child.stateNode}}function hl(et,g){if(et=et.memoizedState,et!==null&&et.dehydrated!==null){var it=et.retryLane;et.retryLane=it!==0&&it<g?it:g}}function il(et,g){hl(et,g),(et=et.alternate)&&hl(et,g)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(et){console.error(et)};function ll(et){this._internalRoot=et}ml.prototype.render=ll.prototype.render=function(et){var g=this._internalRoot;if(g===null)throw Error(p$3(409));fl(et,g,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var et=this._internalRoot;if(et!==null){this._internalRoot=null;var g=et.containerInfo;Rk(function(){fl(null,et,null,null)}),g[uf]=null}};function ml(et){this._internalRoot=et}ml.prototype.unstable_scheduleHydration=function(et){if(et){var g=Hc();et={blockedOn:null,target:et,priority:g};for(var it=0;it<Qc.length&&g!==0&&g<Qc[it].priority;it++);Qc.splice(it,0,et),it===0&&Vc(et)}};function nl(et){return!(!et||et.nodeType!==1&&et.nodeType!==9&&et.nodeType!==11)}function ol(et){return!(!et||et.nodeType!==1&&et.nodeType!==9&&et.nodeType!==11&&(et.nodeType!==8||et.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(et,g,it,ot,ut){if(ut){if(typeof ot=="function"){var ct=ot;ot=function(){var Tt=gl(dt);ct.call(Tt)}}var dt=el(g,ot,et,0,null,!1,!1,"",pl);return et._reactRootContainer=dt,et[uf]=dt.current,sf(et.nodeType===8?et.parentNode:et),Rk(),dt}for(;ut=et.lastChild;)et.removeChild(ut);if(typeof ot=="function"){var ft=ot;ot=function(){var Tt=gl(St);ft.call(Tt)}}var St=bl(et,0,!1,null,null,!1,!1,"",pl);return et._reactRootContainer=St,et[uf]=St.current,sf(et.nodeType===8?et.parentNode:et),Rk(function(){fl(g,St,it,ot)}),St}function rl(et,g,it,ot,ut){var ct=it._reactRootContainer;if(ct){var dt=ct;if(typeof ut=="function"){var ft=ut;ut=function(){var St=gl(dt);ft.call(St)}}fl(g,dt,et,ut)}else dt=ql(it,g,et,ut,ot);return gl(dt)}Ec=function(et){switch(et.tag){case 3:var g=et.stateNode;if(g.current.memoizedState.isDehydrated){var it=tc(g.pendingLanes);it!==0&&(Cc(g,it|1),Dk(g,B$1()),!(K$2&6)&&(Gj=B$1()+500,jg()))}break;case 13:Rk(function(){var ot=ih(et,1);if(ot!==null){var ut=R$3();gi(ot,et,1,ut)}}),il(et,1)}};Fc=function(et){if(et.tag===13){var g=ih(et,134217728);if(g!==null){var it=R$3();gi(g,et,134217728,it)}il(et,134217728)}};Gc=function(et){if(et.tag===13){var g=yi(et),it=ih(et,g);if(it!==null){var ot=R$3();gi(it,et,g,ot)}il(et,g)}};Hc=function(){return C$4};Ic=function(et,g){var it=C$4;try{return C$4=et,g()}finally{C$4=it}};yb=function(et,g,it){switch(g){case"input":if(bb(et,it),g=it.name,it.type==="radio"&&g!=null){for(it=et;it.parentNode;)it=it.parentNode;for(it=it.querySelectorAll("input[name="+JSON.stringify(""+g)+'][type="radio"]'),g=0;g<it.length;g++){var ot=it[g];if(ot!==et&&ot.form===et.form){var ut=Db(ot);if(!ut)throw Error(p$3(90));Wa(ot),bb(ot,ut)}}}break;case"textarea":ib(et,it);break;case"select":g=it.value,g!=null&&fb(et,!!it.multiple,g,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue$1,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(et){return et=Zb(et),et===null?null:et.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(et,g){var it=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(g))throw Error(p$3(200));return cl(et,g,null,it)};reactDom_production_min.createRoot=function(et,g){if(!nl(et))throw Error(p$3(299));var it=!1,ot="",ut=kl;return g!=null&&(g.unstable_strictMode===!0&&(it=!0),g.identifierPrefix!==void 0&&(ot=g.identifierPrefix),g.onRecoverableError!==void 0&&(ut=g.onRecoverableError)),g=bl(et,1,!1,null,null,it,!1,ot,ut),et[uf]=g.current,sf(et.nodeType===8?et.parentNode:et),new ll(g)};reactDom_production_min.findDOMNode=function(et){if(et==null)return null;if(et.nodeType===1)return et;var g=et._reactInternals;if(g===void 0)throw typeof et.render=="function"?Error(p$3(188)):(et=Object.keys(et).join(","),Error(p$3(268,et)));return et=Zb(g),et=et===null?null:et.stateNode,et};reactDom_production_min.flushSync=function(et){return Rk(et)};reactDom_production_min.hydrate=function(et,g,it){if(!ol(g))throw Error(p$3(200));return rl(null,et,g,!0,it)};reactDom_production_min.hydrateRoot=function(et,g,it){if(!nl(et))throw Error(p$3(405));var ot=it!=null&&it.hydratedSources||null,ut=!1,ct="",dt=kl;if(it!=null&&(it.unstable_strictMode===!0&&(ut=!0),it.identifierPrefix!==void 0&&(ct=it.identifierPrefix),it.onRecoverableError!==void 0&&(dt=it.onRecoverableError)),g=el(g,null,et,1,it??null,ut,!1,ct,dt),et[uf]=g.current,sf(et),ot)for(et=0;et<ot.length;et++)it=ot[et],ut=it._getVersion,ut=ut(it._source),g.mutableSourceEagerHydrationData==null?g.mutableSourceEagerHydrationData=[it,ut]:g.mutableSourceEagerHydrationData.push(it,ut);return new ml(g)};reactDom_production_min.render=function(et,g,it){if(!ol(g))throw Error(p$3(200));return rl(null,et,g,!1,it)};reactDom_production_min.unmountComponentAtNode=function(et){if(!ol(et))throw Error(p$3(40));return et._reactRootContainer?(Rk(function(){rl(null,null,et,!1,function(){et._reactRootContainer=null,et[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(et,g,it,ot){if(!ol(it))throw Error(p$3(200));if(et==null||et._reactInternals===void 0)throw Error(p$3(38));return rl(et,g,it,!1,ot)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(et){console.error(et)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,createRoot,m$5=reactDomExports;createRoot=m$5.createRoot,m$5.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(et){for(var g=1;g<arguments.length;g++){var it=arguments[g];for(var ot in it)Object.prototype.hasOwnProperty.call(it,ot)&&(et[ot]=it[ot])}return et},_extends$2.apply(this,arguments)}var Action;(function(et){et.Pop="POP",et.Push="PUSH",et.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(et){et===void 0&&(et={});function g(ot,ut){let{pathname:ct,search:dt,hash:ft}=ot.location;return createLocation("",{pathname:ct,search:dt,hash:ft},ut.state&&ut.state.usr||null,ut.state&&ut.state.key||"default")}function it(ot,ut){return typeof ut=="string"?ut:createPath(ut)}return getUrlBasedHistory(g,it,null,et)}function invariant$2(et,g){if(et===!1||et===null||typeof et>"u")throw new Error(g)}function warning$2(et,g){if(!et){typeof console<"u"&&console.warn(g);try{throw new Error(g)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(et,g){return{usr:et.state,key:et.key,idx:g}}function createLocation(et,g,it,ot){return it===void 0&&(it=null),_extends$2({pathname:typeof et=="string"?et:et.pathname,search:"",hash:""},typeof g=="string"?parsePath(g):g,{state:it,key:g&&g.key||ot||createKey()})}function createPath(et){let{pathname:g="/",search:it="",hash:ot=""}=et;return it&&it!=="?"&&(g+=it.charAt(0)==="?"?it:"?"+it),ot&&ot!=="#"&&(g+=ot.charAt(0)==="#"?ot:"#"+ot),g}function parsePath(et){let g={};if(et){let it=et.indexOf("#");it>=0&&(g.hash=et.substr(it),et=et.substr(0,it));let ot=et.indexOf("?");ot>=0&&(g.search=et.substr(ot),et=et.substr(0,ot)),et&&(g.pathname=et)}return g}function getUrlBasedHistory(et,g,it,ot){ot===void 0&&(ot={});let{window:ut=document.defaultView,v5Compat:ct=!1}=ot,dt=ut.history,ft=Action.Pop,St=null,Tt=kt();Tt==null&&(Tt=0,dt.replaceState(_extends$2({},dt.state,{idx:Tt}),""));function kt(){return(dt.state||{idx:null}).idx}function jt(){ft=Action.Pop;let Zt=kt(),Bt=Zt==null?null:Zt-Tt;Tt=Zt,St&&St({action:ft,location:Ht.location,delta:Bt})}function Rt(Zt,Bt){ft=Action.Push;let Ut=createLocation(Ht.location,Zt,Bt);it&&it(Ut,Zt),Tt=kt()+1;let Kt=getHistoryState(Ut,Tt),Yt=Ht.createHref(Ut);try{dt.pushState(Kt,"",Yt)}catch(Jt){if(Jt instanceof DOMException&&Jt.name==="DataCloneError")throw Jt;ut.location.assign(Yt)}ct&&St&&St({action:ft,location:Ht.location,delta:1})}function $t(Zt,Bt){ft=Action.Replace;let Ut=createLocation(Ht.location,Zt,Bt);it&&it(Ut,Zt),Tt=kt();let Kt=getHistoryState(Ut,Tt),Yt=Ht.createHref(Ut);dt.replaceState(Kt,"",Yt),ct&&St&&St({action:ft,location:Ht.location,delta:0})}function zt(Zt){let Bt=ut.location.origin!=="null"?ut.location.origin:ut.location.href,Ut=typeof Zt=="string"?Zt:createPath(Zt);return Ut=Ut.replace(/ $/,"%20"),invariant$2(Bt,"No window.location.(origin|href) available to create URL for href: "+Ut),new URL(Ut,Bt)}let Ht={get action(){return ft},get location(){return et(ut,dt)},listen(Zt){if(St)throw new Error("A history only accepts one active listener");return ut.addEventListener(PopStateEventType,jt),St=Zt,()=>{ut.removeEventListener(PopStateEventType,jt),St=null}},createHref(Zt){return g(ut,Zt)},createURL:zt,encodeLocation(Zt){let Bt=zt(Zt);return{pathname:Bt.pathname,search:Bt.search,hash:Bt.hash}},push:Rt,replace:$t,go(Zt){return dt.go(Zt)}};return Ht}var ResultType;(function(et){et.data="data",et.deferred="deferred",et.redirect="redirect",et.error="error"})(ResultType||(ResultType={}));function matchRoutes(et,g,it){return it===void 0&&(it="/"),matchRoutesImpl(et,g,it,!1)}function matchRoutesImpl(et,g,it,ot){let ut=typeof g=="string"?parsePath(g):g,ct=stripBasename(ut.pathname||"/",it);if(ct==null)return null;let dt=flattenRoutes(et);rankRouteBranches(dt);let ft=null;for(let St=0;ft==null&&St<dt.length;++St){let Tt=decodePath(ct);ft=matchRouteBranch(dt[St],Tt,ot)}return ft}function flattenRoutes(et,g,it,ot){g===void 0&&(g=[]),it===void 0&&(it=[]),ot===void 0&&(ot="");let ut=(ct,dt,ft)=>{let St={relativePath:ft===void 0?ct.path||"":ft,caseSensitive:ct.caseSensitive===!0,childrenIndex:dt,route:ct};St.relativePath.startsWith("/")&&(invariant$2(St.relativePath.startsWith(ot),'Absolute route path "'+St.relativePath+'" nested under path '+('"'+ot+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),St.relativePath=St.relativePath.slice(ot.length));let Tt=joinPaths([ot,St.relativePath]),kt=it.concat(St);ct.children&&ct.children.length>0&&(invariant$2(ct.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+Tt+'".')),flattenRoutes(ct.children,g,kt,Tt)),!(ct.path==null&&!ct.index)&&g.push({path:Tt,score:computeScore(Tt,ct.index),routesMeta:kt})};return et.forEach((ct,dt)=>{var ft;if(ct.path===""||!((ft=ct.path)!=null&&ft.includes("?")))ut(ct,dt);else for(let St of explodeOptionalSegments(ct.path))ut(ct,dt,St)}),g}function explodeOptionalSegments(et){let g=et.split("/");if(g.length===0)return[];let[it,...ot]=g,ut=it.endsWith("?"),ct=it.replace(/\?$/,"");if(ot.length===0)return ut?[ct,""]:[ct];let dt=explodeOptionalSegments(ot.join("/")),ft=[];return ft.push(...dt.map(St=>St===""?ct:[ct,St].join("/"))),ut&&ft.push(...dt),ft.map(St=>et.startsWith("/")&&St===""?"/":St)}function rankRouteBranches(et){et.sort((g,it)=>g.score!==it.score?it.score-g.score:compareIndexes(g.routesMeta.map(ot=>ot.childrenIndex),it.routesMeta.map(ot=>ot.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=et=>et==="*";function computeScore(et,g){let it=et.split("/"),ot=it.length;return it.some(isSplat)&&(ot+=splatPenalty),g&&(ot+=indexRouteValue),it.filter(ut=>!isSplat(ut)).reduce((ut,ct)=>ut+(paramRe.test(ct)?dynamicSegmentValue:ct===""?emptySegmentValue:staticSegmentValue),ot)}function compareIndexes(et,g){return et.length===g.length&&et.slice(0,-1).every((ot,ut)=>ot===g[ut])?et[et.length-1]-g[g.length-1]:0}function matchRouteBranch(et,g,it){it===void 0&&(it=!1);let{routesMeta:ot}=et,ut={},ct="/",dt=[];for(let ft=0;ft<ot.length;++ft){let St=ot[ft],Tt=ft===ot.length-1,kt=ct==="/"?g:g.slice(ct.length)||"/",jt=matchPath({path:St.relativePath,caseSensitive:St.caseSensitive,end:Tt},kt),Rt=St.route;if(!jt&&Tt&&it&&!ot[ot.length-1].route.index&&(jt=matchPath({path:St.relativePath,caseSensitive:St.caseSensitive,end:!1},kt)),!jt)return null;Object.assign(ut,jt.params),dt.push({params:ut,pathname:joinPaths([ct,jt.pathname]),pathnameBase:normalizePathname(joinPaths([ct,jt.pathnameBase])),route:Rt}),jt.pathnameBase!=="/"&&(ct=joinPaths([ct,jt.pathnameBase]))}return dt}function matchPath(et,g){typeof et=="string"&&(et={path:et,caseSensitive:!1,end:!0});let[it,ot]=compilePath(et.path,et.caseSensitive,et.end),ut=g.match(it);if(!ut)return null;let ct=ut[0],dt=ct.replace(/(.)\/+$/,"$1"),ft=ut.slice(1);return{params:ot.reduce((Tt,kt,jt)=>{let{paramName:Rt,isOptional:$t}=kt;if(Rt==="*"){let Ht=ft[jt]||"";dt=ct.slice(0,ct.length-Ht.length).replace(/(.)\/+$/,"$1")}const zt=ft[jt];return $t&&!zt?Tt[Rt]=void 0:Tt[Rt]=(zt||"").replace(/%2F/g,"/"),Tt},{}),pathname:ct,pathnameBase:dt,pattern:et}}function compilePath(et,g,it){g===void 0&&(g=!1),it===void 0&&(it=!0),warning$2(et==="*"||!et.endsWith("*")||et.endsWith("/*"),'Route path "'+et+'" will be treated as if it were '+('"'+et.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+et.replace(/\*$/,"/*")+'".'));let ot=[],ut="^"+et.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(dt,ft,St)=>(ot.push({paramName:ft,isOptional:St!=null}),St?"/?([^\\/]+)?":"/([^\\/]+)"));return et.endsWith("*")?(ot.push({paramName:"*"}),ut+=et==="*"||et==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):it?ut+="\\/*$":et!==""&&et!=="/"&&(ut+="(?:(?=\\/|$))"),[new RegExp(ut,g?void 0:"i"),ot]}function decodePath(et){try{return et.split("/").map(g=>decodeURIComponent(g).replace(/\//g,"%2F")).join("/")}catch(g){return warning$2(!1,'The URL path "'+et+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+g+").")),et}}function stripBasename(et,g){if(g==="/")return et;if(!et.toLowerCase().startsWith(g.toLowerCase()))return null;let it=g.endsWith("/")?g.length-1:g.length,ot=et.charAt(it);return ot&&ot!=="/"?null:et.slice(it)||"/"}function resolvePath(et,g){g===void 0&&(g="/");let{pathname:it,search:ot="",hash:ut=""}=typeof et=="string"?parsePath(et):et;return{pathname:it?it.startsWith("/")?it:resolvePathname(it,g):g,search:normalizeSearch(ot),hash:normalizeHash(ut)}}function resolvePathname(et,g){let it=g.replace(/\/+$/,"").split("/");return et.split("/").forEach(ut=>{ut===".."?it.length>1&&it.pop():ut!=="."&&it.push(ut)}),it.length>1?it.join("/"):"/"}function getInvalidPathError(et,g,it,ot){return"Cannot include a '"+et+"' character in a manually specified "+("`to."+g+"` field ["+JSON.stringify(ot)+"].  Please separate it out to the ")+("`to."+it+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(et){return et.filter((g,it)=>it===0||g.route.path&&g.route.path.length>0)}function getResolveToMatches(et,g){let it=getPathContributingMatches(et);return g?it.map((ot,ut)=>ut===it.length-1?ot.pathname:ot.pathnameBase):it.map(ot=>ot.pathnameBase)}function resolveTo(et,g,it,ot){ot===void 0&&(ot=!1);let ut;typeof et=="string"?ut=parsePath(et):(ut=_extends$2({},et),invariant$2(!ut.pathname||!ut.pathname.includes("?"),getInvalidPathError("?","pathname","search",ut)),invariant$2(!ut.pathname||!ut.pathname.includes("#"),getInvalidPathError("#","pathname","hash",ut)),invariant$2(!ut.search||!ut.search.includes("#"),getInvalidPathError("#","search","hash",ut)));let ct=et===""||ut.pathname==="",dt=ct?"/":ut.pathname,ft;if(dt==null)ft=it;else{let jt=g.length-1;if(!ot&&dt.startsWith("..")){let Rt=dt.split("/");for(;Rt[0]==="..";)Rt.shift(),jt-=1;ut.pathname=Rt.join("/")}ft=jt>=0?g[jt]:"/"}let St=resolvePath(ut,ft),Tt=dt&&dt!=="/"&&dt.endsWith("/"),kt=(ct||dt===".")&&it.endsWith("/");return!St.pathname.endsWith("/")&&(Tt||kt)&&(St.pathname+="/"),St}const joinPaths=et=>et.join("/").replace(/\/\/+/g,"/"),normalizePathname=et=>et.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=et=>!et||et==="?"?"":et.startsWith("?")?et:"?"+et,normalizeHash=et=>!et||et==="#"?"":et.startsWith("#")?et:"#"+et;function isRouteErrorResponse(et){return et!=null&&typeof et.status=="number"&&typeof et.statusText=="string"&&typeof et.internal=="boolean"&&"data"in et}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(et){for(var g=1;g<arguments.length;g++){var it=arguments[g];for(var ot in it)Object.prototype.hasOwnProperty.call(it,ot)&&(et[ot]=it[ot])}return et},_extends$1.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useHref(et,g){let{relative:it}=g===void 0?{}:g;useInRouterContext()||invariant$2(!1);let{basename:ot,navigator:ut}=reactExports.useContext(NavigationContext),{hash:ct,pathname:dt,search:ft}=useResolvedPath(et,{relative:it}),St=dt;return ot!=="/"&&(St=dt==="/"?ot:joinPaths([ot,dt])),ut.createHref({pathname:St,search:ft,hash:ct})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant$2(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect$1(et){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(et)}function useNavigate(){let{isDataRoute:et}=reactExports.useContext(RouteContext);return et?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant$2(!1);let et=reactExports.useContext(DataRouterContext),{basename:g,future:it,navigator:ot}=reactExports.useContext(NavigationContext),{matches:ut}=reactExports.useContext(RouteContext),{pathname:ct}=useLocation(),dt=JSON.stringify(getResolveToMatches(ut,it.v7_relativeSplatPath)),ft=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{ft.current=!0}),reactExports.useCallback(function(Tt,kt){if(kt===void 0&&(kt={}),!ft.current)return;if(typeof Tt=="number"){ot.go(Tt);return}let jt=resolveTo(Tt,JSON.parse(dt),ct,kt.relative==="path");et==null&&g!=="/"&&(jt.pathname=jt.pathname==="/"?g:joinPaths([g,jt.pathname])),(kt.replace?ot.replace:ot.push)(jt,kt.state,kt)},[g,ot,dt,ct,et])}function useResolvedPath(et,g){let{relative:it}=g===void 0?{}:g,{future:ot}=reactExports.useContext(NavigationContext),{matches:ut}=reactExports.useContext(RouteContext),{pathname:ct}=useLocation(),dt=JSON.stringify(getResolveToMatches(ut,ot.v7_relativeSplatPath));return reactExports.useMemo(()=>resolveTo(et,JSON.parse(dt),ct,it==="path"),[et,dt,ct,it])}function useRoutes(et,g){return useRoutesImpl(et,g)}function useRoutesImpl(et,g,it,ot){useInRouterContext()||invariant$2(!1);let{navigator:ut}=reactExports.useContext(NavigationContext),{matches:ct}=reactExports.useContext(RouteContext),dt=ct[ct.length-1],ft=dt?dt.params:{};dt&&dt.pathname;let St=dt?dt.pathnameBase:"/";dt&&dt.route;let Tt=useLocation(),kt;if(g){var jt;let Zt=typeof g=="string"?parsePath(g):g;St==="/"||(jt=Zt.pathname)!=null&&jt.startsWith(St)||invariant$2(!1),kt=Zt}else kt=Tt;let Rt=kt.pathname||"/",$t=Rt;if(St!=="/"){let Zt=St.replace(/^\//,"").split("/");$t="/"+Rt.replace(/^\//,"").split("/").slice(Zt.length).join("/")}let zt=matchRoutes(et,{pathname:$t}),Ht=_renderMatches(zt&&zt.map(Zt=>Object.assign({},Zt,{params:Object.assign({},ft,Zt.params),pathname:joinPaths([St,ut.encodeLocation?ut.encodeLocation(Zt.pathname).pathname:Zt.pathname]),pathnameBase:Zt.pathnameBase==="/"?St:joinPaths([St,ut.encodeLocation?ut.encodeLocation(Zt.pathnameBase).pathname:Zt.pathnameBase])})),ct,it,ot);return g&&Ht?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$1({pathname:"/",search:"",hash:"",state:null,key:"default"},kt),navigationType:Action.Pop}},Ht):Ht}function DefaultErrorComponent(){let et=useRouteError(),g=isRouteErrorResponse(et)?et.status+" "+et.statusText:et instanceof Error?et.message:JSON.stringify(et),it=et instanceof Error?et.stack:null,ut={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},ct=null;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},g),it?reactExports.createElement("pre",{style:ut},it):null,ct)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(g){super(g),this.state={location:g.location,revalidation:g.revalidation,error:g.error}}static getDerivedStateFromError(g){return{error:g}}static getDerivedStateFromProps(g,it){return it.location!==g.location||it.revalidation!=="idle"&&g.revalidation==="idle"?{error:g.error,location:g.location,revalidation:g.revalidation}:{error:g.error!==void 0?g.error:it.error,location:it.location,revalidation:g.revalidation||it.revalidation}}componentDidCatch(g,it){console.error("React Router caught the following error during render",g,it)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(et){let{routeContext:g,match:it,children:ot}=et,ut=reactExports.useContext(DataRouterContext);return ut&&ut.static&&ut.staticContext&&(it.route.errorElement||it.route.ErrorBoundary)&&(ut.staticContext._deepestRenderedBoundaryId=it.route.id),reactExports.createElement(RouteContext.Provider,{value:g},ot)}function _renderMatches(et,g,it,ot){var ut;if(g===void 0&&(g=[]),it===void 0&&(it=null),ot===void 0&&(ot=null),et==null){var ct;if(!it)return null;if(it.errors)et=it.matches;else if((ct=ot)!=null&&ct.v7_partialHydration&&g.length===0&&!it.initialized&&it.matches.length>0)et=it.matches;else return null}let dt=et,ft=(ut=it)==null?void 0:ut.errors;if(ft!=null){let kt=dt.findIndex(jt=>jt.route.id&&(ft==null?void 0:ft[jt.route.id])!==void 0);kt>=0||invariant$2(!1),dt=dt.slice(0,Math.min(dt.length,kt+1))}let St=!1,Tt=-1;if(it&&ot&&ot.v7_partialHydration)for(let kt=0;kt<dt.length;kt++){let jt=dt[kt];if((jt.route.HydrateFallback||jt.route.hydrateFallbackElement)&&(Tt=kt),jt.route.id){let{loaderData:Rt,errors:$t}=it,zt=jt.route.loader&&Rt[jt.route.id]===void 0&&(!$t||$t[jt.route.id]===void 0);if(jt.route.lazy||zt){St=!0,Tt>=0?dt=dt.slice(0,Tt+1):dt=[dt[0]];break}}}return dt.reduceRight((kt,jt,Rt)=>{let $t,zt=!1,Ht=null,Zt=null;it&&($t=ft&&jt.route.id?ft[jt.route.id]:void 0,Ht=jt.route.errorElement||defaultErrorElement,St&&(Tt<0&&Rt===0?(warningOnce("route-fallback",!1),zt=!0,Zt=null):Tt===Rt&&(zt=!0,Zt=jt.route.hydrateFallbackElement||null)));let Bt=g.concat(dt.slice(0,Rt+1)),Ut=()=>{let Kt;return $t?Kt=Ht:zt?Kt=Zt:jt.route.Component?Kt=reactExports.createElement(jt.route.Component,null):jt.route.element?Kt=jt.route.element:Kt=kt,reactExports.createElement(RenderedRoute,{match:jt,routeContext:{outlet:kt,matches:Bt,isDataRoute:it!=null},children:Kt})};return it&&(jt.route.ErrorBoundary||jt.route.errorElement||Rt===0)?reactExports.createElement(RenderErrorBoundary,{location:it.location,revalidation:it.revalidation,component:Ht,error:$t,children:Ut(),routeContext:{outlet:null,matches:Bt,isDataRoute:!0}}):Ut()},null)}var DataRouterHook$1=function(et){return et.UseBlocker="useBlocker",et.UseRevalidator="useRevalidator",et.UseNavigateStable="useNavigate",et}(DataRouterHook$1||{}),DataRouterStateHook$1=function(et){return et.UseBlocker="useBlocker",et.UseLoaderData="useLoaderData",et.UseActionData="useActionData",et.UseRouteError="useRouteError",et.UseNavigation="useNavigation",et.UseRouteLoaderData="useRouteLoaderData",et.UseMatches="useMatches",et.UseRevalidator="useRevalidator",et.UseNavigateStable="useNavigate",et.UseRouteId="useRouteId",et}(DataRouterStateHook$1||{});function useDataRouterContext(et){let g=reactExports.useContext(DataRouterContext);return g||invariant$2(!1),g}function useDataRouterState(et){let g=reactExports.useContext(DataRouterStateContext);return g||invariant$2(!1),g}function useRouteContext(et){let g=reactExports.useContext(RouteContext);return g||invariant$2(!1),g}function useCurrentRouteId(et){let g=useRouteContext(),it=g.matches[g.matches.length-1];return it.route.id||invariant$2(!1),it.route.id}function useRouteError(){var et;let g=reactExports.useContext(RouteErrorContext),it=useDataRouterState(DataRouterStateHook$1.UseRouteError),ot=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return g!==void 0?g:(et=it.errors)==null?void 0:et[ot]}function useNavigateStable(){let{router:et}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),g=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),it=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{it.current=!0}),reactExports.useCallback(function(ut,ct){ct===void 0&&(ct={}),it.current&&(typeof ut=="number"?et.navigate(ut):et.navigate(ut,_extends$1({fromRouteId:g},ct)))},[et,g])}const alreadyWarned$1={};function warningOnce(et,g,it){!g&&!alreadyWarned$1[et]&&(alreadyWarned$1[et]=!0)}const alreadyWarned={};function warnOnce(et,g){alreadyWarned[g]||(alreadyWarned[g]=!0,console.warn(g))}const logDeprecation=(et,g,it)=>warnOnce(et," React Router Future Flag Warning: "+g+". "+("You can use the `"+et+"` future flag to opt-in early. ")+("For more information, see "+it+"."));function logV6DeprecationWarnings(et,g){(et==null?void 0:et.v7_startTransition)===void 0&&logDeprecation("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),(et==null?void 0:et.v7_relativeSplatPath)===void 0&&(!g||!g.v7_relativeSplatPath)&&logDeprecation("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"),g&&(g.v7_fetcherPersist===void 0&&logDeprecation("v7_fetcherPersist","The persistence behavior of fetchers is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist"),g.v7_normalizeFormMethod===void 0&&logDeprecation("v7_normalizeFormMethod","Casing of `formMethod` fields is being normalized to uppercase in v7","https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod"),g.v7_partialHydration===void 0&&logDeprecation("v7_partialHydration","`RouterProvider` hydration behavior is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_partialhydration"),g.v7_skipActionErrorRevalidation===void 0&&logDeprecation("v7_skipActionErrorRevalidation","The revalidation behavior after 4xx/5xx `action` responses is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation"))}function Navigate(et){let{to:g,replace:it,state:ot,relative:ut}=et;useInRouterContext()||invariant$2(!1);let{future:ct,static:dt}=reactExports.useContext(NavigationContext),{matches:ft}=reactExports.useContext(RouteContext),{pathname:St}=useLocation(),Tt=useNavigate(),kt=resolveTo(g,getResolveToMatches(ft,ct.v7_relativeSplatPath),St,ut==="path"),jt=JSON.stringify(kt);return reactExports.useEffect(()=>Tt(JSON.parse(jt),{replace:it,state:ot,relative:ut}),[Tt,jt,ut,it,ot]),null}function Route(et){invariant$2(!1)}function Router(et){let{basename:g="/",children:it=null,location:ot,navigationType:ut=Action.Pop,navigator:ct,static:dt=!1,future:ft}=et;useInRouterContext()&&invariant$2(!1);let St=g.replace(/^\/*/,"/"),Tt=reactExports.useMemo(()=>({basename:St,navigator:ct,static:dt,future:_extends$1({v7_relativeSplatPath:!1},ft)}),[St,ft,ct,dt]);typeof ot=="string"&&(ot=parsePath(ot));let{pathname:kt="/",search:jt="",hash:Rt="",state:$t=null,key:zt="default"}=ot,Ht=reactExports.useMemo(()=>{let Zt=stripBasename(kt,St);return Zt==null?null:{location:{pathname:Zt,search:jt,hash:Rt,state:$t,key:zt},navigationType:ut}},[St,kt,jt,Rt,$t,zt,ut]);return Ht==null?null:reactExports.createElement(NavigationContext.Provider,{value:Tt},reactExports.createElement(LocationContext.Provider,{children:it,value:Ht}))}function Routes(et){let{children:g,location:it}=et;return useRoutes(createRoutesFromChildren(g),it)}new Promise(()=>{});function createRoutesFromChildren(et,g){g===void 0&&(g=[]);let it=[];return reactExports.Children.forEach(et,(ot,ut)=>{if(!reactExports.isValidElement(ot))return;let ct=[...g,ut];if(ot.type===reactExports.Fragment){it.push.apply(it,createRoutesFromChildren(ot.props.children,ct));return}ot.type!==Route&&invariant$2(!1),!ot.props.index||!ot.props.children||invariant$2(!1);let dt={id:ot.props.id||ct.join("-"),caseSensitive:ot.props.caseSensitive,element:ot.props.element,Component:ot.props.Component,index:ot.props.index,path:ot.props.path,loader:ot.props.loader,action:ot.props.action,errorElement:ot.props.errorElement,ErrorBoundary:ot.props.ErrorBoundary,hasErrorBoundary:ot.props.ErrorBoundary!=null||ot.props.errorElement!=null,shouldRevalidate:ot.props.shouldRevalidate,handle:ot.props.handle,lazy:ot.props.lazy};ot.props.children&&(dt.children=createRoutesFromChildren(ot.props.children,ct)),it.push(dt)}),it}/**
 * React Router DOM v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends(){return _extends=Object.assign?Object.assign.bind():function(et){for(var g=1;g<arguments.length;g++){var it=arguments[g];for(var ot in it)Object.prototype.hasOwnProperty.call(it,ot)&&(et[ot]=it[ot])}return et},_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose$1(et,g){if(et==null)return{};var it={},ot=Object.keys(et),ut,ct;for(ct=0;ct<ot.length;ct++)ut=ot[ct],!(g.indexOf(ut)>=0)&&(it[ut]=et[ut]);return it}function isModifiedEvent(et){return!!(et.metaKey||et.altKey||et.ctrlKey||et.shiftKey)}function shouldProcessLinkClick(et,g){return et.button===0&&(!g||g==="_self")&&!isModifiedEvent(et)}function createSearchParams(et){return et===void 0&&(et=""),new URLSearchParams(typeof et=="string"||Array.isArray(et)||et instanceof URLSearchParams?et:Object.keys(et).reduce((g,it)=>{let ot=et[it];return g.concat(Array.isArray(ot)?ot.map(ut=>[it,ut]):[[it,ot]])},[]))}function getSearchParamsForLocation(et,g){let it=createSearchParams(et);return g&&g.forEach((ot,ut)=>{it.has(ut)||g.getAll(ut).forEach(ct=>{it.append(ut,ct)})}),it}const _excluded$2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const START_TRANSITION="startTransition",startTransitionImpl=React$1[START_TRANSITION];function BrowserRouter(et){let{basename:g,children:it,future:ot,window:ut}=et,ct=reactExports.useRef();ct.current==null&&(ct.current=createBrowserHistory({window:ut,v5Compat:!0}));let dt=ct.current,[ft,St]=reactExports.useState({action:dt.action,location:dt.location}),{v7_startTransition:Tt}=ot||{},kt=reactExports.useCallback(jt=>{Tt&&startTransitionImpl?startTransitionImpl(()=>St(jt)):St(jt)},[St,Tt]);return reactExports.useLayoutEffect(()=>dt.listen(kt),[dt,kt]),reactExports.useEffect(()=>logV6DeprecationWarnings(ot),[ot]),reactExports.createElement(Router,{basename:g,children:it,location:ft.location,navigationType:ft.action,navigator:dt,future:ot})}const isBrowser$2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function(g,it){let{onClick:ot,relative:ut,reloadDocument:ct,replace:dt,state:ft,target:St,to:Tt,preventScrollReset:kt,viewTransition:jt}=g,Rt=_objectWithoutPropertiesLoose$1(g,_excluded$2),{basename:$t}=reactExports.useContext(NavigationContext),zt,Ht=!1;if(typeof Tt=="string"&&ABSOLUTE_URL_REGEX.test(Tt)&&(zt=Tt,isBrowser$2))try{let Kt=new URL(window.location.href),Yt=Tt.startsWith("//")?new URL(Kt.protocol+Tt):new URL(Tt),Jt=stripBasename(Yt.pathname,$t);Yt.origin===Kt.origin&&Jt!=null?Tt=Jt+Yt.search+Yt.hash:Ht=!0}catch{}let Zt=useHref(Tt,{relative:ut}),Bt=useLinkClickHandler(Tt,{replace:dt,state:ft,target:St,preventScrollReset:kt,relative:ut,viewTransition:jt});function Ut(Kt){ot&&ot(Kt),Kt.defaultPrevented||Bt(Kt)}return reactExports.createElement("a",_extends({},Rt,{href:zt||Zt,onClick:Ht||ct?ot:Ut,ref:it,target:St}))});var DataRouterHook;(function(et){et.UseScrollRestoration="useScrollRestoration",et.UseSubmit="useSubmit",et.UseSubmitFetcher="useSubmitFetcher",et.UseFetcher="useFetcher",et.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(et){et.UseFetcher="useFetcher",et.UseFetchers="useFetchers",et.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useLinkClickHandler(et,g){let{target:it,replace:ot,state:ut,preventScrollReset:ct,relative:dt,viewTransition:ft}=g===void 0?{}:g,St=useNavigate(),Tt=useLocation(),kt=useResolvedPath(et,{relative:dt});return reactExports.useCallback(jt=>{if(shouldProcessLinkClick(jt,it)){jt.preventDefault();let Rt=ot!==void 0?ot:createPath(Tt)===createPath(kt);St(et,{replace:Rt,state:ut,preventScrollReset:ct,relative:dt,viewTransition:ft})}},[Tt,St,kt,ot,ut,it,et,ct,dt,ft])}function useSearchParams(et){let g=reactExports.useRef(createSearchParams(et)),it=reactExports.useRef(!1),ot=useLocation(),ut=reactExports.useMemo(()=>getSearchParamsForLocation(ot.search,it.current?null:g.current),[ot.search]),ct=useNavigate(),dt=reactExports.useCallback((ft,St)=>{const Tt=createSearchParams(typeof ft=="function"?ft(ut):ft);it.current=!0,ct("?"+Tt,St)},[ct,ut]);return[ut,dt]}function createDOMMotionComponentProxy(et){if(typeof Proxy>"u")return et;const g=new Map,it=(...ot)=>et(...ot);return new Proxy(it,{get:(ot,ut)=>ut==="create"?et:(g.has(ut)||g.set(ut,et(ut)),g.get(ut))})}function isAnimationControls(et){return et!==null&&typeof et=="object"&&typeof et.start=="function"}const isKeyframesTarget=et=>Array.isArray(et);function shallowCompare(et,g){if(!Array.isArray(g))return!1;const it=g.length;if(it!==et.length)return!1;for(let ot=0;ot<it;ot++)if(g[ot]!==et[ot])return!1;return!0}function isVariantLabel(et){return typeof et=="string"||Array.isArray(et)}function getValueState(et){const g=[{},{}];return et==null||et.values.forEach((it,ot)=>{g[0][ot]=it.get(),g[1][ot]=it.getVelocity()}),g}function resolveVariantFromProps(et,g,it,ot){if(typeof g=="function"){const[ut,ct]=getValueState(ot);g=g(it!==void 0?it:et.custom,ut,ct)}if(typeof g=="string"&&(g=et.variants&&et.variants[g]),typeof g=="function"){const[ut,ct]=getValueState(ot);g=g(it!==void 0?it:et.custom,ut,ct)}return g}function resolveVariant(et,g,it){const ot=et.getProps();return resolveVariantFromProps(ot,g,it!==void 0?it:ot.custom,et)}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder],transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder),secondsToMilliseconds=et=>et*1e3,millisecondsToSeconds=et=>et/1e3,underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=et=>({type:"spring",stiffness:550,damping:et===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(et,{keyframes:g})=>g.length>2?keyframesTransition:transformProps.has(et)?et.startsWith("scale")?criticallyDampedSpring(g[1]):underDampedSpring:ease;function getValueTransition(et,g){return et?et[g]||et.default||et:void 0}const MotionGlobalConfig={skipAnimations:!1,useManualTiming:!1},isNotNull=et=>et!==null;function getFinalKeyframe(et,{repeat:g,repeatType:it="loop"},ot){const ut=et.filter(isNotNull),ct=g&&it!=="loop"&&g%2===1?0:ut.length-1;return!ct||ot===void 0?ut[ct]:ot}const noop$1=et=>et;let invariant$1=noop$1;function createRenderStep(et){let g=new Set,it=new Set,ot=!1,ut=!1;const ct=new WeakSet;let dt={delta:0,timestamp:0,isProcessing:!1};function ft(Tt){ct.has(Tt)&&(St.schedule(Tt),et()),Tt(dt)}const St={schedule:(Tt,kt=!1,jt=!1)=>{const $t=jt&&ot?g:it;return kt&&ct.add(Tt),$t.has(Tt)||$t.add(Tt),Tt},cancel:Tt=>{it.delete(Tt),ct.delete(Tt)},process:Tt=>{if(dt=Tt,ot){ut=!0;return}ot=!0,[g,it]=[it,g],g.forEach(ft),g.clear(),ot=!1,ut&&(ut=!1,St.process(Tt))}};return St}const stepsOrder=["read","resolveKeyframes","update","preRender","render","postRender"],maxElapsed=40;function createRenderBatcher(et,g){let it=!1,ot=!0;const ut={delta:0,timestamp:0,isProcessing:!1},ct=()=>it=!0,dt=stepsOrder.reduce((Bt,Ut)=>(Bt[Ut]=createRenderStep(ct),Bt),{}),{read:ft,resolveKeyframes:St,update:Tt,preRender:kt,render:jt,postRender:Rt}=dt,$t=()=>{const Bt=performance.now();it=!1,ut.delta=ot?1e3/60:Math.max(Math.min(Bt-ut.timestamp,maxElapsed),1),ut.timestamp=Bt,ut.isProcessing=!0,ft.process(ut),St.process(ut),Tt.process(ut),kt.process(ut),jt.process(ut),Rt.process(ut),ut.isProcessing=!1,it&&g&&(ot=!1,et($t))},zt=()=>{it=!0,ot=!0,ut.isProcessing||et($t)};return{schedule:stepsOrder.reduce((Bt,Ut)=>{const Kt=dt[Ut];return Bt[Ut]=(Yt,Jt=!1,er=!1)=>(it||zt(),Kt.schedule(Yt,Jt,er)),Bt},{}),cancel:Bt=>{for(let Ut=0;Ut<stepsOrder.length;Ut++)dt[stepsOrder[Ut]].cancel(Bt)},state:ut,steps:dt}}const{schedule:frame,cancel:cancelFrame,state:frameData,steps:frameSteps}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop$1,!0),calcBezier=(et,g,it)=>(((1-3*it+3*g)*et+(3*it-6*g))*et+3*g)*et,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(et,g,it,ot,ut){let ct,dt,ft=0;do dt=g+(it-g)/2,ct=calcBezier(dt,ot,ut)-et,ct>0?it=dt:g=dt;while(Math.abs(ct)>subdivisionPrecision&&++ft<subdivisionMaxIterations);return dt}function cubicBezier(et,g,it,ot){if(et===g&&it===ot)return noop$1;const ut=ct=>binarySubdivide(ct,0,1,et,it);return ct=>ct===0||ct===1?ct:calcBezier(ut(ct),g,ot)}const mirrorEasing=et=>g=>g<=.5?et(2*g)/2:(2-et(2*(1-g)))/2,reverseEasing=et=>g=>1-et(1-g),backOut=cubicBezier(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=et=>(et*=2)<1?.5*backIn(et):.5*(2-Math.pow(2,-10*(et-1))),circIn=et=>1-Math.sin(Math.acos(et)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circIn),isZeroValueString=et=>/^0[^.\s]+$/u.test(et);function isNone(et){return typeof et=="number"?et===0:et!==null?et==="none"||et==="0"||isZeroValueString(et):!0}const isNumericalString=et=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(et),checkStringStartsWith=et=>g=>typeof g=="string"&&g.startsWith(et),isCSSVariableName=checkStringStartsWith("--"),startsAsVariableToken=checkStringStartsWith("var(--"),isCSSVariableToken=et=>startsAsVariableToken(et)?singleCssVariableRegex.test(et.split("/*")[0].trim()):!1,singleCssVariableRegex=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,splitCSSVariableRegex=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function parseCSSVariable(et){const g=splitCSSVariableRegex.exec(et);if(!g)return[,];const[,it,ot,ut]=g;return[`--${it??ot}`,ut]}function getVariableValue(et,g,it=1){const[ot,ut]=parseCSSVariable(et);if(!ot)return;const ct=window.getComputedStyle(g).getPropertyValue(ot);if(ct){const dt=ct.trim();return isNumericalString(dt)?parseFloat(dt):dt}return isCSSVariableToken(ut)?getVariableValue(ut,g,it+1):ut}const clamp=(et,g,it)=>it>g?g:it<et?et:it,number={test:et=>typeof et=="number",parse:parseFloat,transform:et=>et},alpha={...number,transform:et=>clamp(0,1,et)},scale={...number,default:1},createUnitType=et=>({test:g=>typeof g=="string"&&g.endsWith(et)&&g.split(" ").length===1,parse:parseFloat,transform:g=>`${g}${et}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:et=>percent.parse(et)/100,transform:et=>percent.transform(et*100)},positionalKeys=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),isNumOrPxType=et=>et===number||et===px,getPosFromMatrix=(et,g)=>parseFloat(et.split(", ")[g]),getTranslateFromMatrix=(et,g)=>(it,{transform:ot})=>{if(ot==="none"||!ot)return 0;const ut=ot.match(/^matrix3d\((.+)\)$/u);if(ut)return getPosFromMatrix(ut[1],g);{const ct=ot.match(/^matrix\((.+)\)$/u);return ct?getPosFromMatrix(ct[1],et):0}},transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(et=>!transformKeys.has(et));function removeNonTranslationalTransform(et){const g=[];return nonTranslationalTransformKeys.forEach(it=>{const ot=et.getValue(it);ot!==void 0&&(g.push([it,ot.get()]),ot.set(it.startsWith("scale")?1:0))}),g}const positionalValues={width:({x:et},{paddingLeft:g="0",paddingRight:it="0"})=>et.max-et.min-parseFloat(g)-parseFloat(it),height:({y:et},{paddingTop:g="0",paddingBottom:it="0"})=>et.max-et.min-parseFloat(g)-parseFloat(it),top:(et,{top:g})=>parseFloat(g),left:(et,{left:g})=>parseFloat(g),bottom:({y:et},{top:g})=>parseFloat(g)+(et.max-et.min),right:({x:et},{left:g})=>parseFloat(g)+(et.max-et.min),x:getTranslateFromMatrix(4,13),y:getTranslateFromMatrix(5,14)};positionalValues.translateX=positionalValues.x;positionalValues.translateY=positionalValues.y;const testValueType=et=>g=>g.test(et),auto={test:et=>et==="auto",parse:et=>et},dimensionValueTypes=[number,px,percent,degrees,vw,vh,auto],findDimensionValueType=et=>dimensionValueTypes.find(testValueType(et)),toResolve=new Set;let isScheduled=!1,anyNeedsMeasurement=!1;function measureAllKeyframes(){if(anyNeedsMeasurement){const et=Array.from(toResolve).filter(ot=>ot.needsMeasurement),g=new Set(et.map(ot=>ot.element)),it=new Map;g.forEach(ot=>{const ut=removeNonTranslationalTransform(ot);ut.length&&(it.set(ot,ut),ot.render())}),et.forEach(ot=>ot.measureInitialState()),g.forEach(ot=>{ot.render();const ut=it.get(ot);ut&&ut.forEach(([ct,dt])=>{var ft;(ft=ot.getValue(ct))===null||ft===void 0||ft.set(dt)})}),et.forEach(ot=>ot.measureEndState()),et.forEach(ot=>{ot.suspendedScrollY!==void 0&&window.scrollTo(0,ot.suspendedScrollY)})}anyNeedsMeasurement=!1,isScheduled=!1,toResolve.forEach(et=>et.complete()),toResolve.clear()}function readAllKeyframes(){toResolve.forEach(et=>{et.readKeyframes(),et.needsMeasurement&&(anyNeedsMeasurement=!0)})}function flushKeyframeResolvers(){readAllKeyframes(),measureAllKeyframes()}class KeyframeResolver{constructor(g,it,ot,ut,ct,dt=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...g],this.onComplete=it,this.name=ot,this.motionValue=ut,this.element=ct,this.isAsync=dt}scheduleResolve(){this.isScheduled=!0,this.isAsync?(toResolve.add(this),isScheduled||(isScheduled=!0,frame.read(readAllKeyframes),frame.resolveKeyframes(measureAllKeyframes))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:g,name:it,element:ot,motionValue:ut}=this;for(let ct=0;ct<g.length;ct++)if(g[ct]===null)if(ct===0){const dt=ut==null?void 0:ut.get(),ft=g[g.length-1];if(dt!==void 0)g[0]=dt;else if(ot&&it){const St=ot.readValue(it,ft);St!=null&&(g[0]=St)}g[0]===void 0&&(g[0]=ft),ut&&dt===void 0&&ut.set(g[0])}else g[ct]=g[ct-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),toResolve.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,toResolve.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const sanitize=et=>Math.round(et*1e5)/1e5,floatRegex=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function isNullish(et){return et==null}const singleColorRegex=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,isColorString=(et,g)=>it=>!!(typeof it=="string"&&singleColorRegex.test(it)&&it.startsWith(et)||g&&!isNullish(it)&&Object.prototype.hasOwnProperty.call(it,g)),splitColor=(et,g,it)=>ot=>{if(typeof ot!="string")return ot;const[ut,ct,dt,ft]=ot.match(floatRegex);return{[et]:parseFloat(ut),[g]:parseFloat(ct),[it]:parseFloat(dt),alpha:ft!==void 0?parseFloat(ft):1}},clampRgbUnit=et=>clamp(0,255,et),rgbUnit={...number,transform:et=>Math.round(clampRgbUnit(et))},rgba={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:et,green:g,blue:it,alpha:ot=1})=>"rgba("+rgbUnit.transform(et)+", "+rgbUnit.transform(g)+", "+rgbUnit.transform(it)+", "+sanitize(alpha.transform(ot))+")"};function parseHex(et){let g="",it="",ot="",ut="";return et.length>5?(g=et.substring(1,3),it=et.substring(3,5),ot=et.substring(5,7),ut=et.substring(7,9)):(g=et.substring(1,2),it=et.substring(2,3),ot=et.substring(3,4),ut=et.substring(4,5),g+=g,it+=it,ot+=ot,ut+=ut),{red:parseInt(g,16),green:parseInt(it,16),blue:parseInt(ot,16),alpha:ut?parseInt(ut,16)/255:1}}const hex={test:isColorString("#"),parse:parseHex,transform:rgba.transform},hsla={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:et,saturation:g,lightness:it,alpha:ot=1})=>"hsla("+Math.round(et)+", "+percent.transform(sanitize(g))+", "+percent.transform(sanitize(it))+", "+sanitize(alpha.transform(ot))+")"},color={test:et=>rgba.test(et)||hex.test(et)||hsla.test(et),parse:et=>rgba.test(et)?rgba.parse(et):hsla.test(et)?hsla.parse(et):hex.parse(et),transform:et=>typeof et=="string"?et:et.hasOwnProperty("red")?rgba.transform(et):hsla.transform(et)},colorRegex=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function test$1(et){var g,it;return isNaN(et)&&typeof et=="string"&&(((g=et.match(floatRegex))===null||g===void 0?void 0:g.length)||0)+(((it=et.match(colorRegex))===null||it===void 0?void 0:it.length)||0)>0}const NUMBER_TOKEN="number",COLOR_TOKEN="color",VAR_TOKEN="var",VAR_FUNCTION_TOKEN="var(",SPLIT_TOKEN="${}",complexRegex=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function analyseComplexValue(et){const g=et.toString(),it=[],ot={color:[],number:[],var:[]},ut=[];let ct=0;const ft=g.replace(complexRegex,St=>(color.test(St)?(ot.color.push(ct),ut.push(COLOR_TOKEN),it.push(color.parse(St))):St.startsWith(VAR_FUNCTION_TOKEN)?(ot.var.push(ct),ut.push(VAR_TOKEN),it.push(St)):(ot.number.push(ct),ut.push(NUMBER_TOKEN),it.push(parseFloat(St))),++ct,SPLIT_TOKEN)).split(SPLIT_TOKEN);return{values:it,split:ft,indexes:ot,types:ut}}function parseComplexValue(et){return analyseComplexValue(et).values}function createTransformer(et){const{split:g,types:it}=analyseComplexValue(et),ot=g.length;return ut=>{let ct="";for(let dt=0;dt<ot;dt++)if(ct+=g[dt],ut[dt]!==void 0){const ft=it[dt];ft===NUMBER_TOKEN?ct+=sanitize(ut[dt]):ft===COLOR_TOKEN?ct+=color.transform(ut[dt]):ct+=ut[dt]}return ct}}const convertNumbersToZero=et=>typeof et=="number"?0:et;function getAnimatableNone$1(et){const g=parseComplexValue(et);return createTransformer(et)(g.map(convertNumbersToZero))}const complex={test:test$1,parse:parseComplexValue,createTransformer,getAnimatableNone:getAnimatableNone$1},maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(et){const[g,it]=et.slice(0,-1).split("(");if(g==="drop-shadow")return et;const[ot]=it.match(floatRegex)||[];if(!ot)return et;const ut=it.replace(ot,"");let ct=maxDefaults.has(g)?1:0;return ot!==it&&(ct*=100),g+"("+ct+ut+")"}const functionRegex=/\b([a-z-]*)\(.*?\)/gu,filter={...complex,getAnimatableNone:et=>{const g=et.match(functionRegex);return g?g.map(applyDefaultFilter).join(" "):et}},browserNumberValueTypes={borderWidth:px,borderTopWidth:px,borderRightWidth:px,borderBottomWidth:px,borderLeftWidth:px,borderRadius:px,radius:px,borderTopLeftRadius:px,borderTopRightRadius:px,borderBottomRightRadius:px,borderBottomLeftRadius:px,width:px,maxWidth:px,height:px,maxHeight:px,top:px,right:px,bottom:px,left:px,padding:px,paddingTop:px,paddingRight:px,paddingBottom:px,paddingLeft:px,margin:px,marginTop:px,marginRight:px,marginBottom:px,marginLeft:px,backgroundPositionX:px,backgroundPositionY:px},transformValueTypes={rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees,skewX:degrees,skewY:degrees,distance:px,translateX:px,translateY:px,translateZ:px,x:px,y:px,z:px,perspective:px,transformPerspective:px,opacity:alpha,originX:progressPercentage,originY:progressPercentage,originZ:px},int={...number,transform:Math.round},numberValueTypes={...browserNumberValueTypes,...transformValueTypes,zIndex:int,size:px,fillOpacity:alpha,strokeOpacity:alpha,numOctaves:int},defaultValueTypes={...numberValueTypes,color,backgroundColor:color,outlineColor:color,fill:color,stroke:color,borderColor:color,borderTopColor:color,borderRightColor:color,borderBottomColor:color,borderLeftColor:color,filter,WebkitFilter:filter},getDefaultValueType=et=>defaultValueTypes[et];function getAnimatableNone(et,g){let it=getDefaultValueType(et);return it!==filter&&(it=complex),it.getAnimatableNone?it.getAnimatableNone(g):void 0}const invalidTemplates=new Set(["auto","none","0"]);function makeNoneKeyframesAnimatable(et,g,it){let ot=0,ut;for(;ot<et.length&&!ut;){const ct=et[ot];typeof ct=="string"&&!invalidTemplates.has(ct)&&analyseComplexValue(ct).values.length&&(ut=et[ot]),ot++}if(ut&&it)for(const ct of g)et[ct]=getAnimatableNone(it,ut)}class DOMKeyframesResolver extends KeyframeResolver{constructor(g,it,ot,ut,ct){super(g,it,ot,ut,ct,!0)}readKeyframes(){const{unresolvedKeyframes:g,element:it,name:ot}=this;if(!it||!it.current)return;super.readKeyframes();for(let St=0;St<g.length;St++){let Tt=g[St];if(typeof Tt=="string"&&(Tt=Tt.trim(),isCSSVariableToken(Tt))){const kt=getVariableValue(Tt,it.current);kt!==void 0&&(g[St]=kt),St===g.length-1&&(this.finalKeyframe=Tt)}}if(this.resolveNoneKeyframes(),!positionalKeys.has(ot)||g.length!==2)return;const[ut,ct]=g,dt=findDimensionValueType(ut),ft=findDimensionValueType(ct);if(dt!==ft)if(isNumOrPxType(dt)&&isNumOrPxType(ft))for(let St=0;St<g.length;St++){const Tt=g[St];typeof Tt=="string"&&(g[St]=parseFloat(Tt))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:g,name:it}=this,ot=[];for(let ut=0;ut<g.length;ut++)isNone(g[ut])&&ot.push(ut);ot.length&&makeNoneKeyframesAnimatable(g,ot,it)}measureInitialState(){const{element:g,unresolvedKeyframes:it,name:ot}=this;if(!g||!g.current)return;ot==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=positionalValues[ot](g.measureViewportBox(),window.getComputedStyle(g.current)),it[0]=this.measuredOrigin;const ut=it[it.length-1];ut!==void 0&&g.getValue(ot,ut).jump(ut,!1)}measureEndState(){var g;const{element:it,name:ot,unresolvedKeyframes:ut}=this;if(!it||!it.current)return;const ct=it.getValue(ot);ct&&ct.jump(this.measuredOrigin,!1);const dt=ut.length-1,ft=ut[dt];ut[dt]=positionalValues[ot](it.measureViewportBox(),window.getComputedStyle(it.current)),ft!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=ft),!((g=this.removedTransforms)===null||g===void 0)&&g.length&&this.removedTransforms.forEach(([St,Tt])=>{it.getValue(St).set(Tt)}),this.resolveNoneKeyframes()}}function isGenerator(et){return typeof et=="function"}let now;function clearTime(){now=void 0}const time={now:()=>(now===void 0&&time.set(frameData.isProcessing||MotionGlobalConfig.useManualTiming?frameData.timestamp:performance.now()),now),set:et=>{now=et,queueMicrotask(clearTime)}},isAnimatable=(et,g)=>g==="zIndex"?!1:!!(typeof et=="number"||Array.isArray(et)||typeof et=="string"&&(complex.test(et)||et==="0")&&!et.startsWith("url("));function hasKeyframesChanged(et){const g=et[0];if(et.length===1)return!0;for(let it=0;it<et.length;it++)if(et[it]!==g)return!0}function canAnimate(et,g,it,ot){const ut=et[0];if(ut===null)return!1;if(g==="display"||g==="visibility")return!0;const ct=et[et.length-1],dt=isAnimatable(ut,g),ft=isAnimatable(ct,g);return!dt||!ft?!1:hasKeyframesChanged(et)||(it==="spring"||isGenerator(it))&&ot}const MAX_RESOLVE_DELAY=40;class BaseAnimation{constructor({autoplay:g=!0,delay:it=0,type:ot="keyframes",repeat:ut=0,repeatDelay:ct=0,repeatType:dt="loop",...ft}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=time.now(),this.options={autoplay:g,delay:it,type:ot,repeat:ut,repeatDelay:ct,repeatType:dt,...ft},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>MAX_RESOLVE_DELAY?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&flushKeyframeResolvers(),this._resolved}onKeyframesResolved(g,it){this.resolvedAt=time.now(),this.hasAttemptedResolve=!0;const{name:ot,type:ut,velocity:ct,delay:dt,onComplete:ft,onUpdate:St,isGenerator:Tt}=this.options;if(!Tt&&!canAnimate(g,ot,ut,ct))if(dt)this.options.duration=0;else{St==null||St(getFinalKeyframe(g,this.options,it)),ft==null||ft(),this.resolveFinishedPromise();return}const kt=this.initPlayback(g,it);kt!==!1&&(this._resolved={keyframes:g,finalKeyframe:it,...kt},this.onPostResolved())}onPostResolved(){}then(g,it){return this.currentFinishedPromise.then(g,it)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(g=>{this.resolveFinishedPromise=g})}}const progress=(et,g,it)=>{const ot=g-et;return ot===0?1:(it-et)/ot},generateLinearEasing=(et,g,it=10)=>{let ot="";const ut=Math.max(Math.round(g/it),2);for(let ct=0;ct<ut;ct++)ot+=et(progress(0,ut-1,ct))+", ";return`linear(${ot.substring(0,ot.length-2)})`};function velocityPerSecond(et,g){return g?et*(1e3/g):0}const velocitySampleDuration=5;function calcGeneratorVelocity(et,g,it){const ot=Math.max(g-velocitySampleDuration,0);return velocityPerSecond(it-et(ot),g-ot)}const springDefaults={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},safeMin=.001;function findSpring({duration:et=springDefaults.duration,bounce:g=springDefaults.bounce,velocity:it=springDefaults.velocity,mass:ot=springDefaults.mass}){let ut,ct,dt=1-g;dt=clamp(springDefaults.minDamping,springDefaults.maxDamping,dt),et=clamp(springDefaults.minDuration,springDefaults.maxDuration,millisecondsToSeconds(et)),dt<1?(ut=Tt=>{const kt=Tt*dt,jt=kt*et,Rt=kt-it,$t=calcAngularFreq(Tt,dt),zt=Math.exp(-jt);return safeMin-Rt/$t*zt},ct=Tt=>{const jt=Tt*dt*et,Rt=jt*it+it,$t=Math.pow(dt,2)*Math.pow(Tt,2)*et,zt=Math.exp(-jt),Ht=calcAngularFreq(Math.pow(Tt,2),dt);return(-ut(Tt)+safeMin>0?-1:1)*((Rt-$t)*zt)/Ht}):(ut=Tt=>{const kt=Math.exp(-Tt*et),jt=(Tt-it)*et+1;return-safeMin+kt*jt},ct=Tt=>{const kt=Math.exp(-Tt*et),jt=(it-Tt)*(et*et);return kt*jt});const ft=5/et,St=approximateRoot(ut,ct,ft);if(et=secondsToMilliseconds(et),isNaN(St))return{stiffness:springDefaults.stiffness,damping:springDefaults.damping,duration:et};{const Tt=Math.pow(St,2)*ot;return{stiffness:Tt,damping:dt*2*Math.sqrt(ot*Tt),duration:et}}}const rootIterations=12;function approximateRoot(et,g,it){let ot=it;for(let ut=1;ut<rootIterations;ut++)ot=ot-et(ot)/g(ot);return ot}function calcAngularFreq(et,g){return et*Math.sqrt(1-g*g)}const maxGeneratorDuration=2e4;function calcGeneratorDuration(et){let g=0;const it=50;let ot=et.next(g);for(;!ot.done&&g<maxGeneratorDuration;)g+=it,ot=et.next(g);return g>=maxGeneratorDuration?1/0:g}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(et,g){return g.some(it=>et[it]!==void 0)}function getSpringOptions(et){let g={velocity:springDefaults.velocity,stiffness:springDefaults.stiffness,damping:springDefaults.damping,mass:springDefaults.mass,isResolvedFromDuration:!1,...et};if(!isSpringType(et,physicsKeys)&&isSpringType(et,durationKeys))if(et.visualDuration){const it=et.visualDuration,ot=2*Math.PI/(it*1.2),ut=ot*ot,ct=2*clamp(.05,1,1-et.bounce)*Math.sqrt(ut);g={...g,mass:springDefaults.mass,stiffness:ut,damping:ct}}else{const it=findSpring(et);g={...g,...it,mass:springDefaults.mass},g.isResolvedFromDuration=!0}return g}function spring(et=springDefaults.visualDuration,g=springDefaults.bounce){const it=typeof et!="object"?{visualDuration:et,keyframes:[0,1],bounce:g}:et;let{restSpeed:ot,restDelta:ut}=it;const ct=it.keyframes[0],dt=it.keyframes[it.keyframes.length-1],ft={done:!1,value:ct},{stiffness:St,damping:Tt,mass:kt,duration:jt,velocity:Rt,isResolvedFromDuration:$t}=getSpringOptions({...it,velocity:-millisecondsToSeconds(it.velocity||0)}),zt=Rt||0,Ht=Tt/(2*Math.sqrt(St*kt)),Zt=dt-ct,Bt=millisecondsToSeconds(Math.sqrt(St/kt)),Ut=Math.abs(Zt)<5;ot||(ot=Ut?springDefaults.restSpeed.granular:springDefaults.restSpeed.default),ut||(ut=Ut?springDefaults.restDelta.granular:springDefaults.restDelta.default);let Kt;if(Ht<1){const Jt=calcAngularFreq(Bt,Ht);Kt=er=>{const tr=Math.exp(-Ht*Bt*er);return dt-tr*((zt+Ht*Bt*Zt)/Jt*Math.sin(Jt*er)+Zt*Math.cos(Jt*er))}}else if(Ht===1)Kt=Jt=>dt-Math.exp(-Bt*Jt)*(Zt+(zt+Bt*Zt)*Jt);else{const Jt=Bt*Math.sqrt(Ht*Ht-1);Kt=er=>{const tr=Math.exp(-Ht*Bt*er),rr=Math.min(Jt*er,300);return dt-tr*((zt+Ht*Bt*Zt)*Math.sinh(rr)+Jt*Zt*Math.cosh(rr))/Jt}}const Yt={calculatedDuration:$t&&jt||null,next:Jt=>{const er=Kt(Jt);if($t)ft.done=Jt>=jt;else{let tr=0;Ht<1&&(tr=Jt===0?secondsToMilliseconds(zt):calcGeneratorVelocity(Kt,Jt,er));const rr=Math.abs(tr)<=ot,hr=Math.abs(dt-er)<=ut;ft.done=rr&&hr}return ft.value=ft.done?dt:er,ft},toString:()=>{const Jt=Math.min(calcGeneratorDuration(Yt),maxGeneratorDuration),er=generateLinearEasing(tr=>Yt.next(Jt*tr).value,Jt,30);return Jt+"ms "+er}};return Yt}function inertia({keyframes:et,velocity:g=0,power:it=.8,timeConstant:ot=325,bounceDamping:ut=10,bounceStiffness:ct=500,modifyTarget:dt,min:ft,max:St,restDelta:Tt=.5,restSpeed:kt}){const jt=et[0],Rt={done:!1,value:jt},$t=rr=>ft!==void 0&&rr<ft||St!==void 0&&rr>St,zt=rr=>ft===void 0?St:St===void 0||Math.abs(ft-rr)<Math.abs(St-rr)?ft:St;let Ht=it*g;const Zt=jt+Ht,Bt=dt===void 0?Zt:dt(Zt);Bt!==Zt&&(Ht=Bt-jt);const Ut=rr=>-Ht*Math.exp(-rr/ot),Kt=rr=>Bt+Ut(rr),Yt=rr=>{const hr=Ut(rr),ar=Kt(rr);Rt.done=Math.abs(hr)<=Tt,Rt.value=Rt.done?Bt:ar};let Jt,er;const tr=rr=>{$t(Rt.value)&&(Jt=rr,er=spring({keyframes:[Rt.value,zt(Rt.value)],velocity:calcGeneratorVelocity(Kt,rr,Rt.value),damping:ut,stiffness:ct,restDelta:Tt,restSpeed:kt}))};return tr(0),{calculatedDuration:null,next:rr=>{let hr=!1;return!er&&Jt===void 0&&(hr=!0,Yt(rr),tr(rr)),Jt!==void 0&&rr>=Jt?er.next(rr-Jt):(!hr&&Yt(rr),Rt)}}}const easeIn=cubicBezier(.42,0,1,1),easeOut=cubicBezier(0,0,.58,1),easeInOut=cubicBezier(.42,0,.58,1),isEasingArray=et=>Array.isArray(et)&&typeof et[0]!="number",isBezierDefinition=et=>Array.isArray(et)&&typeof et[0]=="number",easingLookup={linear:noop$1,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},easingDefinitionToFunction=et=>{if(isBezierDefinition(et)){invariant$1(et.length===4);const[g,it,ot,ut]=et;return cubicBezier(g,it,ot,ut)}else if(typeof et=="string")return easingLookup[et];return et},combineFunctions=(et,g)=>it=>g(et(it)),pipe=(...et)=>et.reduce(combineFunctions),mixNumber$1=(et,g,it)=>et+(g-et)*it;function hueToRgb(et,g,it){return it<0&&(it+=1),it>1&&(it-=1),it<1/6?et+(g-et)*6*it:it<1/2?g:it<2/3?et+(g-et)*(2/3-it)*6:et}function hslaToRgba({hue:et,saturation:g,lightness:it,alpha:ot}){et/=360,g/=100,it/=100;let ut=0,ct=0,dt=0;if(!g)ut=ct=dt=it;else{const ft=it<.5?it*(1+g):it+g-it*g,St=2*it-ft;ut=hueToRgb(St,ft,et+1/3),ct=hueToRgb(St,ft,et),dt=hueToRgb(St,ft,et-1/3)}return{red:Math.round(ut*255),green:Math.round(ct*255),blue:Math.round(dt*255),alpha:ot}}function mixImmediate(et,g){return it=>it>0?g:et}const mixLinearColor=(et,g,it)=>{const ot=et*et,ut=it*(g*g-ot)+ot;return ut<0?0:Math.sqrt(ut)},colorTypes=[hex,rgba,hsla],getColorType=et=>colorTypes.find(g=>g.test(et));function asRGBA(et){const g=getColorType(et);if(!g)return!1;let it=g.parse(et);return g===hsla&&(it=hslaToRgba(it)),it}const mixColor=(et,g)=>{const it=asRGBA(et),ot=asRGBA(g);if(!it||!ot)return mixImmediate(et,g);const ut={...it};return ct=>(ut.red=mixLinearColor(it.red,ot.red,ct),ut.green=mixLinearColor(it.green,ot.green,ct),ut.blue=mixLinearColor(it.blue,ot.blue,ct),ut.alpha=mixNumber$1(it.alpha,ot.alpha,ct),rgba.transform(ut))},invisibleValues=new Set(["none","hidden"]);function mixVisibility(et,g){return invisibleValues.has(et)?it=>it<=0?et:g:it=>it>=1?g:et}function mixNumber(et,g){return it=>mixNumber$1(et,g,it)}function getMixer(et){return typeof et=="number"?mixNumber:typeof et=="string"?isCSSVariableToken(et)?mixImmediate:color.test(et)?mixColor:mixComplex:Array.isArray(et)?mixArray:typeof et=="object"?color.test(et)?mixColor:mixObject:mixImmediate}function mixArray(et,g){const it=[...et],ot=it.length,ut=et.map((ct,dt)=>getMixer(ct)(ct,g[dt]));return ct=>{for(let dt=0;dt<ot;dt++)it[dt]=ut[dt](ct);return it}}function mixObject(et,g){const it={...et,...g},ot={};for(const ut in it)et[ut]!==void 0&&g[ut]!==void 0&&(ot[ut]=getMixer(et[ut])(et[ut],g[ut]));return ut=>{for(const ct in ot)it[ct]=ot[ct](ut);return it}}function matchOrder(et,g){var it;const ot=[],ut={color:0,var:0,number:0};for(let ct=0;ct<g.values.length;ct++){const dt=g.types[ct],ft=et.indexes[dt][ut[dt]],St=(it=et.values[ft])!==null&&it!==void 0?it:0;ot[ct]=St,ut[dt]++}return ot}const mixComplex=(et,g)=>{const it=complex.createTransformer(g),ot=analyseComplexValue(et),ut=analyseComplexValue(g);return ot.indexes.var.length===ut.indexes.var.length&&ot.indexes.color.length===ut.indexes.color.length&&ot.indexes.number.length>=ut.indexes.number.length?invisibleValues.has(et)&&!ut.values.length||invisibleValues.has(g)&&!ot.values.length?mixVisibility(et,g):pipe(mixArray(matchOrder(ot,ut),ut.values),it):mixImmediate(et,g)};function mix(et,g,it){return typeof et=="number"&&typeof g=="number"&&typeof it=="number"?mixNumber$1(et,g,it):getMixer(et)(et,g)}function createMixers(et,g,it){const ot=[],ut=it||mix,ct=et.length-1;for(let dt=0;dt<ct;dt++){let ft=ut(et[dt],et[dt+1]);if(g){const St=Array.isArray(g)?g[dt]||noop$1:g;ft=pipe(St,ft)}ot.push(ft)}return ot}function interpolate(et,g,{clamp:it=!0,ease:ot,mixer:ut}={}){const ct=et.length;if(invariant$1(ct===g.length),ct===1)return()=>g[0];if(ct===2&&et[0]===et[1])return()=>g[1];et[0]>et[ct-1]&&(et=[...et].reverse(),g=[...g].reverse());const dt=createMixers(g,ot,ut),ft=dt.length,St=Tt=>{let kt=0;if(ft>1)for(;kt<et.length-2&&!(Tt<et[kt+1]);kt++);const jt=progress(et[kt],et[kt+1],Tt);return dt[kt](jt)};return it?Tt=>St(clamp(et[0],et[ct-1],Tt)):St}function fillOffset(et,g){const it=et[et.length-1];for(let ot=1;ot<=g;ot++){const ut=progress(0,g,ot);et.push(mixNumber$1(it,1,ut))}}function defaultOffset(et){const g=[0];return fillOffset(g,et.length-1),g}function convertOffsetToTimes(et,g){return et.map(it=>it*g)}function defaultEasing(et,g){return et.map(()=>g||easeInOut).splice(0,et.length-1)}function keyframes({duration:et=300,keyframes:g,times:it,ease:ot="easeInOut"}){const ut=isEasingArray(ot)?ot.map(easingDefinitionToFunction):easingDefinitionToFunction(ot),ct={done:!1,value:g[0]},dt=convertOffsetToTimes(it&&it.length===g.length?it:defaultOffset(g),et),ft=interpolate(dt,g,{ease:Array.isArray(ut)?ut:defaultEasing(g,ut)});return{calculatedDuration:et,next:St=>(ct.value=ft(St),ct.done=St>=et,ct)}}const frameloopDriver=et=>{const g=({timestamp:it})=>et(it);return{start:()=>frame.update(g,!0),stop:()=>cancelFrame(g),now:()=>frameData.isProcessing?frameData.timestamp:time.now()}},generators={decay:inertia,inertia,tween:keyframes,keyframes,spring},percentToProgress=et=>et/100;class MainThreadAnimation extends BaseAnimation{constructor(g){super(g),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:St}=this.options;St&&St()};const{name:it,motionValue:ot,element:ut,keyframes:ct}=this.options,dt=(ut==null?void 0:ut.KeyframeResolver)||KeyframeResolver,ft=(St,Tt)=>this.onKeyframesResolved(St,Tt);this.resolver=new dt(ct,ft,it,ot,ut),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(g){const{type:it="keyframes",repeat:ot=0,repeatDelay:ut=0,repeatType:ct,velocity:dt=0}=this.options,ft=isGenerator(it)?it:generators[it]||keyframes;let St,Tt;ft!==keyframes&&typeof g[0]!="number"&&(St=pipe(percentToProgress,mix(g[0],g[1])),g=[0,100]);const kt=ft({...this.options,keyframes:g});ct==="mirror"&&(Tt=ft({...this.options,keyframes:[...g].reverse(),velocity:-dt})),kt.calculatedDuration===null&&(kt.calculatedDuration=calcGeneratorDuration(kt));const{calculatedDuration:jt}=kt,Rt=jt+ut,$t=Rt*(ot+1)-ut;return{generator:kt,mirroredGenerator:Tt,mapPercentToKeyframes:St,calculatedDuration:jt,resolvedDuration:Rt,totalDuration:$t}}onPostResolved(){const{autoplay:g=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!g?this.pause():this.state=this.pendingPlayState}tick(g,it=!1){const{resolved:ot}=this;if(!ot){const{keyframes:rr}=this.options;return{done:!0,value:rr[rr.length-1]}}const{finalKeyframe:ut,generator:ct,mirroredGenerator:dt,mapPercentToKeyframes:ft,keyframes:St,calculatedDuration:Tt,totalDuration:kt,resolvedDuration:jt}=ot;if(this.startTime===null)return ct.next(0);const{delay:Rt,repeat:$t,repeatType:zt,repeatDelay:Ht,onUpdate:Zt}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,g):this.speed<0&&(this.startTime=Math.min(g-kt/this.speed,this.startTime)),it?this.currentTime=g:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(g-this.startTime)*this.speed;const Bt=this.currentTime-Rt*(this.speed>=0?1:-1),Ut=this.speed>=0?Bt<0:Bt>kt;this.currentTime=Math.max(Bt,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=kt);let Kt=this.currentTime,Yt=ct;if($t){const rr=Math.min(this.currentTime,kt)/jt;let hr=Math.floor(rr),ar=rr%1;!ar&&rr>=1&&(ar=1),ar===1&&hr--,hr=Math.min(hr,$t+1),!!(hr%2)&&(zt==="reverse"?(ar=1-ar,Ht&&(ar-=Ht/jt)):zt==="mirror"&&(Yt=dt)),Kt=clamp(0,1,ar)*jt}const Jt=Ut?{done:!1,value:St[0]}:Yt.next(Kt);ft&&(Jt.value=ft(Jt.value));let{done:er}=Jt;!Ut&&Tt!==null&&(er=this.speed>=0?this.currentTime>=kt:this.currentTime<=0);const tr=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&er);return tr&&ut!==void 0&&(Jt.value=getFinalKeyframe(St,this.options,ut)),Zt&&Zt(Jt.value),tr&&this.finish(),Jt}get duration(){const{resolved:g}=this;return g?millisecondsToSeconds(g.calculatedDuration):0}get time(){return millisecondsToSeconds(this.currentTime)}set time(g){g=secondsToMilliseconds(g),this.currentTime=g,this.holdTime!==null||this.speed===0?this.holdTime=g:this.driver&&(this.startTime=this.driver.now()-g/this.speed)}get speed(){return this.playbackSpeed}set speed(g){const it=this.playbackSpeed!==g;this.playbackSpeed=g,it&&(this.time=millisecondsToSeconds(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:g=frameloopDriver,onPlay:it,startTime:ot}=this.options;this.driver||(this.driver=g(ct=>this.tick(ct))),it&&it();const ut=this.driver.now();this.holdTime!==null?this.startTime=ut-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=ut):this.startTime=ot??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var g;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(g=this.currentTime)!==null&&g!==void 0?g:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:g}=this.options;g&&g()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(g){return this.startTime=0,this.tick(g,!0)}}const acceleratedValues=new Set(["opacity","clipPath","filter","transform"]);function memo(et){let g;return()=>(g===void 0&&(g=et()),g)}const supportsFlags={linearEasing:void 0};function memoSupports(et,g){const it=memo(et);return()=>{var ot;return(ot=supportsFlags[g])!==null&&ot!==void 0?ot:it()}}const supportsLinearEasing=memoSupports(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function isWaapiSupportedEasing(et){return!!(typeof et=="function"&&supportsLinearEasing()||!et||typeof et=="string"&&(et in supportedWaapiEasing||supportsLinearEasing())||isBezierDefinition(et)||Array.isArray(et)&&et.every(isWaapiSupportedEasing))}const cubicBezierAsString=([et,g,it,ot])=>`cubic-bezier(${et}, ${g}, ${it}, ${ot})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasing(et,g){if(et)return typeof et=="function"&&supportsLinearEasing()?generateLinearEasing(et,g):isBezierDefinition(et)?cubicBezierAsString(et):Array.isArray(et)?et.map(it=>mapEasingToNativeEasing(it,g)||supportedWaapiEasing.easeOut):supportedWaapiEasing[et]}function startWaapiAnimation(et,g,it,{delay:ot=0,duration:ut=300,repeat:ct=0,repeatType:dt="loop",ease:ft="easeInOut",times:St}={}){const Tt={[g]:it};St&&(Tt.offset=St);const kt=mapEasingToNativeEasing(ft,ut);return Array.isArray(kt)&&(Tt.easing=kt),et.animate(Tt,{delay:ot,duration:ut,easing:Array.isArray(kt)?"linear":kt,fill:"both",iterations:ct+1,direction:dt==="reverse"?"alternate":"normal"})}function attachTimeline(et,g){et.timeline=g,et.onfinish=null}const supportsWaapi=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),sampleDelta=10,maxDuration=2e4;function requiresPregeneratedKeyframes(et){return isGenerator(et.type)||et.type==="spring"||!isWaapiSupportedEasing(et.ease)}function pregenerateKeyframes(et,g){const it=new MainThreadAnimation({...g,keyframes:et,repeat:0,delay:0,isGenerator:!0});let ot={done:!1,value:et[0]};const ut=[];let ct=0;for(;!ot.done&&ct<maxDuration;)ot=it.sample(ct),ut.push(ot.value),ct+=sampleDelta;return{times:void 0,keyframes:ut,duration:ct-sampleDelta,ease:"linear"}}const unsupportedEasingFunctions={anticipate,backInOut,circInOut};function isUnsupportedEase(et){return et in unsupportedEasingFunctions}class AcceleratedAnimation extends BaseAnimation{constructor(g){super(g);const{name:it,motionValue:ot,element:ut,keyframes:ct}=this.options;this.resolver=new DOMKeyframesResolver(ct,(dt,ft)=>this.onKeyframesResolved(dt,ft),it,ot,ut),this.resolver.scheduleResolve()}initPlayback(g,it){var ot;let{duration:ut=300,times:ct,ease:dt,type:ft,motionValue:St,name:Tt,startTime:kt}=this.options;if(!(!((ot=St.owner)===null||ot===void 0)&&ot.current))return!1;if(typeof dt=="string"&&supportsLinearEasing()&&isUnsupportedEase(dt)&&(dt=unsupportedEasingFunctions[dt]),requiresPregeneratedKeyframes(this.options)){const{onComplete:Rt,onUpdate:$t,motionValue:zt,element:Ht,...Zt}=this.options,Bt=pregenerateKeyframes(g,Zt);g=Bt.keyframes,g.length===1&&(g[1]=g[0]),ut=Bt.duration,ct=Bt.times,dt=Bt.ease,ft="keyframes"}const jt=startWaapiAnimation(St.owner.current,Tt,g,{...this.options,duration:ut,times:ct,ease:dt});return jt.startTime=kt??this.calcStartTime(),this.pendingTimeline?(attachTimeline(jt,this.pendingTimeline),this.pendingTimeline=void 0):jt.onfinish=()=>{const{onComplete:Rt}=this.options;St.set(getFinalKeyframe(g,this.options,it)),Rt&&Rt(),this.cancel(),this.resolveFinishedPromise()},{animation:jt,duration:ut,times:ct,type:ft,ease:dt,keyframes:g}}get duration(){const{resolved:g}=this;if(!g)return 0;const{duration:it}=g;return millisecondsToSeconds(it)}get time(){const{resolved:g}=this;if(!g)return 0;const{animation:it}=g;return millisecondsToSeconds(it.currentTime||0)}set time(g){const{resolved:it}=this;if(!it)return;const{animation:ot}=it;ot.currentTime=secondsToMilliseconds(g)}get speed(){const{resolved:g}=this;if(!g)return 1;const{animation:it}=g;return it.playbackRate}set speed(g){const{resolved:it}=this;if(!it)return;const{animation:ot}=it;ot.playbackRate=g}get state(){const{resolved:g}=this;if(!g)return"idle";const{animation:it}=g;return it.playState}get startTime(){const{resolved:g}=this;if(!g)return null;const{animation:it}=g;return it.startTime}attachTimeline(g){if(!this._resolved)this.pendingTimeline=g;else{const{resolved:it}=this;if(!it)return noop$1;const{animation:ot}=it;attachTimeline(ot,g)}return noop$1}play(){if(this.isStopped)return;const{resolved:g}=this;if(!g)return;const{animation:it}=g;it.playState==="finished"&&this.updateFinishedPromise(),it.play()}pause(){const{resolved:g}=this;if(!g)return;const{animation:it}=g;it.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:g}=this;if(!g)return;const{animation:it,keyframes:ot,duration:ut,type:ct,ease:dt,times:ft}=g;if(it.playState==="idle"||it.playState==="finished")return;if(this.time){const{motionValue:Tt,onUpdate:kt,onComplete:jt,element:Rt,...$t}=this.options,zt=new MainThreadAnimation({...$t,keyframes:ot,duration:ut,type:ct,ease:dt,times:ft,isGenerator:!0}),Ht=secondsToMilliseconds(this.time);Tt.setWithVelocity(zt.sample(Ht-sampleDelta).value,zt.sample(Ht).value,sampleDelta)}const{onStop:St}=this.options;St&&St(),this.cancel()}complete(){const{resolved:g}=this;g&&g.animation.finish()}cancel(){const{resolved:g}=this;g&&g.animation.cancel()}static supports(g){const{motionValue:it,name:ot,repeatDelay:ut,repeatType:ct,damping:dt,type:ft}=g;return supportsWaapi()&&ot&&acceleratedValues.has(ot)&&it&&it.owner&&it.owner.current instanceof HTMLElement&&!it.owner.getProps().onUpdate&&!ut&&ct!=="mirror"&&dt!==0&&ft!=="inertia"}}const supportsScrollTimeline=memo(()=>window.ScrollTimeline!==void 0);class GroupPlaybackControls{constructor(g){this.stop=()=>this.runAll("stop"),this.animations=g.filter(Boolean)}then(g,it){return Promise.all(this.animations).then(g).catch(it)}getAll(g){return this.animations[0][g]}setAll(g,it){for(let ot=0;ot<this.animations.length;ot++)this.animations[ot][g]=it}attachTimeline(g,it){const ot=this.animations.map(ut=>supportsScrollTimeline()&&ut.attachTimeline?ut.attachTimeline(g):it(ut));return()=>{ot.forEach((ut,ct)=>{ut&&ut(),this.animations[ct].stop()})}}get time(){return this.getAll("time")}set time(g){this.setAll("time",g)}get speed(){return this.getAll("speed")}set speed(g){this.setAll("speed",g)}get startTime(){return this.getAll("startTime")}get duration(){let g=0;for(let it=0;it<this.animations.length;it++)g=Math.max(g,this.animations[it].duration);return g}runAll(g){this.animations.forEach(it=>it[g]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function isTransitionDefined({when:et,delay:g,delayChildren:it,staggerChildren:ot,staggerDirection:ut,repeat:ct,repeatType:dt,repeatDelay:ft,from:St,elapsed:Tt,...kt}){return!!Object.keys(kt).length}const animateMotionValue=(et,g,it,ot={},ut,ct)=>dt=>{const ft=getValueTransition(ot,et)||{},St=ft.delay||ot.delay||0;let{elapsed:Tt=0}=ot;Tt=Tt-secondsToMilliseconds(St);let kt={keyframes:Array.isArray(it)?it:[null,it],ease:"easeOut",velocity:g.getVelocity(),...ft,delay:-Tt,onUpdate:Rt=>{g.set(Rt),ft.onUpdate&&ft.onUpdate(Rt)},onComplete:()=>{dt(),ft.onComplete&&ft.onComplete()},name:et,motionValue:g,element:ct?void 0:ut};isTransitionDefined(ft)||(kt={...kt,...getDefaultTransition(et,kt)}),kt.duration&&(kt.duration=secondsToMilliseconds(kt.duration)),kt.repeatDelay&&(kt.repeatDelay=secondsToMilliseconds(kt.repeatDelay)),kt.from!==void 0&&(kt.keyframes[0]=kt.from);let jt=!1;if((kt.type===!1||kt.duration===0&&!kt.repeatDelay)&&(kt.duration=0,kt.delay===0&&(jt=!0)),jt&&!ct&&g.get()!==void 0){const Rt=getFinalKeyframe(kt.keyframes,ft);if(Rt!==void 0)return frame.update(()=>{kt.onUpdate(Rt),kt.onComplete()}),new GroupPlaybackControls([])}return!ct&&AcceleratedAnimation.supports(kt)?new AcceleratedAnimation(kt):new MainThreadAnimation(kt)},isCustomValue=et=>!!(et&&typeof et=="object"&&et.mix&&et.toValue),resolveFinalValueInKeyframes=et=>isKeyframesTarget(et)?et[et.length-1]||0:et;function addUniqueItem(et,g){et.indexOf(g)===-1&&et.push(g)}function removeItem(et,g){const it=et.indexOf(g);it>-1&&et.splice(it,1)}class SubscriptionManager{constructor(){this.subscriptions=[]}add(g){return addUniqueItem(this.subscriptions,g),()=>removeItem(this.subscriptions,g)}notify(g,it,ot){const ut=this.subscriptions.length;if(ut)if(ut===1)this.subscriptions[0](g,it,ot);else for(let ct=0;ct<ut;ct++){const dt=this.subscriptions[ct];dt&&dt(g,it,ot)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const MAX_VELOCITY_DELTA=30,isFloat=et=>!isNaN(parseFloat(et));class MotionValue{constructor(g,it={}){this.version="11.15.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(ot,ut=!0)=>{const ct=time.now();this.updatedAt!==ct&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(ot),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),ut&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(g),this.owner=it.owner}setCurrent(g){this.current=g,this.updatedAt=time.now(),this.canTrackVelocity===null&&g!==void 0&&(this.canTrackVelocity=isFloat(this.current))}setPrevFrameValue(g=this.current){this.prevFrameValue=g,this.prevUpdatedAt=this.updatedAt}onChange(g){return this.on("change",g)}on(g,it){this.events[g]||(this.events[g]=new SubscriptionManager);const ot=this.events[g].add(it);return g==="change"?()=>{ot(),frame.read(()=>{this.events.change.getSize()||this.stop()})}:ot}clearListeners(){for(const g in this.events)this.events[g].clear()}attach(g,it){this.passiveEffect=g,this.stopPassiveEffect=it}set(g,it=!0){!it||!this.passiveEffect?this.updateAndNotify(g,it):this.passiveEffect(g,this.updateAndNotify)}setWithVelocity(g,it,ot){this.set(it),this.prev=void 0,this.prevFrameValue=g,this.prevUpdatedAt=this.updatedAt-ot}jump(g,it=!0){this.updateAndNotify(g),this.prev=g,this.prevUpdatedAt=this.prevFrameValue=void 0,it&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const g=time.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||g-this.updatedAt>MAX_VELOCITY_DELTA)return 0;const it=Math.min(this.updatedAt-this.prevUpdatedAt,MAX_VELOCITY_DELTA);return velocityPerSecond(parseFloat(this.current)-parseFloat(this.prevFrameValue),it)}start(g){return this.stop(),new Promise(it=>{this.hasAnimated=!0,this.animation=g(it),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(et,g){return new MotionValue(et,g)}function setMotionValue(et,g,it){et.hasValue(g)?et.getValue(g).set(it):et.addValue(g,motionValue(it))}function setTarget(et,g){const it=resolveVariant(et,g);let{transitionEnd:ot={},transition:ut={},...ct}=it||{};ct={...ct,...ot};for(const dt in ct){const ft=resolveFinalValueInKeyframes(ct[dt]);setMotionValue(et,dt,ft)}}const camelToDash=et=>et.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId);function getOptimisedAppearId(et){return et.props[optimizedAppearDataAttribute]}const isMotionValue=et=>!!(et&&et.getVelocity);function isWillChangeMotionValue(et){return!!(isMotionValue(et)&&et.add)}function addValueToWillChange(et,g){const it=et.getValue("willChange");if(isWillChangeMotionValue(it))return it.add(g)}function shouldBlockAnimation({protectedKeys:et,needsAnimating:g},it){const ot=et.hasOwnProperty(it)&&g[it]!==!0;return g[it]=!1,ot}function animateTarget(et,g,{delay:it=0,transitionOverride:ot,type:ut}={}){var ct;let{transition:dt=et.getDefaultTransition(),transitionEnd:ft,...St}=g;ot&&(dt=ot);const Tt=[],kt=ut&&et.animationState&&et.animationState.getState()[ut];for(const jt in St){const Rt=et.getValue(jt,(ct=et.latestValues[jt])!==null&&ct!==void 0?ct:null),$t=St[jt];if($t===void 0||kt&&shouldBlockAnimation(kt,jt))continue;const zt={delay:it,...getValueTransition(dt||{},jt)};let Ht=!1;if(window.MotionHandoffAnimation){const Bt=getOptimisedAppearId(et);if(Bt){const Ut=window.MotionHandoffAnimation(Bt,jt,frame);Ut!==null&&(zt.startTime=Ut,Ht=!0)}}addValueToWillChange(et,jt),Rt.start(animateMotionValue(jt,Rt,$t,et.shouldReduceMotion&&transformProps.has(jt)?{type:!1}:zt,et,Ht));const Zt=Rt.animation;Zt&&Tt.push(Zt)}return ft&&Promise.all(Tt).then(()=>{frame.update(()=>{ft&&setTarget(et,ft)})}),Tt}function animateVariant(et,g,it={}){var ot;const ut=resolveVariant(et,g,it.type==="exit"?(ot=et.presenceContext)===null||ot===void 0?void 0:ot.custom:void 0);let{transition:ct=et.getDefaultTransition()||{}}=ut||{};it.transitionOverride&&(ct=it.transitionOverride);const dt=ut?()=>Promise.all(animateTarget(et,ut,it)):()=>Promise.resolve(),ft=et.variantChildren&&et.variantChildren.size?(Tt=0)=>{const{delayChildren:kt=0,staggerChildren:jt,staggerDirection:Rt}=ct;return animateChildren(et,g,kt+Tt,jt,Rt,it)}:()=>Promise.resolve(),{when:St}=ct;if(St){const[Tt,kt]=St==="beforeChildren"?[dt,ft]:[ft,dt];return Tt().then(()=>kt())}else return Promise.all([dt(),ft(it.delay)])}function animateChildren(et,g,it=0,ot=0,ut=1,ct){const dt=[],ft=(et.variantChildren.size-1)*ot,St=ut===1?(Tt=0)=>Tt*ot:(Tt=0)=>ft-Tt*ot;return Array.from(et.variantChildren).sort(sortByTreeOrder).forEach((Tt,kt)=>{Tt.notify("AnimationStart",g),dt.push(animateVariant(Tt,g,{...ct,delay:it+St(kt)}).then(()=>Tt.notify("AnimationComplete",g)))}),Promise.all(dt)}function sortByTreeOrder(et,g){return et.sortNodePosition(g)}function animateVisualElement(et,g,it={}){et.notify("AnimationStart",g);let ot;if(Array.isArray(g)){const ut=g.map(ct=>animateVariant(et,ct,it));ot=Promise.all(ut)}else if(typeof g=="string")ot=animateVariant(et,g,it);else{const ut=typeof g=="function"?resolveVariant(et,g,it.custom):g;ot=Promise.all(animateTarget(et,ut,it))}return ot.then(()=>{et.notify("AnimationComplete",g)})}const numVariantProps=variantProps.length;function getVariantContext(et){if(!et)return;if(!et.isControllingVariants){const it=et.parent?getVariantContext(et.parent)||{}:{};return et.props.initial!==void 0&&(it.initial=et.props.initial),it}const g={};for(let it=0;it<numVariantProps;it++){const ot=variantProps[it],ut=et.props[ot];(isVariantLabel(ut)||ut===!1)&&(g[ot]=ut)}return g}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(et){return g=>Promise.all(g.map(({animation:it,options:ot})=>animateVisualElement(et,it,ot)))}function createAnimationState(et){let g=animateList(et),it=createState(),ot=!0;const ut=St=>(Tt,kt)=>{var jt;const Rt=resolveVariant(et,kt,St==="exit"?(jt=et.presenceContext)===null||jt===void 0?void 0:jt.custom:void 0);if(Rt){const{transition:$t,transitionEnd:zt,...Ht}=Rt;Tt={...Tt,...Ht,...zt}}return Tt};function ct(St){g=St(et)}function dt(St){const{props:Tt}=et,kt=getVariantContext(et.parent)||{},jt=[],Rt=new Set;let $t={},zt=1/0;for(let Zt=0;Zt<numAnimationTypes;Zt++){const Bt=reversePriorityOrder[Zt],Ut=it[Bt],Kt=Tt[Bt]!==void 0?Tt[Bt]:kt[Bt],Yt=isVariantLabel(Kt),Jt=Bt===St?Ut.isActive:null;Jt===!1&&(zt=Zt);let er=Kt===kt[Bt]&&Kt!==Tt[Bt]&&Yt;if(er&&ot&&et.manuallyAnimateOnMount&&(er=!1),Ut.protectedKeys={...$t},!Ut.isActive&&Jt===null||!Kt&&!Ut.prevProp||isAnimationControls(Kt)||typeof Kt=="boolean")continue;const tr=checkVariantsDidChange(Ut.prevProp,Kt);let rr=tr||Bt===St&&Ut.isActive&&!er&&Yt||Zt>zt&&Yt,hr=!1;const ar=Array.isArray(Kt)?Kt:[Kt];let or=ar.reduce(ut(Bt),{});Jt===!1&&(or={});const{prevResolvedValues:cr={}}=Ut,gr={...cr,...or},yr=pr=>{rr=!0,Rt.has(pr)&&(hr=!0,Rt.delete(pr)),Ut.needsAnimating[pr]=!0;const nr=et.getValue(pr);nr&&(nr.liveStyle=!1)};for(const pr in gr){const nr=or[pr],ir=cr[pr];if($t.hasOwnProperty(pr))continue;let mr=!1;isKeyframesTarget(nr)&&isKeyframesTarget(ir)?mr=!shallowCompare(nr,ir):mr=nr!==ir,mr?nr!=null?yr(pr):Rt.add(pr):nr!==void 0&&Rt.has(pr)?yr(pr):Ut.protectedKeys[pr]=!0}Ut.prevProp=Kt,Ut.prevResolvedValues=or,Ut.isActive&&($t={...$t,...or}),ot&&et.blockInitialAnimation&&(rr=!1),rr&&(!(er&&tr)||hr)&&jt.push(...ar.map(pr=>({animation:pr,options:{type:Bt}})))}if(Rt.size){const Zt={};Rt.forEach(Bt=>{const Ut=et.getBaseTarget(Bt),Kt=et.getValue(Bt);Kt&&(Kt.liveStyle=!0),Zt[Bt]=Ut??null}),jt.push({animation:Zt})}let Ht=!!jt.length;return ot&&(Tt.initial===!1||Tt.initial===Tt.animate)&&!et.manuallyAnimateOnMount&&(Ht=!1),ot=!1,Ht?g(jt):Promise.resolve()}function ft(St,Tt){var kt;if(it[St].isActive===Tt)return Promise.resolve();(kt=et.variantChildren)===null||kt===void 0||kt.forEach(Rt=>{var $t;return($t=Rt.animationState)===null||$t===void 0?void 0:$t.setActive(St,Tt)}),it[St].isActive=Tt;const jt=dt(St);for(const Rt in it)it[Rt].protectedKeys={};return jt}return{animateChanges:dt,setActive:ft,setAnimateFunction:ct,getState:()=>it,reset:()=>{it=createState(),ot=!0}}}function checkVariantsDidChange(et,g){return typeof g=="string"?g!==et:Array.isArray(g)?!shallowCompare(g,et):!1}function createTypeState(et=!1){return{isActive:et,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class Feature{constructor(g){this.isMounted=!1,this.node=g}update(){}}class AnimationFeature extends Feature{constructor(g){super(g),g.animationState||(g.animationState=createAnimationState(g))}updateAnimationControlsSubscription(){const{animate:g}=this.node.getProps();isAnimationControls(g)&&(this.unmountControls=g.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:g}=this.node.getProps(),{animate:it}=this.node.prevProps||{};g!==it&&this.updateAnimationControlsSubscription()}unmount(){var g;this.node.animationState.reset(),(g=this.unmountControls)===null||g===void 0||g.call(this)}}let id$1=0;class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=id$1++}update(){if(!this.node.presenceContext)return;const{isPresent:g,onExitComplete:it}=this.node.presenceContext,{isPresent:ot}=this.node.prevPresenceContext||{};if(!this.node.animationState||g===ot)return;const ut=this.node.animationState.setActive("exit",!g);it&&!g&&ut.then(()=>it(this.id))}mount(){const{register:g}=this.node.presenceContext||{};g&&(this.unmount=g(this.id))}unmount(){}}const animations={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}},isDragging={x:!1,y:!1};function isDragActive(){return isDragging.x||isDragging.y}function resolveElements(et,g,it){var ot;if(et instanceof Element)return[et];if(typeof et=="string"){let ut=document;g&&(ut=g.current);const ct=(ot=it==null?void 0:it[et])!==null&&ot!==void 0?ot:ut.querySelectorAll(et);return ct?Array.from(ct):[]}return Array.from(et)}function setupGesture(et,g){const it=resolveElements(et),ot=new AbortController,ut={passive:!0,...g,signal:ot.signal};return[it,ut,()=>ot.abort()]}function filterEvents$1(et){return g=>{g.pointerType==="touch"||isDragActive()||et(g)}}function hover(et,g,it={}){const[ot,ut,ct]=setupGesture(et,it),dt=filterEvents$1(ft=>{const{target:St}=ft,Tt=g(ft);if(!Tt||!St)return;const kt=filterEvents$1(jt=>{Tt(jt),St.removeEventListener("pointerleave",kt)});St.addEventListener("pointerleave",kt,ut)});return ot.forEach(ft=>{ft.addEventListener("pointerenter",dt,ut)}),ct}const isPrimaryPointer=et=>et.pointerType==="mouse"?typeof et.button!="number"||et.button<=0:et.isPrimary!==!1,isPressing=new WeakSet;function filterEvents(et){return g=>{g.key==="Enter"&&et(g)}}function firePointerEvent(et,g){et.dispatchEvent(new PointerEvent("pointer"+g,{isPrimary:!0,bubbles:!0}))}const enableKeyboardPress=(et,g)=>{const it=et.currentTarget;if(!it)return;const ot=filterEvents(()=>{if(isPressing.has(it))return;firePointerEvent(it,"down");const ut=filterEvents(()=>{firePointerEvent(it,"up")}),ct=()=>firePointerEvent(it,"cancel");it.addEventListener("keyup",ut,g),it.addEventListener("blur",ct,g)});it.addEventListener("keydown",ot,g),it.addEventListener("blur",()=>it.removeEventListener("keydown",ot),g)},focusableElements=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function isElementKeyboardAccessible(et){return focusableElements.has(et.tagName)||et.tabIndex!==-1}const isNodeOrChild=(et,g)=>g?et===g?!0:isNodeOrChild(et,g.parentElement):!1;function isValidPressEvent(et){return isPrimaryPointer(et)&&!isDragActive()}function press(et,g,it={}){const[ot,ut,ct]=setupGesture(et,it),dt=ft=>{const St=ft.currentTarget;if(!isValidPressEvent(ft)||isPressing.has(St))return;isPressing.add(St);const Tt=g(ft),kt=($t,zt)=>{window.removeEventListener("pointerup",jt),window.removeEventListener("pointercancel",Rt),!(!isValidPressEvent($t)||!isPressing.has(St))&&(isPressing.delete(St),Tt&&Tt($t,{success:zt}))},jt=$t=>{kt($t,it.useGlobalTarget||isNodeOrChild(St,$t.target))},Rt=$t=>{kt($t,!1)};window.addEventListener("pointerup",jt,ut),window.addEventListener("pointercancel",Rt,ut)};return ot.forEach(ft=>{isElementKeyboardAccessible(ft)||(ft.tabIndex=0),(it.useGlobalTarget?window:ft).addEventListener("pointerdown",dt,ut),ft.addEventListener("focus",Tt=>enableKeyboardPress(Tt,ut),ut)}),ct}function setDragLock(et){return et==="x"||et==="y"?isDragging[et]?null:(isDragging[et]=!0,()=>{isDragging[et]=!1}):isDragging.x||isDragging.y?null:(isDragging.x=isDragging.y=!0,()=>{isDragging.x=isDragging.y=!1})}function extractEventInfo(et){return{point:{x:et.pageX,y:et.pageY}}}const addPointerInfo=et=>g=>isPrimaryPointer(g)&&et(g,extractEventInfo(g));function addDomEvent(et,g,it,ot={passive:!0}){return et.addEventListener(g,it,ot),()=>et.removeEventListener(g,it)}function addPointerEvent(et,g,it,ot){return addDomEvent(et,g,addPointerInfo(it),ot)}const distance=(et,g)=>Math.abs(et-g);function distance2D(et,g){const it=distance(et.x,g.x),ot=distance(et.y,g.y);return Math.sqrt(it**2+ot**2)}class PanSession{constructor(g,it,{transformPagePoint:ot,contextWindow:ut,dragSnapToOrigin:ct=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const jt=getPanInfo(this.lastMoveEventInfo,this.history),Rt=this.startEvent!==null,$t=distance2D(jt.offset,{x:0,y:0})>=3;if(!Rt&&!$t)return;const{point:zt}=jt,{timestamp:Ht}=frameData;this.history.push({...zt,timestamp:Ht});const{onStart:Zt,onMove:Bt}=this.handlers;Rt||(Zt&&Zt(this.lastMoveEvent,jt),this.startEvent=this.lastMoveEvent),Bt&&Bt(this.lastMoveEvent,jt)},this.handlePointerMove=(jt,Rt)=>{this.lastMoveEvent=jt,this.lastMoveEventInfo=transformPoint(Rt,this.transformPagePoint),frame.update(this.updatePoint,!0)},this.handlePointerUp=(jt,Rt)=>{this.end();const{onEnd:$t,onSessionEnd:zt,resumeAnimation:Ht}=this.handlers;if(this.dragSnapToOrigin&&Ht&&Ht(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const Zt=getPanInfo(jt.type==="pointercancel"?this.lastMoveEventInfo:transformPoint(Rt,this.transformPagePoint),this.history);this.startEvent&&$t&&$t(jt,Zt),zt&&zt(jt,Zt)},!isPrimaryPointer(g))return;this.dragSnapToOrigin=ct,this.handlers=it,this.transformPagePoint=ot,this.contextWindow=ut||window;const dt=extractEventInfo(g),ft=transformPoint(dt,this.transformPagePoint),{point:St}=ft,{timestamp:Tt}=frameData;this.history=[{...St,timestamp:Tt}];const{onSessionStart:kt}=it;kt&&kt(g,getPanInfo(ft,this.history)),this.removeListeners=pipe(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(g){this.handlers=g}end(){this.removeListeners&&this.removeListeners(),cancelFrame(this.updatePoint)}}function transformPoint(et,g){return g?{point:g(et.point)}:et}function subtractPoint(et,g){return{x:et.x-g.x,y:et.y-g.y}}function getPanInfo({point:et},g){return{point:et,delta:subtractPoint(et,lastDevicePoint(g)),offset:subtractPoint(et,startDevicePoint(g)),velocity:getVelocity(g,.1)}}function startDevicePoint(et){return et[0]}function lastDevicePoint(et){return et[et.length-1]}function getVelocity(et,g){if(et.length<2)return{x:0,y:0};let it=et.length-1,ot=null;const ut=lastDevicePoint(et);for(;it>=0&&(ot=et[it],!(ut.timestamp-ot.timestamp>secondsToMilliseconds(g)));)it--;if(!ot)return{x:0,y:0};const ct=millisecondsToSeconds(ut.timestamp-ot.timestamp);if(ct===0)return{x:0,y:0};const dt={x:(ut.x-ot.x)/ct,y:(ut.y-ot.y)/ct};return dt.x===1/0&&(dt.x=0),dt.y===1/0&&(dt.y=0),dt}function isRefObject(et){return et&&typeof et=="object"&&Object.prototype.hasOwnProperty.call(et,"current")}const SCALE_PRECISION=1e-4,SCALE_MIN=1-SCALE_PRECISION,SCALE_MAX=1+SCALE_PRECISION,TRANSLATE_PRECISION=.01,TRANSLATE_MIN=0-TRANSLATE_PRECISION,TRANSLATE_MAX=0+TRANSLATE_PRECISION;function calcLength(et){return et.max-et.min}function isNear(et,g,it){return Math.abs(et-g)<=it}function calcAxisDelta(et,g,it,ot=.5){et.origin=ot,et.originPoint=mixNumber$1(g.min,g.max,et.origin),et.scale=calcLength(it)/calcLength(g),et.translate=mixNumber$1(it.min,it.max,et.origin)-et.originPoint,(et.scale>=SCALE_MIN&&et.scale<=SCALE_MAX||isNaN(et.scale))&&(et.scale=1),(et.translate>=TRANSLATE_MIN&&et.translate<=TRANSLATE_MAX||isNaN(et.translate))&&(et.translate=0)}function calcBoxDelta(et,g,it,ot){calcAxisDelta(et.x,g.x,it.x,ot?ot.originX:void 0),calcAxisDelta(et.y,g.y,it.y,ot?ot.originY:void 0)}function calcRelativeAxis(et,g,it){et.min=it.min+g.min,et.max=et.min+calcLength(g)}function calcRelativeBox(et,g,it){calcRelativeAxis(et.x,g.x,it.x),calcRelativeAxis(et.y,g.y,it.y)}function calcRelativeAxisPosition(et,g,it){et.min=g.min-it.min,et.max=et.min+calcLength(g)}function calcRelativePosition(et,g,it){calcRelativeAxisPosition(et.x,g.x,it.x),calcRelativeAxisPosition(et.y,g.y,it.y)}function applyConstraints(et,{min:g,max:it},ot){return g!==void 0&&et<g?et=ot?mixNumber$1(g,et,ot.min):Math.max(et,g):it!==void 0&&et>it&&(et=ot?mixNumber$1(it,et,ot.max):Math.min(et,it)),et}function calcRelativeAxisConstraints(et,g,it){return{min:g!==void 0?et.min+g:void 0,max:it!==void 0?et.max+it-(et.max-et.min):void 0}}function calcRelativeConstraints(et,{top:g,left:it,bottom:ot,right:ut}){return{x:calcRelativeAxisConstraints(et.x,it,ut),y:calcRelativeAxisConstraints(et.y,g,ot)}}function calcViewportAxisConstraints(et,g){let it=g.min-et.min,ot=g.max-et.max;return g.max-g.min<et.max-et.min&&([it,ot]=[ot,it]),{min:it,max:ot}}function calcViewportConstraints(et,g){return{x:calcViewportAxisConstraints(et.x,g.x),y:calcViewportAxisConstraints(et.y,g.y)}}function calcOrigin$1(et,g){let it=.5;const ot=calcLength(et),ut=calcLength(g);return ut>ot?it=progress(g.min,g.max-ot,et.min):ot>ut&&(it=progress(et.min,et.max-ut,g.min)),clamp(0,1,it)}function rebaseAxisConstraints(et,g){const it={};return g.min!==void 0&&(it.min=g.min-et.min),g.max!==void 0&&(it.max=g.max-et.min),it}const defaultElastic=.35;function resolveDragElastic(et=defaultElastic){return et===!1?et=0:et===!0&&(et=defaultElastic),{x:resolveAxisElastic(et,"left","right"),y:resolveAxisElastic(et,"top","bottom")}}function resolveAxisElastic(et,g,it){return{min:resolvePointElastic(et,g),max:resolvePointElastic(et,it)}}function resolvePointElastic(et,g){return typeof et=="number"?et:et[g]||0}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()});function eachAxis(et){return[et("x"),et("y")]}function convertBoundingBoxToBox({top:et,left:g,right:it,bottom:ot}){return{x:{min:g,max:it},y:{min:et,max:ot}}}function convertBoxToBoundingBox({x:et,y:g}){return{top:g.min,right:et.max,bottom:g.max,left:et.min}}function transformBoxPoints(et,g){if(!g)return et;const it=g({x:et.left,y:et.top}),ot=g({x:et.right,y:et.bottom});return{top:it.y,left:it.x,bottom:ot.y,right:ot.x}}function isIdentityScale(et){return et===void 0||et===1}function hasScale({scale:et,scaleX:g,scaleY:it}){return!isIdentityScale(et)||!isIdentityScale(g)||!isIdentityScale(it)}function hasTransform(et){return hasScale(et)||has2DTranslate(et)||et.z||et.rotate||et.rotateX||et.rotateY||et.skewX||et.skewY}function has2DTranslate(et){return is2DTranslate(et.x)||is2DTranslate(et.y)}function is2DTranslate(et){return et&&et!=="0%"}function scalePoint(et,g,it){const ot=et-it,ut=g*ot;return it+ut}function applyPointDelta(et,g,it,ot,ut){return ut!==void 0&&(et=scalePoint(et,ut,ot)),scalePoint(et,it,ot)+g}function applyAxisDelta(et,g=0,it=1,ot,ut){et.min=applyPointDelta(et.min,g,it,ot,ut),et.max=applyPointDelta(et.max,g,it,ot,ut)}function applyBoxDelta(et,{x:g,y:it}){applyAxisDelta(et.x,g.translate,g.scale,g.originPoint),applyAxisDelta(et.y,it.translate,it.scale,it.originPoint)}const TREE_SCALE_SNAP_MIN=.999999999999,TREE_SCALE_SNAP_MAX=1.0000000000001;function applyTreeDeltas(et,g,it,ot=!1){const ut=it.length;if(!ut)return;g.x=g.y=1;let ct,dt;for(let ft=0;ft<ut;ft++){ct=it[ft],dt=ct.projectionDelta;const{visualElement:St}=ct.options;St&&St.props.style&&St.props.style.display==="contents"||(ot&&ct.options.layoutScroll&&ct.scroll&&ct!==ct.root&&transformBox(et,{x:-ct.scroll.offset.x,y:-ct.scroll.offset.y}),dt&&(g.x*=dt.x.scale,g.y*=dt.y.scale,applyBoxDelta(et,dt)),ot&&hasTransform(ct.latestValues)&&transformBox(et,ct.latestValues))}g.x<TREE_SCALE_SNAP_MAX&&g.x>TREE_SCALE_SNAP_MIN&&(g.x=1),g.y<TREE_SCALE_SNAP_MAX&&g.y>TREE_SCALE_SNAP_MIN&&(g.y=1)}function translateAxis(et,g){et.min=et.min+g,et.max=et.max+g}function transformAxis(et,g,it,ot,ut=.5){const ct=mixNumber$1(et.min,et.max,ut);applyAxisDelta(et,g,it,ct,ot)}function transformBox(et,g){transformAxis(et.x,g.x,g.scaleX,g.scale,g.originX),transformAxis(et.y,g.y,g.scaleY,g.scale,g.originY)}function measureViewportBox(et,g){return convertBoundingBoxToBox(transformBoxPoints(et.getBoundingClientRect(),g))}function measurePageBox(et,g,it){const ot=measureViewportBox(et,it),{scroll:ut}=g;return ut&&(translateAxis(ot.x,ut.offset.x),translateAxis(ot.y,ut.offset.y)),ot}const getContextWindow=({current:et})=>et?et.ownerDocument.defaultView:null,elementDragControls=new WeakMap;class VisualElementDragControls{constructor(g){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.visualElement=g}start(g,{snapToCursor:it=!1}={}){const{presenceContext:ot}=this.visualElement;if(ot&&ot.isPresent===!1)return;const ut=kt=>{const{dragSnapToOrigin:jt}=this.getProps();jt?this.pauseAnimation():this.stopAnimation(),it&&this.snapToCursor(extractEventInfo(kt).point)},ct=(kt,jt)=>{const{drag:Rt,dragPropagation:$t,onDragStart:zt}=this.getProps();if(Rt&&!$t&&(this.openDragLock&&this.openDragLock(),this.openDragLock=setDragLock(Rt),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(Zt=>{let Bt=this.getAxisMotionValue(Zt).get()||0;if(percent.test(Bt)){const{projection:Ut}=this.visualElement;if(Ut&&Ut.layout){const Kt=Ut.layout.layoutBox[Zt];Kt&&(Bt=calcLength(Kt)*(parseFloat(Bt)/100))}}this.originPoint[Zt]=Bt}),zt&&frame.postRender(()=>zt(kt,jt)),addValueToWillChange(this.visualElement,"transform");const{animationState:Ht}=this.visualElement;Ht&&Ht.setActive("whileDrag",!0)},dt=(kt,jt)=>{const{dragPropagation:Rt,dragDirectionLock:$t,onDirectionLock:zt,onDrag:Ht}=this.getProps();if(!Rt&&!this.openDragLock)return;const{offset:Zt}=jt;if($t&&this.currentDirection===null){this.currentDirection=getCurrentDirection(Zt),this.currentDirection!==null&&zt&&zt(this.currentDirection);return}this.updateAxis("x",jt.point,Zt),this.updateAxis("y",jt.point,Zt),this.visualElement.render(),Ht&&Ht(kt,jt)},ft=(kt,jt)=>this.stop(kt,jt),St=()=>eachAxis(kt=>{var jt;return this.getAnimationState(kt)==="paused"&&((jt=this.getAxisMotionValue(kt).animation)===null||jt===void 0?void 0:jt.play())}),{dragSnapToOrigin:Tt}=this.getProps();this.panSession=new PanSession(g,{onSessionStart:ut,onStart:ct,onMove:dt,onSessionEnd:ft,resumeAnimation:St},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:Tt,contextWindow:getContextWindow(this.visualElement)})}stop(g,it){const ot=this.isDragging;if(this.cancel(),!ot)return;const{velocity:ut}=it;this.startAnimation(ut);const{onDragEnd:ct}=this.getProps();ct&&frame.postRender(()=>ct(g,it))}cancel(){this.isDragging=!1;const{projection:g,animationState:it}=this.visualElement;g&&(g.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:ot}=this.getProps();!ot&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),it&&it.setActive("whileDrag",!1)}updateAxis(g,it,ot){const{drag:ut}=this.getProps();if(!ot||!shouldDrag(g,ut,this.currentDirection))return;const ct=this.getAxisMotionValue(g);let dt=this.originPoint[g]+ot[g];this.constraints&&this.constraints[g]&&(dt=applyConstraints(dt,this.constraints[g],this.elastic[g])),ct.set(dt)}resolveConstraints(){var g;const{dragConstraints:it,dragElastic:ot}=this.getProps(),ut=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(g=this.visualElement.projection)===null||g===void 0?void 0:g.layout,ct=this.constraints;it&&isRefObject(it)?this.constraints||(this.constraints=this.resolveRefConstraints()):it&&ut?this.constraints=calcRelativeConstraints(ut.layoutBox,it):this.constraints=!1,this.elastic=resolveDragElastic(ot),ct!==this.constraints&&ut&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(dt=>{this.constraints!==!1&&this.getAxisMotionValue(dt)&&(this.constraints[dt]=rebaseAxisConstraints(ut.layoutBox[dt],this.constraints[dt]))})}resolveRefConstraints(){const{dragConstraints:g,onMeasureDragConstraints:it}=this.getProps();if(!g||!isRefObject(g))return!1;const ot=g.current,{projection:ut}=this.visualElement;if(!ut||!ut.layout)return!1;const ct=measurePageBox(ot,ut.root,this.visualElement.getTransformPagePoint());let dt=calcViewportConstraints(ut.layout.layoutBox,ct);if(it){const ft=it(convertBoxToBoundingBox(dt));this.hasMutatedConstraints=!!ft,ft&&(dt=convertBoundingBoxToBox(ft))}return dt}startAnimation(g){const{drag:it,dragMomentum:ot,dragElastic:ut,dragTransition:ct,dragSnapToOrigin:dt,onDragTransitionEnd:ft}=this.getProps(),St=this.constraints||{},Tt=eachAxis(kt=>{if(!shouldDrag(kt,it,this.currentDirection))return;let jt=St&&St[kt]||{};dt&&(jt={min:0,max:0});const Rt=ut?200:1e6,$t=ut?40:1e7,zt={type:"inertia",velocity:ot?g[kt]:0,bounceStiffness:Rt,bounceDamping:$t,timeConstant:750,restDelta:1,restSpeed:10,...ct,...jt};return this.startAxisValueAnimation(kt,zt)});return Promise.all(Tt).then(ft)}startAxisValueAnimation(g,it){const ot=this.getAxisMotionValue(g);return addValueToWillChange(this.visualElement,g),ot.start(animateMotionValue(g,ot,0,it,this.visualElement,!1))}stopAnimation(){eachAxis(g=>this.getAxisMotionValue(g).stop())}pauseAnimation(){eachAxis(g=>{var it;return(it=this.getAxisMotionValue(g).animation)===null||it===void 0?void 0:it.pause()})}getAnimationState(g){var it;return(it=this.getAxisMotionValue(g).animation)===null||it===void 0?void 0:it.state}getAxisMotionValue(g){const it=`_drag${g.toUpperCase()}`,ot=this.visualElement.getProps(),ut=ot[it];return ut||this.visualElement.getValue(g,(ot.initial?ot.initial[g]:void 0)||0)}snapToCursor(g){eachAxis(it=>{const{drag:ot}=this.getProps();if(!shouldDrag(it,ot,this.currentDirection))return;const{projection:ut}=this.visualElement,ct=this.getAxisMotionValue(it);if(ut&&ut.layout){const{min:dt,max:ft}=ut.layout.layoutBox[it];ct.set(g[it]-mixNumber$1(dt,ft,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:g,dragConstraints:it}=this.getProps(),{projection:ot}=this.visualElement;if(!isRefObject(it)||!ot||!this.constraints)return;this.stopAnimation();const ut={x:0,y:0};eachAxis(dt=>{const ft=this.getAxisMotionValue(dt);if(ft&&this.constraints!==!1){const St=ft.get();ut[dt]=calcOrigin$1({min:St,max:St},this.constraints[dt])}});const{transformTemplate:ct}=this.visualElement.getProps();this.visualElement.current.style.transform=ct?ct({},""):"none",ot.root&&ot.root.updateScroll(),ot.updateLayout(),this.resolveConstraints(),eachAxis(dt=>{if(!shouldDrag(dt,g,null))return;const ft=this.getAxisMotionValue(dt),{min:St,max:Tt}=this.constraints[dt];ft.set(mixNumber$1(St,Tt,ut[dt]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const g=this.visualElement.current,it=addPointerEvent(g,"pointerdown",St=>{const{drag:Tt,dragListener:kt=!0}=this.getProps();Tt&&kt&&this.start(St)}),ot=()=>{const{dragConstraints:St}=this.getProps();isRefObject(St)&&St.current&&(this.constraints=this.resolveRefConstraints())},{projection:ut}=this.visualElement,ct=ut.addEventListener("measure",ot);ut&&!ut.layout&&(ut.root&&ut.root.updateScroll(),ut.updateLayout()),frame.read(ot);const dt=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),ft=ut.addEventListener("didUpdate",({delta:St,hasLayoutChanged:Tt})=>{this.isDragging&&Tt&&(eachAxis(kt=>{const jt=this.getAxisMotionValue(kt);jt&&(this.originPoint[kt]+=St[kt].translate,jt.set(jt.get()+St[kt].translate))}),this.visualElement.render())});return()=>{dt(),it(),ct(),ft&&ft()}}getProps(){const g=this.visualElement.getProps(),{drag:it=!1,dragDirectionLock:ot=!1,dragPropagation:ut=!1,dragConstraints:ct=!1,dragElastic:dt=defaultElastic,dragMomentum:ft=!0}=g;return{...g,drag:it,dragDirectionLock:ot,dragPropagation:ut,dragConstraints:ct,dragElastic:dt,dragMomentum:ft}}}function shouldDrag(et,g,it){return(g===!0||g===et)&&(it===null||it===et)}function getCurrentDirection(et,g=10){let it=null;return Math.abs(et.y)>g?it="y":Math.abs(et.x)>g&&(it="x"),it}class DragGesture extends Feature{constructor(g){super(g),this.removeGroupControls=noop$1,this.removeListeners=noop$1,this.controls=new VisualElementDragControls(g)}mount(){const{dragControls:g}=this.node.getProps();g&&(this.removeGroupControls=g.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop$1}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=et=>(g,it)=>{et&&frame.postRender(()=>et(g,it))};class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop$1}onPointerDown(g){this.session=new PanSession(g,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:g,onPanStart:it,onPan:ot,onPanEnd:ut}=this.node.getProps();return{onSessionStart:asyncHandler(g),onStart:asyncHandler(it),onMove:ot,onEnd:(ct,dt)=>{delete this.session,ut&&frame.postRender(()=>ut(ct,dt))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",g=>this.onPointerDown(g))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const PresenceContext=reactExports.createContext(null);function usePresence(){const et=reactExports.useContext(PresenceContext);if(et===null)return[!0,null];const{isPresent:g,onExitComplete:it,register:ot}=et,ut=reactExports.useId();reactExports.useEffect(()=>ot(ut),[]);const ct=reactExports.useCallback(()=>it&&it(ut),[ut,it]);return!g&&it?[!1,ct]:[!0]}const LayoutGroupContext=reactExports.createContext({}),SwitchLayoutGroupContext=reactExports.createContext({}),globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent(et,g){return g.max===g.min?0:et/(g.max-g.min)*100}const correctBorderRadius={correct:(et,g)=>{if(!g.target)return et;if(typeof et=="string")if(px.test(et))et=parseFloat(et);else return et;const it=pixelsToPercent(et,g.target.x),ot=pixelsToPercent(et,g.target.y);return`${it}% ${ot}%`}},correctBoxShadow={correct:(et,{treeScale:g,projectionDelta:it})=>{const ot=et,ut=complex.parse(et);if(ut.length>5)return ot;const ct=complex.createTransformer(et),dt=typeof ut[0]!="number"?1:0,ft=it.x.scale*g.x,St=it.y.scale*g.y;ut[0+dt]/=ft,ut[1+dt]/=St;const Tt=mixNumber$1(ft,St,.5);return typeof ut[2+dt]=="number"&&(ut[2+dt]/=Tt),typeof ut[3+dt]=="number"&&(ut[3+dt]/=Tt),ct(ut)}},scaleCorrectors={};function addScaleCorrector(et){Object.assign(scaleCorrectors,et)}const{schedule:microtask,cancel:cancelMicrotask}=createRenderBatcher(queueMicrotask,!1);class MeasureLayoutWithContext extends reactExports.Component{componentDidMount(){const{visualElement:g,layoutGroup:it,switchLayoutGroup:ot,layoutId:ut}=this.props,{projection:ct}=g;addScaleCorrector(defaultScaleCorrectors),ct&&(it.group&&it.group.add(ct),ot&&ot.register&&ut&&ot.register(ct),ct.root.didUpdate(),ct.addEventListener("animationComplete",()=>{this.safeToRemove()}),ct.setOptions({...ct.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate(g){const{layoutDependency:it,visualElement:ot,drag:ut,isPresent:ct}=this.props,dt=ot.projection;return dt&&(dt.isPresent=ct,ut||g.layoutDependency!==it||it===void 0?dt.willUpdate():this.safeToRemove(),g.isPresent!==ct&&(ct?dt.promote():dt.relegate()||frame.postRender(()=>{const ft=dt.getStack();(!ft||!ft.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:g}=this.props.visualElement;g&&(g.root.didUpdate(),microtask.postRender(()=>{!g.currentAnimation&&g.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:g,layoutGroup:it,switchLayoutGroup:ot}=this.props,{projection:ut}=g;ut&&(ut.scheduleCheckAfterUnmount(),it&&it.group&&it.group.remove(ut),ot&&ot.deregister&&ot.deregister(ut))}safeToRemove(){const{safeToRemove:g}=this.props;g&&g()}render(){return null}}function MeasureLayout(et){const[g,it]=usePresence(),ot=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(MeasureLayoutWithContext,{...et,layoutGroup:ot,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:g,safeToRemove:it})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow},borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=et=>typeof et=="string"?parseFloat(et):et,isPx=et=>typeof et=="number"||px.test(et);function mixValues(et,g,it,ot,ut,ct){ut?(et.opacity=mixNumber$1(0,it.opacity!==void 0?it.opacity:1,easeCrossfadeIn(ot)),et.opacityExit=mixNumber$1(g.opacity!==void 0?g.opacity:1,0,easeCrossfadeOut(ot))):ct&&(et.opacity=mixNumber$1(g.opacity!==void 0?g.opacity:1,it.opacity!==void 0?it.opacity:1,ot));for(let dt=0;dt<numBorders;dt++){const ft=`border${borders[dt]}Radius`;let St=getRadius(g,ft),Tt=getRadius(it,ft);if(St===void 0&&Tt===void 0)continue;St||(St=0),Tt||(Tt=0),St===0||Tt===0||isPx(St)===isPx(Tt)?(et[ft]=Math.max(mixNumber$1(asNumber(St),asNumber(Tt),ot),0),(percent.test(Tt)||percent.test(St))&&(et[ft]+="%")):et[ft]=Tt}(g.rotate||it.rotate)&&(et.rotate=mixNumber$1(g.rotate||0,it.rotate||0,ot))}function getRadius(et,g){return et[g]!==void 0?et[g]:et.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop$1);function compress(et,g,it){return ot=>ot<et?0:ot>g?1:it(progress(et,g,ot))}function copyAxisInto(et,g){et.min=g.min,et.max=g.max}function copyBoxInto(et,g){copyAxisInto(et.x,g.x),copyAxisInto(et.y,g.y)}function copyAxisDeltaInto(et,g){et.translate=g.translate,et.scale=g.scale,et.originPoint=g.originPoint,et.origin=g.origin}function removePointDelta(et,g,it,ot,ut){return et-=g,et=scalePoint(et,1/it,ot),ut!==void 0&&(et=scalePoint(et,1/ut,ot)),et}function removeAxisDelta(et,g=0,it=1,ot=.5,ut,ct=et,dt=et){if(percent.test(g)&&(g=parseFloat(g),g=mixNumber$1(dt.min,dt.max,g/100)-dt.min),typeof g!="number")return;let ft=mixNumber$1(ct.min,ct.max,ot);et===ct&&(ft-=g),et.min=removePointDelta(et.min,g,it,ft,ut),et.max=removePointDelta(et.max,g,it,ft,ut)}function removeAxisTransforms(et,g,[it,ot,ut],ct,dt){removeAxisDelta(et,g[it],g[ot],g[ut],g.scale,ct,dt)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(et,g,it,ot){removeAxisTransforms(et.x,g,xKeys,it?it.x:void 0,ot?ot.x:void 0),removeAxisTransforms(et.y,g,yKeys,it?it.y:void 0,ot?ot.y:void 0)}function isAxisDeltaZero(et){return et.translate===0&&et.scale===1}function isDeltaZero(et){return isAxisDeltaZero(et.x)&&isAxisDeltaZero(et.y)}function axisEquals(et,g){return et.min===g.min&&et.max===g.max}function boxEquals(et,g){return axisEquals(et.x,g.x)&&axisEquals(et.y,g.y)}function axisEqualsRounded(et,g){return Math.round(et.min)===Math.round(g.min)&&Math.round(et.max)===Math.round(g.max)}function boxEqualsRounded(et,g){return axisEqualsRounded(et.x,g.x)&&axisEqualsRounded(et.y,g.y)}function aspectRatio(et){return calcLength(et.x)/calcLength(et.y)}function axisDeltaEquals(et,g){return et.translate===g.translate&&et.scale===g.scale&&et.originPoint===g.originPoint}class NodeStack{constructor(){this.members=[]}add(g){addUniqueItem(this.members,g),g.scheduleRender()}remove(g){if(removeItem(this.members,g),g===this.prevLead&&(this.prevLead=void 0),g===this.lead){const it=this.members[this.members.length-1];it&&this.promote(it)}}relegate(g){const it=this.members.findIndex(ut=>g===ut);if(it===0)return!1;let ot;for(let ut=it;ut>=0;ut--){const ct=this.members[ut];if(ct.isPresent!==!1){ot=ct;break}}return ot?(this.promote(ot),!0):!1}promote(g,it){const ot=this.lead;if(g!==ot&&(this.prevLead=ot,this.lead=g,g.show(),ot)){ot.instance&&ot.scheduleRender(),g.scheduleRender(),g.resumeFrom=ot,it&&(g.resumeFrom.preserveOpacity=!0),ot.snapshot&&(g.snapshot=ot.snapshot,g.snapshot.latestValues=ot.animationValues||ot.latestValues),g.root&&g.root.isUpdating&&(g.isLayoutDirty=!0);const{crossfade:ut}=g.options;ut===!1&&ot.hide()}}exitAnimationComplete(){this.members.forEach(g=>{const{options:it,resumingFrom:ot}=g;it.onExitComplete&&it.onExitComplete(),ot&&ot.options.onExitComplete&&ot.options.onExitComplete()})}scheduleRender(){this.members.forEach(g=>{g.instance&&g.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(et,g,it){let ot="";const ut=et.x.translate/g.x,ct=et.y.translate/g.y,dt=(it==null?void 0:it.z)||0;if((ut||ct||dt)&&(ot=`translate3d(${ut}px, ${ct}px, ${dt}px) `),(g.x!==1||g.y!==1)&&(ot+=`scale(${1/g.x}, ${1/g.y}) `),it){const{transformPerspective:Tt,rotate:kt,rotateX:jt,rotateY:Rt,skewX:$t,skewY:zt}=it;Tt&&(ot=`perspective(${Tt}px) ${ot}`),kt&&(ot+=`rotate(${kt}deg) `),jt&&(ot+=`rotateX(${jt}deg) `),Rt&&(ot+=`rotateY(${Rt}deg) `),$t&&(ot+=`skewX(${$t}deg) `),zt&&(ot+=`skewY(${zt}deg) `)}const ft=et.x.scale*g.x,St=et.y.scale*g.y;return(ft!==1||St!==1)&&(ot+=`scale(${ft}, ${St})`),ot||"none"}const compareByDepth=(et,g)=>et.depth-g.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(g){addUniqueItem(this.children,g),this.isDirty=!0}remove(g){removeItem(this.children,g),this.isDirty=!0}forEach(g){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(g)}}function resolveMotionValue(et){const g=isMotionValue(et)?et.get():et;return isCustomValue(g)?g.toValue():g}function delay(et,g){const it=time.now(),ot=({timestamp:ut})=>{const ct=ut-it;ct>=g&&(cancelFrame(ot),et(ct-g))};return frame.read(ot,!0),()=>cancelFrame(ot)}function isSVGElement(et){return et instanceof SVGElement&&et.tagName!=="svg"}function animateSingleValue(et,g,it){const ot=isMotionValue(et)?et:motionValue(et);return ot.start(animateMotionValue("",ot,g,it)),ot.animation}const metrics={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},isDebug=typeof window<"u"&&window.MotionDebug!==void 0,transformAxes=["","X","Y","Z"],hiddenVisibility={visibility:"hidden"},animationTarget=1e3;let id=0;function resetDistortingTransform(et,g,it,ot){const{latestValues:ut}=g;ut[et]&&(it[et]=ut[et],g.setStaticValue(et,0),ot&&(ot[et]=0))}function cancelTreeOptimisedTransformAnimations(et){if(et.hasCheckedOptimisedAppear=!0,et.root===et)return;const{visualElement:g}=et.options;if(!g)return;const it=getOptimisedAppearId(g);if(window.MotionHasOptimisedAnimation(it,"transform")){const{layout:ut,layoutId:ct}=et.options;window.MotionCancelOptimisedAnimation(it,"transform",frame,!(ut||ct))}const{parent:ot}=et;ot&&!ot.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(ot)}function createProjectionNode$1({attachResizeListener:et,defaultParent:g,measureScroll:it,checkIsScrollRoot:ot,resetTransform:ut}){return class{constructor(dt={},ft=g==null?void 0:g()){this.id=id++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,isDebug&&(metrics.totalNodes=metrics.resolvedTargetDeltas=metrics.recalculatedProjection=0),this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes),isDebug&&window.MotionDebug.record(metrics)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=dt,this.root=ft?ft.root||ft:this,this.path=ft?[...ft.path,ft]:[],this.parent=ft,this.depth=ft?ft.depth+1:0;for(let St=0;St<this.path.length;St++)this.path[St].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(dt,ft){return this.eventHandlers.has(dt)||this.eventHandlers.set(dt,new SubscriptionManager),this.eventHandlers.get(dt).add(ft)}notifyListeners(dt,...ft){const St=this.eventHandlers.get(dt);St&&St.notify(...ft)}hasListeners(dt){return this.eventHandlers.has(dt)}mount(dt,ft=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=isSVGElement(dt),this.instance=dt;const{layoutId:St,layout:Tt,visualElement:kt}=this.options;if(kt&&!kt.current&&kt.mount(dt),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),ft&&(Tt||St)&&(this.isLayoutDirty=!0),et){let jt;const Rt=()=>this.root.updateBlockedByResize=!1;et(dt,()=>{this.root.updateBlockedByResize=!0,jt&&jt(),jt=delay(Rt,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation))})}St&&this.root.registerSharedNode(St,this),this.options.animate!==!1&&kt&&(St||Tt)&&this.addEventListener("didUpdate",({delta:jt,hasLayoutChanged:Rt,hasRelativeTargetChanged:$t,layout:zt})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const Ht=this.options.transition||kt.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:Zt,onLayoutAnimationComplete:Bt}=kt.getProps(),Ut=!this.targetLayout||!boxEqualsRounded(this.targetLayout,zt)||$t,Kt=!Rt&&$t;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||Kt||Rt&&(Ut||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(jt,Kt);const Yt={...getValueTransition(Ht,"layout"),onPlay:Zt,onComplete:Bt};(kt.shouldReduceMotion||this.options.layoutRoot)&&(Yt.delay=0,Yt.type=!1),this.startAnimation(Yt)}else Rt||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=zt})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const dt=this.getStack();dt&&dt.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,cancelFrame(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetSkewAndRotation),this.animationId++)}getTransformTemplate(){const{visualElement:dt}=this.options;return dt&&dt.getProps().transformTemplate}willUpdate(dt=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let kt=0;kt<this.path.length;kt++){const jt=this.path[kt];jt.shouldResetTransform=!0,jt.updateScroll("snapshot"),jt.options.layoutRoot&&jt.willUpdate(!1)}const{layoutId:ft,layout:St}=this.options;if(ft===void 0&&!St)return;const Tt=this.getTransformTemplate();this.prevTransformTemplateValue=Tt?Tt(this.latestValues,""):void 0,this.updateSnapshot(),dt&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}this.isUpdating||this.nodes.forEach(clearIsLayoutDirty),this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate),this.clearAllSnapshots();const ft=time.now();frameData.delta=clamp(0,1e3/60,ft-frameData.timestamp),frameData.timestamp=ft,frameData.isProcessing=!0,frameSteps.update.process(frameData),frameSteps.preRender.process(frameData),frameSteps.render.process(frameData),frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,microtask.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let St=0;St<this.path.length;St++)this.path[St].updateScroll();const dt=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:ft}=this.options;ft&&ft.notify("LayoutMeasure",this.layout.layoutBox,dt?dt.layoutBox:void 0)}updateScroll(dt="measure"){let ft=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===dt&&(ft=!1),ft){const St=ot(this.instance);this.scroll={animationId:this.root.animationId,phase:dt,isRoot:St,offset:it(this.instance),wasRoot:this.scroll?this.scroll.isRoot:St}}}resetTransform(){if(!ut)return;const dt=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,ft=this.projectionDelta&&!isDeltaZero(this.projectionDelta),St=this.getTransformTemplate(),Tt=St?St(this.latestValues,""):void 0,kt=Tt!==this.prevTransformTemplateValue;dt&&(ft||hasTransform(this.latestValues)||kt)&&(ut(this.instance,Tt),this.shouldResetTransform=!1,this.scheduleRender())}measure(dt=!0){const ft=this.measurePageBox();let St=this.removeElementScroll(ft);return dt&&(St=this.removeTransform(St)),roundBox(St),{animationId:this.root.animationId,measuredBox:ft,layoutBox:St,latestValues:{},source:this.id}}measurePageBox(){var dt;const{visualElement:ft}=this.options;if(!ft)return createBox();const St=ft.measureViewportBox();if(!(((dt=this.scroll)===null||dt===void 0?void 0:dt.wasRoot)||this.path.some(checkNodeWasScrollRoot))){const{scroll:kt}=this.root;kt&&(translateAxis(St.x,kt.offset.x),translateAxis(St.y,kt.offset.y))}return St}removeElementScroll(dt){var ft;const St=createBox();if(copyBoxInto(St,dt),!((ft=this.scroll)===null||ft===void 0)&&ft.wasRoot)return St;for(let Tt=0;Tt<this.path.length;Tt++){const kt=this.path[Tt],{scroll:jt,options:Rt}=kt;kt!==this.root&&jt&&Rt.layoutScroll&&(jt.wasRoot&&copyBoxInto(St,dt),translateAxis(St.x,jt.offset.x),translateAxis(St.y,jt.offset.y))}return St}applyTransform(dt,ft=!1){const St=createBox();copyBoxInto(St,dt);for(let Tt=0;Tt<this.path.length;Tt++){const kt=this.path[Tt];!ft&&kt.options.layoutScroll&&kt.scroll&&kt!==kt.root&&transformBox(St,{x:-kt.scroll.offset.x,y:-kt.scroll.offset.y}),hasTransform(kt.latestValues)&&transformBox(St,kt.latestValues)}return hasTransform(this.latestValues)&&transformBox(St,this.latestValues),St}removeTransform(dt){const ft=createBox();copyBoxInto(ft,dt);for(let St=0;St<this.path.length;St++){const Tt=this.path[St];if(!Tt.instance||!hasTransform(Tt.latestValues))continue;hasScale(Tt.latestValues)&&Tt.updateSnapshot();const kt=createBox(),jt=Tt.measurePageBox();copyBoxInto(kt,jt),removeBoxTransforms(ft,Tt.latestValues,Tt.snapshot?Tt.snapshot.layoutBox:void 0,kt)}return hasTransform(this.latestValues)&&removeBoxTransforms(ft,this.latestValues),ft}setTargetDelta(dt){this.targetDelta=dt,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(dt){this.options={...this.options,...dt,crossfade:dt.crossfade!==void 0?dt.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(dt=!1){var ft;const St=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=St.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=St.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=St.isSharedProjectionDirty);const Tt=!!this.resumingFrom||this!==St;if(!(dt||Tt&&this.isSharedProjectionDirty||this.isProjectionDirty||!((ft=this.parent)===null||ft===void 0)&&ft.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:jt,layoutId:Rt}=this.options;if(!(!this.layout||!(jt||Rt))){if(this.resolvedRelativeTargetAt=frameData.timestamp,!this.targetDelta&&!this.relativeTarget){const $t=this.getClosestProjectingParent();$t&&$t.layout&&this.animationProgress!==1?(this.relativeParent=$t,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,$t.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const $t=this.getClosestProjectingParent();$t&&!!$t.resumingFrom==!!this.resumingFrom&&!$t.options.layoutScroll&&$t.target&&this.animationProgress!==1?(this.relativeParent=$t,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,$t.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}isDebug&&metrics.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var dt;const ft=this.getLead(),St=!!this.resumingFrom||this!==ft;let Tt=!0;if((this.isProjectionDirty||!((dt=this.parent)===null||dt===void 0)&&dt.isProjectionDirty)&&(Tt=!1),St&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(Tt=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(Tt=!1),Tt)return;const{layout:kt,layoutId:jt}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(kt||jt))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const Rt=this.treeScale.x,$t=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,St),ft.layout&&!ft.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(ft.target=ft.layout.layoutBox,ft.targetWithTransforms=createBox());const{target:zt}=ft;if(!zt){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(copyAxisDeltaInto(this.prevProjectionDelta.x,this.projectionDelta.x),copyAxisDeltaInto(this.prevProjectionDelta.y,this.projectionDelta.y)),calcBoxDelta(this.projectionDelta,this.layoutCorrected,zt,this.latestValues),(this.treeScale.x!==Rt||this.treeScale.y!==$t||!axisDeltaEquals(this.projectionDelta.x,this.prevProjectionDelta.x)||!axisDeltaEquals(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",zt)),isDebug&&metrics.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(dt=!0){var ft;if((ft=this.options.visualElement)===null||ft===void 0||ft.scheduleRender(),dt){const St=this.getStack();St&&St.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=createDelta(),this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta()}setAnimationOrigin(dt,ft=!1){const St=this.snapshot,Tt=St?St.latestValues:{},kt={...this.latestValues},jt=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!ft;const Rt=createBox(),$t=St?St.source:void 0,zt=this.layout?this.layout.source:void 0,Ht=$t!==zt,Zt=this.getStack(),Bt=!Zt||Zt.members.length<=1,Ut=!!(Ht&&!Bt&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let Kt;this.mixTargetDelta=Yt=>{const Jt=Yt/1e3;mixAxisDelta(jt.x,dt.x,Jt),mixAxisDelta(jt.y,dt.y,Jt),this.setTargetDelta(jt),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition(Rt,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,Rt,Jt),Kt&&boxEquals(this.relativeTarget,Kt)&&(this.isProjectionDirty=!1),Kt||(Kt=createBox()),copyBoxInto(Kt,this.relativeTarget)),Ht&&(this.animationValues=kt,mixValues(kt,Tt,this.latestValues,Jt,Ut,Bt)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Jt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(dt){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(cancelFrame(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.currentAnimation=animateSingleValue(0,animationTarget,{...dt,onUpdate:ft=>{this.mixTargetDelta(ft),dt.onUpdate&&dt.onUpdate(ft)},onComplete:()=>{dt.onComplete&&dt.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const dt=this.getStack();dt&&dt.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const dt=this.getLead();let{targetWithTransforms:ft,target:St,layout:Tt,latestValues:kt}=dt;if(!(!ft||!St||!Tt)){if(this!==dt&&this.layout&&Tt&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,Tt.layoutBox)){St=this.target||createBox();const jt=calcLength(this.layout.layoutBox.x);St.x.min=dt.target.x.min,St.x.max=St.x.min+jt;const Rt=calcLength(this.layout.layoutBox.y);St.y.min=dt.target.y.min,St.y.max=St.y.min+Rt}copyBoxInto(ft,St),transformBox(ft,kt),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,ft,kt)}}registerSharedNode(dt,ft){this.sharedNodes.has(dt)||this.sharedNodes.set(dt,new NodeStack),this.sharedNodes.get(dt).add(ft);const Tt=ft.options.initialPromotionConfig;ft.promote({transition:Tt?Tt.transition:void 0,preserveFollowOpacity:Tt&&Tt.shouldPreserveFollowOpacity?Tt.shouldPreserveFollowOpacity(ft):void 0})}isLead(){const dt=this.getStack();return dt?dt.lead===this:!0}getLead(){var dt;const{layoutId:ft}=this.options;return ft?((dt=this.getStack())===null||dt===void 0?void 0:dt.lead)||this:this}getPrevLead(){var dt;const{layoutId:ft}=this.options;return ft?(dt=this.getStack())===null||dt===void 0?void 0:dt.prevLead:void 0}getStack(){const{layoutId:dt}=this.options;if(dt)return this.root.sharedNodes.get(dt)}promote({needsReset:dt,transition:ft,preserveFollowOpacity:St}={}){const Tt=this.getStack();Tt&&Tt.promote(this,St),dt&&(this.projectionDelta=void 0,this.needsReset=!0),ft&&this.setOptions({transition:ft})}relegate(){const dt=this.getStack();return dt?dt.relegate(this):!1}resetSkewAndRotation(){const{visualElement:dt}=this.options;if(!dt)return;let ft=!1;const{latestValues:St}=dt;if((St.z||St.rotate||St.rotateX||St.rotateY||St.rotateZ||St.skewX||St.skewY)&&(ft=!0),!ft)return;const Tt={};St.z&&resetDistortingTransform("z",dt,Tt,this.animationValues);for(let kt=0;kt<transformAxes.length;kt++)resetDistortingTransform(`rotate${transformAxes[kt]}`,dt,Tt,this.animationValues),resetDistortingTransform(`skew${transformAxes[kt]}`,dt,Tt,this.animationValues);dt.render();for(const kt in Tt)dt.setStaticValue(kt,Tt[kt]),this.animationValues&&(this.animationValues[kt]=Tt[kt]);dt.scheduleRender()}getProjectionStyles(dt){var ft,St;if(!this.instance||this.isSVG)return;if(!this.isVisible)return hiddenVisibility;const Tt={visibility:""},kt=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,Tt.opacity="",Tt.pointerEvents=resolveMotionValue(dt==null?void 0:dt.pointerEvents)||"",Tt.transform=kt?kt(this.latestValues,""):"none",Tt;const jt=this.getLead();if(!this.projectionDelta||!this.layout||!jt.target){const Ht={};return this.options.layoutId&&(Ht.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,Ht.pointerEvents=resolveMotionValue(dt==null?void 0:dt.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(Ht.transform=kt?kt({},""):"none",this.hasProjected=!1),Ht}const Rt=jt.animationValues||jt.latestValues;this.applyTransformsToTarget(),Tt.transform=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,Rt),kt&&(Tt.transform=kt(Rt,Tt.transform));const{x:$t,y:zt}=this.projectionDelta;Tt.transformOrigin=`${$t.origin*100}% ${zt.origin*100}% 0`,jt.animationValues?Tt.opacity=jt===this?(St=(ft=Rt.opacity)!==null&&ft!==void 0?ft:this.latestValues.opacity)!==null&&St!==void 0?St:1:this.preserveOpacity?this.latestValues.opacity:Rt.opacityExit:Tt.opacity=jt===this?Rt.opacity!==void 0?Rt.opacity:"":Rt.opacityExit!==void 0?Rt.opacityExit:0;for(const Ht in scaleCorrectors){if(Rt[Ht]===void 0)continue;const{correct:Zt,applyTo:Bt}=scaleCorrectors[Ht],Ut=Tt.transform==="none"?Rt[Ht]:Zt(Rt[Ht],jt);if(Bt){const Kt=Bt.length;for(let Yt=0;Yt<Kt;Yt++)Tt[Bt[Yt]]=Ut}else Tt[Ht]=Ut}return this.options.layoutId&&(Tt.pointerEvents=jt===this?resolveMotionValue(dt==null?void 0:dt.pointerEvents)||"":"none"),Tt}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(dt=>{var ft;return(ft=dt.currentAnimation)===null||ft===void 0?void 0:ft.stop()}),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(et){et.updateLayout()}function notifyLayoutUpdate(et){var g;const it=((g=et.resumeFrom)===null||g===void 0?void 0:g.snapshot)||et.snapshot;if(et.isLead()&&et.layout&&it&&et.hasListeners("didUpdate")){const{layoutBox:ot,measuredBox:ut}=et.layout,{animationType:ct}=et.options,dt=it.source!==et.layout.source;ct==="size"?eachAxis(jt=>{const Rt=dt?it.measuredBox[jt]:it.layoutBox[jt],$t=calcLength(Rt);Rt.min=ot[jt].min,Rt.max=Rt.min+$t}):shouldAnimatePositionOnly(ct,it.layoutBox,ot)&&eachAxis(jt=>{const Rt=dt?it.measuredBox[jt]:it.layoutBox[jt],$t=calcLength(ot[jt]);Rt.max=Rt.min+$t,et.relativeTarget&&!et.currentAnimation&&(et.isProjectionDirty=!0,et.relativeTarget[jt].max=et.relativeTarget[jt].min+$t)});const ft=createDelta();calcBoxDelta(ft,ot,it.layoutBox);const St=createDelta();dt?calcBoxDelta(St,et.applyTransform(ut,!0),it.measuredBox):calcBoxDelta(St,ot,it.layoutBox);const Tt=!isDeltaZero(ft);let kt=!1;if(!et.resumeFrom){const jt=et.getClosestProjectingParent();if(jt&&!jt.resumeFrom){const{snapshot:Rt,layout:$t}=jt;if(Rt&&$t){const zt=createBox();calcRelativePosition(zt,it.layoutBox,Rt.layoutBox);const Ht=createBox();calcRelativePosition(Ht,ot,$t.layoutBox),boxEqualsRounded(zt,Ht)||(kt=!0),jt.options.layoutRoot&&(et.relativeTarget=Ht,et.relativeTargetOrigin=zt,et.relativeParent=jt)}}}et.notifyListeners("didUpdate",{layout:ot,snapshot:it,delta:St,layoutDelta:ft,hasLayoutChanged:Tt,hasRelativeTargetChanged:kt})}else if(et.isLead()){const{onExitComplete:ot}=et.options;ot&&ot()}et.options.transition=void 0}function propagateDirtyNodes(et){isDebug&&metrics.totalNodes++,et.parent&&(et.isProjecting()||(et.isProjectionDirty=et.parent.isProjectionDirty),et.isSharedProjectionDirty||(et.isSharedProjectionDirty=!!(et.isProjectionDirty||et.parent.isProjectionDirty||et.parent.isSharedProjectionDirty)),et.isTransformDirty||(et.isTransformDirty=et.parent.isTransformDirty))}function cleanDirtyNodes(et){et.isProjectionDirty=et.isSharedProjectionDirty=et.isTransformDirty=!1}function clearSnapshot(et){et.clearSnapshot()}function clearMeasurements(et){et.clearMeasurements()}function clearIsLayoutDirty(et){et.isLayoutDirty=!1}function resetTransformStyle(et){const{visualElement:g}=et.options;g&&g.getProps().onBeforeLayoutMeasure&&g.notify("BeforeLayoutMeasure"),et.resetTransform()}function finishAnimation(et){et.finishAnimation(),et.targetDelta=et.relativeTarget=et.target=void 0,et.isProjectionDirty=!0}function resolveTargetDelta(et){et.resolveTargetDelta()}function calcProjection(et){et.calcProjection()}function resetSkewAndRotation(et){et.resetSkewAndRotation()}function removeLeadSnapshots(et){et.removeLeadSnapshot()}function mixAxisDelta(et,g,it){et.translate=mixNumber$1(g.translate,0,it),et.scale=mixNumber$1(g.scale,1,it),et.origin=g.origin,et.originPoint=g.originPoint}function mixAxis(et,g,it,ot){et.min=mixNumber$1(g.min,it.min,ot),et.max=mixNumber$1(g.max,it.max,ot)}function mixBox(et,g,it,ot){mixAxis(et.x,g.x,it.x,ot),mixAxis(et.y,g.y,it.y,ot)}function hasOpacityCrossfade(et){return et.animationValues&&et.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]},userAgentContains=et=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(et),roundPoint=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop$1;function roundAxis(et){et.min=roundPoint(et.min),et.max=roundPoint(et.max)}function roundBox(et){roundAxis(et.x),roundAxis(et.y)}function shouldAnimatePositionOnly(et,g,it){return et==="position"||et==="preserve-aspect"&&!isNear(aspectRatio(g),aspectRatio(it),.2)}function checkNodeWasScrollRoot(et){var g;return et!==et.root&&((g=et.scroll)===null||g===void 0?void 0:g.wasRoot)}const DocumentProjectionNode=createProjectionNode$1({attachResizeListener:(et,g)=>addDomEvent(et,"resize",g),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode$1({measureScroll:et=>({x:et.scrollLeft,y:et.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const et=new DocumentProjectionNode({});et.mount(window),et.setOptions({layoutScroll:!0}),rootProjectionNode.current=et}return rootProjectionNode.current},resetTransform:(et,g)=>{et.style.transform=g!==void 0?g:"none"},checkIsScrollRoot:et=>window.getComputedStyle(et).position==="fixed"}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}};function handleHoverEvent(et,g,it){const{props:ot}=et;et.animationState&&ot.whileHover&&et.animationState.setActive("whileHover",it==="Start");const ut="onHover"+it,ct=ot[ut];ct&&frame.postRender(()=>ct(g,extractEventInfo(g)))}class HoverGesture extends Feature{mount(){const{current:g}=this.node;g&&(this.unmount=hover(g,it=>(handleHoverEvent(this.node,it,"Start"),ot=>handleHoverEvent(this.node,ot,"End"))))}unmount(){}}class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let g=!1;try{g=this.node.current.matches(":focus-visible")}catch{g=!0}!g||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function handlePressEvent(et,g,it){const{props:ot}=et;et.animationState&&ot.whileTap&&et.animationState.setActive("whileTap",it==="Start");const ut="onTap"+(it==="End"?"":it),ct=ot[ut];ct&&frame.postRender(()=>ct(g,extractEventInfo(g)))}class PressGesture extends Feature{mount(){const{current:g}=this.node;g&&(this.unmount=press(g,it=>(handlePressEvent(this.node,it,"Start"),(ot,{success:ut})=>handlePressEvent(this.node,ot,ut?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=et=>{const g=observerCallbacks.get(et.target);g&&g(et)},fireAllObserverCallbacks=et=>{et.forEach(fireObserverCallback)};function initIntersectionObserver({root:et,...g}){const it=et||document;observers.has(it)||observers.set(it,{});const ot=observers.get(it),ut=JSON.stringify(g);return ot[ut]||(ot[ut]=new IntersectionObserver(fireAllObserverCallbacks,{root:et,...g})),ot[ut]}function observeIntersection(et,g,it){const ot=initIntersectionObserver(g);return observerCallbacks.set(et,it),ot.observe(et),()=>{observerCallbacks.delete(et),ot.unobserve(et)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:g={}}=this.node.getProps(),{root:it,margin:ot,amount:ut="some",once:ct}=g,dt={root:it?it.current:void 0,rootMargin:ot,threshold:typeof ut=="number"?ut:thresholdNames[ut]},ft=St=>{const{isIntersecting:Tt}=St;if(this.isInView===Tt||(this.isInView=Tt,ct&&!Tt&&this.hasEnteredView))return;Tt&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",Tt);const{onViewportEnter:kt,onViewportLeave:jt}=this.node.getProps(),Rt=Tt?kt:jt;Rt&&Rt(St)};return observeIntersection(this.node.current,dt,ft)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:g,prevProps:it}=this.node;["amount","margin","root"].some(hasViewportOptionChanged(g,it))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:et={}},{viewport:g={}}={}){return it=>et[it]!==g[it]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}},layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},MotionConfigContext=reactExports.createContext({transformPagePoint:et=>et,isStatic:!1,reducedMotion:"never"}),MotionContext=reactExports.createContext({}),isBrowser$1=typeof window<"u",useIsomorphicLayoutEffect=isBrowser$1?reactExports.useLayoutEffect:reactExports.useEffect,LazyContext=reactExports.createContext({strict:!1});function useVisualElement(et,g,it,ot,ut){var ct,dt;const{visualElement:ft}=reactExports.useContext(MotionContext),St=reactExports.useContext(LazyContext),Tt=reactExports.useContext(PresenceContext),kt=reactExports.useContext(MotionConfigContext).reducedMotion,jt=reactExports.useRef(null);ot=ot||St.renderer,!jt.current&&ot&&(jt.current=ot(et,{visualState:g,parent:ft,props:it,presenceContext:Tt,blockInitialAnimation:Tt?Tt.initial===!1:!1,reducedMotionConfig:kt}));const Rt=jt.current,$t=reactExports.useContext(SwitchLayoutGroupContext);Rt&&!Rt.projection&&ut&&(Rt.type==="html"||Rt.type==="svg")&&createProjectionNode(jt.current,it,ut,$t);const zt=reactExports.useRef(!1);reactExports.useInsertionEffect(()=>{Rt&&zt.current&&Rt.update(it,Tt)});const Ht=it[optimizedAppearDataAttribute],Zt=reactExports.useRef(!!Ht&&!(!((ct=window.MotionHandoffIsComplete)===null||ct===void 0)&&ct.call(window,Ht))&&((dt=window.MotionHasOptimisedAnimation)===null||dt===void 0?void 0:dt.call(window,Ht)));return useIsomorphicLayoutEffect(()=>{Rt&&(zt.current=!0,window.MotionIsMounted=!0,Rt.updateFeatures(),microtask.render(Rt.render),Zt.current&&Rt.animationState&&Rt.animationState.animateChanges())}),reactExports.useEffect(()=>{Rt&&(!Zt.current&&Rt.animationState&&Rt.animationState.animateChanges(),Zt.current&&(queueMicrotask(()=>{var Bt;(Bt=window.MotionHandoffMarkAsComplete)===null||Bt===void 0||Bt.call(window,Ht)}),Zt.current=!1))}),Rt}function createProjectionNode(et,g,it,ot){const{layoutId:ut,layout:ct,drag:dt,dragConstraints:ft,layoutScroll:St,layoutRoot:Tt}=g;et.projection=new it(et.latestValues,g["data-framer-portal-id"]?void 0:getClosestProjectingNode(et.parent)),et.projection.setOptions({layoutId:ut,layout:ct,alwaysMeasureLayout:!!dt||ft&&isRefObject(ft),visualElement:et,animationType:typeof ct=="string"?ct:"both",initialPromotionConfig:ot,layoutScroll:St,layoutRoot:Tt})}function getClosestProjectingNode(et){if(et)return et.options.allowProjection!==!1?et.projection:getClosestProjectingNode(et.parent)}function useMotionRef(et,g,it){return reactExports.useCallback(ot=>{ot&&et.mount&&et.mount(ot),g&&(ot?g.mount(ot):g.unmount()),it&&(typeof it=="function"?it(ot):isRefObject(it)&&(it.current=ot))},[g])}function isControllingVariants(et){return isAnimationControls(et.animate)||variantProps.some(g=>isVariantLabel(et[g]))}function isVariantNode(et){return!!(isControllingVariants(et)||et.variants)}function getCurrentTreeVariants(et,g){if(isControllingVariants(et)){const{initial:it,animate:ot}=et;return{initial:it===!1||isVariantLabel(it)?it:void 0,animate:isVariantLabel(ot)?ot:void 0}}return et.inherit!==!1?g:{}}function useCreateMotionContext(et){const{initial:g,animate:it}=getCurrentTreeVariants(et,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:g,animate:it}),[variantLabelsAsDependency(g),variantLabelsAsDependency(it)])}function variantLabelsAsDependency(et){return Array.isArray(et)?et.join(" "):et}const featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const et in featureProps)featureDefinitions[et]={isEnabled:g=>featureProps[et].some(it=>!!g[it])};function loadFeatures(et){for(const g in et)featureDefinitions[g]={...featureDefinitions[g],...et[g]}}const motionComponentSymbol=Symbol.for("motionComponentSymbol");function createRendererMotionComponent({preloadedFeatures:et,createVisualElement:g,useRender:it,useVisualState:ot,Component:ut}){et&&loadFeatures(et);function ct(ft,St){let Tt;const kt={...reactExports.useContext(MotionConfigContext),...ft,layoutId:useLayoutId(ft)},{isStatic:jt}=kt,Rt=useCreateMotionContext(ft),$t=ot(ft,jt);if(!jt&&isBrowser$1){useStrictMode();const zt=getProjectionFunctionality(kt);Tt=zt.MeasureLayout,Rt.visualElement=useVisualElement(ut,$t,kt,g,zt.ProjectionNode)}return jsxRuntimeExports.jsxs(MotionContext.Provider,{value:Rt,children:[Tt&&Rt.visualElement?jsxRuntimeExports.jsx(Tt,{visualElement:Rt.visualElement,...kt}):null,it(ut,ft,useMotionRef($t,Rt.visualElement,St),$t,jt,Rt.visualElement)]})}const dt=reactExports.forwardRef(ct);return dt[motionComponentSymbol]=ut,dt}function useLayoutId({layoutId:et}){const g=reactExports.useContext(LayoutGroupContext).id;return g&&et!==void 0?g+"-"+et:et}function useStrictMode(et,g){reactExports.useContext(LazyContext).strict}function getProjectionFunctionality(et){const{drag:g,layout:it}=featureDefinitions;if(!g&&!it)return{};const ot={...g,...it};return{MeasureLayout:g!=null&&g.isEnabled(et)||it!=null&&it.isEnabled(et)?ot.MeasureLayout:void 0,ProjectionNode:ot.ProjectionNode}}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(et){return typeof et!="string"||et.includes("-")?!1:!!(lowercaseSVGElements.indexOf(et)>-1||/[A-Z]/u.test(et))}function renderHTML(et,{style:g,vars:it},ot,ut){Object.assign(et.style,g,ut&&ut.getProjectionStyles(ot));for(const ct in it)et.style.setProperty(ct,it[ct])}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(et,g,it,ot){renderHTML(et,g,void 0,ot);for(const ut in g.attrs)et.setAttribute(camelCaseAttributes.has(ut)?ut:camelToDash(ut),g.attrs[ut])}function isForcedMotionValue(et,{layout:g,layoutId:it}){return transformProps.has(et)||et.startsWith("origin")||(g||it!==void 0)&&(!!scaleCorrectors[et]||et==="opacity")}function scrapeMotionValuesFromProps$1(et,g,it){var ot;const{style:ut}=et,ct={};for(const dt in ut)(isMotionValue(ut[dt])||g.style&&isMotionValue(g.style[dt])||isForcedMotionValue(dt,et)||((ot=it==null?void 0:it.getValue(dt))===null||ot===void 0?void 0:ot.liveStyle)!==void 0)&&(ct[dt]=ut[dt]);return ct}function scrapeMotionValuesFromProps(et,g,it){const ot=scrapeMotionValuesFromProps$1(et,g,it);for(const ut in et)if(isMotionValue(et[ut])||isMotionValue(g[ut])){const ct=transformPropOrder.indexOf(ut)!==-1?"attr"+ut.charAt(0).toUpperCase()+ut.substring(1):ut;ot[ct]=et[ut]}return ot}function useConstant(et){const g=reactExports.useRef(null);return g.current===null&&(g.current=et()),g.current}function makeState({scrapeMotionValuesFromProps:et,createRenderState:g,onMount:it},ot,ut,ct){const dt={latestValues:makeLatestValues(ot,ut,ct,et),renderState:g()};return it&&(dt.mount=ft=>it(ot,ft,dt)),dt}const makeUseVisualState=et=>(g,it)=>{const ot=reactExports.useContext(MotionContext),ut=reactExports.useContext(PresenceContext),ct=()=>makeState(et,g,ot,ut);return it?ct():useConstant(ct)};function makeLatestValues(et,g,it,ot){const ut={},ct=ot(et,{});for(const Rt in ct)ut[Rt]=resolveMotionValue(ct[Rt]);let{initial:dt,animate:ft}=et;const St=isControllingVariants(et),Tt=isVariantNode(et);g&&Tt&&!St&&et.inherit!==!1&&(dt===void 0&&(dt=g.initial),ft===void 0&&(ft=g.animate));let kt=it?it.initial===!1:!1;kt=kt||dt===!1;const jt=kt?ft:dt;if(jt&&typeof jt!="boolean"&&!isAnimationControls(jt)){const Rt=Array.isArray(jt)?jt:[jt];for(let $t=0;$t<Rt.length;$t++){const zt=resolveVariantFromProps(et,Rt[$t]);if(zt){const{transitionEnd:Ht,transition:Zt,...Bt}=zt;for(const Ut in Bt){let Kt=Bt[Ut];if(Array.isArray(Kt)){const Yt=kt?Kt.length-1:0;Kt=Kt[Yt]}Kt!==null&&(ut[Ut]=Kt)}for(const Ut in Ht)ut[Ut]=Ht[Ut]}}}return ut}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),getValueAsType=(et,g)=>g&&typeof et=="number"?g.transform(et):et,translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(et,g,it){let ot="",ut=!0;for(let ct=0;ct<numTransforms;ct++){const dt=transformPropOrder[ct],ft=et[dt];if(ft===void 0)continue;let St=!0;if(typeof ft=="number"?St=ft===(dt.startsWith("scale")?1:0):St=parseFloat(ft)===0,!St||it){const Tt=getValueAsType(ft,numberValueTypes[dt]);if(!St){ut=!1;const kt=translateAlias[dt]||dt;ot+=`${kt}(${Tt}) `}it&&(g[dt]=Tt)}}return ot=ot.trim(),it?ot=it(g,ut?"":ot):ut&&(ot="none"),ot}function buildHTMLStyles(et,g,it){const{style:ot,vars:ut,transformOrigin:ct}=et;let dt=!1,ft=!1;for(const St in g){const Tt=g[St];if(transformProps.has(St)){dt=!0;continue}else if(isCSSVariableName(St)){ut[St]=Tt;continue}else{const kt=getValueAsType(Tt,numberValueTypes[St]);St.startsWith("origin")?(ft=!0,ct[St]=kt):ot[St]=kt}}if(g.transform||(dt||it?ot.transform=buildTransform(g,et.transform,it):ot.transform&&(ot.transform="none")),ft){const{originX:St="50%",originY:Tt="50%",originZ:kt=0}=ct;ot.transformOrigin=`${St} ${Tt} ${kt}`}}function calcOrigin(et,g,it){return typeof et=="string"?et:px.transform(g+it*et)}function calcSVGTransformOrigin(et,g,it){const ot=calcOrigin(g,et.x,et.width),ut=calcOrigin(it,et.y,et.height);return`${ot} ${ut}`}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(et,g,it=1,ot=0,ut=!0){et.pathLength=1;const ct=ut?dashKeys:camelKeys;et[ct.offset]=px.transform(-ot);const dt=px.transform(g),ft=px.transform(it);et[ct.array]=`${dt} ${ft}`}function buildSVGAttrs(et,{attrX:g,attrY:it,attrScale:ot,originX:ut,originY:ct,pathLength:dt,pathSpacing:ft=1,pathOffset:St=0,...Tt},kt,jt){if(buildHTMLStyles(et,Tt,jt),kt){et.style.viewBox&&(et.attrs.viewBox=et.style.viewBox);return}et.attrs=et.style,et.style={};const{attrs:Rt,style:$t,dimensions:zt}=et;Rt.transform&&(zt&&($t.transform=Rt.transform),delete Rt.transform),zt&&(ut!==void 0||ct!==void 0||$t.transform)&&($t.transformOrigin=calcSVGTransformOrigin(zt,ut!==void 0?ut:.5,ct!==void 0?ct:.5)),g!==void 0&&(Rt.x=g),it!==void 0&&(Rt.y=it),ot!==void 0&&(Rt.scale=ot),dt!==void 0&&buildSVGPath(Rt,dt,ft,St,!1)}const isSVGTag=et=>typeof et=="string"&&et.toLowerCase()==="svg",svgMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState,onMount:(et,g,{renderState:it,latestValues:ot})=>{frame.read(()=>{try{it.dimensions=typeof g.getBBox=="function"?g.getBBox():g.getBoundingClientRect()}catch{it.dimensions={x:0,y:0,width:0,height:0}}}),frame.render(()=>{buildSVGAttrs(it,ot,isSVGTag(g.tagName),et.transformTemplate),renderSVG(g,it)})}})},htmlMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState})};function copyRawValuesOnly(et,g,it){for(const ot in g)!isMotionValue(g[ot])&&!isForcedMotionValue(ot,it)&&(et[ot]=g[ot])}function useInitialMotionValues({transformTemplate:et},g){return reactExports.useMemo(()=>{const it=createHtmlRenderState();return buildHTMLStyles(it,g,et),Object.assign({},it.vars,it.style)},[g])}function useStyle(et,g){const it=et.style||{},ot={};return copyRawValuesOnly(ot,it,et),Object.assign(ot,useInitialMotionValues(et,g)),ot}function useHTMLProps(et,g){const it={},ot=useStyle(et,g);return et.drag&&et.dragListener!==!1&&(it.draggable=!1,ot.userSelect=ot.WebkitUserSelect=ot.WebkitTouchCallout="none",ot.touchAction=et.drag===!0?"none":`pan-${et.drag==="x"?"y":"x"}`),et.tabIndex===void 0&&(et.onTap||et.onTapStart||et.whileTap)&&(it.tabIndex=0),it.style=ot,it}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp(et){return et.startsWith("while")||et.startsWith("drag")&&et!=="draggable"||et.startsWith("layout")||et.startsWith("onTap")||et.startsWith("onPan")||et.startsWith("onLayout")||validMotionProps.has(et)}let shouldForward=et=>!isValidMotionProp(et);function loadExternalIsValidProp(et){et&&(shouldForward=g=>g.startsWith("on")?!isValidMotionProp(g):et(g))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch{}function filterProps(et,g,it){const ot={};for(const ut in et)ut==="values"&&typeof et.values=="object"||(shouldForward(ut)||it===!0&&isValidMotionProp(ut)||!g&&!isValidMotionProp(ut)||et.draggable&&ut.startsWith("onDrag"))&&(ot[ut]=et[ut]);return ot}function useSVGProps(et,g,it,ot){const ut=reactExports.useMemo(()=>{const ct=createSvgRenderState();return buildSVGAttrs(ct,g,isSVGTag(ot),et.transformTemplate),{...ct.attrs,style:{...ct.style}}},[g]);if(et.style){const ct={};copyRawValuesOnly(ct,et.style,et),ut.style={...ct,...ut.style}}return ut}function createUseRender(et=!1){return(it,ot,ut,{latestValues:ct},dt)=>{const St=(isSVGComponent(it)?useSVGProps:useHTMLProps)(ot,ct,dt,it),Tt=filterProps(ot,typeof it=="string",et),kt=it!==reactExports.Fragment?{...Tt,...St,ref:ut}:{},{children:jt}=ot,Rt=reactExports.useMemo(()=>isMotionValue(jt)?jt.get():jt,[jt]);return reactExports.createElement(it,{...kt,children:Rt})}}function createMotionComponentFactory(et,g){return function(ot,{forwardMotionProps:ut}={forwardMotionProps:!1}){const dt={...isSVGComponent(ot)?svgMotionConfig:htmlMotionConfig,preloadedFeatures:et,useRender:createUseRender(ut),createVisualElement:g,Component:ot};return createRendererMotionComponent(dt)}}const prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser$1)if(window.matchMedia){const et=window.matchMedia("(prefers-reduced-motion)"),g=()=>prefersReducedMotion.current=et.matches;et.addListener(g),g()}else prefersReducedMotion.current=!1}function updateMotionValuesFromProps(et,g,it){for(const ot in g){const ut=g[ot],ct=it[ot];if(isMotionValue(ut))et.addValue(ot,ut);else if(isMotionValue(ct))et.addValue(ot,motionValue(ut,{owner:et}));else if(ct!==ut)if(et.hasValue(ot)){const dt=et.getValue(ot);dt.liveStyle===!0?dt.jump(ut):dt.hasAnimated||dt.set(ut)}else{const dt=et.getStaticValue(ot);et.addValue(ot,motionValue(dt!==void 0?dt:ut,{owner:et}))}}for(const ot in it)g[ot]===void 0&&et.removeValue(ot);return g}const visualElementStore=new WeakMap,valueTypes=[...dimensionValueTypes,color,complex],findValueType=et=>valueTypes.find(testValueType(et)),propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VisualElement{scrapeMotionValuesFromProps(g,it,ot){return{}}constructor({parent:g,props:it,presenceContext:ot,reducedMotionConfig:ut,blockInitialAnimation:ct,visualState:dt},ft={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KeyframeResolver,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const Rt=time.now();this.renderScheduledAt<Rt&&(this.renderScheduledAt=Rt,frame.render(this.render,!1,!0))};const{latestValues:St,renderState:Tt}=dt;this.latestValues=St,this.baseTarget={...St},this.initialValues=it.initial?{...St}:{},this.renderState=Tt,this.parent=g,this.props=it,this.presenceContext=ot,this.depth=g?g.depth+1:0,this.reducedMotionConfig=ut,this.options=ft,this.blockInitialAnimation=!!ct,this.isControllingVariants=isControllingVariants(it),this.isVariantNode=isVariantNode(it),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(g&&g.current);const{willChange:kt,...jt}=this.scrapeMotionValuesFromProps(it,{},this);for(const Rt in jt){const $t=jt[Rt];St[Rt]!==void 0&&isMotionValue($t)&&$t.set(St[Rt],!1)}}mount(g){this.current=g,visualElementStore.set(g,this),this.projection&&!this.projection.instance&&this.projection.mount(g),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((it,ot)=>this.bindToMotionValue(ot,it)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){visualElementStore.delete(this.current),this.projection&&this.projection.unmount(),cancelFrame(this.notifyUpdate),cancelFrame(this.render),this.valueSubscriptions.forEach(g=>g()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const g in this.events)this.events[g].clear();for(const g in this.features){const it=this.features[g];it&&(it.unmount(),it.isMounted=!1)}this.current=null}bindToMotionValue(g,it){this.valueSubscriptions.has(g)&&this.valueSubscriptions.get(g)();const ot=transformProps.has(g),ut=it.on("change",ft=>{this.latestValues[g]=ft,this.props.onUpdate&&frame.preRender(this.notifyUpdate),ot&&this.projection&&(this.projection.isTransformDirty=!0)}),ct=it.on("renderRequest",this.scheduleRender);let dt;window.MotionCheckAppearSync&&(dt=window.MotionCheckAppearSync(this,g,it)),this.valueSubscriptions.set(g,()=>{ut(),ct(),dt&&dt(),it.owner&&it.stop()})}sortNodePosition(g){return!this.current||!this.sortInstanceNodePosition||this.type!==g.type?0:this.sortInstanceNodePosition(this.current,g.current)}updateFeatures(){let g="animation";for(g in featureDefinitions){const it=featureDefinitions[g];if(!it)continue;const{isEnabled:ot,Feature:ut}=it;if(!this.features[g]&&ut&&ot(this.props)&&(this.features[g]=new ut(this)),this.features[g]){const ct=this.features[g];ct.isMounted?ct.update():(ct.mount(),ct.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue(g){return this.latestValues[g]}setStaticValue(g,it){this.latestValues[g]=it}update(g,it){(g.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=g,this.prevPresenceContext=this.presenceContext,this.presenceContext=it;for(let ot=0;ot<propEventHandlers.length;ot++){const ut=propEventHandlers[ot];this.propEventSubscriptions[ut]&&(this.propEventSubscriptions[ut](),delete this.propEventSubscriptions[ut]);const ct="on"+ut,dt=g[ct];dt&&(this.propEventSubscriptions[ut]=this.on(ut,dt))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps(g,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(g){return this.props.variants?this.props.variants[g]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(g){const it=this.getClosestVariantNode();if(it)return it.variantChildren&&it.variantChildren.add(g),()=>it.variantChildren.delete(g)}addValue(g,it){const ot=this.values.get(g);it!==ot&&(ot&&this.removeValue(g),this.bindToMotionValue(g,it),this.values.set(g,it),this.latestValues[g]=it.get())}removeValue(g){this.values.delete(g);const it=this.valueSubscriptions.get(g);it&&(it(),this.valueSubscriptions.delete(g)),delete this.latestValues[g],this.removeValueFromRenderState(g,this.renderState)}hasValue(g){return this.values.has(g)}getValue(g,it){if(this.props.values&&this.props.values[g])return this.props.values[g];let ot=this.values.get(g);return ot===void 0&&it!==void 0&&(ot=motionValue(it===null?void 0:it,{owner:this}),this.addValue(g,ot)),ot}readValue(g,it){var ot;let ut=this.latestValues[g]!==void 0||!this.current?this.latestValues[g]:(ot=this.getBaseTargetFromProps(this.props,g))!==null&&ot!==void 0?ot:this.readValueFromInstance(this.current,g,this.options);return ut!=null&&(typeof ut=="string"&&(isNumericalString(ut)||isZeroValueString(ut))?ut=parseFloat(ut):!findValueType(ut)&&complex.test(it)&&(ut=getAnimatableNone(g,it)),this.setBaseTarget(g,isMotionValue(ut)?ut.get():ut)),isMotionValue(ut)?ut.get():ut}setBaseTarget(g,it){this.baseTarget[g]=it}getBaseTarget(g){var it;const{initial:ot}=this.props;let ut;if(typeof ot=="string"||typeof ot=="object"){const dt=resolveVariantFromProps(this.props,ot,(it=this.presenceContext)===null||it===void 0?void 0:it.custom);dt&&(ut=dt[g])}if(ot&&ut!==void 0)return ut;const ct=this.getBaseTargetFromProps(this.props,g);return ct!==void 0&&!isMotionValue(ct)?ct:this.initialValues[g]!==void 0&&ut===void 0?void 0:this.baseTarget[g]}on(g,it){return this.events[g]||(this.events[g]=new SubscriptionManager),this.events[g].add(it)}notify(g,...it){this.events[g]&&this.events[g].notify(...it)}}class DOMVisualElement extends VisualElement{constructor(){super(...arguments),this.KeyframeResolver=DOMKeyframesResolver}sortInstanceNodePosition(g,it){return g.compareDocumentPosition(it)&2?1:-1}getBaseTargetFromProps(g,it){return g.style?g.style[it]:void 0}removeValueFromRenderState(g,{vars:it,style:ot}){delete it[g],delete ot[g]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:g}=this.props;isMotionValue(g)&&(this.childSubscription=g.on("change",it=>{this.current&&(this.current.textContent=`${it}`)}))}}function getComputedStyle$1(et){return window.getComputedStyle(et)}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html",this.renderInstance=renderHTML}readValueFromInstance(g,it){if(transformProps.has(it)){const ot=getDefaultValueType(it);return ot&&ot.default||0}else{const ot=getComputedStyle$1(g),ut=(isCSSVariableName(it)?ot.getPropertyValue(it):ot[it])||0;return typeof ut=="string"?ut.trim():ut}}measureInstanceViewportBox(g,{transformPagePoint:it}){return measureViewportBox(g,it)}build(g,it,ot){buildHTMLStyles(g,it,ot.transformTemplate)}scrapeMotionValuesFromProps(g,it,ot){return scrapeMotionValuesFromProps$1(g,it,ot)}}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=createBox}getBaseTargetFromProps(g,it){return g[it]}readValueFromInstance(g,it){if(transformProps.has(it)){const ot=getDefaultValueType(it);return ot&&ot.default||0}return it=camelCaseAttributes.has(it)?it:camelToDash(it),g.getAttribute(it)}scrapeMotionValuesFromProps(g,it,ot){return scrapeMotionValuesFromProps(g,it,ot)}build(g,it,ot){buildSVGAttrs(g,it,this.isSVGTag,ot.transformTemplate)}renderInstance(g,it,ot,ut){renderSVG(g,it,ot,ut)}mount(g){this.isSVGTag=isSVGTag(g.tagName),super.mount(g)}}const createDomVisualElement=(et,g)=>isSVGComponent(et)?new SVGVisualElement(g):new HTMLVisualElement(g,{allowProjection:et!==reactExports.Fragment}),createMotionComponent=createMotionComponentFactory({...animations,...gestureAnimations,...drag,...layout},createDomVisualElement),motion=createDOMMotionComponentProxy(createMotionComponent);class PopChildMeasure extends reactExports.Component{getSnapshotBeforeUpdate(g){const it=this.props.childRef.current;if(it&&g.isPresent&&!this.props.isPresent){const ot=this.props.sizeRef.current;ot.height=it.offsetHeight||0,ot.width=it.offsetWidth||0,ot.top=it.offsetTop,ot.left=it.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children:et,isPresent:g}){const it=reactExports.useId(),ot=reactExports.useRef(null),ut=reactExports.useRef({width:0,height:0,top:0,left:0}),{nonce:ct}=reactExports.useContext(MotionConfigContext);return reactExports.useInsertionEffect(()=>{const{width:dt,height:ft,top:St,left:Tt}=ut.current;if(g||!ot.current||!dt||!ft)return;ot.current.dataset.motionPopId=it;const kt=document.createElement("style");return ct&&(kt.nonce=ct),document.head.appendChild(kt),kt.sheet&&kt.sheet.insertRule(`
          [data-motion-pop-id="${it}"] {
            position: absolute !important;
            width: ${dt}px !important;
            height: ${ft}px !important;
            top: ${St}px !important;
            left: ${Tt}px !important;
          }
        `),()=>{document.head.removeChild(kt)}},[g]),jsxRuntimeExports.jsx(PopChildMeasure,{isPresent:g,childRef:ot,sizeRef:ut,children:reactExports.cloneElement(et,{ref:ot})})}const PresenceChild=({children:et,initial:g,isPresent:it,onExitComplete:ot,custom:ut,presenceAffectsLayout:ct,mode:dt})=>{const ft=useConstant(newChildrenMap),St=reactExports.useId(),Tt=reactExports.useCallback(jt=>{ft.set(jt,!0);for(const Rt of ft.values())if(!Rt)return;ot&&ot()},[ft,ot]),kt=reactExports.useMemo(()=>({id:St,initial:g,isPresent:it,custom:ut,onExitComplete:Tt,register:jt=>(ft.set(jt,!1),()=>ft.delete(jt))}),ct?[Math.random(),Tt]:[it,Tt]);return reactExports.useMemo(()=>{ft.forEach((jt,Rt)=>ft.set(Rt,!1))},[it]),reactExports.useEffect(()=>{!it&&!ft.size&&ot&&ot()},[it]),dt==="popLayout"&&(et=jsxRuntimeExports.jsx(PopChild,{isPresent:it,children:et})),jsxRuntimeExports.jsx(PresenceContext.Provider,{value:kt,children:et})};function newChildrenMap(){return new Map}const getChildKey=et=>et.key||"";function onlyElements(et){const g=[];return reactExports.Children.forEach(et,it=>{reactExports.isValidElement(it)&&g.push(it)}),g}const AnimatePresence=({children:et,exitBeforeEnter:g,custom:it,initial:ot=!0,onExitComplete:ut,presenceAffectsLayout:ct=!0,mode:dt="sync"})=>{const ft=reactExports.useMemo(()=>onlyElements(et),[et]),St=ft.map(getChildKey),Tt=reactExports.useRef(!0),kt=reactExports.useRef(ft),jt=useConstant(()=>new Map),[Rt,$t]=reactExports.useState(ft),[zt,Ht]=reactExports.useState(ft);useIsomorphicLayoutEffect(()=>{Tt.current=!1,kt.current=ft;for(let Ut=0;Ut<zt.length;Ut++){const Kt=getChildKey(zt[Ut]);St.includes(Kt)?jt.delete(Kt):jt.get(Kt)!==!0&&jt.set(Kt,!1)}},[zt,St.length,St.join("-")]);const Zt=[];if(ft!==Rt){let Ut=[...ft];for(let Kt=0;Kt<zt.length;Kt++){const Yt=zt[Kt],Jt=getChildKey(Yt);St.includes(Jt)||(Ut.splice(Kt,0,Yt),Zt.push(Yt))}dt==="wait"&&Zt.length&&(Ut=Zt),Ht(onlyElements(Ut)),$t(ft);return}const{forceRender:Bt}=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:zt.map(Ut=>{const Kt=getChildKey(Ut),Yt=ft===zt||St.includes(Kt),Jt=()=>{if(jt.has(Kt))jt.set(Kt,!0);else return;let er=!0;jt.forEach(tr=>{tr||(er=!1)}),er&&(Bt==null||Bt(),Ht(kt.current),ut&&ut())};return jsxRuntimeExports.jsx(PresenceChild,{isPresent:Yt,initial:!Tt.current||ot?void 0:!1,custom:Yt?void 0:it,presenceAffectsLayout:ct,mode:dt,onExitComplete:Yt?void 0:Jt,children:Ut},Kt)})})};function bind(et,g){return function(){return et.apply(g,arguments)}}const{toString}=Object.prototype,{getPrototypeOf}=Object,kindOf=(et=>g=>{const it=toString.call(g);return et[it]||(et[it]=it.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=et=>(et=et.toLowerCase(),g=>kindOf(g)===et),typeOfTest=et=>g=>typeof g===et,{isArray:isArray$4}=Array,isUndefined=typeOfTest("undefined");function isBuffer$3(et){return et!==null&&!isUndefined(et)&&et.constructor!==null&&!isUndefined(et.constructor)&&isFunction$3(et.constructor.isBuffer)&&et.constructor.isBuffer(et)}const isArrayBuffer$1=kindOfTest("ArrayBuffer");function isArrayBufferView(et){let g;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?g=ArrayBuffer.isView(et):g=et&&et.buffer&&isArrayBuffer$1(et.buffer),g}const isString$1=typeOfTest("string"),isFunction$3=typeOfTest("function"),isNumber=typeOfTest("number"),isObject$3=et=>et!==null&&typeof et=="object",isBoolean=et=>et===!0||et===!1,isPlainObject=et=>{if(kindOf(et)!=="object")return!1;const g=getPrototypeOf(et);return(g===null||g===Object.prototype||Object.getPrototypeOf(g)===null)&&!(Symbol.toStringTag in et)&&!(Symbol.iterator in et)},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob$1=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=et=>isObject$3(et)&&isFunction$3(et.pipe),isFormData=et=>{let g;return et&&(typeof FormData=="function"&&et instanceof FormData||isFunction$3(et.append)&&((g=kindOf(et))==="formdata"||g==="object"&&isFunction$3(et.toString)&&et.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim=et=>et.trim?et.trim():et.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(et,g,{allOwnKeys:it=!1}={}){if(et===null||typeof et>"u")return;let ot,ut;if(typeof et!="object"&&(et=[et]),isArray$4(et))for(ot=0,ut=et.length;ot<ut;ot++)g.call(null,et[ot],ot,et);else{const ct=it?Object.getOwnPropertyNames(et):Object.keys(et),dt=ct.length;let ft;for(ot=0;ot<dt;ot++)ft=ct[ot],g.call(null,et[ft],ft,et)}}function findKey(et,g){g=g.toLowerCase();const it=Object.keys(et);let ot=it.length,ut;for(;ot-- >0;)if(ut=it[ot],g===ut.toLowerCase())return ut;return null}const _global=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),isContextDefined=et=>!isUndefined(et)&&et!==_global;function merge(){const{caseless:et}=isContextDefined(this)&&this||{},g={},it=(ot,ut)=>{const ct=et&&findKey(g,ut)||ut;isPlainObject(g[ct])&&isPlainObject(ot)?g[ct]=merge(g[ct],ot):isPlainObject(ot)?g[ct]=merge({},ot):isArray$4(ot)?g[ct]=ot.slice():g[ct]=ot};for(let ot=0,ut=arguments.length;ot<ut;ot++)arguments[ot]&&forEach(arguments[ot],it);return g}const extend=(et,g,it,{allOwnKeys:ot}={})=>(forEach(g,(ut,ct)=>{it&&isFunction$3(ut)?et[ct]=bind(ut,it):et[ct]=ut},{allOwnKeys:ot}),et),stripBOM=et=>(et.charCodeAt(0)===65279&&(et=et.slice(1)),et),inherits=(et,g,it,ot)=>{et.prototype=Object.create(g.prototype,ot),et.prototype.constructor=et,Object.defineProperty(et,"super",{value:g.prototype}),it&&Object.assign(et.prototype,it)},toFlatObject=(et,g,it,ot)=>{let ut,ct,dt;const ft={};if(g=g||{},et==null)return g;do{for(ut=Object.getOwnPropertyNames(et),ct=ut.length;ct-- >0;)dt=ut[ct],(!ot||ot(dt,et,g))&&!ft[dt]&&(g[dt]=et[dt],ft[dt]=!0);et=it!==!1&&getPrototypeOf(et)}while(et&&(!it||it(et,g))&&et!==Object.prototype);return g},endsWith=(et,g,it)=>{et=String(et),(it===void 0||it>et.length)&&(it=et.length),it-=g.length;const ot=et.indexOf(g,it);return ot!==-1&&ot===it},toArray=et=>{if(!et)return null;if(isArray$4(et))return et;let g=et.length;if(!isNumber(g))return null;const it=new Array(g);for(;g-- >0;)it[g]=et[g];return it},isTypedArray$3=(et=>g=>et&&g instanceof et)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(et,g)=>{const ot=(et&&et[Symbol.iterator]).call(et);let ut;for(;(ut=ot.next())&&!ut.done;){const ct=ut.value;g.call(et,ct[0],ct[1])}},matchAll=(et,g)=>{let it;const ot=[];for(;(it=et.exec(g))!==null;)ot.push(it);return ot},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase$1=et=>et.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(it,ot,ut){return ot.toUpperCase()+ut}),hasOwnProperty$9=(({hasOwnProperty:et})=>(g,it)=>et.call(g,it))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(et,g)=>{const it=Object.getOwnPropertyDescriptors(et),ot={};forEach(it,(ut,ct)=>{let dt;(dt=g(ut,ct,et))!==!1&&(ot[ct]=dt||ut)}),Object.defineProperties(et,ot)},freezeMethods=et=>{reduceDescriptors(et,(g,it)=>{if(isFunction$3(et)&&["arguments","caller","callee"].indexOf(it)!==-1)return!1;const ot=et[it];if(isFunction$3(ot)){if(g.enumerable=!1,"writable"in g){g.writable=!1;return}g.set||(g.set=()=>{throw Error("Can not rewrite read-only method '"+it+"'")})}})},toObjectSet=(et,g)=>{const it={},ot=ut=>{ut.forEach(ct=>{it[ct]=!0})};return isArray$4(et)?ot(et):ot(String(et).split(g)),it},noop=()=>{},toFiniteNumber=(et,g)=>et!=null&&Number.isFinite(et=+et)?et:g,ALPHA="abcdefghijklmnopqrstuvwxyz",DIGIT="0123456789",ALPHABET={DIGIT,ALPHA,ALPHA_DIGIT:ALPHA+ALPHA.toUpperCase()+DIGIT},generateString=(et=16,g=ALPHABET.ALPHA_DIGIT)=>{let it="";const{length:ot}=g;for(;et--;)it+=g[Math.random()*ot|0];return it};function isSpecCompliantForm(et){return!!(et&&isFunction$3(et.append)&&et[Symbol.toStringTag]==="FormData"&&et[Symbol.iterator])}const toJSONObject=et=>{const g=new Array(10),it=(ot,ut)=>{if(isObject$3(ot)){if(g.indexOf(ot)>=0)return;if(!("toJSON"in ot)){g[ut]=ot;const ct=isArray$4(ot)?[]:{};return forEach(ot,(dt,ft)=>{const St=it(dt,ut+1);!isUndefined(St)&&(ct[ft]=St)}),g[ut]=void 0,ct}}return ot};return it(et,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=et=>et&&(isObject$3(et)||isFunction$3(et))&&isFunction$3(et.then)&&isFunction$3(et.catch),_setImmediate=((et,g)=>et?setImmediate:g?((it,ot)=>(_global.addEventListener("message",({source:ut,data:ct})=>{ut===_global&&ct===it&&ot.length&&ot.shift()()},!1),ut=>{ot.push(ut),_global.postMessage(it,"*")}))(`axios@${Math.random()}`,[]):it=>setTimeout(it))(typeof setImmediate=="function",isFunction$3(_global.postMessage)),asap=typeof queueMicrotask<"u"?queueMicrotask.bind(_global):typeof process<"u"&&process.nextTick||_setImmediate,utils$1={isArray:isArray$4,isArrayBuffer:isArrayBuffer$1,isBuffer:isBuffer$3,isFormData,isArrayBufferView,isString:isString$1,isNumber,isBoolean,isObject:isObject$3,isPlainObject,isReadableStream,isRequest,isResponse,isHeaders,isUndefined,isDate,isFile,isBlob:isBlob$1,isRegExp,isFunction:isFunction$3,isStream,isURLSearchParams,isTypedArray:isTypedArray$3,isFileList,forEach,merge,extend,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty:hasOwnProperty$9,hasOwnProp:hasOwnProperty$9,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase:toCamelCase$1,noop,toFiniteNumber,findKey,global:_global,isContextDefined,ALPHABET,generateString,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable,setImmediate:_setImmediate,asap};function AxiosError(et,g,it,ot,ut){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=et,this.name="AxiosError",g&&(this.code=g),it&&(this.config=it),ot&&(this.request=ot),ut&&(this.response=ut,this.status=ut.status?ut.status:null)}utils$1.inherits(AxiosError,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$1.toJSONObject(this.config),code:this.code,status:this.status}}});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(et=>{descriptors[et]={value:et}});Object.defineProperties(AxiosError,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError.from=(et,g,it,ot,ut,ct)=>{const dt=Object.create(prototype$1);return utils$1.toFlatObject(et,dt,function(St){return St!==Error.prototype},ft=>ft!=="isAxiosError"),AxiosError.call(dt,et.message,g,it,ot,ut),dt.cause=et,dt.name=et.name,ct&&Object.assign(dt,ct),dt};const httpAdapter=null;function isVisitable(et){return utils$1.isPlainObject(et)||utils$1.isArray(et)}function removeBrackets(et){return utils$1.endsWith(et,"[]")?et.slice(0,-2):et}function renderKey(et,g,it){return et?et.concat(g).map(function(ut,ct){return ut=removeBrackets(ut),!it&&ct?"["+ut+"]":ut}).join(it?".":""):g}function isFlatArray(et){return utils$1.isArray(et)&&!et.some(isVisitable)}const predicates=utils$1.toFlatObject(utils$1,{},null,function(g){return/^is[A-Z]/.test(g)});function toFormData(et,g,it){if(!utils$1.isObject(et))throw new TypeError("target must be an object");g=g||new FormData,it=utils$1.toFlatObject(it,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Ht,Zt){return!utils$1.isUndefined(Zt[Ht])});const ot=it.metaTokens,ut=it.visitor||kt,ct=it.dots,dt=it.indexes,St=(it.Blob||typeof Blob<"u"&&Blob)&&utils$1.isSpecCompliantForm(g);if(!utils$1.isFunction(ut))throw new TypeError("visitor must be a function");function Tt(zt){if(zt===null)return"";if(utils$1.isDate(zt))return zt.toISOString();if(!St&&utils$1.isBlob(zt))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils$1.isArrayBuffer(zt)||utils$1.isTypedArray(zt)?St&&typeof Blob=="function"?new Blob([zt]):Buffer.from(zt):zt}function kt(zt,Ht,Zt){let Bt=zt;if(zt&&!Zt&&typeof zt=="object"){if(utils$1.endsWith(Ht,"{}"))Ht=ot?Ht:Ht.slice(0,-2),zt=JSON.stringify(zt);else if(utils$1.isArray(zt)&&isFlatArray(zt)||(utils$1.isFileList(zt)||utils$1.endsWith(Ht,"[]"))&&(Bt=utils$1.toArray(zt)))return Ht=removeBrackets(Ht),Bt.forEach(function(Kt,Yt){!(utils$1.isUndefined(Kt)||Kt===null)&&g.append(dt===!0?renderKey([Ht],Yt,ct):dt===null?Ht:Ht+"[]",Tt(Kt))}),!1}return isVisitable(zt)?!0:(g.append(renderKey(Zt,Ht,ct),Tt(zt)),!1)}const jt=[],Rt=Object.assign(predicates,{defaultVisitor:kt,convertValue:Tt,isVisitable});function $t(zt,Ht){if(!utils$1.isUndefined(zt)){if(jt.indexOf(zt)!==-1)throw Error("Circular reference detected in "+Ht.join("."));jt.push(zt),utils$1.forEach(zt,function(Bt,Ut){(!(utils$1.isUndefined(Bt)||Bt===null)&&ut.call(g,Bt,utils$1.isString(Ut)?Ut.trim():Ut,Ht,Rt))===!0&&$t(Bt,Ht?Ht.concat(Ut):[Ut])}),jt.pop()}}if(!utils$1.isObject(et))throw new TypeError("data must be an object");return $t(et),g}function encode$1(et){const g={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(et).replace(/[!'()~]|%20|%00/g,function(ot){return g[ot]})}function AxiosURLSearchParams(et,g){this._pairs=[],et&&toFormData(et,this,g)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function(g,it){this._pairs.push([g,it])};prototype.toString=function(g){const it=g?function(ot){return g.call(this,ot,encode$1)}:encode$1;return this._pairs.map(function(ut){return it(ut[0])+"="+it(ut[1])},"").join("&")};function encode(et){return encodeURIComponent(et).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(et,g,it){if(!g)return et;const ot=it&&it.encode||encode;utils$1.isFunction(it)&&(it={serialize:it});const ut=it&&it.serialize;let ct;if(ut?ct=ut(g,it):ct=utils$1.isURLSearchParams(g)?g.toString():new AxiosURLSearchParams(g,it).toString(ot),ct){const dt=et.indexOf("#");dt!==-1&&(et=et.slice(0,dt)),et+=(et.indexOf("?")===-1?"?":"&")+ct}return et}class InterceptorManager{constructor(){this.handlers=[]}use(g,it,ot){return this.handlers.push({fulfilled:g,rejected:it,synchronous:ot?ot.synchronous:!1,runWhen:ot?ot.runWhen:null}),this.handlers.length-1}eject(g){this.handlers[g]&&(this.handlers[g]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(g){utils$1.forEach(this.handlers,function(ot){ot!==null&&g(ot)})}}const InterceptorManager$1=InterceptorManager,transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",_navigator=typeof navigator=="object"&&navigator||void 0,hasStandardBrowserEnv=hasBrowserEnv&&(!_navigator||["ReactNative","NativeScript","NS"].indexOf(_navigator.product)<0),hasStandardBrowserWebWorkerEnv=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),origin=hasBrowserEnv&&window.location.href||"http://localhost",utils=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv,navigator:_navigator,origin},Symbol.toStringTag,{value:"Module"})),platform={...utils,...platform$1};function toURLEncodedForm(et,g){return toFormData(et,new platform.classes.URLSearchParams,Object.assign({visitor:function(it,ot,ut,ct){return platform.isNode&&utils$1.isBuffer(it)?(this.append(ot,it.toString("base64")),!1):ct.defaultVisitor.apply(this,arguments)}},g))}function parsePropPath(et){return utils$1.matchAll(/\w+|\[(\w*)]/g,et).map(g=>g[0]==="[]"?"":g[1]||g[0])}function arrayToObject(et){const g={},it=Object.keys(et);let ot;const ut=it.length;let ct;for(ot=0;ot<ut;ot++)ct=it[ot],g[ct]=et[ct];return g}function formDataToJSON(et){function g(it,ot,ut,ct){let dt=it[ct++];if(dt==="__proto__")return!0;const ft=Number.isFinite(+dt),St=ct>=it.length;return dt=!dt&&utils$1.isArray(ut)?ut.length:dt,St?(utils$1.hasOwnProp(ut,dt)?ut[dt]=[ut[dt],ot]:ut[dt]=ot,!ft):((!ut[dt]||!utils$1.isObject(ut[dt]))&&(ut[dt]=[]),g(it,ot,ut[dt],ct)&&utils$1.isArray(ut[dt])&&(ut[dt]=arrayToObject(ut[dt])),!ft)}if(utils$1.isFormData(et)&&utils$1.isFunction(et.entries)){const it={};return utils$1.forEachEntry(et,(ot,ut)=>{g(parsePropPath(ot),ut,it,0)}),it}return null}function stringifySafely(et,g,it){if(utils$1.isString(et))try{return(g||JSON.parse)(et),utils$1.trim(et)}catch(ot){if(ot.name!=="SyntaxError")throw ot}return(it||JSON.stringify)(et)}const defaults={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function(g,it){const ot=it.getContentType()||"",ut=ot.indexOf("application/json")>-1,ct=utils$1.isObject(g);if(ct&&utils$1.isHTMLForm(g)&&(g=new FormData(g)),utils$1.isFormData(g))return ut?JSON.stringify(formDataToJSON(g)):g;if(utils$1.isArrayBuffer(g)||utils$1.isBuffer(g)||utils$1.isStream(g)||utils$1.isFile(g)||utils$1.isBlob(g)||utils$1.isReadableStream(g))return g;if(utils$1.isArrayBufferView(g))return g.buffer;if(utils$1.isURLSearchParams(g))return it.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),g.toString();let ft;if(ct){if(ot.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(g,this.formSerializer).toString();if((ft=utils$1.isFileList(g))||ot.indexOf("multipart/form-data")>-1){const St=this.env&&this.env.FormData;return toFormData(ft?{"files[]":g}:g,St&&new St,this.formSerializer)}}return ct||ut?(it.setContentType("application/json",!1),stringifySafely(g)):g}],transformResponse:[function(g){const it=this.transitional||defaults.transitional,ot=it&&it.forcedJSONParsing,ut=this.responseType==="json";if(utils$1.isResponse(g)||utils$1.isReadableStream(g))return g;if(g&&utils$1.isString(g)&&(ot&&!this.responseType||ut)){const dt=!(it&&it.silentJSONParsing)&&ut;try{return JSON.parse(g)}catch(ft){if(dt)throw ft.name==="SyntaxError"?AxiosError.from(ft,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):ft}}return g}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function(g){return g>=200&&g<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$1.forEach(["delete","get","head","post","put","patch"],et=>{defaults.headers[et]={}});const defaults$1=defaults,ignoreDuplicateOf=utils$1.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=et=>{const g={};let it,ot,ut;return et&&et.split(`
`).forEach(function(dt){ut=dt.indexOf(":"),it=dt.substring(0,ut).trim().toLowerCase(),ot=dt.substring(ut+1).trim(),!(!it||g[it]&&ignoreDuplicateOf[it])&&(it==="set-cookie"?g[it]?g[it].push(ot):g[it]=[ot]:g[it]=g[it]?g[it]+", "+ot:ot)}),g},$internals=Symbol("internals");function normalizeHeader(et){return et&&String(et).trim().toLowerCase()}function normalizeValue(et){return et===!1||et==null?et:utils$1.isArray(et)?et.map(normalizeValue):String(et)}function parseTokens(et){const g=Object.create(null),it=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let ot;for(;ot=it.exec(et);)g[ot[1]]=ot[2];return g}const isValidHeaderName=et=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(et.trim());function matchHeaderValue(et,g,it,ot,ut){if(utils$1.isFunction(ot))return ot.call(this,g,it);if(ut&&(g=it),!!utils$1.isString(g)){if(utils$1.isString(ot))return g.indexOf(ot)!==-1;if(utils$1.isRegExp(ot))return ot.test(g)}}function formatHeader(et){return et.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(g,it,ot)=>it.toUpperCase()+ot)}function buildAccessors(et,g){const it=utils$1.toCamelCase(" "+g);["get","set","has"].forEach(ot=>{Object.defineProperty(et,ot+it,{value:function(ut,ct,dt){return this[ot].call(this,g,ut,ct,dt)},configurable:!0})})}class AxiosHeaders{constructor(g){g&&this.set(g)}set(g,it,ot){const ut=this;function ct(ft,St,Tt){const kt=normalizeHeader(St);if(!kt)throw new Error("header name must be a non-empty string");const jt=utils$1.findKey(ut,kt);(!jt||ut[jt]===void 0||Tt===!0||Tt===void 0&&ut[jt]!==!1)&&(ut[jt||St]=normalizeValue(ft))}const dt=(ft,St)=>utils$1.forEach(ft,(Tt,kt)=>ct(Tt,kt,St));if(utils$1.isPlainObject(g)||g instanceof this.constructor)dt(g,it);else if(utils$1.isString(g)&&(g=g.trim())&&!isValidHeaderName(g))dt(parseHeaders(g),it);else if(utils$1.isHeaders(g))for(const[ft,St]of g.entries())ct(St,ft,ot);else g!=null&&ct(it,g,ot);return this}get(g,it){if(g=normalizeHeader(g),g){const ot=utils$1.findKey(this,g);if(ot){const ut=this[ot];if(!it)return ut;if(it===!0)return parseTokens(ut);if(utils$1.isFunction(it))return it.call(this,ut,ot);if(utils$1.isRegExp(it))return it.exec(ut);throw new TypeError("parser must be boolean|regexp|function")}}}has(g,it){if(g=normalizeHeader(g),g){const ot=utils$1.findKey(this,g);return!!(ot&&this[ot]!==void 0&&(!it||matchHeaderValue(this,this[ot],ot,it)))}return!1}delete(g,it){const ot=this;let ut=!1;function ct(dt){if(dt=normalizeHeader(dt),dt){const ft=utils$1.findKey(ot,dt);ft&&(!it||matchHeaderValue(ot,ot[ft],ft,it))&&(delete ot[ft],ut=!0)}}return utils$1.isArray(g)?g.forEach(ct):ct(g),ut}clear(g){const it=Object.keys(this);let ot=it.length,ut=!1;for(;ot--;){const ct=it[ot];(!g||matchHeaderValue(this,this[ct],ct,g,!0))&&(delete this[ct],ut=!0)}return ut}normalize(g){const it=this,ot={};return utils$1.forEach(this,(ut,ct)=>{const dt=utils$1.findKey(ot,ct);if(dt){it[dt]=normalizeValue(ut),delete it[ct];return}const ft=g?formatHeader(ct):String(ct).trim();ft!==ct&&delete it[ct],it[ft]=normalizeValue(ut),ot[ft]=!0}),this}concat(...g){return this.constructor.concat(this,...g)}toJSON(g){const it=Object.create(null);return utils$1.forEach(this,(ot,ut)=>{ot!=null&&ot!==!1&&(it[ut]=g&&utils$1.isArray(ot)?ot.join(", "):ot)}),it}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([g,it])=>g+": "+it).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(g){return g instanceof this?g:new this(g)}static concat(g,...it){const ot=new this(g);return it.forEach(ut=>ot.set(ut)),ot}static accessor(g){const ot=(this[$internals]=this[$internals]={accessors:{}}).accessors,ut=this.prototype;function ct(dt){const ft=normalizeHeader(dt);ot[ft]||(buildAccessors(ut,dt),ot[ft]=!0)}return utils$1.isArray(g)?g.forEach(ct):ct(g),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$1.reduceDescriptors(AxiosHeaders.prototype,({value:et},g)=>{let it=g[0].toUpperCase()+g.slice(1);return{get:()=>et,set(ot){this[it]=ot}}});utils$1.freezeMethods(AxiosHeaders);const AxiosHeaders$1=AxiosHeaders;function transformData(et,g){const it=this||defaults$1,ot=g||it,ut=AxiosHeaders$1.from(ot.headers);let ct=ot.data;return utils$1.forEach(et,function(ft){ct=ft.call(it,ct,ut.normalize(),g?g.status:void 0)}),ut.normalize(),ct}function isCancel(et){return!!(et&&et.__CANCEL__)}function CanceledError(et,g,it){AxiosError.call(this,et??"canceled",AxiosError.ERR_CANCELED,g,it),this.name="CanceledError"}utils$1.inherits(CanceledError,AxiosError,{__CANCEL__:!0});function settle(et,g,it){const ot=it.config.validateStatus;!it.status||!ot||ot(it.status)?et(it):g(new AxiosError("Request failed with status code "+it.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(it.status/100)-4],it.config,it.request,it))}function parseProtocol(et){const g=/^([-+\w]{1,25})(:?\/\/|:)/.exec(et);return g&&g[1]||""}function speedometer(et,g){et=et||10;const it=new Array(et),ot=new Array(et);let ut=0,ct=0,dt;return g=g!==void 0?g:1e3,function(St){const Tt=Date.now(),kt=ot[ct];dt||(dt=Tt),it[ut]=St,ot[ut]=Tt;let jt=ct,Rt=0;for(;jt!==ut;)Rt+=it[jt++],jt=jt%et;if(ut=(ut+1)%et,ut===ct&&(ct=(ct+1)%et),Tt-dt<g)return;const $t=kt&&Tt-kt;return $t?Math.round(Rt*1e3/$t):void 0}}function throttle(et,g){let it=0,ot=1e3/g,ut,ct;const dt=(Tt,kt=Date.now())=>{it=kt,ut=null,ct&&(clearTimeout(ct),ct=null),et.apply(null,Tt)};return[(...Tt)=>{const kt=Date.now(),jt=kt-it;jt>=ot?dt(Tt,kt):(ut=Tt,ct||(ct=setTimeout(()=>{ct=null,dt(ut)},ot-jt)))},()=>ut&&dt(ut)]}const progressEventReducer=(et,g,it=3)=>{let ot=0;const ut=speedometer(50,250);return throttle(ct=>{const dt=ct.loaded,ft=ct.lengthComputable?ct.total:void 0,St=dt-ot,Tt=ut(St),kt=dt<=ft;ot=dt;const jt={loaded:dt,total:ft,progress:ft?dt/ft:void 0,bytes:St,rate:Tt||void 0,estimated:Tt&&ft&&kt?(ft-dt)/Tt:void 0,event:ct,lengthComputable:ft!=null,[g?"download":"upload"]:!0};et(jt)},it)},progressEventDecorator=(et,g)=>{const it=et!=null;return[ot=>g[0]({lengthComputable:it,total:et,loaded:ot}),g[1]]},asyncDecorator=et=>(...g)=>utils$1.asap(()=>et(...g)),isURLSameOrigin=platform.hasStandardBrowserEnv?((et,g)=>it=>(it=new URL(it,platform.origin),et.protocol===it.protocol&&et.host===it.host&&(g||et.port===it.port)))(new URL(platform.origin),platform.navigator&&/(msie|trident)/i.test(platform.navigator.userAgent)):()=>!0,cookies=platform.hasStandardBrowserEnv?{write(et,g,it,ot,ut,ct){const dt=[et+"="+encodeURIComponent(g)];utils$1.isNumber(it)&&dt.push("expires="+new Date(it).toGMTString()),utils$1.isString(ot)&&dt.push("path="+ot),utils$1.isString(ut)&&dt.push("domain="+ut),ct===!0&&dt.push("secure"),document.cookie=dt.join("; ")},read(et){const g=document.cookie.match(new RegExp("(^|;\\s*)("+et+")=([^;]*)"));return g?decodeURIComponent(g[3]):null},remove(et){this.write(et,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(et){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(et)}function combineURLs(et,g){return g?et.replace(/\/?\/$/,"")+"/"+g.replace(/^\/+/,""):et}function buildFullPath(et,g){return et&&!isAbsoluteURL(g)?combineURLs(et,g):g}const headersToObject=et=>et instanceof AxiosHeaders$1?{...et}:et;function mergeConfig(et,g){g=g||{};const it={};function ot(Tt,kt,jt,Rt){return utils$1.isPlainObject(Tt)&&utils$1.isPlainObject(kt)?utils$1.merge.call({caseless:Rt},Tt,kt):utils$1.isPlainObject(kt)?utils$1.merge({},kt):utils$1.isArray(kt)?kt.slice():kt}function ut(Tt,kt,jt,Rt){if(utils$1.isUndefined(kt)){if(!utils$1.isUndefined(Tt))return ot(void 0,Tt,jt,Rt)}else return ot(Tt,kt,jt,Rt)}function ct(Tt,kt){if(!utils$1.isUndefined(kt))return ot(void 0,kt)}function dt(Tt,kt){if(utils$1.isUndefined(kt)){if(!utils$1.isUndefined(Tt))return ot(void 0,Tt)}else return ot(void 0,kt)}function ft(Tt,kt,jt){if(jt in g)return ot(Tt,kt);if(jt in et)return ot(void 0,Tt)}const St={url:ct,method:ct,data:ct,baseURL:dt,transformRequest:dt,transformResponse:dt,paramsSerializer:dt,timeout:dt,timeoutMessage:dt,withCredentials:dt,withXSRFToken:dt,adapter:dt,responseType:dt,xsrfCookieName:dt,xsrfHeaderName:dt,onUploadProgress:dt,onDownloadProgress:dt,decompress:dt,maxContentLength:dt,maxBodyLength:dt,beforeRedirect:dt,transport:dt,httpAgent:dt,httpsAgent:dt,cancelToken:dt,socketPath:dt,responseEncoding:dt,validateStatus:ft,headers:(Tt,kt,jt)=>ut(headersToObject(Tt),headersToObject(kt),jt,!0)};return utils$1.forEach(Object.keys(Object.assign({},et,g)),function(kt){const jt=St[kt]||ut,Rt=jt(et[kt],g[kt],kt);utils$1.isUndefined(Rt)&&jt!==ft||(it[kt]=Rt)}),it}const resolveConfig=et=>{const g=mergeConfig({},et);let{data:it,withXSRFToken:ot,xsrfHeaderName:ut,xsrfCookieName:ct,headers:dt,auth:ft}=g;g.headers=dt=AxiosHeaders$1.from(dt),g.url=buildURL(buildFullPath(g.baseURL,g.url),et.params,et.paramsSerializer),ft&&dt.set("Authorization","Basic "+btoa((ft.username||"")+":"+(ft.password?unescape(encodeURIComponent(ft.password)):"")));let St;if(utils$1.isFormData(it)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)dt.setContentType(void 0);else if((St=dt.getContentType())!==!1){const[Tt,...kt]=St?St.split(";").map(jt=>jt.trim()).filter(Boolean):[];dt.setContentType([Tt||"multipart/form-data",...kt].join("; "))}}if(platform.hasStandardBrowserEnv&&(ot&&utils$1.isFunction(ot)&&(ot=ot(g)),ot||ot!==!1&&isURLSameOrigin(g.url))){const Tt=ut&&ct&&cookies.read(ct);Tt&&dt.set(ut,Tt)}return g},isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(et){return new Promise(function(it,ot){const ut=resolveConfig(et);let ct=ut.data;const dt=AxiosHeaders$1.from(ut.headers).normalize();let{responseType:ft,onUploadProgress:St,onDownloadProgress:Tt}=ut,kt,jt,Rt,$t,zt;function Ht(){$t&&$t(),zt&&zt(),ut.cancelToken&&ut.cancelToken.unsubscribe(kt),ut.signal&&ut.signal.removeEventListener("abort",kt)}let Zt=new XMLHttpRequest;Zt.open(ut.method.toUpperCase(),ut.url,!0),Zt.timeout=ut.timeout;function Bt(){if(!Zt)return;const Kt=AxiosHeaders$1.from("getAllResponseHeaders"in Zt&&Zt.getAllResponseHeaders()),Jt={data:!ft||ft==="text"||ft==="json"?Zt.responseText:Zt.response,status:Zt.status,statusText:Zt.statusText,headers:Kt,config:et,request:Zt};settle(function(tr){it(tr),Ht()},function(tr){ot(tr),Ht()},Jt),Zt=null}"onloadend"in Zt?Zt.onloadend=Bt:Zt.onreadystatechange=function(){!Zt||Zt.readyState!==4||Zt.status===0&&!(Zt.responseURL&&Zt.responseURL.indexOf("file:")===0)||setTimeout(Bt)},Zt.onabort=function(){Zt&&(ot(new AxiosError("Request aborted",AxiosError.ECONNABORTED,et,Zt)),Zt=null)},Zt.onerror=function(){ot(new AxiosError("Network Error",AxiosError.ERR_NETWORK,et,Zt)),Zt=null},Zt.ontimeout=function(){let Yt=ut.timeout?"timeout of "+ut.timeout+"ms exceeded":"timeout exceeded";const Jt=ut.transitional||transitionalDefaults;ut.timeoutErrorMessage&&(Yt=ut.timeoutErrorMessage),ot(new AxiosError(Yt,Jt.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,et,Zt)),Zt=null},ct===void 0&&dt.setContentType(null),"setRequestHeader"in Zt&&utils$1.forEach(dt.toJSON(),function(Yt,Jt){Zt.setRequestHeader(Jt,Yt)}),utils$1.isUndefined(ut.withCredentials)||(Zt.withCredentials=!!ut.withCredentials),ft&&ft!=="json"&&(Zt.responseType=ut.responseType),Tt&&([Rt,zt]=progressEventReducer(Tt,!0),Zt.addEventListener("progress",Rt)),St&&Zt.upload&&([jt,$t]=progressEventReducer(St),Zt.upload.addEventListener("progress",jt),Zt.upload.addEventListener("loadend",$t)),(ut.cancelToken||ut.signal)&&(kt=Kt=>{Zt&&(ot(!Kt||Kt.type?new CanceledError(null,et,Zt):Kt),Zt.abort(),Zt=null)},ut.cancelToken&&ut.cancelToken.subscribe(kt),ut.signal&&(ut.signal.aborted?kt():ut.signal.addEventListener("abort",kt)));const Ut=parseProtocol(ut.url);if(Ut&&platform.protocols.indexOf(Ut)===-1){ot(new AxiosError("Unsupported protocol "+Ut+":",AxiosError.ERR_BAD_REQUEST,et));return}Zt.send(ct||null)})},composeSignals=(et,g)=>{const{length:it}=et=et?et.filter(Boolean):[];if(g||it){let ot=new AbortController,ut;const ct=function(Tt){if(!ut){ut=!0,ft();const kt=Tt instanceof Error?Tt:this.reason;ot.abort(kt instanceof AxiosError?kt:new CanceledError(kt instanceof Error?kt.message:kt))}};let dt=g&&setTimeout(()=>{dt=null,ct(new AxiosError(`timeout ${g} of ms exceeded`,AxiosError.ETIMEDOUT))},g);const ft=()=>{et&&(dt&&clearTimeout(dt),dt=null,et.forEach(Tt=>{Tt.unsubscribe?Tt.unsubscribe(ct):Tt.removeEventListener("abort",ct)}),et=null)};et.forEach(Tt=>Tt.addEventListener("abort",ct));const{signal:St}=ot;return St.unsubscribe=()=>utils$1.asap(ft),St}},composeSignals$1=composeSignals,streamChunk=function*(et,g){let it=et.byteLength;if(!g||it<g){yield et;return}let ot=0,ut;for(;ot<it;)ut=ot+g,yield et.slice(ot,ut),ot=ut},readBytes=async function*(et,g){for await(const it of readStream(et))yield*streamChunk(it,g)},readStream=async function*(et){if(et[Symbol.asyncIterator]){yield*et;return}const g=et.getReader();try{for(;;){const{done:it,value:ot}=await g.read();if(it)break;yield ot}}finally{await g.cancel()}},trackStream=(et,g,it,ot)=>{const ut=readBytes(et,g);let ct=0,dt,ft=St=>{dt||(dt=!0,ot&&ot(St))};return new ReadableStream({async pull(St){try{const{done:Tt,value:kt}=await ut.next();if(Tt){ft(),St.close();return}let jt=kt.byteLength;if(it){let Rt=ct+=jt;it(Rt)}St.enqueue(new Uint8Array(kt))}catch(Tt){throw ft(Tt),Tt}},cancel(St){return ft(St),ut.return()}},{highWaterMark:2})},isFetchSupported=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",isReadableStreamSupported=isFetchSupported&&typeof ReadableStream=="function",encodeText=isFetchSupported&&(typeof TextEncoder=="function"?(et=>g=>et.encode(g))(new TextEncoder):async et=>new Uint8Array(await new Response(et).arrayBuffer())),test=(et,...g)=>{try{return!!et(...g)}catch{return!1}},supportsRequestStream=isReadableStreamSupported&&test(()=>{let et=!1;const g=new Request(platform.origin,{body:new ReadableStream,method:"POST",get duplex(){return et=!0,"half"}}).headers.has("Content-Type");return et&&!g}),DEFAULT_CHUNK_SIZE=64*1024,supportsResponseStream=isReadableStreamSupported&&test(()=>utils$1.isReadableStream(new Response("").body)),resolvers={stream:supportsResponseStream&&(et=>et.body)};isFetchSupported&&(et=>{["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!resolvers[g]&&(resolvers[g]=utils$1.isFunction(et[g])?it=>it[g]():(it,ot)=>{throw new AxiosError(`Response type '${g}' is not supported`,AxiosError.ERR_NOT_SUPPORT,ot)})})})(new Response);const getBodyLength=async et=>{if(et==null)return 0;if(utils$1.isBlob(et))return et.size;if(utils$1.isSpecCompliantForm(et))return(await new Request(platform.origin,{method:"POST",body:et}).arrayBuffer()).byteLength;if(utils$1.isArrayBufferView(et)||utils$1.isArrayBuffer(et))return et.byteLength;if(utils$1.isURLSearchParams(et)&&(et=et+""),utils$1.isString(et))return(await encodeText(et)).byteLength},resolveBodyLength=async(et,g)=>{const it=utils$1.toFiniteNumber(et.getContentLength());return it??getBodyLength(g)},fetchAdapter=isFetchSupported&&(async et=>{let{url:g,method:it,data:ot,signal:ut,cancelToken:ct,timeout:dt,onDownloadProgress:ft,onUploadProgress:St,responseType:Tt,headers:kt,withCredentials:jt="same-origin",fetchOptions:Rt}=resolveConfig(et);Tt=Tt?(Tt+"").toLowerCase():"text";let $t=composeSignals$1([ut,ct&&ct.toAbortSignal()],dt),zt;const Ht=$t&&$t.unsubscribe&&(()=>{$t.unsubscribe()});let Zt;try{if(St&&supportsRequestStream&&it!=="get"&&it!=="head"&&(Zt=await resolveBodyLength(kt,ot))!==0){let Jt=new Request(g,{method:"POST",body:ot,duplex:"half"}),er;if(utils$1.isFormData(ot)&&(er=Jt.headers.get("content-type"))&&kt.setContentType(er),Jt.body){const[tr,rr]=progressEventDecorator(Zt,progressEventReducer(asyncDecorator(St)));ot=trackStream(Jt.body,DEFAULT_CHUNK_SIZE,tr,rr)}}utils$1.isString(jt)||(jt=jt?"include":"omit");const Bt="credentials"in Request.prototype;zt=new Request(g,{...Rt,signal:$t,method:it.toUpperCase(),headers:kt.normalize().toJSON(),body:ot,duplex:"half",credentials:Bt?jt:void 0});let Ut=await fetch(zt);const Kt=supportsResponseStream&&(Tt==="stream"||Tt==="response");if(supportsResponseStream&&(ft||Kt&&Ht)){const Jt={};["status","statusText","headers"].forEach(hr=>{Jt[hr]=Ut[hr]});const er=utils$1.toFiniteNumber(Ut.headers.get("content-length")),[tr,rr]=ft&&progressEventDecorator(er,progressEventReducer(asyncDecorator(ft),!0))||[];Ut=new Response(trackStream(Ut.body,DEFAULT_CHUNK_SIZE,tr,()=>{rr&&rr(),Ht&&Ht()}),Jt)}Tt=Tt||"text";let Yt=await resolvers[utils$1.findKey(resolvers,Tt)||"text"](Ut,et);return!Kt&&Ht&&Ht(),await new Promise((Jt,er)=>{settle(Jt,er,{data:Yt,headers:AxiosHeaders$1.from(Ut.headers),status:Ut.status,statusText:Ut.statusText,config:et,request:zt})})}catch(Bt){throw Ht&&Ht(),Bt&&Bt.name==="TypeError"&&/fetch/i.test(Bt.message)?Object.assign(new AxiosError("Network Error",AxiosError.ERR_NETWORK,et,zt),{cause:Bt.cause||Bt}):AxiosError.from(Bt,Bt&&Bt.code,et,zt)}}),knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:fetchAdapter};utils$1.forEach(knownAdapters,(et,g)=>{if(et){try{Object.defineProperty(et,"name",{value:g})}catch{}Object.defineProperty(et,"adapterName",{value:g})}});const renderReason=et=>`- ${et}`,isResolvedHandle=et=>utils$1.isFunction(et)||et===null||et===!1,adapters={getAdapter:et=>{et=utils$1.isArray(et)?et:[et];const{length:g}=et;let it,ot;const ut={};for(let ct=0;ct<g;ct++){it=et[ct];let dt;if(ot=it,!isResolvedHandle(it)&&(ot=knownAdapters[(dt=String(it)).toLowerCase()],ot===void 0))throw new AxiosError(`Unknown adapter '${dt}'`);if(ot)break;ut[dt||"#"+ct]=ot}if(!ot){const ct=Object.entries(ut).map(([ft,St])=>`adapter ${ft} `+(St===!1?"is not supported by the environment":"is not available in the build"));let dt=g?ct.length>1?`since :
`+ct.map(renderReason).join(`
`):" "+renderReason(ct[0]):"as no adapter specified";throw new AxiosError("There is no suitable adapter to dispatch the request "+dt,"ERR_NOT_SUPPORT")}return ot},adapters:knownAdapters};function throwIfCancellationRequested(et){if(et.cancelToken&&et.cancelToken.throwIfRequested(),et.signal&&et.signal.aborted)throw new CanceledError(null,et)}function dispatchRequest(et){return throwIfCancellationRequested(et),et.headers=AxiosHeaders$1.from(et.headers),et.data=transformData.call(et,et.transformRequest),["post","put","patch"].indexOf(et.method)!==-1&&et.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(et.adapter||defaults$1.adapter)(et).then(function(ot){return throwIfCancellationRequested(et),ot.data=transformData.call(et,et.transformResponse,ot),ot.headers=AxiosHeaders$1.from(ot.headers),ot},function(ot){return isCancel(ot)||(throwIfCancellationRequested(et),ot&&ot.response&&(ot.response.data=transformData.call(et,et.transformResponse,ot.response),ot.response.headers=AxiosHeaders$1.from(ot.response.headers))),Promise.reject(ot)})}const VERSION="1.7.9",validators$1={};["object","boolean","number","function","string","symbol"].forEach((et,g)=>{validators$1[et]=function(ot){return typeof ot===et||"a"+(g<1?"n ":" ")+et}});const deprecatedWarnings={};validators$1.transitional=function(g,it,ot){function ut(ct,dt){return"[Axios v"+VERSION+"] Transitional option '"+ct+"'"+dt+(ot?". "+ot:"")}return(ct,dt,ft)=>{if(g===!1)throw new AxiosError(ut(dt," has been removed"+(it?" in "+it:"")),AxiosError.ERR_DEPRECATED);return it&&!deprecatedWarnings[dt]&&(deprecatedWarnings[dt]=!0,console.warn(ut(dt," has been deprecated since v"+it+" and will be removed in the near future"))),g?g(ct,dt,ft):!0}};validators$1.spelling=function(g){return(it,ot)=>(console.warn(`${ot} is likely a misspelling of ${g}`),!0)};function assertOptions(et,g,it){if(typeof et!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const ot=Object.keys(et);let ut=ot.length;for(;ut-- >0;){const ct=ot[ut],dt=g[ct];if(dt){const ft=et[ct],St=ft===void 0||dt(ft,ct,et);if(St!==!0)throw new AxiosError("option "+ct+" must be "+St,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(it!==!0)throw new AxiosError("Unknown option "+ct,AxiosError.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;class Axios{constructor(g){this.defaults=g,this.interceptors={request:new InterceptorManager$1,response:new InterceptorManager$1}}async request(g,it){try{return await this._request(g,it)}catch(ot){if(ot instanceof Error){let ut={};Error.captureStackTrace?Error.captureStackTrace(ut):ut=new Error;const ct=ut.stack?ut.stack.replace(/^.+\n/,""):"";try{ot.stack?ct&&!String(ot.stack).endsWith(ct.replace(/^.+\n.+\n/,""))&&(ot.stack+=`
`+ct):ot.stack=ct}catch{}}throw ot}}_request(g,it){typeof g=="string"?(it=it||{},it.url=g):it=g||{},it=mergeConfig(this.defaults,it);const{transitional:ot,paramsSerializer:ut,headers:ct}=it;ot!==void 0&&validator.assertOptions(ot,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),ut!=null&&(utils$1.isFunction(ut)?it.paramsSerializer={serialize:ut}:validator.assertOptions(ut,{encode:validators.function,serialize:validators.function},!0)),validator.assertOptions(it,{baseUrl:validators.spelling("baseURL"),withXsrfToken:validators.spelling("withXSRFToken")},!0),it.method=(it.method||this.defaults.method||"get").toLowerCase();let dt=ct&&utils$1.merge(ct.common,ct[it.method]);ct&&utils$1.forEach(["delete","get","head","post","put","patch","common"],zt=>{delete ct[zt]}),it.headers=AxiosHeaders$1.concat(dt,ct);const ft=[];let St=!0;this.interceptors.request.forEach(function(Ht){typeof Ht.runWhen=="function"&&Ht.runWhen(it)===!1||(St=St&&Ht.synchronous,ft.unshift(Ht.fulfilled,Ht.rejected))});const Tt=[];this.interceptors.response.forEach(function(Ht){Tt.push(Ht.fulfilled,Ht.rejected)});let kt,jt=0,Rt;if(!St){const zt=[dispatchRequest.bind(this),void 0];for(zt.unshift.apply(zt,ft),zt.push.apply(zt,Tt),Rt=zt.length,kt=Promise.resolve(it);jt<Rt;)kt=kt.then(zt[jt++],zt[jt++]);return kt}Rt=ft.length;let $t=it;for(jt=0;jt<Rt;){const zt=ft[jt++],Ht=ft[jt++];try{$t=zt($t)}catch(Zt){Ht.call(this,Zt);break}}try{kt=dispatchRequest.call(this,$t)}catch(zt){return Promise.reject(zt)}for(jt=0,Rt=Tt.length;jt<Rt;)kt=kt.then(Tt[jt++],Tt[jt++]);return kt}getUri(g){g=mergeConfig(this.defaults,g);const it=buildFullPath(g.baseURL,g.url);return buildURL(it,g.params,g.paramsSerializer)}}utils$1.forEach(["delete","get","head","options"],function(g){Axios.prototype[g]=function(it,ot){return this.request(mergeConfig(ot||{},{method:g,url:it,data:(ot||{}).data}))}});utils$1.forEach(["post","put","patch"],function(g){function it(ot){return function(ct,dt,ft){return this.request(mergeConfig(ft||{},{method:g,headers:ot?{"Content-Type":"multipart/form-data"}:{},url:ct,data:dt}))}}Axios.prototype[g]=it(),Axios.prototype[g+"Form"]=it(!0)});const Axios$1=Axios;class CancelToken{constructor(g){if(typeof g!="function")throw new TypeError("executor must be a function.");let it;this.promise=new Promise(function(ct){it=ct});const ot=this;this.promise.then(ut=>{if(!ot._listeners)return;let ct=ot._listeners.length;for(;ct-- >0;)ot._listeners[ct](ut);ot._listeners=null}),this.promise.then=ut=>{let ct;const dt=new Promise(ft=>{ot.subscribe(ft),ct=ft}).then(ut);return dt.cancel=function(){ot.unsubscribe(ct)},dt},g(function(ct,dt,ft){ot.reason||(ot.reason=new CanceledError(ct,dt,ft),it(ot.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(g){if(this.reason){g(this.reason);return}this._listeners?this._listeners.push(g):this._listeners=[g]}unsubscribe(g){if(!this._listeners)return;const it=this._listeners.indexOf(g);it!==-1&&this._listeners.splice(it,1)}toAbortSignal(){const g=new AbortController,it=ot=>{g.abort(ot)};return this.subscribe(it),g.signal.unsubscribe=()=>this.unsubscribe(it),g.signal}static source(){let g;return{token:new CancelToken(function(ut){g=ut}),cancel:g}}}const CancelToken$1=CancelToken;function spread(et){return function(it){return et.apply(null,it)}}function isAxiosError(et){return utils$1.isObject(et)&&et.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([et,g])=>{HttpStatusCode[g]=et});const HttpStatusCode$1=HttpStatusCode;function createInstance(et){const g=new Axios$1(et),it=bind(Axios$1.prototype.request,g);return utils$1.extend(it,Axios$1.prototype,g,{allOwnKeys:!0}),utils$1.extend(it,g,null,{allOwnKeys:!0}),it.create=function(ut){return createInstance(mergeConfig(et,ut))},it}const axios=createInstance(defaults$1);axios.Axios=Axios$1;axios.CanceledError=CanceledError;axios.CancelToken=CancelToken$1;axios.isCancel=isCancel;axios.VERSION=VERSION;axios.toFormData=toFormData;axios.AxiosError=AxiosError;axios.Cancel=axios.CanceledError;axios.all=function(g){return Promise.all(g)};axios.spread=spread;axios.isAxiosError=isAxiosError;axios.mergeConfig=mergeConfig;axios.AxiosHeaders=AxiosHeaders$1;axios.formToJSON=et=>formDataToJSON(utils$1.isHTMLForm(et)?new FormData(et):et);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode$1;axios.default=axios;const axios$1=axios,BASE_URL="https://cre8tlystudio.com/api",axiosInstance=axios$1.create({baseURL:BASE_URL,timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!0});axiosInstance.interceptors.request.use(et=>{const g=localStorage.getItem("accessToken");return g&&(et.headers.Authorization=`Bearer ${g}`),et});async function refreshToken(){try{const et=localStorage.getItem("refreshToken");if(!et)throw new Error("No refresh token");const g=await axios$1.post(`${BASE_URL}/auth/refresh`,{token:et}),{accessToken:it,refreshToken:ot}=g.data;return localStorage.setItem("accessToken",it),ot&&localStorage.setItem("refreshToken",ot),axiosInstance.defaults.headers.Authorization=`Bearer ${it}`,it}catch(et){throw console.error("Token refresh failed:",et),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),et}}axiosInstance.interceptors.response.use(et=>et,async et=>{var it;const g=et.config;if(((it=et.response)==null?void 0:it.status)===401&&!g._retry){g._retry=!0;try{const ot=await refreshToken();return g.headers.Authorization=`Bearer ${ot}`,axiosInstance(g)}catch(ot){return Promise.reject(ot)}}return Promise.reject(et)});function r$3(et){var g,it,ot="";if(typeof et=="string"||typeof et=="number")ot+=et;else if(typeof et=="object")if(Array.isArray(et)){var ut=et.length;for(g=0;g<ut;g++)et[g]&&(it=r$3(et[g]))&&(ot&&(ot+=" "),ot+=it)}else for(it in et)et[it]&&(ot&&(ot+=" "),ot+=it);return ot}function clsx(){for(var et,g,it=0,ot="",ut=arguments.length;it<ut;it++)(et=arguments[it])&&(g=r$3(et))&&(ot&&(ot+=" "),ot+=g);return ot}function Mt(et){if(!et||typeof document>"u")return;let g=document.head||document.getElementsByTagName("head")[0],it=document.createElement("style");it.type="text/css",g.firstChild?g.insertBefore(it,g.firstChild):g.appendChild(it),it.styleSheet?it.styleSheet.cssText=et:it.appendChild(document.createTextNode(et))}Mt(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var L$2=et=>typeof et=="number"&&!isNaN(et),N$1=et=>typeof et=="string",P$2=et=>typeof et=="function",mt=et=>N$1(et)||L$2(et),B=et=>N$1(et)||P$2(et)?et:null,pt=(et,g)=>et===!1||L$2(et)&&et>0?et:g,z=et=>reactExports.isValidElement(et)||N$1(et)||P$2(et)||L$2(et);function Z$1(et,g,it=300){let{scrollHeight:ot,style:ut}=et;requestAnimationFrame(()=>{ut.minHeight="initial",ut.height=ot+"px",ut.transition=`all ${it}ms`,requestAnimationFrame(()=>{ut.height="0",ut.padding="0",ut.margin="0",setTimeout(g,it)})})}function $$2({enter:et,exit:g,appendPosition:it=!1,collapse:ot=!0,collapseDuration:ut=300}){return function({children:ct,position:dt,preventExitTransition:ft,done:St,nodeRef:Tt,isIn:kt,playToast:jt}){let Rt=it?`${et}--${dt}`:et,$t=it?`${g}--${dt}`:g,zt=reactExports.useRef(0);return reactExports.useLayoutEffect(()=>{let Ht=Tt.current,Zt=Rt.split(" "),Bt=Ut=>{Ut.target===Tt.current&&(jt(),Ht.removeEventListener("animationend",Bt),Ht.removeEventListener("animationcancel",Bt),zt.current===0&&Ut.type!=="animationcancel"&&Ht.classList.remove(...Zt))};Ht.classList.add(...Zt),Ht.addEventListener("animationend",Bt),Ht.addEventListener("animationcancel",Bt)},[]),reactExports.useEffect(()=>{let Ht=Tt.current,Zt=()=>{Ht.removeEventListener("animationend",Zt),ot?Z$1(Ht,St,ut):St()};kt||(ft?Zt():(zt.current=1,Ht.className+=` ${$t}`,Ht.addEventListener("animationend",Zt)))},[kt]),React.createElement(React.Fragment,null,ct)}}function J$1(et,g){return{content:tt(et.content,et.props),containerId:et.props.containerId,id:et.props.toastId,theme:et.props.theme,type:et.props.type,data:et.props.data||{},isLoading:et.props.isLoading,icon:et.props.icon,reason:et.removalReason,status:g}}function tt(et,g,it=!1){return reactExports.isValidElement(et)&&!N$1(et.type)?reactExports.cloneElement(et,{closeToast:g.closeToast,toastProps:g,data:g.data,isPaused:it}):P$2(et)?et({closeToast:g.closeToast,toastProps:g,data:g.data,isPaused:it}):et}function yt$1({closeToast:et,theme:g,ariaLabel:it="close"}){return React.createElement("button",{className:`Toastify__close-button Toastify__close-button--${g}`,type:"button",onClick:ot=>{ot.stopPropagation(),et(!0)},"aria-label":it},React.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},React.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function gt({delay:et,isRunning:g,closeToast:it,type:ot="default",hide:ut,className:ct,controlledProgress:dt,progress:ft,rtl:St,isIn:Tt,theme:kt}){let jt=ut||dt&&ft===0,Rt={animationDuration:`${et}ms`,animationPlayState:g?"running":"paused"};dt&&(Rt.transform=`scaleX(${ft})`);let $t=clsx("Toastify__progress-bar",dt?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${kt}`,`Toastify__progress-bar--${ot}`,{"Toastify__progress-bar--rtl":St}),zt=P$2(ct)?ct({rtl:St,type:ot,defaultClassName:$t}):clsx($t,ct),Ht={[dt&&ft>=1?"onTransitionEnd":"onAnimationEnd"]:dt&&ft<1?null:()=>{Tt&&it()}};return React.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":jt},React.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${kt} Toastify__progress-bar--${ot}`}),React.createElement("div",{role:"progressbar","aria-hidden":jt?"true":"false","aria-label":"notification timer",className:zt,style:Rt,...Ht}))}var Xt=1,at=()=>`${Xt++}`;function _t(et,g,it){let ot=1,ut=0,ct=[],dt=[],ft=g,St=new Map,Tt=new Set,kt=Ut=>(Tt.add(Ut),()=>Tt.delete(Ut)),jt=()=>{dt=Array.from(St.values()),Tt.forEach(Ut=>Ut())},Rt=({containerId:Ut,toastId:Kt,updateId:Yt})=>{let Jt=Ut?Ut!==et:et!==1,er=St.has(Kt)&&Yt==null;return Jt||er},$t=(Ut,Kt)=>{St.forEach(Yt=>{var Jt;(Kt==null||Kt===Yt.props.toastId)&&((Jt=Yt.toggle)==null||Jt.call(Yt,Ut))})},zt=Ut=>{var Kt,Yt;(Yt=(Kt=Ut.props)==null?void 0:Kt.onClose)==null||Yt.call(Kt,Ut.removalReason),Ut.isActive=!1},Ht=Ut=>{if(Ut==null)St.forEach(zt);else{let Kt=St.get(Ut);Kt&&zt(Kt)}jt()},Zt=()=>{ut-=ct.length,ct=[]},Bt=Ut=>{var Kt,Yt;let{toastId:Jt,updateId:er}=Ut.props,tr=er==null;Ut.staleId&&St.delete(Ut.staleId),Ut.isActive=!0,St.set(Jt,Ut),jt(),it(J$1(Ut,tr?"added":"updated")),tr&&((Yt=(Kt=Ut.props).onOpen)==null||Yt.call(Kt))};return{id:et,props:ft,observe:kt,toggle:$t,removeToast:Ht,toasts:St,clearQueue:Zt,buildToast:(Ut,Kt)=>{if(Rt(Kt))return;let{toastId:Yt,updateId:Jt,data:er,staleId:tr,delay:rr}=Kt,hr=Jt==null;hr&&ut++;let ar={...ft,style:ft.toastStyle,key:ot++,...Object.fromEntries(Object.entries(Kt).filter(([cr,gr])=>gr!=null)),toastId:Yt,updateId:Jt,data:er,isIn:!1,className:B(Kt.className||ft.toastClassName),progressClassName:B(Kt.progressClassName||ft.progressClassName),autoClose:Kt.isLoading?!1:pt(Kt.autoClose,ft.autoClose),closeToast(cr){St.get(Yt).removalReason=cr,Ht(Yt)},deleteToast(){let cr=St.get(Yt);if(cr!=null){if(it(J$1(cr,"removed")),St.delete(Yt),ut--,ut<0&&(ut=0),ct.length>0){Bt(ct.shift());return}jt()}}};ar.closeButton=ft.closeButton,Kt.closeButton===!1||z(Kt.closeButton)?ar.closeButton=Kt.closeButton:Kt.closeButton===!0&&(ar.closeButton=z(ft.closeButton)?ft.closeButton:!0);let or={content:Ut,props:ar,staleId:tr};ft.limit&&ft.limit>0&&ut>ft.limit&&hr?ct.push(or):L$2(rr)?setTimeout(()=>{Bt(or)},rr):Bt(or)},setProps(Ut){ft=Ut},setToggle:(Ut,Kt)=>{let Yt=St.get(Ut);Yt&&(Yt.toggle=Kt)},isToastActive:Ut=>{var Kt;return(Kt=St.get(Ut))==null?void 0:Kt.isActive},getSnapshot:()=>dt}}var I$3=new Map,F$2=[],st=new Set,Vt=et=>st.forEach(g=>g(et)),bt=()=>I$3.size>0;function Qt(){F$2.forEach(et=>nt(et.content,et.options)),F$2=[]}var vt=(et,{containerId:g})=>{var it;return(it=I$3.get(g||1))==null?void 0:it.toasts.get(et)};function X$3(et,g){var it;if(g)return!!((it=I$3.get(g))!=null&&it.isToastActive(et));let ot=!1;return I$3.forEach(ut=>{ut.isToastActive(et)&&(ot=!0)}),ot}function ht(et){if(!bt()){F$2=F$2.filter(g=>et!=null&&g.options.toastId!==et);return}if(et==null||mt(et))I$3.forEach(g=>{g.removeToast(et)});else if(et&&("containerId"in et||"id"in et)){let g=I$3.get(et.containerId);g?g.removeToast(et.id):I$3.forEach(it=>{it.removeToast(et.id)})}}var Ct=(et={})=>{I$3.forEach(g=>{g.props.limit&&(!et.containerId||g.id===et.containerId)&&g.clearQueue()})};function nt(et,g){z(et)&&(bt()||F$2.push({content:et,options:g}),I$3.forEach(it=>{it.buildToast(et,g)}))}function xt(et){var g;(g=I$3.get(et.containerId||1))==null||g.setToggle(et.id,et.fn)}function rt(et,g){I$3.forEach(it=>{(g==null||!(g!=null&&g.containerId)||(g==null?void 0:g.containerId)===it.id)&&it.toggle(et,g==null?void 0:g.id)})}function Et(et){let g=et.containerId||1;return{subscribe(it){let ot=_t(g,et,Vt);I$3.set(g,ot);let ut=ot.observe(it);return Qt(),()=>{ut(),I$3.delete(g)}},setProps(it){var ot;(ot=I$3.get(g))==null||ot.setProps(it)},getSnapshot(){var it;return(it=I$3.get(g))==null?void 0:it.getSnapshot()}}}function Pt(et){return st.add(et),()=>{st.delete(et)}}function Wt(et){return et&&(N$1(et.toastId)||L$2(et.toastId))?et.toastId:at()}function U$3(et,g){return nt(et,g),g.toastId}function V$1(et,g){return{...g,type:g&&g.type||et,toastId:Wt(g)}}function Q(et){return(g,it)=>U$3(g,V$1(et,it))}function y$4(et,g){return U$3(et,V$1("default",g))}y$4.loading=(et,g)=>U$3(et,V$1("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...g}));function Gt(et,{pending:g,error:it,success:ot},ut){let ct;g&&(ct=N$1(g)?y$4.loading(g,ut):y$4.loading(g.render,{...ut,...g}));let dt={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},ft=(Tt,kt,jt)=>{if(kt==null){y$4.dismiss(ct);return}let Rt={type:Tt,...dt,...ut,data:jt},$t=N$1(kt)?{render:kt}:kt;return ct?y$4.update(ct,{...Rt,...$t}):y$4($t.render,{...Rt,...$t}),jt},St=P$2(et)?et():et;return St.then(Tt=>ft("success",ot,Tt)).catch(Tt=>ft("error",it,Tt)),St}y$4.promise=Gt;y$4.success=Q("success");y$4.info=Q("info");y$4.error=Q("error");y$4.warning=Q("warning");y$4.warn=y$4.warning;y$4.dark=(et,g)=>U$3(et,V$1("default",{theme:"dark",...g}));function qt(et){ht(et)}y$4.dismiss=qt;y$4.clearWaitingQueue=Ct;y$4.isActive=X$3;y$4.update=(et,g={})=>{let it=vt(et,g);if(it){let{props:ot,content:ut}=it,ct={delay:100,...ot,...g,toastId:g.toastId||et,updateId:at()};ct.toastId!==et&&(ct.staleId=et);let dt=ct.render||ut;delete ct.render,U$3(dt,ct)}};y$4.done=et=>{y$4.update(et,{progress:1})};y$4.onChange=Pt;y$4.play=et=>rt(!0,et);y$4.pause=et=>rt(!1,et);function It(et){var g;let{subscribe:it,getSnapshot:ot,setProps:ut}=reactExports.useRef(Et(et)).current;ut(et);let ct=(g=reactExports.useSyncExternalStore(it,ot,ot))==null?void 0:g.slice();function dt(ft){if(!ct)return[];let St=new Map;return et.newestOnTop&&ct.reverse(),ct.forEach(Tt=>{let{position:kt}=Tt.props;St.has(kt)||St.set(kt,[]),St.get(kt).push(Tt)}),Array.from(St,Tt=>ft(Tt[0],Tt[1]))}return{getToastToRender:dt,isToastActive:X$3,count:ct==null?void 0:ct.length}}function At(et){let[g,it]=reactExports.useState(!1),[ot,ut]=reactExports.useState(!1),ct=reactExports.useRef(null),dt=reactExports.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:ft,pauseOnHover:St,closeToast:Tt,onClick:kt,closeOnClick:jt}=et;xt({id:et.toastId,containerId:et.containerId,fn:it}),reactExports.useEffect(()=>{if(et.pauseOnFocusLoss)return Rt(),()=>{$t()}},[et.pauseOnFocusLoss]);function Rt(){document.hasFocus()||Bt(),window.addEventListener("focus",Zt),window.addEventListener("blur",Bt)}function $t(){window.removeEventListener("focus",Zt),window.removeEventListener("blur",Bt)}function zt(tr){if(et.draggable===!0||et.draggable===tr.pointerType){Ut();let rr=ct.current;dt.canCloseOnClick=!0,dt.canDrag=!0,rr.style.transition="none",et.draggableDirection==="x"?(dt.start=tr.clientX,dt.removalDistance=rr.offsetWidth*(et.draggablePercent/100)):(dt.start=tr.clientY,dt.removalDistance=rr.offsetHeight*(et.draggablePercent===80?et.draggablePercent*1.5:et.draggablePercent)/100)}}function Ht(tr){let{top:rr,bottom:hr,left:ar,right:or}=ct.current.getBoundingClientRect();tr.nativeEvent.type!=="touchend"&&et.pauseOnHover&&tr.clientX>=ar&&tr.clientX<=or&&tr.clientY>=rr&&tr.clientY<=hr?Bt():Zt()}function Zt(){it(!0)}function Bt(){it(!1)}function Ut(){dt.didMove=!1,document.addEventListener("pointermove",Yt),document.addEventListener("pointerup",Jt)}function Kt(){document.removeEventListener("pointermove",Yt),document.removeEventListener("pointerup",Jt)}function Yt(tr){let rr=ct.current;if(dt.canDrag&&rr){dt.didMove=!0,g&&Bt(),et.draggableDirection==="x"?dt.delta=tr.clientX-dt.start:dt.delta=tr.clientY-dt.start,dt.start!==tr.clientX&&(dt.canCloseOnClick=!1);let hr=et.draggableDirection==="x"?`${dt.delta}px, var(--y)`:`0, calc(${dt.delta}px + var(--y))`;rr.style.transform=`translate3d(${hr},0)`,rr.style.opacity=`${1-Math.abs(dt.delta/dt.removalDistance)}`}}function Jt(){Kt();let tr=ct.current;if(dt.canDrag&&dt.didMove&&tr){if(dt.canDrag=!1,Math.abs(dt.delta)>dt.removalDistance){ut(!0),et.closeToast(!0),et.collapseAll();return}tr.style.transition="transform 0.2s, opacity 0.2s",tr.style.removeProperty("transform"),tr.style.removeProperty("opacity")}}let er={onPointerDown:zt,onPointerUp:Ht};return ft&&St&&(er.onMouseEnter=Bt,et.stacked||(er.onMouseLeave=Zt)),jt&&(er.onClick=tr=>{kt&&kt(tr),dt.canCloseOnClick&&Tt(!0)}),{playToast:Zt,pauseToast:Bt,isRunning:g,preventExitTransition:ot,toastRef:ct,eventHandlers:er}}var Ot=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,G=({theme:et,type:g,isLoading:it,...ot})=>React.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:et==="colored"?"currentColor":`var(--toastify-icon-color-${g})`,...ot});function ao(et){return React.createElement(G,{...et},React.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function so(et){return React.createElement(G,{...et},React.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function no(et){return React.createElement(G,{...et},React.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function ro(et){return React.createElement(G,{...et},React.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function io(){return React.createElement("div",{className:"Toastify__spinner"})}var W$1={info:so,warning:ao,success:no,error:ro,spinner:io},lo=et=>et in W$1;function Nt({theme:et,type:g,isLoading:it,icon:ot}){let ut=null,ct={theme:et,type:g};return ot===!1||(P$2(ot)?ut=ot({...ct,isLoading:it}):reactExports.isValidElement(ot)?ut=reactExports.cloneElement(ot,ct):it?ut=W$1.spinner():lo(g)&&(ut=W$1[g](ct))),ut}var wt=et=>{let{isRunning:g,preventExitTransition:it,toastRef:ot,eventHandlers:ut,playToast:ct}=At(et),{closeButton:dt,children:ft,autoClose:St,onClick:Tt,type:kt,hideProgressBar:jt,closeToast:Rt,transition:$t,position:zt,className:Ht,style:Zt,progressClassName:Bt,updateId:Ut,role:Kt,progress:Yt,rtl:Jt,toastId:er,deleteToast:tr,isIn:rr,isLoading:hr,closeOnClick:ar,theme:or,ariaLabel:cr}=et,gr=clsx("Toastify__toast",`Toastify__toast-theme--${or}`,`Toastify__toast--${kt}`,{"Toastify__toast--rtl":Jt},{"Toastify__toast--close-on-click":ar}),yr=P$2(Ht)?Ht({rtl:Jt,position:zt,type:kt,defaultClassName:gr}):clsx(gr,Ht),xr=Nt(et),dr=!!Yt||!St,pr={closeToast:Rt,type:kt,theme:or},nr=null;return dt===!1||(P$2(dt)?nr=dt(pr):reactExports.isValidElement(dt)?nr=reactExports.cloneElement(dt,pr):nr=yt$1(pr)),React.createElement($t,{isIn:rr,done:tr,position:zt,preventExitTransition:it,nodeRef:ot,playToast:ct},React.createElement("div",{id:er,tabIndex:0,onClick:Tt,"data-in":rr,className:yr,...ut,style:Zt,ref:ot,...rr&&{role:Kt,"aria-label":cr}},xr!=null&&React.createElement("div",{className:clsx("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!hr})},xr),tt(ft,et,!g),nr,!et.customProgressBar&&React.createElement(gt,{...Ut&&!dr?{key:`p-${Ut}`}:{},rtl:Jt,theme:or,delay:St,isRunning:g,isIn:rr,closeToast:Rt,hide:jt,type:kt,className:Bt,controlledProgress:dr,progress:Yt||0})))},K$1=(et,g=!1)=>({enter:`Toastify--animate Toastify__${et}-enter`,exit:`Toastify--animate Toastify__${et}-exit`,appendPosition:g}),lt=$$2(K$1("bounce",!0)),_o={position:"top-right",transition:lt,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:et=>et.altKey&&et.code==="KeyT"};function Lt(et){let g={..._o,...et},it=et.stacked,[ot,ut]=reactExports.useState(!0),ct=reactExports.useRef(null),{getToastToRender:dt,isToastActive:ft,count:St}=It(g),{className:Tt,style:kt,rtl:jt,containerId:Rt,hotKeys:$t}=g;function zt(Zt){let Bt=clsx("Toastify__toast-container",`Toastify__toast-container--${Zt}`,{"Toastify__toast-container--rtl":jt});return P$2(Tt)?Tt({position:Zt,rtl:jt,defaultClassName:Bt}):clsx(Bt,B(Tt))}function Ht(){it&&(ut(!0),y$4.play())}return Ot(()=>{var Zt;if(it){let Bt=ct.current.querySelectorAll('[data-in="true"]'),Ut=12,Kt=(Zt=g.position)==null?void 0:Zt.includes("top"),Yt=0,Jt=0;Array.from(Bt).reverse().forEach((er,tr)=>{let rr=er;rr.classList.add("Toastify__toast--stacked"),tr>0&&(rr.dataset.collapsed=`${ot}`),rr.dataset.pos||(rr.dataset.pos=Kt?"top":"bot");let hr=Yt*(ot?.2:1)+(ot?0:Ut*tr);rr.style.setProperty("--y",`${Kt?hr:hr*-1}px`),rr.style.setProperty("--g",`${Ut}`),rr.style.setProperty("--s",`${1-(ot?Jt:0)}`),Yt+=rr.offsetHeight,Jt+=.025})}},[ot,St,it]),reactExports.useEffect(()=>{function Zt(Bt){var Ut;let Kt=ct.current;$t(Bt)&&((Ut=Kt.querySelector('[tabIndex="0"]'))==null||Ut.focus(),ut(!1),y$4.pause()),Bt.key==="Escape"&&(document.activeElement===Kt||Kt!=null&&Kt.contains(document.activeElement))&&(ut(!0),y$4.play())}return document.addEventListener("keydown",Zt),()=>{document.removeEventListener("keydown",Zt)}},[$t]),React.createElement("section",{ref:ct,className:"Toastify",id:Rt,onMouseEnter:()=>{it&&(ut(!1),y$4.pause())},onMouseLeave:Ht,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":g["aria-label"]},dt((Zt,Bt)=>{let Ut=Bt.length?{...kt}:{...kt,pointerEvents:"none"};return React.createElement("div",{tabIndex:-1,className:zt(Zt),"data-stacked":it,style:Ut,key:`c-${Zt}`},Bt.map(({content:Kt,props:Yt})=>React.createElement(wt,{...Yt,stacked:it,collapseAll:Ht,isIn:ft(Yt.toastId,Yt.containerId),key:`t-${Yt.key}`},Kt)))}))}const AuthContext=reactExports.createContext();function AuthProvider({children:et,navigate:g}){const[it,ot]=reactExports.useState(null),[ut,ct]=reactExports.useState(null),[dt,ft]=reactExports.useState(!0);function St(Rt,$t,zt){ot(Rt),ct($t),localStorage.setItem("user",JSON.stringify(Rt)),localStorage.setItem("accessToken",$t),zt&&localStorage.setItem("refreshToken",zt)}async function Tt(Rt,$t){try{const Ht=(await axiosInstance.post("/auth/login",{email:Rt,password:$t})).data;St(Ht.user,Ht.accessToken,Ht.refreshToken);try{const Zt=await axiosInstance.get("/auth/me",{headers:{Authorization:`Bearer ${Ht.accessToken}`}});ot(Zt.data),localStorage.setItem("user",JSON.stringify(Zt.data))}catch(Zt){console.error("Failed to fetch fresh user data after login:",Zt)}y$4.success(" Login successful!",{className:"bg-transparent !bg-transparent border-2 border-green text-white font-bold rounded-lg shadow-[0_0_15px_rgba(123,237,159,0.6)]"})}catch{y$4.error(" Login failed. Please check your credentials.",{className:"bg-red-600 text-white font-semibold rounded-lg shadow-md"})}}async function kt(){var $t,zt;const Rt=localStorage.getItem("refreshToken");if(!Rt)return null;try{const Zt=(await axiosInstance.post("/auth/refresh",{token:Rt})).data;return ct(Zt.accessToken),localStorage.setItem("accessToken",Zt.accessToken),Zt.refreshToken&&localStorage.setItem("refreshToken",Zt.refreshToken),Zt.accessToken}catch(Ht){return console.error("Refresh failed:",Ht),((($t=Ht.response)==null?void 0:$t.status)===401||((zt=Ht.response)==null?void 0:zt.status)===403)&&jt(),null}}function jt(){try{axiosInstance.post("/auth/logout")}catch{}ot(null),ct(null),localStorage.removeItem("user"),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),g("/")}return reactExports.useEffect(()=>{const Rt=setTimeout(()=>kt(),1500);return()=>clearTimeout(Rt)},[]),reactExports.useEffect(()=>{async function Rt(){try{const $t=localStorage.getItem("user"),zt=localStorage.getItem("accessToken"),Ht=localStorage.getItem("refreshToken");if($t&&ot(JSON.parse($t)),zt&&ct(zt),!zt&&Ht){const Zt=await kt();if(Zt){const Bt=await axiosInstance.get("/auth/me",{headers:{Authorization:`Bearer ${Zt}`}});ot(Bt.data),localStorage.setItem("user",JSON.stringify(Bt.data))}}}catch($t){console.error("Failed to restore user:",$t)}finally{ft(!1)}}Rt()},[]),reactExports.useEffect(()=>{const Rt=setInterval(()=>{kt()},72e4);return()=>clearInterval(Rt)},[]),jsxRuntimeExports.jsx(AuthContext.Provider,{value:{user:it,accessToken:ut,authLoading:dt,login:Tt,logout:jt,refreshAccessToken:kt},children:et})}function useAuth(){return reactExports.useContext(AuthContext)}function AuthProviderWithRouter({children:et}){const g=useNavigate();return jsxRuntimeExports.jsx(AuthProvider,{navigate:g,children:et})}const MagnetContext=reactExports.createContext();function MagnetProvider({children:et}){const{accessToken:g}=useAuth(),[it,ot]=reactExports.useState([]),[ut,ct]=reactExports.useState(!0),[dt,ft]=reactExports.useState(null),St=async()=>{if(g)try{const Tt=await axios$1.get("https://cre8tlystudio.com/api/lead-magnets",{headers:{Authorization:`Bearer ${g}`}});ot(Tt.data)}catch(Tt){console.error("Error fetching lead magnets:",Tt),ft(Tt)}finally{ct(!1)}};return reactExports.useEffect(()=>{if(!g)return;St();const Tt=setInterval(async()=>{console.log(" [MagnetContext] Polling for PDF updates...");try{const kt=await axios$1.get("https://cre8tlystudio.com/api/lead-magnets",{headers:{Authorization:`Bearer ${g}`}});ot(jt=>JSON.stringify(jt)===JSON.stringify(kt.data)?jt:kt.data)}catch(kt){console.warn("Polling error:",kt.message)}},5e3);return()=>clearInterval(Tt)},[g]),jsxRuntimeExports.jsx(MagnetContext.Provider,{value:{magnets:it,setMagnets:ot,fetchMagnets:St,loading:ut,error:dt},children:et})}function useMagnets(){return reactExports.useContext(MagnetContext)}function LoadingOverlay(){return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-70 z-50",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 border-4 border-t-transparent border-purple-500 rounded-full animate-spin"}),jsxRuntimeExports.jsx("p",{className:"text-white font-semibold",children:"Restoring your session..."})]})})}function PrivateRoute({children:et,role:g}){const{user:it,authLoading:ot}=useAuth();return ot?jsxRuntimeExports.jsx(LoadingOverlay,{}):it?g&&!(Array.isArray(g)?g:[g]).includes(it.role)?jsxRuntimeExports.jsx(Navigate,{to:"/",replace:!0}):et:jsxRuntimeExports.jsx(Navigate,{to:"/login",replace:!0})}var lottie$1={exports:{}};(function(module,exports){typeof navigator<"u"&&function(et,g){module.exports=g()}(commonjsGlobal,function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(g){_useWebWorker=!!g},getWebWorker=function(){return _useWebWorker},setLocationHref=function(g){locationHref=g},getLocationHref=function(){return locationHref};function createTag(et){return document.createElement(et)}function extendPrototype(et,g){var it,ot=et.length,ut;for(it=0;it<ot;it+=1){ut=et[it].prototype;for(var ct in ut)Object.prototype.hasOwnProperty.call(ut,ct)&&(g.prototype[ct]=ut[ct])}}function getDescriptor(et,g){return Object.getOwnPropertyDescriptor(et,g)}function createProxyFunction(et){function g(){}return g.prototype=et,g}var audioControllerFactory=function(){function et(g){this.audios=[],this.audioFactory=g,this._volume=1,this._isMuted=!1}return et.prototype={addAudio:function(it){this.audios.push(it)},pause:function(){var it,ot=this.audios.length;for(it=0;it<ot;it+=1)this.audios[it].pause()},resume:function(){var it,ot=this.audios.length;for(it=0;it<ot;it+=1)this.audios[it].resume()},setRate:function(it){var ot,ut=this.audios.length;for(ot=0;ot<ut;ot+=1)this.audios[ot].setRate(it)},createAudio:function(it){return this.audioFactory?this.audioFactory(it):window.Howl?new window.Howl({src:[it]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(it){this.audioFactory=it},setVolume:function(it){this._volume=it,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var it,ot=this.audios.length;for(it=0;it<ot;it+=1)this.audios[it].volume(this._volume*(this._isMuted?0:1))}},function(){return new et}}(),createTypedArray=function(){function et(it,ot){var ut=0,ct=[],dt;switch(it){case"int16":case"uint8c":dt=1;break;default:dt=1.1;break}for(ut=0;ut<ot;ut+=1)ct.push(dt);return ct}function g(it,ot){return it==="float32"?new Float32Array(ot):it==="int16"?new Int16Array(ot):it==="uint8c"?new Uint8ClampedArray(ot):et(it,ot)}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?g:et}();function createSizedArray(et){return Array.apply(null,{length:et})}function _typeof$6(et){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$6=function(it){return typeof it}:_typeof$6=function(it){return it&&typeof Symbol=="function"&&it.constructor===Symbol&&it!==Symbol.prototype?"symbol":typeof it},_typeof$6(et)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var et=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],g,it=et.length;for(g=0;g<it;g+=1)BMMath[et[g]]=Math[et[g]]})(),BMMath.random=Math.random,BMMath.abs=function(et){var g=_typeof$6(et);if(g==="object"&&et.length){var it=createSizedArray(et.length),ot,ut=et.length;for(ot=0;ot<ut;ot+=1)it[ot]=Math.abs(et[ot]);return it}return Math.abs(et)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(et){et.style.position="absolute",et.style.top=0,et.style.left=0,et.style.display="block",et.style.transformOrigin="0 0",et.style.webkitTransformOrigin="0 0",et.style.backfaceVisibility="visible",et.style.webkitBackfaceVisibility="visible",et.style.transformStyle="preserve-3d",et.style.webkitTransformStyle="preserve-3d",et.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(et,g,it,ot){this.type=et,this.currentTime=g,this.totalTime=it,this.direction=ot<0?-1:1}function BMCompleteEvent(et,g){this.type=et,this.direction=g<0?-1:1}function BMCompleteLoopEvent(et,g,it,ot){this.type=et,this.currentLoop=it,this.totalLoops=g,this.direction=ot<0?-1:1}function BMSegmentStartEvent(et,g,it){this.type=et,this.firstFrame=g,this.totalFrames=it}function BMDestroyEvent(et,g){this.type=et,this.target=g}function BMRenderFrameErrorEvent(et,g){this.type="renderFrameError",this.nativeError=et,this.currentTime=g}function BMConfigErrorEvent(et){this.type="configError",this.nativeError=et}var createElementID=function(){var et=0;return function(){return et+=1,idPrefix$1+"__lottie_element_"+et}}();function HSVtoRGB(et,g,it){var ot,ut,ct,dt,ft,St,Tt,kt;switch(dt=Math.floor(et*6),ft=et*6-dt,St=it*(1-g),Tt=it*(1-ft*g),kt=it*(1-(1-ft)*g),dt%6){case 0:ot=it,ut=kt,ct=St;break;case 1:ot=Tt,ut=it,ct=St;break;case 2:ot=St,ut=it,ct=kt;break;case 3:ot=St,ut=Tt,ct=it;break;case 4:ot=kt,ut=St,ct=it;break;case 5:ot=it,ut=St,ct=Tt;break}return[ot,ut,ct]}function RGBtoHSV(et,g,it){var ot=Math.max(et,g,it),ut=Math.min(et,g,it),ct=ot-ut,dt,ft=ot===0?0:ct/ot,St=ot/255;switch(ot){case ut:dt=0;break;case et:dt=g-it+ct*(g<it?6:0),dt/=6*ct;break;case g:dt=it-et+ct*2,dt/=6*ct;break;case it:dt=et-g+ct*4,dt/=6*ct;break}return[dt,ft,St]}function addSaturationToRGB(et,g){var it=RGBtoHSV(et[0]*255,et[1]*255,et[2]*255);return it[1]+=g,it[1]>1?it[1]=1:it[1]<=0&&(it[1]=0),HSVtoRGB(it[0],it[1],it[2])}function addBrightnessToRGB(et,g){var it=RGBtoHSV(et[0]*255,et[1]*255,et[2]*255);return it[2]+=g,it[2]>1?it[2]=1:it[2]<0&&(it[2]=0),HSVtoRGB(it[0],it[1],it[2])}function addHueToRGB(et,g){var it=RGBtoHSV(et[0]*255,et[1]*255,et[2]*255);return it[0]+=g/360,it[0]>1?it[0]-=1:it[0]<0&&(it[0]+=1),HSVtoRGB(it[0],it[1],it[2])}var rgbToHex=function(){var et=[],g,it;for(g=0;g<256;g+=1)it=g.toString(16),et[g]=it.length===1?"0"+it:it;return function(ot,ut,ct){return ot<0&&(ot=0),ut<0&&(ut=0),ct<0&&(ct=0),"#"+et[ot]+et[ut]+et[ct]}}(),setSubframeEnabled=function(g){subframeEnabled=!!g},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(g){expressionsPlugin=g},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(g){expressionsInterfaces=g},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(g){defaultCurveSegments=g},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(g){idPrefix$1=g};function createNS(et){return document.createElementNS(svgNS,et)}function _typeof$5(et){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$5=function(it){return typeof it}:_typeof$5=function(it){return it&&typeof Symbol=="function"&&it.constructor===Symbol&&it!==Symbol.prototype?"symbol":typeof it},_typeof$5(et)}var dataManager=function(){var et=1,g=[],it,ot,ut={onmessage:function(){},postMessage:function($t){it({data:$t})}},ct={postMessage:function($t){ut.onmessage({data:$t})}};function dt(Rt){if(window.Worker&&window.Blob&&getWebWorker()){var $t=new Blob(["var _workerSelf = self; self.onmessage = ",Rt.toString()],{type:"text/javascript"}),zt=URL.createObjectURL($t);return new Worker(zt)}return it=Rt,ut}function ft(){ot||(ot=dt(function($t){function zt(){function Zt(xr,dr){var pr,nr,ir=xr.length,mr,lr,br,Er;for(nr=0;nr<ir;nr+=1)if(pr=xr[nr],"ks"in pr&&!pr.completed){if(pr.completed=!0,pr.hasMask){var Sr=pr.masksProperties;for(lr=Sr.length,mr=0;mr<lr;mr+=1)if(Sr[mr].pt.k.i)Jt(Sr[mr].pt.k);else for(Er=Sr[mr].pt.k.length,br=0;br<Er;br+=1)Sr[mr].pt.k[br].s&&Jt(Sr[mr].pt.k[br].s[0]),Sr[mr].pt.k[br].e&&Jt(Sr[mr].pt.k[br].e[0])}pr.ty===0?(pr.layers=Kt(pr.refId,dr),Zt(pr.layers,dr)):pr.ty===4?Yt(pr.shapes):pr.ty===5&&gr(pr)}}function Bt(xr,dr){if(xr){var pr=0,nr=xr.length;for(pr=0;pr<nr;pr+=1)xr[pr].t===1&&(xr[pr].data.layers=Kt(xr[pr].data.refId,dr),Zt(xr[pr].data.layers,dr))}}function Ut(xr,dr){for(var pr=0,nr=dr.length;pr<nr;){if(dr[pr].id===xr)return dr[pr];pr+=1}return null}function Kt(xr,dr){var pr=Ut(xr,dr);return pr?pr.layers.__used?JSON.parse(JSON.stringify(pr.layers)):(pr.layers.__used=!0,pr.layers):null}function Yt(xr){var dr,pr=xr.length,nr,ir;for(dr=pr-1;dr>=0;dr-=1)if(xr[dr].ty==="sh")if(xr[dr].ks.k.i)Jt(xr[dr].ks.k);else for(ir=xr[dr].ks.k.length,nr=0;nr<ir;nr+=1)xr[dr].ks.k[nr].s&&Jt(xr[dr].ks.k[nr].s[0]),xr[dr].ks.k[nr].e&&Jt(xr[dr].ks.k[nr].e[0]);else xr[dr].ty==="gr"&&Yt(xr[dr].it)}function Jt(xr){var dr,pr=xr.i.length;for(dr=0;dr<pr;dr+=1)xr.i[dr][0]+=xr.v[dr][0],xr.i[dr][1]+=xr.v[dr][1],xr.o[dr][0]+=xr.v[dr][0],xr.o[dr][1]+=xr.v[dr][1]}function er(xr,dr){var pr=dr?dr.split("."):[100,100,100];return xr[0]>pr[0]?!0:pr[0]>xr[0]?!1:xr[1]>pr[1]?!0:pr[1]>xr[1]?!1:xr[2]>pr[2]?!0:pr[2]>xr[2]?!1:null}var tr=function(){var xr=[4,4,14];function dr(nr){var ir=nr.t.d;nr.t.d={k:[{s:ir,t:0}]}}function pr(nr){var ir,mr=nr.length;for(ir=0;ir<mr;ir+=1)nr[ir].ty===5&&dr(nr[ir])}return function(nr){if(er(xr,nr.v)&&(pr(nr.layers),nr.assets)){var ir,mr=nr.assets.length;for(ir=0;ir<mr;ir+=1)nr.assets[ir].layers&&pr(nr.assets[ir].layers)}}}(),rr=function(){var xr=[4,7,99];return function(dr){if(dr.chars&&!er(xr,dr.v)){var pr,nr=dr.chars.length;for(pr=0;pr<nr;pr+=1){var ir=dr.chars[pr];ir.data&&ir.data.shapes&&(Yt(ir.data.shapes),ir.data.ip=0,ir.data.op=99999,ir.data.st=0,ir.data.sr=1,ir.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},dr.chars[pr].t||(ir.data.shapes.push({ty:"no"}),ir.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}}(),hr=function(){var xr=[5,7,15];function dr(nr){var ir=nr.t.p;typeof ir.a=="number"&&(ir.a={a:0,k:ir.a}),typeof ir.p=="number"&&(ir.p={a:0,k:ir.p}),typeof ir.r=="number"&&(ir.r={a:0,k:ir.r})}function pr(nr){var ir,mr=nr.length;for(ir=0;ir<mr;ir+=1)nr[ir].ty===5&&dr(nr[ir])}return function(nr){if(er(xr,nr.v)&&(pr(nr.layers),nr.assets)){var ir,mr=nr.assets.length;for(ir=0;ir<mr;ir+=1)nr.assets[ir].layers&&pr(nr.assets[ir].layers)}}}(),ar=function(){var xr=[4,1,9];function dr(nr){var ir,mr=nr.length,lr,br;for(ir=0;ir<mr;ir+=1)if(nr[ir].ty==="gr")dr(nr[ir].it);else if(nr[ir].ty==="fl"||nr[ir].ty==="st")if(nr[ir].c.k&&nr[ir].c.k[0].i)for(br=nr[ir].c.k.length,lr=0;lr<br;lr+=1)nr[ir].c.k[lr].s&&(nr[ir].c.k[lr].s[0]/=255,nr[ir].c.k[lr].s[1]/=255,nr[ir].c.k[lr].s[2]/=255,nr[ir].c.k[lr].s[3]/=255),nr[ir].c.k[lr].e&&(nr[ir].c.k[lr].e[0]/=255,nr[ir].c.k[lr].e[1]/=255,nr[ir].c.k[lr].e[2]/=255,nr[ir].c.k[lr].e[3]/=255);else nr[ir].c.k[0]/=255,nr[ir].c.k[1]/=255,nr[ir].c.k[2]/=255,nr[ir].c.k[3]/=255}function pr(nr){var ir,mr=nr.length;for(ir=0;ir<mr;ir+=1)nr[ir].ty===4&&dr(nr[ir].shapes)}return function(nr){if(er(xr,nr.v)&&(pr(nr.layers),nr.assets)){var ir,mr=nr.assets.length;for(ir=0;ir<mr;ir+=1)nr.assets[ir].layers&&pr(nr.assets[ir].layers)}}}(),or=function(){var xr=[4,4,18];function dr(nr){var ir,mr=nr.length,lr,br;for(ir=mr-1;ir>=0;ir-=1)if(nr[ir].ty==="sh")if(nr[ir].ks.k.i)nr[ir].ks.k.c=nr[ir].closed;else for(br=nr[ir].ks.k.length,lr=0;lr<br;lr+=1)nr[ir].ks.k[lr].s&&(nr[ir].ks.k[lr].s[0].c=nr[ir].closed),nr[ir].ks.k[lr].e&&(nr[ir].ks.k[lr].e[0].c=nr[ir].closed);else nr[ir].ty==="gr"&&dr(nr[ir].it)}function pr(nr){var ir,mr,lr=nr.length,br,Er,Sr,_r;for(mr=0;mr<lr;mr+=1){if(ir=nr[mr],ir.hasMask){var wr=ir.masksProperties;for(Er=wr.length,br=0;br<Er;br+=1)if(wr[br].pt.k.i)wr[br].pt.k.c=wr[br].cl;else for(_r=wr[br].pt.k.length,Sr=0;Sr<_r;Sr+=1)wr[br].pt.k[Sr].s&&(wr[br].pt.k[Sr].s[0].c=wr[br].cl),wr[br].pt.k[Sr].e&&(wr[br].pt.k[Sr].e[0].c=wr[br].cl)}ir.ty===4&&dr(ir.shapes)}}return function(nr){if(er(xr,nr.v)&&(pr(nr.layers),nr.assets)){var ir,mr=nr.assets.length;for(ir=0;ir<mr;ir+=1)nr.assets[ir].layers&&pr(nr.assets[ir].layers)}}}();function cr(xr){xr.__complete||(ar(xr),tr(xr),rr(xr),hr(xr),or(xr),Zt(xr.layers,xr.assets),Bt(xr.chars,xr.assets),xr.__complete=!0)}function gr(xr){xr.t.a.length===0&&"m"in xr.t.p}var yr={};return yr.completeData=cr,yr.checkColors=ar,yr.checkChars=rr,yr.checkPathProperties=hr,yr.checkShapes=or,yr.completeLayers=Zt,yr}if(ct.dataManager||(ct.dataManager=zt()),ct.assetLoader||(ct.assetLoader=function(){function Zt(Ut){var Kt=Ut.getResponseHeader("content-type");return Kt&&Ut.responseType==="json"&&Kt.indexOf("json")!==-1||Ut.response&&_typeof$5(Ut.response)==="object"?Ut.response:Ut.response&&typeof Ut.response=="string"?JSON.parse(Ut.response):Ut.responseText?JSON.parse(Ut.responseText):null}function Bt(Ut,Kt,Yt,Jt){var er,tr=new XMLHttpRequest;try{tr.responseType="json"}catch{}tr.onreadystatechange=function(){if(tr.readyState===4)if(tr.status===200)er=Zt(tr),Yt(er);else try{er=Zt(tr),Yt(er)}catch(rr){Jt&&Jt(rr)}};try{tr.open(["G","E","T"].join(""),Ut,!0)}catch{tr.open(["G","E","T"].join(""),Kt+"/"+Ut,!0)}tr.send()}return{load:Bt}}()),$t.data.type==="loadAnimation")ct.assetLoader.load($t.data.path,$t.data.fullPath,function(Zt){ct.dataManager.completeData(Zt),ct.postMessage({id:$t.data.id,payload:Zt,status:"success"})},function(){ct.postMessage({id:$t.data.id,status:"error"})});else if($t.data.type==="complete"){var Ht=$t.data.animation;ct.dataManager.completeData(Ht),ct.postMessage({id:$t.data.id,payload:Ht,status:"success"})}else $t.data.type==="loadData"&&ct.assetLoader.load($t.data.path,$t.data.fullPath,function(Zt){ct.postMessage({id:$t.data.id,payload:Zt,status:"success"})},function(){ct.postMessage({id:$t.data.id,status:"error"})})}),ot.onmessage=function(Rt){var $t=Rt.data,zt=$t.id,Ht=g[zt];g[zt]=null,$t.status==="success"?Ht.onComplete($t.payload):Ht.onError&&Ht.onError()})}function St(Rt,$t){et+=1;var zt="processId_"+et;return g[zt]={onComplete:Rt,onError:$t},zt}function Tt(Rt,$t,zt){ft();var Ht=St($t,zt);ot.postMessage({type:"loadAnimation",path:Rt,fullPath:window.location.origin+window.location.pathname,id:Ht})}function kt(Rt,$t,zt){ft();var Ht=St($t,zt);ot.postMessage({type:"loadData",path:Rt,fullPath:window.location.origin+window.location.pathname,id:Ht})}function jt(Rt,$t,zt){ft();var Ht=St($t,zt);ot.postMessage({type:"complete",animation:Rt,id:Ht})}return{loadAnimation:Tt,loadData:kt,completeAnimation:jt}}(),ImagePreloader=function(){var et=function(){var Bt=createTag("canvas");Bt.width=1,Bt.height=1;var Ut=Bt.getContext("2d");return Ut.fillStyle="rgba(0,0,0,0)",Ut.fillRect(0,0,1,1),Bt}();function g(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function it(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function ot(Bt,Ut,Kt){var Yt="";if(Bt.e)Yt=Bt.p;else if(Ut){var Jt=Bt.p;Jt.indexOf("images/")!==-1&&(Jt=Jt.split("/")[1]),Yt=Ut+Jt}else Yt=Kt,Yt+=Bt.u?Bt.u:"",Yt+=Bt.p;return Yt}function ut(Bt){var Ut=0,Kt=setInterval((function(){var Yt=Bt.getBBox();(Yt.width||Ut>500)&&(this._imageLoaded(),clearInterval(Kt)),Ut+=1}).bind(this),50)}function ct(Bt){var Ut=ot(Bt,this.assetsPath,this.path),Kt=createNS("image");isSafari?this.testImageLoaded(Kt):Kt.addEventListener("load",this._imageLoaded,!1),Kt.addEventListener("error",(function(){Yt.img=et,this._imageLoaded()}).bind(this),!1),Kt.setAttributeNS("http://www.w3.org/1999/xlink","href",Ut),this._elementHelper.append?this._elementHelper.append(Kt):this._elementHelper.appendChild(Kt);var Yt={img:Kt,assetData:Bt};return Yt}function dt(Bt){var Ut=ot(Bt,this.assetsPath,this.path),Kt=createTag("img");Kt.crossOrigin="anonymous",Kt.addEventListener("load",this._imageLoaded,!1),Kt.addEventListener("error",(function(){Yt.img=et,this._imageLoaded()}).bind(this),!1),Kt.src=Ut;var Yt={img:Kt,assetData:Bt};return Yt}function ft(Bt){var Ut={assetData:Bt},Kt=ot(Bt,this.assetsPath,this.path);return dataManager.loadData(Kt,(function(Yt){Ut.img=Yt,this._footageLoaded()}).bind(this),(function(){Ut.img={},this._footageLoaded()}).bind(this)),Ut}function St(Bt,Ut){this.imagesLoadedCb=Ut;var Kt,Yt=Bt.length;for(Kt=0;Kt<Yt;Kt+=1)Bt[Kt].layers||(!Bt[Kt].t||Bt[Kt].t==="seq"?(this.totalImages+=1,this.images.push(this._createImageData(Bt[Kt]))):Bt[Kt].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(Bt[Kt]))))}function Tt(Bt){this.path=Bt||""}function kt(Bt){this.assetsPath=Bt||""}function jt(Bt){for(var Ut=0,Kt=this.images.length;Ut<Kt;){if(this.images[Ut].assetData===Bt)return this.images[Ut].img;Ut+=1}return null}function Rt(){this.imagesLoadedCb=null,this.images.length=0}function $t(){return this.totalImages===this.loadedAssets}function zt(){return this.totalFootages===this.loadedFootagesCount}function Ht(Bt,Ut){Bt==="svg"?(this._elementHelper=Ut,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function Zt(){this._imageLoaded=g.bind(this),this._footageLoaded=it.bind(this),this.testImageLoaded=ut.bind(this),this.createFootageData=ft.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return Zt.prototype={loadAssets:St,setAssetsPath:kt,setPath:Tt,loadedImages:$t,loadedFootages:zt,destroy:Rt,getAsset:jt,createImgData:dt,createImageData:ct,imageLoaded:g,footageLoaded:it,setCacheType:Ht},Zt}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(g,it){if(this._cbs[g])for(var ot=this._cbs[g],ut=0;ut<ot.length;ut+=1)ot[ut](it)},addEventListener:function(g,it){return this._cbs[g]||(this._cbs[g]=[]),this._cbs[g].push(it),(function(){this.removeEventListener(g,it)}).bind(this)},removeEventListener:function(g,it){if(!it)this._cbs[g]=null;else if(this._cbs[g]){for(var ot=0,ut=this._cbs[g].length;ot<ut;)this._cbs[g][ot]===it&&(this._cbs[g].splice(ot,1),ot-=1,ut-=1),ot+=1;this._cbs[g].length||(this._cbs[g]=null)}}};var markerParser=function(){function et(g){for(var it=g.split(`\r
`),ot={},ut,ct=0,dt=0;dt<it.length;dt+=1)ut=it[dt].split(":"),ut.length===2&&(ot[ut[0]]=ut[1].trim(),ct+=1);if(ct===0)throw new Error;return ot}return function(g){for(var it=[],ot=0;ot<g.length;ot+=1){var ut=g[ot],ct={time:ut.tm,duration:ut.dr};try{ct.payload=JSON.parse(g[ot].cm)}catch{try{ct.payload=et(g[ot].cm)}catch{ct.payload={name:g[ot].cm}}}it.push(ct)}return it}}(),ProjectInterface=function(){function et(g){this.compositions.push(g)}return function(){function g(it){for(var ot=0,ut=this.compositions.length;ot<ut;){if(this.compositions[ot].data&&this.compositions[ot].data.nm===it)return this.compositions[ot].prepareFrame&&this.compositions[ot].data.xt&&this.compositions[ot].prepareFrame(this.currentFrame),this.compositions[ot].compInterface;ot+=1}return null}return g.compositions=[],g.currentFrame=0,g.registerComposition=et,g}}(),renderers={},registerRenderer=function(g,it){renderers[g]=it};function getRenderer(et){return renderers[et]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var et in renderers)if(renderers[et])return et;return""}function _typeof$4(et){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$4=function(it){return typeof it}:_typeof$4=function(it){return it&&typeof Symbol=="function"&&it.constructor===Symbol&&it!==Symbol.prototype?"symbol":typeof it},_typeof$4(et)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(et){(et.wrapper||et.container)&&(this.wrapper=et.wrapper||et.container);var g="svg";et.animType?g=et.animType:et.renderer&&(g=et.renderer);var it=getRenderer(g);this.renderer=new it(this,et.rendererSettings),this.imagePreloader.setCacheType(g,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=g,et.loop===""||et.loop===null||et.loop===void 0||et.loop===!0?this.loop=!0:et.loop===!1?this.loop=!1:this.loop=parseInt(et.loop,10),this.autoplay="autoplay"in et?et.autoplay:!0,this.name=et.name?et.name:"",this.autoloadSegments=Object.prototype.hasOwnProperty.call(et,"autoloadSegments")?et.autoloadSegments:!0,this.assetsPath=et.assetsPath,this.initialSegment=et.initialSegment,et.audioFactory&&this.audioController.setAudioFactory(et.audioFactory),et.animationData?this.setupAnimation(et.animationData):et.path&&(et.path.lastIndexOf("\\")!==-1?this.path=et.path.substr(0,et.path.lastIndexOf("\\")+1):this.path=et.path.substr(0,et.path.lastIndexOf("/")+1),this.fileName=et.path.substr(et.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(et.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(et){dataManager.completeAnimation(et,this.configAnimation)},AnimationItem.prototype.setData=function(et,g){g&&_typeof$4(g)!=="object"&&(g=JSON.parse(g));var it={wrapper:et,animationData:g},ot=et.attributes;it.path=ot.getNamedItem("data-animation-path")?ot.getNamedItem("data-animation-path").value:ot.getNamedItem("data-bm-path")?ot.getNamedItem("data-bm-path").value:ot.getNamedItem("bm-path")?ot.getNamedItem("bm-path").value:"",it.animType=ot.getNamedItem("data-anim-type")?ot.getNamedItem("data-anim-type").value:ot.getNamedItem("data-bm-type")?ot.getNamedItem("data-bm-type").value:ot.getNamedItem("bm-type")?ot.getNamedItem("bm-type").value:ot.getNamedItem("data-bm-renderer")?ot.getNamedItem("data-bm-renderer").value:ot.getNamedItem("bm-renderer")?ot.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var ut=ot.getNamedItem("data-anim-loop")?ot.getNamedItem("data-anim-loop").value:ot.getNamedItem("data-bm-loop")?ot.getNamedItem("data-bm-loop").value:ot.getNamedItem("bm-loop")?ot.getNamedItem("bm-loop").value:"";ut==="false"?it.loop=!1:ut==="true"?it.loop=!0:ut!==""&&(it.loop=parseInt(ut,10));var ct=ot.getNamedItem("data-anim-autoplay")?ot.getNamedItem("data-anim-autoplay").value:ot.getNamedItem("data-bm-autoplay")?ot.getNamedItem("data-bm-autoplay").value:ot.getNamedItem("bm-autoplay")?ot.getNamedItem("bm-autoplay").value:!0;it.autoplay=ct!=="false",it.name=ot.getNamedItem("data-name")?ot.getNamedItem("data-name").value:ot.getNamedItem("data-bm-name")?ot.getNamedItem("data-bm-name").value:ot.getNamedItem("bm-name")?ot.getNamedItem("bm-name").value:"";var dt=ot.getNamedItem("data-anim-prerender")?ot.getNamedItem("data-anim-prerender").value:ot.getNamedItem("data-bm-prerender")?ot.getNamedItem("data-bm-prerender").value:ot.getNamedItem("bm-prerender")?ot.getNamedItem("bm-prerender").value:"";dt==="false"&&(it.prerender=!1),it.path?this.setParams(it):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(et){et.op>this.animationData.op&&(this.animationData.op=et.op,this.totalFrames=Math.floor(et.op-this.animationData.ip));var g=this.animationData.layers,it,ot=g.length,ut=et.layers,ct,dt=ut.length;for(ct=0;ct<dt;ct+=1)for(it=0;it<ot;){if(g[it].id===ut[ct].id){g[it]=ut[ct];break}it+=1}if((et.chars||et.fonts)&&(this.renderer.globalData.fontManager.addChars(et.chars),this.renderer.globalData.fontManager.addFonts(et.fonts,this.renderer.globalData.defs)),et.assets)for(ot=et.assets.length,it=0;it<ot;it+=1)this.animationData.assets.push(et.assets[it]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(et){this.animationData=et;var g=getExpressionsPlugin();g&&g.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var et=this.animationData.segments;if(!et||et.length===0||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var g=et.shift();this.timeCompleted=g.time*this.frameRate;var it=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(it,this.includeLayers.bind(this),(function(){this.trigger("data_failed")}).bind(this))},AnimationItem.prototype.loadSegments=function(){var et=this.animationData.segments;et||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(et){if(this.renderer)try{this.animationData=et,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(et),et.assets||(et.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(et.assets),this.markers=markerParser(et.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(g){this.triggerConfigError(g)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var et=getExpressionsPlugin();et&&et.initExpressions(this),this.renderer.initItems(),setTimeout((function(){this.trigger("DOMLoaded")}).bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(et,g){var it=typeof et=="number"?et:void 0,ot=typeof g=="number"?g:void 0;this.renderer.updateContainerSize(it,ot)},AnimationItem.prototype.setSubframe=function(et){this.isSubframeEnabled=!!et},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!(this.isLoaded===!1||!this.renderer))try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(et){this.triggerRenderFrameError(et)}},AnimationItem.prototype.play=function(et){et&&this.name!==et||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(et){et&&this.name!==et||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(et){et&&this.name!==et||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(et){et&&this.name!==et||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(et){for(var g,it=0;it<this.markers.length;it+=1)if(g=this.markers[it],g.payload&&g.payload.name===et)return g;return null},AnimationItem.prototype.goToAndStop=function(et,g,it){if(!(it&&this.name!==it)){var ot=Number(et);if(isNaN(ot)){var ut=this.getMarkerData(et);ut&&this.goToAndStop(ut.time,!0)}else g?this.setCurrentRawFrameValue(et):this.setCurrentRawFrameValue(et*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(et,g,it){if(!(it&&this.name!==it)){var ot=Number(et);if(isNaN(ot)){var ut=this.getMarkerData(et);ut&&(ut.duration?this.playSegments([ut.time,ut.time+ut.duration],!0):this.goToAndStop(ut.time,!0))}else this.goToAndStop(ot,g,it);this.play()}},AnimationItem.prototype.advanceTime=function(et){if(!(this.isPaused===!0||this.isLoaded===!1)){var g=this.currentRawFrame+et*this.frameModifier,it=!1;g>=this.totalFrames-1&&this.frameModifier>0?!this.loop||this.playCount===this.loop?this.checkSegments(g>this.totalFrames?g%this.totalFrames:0)||(it=!0,g=this.totalFrames-1):g>=this.totalFrames?(this.playCount+=1,this.checkSegments(g%this.totalFrames)||(this.setCurrentRawFrameValue(g%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(g):g<0?this.checkSegments(g%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&this.loop!==!0)?(this.setCurrentRawFrameValue(this.totalFrames+g%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(it=!0,g=0)):this.setCurrentRawFrameValue(g),it&&(this.setCurrentRawFrameValue(g),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(et,g){this.playCount=0,et[1]<et[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=et[0]-et[1],this.timeCompleted=this.totalFrames,this.firstFrame=et[1],this.setCurrentRawFrameValue(this.totalFrames-.001-g)):et[1]>et[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=et[1]-et[0],this.timeCompleted=this.totalFrames,this.firstFrame=et[0],this.setCurrentRawFrameValue(.001+g)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(et,g){var it=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<et?it=et:this.currentRawFrame+this.firstFrame>g&&(it=g-et)),this.firstFrame=et,this.totalFrames=g-et,this.timeCompleted=this.totalFrames,it!==-1&&this.goToAndStop(it,!0)},AnimationItem.prototype.playSegments=function(et,g){if(g&&(this.segments.length=0),_typeof$4(et[0])==="object"){var it,ot=et.length;for(it=0;it<ot;it+=1)this.segments.push(et[it])}else this.segments.push(et);this.segments.length&&g&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(et){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),et&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(et){return this.segments.length?(this.adjustSegment(this.segments.shift(),et),!0):!1},AnimationItem.prototype.destroy=function(et){et&&this.name!==et||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(et){this.currentRawFrame=et,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(et){this.playSpeed=et,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(et){this.playDirection=et<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(et){this.loop=et},AnimationItem.prototype.setVolume=function(et,g){g&&this.name!==g||this.audioController.setVolume(et)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(et){et&&this.name!==et||this.audioController.mute()},AnimationItem.prototype.unmute=function(et){et&&this.name!==et||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(et){var g="";if(et.e)g=et.p;else if(this.assetsPath){var it=et.p;it.indexOf("images/")!==-1&&(it=it.split("/")[1]),g=this.assetsPath+it}else g=this.path,g+=et.u?et.u:"",g+=et.p;return g},AnimationItem.prototype.getAssetData=function(et){for(var g=0,it=this.assets.length;g<it;){if(et===this.assets[g].id)return this.assets[g];g+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(et){return et?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(et,g,it){try{var ot=this.renderer.getElementByPath(et);ot.updateDocumentData(g,it)}catch{}},AnimationItem.prototype.trigger=function(et){if(this._cbs&&this._cbs[et])switch(et){case"enterFrame":this.triggerEvent(et,new BMEnterFrameEvent(et,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(et,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(et,new BMCompleteLoopEvent(et,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(et,new BMCompleteEvent(et,this.frameMult));break;case"segmentStart":this.triggerEvent(et,new BMSegmentStartEvent(et,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(et,new BMDestroyEvent(et,this));break;default:this.triggerEvent(et)}et==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(et,this.currentFrame,this.totalFrames,this.frameMult)),et==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(et,this.loop,this.playCount,this.frameMult)),et==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(et,this.frameMult)),et==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(et,this.firstFrame,this.totalFrames)),et==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(et,this))},AnimationItem.prototype.triggerRenderFrameError=function(et){var g=new BMRenderFrameErrorEvent(et,this.currentFrame);this.triggerEvent("error",g),this.onError&&this.onError.call(this,g)},AnimationItem.prototype.triggerConfigError=function(et){var g=new BMConfigErrorEvent(et,this.currentFrame);this.triggerEvent("error",g),this.onError&&this.onError.call(this,g)};var animationManager=function(){var et={},g=[],it=0,ot=0,ut=0,ct=!0,dt=!1;function ft(dr){for(var pr=0,nr=dr.target;pr<ot;)g[pr].animation===nr&&(g.splice(pr,1),pr-=1,ot-=1,nr.isPaused||jt()),pr+=1}function St(dr,pr){if(!dr)return null;for(var nr=0;nr<ot;){if(g[nr].elem===dr&&g[nr].elem!==null)return g[nr].animation;nr+=1}var ir=new AnimationItem;return Rt(ir,dr),ir.setData(dr,pr),ir}function Tt(){var dr,pr=g.length,nr=[];for(dr=0;dr<pr;dr+=1)nr.push(g[dr].animation);return nr}function kt(){ut+=1,ar()}function jt(){ut-=1}function Rt(dr,pr){dr.addEventListener("destroy",ft),dr.addEventListener("_active",kt),dr.addEventListener("_idle",jt),g.push({elem:pr,animation:dr}),ot+=1}function $t(dr){var pr=new AnimationItem;return Rt(pr,null),pr.setParams(dr),pr}function zt(dr,pr){var nr;for(nr=0;nr<ot;nr+=1)g[nr].animation.setSpeed(dr,pr)}function Ht(dr,pr){var nr;for(nr=0;nr<ot;nr+=1)g[nr].animation.setDirection(dr,pr)}function Zt(dr){var pr;for(pr=0;pr<ot;pr+=1)g[pr].animation.play(dr)}function Bt(dr){var pr=dr-it,nr;for(nr=0;nr<ot;nr+=1)g[nr].animation.advanceTime(pr);it=dr,ut&&!dt?window.requestAnimationFrame(Bt):ct=!0}function Ut(dr){it=dr,window.requestAnimationFrame(Bt)}function Kt(dr){var pr;for(pr=0;pr<ot;pr+=1)g[pr].animation.pause(dr)}function Yt(dr,pr,nr){var ir;for(ir=0;ir<ot;ir+=1)g[ir].animation.goToAndStop(dr,pr,nr)}function Jt(dr){var pr;for(pr=0;pr<ot;pr+=1)g[pr].animation.stop(dr)}function er(dr){var pr;for(pr=0;pr<ot;pr+=1)g[pr].animation.togglePause(dr)}function tr(dr){var pr;for(pr=ot-1;pr>=0;pr-=1)g[pr].animation.destroy(dr)}function rr(dr,pr,nr){var ir=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),mr,lr=ir.length;for(mr=0;mr<lr;mr+=1)nr&&ir[mr].setAttribute("data-bm-type",nr),St(ir[mr],dr);if(pr&&lr===0){nr||(nr="svg");var br=document.getElementsByTagName("body")[0];br.innerText="";var Er=createTag("div");Er.style.width="100%",Er.style.height="100%",Er.setAttribute("data-bm-type",nr),br.appendChild(Er),St(Er,dr)}}function hr(){var dr;for(dr=0;dr<ot;dr+=1)g[dr].animation.resize()}function ar(){!dt&&ut&&ct&&(window.requestAnimationFrame(Ut),ct=!1)}function or(){dt=!0}function cr(){dt=!1,ar()}function gr(dr,pr){var nr;for(nr=0;nr<ot;nr+=1)g[nr].animation.setVolume(dr,pr)}function yr(dr){var pr;for(pr=0;pr<ot;pr+=1)g[pr].animation.mute(dr)}function xr(dr){var pr;for(pr=0;pr<ot;pr+=1)g[pr].animation.unmute(dr)}return et.registerAnimation=St,et.loadAnimation=$t,et.setSpeed=zt,et.setDirection=Ht,et.play=Zt,et.pause=Kt,et.stop=Jt,et.togglePause=er,et.searchAnimations=rr,et.resize=hr,et.goToAndStop=Yt,et.destroy=tr,et.freeze=or,et.unfreeze=cr,et.setVolume=gr,et.mute=yr,et.unmute=xr,et.getRegisteredAnimations=Tt,et}(),BezierFactory=function(){var et={};et.getBezierEasing=it;var g={};function it(Ut,Kt,Yt,Jt,er){var tr=er||("bez_"+Ut+"_"+Kt+"_"+Yt+"_"+Jt).replace(/\./g,"p");if(g[tr])return g[tr];var rr=new Bt([Ut,Kt,Yt,Jt]);return g[tr]=rr,rr}var ot=4,ut=.001,ct=1e-7,dt=10,ft=11,St=1/(ft-1),Tt=typeof Float32Array=="function";function kt(Ut,Kt){return 1-3*Kt+3*Ut}function jt(Ut,Kt){return 3*Kt-6*Ut}function Rt(Ut){return 3*Ut}function $t(Ut,Kt,Yt){return((kt(Kt,Yt)*Ut+jt(Kt,Yt))*Ut+Rt(Kt))*Ut}function zt(Ut,Kt,Yt){return 3*kt(Kt,Yt)*Ut*Ut+2*jt(Kt,Yt)*Ut+Rt(Kt)}function Ht(Ut,Kt,Yt,Jt,er){var tr,rr,hr=0;do rr=Kt+(Yt-Kt)/2,tr=$t(rr,Jt,er)-Ut,tr>0?Yt=rr:Kt=rr;while(Math.abs(tr)>ct&&++hr<dt);return rr}function Zt(Ut,Kt,Yt,Jt){for(var er=0;er<ot;++er){var tr=zt(Kt,Yt,Jt);if(tr===0)return Kt;var rr=$t(Kt,Yt,Jt)-Ut;Kt-=rr/tr}return Kt}function Bt(Ut){this._p=Ut,this._mSampleValues=Tt?new Float32Array(ft):new Array(ft),this._precomputed=!1,this.get=this.get.bind(this)}return Bt.prototype={get:function(Kt){var Yt=this._p[0],Jt=this._p[1],er=this._p[2],tr=this._p[3];return this._precomputed||this._precompute(),Yt===Jt&&er===tr?Kt:Kt===0?0:Kt===1?1:$t(this._getTForX(Kt),Jt,tr)},_precompute:function(){var Kt=this._p[0],Yt=this._p[1],Jt=this._p[2],er=this._p[3];this._precomputed=!0,(Kt!==Yt||Jt!==er)&&this._calcSampleValues()},_calcSampleValues:function(){for(var Kt=this._p[0],Yt=this._p[2],Jt=0;Jt<ft;++Jt)this._mSampleValues[Jt]=$t(Jt*St,Kt,Yt)},_getTForX:function(Kt){for(var Yt=this._p[0],Jt=this._p[2],er=this._mSampleValues,tr=0,rr=1,hr=ft-1;rr!==hr&&er[rr]<=Kt;++rr)tr+=St;--rr;var ar=(Kt-er[rr])/(er[rr+1]-er[rr]),or=tr+ar*St,cr=zt(or,Yt,Jt);return cr>=ut?Zt(Kt,or,Yt,Jt):cr===0?or:Ht(Kt,tr,tr+St,Yt,Jt)}},et}(),pooling=function(){function et(g){return g.concat(createSizedArray(g.length))}return{double:et}}(),poolFactory=function(){return function(et,g,it){var ot=0,ut=et,ct=createSizedArray(ut),dt={newElement:ft,release:St};function ft(){var Tt;return ot?(ot-=1,Tt=ct[ot]):Tt=g(),Tt}function St(Tt){ot===ut&&(ct=pooling.double(ct),ut*=2),it&&it(Tt),ct[ot]=Tt,ot+=1}return dt}}(),bezierLengthPool=function(){function et(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}return poolFactory(8,et)}(),segmentsLengthPool=function(){function et(){return{lengths:[],totalLength:0}}function g(it){var ot,ut=it.lengths.length;for(ot=0;ot<ut;ot+=1)bezierLengthPool.release(it.lengths[ot]);it.lengths.length=0}return poolFactory(8,et,g)}();function bezFunction(){var et=Math;function g(Rt,$t,zt,Ht,Zt,Bt){var Ut=Rt*Ht+$t*Zt+zt*Bt-Zt*Ht-Bt*Rt-zt*$t;return Ut>-.001&&Ut<.001}function it(Rt,$t,zt,Ht,Zt,Bt,Ut,Kt,Yt){if(zt===0&&Bt===0&&Yt===0)return g(Rt,$t,Ht,Zt,Ut,Kt);var Jt=et.sqrt(et.pow(Ht-Rt,2)+et.pow(Zt-$t,2)+et.pow(Bt-zt,2)),er=et.sqrt(et.pow(Ut-Rt,2)+et.pow(Kt-$t,2)+et.pow(Yt-zt,2)),tr=et.sqrt(et.pow(Ut-Ht,2)+et.pow(Kt-Zt,2)+et.pow(Yt-Bt,2)),rr;return Jt>er?Jt>tr?rr=Jt-er-tr:rr=tr-er-Jt:tr>er?rr=tr-er-Jt:rr=er-Jt-tr,rr>-1e-4&&rr<1e-4}var ot=function(){return function(Rt,$t,zt,Ht){var Zt=getDefaultCurveSegments(),Bt,Ut,Kt,Yt,Jt,er=0,tr,rr=[],hr=[],ar=bezierLengthPool.newElement();for(Kt=zt.length,Bt=0;Bt<Zt;Bt+=1){for(Jt=Bt/(Zt-1),tr=0,Ut=0;Ut<Kt;Ut+=1)Yt=bmPow(1-Jt,3)*Rt[Ut]+3*bmPow(1-Jt,2)*Jt*zt[Ut]+3*(1-Jt)*bmPow(Jt,2)*Ht[Ut]+bmPow(Jt,3)*$t[Ut],rr[Ut]=Yt,hr[Ut]!==null&&(tr+=bmPow(rr[Ut]-hr[Ut],2)),hr[Ut]=rr[Ut];tr&&(tr=bmSqrt(tr),er+=tr),ar.percents[Bt]=Jt,ar.lengths[Bt]=er}return ar.addedLength=er,ar}}();function ut(Rt){var $t=segmentsLengthPool.newElement(),zt=Rt.c,Ht=Rt.v,Zt=Rt.o,Bt=Rt.i,Ut,Kt=Rt._length,Yt=$t.lengths,Jt=0;for(Ut=0;Ut<Kt-1;Ut+=1)Yt[Ut]=ot(Ht[Ut],Ht[Ut+1],Zt[Ut],Bt[Ut+1]),Jt+=Yt[Ut].addedLength;return zt&&Kt&&(Yt[Ut]=ot(Ht[Ut],Ht[0],Zt[Ut],Bt[0]),Jt+=Yt[Ut].addedLength),$t.totalLength=Jt,$t}function ct(Rt){this.segmentLength=0,this.points=new Array(Rt)}function dt(Rt,$t){this.partialLength=Rt,this.point=$t}var ft=function(){var Rt={};return function($t,zt,Ht,Zt){var Bt=($t[0]+"_"+$t[1]+"_"+zt[0]+"_"+zt[1]+"_"+Ht[0]+"_"+Ht[1]+"_"+Zt[0]+"_"+Zt[1]).replace(/\./g,"p");if(!Rt[Bt]){var Ut=getDefaultCurveSegments(),Kt,Yt,Jt,er,tr,rr=0,hr,ar,or=null;$t.length===2&&($t[0]!==zt[0]||$t[1]!==zt[1])&&g($t[0],$t[1],zt[0],zt[1],$t[0]+Ht[0],$t[1]+Ht[1])&&g($t[0],$t[1],zt[0],zt[1],zt[0]+Zt[0],zt[1]+Zt[1])&&(Ut=2);var cr=new ct(Ut);for(Jt=Ht.length,Kt=0;Kt<Ut;Kt+=1){for(ar=createSizedArray(Jt),tr=Kt/(Ut-1),hr=0,Yt=0;Yt<Jt;Yt+=1)er=bmPow(1-tr,3)*$t[Yt]+3*bmPow(1-tr,2)*tr*($t[Yt]+Ht[Yt])+3*(1-tr)*bmPow(tr,2)*(zt[Yt]+Zt[Yt])+bmPow(tr,3)*zt[Yt],ar[Yt]=er,or!==null&&(hr+=bmPow(ar[Yt]-or[Yt],2));hr=bmSqrt(hr),rr+=hr,cr.points[Kt]=new dt(hr,ar),or=ar}cr.segmentLength=rr,Rt[Bt]=cr}return Rt[Bt]}}();function St(Rt,$t){var zt=$t.percents,Ht=$t.lengths,Zt=zt.length,Bt=bmFloor((Zt-1)*Rt),Ut=Rt*$t.addedLength,Kt=0;if(Bt===Zt-1||Bt===0||Ut===Ht[Bt])return zt[Bt];for(var Yt=Ht[Bt]>Ut?-1:1,Jt=!0;Jt;)if(Ht[Bt]<=Ut&&Ht[Bt+1]>Ut?(Kt=(Ut-Ht[Bt])/(Ht[Bt+1]-Ht[Bt]),Jt=!1):Bt+=Yt,Bt<0||Bt>=Zt-1){if(Bt===Zt-1)return zt[Bt];Jt=!1}return zt[Bt]+(zt[Bt+1]-zt[Bt])*Kt}function Tt(Rt,$t,zt,Ht,Zt,Bt){var Ut=St(Zt,Bt),Kt=1-Ut,Yt=et.round((Kt*Kt*Kt*Rt[0]+(Ut*Kt*Kt+Kt*Ut*Kt+Kt*Kt*Ut)*zt[0]+(Ut*Ut*Kt+Kt*Ut*Ut+Ut*Kt*Ut)*Ht[0]+Ut*Ut*Ut*$t[0])*1e3)/1e3,Jt=et.round((Kt*Kt*Kt*Rt[1]+(Ut*Kt*Kt+Kt*Ut*Kt+Kt*Kt*Ut)*zt[1]+(Ut*Ut*Kt+Kt*Ut*Ut+Ut*Kt*Ut)*Ht[1]+Ut*Ut*Ut*$t[1])*1e3)/1e3;return[Yt,Jt]}var kt=createTypedArray("float32",8);function jt(Rt,$t,zt,Ht,Zt,Bt,Ut){Zt<0?Zt=0:Zt>1&&(Zt=1);var Kt=St(Zt,Ut);Bt=Bt>1?1:Bt;var Yt=St(Bt,Ut),Jt,er=Rt.length,tr=1-Kt,rr=1-Yt,hr=tr*tr*tr,ar=Kt*tr*tr*3,or=Kt*Kt*tr*3,cr=Kt*Kt*Kt,gr=tr*tr*rr,yr=Kt*tr*rr+tr*Kt*rr+tr*tr*Yt,xr=Kt*Kt*rr+tr*Kt*Yt+Kt*tr*Yt,dr=Kt*Kt*Yt,pr=tr*rr*rr,nr=Kt*rr*rr+tr*Yt*rr+tr*rr*Yt,ir=Kt*Yt*rr+tr*Yt*Yt+Kt*rr*Yt,mr=Kt*Yt*Yt,lr=rr*rr*rr,br=Yt*rr*rr+rr*Yt*rr+rr*rr*Yt,Er=Yt*Yt*rr+rr*Yt*Yt+Yt*rr*Yt,Sr=Yt*Yt*Yt;for(Jt=0;Jt<er;Jt+=1)kt[Jt*4]=et.round((hr*Rt[Jt]+ar*zt[Jt]+or*Ht[Jt]+cr*$t[Jt])*1e3)/1e3,kt[Jt*4+1]=et.round((gr*Rt[Jt]+yr*zt[Jt]+xr*Ht[Jt]+dr*$t[Jt])*1e3)/1e3,kt[Jt*4+2]=et.round((pr*Rt[Jt]+nr*zt[Jt]+ir*Ht[Jt]+mr*$t[Jt])*1e3)/1e3,kt[Jt*4+3]=et.round((lr*Rt[Jt]+br*zt[Jt]+Er*Ht[Jt]+Sr*$t[Jt])*1e3)/1e3;return kt}return{getSegmentsLength:ut,getNewSegment:jt,getPointInSegment:Tt,buildBezierData:ft,pointOnLine2D:g,pointOnLine3D:it}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(et,g){var it=this.offsetTime,ot;this.propType==="multidimensional"&&(ot=createTypedArray("float32",this.pv.length));for(var ut=g.lastIndex,ct=ut,dt=this.keyframes.length-1,ft=!0,St,Tt,kt;ft;){if(St=this.keyframes[ct],Tt=this.keyframes[ct+1],ct===dt-1&&et>=Tt.t-it){St.h&&(St=Tt),ut=0;break}if(Tt.t-it>et){ut=ct;break}ct<dt-1?ct+=1:(ut=0,ft=!1)}kt=this.keyframesMetadata[ct]||{};var jt,Rt,$t,zt,Ht,Zt,Bt=Tt.t-it,Ut=St.t-it,Kt;if(St.to){kt.bezierData||(kt.bezierData=bez.buildBezierData(St.s,Tt.s||St.e,St.to,St.ti));var Yt=kt.bezierData;if(et>=Bt||et<Ut){var Jt=et>=Bt?Yt.points.length-1:0;for(Rt=Yt.points[Jt].point.length,jt=0;jt<Rt;jt+=1)ot[jt]=Yt.points[Jt].point[jt]}else{kt.__fnct?Zt=kt.__fnct:(Zt=BezierFactory.getBezierEasing(St.o.x,St.o.y,St.i.x,St.i.y,St.n).get,kt.__fnct=Zt),$t=Zt((et-Ut)/(Bt-Ut));var er=Yt.segmentLength*$t,tr,rr=g.lastFrame<et&&g._lastKeyframeIndex===ct?g._lastAddedLength:0;for(Ht=g.lastFrame<et&&g._lastKeyframeIndex===ct?g._lastPoint:0,ft=!0,zt=Yt.points.length;ft;){if(rr+=Yt.points[Ht].partialLength,er===0||$t===0||Ht===Yt.points.length-1){for(Rt=Yt.points[Ht].point.length,jt=0;jt<Rt;jt+=1)ot[jt]=Yt.points[Ht].point[jt];break}else if(er>=rr&&er<rr+Yt.points[Ht+1].partialLength){for(tr=(er-rr)/Yt.points[Ht+1].partialLength,Rt=Yt.points[Ht].point.length,jt=0;jt<Rt;jt+=1)ot[jt]=Yt.points[Ht].point[jt]+(Yt.points[Ht+1].point[jt]-Yt.points[Ht].point[jt])*tr;break}Ht<zt-1?Ht+=1:ft=!1}g._lastPoint=Ht,g._lastAddedLength=rr-Yt.points[Ht].partialLength,g._lastKeyframeIndex=ct}}else{var hr,ar,or,cr,gr;if(dt=St.s.length,Kt=Tt.s||St.e,this.sh&&St.h!==1)if(et>=Bt)ot[0]=Kt[0],ot[1]=Kt[1],ot[2]=Kt[2];else if(et<=Ut)ot[0]=St.s[0],ot[1]=St.s[1],ot[2]=St.s[2];else{var yr=createQuaternion(St.s),xr=createQuaternion(Kt),dr=(et-Ut)/(Bt-Ut);quaternionToEuler(ot,slerp(yr,xr,dr))}else for(ct=0;ct<dt;ct+=1)St.h!==1&&(et>=Bt?$t=1:et<Ut?$t=0:(St.o.x.constructor===Array?(kt.__fnct||(kt.__fnct=[]),kt.__fnct[ct]?Zt=kt.__fnct[ct]:(hr=St.o.x[ct]===void 0?St.o.x[0]:St.o.x[ct],ar=St.o.y[ct]===void 0?St.o.y[0]:St.o.y[ct],or=St.i.x[ct]===void 0?St.i.x[0]:St.i.x[ct],cr=St.i.y[ct]===void 0?St.i.y[0]:St.i.y[ct],Zt=BezierFactory.getBezierEasing(hr,ar,or,cr).get,kt.__fnct[ct]=Zt)):kt.__fnct?Zt=kt.__fnct:(hr=St.o.x,ar=St.o.y,or=St.i.x,cr=St.i.y,Zt=BezierFactory.getBezierEasing(hr,ar,or,cr).get,St.keyframeMetadata=Zt),$t=Zt((et-Ut)/(Bt-Ut)))),Kt=Tt.s||St.e,gr=St.h===1?St.s[ct]:St.s[ct]+(Kt[ct]-St.s[ct])*$t,this.propType==="multidimensional"?ot[ct]=gr:ot=gr}return g.lastIndex=ut,ot}function slerp(et,g,it){var ot=[],ut=et[0],ct=et[1],dt=et[2],ft=et[3],St=g[0],Tt=g[1],kt=g[2],jt=g[3],Rt,$t,zt,Ht,Zt;return $t=ut*St+ct*Tt+dt*kt+ft*jt,$t<0&&($t=-$t,St=-St,Tt=-Tt,kt=-kt,jt=-jt),1-$t>1e-6?(Rt=Math.acos($t),zt=Math.sin(Rt),Ht=Math.sin((1-it)*Rt)/zt,Zt=Math.sin(it*Rt)/zt):(Ht=1-it,Zt=it),ot[0]=Ht*ut+Zt*St,ot[1]=Ht*ct+Zt*Tt,ot[2]=Ht*dt+Zt*kt,ot[3]=Ht*ft+Zt*jt,ot}function quaternionToEuler(et,g){var it=g[0],ot=g[1],ut=g[2],ct=g[3],dt=Math.atan2(2*ot*ct-2*it*ut,1-2*ot*ot-2*ut*ut),ft=Math.asin(2*it*ot+2*ut*ct),St=Math.atan2(2*it*ct-2*ot*ut,1-2*it*it-2*ut*ut);et[0]=dt/degToRads,et[1]=ft/degToRads,et[2]=St/degToRads}function createQuaternion(et){var g=et[0]*degToRads,it=et[1]*degToRads,ot=et[2]*degToRads,ut=Math.cos(g/2),ct=Math.cos(it/2),dt=Math.cos(ot/2),ft=Math.sin(g/2),St=Math.sin(it/2),Tt=Math.sin(ot/2),kt=ut*ct*dt-ft*St*Tt,jt=ft*St*dt+ut*ct*Tt,Rt=ft*ct*dt+ut*St*Tt,$t=ut*St*dt-ft*ct*Tt;return[jt,Rt,$t,kt]}function getValueAtCurrentTime(){var et=this.comp.renderedFrame-this.offsetTime,g=this.keyframes[0].t-this.offsetTime,it=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(et===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=it&&et>=it||this._caching.lastFrame<g&&et<g))){this._caching.lastFrame>=et&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var ot=this.interpolateValue(et,this._caching);this.pv=ot}return this._caching.lastFrame=et,this.pv}function setVValue(et){var g;if(this.propType==="unidimensional")g=et*this.mult,mathAbs(this.v-g)>1e-5&&(this.v=g,this._mdf=!0);else for(var it=0,ot=this.v.length;it<ot;)g=et[it]*this.mult,mathAbs(this.v[it]-g)>1e-5&&(this.v[it]=g,this._mdf=!0),it+=1}function processEffectsSequence(){if(!(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)){if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=this._isFirstFrame;var et,g=this.effectsSequence.length,it=this.kf?this.pv:this.data.k;for(et=0;et<g;et+=1)it=this.effectsSequence[et](it);this.setVValue(it),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(et){this.effectsSequence.push(et),this.container.addDynamicProperty(this)}function ValueProperty(et,g,it,ot){this.propType="unidimensional",this.mult=it||1,this.data=g,this.v=it?g.k*it:g.k,this.pv=g.k,this._mdf=!1,this.elem=et,this.container=ot,this.comp=et.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(et,g,it,ot){this.propType="multidimensional",this.mult=it||1,this.data=g,this._mdf=!1,this.elem=et,this.container=ot,this.comp=et.comp,this.k=!1,this.kf=!1,this.frameId=-1;var ut,ct=g.k.length;for(this.v=createTypedArray("float32",ct),this.pv=createTypedArray("float32",ct),this.vel=createTypedArray("float32",ct),ut=0;ut<ct;ut+=1)this.v[ut]=g.k[ut]*this.mult,this.pv[ut]=g.k[ut];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(et,g,it,ot){this.propType="unidimensional",this.keyframes=g.k,this.keyframesMetadata=[],this.offsetTime=et.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=g,this.mult=it||1,this.elem=et,this.container=ot,this.comp=et.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(et,g,it,ot){this.propType="multidimensional";var ut,ct=g.k.length,dt,ft,St,Tt;for(ut=0;ut<ct-1;ut+=1)g.k[ut].to&&g.k[ut].s&&g.k[ut+1]&&g.k[ut+1].s&&(dt=g.k[ut].s,ft=g.k[ut+1].s,St=g.k[ut].to,Tt=g.k[ut].ti,(dt.length===2&&!(dt[0]===ft[0]&&dt[1]===ft[1])&&bez.pointOnLine2D(dt[0],dt[1],ft[0],ft[1],dt[0]+St[0],dt[1]+St[1])&&bez.pointOnLine2D(dt[0],dt[1],ft[0],ft[1],ft[0]+Tt[0],ft[1]+Tt[1])||dt.length===3&&!(dt[0]===ft[0]&&dt[1]===ft[1]&&dt[2]===ft[2])&&bez.pointOnLine3D(dt[0],dt[1],dt[2],ft[0],ft[1],ft[2],dt[0]+St[0],dt[1]+St[1],dt[2]+St[2])&&bez.pointOnLine3D(dt[0],dt[1],dt[2],ft[0],ft[1],ft[2],ft[0]+Tt[0],ft[1]+Tt[1],ft[2]+Tt[2]))&&(g.k[ut].to=null,g.k[ut].ti=null),dt[0]===ft[0]&&dt[1]===ft[1]&&St[0]===0&&St[1]===0&&Tt[0]===0&&Tt[1]===0&&(dt.length===2||dt[2]===ft[2]&&St[2]===0&&Tt[2]===0)&&(g.k[ut].to=null,g.k[ut].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=g,this.keyframes=g.k,this.keyframesMetadata=[],this.offsetTime=et.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=it||1,this.elem=et,this.container=ot,this.comp=et.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var kt=g.k[0].s.length;for(this.v=createTypedArray("float32",kt),this.pv=createTypedArray("float32",kt),ut=0;ut<kt;ut+=1)this.v[ut]=initFrame,this.pv[ut]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",kt)},this.addEffect=addEffect}var PropertyFactory=function(){function et(it,ot,ut,ct,dt){ot.sid&&(ot=it.globalData.slotManager.getProp(ot));var ft;if(!ot.k.length)ft=new ValueProperty(it,ot,ct,dt);else if(typeof ot.k[0]=="number")ft=new MultiDimensionalProperty(it,ot,ct,dt);else switch(ut){case 0:ft=new KeyframedValueProperty(it,ot,ct,dt);break;case 1:ft=new KeyframedMultidimensionalProperty(it,ot,ct,dt);break}return ft.effectsSequence.length&&dt.addDynamicProperty(ft),ft}var g={getProp:et};return g}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(g){this.dynamicProperties.indexOf(g)===-1&&(this.dynamicProperties.push(g),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var g,it=this.dynamicProperties.length;for(g=0;g<it;g+=1)this.dynamicProperties[g].getValue(),this.dynamicProperties[g]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(g){this.container=g,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=function(){function et(){return createTypedArray("float32",2)}return poolFactory(8,et)}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(et,g){this.c=et,this.setLength(g);for(var it=0;it<g;)this.v[it]=pointPool.newElement(),this.o[it]=pointPool.newElement(),this.i[it]=pointPool.newElement(),it+=1},ShapePath.prototype.setLength=function(et){for(;this._maxLength<et;)this.doubleArrayLength();this._length=et},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(et,g,it,ot,ut){var ct;switch(this._length=Math.max(this._length,ot+1),this._length>=this._maxLength&&this.doubleArrayLength(),it){case"v":ct=this.v;break;case"i":ct=this.i;break;case"o":ct=this.o;break;default:ct=[];break}(!ct[ot]||ct[ot]&&!ut)&&(ct[ot]=pointPool.newElement()),ct[ot][0]=et,ct[ot][1]=g},ShapePath.prototype.setTripleAt=function(et,g,it,ot,ut,ct,dt,ft){this.setXYAt(et,g,"v",dt,ft),this.setXYAt(it,ot,"o",dt,ft),this.setXYAt(ut,ct,"i",dt,ft)},ShapePath.prototype.reverse=function(){var et=new ShapePath;et.setPathData(this.c,this._length);var g=this.v,it=this.o,ot=this.i,ut=0;this.c&&(et.setTripleAt(g[0][0],g[0][1],ot[0][0],ot[0][1],it[0][0],it[0][1],0,!1),ut=1);var ct=this._length-1,dt=this._length,ft;for(ft=ut;ft<dt;ft+=1)et.setTripleAt(g[ct][0],g[ct][1],ot[ct][0],ot[ct][1],it[ct][0],it[ct][1],ft,!1),ct-=1;return et},ShapePath.prototype.length=function(){return this._length};var shapePool=function(){function et(){return new ShapePath}function g(ut){var ct=ut._length,dt;for(dt=0;dt<ct;dt+=1)pointPool.release(ut.v[dt]),pointPool.release(ut.i[dt]),pointPool.release(ut.o[dt]),ut.v[dt]=null,ut.i[dt]=null,ut.o[dt]=null;ut._length=0,ut.c=!1}function it(ut){var ct=ot.newElement(),dt,ft=ut._length===void 0?ut.v.length:ut._length;for(ct.setLength(ft),ct.c=ut.c,dt=0;dt<ft;dt+=1)ct.setTripleAt(ut.v[dt][0],ut.v[dt][1],ut.o[dt][0],ut.o[dt][1],ut.i[dt][0],ut.i[dt][1],dt);return ct}var ot=poolFactory(4,et,g);return ot.clone=it,ot}();function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(et){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=et,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var et;for(et=0;et<this._length;et+=1)shapePool.release(this.shapes[et]);this._length=0};var shapeCollectionPool=function(){var et={newShapeCollection:ut,release:ct},g=0,it=4,ot=createSizedArray(it);function ut(){var dt;return g?(g-=1,dt=ot[g]):dt=new ShapeCollection,dt}function ct(dt){var ft,St=dt._length;for(ft=0;ft<St;ft+=1)shapePool.release(dt.shapes[ft]);dt._length=0,g===it&&(ot=pooling.double(ot),it*=2),ot[g]=dt,g+=1}return et}(),ShapePropertyFactory=function(){var et=-999999;function g(Bt,Ut,Kt){var Yt=Kt.lastIndex,Jt,er,tr,rr,hr,ar,or,cr,gr,yr=this.keyframes;if(Bt<yr[0].t-this.offsetTime)Jt=yr[0].s[0],tr=!0,Yt=0;else if(Bt>=yr[yr.length-1].t-this.offsetTime)Jt=yr[yr.length-1].s?yr[yr.length-1].s[0]:yr[yr.length-2].e[0],tr=!0;else{for(var xr=Yt,dr=yr.length-1,pr=!0,nr,ir,mr;pr&&(nr=yr[xr],ir=yr[xr+1],!(ir.t-this.offsetTime>Bt));)xr<dr-1?xr+=1:pr=!1;if(mr=this.keyframesMetadata[xr]||{},tr=nr.h===1,Yt=xr,!tr){if(Bt>=ir.t-this.offsetTime)cr=1;else if(Bt<nr.t-this.offsetTime)cr=0;else{var lr;mr.__fnct?lr=mr.__fnct:(lr=BezierFactory.getBezierEasing(nr.o.x,nr.o.y,nr.i.x,nr.i.y).get,mr.__fnct=lr),cr=lr((Bt-(nr.t-this.offsetTime))/(ir.t-this.offsetTime-(nr.t-this.offsetTime)))}er=ir.s?ir.s[0]:nr.e[0]}Jt=nr.s[0]}for(ar=Ut._length,or=Jt.i[0].length,Kt.lastIndex=Yt,rr=0;rr<ar;rr+=1)for(hr=0;hr<or;hr+=1)gr=tr?Jt.i[rr][hr]:Jt.i[rr][hr]+(er.i[rr][hr]-Jt.i[rr][hr])*cr,Ut.i[rr][hr]=gr,gr=tr?Jt.o[rr][hr]:Jt.o[rr][hr]+(er.o[rr][hr]-Jt.o[rr][hr])*cr,Ut.o[rr][hr]=gr,gr=tr?Jt.v[rr][hr]:Jt.v[rr][hr]+(er.v[rr][hr]-Jt.v[rr][hr])*cr,Ut.v[rr][hr]=gr}function it(){var Bt=this.comp.renderedFrame-this.offsetTime,Ut=this.keyframes[0].t-this.offsetTime,Kt=this.keyframes[this.keyframes.length-1].t-this.offsetTime,Yt=this._caching.lastFrame;return Yt!==et&&(Yt<Ut&&Bt<Ut||Yt>Kt&&Bt>Kt)||(this._caching.lastIndex=Yt<Bt?this._caching.lastIndex:0,this.interpolateShape(Bt,this.pv,this._caching)),this._caching.lastFrame=Bt,this.pv}function ot(){this.paths=this.localShapeCollection}function ut(Bt,Ut){if(Bt._length!==Ut._length||Bt.c!==Ut.c)return!1;var Kt,Yt=Bt._length;for(Kt=0;Kt<Yt;Kt+=1)if(Bt.v[Kt][0]!==Ut.v[Kt][0]||Bt.v[Kt][1]!==Ut.v[Kt][1]||Bt.o[Kt][0]!==Ut.o[Kt][0]||Bt.o[Kt][1]!==Ut.o[Kt][1]||Bt.i[Kt][0]!==Ut.i[Kt][0]||Bt.i[Kt][1]!==Ut.i[Kt][1])return!1;return!0}function ct(Bt){ut(this.v,Bt)||(this.v=shapePool.clone(Bt),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function dt(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=!1;var Bt;this.kf?Bt=this.pv:this.data.ks?Bt=this.data.ks.k:Bt=this.data.pt.k;var Ut,Kt=this.effectsSequence.length;for(Ut=0;Ut<Kt;Ut+=1)Bt=this.effectsSequence[Ut](Bt);this.setVValue(Bt),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function ft(Bt,Ut,Kt){this.propType="shape",this.comp=Bt.comp,this.container=Bt,this.elem=Bt,this.data=Ut,this.k=!1,this.kf=!1,this._mdf=!1;var Yt=Kt===3?Ut.pt.k:Ut.ks.k;this.v=shapePool.clone(Yt),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=ot,this.effectsSequence=[]}function St(Bt){this.effectsSequence.push(Bt),this.container.addDynamicProperty(this)}ft.prototype.interpolateShape=g,ft.prototype.getValue=dt,ft.prototype.setVValue=ct,ft.prototype.addEffect=St;function Tt(Bt,Ut,Kt){this.propType="shape",this.comp=Bt.comp,this.elem=Bt,this.container=Bt,this.offsetTime=Bt.data.st,this.keyframes=Kt===3?Ut.pt.k:Ut.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var Yt=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,Yt),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=et,this.reset=ot,this._caching={lastFrame:et,lastIndex:0},this.effectsSequence=[it.bind(this)]}Tt.prototype.getValue=dt,Tt.prototype.interpolateShape=g,Tt.prototype.setVValue=ct,Tt.prototype.addEffect=St;var kt=function(){var Bt=roundCorner;function Ut(Kt,Yt){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=Yt.d,this.elem=Kt,this.comp=Kt.comp,this.frameId=-1,this.initDynamicPropertyContainer(Kt),this.p=PropertyFactory.getProp(Kt,Yt.p,1,0,this),this.s=PropertyFactory.getProp(Kt,Yt.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return Ut.prototype={reset:ot,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var Yt=this.p.v[0],Jt=this.p.v[1],er=this.s.v[0]/2,tr=this.s.v[1]/2,rr=this.d!==3,hr=this.v;hr.v[0][0]=Yt,hr.v[0][1]=Jt-tr,hr.v[1][0]=rr?Yt+er:Yt-er,hr.v[1][1]=Jt,hr.v[2][0]=Yt,hr.v[2][1]=Jt+tr,hr.v[3][0]=rr?Yt-er:Yt+er,hr.v[3][1]=Jt,hr.i[0][0]=rr?Yt-er*Bt:Yt+er*Bt,hr.i[0][1]=Jt-tr,hr.i[1][0]=rr?Yt+er:Yt-er,hr.i[1][1]=Jt-tr*Bt,hr.i[2][0]=rr?Yt+er*Bt:Yt-er*Bt,hr.i[2][1]=Jt+tr,hr.i[3][0]=rr?Yt-er:Yt+er,hr.i[3][1]=Jt+tr*Bt,hr.o[0][0]=rr?Yt+er*Bt:Yt-er*Bt,hr.o[0][1]=Jt-tr,hr.o[1][0]=rr?Yt+er:Yt-er,hr.o[1][1]=Jt+tr*Bt,hr.o[2][0]=rr?Yt-er*Bt:Yt+er*Bt,hr.o[2][1]=Jt+tr,hr.o[3][0]=rr?Yt-er:Yt+er,hr.o[3][1]=Jt-tr*Bt}},extendPrototype([DynamicPropertyContainer],Ut),Ut}(),jt=function(){function Bt(Ut,Kt){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=Ut,this.comp=Ut.comp,this.data=Kt,this.frameId=-1,this.d=Kt.d,this.initDynamicPropertyContainer(Ut),Kt.sy===1?(this.ir=PropertyFactory.getProp(Ut,Kt.ir,0,0,this),this.is=PropertyFactory.getProp(Ut,Kt.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(Ut,Kt.pt,0,0,this),this.p=PropertyFactory.getProp(Ut,Kt.p,1,0,this),this.r=PropertyFactory.getProp(Ut,Kt.r,0,degToRads,this),this.or=PropertyFactory.getProp(Ut,Kt.or,0,0,this),this.os=PropertyFactory.getProp(Ut,Kt.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return Bt.prototype={reset:ot,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var Kt=Math.floor(this.pt.v)*2,Yt=Math.PI*2/Kt,Jt=!0,er=this.or.v,tr=this.ir.v,rr=this.os.v,hr=this.is.v,ar=2*Math.PI*er/(Kt*2),or=2*Math.PI*tr/(Kt*2),cr,gr,yr,xr,dr=-Math.PI/2;dr+=this.r.v;var pr=this.data.d===3?-1:1;for(this.v._length=0,cr=0;cr<Kt;cr+=1){gr=Jt?er:tr,yr=Jt?rr:hr,xr=Jt?ar:or;var nr=gr*Math.cos(dr),ir=gr*Math.sin(dr),mr=nr===0&&ir===0?0:ir/Math.sqrt(nr*nr+ir*ir),lr=nr===0&&ir===0?0:-nr/Math.sqrt(nr*nr+ir*ir);nr+=+this.p.v[0],ir+=+this.p.v[1],this.v.setTripleAt(nr,ir,nr-mr*xr*yr*pr,ir-lr*xr*yr*pr,nr+mr*xr*yr*pr,ir+lr*xr*yr*pr,cr,!0),Jt=!Jt,dr+=Yt*pr}},convertPolygonToPath:function(){var Kt=Math.floor(this.pt.v),Yt=Math.PI*2/Kt,Jt=this.or.v,er=this.os.v,tr=2*Math.PI*Jt/(Kt*4),rr,hr=-Math.PI*.5,ar=this.data.d===3?-1:1;for(hr+=this.r.v,this.v._length=0,rr=0;rr<Kt;rr+=1){var or=Jt*Math.cos(hr),cr=Jt*Math.sin(hr),gr=or===0&&cr===0?0:cr/Math.sqrt(or*or+cr*cr),yr=or===0&&cr===0?0:-or/Math.sqrt(or*or+cr*cr);or+=+this.p.v[0],cr+=+this.p.v[1],this.v.setTripleAt(or,cr,or-gr*tr*er*ar,cr-yr*tr*er*ar,or+gr*tr*er*ar,cr+yr*tr*er*ar,rr,!0),hr+=Yt*ar}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],Bt),Bt}(),Rt=function(){function Bt(Ut,Kt){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=Ut,this.comp=Ut.comp,this.frameId=-1,this.d=Kt.d,this.initDynamicPropertyContainer(Ut),this.p=PropertyFactory.getProp(Ut,Kt.p,1,0,this),this.s=PropertyFactory.getProp(Ut,Kt.s,1,0,this),this.r=PropertyFactory.getProp(Ut,Kt.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return Bt.prototype={convertRectToPath:function(){var Kt=this.p.v[0],Yt=this.p.v[1],Jt=this.s.v[0]/2,er=this.s.v[1]/2,tr=bmMin(Jt,er,this.r.v),rr=tr*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(Kt+Jt,Yt-er+tr,Kt+Jt,Yt-er+tr,Kt+Jt,Yt-er+rr,0,!0),this.v.setTripleAt(Kt+Jt,Yt+er-tr,Kt+Jt,Yt+er-rr,Kt+Jt,Yt+er-tr,1,!0),tr!==0?(this.v.setTripleAt(Kt+Jt-tr,Yt+er,Kt+Jt-tr,Yt+er,Kt+Jt-rr,Yt+er,2,!0),this.v.setTripleAt(Kt-Jt+tr,Yt+er,Kt-Jt+rr,Yt+er,Kt-Jt+tr,Yt+er,3,!0),this.v.setTripleAt(Kt-Jt,Yt+er-tr,Kt-Jt,Yt+er-tr,Kt-Jt,Yt+er-rr,4,!0),this.v.setTripleAt(Kt-Jt,Yt-er+tr,Kt-Jt,Yt-er+rr,Kt-Jt,Yt-er+tr,5,!0),this.v.setTripleAt(Kt-Jt+tr,Yt-er,Kt-Jt+tr,Yt-er,Kt-Jt+rr,Yt-er,6,!0),this.v.setTripleAt(Kt+Jt-tr,Yt-er,Kt+Jt-rr,Yt-er,Kt+Jt-tr,Yt-er,7,!0)):(this.v.setTripleAt(Kt-Jt,Yt+er,Kt-Jt+rr,Yt+er,Kt-Jt,Yt+er,2),this.v.setTripleAt(Kt-Jt,Yt-er,Kt-Jt,Yt-er+rr,Kt-Jt,Yt-er,3))):(this.v.setTripleAt(Kt+Jt,Yt-er+tr,Kt+Jt,Yt-er+rr,Kt+Jt,Yt-er+tr,0,!0),tr!==0?(this.v.setTripleAt(Kt+Jt-tr,Yt-er,Kt+Jt-tr,Yt-er,Kt+Jt-rr,Yt-er,1,!0),this.v.setTripleAt(Kt-Jt+tr,Yt-er,Kt-Jt+rr,Yt-er,Kt-Jt+tr,Yt-er,2,!0),this.v.setTripleAt(Kt-Jt,Yt-er+tr,Kt-Jt,Yt-er+tr,Kt-Jt,Yt-er+rr,3,!0),this.v.setTripleAt(Kt-Jt,Yt+er-tr,Kt-Jt,Yt+er-rr,Kt-Jt,Yt+er-tr,4,!0),this.v.setTripleAt(Kt-Jt+tr,Yt+er,Kt-Jt+tr,Yt+er,Kt-Jt+rr,Yt+er,5,!0),this.v.setTripleAt(Kt+Jt-tr,Yt+er,Kt+Jt-rr,Yt+er,Kt+Jt-tr,Yt+er,6,!0),this.v.setTripleAt(Kt+Jt,Yt+er-tr,Kt+Jt,Yt+er-tr,Kt+Jt,Yt+er-rr,7,!0)):(this.v.setTripleAt(Kt-Jt,Yt-er,Kt-Jt+rr,Yt-er,Kt-Jt,Yt-er,1,!0),this.v.setTripleAt(Kt-Jt,Yt+er,Kt-Jt,Yt+er-rr,Kt-Jt,Yt+er,2,!0),this.v.setTripleAt(Kt+Jt,Yt+er,Kt+Jt-rr,Yt+er,Kt+Jt,Yt+er,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:ot},extendPrototype([DynamicPropertyContainer],Bt),Bt}();function $t(Bt,Ut,Kt){var Yt;if(Kt===3||Kt===4){var Jt=Kt===3?Ut.pt:Ut.ks,er=Jt.k;er.length?Yt=new Tt(Bt,Ut,Kt):Yt=new ft(Bt,Ut,Kt)}else Kt===5?Yt=new Rt(Bt,Ut):Kt===6?Yt=new kt(Bt,Ut):Kt===7&&(Yt=new jt(Bt,Ut));return Yt.k&&Bt.addDynamicProperty(Yt),Yt}function zt(){return ft}function Ht(){return Tt}var Zt={};return Zt.getShapeProp=$t,Zt.getConstructorFunction=zt,Zt.getKeyframedConstructorFunction=Ht,Zt}();/*!
 Transformation Matrix v2.0
 (c) Epistemex 2014-2015
 www.epistemex.com
 By Ken Fyrstenberg
 Contributions by leeoniya.
 License: MIT, header required.
 */var Matrix=function(){var et=Math.cos,g=Math.sin,it=Math.tan,ot=Math.round;function ut(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function ct(nr){if(nr===0)return this;var ir=et(nr),mr=g(nr);return this._t(ir,-mr,0,0,mr,ir,0,0,0,0,1,0,0,0,0,1)}function dt(nr){if(nr===0)return this;var ir=et(nr),mr=g(nr);return this._t(1,0,0,0,0,ir,-mr,0,0,mr,ir,0,0,0,0,1)}function ft(nr){if(nr===0)return this;var ir=et(nr),mr=g(nr);return this._t(ir,0,mr,0,0,1,0,0,-mr,0,ir,0,0,0,0,1)}function St(nr){if(nr===0)return this;var ir=et(nr),mr=g(nr);return this._t(ir,-mr,0,0,mr,ir,0,0,0,0,1,0,0,0,0,1)}function Tt(nr,ir){return this._t(1,ir,nr,1,0,0)}function kt(nr,ir){return this.shear(it(nr),it(ir))}function jt(nr,ir){var mr=et(ir),lr=g(ir);return this._t(mr,lr,0,0,-lr,mr,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,it(nr),1,0,0,0,0,1,0,0,0,0,1)._t(mr,-lr,0,0,lr,mr,0,0,0,0,1,0,0,0,0,1)}function Rt(nr,ir,mr){return!mr&&mr!==0&&(mr=1),nr===1&&ir===1&&mr===1?this:this._t(nr,0,0,0,0,ir,0,0,0,0,mr,0,0,0,0,1)}function $t(nr,ir,mr,lr,br,Er,Sr,_r,wr,Ar,kr,Tr,Pr,Lr,Fr,Dr){return this.props[0]=nr,this.props[1]=ir,this.props[2]=mr,this.props[3]=lr,this.props[4]=br,this.props[5]=Er,this.props[6]=Sr,this.props[7]=_r,this.props[8]=wr,this.props[9]=Ar,this.props[10]=kr,this.props[11]=Tr,this.props[12]=Pr,this.props[13]=Lr,this.props[14]=Fr,this.props[15]=Dr,this}function zt(nr,ir,mr){return mr=mr||0,nr!==0||ir!==0||mr!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,nr,ir,mr,1):this}function Ht(nr,ir,mr,lr,br,Er,Sr,_r,wr,Ar,kr,Tr,Pr,Lr,Fr,Dr){var Mr=this.props;if(nr===1&&ir===0&&mr===0&&lr===0&&br===0&&Er===1&&Sr===0&&_r===0&&wr===0&&Ar===0&&kr===1&&Tr===0)return Mr[12]=Mr[12]*nr+Mr[15]*Pr,Mr[13]=Mr[13]*Er+Mr[15]*Lr,Mr[14]=Mr[14]*kr+Mr[15]*Fr,Mr[15]*=Dr,this._identityCalculated=!1,this;var Vr=Mr[0],qr=Mr[1],Xr=Mr[2],Cr=Mr[3],Rr=Mr[4],Ir=Mr[5],Or=Mr[6],jr=Mr[7],Hr=Mr[8],Ur=Mr[9],zr=Mr[10],ln=Mr[11],un=Mr[12],Yr=Mr[13],Kn=Mr[14],Qr=Mr[15];return Mr[0]=Vr*nr+qr*br+Xr*wr+Cr*Pr,Mr[1]=Vr*ir+qr*Er+Xr*Ar+Cr*Lr,Mr[2]=Vr*mr+qr*Sr+Xr*kr+Cr*Fr,Mr[3]=Vr*lr+qr*_r+Xr*Tr+Cr*Dr,Mr[4]=Rr*nr+Ir*br+Or*wr+jr*Pr,Mr[5]=Rr*ir+Ir*Er+Or*Ar+jr*Lr,Mr[6]=Rr*mr+Ir*Sr+Or*kr+jr*Fr,Mr[7]=Rr*lr+Ir*_r+Or*Tr+jr*Dr,Mr[8]=Hr*nr+Ur*br+zr*wr+ln*Pr,Mr[9]=Hr*ir+Ur*Er+zr*Ar+ln*Lr,Mr[10]=Hr*mr+Ur*Sr+zr*kr+ln*Fr,Mr[11]=Hr*lr+Ur*_r+zr*Tr+ln*Dr,Mr[12]=un*nr+Yr*br+Kn*wr+Qr*Pr,Mr[13]=un*ir+Yr*Er+Kn*Ar+Qr*Lr,Mr[14]=un*mr+Yr*Sr+Kn*kr+Qr*Fr,Mr[15]=un*lr+Yr*_r+Kn*Tr+Qr*Dr,this._identityCalculated=!1,this}function Zt(nr){var ir=nr.props;return this.transform(ir[0],ir[1],ir[2],ir[3],ir[4],ir[5],ir[6],ir[7],ir[8],ir[9],ir[10],ir[11],ir[12],ir[13],ir[14],ir[15])}function Bt(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function Ut(nr){for(var ir=0;ir<16;){if(nr.props[ir]!==this.props[ir])return!1;ir+=1}return!0}function Kt(nr){var ir;for(ir=0;ir<16;ir+=1)nr.props[ir]=this.props[ir];return nr}function Yt(nr){var ir;for(ir=0;ir<16;ir+=1)this.props[ir]=nr[ir]}function Jt(nr,ir,mr){return{x:nr*this.props[0]+ir*this.props[4]+mr*this.props[8]+this.props[12],y:nr*this.props[1]+ir*this.props[5]+mr*this.props[9]+this.props[13],z:nr*this.props[2]+ir*this.props[6]+mr*this.props[10]+this.props[14]}}function er(nr,ir,mr){return nr*this.props[0]+ir*this.props[4]+mr*this.props[8]+this.props[12]}function tr(nr,ir,mr){return nr*this.props[1]+ir*this.props[5]+mr*this.props[9]+this.props[13]}function rr(nr,ir,mr){return nr*this.props[2]+ir*this.props[6]+mr*this.props[10]+this.props[14]}function hr(){var nr=this.props[0]*this.props[5]-this.props[1]*this.props[4],ir=this.props[5]/nr,mr=-this.props[1]/nr,lr=-this.props[4]/nr,br=this.props[0]/nr,Er=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/nr,Sr=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/nr,_r=new Matrix;return _r.props[0]=ir,_r.props[1]=mr,_r.props[4]=lr,_r.props[5]=br,_r.props[12]=Er,_r.props[13]=Sr,_r}function ar(nr){var ir=this.getInverseMatrix();return ir.applyToPointArray(nr[0],nr[1],nr[2]||0)}function or(nr){var ir,mr=nr.length,lr=[];for(ir=0;ir<mr;ir+=1)lr[ir]=ar(nr[ir]);return lr}function cr(nr,ir,mr){var lr=createTypedArray("float32",6);if(this.isIdentity())lr[0]=nr[0],lr[1]=nr[1],lr[2]=ir[0],lr[3]=ir[1],lr[4]=mr[0],lr[5]=mr[1];else{var br=this.props[0],Er=this.props[1],Sr=this.props[4],_r=this.props[5],wr=this.props[12],Ar=this.props[13];lr[0]=nr[0]*br+nr[1]*Sr+wr,lr[1]=nr[0]*Er+nr[1]*_r+Ar,lr[2]=ir[0]*br+ir[1]*Sr+wr,lr[3]=ir[0]*Er+ir[1]*_r+Ar,lr[4]=mr[0]*br+mr[1]*Sr+wr,lr[5]=mr[0]*Er+mr[1]*_r+Ar}return lr}function gr(nr,ir,mr){var lr;return this.isIdentity()?lr=[nr,ir,mr]:lr=[nr*this.props[0]+ir*this.props[4]+mr*this.props[8]+this.props[12],nr*this.props[1]+ir*this.props[5]+mr*this.props[9]+this.props[13],nr*this.props[2]+ir*this.props[6]+mr*this.props[10]+this.props[14]],lr}function yr(nr,ir){if(this.isIdentity())return nr+","+ir;var mr=this.props;return Math.round((nr*mr[0]+ir*mr[4]+mr[12])*100)/100+","+Math.round((nr*mr[1]+ir*mr[5]+mr[13])*100)/100}function xr(){for(var nr=0,ir=this.props,mr="matrix3d(",lr=1e4;nr<16;)mr+=ot(ir[nr]*lr)/lr,mr+=nr===15?")":",",nr+=1;return mr}function dr(nr){var ir=1e4;return nr<1e-6&&nr>0||nr>-1e-6&&nr<0?ot(nr*ir)/ir:nr}function pr(){var nr=this.props,ir=dr(nr[0]),mr=dr(nr[1]),lr=dr(nr[4]),br=dr(nr[5]),Er=dr(nr[12]),Sr=dr(nr[13]);return"matrix("+ir+","+mr+","+lr+","+br+","+Er+","+Sr+")"}return function(){this.reset=ut,this.rotate=ct,this.rotateX=dt,this.rotateY=ft,this.rotateZ=St,this.skew=kt,this.skewFromAxis=jt,this.shear=Tt,this.scale=Rt,this.setTransform=$t,this.translate=zt,this.transform=Ht,this.multiply=Zt,this.applyToPoint=Jt,this.applyToX=er,this.applyToY=tr,this.applyToZ=rr,this.applyToPointArray=gr,this.applyToTriplePoints=cr,this.applyToPointStringified=yr,this.toCSS=xr,this.to2dCSS=pr,this.clone=Kt,this.cloneFromProps=Yt,this.equals=Ut,this.inversePoints=or,this.inversePoint=ar,this.getInverseMatrix=hr,this._t=this.transform,this.isIdentity=Bt,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(et){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$3=function(it){return typeof it}:_typeof$3=function(it){return it&&typeof Symbol=="function"&&it.constructor===Symbol&&it!==Symbol.prototype?"symbol":typeof it},_typeof$3(et)}var lottie={};function setLocation(et){setLocationHref(et)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(et){setSubframeEnabled(et)}function setPrefix(et){setIdPrefix(et)}function loadAnimation(et){return animationManager.loadAnimation(et)}function setQuality(et){if(typeof et=="string")switch(et){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10);break}else!isNaN(et)&&et>1&&setDefaultCurveSegments(et)}function inBrowser(){return typeof navigator<"u"}function installPlugin(et,g){et==="expressions"&&setExpressionsPlugin(g)}function getFactory(et){switch(et){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.12.2";function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(et){for(var g=queryString.split("&"),it=0;it<g.length;it+=1){var ot=g[it].split("=");if(decodeURIComponent(ot[0])==et)return decodeURIComponent(ot[1])}return null}var queryString="";{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)!=="object"&&(window.bodymovin=lottie)}catch(et){}var ShapeModifiers=function(){var et={},g={};et.registerModifier=it,et.getModifier=ot;function it(ut,ct){g[ut]||(g[ut]=ct)}function ot(ut,ct,dt){return new g[ut](ct,dt)}return et}();function ShapeModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(et){if(!this.closed){et.sh.container.addDynamicProperty(et.sh);var g={shape:et.sh,data:et,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(g),this.addShapeToModifier(g),this._isAnimated&&et.setAsAnimated()}},ShapeModifier.prototype.init=function(et,g){this.shapes=[],this.elem=et,this.initDynamicPropertyContainer(et),this.initModifierProperties(et,g),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier);function TrimModifier(){}extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(et,g){this.s=PropertyFactory.getProp(et,g.s,0,.01,this),this.e=PropertyFactory.getProp(et,g.e,0,.01,this),this.o=PropertyFactory.getProp(et,g.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=g.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(et){et.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(et,g,it,ot,ut){var ct=[];g<=1?ct.push({s:et,e:g}):et>=1?ct.push({s:et-1,e:g-1}):(ct.push({s:et,e:1}),ct.push({s:0,e:g-1}));var dt=[],ft,St=ct.length,Tt;for(ft=0;ft<St;ft+=1)if(Tt=ct[ft],!(Tt.e*ut<ot||Tt.s*ut>ot+it)){var kt,jt;Tt.s*ut<=ot?kt=0:kt=(Tt.s*ut-ot)/it,Tt.e*ut>=ot+it?jt=1:jt=(Tt.e*ut-ot)/it,dt.push([kt,jt])}return dt.length||dt.push([0,0]),dt},TrimModifier.prototype.releasePathsData=function(et){var g,it=et.length;for(g=0;g<it;g+=1)segmentsLengthPool.release(et[g]);return et.length=0,et},TrimModifier.prototype.processShapes=function(et){var g,it;if(this._mdf||et){var ot=this.o.v%360/360;if(ot<0&&(ot+=1),this.s.v>1?g=1+ot:this.s.v<0?g=0+ot:g=this.s.v+ot,this.e.v>1?it=1+ot:this.e.v<0?it=0+ot:it=this.e.v+ot,g>it){var ut=g;g=it,it=ut}g=Math.round(g*1e4)*1e-4,it=Math.round(it*1e4)*1e-4,this.sValue=g,this.eValue=it}else g=this.sValue,it=this.eValue;var ct,dt,ft=this.shapes.length,St,Tt,kt,jt,Rt,$t=0;if(it===g)for(dt=0;dt<ft;dt+=1)this.shapes[dt].localShapeCollection.releaseShapes(),this.shapes[dt].shape._mdf=!0,this.shapes[dt].shape.paths=this.shapes[dt].localShapeCollection,this._mdf&&(this.shapes[dt].pathsData.length=0);else if(it===1&&g===0||it===0&&g===1){if(this._mdf)for(dt=0;dt<ft;dt+=1)this.shapes[dt].pathsData.length=0,this.shapes[dt].shape._mdf=!0}else{var zt=[],Ht,Zt;for(dt=0;dt<ft;dt+=1)if(Ht=this.shapes[dt],!Ht.shape._mdf&&!this._mdf&&!et&&this.m!==2)Ht.shape.paths=Ht.localShapeCollection;else{if(ct=Ht.shape.paths,Tt=ct._length,Rt=0,!Ht.shape._mdf&&Ht.pathsData.length)Rt=Ht.totalShapeLength;else{for(kt=this.releasePathsData(Ht.pathsData),St=0;St<Tt;St+=1)jt=bez.getSegmentsLength(ct.shapes[St]),kt.push(jt),Rt+=jt.totalLength;Ht.totalShapeLength=Rt,Ht.pathsData=kt}$t+=Rt,Ht.shape._mdf=!0}var Bt=g,Ut=it,Kt=0,Yt;for(dt=ft-1;dt>=0;dt-=1)if(Ht=this.shapes[dt],Ht.shape._mdf){for(Zt=Ht.localShapeCollection,Zt.releaseShapes(),this.m===2&&ft>1?(Yt=this.calculateShapeEdges(g,it,Ht.totalShapeLength,Kt,$t),Kt+=Ht.totalShapeLength):Yt=[[Bt,Ut]],Tt=Yt.length,St=0;St<Tt;St+=1){Bt=Yt[St][0],Ut=Yt[St][1],zt.length=0,Ut<=1?zt.push({s:Ht.totalShapeLength*Bt,e:Ht.totalShapeLength*Ut}):Bt>=1?zt.push({s:Ht.totalShapeLength*(Bt-1),e:Ht.totalShapeLength*(Ut-1)}):(zt.push({s:Ht.totalShapeLength*Bt,e:Ht.totalShapeLength}),zt.push({s:0,e:Ht.totalShapeLength*(Ut-1)}));var Jt=this.addShapes(Ht,zt[0]);if(zt[0].s!==zt[0].e){if(zt.length>1){var er=Ht.shape.paths.shapes[Ht.shape.paths._length-1];if(er.c){var tr=Jt.pop();this.addPaths(Jt,Zt),Jt=this.addShapes(Ht,zt[1],tr)}else this.addPaths(Jt,Zt),Jt=this.addShapes(Ht,zt[1])}this.addPaths(Jt,Zt)}}Ht.shape.paths=Zt}}},TrimModifier.prototype.addPaths=function(et,g){var it,ot=et.length;for(it=0;it<ot;it+=1)g.addShape(et[it])},TrimModifier.prototype.addSegment=function(et,g,it,ot,ut,ct,dt){ut.setXYAt(g[0],g[1],"o",ct),ut.setXYAt(it[0],it[1],"i",ct+1),dt&&ut.setXYAt(et[0],et[1],"v",ct),ut.setXYAt(ot[0],ot[1],"v",ct+1)},TrimModifier.prototype.addSegmentFromArray=function(et,g,it,ot){g.setXYAt(et[1],et[5],"o",it),g.setXYAt(et[2],et[6],"i",it+1),ot&&g.setXYAt(et[0],et[4],"v",it),g.setXYAt(et[3],et[7],"v",it+1)},TrimModifier.prototype.addShapes=function(et,g,it){var ot=et.pathsData,ut=et.shape.paths.shapes,ct,dt=et.shape.paths._length,ft,St,Tt=0,kt,jt,Rt,$t,zt=[],Ht,Zt=!0;for(it?(jt=it._length,Ht=it._length):(it=shapePool.newElement(),jt=0,Ht=0),zt.push(it),ct=0;ct<dt;ct+=1){for(Rt=ot[ct].lengths,it.c=ut[ct].c,St=ut[ct].c?Rt.length:Rt.length+1,ft=1;ft<St;ft+=1)if(kt=Rt[ft-1],Tt+kt.addedLength<g.s)Tt+=kt.addedLength,it.c=!1;else if(Tt>g.e){it.c=!1;break}else g.s<=Tt&&g.e>=Tt+kt.addedLength?(this.addSegment(ut[ct].v[ft-1],ut[ct].o[ft-1],ut[ct].i[ft],ut[ct].v[ft],it,jt,Zt),Zt=!1):($t=bez.getNewSegment(ut[ct].v[ft-1],ut[ct].v[ft],ut[ct].o[ft-1],ut[ct].i[ft],(g.s-Tt)/kt.addedLength,(g.e-Tt)/kt.addedLength,Rt[ft-1]),this.addSegmentFromArray($t,it,jt,Zt),Zt=!1,it.c=!1),Tt+=kt.addedLength,jt+=1;if(ut[ct].c&&Rt.length){if(kt=Rt[ft-1],Tt<=g.e){var Bt=Rt[ft-1].addedLength;g.s<=Tt&&g.e>=Tt+Bt?(this.addSegment(ut[ct].v[ft-1],ut[ct].o[ft-1],ut[ct].i[0],ut[ct].v[0],it,jt,Zt),Zt=!1):($t=bez.getNewSegment(ut[ct].v[ft-1],ut[ct].v[0],ut[ct].o[ft-1],ut[ct].i[0],(g.s-Tt)/Bt,(g.e-Tt)/Bt,Rt[ft-1]),this.addSegmentFromArray($t,it,jt,Zt),Zt=!1,it.c=!1)}else it.c=!1;Tt+=kt.addedLength,jt+=1}if(it._length&&(it.setXYAt(it.v[Ht][0],it.v[Ht][1],"i",Ht),it.setXYAt(it.v[it._length-1][0],it.v[it._length-1][1],"o",it._length-1)),Tt>g.e)break;ct<dt-1&&(it=shapePool.newElement(),Zt=!0,zt.push(it),jt=0)}return zt};function PuckerAndBloatModifier(){}extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(et,g){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(et,g.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(et,g){var it=g/100,ot=[0,0],ut=et._length,ct=0;for(ct=0;ct<ut;ct+=1)ot[0]+=et.v[ct][0],ot[1]+=et.v[ct][1];ot[0]/=ut,ot[1]/=ut;var dt=shapePool.newElement();dt.c=et.c;var ft,St,Tt,kt,jt,Rt;for(ct=0;ct<ut;ct+=1)ft=et.v[ct][0]+(ot[0]-et.v[ct][0])*it,St=et.v[ct][1]+(ot[1]-et.v[ct][1])*it,Tt=et.o[ct][0]+(ot[0]-et.o[ct][0])*-it,kt=et.o[ct][1]+(ot[1]-et.o[ct][1])*-it,jt=et.i[ct][0]+(ot[0]-et.i[ct][0])*-it,Rt=et.i[ct][1]+(ot[1]-et.i[ct][1])*-it,dt.setTripleAt(ft,St,Tt,kt,jt,Rt,ct);return dt},PuckerAndBloatModifier.prototype.processShapes=function(et){var g,it,ot=this.shapes.length,ut,ct,dt=this.amount.v;if(dt!==0){var ft,St;for(it=0;it<ot;it+=1){if(ft=this.shapes[it],St=ft.localShapeCollection,!(!ft.shape._mdf&&!this._mdf&&!et))for(St.releaseShapes(),ft.shape._mdf=!0,g=ft.shape.paths.shapes,ct=ft.shape.paths._length,ut=0;ut<ct;ut+=1)St.addShape(this.processPath(g[ut],dt));ft.shape.paths=ft.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var et=[0,0];function g(St){var Tt=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||Tt,this.a&&St.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&St.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&St.skewFromAxis(-this.sk.v,this.sa.v),this.r?St.rotate(-this.r.v):St.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?St.translate(this.px.v,this.py.v,-this.pz.v):St.translate(this.px.v,this.py.v,0):St.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function it(St){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||St){var Tt;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var kt,jt;if(Tt=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(kt=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/Tt,0),jt=this.p.getValueAtTime(this.p.keyframes[0].t/Tt,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(kt=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/Tt,0),jt=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/Tt,0)):(kt=this.p.pv,jt=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/Tt,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){kt=[],jt=[];var Rt=this.px,$t=this.py;Rt._caching.lastFrame+Rt.offsetTime<=Rt.keyframes[0].t?(kt[0]=Rt.getValueAtTime((Rt.keyframes[0].t+.01)/Tt,0),kt[1]=$t.getValueAtTime(($t.keyframes[0].t+.01)/Tt,0),jt[0]=Rt.getValueAtTime(Rt.keyframes[0].t/Tt,0),jt[1]=$t.getValueAtTime($t.keyframes[0].t/Tt,0)):Rt._caching.lastFrame+Rt.offsetTime>=Rt.keyframes[Rt.keyframes.length-1].t?(kt[0]=Rt.getValueAtTime(Rt.keyframes[Rt.keyframes.length-1].t/Tt,0),kt[1]=$t.getValueAtTime($t.keyframes[$t.keyframes.length-1].t/Tt,0),jt[0]=Rt.getValueAtTime((Rt.keyframes[Rt.keyframes.length-1].t-.01)/Tt,0),jt[1]=$t.getValueAtTime(($t.keyframes[$t.keyframes.length-1].t-.01)/Tt,0)):(kt=[Rt.pv,$t.pv],jt[0]=Rt.getValueAtTime((Rt._caching.lastFrame+Rt.offsetTime-.01)/Tt,Rt.offsetTime),jt[1]=$t.getValueAtTime(($t._caching.lastFrame+$t.offsetTime-.01)/Tt,$t.offsetTime))}else jt=et,kt=jt;this.v.rotate(-Math.atan2(kt[1]-jt[1],kt[0]-jt[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function ot(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length)this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1;else return;if(!this.s.effectsSequence.length)this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2;else return;if(this.sk)if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length)this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;else return;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}function ut(){}function ct(St){this._addDynamicProperty(St),this.elem.addDynamicProperty(St),this._isDirty=!0}function dt(St,Tt,kt){if(this.elem=St,this.frameId=-1,this.propType="transform",this.data=Tt,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(kt||St),Tt.p&&Tt.p.s?(this.px=PropertyFactory.getProp(St,Tt.p.x,0,0,this),this.py=PropertyFactory.getProp(St,Tt.p.y,0,0,this),Tt.p.z&&(this.pz=PropertyFactory.getProp(St,Tt.p.z,0,0,this))):this.p=PropertyFactory.getProp(St,Tt.p||{k:[0,0,0]},1,0,this),Tt.rx){if(this.rx=PropertyFactory.getProp(St,Tt.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(St,Tt.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(St,Tt.rz,0,degToRads,this),Tt.or.k[0].ti){var jt,Rt=Tt.or.k.length;for(jt=0;jt<Rt;jt+=1)Tt.or.k[jt].to=null,Tt.or.k[jt].ti=null}this.or=PropertyFactory.getProp(St,Tt.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(St,Tt.r||{k:0},0,degToRads,this);Tt.sk&&(this.sk=PropertyFactory.getProp(St,Tt.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(St,Tt.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(St,Tt.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(St,Tt.s||{k:[100,100,100]},1,.01,this),Tt.o?this.o=PropertyFactory.getProp(St,Tt.o,0,.01,St):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}dt.prototype={applyToMatrix:g,getValue:it,precalculateMatrix:ot,autoOrient:ut},extendPrototype([DynamicPropertyContainer],dt),dt.prototype.addDynamicProperty=ct,dt.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty;function ft(St,Tt,kt){return new dt(St,Tt,kt)}return{getTransformProperty:ft}}();function RepeaterModifier(){}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(et,g){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(et,g.c,0,null,this),this.o=PropertyFactory.getProp(et,g.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(et,g.tr,this),this.so=PropertyFactory.getProp(et,g.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(et,g.tr.eo,0,.01,this),this.data=g,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(et,g,it,ot,ut,ct){var dt=ct?-1:1,ft=ot.s.v[0]+(1-ot.s.v[0])*(1-ut),St=ot.s.v[1]+(1-ot.s.v[1])*(1-ut);et.translate(ot.p.v[0]*dt*ut,ot.p.v[1]*dt*ut,ot.p.v[2]),g.translate(-ot.a.v[0],-ot.a.v[1],ot.a.v[2]),g.rotate(-ot.r.v*dt*ut),g.translate(ot.a.v[0],ot.a.v[1],ot.a.v[2]),it.translate(-ot.a.v[0],-ot.a.v[1],ot.a.v[2]),it.scale(ct?1/ft:ft,ct?1/St:St),it.translate(ot.a.v[0],ot.a.v[1],ot.a.v[2])},RepeaterModifier.prototype.init=function(et,g,it,ot){for(this.elem=et,this.arr=g,this.pos=it,this.elemsData=ot,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(et),this.initModifierProperties(et,g[it]);it>0;)it-=1,this._elements.unshift(g[it]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(et){var g,it=et.length;for(g=0;g<it;g+=1)et[g]._processed=!1,et[g].ty==="gr"&&this.resetElements(et[g].it)},RepeaterModifier.prototype.cloneElements=function(et){var g=JSON.parse(JSON.stringify(et));return this.resetElements(g),g},RepeaterModifier.prototype.changeGroupRender=function(et,g){var it,ot=et.length;for(it=0;it<ot;it+=1)et[it]._render=g,et[it].ty==="gr"&&this.changeGroupRender(et[it].it,g)},RepeaterModifier.prototype.processShapes=function(et){var g,it,ot,ut,ct,dt=!1;if(this._mdf||et){var ft=Math.ceil(this.c.v);if(this._groups.length<ft){for(;this._groups.length<ft;){var St={it:this.cloneElements(this._elements),ty:"gr"};St.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,St),this._groups.splice(0,0,St),this._currentCopies+=1}this.elem.reloadShapes(),dt=!0}ct=0;var Tt;for(ot=0;ot<=this._groups.length-1;ot+=1){if(Tt=ct<ft,this._groups[ot]._render=Tt,this.changeGroupRender(this._groups[ot].it,Tt),!Tt){var kt=this.elemsData[ot].it,jt=kt[kt.length-1];jt.transform.op.v!==0?(jt.transform.op._mdf=!0,jt.transform.op.v=0):jt.transform.op._mdf=!1}ct+=1}this._currentCopies=ft;var Rt=this.o.v,$t=Rt%1,zt=Rt>0?Math.floor(Rt):Math.ceil(Rt),Ht=this.pMatrix.props,Zt=this.rMatrix.props,Bt=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var Ut=0;if(Rt>0){for(;Ut<zt;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),Ut+=1;$t&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,$t,!1),Ut+=$t)}else if(Rt<0){for(;Ut>zt;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),Ut-=1;$t&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-$t,!0),Ut-=$t)}ot=this.data.m===1?0:this._currentCopies-1,ut=this.data.m===1?1:-1,ct=this._currentCopies;for(var Kt,Yt;ct;){if(g=this.elemsData[ot].it,it=g[g.length-1].transform.mProps.v.props,Yt=it.length,g[g.length-1].transform.mProps._mdf=!0,g[g.length-1].transform.op._mdf=!0,g[g.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(ot/(this._currentCopies-1)),Ut!==0){for((ot!==0&&ut===1||ot!==this._currentCopies-1&&ut===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(Zt[0],Zt[1],Zt[2],Zt[3],Zt[4],Zt[5],Zt[6],Zt[7],Zt[8],Zt[9],Zt[10],Zt[11],Zt[12],Zt[13],Zt[14],Zt[15]),this.matrix.transform(Bt[0],Bt[1],Bt[2],Bt[3],Bt[4],Bt[5],Bt[6],Bt[7],Bt[8],Bt[9],Bt[10],Bt[11],Bt[12],Bt[13],Bt[14],Bt[15]),this.matrix.transform(Ht[0],Ht[1],Ht[2],Ht[3],Ht[4],Ht[5],Ht[6],Ht[7],Ht[8],Ht[9],Ht[10],Ht[11],Ht[12],Ht[13],Ht[14],Ht[15]),Kt=0;Kt<Yt;Kt+=1)it[Kt]=this.matrix.props[Kt];this.matrix.reset()}else for(this.matrix.reset(),Kt=0;Kt<Yt;Kt+=1)it[Kt]=this.matrix.props[Kt];Ut+=1,ct-=1,ot+=ut}}else for(ct=this._currentCopies,ot=0,ut=1;ct;)g=this.elemsData[ot].it,it=g[g.length-1].transform.mProps.v.props,g[g.length-1].transform.mProps._mdf=!1,g[g.length-1].transform.op._mdf=!1,ct-=1,ot+=ut;return dt},RepeaterModifier.prototype.addShape=function(){};function RoundCornersModifier(){}extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(et,g){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(et,g.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(et,g){var it=shapePool.newElement();it.c=et.c;var ot,ut=et._length,ct,dt,ft,St,Tt,kt,jt=0,Rt,$t,zt,Ht,Zt,Bt;for(ot=0;ot<ut;ot+=1)ct=et.v[ot],ft=et.o[ot],dt=et.i[ot],ct[0]===ft[0]&&ct[1]===ft[1]&&ct[0]===dt[0]&&ct[1]===dt[1]?(ot===0||ot===ut-1)&&!et.c?(it.setTripleAt(ct[0],ct[1],ft[0],ft[1],dt[0],dt[1],jt),jt+=1):(ot===0?St=et.v[ut-1]:St=et.v[ot-1],Tt=Math.sqrt(Math.pow(ct[0]-St[0],2)+Math.pow(ct[1]-St[1],2)),kt=Tt?Math.min(Tt/2,g)/Tt:0,Zt=ct[0]+(St[0]-ct[0])*kt,Rt=Zt,Bt=ct[1]-(ct[1]-St[1])*kt,$t=Bt,zt=Rt-(Rt-ct[0])*roundCorner,Ht=$t-($t-ct[1])*roundCorner,it.setTripleAt(Rt,$t,zt,Ht,Zt,Bt,jt),jt+=1,ot===ut-1?St=et.v[0]:St=et.v[ot+1],Tt=Math.sqrt(Math.pow(ct[0]-St[0],2)+Math.pow(ct[1]-St[1],2)),kt=Tt?Math.min(Tt/2,g)/Tt:0,zt=ct[0]+(St[0]-ct[0])*kt,Rt=zt,Ht=ct[1]+(St[1]-ct[1])*kt,$t=Ht,Zt=Rt-(Rt-ct[0])*roundCorner,Bt=$t-($t-ct[1])*roundCorner,it.setTripleAt(Rt,$t,zt,Ht,Zt,Bt,jt),jt+=1):(it.setTripleAt(et.v[ot][0],et.v[ot][1],et.o[ot][0],et.o[ot][1],et.i[ot][0],et.i[ot][1],jt),jt+=1);return it},RoundCornersModifier.prototype.processShapes=function(et){var g,it,ot=this.shapes.length,ut,ct,dt=this.rd.v;if(dt!==0){var ft,St;for(it=0;it<ot;it+=1){if(ft=this.shapes[it],St=ft.localShapeCollection,!(!ft.shape._mdf&&!this._mdf&&!et))for(St.releaseShapes(),ft.shape._mdf=!0,g=ft.shape.paths.shapes,ct=ft.shape.paths._length,ut=0;ut<ct;ut+=1)St.addShape(this.processPath(g[ut],dt));ft.shape.paths=ft.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function floatEqual(et,g){return Math.abs(et-g)*1e5<=Math.min(Math.abs(et),Math.abs(g))}function floatZero(et){return Math.abs(et)<=1e-5}function lerp(et,g,it){return et*(1-it)+g*it}function lerpPoint(et,g,it){return[lerp(et[0],g[0],it),lerp(et[1],g[1],it)]}function quadRoots(et,g,it){if(et===0)return[];var ot=g*g-4*et*it;if(ot<0)return[];var ut=-g/(2*et);if(ot===0)return[ut];var ct=Math.sqrt(ot)/(2*et);return[ut-ct,ut+ct]}function polynomialCoefficients(et,g,it,ot){return[-et+3*g-3*it+ot,3*et-6*g+3*it,-3*et+3*g,et]}function singlePoint(et){return new PolynomialBezier(et,et,et,et,!1)}function PolynomialBezier(et,g,it,ot,ut){ut&&pointEqual(et,g)&&(g=lerpPoint(et,ot,1/3)),ut&&pointEqual(it,ot)&&(it=lerpPoint(et,ot,2/3));var ct=polynomialCoefficients(et[0],g[0],it[0],ot[0]),dt=polynomialCoefficients(et[1],g[1],it[1],ot[1]);this.a=[ct[0],dt[0]],this.b=[ct[1],dt[1]],this.c=[ct[2],dt[2]],this.d=[ct[3],dt[3]],this.points=[et,g,it,ot]}PolynomialBezier.prototype.point=function(et){return[((this.a[0]*et+this.b[0])*et+this.c[0])*et+this.d[0],((this.a[1]*et+this.b[1])*et+this.c[1])*et+this.d[1]]},PolynomialBezier.prototype.derivative=function(et){return[(3*et*this.a[0]+2*this.b[0])*et+this.c[0],(3*et*this.a[1]+2*this.b[1])*et+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(et){var g=this.derivative(et);return Math.atan2(g[1],g[0])},PolynomialBezier.prototype.normalAngle=function(et){var g=this.derivative(et);return Math.atan2(g[0],g[1])},PolynomialBezier.prototype.inflectionPoints=function(){var et=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(et))return[];var g=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/et,it=g*g-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/et;if(it<0)return[];var ot=Math.sqrt(it);return floatZero(ot)?ot>0&&ot<1?[g]:[]:[g-ot,g+ot].filter(function(ut){return ut>0&&ut<1})},PolynomialBezier.prototype.split=function(et){if(et<=0)return[singlePoint(this.points[0]),this];if(et>=1)return[this,singlePoint(this.points[this.points.length-1])];var g=lerpPoint(this.points[0],this.points[1],et),it=lerpPoint(this.points[1],this.points[2],et),ot=lerpPoint(this.points[2],this.points[3],et),ut=lerpPoint(g,it,et),ct=lerpPoint(it,ot,et),dt=lerpPoint(ut,ct,et);return[new PolynomialBezier(this.points[0],g,ut,dt,!0),new PolynomialBezier(dt,ct,ot,this.points[3],!0)]};function extrema(et,g){var it=et.points[0][g],ot=et.points[et.points.length-1][g];if(it>ot){var ut=ot;ot=it,it=ut}for(var ct=quadRoots(3*et.a[g],2*et.b[g],et.c[g]),dt=0;dt<ct.length;dt+=1)if(ct[dt]>0&&ct[dt]<1){var ft=et.point(ct[dt])[g];ft<it?it=ft:ft>ot&&(ot=ft)}return{min:it,max:ot}}PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var et=this.bounds();return{left:et.x.min,right:et.x.max,top:et.y.min,bottom:et.y.max,width:et.x.max-et.x.min,height:et.y.max-et.y.min,cx:(et.x.max+et.x.min)/2,cy:(et.y.max+et.y.min)/2}};function intersectData(et,g,it){var ot=et.boundingBox();return{cx:ot.cx,cy:ot.cy,width:ot.width,height:ot.height,bez:et,t:(g+it)/2,t1:g,t2:it}}function splitData(et){var g=et.bez.split(.5);return[intersectData(g[0],et.t1,et.t),intersectData(g[1],et.t,et.t2)]}function boxIntersect(et,g){return Math.abs(et.cx-g.cx)*2<et.width+g.width&&Math.abs(et.cy-g.cy)*2<et.height+g.height}function intersectsImpl(et,g,it,ot,ut,ct){if(boxIntersect(et,g)){if(it>=ct||et.width<=ot&&et.height<=ot&&g.width<=ot&&g.height<=ot){ut.push([et.t,g.t]);return}var dt=splitData(et),ft=splitData(g);intersectsImpl(dt[0],ft[0],it+1,ot,ut,ct),intersectsImpl(dt[0],ft[1],it+1,ot,ut,ct),intersectsImpl(dt[1],ft[0],it+1,ot,ut,ct),intersectsImpl(dt[1],ft[1],it+1,ot,ut,ct)}}PolynomialBezier.prototype.intersections=function(et,g,it){g===void 0&&(g=2),it===void 0&&(it=7);var ot=[];return intersectsImpl(intersectData(this,0,1),intersectData(et,0,1),0,g,ot,it),ot},PolynomialBezier.shapeSegment=function(et,g){var it=(g+1)%et.length();return new PolynomialBezier(et.v[g],et.o[g],et.i[it],et.v[it],!0)},PolynomialBezier.shapeSegmentInverted=function(et,g){var it=(g+1)%et.length();return new PolynomialBezier(et.v[it],et.i[it],et.o[g],et.v[g],!0)};function crossProduct(et,g){return[et[1]*g[2]-et[2]*g[1],et[2]*g[0]-et[0]*g[2],et[0]*g[1]-et[1]*g[0]]}function lineIntersection(et,g,it,ot){var ut=[et[0],et[1],1],ct=[g[0],g[1],1],dt=[it[0],it[1],1],ft=[ot[0],ot[1],1],St=crossProduct(crossProduct(ut,ct),crossProduct(dt,ft));return floatZero(St[2])?null:[St[0]/St[2],St[1]/St[2]]}function polarOffset(et,g,it){return[et[0]+Math.cos(g)*it,et[1]-Math.sin(g)*it]}function pointDistance(et,g){return Math.hypot(et[0]-g[0],et[1]-g[1])}function pointEqual(et,g){return floatEqual(et[0],g[0])&&floatEqual(et[1],g[1])}function ZigZagModifier(){}extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(et,g){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(et,g.s,0,null,this),this.frequency=PropertyFactory.getProp(et,g.r,0,null,this),this.pointsType=PropertyFactory.getProp(et,g.pt,0,null,this),this._isAnimated=this.amplitude.effectsSequence.length!==0||this.frequency.effectsSequence.length!==0||this.pointsType.effectsSequence.length!==0};function setPoint(et,g,it,ot,ut,ct,dt){var ft=it-Math.PI/2,St=it+Math.PI/2,Tt=g[0]+Math.cos(it)*ot*ut,kt=g[1]-Math.sin(it)*ot*ut;et.setTripleAt(Tt,kt,Tt+Math.cos(ft)*ct,kt-Math.sin(ft)*ct,Tt+Math.cos(St)*dt,kt-Math.sin(St)*dt,et.length())}function getPerpendicularVector(et,g){var it=[g[0]-et[0],g[1]-et[1]],ot=-Math.PI*.5,ut=[Math.cos(ot)*it[0]-Math.sin(ot)*it[1],Math.sin(ot)*it[0]+Math.cos(ot)*it[1]];return ut}function getProjectingAngle(et,g){var it=g===0?et.length()-1:g-1,ot=(g+1)%et.length(),ut=et.v[it],ct=et.v[ot],dt=getPerpendicularVector(ut,ct);return Math.atan2(0,1)-Math.atan2(dt[1],dt[0])}function zigZagCorner(et,g,it,ot,ut,ct,dt){var ft=getProjectingAngle(g,it),St=g.v[it%g._length],Tt=g.v[it===0?g._length-1:it-1],kt=g.v[(it+1)%g._length],jt=ct===2?Math.sqrt(Math.pow(St[0]-Tt[0],2)+Math.pow(St[1]-Tt[1],2)):0,Rt=ct===2?Math.sqrt(Math.pow(St[0]-kt[0],2)+Math.pow(St[1]-kt[1],2)):0;setPoint(et,g.v[it%g._length],ft,dt,ot,Rt/((ut+1)*2),jt/((ut+1)*2))}function zigZagSegment(et,g,it,ot,ut,ct){for(var dt=0;dt<ot;dt+=1){var ft=(dt+1)/(ot+1),St=ut===2?Math.sqrt(Math.pow(g.points[3][0]-g.points[0][0],2)+Math.pow(g.points[3][1]-g.points[0][1],2)):0,Tt=g.normalAngle(ft),kt=g.point(ft);setPoint(et,kt,Tt,ct,it,St/((ot+1)*2),St/((ot+1)*2)),ct=-ct}return ct}ZigZagModifier.prototype.processPath=function(et,g,it,ot){var ut=et._length,ct=shapePool.newElement();if(ct.c=et.c,et.c||(ut-=1),ut===0)return ct;var dt=-1,ft=PolynomialBezier.shapeSegment(et,0);zigZagCorner(ct,et,0,g,it,ot,dt);for(var St=0;St<ut;St+=1)dt=zigZagSegment(ct,ft,g,it,ot,-dt),St===ut-1&&!et.c?ft=null:ft=PolynomialBezier.shapeSegment(et,(St+1)%ut),zigZagCorner(ct,et,St+1,g,it,ot,dt);return ct},ZigZagModifier.prototype.processShapes=function(et){var g,it,ot=this.shapes.length,ut,ct,dt=this.amplitude.v,ft=Math.max(0,Math.round(this.frequency.v)),St=this.pointsType.v;if(dt!==0){var Tt,kt;for(it=0;it<ot;it+=1){if(Tt=this.shapes[it],kt=Tt.localShapeCollection,!(!Tt.shape._mdf&&!this._mdf&&!et))for(kt.releaseShapes(),Tt.shape._mdf=!0,g=Tt.shape.paths.shapes,ct=Tt.shape.paths._length,ut=0;ut<ct;ut+=1)kt.addShape(this.processPath(g[ut],dt,ft,St));Tt.shape.paths=Tt.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function linearOffset(et,g,it){var ot=Math.atan2(g[0]-et[0],g[1]-et[1]);return[polarOffset(et,ot,it),polarOffset(g,ot,it)]}function offsetSegment(et,g){var it,ot,ut,ct,dt,ft,St;St=linearOffset(et.points[0],et.points[1],g),it=St[0],ot=St[1],St=linearOffset(et.points[1],et.points[2],g),ut=St[0],ct=St[1],St=linearOffset(et.points[2],et.points[3],g),dt=St[0],ft=St[1];var Tt=lineIntersection(it,ot,ut,ct);Tt===null&&(Tt=ot);var kt=lineIntersection(dt,ft,ut,ct);return kt===null&&(kt=dt),new PolynomialBezier(it,Tt,kt,ft)}function joinLines(et,g,it,ot,ut){var ct=g.points[3],dt=it.points[0];if(ot===3||pointEqual(ct,dt))return ct;if(ot===2){var ft=-g.tangentAngle(1),St=-it.tangentAngle(0)+Math.PI,Tt=lineIntersection(ct,polarOffset(ct,ft+Math.PI/2,100),dt,polarOffset(dt,ft+Math.PI/2,100)),kt=Tt?pointDistance(Tt,ct):pointDistance(ct,dt)/2,jt=polarOffset(ct,ft,2*kt*roundCorner);return et.setXYAt(jt[0],jt[1],"o",et.length()-1),jt=polarOffset(dt,St,2*kt*roundCorner),et.setTripleAt(dt[0],dt[1],dt[0],dt[1],jt[0],jt[1],et.length()),dt}var Rt=pointEqual(ct,g.points[2])?g.points[0]:g.points[2],$t=pointEqual(dt,it.points[1])?it.points[3]:it.points[1],zt=lineIntersection(Rt,ct,dt,$t);return zt&&pointDistance(zt,ct)<ut?(et.setTripleAt(zt[0],zt[1],zt[0],zt[1],zt[0],zt[1],et.length()),zt):ct}function getIntersection(et,g){var it=et.intersections(g);return it.length&&floatEqual(it[0][0],1)&&it.shift(),it.length?it[0]:null}function pruneSegmentIntersection(et,g){var it=et.slice(),ot=g.slice(),ut=getIntersection(et[et.length-1],g[0]);return ut&&(it[et.length-1]=et[et.length-1].split(ut[0])[0],ot[0]=g[0].split(ut[1])[1]),et.length>1&&g.length>1&&(ut=getIntersection(et[0],g[g.length-1]),ut)?[[et[0].split(ut[0])[0]],[g[g.length-1].split(ut[1])[1]]]:[it,ot]}function pruneIntersections(et){for(var g,it=1;it<et.length;it+=1)g=pruneSegmentIntersection(et[it-1],et[it]),et[it-1]=g[0],et[it]=g[1];return et.length>1&&(g=pruneSegmentIntersection(et[et.length-1],et[0]),et[et.length-1]=g[0],et[0]=g[1]),et}function offsetSegmentSplit(et,g){var it=et.inflectionPoints(),ot,ut,ct,dt;if(it.length===0)return[offsetSegment(et,g)];if(it.length===1||floatEqual(it[1],1))return ct=et.split(it[0]),ot=ct[0],ut=ct[1],[offsetSegment(ot,g),offsetSegment(ut,g)];ct=et.split(it[0]),ot=ct[0];var ft=(it[1]-it[0])/(1-it[0]);return ct=ct[1].split(ft),dt=ct[0],ut=ct[1],[offsetSegment(ot,g),offsetSegment(dt,g),offsetSegment(ut,g)]}function OffsetPathModifier(){}extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(et,g){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(et,g.a,0,null,this),this.miterLimit=PropertyFactory.getProp(et,g.ml,0,null,this),this.lineJoin=g.lj,this._isAnimated=this.amount.effectsSequence.length!==0},OffsetPathModifier.prototype.processPath=function(et,g,it,ot){var ut=shapePool.newElement();ut.c=et.c;var ct=et.length();et.c||(ct-=1);var dt,ft,St,Tt=[];for(dt=0;dt<ct;dt+=1)St=PolynomialBezier.shapeSegment(et,dt),Tt.push(offsetSegmentSplit(St,g));if(!et.c)for(dt=ct-1;dt>=0;dt-=1)St=PolynomialBezier.shapeSegmentInverted(et,dt),Tt.push(offsetSegmentSplit(St,g));Tt=pruneIntersections(Tt);var kt=null,jt=null;for(dt=0;dt<Tt.length;dt+=1){var Rt=Tt[dt];for(jt&&(kt=joinLines(ut,jt,Rt[0],it,ot)),jt=Rt[Rt.length-1],ft=0;ft<Rt.length;ft+=1)St=Rt[ft],kt&&pointEqual(St.points[0],kt)?ut.setXYAt(St.points[1][0],St.points[1][1],"o",ut.length()-1):ut.setTripleAt(St.points[0][0],St.points[0][1],St.points[1][0],St.points[1][1],St.points[0][0],St.points[0][1],ut.length()),ut.setTripleAt(St.points[3][0],St.points[3][1],St.points[3][0],St.points[3][1],St.points[2][0],St.points[2][1],ut.length()),kt=St.points[3]}return Tt.length&&joinLines(ut,jt,Tt[0][0],it,ot),ut},OffsetPathModifier.prototype.processShapes=function(et){var g,it,ot=this.shapes.length,ut,ct,dt=this.amount.v,ft=this.miterLimit.v,St=this.lineJoin;if(dt!==0){var Tt,kt;for(it=0;it<ot;it+=1){if(Tt=this.shapes[it],kt=Tt.localShapeCollection,!(!Tt.shape._mdf&&!this._mdf&&!et))for(kt.releaseShapes(),Tt.shape._mdf=!0,g=Tt.shape.paths.shapes,ct=Tt.shape.paths._length,ut=0;ut<ct;ut+=1)kt.addShape(this.processPath(g[ut],dt,St,ft));Tt.shape.paths=Tt.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function getFontProperties(et){for(var g=et.fStyle?et.fStyle.split(" "):[],it="normal",ot="normal",ut=g.length,ct,dt=0;dt<ut;dt+=1)switch(ct=g[dt].toLowerCase(),ct){case"italic":ot="italic";break;case"bold":it="700";break;case"black":it="900";break;case"medium":it="500";break;case"regular":case"normal":it="400";break;case"light":case"thin":it="200";break}return{style:ot,weight:et.fWeight||it}}var FontManager=function(){var et=5e3,g={w:0,size:0,shapes:[],data:{shapes:[]}},it=[];it=it.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var ot=127988,ut=917631,ct=917601,dt=917626,ft=65039,St=8205,Tt=127462,kt=127487,jt=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function Rt(dr){var pr=dr.split(","),nr,ir=pr.length,mr=[];for(nr=0;nr<ir;nr+=1)pr[nr]!=="sans-serif"&&pr[nr]!=="monospace"&&mr.push(pr[nr]);return mr.join(",")}function $t(dr,pr){var nr=createTag("span");nr.setAttribute("aria-hidden",!0),nr.style.fontFamily=pr;var ir=createTag("span");ir.innerText="giItT1WQy@!-/#",nr.style.position="absolute",nr.style.left="-10000px",nr.style.top="-10000px",nr.style.fontSize="300px",nr.style.fontVariant="normal",nr.style.fontStyle="normal",nr.style.fontWeight="normal",nr.style.letterSpacing="0",nr.appendChild(ir),document.body.appendChild(nr);var mr=ir.offsetWidth;return ir.style.fontFamily=Rt(dr)+", "+pr,{node:ir,w:mr,parent:nr}}function zt(){var dr,pr=this.fonts.length,nr,ir,mr=pr;for(dr=0;dr<pr;dr+=1)this.fonts[dr].loaded?mr-=1:this.fonts[dr].fOrigin==="n"||this.fonts[dr].origin===0?this.fonts[dr].loaded=!0:(nr=this.fonts[dr].monoCase.node,ir=this.fonts[dr].monoCase.w,nr.offsetWidth!==ir?(mr-=1,this.fonts[dr].loaded=!0):(nr=this.fonts[dr].sansCase.node,ir=this.fonts[dr].sansCase.w,nr.offsetWidth!==ir&&(mr-=1,this.fonts[dr].loaded=!0)),this.fonts[dr].loaded&&(this.fonts[dr].sansCase.parent.parentNode.removeChild(this.fonts[dr].sansCase.parent),this.fonts[dr].monoCase.parent.parentNode.removeChild(this.fonts[dr].monoCase.parent)));mr!==0&&Date.now()-this.initTime<et?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function Ht(dr,pr){var nr=document.body&&pr?"svg":"canvas",ir,mr=getFontProperties(dr);if(nr==="svg"){var lr=createNS("text");lr.style.fontSize="100px",lr.setAttribute("font-family",dr.fFamily),lr.setAttribute("font-style",mr.style),lr.setAttribute("font-weight",mr.weight),lr.textContent="1",dr.fClass?(lr.style.fontFamily="inherit",lr.setAttribute("class",dr.fClass)):lr.style.fontFamily=dr.fFamily,pr.appendChild(lr),ir=lr}else{var br=new OffscreenCanvas(500,500).getContext("2d");br.font=mr.style+" "+mr.weight+" 100px "+dr.fFamily,ir=br}function Er(Sr){return nr==="svg"?(ir.textContent=Sr,ir.getComputedTextLength()):ir.measureText(Sr).width}return{measureText:Er}}function Zt(dr,pr){if(!dr){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=dr.list;return}if(!document.body){this.isLoaded=!0,dr.list.forEach(function(kr){kr.helper=Ht(kr),kr.cache={}}),this.fonts=dr.list;return}var nr=dr.list,ir,mr=nr.length,lr=mr;for(ir=0;ir<mr;ir+=1){var br=!0,Er,Sr;if(nr[ir].loaded=!1,nr[ir].monoCase=$t(nr[ir].fFamily,"monospace"),nr[ir].sansCase=$t(nr[ir].fFamily,"sans-serif"),!nr[ir].fPath)nr[ir].loaded=!0,lr-=1;else if(nr[ir].fOrigin==="p"||nr[ir].origin===3){if(Er=document.querySelectorAll('style[f-forigin="p"][f-family="'+nr[ir].fFamily+'"], style[f-origin="3"][f-family="'+nr[ir].fFamily+'"]'),Er.length>0&&(br=!1),br){var _r=createTag("style");_r.setAttribute("f-forigin",nr[ir].fOrigin),_r.setAttribute("f-origin",nr[ir].origin),_r.setAttribute("f-family",nr[ir].fFamily),_r.type="text/css",_r.innerText="@font-face {font-family: "+nr[ir].fFamily+"; font-style: normal; src: url('"+nr[ir].fPath+"');}",pr.appendChild(_r)}}else if(nr[ir].fOrigin==="g"||nr[ir].origin===1){for(Er=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),Sr=0;Sr<Er.length;Sr+=1)Er[Sr].href.indexOf(nr[ir].fPath)!==-1&&(br=!1);if(br){var wr=createTag("link");wr.setAttribute("f-forigin",nr[ir].fOrigin),wr.setAttribute("f-origin",nr[ir].origin),wr.type="text/css",wr.rel="stylesheet",wr.href=nr[ir].fPath,document.body.appendChild(wr)}}else if(nr[ir].fOrigin==="t"||nr[ir].origin===2){for(Er=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),Sr=0;Sr<Er.length;Sr+=1)nr[ir].fPath===Er[Sr].src&&(br=!1);if(br){var Ar=createTag("link");Ar.setAttribute("f-forigin",nr[ir].fOrigin),Ar.setAttribute("f-origin",nr[ir].origin),Ar.setAttribute("rel","stylesheet"),Ar.setAttribute("href",nr[ir].fPath),pr.appendChild(Ar)}}nr[ir].helper=Ht(nr[ir],pr),nr[ir].cache={},this.fonts.push(nr[ir])}lr===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function Bt(dr){if(dr){this.chars||(this.chars=[]);var pr,nr=dr.length,ir,mr=this.chars.length,lr;for(pr=0;pr<nr;pr+=1){for(ir=0,lr=!1;ir<mr;)this.chars[ir].style===dr[pr].style&&this.chars[ir].fFamily===dr[pr].fFamily&&this.chars[ir].ch===dr[pr].ch&&(lr=!0),ir+=1;lr||(this.chars.push(dr[pr]),mr+=1)}}}function Ut(dr,pr,nr){for(var ir=0,mr=this.chars.length;ir<mr;){if(this.chars[ir].ch===dr&&this.chars[ir].style===pr&&this.chars[ir].fFamily===nr)return this.chars[ir];ir+=1}return(typeof dr=="string"&&dr.charCodeAt(0)!==13||!dr)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",dr,pr,nr)),g}function Kt(dr,pr,nr){var ir=this.getFontByName(pr),mr=dr;if(!ir.cache[mr]){var lr=ir.helper;if(dr===" "){var br=lr.measureText("|"+dr+"|"),Er=lr.measureText("||");ir.cache[mr]=(br-Er)/100}else ir.cache[mr]=lr.measureText(dr)/100}return ir.cache[mr]*nr}function Yt(dr){for(var pr=0,nr=this.fonts.length;pr<nr;){if(this.fonts[pr].fName===dr)return this.fonts[pr];pr+=1}return this.fonts[0]}function Jt(dr){var pr=0,nr=dr.charCodeAt(0);if(nr>=55296&&nr<=56319){var ir=dr.charCodeAt(1);ir>=56320&&ir<=57343&&(pr=(nr-55296)*1024+ir-56320+65536)}return pr}function er(dr,pr){var nr=dr.toString(16)+pr.toString(16);return jt.indexOf(nr)!==-1}function tr(dr){return dr===St}function rr(dr){return dr===ft}function hr(dr){var pr=Jt(dr);return pr>=Tt&&pr<=kt}function ar(dr){return hr(dr.substr(0,2))&&hr(dr.substr(2,2))}function or(dr){return it.indexOf(dr)!==-1}function cr(dr,pr){var nr=Jt(dr.substr(pr,2));if(nr!==ot)return!1;var ir=0;for(pr+=2;ir<5;){if(nr=Jt(dr.substr(pr,2)),nr<ct||nr>dt)return!1;ir+=1,pr+=2}return Jt(dr.substr(pr,2))===ut}function gr(){this.isLoaded=!0}var yr=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};yr.isModifier=er,yr.isZeroWidthJoiner=tr,yr.isFlagEmoji=ar,yr.isRegionalCode=hr,yr.isCombinedCharacter=or,yr.isRegionalFlag=cr,yr.isVariationSelector=rr,yr.BLACK_FLAG_CODE_POINT=ot;var xr={addChars:Bt,addFonts:Zt,getCharData:Ut,getFontByName:Yt,measureText:Kt,checkLoadedFonts:zt,setIsLoaded:gr};return yr.prototype=xr,yr}();function SlotManager(et){this.animationData=et}SlotManager.prototype.getProp=function(et){return this.animationData.slots&&this.animationData.slots[et.sid]?Object.assign(et,this.animationData.slots[et.sid].p):et};function slotFactory(et){return new SlotManager(et)}function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(g){this.renderableComponents.indexOf(g)===-1&&this.renderableComponents.push(g)},removeRenderableComponent:function(g){this.renderableComponents.indexOf(g)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(g),1)},prepareRenderableFrame:function(g){this.checkLayerLimits(g)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(g){this.data.ip-this.data.st<=g&&this.data.op-this.data.st>g?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var g,it=this.renderableComponents.length;for(g=0;g<it;g+=1)this.renderableComponents[g].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=function(){var et={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(g){return et[g]||""}}();function SliderEffect(et,g,it){this.p=PropertyFactory.getProp(g,et.v,0,0,it)}function AngleEffect(et,g,it){this.p=PropertyFactory.getProp(g,et.v,0,0,it)}function ColorEffect(et,g,it){this.p=PropertyFactory.getProp(g,et.v,1,0,it)}function PointEffect(et,g,it){this.p=PropertyFactory.getProp(g,et.v,1,0,it)}function LayerIndexEffect(et,g,it){this.p=PropertyFactory.getProp(g,et.v,0,0,it)}function MaskIndexEffect(et,g,it){this.p=PropertyFactory.getProp(g,et.v,0,0,it)}function CheckboxEffect(et,g,it){this.p=PropertyFactory.getProp(g,et.v,0,0,it)}function NoValueEffect(){this.p={}}function EffectsManager(et,g){var it=et.ef||[];this.effectElements=[];var ot,ut=it.length,ct;for(ot=0;ot<ut;ot+=1)ct=new GroupEffect(it[ot],g),this.effectElements.push(ct)}function GroupEffect(et,g){this.init(et,g)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(et,g){this.data=et,this.effectElements=[],this.initDynamicPropertyContainer(g);var it,ot=this.data.ef.length,ut,ct=this.data.ef;for(it=0;it<ot;it+=1){switch(ut=null,ct[it].ty){case 0:ut=new SliderEffect(ct[it],g,this);break;case 1:ut=new AngleEffect(ct[it],g,this);break;case 2:ut=new ColorEffect(ct[it],g,this);break;case 3:ut=new PointEffect(ct[it],g,this);break;case 4:case 7:ut=new CheckboxEffect(ct[it],g,this);break;case 10:ut=new LayerIndexEffect(ct[it],g,this);break;case 11:ut=new MaskIndexEffect(ct[it],g,this);break;case 5:ut=new EffectsManager(ct[it],g);break;default:ut=new NoValueEffect(ct[it]);break}ut&&this.effectElements.push(ut)}};function BaseElement(){}BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var g=0,it=this.data.masksProperties.length;g<it;){if(this.data.masksProperties[g].mode!=="n"&&this.data.masksProperties[g].cl!==!1)return!0;g+=1}return!1},initExpressions:function(){var g=getExpressionInterfaces();if(g){var it=g("layer"),ot=g("effects"),ut=g("shape"),ct=g("text"),dt=g("comp");this.layerInterface=it(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var ft=ot.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(ft),this.data.ty===0||this.data.xt?this.compInterface=dt(this):this.data.ty===4?(this.layerInterface.shapeInterface=ut(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=ct(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var g=getBlendMode(this.data.bm),it=this.baseElement||this.layerElement;it.style["mix-blend-mode"]=g},initBaseData:function(g,it,ot){this.globalData=it,this.comp=ot,this.data=g,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}};function FrameElement(){}FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(g,it){var ot,ut=this.dynamicProperties.length;for(ot=0;ot<ut;ot+=1)(it||this._isParent&&this.dynamicProperties[ot].propType==="transform")&&(this.dynamicProperties[ot].getValue(),this.dynamicProperties[ot]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(g){this.dynamicProperties.indexOf(g)===-1&&this.dynamicProperties.push(g)}};function FootageElement(et,g,it){this.initFrame(),this.initRenderable(),this.assetData=g.getAssetData(et.refId),this.footageData=g.imageLoader.getAsset(this.assetData),this.initBaseData(et,g,it)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var et=getExpressionInterfaces();if(et){var g=et("footage");this.layerInterface=g(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData};function AudioElement(et,g,it){this.initFrame(),this.initRenderable(),this.assetData=g.getAssetData(et.refId),this.initBaseData(et,g,it),this._isPlaying=!1,this._canPlay=!1;var ot=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(ot),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=et.tm?PropertyFactory.getProp(this,et.tm,0,g.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,et.au&&et.au.lv?et.au.lv:{k:[100]},1,.01,this)}AudioElement.prototype.prepareFrame=function(et){if(this.prepareRenderableFrame(et,!0),this.prepareProperties(et,!0),this.tm._placeholder)this._currentTime=et/this.data.sr;else{var g=this.tm.v;this._currentTime=g}this._volume=this.lv.v[0];var it=this._volume*this._volumeMultiplier;this._previousVolume!==it&&(this._previousVolume=it,this.audio.volume(it))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(et){this.audio.rate(et)},AudioElement.prototype.volume=function(et){this._volumeMultiplier=et,this._previousVolume=et*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){};function BaseRenderer(){}BaseRenderer.prototype.checkLayers=function(et){var g,it=this.layers.length,ot;for(this.completeLayers=!0,g=it-1;g>=0;g-=1)this.elements[g]||(ot=this.layers[g],ot.ip-ot.st<=et-this.layers[g].st&&ot.op-ot.st>et-this.layers[g].st&&this.buildItem(g)),this.completeLayers=this.elements[g]?this.completeLayers:!1;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(et){switch(et.ty){case 2:return this.createImage(et);case 0:return this.createComp(et);case 1:return this.createSolid(et);case 3:return this.createNull(et);case 4:return this.createShape(et);case 5:return this.createText(et);case 6:return this.createAudio(et);case 13:return this.createCamera(et);case 15:return this.createFootage(et);default:return this.createNull(et)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(et){return new AudioElement(et,this.globalData,this)},BaseRenderer.prototype.createFootage=function(et){return new FootageElement(et,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var et,g=this.layers.length;for(et=0;et<g;et+=1)this.buildItem(et);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(et){this.completeLayers=!1;var g,it=et.length,ot,ut=this.layers.length;for(g=0;g<it;g+=1)for(ot=0;ot<ut;){if(this.layers[ot].id===et[g].id){this.layers[ot]=et[g];break}ot+=1}},BaseRenderer.prototype.setProjectInterface=function(et){this.globalData.projectInterface=et},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(et,g,it){for(var ot=this.elements,ut=this.layers,ct=0,dt=ut.length;ct<dt;)ut[ct].ind==g&&(!ot[ct]||ot[ct]===!0?(this.buildItem(ct),this.addPendingElement(et)):(it.push(ot[ct]),ot[ct].setAsParent(),ut[ct].parent!==void 0?this.buildElementParenting(et,ut[ct].parent,it):et.setHierarchy(it))),ct+=1},BaseRenderer.prototype.addPendingElement=function(et){this.pendingElements.push(et)},BaseRenderer.prototype.searchExtraCompositions=function(et){var g,it=et.length;for(g=0;g<it;g+=1)if(et[g].xt){var ot=this.createComp(et[g]);ot.initExpressions(),this.globalData.projectInterface.registerComposition(ot)}},BaseRenderer.prototype.getElementById=function(et){var g,it=this.elements.length;for(g=0;g<it;g+=1)if(this.elements[g].data.ind===et)return this.elements[g];return null},BaseRenderer.prototype.getElementByPath=function(et){var g=et.shift(),it;if(typeof g=="number")it=this.elements[g];else{var ot,ut=this.elements.length;for(ot=0;ot<ut;ot+=1)if(this.elements[ot].data.nm===g){it=this.elements[ot];break}}return et.length===0?it:it.getElementByPath(et)},BaseRenderer.prototype.setupGlobalData=function(et,g){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(et),this.globalData.fontManager.addChars(et.chars),this.globalData.fontManager.addFonts(et.fonts,g),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=et.fr,this.globalData.nm=et.nm,this.globalData.compSize={w:et.w,h:et.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}TransformElement.prototype={initTransform:function(){var g=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:g,localMat:g,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var g,it=this.finalTransform.mat,ot=0,ut=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;ot<ut;){if(this.hierarchy[ot].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}ot+=1}if(this.finalTransform._matMdf)for(g=this.finalTransform.mProp.v.props,it.cloneFromProps(g),ot=0;ot<ut;ot+=1)it.multiply(this.hierarchy[ot].finalTransform.mProp.v)}this.finalTransform._matMdf&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var g=0,it=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;g<it;)this.localTransforms[g]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[g]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),g+=1;if(this.finalTransform._localMatMdf){var ot=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(ot),g=1;g<it;g+=1){var ut=this.localTransforms[g].matrix;ot.multiply(ut)}ot.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var ct=this.finalTransform.localOpacity;for(g=0;g<it;g+=1)ct*=this.localTransforms[g].opacity*.01;this.finalTransform.localOpacity=ct}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var g=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(g.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var it=0,ot=g.length;for(it=0;it<ot;it+=1)this.localTransforms.push(g[it])}}},globalToLocal:function(g){var it=[];it.push(this.finalTransform);for(var ot=!0,ut=this.comp;ot;)ut.finalTransform?(ut.data.hasMask&&it.splice(0,0,ut.finalTransform),ut=ut.comp):ot=!1;var ct,dt=it.length,ft;for(ct=0;ct<dt;ct+=1)ft=it[ct].mat.applyToPointArray(0,0,0),g=[g[0]-ft[0],g[1]-ft[1],0];return g},mHelper:new Matrix};function MaskElement(et,g,it){this.data=et,this.element=g,this.globalData=it,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var ot=this.globalData.defs,ut,ct=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(ct),this.solidPath="";var dt,ft=this.masksProperties,St=0,Tt=[],kt,jt,Rt=createElementID(),$t,zt,Ht,Zt,Bt="clipPath",Ut="clip-path";for(ut=0;ut<ct;ut+=1)if((ft[ut].mode!=="a"&&ft[ut].mode!=="n"||ft[ut].inv||ft[ut].o.k!==100||ft[ut].o.x)&&(Bt="mask",Ut="mask"),(ft[ut].mode==="s"||ft[ut].mode==="i")&&St===0?($t=createNS("rect"),$t.setAttribute("fill","#ffffff"),$t.setAttribute("width",this.element.comp.data.w||0),$t.setAttribute("height",this.element.comp.data.h||0),Tt.push($t)):$t=null,dt=createNS("path"),ft[ut].mode==="n")this.viewData[ut]={op:PropertyFactory.getProp(this.element,ft[ut].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,ft[ut],3),elem:dt,lastPath:""},ot.appendChild(dt);else{St+=1,dt.setAttribute("fill",ft[ut].mode==="s"?"#000000":"#ffffff"),dt.setAttribute("clip-rule","nonzero");var Kt;if(ft[ut].x.k!==0?(Bt="mask",Ut="mask",Zt=PropertyFactory.getProp(this.element,ft[ut].x,0,null,this.element),Kt=createElementID(),zt=createNS("filter"),zt.setAttribute("id",Kt),Ht=createNS("feMorphology"),Ht.setAttribute("operator","erode"),Ht.setAttribute("in","SourceGraphic"),Ht.setAttribute("radius","0"),zt.appendChild(Ht),ot.appendChild(zt),dt.setAttribute("stroke",ft[ut].mode==="s"?"#000000":"#ffffff")):(Ht=null,Zt=null),this.storedData[ut]={elem:dt,x:Zt,expan:Ht,lastPath:"",lastOperator:"",filterId:Kt,lastRadius:0},ft[ut].mode==="i"){jt=Tt.length;var Yt=createNS("g");for(kt=0;kt<jt;kt+=1)Yt.appendChild(Tt[kt]);var Jt=createNS("mask");Jt.setAttribute("mask-type","alpha"),Jt.setAttribute("id",Rt+"_"+St),Jt.appendChild(dt),ot.appendChild(Jt),Yt.setAttribute("mask","url("+getLocationHref()+"#"+Rt+"_"+St+")"),Tt.length=0,Tt.push(Yt)}else Tt.push(dt);ft[ut].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[ut]={elem:dt,lastPath:"",op:PropertyFactory.getProp(this.element,ft[ut].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,ft[ut],3),invRect:$t},this.viewData[ut].prop.k||this.drawPath(ft[ut],this.viewData[ut].prop.v,this.viewData[ut])}for(this.maskElement=createNS(Bt),ct=Tt.length,ut=0;ut<ct;ut+=1)this.maskElement.appendChild(Tt[ut]);St>0&&(this.maskElement.setAttribute("id",Rt),this.element.maskedElement.setAttribute(Ut,"url("+getLocationHref()+"#"+Rt+")"),ot.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}MaskElement.prototype.getMaskProperty=function(et){return this.viewData[et].prop},MaskElement.prototype.renderFrame=function(et){var g=this.element.finalTransform.mat,it,ot=this.masksProperties.length;for(it=0;it<ot;it+=1)if((this.viewData[it].prop._mdf||et)&&this.drawPath(this.masksProperties[it],this.viewData[it].prop.v,this.viewData[it]),(this.viewData[it].op._mdf||et)&&this.viewData[it].elem.setAttribute("fill-opacity",this.viewData[it].op.v),this.masksProperties[it].mode!=="n"&&(this.viewData[it].invRect&&(this.element.finalTransform.mProp._mdf||et)&&this.viewData[it].invRect.setAttribute("transform",g.getInverseMatrix().to2dCSS()),this.storedData[it].x&&(this.storedData[it].x._mdf||et))){var ut=this.storedData[it].expan;this.storedData[it].x.v<0?(this.storedData[it].lastOperator!=="erode"&&(this.storedData[it].lastOperator="erode",this.storedData[it].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[it].filterId+")")),ut.setAttribute("radius",-this.storedData[it].x.v)):(this.storedData[it].lastOperator!=="dilate"&&(this.storedData[it].lastOperator="dilate",this.storedData[it].elem.setAttribute("filter",null)),this.storedData[it].elem.setAttribute("stroke-width",this.storedData[it].x.v*2))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var et="M0,0 ";return et+=" h"+this.globalData.compSize.w,et+=" v"+this.globalData.compSize.h,et+=" h-"+this.globalData.compSize.w,et+=" v-"+this.globalData.compSize.h+" ",et},MaskElement.prototype.drawPath=function(et,g,it){var ot=" M"+g.v[0][0]+","+g.v[0][1],ut,ct;for(ct=g._length,ut=1;ut<ct;ut+=1)ot+=" C"+g.o[ut-1][0]+","+g.o[ut-1][1]+" "+g.i[ut][0]+","+g.i[ut][1]+" "+g.v[ut][0]+","+g.v[ut][1];if(g.c&&ct>1&&(ot+=" C"+g.o[ut-1][0]+","+g.o[ut-1][1]+" "+g.i[0][0]+","+g.i[0][1]+" "+g.v[0][0]+","+g.v[0][1]),it.lastPath!==ot){var dt="";it.elem&&(g.c&&(dt=et.inv?this.solidPath+ot:ot),it.elem.setAttribute("d",dt)),it.lastPath=ot}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var et={};et.createFilter=g,et.createAlphaToLuminanceFilter=it;function g(ot,ut){var ct=createNS("filter");return ct.setAttribute("id",ot),ut!==!0&&(ct.setAttribute("filterUnits","objectBoundingBox"),ct.setAttribute("x","0%"),ct.setAttribute("y","0%"),ct.setAttribute("width","100%"),ct.setAttribute("height","100%")),ct}function it(){var ot=createNS("feColorMatrix");return ot.setAttribute("type","matrix"),ot.setAttribute("color-interpolation-filters","sRGB"),ot.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),ot}return et}(),featureSupport=function(){var et={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas<"u"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(et.maskType=!1),/firefox/i.test(navigator.userAgent)&&(et.svgLumaHidden=!1),et}(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(et){var g,it="SourceGraphic",ot=et.data.ef?et.data.ef.length:0,ut=createElementID(),ct=filtersFactory.createFilter(ut,!0),dt=0;this.filters=[];var ft;for(g=0;g<ot;g+=1){ft=null;var St=et.data.ef[g].ty;if(registeredEffects$1[St]){var Tt=registeredEffects$1[St].effect;ft=new Tt(ct,et.effectsManager.effectElements[g],et,idPrefix+dt,it),it=idPrefix+dt,registeredEffects$1[St].countsAsEffect&&(dt+=1)}ft&&this.filters.push(ft)}dt&&(et.globalData.defs.appendChild(ct),et.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+ut+")")),this.filters.length&&et.addRenderableComponent(this)}SVGEffects.prototype.renderFrame=function(et){var g,it=this.filters.length;for(g=0;g<it;g+=1)this.filters[g].renderFrame(et)},SVGEffects.prototype.getEffects=function(et){var g,it=this.filters.length,ot=[];for(g=0;g<it;g+=1)this.filters[g].type===et&&ot.push(this.filters[g]);return ot};function registerEffect$1(et,g,it){registeredEffects$1[et]={effect:g,countsAsEffect:it}}function SVGBaseElement(){}SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var g=null;if(this.data.td){this.matteMasks={};var it=createNS("g");it.setAttribute("id",this.layerId),it.appendChild(this.layerElement),g=it,this.globalData.defs.appendChild(it)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),g=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var ot=createNS("clipPath"),ut=createNS("path");ut.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var ct=createElementID();if(ot.setAttribute("id",ct),ot.appendChild(ut),this.globalData.defs.appendChild(ot),this.checkMasks()){var dt=createNS("g");dt.setAttribute("clip-path","url("+getLocationHref()+"#"+ct+")"),dt.appendChild(this.layerElement),this.transformedElement=dt,g?g.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+ct+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(g){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[g]){var it=this.layerId+"_"+g,ot,ut,ct,dt;if(g===1||g===3){var ft=createNS("mask");ft.setAttribute("id",it),ft.setAttribute("mask-type",g===3?"luminance":"alpha"),ct=createNS("use"),ct.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),ft.appendChild(ct),this.globalData.defs.appendChild(ft),!featureSupport.maskType&&g===1&&(ft.setAttribute("mask-type","luminance"),ot=createElementID(),ut=filtersFactory.createFilter(ot),this.globalData.defs.appendChild(ut),ut.appendChild(filtersFactory.createAlphaToLuminanceFilter()),dt=createNS("g"),dt.appendChild(ct),ft.appendChild(dt),dt.setAttribute("filter","url("+getLocationHref()+"#"+ot+")"))}else if(g===2){var St=createNS("mask");St.setAttribute("id",it),St.setAttribute("mask-type","alpha");var Tt=createNS("g");St.appendChild(Tt),ot=createElementID(),ut=filtersFactory.createFilter(ot);var kt=createNS("feComponentTransfer");kt.setAttribute("in","SourceGraphic"),ut.appendChild(kt);var jt=createNS("feFuncA");jt.setAttribute("type","table"),jt.setAttribute("tableValues","1.0 0.0"),kt.appendChild(jt),this.globalData.defs.appendChild(ut);var Rt=createNS("rect");Rt.setAttribute("width",this.comp.data.w),Rt.setAttribute("height",this.comp.data.h),Rt.setAttribute("x","0"),Rt.setAttribute("y","0"),Rt.setAttribute("fill","#ffffff"),Rt.setAttribute("opacity","0"),Tt.setAttribute("filter","url("+getLocationHref()+"#"+ot+")"),Tt.appendChild(Rt),ct=createNS("use"),ct.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),Tt.appendChild(ct),featureSupport.maskType||(St.setAttribute("mask-type","luminance"),ut.appendChild(filtersFactory.createAlphaToLuminanceFilter()),dt=createNS("g"),Tt.appendChild(Rt),dt.appendChild(this.layerElement),Tt.appendChild(dt)),this.globalData.defs.appendChild(St)}this.matteMasks[g]=it}return this.matteMasks[g]},setMatte:function(g){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+g+")")}};function HierarchyElement(){}HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(g){this.hierarchy=g},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}};function RenderableDOMElement(){}(function(){var et={initElement:function(it,ot,ut){this.initFrame(),this.initBaseData(it,ot,ut),this.initTransform(it,ot,ut),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var it=this.baseElement||this.layerElement;it.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var it=this.baseElement||this.layerElement;it.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(it){this._mdf=!1,this.prepareRenderableFrame(it),this.prepareProperties(it,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};extendPrototype([RenderableElement,createProxyFunction(et)],RenderableDOMElement)})();function IImageElement(et,g,it){this.assetData=g.getAssetData(et.refId),this.assetData&&this.assetData.sid&&(this.assetData=g.slotManager.getProp(this.assetData)),this.initElement(et,g,it),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var et=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",et),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect};function ProcessedElement(et,g){this.elem=et,this.pos=g}function IShapeElement(){}IShapeElement.prototype={addShapeToModifiers:function(g){var it,ot=this.shapeModifiers.length;for(it=0;it<ot;it+=1)this.shapeModifiers[it].addShape(g)},isShapeInAnimatedModifiers:function(g){for(var it=0,ot=this.shapeModifiers.length;it<ot;)if(this.shapeModifiers[it].isAnimatedWithShape(g))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var g,it=this.shapes.length;for(g=0;g<it;g+=1)this.shapes[g].sh.reset();it=this.shapeModifiers.length;var ot;for(g=it-1;g>=0&&(ot=this.shapeModifiers[g].processShapes(this._isFirstFrame),!ot);g-=1);}},searchProcessedElement:function(g){for(var it=this.processedElements,ot=0,ut=it.length;ot<ut;){if(it[ot].elem===g)return it[ot].pos;ot+=1}return 0},addProcessedElement:function(g,it){for(var ot=this.processedElements,ut=ot.length;ut;)if(ut-=1,ot[ut].elem===g){ot[ut].pos=it;return}ot.push(new ProcessedElement(g,it))},prepareFrame:function(g){this.prepareRenderableFrame(g),this.prepareProperties(g,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(et,g,it){this.caches=[],this.styles=[],this.transformers=et,this.lStr="",this.sh=it,this.lvl=g,this._isAnimated=!!it.k;for(var ot=0,ut=et.length;ot<ut;){if(et[ot].mProps.dynamicProperties.length){this._isAnimated=!0;break}ot+=1}}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0};function SVGStyleData(et,g){this.data=et,this.type=et.ty,this.d="",this.lvl=g,this._mdf=!1,this.closed=et.hd===!0,this.pElem=createNS("path"),this.msElem=null}SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1};function DashProperty(et,g,it,ot){this.elem=et,this.frameId=-1,this.dataProps=createSizedArray(g.length),this.renderer=it,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",g.length?g.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(ot);var ut,ct=g.length||0,dt;for(ut=0;ut<ct;ut+=1)dt=PropertyFactory.getProp(et,g[ut].v,0,0,this),this.k=dt.k||this.k,this.dataProps[ut]={n:g[ut].n,p:dt};this.k||this.getValue(!0),this._isAnimated=this.k}DashProperty.prototype.getValue=function(et){if(!(this.elem.globalData.frameId===this.frameId&&!et)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||et,this._mdf)){var g=0,it=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),g=0;g<it;g+=1)this.dataProps[g].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[g].p.v:this.dashArray[g]=this.dataProps[g].p.v:this.dashoffset[0]=this.dataProps[g].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty);function SVGStrokeStyleData(et,g,it){this.initDynamicPropertyContainer(et),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(et,g.o,0,.01,this),this.w=PropertyFactory.getProp(et,g.w,0,null,this),this.d=new DashProperty(et,g.d||{},"svg",this),this.c=PropertyFactory.getProp(et,g.c,1,255,this),this.style=it,this._isAnimated=!!this._isAnimated}extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData);function SVGFillStyleData(et,g,it){this.initDynamicPropertyContainer(et),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(et,g.o,0,.01,this),this.c=PropertyFactory.getProp(et,g.c,1,255,this),this.style=it}extendPrototype([DynamicPropertyContainer],SVGFillStyleData);function SVGNoStyleData(et,g,it){this.initDynamicPropertyContainer(et),this.getValue=this.iterateDynamicProperties,this.style=it}extendPrototype([DynamicPropertyContainer],SVGNoStyleData);function GradientProperty(et,g,it){this.data=g,this.c=createTypedArray("uint8c",g.p*4);var ot=g.k.k[0].s?g.k.k[0].s.length-g.p*4:g.k.k.length-g.p*4;this.o=createTypedArray("float32",ot),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=ot,this.initDynamicPropertyContainer(it),this.prop=PropertyFactory.getProp(et,g.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}GradientProperty.prototype.comparePoints=function(et,g){for(var it=0,ot=this.o.length/2,ut;it<ot;){if(ut=Math.abs(et[it*4]-et[g*4+it*2]),ut>.01)return!1;it+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var et=0,g=this.data.k.k.length;et<g;){if(!this.comparePoints(this.data.k.k[et].s,this.data.p))return!1;et+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(et){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||et){var g,it=this.data.p*4,ot,ut;for(g=0;g<it;g+=1)ot=g%4===0?100:255,ut=Math.round(this.prop.v[g]*ot),this.c[g]!==ut&&(this.c[g]=ut,this._cmdf=!et);if(this.o.length)for(it=this.prop.v.length,g=this.data.p*4;g<it;g+=1)ot=g%2===0?100:1,ut=g%2===0?Math.round(this.prop.v[g]*100):this.prop.v[g],this.o[g-this.data.p*4]!==ut&&(this.o[g-this.data.p*4]=ut,this._omdf=!et);this._mdf=!et}},extendPrototype([DynamicPropertyContainer],GradientProperty);function SVGGradientFillStyleData(et,g,it){this.initDynamicPropertyContainer(et),this.getValue=this.iterateDynamicProperties,this.initGradientData(et,g,it)}SVGGradientFillStyleData.prototype.initGradientData=function(et,g,it){this.o=PropertyFactory.getProp(et,g.o,0,.01,this),this.s=PropertyFactory.getProp(et,g.s,1,null,this),this.e=PropertyFactory.getProp(et,g.e,1,null,this),this.h=PropertyFactory.getProp(et,g.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(et,g.a||{k:0},0,degToRads,this),this.g=new GradientProperty(et,g.g,this),this.style=it,this.stops=[],this.setGradientData(it.pElem,g),this.setGradientOpacity(g,it),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(et,g){var it=createElementID(),ot=createNS(g.t===1?"linearGradient":"radialGradient");ot.setAttribute("id",it),ot.setAttribute("spreadMethod","pad"),ot.setAttribute("gradientUnits","userSpaceOnUse");var ut=[],ct,dt,ft;for(ft=g.g.p*4,dt=0;dt<ft;dt+=4)ct=createNS("stop"),ot.appendChild(ct),ut.push(ct);et.setAttribute(g.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+it+")"),this.gf=ot,this.cst=ut},SVGGradientFillStyleData.prototype.setGradientOpacity=function(et,g){if(this.g._hasOpacity&&!this.g._collapsable){var it,ot,ut,ct=createNS("mask"),dt=createNS("path");ct.appendChild(dt);var ft=createElementID(),St=createElementID();ct.setAttribute("id",St);var Tt=createNS(et.t===1?"linearGradient":"radialGradient");Tt.setAttribute("id",ft),Tt.setAttribute("spreadMethod","pad"),Tt.setAttribute("gradientUnits","userSpaceOnUse"),ut=et.g.k.k[0].s?et.g.k.k[0].s.length:et.g.k.k.length;var kt=this.stops;for(ot=et.g.p*4;ot<ut;ot+=2)it=createNS("stop"),it.setAttribute("stop-color","rgb(255,255,255)"),Tt.appendChild(it),kt.push(it);dt.setAttribute(et.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+ft+")"),et.ty==="gs"&&(dt.setAttribute("stroke-linecap",lineCapEnum[et.lc||2]),dt.setAttribute("stroke-linejoin",lineJoinEnum[et.lj||2]),et.lj===1&&dt.setAttribute("stroke-miterlimit",et.ml)),this.of=Tt,this.ms=ct,this.ost=kt,this.maskId=St,g.msElem=dt}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData);function SVGGradientStrokeStyleData(et,g,it){this.initDynamicPropertyContainer(et),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(et,g.w,0,null,this),this.d=new DashProperty(et,g.d||{},"svg",this),this.initGradientData(et,g,it),this._isAnimated=!!this._isAnimated}extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(et,g,it){this.transform={mProps:et,op:g,container:it},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}var buildShapeString=function(g,it,ot,ut){if(it===0)return"";var ct=g.o,dt=g.i,ft=g.v,St,Tt=" M"+ut.applyToPointStringified(ft[0][0],ft[0][1]);for(St=1;St<it;St+=1)Tt+=" C"+ut.applyToPointStringified(ct[St-1][0],ct[St-1][1])+" "+ut.applyToPointStringified(dt[St][0],dt[St][1])+" "+ut.applyToPointStringified(ft[St][0],ft[St][1]);return ot&&it&&(Tt+=" C"+ut.applyToPointStringified(ct[St-1][0],ct[St-1][1])+" "+ut.applyToPointStringified(dt[0][0],dt[0][1])+" "+ut.applyToPointStringified(ft[0][0],ft[0][1]),Tt+="z"),Tt},SVGElementsRenderer=function(){var et=new Matrix,g=new Matrix,it={createRenderFunction:ot};function ot(jt){switch(jt.ty){case"fl":return ft;case"gf":return Tt;case"gs":return St;case"st":return kt;case"sh":case"el":case"rc":case"sr":return dt;case"tr":return ut;case"no":return ct;default:return null}}function ut(jt,Rt,$t){($t||Rt.transform.op._mdf)&&Rt.transform.container.setAttribute("opacity",Rt.transform.op.v),($t||Rt.transform.mProps._mdf)&&Rt.transform.container.setAttribute("transform",Rt.transform.mProps.v.to2dCSS())}function ct(){}function dt(jt,Rt,$t){var zt,Ht,Zt,Bt,Ut,Kt,Yt=Rt.styles.length,Jt=Rt.lvl,er,tr,rr,hr;for(Kt=0;Kt<Yt;Kt+=1){if(Bt=Rt.sh._mdf||$t,Rt.styles[Kt].lvl<Jt){for(tr=g.reset(),rr=Jt-Rt.styles[Kt].lvl,hr=Rt.transformers.length-1;!Bt&&rr>0;)Bt=Rt.transformers[hr].mProps._mdf||Bt,rr-=1,hr-=1;if(Bt)for(rr=Jt-Rt.styles[Kt].lvl,hr=Rt.transformers.length-1;rr>0;)tr.multiply(Rt.transformers[hr].mProps.v),rr-=1,hr-=1}else tr=et;if(er=Rt.sh.paths,Ht=er._length,Bt){for(Zt="",zt=0;zt<Ht;zt+=1)Ut=er.shapes[zt],Ut&&Ut._length&&(Zt+=buildShapeString(Ut,Ut._length,Ut.c,tr));Rt.caches[Kt]=Zt}else Zt=Rt.caches[Kt];Rt.styles[Kt].d+=jt.hd===!0?"":Zt,Rt.styles[Kt]._mdf=Bt||Rt.styles[Kt]._mdf}}function ft(jt,Rt,$t){var zt=Rt.style;(Rt.c._mdf||$t)&&zt.pElem.setAttribute("fill","rgb("+bmFloor(Rt.c.v[0])+","+bmFloor(Rt.c.v[1])+","+bmFloor(Rt.c.v[2])+")"),(Rt.o._mdf||$t)&&zt.pElem.setAttribute("fill-opacity",Rt.o.v)}function St(jt,Rt,$t){Tt(jt,Rt,$t),kt(jt,Rt,$t)}function Tt(jt,Rt,$t){var zt=Rt.gf,Ht=Rt.g._hasOpacity,Zt=Rt.s.v,Bt=Rt.e.v;if(Rt.o._mdf||$t){var Ut=jt.ty==="gf"?"fill-opacity":"stroke-opacity";Rt.style.pElem.setAttribute(Ut,Rt.o.v)}if(Rt.s._mdf||$t){var Kt=jt.t===1?"x1":"cx",Yt=Kt==="x1"?"y1":"cy";zt.setAttribute(Kt,Zt[0]),zt.setAttribute(Yt,Zt[1]),Ht&&!Rt.g._collapsable&&(Rt.of.setAttribute(Kt,Zt[0]),Rt.of.setAttribute(Yt,Zt[1]))}var Jt,er,tr,rr;if(Rt.g._cmdf||$t){Jt=Rt.cst;var hr=Rt.g.c;for(tr=Jt.length,er=0;er<tr;er+=1)rr=Jt[er],rr.setAttribute("offset",hr[er*4]+"%"),rr.setAttribute("stop-color","rgb("+hr[er*4+1]+","+hr[er*4+2]+","+hr[er*4+3]+")")}if(Ht&&(Rt.g._omdf||$t)){var ar=Rt.g.o;for(Rt.g._collapsable?Jt=Rt.cst:Jt=Rt.ost,tr=Jt.length,er=0;er<tr;er+=1)rr=Jt[er],Rt.g._collapsable||rr.setAttribute("offset",ar[er*2]+"%"),rr.setAttribute("stop-opacity",ar[er*2+1])}if(jt.t===1)(Rt.e._mdf||$t)&&(zt.setAttribute("x2",Bt[0]),zt.setAttribute("y2",Bt[1]),Ht&&!Rt.g._collapsable&&(Rt.of.setAttribute("x2",Bt[0]),Rt.of.setAttribute("y2",Bt[1])));else{var or;if((Rt.s._mdf||Rt.e._mdf||$t)&&(or=Math.sqrt(Math.pow(Zt[0]-Bt[0],2)+Math.pow(Zt[1]-Bt[1],2)),zt.setAttribute("r",or),Ht&&!Rt.g._collapsable&&Rt.of.setAttribute("r",or)),Rt.e._mdf||Rt.h._mdf||Rt.a._mdf||$t){or||(or=Math.sqrt(Math.pow(Zt[0]-Bt[0],2)+Math.pow(Zt[1]-Bt[1],2)));var cr=Math.atan2(Bt[1]-Zt[1],Bt[0]-Zt[0]),gr=Rt.h.v;gr>=1?gr=.99:gr<=-1&&(gr=-.99);var yr=or*gr,xr=Math.cos(cr+Rt.a.v)*yr+Zt[0],dr=Math.sin(cr+Rt.a.v)*yr+Zt[1];zt.setAttribute("fx",xr),zt.setAttribute("fy",dr),Ht&&!Rt.g._collapsable&&(Rt.of.setAttribute("fx",xr),Rt.of.setAttribute("fy",dr))}}}function kt(jt,Rt,$t){var zt=Rt.style,Ht=Rt.d;Ht&&(Ht._mdf||$t)&&Ht.dashStr&&(zt.pElem.setAttribute("stroke-dasharray",Ht.dashStr),zt.pElem.setAttribute("stroke-dashoffset",Ht.dashoffset[0])),Rt.c&&(Rt.c._mdf||$t)&&zt.pElem.setAttribute("stroke","rgb("+bmFloor(Rt.c.v[0])+","+bmFloor(Rt.c.v[1])+","+bmFloor(Rt.c.v[2])+")"),(Rt.o._mdf||$t)&&zt.pElem.setAttribute("stroke-opacity",Rt.o.v),(Rt.w._mdf||$t)&&(zt.pElem.setAttribute("stroke-width",Rt.w.v),zt.msElem&&zt.msElem.setAttribute("stroke-width",Rt.w.v))}return it}();function SVGShapeElement(et,g,it){this.shapes=[],this.shapesData=et.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(et,g,it),this.prevViewData=[]}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var et,g=this.shapes.length,it,ot,ut=this.stylesList.length,ct,dt=[],ft=!1;for(ot=0;ot<ut;ot+=1){for(ct=this.stylesList[ot],ft=!1,dt.length=0,et=0;et<g;et+=1)it=this.shapes[et],it.styles.indexOf(ct)!==-1&&(dt.push(it),ft=it._isAnimated||ft);dt.length>1&&ft&&this.setShapesAsAnimated(dt)}},SVGShapeElement.prototype.setShapesAsAnimated=function(et){var g,it=et.length;for(g=0;g<it;g+=1)et[g].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(et,g){var it,ot=new SVGStyleData(et,g),ut=ot.pElem;if(et.ty==="st")it=new SVGStrokeStyleData(this,et,ot);else if(et.ty==="fl")it=new SVGFillStyleData(this,et,ot);else if(et.ty==="gf"||et.ty==="gs"){var ct=et.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData;it=new ct(this,et,ot),this.globalData.defs.appendChild(it.gf),it.maskId&&(this.globalData.defs.appendChild(it.ms),this.globalData.defs.appendChild(it.of),ut.setAttribute("mask","url("+getLocationHref()+"#"+it.maskId+")"))}else et.ty==="no"&&(it=new SVGNoStyleData(this,et,ot));return(et.ty==="st"||et.ty==="gs")&&(ut.setAttribute("stroke-linecap",lineCapEnum[et.lc||2]),ut.setAttribute("stroke-linejoin",lineJoinEnum[et.lj||2]),ut.setAttribute("fill-opacity","0"),et.lj===1&&ut.setAttribute("stroke-miterlimit",et.ml)),et.r===2&&ut.setAttribute("fill-rule","evenodd"),et.ln&&ut.setAttribute("id",et.ln),et.cl&&ut.setAttribute("class",et.cl),et.bm&&(ut.style["mix-blend-mode"]=getBlendMode(et.bm)),this.stylesList.push(ot),this.addToAnimatedContents(et,it),it},SVGShapeElement.prototype.createGroupElement=function(et){var g=new ShapeGroupData;return et.ln&&g.gr.setAttribute("id",et.ln),et.cl&&g.gr.setAttribute("class",et.cl),et.bm&&(g.gr.style["mix-blend-mode"]=getBlendMode(et.bm)),g},SVGShapeElement.prototype.createTransformElement=function(et,g){var it=TransformPropertyFactory.getTransformProperty(this,et,this),ot=new SVGTransformData(it,it.o,g);return this.addToAnimatedContents(et,ot),ot},SVGShapeElement.prototype.createShapeElement=function(et,g,it){var ot=4;et.ty==="rc"?ot=5:et.ty==="el"?ot=6:et.ty==="sr"&&(ot=7);var ut=ShapePropertyFactory.getShapeProp(this,et,ot,this),ct=new SVGShapeData(g,it,ut);return this.shapes.push(ct),this.addShapeToModifiers(ct),this.addToAnimatedContents(et,ct),ct},SVGShapeElement.prototype.addToAnimatedContents=function(et,g){for(var it=0,ot=this.animatedContents.length;it<ot;){if(this.animatedContents[it].element===g)return;it+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(et),element:g,data:et})},SVGShapeElement.prototype.setElementStyles=function(et){var g=et.styles,it,ot=this.stylesList.length;for(it=0;it<ot;it+=1)this.stylesList[it].closed||g.push(this.stylesList[it])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var et,g=this.itemsData.length;for(et=0;et<g;et+=1)this.prevViewData[et]=this.itemsData[et];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),g=this.dynamicProperties.length,et=0;et<g;et+=1)this.dynamicProperties[et].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(et,g,it,ot,ut,ct,dt){var ft=[].concat(ct),St,Tt=et.length-1,kt,jt,Rt=[],$t=[],zt,Ht,Zt;for(St=Tt;St>=0;St-=1){if(Zt=this.searchProcessedElement(et[St]),Zt?g[St]=it[Zt-1]:et[St]._render=dt,et[St].ty==="fl"||et[St].ty==="st"||et[St].ty==="gf"||et[St].ty==="gs"||et[St].ty==="no")Zt?g[St].style.closed=!1:g[St]=this.createStyleElement(et[St],ut),et[St]._render&&g[St].style.pElem.parentNode!==ot&&ot.appendChild(g[St].style.pElem),Rt.push(g[St].style);else if(et[St].ty==="gr"){if(!Zt)g[St]=this.createGroupElement(et[St]);else for(jt=g[St].it.length,kt=0;kt<jt;kt+=1)g[St].prevViewData[kt]=g[St].it[kt];this.searchShapes(et[St].it,g[St].it,g[St].prevViewData,g[St].gr,ut+1,ft,dt),et[St]._render&&g[St].gr.parentNode!==ot&&ot.appendChild(g[St].gr)}else et[St].ty==="tr"?(Zt||(g[St]=this.createTransformElement(et[St],ot)),zt=g[St].transform,ft.push(zt)):et[St].ty==="sh"||et[St].ty==="rc"||et[St].ty==="el"||et[St].ty==="sr"?(Zt||(g[St]=this.createShapeElement(et[St],ft,ut)),this.setElementStyles(g[St])):et[St].ty==="tm"||et[St].ty==="rd"||et[St].ty==="ms"||et[St].ty==="pb"||et[St].ty==="zz"||et[St].ty==="op"?(Zt?(Ht=g[St],Ht.closed=!1):(Ht=ShapeModifiers.getModifier(et[St].ty),Ht.init(this,et[St]),g[St]=Ht,this.shapeModifiers.push(Ht)),$t.push(Ht)):et[St].ty==="rp"&&(Zt?(Ht=g[St],Ht.closed=!0):(Ht=ShapeModifiers.getModifier(et[St].ty),g[St]=Ht,Ht.init(this,et,St,g),this.shapeModifiers.push(Ht),dt=!1),$t.push(Ht));this.addProcessedElement(et[St],St+1)}for(Tt=Rt.length,St=0;St<Tt;St+=1)Rt[St].closed=!0;for(Tt=$t.length,St=0;St<Tt;St+=1)$t[St].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var et,g=this.stylesList.length;for(et=0;et<g;et+=1)this.stylesList[et].reset();for(this.renderShape(),et=0;et<g;et+=1)(this.stylesList[et]._mdf||this._isFirstFrame)&&(this.stylesList[et].msElem&&(this.stylesList[et].msElem.setAttribute("d",this.stylesList[et].d),this.stylesList[et].d="M0 0"+this.stylesList[et].d),this.stylesList[et].pElem.setAttribute("d",this.stylesList[et].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var et,g=this.animatedContents.length,it;for(et=0;et<g;et+=1)it=this.animatedContents[et],(this._isFirstFrame||it.element._isAnimated)&&it.data!==!0&&it.fn(it.data,it.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null};function LetterProps(et,g,it,ot,ut,ct){this.o=et,this.sw=g,this.sc=it,this.fc=ot,this.m=ut,this.p=ct,this._mdf={o:!0,sw:!!g,sc:!!it,fc:!!ot,m:!0,p:!0}}LetterProps.prototype.update=function(et,g,it,ot,ut,ct){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var dt=!1;return this.o!==et&&(this.o=et,this._mdf.o=!0,dt=!0),this.sw!==g&&(this.sw=g,this._mdf.sw=!0,dt=!0),this.sc!==it&&(this.sc=it,this._mdf.sc=!0,dt=!0),this.fc!==ot&&(this.fc=ot,this._mdf.fc=!0,dt=!0),this.m!==ut&&(this.m=ut,this._mdf.m=!0,dt=!0),ct.length&&(this.p[0]!==ct[0]||this.p[1]!==ct[1]||this.p[4]!==ct[4]||this.p[5]!==ct[5]||this.p[12]!==ct[12]||this.p[13]!==ct[13])&&(this.p=ct,this._mdf.p=!0,dt=!0),dt};function TextProperty(et,g){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,g.d&&g.d.sid&&(g.d=et.globalData.slotManager.getProp(g.d)),this.data=g,this.elem=et,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(et,g){for(var it in g)Object.prototype.hasOwnProperty.call(g,it)&&(et[it]=g[it]);return et},TextProperty.prototype.setCurrentData=function(et){et.__complete||this.completeTextData(et),this.currentData=et,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(et){this.effectsSequence.push(et),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(et){if(!((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!et)){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var g=this.currentData,it=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return}this.lock=!0,this._mdf=!1;var ot,ut=this.effectsSequence.length,ct=et||this.data.d.k[this.keysIndex].s;for(ot=0;ot<ut;ot+=1)it!==this.keysIndex?ct=this.effectsSequence[ot](ct,ct.t):ct=this.effectsSequence[ot](this.currentData,ct.t);g!==ct&&this.setCurrentData(ct),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var et=this.data.d.k,g=this.elem.comp.renderedFrame,it=0,ot=et.length;it<=ot-1&&!(it===ot-1||et[it+1].t>g);)it+=1;return this.keysIndex!==it&&(this.keysIndex=it),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(et){for(var g=[],it=0,ot=et.length,ut,ct,dt=!1,ft=!1,St="";it<ot;)dt=ft,ft=!1,ut=et.charCodeAt(it),St=et.charAt(it),FontManager.isCombinedCharacter(ut)?dt=!0:ut>=55296&&ut<=56319?FontManager.isRegionalFlag(et,it)?St=et.substr(it,14):(ct=et.charCodeAt(it+1),ct>=56320&&ct<=57343&&(FontManager.isModifier(ut,ct)?(St=et.substr(it,2),dt=!0):FontManager.isFlagEmoji(et.substr(it,4))?St=et.substr(it,4):St=et.substr(it,2))):ut>56319?(ct=et.charCodeAt(it+1),FontManager.isVariationSelector(ut)&&(dt=!0)):FontManager.isZeroWidthJoiner(ut)&&(dt=!0,ft=!0),dt?(g[g.length-1]+=St,dt=!1):g.push(St),it+=St.length;return g},TextProperty.prototype.completeTextData=function(et){et.__complete=!0;var g=this.elem.globalData.fontManager,it=this.data,ot=[],ut,ct,dt,ft=0,St,Tt=it.m.g,kt=0,jt=0,Rt=0,$t=[],zt=0,Ht=0,Zt,Bt,Ut=g.getFontByName(et.f),Kt,Yt=0,Jt=getFontProperties(Ut);et.fWeight=Jt.weight,et.fStyle=Jt.style,et.finalSize=et.s,et.finalText=this.buildFinalText(et.t),ct=et.finalText.length,et.finalLineHeight=et.lh;var er=et.tr/1e3*et.finalSize,tr;if(et.sz)for(var rr=!0,hr=et.sz[0],ar=et.sz[1],or,cr;rr;){cr=this.buildFinalText(et.t),or=0,zt=0,ct=cr.length,er=et.tr/1e3*et.finalSize;var gr=-1;for(ut=0;ut<ct;ut+=1)tr=cr[ut].charCodeAt(0),dt=!1,cr[ut]===" "?gr=ut:(tr===13||tr===3)&&(zt=0,dt=!0,or+=et.finalLineHeight||et.finalSize*1.2),g.chars?(Kt=g.getCharData(cr[ut],Ut.fStyle,Ut.fFamily),Yt=dt?0:Kt.w*et.finalSize/100):Yt=g.measureText(cr[ut],et.f,et.finalSize),zt+Yt>hr&&cr[ut]!==" "?(gr===-1?ct+=1:ut=gr,or+=et.finalLineHeight||et.finalSize*1.2,cr.splice(ut,gr===ut?1:0,"\r"),gr=-1,zt=0):(zt+=Yt,zt+=er);or+=Ut.ascent*et.finalSize/100,this.canResize&&et.finalSize>this.minimumFontSize&&ar<or?(et.finalSize-=1,et.finalLineHeight=et.finalSize*et.lh/et.s):(et.finalText=cr,ct=et.finalText.length,rr=!1)}zt=-er,Yt=0;var yr=0,xr;for(ut=0;ut<ct;ut+=1)if(dt=!1,xr=et.finalText[ut],tr=xr.charCodeAt(0),tr===13||tr===3?(yr=0,$t.push(zt),Ht=zt>Ht?zt:Ht,zt=-2*er,St="",dt=!0,Rt+=1):St=xr,g.chars?(Kt=g.getCharData(xr,Ut.fStyle,g.getFontByName(et.f).fFamily),Yt=dt?0:Kt.w*et.finalSize/100):Yt=g.measureText(St,et.f,et.finalSize),xr===" "?yr+=Yt+er:(zt+=Yt+er+yr,yr=0),ot.push({l:Yt,an:Yt,add:kt,n:dt,anIndexes:[],val:St,line:Rt,animatorJustifyOffset:0}),Tt==2){if(kt+=Yt,St===""||St===" "||ut===ct-1){for((St===""||St===" ")&&(kt-=Yt);jt<=ut;)ot[jt].an=kt,ot[jt].ind=ft,ot[jt].extra=Yt,jt+=1;ft+=1,kt=0}}else if(Tt==3){if(kt+=Yt,St===""||ut===ct-1){for(St===""&&(kt-=Yt);jt<=ut;)ot[jt].an=kt,ot[jt].ind=ft,ot[jt].extra=Yt,jt+=1;kt=0,ft+=1}}else ot[ft].ind=ft,ot[ft].extra=0,ft+=1;if(et.l=ot,Ht=zt>Ht?zt:Ht,$t.push(zt),et.sz)et.boxWidth=et.sz[0],et.justifyOffset=0;else switch(et.boxWidth=Ht,et.j){case 1:et.justifyOffset=-et.boxWidth;break;case 2:et.justifyOffset=-et.boxWidth/2;break;default:et.justifyOffset=0}et.lineWidths=$t;var dr=it.a,pr,nr;Bt=dr.length;var ir,mr,lr=[];for(Zt=0;Zt<Bt;Zt+=1){for(pr=dr[Zt],pr.a.sc&&(et.strokeColorAnim=!0),pr.a.sw&&(et.strokeWidthAnim=!0),(pr.a.fc||pr.a.fh||pr.a.fs||pr.a.fb)&&(et.fillColorAnim=!0),mr=0,ir=pr.s.b,ut=0;ut<ct;ut+=1)nr=ot[ut],nr.anIndexes[Zt]=mr,(ir==1&&nr.val!==""||ir==2&&nr.val!==""&&nr.val!==" "||ir==3&&(nr.n||nr.val==" "||ut==ct-1)||ir==4&&(nr.n||ut==ct-1))&&(pr.s.rn===1&&lr.push(mr),mr+=1);it.a[Zt].s.totalChars=mr;var br=-1,Er;if(pr.s.rn===1)for(ut=0;ut<ct;ut+=1)nr=ot[ut],br!=nr.anIndexes[Zt]&&(br=nr.anIndexes[Zt],Er=lr.splice(Math.floor(Math.random()*lr.length),1)[0]),nr.anIndexes[Zt]=Er}et.yOffset=et.finalLineHeight||et.finalSize*1.2,et.ls=et.ls||0,et.ascent=Ut.ascent*et.finalSize/100},TextProperty.prototype.updateDocumentData=function(et,g){g=g===void 0?this.keysIndex:g;var it=this.copyData({},this.data.d.k[g].s);it=this.copyData(it,et),this.data.d.k[g].s=it,this.recalculate(g),this.setCurrentData(it),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(et){var g=this.data.d.k[et].s;g.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(g)},TextProperty.prototype.canResizeFont=function(et){this.canResize=et,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(et){this.minimumFontSize=Math.floor(et)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var et=Math.max,g=Math.min,it=Math.floor;function ot(ct,dt){this._currentTextLength=-1,this.k=!1,this.data=dt,this.elem=ct,this.comp=ct.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(ct),this.s=PropertyFactory.getProp(ct,dt.s||{k:0},0,0,this),"e"in dt?this.e=PropertyFactory.getProp(ct,dt.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(ct,dt.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(ct,dt.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(ct,dt.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(ct,dt.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(ct,dt.a,0,.01,this),this.dynamicProperties.length||this.getValue()}ot.prototype={getMult:function(dt){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var ft=0,St=0,Tt=1,kt=1;this.ne.v>0?ft=this.ne.v/100:St=-this.ne.v/100,this.xe.v>0?Tt=1-this.xe.v/100:kt=1+this.xe.v/100;var jt=BezierFactory.getBezierEasing(ft,St,Tt,kt).get,Rt=0,$t=this.finalS,zt=this.finalE,Ht=this.data.sh;if(Ht===2)zt===$t?Rt=dt>=zt?1:0:Rt=et(0,g(.5/(zt-$t)+(dt-$t)/(zt-$t),1)),Rt=jt(Rt);else if(Ht===3)zt===$t?Rt=dt>=zt?0:1:Rt=1-et(0,g(.5/(zt-$t)+(dt-$t)/(zt-$t),1)),Rt=jt(Rt);else if(Ht===4)zt===$t?Rt=0:(Rt=et(0,g(.5/(zt-$t)+(dt-$t)/(zt-$t),1)),Rt<.5?Rt*=2:Rt=1-2*(Rt-.5)),Rt=jt(Rt);else if(Ht===5){if(zt===$t)Rt=0;else{var Zt=zt-$t;dt=g(et(0,dt+.5-$t),zt-$t);var Bt=-Zt/2+dt,Ut=Zt/2;Rt=Math.sqrt(1-Bt*Bt/(Ut*Ut))}Rt=jt(Rt)}else Ht===6?(zt===$t?Rt=0:(dt=g(et(0,dt+.5-$t),zt-$t),Rt=(1+Math.cos(Math.PI+Math.PI*2*dt/(zt-$t)))/2),Rt=jt(Rt)):(dt>=it($t)&&(dt-$t<0?Rt=et(0,g(g(zt,1)-($t-dt),1)):Rt=et(0,g(zt-dt,1))),Rt=jt(Rt));if(this.sm.v!==100){var Kt=this.sm.v*.01;Kt===0&&(Kt=1e-8);var Yt=.5-Kt*.5;Rt<Yt?Rt=0:(Rt=(Rt-Yt)/Kt,Rt>1&&(Rt=1))}return Rt*this.a.v},getValue:function(dt){this.iterateDynamicProperties(),this._mdf=dt||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,dt&&this.data.r===2&&(this.e.v=this._currentTextLength);var ft=this.data.r===2?1:100/this.data.totalChars,St=this.o.v/ft,Tt=this.s.v/ft+St,kt=this.e.v/ft+St;if(Tt>kt){var jt=Tt;Tt=kt,kt=jt}this.finalS=Tt,this.finalE=kt}},extendPrototype([DynamicPropertyContainer],ot);function ut(ct,dt,ft){return new ot(ct,dt)}return{getTextSelectorProp:ut}}();function TextAnimatorDataProperty(et,g,it){var ot={propType:!1},ut=PropertyFactory.getProp,ct=g.a;this.a={r:ct.r?ut(et,ct.r,0,degToRads,it):ot,rx:ct.rx?ut(et,ct.rx,0,degToRads,it):ot,ry:ct.ry?ut(et,ct.ry,0,degToRads,it):ot,sk:ct.sk?ut(et,ct.sk,0,degToRads,it):ot,sa:ct.sa?ut(et,ct.sa,0,degToRads,it):ot,s:ct.s?ut(et,ct.s,1,.01,it):ot,a:ct.a?ut(et,ct.a,1,0,it):ot,o:ct.o?ut(et,ct.o,0,.01,it):ot,p:ct.p?ut(et,ct.p,1,0,it):ot,sw:ct.sw?ut(et,ct.sw,0,0,it):ot,sc:ct.sc?ut(et,ct.sc,1,0,it):ot,fc:ct.fc?ut(et,ct.fc,1,0,it):ot,fh:ct.fh?ut(et,ct.fh,0,0,it):ot,fs:ct.fs?ut(et,ct.fs,0,.01,it):ot,fb:ct.fb?ut(et,ct.fb,0,.01,it):ot,t:ct.t?ut(et,ct.t,0,0,it):ot},this.s=TextSelectorProp.getTextSelectorProp(et,g.s,it),this.s.t=g.s.t}function TextAnimatorProperty(et,g,it){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=et,this._renderType=g,this._elem=it,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(it)}TextAnimatorProperty.prototype.searchProperties=function(){var et,g=this._textData.a.length,it,ot=PropertyFactory.getProp;for(et=0;et<g;et+=1)it=this._textData.a[et],this._animatorsData[et]=new TextAnimatorDataProperty(this._elem,it,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:ot(this._elem,this._textData.p.a,0,0,this),f:ot(this._elem,this._textData.p.f,0,0,this),l:ot(this._elem,this._textData.p.l,0,0,this),r:ot(this._elem,this._textData.p.r,0,0,this),p:ot(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=ot(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(et,g){if(this.lettersChangedFlag=g,!(!this._mdf&&!this._isFirstFrame&&!g&&(!this._hasMaskedPath||!this._pathData.m._mdf))){this._isFirstFrame=!1;var it=this._moreOptions.alignment.v,ot=this._animatorsData,ut=this._textData,ct=this.mHelper,dt=this._renderType,ft=this.renderedLetters.length,St,Tt,kt,jt,Rt=et.l,$t,zt,Ht,Zt,Bt,Ut,Kt,Yt,Jt,er,tr,rr,hr,ar,or;if(this._hasMaskedPath){if(or=this._pathData.m,!this._pathData.n||this._pathData._mdf){var cr=or.v;this._pathData.r.v&&(cr=cr.reverse()),$t={tLength:0,segments:[]},jt=cr._length-1;var gr;for(rr=0,kt=0;kt<jt;kt+=1)gr=bez.buildBezierData(cr.v[kt],cr.v[kt+1],[cr.o[kt][0]-cr.v[kt][0],cr.o[kt][1]-cr.v[kt][1]],[cr.i[kt+1][0]-cr.v[kt+1][0],cr.i[kt+1][1]-cr.v[kt+1][1]]),$t.tLength+=gr.segmentLength,$t.segments.push(gr),rr+=gr.segmentLength;kt=jt,or.v.c&&(gr=bez.buildBezierData(cr.v[kt],cr.v[0],[cr.o[kt][0]-cr.v[kt][0],cr.o[kt][1]-cr.v[kt][1]],[cr.i[0][0]-cr.v[0][0],cr.i[0][1]-cr.v[0][1]]),$t.tLength+=gr.segmentLength,$t.segments.push(gr),rr+=gr.segmentLength),this._pathData.pi=$t}if($t=this._pathData.pi,zt=this._pathData.f.v,Kt=0,Ut=1,Zt=0,Bt=!0,er=$t.segments,zt<0&&or.v.c)for($t.tLength<Math.abs(zt)&&(zt=-Math.abs(zt)%$t.tLength),Kt=er.length-1,Jt=er[Kt].points,Ut=Jt.length-1;zt<0;)zt+=Jt[Ut].partialLength,Ut-=1,Ut<0&&(Kt-=1,Jt=er[Kt].points,Ut=Jt.length-1);Jt=er[Kt].points,Yt=Jt[Ut-1],Ht=Jt[Ut],tr=Ht.partialLength}jt=Rt.length,St=0,Tt=0;var yr=et.finalSize*1.2*.714,xr=!0,dr,pr,nr,ir,mr;ir=ot.length;var lr,br=-1,Er,Sr,_r,wr=zt,Ar=Kt,kr=Ut,Tr=-1,Pr,Lr,Fr,Dr,Mr,Vr,qr,Xr,Cr="",Rr=this.defaultPropsArray,Ir;if(et.j===2||et.j===1){var Or=0,jr=0,Hr=et.j===2?-.5:-1,Ur=0,zr=!0;for(kt=0;kt<jt;kt+=1)if(Rt[kt].n){for(Or&&(Or+=jr);Ur<kt;)Rt[Ur].animatorJustifyOffset=Or,Ur+=1;Or=0,zr=!0}else{for(nr=0;nr<ir;nr+=1)dr=ot[nr].a,dr.t.propType&&(zr&&et.j===2&&(jr+=dr.t.v*Hr),pr=ot[nr].s,lr=pr.getMult(Rt[kt].anIndexes[nr],ut.a[nr].s.totalChars),lr.length?Or+=dr.t.v*lr[0]*Hr:Or+=dr.t.v*lr*Hr);zr=!1}for(Or&&(Or+=jr);Ur<kt;)Rt[Ur].animatorJustifyOffset=Or,Ur+=1}for(kt=0;kt<jt;kt+=1){if(ct.reset(),Pr=1,Rt[kt].n)St=0,Tt+=et.yOffset,Tt+=xr?1:0,zt=wr,xr=!1,this._hasMaskedPath&&(Kt=Ar,Ut=kr,Jt=er[Kt].points,Yt=Jt[Ut-1],Ht=Jt[Ut],tr=Ht.partialLength,Zt=0),Cr="",Xr="",Vr="",Ir="",Rr=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Tr!==Rt[kt].line){switch(et.j){case 1:zt+=rr-et.lineWidths[Rt[kt].line];break;case 2:zt+=(rr-et.lineWidths[Rt[kt].line])/2;break}Tr=Rt[kt].line}br!==Rt[kt].ind&&(Rt[br]&&(zt+=Rt[br].extra),zt+=Rt[kt].an/2,br=Rt[kt].ind),zt+=it[0]*Rt[kt].an*.005;var ln=0;for(nr=0;nr<ir;nr+=1)dr=ot[nr].a,dr.p.propType&&(pr=ot[nr].s,lr=pr.getMult(Rt[kt].anIndexes[nr],ut.a[nr].s.totalChars),lr.length?ln+=dr.p.v[0]*lr[0]:ln+=dr.p.v[0]*lr),dr.a.propType&&(pr=ot[nr].s,lr=pr.getMult(Rt[kt].anIndexes[nr],ut.a[nr].s.totalChars),lr.length?ln+=dr.a.v[0]*lr[0]:ln+=dr.a.v[0]*lr);for(Bt=!0,this._pathData.a.v&&(zt=Rt[0].an*.5+(rr-this._pathData.f.v-Rt[0].an*.5-Rt[Rt.length-1].an*.5)*br/(jt-1),zt+=this._pathData.f.v);Bt;)Zt+tr>=zt+ln||!Jt?(hr=(zt+ln-Zt)/Ht.partialLength,Sr=Yt.point[0]+(Ht.point[0]-Yt.point[0])*hr,_r=Yt.point[1]+(Ht.point[1]-Yt.point[1])*hr,ct.translate(-it[0]*Rt[kt].an*.005,-(it[1]*yr)*.01),Bt=!1):Jt&&(Zt+=Ht.partialLength,Ut+=1,Ut>=Jt.length&&(Ut=0,Kt+=1,er[Kt]?Jt=er[Kt].points:or.v.c?(Ut=0,Kt=0,Jt=er[Kt].points):(Zt-=Ht.partialLength,Jt=null)),Jt&&(Yt=Ht,Ht=Jt[Ut],tr=Ht.partialLength));Er=Rt[kt].an/2-Rt[kt].add,ct.translate(-Er,0,0)}else Er=Rt[kt].an/2-Rt[kt].add,ct.translate(-Er,0,0),ct.translate(-it[0]*Rt[kt].an*.005,-it[1]*yr*.01,0);for(nr=0;nr<ir;nr+=1)dr=ot[nr].a,dr.t.propType&&(pr=ot[nr].s,lr=pr.getMult(Rt[kt].anIndexes[nr],ut.a[nr].s.totalChars),(St!==0||et.j!==0)&&(this._hasMaskedPath?lr.length?zt+=dr.t.v*lr[0]:zt+=dr.t.v*lr:lr.length?St+=dr.t.v*lr[0]:St+=dr.t.v*lr));for(et.strokeWidthAnim&&(Fr=et.sw||0),et.strokeColorAnim&&(et.sc?Lr=[et.sc[0],et.sc[1],et.sc[2]]:Lr=[0,0,0]),et.fillColorAnim&&et.fc&&(Dr=[et.fc[0],et.fc[1],et.fc[2]]),nr=0;nr<ir;nr+=1)dr=ot[nr].a,dr.a.propType&&(pr=ot[nr].s,lr=pr.getMult(Rt[kt].anIndexes[nr],ut.a[nr].s.totalChars),lr.length?ct.translate(-dr.a.v[0]*lr[0],-dr.a.v[1]*lr[1],dr.a.v[2]*lr[2]):ct.translate(-dr.a.v[0]*lr,-dr.a.v[1]*lr,dr.a.v[2]*lr));for(nr=0;nr<ir;nr+=1)dr=ot[nr].a,dr.s.propType&&(pr=ot[nr].s,lr=pr.getMult(Rt[kt].anIndexes[nr],ut.a[nr].s.totalChars),lr.length?ct.scale(1+(dr.s.v[0]-1)*lr[0],1+(dr.s.v[1]-1)*lr[1],1):ct.scale(1+(dr.s.v[0]-1)*lr,1+(dr.s.v[1]-1)*lr,1));for(nr=0;nr<ir;nr+=1){if(dr=ot[nr].a,pr=ot[nr].s,lr=pr.getMult(Rt[kt].anIndexes[nr],ut.a[nr].s.totalChars),dr.sk.propType&&(lr.length?ct.skewFromAxis(-dr.sk.v*lr[0],dr.sa.v*lr[1]):ct.skewFromAxis(-dr.sk.v*lr,dr.sa.v*lr)),dr.r.propType&&(lr.length?ct.rotateZ(-dr.r.v*lr[2]):ct.rotateZ(-dr.r.v*lr)),dr.ry.propType&&(lr.length?ct.rotateY(dr.ry.v*lr[1]):ct.rotateY(dr.ry.v*lr)),dr.rx.propType&&(lr.length?ct.rotateX(dr.rx.v*lr[0]):ct.rotateX(dr.rx.v*lr)),dr.o.propType&&(lr.length?Pr+=(dr.o.v*lr[0]-Pr)*lr[0]:Pr+=(dr.o.v*lr-Pr)*lr),et.strokeWidthAnim&&dr.sw.propType&&(lr.length?Fr+=dr.sw.v*lr[0]:Fr+=dr.sw.v*lr),et.strokeColorAnim&&dr.sc.propType)for(Mr=0;Mr<3;Mr+=1)lr.length?Lr[Mr]+=(dr.sc.v[Mr]-Lr[Mr])*lr[0]:Lr[Mr]+=(dr.sc.v[Mr]-Lr[Mr])*lr;if(et.fillColorAnim&&et.fc){if(dr.fc.propType)for(Mr=0;Mr<3;Mr+=1)lr.length?Dr[Mr]+=(dr.fc.v[Mr]-Dr[Mr])*lr[0]:Dr[Mr]+=(dr.fc.v[Mr]-Dr[Mr])*lr;dr.fh.propType&&(lr.length?Dr=addHueToRGB(Dr,dr.fh.v*lr[0]):Dr=addHueToRGB(Dr,dr.fh.v*lr)),dr.fs.propType&&(lr.length?Dr=addSaturationToRGB(Dr,dr.fs.v*lr[0]):Dr=addSaturationToRGB(Dr,dr.fs.v*lr)),dr.fb.propType&&(lr.length?Dr=addBrightnessToRGB(Dr,dr.fb.v*lr[0]):Dr=addBrightnessToRGB(Dr,dr.fb.v*lr))}}for(nr=0;nr<ir;nr+=1)dr=ot[nr].a,dr.p.propType&&(pr=ot[nr].s,lr=pr.getMult(Rt[kt].anIndexes[nr],ut.a[nr].s.totalChars),this._hasMaskedPath?lr.length?ct.translate(0,dr.p.v[1]*lr[0],-dr.p.v[2]*lr[1]):ct.translate(0,dr.p.v[1]*lr,-dr.p.v[2]*lr):lr.length?ct.translate(dr.p.v[0]*lr[0],dr.p.v[1]*lr[1],-dr.p.v[2]*lr[2]):ct.translate(dr.p.v[0]*lr,dr.p.v[1]*lr,-dr.p.v[2]*lr));if(et.strokeWidthAnim&&(Vr=Fr<0?0:Fr),et.strokeColorAnim&&(qr="rgb("+Math.round(Lr[0]*255)+","+Math.round(Lr[1]*255)+","+Math.round(Lr[2]*255)+")"),et.fillColorAnim&&et.fc&&(Xr="rgb("+Math.round(Dr[0]*255)+","+Math.round(Dr[1]*255)+","+Math.round(Dr[2]*255)+")"),this._hasMaskedPath){if(ct.translate(0,-et.ls),ct.translate(0,it[1]*yr*.01+Tt,0),this._pathData.p.v){ar=(Ht.point[1]-Yt.point[1])/(Ht.point[0]-Yt.point[0]);var un=Math.atan(ar)*180/Math.PI;Ht.point[0]<Yt.point[0]&&(un+=180),ct.rotate(-un*Math.PI/180)}ct.translate(Sr,_r,0),zt-=it[0]*Rt[kt].an*.005,Rt[kt+1]&&br!==Rt[kt+1].ind&&(zt+=Rt[kt].an/2,zt+=et.tr*.001*et.finalSize)}else{switch(ct.translate(St,Tt,0),et.ps&&ct.translate(et.ps[0],et.ps[1]+et.ascent,0),et.j){case 1:ct.translate(Rt[kt].animatorJustifyOffset+et.justifyOffset+(et.boxWidth-et.lineWidths[Rt[kt].line]),0,0);break;case 2:ct.translate(Rt[kt].animatorJustifyOffset+et.justifyOffset+(et.boxWidth-et.lineWidths[Rt[kt].line])/2,0,0);break}ct.translate(0,-et.ls),ct.translate(Er,0,0),ct.translate(it[0]*Rt[kt].an*.005,it[1]*yr*.01,0),St+=Rt[kt].l+et.tr*.001*et.finalSize}dt==="html"?Cr=ct.toCSS():dt==="svg"?Cr=ct.to2dCSS():Rr=[ct.props[0],ct.props[1],ct.props[2],ct.props[3],ct.props[4],ct.props[5],ct.props[6],ct.props[7],ct.props[8],ct.props[9],ct.props[10],ct.props[11],ct.props[12],ct.props[13],ct.props[14],ct.props[15]],Ir=Pr}ft<=kt?(mr=new LetterProps(Ir,Vr,qr,Xr,Cr,Rr),this.renderedLetters.push(mr),ft+=1,this.lettersChangedFlag=!0):(mr=this.renderedLetters[kt],this.lettersChangedFlag=mr.update(Ir,Vr,qr,Xr,Cr,Rr)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty);function ITextElement(){}ITextElement.prototype.initElement=function(et,g,it){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(et,g,it),this.textProperty=new TextProperty(this,et.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(et.t,this.renderType,this),this.initTransform(et,g,it),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(et){this._mdf=!1,this.prepareRenderableFrame(et),this.prepareProperties(et,this.isInRange)},ITextElement.prototype.createPathShape=function(et,g){var it,ot=g.length,ut,ct="";for(it=0;it<ot;it+=1)g[it].ty==="sh"&&(ut=g[it].ks.k,ct+=buildShapeString(ut,ut.i.length,!0,et));return ct},ITextElement.prototype.updateDocumentData=function(et,g){this.textProperty.updateDocumentData(et,g)},ITextElement.prototype.canResizeFont=function(et){this.textProperty.canResizeFont(et)},ITextElement.prototype.setMinimumFontSize=function(et){this.textProperty.setMinimumFontSize(et)},ITextElement.prototype.applyTextPropertiesToMatrix=function(et,g,it,ot,ut){switch(et.ps&&g.translate(et.ps[0],et.ps[1]+et.ascent,0),g.translate(0,-et.ls,0),et.j){case 1:g.translate(et.justifyOffset+(et.boxWidth-et.lineWidths[it]),0,0);break;case 2:g.translate(et.justifyOffset+(et.boxWidth-et.lineWidths[it])/2,0,0);break}g.translate(ot,ut,0)},ITextElement.prototype.buildColor=function(et){return"rgb("+Math.round(et[0]*255)+","+Math.round(et[1]*255)+","+Math.round(et[2]*255)+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(et,g,it){this.textSpans=[],this.renderType="svg",this.initElement(et,g,it)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(et){for(var g=0,it=et.length,ot=[],ut="";g<it;)et[g]===String.fromCharCode(13)||et[g]===String.fromCharCode(3)?(ot.push(ut),ut=""):ut+=et[g],g+=1;return ot.push(ut),ot},SVGTextLottieElement.prototype.buildShapeData=function(et,g){if(et.shapes&&et.shapes.length){var it=et.shapes[0];if(it.it){var ot=it.it[it.it.length-1];ot.s&&(ot.s.k[0]=g,ot.s.k[1]=g)}}return et},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var et,g,it=this.textProperty.currentData;this.renderedLetters=createSizedArray(it?it.l.length:0),it.fc?this.layerElement.setAttribute("fill",this.buildColor(it.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),it.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(it.sc)),this.layerElement.setAttribute("stroke-width",it.sw)),this.layerElement.setAttribute("font-size",it.finalSize);var ot=this.globalData.fontManager.getFontByName(it.f);if(ot.fClass)this.layerElement.setAttribute("class",ot.fClass);else{this.layerElement.setAttribute("font-family",ot.fFamily);var ut=it.fWeight,ct=it.fStyle;this.layerElement.setAttribute("font-style",ct),this.layerElement.setAttribute("font-weight",ut)}this.layerElement.setAttribute("aria-label",it.t);var dt=it.l||[],ft=!!this.globalData.fontManager.chars;g=dt.length;var St,Tt=this.mHelper,kt="",jt=this.data.singleShape,Rt=0,$t=0,zt=!0,Ht=it.tr*.001*it.finalSize;if(jt&&!ft&&!it.sz){var Zt=this.textContainer,Bt="start";switch(it.j){case 1:Bt="end";break;case 2:Bt="middle";break;default:Bt="start";break}Zt.setAttribute("text-anchor",Bt),Zt.setAttribute("letter-spacing",Ht);var Ut=this.buildTextContents(it.finalText);for(g=Ut.length,$t=it.ps?it.ps[1]+it.ascent:0,et=0;et<g;et+=1)St=this.textSpans[et].span||createNS("tspan"),St.textContent=Ut[et],St.setAttribute("x",0),St.setAttribute("y",$t),St.style.display="inherit",Zt.appendChild(St),this.textSpans[et]||(this.textSpans[et]={span:null,glyph:null}),this.textSpans[et].span=St,$t+=it.finalLineHeight;this.layerElement.appendChild(Zt)}else{var Kt=this.textSpans.length,Yt;for(et=0;et<g;et+=1){if(this.textSpans[et]||(this.textSpans[et]={span:null,childSpan:null,glyph:null}),!ft||!jt||et===0){if(St=Kt>et?this.textSpans[et].span:createNS(ft?"g":"text"),Kt<=et){if(St.setAttribute("stroke-linecap","butt"),St.setAttribute("stroke-linejoin","round"),St.setAttribute("stroke-miterlimit","4"),this.textSpans[et].span=St,ft){var Jt=createNS("g");St.appendChild(Jt),this.textSpans[et].childSpan=Jt}this.textSpans[et].span=St,this.layerElement.appendChild(St)}St.style.display="inherit"}if(Tt.reset(),jt&&(dt[et].n&&(Rt=-Ht,$t+=it.yOffset,$t+=zt?1:0,zt=!1),this.applyTextPropertiesToMatrix(it,Tt,dt[et].line,Rt,$t),Rt+=dt[et].l||0,Rt+=Ht),ft){Yt=this.globalData.fontManager.getCharData(it.finalText[et],ot.fStyle,this.globalData.fontManager.getFontByName(it.f).fFamily);var er;if(Yt.t===1)er=new SVGCompElement(Yt.data,this.globalData,this);else{var tr=emptyShapeData;Yt.data&&Yt.data.shapes&&(tr=this.buildShapeData(Yt.data,it.finalSize)),er=new SVGShapeElement(tr,this.globalData,this)}if(this.textSpans[et].glyph){var rr=this.textSpans[et].glyph;this.textSpans[et].childSpan.removeChild(rr.layerElement),rr.destroy()}this.textSpans[et].glyph=er,er._debug=!0,er.prepareFrame(0),er.renderFrame(),this.textSpans[et].childSpan.appendChild(er.layerElement),Yt.t===1&&this.textSpans[et].childSpan.setAttribute("transform","scale("+it.finalSize/100+","+it.finalSize/100+")")}else jt&&St.setAttribute("transform","translate("+Tt.props[12]+","+Tt.props[13]+")"),St.textContent=dt[et].val,St.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}jt&&St&&St.setAttribute("d",kt)}for(;et<this.textSpans.length;)this.textSpans[et].span.style.display="none",et+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var et=this.layerElement.getBBox();this.bbox={top:et.y,left:et.x,width:et.width,height:et.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var et,g=this.textSpans.length,it;for(this.renderedFrame=this.comp.renderedFrame,et=0;et<g;et+=1)it=this.textSpans[et].glyph,it&&(it.prepareFrame(this.comp.renderedFrame-this.data.st),it._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var et,g,it=this.textAnimator.renderedLetters,ot=this.textProperty.currentData.l;g=ot.length;var ut,ct,dt;for(et=0;et<g;et+=1)ot[et].n||(ut=it[et],ct=this.textSpans[et].span,dt=this.textSpans[et].glyph,dt&&dt.renderFrame(),ut._mdf.m&&ct.setAttribute("transform",ut.m),ut._mdf.o&&ct.setAttribute("opacity",ut.o),ut._mdf.sw&&ct.setAttribute("stroke-width",ut.sw),ut._mdf.sc&&ct.setAttribute("stroke",ut.sc),ut._mdf.fc&&ct.setAttribute("fill",ut.fc))}};function ISolidElement(et,g,it){this.initElement(et,g,it)}extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var et=createNS("rect");et.setAttribute("width",this.data.sw),et.setAttribute("height",this.data.sh),et.setAttribute("fill",this.data.sc),this.layerElement.appendChild(et)};function NullElement(et,g,it){this.initFrame(),this.initBaseData(et,g,it),this.initFrame(),this.initTransform(et,g,it),this.initHierarchy()}NullElement.prototype.prepareFrame=function(et){this.prepareProperties(et,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement);function SVGRendererBase(){}extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(et){return new NullElement(et,this.globalData,this)},SVGRendererBase.prototype.createShape=function(et){return new SVGShapeElement(et,this.globalData,this)},SVGRendererBase.prototype.createText=function(et){return new SVGTextLottieElement(et,this.globalData,this)},SVGRendererBase.prototype.createImage=function(et){return new IImageElement(et,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(et){return new ISolidElement(et,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(et){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+et.w+" "+et.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",et.w),this.svgElement.setAttribute("height",et.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var g=this.globalData.defs;this.setupGlobalData(et,g),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=et;var it=createNS("clipPath"),ot=createNS("rect");ot.setAttribute("width",et.w),ot.setAttribute("height",et.h),ot.setAttribute("x",0),ot.setAttribute("y",0);var ut=createElementID();it.setAttribute("id",ut),it.appendChild(ot),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+ut+")"),g.appendChild(it),this.layers=et.layers,this.elements=createSizedArray(et.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var et,g=this.layers?this.layers.length:0;for(et=0;et<g;et+=1)this.elements[et]&&this.elements[et].destroy&&this.elements[et].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(et){var g=0,it=this.layers.length;for(g=0;g<it;g+=1)if(this.layers[g].ind===et)return g;return-1},SVGRendererBase.prototype.buildItem=function(et){var g=this.elements;if(!(g[et]||this.layers[et].ty===99)){g[et]=!0;var it=this.createItem(this.layers[et]);if(g[et]=it,getExpressionsPlugin()&&(this.layers[et].ty===0&&this.globalData.projectInterface.registerComposition(it),it.initExpressions()),this.appendElementInPos(it,et),this.layers[et].tt){var ot="tp"in this.layers[et]?this.findIndexByInd(this.layers[et].tp):et-1;if(ot===-1)return;if(!this.elements[ot]||this.elements[ot]===!0)this.buildItem(ot),this.addPendingElement(it);else{var ut=g[ot],ct=ut.getMatte(this.layers[et].tt);it.setMatte(ct)}}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var et=this.pendingElements.pop();if(et.checkParenting(),et.data.tt)for(var g=0,it=this.elements.length;g<it;){if(this.elements[g]===et){var ot="tp"in et.data?this.findIndexByInd(et.data.tp):g-1,ut=this.elements[ot],ct=ut.getMatte(this.layers[g].tt);et.setMatte(ct);break}g+=1}}},SVGRendererBase.prototype.renderFrame=function(et){if(!(this.renderedFrame===et||this.destroyed)){et===null?et=this.renderedFrame:this.renderedFrame=et,this.globalData.frameNum=et,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=et,this.globalData._mdf=!1;var g,it=this.layers.length;for(this.completeLayers||this.checkLayers(et),g=it-1;g>=0;g-=1)(this.completeLayers||this.elements[g])&&this.elements[g].prepareFrame(et-this.layers[g].st);if(this.globalData._mdf)for(g=0;g<it;g+=1)(this.completeLayers||this.elements[g])&&this.elements[g].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(et,g){var it=et.getBaseElement();if(it){for(var ot=0,ut;ot<g;)this.elements[ot]&&this.elements[ot]!==!0&&this.elements[ot].getBaseElement()&&(ut=this.elements[ot].getBaseElement()),ot+=1;ut?this.layerElement.insertBefore(it,ut):this.layerElement.appendChild(it)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"};function ICompElement(){}extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(et,g,it){this.initFrame(),this.initBaseData(et,g,it),this.initTransform(et,g,it),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!g.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(et){if(this._mdf=!1,this.prepareRenderableFrame(et),this.prepareProperties(et,this.isInRange),!(!this.isInRange&&!this.data.xt)){if(this.tm._placeholder)this.renderedFrame=et/this.data.sr;else{var g=this.tm.v;g===this.data.op&&(g=this.data.op-1),this.renderedFrame=g}var it,ot=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),it=ot-1;it>=0;it-=1)(this.completeLayers||this.elements[it])&&(this.elements[it].prepareFrame(this.renderedFrame-this.layers[it].st),this.elements[it]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var et,g=this.layers.length;for(et=0;et<g;et+=1)(this.completeLayers||this.elements[et])&&this.elements[et].renderFrame()},ICompElement.prototype.setElements=function(et){this.elements=et},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var et,g=this.layers.length;for(et=0;et<g;et+=1)this.elements[et]&&this.elements[et].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()};function SVGCompElement(et,g,it){this.layers=et.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(et,g,it),this.tm=et.tm?PropertyFactory.getProp(this,et.tm,0,g.frameRate,this):{_placeholder:!0}}extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(et){return new SVGCompElement(et,this.globalData,this)};function SVGRenderer(et,g){this.animationItem=et,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var it="";if(g&&g.title){var ot=createNS("title"),ut=createElementID();ot.setAttribute("id",ut),ot.textContent=g.title,this.svgElement.appendChild(ot),it+=ut}if(g&&g.description){var ct=createNS("desc"),dt=createElementID();ct.setAttribute("id",dt),ct.textContent=g.description,this.svgElement.appendChild(ct),it+=" "+dt}it&&this.svgElement.setAttribute("aria-labelledby",it);var ft=createNS("defs");this.svgElement.appendChild(ft);var St=createNS("g");this.svgElement.appendChild(St),this.layerElement=St,this.renderConfig={preserveAspectRatio:g&&g.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:g&&g.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:g&&g.contentVisibility||"visible",progressiveLoad:g&&g.progressiveLoad||!1,hideOnTransparent:!(g&&g.hideOnTransparent===!1),viewBoxOnly:g&&g.viewBoxOnly||!1,viewBoxSize:g&&g.viewBoxSize||!1,className:g&&g.className||"",id:g&&g.id||"",focusable:g&&g.focusable,filterSize:{width:g&&g.filterSize&&g.filterSize.width||"100%",height:g&&g.filterSize&&g.filterSize.height||"100%",x:g&&g.filterSize&&g.filterSize.x||"0%",y:g&&g.filterSize&&g.filterSize.y||"0%"},width:g&&g.width,height:g&&g.height,runExpressions:!g||g.runExpressions===void 0||g.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:ft,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(et){return new SVGCompElement(et,this.globalData,this)};function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}ShapeTransformManager.prototype={addTransformSequence:function(g){var it,ot=g.length,ut="_";for(it=0;it<ot;it+=1)ut+=g[it].transform.key+"_";var ct=this.sequences[ut];return ct||(ct={transforms:[].concat(g),finalTransform:new Matrix,_mdf:!1},this.sequences[ut]=ct,this.sequenceList.push(ct)),ct},processSequence:function(g,it){for(var ot=0,ut=g.transforms.length,ct=it;ot<ut&&!it;){if(g.transforms[ot].transform.mProps._mdf){ct=!0;break}ot+=1}if(ct)for(g.finalTransform.reset(),ot=ut-1;ot>=0;ot-=1)g.finalTransform.multiply(g.transforms[ot].transform.mProps.v);g._mdf=ct},processSequences:function(g){var it,ot=this.sequenceList.length;for(it=0;it<ot;it+=1)this.processSequence(this.sequenceList[it],g)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var g="__lottie_element_luma_buffer",it=null,ot=null,ut=null;function ct(){var St=createNS("svg"),Tt=createNS("filter"),kt=createNS("feColorMatrix");return Tt.setAttribute("id",g),kt.setAttribute("type","matrix"),kt.setAttribute("color-interpolation-filters","sRGB"),kt.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),Tt.appendChild(kt),St.appendChild(Tt),St.setAttribute("id",g+"_svg"),featureSupport.svgLumaHidden&&(St.style.display="none"),St}function dt(){it||(ut=ct(),document.body.appendChild(ut),it=createTag("canvas"),ot=it.getContext("2d"),ot.filter="url(#"+g+")",ot.fillStyle="rgba(0,0,0,0)",ot.fillRect(0,0,1,1))}function ft(St){return it||dt(),it.width=St.width,it.height=St.height,ot.filter="url(#"+g+")",it}return{load:dt,get:ft}};function createCanvas(et,g){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(et,g);var it=createTag("canvas");return it.width=et,it.height=g,it}var assetLoader=function(){return{loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas}}(),registeredEffects={};function CVEffects(et){var g,it=et.data.ef?et.data.ef.length:0;this.filters=[];var ot;for(g=0;g<it;g+=1){ot=null;var ut=et.data.ef[g].ty;if(registeredEffects[ut]){var ct=registeredEffects[ut].effect;ot=new ct(et.effectsManager.effectElements[g],et)}ot&&this.filters.push(ot)}this.filters.length&&et.addRenderableComponent(this)}CVEffects.prototype.renderFrame=function(et){var g,it=this.filters.length;for(g=0;g<it;g+=1)this.filters[g].renderFrame(et)},CVEffects.prototype.getEffects=function(et){var g,it=this.filters.length,ot=[];for(g=0;g<it;g+=1)this.filters[g].type===et&&ot.push(this.filters[g]);return ot};function registerEffect(et,g){registeredEffects[et]={effect:g}}function CVMaskElement(et,g){this.data=et,this.element=g,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var it,ot=this.masksProperties.length,ut=!1;for(it=0;it<ot;it+=1)this.masksProperties[it].mode!=="n"&&(ut=!0),this.viewData[it]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[it],3);this.hasMasks=ut,ut&&this.element.addRenderableComponent(this)}CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var et=this.element.finalTransform.mat,g=this.element.canvasContext,it,ot=this.masksProperties.length,ut,ct,dt;for(g.beginPath(),it=0;it<ot;it+=1)if(this.masksProperties[it].mode!=="n"){this.masksProperties[it].inv&&(g.moveTo(0,0),g.lineTo(this.element.globalData.compSize.w,0),g.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),g.lineTo(0,this.element.globalData.compSize.h),g.lineTo(0,0)),dt=this.viewData[it].v,ut=et.applyToPointArray(dt.v[0][0],dt.v[0][1],0),g.moveTo(ut[0],ut[1]);var ft,St=dt._length;for(ft=1;ft<St;ft+=1)ct=et.applyToTriplePoints(dt.o[ft-1],dt.i[ft],dt.v[ft]),g.bezierCurveTo(ct[0],ct[1],ct[2],ct[3],ct[4],ct[5]);ct=et.applyToTriplePoints(dt.o[ft-1],dt.i[0],dt.v[0]),g.bezierCurveTo(ct[0],ct[1],ct[2],ct[3],ct[4],ct[5])}this.element.globalData.renderer.save(!0),g.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};function CVBaseElement(){}var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var g=this.globalData.canvasContext,it=assetLoader.createCanvas(g.canvas.width,g.canvas.height);this.buffers.push(it);var ot=assetLoader.createCanvas(g.canvas.width,g.canvas.height);this.buffers.push(ot),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var g=this.globalData;if(g.blendMode!==this.data.bm){g.blendMode=this.data.bm;var it=getBlendMode(this.data.bm);g.canvasContext.globalCompositeOperation=it}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(g){g.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var g=this.buffers[0],it=g.getContext("2d");this.clearCanvas(it),it.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var g=this.buffers[1],it=g.getContext("2d");this.clearCanvas(it),it.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform);var ot=this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1);if(ot.renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var ut=assetLoader.getLumaCanvas(this.canvasContext.canvas),ct=ut.getContext("2d");ct.drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(ut,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(g,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(g){if(!(this.hidden||this.data.hd)&&!(this.data.td===1&&!g)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var it=this.data.ty===0;this.prepareLayer(),this.globalData.renderer.save(it),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(it),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement;function CVShapeData(et,g,it,ot){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var ut=4;g.ty==="rc"?ut=5:g.ty==="el"?ut=6:g.ty==="sr"&&(ut=7),this.sh=ShapePropertyFactory.getShapeProp(et,g,ut,et);var ct,dt=it.length,ft;for(ct=0;ct<dt;ct+=1)it[ct].closed||(ft={transforms:ot.addTransformSequence(it[ct].transforms),trNodes:[]},this.styledShapes.push(ft),it[ct].elements.push(ft))}CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated;function CVShapeElement(et,g,it){this.shapes=[],this.shapesData=et.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(et,g,it)}extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(et,g){var it={data:et,type:et.ty,preTransforms:this.transformsManager.addTransformSequence(g),transforms:[],elements:[],closed:et.hd===!0},ot={};if(et.ty==="fl"||et.ty==="st"?(ot.c=PropertyFactory.getProp(this,et.c,1,255,this),ot.c.k||(it.co="rgb("+bmFloor(ot.c.v[0])+","+bmFloor(ot.c.v[1])+","+bmFloor(ot.c.v[2])+")")):(et.ty==="gf"||et.ty==="gs")&&(ot.s=PropertyFactory.getProp(this,et.s,1,null,this),ot.e=PropertyFactory.getProp(this,et.e,1,null,this),ot.h=PropertyFactory.getProp(this,et.h||{k:0},0,.01,this),ot.a=PropertyFactory.getProp(this,et.a||{k:0},0,degToRads,this),ot.g=new GradientProperty(this,et.g,this)),ot.o=PropertyFactory.getProp(this,et.o,0,.01,this),et.ty==="st"||et.ty==="gs"){if(it.lc=lineCapEnum[et.lc||2],it.lj=lineJoinEnum[et.lj||2],et.lj==1&&(it.ml=et.ml),ot.w=PropertyFactory.getProp(this,et.w,0,null,this),ot.w.k||(it.wi=ot.w.v),et.d){var ut=new DashProperty(this,et.d,"canvas",this);ot.d=ut,ot.d.k||(it.da=ot.d.dashArray,it.do=ot.d.dashoffset[0])}}else it.r=et.r===2?"evenodd":"nonzero";return this.stylesList.push(it),ot.style=it,ot},CVShapeElement.prototype.createGroupElement=function(){var et={it:[],prevViewData:[]};return et},CVShapeElement.prototype.createTransformElement=function(et){var g={transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,et.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,et,this)}};return g},CVShapeElement.prototype.createShapeElement=function(et){var g=new CVShapeData(this,et,this.stylesList,this.transformsManager);return this.shapes.push(g),this.addShapeToModifiers(g),g},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var et,g=this.itemsData.length;for(et=0;et<g;et+=1)this.prevViewData[et]=this.itemsData[et];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),g=this.dynamicProperties.length,et=0;et<g;et+=1)this.dynamicProperties[et].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(et){var g,it=this.stylesList.length;for(g=0;g<it;g+=1)this.stylesList[g].closed||this.stylesList[g].transforms.push(et)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var et,g=this.stylesList.length;for(et=0;et<g;et+=1)this.stylesList[et].closed||this.stylesList[et].transforms.pop()},CVShapeElement.prototype.closeStyles=function(et){var g,it=et.length;for(g=0;g<it;g+=1)et[g].closed=!0},CVShapeElement.prototype.searchShapes=function(et,g,it,ot,ut){var ct,dt=et.length-1,ft,St,Tt=[],kt=[],jt,Rt,$t,zt=[].concat(ut);for(ct=dt;ct>=0;ct-=1){if(jt=this.searchProcessedElement(et[ct]),jt?g[ct]=it[jt-1]:et[ct]._shouldRender=ot,et[ct].ty==="fl"||et[ct].ty==="st"||et[ct].ty==="gf"||et[ct].ty==="gs")jt?g[ct].style.closed=!1:g[ct]=this.createStyleElement(et[ct],zt),Tt.push(g[ct].style);else if(et[ct].ty==="gr"){if(!jt)g[ct]=this.createGroupElement(et[ct]);else for(St=g[ct].it.length,ft=0;ft<St;ft+=1)g[ct].prevViewData[ft]=g[ct].it[ft];this.searchShapes(et[ct].it,g[ct].it,g[ct].prevViewData,ot,zt)}else et[ct].ty==="tr"?(jt||($t=this.createTransformElement(et[ct]),g[ct]=$t),zt.push(g[ct]),this.addTransformToStyleList(g[ct])):et[ct].ty==="sh"||et[ct].ty==="rc"||et[ct].ty==="el"||et[ct].ty==="sr"?jt||(g[ct]=this.createShapeElement(et[ct])):et[ct].ty==="tm"||et[ct].ty==="rd"||et[ct].ty==="pb"||et[ct].ty==="zz"||et[ct].ty==="op"?(jt?(Rt=g[ct],Rt.closed=!1):(Rt=ShapeModifiers.getModifier(et[ct].ty),Rt.init(this,et[ct]),g[ct]=Rt,this.shapeModifiers.push(Rt)),kt.push(Rt)):et[ct].ty==="rp"&&(jt?(Rt=g[ct],Rt.closed=!0):(Rt=ShapeModifiers.getModifier(et[ct].ty),g[ct]=Rt,Rt.init(this,et,ct,g),this.shapeModifiers.push(Rt),ot=!1),kt.push(Rt));this.addProcessedElement(et[ct],ct+1)}for(this.removeTransformFromStyleList(),this.closeStyles(Tt),dt=kt.length,ct=0;ct<dt;ct+=1)kt[ct].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(et,g){(et._opMdf||g.op._mdf||this._isFirstFrame)&&(g.opacity=et.opacity,g.opacity*=g.op.v,g._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var et,g=this.stylesList.length,it,ot,ut,ct,dt,ft,St=this.globalData.renderer,Tt=this.globalData.canvasContext,kt,jt;for(et=0;et<g;et+=1)if(jt=this.stylesList[et],kt=jt.type,!((kt==="st"||kt==="gs")&&jt.wi===0||!jt.data._shouldRender||jt.coOp===0||this.globalData.currentGlobalAlpha===0)){for(St.save(),dt=jt.elements,kt==="st"||kt==="gs"?(St.ctxStrokeStyle(kt==="st"?jt.co:jt.grd),St.ctxLineWidth(jt.wi),St.ctxLineCap(jt.lc),St.ctxLineJoin(jt.lj),St.ctxMiterLimit(jt.ml||0)):St.ctxFillStyle(kt==="fl"?jt.co:jt.grd),St.ctxOpacity(jt.coOp),kt!=="st"&&kt!=="gs"&&Tt.beginPath(),St.ctxTransform(jt.preTransforms.finalTransform.props),ot=dt.length,it=0;it<ot;it+=1){for((kt==="st"||kt==="gs")&&(Tt.beginPath(),jt.da&&(Tt.setLineDash(jt.da),Tt.lineDashOffset=jt.do)),ft=dt[it].trNodes,ct=ft.length,ut=0;ut<ct;ut+=1)ft[ut].t==="m"?Tt.moveTo(ft[ut].p[0],ft[ut].p[1]):ft[ut].t==="c"?Tt.bezierCurveTo(ft[ut].pts[0],ft[ut].pts[1],ft[ut].pts[2],ft[ut].pts[3],ft[ut].pts[4],ft[ut].pts[5]):Tt.closePath();(kt==="st"||kt==="gs")&&(St.ctxStroke(),jt.da&&Tt.setLineDash(this.dashResetter))}kt!=="st"&&kt!=="gs"&&this.globalData.renderer.ctxFill(jt.r),St.restore()}},CVShapeElement.prototype.renderShape=function(et,g,it,ot){var ut,ct=g.length-1,dt;for(dt=et,ut=ct;ut>=0;ut-=1)g[ut].ty==="tr"?(dt=it[ut].transform,this.renderShapeTransform(et,dt)):g[ut].ty==="sh"||g[ut].ty==="el"||g[ut].ty==="rc"||g[ut].ty==="sr"?this.renderPath(g[ut],it[ut]):g[ut].ty==="fl"?this.renderFill(g[ut],it[ut],dt):g[ut].ty==="st"?this.renderStroke(g[ut],it[ut],dt):g[ut].ty==="gf"||g[ut].ty==="gs"?this.renderGradientFill(g[ut],it[ut],dt):g[ut].ty==="gr"?this.renderShape(dt,g[ut].it,it[ut].it):g[ut].ty;ot&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(et,g){if(this._isFirstFrame||g._mdf||et.transforms._mdf){var it=et.trNodes,ot=g.paths,ut,ct,dt,ft=ot._length;it.length=0;var St=et.transforms.finalTransform;for(dt=0;dt<ft;dt+=1){var Tt=ot.shapes[dt];if(Tt&&Tt.v){for(ct=Tt._length,ut=1;ut<ct;ut+=1)ut===1&&it.push({t:"m",p:St.applyToPointArray(Tt.v[0][0],Tt.v[0][1],0)}),it.push({t:"c",pts:St.applyToTriplePoints(Tt.o[ut-1],Tt.i[ut],Tt.v[ut])});ct===1&&it.push({t:"m",p:St.applyToPointArray(Tt.v[0][0],Tt.v[0][1],0)}),Tt.c&&ct&&(it.push({t:"c",pts:St.applyToTriplePoints(Tt.o[ut-1],Tt.i[0],Tt.v[0])}),it.push({t:"z"}))}}et.trNodes=it}},CVShapeElement.prototype.renderPath=function(et,g){if(et.hd!==!0&&et._shouldRender){var it,ot=g.styledShapes.length;for(it=0;it<ot;it+=1)this.renderStyledShape(g.styledShapes[it],g.sh)}},CVShapeElement.prototype.renderFill=function(et,g,it){var ot=g.style;(g.c._mdf||this._isFirstFrame)&&(ot.co="rgb("+bmFloor(g.c.v[0])+","+bmFloor(g.c.v[1])+","+bmFloor(g.c.v[2])+")"),(g.o._mdf||it._opMdf||this._isFirstFrame)&&(ot.coOp=g.o.v*it.opacity)},CVShapeElement.prototype.renderGradientFill=function(et,g,it){var ot=g.style,ut;if(!ot.grd||g.g._mdf||g.s._mdf||g.e._mdf||et.t!==1&&(g.h._mdf||g.a._mdf)){var ct=this.globalData.canvasContext,dt=g.s.v,ft=g.e.v;if(et.t===1)ut=ct.createLinearGradient(dt[0],dt[1],ft[0],ft[1]);else{var St=Math.sqrt(Math.pow(dt[0]-ft[0],2)+Math.pow(dt[1]-ft[1],2)),Tt=Math.atan2(ft[1]-dt[1],ft[0]-dt[0]),kt=g.h.v;kt>=1?kt=.99:kt<=-1&&(kt=-.99);var jt=St*kt,Rt=Math.cos(Tt+g.a.v)*jt+dt[0],$t=Math.sin(Tt+g.a.v)*jt+dt[1];ut=ct.createRadialGradient(Rt,$t,0,dt[0],dt[1],St)}var zt,Ht=et.g.p,Zt=g.g.c,Bt=1;for(zt=0;zt<Ht;zt+=1)g.g._hasOpacity&&g.g._collapsable&&(Bt=g.g.o[zt*2+1]),ut.addColorStop(Zt[zt*4]/100,"rgba("+Zt[zt*4+1]+","+Zt[zt*4+2]+","+Zt[zt*4+3]+","+Bt+")");ot.grd=ut}ot.coOp=g.o.v*it.opacity},CVShapeElement.prototype.renderStroke=function(et,g,it){var ot=g.style,ut=g.d;ut&&(ut._mdf||this._isFirstFrame)&&(ot.da=ut.dashArray,ot.do=ut.dashoffset[0]),(g.c._mdf||this._isFirstFrame)&&(ot.co="rgb("+bmFloor(g.c.v[0])+","+bmFloor(g.c.v[1])+","+bmFloor(g.c.v[2])+")"),(g.o._mdf||it._opMdf||this._isFirstFrame)&&(ot.coOp=g.o.v*it.opacity),(g.w._mdf||this._isFirstFrame)&&(ot.wi=g.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0};function CVTextElement(et,g,it){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(et,g,it)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var et=this.textProperty.currentData;this.renderedLetters=createSizedArray(et.l?et.l.length:0);var g=!1;et.fc?(g=!0,this.values.fill=this.buildColor(et.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=g;var it=!1;et.sc&&(it=!0,this.values.stroke=this.buildColor(et.sc),this.values.sWidth=et.sw);var ot=this.globalData.fontManager.getFontByName(et.f),ut,ct,dt=et.l,ft=this.mHelper;this.stroke=it,this.values.fValue=et.finalSize+"px "+this.globalData.fontManager.getFontByName(et.f).fFamily,ct=et.finalText.length;var St,Tt,kt,jt,Rt,$t,zt,Ht,Zt,Bt,Ut=this.data.singleShape,Kt=et.tr*.001*et.finalSize,Yt=0,Jt=0,er=!0,tr=0;for(ut=0;ut<ct;ut+=1){St=this.globalData.fontManager.getCharData(et.finalText[ut],ot.fStyle,this.globalData.fontManager.getFontByName(et.f).fFamily),Tt=St&&St.data||{},ft.reset(),Ut&&dt[ut].n&&(Yt=-Kt,Jt+=et.yOffset,Jt+=er?1:0,er=!1),Rt=Tt.shapes?Tt.shapes[0].it:[],zt=Rt.length,ft.scale(et.finalSize/100,et.finalSize/100),Ut&&this.applyTextPropertiesToMatrix(et,ft,dt[ut].line,Yt,Jt),Zt=createSizedArray(zt-1);var rr=0;for($t=0;$t<zt;$t+=1)if(Rt[$t].ty==="sh"){for(jt=Rt[$t].ks.k.i.length,Ht=Rt[$t].ks.k,Bt=[],kt=1;kt<jt;kt+=1)kt===1&&Bt.push(ft.applyToX(Ht.v[0][0],Ht.v[0][1],0),ft.applyToY(Ht.v[0][0],Ht.v[0][1],0)),Bt.push(ft.applyToX(Ht.o[kt-1][0],Ht.o[kt-1][1],0),ft.applyToY(Ht.o[kt-1][0],Ht.o[kt-1][1],0),ft.applyToX(Ht.i[kt][0],Ht.i[kt][1],0),ft.applyToY(Ht.i[kt][0],Ht.i[kt][1],0),ft.applyToX(Ht.v[kt][0],Ht.v[kt][1],0),ft.applyToY(Ht.v[kt][0],Ht.v[kt][1],0));Bt.push(ft.applyToX(Ht.o[kt-1][0],Ht.o[kt-1][1],0),ft.applyToY(Ht.o[kt-1][0],Ht.o[kt-1][1],0),ft.applyToX(Ht.i[0][0],Ht.i[0][1],0),ft.applyToY(Ht.i[0][0],Ht.i[0][1],0),ft.applyToX(Ht.v[0][0],Ht.v[0][1],0),ft.applyToY(Ht.v[0][0],Ht.v[0][1],0)),Zt[rr]=Bt,rr+=1}Ut&&(Yt+=dt[ut].l,Yt+=Kt),this.textSpans[tr]?this.textSpans[tr].elem=Zt:this.textSpans[tr]={elem:Zt},tr+=1}},CVTextElement.prototype.renderInnerContent=function(){this.validateText();var et=this.canvasContext;et.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var g,it,ot,ut,ct,dt,ft=this.textAnimator.renderedLetters,St=this.textProperty.currentData.l;it=St.length;var Tt,kt=null,jt=null,Rt=null,$t,zt,Ht=this.globalData.renderer;for(g=0;g<it;g+=1)if(!St[g].n){if(Tt=ft[g],Tt&&(Ht.save(),Ht.ctxTransform(Tt.p),Ht.ctxOpacity(Tt.o)),this.fill){for(Tt&&Tt.fc?kt!==Tt.fc&&(Ht.ctxFillStyle(Tt.fc),kt=Tt.fc):kt!==this.values.fill&&(kt=this.values.fill,Ht.ctxFillStyle(this.values.fill)),$t=this.textSpans[g].elem,ut=$t.length,this.globalData.canvasContext.beginPath(),ot=0;ot<ut;ot+=1)for(zt=$t[ot],dt=zt.length,this.globalData.canvasContext.moveTo(zt[0],zt[1]),ct=2;ct<dt;ct+=6)this.globalData.canvasContext.bezierCurveTo(zt[ct],zt[ct+1],zt[ct+2],zt[ct+3],zt[ct+4],zt[ct+5]);this.globalData.canvasContext.closePath(),Ht.ctxFill()}if(this.stroke){for(Tt&&Tt.sw?Rt!==Tt.sw&&(Rt=Tt.sw,Ht.ctxLineWidth(Tt.sw)):Rt!==this.values.sWidth&&(Rt=this.values.sWidth,Ht.ctxLineWidth(this.values.sWidth)),Tt&&Tt.sc?jt!==Tt.sc&&(jt=Tt.sc,Ht.ctxStrokeStyle(Tt.sc)):jt!==this.values.stroke&&(jt=this.values.stroke,Ht.ctxStrokeStyle(this.values.stroke)),$t=this.textSpans[g].elem,ut=$t.length,this.globalData.canvasContext.beginPath(),ot=0;ot<ut;ot+=1)for(zt=$t[ot],dt=zt.length,this.globalData.canvasContext.moveTo(zt[0],zt[1]),ct=2;ct<dt;ct+=6)this.globalData.canvasContext.bezierCurveTo(zt[ct],zt[ct+1],zt[ct+2],zt[ct+3],zt[ct+4],zt[ct+5]);this.globalData.canvasContext.closePath(),Ht.ctxStroke()}Tt&&this.globalData.renderer.restore()}};function CVImageElement(et,g,it){this.assetData=g.getAssetData(et.refId),this.img=g.imageLoader.getAsset(this.assetData),this.initElement(et,g,it)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var et=createTag("canvas");et.width=this.assetData.w,et.height=this.assetData.h;var g=et.getContext("2d"),it=this.img.width,ot=this.img.height,ut=it/ot,ct=this.assetData.w/this.assetData.h,dt,ft,St=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;ut>ct&&St==="xMidYMid slice"||ut<ct&&St!=="xMidYMid slice"?(ft=ot,dt=ft*ct):(dt=it,ft=dt/ct),g.drawImage(this.img,(it-dt)/2,(ot-ft)/2,dt,ft,0,0,this.assetData.w,this.assetData.h),this.img=et}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null};function CVSolidElement(et,g,it){this.initElement(et,g,it)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)};function CanvasRendererBase(){}extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(et){return new CVShapeElement(et,this.globalData,this)},CanvasRendererBase.prototype.createText=function(et){return new CVTextElement(et,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(et){return new CVImageElement(et,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(et){return new CVSolidElement(et,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(et){et[0]===1&&et[1]===0&&et[4]===0&&et[5]===1&&et[12]===0&&et[13]===0||this.canvasContext.transform(et[0],et[1],et[4],et[5],et[12],et[13])},CanvasRendererBase.prototype.ctxOpacity=function(et){this.canvasContext.globalAlpha*=et<0?0:et},CanvasRendererBase.prototype.ctxFillStyle=function(et){this.canvasContext.fillStyle=et},CanvasRendererBase.prototype.ctxStrokeStyle=function(et){this.canvasContext.strokeStyle=et},CanvasRendererBase.prototype.ctxLineWidth=function(et){this.canvasContext.lineWidth=et},CanvasRendererBase.prototype.ctxLineCap=function(et){this.canvasContext.lineCap=et},CanvasRendererBase.prototype.ctxLineJoin=function(et){this.canvasContext.lineJoin=et},CanvasRendererBase.prototype.ctxMiterLimit=function(et){this.canvasContext.miterLimit=et},CanvasRendererBase.prototype.ctxFill=function(et){this.canvasContext.fill(et)},CanvasRendererBase.prototype.ctxFillRect=function(et,g,it,ot){this.canvasContext.fillRect(et,g,it,ot)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}this.contextData.reset()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(et){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}et&&(this.globalData.blendMode="source-over"),this.contextData.restore(et)},CanvasRendererBase.prototype.configAnimation=function(et){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var g=this.animationItem.container.style;g.width="100%",g.height="100%";var it="0px 0px 0px";g.transformOrigin=it,g.mozTransformOrigin=it,g.webkitTransformOrigin=it,g["-webkit-transform"]=it,g.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=et,this.layers=et.layers,this.transformCanvas={w:et.w,h:et.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(et,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(et.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(et,g){this.reset();var it,ot;et?(it=et,ot=g,this.canvasContext.canvas.width=it,this.canvasContext.canvas.height=ot):(this.animationItem.wrapper&&this.animationItem.container?(it=this.animationItem.wrapper.offsetWidth,ot=this.animationItem.wrapper.offsetHeight):(it=this.canvasContext.canvas.width,ot=this.canvasContext.canvas.height),this.canvasContext.canvas.width=it*this.renderConfig.dpr,this.canvasContext.canvas.height=ot*this.renderConfig.dpr);var ut,ct;if(this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var dt=this.renderConfig.preserveAspectRatio.split(" "),ft=dt[1]||"meet",St=dt[0]||"xMidYMid",Tt=St.substr(0,4),kt=St.substr(4);ut=it/ot,ct=this.transformCanvas.w/this.transformCanvas.h,ct>ut&&ft==="meet"||ct<ut&&ft==="slice"?(this.transformCanvas.sx=it/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=it/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=ot/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=ot/(this.transformCanvas.h/this.renderConfig.dpr)),Tt==="xMid"&&(ct<ut&&ft==="meet"||ct>ut&&ft==="slice")?this.transformCanvas.tx=(it-this.transformCanvas.w*(ot/this.transformCanvas.h))/2*this.renderConfig.dpr:Tt==="xMax"&&(ct<ut&&ft==="meet"||ct>ut&&ft==="slice")?this.transformCanvas.tx=(it-this.transformCanvas.w*(ot/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,kt==="YMid"&&(ct>ut&&ft==="meet"||ct<ut&&ft==="slice")?this.transformCanvas.ty=(ot-this.transformCanvas.h*(it/this.transformCanvas.w))/2*this.renderConfig.dpr:kt==="YMax"&&(ct>ut&&ft==="meet"||ct<ut&&ft==="slice")?this.transformCanvas.ty=(ot-this.transformCanvas.h*(it/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=it/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=ot/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");var et,g=this.layers?this.layers.length:0;for(et=g-1;et>=0;et-=1)this.elements[et]&&this.elements[et].destroy&&this.elements[et].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(et,g){if(!(this.renderedFrame===et&&this.renderConfig.clearCanvas===!0&&!g||this.destroyed||et===-1)){this.renderedFrame=et,this.globalData.frameNum=et-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||g,this.globalData.projectInterface.currentFrame=et;var it,ot=this.layers.length;for(this.completeLayers||this.checkLayers(et),it=ot-1;it>=0;it-=1)(this.completeLayers||this.elements[it])&&this.elements[it].prepareFrame(et-this.layers[it].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),it=ot-1;it>=0;it-=1)(this.completeLayers||this.elements[it])&&this.elements[it].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(et){var g=this.elements;if(!(g[et]||this.layers[et].ty===99)){var it=this.createItem(this.layers[et],this,this.globalData);g[et]=it,it.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var et=this.pendingElements.pop();et.checkParenting()}},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"};function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){this.stack=[],this.cArrPos=0,this.cTr=new Matrix;var et,g=15;for(et=0;et<g;et+=1){var it=new CanvasContext;this.stack[et]=it}this._length=g,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}CVContextData.prototype.duplicate=function(){var et=this._length*2,g=0;for(g=this._length;g<et;g+=1)this.stack[g]=new CanvasContext;this._length=et},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(et){this.cArrPos-=1;var g=this.stack[this.cArrPos],it=g.transform,ot,ut=this.cTr.props;for(ot=0;ot<16;ot+=1)ut[ot]=it[ot];if(et){this.nativeContext.restore();var ct=this.stack[this.cArrPos+1];this.appliedFillStyle=ct.fillStyle,this.appliedStrokeStyle=ct.strokeStyle,this.appliedLineWidth=ct.lineWidth,this.appliedLineCap=ct.lineCap,this.appliedLineJoin=ct.lineJoin,this.appliedMiterLimit=ct.miterLimit}this.nativeContext.setTransform(it[0],it[1],it[4],it[5],it[12],it[13]),(et||g.opacity!==-1&&this.currentOpacity!==g.opacity)&&(this.nativeContext.globalAlpha=g.opacity,this.currentOpacity=g.opacity),this.currentFillStyle=g.fillStyle,this.currentStrokeStyle=g.strokeStyle,this.currentLineWidth=g.lineWidth,this.currentLineCap=g.lineCap,this.currentLineJoin=g.lineJoin,this.currentMiterLimit=g.miterLimit},CVContextData.prototype.save=function(et){et&&this.nativeContext.save();var g=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var it=this.stack[this.cArrPos],ot;for(ot=0;ot<16;ot+=1)it.transform[ot]=g[ot];this.cArrPos+=1;var ut=this.stack[this.cArrPos];ut.opacity=it.opacity,ut.fillStyle=it.fillStyle,ut.strokeStyle=it.strokeStyle,ut.lineWidth=it.lineWidth,ut.lineCap=it.lineCap,ut.lineJoin=it.lineJoin,ut.miterLimit=it.miterLimit},CVContextData.prototype.setOpacity=function(et){this.stack[this.cArrPos].opacity=et},CVContextData.prototype.setContext=function(et){this.nativeContext=et},CVContextData.prototype.fillStyle=function(et){this.stack[this.cArrPos].fillStyle!==et&&(this.currentFillStyle=et,this.stack[this.cArrPos].fillStyle=et)},CVContextData.prototype.strokeStyle=function(et){this.stack[this.cArrPos].strokeStyle!==et&&(this.currentStrokeStyle=et,this.stack[this.cArrPos].strokeStyle=et)},CVContextData.prototype.lineWidth=function(et){this.stack[this.cArrPos].lineWidth!==et&&(this.currentLineWidth=et,this.stack[this.cArrPos].lineWidth=et)},CVContextData.prototype.lineCap=function(et){this.stack[this.cArrPos].lineCap!==et&&(this.currentLineCap=et,this.stack[this.cArrPos].lineCap=et)},CVContextData.prototype.lineJoin=function(et){this.stack[this.cArrPos].lineJoin!==et&&(this.currentLineJoin=et,this.stack[this.cArrPos].lineJoin=et)},CVContextData.prototype.miterLimit=function(et){this.stack[this.cArrPos].miterLimit!==et&&(this.currentMiterLimit=et,this.stack[this.cArrPos].miterLimit=et)},CVContextData.prototype.transform=function(et){this.transformMat.cloneFromProps(et);var g=this.cTr;this.transformMat.multiply(g),g.cloneFromProps(this.transformMat.props);var it=g.props;this.nativeContext.setTransform(it[0],it[1],it[4],it[5],it[12],it[13])},CVContextData.prototype.opacity=function(et){var g=this.stack[this.cArrPos].opacity;g*=et<0?0:et,this.stack[this.cArrPos].opacity!==g&&(this.currentOpacity!==et&&(this.nativeContext.globalAlpha=et,this.currentOpacity=et),this.stack[this.cArrPos].opacity=g)},CVContextData.prototype.fill=function(et){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(et)},CVContextData.prototype.fillRect=function(et,g,it,ot){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(et,g,it,ot)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()};function CVCompElement(et,g,it){this.completeLayers=!1,this.layers=et.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(et,g,it),this.tm=et.tm?PropertyFactory.getProp(this,et.tm,0,g.frameRate,this):{_placeholder:!0}}extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var et=this.canvasContext;et.beginPath(),et.moveTo(0,0),et.lineTo(this.data.w,0),et.lineTo(this.data.w,this.data.h),et.lineTo(0,this.data.h),et.lineTo(0,0),et.clip();var g,it=this.layers.length;for(g=it-1;g>=0;g-=1)(this.completeLayers||this.elements[g])&&this.elements[g].renderFrame()},CVCompElement.prototype.destroy=function(){var et,g=this.layers.length;for(et=g-1;et>=0;et-=1)this.elements[et]&&this.elements[et].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(et){return new CVCompElement(et,this.globalData,this)};function CanvasRenderer(et,g){this.animationItem=et,this.renderConfig={clearCanvas:g&&g.clearCanvas!==void 0?g.clearCanvas:!0,context:g&&g.context||null,progressiveLoad:g&&g.progressiveLoad||!1,preserveAspectRatio:g&&g.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:g&&g.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:g&&g.contentVisibility||"visible",className:g&&g.className||"",id:g&&g.id||"",runExpressions:!g||g.runExpressions===void 0||g.runExpressions},this.renderConfig.dpr=g&&g.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=g&&g.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(et){return new CVCompElement(et,this.globalData,this)};function HBaseElement(){}HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var g=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var it=this.finalTransform.mat.toCSS();g.transform=it,g.webkitTransform=it}this.finalTransform._opMdf&&(g.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting;function HSolidElement(et,g,it){this.initElement(et,g,it)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var et;this.data.hasMask?(et=createNS("rect"),et.setAttribute("width",this.data.sw),et.setAttribute("height",this.data.sh),et.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):(et=createTag("div"),et.style.width=this.data.sw+"px",et.style.height=this.data.sh+"px",et.style.backgroundColor=this.data.sc),this.layerElement.appendChild(et)};function HShapeElement(et,g,it){this.shapes=[],this.shapesData=et.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(et,g,it),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var et;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),et=this.svgElement;else{et=createNS("svg");var g=this.comp.data?this.comp.data:this.globalData.compSize;et.setAttribute("width",g.w),et.setAttribute("height",g.h),et.appendChild(this.shapesContainer),this.layerElement.appendChild(et)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=et},HShapeElement.prototype.getTransformedPoint=function(et,g){var it,ot=et.length;for(it=0;it<ot;it+=1)g=et[it].mProps.v.applyToPointArray(g[0],g[1],0);return g},HShapeElement.prototype.calculateShapeBoundingBox=function(et,g){var it=et.sh.v,ot=et.transformers,ut,ct=it._length,dt,ft,St,Tt;if(!(ct<=1)){for(ut=0;ut<ct-1;ut+=1)dt=this.getTransformedPoint(ot,it.v[ut]),ft=this.getTransformedPoint(ot,it.o[ut]),St=this.getTransformedPoint(ot,it.i[ut+1]),Tt=this.getTransformedPoint(ot,it.v[ut+1]),this.checkBounds(dt,ft,St,Tt,g);it.c&&(dt=this.getTransformedPoint(ot,it.v[ut]),ft=this.getTransformedPoint(ot,it.o[ut]),St=this.getTransformedPoint(ot,it.i[0]),Tt=this.getTransformedPoint(ot,it.v[0]),this.checkBounds(dt,ft,St,Tt,g))}},HShapeElement.prototype.checkBounds=function(et,g,it,ot,ut){this.getBoundsOfCurve(et,g,it,ot);var ct=this.shapeBoundingBox;ut.x=bmMin(ct.left,ut.x),ut.xMax=bmMax(ct.right,ut.xMax),ut.y=bmMin(ct.top,ut.y),ut.yMax=bmMax(ct.bottom,ut.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(et,g,it,ot){for(var ut=[[et[0],ot[0]],[et[1],ot[1]]],ct,dt,ft,St,Tt,kt,jt,Rt=0;Rt<2;++Rt)dt=6*et[Rt]-12*g[Rt]+6*it[Rt],ct=-3*et[Rt]+9*g[Rt]-9*it[Rt]+3*ot[Rt],ft=3*g[Rt]-3*et[Rt],dt|=0,ct|=0,ft|=0,ct===0&&dt===0||(ct===0?(St=-ft/dt,St>0&&St<1&&ut[Rt].push(this.calculateF(St,et,g,it,ot,Rt))):(Tt=dt*dt-4*ft*ct,Tt>=0&&(kt=(-dt+bmSqrt(Tt))/(2*ct),kt>0&&kt<1&&ut[Rt].push(this.calculateF(kt,et,g,it,ot,Rt)),jt=(-dt-bmSqrt(Tt))/(2*ct),jt>0&&jt<1&&ut[Rt].push(this.calculateF(jt,et,g,it,ot,Rt)))));this.shapeBoundingBox.left=bmMin.apply(null,ut[0]),this.shapeBoundingBox.top=bmMin.apply(null,ut[1]),this.shapeBoundingBox.right=bmMax.apply(null,ut[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,ut[1])},HShapeElement.prototype.calculateF=function(et,g,it,ot,ut,ct){return bmPow(1-et,3)*g[ct]+3*bmPow(1-et,2)*et*it[ct]+3*(1-et)*bmPow(et,2)*ot[ct]+bmPow(et,3)*ut[ct]},HShapeElement.prototype.calculateBoundingBox=function(et,g){var it,ot=et.length;for(it=0;it<ot;it+=1)et[it]&&et[it].sh?this.calculateShapeBoundingBox(et[it],g):et[it]&&et[it].it?this.calculateBoundingBox(et[it].it,g):et[it]&&et[it].style&&et[it].w&&this.expandStrokeBoundingBox(et[it].w,g)},HShapeElement.prototype.expandStrokeBoundingBox=function(et,g){var it=0;if(et.keyframes){for(var ot=0;ot<et.keyframes.length;ot+=1){var ut=et.keyframes[ot].s;ut>it&&(it=ut)}it*=et.mult}else it=et.v*et.mult;g.x-=it,g.xMax+=it,g.y-=it,g.yMax+=it},HShapeElement.prototype.currentBoxContains=function(et){return this.currentBBox.x<=et.x&&this.currentBBox.y<=et.y&&this.currentBBox.width+this.currentBBox.x>=et.x+et.width&&this.currentBBox.height+this.currentBBox.y>=et.y+et.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var et=this.tempBoundingBox,g=999999;if(et.x=g,et.xMax=-g,et.y=g,et.yMax=-g,this.calculateBoundingBox(this.itemsData,et),et.width=et.xMax<et.x?0:et.xMax-et.x,et.height=et.yMax<et.y?0:et.yMax-et.y,this.currentBoxContains(et))return;var it=!1;if(this.currentBBox.w!==et.width&&(this.currentBBox.w=et.width,this.shapeCont.setAttribute("width",et.width),it=!0),this.currentBBox.h!==et.height&&(this.currentBBox.h=et.height,this.shapeCont.setAttribute("height",et.height),it=!0),it||this.currentBBox.x!==et.x||this.currentBBox.y!==et.y){this.currentBBox.w=et.width,this.currentBBox.h=et.height,this.currentBBox.x=et.x,this.currentBBox.y=et.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var ot=this.shapeCont.style,ut="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";ot.transform=ut,ot.webkitTransform=ut}}};function HTextElement(et,g,it){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(et,g,it)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var et=createNS("g");this.maskedElement.appendChild(et),this.innerElem=et}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var et=this.textProperty.currentData;this.renderedLetters=createSizedArray(et.l?et.l.length:0);var g=this.innerElem.style,it=et.fc?this.buildColor(et.fc):"rgba(0,0,0,0)";g.fill=it,g.color=it,et.sc&&(g.stroke=this.buildColor(et.sc),g.strokeWidth=et.sw+"px");var ot=this.globalData.fontManager.getFontByName(et.f);if(!this.globalData.fontManager.chars)if(g.fontSize=et.finalSize+"px",g.lineHeight=et.finalSize+"px",ot.fClass)this.innerElem.className=ot.fClass;else{g.fontFamily=ot.fFamily;var ut=et.fWeight,ct=et.fStyle;g.fontStyle=ct,g.fontWeight=ut}var dt,ft,St=et.l;ft=St.length;var Tt,kt,jt,Rt=this.mHelper,$t,zt="",Ht=0;for(dt=0;dt<ft;dt+=1){if(this.globalData.fontManager.chars?(this.textPaths[Ht]?Tt=this.textPaths[Ht]:(Tt=createNS("path"),Tt.setAttribute("stroke-linecap",lineCapEnum[1]),Tt.setAttribute("stroke-linejoin",lineJoinEnum[2]),Tt.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[Ht]?(kt=this.textSpans[Ht],jt=kt.children[0]):(kt=createTag("div"),kt.style.lineHeight=0,jt=createNS("svg"),jt.appendChild(Tt),styleDiv(kt)))):this.isMasked?Tt=this.textPaths[Ht]?this.textPaths[Ht]:createNS("text"):this.textSpans[Ht]?(kt=this.textSpans[Ht],Tt=this.textPaths[Ht]):(kt=createTag("span"),styleDiv(kt),Tt=createTag("span"),styleDiv(Tt),kt.appendChild(Tt)),this.globalData.fontManager.chars){var Zt=this.globalData.fontManager.getCharData(et.finalText[dt],ot.fStyle,this.globalData.fontManager.getFontByName(et.f).fFamily),Bt;if(Zt?Bt=Zt.data:Bt=null,Rt.reset(),Bt&&Bt.shapes&&Bt.shapes.length&&($t=Bt.shapes[0].it,Rt.scale(et.finalSize/100,et.finalSize/100),zt=this.createPathShape(Rt,$t),Tt.setAttribute("d",zt)),this.isMasked)this.innerElem.appendChild(Tt);else{if(this.innerElem.appendChild(kt),Bt&&Bt.shapes){document.body.appendChild(jt);var Ut=jt.getBBox();jt.setAttribute("width",Ut.width+2),jt.setAttribute("height",Ut.height+2),jt.setAttribute("viewBox",Ut.x-1+" "+(Ut.y-1)+" "+(Ut.width+2)+" "+(Ut.height+2));var Kt=jt.style,Yt="translate("+(Ut.x-1)+"px,"+(Ut.y-1)+"px)";Kt.transform=Yt,Kt.webkitTransform=Yt,St[dt].yOffset=Ut.y-1}else jt.setAttribute("width",1),jt.setAttribute("height",1);kt.appendChild(jt)}}else if(Tt.textContent=St[dt].val,Tt.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(Tt);else{this.innerElem.appendChild(kt);var Jt=Tt.style,er="translate3d(0,"+-et.finalSize/1.2+"px,0)";Jt.transform=er,Jt.webkitTransform=er}this.isMasked?this.textSpans[Ht]=Tt:this.textSpans[Ht]=kt,this.textSpans[Ht].style.display="block",this.textPaths[Ht]=Tt,Ht+=1}for(;Ht<this.textSpans.length;)this.textSpans[Ht].style.display="none",Ht+=1},HTextElement.prototype.renderInnerContent=function(){this.validateText();var et;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),et=this.svgElement.style;var g="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";et.transform=g,et.webkitTransform=g}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),!(!this.lettersChangedFlag&&!this.textAnimator.lettersChangedFlag)){var it,ot,ut=0,ct=this.textAnimator.renderedLetters,dt=this.textProperty.currentData.l;ot=dt.length;var ft,St,Tt;for(it=0;it<ot;it+=1)dt[it].n?ut+=1:(St=this.textSpans[it],Tt=this.textPaths[it],ft=ct[ut],ut+=1,ft._mdf.m&&(this.isMasked?St.setAttribute("transform",ft.m):(St.style.webkitTransform=ft.m,St.style.transform=ft.m)),St.style.opacity=ft.o,ft.sw&&ft._mdf.sw&&Tt.setAttribute("stroke-width",ft.sw),ft.sc&&ft._mdf.sc&&Tt.setAttribute("stroke",ft.sc),ft.fc&&ft._mdf.fc&&(Tt.setAttribute("fill",ft.fc),Tt.style.color=ft.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var kt=this.innerElem.getBBox();this.currentBBox.w!==kt.width&&(this.currentBBox.w=kt.width,this.svgElement.setAttribute("width",kt.width)),this.currentBBox.h!==kt.height&&(this.currentBBox.h=kt.height,this.svgElement.setAttribute("height",kt.height));var jt=1;if(this.currentBBox.w!==kt.width+jt*2||this.currentBBox.h!==kt.height+jt*2||this.currentBBox.x!==kt.x-jt||this.currentBBox.y!==kt.y-jt){this.currentBBox.w=kt.width+jt*2,this.currentBBox.h=kt.height+jt*2,this.currentBBox.x=kt.x-jt,this.currentBBox.y=kt.y-jt,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),et=this.svgElement.style;var Rt="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";et.transform=Rt,et.webkitTransform=Rt}}}};function HCameraElement(et,g,it){this.initFrame(),this.initBaseData(et,g,it),this.initHierarchy();var ot=PropertyFactory.getProp;if(this.pe=ot(this,et.pe,0,0,this),et.ks.p.s?(this.px=ot(this,et.ks.p.x,1,0,this),this.py=ot(this,et.ks.p.y,1,0,this),this.pz=ot(this,et.ks.p.z,1,0,this)):this.p=ot(this,et.ks.p,1,0,this),et.ks.a&&(this.a=ot(this,et.ks.a,1,0,this)),et.ks.or.k.length&&et.ks.or.k[0].to){var ut,ct=et.ks.or.k.length;for(ut=0;ut<ct;ut+=1)et.ks.or.k[ut].to=null,et.ks.or.k[ut].ti=null}this.or=ot(this,et.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=ot(this,et.ks.rx,0,degToRads,this),this.ry=ot(this,et.ks.ry,0,degToRads,this),this.rz=ot(this,et.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var et,g=this.comp.threeDElements.length,it,ot,ut;for(et=0;et<g;et+=1)if(it=this.comp.threeDElements[et],it.type==="3d"){ot=it.perspectiveElem.style,ut=it.container.style;var ct=this.pe.v+"px",dt="0px 0px 0px",ft="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";ot.perspective=ct,ot.webkitPerspective=ct,ut.transformOrigin=dt,ut.mozTransformOrigin=dt,ut.webkitTransformOrigin=dt,ot.transform=ft,ot.webkitTransform=ft}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var et=this._isFirstFrame,g,it;if(this.hierarchy)for(it=this.hierarchy.length,g=0;g<it;g+=1)et=this.hierarchy[g].finalTransform.mProp._mdf||et;if(et||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(it=this.hierarchy.length-1,g=it;g>=0;g-=1){var ot=this.hierarchy[g].finalTransform.mProp;this.mat.translate(-ot.p.v[0],-ot.p.v[1],ot.p.v[2]),this.mat.rotateX(-ot.or.v[0]).rotateY(-ot.or.v[1]).rotateZ(ot.or.v[2]),this.mat.rotateX(-ot.rx.v).rotateY(-ot.ry.v).rotateZ(ot.rz.v),this.mat.scale(1/ot.s.v[0],1/ot.s.v[1],1/ot.s.v[2]),this.mat.translate(ot.a.v[0],ot.a.v[1],ot.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var ut;this.p?ut=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:ut=[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var ct=Math.sqrt(Math.pow(ut[0],2)+Math.pow(ut[1],2)+Math.pow(ut[2],2)),dt=[ut[0]/ct,ut[1]/ct,ut[2]/ct],ft=Math.sqrt(dt[2]*dt[2]+dt[0]*dt[0]),St=Math.atan2(dt[1],ft),Tt=Math.atan2(dt[0],-dt[2]);this.mat.rotateY(Tt).rotateX(-St)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var kt=!this._prevMat.equals(this.mat);if((kt||this.pe._mdf)&&this.comp.threeDElements){it=this.comp.threeDElements.length;var jt,Rt,$t;for(g=0;g<it;g+=1)if(jt=this.comp.threeDElements[g],jt.type==="3d"){if(kt){var zt=this.mat.toCSS();$t=jt.container.style,$t.transform=zt,$t.webkitTransform=zt}this.pe._mdf&&(Rt=jt.perspectiveElem.style,Rt.perspective=this.pe.v+"px",Rt.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(et){this.prepareProperties(et,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};function HImageElement(et,g,it){this.assetData=g.getAssetData(et.refId),this.initElement(et,g,it)}extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var et=this.globalData.getAssetsPath(this.assetData),g=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",et),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(g),g.crossOrigin="anonymous",g.src=et,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)};function HybridRendererBase(et,g){this.animationItem=et,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:g&&g.className||"",imagePreserveAspectRatio:g&&g.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(g&&g.hideOnTransparent===!1),filterSize:{width:g&&g.filterSize&&g.filterSize.width||"400%",height:g&&g.filterSize&&g.filterSize.height||"400%",x:g&&g.filterSize&&g.filterSize.x||"-100%",y:g&&g.filterSize&&g.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var et=this.pendingElements.pop();et.checkParenting()}},HybridRendererBase.prototype.appendElementInPos=function(et,g){var it=et.getBaseElement();if(it){var ot=this.layers[g];if(!ot.ddd||!this.supports3d)if(this.threeDElements)this.addTo3dContainer(it,g);else{for(var ut=0,ct,dt,ft;ut<g;)this.elements[ut]&&this.elements[ut]!==!0&&this.elements[ut].getBaseElement&&(dt=this.elements[ut],ft=this.layers[ut].ddd?this.getThreeDContainerByPos(ut):dt.getBaseElement(),ct=ft||ct),ut+=1;ct?(!ot.ddd||!this.supports3d)&&this.layerElement.insertBefore(it,ct):(!ot.ddd||!this.supports3d)&&this.layerElement.appendChild(it)}else this.addTo3dContainer(it,g)}},HybridRendererBase.prototype.createShape=function(et){return this.supports3d?new HShapeElement(et,this.globalData,this):new SVGShapeElement(et,this.globalData,this)},HybridRendererBase.prototype.createText=function(et){return this.supports3d?new HTextElement(et,this.globalData,this):new SVGTextLottieElement(et,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(et){return this.camera=new HCameraElement(et,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(et){return this.supports3d?new HImageElement(et,this.globalData,this):new IImageElement(et,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(et){return this.supports3d?new HSolidElement(et,this.globalData,this):new ISolidElement(et,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(et){for(var g=0,it=this.threeDElements.length;g<it;){if(this.threeDElements[g].startPos<=et&&this.threeDElements[g].endPos>=et)return this.threeDElements[g].perspectiveElem;g+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(et,g){var it=createTag("div"),ot,ut;styleDiv(it);var ct=createTag("div");if(styleDiv(ct),g==="3d"){ot=it.style,ot.width=this.globalData.compSize.w+"px",ot.height=this.globalData.compSize.h+"px";var dt="50% 50%";ot.webkitTransformOrigin=dt,ot.mozTransformOrigin=dt,ot.transformOrigin=dt,ut=ct.style;var ft="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";ut.transform=ft,ut.webkitTransform=ft}it.appendChild(ct);var St={container:ct,perspectiveElem:it,startPos:et,endPos:et,type:g};return this.threeDElements.push(St),St},HybridRendererBase.prototype.build3dContainers=function(){var et,g=this.layers.length,it,ot="";for(et=0;et<g;et+=1)this.layers[et].ddd&&this.layers[et].ty!==3?(ot!=="3d"&&(ot="3d",it=this.createThreeDContainer(et,"3d")),it.endPos=Math.max(it.endPos,et)):(ot!=="2d"&&(ot="2d",it=this.createThreeDContainer(et,"2d")),it.endPos=Math.max(it.endPos,et));for(g=this.threeDElements.length,et=g-1;et>=0;et-=1)this.resizerElem.appendChild(this.threeDElements[et].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(et,g){for(var it=0,ot=this.threeDElements.length;it<ot;){if(g<=this.threeDElements[it].endPos){for(var ut=this.threeDElements[it].startPos,ct;ut<g;)this.elements[ut]&&this.elements[ut].getBaseElement&&(ct=this.elements[ut].getBaseElement()),ut+=1;ct?this.threeDElements[it].container.insertBefore(et,ct):this.threeDElements[it].container.appendChild(et);break}it+=1}},HybridRendererBase.prototype.configAnimation=function(et){var g=createTag("div"),it=this.animationItem.wrapper,ot=g.style;ot.width=et.w+"px",ot.height=et.h+"px",this.resizerElem=g,styleDiv(g),ot.transformStyle="flat",ot.mozTransformStyle="flat",ot.webkitTransformStyle="flat",this.renderConfig.className&&g.setAttribute("class",this.renderConfig.className),it.appendChild(g),ot.overflow="hidden";var ut=createNS("svg");ut.setAttribute("width","1"),ut.setAttribute("height","1"),styleDiv(ut),this.resizerElem.appendChild(ut);var ct=createNS("defs");ut.appendChild(ct),this.data=et,this.setupGlobalData(et,ut),this.globalData.defs=ct,this.layers=et.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var et,g=this.layers?this.layers.length:0;for(et=0;et<g;et+=1)this.elements[et]&&this.elements[et].destroy&&this.elements[et].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var et=this.animationItem.wrapper.offsetWidth,g=this.animationItem.wrapper.offsetHeight,it=et/g,ot=this.globalData.compSize.w/this.globalData.compSize.h,ut,ct,dt,ft;ot>it?(ut=et/this.globalData.compSize.w,ct=et/this.globalData.compSize.w,dt=0,ft=(g-this.globalData.compSize.h*(et/this.globalData.compSize.w))/2):(ut=g/this.globalData.compSize.h,ct=g/this.globalData.compSize.h,dt=(et-this.globalData.compSize.w*(g/this.globalData.compSize.h))/2,ft=0);var St=this.resizerElem.style;St.webkitTransform="matrix3d("+ut+",0,0,0,0,"+ct+",0,0,0,0,1,0,"+dt+","+ft+",0,1)",St.transform=St.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var et=this.globalData.compSize.w,g=this.globalData.compSize.h,it,ot=this.threeDElements.length;for(it=0;it<ot;it+=1){var ut=this.threeDElements[it].perspectiveElem.style;ut.webkitPerspective=Math.sqrt(Math.pow(et,2)+Math.pow(g,2))+"px",ut.perspective=ut.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(et){var g,it=et.length,ot=createTag("div");for(g=0;g<it;g+=1)if(et[g].xt){var ut=this.createComp(et[g],ot,this.globalData.comp,null);ut.initExpressions(),this.globalData.projectInterface.registerComposition(ut)}};function HCompElement(et,g,it){this.layers=et.layers,this.supports3d=!et.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(et,g,it),this.tm=et.tm?PropertyFactory.getProp(this,et.tm,0,g.frameRate,this):{_placeholder:!0}}extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(et,g){for(var it=0,ot;it<g;)this.elements[it]&&this.elements[it].getBaseElement&&(ot=this.elements[it].getBaseElement()),it+=1;ot?this.layerElement.insertBefore(et,ot):this.layerElement.appendChild(et)},HCompElement.prototype.createComp=function(et){return this.supports3d?new HCompElement(et,this.globalData,this):new SVGCompElement(et,this.globalData,this)};function HybridRenderer(et,g){this.animationItem=et,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:g&&g.className||"",imagePreserveAspectRatio:g&&g.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(g&&g.hideOnTransparent===!1),filterSize:{width:g&&g.filterSize&&g.filterSize.width||"400%",height:g&&g.filterSize&&g.filterSize.height||"400%",x:g&&g.filterSize&&g.filterSize.x||"-100%",y:g&&g.filterSize&&g.filterSize.y||"-100%"},runExpressions:!g||g.runExpressions===void 0||g.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(et){return this.supports3d?new HCompElement(et,this.globalData,this):new SVGCompElement(et,this.globalData,this)};var CompExpressionInterface=function(){return function(et){function g(it){for(var ot=0,ut=et.layers.length;ot<ut;){if(et.layers[ot].nm===it||et.layers[ot].ind===it)return et.elements[ot].layerInterface;ot+=1}return null}return Object.defineProperty(g,"_name",{value:et.data.nm}),g.layer=g,g.pixelAspect=1,g.height=et.data.h||et.globalData.compSize.h,g.width=et.data.w||et.globalData.compSize.w,g.pixelAspect=1,g.frameDuration=1/et.globalData.frameRate,g.displayStartTime=0,g.numLayers=et.layers.length,g}}();function _typeof$2(et){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$2=function(it){return typeof it}:_typeof$2=function(it){return it&&typeof Symbol=="function"&&it.constructor===Symbol&&it!==Symbol.prototype?"symbol":typeof it},_typeof$2(et)}function seedRandom(et,g){var it=this,ot=256,ut=6,ct=52,dt="random",ft=g.pow(ot,ut),St=g.pow(2,ct),Tt=St*2,kt=ot-1,jt;function Rt(Kt,Yt,Jt){var er=[];Yt=Yt===!0?{entropy:!0}:Yt||{};var tr=Zt(Ht(Yt.entropy?[Kt,Ut(et)]:Kt===null?Bt():Kt,3),er),rr=new $t(er),hr=function(){for(var or=rr.g(ut),cr=ft,gr=0;or<St;)or=(or+gr)*ot,cr*=ot,gr=rr.g(1);for(;or>=Tt;)or/=2,cr/=2,gr>>>=1;return(or+gr)/cr};return hr.int32=function(){return rr.g(4)|0},hr.quick=function(){return rr.g(4)/4294967296},hr.double=hr,Zt(Ut(rr.S),et),(Yt.pass||Jt||function(ar,or,cr,gr){return gr&&(gr.S&&zt(gr,rr),ar.state=function(){return zt(rr,{})}),cr?(g[dt]=ar,or):ar})(hr,tr,"global"in Yt?Yt.global:this==g,Yt.state)}g["seed"+dt]=Rt;function $t(Kt){var Yt,Jt=Kt.length,er=this,tr=0,rr=er.i=er.j=0,hr=er.S=[];for(Jt||(Kt=[Jt++]);tr<ot;)hr[tr]=tr++;for(tr=0;tr<ot;tr++)hr[tr]=hr[rr=kt&rr+Kt[tr%Jt]+(Yt=hr[tr])],hr[rr]=Yt;er.g=function(ar){for(var or,cr=0,gr=er.i,yr=er.j,xr=er.S;ar--;)or=xr[gr=kt&gr+1],cr=cr*ot+xr[kt&(xr[gr]=xr[yr=kt&yr+or])+(xr[yr]=or)];return er.i=gr,er.j=yr,cr}}function zt(Kt,Yt){return Yt.i=Kt.i,Yt.j=Kt.j,Yt.S=Kt.S.slice(),Yt}function Ht(Kt,Yt){var Jt=[],er=_typeof$2(Kt),tr;if(Yt&&er=="object")for(tr in Kt)try{Jt.push(Ht(Kt[tr],Yt-1))}catch{}return Jt.length?Jt:er=="string"?Kt:Kt+"\0"}function Zt(Kt,Yt){for(var Jt=Kt+"",er,tr=0;tr<Jt.length;)Yt[kt&tr]=kt&(er^=Yt[kt&tr]*19)+Jt.charCodeAt(tr++);return Ut(Yt)}function Bt(){try{var Kt=new Uint8Array(ot);return(it.crypto||it.msCrypto).getRandomValues(Kt),Ut(Kt)}catch{var Yt=it.navigator,Jt=Yt&&Yt.plugins;return[+new Date,it,Jt,it.screen,Ut(et)]}}function Ut(Kt){return String.fromCharCode.apply(0,Kt)}Zt(g.random(),et)}function initialize$2(et){seedRandom([],et)}var propTypes={SHAPE:"shape"};function _typeof$1(et){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$1=function(it){return typeof it}:_typeof$1=function(it){return it&&typeof Symbol=="function"&&it.constructor===Symbol&&it!==Symbol.prototype?"symbol":typeof it},_typeof$1(et)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};initialize$2(BMMath);function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(et){return et.constructor===Array||et.constructor===Float32Array}function isNumerable(et,g){return et==="number"||g instanceof Number||et==="boolean"||et==="string"}function $bm_neg(et){var g=_typeof$1(et);if(g==="number"||et instanceof Number||g==="boolean")return-et;if($bm_isInstanceOfArray(et)){var it,ot=et.length,ut=[];for(it=0;it<ot;it+=1)ut[it]=-et[it];return ut}return et.propType?et.v:-et}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(et,g){var it=_typeof$1(et),ot=_typeof$1(g);if(isNumerable(it,et)&&isNumerable(ot,g)||it==="string"||ot==="string")return et+g;if($bm_isInstanceOfArray(et)&&isNumerable(ot,g))return et=et.slice(0),et[0]+=g,et;if(isNumerable(it,et)&&$bm_isInstanceOfArray(g))return g=g.slice(0),g[0]=et+g[0],g;if($bm_isInstanceOfArray(et)&&$bm_isInstanceOfArray(g)){for(var ut=0,ct=et.length,dt=g.length,ft=[];ut<ct||ut<dt;)(typeof et[ut]=="number"||et[ut]instanceof Number)&&(typeof g[ut]=="number"||g[ut]instanceof Number)?ft[ut]=et[ut]+g[ut]:ft[ut]=g[ut]===void 0?et[ut]:et[ut]||g[ut],ut+=1;return ft}return 0}var add=sum;function sub(et,g){var it=_typeof$1(et),ot=_typeof$1(g);if(isNumerable(it,et)&&isNumerable(ot,g))return it==="string"&&(et=parseInt(et,10)),ot==="string"&&(g=parseInt(g,10)),et-g;if($bm_isInstanceOfArray(et)&&isNumerable(ot,g))return et=et.slice(0),et[0]-=g,et;if(isNumerable(it,et)&&$bm_isInstanceOfArray(g))return g=g.slice(0),g[0]=et-g[0],g;if($bm_isInstanceOfArray(et)&&$bm_isInstanceOfArray(g)){for(var ut=0,ct=et.length,dt=g.length,ft=[];ut<ct||ut<dt;)(typeof et[ut]=="number"||et[ut]instanceof Number)&&(typeof g[ut]=="number"||g[ut]instanceof Number)?ft[ut]=et[ut]-g[ut]:ft[ut]=g[ut]===void 0?et[ut]:et[ut]||g[ut],ut+=1;return ft}return 0}function mul(et,g){var it=_typeof$1(et),ot=_typeof$1(g),ut;if(isNumerable(it,et)&&isNumerable(ot,g))return et*g;var ct,dt;if($bm_isInstanceOfArray(et)&&isNumerable(ot,g)){for(dt=et.length,ut=createTypedArray("float32",dt),ct=0;ct<dt;ct+=1)ut[ct]=et[ct]*g;return ut}if(isNumerable(it,et)&&$bm_isInstanceOfArray(g)){for(dt=g.length,ut=createTypedArray("float32",dt),ct=0;ct<dt;ct+=1)ut[ct]=et*g[ct];return ut}return 0}function div(et,g){var it=_typeof$1(et),ot=_typeof$1(g),ut;if(isNumerable(it,et)&&isNumerable(ot,g))return et/g;var ct,dt;if($bm_isInstanceOfArray(et)&&isNumerable(ot,g)){for(dt=et.length,ut=createTypedArray("float32",dt),ct=0;ct<dt;ct+=1)ut[ct]=et[ct]/g;return ut}if(isNumerable(it,et)&&$bm_isInstanceOfArray(g)){for(dt=g.length,ut=createTypedArray("float32",dt),ct=0;ct<dt;ct+=1)ut[ct]=et/g[ct];return ut}return 0}function mod(et,g){return typeof et=="string"&&(et=parseInt(et,10)),typeof g=="string"&&(g=parseInt(g,10)),et%g}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(et,g,it){if(g>it){var ot=it;it=g,g=ot}return Math.min(Math.max(et,g),it)}function radiansToDegrees(et){return et/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(et){return et*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(et,g){if(typeof et=="number"||et instanceof Number)return g=g||0,Math.abs(et-g);g||(g=helperLengthArray);var it,ot=Math.min(et.length,g.length),ut=0;for(it=0;it<ot;it+=1)ut+=Math.pow(g[it]-et[it],2);return Math.sqrt(ut)}function normalize(et){return div(et,length(et))}function rgbToHsl(et){var g=et[0],it=et[1],ot=et[2],ut=Math.max(g,it,ot),ct=Math.min(g,it,ot),dt,ft,St=(ut+ct)/2;if(ut===ct)dt=0,ft=0;else{var Tt=ut-ct;switch(ft=St>.5?Tt/(2-ut-ct):Tt/(ut+ct),ut){case g:dt=(it-ot)/Tt+(it<ot?6:0);break;case it:dt=(ot-g)/Tt+2;break;case ot:dt=(g-it)/Tt+4;break}dt/=6}return[dt,ft,St,et[3]]}function hue2rgb(et,g,it){return it<0&&(it+=1),it>1&&(it-=1),it<1/6?et+(g-et)*6*it:it<1/2?g:it<2/3?et+(g-et)*(2/3-it)*6:et}function hslToRgb(et){var g=et[0],it=et[1],ot=et[2],ut,ct,dt;if(it===0)ut=ot,dt=ot,ct=ot;else{var ft=ot<.5?ot*(1+it):ot+it-ot*it,St=2*ot-ft;ut=hue2rgb(St,ft,g+1/3),ct=hue2rgb(St,ft,g),dt=hue2rgb(St,ft,g-1/3)}return[ut,ct,dt,et[3]]}function linear(et,g,it,ot,ut){if((ot===void 0||ut===void 0)&&(ot=g,ut=it,g=0,it=1),it<g){var ct=it;it=g,g=ct}if(et<=g)return ot;if(et>=it)return ut;var dt=it===g?0:(et-g)/(it-g);if(!ot.length)return ot+(ut-ot)*dt;var ft,St=ot.length,Tt=createTypedArray("float32",St);for(ft=0;ft<St;ft+=1)Tt[ft]=ot[ft]+(ut[ft]-ot[ft])*dt;return Tt}function random(et,g){if(g===void 0&&(et===void 0?(et=0,g=1):(g=et,et=void 0)),g.length){var it,ot=g.length;et||(et=createTypedArray("float32",ot));var ut=createTypedArray("float32",ot),ct=BMMath.random();for(it=0;it<ot;it+=1)ut[it]=et[it]+ct*(g[it]-et[it]);return ut}et===void 0&&(et=0);var dt=BMMath.random();return et+dt*(g-et)}function createPath(et,g,it,ot){var ut,ct=et.length,dt=shapePool.newElement();dt.setPathData(!!ot,ct);var ft=[0,0],St,Tt;for(ut=0;ut<ct;ut+=1)St=g&&g[ut]?g[ut]:ft,Tt=it&&it[ut]?it[ut]:ft,dt.setTripleAt(et[ut][0],et[ut][1],Tt[0]+et[ut][0],Tt[1]+et[ut][1],St[0]+et[ut][0],St[1]+et[ut][1],ut,!0);return dt}function initiateExpression(elem,data,property){function noOp(et){return et}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=(function et(g,it){var ot,ut,ct=this.pv.length?this.pv.length:1,dt=createTypedArray("float32",ct);g=5;var ft=Math.floor(time*g);for(ot=0,ut=0;ot<ft;){for(ut=0;ut<ct;ut+=1)dt[ut]+=-it+it*2*BMMath.random();ot+=1}var St=time*g,Tt=St-Math.floor(St),kt=createTypedArray("float32",ct);if(ct>1){for(ut=0;ut<ct;ut+=1)kt[ut]=this.pv[ut]+dt[ut]+(-it+it*2*BMMath.random())*Tt;return kt}return this.pv+dt[0]+(-it+it*2*BMMath.random())*Tt}).bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty));function loopInDuration(et,g){return loopIn(et,g,!0)}function loopOutDuration(et,g){return loopOut(et,g,!0)}this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(et,g){var it=[g[0]-et[0],g[1]-et[1],g[2]-et[2]],ot=Math.atan2(it[0],Math.sqrt(it[1]*it[1]+it[2]*it[2]))/degToRads,ut=-Math.atan2(it[1],it[2])/degToRads;return[ut,ot,0]}function easeOut(et,g,it,ot,ut){return applyEase(easeOutBez,et,g,it,ot,ut)}function easeIn(et,g,it,ot,ut){return applyEase(easeInBez,et,g,it,ot,ut)}function ease(et,g,it,ot,ut){return applyEase(easeInOutBez,et,g,it,ot,ut)}function applyEase(et,g,it,ot,ut,ct){ut===void 0?(ut=it,ct=ot):g=(g-it)/(ot-it),g>1?g=1:g<0&&(g=0);var dt=et(g);if($bm_isInstanceOfArray(ut)){var ft,St=ut.length,Tt=createTypedArray("float32",St);for(ft=0;ft<St;ft+=1)Tt[ft]=(ct[ft]-ut[ft])*dt+ut[ft];return Tt}return(ct-ut)*dt+ut}function nearestKey(et){var g,it=data.k.length,ot,ut;if(!data.k.length||typeof data.k[0]=="number")ot=0,ut=0;else if(ot=-1,et*=elem.comp.globalData.frameRate,et<data.k[0].t)ot=1,ut=data.k[0].t;else{for(g=0;g<it-1;g+=1)if(et===data.k[g].t){ot=g+1,ut=data.k[g].t;break}else if(et>data.k[g].t&&et<data.k[g+1].t){et-data.k[g].t>data.k[g+1].t-et?(ot=g+2,ut=data.k[g+1].t):(ot=g+1,ut=data.k[g].t);break}ot===-1&&(ot=g+1,ut=data.k[g].t)}var ct={};return ct.index=ot,ct.time=ut/elem.comp.globalData.frameRate,ct}function key(et){var g,it,ot;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+et);et-=1,g={time:data.k[et].t/elem.comp.globalData.frameRate,value:[]};var ut=Object.prototype.hasOwnProperty.call(data.k[et],"s")?data.k[et].s:data.k[et-1].e;for(ot=ut.length,it=0;it<ot;it+=1)g[it]=ut[it],g.value[it]=ut[it];return g}function framesToTime(et,g){return g||(g=elem.comp.globalData.frameRate),et/g}function timeToFrames(et,g){return!et&&et!==0&&(et=time),g||(g=elem.comp.globalData.frameRate),et*g}function seedRandom(et){BMMath.seedrandom(randSeed+et)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(et,g){return typeof value=="string"?g===void 0?value.substring(et):value.substring(et,g):""}function substr(et,g){return typeof value=="string"?g===void 0?value.substr(et):value.substr(et,g):""}function posterizeTime(et){time=et===0?0:Math.floor(time*et)/et,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!!(elem.hierarchy&&elem.hierarchy.length),parent,randSeed=Math.floor(Math.random()*1e6),globalData=elem.globalData;function executeExpression(et){return value=et,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType===4&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!!(elem.hierarchy&&elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt,scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob}(),Expressions=function(){var et={};et.initExpressions=g,et.resetFrame=ExpressionManager.resetFrame;function g(it){var ot=0,ut=[];function ct(){ot+=1}function dt(){ot-=1,ot===0&&St()}function ft(Tt){ut.indexOf(Tt)===-1&&ut.push(Tt)}function St(){var Tt,kt=ut.length;for(Tt=0;Tt<kt;Tt+=1)ut[Tt].release();ut.length=0}it.renderer.compInterface=CompExpressionInterface(it.renderer),it.renderer.globalData.projectInterface.registerComposition(it.renderer),it.renderer.globalData.pushExpression=ct,it.renderer.globalData.popExpression=dt,it.renderer.globalData.registerExpressionProperty=ft}return et}(),MaskManagerInterface=function(){function et(it,ot){this._mask=it,this._data=ot}Object.defineProperty(et.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(et.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),this._mask.op.v*100}});var g=function(ot){var ut=createSizedArray(ot.viewData.length),ct,dt=ot.viewData.length;for(ct=0;ct<dt;ct+=1)ut[ct]=new et(ot.viewData[ct],ot.masksProperties[ct]);var ft=function(Tt){for(ct=0;ct<dt;){if(ot.masksProperties[ct].nm===Tt)return ut[ct];ct+=1}return null};return ft};return g}(),ExpressionPropertyInterface=function(){var et={pv:0,v:0,mult:1},g={pv:[0,0,0],v:[0,0,0],mult:1};function it(dt,ft,St){Object.defineProperty(dt,"velocity",{get:function(){return ft.getVelocityAtTime(ft.comp.currentFrame)}}),dt.numKeys=ft.keyframes?ft.keyframes.length:0,dt.key=function(Tt){if(!dt.numKeys)return 0;var kt="";"s"in ft.keyframes[Tt-1]?kt=ft.keyframes[Tt-1].s:"e"in ft.keyframes[Tt-2]?kt=ft.keyframes[Tt-2].e:kt=ft.keyframes[Tt-2].s;var jt=St==="unidimensional"?new Number(kt):Object.assign({},kt);return jt.time=ft.keyframes[Tt-1].t/ft.elem.comp.globalData.frameRate,jt.value=St==="unidimensional"?kt[0]:kt,jt},dt.valueAtTime=ft.getValueAtTime,dt.speedAtTime=ft.getSpeedAtTime,dt.velocityAtTime=ft.getVelocityAtTime,dt.propertyGroup=ft.propertyGroup}function ot(dt){(!dt||!("pv"in dt))&&(dt=et);var ft=1/dt.mult,St=dt.pv*ft,Tt=new Number(St);return Tt.value=St,it(Tt,dt,"unidimensional"),function(){return dt.k&&dt.getValue(),St=dt.v*ft,Tt.value!==St&&(Tt=new Number(St),Tt.value=St,it(Tt,dt,"unidimensional")),Tt}}function ut(dt){(!dt||!("pv"in dt))&&(dt=g);var ft=1/dt.mult,St=dt.data&&dt.data.l||dt.pv.length,Tt=createTypedArray("float32",St),kt=createTypedArray("float32",St);return Tt.value=kt,it(Tt,dt,"multidimensional"),function(){dt.k&&dt.getValue();for(var jt=0;jt<St;jt+=1)kt[jt]=dt.v[jt]*ft,Tt[jt]=kt[jt];return Tt}}function ct(){return et}return function(dt){return dt?dt.propType==="unidimensional"?ot(dt):ut(dt):ct}}(),TransformExpressionInterface=function(){return function(et){function g(dt){switch(dt){case"scale":case"Scale":case"ADBE Scale":case 6:return g.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return g.rotation;case"ADBE Rotate X":return g.xRotation;case"ADBE Rotate Y":return g.yRotation;case"position":case"Position":case"ADBE Position":case 2:return g.position;case"ADBE Position_0":return g.xPosition;case"ADBE Position_1":return g.yPosition;case"ADBE Position_2":return g.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return g.anchorPoint;case"opacity":case"Opacity":case 11:return g.opacity;default:return null}}Object.defineProperty(g,"rotation",{get:ExpressionPropertyInterface(et.r||et.rz)}),Object.defineProperty(g,"zRotation",{get:ExpressionPropertyInterface(et.rz||et.r)}),Object.defineProperty(g,"xRotation",{get:ExpressionPropertyInterface(et.rx)}),Object.defineProperty(g,"yRotation",{get:ExpressionPropertyInterface(et.ry)}),Object.defineProperty(g,"scale",{get:ExpressionPropertyInterface(et.s)});var it,ot,ut,ct;return et.p?ct=ExpressionPropertyInterface(et.p):(it=ExpressionPropertyInterface(et.px),ot=ExpressionPropertyInterface(et.py),et.pz&&(ut=ExpressionPropertyInterface(et.pz))),Object.defineProperty(g,"position",{get:function(){return et.p?ct():[it(),ot(),ut?ut():0]}}),Object.defineProperty(g,"xPosition",{get:ExpressionPropertyInterface(et.px)}),Object.defineProperty(g,"yPosition",{get:ExpressionPropertyInterface(et.py)}),Object.defineProperty(g,"zPosition",{get:ExpressionPropertyInterface(et.pz)}),Object.defineProperty(g,"anchorPoint",{get:ExpressionPropertyInterface(et.a)}),Object.defineProperty(g,"opacity",{get:ExpressionPropertyInterface(et.o)}),Object.defineProperty(g,"skew",{get:ExpressionPropertyInterface(et.sk)}),Object.defineProperty(g,"skewAxis",{get:ExpressionPropertyInterface(et.sa)}),Object.defineProperty(g,"orientation",{get:ExpressionPropertyInterface(et.or)}),g}}(),LayerExpressionInterface=function(){function et(Tt){var kt=new Matrix;if(Tt!==void 0){var jt=this._elem.finalTransform.mProp.getValueAtTime(Tt);jt.clone(kt)}else{var Rt=this._elem.finalTransform.mProp;Rt.applyToMatrix(kt)}return kt}function g(Tt,kt){var jt=this.getMatrix(kt);return jt.props[12]=0,jt.props[13]=0,jt.props[14]=0,this.applyPoint(jt,Tt)}function it(Tt,kt){var jt=this.getMatrix(kt);return this.applyPoint(jt,Tt)}function ot(Tt,kt){var jt=this.getMatrix(kt);return jt.props[12]=0,jt.props[13]=0,jt.props[14]=0,this.invertPoint(jt,Tt)}function ut(Tt,kt){var jt=this.getMatrix(kt);return this.invertPoint(jt,Tt)}function ct(Tt,kt){if(this._elem.hierarchy&&this._elem.hierarchy.length){var jt,Rt=this._elem.hierarchy.length;for(jt=0;jt<Rt;jt+=1)this._elem.hierarchy[jt].finalTransform.mProp.applyToMatrix(Tt)}return Tt.applyToPointArray(kt[0],kt[1],kt[2]||0)}function dt(Tt,kt){if(this._elem.hierarchy&&this._elem.hierarchy.length){var jt,Rt=this._elem.hierarchy.length;for(jt=0;jt<Rt;jt+=1)this._elem.hierarchy[jt].finalTransform.mProp.applyToMatrix(Tt)}return Tt.inversePoint(kt)}function ft(Tt){var kt=new Matrix;if(kt.reset(),this._elem.finalTransform.mProp.applyToMatrix(kt),this._elem.hierarchy&&this._elem.hierarchy.length){var jt,Rt=this._elem.hierarchy.length;for(jt=0;jt<Rt;jt+=1)this._elem.hierarchy[jt].finalTransform.mProp.applyToMatrix(kt);return kt.inversePoint(Tt)}return kt.inversePoint(Tt)}function St(){return[1,1,1,1]}return function(Tt){var kt;function jt(Ht){$t.mask=new MaskManagerInterface(Ht,Tt)}function Rt(Ht){$t.effect=Ht}function $t(Ht){switch(Ht){case"ADBE Root Vectors Group":case"Contents":case 2:return $t.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return kt;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return $t.effect;case"ADBE Text Properties":return $t.textInterface;default:return null}}$t.getMatrix=et,$t.invertPoint=dt,$t.applyPoint=ct,$t.toWorld=it,$t.toWorldVec=g,$t.fromWorld=ut,$t.fromWorldVec=ot,$t.toComp=it,$t.fromComp=ft,$t.sampleImage=St,$t.sourceRectAtTime=Tt.sourceRectAtTime.bind(Tt),$t._elem=Tt,kt=TransformExpressionInterface(Tt.finalTransform.mProp);var zt=getDescriptor(kt,"anchorPoint");return Object.defineProperties($t,{hasParent:{get:function(){return Tt.hierarchy.length}},parent:{get:function(){return Tt.hierarchy[0].layerInterface}},rotation:getDescriptor(kt,"rotation"),scale:getDescriptor(kt,"scale"),position:getDescriptor(kt,"position"),opacity:getDescriptor(kt,"opacity"),anchorPoint:zt,anchor_point:zt,transform:{get:function(){return kt}},active:{get:function(){return Tt.isInRange}}}),$t.startTime=Tt.data.st,$t.index=Tt.data.ind,$t.source=Tt.data.refId,$t.height=Tt.data.ty===0?Tt.data.h:100,$t.width=Tt.data.ty===0?Tt.data.w:100,$t.inPoint=Tt.data.ip/Tt.comp.globalData.frameRate,$t.outPoint=Tt.data.op/Tt.comp.globalData.frameRate,$t._name=Tt.data.nm,$t.registerMaskInterface=jt,$t.registerEffectsInterface=Rt,$t}}(),propertyGroupFactory=function(){return function(et,g){return function(it){return it=it===void 0?1:it,it<=0?et:g(it-1)}}}(),PropertyInterface=function(){return function(et,g){var it={_name:et};function ot(ut){return ut=ut===void 0?1:ut,ut<=0?it:g(ut-1)}return ot}}(),EffectsExpressionInterface=function(){var et={createEffectsInterface:g};function g(ut,ct){if(ut.effectsManager){var dt=[],ft=ut.data.ef,St,Tt=ut.effectsManager.effectElements.length;for(St=0;St<Tt;St+=1)dt.push(it(ft[St],ut.effectsManager.effectElements[St],ct,ut));var kt=ut.data.ef||[],jt=function($t){for(St=0,Tt=kt.length;St<Tt;){if($t===kt[St].nm||$t===kt[St].mn||$t===kt[St].ix)return dt[St];St+=1}return null};return Object.defineProperty(jt,"numProperties",{get:function(){return kt.length}}),jt}return null}function it(ut,ct,dt,ft){function St($t){for(var zt=ut.ef,Ht=0,Zt=zt.length;Ht<Zt;){if($t===zt[Ht].nm||$t===zt[Ht].mn||$t===zt[Ht].ix)return zt[Ht].ty===5?kt[Ht]:kt[Ht]();Ht+=1}throw new Error}var Tt=propertyGroupFactory(St,dt),kt=[],jt,Rt=ut.ef.length;for(jt=0;jt<Rt;jt+=1)ut.ef[jt].ty===5?kt.push(it(ut.ef[jt],ct.effectElements[jt],ct.effectElements[jt].propertyGroup,ft)):kt.push(ot(ct.effectElements[jt],ut.ef[jt].ty,ft,Tt));return ut.mn==="ADBE Color Control"&&Object.defineProperty(St,"color",{get:function(){return kt[0]()}}),Object.defineProperties(St,{numProperties:{get:function(){return ut.np}},_name:{value:ut.nm},propertyGroup:{value:Tt}}),St.enabled=ut.en!==0,St.active=St.enabled,St}function ot(ut,ct,dt,ft){var St=ExpressionPropertyInterface(ut.p);function Tt(){return ct===10?dt.comp.compInterface(ut.p.v):St()}return ut.p.setGroupProperty&&ut.p.setGroupProperty(PropertyInterface("",ft)),Tt}return et}(),ShapePathInterface=function(){return function(g,it,ot){var ut=it.sh;function ct(ft){return ft==="Shape"||ft==="shape"||ft==="Path"||ft==="path"||ft==="ADBE Vector Shape"||ft===2?ct.path:null}var dt=propertyGroupFactory(ct,ot);return ut.setGroupProperty(PropertyInterface("Path",dt)),Object.defineProperties(ct,{path:{get:function(){return ut.k&&ut.getValue(),ut}},shape:{get:function(){return ut.k&&ut.getValue(),ut}},_name:{value:g.nm},ix:{value:g.ix},propertyIndex:{value:g.ix},mn:{value:g.mn},propertyGroup:{value:ot}}),ct}}(),ShapeExpressionInterface=function(){function et(zt,Ht,Zt){var Bt=[],Ut,Kt=zt?zt.length:0;for(Ut=0;Ut<Kt;Ut+=1)zt[Ut].ty==="gr"?Bt.push(it(zt[Ut],Ht[Ut],Zt)):zt[Ut].ty==="fl"?Bt.push(ot(zt[Ut],Ht[Ut],Zt)):zt[Ut].ty==="st"?Bt.push(dt(zt[Ut],Ht[Ut],Zt)):zt[Ut].ty==="tm"?Bt.push(ft(zt[Ut],Ht[Ut],Zt)):zt[Ut].ty==="tr"||(zt[Ut].ty==="el"?Bt.push(Tt(zt[Ut],Ht[Ut],Zt)):zt[Ut].ty==="sr"?Bt.push(kt(zt[Ut],Ht[Ut],Zt)):zt[Ut].ty==="sh"?Bt.push(ShapePathInterface(zt[Ut],Ht[Ut],Zt)):zt[Ut].ty==="rc"?Bt.push(jt(zt[Ut],Ht[Ut],Zt)):zt[Ut].ty==="rd"?Bt.push(Rt(zt[Ut],Ht[Ut],Zt)):zt[Ut].ty==="rp"?Bt.push($t(zt[Ut],Ht[Ut],Zt)):zt[Ut].ty==="gf"?Bt.push(ut(zt[Ut],Ht[Ut],Zt)):Bt.push(ct(zt[Ut],Ht[Ut])));return Bt}function g(zt,Ht,Zt){var Bt,Ut=function(Jt){for(var er=0,tr=Bt.length;er<tr;){if(Bt[er]._name===Jt||Bt[er].mn===Jt||Bt[er].propertyIndex===Jt||Bt[er].ix===Jt||Bt[er].ind===Jt)return Bt[er];er+=1}return typeof Jt=="number"?Bt[Jt-1]:null};Ut.propertyGroup=propertyGroupFactory(Ut,Zt),Bt=et(zt.it,Ht.it,Ut.propertyGroup),Ut.numProperties=Bt.length;var Kt=St(zt.it[zt.it.length-1],Ht.it[Ht.it.length-1],Ut.propertyGroup);return Ut.transform=Kt,Ut.propertyIndex=zt.cix,Ut._name=zt.nm,Ut}function it(zt,Ht,Zt){var Bt=function(Jt){switch(Jt){case"ADBE Vectors Group":case"Contents":case 2:return Bt.content;default:return Bt.transform}};Bt.propertyGroup=propertyGroupFactory(Bt,Zt);var Ut=g(zt,Ht,Bt.propertyGroup),Kt=St(zt.it[zt.it.length-1],Ht.it[Ht.it.length-1],Bt.propertyGroup);return Bt.content=Ut,Bt.transform=Kt,Object.defineProperty(Bt,"_name",{get:function(){return zt.nm}}),Bt.numProperties=zt.np,Bt.propertyIndex=zt.ix,Bt.nm=zt.nm,Bt.mn=zt.mn,Bt}function ot(zt,Ht,Zt){function Bt(Ut){return Ut==="Color"||Ut==="color"?Bt.color:Ut==="Opacity"||Ut==="opacity"?Bt.opacity:null}return Object.defineProperties(Bt,{color:{get:ExpressionPropertyInterface(Ht.c)},opacity:{get:ExpressionPropertyInterface(Ht.o)},_name:{value:zt.nm},mn:{value:zt.mn}}),Ht.c.setGroupProperty(PropertyInterface("Color",Zt)),Ht.o.setGroupProperty(PropertyInterface("Opacity",Zt)),Bt}function ut(zt,Ht,Zt){function Bt(Ut){return Ut==="Start Point"||Ut==="start point"?Bt.startPoint:Ut==="End Point"||Ut==="end point"?Bt.endPoint:Ut==="Opacity"||Ut==="opacity"?Bt.opacity:null}return Object.defineProperties(Bt,{startPoint:{get:ExpressionPropertyInterface(Ht.s)},endPoint:{get:ExpressionPropertyInterface(Ht.e)},opacity:{get:ExpressionPropertyInterface(Ht.o)},type:{get:function(){return"a"}},_name:{value:zt.nm},mn:{value:zt.mn}}),Ht.s.setGroupProperty(PropertyInterface("Start Point",Zt)),Ht.e.setGroupProperty(PropertyInterface("End Point",Zt)),Ht.o.setGroupProperty(PropertyInterface("Opacity",Zt)),Bt}function ct(){function zt(){return null}return zt}function dt(zt,Ht,Zt){var Bt=propertyGroupFactory(tr,Zt),Ut=propertyGroupFactory(er,Bt);function Kt(rr){Object.defineProperty(er,zt.d[rr].nm,{get:ExpressionPropertyInterface(Ht.d.dataProps[rr].p)})}var Yt,Jt=zt.d?zt.d.length:0,er={};for(Yt=0;Yt<Jt;Yt+=1)Kt(Yt),Ht.d.dataProps[Yt].p.setGroupProperty(Ut);function tr(rr){return rr==="Color"||rr==="color"?tr.color:rr==="Opacity"||rr==="opacity"?tr.opacity:rr==="Stroke Width"||rr==="stroke width"?tr.strokeWidth:null}return Object.defineProperties(tr,{color:{get:ExpressionPropertyInterface(Ht.c)},opacity:{get:ExpressionPropertyInterface(Ht.o)},strokeWidth:{get:ExpressionPropertyInterface(Ht.w)},dash:{get:function(){return er}},_name:{value:zt.nm},mn:{value:zt.mn}}),Ht.c.setGroupProperty(PropertyInterface("Color",Bt)),Ht.o.setGroupProperty(PropertyInterface("Opacity",Bt)),Ht.w.setGroupProperty(PropertyInterface("Stroke Width",Bt)),tr}function ft(zt,Ht,Zt){function Bt(Kt){return Kt===zt.e.ix||Kt==="End"||Kt==="end"?Bt.end:Kt===zt.s.ix?Bt.start:Kt===zt.o.ix?Bt.offset:null}var Ut=propertyGroupFactory(Bt,Zt);return Bt.propertyIndex=zt.ix,Ht.s.setGroupProperty(PropertyInterface("Start",Ut)),Ht.e.setGroupProperty(PropertyInterface("End",Ut)),Ht.o.setGroupProperty(PropertyInterface("Offset",Ut)),Bt.propertyIndex=zt.ix,Bt.propertyGroup=Zt,Object.defineProperties(Bt,{start:{get:ExpressionPropertyInterface(Ht.s)},end:{get:ExpressionPropertyInterface(Ht.e)},offset:{get:ExpressionPropertyInterface(Ht.o)},_name:{value:zt.nm}}),Bt.mn=zt.mn,Bt}function St(zt,Ht,Zt){function Bt(Kt){return zt.a.ix===Kt||Kt==="Anchor Point"?Bt.anchorPoint:zt.o.ix===Kt||Kt==="Opacity"?Bt.opacity:zt.p.ix===Kt||Kt==="Position"?Bt.position:zt.r.ix===Kt||Kt==="Rotation"||Kt==="ADBE Vector Rotation"?Bt.rotation:zt.s.ix===Kt||Kt==="Scale"?Bt.scale:zt.sk&&zt.sk.ix===Kt||Kt==="Skew"?Bt.skew:zt.sa&&zt.sa.ix===Kt||Kt==="Skew Axis"?Bt.skewAxis:null}var Ut=propertyGroupFactory(Bt,Zt);return Ht.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",Ut)),Ht.transform.mProps.p.setGroupProperty(PropertyInterface("Position",Ut)),Ht.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",Ut)),Ht.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",Ut)),Ht.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",Ut)),Ht.transform.mProps.sk&&(Ht.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",Ut)),Ht.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",Ut))),Ht.transform.op.setGroupProperty(PropertyInterface("Opacity",Ut)),Object.defineProperties(Bt,{opacity:{get:ExpressionPropertyInterface(Ht.transform.mProps.o)},position:{get:ExpressionPropertyInterface(Ht.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(Ht.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(Ht.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(Ht.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(Ht.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(Ht.transform.mProps.sa)},_name:{value:zt.nm}}),Bt.ty="tr",Bt.mn=zt.mn,Bt.propertyGroup=Zt,Bt}function Tt(zt,Ht,Zt){function Bt(Yt){return zt.p.ix===Yt?Bt.position:zt.s.ix===Yt?Bt.size:null}var Ut=propertyGroupFactory(Bt,Zt);Bt.propertyIndex=zt.ix;var Kt=Ht.sh.ty==="tm"?Ht.sh.prop:Ht.sh;return Kt.s.setGroupProperty(PropertyInterface("Size",Ut)),Kt.p.setGroupProperty(PropertyInterface("Position",Ut)),Object.defineProperties(Bt,{size:{get:ExpressionPropertyInterface(Kt.s)},position:{get:ExpressionPropertyInterface(Kt.p)},_name:{value:zt.nm}}),Bt.mn=zt.mn,Bt}function kt(zt,Ht,Zt){function Bt(Yt){return zt.p.ix===Yt?Bt.position:zt.r.ix===Yt?Bt.rotation:zt.pt.ix===Yt?Bt.points:zt.or.ix===Yt||Yt==="ADBE Vector Star Outer Radius"?Bt.outerRadius:zt.os.ix===Yt?Bt.outerRoundness:zt.ir&&(zt.ir.ix===Yt||Yt==="ADBE Vector Star Inner Radius")?Bt.innerRadius:zt.is&&zt.is.ix===Yt?Bt.innerRoundness:null}var Ut=propertyGroupFactory(Bt,Zt),Kt=Ht.sh.ty==="tm"?Ht.sh.prop:Ht.sh;return Bt.propertyIndex=zt.ix,Kt.or.setGroupProperty(PropertyInterface("Outer Radius",Ut)),Kt.os.setGroupProperty(PropertyInterface("Outer Roundness",Ut)),Kt.pt.setGroupProperty(PropertyInterface("Points",Ut)),Kt.p.setGroupProperty(PropertyInterface("Position",Ut)),Kt.r.setGroupProperty(PropertyInterface("Rotation",Ut)),zt.ir&&(Kt.ir.setGroupProperty(PropertyInterface("Inner Radius",Ut)),Kt.is.setGroupProperty(PropertyInterface("Inner Roundness",Ut))),Object.defineProperties(Bt,{position:{get:ExpressionPropertyInterface(Kt.p)},rotation:{get:ExpressionPropertyInterface(Kt.r)},points:{get:ExpressionPropertyInterface(Kt.pt)},outerRadius:{get:ExpressionPropertyInterface(Kt.or)},outerRoundness:{get:ExpressionPropertyInterface(Kt.os)},innerRadius:{get:ExpressionPropertyInterface(Kt.ir)},innerRoundness:{get:ExpressionPropertyInterface(Kt.is)},_name:{value:zt.nm}}),Bt.mn=zt.mn,Bt}function jt(zt,Ht,Zt){function Bt(Yt){return zt.p.ix===Yt?Bt.position:zt.r.ix===Yt?Bt.roundness:zt.s.ix===Yt||Yt==="Size"||Yt==="ADBE Vector Rect Size"?Bt.size:null}var Ut=propertyGroupFactory(Bt,Zt),Kt=Ht.sh.ty==="tm"?Ht.sh.prop:Ht.sh;return Bt.propertyIndex=zt.ix,Kt.p.setGroupProperty(PropertyInterface("Position",Ut)),Kt.s.setGroupProperty(PropertyInterface("Size",Ut)),Kt.r.setGroupProperty(PropertyInterface("Rotation",Ut)),Object.defineProperties(Bt,{position:{get:ExpressionPropertyInterface(Kt.p)},roundness:{get:ExpressionPropertyInterface(Kt.r)},size:{get:ExpressionPropertyInterface(Kt.s)},_name:{value:zt.nm}}),Bt.mn=zt.mn,Bt}function Rt(zt,Ht,Zt){function Bt(Yt){return zt.r.ix===Yt||Yt==="Round Corners 1"?Bt.radius:null}var Ut=propertyGroupFactory(Bt,Zt),Kt=Ht;return Bt.propertyIndex=zt.ix,Kt.rd.setGroupProperty(PropertyInterface("Radius",Ut)),Object.defineProperties(Bt,{radius:{get:ExpressionPropertyInterface(Kt.rd)},_name:{value:zt.nm}}),Bt.mn=zt.mn,Bt}function $t(zt,Ht,Zt){function Bt(Yt){return zt.c.ix===Yt||Yt==="Copies"?Bt.copies:zt.o.ix===Yt||Yt==="Offset"?Bt.offset:null}var Ut=propertyGroupFactory(Bt,Zt),Kt=Ht;return Bt.propertyIndex=zt.ix,Kt.c.setGroupProperty(PropertyInterface("Copies",Ut)),Kt.o.setGroupProperty(PropertyInterface("Offset",Ut)),Object.defineProperties(Bt,{copies:{get:ExpressionPropertyInterface(Kt.c)},offset:{get:ExpressionPropertyInterface(Kt.o)},_name:{value:zt.nm}}),Bt.mn=zt.mn,Bt}return function(zt,Ht,Zt){var Bt;function Ut(Yt){if(typeof Yt=="number")return Yt=Yt===void 0?1:Yt,Yt===0?Zt:Bt[Yt-1];for(var Jt=0,er=Bt.length;Jt<er;){if(Bt[Jt]._name===Yt)return Bt[Jt];Jt+=1}return null}function Kt(){return Zt}return Ut.propertyGroup=propertyGroupFactory(Ut,Kt),Bt=et(zt,Ht,Ut.propertyGroup),Ut.numProperties=Bt.length,Ut._name="Contents",Ut}}(),TextExpressionInterface=function(){return function(et){var g;function it(ot){switch(ot){case"ADBE Text Document":return it.sourceText;default:return null}}return Object.defineProperty(it,"sourceText",{get:function(){et.textProperty.getValue();var ut=et.textProperty.currentData.t;return(!g||ut!==g.value)&&(g=new String(ut),g.value=ut||new String(ut),Object.defineProperty(g,"style",{get:function(){return{fillColor:et.textProperty.currentData.fc}}})),g}}),it}}();function _typeof(et){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(it){return typeof it}:_typeof=function(it){return it&&typeof Symbol=="function"&&it.constructor===Symbol&&it!==Symbol.prototype?"symbol":typeof it},_typeof(et)}var FootageInterface=function(){var et=function(ot){var ut="",ct=ot.getFootageData();function dt(){return ut="",ct=ot.getFootageData(),ft}function ft(St){if(ct[St])return ut=St,ct=ct[St],_typeof(ct)==="object"?ft:ct;var Tt=St.indexOf(ut);if(Tt!==-1){var kt=parseInt(St.substr(Tt+ut.length),10);return ct=ct[kt],_typeof(ct)==="object"?ft:ct}return""}return dt},g=function(ot){function ut(ct){return ct==="Outline"?ut.outlineInterface():null}return ut._name="Outline",ut.outlineInterface=et(ot),ut};return function(it){function ot(ut){return ut==="Data"?ot.dataInterface:null}return ot._name="Data",ot.dataInterface=g(it),ot}}(),interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(et){return interfaces[et]||null}var expressionHelpers=function(){function et(dt,ft,St){ft.x&&(St.k=!0,St.x=!0,St.initiateExpression=ExpressionManager.initiateExpression,St.effectsSequence.push(St.initiateExpression(dt,ft,St).bind(St)))}function g(dt){return dt*=this.elem.globalData.frameRate,dt-=this.offsetTime,dt!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<dt?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(dt,this._cachingAtTime),this._cachingAtTime.lastFrame=dt),this._cachingAtTime.value}function it(dt){var ft=-.01,St=this.getValueAtTime(dt),Tt=this.getValueAtTime(dt+ft),kt=0;if(St.length){var jt;for(jt=0;jt<St.length;jt+=1)kt+=Math.pow(Tt[jt]-St[jt],2);kt=Math.sqrt(kt)*100}else kt=0;return kt}function ot(dt){if(this.vel!==void 0)return this.vel;var ft=-.001,St=this.getValueAtTime(dt),Tt=this.getValueAtTime(dt+ft),kt;if(St.length){kt=createTypedArray("float32",St.length);var jt;for(jt=0;jt<St.length;jt+=1)kt[jt]=(Tt[jt]-St[jt])/ft}else kt=(Tt-St)/ft;return kt}function ut(){return this.pv}function ct(dt){this.propertyGroup=dt}return{searchExpressions:et,getSpeedAtTime:it,getVelocityAtTime:ot,getValueAtTime:g,getStaticValueAtTime:ut,setGroupProperty:ct}}();function addPropertyDecorator(){function et(Rt,$t,zt){if(!this.k||!this.keyframes)return this.pv;Rt=Rt?Rt.toLowerCase():"";var Ht=this.comp.renderedFrame,Zt=this.keyframes,Bt=Zt[Zt.length-1].t;if(Ht<=Bt)return this.pv;var Ut,Kt;zt?($t?Ut=Math.abs(Bt-this.elem.comp.globalData.frameRate*$t):Ut=Math.max(0,Bt-this.elem.data.ip),Kt=Bt-Ut):((!$t||$t>Zt.length-1)&&($t=Zt.length-1),Kt=Zt[Zt.length-1-$t].t,Ut=Bt-Kt);var Yt,Jt,er;if(Rt==="pingpong"){var tr=Math.floor((Ht-Kt)/Ut);if(tr%2!==0)return this.getValueAtTime((Ut-(Ht-Kt)%Ut+Kt)/this.comp.globalData.frameRate,0)}else if(Rt==="offset"){var rr=this.getValueAtTime(Kt/this.comp.globalData.frameRate,0),hr=this.getValueAtTime(Bt/this.comp.globalData.frameRate,0),ar=this.getValueAtTime(((Ht-Kt)%Ut+Kt)/this.comp.globalData.frameRate,0),or=Math.floor((Ht-Kt)/Ut);if(this.pv.length){for(er=new Array(rr.length),Jt=er.length,Yt=0;Yt<Jt;Yt+=1)er[Yt]=(hr[Yt]-rr[Yt])*or+ar[Yt];return er}return(hr-rr)*or+ar}else if(Rt==="continue"){var cr=this.getValueAtTime(Bt/this.comp.globalData.frameRate,0),gr=this.getValueAtTime((Bt-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(er=new Array(cr.length),Jt=er.length,Yt=0;Yt<Jt;Yt+=1)er[Yt]=cr[Yt]+(cr[Yt]-gr[Yt])*((Ht-Bt)/this.comp.globalData.frameRate)/5e-4;return er}return cr+(cr-gr)*((Ht-Bt)/.001)}return this.getValueAtTime(((Ht-Kt)%Ut+Kt)/this.comp.globalData.frameRate,0)}function g(Rt,$t,zt){if(!this.k)return this.pv;Rt=Rt?Rt.toLowerCase():"";var Ht=this.comp.renderedFrame,Zt=this.keyframes,Bt=Zt[0].t;if(Ht>=Bt)return this.pv;var Ut,Kt;zt?($t?Ut=Math.abs(this.elem.comp.globalData.frameRate*$t):Ut=Math.max(0,this.elem.data.op-Bt),Kt=Bt+Ut):((!$t||$t>Zt.length-1)&&($t=Zt.length-1),Kt=Zt[$t].t,Ut=Kt-Bt);var Yt,Jt,er;if(Rt==="pingpong"){var tr=Math.floor((Bt-Ht)/Ut);if(tr%2===0)return this.getValueAtTime(((Bt-Ht)%Ut+Bt)/this.comp.globalData.frameRate,0)}else if(Rt==="offset"){var rr=this.getValueAtTime(Bt/this.comp.globalData.frameRate,0),hr=this.getValueAtTime(Kt/this.comp.globalData.frameRate,0),ar=this.getValueAtTime((Ut-(Bt-Ht)%Ut+Bt)/this.comp.globalData.frameRate,0),or=Math.floor((Bt-Ht)/Ut)+1;if(this.pv.length){for(er=new Array(rr.length),Jt=er.length,Yt=0;Yt<Jt;Yt+=1)er[Yt]=ar[Yt]-(hr[Yt]-rr[Yt])*or;return er}return ar-(hr-rr)*or}else if(Rt==="continue"){var cr=this.getValueAtTime(Bt/this.comp.globalData.frameRate,0),gr=this.getValueAtTime((Bt+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(er=new Array(cr.length),Jt=er.length,Yt=0;Yt<Jt;Yt+=1)er[Yt]=cr[Yt]+(cr[Yt]-gr[Yt])*(Bt-Ht)/.001;return er}return cr+(cr-gr)*(Bt-Ht)/.001}return this.getValueAtTime((Ut-((Bt-Ht)%Ut+Bt))/this.comp.globalData.frameRate,0)}function it(Rt,$t){if(!this.k)return this.pv;if(Rt=(Rt||.4)*.5,$t=Math.floor($t||5),$t<=1)return this.pv;var zt=this.comp.renderedFrame/this.comp.globalData.frameRate,Ht=zt-Rt,Zt=zt+Rt,Bt=$t>1?(Zt-Ht)/($t-1):1,Ut=0,Kt=0,Yt;this.pv.length?Yt=createTypedArray("float32",this.pv.length):Yt=0;for(var Jt;Ut<$t;){if(Jt=this.getValueAtTime(Ht+Ut*Bt),this.pv.length)for(Kt=0;Kt<this.pv.length;Kt+=1)Yt[Kt]+=Jt[Kt];else Yt+=Jt;Ut+=1}if(this.pv.length)for(Kt=0;Kt<this.pv.length;Kt+=1)Yt[Kt]/=$t;else Yt/=$t;return Yt}function ot(Rt){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var $t=this._transformCachingAtTime.v;if($t.cloneFromProps(this.pre.props),this.appliedTransformations<1){var zt=this.a.getValueAtTime(Rt);$t.translate(-zt[0]*this.a.mult,-zt[1]*this.a.mult,zt[2]*this.a.mult)}if(this.appliedTransformations<2){var Ht=this.s.getValueAtTime(Rt);$t.scale(Ht[0]*this.s.mult,Ht[1]*this.s.mult,Ht[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var Zt=this.sk.getValueAtTime(Rt),Bt=this.sa.getValueAtTime(Rt);$t.skewFromAxis(-Zt*this.sk.mult,Bt*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var Ut=this.r.getValueAtTime(Rt);$t.rotate(-Ut*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var Kt=this.rz.getValueAtTime(Rt),Yt=this.ry.getValueAtTime(Rt),Jt=this.rx.getValueAtTime(Rt),er=this.or.getValueAtTime(Rt);$t.rotateZ(-Kt*this.rz.mult).rotateY(Yt*this.ry.mult).rotateX(Jt*this.rx.mult).rotateZ(-er[2]*this.or.mult).rotateY(er[1]*this.or.mult).rotateX(er[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var tr=this.px.getValueAtTime(Rt),rr=this.py.getValueAtTime(Rt);if(this.data.p.z){var hr=this.pz.getValueAtTime(Rt);$t.translate(tr*this.px.mult,rr*this.py.mult,-hr*this.pz.mult)}else $t.translate(tr*this.px.mult,rr*this.py.mult,0)}else{var ar=this.p.getValueAtTime(Rt);$t.translate(ar[0]*this.p.mult,ar[1]*this.p.mult,-ar[2]*this.p.mult)}return $t}function ut(){return this.v.clone(new Matrix)}var ct=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(Rt,$t,zt){var Ht=ct(Rt,$t,zt);return Ht.dynamicProperties.length?Ht.getValueAtTime=ot.bind(Ht):Ht.getValueAtTime=ut.bind(Ht),Ht.setGroupProperty=expressionHelpers.setGroupProperty,Ht};var dt=PropertyFactory.getProp;PropertyFactory.getProp=function(Rt,$t,zt,Ht,Zt){var Bt=dt(Rt,$t,zt,Ht,Zt);Bt.kf?Bt.getValueAtTime=expressionHelpers.getValueAtTime.bind(Bt):Bt.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(Bt),Bt.setGroupProperty=expressionHelpers.setGroupProperty,Bt.loopOut=et,Bt.loopIn=g,Bt.smooth=it,Bt.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(Bt),Bt.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(Bt),Bt.numKeys=$t.a===1?$t.k.length:0,Bt.propertyIndex=$t.ix;var Ut=0;return zt!==0&&(Ut=createTypedArray("float32",$t.a===1?$t.k[0].s.length:$t.k.length)),Bt._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:Ut},expressionHelpers.searchExpressions(Rt,$t,Bt),Bt.k&&Zt.addDynamicProperty(Bt),Bt};function ft(Rt){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),Rt*=this.elem.globalData.frameRate,Rt-=this.offsetTime,Rt!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<Rt?this._caching.lastIndex:0,this._cachingAtTime.lastTime=Rt,this.interpolateShape(Rt,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}var St=ShapePropertyFactory.getConstructorFunction(),Tt=ShapePropertyFactory.getKeyframedConstructorFunction();function kt(){}kt.prototype={vertices:function($t,zt){this.k&&this.getValue();var Ht=this.v;zt!==void 0&&(Ht=this.getValueAtTime(zt,0));var Zt,Bt=Ht._length,Ut=Ht[$t],Kt=Ht.v,Yt=createSizedArray(Bt);for(Zt=0;Zt<Bt;Zt+=1)$t==="i"||$t==="o"?Yt[Zt]=[Ut[Zt][0]-Kt[Zt][0],Ut[Zt][1]-Kt[Zt][1]]:Yt[Zt]=[Ut[Zt][0],Ut[Zt][1]];return Yt},points:function($t){return this.vertices("v",$t)},inTangents:function($t){return this.vertices("i",$t)},outTangents:function($t){return this.vertices("o",$t)},isClosed:function(){return this.v.c},pointOnPath:function($t,zt){var Ht=this.v;zt!==void 0&&(Ht=this.getValueAtTime(zt,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(Ht));for(var Zt=this._segmentsLength,Bt=Zt.lengths,Ut=Zt.totalLength*$t,Kt=0,Yt=Bt.length,Jt=0,er;Kt<Yt;){if(Jt+Bt[Kt].addedLength>Ut){var tr=Kt,rr=Ht.c&&Kt===Yt-1?0:Kt+1,hr=(Ut-Jt)/Bt[Kt].addedLength;er=bez.getPointInSegment(Ht.v[tr],Ht.v[rr],Ht.o[tr],Ht.i[rr],hr,Bt[Kt]);break}else Jt+=Bt[Kt].addedLength;Kt+=1}return er||(er=Ht.c?[Ht.v[0][0],Ht.v[0][1]]:[Ht.v[Ht._length-1][0],Ht.v[Ht._length-1][1]]),er},vectorOnPath:function($t,zt,Ht){$t==1?$t=this.v.c:$t==0&&($t=.999);var Zt=this.pointOnPath($t,zt),Bt=this.pointOnPath($t+.001,zt),Ut=Bt[0]-Zt[0],Kt=Bt[1]-Zt[1],Yt=Math.sqrt(Math.pow(Ut,2)+Math.pow(Kt,2));if(Yt===0)return[0,0];var Jt=Ht==="tangent"?[Ut/Yt,Kt/Yt]:[-Kt/Yt,Ut/Yt];return Jt},tangentOnPath:function($t,zt){return this.vectorOnPath($t,zt,"tangent")},normalOnPath:function($t,zt){return this.vectorOnPath($t,zt,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([kt],St),extendPrototype([kt],Tt),Tt.prototype.getValueAtTime=ft,Tt.prototype.initiateExpression=ExpressionManager.initiateExpression;var jt=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(Rt,$t,zt,Ht,Zt){var Bt=jt(Rt,$t,zt,Ht,Zt);return Bt.propertyIndex=$t.ix,Bt.lock=!1,zt===3?expressionHelpers.searchExpressions(Rt,$t.pt,Bt):zt===4&&expressionHelpers.searchExpressions(Rt,$t.ks,Bt),Bt.k&&Rt.addDynamicProperty(Bt),Bt}}function initialize$1(){addPropertyDecorator()}function addDecorator(){function et(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}TextProperty.prototype.getExpressionValue=function(g,it){var ot=this.calculateExpression(it);if(g.t!==ot){var ut={};return this.copyData(ut,g),ut.t=ot.toString(),ut.__complete=!1,ut}return g},TextProperty.prototype.searchProperty=function(){var g=this.searchKeyframes(),it=this.searchExpressions();return this.kf=g||it,this.kf},TextProperty.prototype.searchExpressions=et}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function et(g,it){var ot=createNS("feMerge");ot.setAttribute("result",g);var ut,ct;for(ct=0;ct<it.length;ct+=1)ut=createNS("feMergeNode"),ut.setAttribute("in",it[ct]),ot.appendChild(ut),ot.appendChild(ut);return ot}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(et,g,it,ot,ut){this.filterManager=g;var ct=createNS("feColorMatrix");ct.setAttribute("type","matrix"),ct.setAttribute("color-interpolation-filters","linearRGB"),ct.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=ct,ct.setAttribute("result",ot+"_tint_1"),et.appendChild(ct),ct=createNS("feColorMatrix"),ct.setAttribute("type","matrix"),ct.setAttribute("color-interpolation-filters","sRGB"),ct.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),ct.setAttribute("result",ot+"_tint_2"),et.appendChild(ct),this.matrixFilter=ct;var dt=this.createMergeNode(ot,[ut,ot+"_tint_1",ot+"_tint_2"]);et.appendChild(dt)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(et){if(et||this.filterManager._mdf){var g=this.filterManager.effectElements[0].p.v,it=this.filterManager.effectElements[1].p.v,ot=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+ot+" 0"),this.matrixFilter.setAttribute("values",it[0]-g[0]+" 0 0 0 "+g[0]+" "+(it[1]-g[1])+" 0 0 0 "+g[1]+" "+(it[2]-g[2])+" 0 0 0 "+g[2]+" 0 0 0 1 0")}};function SVGFillFilter(et,g,it,ot){this.filterManager=g;var ut=createNS("feColorMatrix");ut.setAttribute("type","matrix"),ut.setAttribute("color-interpolation-filters","sRGB"),ut.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),ut.setAttribute("result",ot),et.appendChild(ut),this.matrixFilter=ut}SVGFillFilter.prototype.renderFrame=function(et){if(et||this.filterManager._mdf){var g=this.filterManager.effectElements[2].p.v,it=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+g[0]+" 0 0 0 0 "+g[1]+" 0 0 0 0 "+g[2]+" 0 0 0 "+it+" 0")}};function SVGStrokeEffect(et,g,it){this.initialized=!1,this.filterManager=g,this.elem=it,this.paths=[]}SVGStrokeEffect.prototype.initialize=function(){var et=this.elem.layerElement.children||this.elem.layerElement.childNodes,g,it,ot,ut;for(this.filterManager.effectElements[1].p.v===1?(ut=this.elem.maskManager.masksProperties.length,ot=0):(ot=this.filterManager.effectElements[0].p.v-1,ut=ot+1),it=createNS("g"),it.setAttribute("fill","none"),it.setAttribute("stroke-linecap","round"),it.setAttribute("stroke-dashoffset",1),ot;ot<ut;ot+=1)g=createNS("path"),it.appendChild(g),this.paths.push({p:g,m:ot});if(this.filterManager.effectElements[10].p.v===3){var ct=createNS("mask"),dt=createElementID();ct.setAttribute("id",dt),ct.setAttribute("mask-type","alpha"),ct.appendChild(it),this.elem.globalData.defs.appendChild(ct);var ft=createNS("g");for(ft.setAttribute("mask","url("+getLocationHref()+"#"+dt+")");et[0];)ft.appendChild(et[0]);this.elem.layerElement.appendChild(ft),this.masker=ct,it.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(et=this.elem.layerElement.children||this.elem.layerElement.childNodes;et.length;)this.elem.layerElement.removeChild(et[0]);this.elem.layerElement.appendChild(it),this.elem.layerElement.removeAttribute("mask"),it.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=it},SVGStrokeEffect.prototype.renderFrame=function(et){this.initialized||this.initialize();var g,it=this.paths.length,ot,ut;for(g=0;g<it;g+=1)if(this.paths[g].m!==-1&&(ot=this.elem.maskManager.viewData[this.paths[g].m],ut=this.paths[g].p,(et||this.filterManager._mdf||ot.prop._mdf)&&ut.setAttribute("d",ot.lastPath),et||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||ot.prop._mdf)){var ct;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var dt=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,ft=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,St=ut.getTotalLength();ct="0 0 0 "+St*dt+" ";var Tt=St*(ft-dt),kt=1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01,jt=Math.floor(Tt/kt),Rt;for(Rt=0;Rt<jt;Rt+=1)ct+="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01+" ";ct+="0 "+St*10+" 0 0"}else ct="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01;ut.setAttribute("stroke-dasharray",ct)}if((et||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",this.filterManager.effectElements[4].p.v*2),(et||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(et||this.filterManager.effectElements[3].p._mdf)){var $t=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor($t[0]*255)+","+bmFloor($t[1]*255)+","+bmFloor($t[2]*255)+")")}};function SVGTritoneFilter(et,g,it,ot){this.filterManager=g;var ut=createNS("feColorMatrix");ut.setAttribute("type","matrix"),ut.setAttribute("color-interpolation-filters","linearRGB"),ut.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),et.appendChild(ut);var ct=createNS("feComponentTransfer");ct.setAttribute("color-interpolation-filters","sRGB"),ct.setAttribute("result",ot),this.matrixFilter=ct;var dt=createNS("feFuncR");dt.setAttribute("type","table"),ct.appendChild(dt),this.feFuncR=dt;var ft=createNS("feFuncG");ft.setAttribute("type","table"),ct.appendChild(ft),this.feFuncG=ft;var St=createNS("feFuncB");St.setAttribute("type","table"),ct.appendChild(St),this.feFuncB=St,et.appendChild(ct)}SVGTritoneFilter.prototype.renderFrame=function(et){if(et||this.filterManager._mdf){var g=this.filterManager.effectElements[0].p.v,it=this.filterManager.effectElements[1].p.v,ot=this.filterManager.effectElements[2].p.v,ut=ot[0]+" "+it[0]+" "+g[0],ct=ot[1]+" "+it[1]+" "+g[1],dt=ot[2]+" "+it[2]+" "+g[2];this.feFuncR.setAttribute("tableValues",ut),this.feFuncG.setAttribute("tableValues",ct),this.feFuncB.setAttribute("tableValues",dt)}};function SVGProLevelsFilter(et,g,it,ot){this.filterManager=g;var ut=this.filterManager.effectElements,ct=createNS("feComponentTransfer");(ut[10].p.k||ut[10].p.v!==0||ut[11].p.k||ut[11].p.v!==1||ut[12].p.k||ut[12].p.v!==1||ut[13].p.k||ut[13].p.v!==0||ut[14].p.k||ut[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",ct)),(ut[17].p.k||ut[17].p.v!==0||ut[18].p.k||ut[18].p.v!==1||ut[19].p.k||ut[19].p.v!==1||ut[20].p.k||ut[20].p.v!==0||ut[21].p.k||ut[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",ct)),(ut[24].p.k||ut[24].p.v!==0||ut[25].p.k||ut[25].p.v!==1||ut[26].p.k||ut[26].p.v!==1||ut[27].p.k||ut[27].p.v!==0||ut[28].p.k||ut[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",ct)),(ut[31].p.k||ut[31].p.v!==0||ut[32].p.k||ut[32].p.v!==1||ut[33].p.k||ut[33].p.v!==1||ut[34].p.k||ut[34].p.v!==0||ut[35].p.k||ut[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",ct)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(ct.setAttribute("color-interpolation-filters","sRGB"),et.appendChild(ct)),(ut[3].p.k||ut[3].p.v!==0||ut[4].p.k||ut[4].p.v!==1||ut[5].p.k||ut[5].p.v!==1||ut[6].p.k||ut[6].p.v!==0||ut[7].p.k||ut[7].p.v!==1)&&(ct=createNS("feComponentTransfer"),ct.setAttribute("color-interpolation-filters","sRGB"),ct.setAttribute("result",ot),et.appendChild(ct),this.feFuncRComposed=this.createFeFunc("feFuncR",ct),this.feFuncGComposed=this.createFeFunc("feFuncG",ct),this.feFuncBComposed=this.createFeFunc("feFuncB",ct))}SVGProLevelsFilter.prototype.createFeFunc=function(et,g){var it=createNS(et);return it.setAttribute("type","table"),g.appendChild(it),it},SVGProLevelsFilter.prototype.getTableValue=function(et,g,it,ot,ut){for(var ct=0,dt=256,ft,St=Math.min(et,g),Tt=Math.max(et,g),kt=Array.call(null,{length:dt}),jt,Rt=0,$t=ut-ot,zt=g-et;ct<=256;)ft=ct/256,ft<=St?jt=zt<0?ut:ot:ft>=Tt?jt=zt<0?ot:ut:jt=ot+$t*Math.pow((ft-et)/zt,1/it),kt[Rt]=jt,Rt+=1,ct+=256/(dt-1);return kt.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(et){if(et||this.filterManager._mdf){var g,it=this.filterManager.effectElements;this.feFuncRComposed&&(et||it[3].p._mdf||it[4].p._mdf||it[5].p._mdf||it[6].p._mdf||it[7].p._mdf)&&(g=this.getTableValue(it[3].p.v,it[4].p.v,it[5].p.v,it[6].p.v,it[7].p.v),this.feFuncRComposed.setAttribute("tableValues",g),this.feFuncGComposed.setAttribute("tableValues",g),this.feFuncBComposed.setAttribute("tableValues",g)),this.feFuncR&&(et||it[10].p._mdf||it[11].p._mdf||it[12].p._mdf||it[13].p._mdf||it[14].p._mdf)&&(g=this.getTableValue(it[10].p.v,it[11].p.v,it[12].p.v,it[13].p.v,it[14].p.v),this.feFuncR.setAttribute("tableValues",g)),this.feFuncG&&(et||it[17].p._mdf||it[18].p._mdf||it[19].p._mdf||it[20].p._mdf||it[21].p._mdf)&&(g=this.getTableValue(it[17].p.v,it[18].p.v,it[19].p.v,it[20].p.v,it[21].p.v),this.feFuncG.setAttribute("tableValues",g)),this.feFuncB&&(et||it[24].p._mdf||it[25].p._mdf||it[26].p._mdf||it[27].p._mdf||it[28].p._mdf)&&(g=this.getTableValue(it[24].p.v,it[25].p.v,it[26].p.v,it[27].p.v,it[28].p.v),this.feFuncB.setAttribute("tableValues",g)),this.feFuncA&&(et||it[31].p._mdf||it[32].p._mdf||it[33].p._mdf||it[34].p._mdf||it[35].p._mdf)&&(g=this.getTableValue(it[31].p.v,it[32].p.v,it[33].p.v,it[34].p.v,it[35].p.v),this.feFuncA.setAttribute("tableValues",g))}};function SVGDropShadowEffect(et,g,it,ot,ut){var ct=g.container.globalData.renderConfig.filterSize,dt=g.data.fs||ct;et.setAttribute("x",dt.x||ct.x),et.setAttribute("y",dt.y||ct.y),et.setAttribute("width",dt.width||ct.width),et.setAttribute("height",dt.height||ct.height),this.filterManager=g;var ft=createNS("feGaussianBlur");ft.setAttribute("in","SourceAlpha"),ft.setAttribute("result",ot+"_drop_shadow_1"),ft.setAttribute("stdDeviation","0"),this.feGaussianBlur=ft,et.appendChild(ft);var St=createNS("feOffset");St.setAttribute("dx","25"),St.setAttribute("dy","0"),St.setAttribute("in",ot+"_drop_shadow_1"),St.setAttribute("result",ot+"_drop_shadow_2"),this.feOffset=St,et.appendChild(St);var Tt=createNS("feFlood");Tt.setAttribute("flood-color","#00ff00"),Tt.setAttribute("flood-opacity","1"),Tt.setAttribute("result",ot+"_drop_shadow_3"),this.feFlood=Tt,et.appendChild(Tt);var kt=createNS("feComposite");kt.setAttribute("in",ot+"_drop_shadow_3"),kt.setAttribute("in2",ot+"_drop_shadow_2"),kt.setAttribute("operator","in"),kt.setAttribute("result",ot+"_drop_shadow_4"),et.appendChild(kt);var jt=this.createMergeNode(ot,[ot+"_drop_shadow_4",ut]);et.appendChild(jt)}extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(et){if(et||this.filterManager._mdf){if((et||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),et||this.filterManager.effectElements[0].p._mdf){var g=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(g[0]*255),Math.round(g[1]*255),Math.round(g[2]*255)))}if((et||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),et||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var it=this.filterManager.effectElements[3].p.v,ot=(this.filterManager.effectElements[2].p.v-90)*degToRads,ut=it*Math.cos(ot),ct=it*Math.sin(ot);this.feOffset.setAttribute("dx",ut),this.feOffset.setAttribute("dy",ct)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(et,g,it){this.initialized=!1,this.filterManager=g,this.filterElem=et,this.elem=it,it.matteElement=createNS("g"),it.matteElement.appendChild(it.layerElement),it.matteElement.appendChild(it.transformedElement),it.baseElement=it.matteElement}SVGMatte3Effect.prototype.findSymbol=function(et){for(var g=0,it=_svgMatteSymbols.length;g<it;){if(_svgMatteSymbols[g]===et)return _svgMatteSymbols[g];g+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(et,g){var it=et.layerElement.parentNode;if(it){for(var ot=it.children,ut=0,ct=ot.length;ut<ct&&ot[ut]!==et.layerElement;)ut+=1;var dt;ut<=ct-2&&(dt=ot[ut+1]);var ft=createNS("use");ft.setAttribute("href","#"+g),dt?it.insertBefore(ft,dt):it.appendChild(ft)}},SVGMatte3Effect.prototype.setElementAsMask=function(et,g){if(!this.findSymbol(g)){var it=createElementID(),ot=createNS("mask");ot.setAttribute("id",g.layerId),ot.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(g);var ut=et.globalData.defs;ut.appendChild(ot);var ct=createNS("symbol");ct.setAttribute("id",it),this.replaceInParent(g,it),ct.appendChild(g.layerElement),ut.appendChild(ct);var dt=createNS("use");dt.setAttribute("href","#"+it),ot.appendChild(dt),g.data.hd=!1,g.show()}et.setMatte(g.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var et=this.filterManager.effectElements[0].p.v,g=this.elem.comp.elements,it=0,ot=g.length;it<ot;)g[it]&&g[it].data.ind===et&&this.setElementAsMask(this.elem,g[it]),it+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()};function SVGGaussianBlurEffect(et,g,it,ot){et.setAttribute("x","-100%"),et.setAttribute("y","-100%"),et.setAttribute("width","300%"),et.setAttribute("height","300%"),this.filterManager=g;var ut=createNS("feGaussianBlur");ut.setAttribute("result",ot),et.appendChild(ut),this.feGaussianBlur=ut}SVGGaussianBlurEffect.prototype.renderFrame=function(et){if(et||this.filterManager._mdf){var g=.3,it=this.filterManager.effectElements[0].p.v*g,ot=this.filterManager.effectElements[1].p.v,ut=ot==3?0:it,ct=ot==2?0:it;this.feGaussianBlur.setAttribute("stdDeviation",ut+" "+ct);var dt=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",dt)}};function TransformEffect(){}TransformEffect.prototype.init=function(et){this.effectsManager=et,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(et){if(this._opMdf=!1,this._mdf=!1,et||this.effectsManager._mdf){var g=this.effectsManager.effectElements,it=g[0].p.v,ot=g[1].p.v,ut=g[2].p.v===1,ct=g[3].p.v,dt=ut?ct:g[4].p.v,ft=g[5].p.v,St=g[6].p.v,Tt=g[7].p.v;this.matrix.reset(),this.matrix.translate(-it[0],-it[1],it[2]),this.matrix.scale(dt*.01,ct*.01,1),this.matrix.rotate(-Tt*degToRads),this.matrix.skewFromAxis(-ft*degToRads,(St+90)*degToRads),this.matrix.translate(ot[0],ot[1],0),this._mdf=!0,this.opacity!==g[8].p.v&&(this.opacity=g[8].p.v,this._opMdf=!0)}};function SVGTransformEffect(et,g){this.init(g)}extendPrototype([TransformEffect],SVGTransformEffect);function CVTransformEffect(et){this.init(et)}return extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie})})(lottie$1,lottie$1.exports);var lottieExports=lottie$1.exports;const lottie=getDefaultExportFromCjs(lottieExports);function _iterableToArrayLimit(et,g){var it=et==null?null:typeof Symbol<"u"&&et[Symbol.iterator]||et["@@iterator"];if(it!=null){var ot,ut,ct,dt,ft=[],St=!0,Tt=!1;try{if(ct=(it=it.call(et)).next,g===0){if(Object(it)!==it)return;St=!1}else for(;!(St=(ot=ct.call(it)).done)&&(ft.push(ot.value),ft.length!==g);St=!0);}catch(kt){Tt=!0,ut=kt}finally{try{if(!St&&it.return!=null&&(dt=it.return(),Object(dt)!==dt))return}finally{if(Tt)throw ut}}return ft}}function ownKeys(et,g){var it=Object.keys(et);if(Object.getOwnPropertySymbols){var ot=Object.getOwnPropertySymbols(et);g&&(ot=ot.filter(function(ut){return Object.getOwnPropertyDescriptor(et,ut).enumerable})),it.push.apply(it,ot)}return it}function _objectSpread2(et){for(var g=1;g<arguments.length;g++){var it=arguments[g]!=null?arguments[g]:{};g%2?ownKeys(Object(it),!0).forEach(function(ot){_defineProperty(et,ot,it[ot])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(it)):ownKeys(Object(it)).forEach(function(ot){Object.defineProperty(et,ot,Object.getOwnPropertyDescriptor(it,ot))})}return et}function _defineProperty(et,g,it){return g=_toPropertyKey(g),g in et?Object.defineProperty(et,g,{value:it,enumerable:!0,configurable:!0,writable:!0}):et[g]=it,et}function _objectWithoutPropertiesLoose(et,g){if(et==null)return{};var it={},ot=Object.keys(et),ut,ct;for(ct=0;ct<ot.length;ct++)ut=ot[ct],!(g.indexOf(ut)>=0)&&(it[ut]=et[ut]);return it}function _objectWithoutProperties(et,g){if(et==null)return{};var it=_objectWithoutPropertiesLoose(et,g),ot,ut;if(Object.getOwnPropertySymbols){var ct=Object.getOwnPropertySymbols(et);for(ut=0;ut<ct.length;ut++)ot=ct[ut],!(g.indexOf(ot)>=0)&&Object.prototype.propertyIsEnumerable.call(et,ot)&&(it[ot]=et[ot])}return it}function _slicedToArray(et,g){return _arrayWithHoles(et)||_iterableToArrayLimit(et,g)||_unsupportedIterableToArray(et,g)||_nonIterableRest()}function _arrayWithHoles(et){if(Array.isArray(et))return et}function _unsupportedIterableToArray(et,g){if(et){if(typeof et=="string")return _arrayLikeToArray(et,g);var it=Object.prototype.toString.call(et).slice(8,-1);if(it==="Object"&&et.constructor&&(it=et.constructor.name),it==="Map"||it==="Set")return Array.from(et);if(it==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(it))return _arrayLikeToArray(et,g)}}function _arrayLikeToArray(et,g){(g==null||g>et.length)&&(g=et.length);for(var it=0,ot=new Array(g);it<g;it++)ot[it]=et[it];return ot}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _toPrimitive(et,g){if(typeof et!="object"||et===null)return et;var it=et[Symbol.toPrimitive];if(it!==void 0){var ot=it.call(et,g||"default");if(typeof ot!="object")return ot;throw new TypeError("@@toPrimitive must return a primitive value.")}return(g==="string"?String:Number)(et)}function _toPropertyKey(et){var g=_toPrimitive(et,"string");return typeof g=="symbol"?g:String(g)}var _excluded$1=["animationData","loop","autoplay","initialSegment","onComplete","onLoopComplete","onEnterFrame","onSegmentStart","onConfigReady","onDataReady","onDataFailed","onLoadedImages","onDOMLoaded","onDestroy","lottieRef","renderer","name","assetsPath","rendererSettings"],useLottie=function et(g,it){var ot=g.animationData,ut=g.loop,ct=g.autoplay,dt=g.initialSegment,ft=g.onComplete,St=g.onLoopComplete,Tt=g.onEnterFrame,kt=g.onSegmentStart,jt=g.onConfigReady,Rt=g.onDataReady,$t=g.onDataFailed,zt=g.onLoadedImages,Ht=g.onDOMLoaded,Zt=g.onDestroy;g.lottieRef,g.renderer,g.name,g.assetsPath,g.rendererSettings;var Bt=_objectWithoutProperties(g,_excluded$1),Ut=reactExports.useState(!1),Kt=_slicedToArray(Ut,2),Yt=Kt[0],Jt=Kt[1],er=reactExports.useRef(),tr=reactExports.useRef(null),rr=function(){var br;(br=er.current)===null||br===void 0||br.play()},hr=function(){var br;(br=er.current)===null||br===void 0||br.stop()},ar=function(){var br;(br=er.current)===null||br===void 0||br.pause()},or=function(br){var Er;(Er=er.current)===null||Er===void 0||Er.setSpeed(br)},cr=function(br,Er){var Sr;(Sr=er.current)===null||Sr===void 0||Sr.goToAndPlay(br,Er)},gr=function(br,Er){var Sr;(Sr=er.current)===null||Sr===void 0||Sr.goToAndStop(br,Er)},yr=function(br){var Er;(Er=er.current)===null||Er===void 0||Er.setDirection(br)},xr=function(br,Er){var Sr;(Sr=er.current)===null||Sr===void 0||Sr.playSegments(br,Er)},dr=function(br){var Er;(Er=er.current)===null||Er===void 0||Er.setSubframe(br)},pr=function(br){var Er;return(Er=er.current)===null||Er===void 0?void 0:Er.getDuration(br)},nr=function(){var br;(br=er.current)===null||br===void 0||br.destroy(),er.current=void 0},ir=function(){var br=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Er;if(tr.current){(Er=er.current)===null||Er===void 0||Er.destroy();var Sr=_objectSpread2(_objectSpread2(_objectSpread2({},g),br),{},{container:tr.current});return er.current=lottie.loadAnimation(Sr),Jt(!!er.current),function(){var _r;(_r=er.current)===null||_r===void 0||_r.destroy(),er.current=void 0}}};reactExports.useEffect(function(){var lr=ir();return function(){return lr==null?void 0:lr()}},[ot,ut]),reactExports.useEffect(function(){er.current&&(er.current.autoplay=!!ct)},[ct]),reactExports.useEffect(function(){if(er.current){if(!dt){er.current.resetSegments(!0);return}!Array.isArray(dt)||!dt.length||((er.current.currentRawFrame<dt[0]||er.current.currentRawFrame>dt[1])&&(er.current.currentRawFrame=dt[0]),er.current.setSegment(dt[0],dt[1]))}},[dt]),reactExports.useEffect(function(){var lr=[{name:"complete",handler:ft},{name:"loopComplete",handler:St},{name:"enterFrame",handler:Tt},{name:"segmentStart",handler:kt},{name:"config_ready",handler:jt},{name:"data_ready",handler:Rt},{name:"data_failed",handler:$t},{name:"loaded_images",handler:zt},{name:"DOMLoaded",handler:Ht},{name:"destroy",handler:Zt}],br=lr.filter(function(Sr){return Sr.handler!=null});if(br.length){var Er=br.map(function(Sr){var _r;return(_r=er.current)===null||_r===void 0||_r.addEventListener(Sr.name,Sr.handler),function(){var wr;(wr=er.current)===null||wr===void 0||wr.removeEventListener(Sr.name,Sr.handler)}});return function(){Er.forEach(function(Sr){return Sr()})}}},[ft,St,Tt,kt,jt,Rt,$t,zt,Ht,Zt]);var mr=React.createElement("div",_objectSpread2({style:it,ref:tr},Bt));return{View:mr,play:rr,stop:hr,pause:ar,setSpeed:or,goToAndStop:gr,goToAndPlay:cr,setDirection:yr,playSegments:xr,setSubframe:dr,getDuration:pr,destroy:nr,animationContainerRef:tr,animationLoaded:Yt,animationItem:er.current}};function getContainerVisibility(et){var g=et.getBoundingClientRect(),it=g.top,ot=g.height,ut=window.innerHeight-it,ct=window.innerHeight+ot;return ut/ct}function getContainerCursorPosition(et,g,it){var ot=et.getBoundingClientRect(),ut=ot.top,ct=ot.left,dt=ot.width,ft=ot.height,St=(g-ct)/dt,Tt=(it-ut)/ft;return{x:St,y:Tt}}var useInitInteractivity=function et(g){var it=g.wrapperRef,ot=g.animationItem,ut=g.mode,ct=g.actions;reactExports.useEffect(function(){var dt=it.current;if(!(!dt||!ot||!ct.length)){ot.stop();var ft=function(){var kt=null,jt=function(){var $t=getContainerVisibility(dt),zt=ct.find(function(Zt){var Bt=Zt.visibility;return Bt&&$t>=Bt[0]&&$t<=Bt[1]});if(zt){if(zt.type==="seek"&&zt.visibility&&zt.frames.length===2){var Ht=zt.frames[0]+Math.ceil(($t-zt.visibility[0])/(zt.visibility[1]-zt.visibility[0])*zt.frames[1]);//! goToAndStop must be relative to the start of the current segment
ot.goToAndStop(Ht-ot.firstFrame-1,!0)}zt.type==="loop"&&(kt===null||kt!==zt.frames||ot.isPaused)&&(ot.playSegments(zt.frames,!0),kt=zt.frames),zt.type==="play"&&ot.isPaused&&(ot.resetSegments(!0),ot.play()),zt.type==="stop"&&ot.goToAndStop(zt.frames[0]-ot.firstFrame-1,!0)}};return document.addEventListener("scroll",jt),function(){document.removeEventListener("scroll",jt)}},St=function(){var kt=function(zt,Ht){var Zt=zt,Bt=Ht;if(Zt!==-1&&Bt!==-1){var Ut=getContainerCursorPosition(dt,Zt,Bt);Zt=Ut.x,Bt=Ut.y}var Kt=ct.find(function(er){var tr=er.position;return tr&&Array.isArray(tr.x)&&Array.isArray(tr.y)?Zt>=tr.x[0]&&Zt<=tr.x[1]&&Bt>=tr.y[0]&&Bt<=tr.y[1]:tr&&!Number.isNaN(tr.x)&&!Number.isNaN(tr.y)?Zt===tr.x&&Bt===tr.y:!1});if(Kt){if(Kt.type==="seek"&&Kt.position&&Array.isArray(Kt.position.x)&&Array.isArray(Kt.position.y)&&Kt.frames.length===2){var Yt=(Zt-Kt.position.x[0])/(Kt.position.x[1]-Kt.position.x[0]),Jt=(Bt-Kt.position.y[0])/(Kt.position.y[1]-Kt.position.y[0]);ot.playSegments(Kt.frames,!0),ot.goToAndStop(Math.ceil((Yt+Jt)/2*(Kt.frames[1]-Kt.frames[0])),!0)}Kt.type==="loop"&&ot.playSegments(Kt.frames,!0),Kt.type==="play"&&(ot.isPaused&&ot.resetSegments(!1),ot.playSegments(Kt.frames)),Kt.type==="stop"&&ot.goToAndStop(Kt.frames[0],!0)}},jt=function(zt){kt(zt.clientX,zt.clientY)},Rt=function(){kt(-1,-1)};return dt.addEventListener("mousemove",jt),dt.addEventListener("mouseout",Rt),function(){dt.removeEventListener("mousemove",jt),dt.removeEventListener("mouseout",Rt)}};switch(ut){case"scroll":return ft();case"cursor":return St()}}},[ut,ot])},useLottieInteractivity=function et(g){var it=g.actions,ot=g.mode,ut=g.lottieObj,ct=ut.animationItem,dt=ut.View,ft=ut.animationContainerRef;return useInitInteractivity({actions:it,animationItem:ct,mode:ot,wrapperRef:ft}),dt},_excluded=["style","interactivity"],Lottie=function et(g){var it,ot,ut,ct=g.style,dt=g.interactivity,ft=_objectWithoutProperties(g,_excluded),St=useLottie(ft,ct),Tt=St.View,kt=St.play,jt=St.stop,Rt=St.pause,$t=St.setSpeed,zt=St.goToAndStop,Ht=St.goToAndPlay,Zt=St.setDirection,Bt=St.playSegments,Ut=St.setSubframe,Kt=St.getDuration,Yt=St.destroy,Jt=St.animationContainerRef,er=St.animationLoaded,tr=St.animationItem;return reactExports.useEffect(function(){g.lottieRef&&(g.lottieRef.current={play:kt,stop:jt,pause:Rt,setSpeed:$t,goToAndPlay:Ht,goToAndStop:zt,setDirection:Zt,playSegments:Bt,setSubframe:Ut,getDuration:Kt,destroy:Yt,animationContainerRef:Jt,animationLoaded:er,animationItem:tr})},[(it=g.lottieRef)===null||it===void 0?void 0:it.current]),useLottieInteractivity({lottieObj:{View:Tt,play:kt,stop:jt,pause:Rt,setSpeed:$t,goToAndStop:zt,goToAndPlay:Ht,setDirection:Zt,playSegments:Bt,setSubframe:Ut,getDuration:Kt,destroy:Yt,animationContainerRef:Jt,animationLoaded:er,animationItem:tr},actions:(ot=dt==null?void 0:dt.actions)!==null&&ot!==void 0?ot:[],mode:(ut=dt==null?void 0:dt.mode)!==null&&ut!==void 0?ut:"scroll"})};const nm="error",ddd=0,h$3=495,w$4=610,meta={g:"@lottiefiles/toolkit-js 0.26.1"},layers=[{ty:4,nm:"onda contornos",sr:1,st:0,op:1750,ip:0,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[215.177,7.452,0],ix:1},s:{a:1,k:[{o:{x:.333,y:0},i:{x:.667,y:1},s:[100,100,100],t:0},{o:{x:.333,y:0},i:{x:.667,y:1},s:[98,98,100],t:25},{s:[100,100,100],t:50}],ix:6},sk:{a:0,k:0},p:{a:0,k:[290.23,391.787,0],ix:2},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 1",ix:1,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[18.019,-3.444],[11.925,3.71],[15.246,-5.628],[13.16,-1.326],[6.095,1.06],[18.549,-4.579],[20.669,-11.401],[0,0]],o:[[-18.019,3.445],[-11.924,-3.71],[-15.247,5.627],[-13.16,1.325],[-6.094,-1.06],[-18.549,4.579],[0,0],[0,0]],v:[[172.782,-2.665],[120.58,-2.135],[64.933,1.575],[-12.001,-5.314],[-55.9,2.105],[-108.102,-.619],[-214.927,4.199],[214.927,4.171]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[.7608,.7961,.9176],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[215.177,7.452],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]}],ind:1},{ty:4,nm:"mascara contornos",sr:1,st:0,op:1750,ip:0,hd:!1,ddd:0,bm:0,hasMask:!1,td:1,ao:0,ks:{a:{a:0,k:[236.75,48.666,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{a:0,k:[306.5,443.092,0],ix:2},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 1",ix:1,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[236.5,48.416],[-236.5,48.416],[-236.5,-48.416],[236.5,-48.416]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[1,1,1],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[236.75,48.666],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]}],ind:2},{ty:4,nm:"barco contornos",sr:1,st:0,op:1750,ip:0,hd:!1,ddd:0,bm:0,tt:2,hasMask:!1,ao:0,ks:{a:{a:0,k:[238.525,103.168,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{a:1,k:[{o:{x:.333,y:0},i:{x:.667,y:1},s:[298.895,340.028,0],t:0,ti:[0,0,0],to:[0,.995,0]},{o:{x:.333,y:0},i:{x:.667,y:1},s:[298.895,346,0],t:25,ti:[0,.995,0],to:[0,0,0]},{s:[298.895,340.028,0],t:50}],ix:2},r:{a:1,k:[{o:{x:.333,y:0},i:{x:.667,y:1},s:[0],t:0},{o:{x:.333,y:0},i:{x:.667,y:1},s:[1],t:25},{s:[0],t:50}],ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 1",ix:1,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,0],[34.934,18.014],[.174,.101],[0,0],[-20.846,-10.75],[-11.059,-3.23],[0,0]],o:[[-8.314,-1.72],[-20.869,-10.761],[0,0],[.173,.102],[27.561,14.213],[0,0],[0,0]],v:[[50.064,23.648],[-12.12,-2.247],[-50.064,-23.648],[-48.52,-23.283],[-11.623,-3.201],[48.425,22.504],[48.994,22.88]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[.1686,.1608,.3686],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[50.595,73.639],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 2",ix:2,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[.734,-5.533],[2.44,-4.275],[0,0],[-.479,3.608],[.983,3.414],[0,0]],o:[[-.688,5.183],[0,0],[1.73,-2.956],[.497,-3.745],[0,0],[1.453,5.042]],v:[[7.355,.862],[2.555,15.132],[-8.089,9.167],[-4.699,-.739],[-5.492,-11.566],[6.178,-15.132]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[.9098,.4275,.1882],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[115.743,122.502],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 3",ix:3,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[-1.194,-3.664],[0,0],[-.797,6.003],[-2.282,4.144],[0,0],[.434,-3.271]],o:[[0,0],[-1.756,-5.397],[.66,-4.971],[0,0],[-1.473,2.748],[-.541,4.075]],v:[[6.506,11.687],[-6,15.504],[-7.563,-1.76],[-3.057,-15.504],[8.36,-9.109],[5.44,-.034]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[.9098,.4275,.1882],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[52.884,114.798],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 4",ix:4,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,0],[5.822,.774],[4.058,2.181],[0,0],[-3.355,-.445],[-3.466,1.022]],o:[[-5.262,1.636],[-4.837,-.641],[0,0],[2.8,1.537],[3.812,.506],[0,0]],v:[[15.093,5.954],[-1.685,7.362],[-15.093,3.043],[-8.832,-8.136],[.45,-5.101],[11.458,-5.945]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[.9098,.4275,.1882],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[80.698,149.982],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 5",ix:5,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[-4.76,-3.116],[0,0],[4.006,.532],[3.244,-.853],[0,0],[-5.01,-.665]],o:[[0,0],[-3.188,-2.051],[-3.528,-.468],[0,0],[4.627,-1.143],[6.014,.799]],v:[[15.421,-1.916],[8.808,8.618],[-2.064,4.637],[-12.292,5.268],[-15.421,-7.166],[-.872,-7.954]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[.9098,.4275,.1882],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[90.212,87.524],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 6",ix:6,cix:2,np:6,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[1.729,-2.957],[6.489,-1.913],[3.812,.506],[2.799,1.537],[2.086,6.41],[-.541,4.074],[-1.472,2.748],[-7.128,1.866],[-3.527,-.468],[-3.188,-2.051],[-1.781,-6.203],[.498,-3.746]],o:[[-3.416,5.852],[-3.466,1.023],[-3.355,-.445],[-5.946,-3.261],[-1.194,-3.663],[.435,-3.273],[3.497,-6.508],[3.244,-.852],[4.007,.532],[5.417,3.48],[.983,3.413],[-.479,3.607]],v:[[23.477,13.415],[8.012,25.525],[-2.997,26.37],[-12.279,23.335],[-24.788,8.229],[-25.854,-3.49],[-22.934,-12.566],[-6.225,-25.72],[4.003,-26.349],[14.876,-22.368],[26.073,-7.317],[26.865,3.51]]},ix:2}},{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 2",ix:2,d:1,ks:{a:0,k:{c:!0,i:[[1.452,5.041],[7.856,5.136],[6.015,.797],[4.626,-1.143],[5.274,-9.583],[.66,-4.971],[-1.756,-5.399],[-8.926,-4.799],[-4.837,-.642],[-5.262,1.636],[-4.931,8.644],[-.688,5.182]],o:[[-2.601,-9.045],[-4.761,-3.117],[-5.009,-.667],[-10.62,2.619],[-2.282,4.144],[-.797,6.003],[3.109,9.567],[4.058,2.18],[5.822,.773],[9.469,-2.94],[2.439,-4.276],[.735,-5.533]],v:[[37.744,-10.884],[21.488,-32.902],[5.196,-38.939],[-9.353,-38.152],[-34.352,-18.961],[-38.856,-5.217],[-37.294,12.048],[-18.539,34.514],[-5.132,38.833],[11.646,37.425],[34.121,19.379],[38.919,5.11]]},ix:2}},{ty:"mm",bm:0,hd:!1,mn:"ADBE Vector Filter - Merge",nm:"Mesclar caminhos 1",mm:1},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[.8784,.8784,.8784],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[84.144,118.511],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 7",ix:7,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[18.726,2.442],[0,0],[-.705,.04],[0,0]],o:[[0,0],[18.626,2.429],[0,0],[-.706,.041]],v:[[-45.038,-.021],[-44.899,-1.085],[43.292,-2.421],[45.038,-2.008]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[.1686,.1608,.3686],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[147.494,97.467],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 8",ix:8,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[130.107,-38.817],[35.758,50.211],[-130.107,28.187],[-111.111,-50.211]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[0,.1255,.2627],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[346.693,155.875],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 9",ix:9,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,0],[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0],[0,0]],v:[[238.275,-10.946],[143.925,78.082],[-158.527,37.921],[-238.275,-78.082],[-2.944,-22.34]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[0,.8078,.7882],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[238.525,128.004],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 10",ix:10,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[-30.452,-11.733],[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0],[22.546,8.675]],v:[[54.447,15.708],[-29.446,6.601],[-54.448,2.22],[-45.036,-5.08],[-31.336,-15.708]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[0,.1255,.2627],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[181.186,89.557],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 11",ix:11,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0]],v:[[64.818,58.717],[-64.818,-61.806],[.327,61.806]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[0,.1255,.2627],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[309.542,62.056],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 12",ix:12,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],v:[[91.565,61.805],[16.21,48.604],[-66.562,34.103],[-91.564,29.721],[-82.154,22.422],[-68.452,11.794],[-64.768,8.934],[26.419,-61.805],[75.721,31.747]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[0,.8078,.7882],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[218.304,62.056],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]}],ind:3},{ty:4,nm:"bandeira contornos",sr:1,st:0,op:1750,ip:0,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[3.333,103.527,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{a:0,k:[508.393,364.277,0],ix:2},r:{a:1,k:[{o:{x:.167,y:.167},i:{x:.833,y:.833},s:[0],t:0},{o:{x:.167,y:.167},i:{x:.833,y:.833},s:[-2],t:25},{s:[0],t:50}],ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 1",ix:1,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[.658,-2.953],[0,0],[0,0],[1.126,4.839]],o:[[-.67,2.999],[0,0],[1.614,-1.725],[.1,.1]],v:[[3.548,.438],[-4.206,5.982],[-4.206,5.979],[.835,-5.982]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[.9098,.4275,.1882],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[40.042,10.085],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 2",ix:2,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,0],[7.587,6.536],[2.491,-.102],[.116,.13],[0,0],[-.384,.003],[0,0],[0,-.002],[1.614,-1.724],[0,0],[0,0],[0,0],[0,0],[0,0],[-.505,-.066],[0,0],[-7.421,-5.626],[0,0],[0,0]],o:[[0,0],[-6.49,-5.591],[-.022,-.006],[0,0],[0,0],[0,0],[0,.001],[1.126,4.839],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[2.297,-.311],[8.902,6.748],[0,0],[0,0]],v:[[19.81,-1.324],[4.701,-6.806],[-13.361,-12.344],[-14.212,-12.72],[-14.578,-11.828],[-13.731,-11.387],[-13.729,-11.388],[-13.729,-11.384],[-18.77,.577],[-18.77,.58],[-18.771,.58],[-19.525,.237],[-19.809,.93],[-19.81,.932],[-18.689,1.354],[-18.549,1.01],[-1.682,5.948],[16.577,12.72],[14.09,4.741]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[.9098,.4275,.1882],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[54.606,15.487],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 3",ix:3,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[.027,-.206],[.013,-.035],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[-.219,-.085]],o:[[-.005,.036],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[.089,-.218],[.201,.081]],v:[[20.93,-49.702],[20.902,-49.594],[20.04,-47.383],[20.04,-47.382],[19.668,-46.43],[19.668,-46.428],[15.306,-35.217],[15.079,-34.632],[14.954,-34.311],[14.71,-33.687],[-17.967,50.277],[-20.956,50.137],[13.589,-34.109],[13.59,-34.111],[13.874,-34.805],[18.821,-46.868],[19.188,-47.762],[20.087,-49.956],[20.641,-50.193]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[.8118,.8314,.9255],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[21.206,50.527],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]}],ind:4},{ty:4,nm:"hominho contornos",sr:1,st:0,op:1750,ip:0,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[61,205,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{a:0,k:[153.864,377.089,0],ix:2},r:{a:1,k:[{o:{x:.333,y:0},i:{x:.667,y:1},s:[0],t:0},{o:{x:.333,y:0},i:{x:.667,y:1},s:[2],t:25},{s:[0],t:50}],ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 1",ix:1,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[3.986,-3.765],[-.075,4.263],[-3.986,-.553],[-3.493,-4.263]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[.9176,.5529,.3059],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[97.339,38.926],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 2",ix:2,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[-.562,-8.323],[0,0],[0,0],[1.36,.35],[0,0],[5.078,1.566],[0,0],[.814,1.124],[-5.522,-2.048]],o:[[0,0],[-.808,.107],[0,0],[-1.359,-.356],[0,0],[0,0],[-1.596,-.485],[-3.418,-4.711],[5.522,2.048]],v:[[13.008,-2.493],[12.001,4.652],[10.312,5.359],[7.791,10.466],[6.728,.137],[-5.829,-.359],[-5.828,-.365],[-9.59,-2.727],[-5.788,-7.58]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[.2,.2,.2],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[95.438,17.148],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 3",ix:3,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[-.809,.107],[-.116,-.991],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[-.629,4.74],[-.194,.58],[0,0],[0,0],[-1.359,-.356],[0,0]],o:[[.624,-.087],[.272,2.269],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[.146,-1.094],[0,0],[5.078,1.566],[0,0],[1.359,.35],[0,0]],v:[[8.821,-8.33],[10.152,-7.222],[7.611,-2.644],[6.924,7.179],[-1.544,13.34],[2.518,5.313],[-4.963,4.813],[-9.338,3.738],[-10.424,2.403],[-9.585,-10.532],[-9.079,-13.115],[-9.01,-13.34],[3.549,-12.844],[4.611,-2.515],[7.132,-7.623]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[.949,.6,.2902],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[98.577,30.124],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 4",ix:4,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,0],[0,0],[0,0],[0,0]],o:[[-27.616,-9.801],[0,0],[0,0],[0,0]],v:[[9.572,21.137],[-18.343,-21.136],[-3.118,6.541],[18.343,4.45]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[0,.2039,.4196],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[96.057,55.643],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 5",ix:5,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,0],[0,0],[.764,.72],[-.083,1.851],[1.039,2.566],[-.396,.279],[-1.226,.312],[-.102,-1.634],[-.007,-.046],[-.404,-1.421]],o:[[0,0],[0,0],[-.996,-.933],[.115,-2.484],[-.334,-.82],[.504,-.363],[2.714,-.681],[.001,.039],[.064,.647],[1.219,4.354]],v:[[6.884,6.578],[1.556,9.341],[.103,8.224],[-1.936,3.969],[-6.475,-5.63],[-6.488,-7.344],[-3.696,-8.419],[2.648,-7.707],[2.663,-7.576],[3.415,-4.318]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[.949,.6,.2902],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[78.549,23.927],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 6",ix:6,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[-3.947,.211],[0,0],[0,0],[1.336,-.011],[10.934,5.859],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[-6.258,.062],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[.764,.719],[0,0],[0,0],[0,0]],v:[[40.412,1.789],[31.641,18.477],[28.509,35.442],[26.4,35.488],[-9.476,29.344],[-2.174,8.72],[-2.025,-8.292],[-27.405,-8.849],[-40.412,-31.214],[-38.108,-32.53],[-32.811,-35.549],[-19.9,-19.09],[4.664,-26.152],[6.117,-25.035],[3.726,-23.797],[18.953,3.862]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[0,.8078,.7882],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[73.989,58.304],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 7",ix:7,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,0],[0,0],[.27,.029],[0,0],[0,0]],o:[[0,0],[-.244,-.072],[-3.801,-.447],[0,0],[0,0]],v:[[-1.025,-5.379],[9.493,.432],[8.726,.278],[-5.761,5.379],[-9.493,.782]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[0,.2039,.4196],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[106.756,42.408],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 8",ix:8,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,0],[0,0],[0,0],[-3.801,-.446],[-.244,-.072],[1.081,-3.632],[3.946,-.205],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[.269,.029],[3.283,.917],[-1.164,3.914],[-3.947,.211],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],v:[[-6.037,-7.682],[-2.126,-2.866],[1.606,1.731],[16.092,-3.37],[16.859,-3.216],[20.594,5.476],[15.011,14.038],[-6.449,16.11],[-21.675,-11.549],[-19.284,-12.787],[-13.956,-15.55],[-12.88,-16.11],[-11.005,-13.804],[-9.919,-12.469]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[0,.8078,.7882],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[99.39,46.056],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 9",ix:9,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0]],v:[[2.188,-1.317],[1.694,2.393],[-2.188,-2.393]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[0,.2039,.4196],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[91.658,35.98],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 10",ix:10,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,0],[0,0],[-.65,3.078],[0,0],[-.889,.37],[-1.354,-1.521],[-.21,-.673]],o:[[0,0],[0,0],[0,0],[.065,-1.079],[1.178,-.489],[.277,.317],[.805,2.561]],v:[[5.163,4.06],[-.135,7.082],[-4.512,-2.895],[-1.344,-2.878],[-.154,-6.592],[3.301,-4.383],[4.035,-2.846]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[.949,.6,.2902],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[36.015,18.694],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 11",ix:11,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],v:[[10.718,3.027],[10.627,3.713],[-11.228,.811],[-10.627,-3.713],[11.228,-.811],[11.13,-.076]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[.8627,.2784,.3294],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[52.567,14.101],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 12",ix:12,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,0],[0,0],[0,0],[.063,.647],[0,0]],o:[[0,0],[0,0],[-.404,-1.421],[0,0],[0,0]],v:[[3.357,.796],[3.193,2.03],[-2.853,1.228],[-3.605,-2.03],[3.605,-1.072]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[.0667,.0627,.1373],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[84.818,18.382],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 13",ix:13,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,0],[0,0],[.504,-.363],[-.334,-.819],[0,0]],o:[[0,0],[-1.226,.313],[-.395,.279],[0,0],[0,0]],v:[[-5.372,-2.135],[5.785,-.654],[2.992,.421],[3.005,2.135],[-5.785,.968]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[.0667,.0627,.1373],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[69.069,16.161],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 14",ix:14,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[-.021,.206],[.454,1.336],[.738,.319],[0,0],[.701,-3.656],[.043,-.319],[-.212,-1.246],[-1.247,-.166],[-.132,.015],[-.518,3.902]],o:[[.185,-1.929],[-.388,-1.146],[0,0],[-1.798,-.141],[-.066,.304],[-.204,1.542],[.366,2.145],[.135,.017],[1.848,-.184],[.028,-.211]],v:[[3.624,-.078],[3.172,-5.105],[1.451,-7.391],[.883,-7.532],[-3.448,-1.343],[-3.605,-.407],[-3.57,3.843],[-1.036,7.656],[-.626,7.658],[3.554,.544]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[.8627,.2784,.3294],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[4.059,7.923],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 15",ix:15,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,0],[0,0],[0,0],[.277,.317],[1.178,-.488],[.065,-1.079],[0,0],[0,0],[0,0],[-.518,3.902],[1.686,.732],[0,0],[0,0]],o:[[0,0],[0,0],[-.21,-.673],[-1.354,-1.521],[-.889,.371],[0,0],[0,0],[0,0],[1.848,-.185],[.512,-3.851],[0,0],[0,0],[0,0]],v:[[18.604,6.72],[18.479,7.66],[17.313,7.656],[16.58,6.119],[13.124,3.909],[11.934,7.625],[8.766,7.608],[-19.296,7.443],[-19.303,7.39],[-15.124,.276],[-17.227,-7.66],[19.303,1.449],[19.204,2.197]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[.9098,.4275,.1882],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[22.736,8.191],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 16",ix:16,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,0],[0,0],[0,0],[0,0],[0,0],[-7.889,-.188],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0],[-1.424,-7.763],[0,0],[0,0],[17.34,5.523],[0,0]],v:[[15.789,-4.481],[-5.23,-8.073],[-6.092,24.732],[-21.09,27.96],[-24.038,-13.084],[-11.495,-27.772],[-5.111,-27.618],[-5.104,-27.617],[25.462,-3.139]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[0,.1255,.2627],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[52.459,114.844],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 17",ix:17,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,0],[0,0],[1.246,-7.213],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],v:[[-3.821,-6.273],[-4.877,-2.729],[-11.295,4.52],[1.911,6.273],[10.017,.222],[11.295,-4.265]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[.5137,.6,.702],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[82.042,197.797],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 18",ix:18,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,0],[-2.653,-12.601],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-.527,-11.795],[-9.312,13.551],[11.965,-10.136],[10.064,-13.551]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[.5137,.6,.702],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[34.803,153.627],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 19",ix:19,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,0],[0,0],[0,0],[17.34,5.522],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],v:[[20.148,53.268],[3.293,51.029],[2.995,-28.791],[-27.572,-53.268],[-10.414,-52.845],[27.572,-46.748]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[0,.2039,.4196],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[74.927,140.495],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]}],ind:5},{ty:4,nm:"nuvem contornos 3",sr:1,st:0,op:1750,ip:0,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[48.338,13.382,0],ix:1},s:{a:0,k:[173,173,100],ix:6},sk:{a:0,k:0},p:{a:0,k:[441.196,174.382,0],ix:2},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 1",ix:1,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[-13.305,-1.026],[-18.691,-.966],[0,0],[-9.991,-13.554],[0,0]],o:[[0,0],[18.69,.967],[0,0],[0,0],[0,0]],v:[[-29.094,4.319],[-1.289,-13.346],[23.524,4.319],[48.338,13.382],[-48.338,13.382]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[.8706,.8902,.9569],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[48.338,13.382],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]}],ind:6},{ty:4,nm:"nuvem contornos 2",sr:1,st:0,op:1750,ip:0,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[48.338,13.382,0],ix:1},s:{a:0,k:[248,248,100],ix:6},sk:{a:0,k:0},p:{a:0,k:[171.196,120.382,0],ix:2},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 1",ix:1,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[-13.305,-1.026],[-18.691,-.966],[0,0],[-9.991,-13.554],[0,0]],o:[[0,0],[18.69,.967],[0,0],[0,0],[0,0]],v:[[-29.094,4.319],[-1.289,-13.346],[23.524,4.319],[48.338,13.382],[-48.338,13.382]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[.8706,.8902,.9569],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[48.338,13.382],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]}],ind:7},{ty:4,nm:"nuvem contornos",sr:1,st:0,op:1750,ip:0,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[48.338,13.382,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{a:0,k:[532.196,98.382,0],ix:2},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Grupo 1",ix:1,cix:2,np:4,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Caminho 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[-13.305,-1.026],[-18.691,-.966],[0,0],[-9.991,-13.554],[0,0]],o:[[0,0],[18.69,.967],[0,0],[0,0],[0,0]],v:[[-29.094,4.319],[-1.289,-13.346],[23.524,4.319],[48.338,13.382],[-48.338,13.382]]},ix:2}},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Preenchimento 1",c:{a:0,k:[.8706,.8902,.9569],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[48.338,13.382],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]}],ind:8}],v$1="5.7.3",fr=25,op=50,ip=0,assets=[],notFound={nm,ddd,h:h$3,w:w$4,meta,layers,v:v$1,fr,op,ip,assets};var i$3=Object.defineProperty,d$2=(et,g,it)=>g in et?i$3(et,g,{enumerable:!0,configurable:!0,writable:!0,value:it}):et[g]=it,r$2=(et,g,it)=>(d$2(et,typeof g!="symbol"?g+"":g,it),it);let o$4=class{constructor(){r$2(this,"current",this.detect()),r$2(this,"handoffState","pending"),r$2(this,"currentId",0)}set(g){this.current!==g&&(this.handoffState="pending",this.currentId=0,this.current=g)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},s$5=new o$4;function u$5(et){return s$5.isServer?null:et instanceof Node?et.ownerDocument:et!=null&&et.hasOwnProperty("current")&&et.current instanceof Node?et.current.ownerDocument:document}function t$3(et){typeof queueMicrotask=="function"?queueMicrotask(et):Promise.resolve().then(et).catch(g=>setTimeout(()=>{throw g}))}function o$3(){let et=[],g={addEventListener(it,ot,ut,ct){return it.addEventListener(ot,ut,ct),g.add(()=>it.removeEventListener(ot,ut,ct))},requestAnimationFrame(...it){let ot=requestAnimationFrame(...it);return g.add(()=>cancelAnimationFrame(ot))},nextFrame(...it){return g.requestAnimationFrame(()=>g.requestAnimationFrame(...it))},setTimeout(...it){let ot=setTimeout(...it);return g.add(()=>clearTimeout(ot))},microTask(...it){let ot={current:!0};return t$3(()=>{ot.current&&it[0]()}),g.add(()=>{ot.current=!1})},style(it,ot,ut){let ct=it.style.getPropertyValue(ot);return Object.assign(it.style,{[ot]:ut}),this.add(()=>{Object.assign(it.style,{[ot]:ct})})},group(it){let ot=o$3();return it(ot),this.add(()=>ot.dispose())},add(it){return et.includes(it)||et.push(it),()=>{let ot=et.indexOf(it);if(ot>=0)for(let ut of et.splice(ot,1))ut()}},dispose(){for(let it of et.splice(0))it()}};return g}function p$2(){let[et]=reactExports.useState(o$3);return reactExports.useEffect(()=>()=>et.dispose(),[et]),et}let n$3=(et,g)=>{s$5.isServer?reactExports.useEffect(et,g):reactExports.useLayoutEffect(et,g)};function s$4(et){let g=reactExports.useRef(et);return n$3(()=>{g.current=et},[et]),g}let o$2=function(et){let g=s$4(et);return React.useCallback((...it)=>g.current(...it),[g])},e$2=reactExports.createContext(void 0);function a$a(){return reactExports.useContext(e$2)}function t$2(...et){return Array.from(new Set(et.flatMap(g=>typeof g=="string"?g.split(" "):[]))).filter(Boolean).join(" ")}function u$4(et,g,...it){if(et in g){let ut=g[et];return typeof ut=="function"?ut(...it):ut}let ot=new Error(`Tried to handle "${et}" but there is no handler defined. Only defined handlers are: ${Object.keys(g).map(ut=>`"${ut}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(ot,u$4),ot}var O$3=(et=>(et[et.None=0]="None",et[et.RenderStrategy=1]="RenderStrategy",et[et.Static=2]="Static",et))(O$3||{}),A$1=(et=>(et[et.Unmount=0]="Unmount",et[et.Hidden=1]="Hidden",et))(A$1||{});function L$1(){let et=U$2();return reactExports.useCallback(g=>C$3({mergeRefs:et,...g}),[et])}function C$3({ourProps:et,theirProps:g,slot:it,defaultTag:ot,features:ut,visible:ct=!0,name:dt,mergeRefs:ft}){ft=ft??$$1;let St=P$1(g,et);if(ct)return F$1(St,it,ot,dt,ft);let Tt=ut??0;if(Tt&2){let{static:kt=!1,...jt}=St;if(kt)return F$1(jt,it,ot,dt,ft)}if(Tt&1){let{unmount:kt=!0,...jt}=St;return u$4(kt?0:1,{0(){return null},1(){return F$1({...jt,hidden:!0,style:{display:"none"}},it,ot,dt,ft)}})}return F$1(St,it,ot,dt,ft)}function F$1(et,g={},it,ot,ut){let{as:ct=it,children:dt,refName:ft="ref",...St}=h$2(et,["unmount","static"]),Tt=et.ref!==void 0?{[ft]:et.ref}:{},kt=typeof dt=="function"?dt(g):dt;"className"in St&&St.className&&typeof St.className=="function"&&(St.className=St.className(g)),St["aria-labelledby"]&&St["aria-labelledby"]===St.id&&(St["aria-labelledby"]=void 0);let jt={};if(g){let Rt=!1,$t=[];for(let[zt,Ht]of Object.entries(g))typeof Ht=="boolean"&&(Rt=!0),Ht===!0&&$t.push(zt.replace(/([A-Z])/g,Zt=>`-${Zt.toLowerCase()}`));if(Rt){jt["data-headlessui-state"]=$t.join(" ");for(let zt of $t)jt[`data-${zt}`]=""}}if(ct===reactExports.Fragment&&(Object.keys(m$4(St)).length>0||Object.keys(m$4(jt)).length>0))if(!reactExports.isValidElement(kt)||Array.isArray(kt)&&kt.length>1){if(Object.keys(m$4(St)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${ot} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(m$4(St)).concat(Object.keys(m$4(jt))).map(Rt=>`  - ${Rt}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(Rt=>`  - ${Rt}`).join(`
`)].join(`
`))}else{let Rt=kt.props,$t=Rt==null?void 0:Rt.className,zt=typeof $t=="function"?(...Bt)=>t$2($t(...Bt),St.className):t$2($t,St.className),Ht=zt?{className:zt}:{},Zt=P$1(kt.props,m$4(h$2(St,["ref"])));for(let Bt in jt)Bt in Zt&&delete jt[Bt];return reactExports.cloneElement(kt,Object.assign({},Zt,jt,Tt,{ref:ut(H$2(kt),Tt.ref)},Ht))}return reactExports.createElement(ct,Object.assign({},h$2(St,["ref"]),ct!==reactExports.Fragment&&Tt,ct!==reactExports.Fragment&&jt),kt)}function U$2(){let et=reactExports.useRef([]),g=reactExports.useCallback(it=>{for(let ot of et.current)ot!=null&&(typeof ot=="function"?ot(it):ot.current=it)},[]);return(...it)=>{if(!it.every(ot=>ot==null))return et.current=it,g}}function $$1(...et){return et.every(g=>g==null)?void 0:g=>{for(let it of et)it!=null&&(typeof it=="function"?it(g):it.current=g)}}function P$1(...et){if(et.length===0)return{};if(et.length===1)return et[0];let g={},it={};for(let ot of et)for(let ut in ot)ut.startsWith("on")&&typeof ot[ut]=="function"?(it[ut]!=null||(it[ut]=[]),it[ut].push(ot[ut])):g[ut]=ot[ut];if(g.disabled||g["aria-disabled"])for(let ot in it)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(ot)&&(it[ot]=[ut=>{var ct;return(ct=ut==null?void 0:ut.preventDefault)==null?void 0:ct.call(ut)}]);for(let ot in it)Object.assign(g,{[ot](ut,...ct){let dt=it[ot];for(let ft of dt){if((ut instanceof Event||(ut==null?void 0:ut.nativeEvent)instanceof Event)&&ut.defaultPrevented)return;ft(ut,...ct)}}});return g}function K(et){var g;return Object.assign(reactExports.forwardRef(et),{displayName:(g=et.displayName)!=null?g:et.name})}function m$4(et){let g=Object.assign({},et);for(let it in g)g[it]===void 0&&delete g[it];return g}function h$2(et,g=[]){let it=Object.assign({},et);for(let ot of g)ot in it&&delete it[ot];return it}function H$2(et){return React.version.split(".")[0]>="19"?et.props.ref:et.ref}let a$9="span";var s$3=(et=>(et[et.None=1]="None",et[et.Focusable=2]="Focusable",et[et.Hidden=4]="Hidden",et))(s$3||{});function l$2(et,g){var it;let{features:ot=1,...ut}=et,ct={ref:g,"aria-hidden":(ot&2)===2?!0:(it=ut["aria-hidden"])!=null?it:void 0,hidden:(ot&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(ot&4)===4&&(ot&2)!==2&&{display:"none"}}};return L$1()({ourProps:ct,theirProps:ut,slot:{},defaultTag:a$9,name:"Hidden"})}let f$6=K(l$2),u$3=Symbol();function T$2(et,g=!0){return Object.assign(et,{[u$3]:g})}function y$3(...et){let g=reactExports.useRef(et);reactExports.useEffect(()=>{g.current=et},[et]);let it=o$2(ot=>{for(let ut of g.current)ut!=null&&(typeof ut=="function"?ut(ot):ut.current=ot)});return et.every(ot=>ot==null||(ot==null?void 0:ot[u$3]))?void 0:it}let a$8=reactExports.createContext(null);a$8.displayName="DescriptionContext";function f$5(){let et=reactExports.useContext(a$8);if(et===null){let g=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(g,f$5),g}return et}function w$3(){let[et,g]=reactExports.useState([]);return[et.length>0?et.join(" "):void 0,reactExports.useMemo(()=>function(it){let ot=o$2(ct=>(g(dt=>[...dt,ct]),()=>g(dt=>{let ft=dt.slice(),St=ft.indexOf(ct);return St!==-1&&ft.splice(St,1),ft}))),ut=reactExports.useMemo(()=>({register:ot,slot:it.slot,name:it.name,props:it.props,value:it.value}),[ot,it.slot,it.name,it.props,it.value]);return React.createElement(a$8.Provider,{value:ut},it.children)},[g])]}let S$2="p";function C$2(et,g){let it=reactExports.useId(),ot=a$a(),{id:ut=`headlessui-description-${it}`,...ct}=et,dt=f$5(),ft=y$3(g);n$3(()=>dt.register(ut),[ut,dt.register]);let St=ot||!1,Tt=reactExports.useMemo(()=>({...dt.slot,disabled:St}),[dt.slot,St]),kt={ref:ft,...dt.props,id:ut};return L$1()({ourProps:kt,theirProps:ct,slot:Tt,defaultTag:S$2,name:dt.name||"Description"})}let _$1=K(C$2),H$1=Object.assign(_$1,{});var o$1=(et=>(et.Space=" ",et.Enter="Enter",et.Escape="Escape",et.Backspace="Backspace",et.Delete="Delete",et.ArrowLeft="ArrowLeft",et.ArrowUp="ArrowUp",et.ArrowRight="ArrowRight",et.ArrowDown="ArrowDown",et.Home="Home",et.End="End",et.PageUp="PageUp",et.PageDown="PageDown",et.Tab="Tab",et))(o$1||{});let e$1=reactExports.createContext(()=>{});function C$1({value:et,children:g}){return React.createElement(e$1.Provider,{value:et},g)}let a$7=class extends Map{constructor(g){super(),this.factory=g}get(g){let it=super.get(g);return it===void 0&&(it=this.factory(g),this.set(g,it)),it}};function a$6(et,g){let it=et(),ot=new Set;return{getSnapshot(){return it},subscribe(ut){return ot.add(ut),()=>ot.delete(ut)},dispatch(ut,...ct){let dt=g[ut].call(it,...ct);dt&&(it=dt,ot.forEach(ft=>ft()))}}}function o(et){return reactExports.useSyncExternalStore(et.subscribe,et.getSnapshot,et.getSnapshot)}let p$1=new a$7(()=>a$6(()=>[],{ADD(et){return this.includes(et)?this:[...this,et]},REMOVE(et){let g=this.indexOf(et);if(g===-1)return this;let it=this.slice();return it.splice(g,1),it}}));function x$2(et,g){let it=p$1.get(g),ot=reactExports.useId(),ut=o(it);if(n$3(()=>{if(et)return it.dispatch("ADD",ot),()=>it.dispatch("REMOVE",ot)},[it,et]),!et)return!1;let ct=ut.indexOf(ot),dt=ut.length;return ct===-1&&(ct=dt,dt+=1),ct===dt-1}let f$4=new Map,u$2=new Map;function h$1(et){var g;let it=(g=u$2.get(et))!=null?g:0;return u$2.set(et,it+1),it!==0?()=>m$3(et):(f$4.set(et,{"aria-hidden":et.getAttribute("aria-hidden"),inert:et.inert}),et.setAttribute("aria-hidden","true"),et.inert=!0,()=>m$3(et))}function m$3(et){var g;let it=(g=u$2.get(et))!=null?g:1;if(it===1?u$2.delete(et):u$2.set(et,it-1),it!==1)return;let ot=f$4.get(et);ot&&(ot["aria-hidden"]===null?et.removeAttribute("aria-hidden"):et.setAttribute("aria-hidden",ot["aria-hidden"]),et.inert=ot.inert,f$4.delete(et))}function y$2(et,{allowed:g,disallowed:it}={}){let ot=x$2(et,"inert-others");n$3(()=>{var ut,ct;if(!ot)return;let dt=o$3();for(let St of(ut=it==null?void 0:it())!=null?ut:[])St&&dt.add(h$1(St));let ft=(ct=g==null?void 0:g())!=null?ct:[];for(let St of ft){if(!St)continue;let Tt=u$5(St);if(!Tt)continue;let kt=St.parentElement;for(;kt&&kt!==Tt.body;){for(let jt of kt.children)ft.some(Rt=>jt.contains(Rt))||dt.add(h$1(jt));kt=kt.parentElement}}return dt.dispose},[ot,g,it])}function m$2(et,g,it){let ot=s$4(ut=>{let ct=ut.getBoundingClientRect();ct.x===0&&ct.y===0&&ct.width===0&&ct.height===0&&it()});reactExports.useEffect(()=>{if(!et)return;let ut=g===null?null:g instanceof HTMLElement?g:g.current;if(!ut)return;let ct=o$3();if(typeof ResizeObserver<"u"){let dt=new ResizeObserver(()=>ot.current(ut));dt.observe(ut),ct.add(()=>dt.disconnect())}if(typeof IntersectionObserver<"u"){let dt=new IntersectionObserver(()=>ot.current(ut));dt.observe(ut),ct.add(()=>dt.disconnect())}return()=>ct.dispose()},[g,ot,et])}let f$3=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(et=>`${et}:not([tabindex='-1'])`).join(","),p=["[data-autofocus]"].map(et=>`${et}:not([tabindex='-1'])`).join(",");var F=(et=>(et[et.First=1]="First",et[et.Previous=2]="Previous",et[et.Next=4]="Next",et[et.Last=8]="Last",et[et.WrapAround=16]="WrapAround",et[et.NoScroll=32]="NoScroll",et[et.AutoFocus=64]="AutoFocus",et))(F||{}),T$1=(et=>(et[et.Error=0]="Error",et[et.Overflow=1]="Overflow",et[et.Success=2]="Success",et[et.Underflow=3]="Underflow",et))(T$1||{}),y$1=(et=>(et[et.Previous=-1]="Previous",et[et.Next=1]="Next",et))(y$1||{});function b$2(et=document.body){return et==null?[]:Array.from(et.querySelectorAll(f$3)).sort((g,it)=>Math.sign((g.tabIndex||Number.MAX_SAFE_INTEGER)-(it.tabIndex||Number.MAX_SAFE_INTEGER)))}function S$1(et=document.body){return et==null?[]:Array.from(et.querySelectorAll(p)).sort((g,it)=>Math.sign((g.tabIndex||Number.MAX_SAFE_INTEGER)-(it.tabIndex||Number.MAX_SAFE_INTEGER)))}var h=(et=>(et[et.Strict=0]="Strict",et[et.Loose=1]="Loose",et))(h||{});function A(et,g=0){var it;return et===((it=u$5(et))==null?void 0:it.body)?!1:u$4(g,{0(){return et.matches(f$3)},1(){let ot=et;for(;ot!==null;){if(ot.matches(f$3))return!0;ot=ot.parentElement}return!1}})}var H=(et=>(et[et.Keyboard=0]="Keyboard",et[et.Mouse=1]="Mouse",et))(H||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",et=>{et.metaKey||et.altKey||et.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",et=>{et.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:et.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function I$2(et){et==null||et.focus({preventScroll:!0})}let w$2=["textarea","input"].join(",");function O$2(et){var g,it;return(it=(g=et==null?void 0:et.matches)==null?void 0:g.call(et,w$2))!=null?it:!1}function _(et,g=it=>it){return et.slice().sort((it,ot)=>{let ut=g(it),ct=g(ot);if(ut===null||ct===null)return 0;let dt=ut.compareDocumentPosition(ct);return dt&Node.DOCUMENT_POSITION_FOLLOWING?-1:dt&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function P(et,g,{sorted:it=!0,relativeTo:ot=null,skipElements:ut=[]}={}){let ct=Array.isArray(et)?et.length>0?et[0].ownerDocument:document:et.ownerDocument,dt=Array.isArray(et)?it?_(et):et:g&64?S$1(et):b$2(et);ut.length>0&&dt.length>1&&(dt=dt.filter($t=>!ut.some(zt=>zt!=null&&"current"in zt?(zt==null?void 0:zt.current)===$t:zt===$t))),ot=ot??ct.activeElement;let ft=(()=>{if(g&5)return 1;if(g&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),St=(()=>{if(g&1)return 0;if(g&2)return Math.max(0,dt.indexOf(ot))-1;if(g&4)return Math.max(0,dt.indexOf(ot))+1;if(g&8)return dt.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),Tt=g&32?{preventScroll:!0}:{},kt=0,jt=dt.length,Rt;do{if(kt>=jt||kt+jt<=0)return 0;let $t=St+kt;if(g&16)$t=($t+jt)%jt;else{if($t<0)return 3;if($t>=jt)return 1}Rt=dt[$t],Rt==null||Rt.focus(Tt),kt+=ft}while(Rt!==ct.activeElement);return g&6&&O$2(Rt)&&Rt.select(),2}function t$1(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function i$2(){return/Android/gi.test(window.navigator.userAgent)}function n$2(){return t$1()||i$2()}function i$1(et,g,it,ot){let ut=s$4(it);reactExports.useEffect(()=>{if(!et)return;function ct(dt){ut.current(dt)}return document.addEventListener(g,ct,ot),()=>document.removeEventListener(g,ct,ot)},[et,g,ot])}function s$2(et,g,it,ot){let ut=s$4(it);reactExports.useEffect(()=>{if(!et)return;function ct(dt){ut.current(dt)}return window.addEventListener(g,ct,ot),()=>window.removeEventListener(g,ct,ot)},[et,g,ot])}const E$1=30;function R$2(et,g,it){let ot=x$2(et,"outside-click"),ut=s$4(it),ct=reactExports.useCallback(function(St,Tt){if(St.defaultPrevented)return;let kt=Tt(St);if(kt===null||!kt.getRootNode().contains(kt)||!kt.isConnected)return;let jt=function Rt($t){return typeof $t=="function"?Rt($t()):Array.isArray($t)||$t instanceof Set?$t:[$t]}(g);for(let Rt of jt)if(Rt!==null&&(Rt.contains(kt)||St.composed&&St.composedPath().includes(Rt)))return;return!A(kt,h.Loose)&&kt.tabIndex!==-1&&St.preventDefault(),ut.current(St,kt)},[ut,g]),dt=reactExports.useRef(null);i$1(ot,"pointerdown",St=>{var Tt,kt;dt.current=((kt=(Tt=St.composedPath)==null?void 0:Tt.call(St))==null?void 0:kt[0])||St.target},!0),i$1(ot,"mousedown",St=>{var Tt,kt;dt.current=((kt=(Tt=St.composedPath)==null?void 0:Tt.call(St))==null?void 0:kt[0])||St.target},!0),i$1(ot,"click",St=>{n$2()||dt.current&&(ct(St,()=>dt.current),dt.current=null)},!0);let ft=reactExports.useRef({x:0,y:0});i$1(ot,"touchstart",St=>{ft.current.x=St.touches[0].clientX,ft.current.y=St.touches[0].clientY},!0),i$1(ot,"touchend",St=>{let Tt={x:St.changedTouches[0].clientX,y:St.changedTouches[0].clientY};if(!(Math.abs(Tt.x-ft.current.x)>=E$1||Math.abs(Tt.y-ft.current.y)>=E$1))return ct(St,()=>St.target instanceof HTMLElement?St.target:null)},!0),s$2(ot,"blur",St=>ct(St,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function n$1(...et){return reactExports.useMemo(()=>u$5(...et),[...et])}function E(et,g,it,ot){let ut=s$4(it);reactExports.useEffect(()=>{et=et??window;function ct(dt){ut.current(dt)}return et.addEventListener(g,ct,ot),()=>et.removeEventListener(g,ct,ot)},[et,g,ot])}function d$1(){let et;return{before({doc:g}){var it;let ot=g.documentElement,ut=(it=g.defaultView)!=null?it:window;et=Math.max(0,ut.innerWidth-ot.clientWidth)},after({doc:g,d:it}){let ot=g.documentElement,ut=Math.max(0,ot.clientWidth-ot.offsetWidth),ct=Math.max(0,et-ut);it.style(ot,"paddingRight",`${ct}px`)}}}function d(){return t$1()?{before({doc:et,d:g,meta:it}){function ot(ut){return it.containers.flatMap(ct=>ct()).some(ct=>ct.contains(ut))}g.microTask(()=>{var ut;if(window.getComputedStyle(et.documentElement).scrollBehavior!=="auto"){let ft=o$3();ft.style(et.documentElement,"scrollBehavior","auto"),g.add(()=>g.microTask(()=>ft.dispose()))}let ct=(ut=window.scrollY)!=null?ut:window.pageYOffset,dt=null;g.addEventListener(et,"click",ft=>{if(ft.target instanceof HTMLElement)try{let St=ft.target.closest("a");if(!St)return;let{hash:Tt}=new URL(St.href),kt=et.querySelector(Tt);kt&&!ot(kt)&&(dt=kt)}catch{}},!0),g.addEventListener(et,"touchstart",ft=>{if(ft.target instanceof HTMLElement)if(ot(ft.target)){let St=ft.target;for(;St.parentElement&&ot(St.parentElement);)St=St.parentElement;g.style(St,"overscrollBehavior","contain")}else g.style(ft.target,"touchAction","none")}),g.addEventListener(et,"touchmove",ft=>{if(ft.target instanceof HTMLElement){if(ft.target.tagName==="INPUT")return;if(ot(ft.target)){let St=ft.target;for(;St.parentElement&&St.dataset.headlessuiPortal!==""&&!(St.scrollHeight>St.clientHeight||St.scrollWidth>St.clientWidth);)St=St.parentElement;St.dataset.headlessuiPortal===""&&ft.preventDefault()}else ft.preventDefault()}},{passive:!1}),g.add(()=>{var ft;let St=(ft=window.scrollY)!=null?ft:window.pageYOffset;ct!==St&&window.scrollTo(0,ct),dt&&dt.isConnected&&(dt.scrollIntoView({block:"nearest"}),dt=null)})})}}:{}}function r$1(){return{before({doc:et,d:g}){g.style(et.documentElement,"overflow","hidden")}}}function m$1(et){let g={};for(let it of et)Object.assign(g,it(g));return g}let a$5=a$6(()=>new Map,{PUSH(et,g){var it;let ot=(it=this.get(et))!=null?it:{doc:et,count:0,d:o$3(),meta:new Set};return ot.count++,ot.meta.add(g),this.set(et,ot),this},POP(et,g){let it=this.get(et);return it&&(it.count--,it.meta.delete(g)),this},SCROLL_PREVENT({doc:et,d:g,meta:it}){let ot={doc:et,d:g,meta:m$1(it)},ut=[d(),d$1(),r$1()];ut.forEach(({before:ct})=>ct==null?void 0:ct(ot)),ut.forEach(({after:ct})=>ct==null?void 0:ct(ot))},SCROLL_ALLOW({d:et}){et.dispose()},TEARDOWN({doc:et}){this.delete(et)}});a$5.subscribe(()=>{let et=a$5.getSnapshot(),g=new Map;for(let[it]of et)g.set(it,it.documentElement.style.overflow);for(let it of et.values()){let ot=g.get(it.doc)==="hidden",ut=it.count!==0;(ut&&!ot||!ut&&ot)&&a$5.dispatch(it.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",it),it.count===0&&a$5.dispatch("TEARDOWN",it)}});function a$4(et,g,it=()=>({containers:[]})){let ot=o(a$5),ut=g?ot.get(g):void 0,ct=ut?ut.count>0:!1;return n$3(()=>{if(!(!g||!et))return a$5.dispatch("PUSH",g,it),()=>a$5.dispatch("POP",g,it)},[et,g]),ct}function f$2(et,g,it=()=>[document.body]){let ot=x$2(et,"scroll-lock");a$4(ot,g,ut=>{var ct;return{containers:[...(ct=ut.containers)!=null?ct:[],it]}})}function c$2(et=0){let[g,it]=reactExports.useState(et),ot=reactExports.useCallback(St=>it(St),[g]),ut=reactExports.useCallback(St=>it(Tt=>Tt|St),[g]),ct=reactExports.useCallback(St=>(g&St)===St,[g]),dt=reactExports.useCallback(St=>it(Tt=>Tt&~St),[it]),ft=reactExports.useCallback(St=>it(Tt=>Tt^St),[it]);return{flags:g,setFlag:ot,addFlag:ut,hasFlag:ct,removeFlag:dt,toggleFlag:ft}}var T,b$1;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((T=process==null?void 0:process.env)==null?void 0:T.NODE_ENV)==="test"&&typeof((b$1=Element==null?void 0:Element.prototype)==null?void 0:b$1.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var L=(et=>(et[et.None=0]="None",et[et.Closed=1]="Closed",et[et.Enter=2]="Enter",et[et.Leave=4]="Leave",et))(L||{});function R$1(et){let g={};for(let it in et)et[it]===!0&&(g[`data-${it}`]="");return g}function x$1(et,g,it,ot){let[ut,ct]=reactExports.useState(it),{hasFlag:dt,addFlag:ft,removeFlag:St}=c$2(et&&ut?3:0),Tt=reactExports.useRef(!1),kt=reactExports.useRef(!1),jt=p$2();return n$3(()=>{var Rt;if(et){if(it&&ct(!0),!g){it&&ft(3);return}return(Rt=ot==null?void 0:ot.start)==null||Rt.call(ot,it),C(g,{inFlight:Tt,prepare(){kt.current?kt.current=!1:kt.current=Tt.current,Tt.current=!0,!kt.current&&(it?(ft(3),St(4)):(ft(4),St(2)))},run(){kt.current?it?(St(3),ft(4)):(St(4),ft(3)):it?St(1):ft(1)},done(){var $t;kt.current&&typeof g.getAnimations=="function"&&g.getAnimations().length>0||(Tt.current=!1,St(7),it||ct(!1),($t=ot==null?void 0:ot.end)==null||$t.call(ot,it))}})}},[et,it,g,jt]),et?[ut,{closed:dt(1),enter:dt(2),leave:dt(4),transition:dt(2)||dt(4)}]:[it,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function C(et,{prepare:g,run:it,done:ot,inFlight:ut}){let ct=o$3();return j$1(et,{prepare:g,inFlight:ut}),ct.nextFrame(()=>{it(),ct.requestAnimationFrame(()=>{ct.add(M$2(et,ot))})}),ct.dispose}function M$2(et,g){var it,ot;let ut=o$3();if(!et)return ut.dispose;let ct=!1;ut.add(()=>{ct=!0});let dt=(ot=(it=et.getAnimations)==null?void 0:it.call(et).filter(ft=>ft instanceof CSSTransition))!=null?ot:[];return dt.length===0?(g(),ut.dispose):(Promise.allSettled(dt.map(ft=>ft.finished)).then(()=>{ct||g()}),ut.dispose)}function j$1(et,{inFlight:g,prepare:it}){if(g!=null&&g.current){it();return}let ot=et.style.transition;et.style.transition="none",it(),et.offsetHeight,et.style.transition=ot}function m(et,g){let it=reactExports.useRef([]),ot=o$2(et);reactExports.useEffect(()=>{let ut=[...it.current];for(let[ct,dt]of g.entries())if(it.current[ct]!==dt){let ft=ot(g,ut);return it.current=g,ft}},[ot,...g])}let n=reactExports.createContext(null);n.displayName="OpenClosedContext";var i=(et=>(et[et.Open=1]="Open",et[et.Closed=2]="Closed",et[et.Closing=4]="Closing",et[et.Opening=8]="Opening",et))(i||{});function u$1(){return reactExports.useContext(n)}function c$1({value:et,children:g}){return React.createElement(n.Provider,{value:et},g)}function s$1({children:et}){return React.createElement(n.Provider,{value:null},et)}function t(et){function g(){document.readyState!=="loading"&&(et(),document.removeEventListener("DOMContentLoaded",g))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",g),g())}let r=[];t(()=>{function et(g){if(!(g.target instanceof HTMLElement)||g.target===document.body||r[0]===g.target)return;let it=g.target;it=it.closest(f$3),r.unshift(it??g.target),r=r.filter(ot=>ot!=null&&ot.isConnected),r.splice(10)}window.addEventListener("click",et,{capture:!0}),window.addEventListener("mousedown",et,{capture:!0}),window.addEventListener("focus",et,{capture:!0}),document.body.addEventListener("click",et,{capture:!0}),document.body.addEventListener("mousedown",et,{capture:!0}),document.body.addEventListener("focus",et,{capture:!0})});function c(et){let g=o$2(et),it=reactExports.useRef(!1);reactExports.useEffect(()=>(it.current=!1,()=>{it.current=!0,t$3(()=>{it.current&&g()})}),[g])}function s(){let et=typeof document>"u";return"useSyncExternalStore"in React$1?(g=>g.useSyncExternalStore)(React$1)(()=>()=>{},()=>!1,()=>!et):!1}function l$1(){let et=s(),[g,it]=reactExports.useState(s$5.isHandoffComplete);return g&&s$5.isHandoffComplete===!1&&it(!1),reactExports.useEffect(()=>{g!==!0&&it(!0)},[g]),reactExports.useEffect(()=>s$5.handoff(),[]),et?!1:g}let e=reactExports.createContext(!1);function a$3(){return reactExports.useContext(e)}function l(et){return React.createElement(e.Provider,{value:et.force},et.children)}function N(et){let g=a$3(),it=reactExports.useContext(v),ot=n$1(et),[ut,ct]=reactExports.useState(()=>{var dt;if(!g&&it!==null)return(dt=it.current)!=null?dt:null;if(s$5.isServer)return null;let ft=ot==null?void 0:ot.getElementById("headlessui-portal-root");if(ft)return ft;if(ot===null)return null;let St=ot.createElement("div");return St.setAttribute("id","headlessui-portal-root"),ot.body.appendChild(St)});return reactExports.useEffect(()=>{ut!==null&&(ot!=null&&ot.body.contains(ut)||ot==null||ot.body.appendChild(ut))},[ut,ot]),reactExports.useEffect(()=>{g||it!==null&&ct(it.current)},[it,ct,g]),ut}let M$1=reactExports.Fragment,S=K(function(et,g){let it=et,ot=reactExports.useRef(null),ut=y$3(T$2(jt=>{ot.current=jt}),g),ct=n$1(ot),dt=N(ot),[ft]=reactExports.useState(()=>{var jt;return s$5.isServer?null:(jt=ct==null?void 0:ct.createElement("div"))!=null?jt:null}),St=reactExports.useContext(y),Tt=l$1();n$3(()=>{!dt||!ft||dt.contains(ft)||(ft.setAttribute("data-headlessui-portal",""),dt.appendChild(ft))},[dt,ft]),n$3(()=>{if(ft&&St)return St.register(ft)},[St,ft]),c(()=>{var jt;!dt||!ft||(ft instanceof Node&&dt.contains(ft)&&dt.removeChild(ft),dt.childNodes.length<=0&&((jt=dt.parentElement)==null||jt.removeChild(dt)))});let kt=L$1();return Tt?!dt||!ft?null:reactDomExports.createPortal(kt({ourProps:{ref:ut},theirProps:it,slot:{},defaultTag:M$1,name:"Portal"}),ft):null});function j(et,g){let it=y$3(g),{enabled:ot=!0,...ut}=et,ct=L$1();return ot?React.createElement(S,{...ut,ref:it}):ct({ourProps:{ref:it},theirProps:ut,slot:{},defaultTag:M$1,name:"Portal"})}let W=reactExports.Fragment,v=reactExports.createContext(null);function I$1(et,g){let{target:it,...ot}=et,ut={ref:y$3(g)},ct=L$1();return React.createElement(v.Provider,{value:it},ct({ourProps:ut,theirProps:ot,defaultTag:W,name:"Popover.Group"}))}let y=reactExports.createContext(null);function te$1(){let et=reactExports.useContext(y),g=reactExports.useRef([]),it=o$2(ct=>(g.current.push(ct),et&&et.register(ct),()=>ot(ct))),ot=o$2(ct=>{let dt=g.current.indexOf(ct);dt!==-1&&g.current.splice(dt,1),et&&et.unregister(ct)}),ut=reactExports.useMemo(()=>({register:it,unregister:ot,portals:g}),[it,ot,g]);return[g,reactExports.useMemo(()=>function({children:ct}){return React.createElement(y.Provider,{value:ut},ct)},[ut])]}let J=K(j),X$2=K(I$1),re$1=Object.assign(J,{Group:X$2});function a$2(et,g=typeof document<"u"?document.defaultView:null,it){let ot=x$2(et,"escape");E(g,"keydown",ut=>{ot&&(ut.defaultPrevented||ut.key===o$1.Escape&&it(ut))})}function f$1(){var et;let[g]=reactExports.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[it,ot]=reactExports.useState((et=g==null?void 0:g.matches)!=null?et:!1);return n$3(()=>{if(!g)return;function ut(ct){ot(ct.matches)}return g.addEventListener("change",ut),()=>g.removeEventListener("change",ut)},[g]),it}function R({defaultContainers:et=[],portals:g,mainTreeNode:it}={}){let ot=n$1(it),ut=o$2(()=>{var ct,dt;let ft=[];for(let St of et)St!==null&&(St instanceof HTMLElement?ft.push(St):"current"in St&&St.current instanceof HTMLElement&&ft.push(St.current));if(g!=null&&g.current)for(let St of g.current)ft.push(St);for(let St of(ct=ot==null?void 0:ot.querySelectorAll("html > *, body > *"))!=null?ct:[])St!==document.body&&St!==document.head&&St instanceof HTMLElement&&St.id!=="headlessui-portal-root"&&(it&&(St.contains(it)||St.contains((dt=it==null?void 0:it.getRootNode())==null?void 0:dt.host))||ft.some(Tt=>St.contains(Tt))||ft.push(St));return ft});return{resolveContainers:ut,contains:o$2(ct=>ut().some(dt=>dt.contains(ct)))}}let a$1=reactExports.createContext(null);function O$1({children:et,node:g}){let[it,ot]=reactExports.useState(null),ut=b(g??it);return React.createElement(a$1.Provider,{value:ut},et,ut===null&&React.createElement(f$6,{features:s$3.Hidden,ref:ct=>{var dt,ft;if(ct){for(let St of(ft=(dt=u$5(ct))==null?void 0:dt.querySelectorAll("html > *, body > *"))!=null?ft:[])if(St!==document.body&&St!==document.head&&St instanceof HTMLElement&&St!=null&&St.contains(ct)){ot(St);break}}}}))}function b(et=null){var g;return(g=reactExports.useContext(a$1))!=null?g:et}function f(){let et=reactExports.useRef(!1);return n$3(()=>(et.current=!0,()=>{et.current=!1}),[]),et}var a=(et=>(et[et.Forwards=0]="Forwards",et[et.Backwards=1]="Backwards",et))(a||{});function u(){let et=reactExports.useRef(0);return s$2(!0,"keydown",g=>{g.key==="Tab"&&(et.current=g.shiftKey?1:0)},!0),et}function U$1(et){if(!et)return new Set;if(typeof et=="function")return new Set(et());let g=new Set;for(let it of et.current)it.current instanceof HTMLElement&&g.add(it.current);return g}let Z="div";var x=(et=>(et[et.None=0]="None",et[et.InitialFocus=1]="InitialFocus",et[et.TabLock=2]="TabLock",et[et.FocusLock=4]="FocusLock",et[et.RestoreFocus=8]="RestoreFocus",et[et.AutoFocus=16]="AutoFocus",et))(x||{});function $(et,g){let it=reactExports.useRef(null),ot=y$3(it,g),{initialFocus:ut,initialFocusFallback:ct,containers:dt,features:ft=15,...St}=et;l$1()||(ft=0);let Tt=n$1(it);ee(ft,{ownerDocument:Tt});let kt=te(ft,{ownerDocument:Tt,container:it,initialFocus:ut,initialFocusFallback:ct});re(ft,{ownerDocument:Tt,container:it,containers:dt,previousActiveElement:kt});let jt=u(),Rt=o$2(Ut=>{let Kt=it.current;Kt&&(Yt=>Yt())(()=>{u$4(jt.current,{[a.Forwards]:()=>{P(Kt,F.First,{skipElements:[Ut.relatedTarget,ct]})},[a.Backwards]:()=>{P(Kt,F.Last,{skipElements:[Ut.relatedTarget,ct]})}})})}),$t=x$2(!!(ft&2),"focus-trap#tab-lock"),zt=p$2(),Ht=reactExports.useRef(!1),Zt={ref:ot,onKeyDown(Ut){Ut.key=="Tab"&&(Ht.current=!0,zt.requestAnimationFrame(()=>{Ht.current=!1}))},onBlur(Ut){if(!(ft&4))return;let Kt=U$1(dt);it.current instanceof HTMLElement&&Kt.add(it.current);let Yt=Ut.relatedTarget;Yt instanceof HTMLElement&&Yt.dataset.headlessuiFocusGuard!=="true"&&(I(Kt,Yt)||(Ht.current?P(it.current,u$4(jt.current,{[a.Forwards]:()=>F.Next,[a.Backwards]:()=>F.Previous})|F.WrapAround,{relativeTo:Ut.target}):Ut.target instanceof HTMLElement&&I$2(Ut.target)))}},Bt=L$1();return React.createElement(React.Fragment,null,$t&&React.createElement(f$6,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:Rt,features:s$3.Focusable}),Bt({ourProps:Zt,theirProps:St,defaultTag:Z,name:"FocusTrap"}),$t&&React.createElement(f$6,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:Rt,features:s$3.Focusable}))}let D=K($),ye=Object.assign(D,{features:x});function w$1(et=!0){let g=reactExports.useRef(r.slice());return m(([it],[ot])=>{ot===!0&&it===!1&&t$3(()=>{g.current.splice(0)}),ot===!1&&it===!0&&(g.current=r.slice())},[et,r,g]),o$2(()=>{var it;return(it=g.current.find(ot=>ot!=null&&ot.isConnected))!=null?it:null})}function ee(et,{ownerDocument:g}){let it=!!(et&8),ot=w$1(it);m(()=>{it||(g==null?void 0:g.activeElement)===(g==null?void 0:g.body)&&I$2(ot())},[it]),c(()=>{it&&I$2(ot())})}function te(et,{ownerDocument:g,container:it,initialFocus:ot,initialFocusFallback:ut}){let ct=reactExports.useRef(null),dt=x$2(!!(et&1),"focus-trap#initial-focus"),ft=f();return m(()=>{if(et===0)return;if(!dt){ut!=null&&ut.current&&I$2(ut.current);return}let St=it.current;St&&t$3(()=>{if(!ft.current)return;let Tt=g==null?void 0:g.activeElement;if(ot!=null&&ot.current){if((ot==null?void 0:ot.current)===Tt){ct.current=Tt;return}}else if(St.contains(Tt)){ct.current=Tt;return}if(ot!=null&&ot.current)I$2(ot.current);else{if(et&16){if(P(St,F.First|F.AutoFocus)!==T$1.Error)return}else if(P(St,F.First)!==T$1.Error)return;if(ut!=null&&ut.current&&(I$2(ut.current),(g==null?void 0:g.activeElement)===ut.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}ct.current=g==null?void 0:g.activeElement})},[ut,dt,et]),ct}function re(et,{ownerDocument:g,container:it,containers:ot,previousActiveElement:ut}){let ct=f(),dt=!!(et&4);E(g==null?void 0:g.defaultView,"focus",ft=>{if(!dt||!ct.current)return;let St=U$1(ot);it.current instanceof HTMLElement&&St.add(it.current);let Tt=ut.current;if(!Tt)return;let kt=ft.target;kt&&kt instanceof HTMLElement?I(St,kt)?(ut.current=kt,I$2(kt)):(ft.preventDefault(),ft.stopPropagation(),I$2(Tt)):I$2(ut.current)},!0)}function I(et,g){for(let it of et)if(it.contains(g))return!0;return!1}function ue(et){var g;return!!(et.enter||et.enterFrom||et.enterTo||et.leave||et.leaveFrom||et.leaveTo)||((g=et.as)!=null?g:de)!==reactExports.Fragment||React.Children.count(et.children)===1}let w=reactExports.createContext(null);w.displayName="TransitionContext";var _e=(et=>(et.Visible="visible",et.Hidden="hidden",et))(_e||{});function De(){let et=reactExports.useContext(w);if(et===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return et}function He$1(){let et=reactExports.useContext(M);if(et===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return et}let M=reactExports.createContext(null);M.displayName="NestingContext";function U(et){return"children"in et?U(et.children):et.current.filter(({el:g})=>g.current!==null).filter(({state:g})=>g==="visible").length>0}function Te(et,g){let it=s$4(et),ot=reactExports.useRef([]),ut=f(),ct=p$2(),dt=o$2(($t,zt=A$1.Hidden)=>{let Ht=ot.current.findIndex(({el:Zt})=>Zt===$t);Ht!==-1&&(u$4(zt,{[A$1.Unmount](){ot.current.splice(Ht,1)},[A$1.Hidden](){ot.current[Ht].state="hidden"}}),ct.microTask(()=>{var Zt;!U(ot)&&ut.current&&((Zt=it.current)==null||Zt.call(it))}))}),ft=o$2($t=>{let zt=ot.current.find(({el:Ht})=>Ht===$t);return zt?zt.state!=="visible"&&(zt.state="visible"):ot.current.push({el:$t,state:"visible"}),()=>dt($t,A$1.Unmount)}),St=reactExports.useRef([]),Tt=reactExports.useRef(Promise.resolve()),kt=reactExports.useRef({enter:[],leave:[]}),jt=o$2(($t,zt,Ht)=>{St.current.splice(0),g&&(g.chains.current[zt]=g.chains.current[zt].filter(([Zt])=>Zt!==$t)),g==null||g.chains.current[zt].push([$t,new Promise(Zt=>{St.current.push(Zt)})]),g==null||g.chains.current[zt].push([$t,new Promise(Zt=>{Promise.all(kt.current[zt].map(([Bt,Ut])=>Ut)).then(()=>Zt())})]),zt==="enter"?Tt.current=Tt.current.then(()=>g==null?void 0:g.wait.current).then(()=>Ht(zt)):Ht(zt)}),Rt=o$2(($t,zt,Ht)=>{Promise.all(kt.current[zt].splice(0).map(([Zt,Bt])=>Bt)).then(()=>{var Zt;(Zt=St.current.shift())==null||Zt()}).then(()=>Ht(zt))});return reactExports.useMemo(()=>({children:ot,register:ft,unregister:dt,onStart:jt,onStop:Rt,wait:Tt,chains:kt}),[ft,dt,ot,jt,Rt,kt,Tt])}let de=reactExports.Fragment,fe=O$3.RenderStrategy;function Ae(et,g){var it,ot;let{transition:ut=!0,beforeEnter:ct,afterEnter:dt,beforeLeave:ft,afterLeave:St,enter:Tt,enterFrom:kt,enterTo:jt,entered:Rt,leave:$t,leaveFrom:zt,leaveTo:Ht,...Zt}=et,[Bt,Ut]=reactExports.useState(null),Kt=reactExports.useRef(null),Yt=ue(et),Jt=y$3(...Yt?[Kt,g,Ut]:g===null?[]:[g]),er=(it=Zt.unmount)==null||it?A$1.Unmount:A$1.Hidden,{show:tr,appear:rr,initial:hr}=De(),[ar,or]=reactExports.useState(tr?"visible":"hidden"),cr=He$1(),{register:gr,unregister:yr}=cr;n$3(()=>gr(Kt),[gr,Kt]),n$3(()=>{if(er===A$1.Hidden&&Kt.current){if(tr&&ar!=="visible"){or("visible");return}return u$4(ar,{hidden:()=>yr(Kt),visible:()=>gr(Kt)})}},[ar,Kt,gr,yr,tr,er]);let xr=l$1();n$3(()=>{if(Yt&&xr&&ar==="visible"&&Kt.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[Kt,ar,xr,Yt]);let dr=hr&&!rr,pr=rr&&tr&&hr,nr=reactExports.useRef(!1),ir=Te(()=>{nr.current||(or("hidden"),yr(Kt))},cr),mr=o$2(Ar=>{nr.current=!0;let kr=Ar?"enter":"leave";ir.onStart(Kt,kr,Tr=>{Tr==="enter"?ct==null||ct():Tr==="leave"&&(ft==null||ft())})}),lr=o$2(Ar=>{let kr=Ar?"enter":"leave";nr.current=!1,ir.onStop(Kt,kr,Tr=>{Tr==="enter"?dt==null||dt():Tr==="leave"&&(St==null||St())}),kr==="leave"&&!U(ir)&&(or("hidden"),yr(Kt))});reactExports.useEffect(()=>{Yt&&ut||(mr(tr),lr(tr))},[tr,Yt,ut]);let br=(()=>!(!ut||!Yt||!xr||dr))(),[,Er]=x$1(br,Bt,tr,{start:mr,end:lr}),Sr=m$4({ref:Jt,className:((ot=t$2(Zt.className,pr&&Tt,pr&&kt,Er.enter&&Tt,Er.enter&&Er.closed&&kt,Er.enter&&!Er.closed&&jt,Er.leave&&$t,Er.leave&&!Er.closed&&zt,Er.leave&&Er.closed&&Ht,!Er.transition&&tr&&Rt))==null?void 0:ot.trim())||void 0,...R$1(Er)}),_r=0;ar==="visible"&&(_r|=i.Open),ar==="hidden"&&(_r|=i.Closed),Er.enter&&(_r|=i.Opening),Er.leave&&(_r|=i.Closing);let wr=L$1();return React.createElement(M.Provider,{value:ir},React.createElement(c$1,{value:_r},wr({ourProps:Sr,theirProps:Zt,defaultTag:de,features:fe,visible:ar==="visible",name:"Transition.Child"})))}function Ie$1(et,g){let{show:it,appear:ot=!1,unmount:ut=!0,...ct}=et,dt=reactExports.useRef(null),ft=ue(et),St=y$3(...ft?[dt,g]:g===null?[]:[g]);l$1();let Tt=u$1();if(it===void 0&&Tt!==null&&(it=(Tt&i.Open)===i.Open),it===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[kt,jt]=reactExports.useState(it?"visible":"hidden"),Rt=Te(()=>{it||jt("hidden")}),[$t,zt]=reactExports.useState(!0),Ht=reactExports.useRef([it]);n$3(()=>{$t!==!1&&Ht.current[Ht.current.length-1]!==it&&(Ht.current.push(it),zt(!1))},[Ht,it]);let Zt=reactExports.useMemo(()=>({show:it,appear:ot,initial:$t}),[it,ot,$t]);n$3(()=>{it?jt("visible"):!U(Rt)&&dt.current!==null&&jt("hidden")},[it,Rt]);let Bt={unmount:ut},Ut=o$2(()=>{var Jt;$t&&zt(!1),(Jt=et.beforeEnter)==null||Jt.call(et)}),Kt=o$2(()=>{var Jt;$t&&zt(!1),(Jt=et.beforeLeave)==null||Jt.call(et)}),Yt=L$1();return React.createElement(M.Provider,{value:Rt},React.createElement(w.Provider,{value:Zt},Yt({ourProps:{...Bt,as:reactExports.Fragment,children:React.createElement(me,{ref:St,...Bt,...ct,beforeEnter:Ut,beforeLeave:Kt})},theirProps:{},defaultTag:reactExports.Fragment,features:fe,visible:kt==="visible",name:"Transition"})))}function Le(et,g){let it=reactExports.useContext(w)!==null,ot=u$1()!==null;return React.createElement(React.Fragment,null,!it&&ot?React.createElement(X$1,{ref:g,...et}):React.createElement(me,{ref:g,...et}))}let X$1=K(Ie$1),me=K(Ae),Fe=K(Le),ze=Object.assign(X$1,{Child:Fe,Root:X$1});var Oe=(et=>(et[et.Open=0]="Open",et[et.Closed=1]="Closed",et))(Oe||{}),he=(et=>(et[et.SetTitleId=0]="SetTitleId",et))(he||{});let Se={0(et,g){return et.titleId===g.id?et:{...et,titleId:g.id}}},k=reactExports.createContext(null);k.displayName="DialogContext";function O(et){let g=reactExports.useContext(k);if(g===null){let it=new Error(`<${et} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(it,O),it}return g}function Ie(et,g){return u$4(g.type,Se,et,g)}let V=K(function(et,g){let it=reactExports.useId(),{id:ot=`headlessui-dialog-${it}`,open:ut,onClose:ct,initialFocus:dt,role:ft="dialog",autoFocus:St=!0,__demoMode:Tt=!1,unmount:kt=!1,...jt}=et,Rt=reactExports.useRef(!1);ft=function(){return ft==="dialog"||ft==="alertdialog"?ft:(Rt.current||(Rt.current=!0,console.warn(`Invalid role [${ft}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let $t=u$1();ut===void 0&&$t!==null&&(ut=($t&i.Open)===i.Open);let zt=reactExports.useRef(null),Ht=y$3(zt,g),Zt=n$1(zt),Bt=ut?0:1,[Ut,Kt]=reactExports.useReducer(Ie,{titleId:null,descriptionId:null,panelRef:reactExports.createRef()}),Yt=o$2(()=>ct(!1)),Jt=o$2(lr=>Kt({type:0,id:lr})),er=l$1()?Bt===0:!1,[tr,rr]=te$1(),hr={get current(){var lr;return(lr=Ut.panelRef.current)!=null?lr:zt.current}},ar=b(),{resolveContainers:or}=R({mainTreeNode:ar,portals:tr,defaultContainers:[hr]}),cr=$t!==null?($t&i.Closing)===i.Closing:!1;y$2(Tt||cr?!1:er,{allowed:o$2(()=>{var lr,br;return[(br=(lr=zt.current)==null?void 0:lr.closest("[data-headlessui-portal]"))!=null?br:null]}),disallowed:o$2(()=>{var lr;return[(lr=ar==null?void 0:ar.closest("body > *:not(#headlessui-portal-root)"))!=null?lr:null]})}),R$2(er,or,lr=>{lr.preventDefault(),Yt()}),a$2(er,Zt==null?void 0:Zt.defaultView,lr=>{lr.preventDefault(),lr.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),Yt()}),f$2(Tt||cr?!1:er,Zt,or),m$2(er,zt,Yt);let[gr,yr]=w$3(),xr=reactExports.useMemo(()=>[{dialogState:Bt,close:Yt,setTitleId:Jt,unmount:kt},Ut],[Bt,Ut,Yt,Jt,kt]),dr=reactExports.useMemo(()=>({open:Bt===0}),[Bt]),pr={ref:Ht,id:ot,role:ft,tabIndex:-1,"aria-modal":Tt?void 0:Bt===0?!0:void 0,"aria-labelledby":Ut.titleId,"aria-describedby":gr,unmount:kt},nr=!f$1(),ir=x.None;er&&!Tt&&(ir|=x.RestoreFocus,ir|=x.TabLock,St&&(ir|=x.AutoFocus),nr&&(ir|=x.InitialFocus));let mr=L$1();return React.createElement(s$1,null,React.createElement(l,{force:!0},React.createElement(re$1,null,React.createElement(k.Provider,{value:xr},React.createElement(X$2,{target:zt},React.createElement(l,{force:!1},React.createElement(yr,{slot:dr},React.createElement(rr,null,React.createElement(ye,{initialFocus:dt,initialFocusFallback:zt,containers:or,features:ir},React.createElement(C$1,{value:Yt},mr({ourProps:pr,theirProps:jt,slot:dr,defaultTag:Me,features:Ge,visible:Bt===0,name:"Dialog"})))))))))))}),Me="div",Ge=O$3.RenderStrategy|O$3.Static;function ke(et,g){let{transition:it=!1,open:ot,...ut}=et,ct=u$1(),dt=et.hasOwnProperty("open")||ct!==null,ft=et.hasOwnProperty("onClose");if(!dt&&!ft)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!dt)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!ft)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!ct&&typeof et.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${et.open}`);if(typeof et.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${et.onClose}`);return(ot!==void 0||it)&&!ut.static?React.createElement(O$1,null,React.createElement(ze,{show:ot,transition:it,unmount:ut.unmount},React.createElement(V,{ref:g,...ut}))):React.createElement(O$1,null,React.createElement(V,{ref:g,open:ot,...ut}))}let we="div";function Be(et,g){let it=reactExports.useId(),{id:ot=`headlessui-dialog-panel-${it}`,transition:ut=!1,...ct}=et,[{dialogState:dt,unmount:ft},St]=O("Dialog.Panel"),Tt=y$3(g,St.panelRef),kt=reactExports.useMemo(()=>({open:dt===0}),[dt]),jt=o$2(Zt=>{Zt.stopPropagation()}),Rt={ref:Tt,id:ot,onClick:jt},$t=ut?Fe:reactExports.Fragment,zt=ut?{unmount:ft}:{},Ht=L$1();return React.createElement($t,{...zt},Ht({ourProps:Rt,theirProps:ct,slot:kt,defaultTag:we,name:"Dialog.Panel"}))}let Ue="div";function He(et,g){let{transition:it=!1,...ot}=et,[{dialogState:ut,unmount:ct}]=O("Dialog.Backdrop"),dt=reactExports.useMemo(()=>({open:ut===0}),[ut]),ft={ref:g,"aria-hidden":!0},St=it?Fe:reactExports.Fragment,Tt=it?{unmount:ct}:{},kt=L$1();return React.createElement(St,{...Tt},kt({ourProps:ft,theirProps:ot,slot:dt,defaultTag:Ue,name:"Dialog.Backdrop"}))}let Ne="h2";function We(et,g){let it=reactExports.useId(),{id:ot=`headlessui-dialog-title-${it}`,...ut}=et,[{dialogState:ct,setTitleId:dt}]=O("Dialog.Title"),ft=y$3(g);reactExports.useEffect(()=>(dt(ot),()=>dt(null)),[ot,dt]);let St=reactExports.useMemo(()=>({open:ct===0}),[ct]),Tt={ref:ft,id:ot};return L$1()({ourProps:Tt,theirProps:ut,slot:St,defaultTag:Ne,name:"Dialog.Title"})}let $e=K(ke),je=K(Be),Dt=K(He),Ye=K(We),yt=Object.assign($e,{Panel:je,Title:Ye,Description:H$1});const headerLogo="/assets/Robot-AI-520a08a2.svg",ebookCover="/assets/thrive-on-threads-cover-22daceb1.jpg",navLinks=[{href:"#how",label:"How it works"},{href:"#pricing",label:"Pricing"},{href:"sign-up",label:"Sign Up"},{href:"contact",label:"Contact Us"},{href:"shop",label:"Shop"},{href:"login",label:"Login"}],cannedPrompts={beginner:[{label:" Social Media Growth Guide",text:"Write a 5-page lead magnet teaching small business owners how to grow their social media following with organic content, engagement, and consistency strategies."},{label:" Email Marketing Mastery",text:"Create a detailed guide on building and nurturing an email list that converts leads into loyal customers with proven automation techniques."},{label:" Personal Branding Blueprint",text:"Write a 5-page blueprint showing entrepreneurs how to define their brand identity, build authority online, and attract ideal clients."},{label:" Design Secrets for Non-Designers",text:"Generate a lead magnet teaching beginners how to design professional graphics using free tools like Canva, including typography and color tips."},{label:" Content Creation Starter Pack",text:"Write a detailed guide helping creators build a content calendar, repurpose videos, and plan content for multiple platforms efficiently."},{label:" The Beginners Guide to Digital Products",text:"Create a 5-page guide explaining how to turn skills into profitable digital products like eBooks, courses, or templates."},{label:" Productivity Hacks for Creators",text:"Generate a guide full of time-saving systems, tools, and automation tricks that help creators stay consistent and organized."},{label:" 7 Steps to Launch Your Online Business",text:"Write a step-by-step roadmap for beginners to start an online business, from idea validation to first sale."},{label:" The Ultimate AI Prompt Guide",text:"Create a 5-page lead magnet showing users how to craft better AI prompts for marketing, writing, and design workflows."},{label:" Monetize Your Music Online",text:"Write a guide showing independent musicians how to sell music, build fanbases, and create recurring revenue from digital content."}],professional:[{label:" Build Your First Website",text:"Create a simple 5-page beginner guide teaching small businesses how to plan, design, and launch their first website using modern no-code tools."},{label:" Create & Sell Digital Templates",text:"Write a guide explaining how to design and sell Canva, Notion, or Google Docs templates that bring consistent passive income."},{label:" Mastering Video Marketing",text:"Generate a 5-page lead magnet teaching creators how to plan, shoot, and promote short-form videos that build trust and conversions."},{label:" Branding Psychology 101",text:"Write a lead magnet breaking down the psychology of color, typography, and emotion in brand design."},{label:" Freelancer Success Playbook",text:"Create a guide showing freelancers how to price their services, close clients, and scale into an agency model."},{label:" The Digital Marketing Roadmap",text:"Write a complete 5-step roadmap for entrepreneurs to master content, SEO, ads, and email marketing for consistent traffic."},{label:" Copywriting for Conversions",text:"Generate a guide that teaches beginners the art of persuasive writing  from headlines to calls-to-action."},{label:" Funnel Building Simplified",text:"Write a 5-page walkthrough on building high-converting funnels using lead magnets, tripwires, and upsells."},{label:" Automate Your Business",text:"Create a guide showing small business owners how to automate repetitive tasks using Zapier, AI, and scheduling tools."},{label:" Data-Driven Marketing",text:"Write a beginner-friendly guide teaching business owners how to track analytics, interpret data, and improve conversions."}],expert:[{label:" The Psychology of Persuasion in Marketing",text:"Write a 5-page academic-style guide exploring how cognitive biases, emotional triggers, and storytelling affect consumer decision-making in marketing and branding."},{label:" The Science of Habit-Building for Creators",text:"Develop a 5-page guide teaching creators how to build long-term consistency by applying behavioral science and habit-formation frameworks to their creative routines."},{label:" The Economics of Attention",text:"Write a thought-provoking lead magnet analyzing how attention has become a modern currency, explaining scarcity, virality, and monetization in the digital economy."},{label:" Design Thinking for Business Innovation",text:"Generate a 5-page teaching resource showing entrepreneurs how to use design thinking methodology to solve business problems and create user-centered products."},{label:" Strategic Positioning for Small Brands",text:"Write an MBA-level breakdown of how to position a brand within competitive markets using differentiation, value perception, and storytelling."},{label:" The Art of Thought Leadership",text:"Create a guide for experts on how to transform knowledge into influence by publishing insights, frameworks, and educational content that attract authority."},{label:" The Systems of Scale",text:"Write a detailed 5-page framework teaching small teams how to transition from chaos to structure using documented workflows, automation, and SOPs."},{label:" Pricing Psychology & Value Perception",text:"Develop a lead magnet explaining how anchoring, decoy pricing, and perceived value shape buyer decisions  with real-world examples and ethical applications."},{label:" The Future of AI in Creative Work",text:"Write an educational report exploring how AI tools are transforming creative industries, ethics, and productivity  with actionable guidance for adaptation."},{label:" Web Design Principles That Convert",text:"Generate a professional-level guide that breaks down visual hierarchy, white space, and conversion-driven design for modern web experiences."},{label:" The Strategic Content Framework",text:"Write a 5-page plan teaching creators how to map content pillars, storytelling arcs, and audience journeys for consistent long-term growth."},{label:" The History of Branding  and What It Teaches Modern Creators",text:"Develop a mini-course-style lead magnet that compares legacy branding (Coca-Cola, Nike, Apple) with modern personal branding on social platforms."},{label:" Ethics & Authenticity in Digital Marketing",text:"Write a reflective guide on maintaining authenticity, transparency, and trust in a world of automation, influencer deals, and AI content."},{label:" Business Models for the Digital Age",text:"Create a 5-page breakdown of proven online business models  subscription, affiliate, info-products, SaaS  including their pros, cons, and margins."},{label:" The Creators Intellectual Property Handbook",text:"Write a guide explaining copyright, licensing, and how creators can protect their work legally when distributing digital products and media."},{label:" Storytelling Frameworks That Sell",text:"Generate a 5-page educational guide unpacking narrative structures like the Heros Journey, PAS, and StoryBrand for use in sales pages and videos."},{label:" The Analytics of Growth",text:"Teach business owners how to interpret engagement metrics, user cohorts, and conversion funnels like a data scientist to make smarter creative decisions."},{label:" Building Community-Driven Brands",text:"Write a 5-page resource on fostering belonging, trust, and shared identity around a brand or product using modern community platforms."},{label:" The Architecture of Influence",text:"Develop a high-level guide mapping how influence spreads through networks, social proof, and credibility  with tactics for ethical persuasion."},{label:" The Modern Creative MBA",text:"Write a 5-page masterclass that condenses key principles of marketing, finance, operations, and leadership for modern digital creators running personal brands."}]},themes=[{label:"Modern Minimal",value:"modern",preview:"linear-gradient(135deg, #00E07A 0%, #670fe7 100%)",textColor:"#ffffff",bg:"#fefefe"},{label:"Classic Elegant",value:"classic",preview:"linear-gradient(135deg, #000000 0%, #000000 100%)",textColor:"#FFD700",bg:"#000000"},{label:"Bold Creative",value:"bold",preview:"linear-gradient(135deg, #EC4899 0%, #8B5CF6 100%)",textColor:"#fff",bg:"#0f0f0f"}],themeStyles={modern:{background:"linear-gradient(90deg, #00E07A 0%, #670fe7 100%)",color:"#fff",border:"1px solid rgba(255,255,255,0.2)"},classic:{background:"#000",color:"#FFD700",border:"1px solid #FFD700"},bold:{background:"linear-gradient(90deg, #EC4899 0%, #8B5CF6 100%)",color:"#fff",border:"1px solid rgba(255,255,255,0.2)"}};typeof SuppressedError=="function"&&SuppressedError;async function invoke(et,g={},it){return window.__TAURI_INTERNALS__.invoke(et,g,it)}var BundleType;(function(et){et.Nsis="nsis",et.Msi="msi",et.Deb="deb",et.Rpm="rpm",et.AppImage="appimage",et.App="app"})(BundleType||(BundleType={}));async function getVersion(){return invoke("plugin:app|version")}const Nav=()=>{const{user:et,logout:g}=useAuth(),it=useNavigate(),[ot,ut]=reactExports.useState(!1),[ct,dt]=reactExports.useState(!1),[ft,St]=reactExports.useState(!1),Tt=useLocation();reactExports.useEffect(()=>{async function jt(){try{await getVersion(),ut(!0)}catch{ut(!1)}}jt()},[]),reactExports.useEffect(()=>{const jt=()=>{window.scrollY>50?dt(!0):dt(!1)};return window.addEventListener("scroll",jt),()=>window.removeEventListener("scroll",jt)},[]),reactExports.useEffect(()=>{ft?(document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.width="100%"):(document.body.style.overflow="",document.body.style.position="",document.body.style.width="")},[ft]);const kt=navLinks.filter(jt=>!(jt.label==="Pricing"&&Tt.pathname!=="/home"||jt.label==="Contact Us"&&Tt.pathname==="/contact"||ot&&jt.label==="Shop"));return jsxRuntimeExports.jsxs("div",{className:`bg-[#0b0f1a] ${ct?"bg-opacity-90":"bg-opacity-0"} transition duration-300 ease-in-out fixed top-0 left-0 w-full z-50`,children:[jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:jsxRuntimeExports.jsxs("nav",{className:"flex items-center justify-between px-4 h-[72px]",children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0",children:jsxRuntimeExports.jsx("a",{href:"/",children:jsxRuntimeExports.jsx(motion.img,{src:headerLogo,width:50,height:50,initial:{opacity:0},animate:{opacity:1},transition:{duration:4.5,delay:2}})})}),jsxRuntimeExports.jsx("ul",{className:"hidden md:flex space-x-8 list-none lead-text",children:kt.map(jt=>{var Rt;return et&&(jt.label==="Sign Up"||jt.label==="Pricing"||jt.label==="How it works"||jt.label==="Contact Us"||jt.label==="Shop")?null:jt.label==="Login"&&et?jsxRuntimeExports.jsxs("li",{className:"flex items-center space-x-6",children:[jsxRuntimeExports.jsx(Link,{to:"/dashboard",className:"font-montserrat leading-normal text-md text-white-400 hover:text-white transition",children:((Rt=et.name)==null?void 0:Rt.split(" ")[0])||"User"}),jsxRuntimeExports.jsx("button",{onClick:g,className:"font-montserrat leading-normal text-md text-white-400 hover:text-white transition",children:"Logout"})]},"user-dashboard"):jsxRuntimeExports.jsx("li",{className:"flex items-center",children:jsxRuntimeExports.jsx("a",{href:jt.href,onClick:$t=>{if(jt.href.startsWith("#")){$t.preventDefault();const zt=document.querySelector(jt.href);Tt.pathname==="/"||Tt.pathname==="/home"?zt&&zt.scrollIntoView({behavior:"smooth",block:"start"}):it(`/home${jt.href}`)}},className:"font-montserrat leading-normal text-md text-white-400 hover:text-white cursor-pointer transition",children:jt.label})},jt.label)})}),jsxRuntimeExports.jsx("div",{className:"md:hidden",children:jsxRuntimeExports.jsx("button",{onClick:()=>St(!ft),className:"text-white focus:outline-none z-50 relative",children:ft?jsxRuntimeExports.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):jsxRuntimeExports.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16m-7 6h7"})})})})]})}),jsxRuntimeExports.jsx(ze,{show:ft,enter:"transition duration-300 ease-out",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition duration-200 ease-in",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:jt=>jsxRuntimeExports.jsxs("div",{ref:jt,className:"md:hidden fixed top-0 left-0 w-full h-screen bg-bioModal z-40 flex flex-col items-center pt-24 space-y-4 lead-text",children:[kt.map(Rt=>{var $t;return et&&(Rt.label==="Sign Up"||Rt.label==="Pricing"||Rt.label==="How it works"||Rt.label==="Contact Us"||Rt.label==="Shop")?null:Rt.label==="Login"&&et?jsxRuntimeExports.jsx(Link,{to:"/dashboard",onClick:()=>St(!1),className:"font-montserrat text-md text-white-400 hover:text-white transition-all",children:(($t=et.name)==null?void 0:$t.split(" ")[0])||"User"},"user-dashboard"):jsxRuntimeExports.jsx("a",{href:Rt.href,onClick:zt=>handleNavClick(zt,Rt.href),className:"font-montserrat text-md text-white-400 hover:text-white transition-all cursor-pointer",children:Rt.label},Rt.label)}),et&&jsxRuntimeExports.jsx("button",{onClick:()=>{g(),St(!1)},className:"font-montserrat text-md text-white-400 hover:text-white transition-all",children:"Logout"})]})})]})},NotFound=()=>jsxRuntimeExports.jsxs("section",{className:"max-xl h-screen bg-gradient-to-r from-black to-silver",children:[jsxRuntimeExports.jsx("div",{className:" flex justify-center items-center",children:jsxRuntimeExports.jsx(Lottie,{className:"w-[500px] h-[500px]",animationData:notFound,loop:!0})}),jsxRuntimeExports.jsx("h3",{className:"font-palanquin padding-x text-center text-8xl font-bold text-phlokkGreen",children:"4 0 4"}),jsxRuntimeExports.jsx("p",{className:"m-auto mt-4 max-w-lg text-center notFound-text",children:"Page does not exist!"}),jsxRuntimeExports.jsx("div",{className:"mt-24 flex-1 justify-center items-center text-center text-white max-lg:flex-col gap-14",children:jsxRuntimeExports.jsxs("h1",{children:["Go back to ",jsxRuntimeExports.jsxs(Link,{to:"/",children:[" ",jsxRuntimeExports.jsx("span",{className:"text-phlokkGreen",children:"Homepage"})]})]})})]});function ThankYou(){const{search:et}=useLocation(),g=reactExports.useMemo(()=>new URLSearchParams(et).get("session_id"),[et]),it=g?`/api/downloads/${g}`:null;return jsxRuntimeExports.jsx("main",{className:"min-h-screen bg-[#0b0b0b] text-white flex items-center justify-center px-6",children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-xl text-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl md:text-4xl font-bold",children:"Thank you for your purchase!"}),jsxRuntimeExports.jsxs("p",{className:"mt-3 text-slate-300",children:["Your download is ready",it?"":", but we couldnt find a session id","."]}),it?jsxRuntimeExports.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row items-center justify-center gap-4",children:[jsxRuntimeExports.jsx("a",{href:it,className:"inline-flex items-center justify-center rounded-xl px-6 py-3 font-semibold bg-phlokkGreen text-black hover:opacity-90 transition",children:"Download Now"}),jsxRuntimeExports.jsx("a",{href:it,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center rounded-xl px-6 py-3 font-semibold border border-white/20 hover:bg-white/10 transition",children:"Open in New Tab"})]}):jsxRuntimeExports.jsxs("div",{className:"mt-8 space-y-3",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm text-slate-400",children:["We expected a URL like ",jsxRuntimeExports.jsx("code",{children:"/thank-you?session_id=cs_..."}),"."]}),jsxRuntimeExports.jsx(Link,{to:"/",className:"inline-flex items-center justify-center rounded-xl px-6 py-3 font-semibold border border-white/20 hover:bg-white/10 transition",children:"Go Home"})]}),jsxRuntimeExports.jsx("div",{className:"mt-10 text-xs text-slate-500",children:"Having trouble? Forward your receipt email to support and well help."})]})})}const Terms=()=>jsxRuntimeExports.jsx("div",{className:"padding",children:jsxRuntimeExports.jsxs("div",{className:"max-container",children:[jsxRuntimeExports.jsx("div",{className:"header-title-text",children:"Terms and Conditions"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"These Terms and Conditions (Agreement) govern your access to and use of the Cre8tly Studio website, platform, and all related products and services (collectively, Services). By creating an account, making a purchase, or otherwise using our Services, you (User, you, or your) agree to be legally bound by this Agreement. If you do not agree, you must discontinue use of our Services immediately."}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h1",{className:"document-title-text",children:"Ownership and License"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"Cre8tly Studio owns and retains all rights, title, and interest in the Services, including all software, source code, algorithms, designs, trade secrets, and intellectual property. Your purchase provides a limited, non-transferable, non-exclusive license to use the Services for your personal or business needs in accordance with this Agreement. No ownership rights are transferred to you. Any attempt to copy, reverse-engineer, resell, or distribute the software or digital output without written permission is strictly prohibited."}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h1",{className:"document-title-text",children:"Accounts and Membership"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"You must be at least 18 years old to use our Services. You are responsible for providing accurate account information and maintaining the confidentiality of your login credentials. You are fully responsible for all activity that occurs under your account. We reserve the right to suspend or terminate accounts that provide false information, violate these terms, or attempt to bypass usage limits (including the maximum 25-page PDF limit per slot)."}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h1",{className:"document-title-text",children:"Purchases and Payments"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"All purchases, subscriptions, and credits made through our platform are final, as outlined in our Refund Policy. By making a purchase, you agree to provide valid and accurate payment details. We reserve the right to refuse or cancel any order suspected of fraud or unauthorized use. Pricing is subject to change at our discretion."}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h1",{className:"document-title-text",children:"Digital Products and Slots"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"Lead magnet slots and generated PDFs are digital products licensed for your own use. You may not resell, redistribute, or use them for automated scraping or mass content generation beyond what is permitted by your plan. Slots cannot be exchanged, refunded, or rolled over once purchased. Misuse of slots, including attempts to exceed system safeguards, may result in account suspension without refund."}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h1",{className:"document-title-text",children:"Prohibited Uses"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"You may not use our Services for any unlawful purpose, to attempt unauthorized access to our systems, to exceed usage caps, to infringe on intellectual property rights, or to interfere with the operation of the Services. We reserve the right to suspend or terminate accounts engaged in abuse, fraud, or misuse."}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h1",{className:"document-title-text",children:"Intellectual Property"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"All software, designs, branding, content, and related intellectual property are owned exclusively by Cre8tly Studio or its licensors. You may not reproduce, republish, modify, or exploit any part of the Services without our express written consent."}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h1",{className:"document-title-text",children:"Disclaimer of Warranties"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"The Services are provided as is and as available without any warranties of any kind, express or implied. We do not guarantee that the Services will be uninterrupted, error-free, or suitable for your specific purpose. You assume full responsibility for your use of the Services."}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h1",{className:"document-title-text",children:"Limitation of Liability"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"To the fullest extent permitted by law, Cre8tly Studio, its owners, employees, and affiliates shall not be liable for any indirect, incidental, consequential, or punitive damages, including but not limited to loss of profits, business interruption, or data loss, arising out of or related to your use of the Services."}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h1",{className:"document-title-text",children:"Changes to Terms"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"We may revise these Terms at any time by posting an updated version on our website. Continued use of the Services after updates constitutes acceptance of the revised Terms."}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h1",{className:"document-title-text",children:"Governing Law"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"This Agreement shall be governed by and construed under the laws of Tennessee, United States, without regard to its conflict of law principles. Any disputes shall be resolved exclusively in the courts of Tennessee, United States."}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h1",{className:"document-title-text",children:"Contact Us"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"For questions regarding these Terms and Conditions, please contact us at:"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"legal@cre8tlystudio.com"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"This document was last updated on August 26, 2025."}),jsxRuntimeExports.jsx("br",{})]})}),Privacy=()=>jsxRuntimeExports.jsx("div",{className:"padding",children:jsxRuntimeExports.jsxs("div",{className:"max-container",children:[jsxRuntimeExports.jsx("div",{className:"header-title-text",children:"Privacy Policy"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"Cre8tly Studio respects your privacy and is committed to protecting it in accordance with this Privacy Policy (Policy). This Policy explains how we collect, use, and safeguard your personal information when you visit our website, purchase subscriptions or credits, or use any of our software services (Services)."}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"By accessing or using Cre8tly Studios Services, you acknowledge that you have read and understood this Policy and agree to its terms. If you do not agree, please do not use our Services."}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h1",{className:"document-title-text",children:"Information We Collect"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs("p",{className:"document-p-text",children:["We may collect personal information you provide directly to us, such as:",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{})," Name and contact information (email, phone, billing address)",jsxRuntimeExports.jsx("br",{})," Account login details (if you create an account)",jsxRuntimeExports.jsx("br",{})," Payment and billing information (processed securely by third-party providers)",jsxRuntimeExports.jsx("br",{})," Prompts, themes, and preferences you submit to generate lead magnets or PDFs",jsxRuntimeExports.jsx("br",{})," Device and usage data (IP address, browser type, access times)",jsxRuntimeExports.jsx("br",{})]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h1",{className:"document-title-text",children:"How We Use Your Information"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs("p",{className:"document-p-text",children:["We may use the information we collect for purposes including:",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{})," To process payments and deliver your purchased slots or PDFs",jsxRuntimeExports.jsx("br",{})," To provide, operate, and improve our Services",jsxRuntimeExports.jsx("br",{})," To personalize your experience (themes, saved prompts)",jsxRuntimeExports.jsx("br",{})," To respond to customer inquiries and provide support",jsxRuntimeExports.jsx("br",{})," To send updates, promotional offers, or newsletters (with your consent)",jsxRuntimeExports.jsx("br",{})," To comply with legal obligations",jsxRuntimeExports.jsx("br",{})," To detect and prevent fraud or misuse of our Services",jsxRuntimeExports.jsx("br",{})]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h1",{className:"document-title-text",children:"Payment Processing"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"Payments for subscriptions, slots, or digital products are processed securely through third-party providers (such as Stripe). Cre8tly Studio does not store your full payment details. Payment providers may collect certain personal data in accordance with their own privacy policies, which we encourage you to review."}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h1",{className:"document-title-text",children:"Cookies and Tracking"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"Our website may use cookies and similar technologies to improve your experience, analyze site traffic, and deliver personalized content. You can control cookie preferences through your browser settings."}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h1",{className:"document-title-text",children:"Data Retention"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"We will retain your personal information only for as long as necessary to fulfill the purposes outlined in this Policy, comply with legal obligations, resolve disputes, and enforce agreements. After this period, your data will be securely deleted or anonymized."}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h1",{className:"document-title-text",children:"Your Rights"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs("p",{className:"document-p-text",children:["Depending on your location, you may have rights under applicable data protection laws (such as GDPR or CCPA). These may include:",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{})," The right to access, correct, or delete your personal information",jsxRuntimeExports.jsx("br",{})," The right to object to processing or withdraw consent",jsxRuntimeExports.jsx("br",{})," The right to request data portability",jsxRuntimeExports.jsx("br",{})," The right to lodge a complaint with a data protection authority",jsxRuntimeExports.jsx("br",{})]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h1",{className:"document-title-text",children:"Childrens Privacy"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"Cre8tly Studio does not knowingly collect personal information from children under the age of 18. If you believe we may have collected such information, please contact us immediately and we will delete it."}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h1",{className:"document-title-text",children:"Security"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"We implement reasonable technical and organizational measures to protect your personal information. However, no system can be 100% secure. You are responsible for maintaining the confidentiality of any account credentials and taking steps to protect your devices."}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h1",{className:"document-title-text",children:"Changes to This Policy"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"We may update this Privacy Policy from time to time. Updates will be posted on this page with a revised last updated date. Continued use of our Services after changes indicates acceptance of the revised Policy."}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h1",{className:"document-title-text",children:"Contact Us"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"If you have any questions, concerns, or requests regarding this Privacy Policy, please contact us at:"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"privacy@cre8tlystudio.com"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"This document was last updated on August 26, 2025."}),jsxRuntimeExports.jsx("br",{})]})}),Refund=()=>jsxRuntimeExports.jsx("div",{className:"padding",children:jsxRuntimeExports.jsxs("div",{className:"max-container",children:[jsxRuntimeExports.jsx("div",{className:"header-title-text",children:"Refund Policy"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs("p",{className:"document-p-text",children:["At Cre8tly Studio, all purchases of subscriptions, credits, and lead magnet slots are final. Because our Services involve the instant creation and delivery of digital content, ",jsxRuntimeExports.jsx("strong",{children:"no refunds will be issued under any circumstances."})]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h1",{className:"document-title-text",children:"All Sales Are Final"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs("p",{className:"document-p-text",children:["By completing a purchase, you acknowledge and agree that:",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{})," You are purchasing access to digital services and instantly usable content.",jsxRuntimeExports.jsx("br",{})," We do not provide refunds or exchanges for unused slots, cancelled accounts, or change of mind.",jsxRuntimeExports.jsx("br",{})," Errors caused by incorrect prompt entry, theme selection, or user setup are not eligible for refunds.",jsxRuntimeExports.jsx("br",{})]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h1",{className:"document-title-text",children:"Service Quality"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"While no refunds are available, if you experience a technical problem with your order (such as the PDF not generating correctly), please contact us. Our team will investigate and, where appropriate, provide a replacement or re-issue the digital content you purchased."}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("h1",{className:"document-title-text",children:"Contact Us"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"For questions or technical support regarding your order, you can reach us at:"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"support@cre8tlystudio.com"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"This document was last updated on August 26, 2025."}),jsxRuntimeExports.jsx("br",{})]})}),Cookie=()=>jsxRuntimeExports.jsx("div",{className:"padding",children:jsxRuntimeExports.jsxs("div",{className:"max-container",children:[jsxRuntimeExports.jsx("div",{className:"header-title-text",children:"Cookie Policy"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"This Cookie Policy (Policy) explains how Cre8tly Studio (we, us, or our) uses cookies and similar technologies when you visit our website (Website) or use our related products and services (Services), including generating lead magnets, accessing customer dashboards, or making purchases. By using our Website, you agree to the use of cookies as described in this Policy. For details on how we handle personal data, please also review our Privacy Policy."}),jsxRuntimeExports.jsx("h1",{className:"document-title-text",children:"Types of cookies we use"}),jsxRuntimeExports.jsxs("p",{className:"document-p-text",children:[" ",jsxRuntimeExports.jsx("strong",{children:"Essential cookies"}),": Required for logging into your account, keeping sessions secure, processing payments, and generating your purchased lead magnets.",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{})," ",jsxRuntimeExports.jsx("strong",{children:"Preferences cookies"}),": Remember your settings (such as selected themes or region) to make your experience smoother.",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{})," ",jsxRuntimeExports.jsx("strong",{children:"Analytics cookies"}),": Help us understand how customers use dashboards, downloads, and checkout so we can improve our Services.",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{})," ",jsxRuntimeExports.jsx("strong",{children:"Marketing cookies"}),": May be used (if you opt in) to deliver personalized offers or measure the performance of ad campaigns."]}),jsxRuntimeExports.jsx("h1",{className:"document-title-text",children:"Managing cookies"}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"You can control or disable cookies in your browser settings. Please note that blocking essential cookies may prevent checkout, login, or access to your purchased lead magnets from working properly."}),jsxRuntimeExports.jsx("h1",{className:"document-title-text",children:"Changes to this Policy"}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"We may update this Cookie Policy from time to time. Any updates will be posted on this page with a new last revised date. Continued use of our Website after changes means you accept the updated Policy."}),jsxRuntimeExports.jsx("h1",{className:"document-title-text",children:"Contact Us"}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"If you have any questions about this Cookie Policy, please contact us at:"}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"legal@cre8tlystudio.com"}),jsxRuntimeExports.jsx("p",{className:"document-p-text",children:"This document was last updated on October 3rd, 2025."}),jsxRuntimeExports.jsx("br",{})]})}),faqs=[{question:"How do I become a Verified Creator on Phlokk?",answer:"Message Customer Support at support@phlokk.com for all questions related to Verification."},{question:"Whats included with verification?",answer:"Verified Creators get increased visibility, a verified badge, and access to VIP phone support."},{question:"Can I recover a deleted account?",answer:"If you requested account deletion, you have 30 days to reactivate it before it is permanently removed. After 30 days, you will no longer have access to your old account or any of its data."},{question:"Where can I report bugs or abusive content?",answer:"Use the in-app report tools, or email support@phlokk.com."},{question:"How do I reset my password?",answer:"Go to the login screen, tap 'Forgot Password?', and follow the instructions sent to your email."},{question:"What are Circles?",answer:"Circles are private groups where members can post, chat, and share content with a trusted community."},{question:"How do I upload a video?",answer:"Tap the camera icon button on the main profile screen or main feed of app, record or upload a video, then edit, tag, and post it."},{question:"How do I earn money on Phlokk?",answer:"Monetization coming soon!"}],SupportPage=()=>{const[et,g]=reactExports.useState(null),it=ot=>{g(et===ot?null:ot)};return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center px-4 py-12 overflow-y-auto",children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-3xl bg-bioModal p-8 rounded-2xl shadow-lg border border-gray-800 flex flex-col items-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-white mb-6 text-center",children:"Phlokk Support"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 mb-6 text-center max-w-lg",children:"Need help or have questions? Our team is here to support you."}),jsxRuntimeExports.jsxs("div",{className:"mb-8 w-full",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-white mb-1",children:"Phone Support"}),jsxRuntimeExports.jsxs("p",{className:"text-gray-300 leading-relaxed",children:["Verified Creators can call us at ",jsxRuntimeExports.jsx("strong",{className:"text-white",children:"1 (888) 332-0774"}),jsxRuntimeExports.jsx("br",{}),"MondayFriday: 9am5pm ET",jsxRuntimeExports.jsx("br",{}),"Saturday: 11am5pm ET"]})]}),jsxRuntimeExports.jsxs("div",{className:"mb-10 w-full",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-white mb-1",children:" Email Support"}),jsxRuntimeExports.jsxs("p",{className:"text-gray-300",children:["Email us at"," ",jsxRuntimeExports.jsx("a",{href:"mailto:support@phlokk.com",className:"text-blue-500 underline",children:"support@phlokk.com"})]})]}),jsxRuntimeExports.jsxs("div",{className:"w-full",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-white mb-4 text-center",children:"Frequently Asked Questions"}),jsxRuntimeExports.jsx("div",{className:"space-y-4",children:faqs.map((ot,ut)=>jsxRuntimeExports.jsxs("div",{className:"border border-gray-700 rounded-lg",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>it(ut),className:"w-full text-left px-4 py-3 bg-bioModal text-white font-medium hover:bg-gray-800 transition flex justify-between items-center",children:[jsxRuntimeExports.jsx("span",{children:ot.question}),jsxRuntimeExports.jsx("span",{className:"ml-2",children:et===ut?"":"+"})]}),et===ut&&jsxRuntimeExports.jsx("div",{className:"px-4 py-3 text-gray-400 border-t border-gray-700",children:ot.answer})]},ut))})]})]})})};function listCacheClear$1(){this.__data__=[],this.size=0}var _listCacheClear=listCacheClear$1;function eq$2(et,g){return et===g||et!==et&&g!==g}var eq_1=eq$2,eq$1=eq_1;function assocIndexOf$4(et,g){for(var it=et.length;it--;)if(eq$1(et[it][0],g))return it;return-1}var _assocIndexOf=assocIndexOf$4,assocIndexOf$3=_assocIndexOf,arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete$1(et){var g=this.__data__,it=assocIndexOf$3(g,et);if(it<0)return!1;var ot=g.length-1;return it==ot?g.pop():splice.call(g,it,1),--this.size,!0}var _listCacheDelete=listCacheDelete$1,assocIndexOf$2=_assocIndexOf;function listCacheGet$1(et){var g=this.__data__,it=assocIndexOf$2(g,et);return it<0?void 0:g[it][1]}var _listCacheGet=listCacheGet$1,assocIndexOf$1=_assocIndexOf;function listCacheHas$1(et){return assocIndexOf$1(this.__data__,et)>-1}var _listCacheHas=listCacheHas$1,assocIndexOf=_assocIndexOf;function listCacheSet$1(et,g){var it=this.__data__,ot=assocIndexOf(it,et);return ot<0?(++this.size,it.push([et,g])):it[ot][1]=g,this}var _listCacheSet=listCacheSet$1,listCacheClear=_listCacheClear,listCacheDelete=_listCacheDelete,listCacheGet=_listCacheGet,listCacheHas=_listCacheHas,listCacheSet=_listCacheSet;function ListCache$4(et){var g=-1,it=et==null?0:et.length;for(this.clear();++g<it;){var ot=et[g];this.set(ot[0],ot[1])}}ListCache$4.prototype.clear=listCacheClear;ListCache$4.prototype.delete=listCacheDelete;ListCache$4.prototype.get=listCacheGet;ListCache$4.prototype.has=listCacheHas;ListCache$4.prototype.set=listCacheSet;var _ListCache=ListCache$4,ListCache$3=_ListCache;function stackClear$1(){this.__data__=new ListCache$3,this.size=0}var _stackClear=stackClear$1;function stackDelete$1(et){var g=this.__data__,it=g.delete(et);return this.size=g.size,it}var _stackDelete=stackDelete$1;function stackGet$1(et){return this.__data__.get(et)}var _stackGet=stackGet$1;function stackHas$1(et){return this.__data__.has(et)}var _stackHas=stackHas$1,freeGlobal$1=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,_freeGlobal=freeGlobal$1,freeGlobal=_freeGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root$9=freeGlobal||freeSelf||Function("return this")(),_root=root$9,root$8=_root,Symbol$4=root$8.Symbol,_Symbol=Symbol$4,Symbol$3=_Symbol,objectProto$b=Object.prototype,hasOwnProperty$8=objectProto$b.hasOwnProperty,nativeObjectToString$1=objectProto$b.toString,symToStringTag$1=Symbol$3?Symbol$3.toStringTag:void 0;function getRawTag$1(et){var g=hasOwnProperty$8.call(et,symToStringTag$1),it=et[symToStringTag$1];try{et[symToStringTag$1]=void 0;var ot=!0}catch{}var ut=nativeObjectToString$1.call(et);return ot&&(g?et[symToStringTag$1]=it:delete et[symToStringTag$1]),ut}var _getRawTag=getRawTag$1,objectProto$a=Object.prototype,nativeObjectToString=objectProto$a.toString;function objectToString$1(et){return nativeObjectToString.call(et)}var _objectToString=objectToString$1,Symbol$2=_Symbol,getRawTag=_getRawTag,objectToString=_objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$2?Symbol$2.toStringTag:void 0;function baseGetTag$4(et){return et==null?et===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(et)?getRawTag(et):objectToString(et)}var _baseGetTag=baseGetTag$4;function isObject$2(et){var g=typeof et;return et!=null&&(g=="object"||g=="function")}var isObject_1=isObject$2,baseGetTag$3=_baseGetTag,isObject$1=isObject_1,asyncTag="[object AsyncFunction]",funcTag$1="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$2(et){if(!isObject$1(et))return!1;var g=baseGetTag$3(et);return g==funcTag$1||g==genTag||g==asyncTag||g==proxyTag}var isFunction_1=isFunction$2,root$7=_root,coreJsData$1=root$7["__core-js_shared__"],_coreJsData=coreJsData$1,coreJsData=_coreJsData,maskSrcKey=function(){var et=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return et?"Symbol(src)_1."+et:""}();function isMasked$1(et){return!!maskSrcKey&&maskSrcKey in et}var _isMasked=isMasked$1,funcProto$1=Function.prototype,funcToString$1=funcProto$1.toString;function toSource$2(et){if(et!=null){try{return funcToString$1.call(et)}catch{}try{return et+""}catch{}}return""}var _toSource=toSource$2,isFunction$1=isFunction_1,isMasked=_isMasked,isObject=isObject_1,toSource$1=_toSource,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto$9=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$7=objectProto$9.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty$7).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative$1(et){if(!isObject(et)||isMasked(et))return!1;var g=isFunction$1(et)?reIsNative:reIsHostCtor;return g.test(toSource$1(et))}var _baseIsNative=baseIsNative$1;function getValue$1(et,g){return et==null?void 0:et[g]}var _getValue=getValue$1,baseIsNative=_baseIsNative,getValue=_getValue;function getNative$6(et,g){var it=getValue(et,g);return baseIsNative(it)?it:void 0}var _getNative=getNative$6,getNative$5=_getNative,root$6=_root,Map$4=getNative$5(root$6,"Map"),_Map=Map$4,getNative$4=_getNative,nativeCreate$4=getNative$4(Object,"create"),_nativeCreate=nativeCreate$4,nativeCreate$3=_nativeCreate;function hashClear$1(){this.__data__=nativeCreate$3?nativeCreate$3(null):{},this.size=0}var _hashClear=hashClear$1;function hashDelete$1(et){var g=this.has(et)&&delete this.__data__[et];return this.size-=g?1:0,g}var _hashDelete=hashDelete$1,nativeCreate$2=_nativeCreate,HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$8=Object.prototype,hasOwnProperty$6=objectProto$8.hasOwnProperty;function hashGet$1(et){var g=this.__data__;if(nativeCreate$2){var it=g[et];return it===HASH_UNDEFINED$2?void 0:it}return hasOwnProperty$6.call(g,et)?g[et]:void 0}var _hashGet=hashGet$1,nativeCreate$1=_nativeCreate,objectProto$7=Object.prototype,hasOwnProperty$5=objectProto$7.hasOwnProperty;function hashHas$1(et){var g=this.__data__;return nativeCreate$1?g[et]!==void 0:hasOwnProperty$5.call(g,et)}var _hashHas=hashHas$1,nativeCreate=_nativeCreate,HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet$1(et,g){var it=this.__data__;return this.size+=this.has(et)?0:1,it[et]=nativeCreate&&g===void 0?HASH_UNDEFINED$1:g,this}var _hashSet=hashSet$1,hashClear=_hashClear,hashDelete=_hashDelete,hashGet=_hashGet,hashHas=_hashHas,hashSet=_hashSet;function Hash$1(et){var g=-1,it=et==null?0:et.length;for(this.clear();++g<it;){var ot=et[g];this.set(ot[0],ot[1])}}Hash$1.prototype.clear=hashClear;Hash$1.prototype.delete=hashDelete;Hash$1.prototype.get=hashGet;Hash$1.prototype.has=hashHas;Hash$1.prototype.set=hashSet;var _Hash=Hash$1,Hash=_Hash,ListCache$2=_ListCache,Map$3=_Map;function mapCacheClear$1(){this.size=0,this.__data__={hash:new Hash,map:new(Map$3||ListCache$2),string:new Hash}}var _mapCacheClear=mapCacheClear$1;function isKeyable$1(et){var g=typeof et;return g=="string"||g=="number"||g=="symbol"||g=="boolean"?et!=="__proto__":et===null}var _isKeyable=isKeyable$1,isKeyable=_isKeyable;function getMapData$4(et,g){var it=et.__data__;return isKeyable(g)?it[typeof g=="string"?"string":"hash"]:it.map}var _getMapData=getMapData$4,getMapData$3=_getMapData;function mapCacheDelete$1(et){var g=getMapData$3(this,et).delete(et);return this.size-=g?1:0,g}var _mapCacheDelete=mapCacheDelete$1,getMapData$2=_getMapData;function mapCacheGet$1(et){return getMapData$2(this,et).get(et)}var _mapCacheGet=mapCacheGet$1,getMapData$1=_getMapData;function mapCacheHas$1(et){return getMapData$1(this,et).has(et)}var _mapCacheHas=mapCacheHas$1,getMapData=_getMapData;function mapCacheSet$1(et,g){var it=getMapData(this,et),ot=it.size;return it.set(et,g),this.size+=it.size==ot?0:1,this}var _mapCacheSet=mapCacheSet$1,mapCacheClear=_mapCacheClear,mapCacheDelete=_mapCacheDelete,mapCacheGet=_mapCacheGet,mapCacheHas=_mapCacheHas,mapCacheSet=_mapCacheSet;function MapCache$2(et){var g=-1,it=et==null?0:et.length;for(this.clear();++g<it;){var ot=et[g];this.set(ot[0],ot[1])}}MapCache$2.prototype.clear=mapCacheClear;MapCache$2.prototype.delete=mapCacheDelete;MapCache$2.prototype.get=mapCacheGet;MapCache$2.prototype.has=mapCacheHas;MapCache$2.prototype.set=mapCacheSet;var _MapCache=MapCache$2,ListCache$1=_ListCache,Map$2=_Map,MapCache$1=_MapCache,LARGE_ARRAY_SIZE=200;function stackSet$1(et,g){var it=this.__data__;if(it instanceof ListCache$1){var ot=it.__data__;if(!Map$2||ot.length<LARGE_ARRAY_SIZE-1)return ot.push([et,g]),this.size=++it.size,this;it=this.__data__=new MapCache$1(ot)}return it.set(et,g),this.size=it.size,this}var _stackSet=stackSet$1,ListCache=_ListCache,stackClear=_stackClear,stackDelete=_stackDelete,stackGet=_stackGet,stackHas=_stackHas,stackSet=_stackSet;function Stack$1(et){var g=this.__data__=new ListCache(et);this.size=g.size}Stack$1.prototype.clear=stackClear;Stack$1.prototype.delete=stackDelete;Stack$1.prototype.get=stackGet;Stack$1.prototype.has=stackHas;Stack$1.prototype.set=stackSet;var _Stack=Stack$1,HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd$1(et){return this.__data__.set(et,HASH_UNDEFINED),this}var _setCacheAdd=setCacheAdd$1;function setCacheHas$1(et){return this.__data__.has(et)}var _setCacheHas=setCacheHas$1,MapCache=_MapCache,setCacheAdd=_setCacheAdd,setCacheHas=_setCacheHas;function SetCache$1(et){var g=-1,it=et==null?0:et.length;for(this.__data__=new MapCache;++g<it;)this.add(et[g])}SetCache$1.prototype.add=SetCache$1.prototype.push=setCacheAdd;SetCache$1.prototype.has=setCacheHas;var _SetCache=SetCache$1;function arraySome$1(et,g){for(var it=-1,ot=et==null?0:et.length;++it<ot;)if(g(et[it],it,et))return!0;return!1}var _arraySome=arraySome$1;function cacheHas$1(et,g){return et.has(g)}var _cacheHas=cacheHas$1,SetCache=_SetCache,arraySome=_arraySome,cacheHas=_cacheHas,COMPARE_PARTIAL_FLAG$3=1,COMPARE_UNORDERED_FLAG$1=2;function equalArrays$2(et,g,it,ot,ut,ct){var dt=it&COMPARE_PARTIAL_FLAG$3,ft=et.length,St=g.length;if(ft!=St&&!(dt&&St>ft))return!1;var Tt=ct.get(et),kt=ct.get(g);if(Tt&&kt)return Tt==g&&kt==et;var jt=-1,Rt=!0,$t=it&COMPARE_UNORDERED_FLAG$1?new SetCache:void 0;for(ct.set(et,g),ct.set(g,et);++jt<ft;){var zt=et[jt],Ht=g[jt];if(ot)var Zt=dt?ot(Ht,zt,jt,g,et,ct):ot(zt,Ht,jt,et,g,ct);if(Zt!==void 0){if(Zt)continue;Rt=!1;break}if($t){if(!arraySome(g,function(Bt,Ut){if(!cacheHas($t,Ut)&&(zt===Bt||ut(zt,Bt,it,ot,ct)))return $t.push(Ut)})){Rt=!1;break}}else if(!(zt===Ht||ut(zt,Ht,it,ot,ct))){Rt=!1;break}}return ct.delete(et),ct.delete(g),Rt}var _equalArrays=equalArrays$2,root$5=_root,Uint8Array$2=root$5.Uint8Array,_Uint8Array=Uint8Array$2;function mapToArray$1(et){var g=-1,it=Array(et.size);return et.forEach(function(ot,ut){it[++g]=[ut,ot]}),it}var _mapToArray=mapToArray$1;function setToArray$1(et){var g=-1,it=Array(et.size);return et.forEach(function(ot){it[++g]=ot}),it}var _setToArray=setToArray$1,Symbol$1=_Symbol,Uint8Array$1=_Uint8Array,eq=eq_1,equalArrays$1=_equalArrays,mapToArray=_mapToArray,setToArray=_setToArray,COMPARE_PARTIAL_FLAG$2=1,COMPARE_UNORDERED_FLAG=2,boolTag$1="[object Boolean]",dateTag$1="[object Date]",errorTag$1="[object Error]",mapTag$2="[object Map]",numberTag$1="[object Number]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",symbolTag="[object Symbol]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$2="[object DataView]",symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function equalByTag$1(et,g,it,ot,ut,ct,dt){switch(it){case dataViewTag$2:if(et.byteLength!=g.byteLength||et.byteOffset!=g.byteOffset)return!1;et=et.buffer,g=g.buffer;case arrayBufferTag$1:return!(et.byteLength!=g.byteLength||!ct(new Uint8Array$1(et),new Uint8Array$1(g)));case boolTag$1:case dateTag$1:case numberTag$1:return eq(+et,+g);case errorTag$1:return et.name==g.name&&et.message==g.message;case regexpTag$1:case stringTag$1:return et==g+"";case mapTag$2:var ft=mapToArray;case setTag$2:var St=ot&COMPARE_PARTIAL_FLAG$2;if(ft||(ft=setToArray),et.size!=g.size&&!St)return!1;var Tt=dt.get(et);if(Tt)return Tt==g;ot|=COMPARE_UNORDERED_FLAG,dt.set(et,g);var kt=equalArrays$1(ft(et),ft(g),ot,ut,ct,dt);return dt.delete(et),kt;case symbolTag:if(symbolValueOf)return symbolValueOf.call(et)==symbolValueOf.call(g)}return!1}var _equalByTag=equalByTag$1;function arrayPush$1(et,g){for(var it=-1,ot=g.length,ut=et.length;++it<ot;)et[ut+it]=g[it];return et}var _arrayPush=arrayPush$1,isArray$3=Array.isArray,isArray_1=isArray$3,arrayPush=_arrayPush,isArray$2=isArray_1;function baseGetAllKeys$1(et,g,it){var ot=g(et);return isArray$2(et)?ot:arrayPush(ot,it(et))}var _baseGetAllKeys=baseGetAllKeys$1;function arrayFilter$1(et,g){for(var it=-1,ot=et==null?0:et.length,ut=0,ct=[];++it<ot;){var dt=et[it];g(dt,it,et)&&(ct[ut++]=dt)}return ct}var _arrayFilter=arrayFilter$1;function stubArray$1(){return[]}var stubArray_1=stubArray$1,arrayFilter=_arrayFilter,stubArray=stubArray_1,objectProto$6=Object.prototype,propertyIsEnumerable$1=objectProto$6.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols$1=nativeGetSymbols?function(et){return et==null?[]:(et=Object(et),arrayFilter(nativeGetSymbols(et),function(g){return propertyIsEnumerable$1.call(et,g)}))}:stubArray,_getSymbols=getSymbols$1;function baseTimes$1(et,g){for(var it=-1,ot=Array(et);++it<et;)ot[it]=g(it);return ot}var _baseTimes=baseTimes$1;function isObjectLike$4(et){return et!=null&&typeof et=="object"}var isObjectLike_1=isObjectLike$4,baseGetTag$2=_baseGetTag,isObjectLike$3=isObjectLike_1,argsTag$2="[object Arguments]";function baseIsArguments$1(et){return isObjectLike$3(et)&&baseGetTag$2(et)==argsTag$2}var _baseIsArguments=baseIsArguments$1,baseIsArguments=_baseIsArguments,isObjectLike$2=isObjectLike_1,objectProto$5=Object.prototype,hasOwnProperty$4=objectProto$5.hasOwnProperty,propertyIsEnumerable=objectProto$5.propertyIsEnumerable,isArguments$1=baseIsArguments(function(){return arguments}())?baseIsArguments:function(et){return isObjectLike$2(et)&&hasOwnProperty$4.call(et,"callee")&&!propertyIsEnumerable.call(et,"callee")},isArguments_1=isArguments$1,isBuffer$2={exports:{}};function stubFalse(){return!1}var stubFalse_1=stubFalse;isBuffer$2.exports;(function(et,g){var it=_root,ot=stubFalse_1,ut=g&&!g.nodeType&&g,ct=ut&&!0&&et&&!et.nodeType&&et,dt=ct&&ct.exports===ut,ft=dt?it.Buffer:void 0,St=ft?ft.isBuffer:void 0,Tt=St||ot;et.exports=Tt})(isBuffer$2,isBuffer$2.exports);var isBufferExports=isBuffer$2.exports,MAX_SAFE_INTEGER$1=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex$1(et,g){var it=typeof et;return g=g??MAX_SAFE_INTEGER$1,!!g&&(it=="number"||it!="symbol"&&reIsUint.test(et))&&et>-1&&et%1==0&&et<g}var _isIndex=isIndex$1,MAX_SAFE_INTEGER=9007199254740991;function isLength$2(et){return typeof et=="number"&&et>-1&&et%1==0&&et<=MAX_SAFE_INTEGER}var isLength_1=isLength$2,baseGetTag$1=_baseGetTag,isLength$1=isLength_1,isObjectLike$1=isObjectLike_1,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag$1="[object Map]",numberTag="[object Number]",objectTag$2="[object Object]",regexpTag="[object RegExp]",setTag$1="[object Set]",stringTag="[object String]",weakMapTag$1="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0;typedArrayTags[argsTag$1]=typedArrayTags[arrayTag$1]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag$1]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag$1]=typedArrayTags[numberTag]=typedArrayTags[objectTag$2]=typedArrayTags[regexpTag]=typedArrayTags[setTag$1]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag$1]=!1;function baseIsTypedArray$1(et){return isObjectLike$1(et)&&isLength$1(et.length)&&!!typedArrayTags[baseGetTag$1(et)]}var _baseIsTypedArray=baseIsTypedArray$1;function baseUnary$1(et){return function(g){return et(g)}}var _baseUnary=baseUnary$1,_nodeUtil={exports:{}};_nodeUtil.exports;(function(et,g){var it=_freeGlobal,ot=g&&!g.nodeType&&g,ut=ot&&!0&&et&&!et.nodeType&&et,ct=ut&&ut.exports===ot,dt=ct&&it.process,ft=function(){try{var St=ut&&ut.require&&ut.require("util").types;return St||dt&&dt.binding&&dt.binding("util")}catch{}}();et.exports=ft})(_nodeUtil,_nodeUtil.exports);var _nodeUtilExports=_nodeUtil.exports,baseIsTypedArray=_baseIsTypedArray,baseUnary=_baseUnary,nodeUtil=_nodeUtilExports,nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray$2=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray,isTypedArray_1=isTypedArray$2,baseTimes=_baseTimes,isArguments=isArguments_1,isArray$1=isArray_1,isBuffer$1=isBufferExports,isIndex=_isIndex,isTypedArray$1=isTypedArray_1,objectProto$4=Object.prototype,hasOwnProperty$3=objectProto$4.hasOwnProperty;function arrayLikeKeys$1(et,g){var it=isArray$1(et),ot=!it&&isArguments(et),ut=!it&&!ot&&isBuffer$1(et),ct=!it&&!ot&&!ut&&isTypedArray$1(et),dt=it||ot||ut||ct,ft=dt?baseTimes(et.length,String):[],St=ft.length;for(var Tt in et)(g||hasOwnProperty$3.call(et,Tt))&&!(dt&&(Tt=="length"||ut&&(Tt=="offset"||Tt=="parent")||ct&&(Tt=="buffer"||Tt=="byteLength"||Tt=="byteOffset")||isIndex(Tt,St)))&&ft.push(Tt);return ft}var _arrayLikeKeys=arrayLikeKeys$1,objectProto$3=Object.prototype;function isPrototype$1(et){var g=et&&et.constructor,it=typeof g=="function"&&g.prototype||objectProto$3;return et===it}var _isPrototype=isPrototype$1;function overArg$1(et,g){return function(it){return et(g(it))}}var _overArg=overArg$1,overArg=_overArg,nativeKeys$1=overArg(Object.keys,Object),_nativeKeys=nativeKeys$1,isPrototype=_isPrototype,nativeKeys=_nativeKeys,objectProto$2=Object.prototype,hasOwnProperty$2=objectProto$2.hasOwnProperty;function baseKeys$1(et){if(!isPrototype(et))return nativeKeys(et);var g=[];for(var it in Object(et))hasOwnProperty$2.call(et,it)&&it!="constructor"&&g.push(it);return g}var _baseKeys=baseKeys$1,isFunction=isFunction_1,isLength=isLength_1;function isArrayLike$1(et){return et!=null&&isLength(et.length)&&!isFunction(et)}var isArrayLike_1=isArrayLike$1,arrayLikeKeys=_arrayLikeKeys,baseKeys=_baseKeys,isArrayLike=isArrayLike_1;function keys$1(et){return isArrayLike(et)?arrayLikeKeys(et):baseKeys(et)}var keys_1=keys$1,baseGetAllKeys=_baseGetAllKeys,getSymbols=_getSymbols,keys=keys_1;function getAllKeys$1(et){return baseGetAllKeys(et,keys,getSymbols)}var _getAllKeys=getAllKeys$1,getAllKeys=_getAllKeys,COMPARE_PARTIAL_FLAG$1=1,objectProto$1=Object.prototype,hasOwnProperty$1=objectProto$1.hasOwnProperty;function equalObjects$1(et,g,it,ot,ut,ct){var dt=it&COMPARE_PARTIAL_FLAG$1,ft=getAllKeys(et),St=ft.length,Tt=getAllKeys(g),kt=Tt.length;if(St!=kt&&!dt)return!1;for(var jt=St;jt--;){var Rt=ft[jt];if(!(dt?Rt in g:hasOwnProperty$1.call(g,Rt)))return!1}var $t=ct.get(et),zt=ct.get(g);if($t&&zt)return $t==g&&zt==et;var Ht=!0;ct.set(et,g),ct.set(g,et);for(var Zt=dt;++jt<St;){Rt=ft[jt];var Bt=et[Rt],Ut=g[Rt];if(ot)var Kt=dt?ot(Ut,Bt,Rt,g,et,ct):ot(Bt,Ut,Rt,et,g,ct);if(!(Kt===void 0?Bt===Ut||ut(Bt,Ut,it,ot,ct):Kt)){Ht=!1;break}Zt||(Zt=Rt=="constructor")}if(Ht&&!Zt){var Yt=et.constructor,Jt=g.constructor;Yt!=Jt&&"constructor"in et&&"constructor"in g&&!(typeof Yt=="function"&&Yt instanceof Yt&&typeof Jt=="function"&&Jt instanceof Jt)&&(Ht=!1)}return ct.delete(et),ct.delete(g),Ht}var _equalObjects=equalObjects$1,getNative$3=_getNative,root$4=_root,DataView$2=getNative$3(root$4,"DataView"),_DataView=DataView$2,getNative$2=_getNative,root$3=_root,Promise$2=getNative$2(root$3,"Promise"),_Promise=Promise$2,getNative$1=_getNative,root$2=_root,Set$2=getNative$1(root$2,"Set"),_Set=Set$2,getNative=_getNative,root$1=_root,WeakMap$2=getNative(root$1,"WeakMap"),_WeakMap=WeakMap$2,DataView$1=_DataView,Map$1=_Map,Promise$1=_Promise,Set$1=_Set,WeakMap$1=_WeakMap,baseGetTag=_baseGetTag,toSource=_toSource,mapTag="[object Map]",objectTag$1="[object Object]",promiseTag="[object Promise]",setTag="[object Set]",weakMapTag="[object WeakMap]",dataViewTag="[object DataView]",dataViewCtorString=toSource(DataView$1),mapCtorString=toSource(Map$1),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$1),weakMapCtorString=toSource(WeakMap$1),getTag$1=baseGetTag;(DataView$1&&getTag$1(new DataView$1(new ArrayBuffer(1)))!=dataViewTag||Map$1&&getTag$1(new Map$1)!=mapTag||Promise$1&&getTag$1(Promise$1.resolve())!=promiseTag||Set$1&&getTag$1(new Set$1)!=setTag||WeakMap$1&&getTag$1(new WeakMap$1)!=weakMapTag)&&(getTag$1=function(et){var g=baseGetTag(et),it=g==objectTag$1?et.constructor:void 0,ot=it?toSource(it):"";if(ot)switch(ot){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}return g});var _getTag=getTag$1,Stack=_Stack,equalArrays=_equalArrays,equalByTag=_equalByTag,equalObjects=_equalObjects,getTag=_getTag,isArray=isArray_1,isBuffer=isBufferExports,isTypedArray=isTypedArray_1,COMPARE_PARTIAL_FLAG=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag="[object Object]",objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function baseIsEqualDeep$1(et,g,it,ot,ut,ct){var dt=isArray(et),ft=isArray(g),St=dt?arrayTag:getTag(et),Tt=ft?arrayTag:getTag(g);St=St==argsTag?objectTag:St,Tt=Tt==argsTag?objectTag:Tt;var kt=St==objectTag,jt=Tt==objectTag,Rt=St==Tt;if(Rt&&isBuffer(et)){if(!isBuffer(g))return!1;dt=!0,kt=!1}if(Rt&&!kt)return ct||(ct=new Stack),dt||isTypedArray(et)?equalArrays(et,g,it,ot,ut,ct):equalByTag(et,g,St,it,ot,ut,ct);if(!(it&COMPARE_PARTIAL_FLAG)){var $t=kt&&hasOwnProperty.call(et,"__wrapped__"),zt=jt&&hasOwnProperty.call(g,"__wrapped__");if($t||zt){var Ht=$t?et.value():et,Zt=zt?g.value():g;return ct||(ct=new Stack),ut(Ht,Zt,it,ot,ct)}}return Rt?(ct||(ct=new Stack),equalObjects(et,g,it,ot,ut,ct)):!1}var _baseIsEqualDeep=baseIsEqualDeep$1,baseIsEqualDeep=_baseIsEqualDeep,isObjectLike=isObjectLike_1;function baseIsEqual$1(et,g,it,ot,ut){return et===g?!0:et==null||g==null||!isObjectLike(et)&&!isObjectLike(g)?et!==et&&g!==g:baseIsEqualDeep(et,g,it,ot,baseIsEqual$1,ut)}var _baseIsEqual=baseIsEqual$1,baseIsEqual=_baseIsEqual;function isEqual(et,g){return baseIsEqual(et,g)}var isEqual_1$1=isEqual,quill={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(et,g){(function(ot,ut){et.exports=ut()})(typeof self<"u"?self:commonjsGlobal,function(){return function(it){var ot={};function ut(ct){if(ot[ct])return ot[ct].exports;var dt=ot[ct]={i:ct,l:!1,exports:{}};return it[ct].call(dt.exports,dt,dt.exports,ut),dt.l=!0,dt.exports}return ut.m=it,ut.c=ot,ut.d=function(ct,dt,ft){ut.o(ct,dt)||Object.defineProperty(ct,dt,{configurable:!1,enumerable:!0,get:ft})},ut.n=function(ct){var dt=ct&&ct.__esModule?function(){return ct.default}:function(){return ct};return ut.d(dt,"a",dt),dt},ut.o=function(ct,dt){return Object.prototype.hasOwnProperty.call(ct,dt)},ut.p="",ut(ut.s=109)}([function(it,ot,ut){Object.defineProperty(ot,"__esModule",{value:!0});var ct=ut(17),dt=ut(18),ft=ut(19),St=ut(45),Tt=ut(46),kt=ut(47),jt=ut(48),Rt=ut(49),$t=ut(12),zt=ut(32),Ht=ut(33),Zt=ut(31),Bt=ut(1),Ut={Scope:Bt.Scope,create:Bt.create,find:Bt.find,query:Bt.query,register:Bt.register,Container:ct.default,Format:dt.default,Leaf:ft.default,Embed:jt.default,Scroll:St.default,Block:kt.default,Inline:Tt.default,Text:Rt.default,Attributor:{Attribute:$t.default,Class:zt.default,Style:Ht.default,Store:Zt.default}};ot.default=Ut},function(it,ot,ut){var ct=this&&this.__extends||function(){var Zt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Bt,Ut){Bt.__proto__=Ut}||function(Bt,Ut){for(var Kt in Ut)Ut.hasOwnProperty(Kt)&&(Bt[Kt]=Ut[Kt])};return function(Bt,Ut){Zt(Bt,Ut);function Kt(){this.constructor=Bt}Bt.prototype=Ut===null?Object.create(Ut):(Kt.prototype=Ut.prototype,new Kt)}}();Object.defineProperty(ot,"__esModule",{value:!0});var dt=function(Zt){ct(Bt,Zt);function Bt(Ut){var Kt=this;return Ut="[Parchment] "+Ut,Kt=Zt.call(this,Ut)||this,Kt.message=Ut,Kt.name=Kt.constructor.name,Kt}return Bt}(Error);ot.ParchmentError=dt;var ft={},St={},Tt={},kt={};ot.DATA_KEY="__blot";var jt;(function(Zt){Zt[Zt.TYPE=3]="TYPE",Zt[Zt.LEVEL=12]="LEVEL",Zt[Zt.ATTRIBUTE=13]="ATTRIBUTE",Zt[Zt.BLOT=14]="BLOT",Zt[Zt.INLINE=7]="INLINE",Zt[Zt.BLOCK=11]="BLOCK",Zt[Zt.BLOCK_BLOT=10]="BLOCK_BLOT",Zt[Zt.INLINE_BLOT=6]="INLINE_BLOT",Zt[Zt.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",Zt[Zt.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",Zt[Zt.ANY=15]="ANY"})(jt=ot.Scope||(ot.Scope={}));function Rt(Zt,Bt){var Ut=zt(Zt);if(Ut==null)throw new dt("Unable to create "+Zt+" blot");var Kt=Ut,Yt=Zt instanceof Node||Zt.nodeType===Node.TEXT_NODE?Zt:Kt.create(Bt);return new Kt(Yt,Bt)}ot.create=Rt;function $t(Zt,Bt){return Bt===void 0&&(Bt=!1),Zt==null?null:Zt[ot.DATA_KEY]!=null?Zt[ot.DATA_KEY].blot:Bt?$t(Zt.parentNode,Bt):null}ot.find=$t;function zt(Zt,Bt){Bt===void 0&&(Bt=jt.ANY);var Ut;if(typeof Zt=="string")Ut=kt[Zt]||ft[Zt];else if(Zt instanceof Text||Zt.nodeType===Node.TEXT_NODE)Ut=kt.text;else if(typeof Zt=="number")Zt&jt.LEVEL&jt.BLOCK?Ut=kt.block:Zt&jt.LEVEL&jt.INLINE&&(Ut=kt.inline);else if(Zt instanceof HTMLElement){var Kt=(Zt.getAttribute("class")||"").split(/\s+/);for(var Yt in Kt)if(Ut=St[Kt[Yt]],Ut)break;Ut=Ut||Tt[Zt.tagName]}return Ut==null?null:Bt&jt.LEVEL&Ut.scope&&Bt&jt.TYPE&Ut.scope?Ut:null}ot.query=zt;function Ht(){for(var Zt=[],Bt=0;Bt<arguments.length;Bt++)Zt[Bt]=arguments[Bt];if(Zt.length>1)return Zt.map(function(Yt){return Ht(Yt)});var Ut=Zt[0];if(typeof Ut.blotName!="string"&&typeof Ut.attrName!="string")throw new dt("Invalid definition");if(Ut.blotName==="abstract")throw new dt("Cannot register abstract class");if(kt[Ut.blotName||Ut.attrName]=Ut,typeof Ut.keyName=="string")ft[Ut.keyName]=Ut;else if(Ut.className!=null&&(St[Ut.className]=Ut),Ut.tagName!=null){Array.isArray(Ut.tagName)?Ut.tagName=Ut.tagName.map(function(Yt){return Yt.toUpperCase()}):Ut.tagName=Ut.tagName.toUpperCase();var Kt=Array.isArray(Ut.tagName)?Ut.tagName:[Ut.tagName];Kt.forEach(function(Yt){(Tt[Yt]==null||Ut.className==null)&&(Tt[Yt]=Ut)})}return Ut}ot.register=Ht},function(it,ot,ut){var ct=ut(51),dt=ut(11),ft=ut(3),St=ut(20),Tt=String.fromCharCode(0),kt=function(jt){Array.isArray(jt)?this.ops=jt:jt!=null&&Array.isArray(jt.ops)?this.ops=jt.ops:this.ops=[]};kt.prototype.insert=function(jt,Rt){var $t={};return jt.length===0?this:($t.insert=jt,Rt!=null&&typeof Rt=="object"&&Object.keys(Rt).length>0&&($t.attributes=Rt),this.push($t))},kt.prototype.delete=function(jt){return jt<=0?this:this.push({delete:jt})},kt.prototype.retain=function(jt,Rt){if(jt<=0)return this;var $t={retain:jt};return Rt!=null&&typeof Rt=="object"&&Object.keys(Rt).length>0&&($t.attributes=Rt),this.push($t)},kt.prototype.push=function(jt){var Rt=this.ops.length,$t=this.ops[Rt-1];if(jt=ft(!0,{},jt),typeof $t=="object"){if(typeof jt.delete=="number"&&typeof $t.delete=="number")return this.ops[Rt-1]={delete:$t.delete+jt.delete},this;if(typeof $t.delete=="number"&&jt.insert!=null&&(Rt-=1,$t=this.ops[Rt-1],typeof $t!="object"))return this.ops.unshift(jt),this;if(dt(jt.attributes,$t.attributes)){if(typeof jt.insert=="string"&&typeof $t.insert=="string")return this.ops[Rt-1]={insert:$t.insert+jt.insert},typeof jt.attributes=="object"&&(this.ops[Rt-1].attributes=jt.attributes),this;if(typeof jt.retain=="number"&&typeof $t.retain=="number")return this.ops[Rt-1]={retain:$t.retain+jt.retain},typeof jt.attributes=="object"&&(this.ops[Rt-1].attributes=jt.attributes),this}}return Rt===this.ops.length?this.ops.push(jt):this.ops.splice(Rt,0,jt),this},kt.prototype.chop=function(){var jt=this.ops[this.ops.length-1];return jt&&jt.retain&&!jt.attributes&&this.ops.pop(),this},kt.prototype.filter=function(jt){return this.ops.filter(jt)},kt.prototype.forEach=function(jt){this.ops.forEach(jt)},kt.prototype.map=function(jt){return this.ops.map(jt)},kt.prototype.partition=function(jt){var Rt=[],$t=[];return this.forEach(function(zt){var Ht=jt(zt)?Rt:$t;Ht.push(zt)}),[Rt,$t]},kt.prototype.reduce=function(jt,Rt){return this.ops.reduce(jt,Rt)},kt.prototype.changeLength=function(){return this.reduce(function(jt,Rt){return Rt.insert?jt+St.length(Rt):Rt.delete?jt-Rt.delete:jt},0)},kt.prototype.length=function(){return this.reduce(function(jt,Rt){return jt+St.length(Rt)},0)},kt.prototype.slice=function(jt,Rt){jt=jt||0,typeof Rt!="number"&&(Rt=1/0);for(var $t=[],zt=St.iterator(this.ops),Ht=0;Ht<Rt&&zt.hasNext();){var Zt;Ht<jt?Zt=zt.next(jt-Ht):(Zt=zt.next(Rt-Ht),$t.push(Zt)),Ht+=St.length(Zt)}return new kt($t)},kt.prototype.compose=function(jt){var Rt=St.iterator(this.ops),$t=St.iterator(jt.ops),zt=[],Ht=$t.peek();if(Ht!=null&&typeof Ht.retain=="number"&&Ht.attributes==null){for(var Zt=Ht.retain;Rt.peekType()==="insert"&&Rt.peekLength()<=Zt;)Zt-=Rt.peekLength(),zt.push(Rt.next());Ht.retain-Zt>0&&$t.next(Ht.retain-Zt)}for(var Bt=new kt(zt);Rt.hasNext()||$t.hasNext();)if($t.peekType()==="insert")Bt.push($t.next());else if(Rt.peekType()==="delete")Bt.push(Rt.next());else{var Ut=Math.min(Rt.peekLength(),$t.peekLength()),Kt=Rt.next(Ut),Yt=$t.next(Ut);if(typeof Yt.retain=="number"){var Jt={};typeof Kt.retain=="number"?Jt.retain=Ut:Jt.insert=Kt.insert;var er=St.attributes.compose(Kt.attributes,Yt.attributes,typeof Kt.retain=="number");if(er&&(Jt.attributes=er),Bt.push(Jt),!$t.hasNext()&&dt(Bt.ops[Bt.ops.length-1],Jt)){var tr=new kt(Rt.rest());return Bt.concat(tr).chop()}}else typeof Yt.delete=="number"&&typeof Kt.retain=="number"&&Bt.push(Yt)}return Bt.chop()},kt.prototype.concat=function(jt){var Rt=new kt(this.ops.slice());return jt.ops.length>0&&(Rt.push(jt.ops[0]),Rt.ops=Rt.ops.concat(jt.ops.slice(1))),Rt},kt.prototype.diff=function(jt,Rt){if(this.ops===jt.ops)return new kt;var $t=[this,jt].map(function(Ut){return Ut.map(function(Kt){if(Kt.insert!=null)return typeof Kt.insert=="string"?Kt.insert:Tt;var Yt=Ut===jt?"on":"with";throw new Error("diff() called "+Yt+" non-document")}).join("")}),zt=new kt,Ht=ct($t[0],$t[1],Rt),Zt=St.iterator(this.ops),Bt=St.iterator(jt.ops);return Ht.forEach(function(Ut){for(var Kt=Ut[1].length;Kt>0;){var Yt=0;switch(Ut[0]){case ct.INSERT:Yt=Math.min(Bt.peekLength(),Kt),zt.push(Bt.next(Yt));break;case ct.DELETE:Yt=Math.min(Kt,Zt.peekLength()),Zt.next(Yt),zt.delete(Yt);break;case ct.EQUAL:Yt=Math.min(Zt.peekLength(),Bt.peekLength(),Kt);var Jt=Zt.next(Yt),er=Bt.next(Yt);dt(Jt.insert,er.insert)?zt.retain(Yt,St.attributes.diff(Jt.attributes,er.attributes)):zt.push(er).delete(Yt);break}Kt-=Yt}}),zt.chop()},kt.prototype.eachLine=function(jt,Rt){Rt=Rt||`
`;for(var $t=St.iterator(this.ops),zt=new kt,Ht=0;$t.hasNext();){if($t.peekType()!=="insert")return;var Zt=$t.peek(),Bt=St.length(Zt)-$t.peekLength(),Ut=typeof Zt.insert=="string"?Zt.insert.indexOf(Rt,Bt)-Bt:-1;if(Ut<0)zt.push($t.next());else if(Ut>0)zt.push($t.next(Ut));else{if(jt(zt,$t.next(1).attributes||{},Ht)===!1)return;Ht+=1,zt=new kt}}zt.length()>0&&jt(zt,{},Ht)},kt.prototype.transform=function(jt,Rt){if(Rt=!!Rt,typeof jt=="number")return this.transformPosition(jt,Rt);for(var $t=St.iterator(this.ops),zt=St.iterator(jt.ops),Ht=new kt;$t.hasNext()||zt.hasNext();)if($t.peekType()==="insert"&&(Rt||zt.peekType()!=="insert"))Ht.retain(St.length($t.next()));else if(zt.peekType()==="insert")Ht.push(zt.next());else{var Zt=Math.min($t.peekLength(),zt.peekLength()),Bt=$t.next(Zt),Ut=zt.next(Zt);if(Bt.delete)continue;Ut.delete?Ht.push(Ut):Ht.retain(Zt,St.attributes.transform(Bt.attributes,Ut.attributes,Rt))}return Ht.chop()},kt.prototype.transformPosition=function(jt,Rt){Rt=!!Rt;for(var $t=St.iterator(this.ops),zt=0;$t.hasNext()&&zt<=jt;){var Ht=$t.peekLength(),Zt=$t.peekType();if($t.next(),Zt==="delete"){jt-=Math.min(Ht,jt-zt);continue}else Zt==="insert"&&(zt<jt||!Rt)&&(jt+=Ht);zt+=Ht}return jt},it.exports=kt},function(it,ot){var ut=Object.prototype.hasOwnProperty,ct=Object.prototype.toString,dt=Object.defineProperty,ft=Object.getOwnPropertyDescriptor,St=function($t){return typeof Array.isArray=="function"?Array.isArray($t):ct.call($t)==="[object Array]"},Tt=function($t){if(!$t||ct.call($t)!=="[object Object]")return!1;var zt=ut.call($t,"constructor"),Ht=$t.constructor&&$t.constructor.prototype&&ut.call($t.constructor.prototype,"isPrototypeOf");if($t.constructor&&!zt&&!Ht)return!1;var Zt;for(Zt in $t);return typeof Zt>"u"||ut.call($t,Zt)},kt=function($t,zt){dt&&zt.name==="__proto__"?dt($t,zt.name,{enumerable:!0,configurable:!0,value:zt.newValue,writable:!0}):$t[zt.name]=zt.newValue},jt=function($t,zt){if(zt==="__proto__")if(ut.call($t,zt)){if(ft)return ft($t,zt).value}else return;return $t[zt]};it.exports=function Rt(){var $t,zt,Ht,Zt,Bt,Ut,Kt=arguments[0],Yt=1,Jt=arguments.length,er=!1;for(typeof Kt=="boolean"&&(er=Kt,Kt=arguments[1]||{},Yt=2),(Kt==null||typeof Kt!="object"&&typeof Kt!="function")&&(Kt={});Yt<Jt;++Yt)if($t=arguments[Yt],$t!=null)for(zt in $t)Ht=jt(Kt,zt),Zt=jt($t,zt),Kt!==Zt&&(er&&Zt&&(Tt(Zt)||(Bt=St(Zt)))?(Bt?(Bt=!1,Ut=Ht&&St(Ht)?Ht:[]):Ut=Ht&&Tt(Ht)?Ht:{},kt(Kt,{name:zt,newValue:Rt(er,Ut,Zt)})):typeof Zt<"u"&&kt(Kt,{name:zt,newValue:Zt}));return Kt}},function(it,ot,ut){Object.defineProperty(ot,"__esModule",{value:!0}),ot.default=ot.BlockEmbed=ot.bubbleFormats=void 0;var ct=function(){function or(cr,gr){for(var yr=0;yr<gr.length;yr++){var xr=gr[yr];xr.enumerable=xr.enumerable||!1,xr.configurable=!0,"value"in xr&&(xr.writable=!0),Object.defineProperty(cr,xr.key,xr)}}return function(cr,gr,yr){return gr&&or(cr.prototype,gr),yr&&or(cr,yr),cr}}(),dt=function or(cr,gr,yr){cr===null&&(cr=Function.prototype);var xr=Object.getOwnPropertyDescriptor(cr,gr);if(xr===void 0){var dr=Object.getPrototypeOf(cr);return dr===null?void 0:or(dr,gr,yr)}else{if("value"in xr)return xr.value;var pr=xr.get;return pr===void 0?void 0:pr.call(yr)}},ft=ut(3),St=Kt(ft),Tt=ut(2),kt=Kt(Tt),jt=ut(0),Rt=Kt(jt),$t=ut(16),zt=Kt($t),Ht=ut(6),Zt=Kt(Ht),Bt=ut(7),Ut=Kt(Bt);function Kt(or){return or&&or.__esModule?or:{default:or}}function Yt(or,cr){if(!(or instanceof cr))throw new TypeError("Cannot call a class as a function")}function Jt(or,cr){if(!or)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return cr&&(typeof cr=="object"||typeof cr=="function")?cr:or}function er(or,cr){if(typeof cr!="function"&&cr!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof cr);or.prototype=Object.create(cr&&cr.prototype,{constructor:{value:or,enumerable:!1,writable:!0,configurable:!0}}),cr&&(Object.setPrototypeOf?Object.setPrototypeOf(or,cr):or.__proto__=cr)}var tr=1,rr=function(or){er(cr,or);function cr(){return Yt(this,cr),Jt(this,(cr.__proto__||Object.getPrototypeOf(cr)).apply(this,arguments))}return ct(cr,[{key:"attach",value:function(){dt(cr.prototype.__proto__||Object.getPrototypeOf(cr.prototype),"attach",this).call(this),this.attributes=new Rt.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new kt.default().insert(this.value(),(0,St.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(yr,xr){var dr=Rt.default.query(yr,Rt.default.Scope.BLOCK_ATTRIBUTE);dr!=null&&this.attributes.attribute(dr,xr)}},{key:"formatAt",value:function(yr,xr,dr,pr){this.format(dr,pr)}},{key:"insertAt",value:function(yr,xr,dr){if(typeof xr=="string"&&xr.endsWith(`
`)){var pr=Rt.default.create(hr.blotName);this.parent.insertBefore(pr,yr===0?this:this.next),pr.insertAt(0,xr.slice(0,-1))}else dt(cr.prototype.__proto__||Object.getPrototypeOf(cr.prototype),"insertAt",this).call(this,yr,xr,dr)}}]),cr}(Rt.default.Embed);rr.scope=Rt.default.Scope.BLOCK_BLOT;var hr=function(or){er(cr,or);function cr(gr){Yt(this,cr);var yr=Jt(this,(cr.__proto__||Object.getPrototypeOf(cr)).call(this,gr));return yr.cache={},yr}return ct(cr,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(Rt.default.Leaf).reduce(function(yr,xr){return xr.length()===0?yr:yr.insert(xr.value(),ar(xr))},new kt.default).insert(`
`,ar(this))),this.cache.delta}},{key:"deleteAt",value:function(yr,xr){dt(cr.prototype.__proto__||Object.getPrototypeOf(cr.prototype),"deleteAt",this).call(this,yr,xr),this.cache={}}},{key:"formatAt",value:function(yr,xr,dr,pr){xr<=0||(Rt.default.query(dr,Rt.default.Scope.BLOCK)?yr+xr===this.length()&&this.format(dr,pr):dt(cr.prototype.__proto__||Object.getPrototypeOf(cr.prototype),"formatAt",this).call(this,yr,Math.min(xr,this.length()-yr-1),dr,pr),this.cache={})}},{key:"insertAt",value:function(yr,xr,dr){if(dr!=null)return dt(cr.prototype.__proto__||Object.getPrototypeOf(cr.prototype),"insertAt",this).call(this,yr,xr,dr);if(xr.length!==0){var pr=xr.split(`
`),nr=pr.shift();nr.length>0&&(yr<this.length()-1||this.children.tail==null?dt(cr.prototype.__proto__||Object.getPrototypeOf(cr.prototype),"insertAt",this).call(this,Math.min(yr,this.length()-1),nr):this.children.tail.insertAt(this.children.tail.length(),nr),this.cache={});var ir=this;pr.reduce(function(mr,lr){return ir=ir.split(mr,!0),ir.insertAt(0,lr),lr.length},yr+nr.length)}}},{key:"insertBefore",value:function(yr,xr){var dr=this.children.head;dt(cr.prototype.__proto__||Object.getPrototypeOf(cr.prototype),"insertBefore",this).call(this,yr,xr),dr instanceof zt.default&&dr.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=dt(cr.prototype.__proto__||Object.getPrototypeOf(cr.prototype),"length",this).call(this)+tr),this.cache.length}},{key:"moveChildren",value:function(yr,xr){dt(cr.prototype.__proto__||Object.getPrototypeOf(cr.prototype),"moveChildren",this).call(this,yr,xr),this.cache={}}},{key:"optimize",value:function(yr){dt(cr.prototype.__proto__||Object.getPrototypeOf(cr.prototype),"optimize",this).call(this,yr),this.cache={}}},{key:"path",value:function(yr){return dt(cr.prototype.__proto__||Object.getPrototypeOf(cr.prototype),"path",this).call(this,yr,!0)}},{key:"removeChild",value:function(yr){dt(cr.prototype.__proto__||Object.getPrototypeOf(cr.prototype),"removeChild",this).call(this,yr),this.cache={}}},{key:"split",value:function(yr){var xr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(xr&&(yr===0||yr>=this.length()-tr)){var dr=this.clone();return yr===0?(this.parent.insertBefore(dr,this),this):(this.parent.insertBefore(dr,this.next),dr)}else{var pr=dt(cr.prototype.__proto__||Object.getPrototypeOf(cr.prototype),"split",this).call(this,yr,xr);return this.cache={},pr}}}]),cr}(Rt.default.Block);hr.blotName="block",hr.tagName="P",hr.defaultChild="break",hr.allowedChildren=[Zt.default,Rt.default.Embed,Ut.default];function ar(or){var cr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return or==null||(typeof or.formats=="function"&&(cr=(0,St.default)(cr,or.formats())),or.parent==null||or.parent.blotName=="scroll"||or.parent.statics.scope!==or.statics.scope)?cr:ar(or.parent,cr)}ot.bubbleFormats=ar,ot.BlockEmbed=rr,ot.default=hr},function(it,ot,ut){Object.defineProperty(ot,"__esModule",{value:!0}),ot.default=ot.overload=ot.expandConfig=void 0;var ct=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ir){return typeof ir}:function(ir){return ir&&typeof Symbol=="function"&&ir.constructor===Symbol&&ir!==Symbol.prototype?"symbol":typeof ir},dt=function(){function ir(mr,lr){var br=[],Er=!0,Sr=!1,_r=void 0;try{for(var wr=mr[Symbol.iterator](),Ar;!(Er=(Ar=wr.next()).done)&&(br.push(Ar.value),!(lr&&br.length===lr));Er=!0);}catch(kr){Sr=!0,_r=kr}finally{try{!Er&&wr.return&&wr.return()}finally{if(Sr)throw _r}}return br}return function(mr,lr){if(Array.isArray(mr))return mr;if(Symbol.iterator in Object(mr))return ir(mr,lr);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ft=function(){function ir(mr,lr){for(var br=0;br<lr.length;br++){var Er=lr[br];Er.enumerable=Er.enumerable||!1,Er.configurable=!0,"value"in Er&&(Er.writable=!0),Object.defineProperty(mr,Er.key,Er)}}return function(mr,lr,br){return lr&&ir(mr.prototype,lr),br&&ir(mr,br),mr}}();ut(50);var St=ut(2),Tt=ar(St),kt=ut(14),jt=ar(kt),Rt=ut(8),$t=ar(Rt),zt=ut(9),Ht=ar(zt),Zt=ut(0),Bt=ar(Zt),Ut=ut(15),Kt=ar(Ut),Yt=ut(3),Jt=ar(Yt),er=ut(10),tr=ar(er),rr=ut(34),hr=ar(rr);function ar(ir){return ir&&ir.__esModule?ir:{default:ir}}function or(ir,mr,lr){return mr in ir?Object.defineProperty(ir,mr,{value:lr,enumerable:!0,configurable:!0,writable:!0}):ir[mr]=lr,ir}function cr(ir,mr){if(!(ir instanceof mr))throw new TypeError("Cannot call a class as a function")}var gr=(0,tr.default)("quill"),yr=function(){ft(ir,null,[{key:"debug",value:function(lr){lr===!0&&(lr="log"),tr.default.level(lr)}},{key:"find",value:function(lr){return lr.__quill||Bt.default.find(lr)}},{key:"import",value:function(lr){return this.imports[lr]==null&&gr.error("Cannot import "+lr+". Are you sure it was registered?"),this.imports[lr]}},{key:"register",value:function(lr,br){var Er=this,Sr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof lr!="string"){var _r=lr.attrName||lr.blotName;typeof _r=="string"?this.register("formats/"+_r,lr,br):Object.keys(lr).forEach(function(wr){Er.register(wr,lr[wr],br)})}else this.imports[lr]!=null&&!Sr&&gr.warn("Overwriting "+lr+" with",br),this.imports[lr]=br,(lr.startsWith("blots/")||lr.startsWith("formats/"))&&br.blotName!=="abstract"?Bt.default.register(br):lr.startsWith("modules")&&typeof br.register=="function"&&br.register()}}]);function ir(mr){var lr=this,br=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(cr(this,ir),this.options=xr(mr,br),this.container=this.options.container,this.container==null)return gr.error("Invalid Quill container",mr);this.options.debug&&ir.debug(this.options.debug);var Er=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new $t.default,this.scroll=Bt.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new jt.default(this.scroll),this.selection=new Kt.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on($t.default.events.EDITOR_CHANGE,function(_r){_r===$t.default.events.TEXT_CHANGE&&lr.root.classList.toggle("ql-blank",lr.editor.isBlank())}),this.emitter.on($t.default.events.SCROLL_UPDATE,function(_r,wr){var Ar=lr.selection.lastRange,kr=Ar&&Ar.length===0?Ar.index:void 0;dr.call(lr,function(){return lr.editor.update(null,wr,kr)},_r)});var Sr=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+Er+"<p><br></p></div>");this.setContents(Sr),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return ft(ir,[{key:"addContainer",value:function(lr){var br=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof lr=="string"){var Er=lr;lr=document.createElement("div"),lr.classList.add(Er)}return this.container.insertBefore(lr,br),lr}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(lr,br,Er){var Sr=this,_r=pr(lr,br,Er),wr=dt(_r,4);return lr=wr[0],br=wr[1],Er=wr[3],dr.call(this,function(){return Sr.editor.deleteText(lr,br)},Er,lr,-1*br)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var lr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(lr),this.container.classList.toggle("ql-disabled",!lr)}},{key:"focus",value:function(){var lr=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=lr,this.scrollIntoView()}},{key:"format",value:function(lr,br){var Er=this,Sr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:$t.default.sources.API;return dr.call(this,function(){var _r=Er.getSelection(!0),wr=new Tt.default;if(_r==null)return wr;if(Bt.default.query(lr,Bt.default.Scope.BLOCK))wr=Er.editor.formatLine(_r.index,_r.length,or({},lr,br));else{if(_r.length===0)return Er.selection.format(lr,br),wr;wr=Er.editor.formatText(_r.index,_r.length,or({},lr,br))}return Er.setSelection(_r,$t.default.sources.SILENT),wr},Sr)}},{key:"formatLine",value:function(lr,br,Er,Sr,_r){var wr=this,Ar=void 0,kr=pr(lr,br,Er,Sr,_r),Tr=dt(kr,4);return lr=Tr[0],br=Tr[1],Ar=Tr[2],_r=Tr[3],dr.call(this,function(){return wr.editor.formatLine(lr,br,Ar)},_r,lr,0)}},{key:"formatText",value:function(lr,br,Er,Sr,_r){var wr=this,Ar=void 0,kr=pr(lr,br,Er,Sr,_r),Tr=dt(kr,4);return lr=Tr[0],br=Tr[1],Ar=Tr[2],_r=Tr[3],dr.call(this,function(){return wr.editor.formatText(lr,br,Ar)},_r,lr,0)}},{key:"getBounds",value:function(lr){var br=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Er=void 0;typeof lr=="number"?Er=this.selection.getBounds(lr,br):Er=this.selection.getBounds(lr.index,lr.length);var Sr=this.container.getBoundingClientRect();return{bottom:Er.bottom-Sr.top,height:Er.height,left:Er.left-Sr.left,right:Er.right-Sr.left,top:Er.top-Sr.top,width:Er.width}}},{key:"getContents",value:function(){var lr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,br=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-lr,Er=pr(lr,br),Sr=dt(Er,2);return lr=Sr[0],br=Sr[1],this.editor.getContents(lr,br)}},{key:"getFormat",value:function(){var lr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),br=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof lr=="number"?this.editor.getFormat(lr,br):this.editor.getFormat(lr.index,lr.length)}},{key:"getIndex",value:function(lr){return lr.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(lr){return this.scroll.leaf(lr)}},{key:"getLine",value:function(lr){return this.scroll.line(lr)}},{key:"getLines",value:function(){var lr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,br=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof lr!="number"?this.scroll.lines(lr.index,lr.length):this.scroll.lines(lr,br)}},{key:"getModule",value:function(lr){return this.theme.modules[lr]}},{key:"getSelection",value:function(){var lr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return lr&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var lr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,br=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-lr,Er=pr(lr,br),Sr=dt(Er,2);return lr=Sr[0],br=Sr[1],this.editor.getText(lr,br)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(lr,br,Er){var Sr=this,_r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:ir.sources.API;return dr.call(this,function(){return Sr.editor.insertEmbed(lr,br,Er)},_r,lr)}},{key:"insertText",value:function(lr,br,Er,Sr,_r){var wr=this,Ar=void 0,kr=pr(lr,0,Er,Sr,_r),Tr=dt(kr,4);return lr=Tr[0],Ar=Tr[2],_r=Tr[3],dr.call(this,function(){return wr.editor.insertText(lr,br,Ar)},_r,lr,br.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(lr,br,Er){this.clipboard.dangerouslyPasteHTML(lr,br,Er)}},{key:"removeFormat",value:function(lr,br,Er){var Sr=this,_r=pr(lr,br,Er),wr=dt(_r,4);return lr=wr[0],br=wr[1],Er=wr[3],dr.call(this,function(){return Sr.editor.removeFormat(lr,br)},Er,lr)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(lr){var br=this,Er=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$t.default.sources.API;return dr.call(this,function(){lr=new Tt.default(lr);var Sr=br.getLength(),_r=br.editor.deleteText(0,Sr),wr=br.editor.applyDelta(lr),Ar=wr.ops[wr.ops.length-1];Ar!=null&&typeof Ar.insert=="string"&&Ar.insert[Ar.insert.length-1]===`
`&&(br.editor.deleteText(br.getLength()-1,1),wr.delete(1));var kr=_r.compose(wr);return kr},Er)}},{key:"setSelection",value:function(lr,br,Er){if(lr==null)this.selection.setRange(null,br||ir.sources.API);else{var Sr=pr(lr,br,Er),_r=dt(Sr,4);lr=_r[0],br=_r[1],Er=_r[3],this.selection.setRange(new Ut.Range(lr,br),Er),Er!==$t.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(lr){var br=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$t.default.sources.API,Er=new Tt.default().insert(lr);return this.setContents(Er,br)}},{key:"update",value:function(){var lr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:$t.default.sources.USER,br=this.scroll.update(lr);return this.selection.update(lr),br}},{key:"updateContents",value:function(lr){var br=this,Er=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$t.default.sources.API;return dr.call(this,function(){return lr=new Tt.default(lr),br.editor.applyDelta(lr,Er)},Er,!0)}}]),ir}();yr.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},yr.events=$t.default.events,yr.sources=$t.default.sources,yr.version="1.3.7",yr.imports={delta:Tt.default,parchment:Bt.default,"core/module":Ht.default,"core/theme":hr.default};function xr(ir,mr){if(mr=(0,Jt.default)(!0,{container:ir,modules:{clipboard:!0,keyboard:!0,history:!0}},mr),!mr.theme||mr.theme===yr.DEFAULTS.theme)mr.theme=hr.default;else if(mr.theme=yr.import("themes/"+mr.theme),mr.theme==null)throw new Error("Invalid theme "+mr.theme+". Did you register it?");var lr=(0,Jt.default)(!0,{},mr.theme.DEFAULTS);[lr,mr].forEach(function(Sr){Sr.modules=Sr.modules||{},Object.keys(Sr.modules).forEach(function(_r){Sr.modules[_r]===!0&&(Sr.modules[_r]={})})});var br=Object.keys(lr.modules).concat(Object.keys(mr.modules)),Er=br.reduce(function(Sr,_r){var wr=yr.import("modules/"+_r);return wr==null?gr.error("Cannot load "+_r+" module. Are you sure you registered it?"):Sr[_r]=wr.DEFAULTS||{},Sr},{});return mr.modules!=null&&mr.modules.toolbar&&mr.modules.toolbar.constructor!==Object&&(mr.modules.toolbar={container:mr.modules.toolbar}),mr=(0,Jt.default)(!0,{},yr.DEFAULTS,{modules:Er},lr,mr),["bounds","container","scrollingContainer"].forEach(function(Sr){typeof mr[Sr]=="string"&&(mr[Sr]=document.querySelector(mr[Sr]))}),mr.modules=Object.keys(mr.modules).reduce(function(Sr,_r){return mr.modules[_r]&&(Sr[_r]=mr.modules[_r]),Sr},{}),mr}function dr(ir,mr,lr,br){if(this.options.strict&&!this.isEnabled()&&mr===$t.default.sources.USER)return new Tt.default;var Er=lr==null?null:this.getSelection(),Sr=this.editor.delta,_r=ir();if(Er!=null&&(lr===!0&&(lr=Er.index),br==null?Er=nr(Er,_r,mr):br!==0&&(Er=nr(Er,lr,br,mr)),this.setSelection(Er,$t.default.sources.SILENT)),_r.length()>0){var wr,Ar=[$t.default.events.TEXT_CHANGE,_r,Sr,mr];if((wr=this.emitter).emit.apply(wr,[$t.default.events.EDITOR_CHANGE].concat(Ar)),mr!==$t.default.sources.SILENT){var kr;(kr=this.emitter).emit.apply(kr,Ar)}}return _r}function pr(ir,mr,lr,br,Er){var Sr={};return typeof ir.index=="number"&&typeof ir.length=="number"?typeof mr!="number"?(Er=br,br=lr,lr=mr,mr=ir.length,ir=ir.index):(mr=ir.length,ir=ir.index):typeof mr!="number"&&(Er=br,br=lr,lr=mr,mr=0),(typeof lr>"u"?"undefined":ct(lr))==="object"?(Sr=lr,Er=br):typeof lr=="string"&&(br!=null?Sr[lr]=br:Er=lr),Er=Er||$t.default.sources.API,[ir,mr,Sr,Er]}function nr(ir,mr,lr,br){if(ir==null)return null;var Er=void 0,Sr=void 0;if(mr instanceof Tt.default){var _r=[ir.index,ir.index+ir.length].map(function(Tr){return mr.transformPosition(Tr,br!==$t.default.sources.USER)}),wr=dt(_r,2);Er=wr[0],Sr=wr[1]}else{var Ar=[ir.index,ir.index+ir.length].map(function(Tr){return Tr<mr||Tr===mr&&br===$t.default.sources.USER?Tr:lr>=0?Tr+lr:Math.max(mr,Tr+lr)}),kr=dt(Ar,2);Er=kr[0],Sr=kr[1]}return new Ut.Range(Er,Sr-Er)}ot.expandConfig=xr,ot.overload=pr,ot.default=yr},function(it,ot,ut){Object.defineProperty(ot,"__esModule",{value:!0});var ct=function(){function Zt(Bt,Ut){for(var Kt=0;Kt<Ut.length;Kt++){var Yt=Ut[Kt];Yt.enumerable=Yt.enumerable||!1,Yt.configurable=!0,"value"in Yt&&(Yt.writable=!0),Object.defineProperty(Bt,Yt.key,Yt)}}return function(Bt,Ut,Kt){return Ut&&Zt(Bt.prototype,Ut),Kt&&Zt(Bt,Kt),Bt}}(),dt=function Zt(Bt,Ut,Kt){Bt===null&&(Bt=Function.prototype);var Yt=Object.getOwnPropertyDescriptor(Bt,Ut);if(Yt===void 0){var Jt=Object.getPrototypeOf(Bt);return Jt===null?void 0:Zt(Jt,Ut,Kt)}else{if("value"in Yt)return Yt.value;var er=Yt.get;return er===void 0?void 0:er.call(Kt)}},ft=ut(7),St=jt(ft),Tt=ut(0),kt=jt(Tt);function jt(Zt){return Zt&&Zt.__esModule?Zt:{default:Zt}}function Rt(Zt,Bt){if(!(Zt instanceof Bt))throw new TypeError("Cannot call a class as a function")}function $t(Zt,Bt){if(!Zt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Bt&&(typeof Bt=="object"||typeof Bt=="function")?Bt:Zt}function zt(Zt,Bt){if(typeof Bt!="function"&&Bt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Bt);Zt.prototype=Object.create(Bt&&Bt.prototype,{constructor:{value:Zt,enumerable:!1,writable:!0,configurable:!0}}),Bt&&(Object.setPrototypeOf?Object.setPrototypeOf(Zt,Bt):Zt.__proto__=Bt)}var Ht=function(Zt){zt(Bt,Zt);function Bt(){return Rt(this,Bt),$t(this,(Bt.__proto__||Object.getPrototypeOf(Bt)).apply(this,arguments))}return ct(Bt,[{key:"formatAt",value:function(Kt,Yt,Jt,er){if(Bt.compare(this.statics.blotName,Jt)<0&&kt.default.query(Jt,kt.default.Scope.BLOT)){var tr=this.isolate(Kt,Yt);er&&tr.wrap(Jt,er)}else dt(Bt.prototype.__proto__||Object.getPrototypeOf(Bt.prototype),"formatAt",this).call(this,Kt,Yt,Jt,er)}},{key:"optimize",value:function(Kt){if(dt(Bt.prototype.__proto__||Object.getPrototypeOf(Bt.prototype),"optimize",this).call(this,Kt),this.parent instanceof Bt&&Bt.compare(this.statics.blotName,this.parent.statics.blotName)>0){var Yt=this.parent.isolate(this.offset(),this.length());this.moveChildren(Yt),Yt.wrap(this)}}}],[{key:"compare",value:function(Kt,Yt){var Jt=Bt.order.indexOf(Kt),er=Bt.order.indexOf(Yt);return Jt>=0||er>=0?Jt-er:Kt===Yt?0:Kt<Yt?-1:1}}]),Bt}(kt.default.Inline);Ht.allowedChildren=[Ht,kt.default.Embed,St.default],Ht.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],ot.default=Ht},function(it,ot,ut){Object.defineProperty(ot,"__esModule",{value:!0});var ct=ut(0),dt=ft(ct);function ft(Rt){return Rt&&Rt.__esModule?Rt:{default:Rt}}function St(Rt,$t){if(!(Rt instanceof $t))throw new TypeError("Cannot call a class as a function")}function Tt(Rt,$t){if(!Rt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $t&&(typeof $t=="object"||typeof $t=="function")?$t:Rt}function kt(Rt,$t){if(typeof $t!="function"&&$t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof $t);Rt.prototype=Object.create($t&&$t.prototype,{constructor:{value:Rt,enumerable:!1,writable:!0,configurable:!0}}),$t&&(Object.setPrototypeOf?Object.setPrototypeOf(Rt,$t):Rt.__proto__=$t)}var jt=function(Rt){kt($t,Rt);function $t(){return St(this,$t),Tt(this,($t.__proto__||Object.getPrototypeOf($t)).apply(this,arguments))}return $t}(dt.default.Text);ot.default=jt},function(it,ot,ut){Object.defineProperty(ot,"__esModule",{value:!0});var ct=function(){function Ut(Kt,Yt){for(var Jt=0;Jt<Yt.length;Jt++){var er=Yt[Jt];er.enumerable=er.enumerable||!1,er.configurable=!0,"value"in er&&(er.writable=!0),Object.defineProperty(Kt,er.key,er)}}return function(Kt,Yt,Jt){return Yt&&Ut(Kt.prototype,Yt),Jt&&Ut(Kt,Jt),Kt}}(),dt=function Ut(Kt,Yt,Jt){Kt===null&&(Kt=Function.prototype);var er=Object.getOwnPropertyDescriptor(Kt,Yt);if(er===void 0){var tr=Object.getPrototypeOf(Kt);return tr===null?void 0:Ut(tr,Yt,Jt)}else{if("value"in er)return er.value;var rr=er.get;return rr===void 0?void 0:rr.call(Jt)}},ft=ut(54),St=jt(ft),Tt=ut(10),kt=jt(Tt);function jt(Ut){return Ut&&Ut.__esModule?Ut:{default:Ut}}function Rt(Ut,Kt){if(!(Ut instanceof Kt))throw new TypeError("Cannot call a class as a function")}function $t(Ut,Kt){if(!Ut)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Kt&&(typeof Kt=="object"||typeof Kt=="function")?Kt:Ut}function zt(Ut,Kt){if(typeof Kt!="function"&&Kt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Kt);Ut.prototype=Object.create(Kt&&Kt.prototype,{constructor:{value:Ut,enumerable:!1,writable:!0,configurable:!0}}),Kt&&(Object.setPrototypeOf?Object.setPrototypeOf(Ut,Kt):Ut.__proto__=Kt)}var Ht=(0,kt.default)("quill:events"),Zt=["selectionchange","mousedown","mouseup","click"];Zt.forEach(function(Ut){document.addEventListener(Ut,function(){for(var Kt=arguments.length,Yt=Array(Kt),Jt=0;Jt<Kt;Jt++)Yt[Jt]=arguments[Jt];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(er){if(er.__quill&&er.__quill.emitter){var tr;(tr=er.__quill.emitter).handleDOM.apply(tr,Yt)}})})});var Bt=function(Ut){zt(Kt,Ut);function Kt(){Rt(this,Kt);var Yt=$t(this,(Kt.__proto__||Object.getPrototypeOf(Kt)).call(this));return Yt.listeners={},Yt.on("error",Ht.error),Yt}return ct(Kt,[{key:"emit",value:function(){Ht.log.apply(Ht,arguments),dt(Kt.prototype.__proto__||Object.getPrototypeOf(Kt.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(Jt){for(var er=arguments.length,tr=Array(er>1?er-1:0),rr=1;rr<er;rr++)tr[rr-1]=arguments[rr];(this.listeners[Jt.type]||[]).forEach(function(hr){var ar=hr.node,or=hr.handler;(Jt.target===ar||ar.contains(Jt.target))&&or.apply(void 0,[Jt].concat(tr))})}},{key:"listenDOM",value:function(Jt,er,tr){this.listeners[Jt]||(this.listeners[Jt]=[]),this.listeners[Jt].push({node:er,handler:tr})}}]),Kt}(St.default);Bt.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},Bt.sources={API:"api",SILENT:"silent",USER:"user"},ot.default=Bt},function(it,ot,ut){Object.defineProperty(ot,"__esModule",{value:!0});function ct(ft,St){if(!(ft instanceof St))throw new TypeError("Cannot call a class as a function")}var dt=function ft(St){var Tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ct(this,ft),this.quill=St,this.options=Tt};dt.DEFAULTS={},ot.default=dt},function(it,ot,ut){Object.defineProperty(ot,"__esModule",{value:!0});var ct=["error","warn","log","info"],dt="warn";function ft(Tt){if(ct.indexOf(Tt)<=ct.indexOf(dt)){for(var kt,jt=arguments.length,Rt=Array(jt>1?jt-1:0),$t=1;$t<jt;$t++)Rt[$t-1]=arguments[$t];(kt=console)[Tt].apply(kt,Rt)}}function St(Tt){return ct.reduce(function(kt,jt){return kt[jt]=ft.bind(console,jt,Tt),kt},{})}ft.level=St.level=function(Tt){dt=Tt},ot.default=St},function(it,ot,ut){var ct=Array.prototype.slice,dt=ut(52),ft=ut(53),St=it.exports=function(Rt,$t,zt){return zt||(zt={}),Rt===$t?!0:Rt instanceof Date&&$t instanceof Date?Rt.getTime()===$t.getTime():!Rt||!$t||typeof Rt!="object"&&typeof $t!="object"?zt.strict?Rt===$t:Rt==$t:jt(Rt,$t,zt)};function Tt(Rt){return Rt==null}function kt(Rt){return!(!Rt||typeof Rt!="object"||typeof Rt.length!="number"||typeof Rt.copy!="function"||typeof Rt.slice!="function"||Rt.length>0&&typeof Rt[0]!="number")}function jt(Rt,$t,zt){var Ht,Zt;if(Tt(Rt)||Tt($t)||Rt.prototype!==$t.prototype)return!1;if(ft(Rt))return ft($t)?(Rt=ct.call(Rt),$t=ct.call($t),St(Rt,$t,zt)):!1;if(kt(Rt)){if(!kt($t)||Rt.length!==$t.length)return!1;for(Ht=0;Ht<Rt.length;Ht++)if(Rt[Ht]!==$t[Ht])return!1;return!0}try{var Bt=dt(Rt),Ut=dt($t)}catch{return!1}if(Bt.length!=Ut.length)return!1;for(Bt.sort(),Ut.sort(),Ht=Bt.length-1;Ht>=0;Ht--)if(Bt[Ht]!=Ut[Ht])return!1;for(Ht=Bt.length-1;Ht>=0;Ht--)if(Zt=Bt[Ht],!St(Rt[Zt],$t[Zt],zt))return!1;return typeof Rt==typeof $t}},function(it,ot,ut){Object.defineProperty(ot,"__esModule",{value:!0});var ct=ut(1),dt=function(){function ft(St,Tt,kt){kt===void 0&&(kt={}),this.attrName=St,this.keyName=Tt;var jt=ct.Scope.TYPE&ct.Scope.ATTRIBUTE;kt.scope!=null?this.scope=kt.scope&ct.Scope.LEVEL|jt:this.scope=ct.Scope.ATTRIBUTE,kt.whitelist!=null&&(this.whitelist=kt.whitelist)}return ft.keys=function(St){return[].map.call(St.attributes,function(Tt){return Tt.name})},ft.prototype.add=function(St,Tt){return this.canAdd(St,Tt)?(St.setAttribute(this.keyName,Tt),!0):!1},ft.prototype.canAdd=function(St,Tt){var kt=ct.query(St,ct.Scope.BLOT&(this.scope|ct.Scope.TYPE));return kt==null?!1:this.whitelist==null?!0:typeof Tt=="string"?this.whitelist.indexOf(Tt.replace(/["']/g,""))>-1:this.whitelist.indexOf(Tt)>-1},ft.prototype.remove=function(St){St.removeAttribute(this.keyName)},ft.prototype.value=function(St){var Tt=St.getAttribute(this.keyName);return this.canAdd(St,Tt)&&Tt?Tt:""},ft}();ot.default=dt},function(it,ot,ut){Object.defineProperty(ot,"__esModule",{value:!0}),ot.default=ot.Code=void 0;var ct=function(){function rr(hr,ar){var or=[],cr=!0,gr=!1,yr=void 0;try{for(var xr=hr[Symbol.iterator](),dr;!(cr=(dr=xr.next()).done)&&(or.push(dr.value),!(ar&&or.length===ar));cr=!0);}catch(pr){gr=!0,yr=pr}finally{try{!cr&&xr.return&&xr.return()}finally{if(gr)throw yr}}return or}return function(hr,ar){if(Array.isArray(hr))return hr;if(Symbol.iterator in Object(hr))return rr(hr,ar);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),dt=function(){function rr(hr,ar){for(var or=0;or<ar.length;or++){var cr=ar[or];cr.enumerable=cr.enumerable||!1,cr.configurable=!0,"value"in cr&&(cr.writable=!0),Object.defineProperty(hr,cr.key,cr)}}return function(hr,ar,or){return ar&&rr(hr.prototype,ar),or&&rr(hr,or),hr}}(),ft=function rr(hr,ar,or){hr===null&&(hr=Function.prototype);var cr=Object.getOwnPropertyDescriptor(hr,ar);if(cr===void 0){var gr=Object.getPrototypeOf(hr);return gr===null?void 0:rr(gr,ar,or)}else{if("value"in cr)return cr.value;var yr=cr.get;return yr===void 0?void 0:yr.call(or)}},St=ut(2),Tt=Ut(St),kt=ut(0),jt=Ut(kt),Rt=ut(4),$t=Ut(Rt),zt=ut(6),Ht=Ut(zt),Zt=ut(7),Bt=Ut(Zt);function Ut(rr){return rr&&rr.__esModule?rr:{default:rr}}function Kt(rr,hr){if(!(rr instanceof hr))throw new TypeError("Cannot call a class as a function")}function Yt(rr,hr){if(!rr)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return hr&&(typeof hr=="object"||typeof hr=="function")?hr:rr}function Jt(rr,hr){if(typeof hr!="function"&&hr!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof hr);rr.prototype=Object.create(hr&&hr.prototype,{constructor:{value:rr,enumerable:!1,writable:!0,configurable:!0}}),hr&&(Object.setPrototypeOf?Object.setPrototypeOf(rr,hr):rr.__proto__=hr)}var er=function(rr){Jt(hr,rr);function hr(){return Kt(this,hr),Yt(this,(hr.__proto__||Object.getPrototypeOf(hr)).apply(this,arguments))}return hr}(Ht.default);er.blotName="code",er.tagName="CODE";var tr=function(rr){Jt(hr,rr);function hr(){return Kt(this,hr),Yt(this,(hr.__proto__||Object.getPrototypeOf(hr)).apply(this,arguments))}return dt(hr,[{key:"delta",value:function(){var or=this,cr=this.domNode.textContent;return cr.endsWith(`
`)&&(cr=cr.slice(0,-1)),cr.split(`
`).reduce(function(gr,yr){return gr.insert(yr).insert(`
`,or.formats())},new Tt.default)}},{key:"format",value:function(or,cr){if(!(or===this.statics.blotName&&cr)){var gr=this.descendant(Bt.default,this.length()-1),yr=ct(gr,1),xr=yr[0];xr!=null&&xr.deleteAt(xr.length()-1,1),ft(hr.prototype.__proto__||Object.getPrototypeOf(hr.prototype),"format",this).call(this,or,cr)}}},{key:"formatAt",value:function(or,cr,gr,yr){if(cr!==0&&!(jt.default.query(gr,jt.default.Scope.BLOCK)==null||gr===this.statics.blotName&&yr===this.statics.formats(this.domNode))){var xr=this.newlineIndex(or);if(!(xr<0||xr>=or+cr)){var dr=this.newlineIndex(or,!0)+1,pr=xr-dr+1,nr=this.isolate(dr,pr),ir=nr.next;nr.format(gr,yr),ir instanceof hr&&ir.formatAt(0,or-dr+cr-pr,gr,yr)}}}},{key:"insertAt",value:function(or,cr,gr){if(gr==null){var yr=this.descendant(Bt.default,or),xr=ct(yr,2),dr=xr[0],pr=xr[1];dr.insertAt(pr,cr)}}},{key:"length",value:function(){var or=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?or:or+1}},{key:"newlineIndex",value:function(or){var cr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(cr)return this.domNode.textContent.slice(0,or).lastIndexOf(`
`);var gr=this.domNode.textContent.slice(or).indexOf(`
`);return gr>-1?or+gr:-1}},{key:"optimize",value:function(or){this.domNode.textContent.endsWith(`
`)||this.appendChild(jt.default.create("text",`
`)),ft(hr.prototype.__proto__||Object.getPrototypeOf(hr.prototype),"optimize",this).call(this,or);var cr=this.next;cr!=null&&cr.prev===this&&cr.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===cr.statics.formats(cr.domNode)&&(cr.optimize(or),cr.moveChildren(this),cr.remove())}},{key:"replace",value:function(or){ft(hr.prototype.__proto__||Object.getPrototypeOf(hr.prototype),"replace",this).call(this,or),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(cr){var gr=jt.default.find(cr);gr==null?cr.parentNode.removeChild(cr):gr instanceof jt.default.Embed?gr.remove():gr.unwrap()})}}],[{key:"create",value:function(or){var cr=ft(hr.__proto__||Object.getPrototypeOf(hr),"create",this).call(this,or);return cr.setAttribute("spellcheck",!1),cr}},{key:"formats",value:function(){return!0}}]),hr}($t.default);tr.blotName="code-block",tr.tagName="PRE",tr.TAB="  ",ot.Code=er,ot.default=tr},function(it,ot,ut){Object.defineProperty(ot,"__esModule",{value:!0});var ct=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ir){return typeof ir}:function(ir){return ir&&typeof Symbol=="function"&&ir.constructor===Symbol&&ir!==Symbol.prototype?"symbol":typeof ir},dt=function(){function ir(mr,lr){var br=[],Er=!0,Sr=!1,_r=void 0;try{for(var wr=mr[Symbol.iterator](),Ar;!(Er=(Ar=wr.next()).done)&&(br.push(Ar.value),!(lr&&br.length===lr));Er=!0);}catch(kr){Sr=!0,_r=kr}finally{try{!Er&&wr.return&&wr.return()}finally{if(Sr)throw _r}}return br}return function(mr,lr){if(Array.isArray(mr))return mr;if(Symbol.iterator in Object(mr))return ir(mr,lr);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ft=function(){function ir(mr,lr){for(var br=0;br<lr.length;br++){var Er=lr[br];Er.enumerable=Er.enumerable||!1,Er.configurable=!0,"value"in Er&&(Er.writable=!0),Object.defineProperty(mr,Er.key,Er)}}return function(mr,lr,br){return lr&&ir(mr.prototype,lr),br&&ir(mr,br),mr}}(),St=ut(2),Tt=cr(St),kt=ut(20),jt=cr(kt),Rt=ut(0),$t=cr(Rt),zt=ut(13),Ht=cr(zt),Zt=ut(24),Bt=cr(Zt),Ut=ut(4),Kt=cr(Ut),Yt=ut(16),Jt=cr(Yt),er=ut(21),tr=cr(er),rr=ut(11),hr=cr(rr),ar=ut(3),or=cr(ar);function cr(ir){return ir&&ir.__esModule?ir:{default:ir}}function gr(ir,mr,lr){return mr in ir?Object.defineProperty(ir,mr,{value:lr,enumerable:!0,configurable:!0,writable:!0}):ir[mr]=lr,ir}function yr(ir,mr){if(!(ir instanceof mr))throw new TypeError("Cannot call a class as a function")}var xr=/^[ -~]*$/,dr=function(){function ir(mr){yr(this,ir),this.scroll=mr,this.delta=this.getDelta()}return ft(ir,[{key:"applyDelta",value:function(lr){var br=this,Er=!1;this.scroll.update();var Sr=this.scroll.length();return this.scroll.batchStart(),lr=nr(lr),lr.reduce(function(_r,wr){var Ar=wr.retain||wr.delete||wr.insert.length||1,kr=wr.attributes||{};if(wr.insert!=null){if(typeof wr.insert=="string"){var Tr=wr.insert;Tr.endsWith(`
`)&&Er&&(Er=!1,Tr=Tr.slice(0,-1)),_r>=Sr&&!Tr.endsWith(`
`)&&(Er=!0),br.scroll.insertAt(_r,Tr);var Pr=br.scroll.line(_r),Lr=dt(Pr,2),Fr=Lr[0],Dr=Lr[1],Mr=(0,or.default)({},(0,Ut.bubbleFormats)(Fr));if(Fr instanceof Kt.default){var Vr=Fr.descendant($t.default.Leaf,Dr),qr=dt(Vr,1),Xr=qr[0];Mr=(0,or.default)(Mr,(0,Ut.bubbleFormats)(Xr))}kr=jt.default.attributes.diff(Mr,kr)||{}}else if(ct(wr.insert)==="object"){var Cr=Object.keys(wr.insert)[0];if(Cr==null)return _r;br.scroll.insertAt(_r,Cr,wr.insert[Cr])}Sr+=Ar}return Object.keys(kr).forEach(function(Rr){br.scroll.formatAt(_r,Ar,Rr,kr[Rr])}),_r+Ar},0),lr.reduce(function(_r,wr){return typeof wr.delete=="number"?(br.scroll.deleteAt(_r,wr.delete),_r):_r+(wr.retain||wr.insert.length||1)},0),this.scroll.batchEnd(),this.update(lr)}},{key:"deleteText",value:function(lr,br){return this.scroll.deleteAt(lr,br),this.update(new Tt.default().retain(lr).delete(br))}},{key:"formatLine",value:function(lr,br){var Er=this,Sr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(Sr).forEach(function(_r){if(!(Er.scroll.whitelist!=null&&!Er.scroll.whitelist[_r])){var wr=Er.scroll.lines(lr,Math.max(br,1)),Ar=br;wr.forEach(function(kr){var Tr=kr.length();if(!(kr instanceof Ht.default))kr.format(_r,Sr[_r]);else{var Pr=lr-kr.offset(Er.scroll),Lr=kr.newlineIndex(Pr+Ar)-Pr+1;kr.formatAt(Pr,Lr,_r,Sr[_r])}Ar-=Tr})}}),this.scroll.optimize(),this.update(new Tt.default().retain(lr).retain(br,(0,tr.default)(Sr)))}},{key:"formatText",value:function(lr,br){var Er=this,Sr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(Sr).forEach(function(_r){Er.scroll.formatAt(lr,br,_r,Sr[_r])}),this.update(new Tt.default().retain(lr).retain(br,(0,tr.default)(Sr)))}},{key:"getContents",value:function(lr,br){return this.delta.slice(lr,lr+br)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(lr,br){return lr.concat(br.delta())},new Tt.default)}},{key:"getFormat",value:function(lr){var br=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Er=[],Sr=[];br===0?this.scroll.path(lr).forEach(function(wr){var Ar=dt(wr,1),kr=Ar[0];kr instanceof Kt.default?Er.push(kr):kr instanceof $t.default.Leaf&&Sr.push(kr)}):(Er=this.scroll.lines(lr,br),Sr=this.scroll.descendants($t.default.Leaf,lr,br));var _r=[Er,Sr].map(function(wr){if(wr.length===0)return{};for(var Ar=(0,Ut.bubbleFormats)(wr.shift());Object.keys(Ar).length>0;){var kr=wr.shift();if(kr==null)return Ar;Ar=pr((0,Ut.bubbleFormats)(kr),Ar)}return Ar});return or.default.apply(or.default,_r)}},{key:"getText",value:function(lr,br){return this.getContents(lr,br).filter(function(Er){return typeof Er.insert=="string"}).map(function(Er){return Er.insert}).join("")}},{key:"insertEmbed",value:function(lr,br,Er){return this.scroll.insertAt(lr,br,Er),this.update(new Tt.default().retain(lr).insert(gr({},br,Er)))}},{key:"insertText",value:function(lr,br){var Er=this,Sr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return br=br.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(lr,br),Object.keys(Sr).forEach(function(_r){Er.scroll.formatAt(lr,br.length,_r,Sr[_r])}),this.update(new Tt.default().retain(lr).insert(br,(0,tr.default)(Sr)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var lr=this.scroll.children.head;return lr.statics.blotName!==Kt.default.blotName||lr.children.length>1?!1:lr.children.head instanceof Jt.default}},{key:"removeFormat",value:function(lr,br){var Er=this.getText(lr,br),Sr=this.scroll.line(lr+br),_r=dt(Sr,2),wr=_r[0],Ar=_r[1],kr=0,Tr=new Tt.default;wr!=null&&(wr instanceof Ht.default?kr=wr.newlineIndex(Ar)-Ar+1:kr=wr.length()-Ar,Tr=wr.delta().slice(Ar,Ar+kr-1).insert(`
`));var Pr=this.getContents(lr,br+kr),Lr=Pr.diff(new Tt.default().insert(Er).concat(Tr)),Fr=new Tt.default().retain(lr).concat(Lr);return this.applyDelta(Fr)}},{key:"update",value:function(lr){var br=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],Er=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,Sr=this.delta;if(br.length===1&&br[0].type==="characterData"&&br[0].target.data.match(xr)&&$t.default.find(br[0].target)){var _r=$t.default.find(br[0].target),wr=(0,Ut.bubbleFormats)(_r),Ar=_r.offset(this.scroll),kr=br[0].oldValue.replace(Bt.default.CONTENTS,""),Tr=new Tt.default().insert(kr),Pr=new Tt.default().insert(_r.value()),Lr=new Tt.default().retain(Ar).concat(Tr.diff(Pr,Er));lr=Lr.reduce(function(Fr,Dr){return Dr.insert?Fr.insert(Dr.insert,wr):Fr.push(Dr)},new Tt.default),this.delta=Sr.compose(lr)}else this.delta=this.getDelta(),(!lr||!(0,hr.default)(Sr.compose(lr),this.delta))&&(lr=Sr.diff(this.delta,Er));return lr}}]),ir}();function pr(ir,mr){return Object.keys(mr).reduce(function(lr,br){return ir[br]==null||(mr[br]===ir[br]?lr[br]=mr[br]:Array.isArray(mr[br])?mr[br].indexOf(ir[br])<0&&(lr[br]=mr[br].concat([ir[br]])):lr[br]=[mr[br],ir[br]]),lr},{})}function nr(ir){return ir.reduce(function(mr,lr){if(lr.insert===1){var br=(0,tr.default)(lr.attributes);return delete br.image,mr.insert({image:lr.attributes.image},br)}if(lr.attributes!=null&&(lr.attributes.list===!0||lr.attributes.bullet===!0)&&(lr=(0,tr.default)(lr),lr.attributes.list?lr.attributes.list="ordered":(lr.attributes.list="bullet",delete lr.attributes.bullet)),typeof lr.insert=="string"){var Er=lr.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return mr.insert(Er,lr.attributes)}return mr.push(lr)},new Tt.default)}ot.default=dr},function(it,ot,ut){Object.defineProperty(ot,"__esModule",{value:!0}),ot.default=ot.Range=void 0;var ct=function(){function rr(hr,ar){var or=[],cr=!0,gr=!1,yr=void 0;try{for(var xr=hr[Symbol.iterator](),dr;!(cr=(dr=xr.next()).done)&&(or.push(dr.value),!(ar&&or.length===ar));cr=!0);}catch(pr){gr=!0,yr=pr}finally{try{!cr&&xr.return&&xr.return()}finally{if(gr)throw yr}}return or}return function(hr,ar){if(Array.isArray(hr))return hr;if(Symbol.iterator in Object(hr))return rr(hr,ar);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),dt=function(){function rr(hr,ar){for(var or=0;or<ar.length;or++){var cr=ar[or];cr.enumerable=cr.enumerable||!1,cr.configurable=!0,"value"in cr&&(cr.writable=!0),Object.defineProperty(hr,cr.key,cr)}}return function(hr,ar,or){return ar&&rr(hr.prototype,ar),or&&rr(hr,or),hr}}(),ft=ut(0),St=Bt(ft),Tt=ut(21),kt=Bt(Tt),jt=ut(11),Rt=Bt(jt),$t=ut(8),zt=Bt($t),Ht=ut(10),Zt=Bt(Ht);function Bt(rr){return rr&&rr.__esModule?rr:{default:rr}}function Ut(rr){if(Array.isArray(rr)){for(var hr=0,ar=Array(rr.length);hr<rr.length;hr++)ar[hr]=rr[hr];return ar}else return Array.from(rr)}function Kt(rr,hr){if(!(rr instanceof hr))throw new TypeError("Cannot call a class as a function")}var Yt=(0,Zt.default)("quill:selection"),Jt=function rr(hr){var ar=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;Kt(this,rr),this.index=hr,this.length=ar},er=function(){function rr(hr,ar){var or=this;Kt(this,rr),this.emitter=ar,this.scroll=hr,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=St.default.create("cursor",this),this.lastRange=this.savedRange=new Jt(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){or.mouseDown||setTimeout(or.update.bind(or,zt.default.sources.USER),1)}),this.emitter.on(zt.default.events.EDITOR_CHANGE,function(cr,gr){cr===zt.default.events.TEXT_CHANGE&&gr.length()>0&&or.update(zt.default.sources.SILENT)}),this.emitter.on(zt.default.events.SCROLL_BEFORE_UPDATE,function(){if(or.hasFocus()){var cr=or.getNativeRange();cr!=null&&cr.start.node!==or.cursor.textNode&&or.emitter.once(zt.default.events.SCROLL_UPDATE,function(){try{or.setNativeRange(cr.start.node,cr.start.offset,cr.end.node,cr.end.offset)}catch{}})}}),this.emitter.on(zt.default.events.SCROLL_OPTIMIZE,function(cr,gr){if(gr.range){var yr=gr.range,xr=yr.startNode,dr=yr.startOffset,pr=yr.endNode,nr=yr.endOffset;or.setNativeRange(xr,dr,pr,nr)}}),this.update(zt.default.sources.SILENT)}return dt(rr,[{key:"handleComposition",value:function(){var ar=this;this.root.addEventListener("compositionstart",function(){ar.composing=!0}),this.root.addEventListener("compositionend",function(){if(ar.composing=!1,ar.cursor.parent){var or=ar.cursor.restore();if(!or)return;setTimeout(function(){ar.setNativeRange(or.startNode,or.startOffset,or.endNode,or.endOffset)},1)}})}},{key:"handleDragging",value:function(){var ar=this;this.emitter.listenDOM("mousedown",document.body,function(){ar.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){ar.mouseDown=!1,ar.update(zt.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(ar,or){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[ar])){this.scroll.update();var cr=this.getNativeRange();if(!(cr==null||!cr.native.collapsed||St.default.query(ar,St.default.Scope.BLOCK))){if(cr.start.node!==this.cursor.textNode){var gr=St.default.find(cr.start.node,!1);if(gr==null)return;if(gr instanceof St.default.Leaf){var yr=gr.split(cr.start.offset);gr.parent.insertBefore(this.cursor,yr)}else gr.insertBefore(this.cursor,cr.start.node);this.cursor.attach()}this.cursor.format(ar,or),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(ar){var or=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,cr=this.scroll.length();ar=Math.min(ar,cr-1),or=Math.min(ar+or,cr-1)-ar;var gr=void 0,yr=this.scroll.leaf(ar),xr=ct(yr,2),dr=xr[0],pr=xr[1];if(dr==null)return null;var nr=dr.position(pr,!0),ir=ct(nr,2);gr=ir[0],pr=ir[1];var mr=document.createRange();if(or>0){mr.setStart(gr,pr);var lr=this.scroll.leaf(ar+or),br=ct(lr,2);if(dr=br[0],pr=br[1],dr==null)return null;var Er=dr.position(pr,!0),Sr=ct(Er,2);return gr=Sr[0],pr=Sr[1],mr.setEnd(gr,pr),mr.getBoundingClientRect()}else{var _r="left",wr=void 0;return gr instanceof Text?(pr<gr.data.length?(mr.setStart(gr,pr),mr.setEnd(gr,pr+1)):(mr.setStart(gr,pr-1),mr.setEnd(gr,pr),_r="right"),wr=mr.getBoundingClientRect()):(wr=dr.domNode.getBoundingClientRect(),pr>0&&(_r="right")),{bottom:wr.top+wr.height,height:wr.height,left:wr[_r],right:wr[_r],top:wr.top,width:0}}}},{key:"getNativeRange",value:function(){var ar=document.getSelection();if(ar==null||ar.rangeCount<=0)return null;var or=ar.getRangeAt(0);if(or==null)return null;var cr=this.normalizeNative(or);return Yt.info("getNativeRange",cr),cr}},{key:"getRange",value:function(){var ar=this.getNativeRange();if(ar==null)return[null,null];var or=this.normalizedToRange(ar);return[or,ar]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(ar){var or=this,cr=[[ar.start.node,ar.start.offset]];ar.native.collapsed||cr.push([ar.end.node,ar.end.offset]);var gr=cr.map(function(dr){var pr=ct(dr,2),nr=pr[0],ir=pr[1],mr=St.default.find(nr,!0),lr=mr.offset(or.scroll);return ir===0?lr:mr instanceof St.default.Container?lr+mr.length():lr+mr.index(nr,ir)}),yr=Math.min(Math.max.apply(Math,Ut(gr)),this.scroll.length()-1),xr=Math.min.apply(Math,[yr].concat(Ut(gr)));return new Jt(xr,yr-xr)}},{key:"normalizeNative",value:function(ar){if(!tr(this.root,ar.startContainer)||!ar.collapsed&&!tr(this.root,ar.endContainer))return null;var or={start:{node:ar.startContainer,offset:ar.startOffset},end:{node:ar.endContainer,offset:ar.endOffset},native:ar};return[or.start,or.end].forEach(function(cr){for(var gr=cr.node,yr=cr.offset;!(gr instanceof Text)&&gr.childNodes.length>0;)if(gr.childNodes.length>yr)gr=gr.childNodes[yr],yr=0;else if(gr.childNodes.length===yr)gr=gr.lastChild,yr=gr instanceof Text?gr.data.length:gr.childNodes.length+1;else break;cr.node=gr,cr.offset=yr}),or}},{key:"rangeToNative",value:function(ar){var or=this,cr=ar.collapsed?[ar.index]:[ar.index,ar.index+ar.length],gr=[],yr=this.scroll.length();return cr.forEach(function(xr,dr){xr=Math.min(yr-1,xr);var pr=void 0,nr=or.scroll.leaf(xr),ir=ct(nr,2),mr=ir[0],lr=ir[1],br=mr.position(lr,dr!==0),Er=ct(br,2);pr=Er[0],lr=Er[1],gr.push(pr,lr)}),gr.length<2&&(gr=gr.concat(gr)),gr}},{key:"scrollIntoView",value:function(ar){var or=this.lastRange;if(or!=null){var cr=this.getBounds(or.index,or.length);if(cr!=null){var gr=this.scroll.length()-1,yr=this.scroll.line(Math.min(or.index,gr)),xr=ct(yr,1),dr=xr[0],pr=dr;if(or.length>0){var nr=this.scroll.line(Math.min(or.index+or.length,gr)),ir=ct(nr,1);pr=ir[0]}if(!(dr==null||pr==null)){var mr=ar.getBoundingClientRect();cr.top<mr.top?ar.scrollTop-=mr.top-cr.top:cr.bottom>mr.bottom&&(ar.scrollTop+=cr.bottom-mr.bottom)}}}}},{key:"setNativeRange",value:function(ar,or){var cr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ar,gr=arguments.length>3&&arguments[3]!==void 0?arguments[3]:or,yr=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(Yt.info("setNativeRange",ar,or,cr,gr),!(ar!=null&&(this.root.parentNode==null||ar.parentNode==null||cr.parentNode==null))){var xr=document.getSelection();if(xr!=null)if(ar!=null){this.hasFocus()||this.root.focus();var dr=(this.getNativeRange()||{}).native;if(dr==null||yr||ar!==dr.startContainer||or!==dr.startOffset||cr!==dr.endContainer||gr!==dr.endOffset){ar.tagName=="BR"&&(or=[].indexOf.call(ar.parentNode.childNodes,ar),ar=ar.parentNode),cr.tagName=="BR"&&(gr=[].indexOf.call(cr.parentNode.childNodes,cr),cr=cr.parentNode);var pr=document.createRange();pr.setStart(ar,or),pr.setEnd(cr,gr),xr.removeAllRanges(),xr.addRange(pr)}}else xr.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(ar){var or=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,cr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:zt.default.sources.API;if(typeof or=="string"&&(cr=or,or=!1),Yt.info("setRange",ar),ar!=null){var gr=this.rangeToNative(ar);this.setNativeRange.apply(this,Ut(gr).concat([or]))}else this.setNativeRange(null);this.update(cr)}},{key:"update",value:function(){var ar=arguments.length>0&&arguments[0]!==void 0?arguments[0]:zt.default.sources.USER,or=this.lastRange,cr=this.getRange(),gr=ct(cr,2),yr=gr[0],xr=gr[1];if(this.lastRange=yr,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,Rt.default)(or,this.lastRange)){var dr;!this.composing&&xr!=null&&xr.native.collapsed&&xr.start.node!==this.cursor.textNode&&this.cursor.restore();var pr=[zt.default.events.SELECTION_CHANGE,(0,kt.default)(this.lastRange),(0,kt.default)(or),ar];if((dr=this.emitter).emit.apply(dr,[zt.default.events.EDITOR_CHANGE].concat(pr)),ar!==zt.default.sources.SILENT){var nr;(nr=this.emitter).emit.apply(nr,pr)}}}}]),rr}();function tr(rr,hr){try{hr.parentNode}catch{return!1}return hr instanceof Text&&(hr=hr.parentNode),rr.contains(hr)}ot.Range=Jt,ot.default=er},function(it,ot,ut){Object.defineProperty(ot,"__esModule",{value:!0});var ct=function(){function zt(Ht,Zt){for(var Bt=0;Bt<Zt.length;Bt++){var Ut=Zt[Bt];Ut.enumerable=Ut.enumerable||!1,Ut.configurable=!0,"value"in Ut&&(Ut.writable=!0),Object.defineProperty(Ht,Ut.key,Ut)}}return function(Ht,Zt,Bt){return Zt&&zt(Ht.prototype,Zt),Bt&&zt(Ht,Bt),Ht}}(),dt=function zt(Ht,Zt,Bt){Ht===null&&(Ht=Function.prototype);var Ut=Object.getOwnPropertyDescriptor(Ht,Zt);if(Ut===void 0){var Kt=Object.getPrototypeOf(Ht);return Kt===null?void 0:zt(Kt,Zt,Bt)}else{if("value"in Ut)return Ut.value;var Yt=Ut.get;return Yt===void 0?void 0:Yt.call(Bt)}},ft=ut(0),St=Tt(ft);function Tt(zt){return zt&&zt.__esModule?zt:{default:zt}}function kt(zt,Ht){if(!(zt instanceof Ht))throw new TypeError("Cannot call a class as a function")}function jt(zt,Ht){if(!zt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ht&&(typeof Ht=="object"||typeof Ht=="function")?Ht:zt}function Rt(zt,Ht){if(typeof Ht!="function"&&Ht!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Ht);zt.prototype=Object.create(Ht&&Ht.prototype,{constructor:{value:zt,enumerable:!1,writable:!0,configurable:!0}}),Ht&&(Object.setPrototypeOf?Object.setPrototypeOf(zt,Ht):zt.__proto__=Ht)}var $t=function(zt){Rt(Ht,zt);function Ht(){return kt(this,Ht),jt(this,(Ht.__proto__||Object.getPrototypeOf(Ht)).apply(this,arguments))}return ct(Ht,[{key:"insertInto",value:function(Bt,Ut){Bt.children.length===0?dt(Ht.prototype.__proto__||Object.getPrototypeOf(Ht.prototype),"insertInto",this).call(this,Bt,Ut):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),Ht}(St.default.Embed);$t.blotName="break",$t.tagName="BR",ot.default=$t},function(it,ot,ut){var ct=this&&this.__extends||function(){var jt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Rt,$t){Rt.__proto__=$t}||function(Rt,$t){for(var zt in $t)$t.hasOwnProperty(zt)&&(Rt[zt]=$t[zt])};return function(Rt,$t){jt(Rt,$t);function zt(){this.constructor=Rt}Rt.prototype=$t===null?Object.create($t):(zt.prototype=$t.prototype,new zt)}}();Object.defineProperty(ot,"__esModule",{value:!0});var dt=ut(44),ft=ut(30),St=ut(1),Tt=function(jt){ct(Rt,jt);function Rt($t){var zt=jt.call(this,$t)||this;return zt.build(),zt}return Rt.prototype.appendChild=function($t){this.insertBefore($t)},Rt.prototype.attach=function(){jt.prototype.attach.call(this),this.children.forEach(function($t){$t.attach()})},Rt.prototype.build=function(){var $t=this;this.children=new dt.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(zt){try{var Ht=kt(zt);$t.insertBefore(Ht,$t.children.head||void 0)}catch(Zt){if(Zt instanceof St.ParchmentError)return;throw Zt}})},Rt.prototype.deleteAt=function($t,zt){if($t===0&&zt===this.length())return this.remove();this.children.forEachAt($t,zt,function(Ht,Zt,Bt){Ht.deleteAt(Zt,Bt)})},Rt.prototype.descendant=function($t,zt){var Ht=this.children.find(zt),Zt=Ht[0],Bt=Ht[1];return $t.blotName==null&&$t(Zt)||$t.blotName!=null&&Zt instanceof $t?[Zt,Bt]:Zt instanceof Rt?Zt.descendant($t,Bt):[null,-1]},Rt.prototype.descendants=function($t,zt,Ht){zt===void 0&&(zt=0),Ht===void 0&&(Ht=Number.MAX_VALUE);var Zt=[],Bt=Ht;return this.children.forEachAt(zt,Ht,function(Ut,Kt,Yt){($t.blotName==null&&$t(Ut)||$t.blotName!=null&&Ut instanceof $t)&&Zt.push(Ut),Ut instanceof Rt&&(Zt=Zt.concat(Ut.descendants($t,Kt,Bt))),Bt-=Yt}),Zt},Rt.prototype.detach=function(){this.children.forEach(function($t){$t.detach()}),jt.prototype.detach.call(this)},Rt.prototype.formatAt=function($t,zt,Ht,Zt){this.children.forEachAt($t,zt,function(Bt,Ut,Kt){Bt.formatAt(Ut,Kt,Ht,Zt)})},Rt.prototype.insertAt=function($t,zt,Ht){var Zt=this.children.find($t),Bt=Zt[0],Ut=Zt[1];if(Bt)Bt.insertAt(Ut,zt,Ht);else{var Kt=Ht==null?St.create("text",zt):St.create(zt,Ht);this.appendChild(Kt)}},Rt.prototype.insertBefore=function($t,zt){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(Ht){return $t instanceof Ht}))throw new St.ParchmentError("Cannot insert "+$t.statics.blotName+" into "+this.statics.blotName);$t.insertInto(this,zt)},Rt.prototype.length=function(){return this.children.reduce(function($t,zt){return $t+zt.length()},0)},Rt.prototype.moveChildren=function($t,zt){this.children.forEach(function(Ht){$t.insertBefore(Ht,zt)})},Rt.prototype.optimize=function($t){if(jt.prototype.optimize.call(this,$t),this.children.length===0)if(this.statics.defaultChild!=null){var zt=St.create(this.statics.defaultChild);this.appendChild(zt),zt.optimize($t)}else this.remove()},Rt.prototype.path=function($t,zt){zt===void 0&&(zt=!1);var Ht=this.children.find($t,zt),Zt=Ht[0],Bt=Ht[1],Ut=[[this,$t]];return Zt instanceof Rt?Ut.concat(Zt.path(Bt,zt)):(Zt!=null&&Ut.push([Zt,Bt]),Ut)},Rt.prototype.removeChild=function($t){this.children.remove($t)},Rt.prototype.replace=function($t){$t instanceof Rt&&$t.moveChildren(this),jt.prototype.replace.call(this,$t)},Rt.prototype.split=function($t,zt){if(zt===void 0&&(zt=!1),!zt){if($t===0)return this;if($t===this.length())return this.next}var Ht=this.clone();return this.parent.insertBefore(Ht,this.next),this.children.forEachAt($t,this.length(),function(Zt,Bt,Ut){Zt=Zt.split(Bt,zt),Ht.appendChild(Zt)}),Ht},Rt.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},Rt.prototype.update=function($t,zt){var Ht=this,Zt=[],Bt=[];$t.forEach(function(Ut){Ut.target===Ht.domNode&&Ut.type==="childList"&&(Zt.push.apply(Zt,Ut.addedNodes),Bt.push.apply(Bt,Ut.removedNodes))}),Bt.forEach(function(Ut){if(!(Ut.parentNode!=null&&Ut.tagName!=="IFRAME"&&document.body.compareDocumentPosition(Ut)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var Kt=St.find(Ut);Kt!=null&&(Kt.domNode.parentNode==null||Kt.domNode.parentNode===Ht.domNode)&&Kt.detach()}}),Zt.filter(function(Ut){return Ut.parentNode==Ht.domNode}).sort(function(Ut,Kt){return Ut===Kt?0:Ut.compareDocumentPosition(Kt)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(Ut){var Kt=null;Ut.nextSibling!=null&&(Kt=St.find(Ut.nextSibling));var Yt=kt(Ut);(Yt.next!=Kt||Yt.next==null)&&(Yt.parent!=null&&Yt.parent.removeChild(Ht),Ht.insertBefore(Yt,Kt||void 0))})},Rt}(ft.default);function kt(jt){var Rt=St.find(jt);if(Rt==null)try{Rt=St.create(jt)}catch{Rt=St.create(St.Scope.INLINE),[].slice.call(jt.childNodes).forEach(function(zt){Rt.domNode.appendChild(zt)}),jt.parentNode&&jt.parentNode.replaceChild(Rt.domNode,jt),Rt.attach()}return Rt}ot.default=Tt},function(it,ot,ut){var ct=this&&this.__extends||function(){var jt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Rt,$t){Rt.__proto__=$t}||function(Rt,$t){for(var zt in $t)$t.hasOwnProperty(zt)&&(Rt[zt]=$t[zt])};return function(Rt,$t){jt(Rt,$t);function zt(){this.constructor=Rt}Rt.prototype=$t===null?Object.create($t):(zt.prototype=$t.prototype,new zt)}}();Object.defineProperty(ot,"__esModule",{value:!0});var dt=ut(12),ft=ut(31),St=ut(17),Tt=ut(1),kt=function(jt){ct(Rt,jt);function Rt($t){var zt=jt.call(this,$t)||this;return zt.attributes=new ft.default(zt.domNode),zt}return Rt.formats=function($t){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return $t.tagName.toLowerCase()},Rt.prototype.format=function($t,zt){var Ht=Tt.query($t);Ht instanceof dt.default?this.attributes.attribute(Ht,zt):zt&&Ht!=null&&($t!==this.statics.blotName||this.formats()[$t]!==zt)&&this.replaceWith($t,zt)},Rt.prototype.formats=function(){var $t=this.attributes.values(),zt=this.statics.formats(this.domNode);return zt!=null&&($t[this.statics.blotName]=zt),$t},Rt.prototype.replaceWith=function($t,zt){var Ht=jt.prototype.replaceWith.call(this,$t,zt);return this.attributes.copy(Ht),Ht},Rt.prototype.update=function($t,zt){var Ht=this;jt.prototype.update.call(this,$t,zt),$t.some(function(Zt){return Zt.target===Ht.domNode&&Zt.type==="attributes"})&&this.attributes.build()},Rt.prototype.wrap=function($t,zt){var Ht=jt.prototype.wrap.call(this,$t,zt);return Ht instanceof Rt&&Ht.statics.scope===this.statics.scope&&this.attributes.move(Ht),Ht},Rt}(St.default);ot.default=kt},function(it,ot,ut){var ct=this&&this.__extends||function(){var Tt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(kt,jt){kt.__proto__=jt}||function(kt,jt){for(var Rt in jt)jt.hasOwnProperty(Rt)&&(kt[Rt]=jt[Rt])};return function(kt,jt){Tt(kt,jt);function Rt(){this.constructor=kt}kt.prototype=jt===null?Object.create(jt):(Rt.prototype=jt.prototype,new Rt)}}();Object.defineProperty(ot,"__esModule",{value:!0});var dt=ut(30),ft=ut(1),St=function(Tt){ct(kt,Tt);function kt(){return Tt!==null&&Tt.apply(this,arguments)||this}return kt.value=function(jt){return!0},kt.prototype.index=function(jt,Rt){return this.domNode===jt||this.domNode.compareDocumentPosition(jt)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(Rt,1):-1},kt.prototype.position=function(jt,Rt){var $t=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return jt>0&&($t+=1),[this.parent.domNode,$t]},kt.prototype.value=function(){var jt;return jt={},jt[this.statics.blotName]=this.statics.value(this.domNode)||!0,jt},kt.scope=ft.Scope.INLINE_BLOT,kt}(dt.default);ot.default=St},function(it,ot,ut){var ct=ut(11),dt=ut(3),ft={attributes:{compose:function(Tt,kt,jt){typeof Tt!="object"&&(Tt={}),typeof kt!="object"&&(kt={});var Rt=dt(!0,{},kt);jt||(Rt=Object.keys(Rt).reduce(function(zt,Ht){return Rt[Ht]!=null&&(zt[Ht]=Rt[Ht]),zt},{}));for(var $t in Tt)Tt[$t]!==void 0&&kt[$t]===void 0&&(Rt[$t]=Tt[$t]);return Object.keys(Rt).length>0?Rt:void 0},diff:function(Tt,kt){typeof Tt!="object"&&(Tt={}),typeof kt!="object"&&(kt={});var jt=Object.keys(Tt).concat(Object.keys(kt)).reduce(function(Rt,$t){return ct(Tt[$t],kt[$t])||(Rt[$t]=kt[$t]===void 0?null:kt[$t]),Rt},{});return Object.keys(jt).length>0?jt:void 0},transform:function(Tt,kt,jt){if(typeof Tt!="object")return kt;if(typeof kt=="object"){if(!jt)return kt;var Rt=Object.keys(kt).reduce(function($t,zt){return Tt[zt]===void 0&&($t[zt]=kt[zt]),$t},{});return Object.keys(Rt).length>0?Rt:void 0}}},iterator:function(Tt){return new St(Tt)},length:function(Tt){return typeof Tt.delete=="number"?Tt.delete:typeof Tt.retain=="number"?Tt.retain:typeof Tt.insert=="string"?Tt.insert.length:1}};function St(Tt){this.ops=Tt,this.index=0,this.offset=0}St.prototype.hasNext=function(){return this.peekLength()<1/0},St.prototype.next=function(Tt){Tt||(Tt=1/0);var kt=this.ops[this.index];if(kt){var jt=this.offset,Rt=ft.length(kt);if(Tt>=Rt-jt?(Tt=Rt-jt,this.index+=1,this.offset=0):this.offset+=Tt,typeof kt.delete=="number")return{delete:Tt};var $t={};return kt.attributes&&($t.attributes=kt.attributes),typeof kt.retain=="number"?$t.retain=Tt:typeof kt.insert=="string"?$t.insert=kt.insert.substr(jt,Tt):$t.insert=kt.insert,$t}else return{retain:1/0}},St.prototype.peek=function(){return this.ops[this.index]},St.prototype.peekLength=function(){return this.ops[this.index]?ft.length(this.ops[this.index])-this.offset:1/0},St.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},St.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var Tt=this.offset,kt=this.index,jt=this.next(),Rt=this.ops.slice(this.index);return this.offset=Tt,this.index=kt,[jt].concat(Rt)}else return[]},it.exports=ft},function(it,ot){var ut=function(){function ct(Ht,Zt){return Zt!=null&&Ht instanceof Zt}var dt;try{dt=Map}catch{dt=function(){}}var ft;try{ft=Set}catch{ft=function(){}}var St;try{St=Promise}catch{St=function(){}}function Tt(Ht,Zt,Bt,Ut,Kt){typeof Zt=="object"&&(Bt=Zt.depth,Ut=Zt.prototype,Kt=Zt.includeNonEnumerable,Zt=Zt.circular);var Yt=[],Jt=[],er=typeof Buffer<"u";typeof Zt>"u"&&(Zt=!0),typeof Bt>"u"&&(Bt=1/0);function tr(rr,hr){if(rr===null)return null;if(hr===0)return rr;var ar,or;if(typeof rr!="object")return rr;if(ct(rr,dt))ar=new dt;else if(ct(rr,ft))ar=new ft;else if(ct(rr,St))ar=new St(function(mr,lr){rr.then(function(br){mr(tr(br,hr-1))},function(br){lr(tr(br,hr-1))})});else if(Tt.__isArray(rr))ar=[];else if(Tt.__isRegExp(rr))ar=new RegExp(rr.source,zt(rr)),rr.lastIndex&&(ar.lastIndex=rr.lastIndex);else if(Tt.__isDate(rr))ar=new Date(rr.getTime());else{if(er&&Buffer.isBuffer(rr))return Buffer.allocUnsafe?ar=Buffer.allocUnsafe(rr.length):ar=new Buffer(rr.length),rr.copy(ar),ar;ct(rr,Error)?ar=Object.create(rr):typeof Ut>"u"?(or=Object.getPrototypeOf(rr),ar=Object.create(or)):(ar=Object.create(Ut),or=Ut)}if(Zt){var cr=Yt.indexOf(rr);if(cr!=-1)return Jt[cr];Yt.push(rr),Jt.push(ar)}ct(rr,dt)&&rr.forEach(function(mr,lr){var br=tr(lr,hr-1),Er=tr(mr,hr-1);ar.set(br,Er)}),ct(rr,ft)&&rr.forEach(function(mr){var lr=tr(mr,hr-1);ar.add(lr)});for(var gr in rr){var yr;or&&(yr=Object.getOwnPropertyDescriptor(or,gr)),!(yr&&yr.set==null)&&(ar[gr]=tr(rr[gr],hr-1))}if(Object.getOwnPropertySymbols)for(var xr=Object.getOwnPropertySymbols(rr),gr=0;gr<xr.length;gr++){var dr=xr[gr],pr=Object.getOwnPropertyDescriptor(rr,dr);pr&&!pr.enumerable&&!Kt||(ar[dr]=tr(rr[dr],hr-1),pr.enumerable||Object.defineProperty(ar,dr,{enumerable:!1}))}if(Kt)for(var nr=Object.getOwnPropertyNames(rr),gr=0;gr<nr.length;gr++){var ir=nr[gr],pr=Object.getOwnPropertyDescriptor(rr,ir);pr&&pr.enumerable||(ar[ir]=tr(rr[ir],hr-1),Object.defineProperty(ar,ir,{enumerable:!1}))}return ar}return tr(Ht,Bt)}Tt.clonePrototype=function(Zt){if(Zt===null)return null;var Bt=function(){};return Bt.prototype=Zt,new Bt};function kt(Ht){return Object.prototype.toString.call(Ht)}Tt.__objToStr=kt;function jt(Ht){return typeof Ht=="object"&&kt(Ht)==="[object Date]"}Tt.__isDate=jt;function Rt(Ht){return typeof Ht=="object"&&kt(Ht)==="[object Array]"}Tt.__isArray=Rt;function $t(Ht){return typeof Ht=="object"&&kt(Ht)==="[object RegExp]"}Tt.__isRegExp=$t;function zt(Ht){var Zt="";return Ht.global&&(Zt+="g"),Ht.ignoreCase&&(Zt+="i"),Ht.multiline&&(Zt+="m"),Zt}return Tt.__getRegExpFlags=zt,Tt}();typeof it=="object"&&it.exports&&(it.exports=ut)},function(it,ot,ut){Object.defineProperty(ot,"__esModule",{value:!0});var ct=function(){function ar(or,cr){var gr=[],yr=!0,xr=!1,dr=void 0;try{for(var pr=or[Symbol.iterator](),nr;!(yr=(nr=pr.next()).done)&&(gr.push(nr.value),!(cr&&gr.length===cr));yr=!0);}catch(ir){xr=!0,dr=ir}finally{try{!yr&&pr.return&&pr.return()}finally{if(xr)throw dr}}return gr}return function(or,cr){if(Array.isArray(or))return or;if(Symbol.iterator in Object(or))return ar(or,cr);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),dt=function(){function ar(or,cr){for(var gr=0;gr<cr.length;gr++){var yr=cr[gr];yr.enumerable=yr.enumerable||!1,yr.configurable=!0,"value"in yr&&(yr.writable=!0),Object.defineProperty(or,yr.key,yr)}}return function(or,cr,gr){return cr&&ar(or.prototype,cr),gr&&ar(or,gr),or}}(),ft=function ar(or,cr,gr){or===null&&(or=Function.prototype);var yr=Object.getOwnPropertyDescriptor(or,cr);if(yr===void 0){var xr=Object.getPrototypeOf(or);return xr===null?void 0:ar(xr,cr,gr)}else{if("value"in yr)return yr.value;var dr=yr.get;return dr===void 0?void 0:dr.call(gr)}},St=ut(0),Tt=Yt(St),kt=ut(8),jt=Yt(kt),Rt=ut(4),$t=Yt(Rt),zt=ut(16),Ht=Yt(zt),Zt=ut(13),Bt=Yt(Zt),Ut=ut(25),Kt=Yt(Ut);function Yt(ar){return ar&&ar.__esModule?ar:{default:ar}}function Jt(ar,or){if(!(ar instanceof or))throw new TypeError("Cannot call a class as a function")}function er(ar,or){if(!ar)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return or&&(typeof or=="object"||typeof or=="function")?or:ar}function tr(ar,or){if(typeof or!="function"&&or!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof or);ar.prototype=Object.create(or&&or.prototype,{constructor:{value:ar,enumerable:!1,writable:!0,configurable:!0}}),or&&(Object.setPrototypeOf?Object.setPrototypeOf(ar,or):ar.__proto__=or)}function rr(ar){return ar instanceof $t.default||ar instanceof Rt.BlockEmbed}var hr=function(ar){tr(or,ar);function or(cr,gr){Jt(this,or);var yr=er(this,(or.__proto__||Object.getPrototypeOf(or)).call(this,cr));return yr.emitter=gr.emitter,Array.isArray(gr.whitelist)&&(yr.whitelist=gr.whitelist.reduce(function(xr,dr){return xr[dr]=!0,xr},{})),yr.domNode.addEventListener("DOMNodeInserted",function(){}),yr.optimize(),yr.enable(),yr}return dt(or,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(gr,yr){var xr=this.line(gr),dr=ct(xr,2),pr=dr[0],nr=dr[1],ir=this.line(gr+yr),mr=ct(ir,1),lr=mr[0];if(ft(or.prototype.__proto__||Object.getPrototypeOf(or.prototype),"deleteAt",this).call(this,gr,yr),lr!=null&&pr!==lr&&nr>0){if(pr instanceof Rt.BlockEmbed||lr instanceof Rt.BlockEmbed){this.optimize();return}if(pr instanceof Bt.default){var br=pr.newlineIndex(pr.length(),!0);if(br>-1&&(pr=pr.split(br+1),pr===lr)){this.optimize();return}}else if(lr instanceof Bt.default){var Er=lr.newlineIndex(0);Er>-1&&lr.split(Er+1)}var Sr=lr.children.head instanceof Ht.default?null:lr.children.head;pr.moveChildren(lr,Sr),pr.remove()}this.optimize()}},{key:"enable",value:function(){var gr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",gr)}},{key:"formatAt",value:function(gr,yr,xr,dr){this.whitelist!=null&&!this.whitelist[xr]||(ft(or.prototype.__proto__||Object.getPrototypeOf(or.prototype),"formatAt",this).call(this,gr,yr,xr,dr),this.optimize())}},{key:"insertAt",value:function(gr,yr,xr){if(!(xr!=null&&this.whitelist!=null&&!this.whitelist[yr])){if(gr>=this.length())if(xr==null||Tt.default.query(yr,Tt.default.Scope.BLOCK)==null){var dr=Tt.default.create(this.statics.defaultChild);this.appendChild(dr),xr==null&&yr.endsWith(`
`)&&(yr=yr.slice(0,-1)),dr.insertAt(0,yr,xr)}else{var pr=Tt.default.create(yr,xr);this.appendChild(pr)}else ft(or.prototype.__proto__||Object.getPrototypeOf(or.prototype),"insertAt",this).call(this,gr,yr,xr);this.optimize()}}},{key:"insertBefore",value:function(gr,yr){if(gr.statics.scope===Tt.default.Scope.INLINE_BLOT){var xr=Tt.default.create(this.statics.defaultChild);xr.appendChild(gr),gr=xr}ft(or.prototype.__proto__||Object.getPrototypeOf(or.prototype),"insertBefore",this).call(this,gr,yr)}},{key:"leaf",value:function(gr){return this.path(gr).pop()||[null,-1]}},{key:"line",value:function(gr){return gr===this.length()?this.line(gr-1):this.descendant(rr,gr)}},{key:"lines",value:function(){var gr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,yr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,xr=function dr(pr,nr,ir){var mr=[],lr=ir;return pr.children.forEachAt(nr,ir,function(br,Er,Sr){rr(br)?mr.push(br):br instanceof Tt.default.Container&&(mr=mr.concat(dr(br,Er,lr))),lr-=Sr}),mr};return xr(this,gr,yr)}},{key:"optimize",value:function(){var gr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],yr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(ft(or.prototype.__proto__||Object.getPrototypeOf(or.prototype),"optimize",this).call(this,gr,yr),gr.length>0&&this.emitter.emit(jt.default.events.SCROLL_OPTIMIZE,gr,yr))}},{key:"path",value:function(gr){return ft(or.prototype.__proto__||Object.getPrototypeOf(or.prototype),"path",this).call(this,gr).slice(1)}},{key:"update",value:function(gr){if(this.batch!==!0){var yr=jt.default.sources.USER;typeof gr=="string"&&(yr=gr),Array.isArray(gr)||(gr=this.observer.takeRecords()),gr.length>0&&this.emitter.emit(jt.default.events.SCROLL_BEFORE_UPDATE,yr,gr),ft(or.prototype.__proto__||Object.getPrototypeOf(or.prototype),"update",this).call(this,gr.concat([])),gr.length>0&&this.emitter.emit(jt.default.events.SCROLL_UPDATE,yr,gr)}}}]),or}(Tt.default.Scroll);hr.blotName="scroll",hr.className="ql-editor",hr.tagName="DIV",hr.defaultChild="block",hr.allowedChildren=[$t.default,Rt.BlockEmbed,Kt.default],ot.default=hr},function(it,ot,ut){Object.defineProperty(ot,"__esModule",{value:!0}),ot.SHORTKEY=ot.default=void 0;var ct=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(wr){return typeof wr}:function(wr){return wr&&typeof Symbol=="function"&&wr.constructor===Symbol&&wr!==Symbol.prototype?"symbol":typeof wr},dt=function(){function wr(Ar,kr){var Tr=[],Pr=!0,Lr=!1,Fr=void 0;try{for(var Dr=Ar[Symbol.iterator](),Mr;!(Pr=(Mr=Dr.next()).done)&&(Tr.push(Mr.value),!(kr&&Tr.length===kr));Pr=!0);}catch(Vr){Lr=!0,Fr=Vr}finally{try{!Pr&&Dr.return&&Dr.return()}finally{if(Lr)throw Fr}}return Tr}return function(Ar,kr){if(Array.isArray(Ar))return Ar;if(Symbol.iterator in Object(Ar))return wr(Ar,kr);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ft=function(){function wr(Ar,kr){for(var Tr=0;Tr<kr.length;Tr++){var Pr=kr[Tr];Pr.enumerable=Pr.enumerable||!1,Pr.configurable=!0,"value"in Pr&&(Pr.writable=!0),Object.defineProperty(Ar,Pr.key,Pr)}}return function(Ar,kr,Tr){return kr&&wr(Ar.prototype,kr),Tr&&wr(Ar,Tr),Ar}}(),St=ut(21),Tt=ar(St),kt=ut(11),jt=ar(kt),Rt=ut(3),$t=ar(Rt),zt=ut(2),Ht=ar(zt),Zt=ut(20),Bt=ar(Zt),Ut=ut(0),Kt=ar(Ut),Yt=ut(5),Jt=ar(Yt),er=ut(10),tr=ar(er),rr=ut(9),hr=ar(rr);function ar(wr){return wr&&wr.__esModule?wr:{default:wr}}function or(wr,Ar,kr){return Ar in wr?Object.defineProperty(wr,Ar,{value:kr,enumerable:!0,configurable:!0,writable:!0}):wr[Ar]=kr,wr}function cr(wr,Ar){if(!(wr instanceof Ar))throw new TypeError("Cannot call a class as a function")}function gr(wr,Ar){if(!wr)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ar&&(typeof Ar=="object"||typeof Ar=="function")?Ar:wr}function yr(wr,Ar){if(typeof Ar!="function"&&Ar!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Ar);wr.prototype=Object.create(Ar&&Ar.prototype,{constructor:{value:wr,enumerable:!1,writable:!0,configurable:!0}}),Ar&&(Object.setPrototypeOf?Object.setPrototypeOf(wr,Ar):wr.__proto__=Ar)}var xr=(0,tr.default)("quill:keyboard"),dr=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",pr=function(wr){yr(Ar,wr),ft(Ar,null,[{key:"match",value:function(Tr,Pr){return Pr=_r(Pr),["altKey","ctrlKey","metaKey","shiftKey"].some(function(Lr){return!!Pr[Lr]!==Tr[Lr]&&Pr[Lr]!==null})?!1:Pr.key===(Tr.which||Tr.keyCode)}}]);function Ar(kr,Tr){cr(this,Ar);var Pr=gr(this,(Ar.__proto__||Object.getPrototypeOf(Ar)).call(this,kr,Tr));return Pr.bindings={},Object.keys(Pr.options.bindings).forEach(function(Lr){Lr==="list autofill"&&kr.scroll.whitelist!=null&&!kr.scroll.whitelist.list||Pr.options.bindings[Lr]&&Pr.addBinding(Pr.options.bindings[Lr])}),Pr.addBinding({key:Ar.keys.ENTER,shiftKey:null},br),Pr.addBinding({key:Ar.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(Pr.addBinding({key:Ar.keys.BACKSPACE},{collapsed:!0},ir),Pr.addBinding({key:Ar.keys.DELETE},{collapsed:!0},mr)):(Pr.addBinding({key:Ar.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},ir),Pr.addBinding({key:Ar.keys.DELETE},{collapsed:!0,suffix:/^.?$/},mr)),Pr.addBinding({key:Ar.keys.BACKSPACE},{collapsed:!1},lr),Pr.addBinding({key:Ar.keys.DELETE},{collapsed:!1},lr),Pr.addBinding({key:Ar.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},ir),Pr.listen(),Pr}return ft(Ar,[{key:"addBinding",value:function(Tr){var Pr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Lr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Fr=_r(Tr);if(Fr==null||Fr.key==null)return xr.warn("Attempted to add invalid keyboard binding",Fr);typeof Pr=="function"&&(Pr={handler:Pr}),typeof Lr=="function"&&(Lr={handler:Lr}),Fr=(0,$t.default)(Fr,Pr,Lr),this.bindings[Fr.key]=this.bindings[Fr.key]||[],this.bindings[Fr.key].push(Fr)}},{key:"listen",value:function(){var Tr=this;this.quill.root.addEventListener("keydown",function(Pr){if(!Pr.defaultPrevented){var Lr=Pr.which||Pr.keyCode,Fr=(Tr.bindings[Lr]||[]).filter(function(Qr){return Ar.match(Pr,Qr)});if(Fr.length!==0){var Dr=Tr.quill.getSelection();if(!(Dr==null||!Tr.quill.hasFocus())){var Mr=Tr.quill.getLine(Dr.index),Vr=dt(Mr,2),qr=Vr[0],Xr=Vr[1],Cr=Tr.quill.getLeaf(Dr.index),Rr=dt(Cr,2),Ir=Rr[0],Or=Rr[1],jr=Dr.length===0?[Ir,Or]:Tr.quill.getLeaf(Dr.index+Dr.length),Hr=dt(jr,2),Ur=Hr[0],zr=Hr[1],ln=Ir instanceof Kt.default.Text?Ir.value().slice(0,Or):"",un=Ur instanceof Kt.default.Text?Ur.value().slice(zr):"",Yr={collapsed:Dr.length===0,empty:Dr.length===0&&qr.length()<=1,format:Tr.quill.getFormat(Dr),offset:Xr,prefix:ln,suffix:un},Kn=Fr.some(function(Qr){if(Qr.collapsed!=null&&Qr.collapsed!==Yr.collapsed||Qr.empty!=null&&Qr.empty!==Yr.empty||Qr.offset!=null&&Qr.offset!==Yr.offset)return!1;if(Array.isArray(Qr.format)){if(Qr.format.every(function(Nl){return Yr.format[Nl]==null}))return!1}else if(ct(Qr.format)==="object"&&!Object.keys(Qr.format).every(function(Nl){return Qr.format[Nl]===!0?Yr.format[Nl]!=null:Qr.format[Nl]===!1?Yr.format[Nl]==null:(0,jt.default)(Qr.format[Nl],Yr.format[Nl])}))return!1;return Qr.prefix!=null&&!Qr.prefix.test(Yr.prefix)||Qr.suffix!=null&&!Qr.suffix.test(Yr.suffix)?!1:Qr.handler.call(Tr,Dr,Yr)!==!0});Kn&&Pr.preventDefault()}}}})}}]),Ar}(hr.default);pr.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},pr.DEFAULTS={bindings:{bold:Sr("bold"),italic:Sr("italic"),underline:Sr("underline"),indent:{key:pr.keys.TAB,format:["blockquote","indent","list"],handler:function(Ar,kr){if(kr.collapsed&&kr.offset!==0)return!0;this.quill.format("indent","+1",Jt.default.sources.USER)}},outdent:{key:pr.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(Ar,kr){if(kr.collapsed&&kr.offset!==0)return!0;this.quill.format("indent","-1",Jt.default.sources.USER)}},"outdent backspace":{key:pr.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(Ar,kr){kr.format.indent!=null?this.quill.format("indent","-1",Jt.default.sources.USER):kr.format.list!=null&&this.quill.format("list",!1,Jt.default.sources.USER)}},"indent code-block":Er(!0),"outdent code-block":Er(!1),"remove tab":{key:pr.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(Ar){this.quill.deleteText(Ar.index-1,1,Jt.default.sources.USER)}},tab:{key:pr.keys.TAB,handler:function(Ar){this.quill.history.cutoff();var kr=new Ht.default().retain(Ar.index).delete(Ar.length).insert("	");this.quill.updateContents(kr,Jt.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(Ar.index+1,Jt.default.sources.SILENT)}},"list empty enter":{key:pr.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(Ar,kr){this.quill.format("list",!1,Jt.default.sources.USER),kr.format.indent&&this.quill.format("indent",!1,Jt.default.sources.USER)}},"checklist enter":{key:pr.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(Ar){var kr=this.quill.getLine(Ar.index),Tr=dt(kr,2),Pr=Tr[0],Lr=Tr[1],Fr=(0,$t.default)({},Pr.formats(),{list:"checked"}),Dr=new Ht.default().retain(Ar.index).insert(`
`,Fr).retain(Pr.length()-Lr-1).retain(1,{list:"unchecked"});this.quill.updateContents(Dr,Jt.default.sources.USER),this.quill.setSelection(Ar.index+1,Jt.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:pr.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(Ar,kr){var Tr=this.quill.getLine(Ar.index),Pr=dt(Tr,2),Lr=Pr[0],Fr=Pr[1],Dr=new Ht.default().retain(Ar.index).insert(`
`,kr.format).retain(Lr.length()-Fr-1).retain(1,{header:null});this.quill.updateContents(Dr,Jt.default.sources.USER),this.quill.setSelection(Ar.index+1,Jt.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(Ar,kr){var Tr=kr.prefix.length,Pr=this.quill.getLine(Ar.index),Lr=dt(Pr,2),Fr=Lr[0],Dr=Lr[1];if(Dr>Tr)return!0;var Mr=void 0;switch(kr.prefix.trim()){case"[]":case"[ ]":Mr="unchecked";break;case"[x]":Mr="checked";break;case"-":case"*":Mr="bullet";break;default:Mr="ordered"}this.quill.insertText(Ar.index," ",Jt.default.sources.USER),this.quill.history.cutoff();var Vr=new Ht.default().retain(Ar.index-Dr).delete(Tr+1).retain(Fr.length()-2-Dr).retain(1,{list:Mr});this.quill.updateContents(Vr,Jt.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(Ar.index-Tr,Jt.default.sources.SILENT)}},"code exit":{key:pr.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(Ar){var kr=this.quill.getLine(Ar.index),Tr=dt(kr,2),Pr=Tr[0],Lr=Tr[1],Fr=new Ht.default().retain(Ar.index+Pr.length()-Lr-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(Fr,Jt.default.sources.USER)}},"embed left":nr(pr.keys.LEFT,!1),"embed left shift":nr(pr.keys.LEFT,!0),"embed right":nr(pr.keys.RIGHT,!1),"embed right shift":nr(pr.keys.RIGHT,!0)}};function nr(wr,Ar){var kr,Tr=wr===pr.keys.LEFT?"prefix":"suffix";return kr={key:wr,shiftKey:Ar,altKey:null},or(kr,Tr,/^$/),or(kr,"handler",function(Lr){var Fr=Lr.index;wr===pr.keys.RIGHT&&(Fr+=Lr.length+1);var Dr=this.quill.getLeaf(Fr),Mr=dt(Dr,1),Vr=Mr[0];return Vr instanceof Kt.default.Embed?(wr===pr.keys.LEFT?Ar?this.quill.setSelection(Lr.index-1,Lr.length+1,Jt.default.sources.USER):this.quill.setSelection(Lr.index-1,Jt.default.sources.USER):Ar?this.quill.setSelection(Lr.index,Lr.length+1,Jt.default.sources.USER):this.quill.setSelection(Lr.index+Lr.length+1,Jt.default.sources.USER),!1):!0}),kr}function ir(wr,Ar){if(!(wr.index===0||this.quill.getLength()<=1)){var kr=this.quill.getLine(wr.index),Tr=dt(kr,1),Pr=Tr[0],Lr={};if(Ar.offset===0){var Fr=this.quill.getLine(wr.index-1),Dr=dt(Fr,1),Mr=Dr[0];if(Mr!=null&&Mr.length()>1){var Vr=Pr.formats(),qr=this.quill.getFormat(wr.index-1,1);Lr=Bt.default.attributes.diff(Vr,qr)||{}}}var Xr=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(Ar.prefix)?2:1;this.quill.deleteText(wr.index-Xr,Xr,Jt.default.sources.USER),Object.keys(Lr).length>0&&this.quill.formatLine(wr.index-Xr,Xr,Lr,Jt.default.sources.USER),this.quill.focus()}}function mr(wr,Ar){var kr=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(Ar.suffix)?2:1;if(!(wr.index>=this.quill.getLength()-kr)){var Tr={},Pr=0,Lr=this.quill.getLine(wr.index),Fr=dt(Lr,1),Dr=Fr[0];if(Ar.offset>=Dr.length()-1){var Mr=this.quill.getLine(wr.index+1),Vr=dt(Mr,1),qr=Vr[0];if(qr){var Xr=Dr.formats(),Cr=this.quill.getFormat(wr.index,1);Tr=Bt.default.attributes.diff(Xr,Cr)||{},Pr=qr.length()}}this.quill.deleteText(wr.index,kr,Jt.default.sources.USER),Object.keys(Tr).length>0&&this.quill.formatLine(wr.index+Pr-1,kr,Tr,Jt.default.sources.USER)}}function lr(wr){var Ar=this.quill.getLines(wr),kr={};if(Ar.length>1){var Tr=Ar[0].formats(),Pr=Ar[Ar.length-1].formats();kr=Bt.default.attributes.diff(Pr,Tr)||{}}this.quill.deleteText(wr,Jt.default.sources.USER),Object.keys(kr).length>0&&this.quill.formatLine(wr.index,1,kr,Jt.default.sources.USER),this.quill.setSelection(wr.index,Jt.default.sources.SILENT),this.quill.focus()}function br(wr,Ar){var kr=this;wr.length>0&&this.quill.scroll.deleteAt(wr.index,wr.length);var Tr=Object.keys(Ar.format).reduce(function(Pr,Lr){return Kt.default.query(Lr,Kt.default.Scope.BLOCK)&&!Array.isArray(Ar.format[Lr])&&(Pr[Lr]=Ar.format[Lr]),Pr},{});this.quill.insertText(wr.index,`
`,Tr,Jt.default.sources.USER),this.quill.setSelection(wr.index+1,Jt.default.sources.SILENT),this.quill.focus(),Object.keys(Ar.format).forEach(function(Pr){Tr[Pr]==null&&(Array.isArray(Ar.format[Pr])||Pr!=="link"&&kr.quill.format(Pr,Ar.format[Pr],Jt.default.sources.USER))})}function Er(wr){return{key:pr.keys.TAB,shiftKey:!wr,format:{"code-block":!0},handler:function(kr){var Tr=Kt.default.query("code-block"),Pr=kr.index,Lr=kr.length,Fr=this.quill.scroll.descendant(Tr,Pr),Dr=dt(Fr,2),Mr=Dr[0],Vr=Dr[1];if(Mr!=null){var qr=this.quill.getIndex(Mr),Xr=Mr.newlineIndex(Vr,!0)+1,Cr=Mr.newlineIndex(qr+Vr+Lr),Rr=Mr.domNode.textContent.slice(Xr,Cr).split(`
`);Vr=0,Rr.forEach(function(Ir,Or){wr?(Mr.insertAt(Xr+Vr,Tr.TAB),Vr+=Tr.TAB.length,Or===0?Pr+=Tr.TAB.length:Lr+=Tr.TAB.length):Ir.startsWith(Tr.TAB)&&(Mr.deleteAt(Xr+Vr,Tr.TAB.length),Vr-=Tr.TAB.length,Or===0?Pr-=Tr.TAB.length:Lr-=Tr.TAB.length),Vr+=Ir.length+1}),this.quill.update(Jt.default.sources.USER),this.quill.setSelection(Pr,Lr,Jt.default.sources.SILENT)}}}}function Sr(wr){return{key:wr[0].toUpperCase(),shortKey:!0,handler:function(kr,Tr){this.quill.format(wr,!Tr.format[wr],Jt.default.sources.USER)}}}function _r(wr){if(typeof wr=="string"||typeof wr=="number")return _r({key:wr});if((typeof wr>"u"?"undefined":ct(wr))==="object"&&(wr=(0,Tt.default)(wr,!1)),typeof wr.key=="string")if(pr.keys[wr.key.toUpperCase()]!=null)wr.key=pr.keys[wr.key.toUpperCase()];else if(wr.key.length===1)wr.key=wr.key.toUpperCase().charCodeAt(0);else return null;return wr.shortKey&&(wr[dr]=wr.shortKey,delete wr.shortKey),wr}ot.default=pr,ot.SHORTKEY=dr},function(it,ot,ut){Object.defineProperty(ot,"__esModule",{value:!0});var ct=function(){function Bt(Ut,Kt){var Yt=[],Jt=!0,er=!1,tr=void 0;try{for(var rr=Ut[Symbol.iterator](),hr;!(Jt=(hr=rr.next()).done)&&(Yt.push(hr.value),!(Kt&&Yt.length===Kt));Jt=!0);}catch(ar){er=!0,tr=ar}finally{try{!Jt&&rr.return&&rr.return()}finally{if(er)throw tr}}return Yt}return function(Ut,Kt){if(Array.isArray(Ut))return Ut;if(Symbol.iterator in Object(Ut))return Bt(Ut,Kt);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),dt=function Bt(Ut,Kt,Yt){Ut===null&&(Ut=Function.prototype);var Jt=Object.getOwnPropertyDescriptor(Ut,Kt);if(Jt===void 0){var er=Object.getPrototypeOf(Ut);return er===null?void 0:Bt(er,Kt,Yt)}else{if("value"in Jt)return Jt.value;var tr=Jt.get;return tr===void 0?void 0:tr.call(Yt)}},ft=function(){function Bt(Ut,Kt){for(var Yt=0;Yt<Kt.length;Yt++){var Jt=Kt[Yt];Jt.enumerable=Jt.enumerable||!1,Jt.configurable=!0,"value"in Jt&&(Jt.writable=!0),Object.defineProperty(Ut,Jt.key,Jt)}}return function(Ut,Kt,Yt){return Kt&&Bt(Ut.prototype,Kt),Yt&&Bt(Ut,Yt),Ut}}(),St=ut(0),Tt=Rt(St),kt=ut(7),jt=Rt(kt);function Rt(Bt){return Bt&&Bt.__esModule?Bt:{default:Bt}}function $t(Bt,Ut){if(!(Bt instanceof Ut))throw new TypeError("Cannot call a class as a function")}function zt(Bt,Ut){if(!Bt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ut&&(typeof Ut=="object"||typeof Ut=="function")?Ut:Bt}function Ht(Bt,Ut){if(typeof Ut!="function"&&Ut!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Ut);Bt.prototype=Object.create(Ut&&Ut.prototype,{constructor:{value:Bt,enumerable:!1,writable:!0,configurable:!0}}),Ut&&(Object.setPrototypeOf?Object.setPrototypeOf(Bt,Ut):Bt.__proto__=Ut)}var Zt=function(Bt){Ht(Ut,Bt),ft(Ut,null,[{key:"value",value:function(){}}]);function Ut(Kt,Yt){$t(this,Ut);var Jt=zt(this,(Ut.__proto__||Object.getPrototypeOf(Ut)).call(this,Kt));return Jt.selection=Yt,Jt.textNode=document.createTextNode(Ut.CONTENTS),Jt.domNode.appendChild(Jt.textNode),Jt._length=0,Jt}return ft(Ut,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(Yt,Jt){if(this._length!==0)return dt(Ut.prototype.__proto__||Object.getPrototypeOf(Ut.prototype),"format",this).call(this,Yt,Jt);for(var er=this,tr=0;er!=null&&er.statics.scope!==Tt.default.Scope.BLOCK_BLOT;)tr+=er.offset(er.parent),er=er.parent;er!=null&&(this._length=Ut.CONTENTS.length,er.optimize(),er.formatAt(tr,Ut.CONTENTS.length,Yt,Jt),this._length=0)}},{key:"index",value:function(Yt,Jt){return Yt===this.textNode?0:dt(Ut.prototype.__proto__||Object.getPrototypeOf(Ut.prototype),"index",this).call(this,Yt,Jt)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){dt(Ut.prototype.__proto__||Object.getPrototypeOf(Ut.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var Yt=this.textNode,Jt=this.selection.getNativeRange(),er=void 0,tr=void 0,rr=void 0;if(Jt!=null&&Jt.start.node===Yt&&Jt.end.node===Yt){var hr=[Yt,Jt.start.offset,Jt.end.offset];er=hr[0],tr=hr[1],rr=hr[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==Ut.CONTENTS){var ar=this.textNode.data.split(Ut.CONTENTS).join("");this.next instanceof jt.default?(er=this.next.domNode,this.next.insertAt(0,ar),this.textNode.data=Ut.CONTENTS):(this.textNode.data=ar,this.parent.insertBefore(Tt.default.create(this.textNode),this),this.textNode=document.createTextNode(Ut.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),tr!=null){var or=[tr,rr].map(function(gr){return Math.max(0,Math.min(er.data.length,gr-1))}),cr=ct(or,2);return tr=cr[0],rr=cr[1],{startNode:er,startOffset:tr,endNode:er,endOffset:rr}}}}},{key:"update",value:function(Yt,Jt){var er=this;if(Yt.some(function(rr){return rr.type==="characterData"&&rr.target===er.textNode})){var tr=this.restore();tr&&(Jt.range=tr)}}},{key:"value",value:function(){return""}}]),Ut}(Tt.default.Embed);Zt.blotName="cursor",Zt.className="ql-cursor",Zt.tagName="span",Zt.CONTENTS="\uFEFF",ot.default=Zt},function(it,ot,ut){Object.defineProperty(ot,"__esModule",{value:!0});var ct=ut(0),dt=Tt(ct),ft=ut(4),St=Tt(ft);function Tt(zt){return zt&&zt.__esModule?zt:{default:zt}}function kt(zt,Ht){if(!(zt instanceof Ht))throw new TypeError("Cannot call a class as a function")}function jt(zt,Ht){if(!zt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ht&&(typeof Ht=="object"||typeof Ht=="function")?Ht:zt}function Rt(zt,Ht){if(typeof Ht!="function"&&Ht!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Ht);zt.prototype=Object.create(Ht&&Ht.prototype,{constructor:{value:zt,enumerable:!1,writable:!0,configurable:!0}}),Ht&&(Object.setPrototypeOf?Object.setPrototypeOf(zt,Ht):zt.__proto__=Ht)}var $t=function(zt){Rt(Ht,zt);function Ht(){return kt(this,Ht),jt(this,(Ht.__proto__||Object.getPrototypeOf(Ht)).apply(this,arguments))}return Ht}(dt.default.Container);$t.allowedChildren=[St.default,ft.BlockEmbed,$t],ot.default=$t},function(it,ot,ut){Object.defineProperty(ot,"__esModule",{value:!0}),ot.ColorStyle=ot.ColorClass=ot.ColorAttributor=void 0;var ct=function(){function Zt(Bt,Ut){for(var Kt=0;Kt<Ut.length;Kt++){var Yt=Ut[Kt];Yt.enumerable=Yt.enumerable||!1,Yt.configurable=!0,"value"in Yt&&(Yt.writable=!0),Object.defineProperty(Bt,Yt.key,Yt)}}return function(Bt,Ut,Kt){return Ut&&Zt(Bt.prototype,Ut),Kt&&Zt(Bt,Kt),Bt}}(),dt=function Zt(Bt,Ut,Kt){Bt===null&&(Bt=Function.prototype);var Yt=Object.getOwnPropertyDescriptor(Bt,Ut);if(Yt===void 0){var Jt=Object.getPrototypeOf(Bt);return Jt===null?void 0:Zt(Jt,Ut,Kt)}else{if("value"in Yt)return Yt.value;var er=Yt.get;return er===void 0?void 0:er.call(Kt)}},ft=ut(0),St=Tt(ft);function Tt(Zt){return Zt&&Zt.__esModule?Zt:{default:Zt}}function kt(Zt,Bt){if(!(Zt instanceof Bt))throw new TypeError("Cannot call a class as a function")}function jt(Zt,Bt){if(!Zt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Bt&&(typeof Bt=="object"||typeof Bt=="function")?Bt:Zt}function Rt(Zt,Bt){if(typeof Bt!="function"&&Bt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Bt);Zt.prototype=Object.create(Bt&&Bt.prototype,{constructor:{value:Zt,enumerable:!1,writable:!0,configurable:!0}}),Bt&&(Object.setPrototypeOf?Object.setPrototypeOf(Zt,Bt):Zt.__proto__=Bt)}var $t=function(Zt){Rt(Bt,Zt);function Bt(){return kt(this,Bt),jt(this,(Bt.__proto__||Object.getPrototypeOf(Bt)).apply(this,arguments))}return ct(Bt,[{key:"value",value:function(Kt){var Yt=dt(Bt.prototype.__proto__||Object.getPrototypeOf(Bt.prototype),"value",this).call(this,Kt);return Yt.startsWith("rgb(")?(Yt=Yt.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+Yt.split(",").map(function(Jt){return("00"+parseInt(Jt).toString(16)).slice(-2)}).join("")):Yt}}]),Bt}(St.default.Attributor.Style),zt=new St.default.Attributor.Class("color","ql-color",{scope:St.default.Scope.INLINE}),Ht=new $t("color","color",{scope:St.default.Scope.INLINE});ot.ColorAttributor=$t,ot.ColorClass=zt,ot.ColorStyle=Ht},function(it,ot,ut){Object.defineProperty(ot,"__esModule",{value:!0}),ot.sanitize=ot.default=void 0;var ct=function(){function Ht(Zt,Bt){for(var Ut=0;Ut<Bt.length;Ut++){var Kt=Bt[Ut];Kt.enumerable=Kt.enumerable||!1,Kt.configurable=!0,"value"in Kt&&(Kt.writable=!0),Object.defineProperty(Zt,Kt.key,Kt)}}return function(Zt,Bt,Ut){return Bt&&Ht(Zt.prototype,Bt),Ut&&Ht(Zt,Ut),Zt}}(),dt=function Ht(Zt,Bt,Ut){Zt===null&&(Zt=Function.prototype);var Kt=Object.getOwnPropertyDescriptor(Zt,Bt);if(Kt===void 0){var Yt=Object.getPrototypeOf(Zt);return Yt===null?void 0:Ht(Yt,Bt,Ut)}else{if("value"in Kt)return Kt.value;var Jt=Kt.get;return Jt===void 0?void 0:Jt.call(Ut)}},ft=ut(6),St=Tt(ft);function Tt(Ht){return Ht&&Ht.__esModule?Ht:{default:Ht}}function kt(Ht,Zt){if(!(Ht instanceof Zt))throw new TypeError("Cannot call a class as a function")}function jt(Ht,Zt){if(!Ht)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Zt&&(typeof Zt=="object"||typeof Zt=="function")?Zt:Ht}function Rt(Ht,Zt){if(typeof Zt!="function"&&Zt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Zt);Ht.prototype=Object.create(Zt&&Zt.prototype,{constructor:{value:Ht,enumerable:!1,writable:!0,configurable:!0}}),Zt&&(Object.setPrototypeOf?Object.setPrototypeOf(Ht,Zt):Ht.__proto__=Zt)}var $t=function(Ht){Rt(Zt,Ht);function Zt(){return kt(this,Zt),jt(this,(Zt.__proto__||Object.getPrototypeOf(Zt)).apply(this,arguments))}return ct(Zt,[{key:"format",value:function(Ut,Kt){if(Ut!==this.statics.blotName||!Kt)return dt(Zt.prototype.__proto__||Object.getPrototypeOf(Zt.prototype),"format",this).call(this,Ut,Kt);Kt=this.constructor.sanitize(Kt),this.domNode.setAttribute("href",Kt)}}],[{key:"create",value:function(Ut){var Kt=dt(Zt.__proto__||Object.getPrototypeOf(Zt),"create",this).call(this,Ut);return Ut=this.sanitize(Ut),Kt.setAttribute("href",Ut),Kt.setAttribute("rel","noopener noreferrer"),Kt.setAttribute("target","_blank"),Kt}},{key:"formats",value:function(Ut){return Ut.getAttribute("href")}},{key:"sanitize",value:function(Ut){return zt(Ut,this.PROTOCOL_WHITELIST)?Ut:this.SANITIZED_URL}}]),Zt}(St.default);$t.blotName="link",$t.tagName="A",$t.SANITIZED_URL="about:blank",$t.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function zt(Ht,Zt){var Bt=document.createElement("a");Bt.href=Ht;var Ut=Bt.href.slice(0,Bt.href.indexOf(":"));return Zt.indexOf(Ut)>-1}ot.default=$t,ot.sanitize=zt},function(it,ot,ut){Object.defineProperty(ot,"__esModule",{value:!0});var ct=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Zt){return typeof Zt}:function(Zt){return Zt&&typeof Symbol=="function"&&Zt.constructor===Symbol&&Zt!==Symbol.prototype?"symbol":typeof Zt},dt=function(){function Zt(Bt,Ut){for(var Kt=0;Kt<Ut.length;Kt++){var Yt=Ut[Kt];Yt.enumerable=Yt.enumerable||!1,Yt.configurable=!0,"value"in Yt&&(Yt.writable=!0),Object.defineProperty(Bt,Yt.key,Yt)}}return function(Bt,Ut,Kt){return Ut&&Zt(Bt.prototype,Ut),Kt&&Zt(Bt,Kt),Bt}}(),ft=ut(23),St=jt(ft),Tt=ut(107),kt=jt(Tt);function jt(Zt){return Zt&&Zt.__esModule?Zt:{default:Zt}}function Rt(Zt,Bt){if(!(Zt instanceof Bt))throw new TypeError("Cannot call a class as a function")}var $t=0;function zt(Zt,Bt){Zt.setAttribute(Bt,Zt.getAttribute(Bt)!=="true")}var Ht=function(){function Zt(Bt){var Ut=this;Rt(this,Zt),this.select=Bt,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){Ut.togglePicker()}),this.label.addEventListener("keydown",function(Kt){switch(Kt.keyCode){case St.default.keys.ENTER:Ut.togglePicker();break;case St.default.keys.ESCAPE:Ut.escape(),Kt.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return dt(Zt,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),zt(this.label,"aria-expanded"),zt(this.options,"aria-hidden")}},{key:"buildItem",value:function(Ut){var Kt=this,Yt=document.createElement("span");return Yt.tabIndex="0",Yt.setAttribute("role","button"),Yt.classList.add("ql-picker-item"),Ut.hasAttribute("value")&&Yt.setAttribute("data-value",Ut.getAttribute("value")),Ut.textContent&&Yt.setAttribute("data-label",Ut.textContent),Yt.addEventListener("click",function(){Kt.selectItem(Yt,!0)}),Yt.addEventListener("keydown",function(Jt){switch(Jt.keyCode){case St.default.keys.ENTER:Kt.selectItem(Yt,!0),Jt.preventDefault();break;case St.default.keys.ESCAPE:Kt.escape(),Jt.preventDefault();break}}),Yt}},{key:"buildLabel",value:function(){var Ut=document.createElement("span");return Ut.classList.add("ql-picker-label"),Ut.innerHTML=kt.default,Ut.tabIndex="0",Ut.setAttribute("role","button"),Ut.setAttribute("aria-expanded","false"),this.container.appendChild(Ut),Ut}},{key:"buildOptions",value:function(){var Ut=this,Kt=document.createElement("span");Kt.classList.add("ql-picker-options"),Kt.setAttribute("aria-hidden","true"),Kt.tabIndex="-1",Kt.id="ql-picker-options-"+$t,$t+=1,this.label.setAttribute("aria-controls",Kt.id),this.options=Kt,[].slice.call(this.select.options).forEach(function(Yt){var Jt=Ut.buildItem(Yt);Kt.appendChild(Jt),Yt.selected===!0&&Ut.selectItem(Jt)}),this.container.appendChild(Kt)}},{key:"buildPicker",value:function(){var Ut=this;[].slice.call(this.select.attributes).forEach(function(Kt){Ut.container.setAttribute(Kt.name,Kt.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var Ut=this;this.close(),setTimeout(function(){return Ut.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(Ut){var Kt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Yt=this.container.querySelector(".ql-selected");if(Ut!==Yt&&(Yt!=null&&Yt.classList.remove("ql-selected"),Ut!=null&&(Ut.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(Ut.parentNode.children,Ut),Ut.hasAttribute("data-value")?this.label.setAttribute("data-value",Ut.getAttribute("data-value")):this.label.removeAttribute("data-value"),Ut.hasAttribute("data-label")?this.label.setAttribute("data-label",Ut.getAttribute("data-label")):this.label.removeAttribute("data-label"),Kt))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":ct(Event))==="object"){var Jt=document.createEvent("Event");Jt.initEvent("change",!0,!0),this.select.dispatchEvent(Jt)}this.close()}}},{key:"update",value:function(){var Ut=void 0;if(this.select.selectedIndex>-1){var Kt=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];Ut=this.select.options[this.select.selectedIndex],this.selectItem(Kt)}else this.selectItem(null);var Yt=Ut!=null&&Ut!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",Yt)}}]),Zt}();ot.default=Ht},function(it,ot,ut){Object.defineProperty(ot,"__esModule",{value:!0});var ct=ut(0),dt=xr(ct),ft=ut(5),St=xr(ft),Tt=ut(4),kt=xr(Tt),jt=ut(16),Rt=xr(jt),$t=ut(25),zt=xr($t),Ht=ut(24),Zt=xr(Ht),Bt=ut(35),Ut=xr(Bt),Kt=ut(6),Yt=xr(Kt),Jt=ut(22),er=xr(Jt),tr=ut(7),rr=xr(tr),hr=ut(55),ar=xr(hr),or=ut(42),cr=xr(or),gr=ut(23),yr=xr(gr);function xr(dr){return dr&&dr.__esModule?dr:{default:dr}}St.default.register({"blots/block":kt.default,"blots/block/embed":Tt.BlockEmbed,"blots/break":Rt.default,"blots/container":zt.default,"blots/cursor":Zt.default,"blots/embed":Ut.default,"blots/inline":Yt.default,"blots/scroll":er.default,"blots/text":rr.default,"modules/clipboard":ar.default,"modules/history":cr.default,"modules/keyboard":yr.default}),dt.default.register(kt.default,Rt.default,Zt.default,Yt.default,er.default,rr.default),ot.default=St.default},function(it,ot,ut){Object.defineProperty(ot,"__esModule",{value:!0});var ct=ut(1),dt=function(){function ft(St){this.domNode=St,this.domNode[ct.DATA_KEY]={blot:this}}return Object.defineProperty(ft.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),ft.create=function(St){if(this.tagName==null)throw new ct.ParchmentError("Blot definition missing tagName");var Tt;return Array.isArray(this.tagName)?(typeof St=="string"&&(St=St.toUpperCase(),parseInt(St).toString()===St&&(St=parseInt(St))),typeof St=="number"?Tt=document.createElement(this.tagName[St-1]):this.tagName.indexOf(St)>-1?Tt=document.createElement(St):Tt=document.createElement(this.tagName[0])):Tt=document.createElement(this.tagName),this.className&&Tt.classList.add(this.className),Tt},ft.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},ft.prototype.clone=function(){var St=this.domNode.cloneNode(!1);return ct.create(St)},ft.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[ct.DATA_KEY]},ft.prototype.deleteAt=function(St,Tt){var kt=this.isolate(St,Tt);kt.remove()},ft.prototype.formatAt=function(St,Tt,kt,jt){var Rt=this.isolate(St,Tt);if(ct.query(kt,ct.Scope.BLOT)!=null&&jt)Rt.wrap(kt,jt);else if(ct.query(kt,ct.Scope.ATTRIBUTE)!=null){var $t=ct.create(this.statics.scope);Rt.wrap($t),$t.format(kt,jt)}},ft.prototype.insertAt=function(St,Tt,kt){var jt=kt==null?ct.create("text",Tt):ct.create(Tt,kt),Rt=this.split(St);this.parent.insertBefore(jt,Rt)},ft.prototype.insertInto=function(St,Tt){Tt===void 0&&(Tt=null),this.parent!=null&&this.parent.children.remove(this);var kt=null;St.children.insertBefore(this,Tt),Tt!=null&&(kt=Tt.domNode),(this.domNode.parentNode!=St.domNode||this.domNode.nextSibling!=kt)&&St.domNode.insertBefore(this.domNode,kt),this.parent=St,this.attach()},ft.prototype.isolate=function(St,Tt){var kt=this.split(St);return kt.split(Tt),kt},ft.prototype.length=function(){return 1},ft.prototype.offset=function(St){return St===void 0&&(St=this.parent),this.parent==null||this==St?0:this.parent.children.offset(this)+this.parent.offset(St)},ft.prototype.optimize=function(St){this.domNode[ct.DATA_KEY]!=null&&delete this.domNode[ct.DATA_KEY].mutations},ft.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},ft.prototype.replace=function(St){St.parent!=null&&(St.parent.insertBefore(this,St.next),St.remove())},ft.prototype.replaceWith=function(St,Tt){var kt=typeof St=="string"?ct.create(St,Tt):St;return kt.replace(this),kt},ft.prototype.split=function(St,Tt){return St===0?this:this.next},ft.prototype.update=function(St,Tt){},ft.prototype.wrap=function(St,Tt){var kt=typeof St=="string"?ct.create(St,Tt):St;return this.parent!=null&&this.parent.insertBefore(kt,this.next),kt.appendChild(this),kt},ft.blotName="abstract",ft}();ot.default=dt},function(it,ot,ut){Object.defineProperty(ot,"__esModule",{value:!0});var ct=ut(12),dt=ut(32),ft=ut(33),St=ut(1),Tt=function(){function kt(jt){this.attributes={},this.domNode=jt,this.build()}return kt.prototype.attribute=function(jt,Rt){Rt?jt.add(this.domNode,Rt)&&(jt.value(this.domNode)!=null?this.attributes[jt.attrName]=jt:delete this.attributes[jt.attrName]):(jt.remove(this.domNode),delete this.attributes[jt.attrName])},kt.prototype.build=function(){var jt=this;this.attributes={};var Rt=ct.default.keys(this.domNode),$t=dt.default.keys(this.domNode),zt=ft.default.keys(this.domNode);Rt.concat($t).concat(zt).forEach(function(Ht){var Zt=St.query(Ht,St.Scope.ATTRIBUTE);Zt instanceof ct.default&&(jt.attributes[Zt.attrName]=Zt)})},kt.prototype.copy=function(jt){var Rt=this;Object.keys(this.attributes).forEach(function($t){var zt=Rt.attributes[$t].value(Rt.domNode);jt.format($t,zt)})},kt.prototype.move=function(jt){var Rt=this;this.copy(jt),Object.keys(this.attributes).forEach(function($t){Rt.attributes[$t].remove(Rt.domNode)}),this.attributes={}},kt.prototype.values=function(){var jt=this;return Object.keys(this.attributes).reduce(function(Rt,$t){return Rt[$t]=jt.attributes[$t].value(jt.domNode),Rt},{})},kt}();ot.default=Tt},function(it,ot,ut){var ct=this&&this.__extends||function(){var Tt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(kt,jt){kt.__proto__=jt}||function(kt,jt){for(var Rt in jt)jt.hasOwnProperty(Rt)&&(kt[Rt]=jt[Rt])};return function(kt,jt){Tt(kt,jt);function Rt(){this.constructor=kt}kt.prototype=jt===null?Object.create(jt):(Rt.prototype=jt.prototype,new Rt)}}();Object.defineProperty(ot,"__esModule",{value:!0});var dt=ut(12);function ft(Tt,kt){var jt=Tt.getAttribute("class")||"";return jt.split(/\s+/).filter(function(Rt){return Rt.indexOf(kt+"-")===0})}var St=function(Tt){ct(kt,Tt);function kt(){return Tt!==null&&Tt.apply(this,arguments)||this}return kt.keys=function(jt){return(jt.getAttribute("class")||"").split(/\s+/).map(function(Rt){return Rt.split("-").slice(0,-1).join("-")})},kt.prototype.add=function(jt,Rt){return this.canAdd(jt,Rt)?(this.remove(jt),jt.classList.add(this.keyName+"-"+Rt),!0):!1},kt.prototype.remove=function(jt){var Rt=ft(jt,this.keyName);Rt.forEach(function($t){jt.classList.remove($t)}),jt.classList.length===0&&jt.removeAttribute("class")},kt.prototype.value=function(jt){var Rt=ft(jt,this.keyName)[0]||"",$t=Rt.slice(this.keyName.length+1);return this.canAdd(jt,$t)?$t:""},kt}(dt.default);ot.default=St},function(it,ot,ut){var ct=this&&this.__extends||function(){var Tt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(kt,jt){kt.__proto__=jt}||function(kt,jt){for(var Rt in jt)jt.hasOwnProperty(Rt)&&(kt[Rt]=jt[Rt])};return function(kt,jt){Tt(kt,jt);function Rt(){this.constructor=kt}kt.prototype=jt===null?Object.create(jt):(Rt.prototype=jt.prototype,new Rt)}}();Object.defineProperty(ot,"__esModule",{value:!0});var dt=ut(12);function ft(Tt){var kt=Tt.split("-"),jt=kt.slice(1).map(function(Rt){return Rt[0].toUpperCase()+Rt.slice(1)}).join("");return kt[0]+jt}var St=function(Tt){ct(kt,Tt);function kt(){return Tt!==null&&Tt.apply(this,arguments)||this}return kt.keys=function(jt){return(jt.getAttribute("style")||"").split(";").map(function(Rt){var $t=Rt.split(":");return $t[0].trim()})},kt.prototype.add=function(jt,Rt){return this.canAdd(jt,Rt)?(jt.style[ft(this.keyName)]=Rt,!0):!1},kt.prototype.remove=function(jt){jt.style[ft(this.keyName)]="",jt.getAttribute("style")||jt.removeAttribute("style")},kt.prototype.value=function(jt){var Rt=jt.style[ft(this.keyName)];return this.canAdd(jt,Rt)?Rt:""},kt}(dt.default);ot.default=St},function(it,ot,ut){Object.defineProperty(ot,"__esModule",{value:!0});var ct=function(){function St(Tt,kt){for(var jt=0;jt<kt.length;jt++){var Rt=kt[jt];Rt.enumerable=Rt.enumerable||!1,Rt.configurable=!0,"value"in Rt&&(Rt.writable=!0),Object.defineProperty(Tt,Rt.key,Rt)}}return function(Tt,kt,jt){return kt&&St(Tt.prototype,kt),jt&&St(Tt,jt),Tt}}();function dt(St,Tt){if(!(St instanceof Tt))throw new TypeError("Cannot call a class as a function")}var ft=function(){function St(Tt,kt){dt(this,St),this.quill=Tt,this.options=kt,this.modules={}}return ct(St,[{key:"init",value:function(){var kt=this;Object.keys(this.options.modules).forEach(function(jt){kt.modules[jt]==null&&kt.addModule(jt)})}},{key:"addModule",value:function(kt){var jt=this.quill.constructor.import("modules/"+kt);return this.modules[kt]=new jt(this.quill,this.options.modules[kt]||{}),this.modules[kt]}}]),St}();ft.DEFAULTS={modules:{}},ft.themes={default:ft},ot.default=ft},function(it,ot,ut){Object.defineProperty(ot,"__esModule",{value:!0});var ct=function(){function Bt(Ut,Kt){for(var Yt=0;Yt<Kt.length;Yt++){var Jt=Kt[Yt];Jt.enumerable=Jt.enumerable||!1,Jt.configurable=!0,"value"in Jt&&(Jt.writable=!0),Object.defineProperty(Ut,Jt.key,Jt)}}return function(Ut,Kt,Yt){return Kt&&Bt(Ut.prototype,Kt),Yt&&Bt(Ut,Yt),Ut}}(),dt=function Bt(Ut,Kt,Yt){Ut===null&&(Ut=Function.prototype);var Jt=Object.getOwnPropertyDescriptor(Ut,Kt);if(Jt===void 0){var er=Object.getPrototypeOf(Ut);return er===null?void 0:Bt(er,Kt,Yt)}else{if("value"in Jt)return Jt.value;var tr=Jt.get;return tr===void 0?void 0:tr.call(Yt)}},ft=ut(0),St=jt(ft),Tt=ut(7),kt=jt(Tt);function jt(Bt){return Bt&&Bt.__esModule?Bt:{default:Bt}}function Rt(Bt,Ut){if(!(Bt instanceof Ut))throw new TypeError("Cannot call a class as a function")}function $t(Bt,Ut){if(!Bt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ut&&(typeof Ut=="object"||typeof Ut=="function")?Ut:Bt}function zt(Bt,Ut){if(typeof Ut!="function"&&Ut!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Ut);Bt.prototype=Object.create(Ut&&Ut.prototype,{constructor:{value:Bt,enumerable:!1,writable:!0,configurable:!0}}),Ut&&(Object.setPrototypeOf?Object.setPrototypeOf(Bt,Ut):Bt.__proto__=Ut)}var Ht="\uFEFF",Zt=function(Bt){zt(Ut,Bt);function Ut(Kt){Rt(this,Ut);var Yt=$t(this,(Ut.__proto__||Object.getPrototypeOf(Ut)).call(this,Kt));return Yt.contentNode=document.createElement("span"),Yt.contentNode.setAttribute("contenteditable",!1),[].slice.call(Yt.domNode.childNodes).forEach(function(Jt){Yt.contentNode.appendChild(Jt)}),Yt.leftGuard=document.createTextNode(Ht),Yt.rightGuard=document.createTextNode(Ht),Yt.domNode.appendChild(Yt.leftGuard),Yt.domNode.appendChild(Yt.contentNode),Yt.domNode.appendChild(Yt.rightGuard),Yt}return ct(Ut,[{key:"index",value:function(Yt,Jt){return Yt===this.leftGuard?0:Yt===this.rightGuard?1:dt(Ut.prototype.__proto__||Object.getPrototypeOf(Ut.prototype),"index",this).call(this,Yt,Jt)}},{key:"restore",value:function(Yt){var Jt=void 0,er=void 0,tr=Yt.data.split(Ht).join("");if(Yt===this.leftGuard)if(this.prev instanceof kt.default){var rr=this.prev.length();this.prev.insertAt(rr,tr),Jt={startNode:this.prev.domNode,startOffset:rr+tr.length}}else er=document.createTextNode(tr),this.parent.insertBefore(St.default.create(er),this),Jt={startNode:er,startOffset:tr.length};else Yt===this.rightGuard&&(this.next instanceof kt.default?(this.next.insertAt(0,tr),Jt={startNode:this.next.domNode,startOffset:tr.length}):(er=document.createTextNode(tr),this.parent.insertBefore(St.default.create(er),this.next),Jt={startNode:er,startOffset:tr.length}));return Yt.data=Ht,Jt}},{key:"update",value:function(Yt,Jt){var er=this;Yt.forEach(function(tr){if(tr.type==="characterData"&&(tr.target===er.leftGuard||tr.target===er.rightGuard)){var rr=er.restore(tr.target);rr&&(Jt.range=rr)}})}}]),Ut}(St.default.Embed);ot.default=Zt},function(it,ot,ut){Object.defineProperty(ot,"__esModule",{value:!0}),ot.AlignStyle=ot.AlignClass=ot.AlignAttribute=void 0;var ct=ut(0),dt=ft(ct);function ft(Rt){return Rt&&Rt.__esModule?Rt:{default:Rt}}var St={scope:dt.default.Scope.BLOCK,whitelist:["right","center","justify"]},Tt=new dt.default.Attributor.Attribute("align","align",St),kt=new dt.default.Attributor.Class("align","ql-align",St),jt=new dt.default.Attributor.Style("align","text-align",St);ot.AlignAttribute=Tt,ot.AlignClass=kt,ot.AlignStyle=jt},function(it,ot,ut){Object.defineProperty(ot,"__esModule",{value:!0}),ot.BackgroundStyle=ot.BackgroundClass=void 0;var ct=ut(0),dt=St(ct),ft=ut(26);function St(jt){return jt&&jt.__esModule?jt:{default:jt}}var Tt=new dt.default.Attributor.Class("background","ql-bg",{scope:dt.default.Scope.INLINE}),kt=new ft.ColorAttributor("background","background-color",{scope:dt.default.Scope.INLINE});ot.BackgroundClass=Tt,ot.BackgroundStyle=kt},function(it,ot,ut){Object.defineProperty(ot,"__esModule",{value:!0}),ot.DirectionStyle=ot.DirectionClass=ot.DirectionAttribute=void 0;var ct=ut(0),dt=ft(ct);function ft(Rt){return Rt&&Rt.__esModule?Rt:{default:Rt}}var St={scope:dt.default.Scope.BLOCK,whitelist:["rtl"]},Tt=new dt.default.Attributor.Attribute("direction","dir",St),kt=new dt.default.Attributor.Class("direction","ql-direction",St),jt=new dt.default.Attributor.Style("direction","direction",St);ot.DirectionAttribute=Tt,ot.DirectionClass=kt,ot.DirectionStyle=jt},function(it,ot,ut){Object.defineProperty(ot,"__esModule",{value:!0}),ot.FontClass=ot.FontStyle=void 0;var ct=function(){function Bt(Ut,Kt){for(var Yt=0;Yt<Kt.length;Yt++){var Jt=Kt[Yt];Jt.enumerable=Jt.enumerable||!1,Jt.configurable=!0,"value"in Jt&&(Jt.writable=!0),Object.defineProperty(Ut,Jt.key,Jt)}}return function(Ut,Kt,Yt){return Kt&&Bt(Ut.prototype,Kt),Yt&&Bt(Ut,Yt),Ut}}(),dt=function Bt(Ut,Kt,Yt){Ut===null&&(Ut=Function.prototype);var Jt=Object.getOwnPropertyDescriptor(Ut,Kt);if(Jt===void 0){var er=Object.getPrototypeOf(Ut);return er===null?void 0:Bt(er,Kt,Yt)}else{if("value"in Jt)return Jt.value;var tr=Jt.get;return tr===void 0?void 0:tr.call(Yt)}},ft=ut(0),St=Tt(ft);function Tt(Bt){return Bt&&Bt.__esModule?Bt:{default:Bt}}function kt(Bt,Ut){if(!(Bt instanceof Ut))throw new TypeError("Cannot call a class as a function")}function jt(Bt,Ut){if(!Bt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ut&&(typeof Ut=="object"||typeof Ut=="function")?Ut:Bt}function Rt(Bt,Ut){if(typeof Ut!="function"&&Ut!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Ut);Bt.prototype=Object.create(Ut&&Ut.prototype,{constructor:{value:Bt,enumerable:!1,writable:!0,configurable:!0}}),Ut&&(Object.setPrototypeOf?Object.setPrototypeOf(Bt,Ut):Bt.__proto__=Ut)}var $t={scope:St.default.Scope.INLINE,whitelist:["serif","monospace"]},zt=new St.default.Attributor.Class("font","ql-font",$t),Ht=function(Bt){Rt(Ut,Bt);function Ut(){return kt(this,Ut),jt(this,(Ut.__proto__||Object.getPrototypeOf(Ut)).apply(this,arguments))}return ct(Ut,[{key:"value",value:function(Yt){return dt(Ut.prototype.__proto__||Object.getPrototypeOf(Ut.prototype),"value",this).call(this,Yt).replace(/["']/g,"")}}]),Ut}(St.default.Attributor.Style),Zt=new Ht("font","font-family",$t);ot.FontStyle=Zt,ot.FontClass=zt},function(it,ot,ut){Object.defineProperty(ot,"__esModule",{value:!0}),ot.SizeStyle=ot.SizeClass=void 0;var ct=ut(0),dt=ft(ct);function ft(kt){return kt&&kt.__esModule?kt:{default:kt}}var St=new dt.default.Attributor.Class("size","ql-size",{scope:dt.default.Scope.INLINE,whitelist:["small","large","huge"]}),Tt=new dt.default.Attributor.Style("size","font-size",{scope:dt.default.Scope.INLINE,whitelist:["10px","18px","32px"]});ot.SizeClass=St,ot.SizeStyle=Tt},function(it,ot,ut){it.exports={align:{"":ut(76),center:ut(77),right:ut(78),justify:ut(79)},background:ut(80),blockquote:ut(81),bold:ut(82),clean:ut(83),code:ut(58),"code-block":ut(58),color:ut(84),direction:{"":ut(85),rtl:ut(86)},float:{center:ut(87),full:ut(88),left:ut(89),right:ut(90)},formula:ut(91),header:{1:ut(92),2:ut(93)},italic:ut(94),image:ut(95),indent:{"+1":ut(96),"-1":ut(97)},link:ut(98),list:{ordered:ut(99),bullet:ut(100),check:ut(101)},script:{sub:ut(102),super:ut(103)},strike:ut(104),underline:ut(105),video:ut(106)}},function(it,ot,ut){Object.defineProperty(ot,"__esModule",{value:!0}),ot.getLastChangeIndex=ot.default=void 0;var ct=function(){function Kt(Yt,Jt){for(var er=0;er<Jt.length;er++){var tr=Jt[er];tr.enumerable=tr.enumerable||!1,tr.configurable=!0,"value"in tr&&(tr.writable=!0),Object.defineProperty(Yt,tr.key,tr)}}return function(Yt,Jt,er){return Jt&&Kt(Yt.prototype,Jt),er&&Kt(Yt,er),Yt}}(),dt=ut(0),ft=Rt(dt),St=ut(5),Tt=Rt(St),kt=ut(9),jt=Rt(kt);function Rt(Kt){return Kt&&Kt.__esModule?Kt:{default:Kt}}function $t(Kt,Yt){if(!(Kt instanceof Yt))throw new TypeError("Cannot call a class as a function")}function zt(Kt,Yt){if(!Kt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Yt&&(typeof Yt=="object"||typeof Yt=="function")?Yt:Kt}function Ht(Kt,Yt){if(typeof Yt!="function"&&Yt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Yt);Kt.prototype=Object.create(Yt&&Yt.prototype,{constructor:{value:Kt,enumerable:!1,writable:!0,configurable:!0}}),Yt&&(Object.setPrototypeOf?Object.setPrototypeOf(Kt,Yt):Kt.__proto__=Yt)}var Zt=function(Kt){Ht(Yt,Kt);function Yt(Jt,er){$t(this,Yt);var tr=zt(this,(Yt.__proto__||Object.getPrototypeOf(Yt)).call(this,Jt,er));return tr.lastRecorded=0,tr.ignoreChange=!1,tr.clear(),tr.quill.on(Tt.default.events.EDITOR_CHANGE,function(rr,hr,ar,or){rr!==Tt.default.events.TEXT_CHANGE||tr.ignoreChange||(!tr.options.userOnly||or===Tt.default.sources.USER?tr.record(hr,ar):tr.transform(hr))}),tr.quill.keyboard.addBinding({key:"Z",shortKey:!0},tr.undo.bind(tr)),tr.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},tr.redo.bind(tr)),/Win/i.test(navigator.platform)&&tr.quill.keyboard.addBinding({key:"Y",shortKey:!0},tr.redo.bind(tr)),tr}return ct(Yt,[{key:"change",value:function(er,tr){if(this.stack[er].length!==0){var rr=this.stack[er].pop();this.stack[tr].push(rr),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(rr[er],Tt.default.sources.USER),this.ignoreChange=!1;var hr=Ut(rr[er]);this.quill.setSelection(hr)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(er,tr){if(er.ops.length!==0){this.stack.redo=[];var rr=this.quill.getContents().diff(tr),hr=Date.now();if(this.lastRecorded+this.options.delay>hr&&this.stack.undo.length>0){var ar=this.stack.undo.pop();rr=rr.compose(ar.undo),er=ar.redo.compose(er)}else this.lastRecorded=hr;this.stack.undo.push({redo:er,undo:rr}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(er){this.stack.undo.forEach(function(tr){tr.undo=er.transform(tr.undo,!0),tr.redo=er.transform(tr.redo,!0)}),this.stack.redo.forEach(function(tr){tr.undo=er.transform(tr.undo,!0),tr.redo=er.transform(tr.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),Yt}(jt.default);Zt.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function Bt(Kt){var Yt=Kt.ops[Kt.ops.length-1];return Yt==null?!1:Yt.insert!=null?typeof Yt.insert=="string"&&Yt.insert.endsWith(`
`):Yt.attributes!=null?Object.keys(Yt.attributes).some(function(Jt){return ft.default.query(Jt,ft.default.Scope.BLOCK)!=null}):!1}function Ut(Kt){var Yt=Kt.reduce(function(er,tr){return er+=tr.delete||0,er},0),Jt=Kt.length()-Yt;return Bt(Kt)&&(Jt-=1),Jt}ot.default=Zt,ot.getLastChangeIndex=Ut},function(it,ot,ut){Object.defineProperty(ot,"__esModule",{value:!0}),ot.default=ot.BaseTooltip=void 0;var ct=function(){function br(Er,Sr){for(var _r=0;_r<Sr.length;_r++){var wr=Sr[_r];wr.enumerable=wr.enumerable||!1,wr.configurable=!0,"value"in wr&&(wr.writable=!0),Object.defineProperty(Er,wr.key,wr)}}return function(Er,Sr,_r){return Sr&&br(Er.prototype,Sr),_r&&br(Er,_r),Er}}(),dt=function br(Er,Sr,_r){Er===null&&(Er=Function.prototype);var wr=Object.getOwnPropertyDescriptor(Er,Sr);if(wr===void 0){var Ar=Object.getPrototypeOf(Er);return Ar===null?void 0:br(Ar,Sr,_r)}else{if("value"in wr)return wr.value;var kr=wr.get;return kr===void 0?void 0:kr.call(_r)}},ft=ut(3),St=hr(ft),Tt=ut(2),kt=hr(Tt),jt=ut(8),Rt=hr(jt),$t=ut(23),zt=hr($t),Ht=ut(34),Zt=hr(Ht),Bt=ut(59),Ut=hr(Bt),Kt=ut(60),Yt=hr(Kt),Jt=ut(28),er=hr(Jt),tr=ut(61),rr=hr(tr);function hr(br){return br&&br.__esModule?br:{default:br}}function ar(br,Er){if(!(br instanceof Er))throw new TypeError("Cannot call a class as a function")}function or(br,Er){if(!br)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Er&&(typeof Er=="object"||typeof Er=="function")?Er:br}function cr(br,Er){if(typeof Er!="function"&&Er!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Er);br.prototype=Object.create(Er&&Er.prototype,{constructor:{value:br,enumerable:!1,writable:!0,configurable:!0}}),Er&&(Object.setPrototypeOf?Object.setPrototypeOf(br,Er):br.__proto__=Er)}var gr=[!1,"center","right","justify"],yr=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],xr=[!1,"serif","monospace"],dr=["1","2","3",!1],pr=["small",!1,"large","huge"],nr=function(br){cr(Er,br);function Er(Sr,_r){ar(this,Er);var wr=or(this,(Er.__proto__||Object.getPrototypeOf(Er)).call(this,Sr,_r)),Ar=function kr(Tr){if(!document.body.contains(Sr.root))return document.body.removeEventListener("click",kr);wr.tooltip!=null&&!wr.tooltip.root.contains(Tr.target)&&document.activeElement!==wr.tooltip.textbox&&!wr.quill.hasFocus()&&wr.tooltip.hide(),wr.pickers!=null&&wr.pickers.forEach(function(Pr){Pr.container.contains(Tr.target)||Pr.close()})};return Sr.emitter.listenDOM("click",document.body,Ar),wr}return ct(Er,[{key:"addModule",value:function(_r){var wr=dt(Er.prototype.__proto__||Object.getPrototypeOf(Er.prototype),"addModule",this).call(this,_r);return _r==="toolbar"&&this.extendToolbar(wr),wr}},{key:"buildButtons",value:function(_r,wr){_r.forEach(function(Ar){var kr=Ar.getAttribute("class")||"";kr.split(/\s+/).forEach(function(Tr){if(Tr.startsWith("ql-")&&(Tr=Tr.slice(3),wr[Tr]!=null))if(Tr==="direction")Ar.innerHTML=wr[Tr][""]+wr[Tr].rtl;else if(typeof wr[Tr]=="string")Ar.innerHTML=wr[Tr];else{var Pr=Ar.value||"";Pr!=null&&wr[Tr][Pr]&&(Ar.innerHTML=wr[Tr][Pr])}})})}},{key:"buildPickers",value:function(_r,wr){var Ar=this;this.pickers=_r.map(function(Tr){if(Tr.classList.contains("ql-align"))return Tr.querySelector("option")==null&&lr(Tr,gr),new Yt.default(Tr,wr.align);if(Tr.classList.contains("ql-background")||Tr.classList.contains("ql-color")){var Pr=Tr.classList.contains("ql-background")?"background":"color";return Tr.querySelector("option")==null&&lr(Tr,yr,Pr==="background"?"#ffffff":"#000000"),new Ut.default(Tr,wr[Pr])}else return Tr.querySelector("option")==null&&(Tr.classList.contains("ql-font")?lr(Tr,xr):Tr.classList.contains("ql-header")?lr(Tr,dr):Tr.classList.contains("ql-size")&&lr(Tr,pr)),new er.default(Tr)});var kr=function(){Ar.pickers.forEach(function(Pr){Pr.update()})};this.quill.on(Rt.default.events.EDITOR_CHANGE,kr)}}]),Er}(Zt.default);nr.DEFAULTS=(0,St.default)(!0,{},Zt.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var Er=this,Sr=this.container.querySelector("input.ql-image[type=file]");Sr==null&&(Sr=document.createElement("input"),Sr.setAttribute("type","file"),Sr.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),Sr.classList.add("ql-image"),Sr.addEventListener("change",function(){if(Sr.files!=null&&Sr.files[0]!=null){var _r=new FileReader;_r.onload=function(wr){var Ar=Er.quill.getSelection(!0);Er.quill.updateContents(new kt.default().retain(Ar.index).delete(Ar.length).insert({image:wr.target.result}),Rt.default.sources.USER),Er.quill.setSelection(Ar.index+1,Rt.default.sources.SILENT),Sr.value=""},_r.readAsDataURL(Sr.files[0])}}),this.container.appendChild(Sr)),Sr.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var ir=function(br){cr(Er,br);function Er(Sr,_r){ar(this,Er);var wr=or(this,(Er.__proto__||Object.getPrototypeOf(Er)).call(this,Sr,_r));return wr.textbox=wr.root.querySelector('input[type="text"]'),wr.listen(),wr}return ct(Er,[{key:"listen",value:function(){var _r=this;this.textbox.addEventListener("keydown",function(wr){zt.default.match(wr,"enter")?(_r.save(),wr.preventDefault()):zt.default.match(wr,"escape")&&(_r.cancel(),wr.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var _r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",wr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),wr!=null?this.textbox.value=wr:_r!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+_r)||""),this.root.setAttribute("data-mode",_r)}},{key:"restoreFocus",value:function(){var _r=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=_r}},{key:"save",value:function(){var _r=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var wr=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",_r,Rt.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",_r,Rt.default.sources.USER)),this.quill.root.scrollTop=wr;break}case"video":_r=mr(_r);case"formula":{if(!_r)break;var Ar=this.quill.getSelection(!0);if(Ar!=null){var kr=Ar.index+Ar.length;this.quill.insertEmbed(kr,this.root.getAttribute("data-mode"),_r,Rt.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(kr+1," ",Rt.default.sources.USER),this.quill.setSelection(kr+2,Rt.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),Er}(rr.default);function mr(br){var Er=br.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||br.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return Er?(Er[1]||"https")+"://www.youtube.com/embed/"+Er[2]+"?showinfo=0":(Er=br.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(Er[1]||"https")+"://player.vimeo.com/video/"+Er[2]+"/":br}function lr(br,Er){var Sr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;Er.forEach(function(_r){var wr=document.createElement("option");_r===Sr?wr.setAttribute("selected","selected"):wr.setAttribute("value",_r),br.appendChild(wr)})}ot.BaseTooltip=ir,ot.default=nr},function(it,ot,ut){Object.defineProperty(ot,"__esModule",{value:!0});var ct=function(){function dt(){this.head=this.tail=null,this.length=0}return dt.prototype.append=function(){for(var ft=[],St=0;St<arguments.length;St++)ft[St]=arguments[St];this.insertBefore(ft[0],null),ft.length>1&&this.append.apply(this,ft.slice(1))},dt.prototype.contains=function(ft){for(var St,Tt=this.iterator();St=Tt();)if(St===ft)return!0;return!1},dt.prototype.insertBefore=function(ft,St){ft&&(ft.next=St,St!=null?(ft.prev=St.prev,St.prev!=null&&(St.prev.next=ft),St.prev=ft,St===this.head&&(this.head=ft)):this.tail!=null?(this.tail.next=ft,ft.prev=this.tail,this.tail=ft):(ft.prev=null,this.head=this.tail=ft),this.length+=1)},dt.prototype.offset=function(ft){for(var St=0,Tt=this.head;Tt!=null;){if(Tt===ft)return St;St+=Tt.length(),Tt=Tt.next}return-1},dt.prototype.remove=function(ft){this.contains(ft)&&(ft.prev!=null&&(ft.prev.next=ft.next),ft.next!=null&&(ft.next.prev=ft.prev),ft===this.head&&(this.head=ft.next),ft===this.tail&&(this.tail=ft.prev),this.length-=1)},dt.prototype.iterator=function(ft){return ft===void 0&&(ft=this.head),function(){var St=ft;return ft!=null&&(ft=ft.next),St}},dt.prototype.find=function(ft,St){St===void 0&&(St=!1);for(var Tt,kt=this.iterator();Tt=kt();){var jt=Tt.length();if(ft<jt||St&&ft===jt&&(Tt.next==null||Tt.next.length()!==0))return[Tt,ft];ft-=jt}return[null,0]},dt.prototype.forEach=function(ft){for(var St,Tt=this.iterator();St=Tt();)ft(St)},dt.prototype.forEachAt=function(ft,St,Tt){if(!(St<=0))for(var kt=this.find(ft),jt=kt[0],Rt=kt[1],$t,zt=ft-Rt,Ht=this.iterator(jt);($t=Ht())&&zt<ft+St;){var Zt=$t.length();ft>zt?Tt($t,ft-zt,Math.min(St,zt+Zt-ft)):Tt($t,0,Math.min(Zt,ft+St-zt)),zt+=Zt}},dt.prototype.map=function(ft){return this.reduce(function(St,Tt){return St.push(ft(Tt)),St},[])},dt.prototype.reduce=function(ft,St){for(var Tt,kt=this.iterator();Tt=kt();)St=ft(St,Tt);return St},dt}();ot.default=ct},function(it,ot,ut){var ct=this&&this.__extends||function(){var jt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Rt,$t){Rt.__proto__=$t}||function(Rt,$t){for(var zt in $t)$t.hasOwnProperty(zt)&&(Rt[zt]=$t[zt])};return function(Rt,$t){jt(Rt,$t);function zt(){this.constructor=Rt}Rt.prototype=$t===null?Object.create($t):(zt.prototype=$t.prototype,new zt)}}();Object.defineProperty(ot,"__esModule",{value:!0});var dt=ut(17),ft=ut(1),St={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},Tt=100,kt=function(jt){ct(Rt,jt);function Rt($t){var zt=jt.call(this,$t)||this;return zt.scroll=zt,zt.observer=new MutationObserver(function(Ht){zt.update(Ht)}),zt.observer.observe(zt.domNode,St),zt.attach(),zt}return Rt.prototype.detach=function(){jt.prototype.detach.call(this),this.observer.disconnect()},Rt.prototype.deleteAt=function($t,zt){this.update(),$t===0&&zt===this.length()?this.children.forEach(function(Ht){Ht.remove()}):jt.prototype.deleteAt.call(this,$t,zt)},Rt.prototype.formatAt=function($t,zt,Ht,Zt){this.update(),jt.prototype.formatAt.call(this,$t,zt,Ht,Zt)},Rt.prototype.insertAt=function($t,zt,Ht){this.update(),jt.prototype.insertAt.call(this,$t,zt,Ht)},Rt.prototype.optimize=function($t,zt){var Ht=this;$t===void 0&&($t=[]),zt===void 0&&(zt={}),jt.prototype.optimize.call(this,zt);for(var Zt=[].slice.call(this.observer.takeRecords());Zt.length>0;)$t.push(Zt.pop());for(var Bt=function(Jt,er){er===void 0&&(er=!0),!(Jt==null||Jt===Ht)&&Jt.domNode.parentNode!=null&&(Jt.domNode[ft.DATA_KEY].mutations==null&&(Jt.domNode[ft.DATA_KEY].mutations=[]),er&&Bt(Jt.parent))},Ut=function(Jt){Jt.domNode[ft.DATA_KEY]==null||Jt.domNode[ft.DATA_KEY].mutations==null||(Jt instanceof dt.default&&Jt.children.forEach(Ut),Jt.optimize(zt))},Kt=$t,Yt=0;Kt.length>0;Yt+=1){if(Yt>=Tt)throw new Error("[Parchment] Maximum optimize iterations reached");for(Kt.forEach(function(Jt){var er=ft.find(Jt.target,!0);er!=null&&(er.domNode===Jt.target&&(Jt.type==="childList"?(Bt(ft.find(Jt.previousSibling,!1)),[].forEach.call(Jt.addedNodes,function(tr){var rr=ft.find(tr,!1);Bt(rr,!1),rr instanceof dt.default&&rr.children.forEach(function(hr){Bt(hr,!1)})})):Jt.type==="attributes"&&Bt(er.prev)),Bt(er))}),this.children.forEach(Ut),Kt=[].slice.call(this.observer.takeRecords()),Zt=Kt.slice();Zt.length>0;)$t.push(Zt.pop())}},Rt.prototype.update=function($t,zt){var Ht=this;zt===void 0&&(zt={}),$t=$t||this.observer.takeRecords(),$t.map(function(Zt){var Bt=ft.find(Zt.target,!0);return Bt==null?null:Bt.domNode[ft.DATA_KEY].mutations==null?(Bt.domNode[ft.DATA_KEY].mutations=[Zt],Bt):(Bt.domNode[ft.DATA_KEY].mutations.push(Zt),null)}).forEach(function(Zt){Zt==null||Zt===Ht||Zt.domNode[ft.DATA_KEY]==null||Zt.update(Zt.domNode[ft.DATA_KEY].mutations||[],zt)}),this.domNode[ft.DATA_KEY].mutations!=null&&jt.prototype.update.call(this,this.domNode[ft.DATA_KEY].mutations,zt),this.optimize($t,zt)},Rt.blotName="scroll",Rt.defaultChild="block",Rt.scope=ft.Scope.BLOCK_BLOT,Rt.tagName="DIV",Rt}(dt.default);ot.default=kt},function(it,ot,ut){var ct=this&&this.__extends||function(){var kt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(jt,Rt){jt.__proto__=Rt}||function(jt,Rt){for(var $t in Rt)Rt.hasOwnProperty($t)&&(jt[$t]=Rt[$t])};return function(jt,Rt){kt(jt,Rt);function $t(){this.constructor=jt}jt.prototype=Rt===null?Object.create(Rt):($t.prototype=Rt.prototype,new $t)}}();Object.defineProperty(ot,"__esModule",{value:!0});var dt=ut(18),ft=ut(1);function St(kt,jt){if(Object.keys(kt).length!==Object.keys(jt).length)return!1;for(var Rt in kt)if(kt[Rt]!==jt[Rt])return!1;return!0}var Tt=function(kt){ct(jt,kt);function jt(){return kt!==null&&kt.apply(this,arguments)||this}return jt.formats=function(Rt){if(Rt.tagName!==jt.tagName)return kt.formats.call(this,Rt)},jt.prototype.format=function(Rt,$t){var zt=this;Rt===this.statics.blotName&&!$t?(this.children.forEach(function(Ht){Ht instanceof dt.default||(Ht=Ht.wrap(jt.blotName,!0)),zt.attributes.copy(Ht)}),this.unwrap()):kt.prototype.format.call(this,Rt,$t)},jt.prototype.formatAt=function(Rt,$t,zt,Ht){if(this.formats()[zt]!=null||ft.query(zt,ft.Scope.ATTRIBUTE)){var Zt=this.isolate(Rt,$t);Zt.format(zt,Ht)}else kt.prototype.formatAt.call(this,Rt,$t,zt,Ht)},jt.prototype.optimize=function(Rt){kt.prototype.optimize.call(this,Rt);var $t=this.formats();if(Object.keys($t).length===0)return this.unwrap();var zt=this.next;zt instanceof jt&&zt.prev===this&&St($t,zt.formats())&&(zt.moveChildren(this),zt.remove())},jt.blotName="inline",jt.scope=ft.Scope.INLINE_BLOT,jt.tagName="SPAN",jt}(dt.default);ot.default=Tt},function(it,ot,ut){var ct=this&&this.__extends||function(){var Tt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(kt,jt){kt.__proto__=jt}||function(kt,jt){for(var Rt in jt)jt.hasOwnProperty(Rt)&&(kt[Rt]=jt[Rt])};return function(kt,jt){Tt(kt,jt);function Rt(){this.constructor=kt}kt.prototype=jt===null?Object.create(jt):(Rt.prototype=jt.prototype,new Rt)}}();Object.defineProperty(ot,"__esModule",{value:!0});var dt=ut(18),ft=ut(1),St=function(Tt){ct(kt,Tt);function kt(){return Tt!==null&&Tt.apply(this,arguments)||this}return kt.formats=function(jt){var Rt=ft.query(kt.blotName).tagName;if(jt.tagName!==Rt)return Tt.formats.call(this,jt)},kt.prototype.format=function(jt,Rt){ft.query(jt,ft.Scope.BLOCK)!=null&&(jt===this.statics.blotName&&!Rt?this.replaceWith(kt.blotName):Tt.prototype.format.call(this,jt,Rt))},kt.prototype.formatAt=function(jt,Rt,$t,zt){ft.query($t,ft.Scope.BLOCK)!=null?this.format($t,zt):Tt.prototype.formatAt.call(this,jt,Rt,$t,zt)},kt.prototype.insertAt=function(jt,Rt,$t){if($t==null||ft.query(Rt,ft.Scope.INLINE)!=null)Tt.prototype.insertAt.call(this,jt,Rt,$t);else{var zt=this.split(jt),Ht=ft.create(Rt,$t);zt.parent.insertBefore(Ht,zt)}},kt.prototype.update=function(jt,Rt){navigator.userAgent.match(/Trident/)?this.build():Tt.prototype.update.call(this,jt,Rt)},kt.blotName="block",kt.scope=ft.Scope.BLOCK_BLOT,kt.tagName="P",kt}(dt.default);ot.default=St},function(it,ot,ut){var ct=this&&this.__extends||function(){var St=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Tt,kt){Tt.__proto__=kt}||function(Tt,kt){for(var jt in kt)kt.hasOwnProperty(jt)&&(Tt[jt]=kt[jt])};return function(Tt,kt){St(Tt,kt);function jt(){this.constructor=Tt}Tt.prototype=kt===null?Object.create(kt):(jt.prototype=kt.prototype,new jt)}}();Object.defineProperty(ot,"__esModule",{value:!0});var dt=ut(19),ft=function(St){ct(Tt,St);function Tt(){return St!==null&&St.apply(this,arguments)||this}return Tt.formats=function(kt){},Tt.prototype.format=function(kt,jt){St.prototype.formatAt.call(this,0,this.length(),kt,jt)},Tt.prototype.formatAt=function(kt,jt,Rt,$t){kt===0&&jt===this.length()?this.format(Rt,$t):St.prototype.formatAt.call(this,kt,jt,Rt,$t)},Tt.prototype.formats=function(){return this.statics.formats(this.domNode)},Tt}(dt.default);ot.default=ft},function(it,ot,ut){var ct=this&&this.__extends||function(){var Tt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(kt,jt){kt.__proto__=jt}||function(kt,jt){for(var Rt in jt)jt.hasOwnProperty(Rt)&&(kt[Rt]=jt[Rt])};return function(kt,jt){Tt(kt,jt);function Rt(){this.constructor=kt}kt.prototype=jt===null?Object.create(jt):(Rt.prototype=jt.prototype,new Rt)}}();Object.defineProperty(ot,"__esModule",{value:!0});var dt=ut(19),ft=ut(1),St=function(Tt){ct(kt,Tt);function kt(jt){var Rt=Tt.call(this,jt)||this;return Rt.text=Rt.statics.value(Rt.domNode),Rt}return kt.create=function(jt){return document.createTextNode(jt)},kt.value=function(jt){var Rt=jt.data;return Rt.normalize&&(Rt=Rt.normalize()),Rt},kt.prototype.deleteAt=function(jt,Rt){this.domNode.data=this.text=this.text.slice(0,jt)+this.text.slice(jt+Rt)},kt.prototype.index=function(jt,Rt){return this.domNode===jt?Rt:-1},kt.prototype.insertAt=function(jt,Rt,$t){$t==null?(this.text=this.text.slice(0,jt)+Rt+this.text.slice(jt),this.domNode.data=this.text):Tt.prototype.insertAt.call(this,jt,Rt,$t)},kt.prototype.length=function(){return this.text.length},kt.prototype.optimize=function(jt){Tt.prototype.optimize.call(this,jt),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof kt&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},kt.prototype.position=function(jt,Rt){return[this.domNode,jt]},kt.prototype.split=function(jt,Rt){if(Rt===void 0&&(Rt=!1),!Rt){if(jt===0)return this;if(jt===this.length())return this.next}var $t=ft.create(this.domNode.splitText(jt));return this.parent.insertBefore($t,this.next),this.text=this.statics.value(this.domNode),$t},kt.prototype.update=function(jt,Rt){var $t=this;jt.some(function(zt){return zt.type==="characterData"&&zt.target===$t.domNode})&&(this.text=this.statics.value(this.domNode))},kt.prototype.value=function(){return this.text},kt.blotName="text",kt.scope=ft.Scope.INLINE_BLOT,kt}(dt.default);ot.default=St},function(it,ot,ut){var ct=document.createElement("div");if(ct.classList.toggle("test-class",!1),ct.classList.contains("test-class")){var dt=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(ft,St){return arguments.length>1&&!this.contains(ft)==!St?St:dt.call(this,ft)}}String.prototype.startsWith||(String.prototype.startsWith=function(ft,St){return St=St||0,this.substr(St,ft.length)===ft}),String.prototype.endsWith||(String.prototype.endsWith=function(ft,St){var Tt=this.toString();(typeof St!="number"||!isFinite(St)||Math.floor(St)!==St||St>Tt.length)&&(St=Tt.length),St-=ft.length;var kt=Tt.indexOf(ft,St);return kt!==-1&&kt===St}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(St){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof St!="function")throw new TypeError("predicate must be a function");for(var Tt=Object(this),kt=Tt.length>>>0,jt=arguments[1],Rt,$t=0;$t<kt;$t++)if(Rt=Tt[$t],St.call(jt,Rt,$t,Tt))return Rt}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(it,ot){var ut=-1,ct=1,dt=0;function ft(Yt,Jt,er){if(Yt==Jt)return Yt?[[dt,Yt]]:[];(er<0||Yt.length<er)&&(er=null);var tr=jt(Yt,Jt),rr=Yt.substring(0,tr);Yt=Yt.substring(tr),Jt=Jt.substring(tr),tr=Rt(Yt,Jt);var hr=Yt.substring(Yt.length-tr);Yt=Yt.substring(0,Yt.length-tr),Jt=Jt.substring(0,Jt.length-tr);var ar=St(Yt,Jt);return rr&&ar.unshift([dt,rr]),hr&&ar.push([dt,hr]),zt(ar),er!=null&&(ar=Bt(ar,er)),ar=Ut(ar),ar}function St(Yt,Jt){var er;if(!Yt)return[[ct,Jt]];if(!Jt)return[[ut,Yt]];var tr=Yt.length>Jt.length?Yt:Jt,rr=Yt.length>Jt.length?Jt:Yt,hr=tr.indexOf(rr);if(hr!=-1)return er=[[ct,tr.substring(0,hr)],[dt,rr],[ct,tr.substring(hr+rr.length)]],Yt.length>Jt.length&&(er[0][0]=er[2][0]=ut),er;if(rr.length==1)return[[ut,Yt],[ct,Jt]];var ar=$t(Yt,Jt);if(ar){var or=ar[0],cr=ar[1],gr=ar[2],yr=ar[3],xr=ar[4],dr=ft(or,gr),pr=ft(cr,yr);return dr.concat([[dt,xr]],pr)}return Tt(Yt,Jt)}function Tt(Yt,Jt){for(var er=Yt.length,tr=Jt.length,rr=Math.ceil((er+tr)/2),hr=rr,ar=2*rr,or=new Array(ar),cr=new Array(ar),gr=0;gr<ar;gr++)or[gr]=-1,cr[gr]=-1;or[hr+1]=0,cr[hr+1]=0;for(var yr=er-tr,xr=yr%2!=0,dr=0,pr=0,nr=0,ir=0,mr=0;mr<rr;mr++){for(var lr=-mr+dr;lr<=mr-pr;lr+=2){var br=hr+lr,Er;lr==-mr||lr!=mr&&or[br-1]<or[br+1]?Er=or[br+1]:Er=or[br-1]+1;for(var Sr=Er-lr;Er<er&&Sr<tr&&Yt.charAt(Er)==Jt.charAt(Sr);)Er++,Sr++;if(or[br]=Er,Er>er)pr+=2;else if(Sr>tr)dr+=2;else if(xr){var _r=hr+yr-lr;if(_r>=0&&_r<ar&&cr[_r]!=-1){var wr=er-cr[_r];if(Er>=wr)return kt(Yt,Jt,Er,Sr)}}}for(var Ar=-mr+nr;Ar<=mr-ir;Ar+=2){var _r=hr+Ar,wr;Ar==-mr||Ar!=mr&&cr[_r-1]<cr[_r+1]?wr=cr[_r+1]:wr=cr[_r-1]+1;for(var kr=wr-Ar;wr<er&&kr<tr&&Yt.charAt(er-wr-1)==Jt.charAt(tr-kr-1);)wr++,kr++;if(cr[_r]=wr,wr>er)ir+=2;else if(kr>tr)nr+=2;else if(!xr){var br=hr+yr-Ar;if(br>=0&&br<ar&&or[br]!=-1){var Er=or[br],Sr=hr+Er-br;if(wr=er-wr,Er>=wr)return kt(Yt,Jt,Er,Sr)}}}}return[[ut,Yt],[ct,Jt]]}function kt(Yt,Jt,er,tr){var rr=Yt.substring(0,er),hr=Jt.substring(0,tr),ar=Yt.substring(er),or=Jt.substring(tr),cr=ft(rr,hr),gr=ft(ar,or);return cr.concat(gr)}function jt(Yt,Jt){if(!Yt||!Jt||Yt.charAt(0)!=Jt.charAt(0))return 0;for(var er=0,tr=Math.min(Yt.length,Jt.length),rr=tr,hr=0;er<rr;)Yt.substring(hr,rr)==Jt.substring(hr,rr)?(er=rr,hr=er):tr=rr,rr=Math.floor((tr-er)/2+er);return rr}function Rt(Yt,Jt){if(!Yt||!Jt||Yt.charAt(Yt.length-1)!=Jt.charAt(Jt.length-1))return 0;for(var er=0,tr=Math.min(Yt.length,Jt.length),rr=tr,hr=0;er<rr;)Yt.substring(Yt.length-rr,Yt.length-hr)==Jt.substring(Jt.length-rr,Jt.length-hr)?(er=rr,hr=er):tr=rr,rr=Math.floor((tr-er)/2+er);return rr}function $t(Yt,Jt){var er=Yt.length>Jt.length?Yt:Jt,tr=Yt.length>Jt.length?Jt:Yt;if(er.length<4||tr.length*2<er.length)return null;function rr(pr,nr,ir){for(var mr=pr.substring(ir,ir+Math.floor(pr.length/4)),lr=-1,br="",Er,Sr,_r,wr;(lr=nr.indexOf(mr,lr+1))!=-1;){var Ar=jt(pr.substring(ir),nr.substring(lr)),kr=Rt(pr.substring(0,ir),nr.substring(0,lr));br.length<kr+Ar&&(br=nr.substring(lr-kr,lr)+nr.substring(lr,lr+Ar),Er=pr.substring(0,ir-kr),Sr=pr.substring(ir+Ar),_r=nr.substring(0,lr-kr),wr=nr.substring(lr+Ar))}return br.length*2>=pr.length?[Er,Sr,_r,wr,br]:null}var hr=rr(er,tr,Math.ceil(er.length/4)),ar=rr(er,tr,Math.ceil(er.length/2)),or;if(!hr&&!ar)return null;ar?hr?or=hr[4].length>ar[4].length?hr:ar:or=ar:or=hr;var cr,gr,yr,xr;Yt.length>Jt.length?(cr=or[0],gr=or[1],yr=or[2],xr=or[3]):(yr=or[0],xr=or[1],cr=or[2],gr=or[3]);var dr=or[4];return[cr,gr,yr,xr,dr]}function zt(Yt){Yt.push([dt,""]);for(var Jt=0,er=0,tr=0,rr="",hr="",ar;Jt<Yt.length;)switch(Yt[Jt][0]){case ct:tr++,hr+=Yt[Jt][1],Jt++;break;case ut:er++,rr+=Yt[Jt][1],Jt++;break;case dt:er+tr>1?(er!==0&&tr!==0&&(ar=jt(hr,rr),ar!==0&&(Jt-er-tr>0&&Yt[Jt-er-tr-1][0]==dt?Yt[Jt-er-tr-1][1]+=hr.substring(0,ar):(Yt.splice(0,0,[dt,hr.substring(0,ar)]),Jt++),hr=hr.substring(ar),rr=rr.substring(ar)),ar=Rt(hr,rr),ar!==0&&(Yt[Jt][1]=hr.substring(hr.length-ar)+Yt[Jt][1],hr=hr.substring(0,hr.length-ar),rr=rr.substring(0,rr.length-ar))),er===0?Yt.splice(Jt-tr,er+tr,[ct,hr]):tr===0?Yt.splice(Jt-er,er+tr,[ut,rr]):Yt.splice(Jt-er-tr,er+tr,[ut,rr],[ct,hr]),Jt=Jt-er-tr+(er?1:0)+(tr?1:0)+1):Jt!==0&&Yt[Jt-1][0]==dt?(Yt[Jt-1][1]+=Yt[Jt][1],Yt.splice(Jt,1)):Jt++,tr=0,er=0,rr="",hr="";break}Yt[Yt.length-1][1]===""&&Yt.pop();var or=!1;for(Jt=1;Jt<Yt.length-1;)Yt[Jt-1][0]==dt&&Yt[Jt+1][0]==dt&&(Yt[Jt][1].substring(Yt[Jt][1].length-Yt[Jt-1][1].length)==Yt[Jt-1][1]?(Yt[Jt][1]=Yt[Jt-1][1]+Yt[Jt][1].substring(0,Yt[Jt][1].length-Yt[Jt-1][1].length),Yt[Jt+1][1]=Yt[Jt-1][1]+Yt[Jt+1][1],Yt.splice(Jt-1,1),or=!0):Yt[Jt][1].substring(0,Yt[Jt+1][1].length)==Yt[Jt+1][1]&&(Yt[Jt-1][1]+=Yt[Jt+1][1],Yt[Jt][1]=Yt[Jt][1].substring(Yt[Jt+1][1].length)+Yt[Jt+1][1],Yt.splice(Jt+1,1),or=!0)),Jt++;or&&zt(Yt)}var Ht=ft;Ht.INSERT=ct,Ht.DELETE=ut,Ht.EQUAL=dt,it.exports=Ht;function Zt(Yt,Jt){if(Jt===0)return[dt,Yt];for(var er=0,tr=0;tr<Yt.length;tr++){var rr=Yt[tr];if(rr[0]===ut||rr[0]===dt){var hr=er+rr[1].length;if(Jt===hr)return[tr+1,Yt];if(Jt<hr){Yt=Yt.slice();var ar=Jt-er,or=[rr[0],rr[1].slice(0,ar)],cr=[rr[0],rr[1].slice(ar)];return Yt.splice(tr,1,or,cr),[tr+1,Yt]}else er=hr}}throw new Error("cursor_pos is out of bounds!")}function Bt(Yt,Jt){var er=Zt(Yt,Jt),tr=er[1],rr=er[0],hr=tr[rr],ar=tr[rr+1];if(hr==null)return Yt;if(hr[0]!==dt)return Yt;if(ar!=null&&hr[1]+ar[1]===ar[1]+hr[1])return tr.splice(rr,2,ar,hr),Kt(tr,rr,2);if(ar!=null&&ar[1].indexOf(hr[1])===0){tr.splice(rr,2,[ar[0],hr[1]],[0,hr[1]]);var or=ar[1].slice(hr[1].length);return or.length>0&&tr.splice(rr+2,0,[ar[0],or]),Kt(tr,rr,3)}else return Yt}function Ut(Yt){for(var Jt=!1,er=function(ar){return ar.charCodeAt(0)>=56320&&ar.charCodeAt(0)<=57343},tr=function(ar){return ar.charCodeAt(ar.length-1)>=55296&&ar.charCodeAt(ar.length-1)<=56319},rr=2;rr<Yt.length;rr+=1)Yt[rr-2][0]===dt&&tr(Yt[rr-2][1])&&Yt[rr-1][0]===ut&&er(Yt[rr-1][1])&&Yt[rr][0]===ct&&er(Yt[rr][1])&&(Jt=!0,Yt[rr-1][1]=Yt[rr-2][1].slice(-1)+Yt[rr-1][1],Yt[rr][1]=Yt[rr-2][1].slice(-1)+Yt[rr][1],Yt[rr-2][1]=Yt[rr-2][1].slice(0,-1));if(!Jt)return Yt;for(var hr=[],rr=0;rr<Yt.length;rr+=1)Yt[rr][1].length>0&&hr.push(Yt[rr]);return hr}function Kt(Yt,Jt,er){for(var tr=Jt+er-1;tr>=0&&tr>=Jt-1;tr--)if(tr+1<Yt.length){var rr=Yt[tr],hr=Yt[tr+1];rr[0]===hr[1]&&Yt.splice(tr,2,[rr[0],rr[1]+hr[1]])}return Yt}},function(it,ot){ot=it.exports=typeof Object.keys=="function"?Object.keys:ut,ot.shim=ut;function ut(ct){var dt=[];for(var ft in ct)dt.push(ft);return dt}},function(it,ot){var ut=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";ot=it.exports=ut?ct:dt,ot.supported=ct;function ct(ft){return Object.prototype.toString.call(ft)=="[object Arguments]"}ot.unsupported=dt;function dt(ft){return ft&&typeof ft=="object"&&typeof ft.length=="number"&&Object.prototype.hasOwnProperty.call(ft,"callee")&&!Object.prototype.propertyIsEnumerable.call(ft,"callee")||!1}},function(it,ot){var ut=Object.prototype.hasOwnProperty,ct="~";function dt(){}Object.create&&(dt.prototype=Object.create(null),new dt().__proto__||(ct=!1));function ft(Tt,kt,jt){this.fn=Tt,this.context=kt,this.once=jt||!1}function St(){this._events=new dt,this._eventsCount=0}St.prototype.eventNames=function(){var kt=[],jt,Rt;if(this._eventsCount===0)return kt;for(Rt in jt=this._events)ut.call(jt,Rt)&&kt.push(ct?Rt.slice(1):Rt);return Object.getOwnPropertySymbols?kt.concat(Object.getOwnPropertySymbols(jt)):kt},St.prototype.listeners=function(kt,jt){var Rt=ct?ct+kt:kt,$t=this._events[Rt];if(jt)return!!$t;if(!$t)return[];if($t.fn)return[$t.fn];for(var zt=0,Ht=$t.length,Zt=new Array(Ht);zt<Ht;zt++)Zt[zt]=$t[zt].fn;return Zt},St.prototype.emit=function(kt,jt,Rt,$t,zt,Ht){var Zt=ct?ct+kt:kt;if(!this._events[Zt])return!1;var Bt=this._events[Zt],Ut=arguments.length,Kt,Yt;if(Bt.fn){switch(Bt.once&&this.removeListener(kt,Bt.fn,void 0,!0),Ut){case 1:return Bt.fn.call(Bt.context),!0;case 2:return Bt.fn.call(Bt.context,jt),!0;case 3:return Bt.fn.call(Bt.context,jt,Rt),!0;case 4:return Bt.fn.call(Bt.context,jt,Rt,$t),!0;case 5:return Bt.fn.call(Bt.context,jt,Rt,$t,zt),!0;case 6:return Bt.fn.call(Bt.context,jt,Rt,$t,zt,Ht),!0}for(Yt=1,Kt=new Array(Ut-1);Yt<Ut;Yt++)Kt[Yt-1]=arguments[Yt];Bt.fn.apply(Bt.context,Kt)}else{var Jt=Bt.length,er;for(Yt=0;Yt<Jt;Yt++)switch(Bt[Yt].once&&this.removeListener(kt,Bt[Yt].fn,void 0,!0),Ut){case 1:Bt[Yt].fn.call(Bt[Yt].context);break;case 2:Bt[Yt].fn.call(Bt[Yt].context,jt);break;case 3:Bt[Yt].fn.call(Bt[Yt].context,jt,Rt);break;case 4:Bt[Yt].fn.call(Bt[Yt].context,jt,Rt,$t);break;default:if(!Kt)for(er=1,Kt=new Array(Ut-1);er<Ut;er++)Kt[er-1]=arguments[er];Bt[Yt].fn.apply(Bt[Yt].context,Kt)}}return!0},St.prototype.on=function(kt,jt,Rt){var $t=new ft(jt,Rt||this),zt=ct?ct+kt:kt;return this._events[zt]?this._events[zt].fn?this._events[zt]=[this._events[zt],$t]:this._events[zt].push($t):(this._events[zt]=$t,this._eventsCount++),this},St.prototype.once=function(kt,jt,Rt){var $t=new ft(jt,Rt||this,!0),zt=ct?ct+kt:kt;return this._events[zt]?this._events[zt].fn?this._events[zt]=[this._events[zt],$t]:this._events[zt].push($t):(this._events[zt]=$t,this._eventsCount++),this},St.prototype.removeListener=function(kt,jt,Rt,$t){var zt=ct?ct+kt:kt;if(!this._events[zt])return this;if(!jt)return--this._eventsCount===0?this._events=new dt:delete this._events[zt],this;var Ht=this._events[zt];if(Ht.fn)Ht.fn===jt&&(!$t||Ht.once)&&(!Rt||Ht.context===Rt)&&(--this._eventsCount===0?this._events=new dt:delete this._events[zt]);else{for(var Zt=0,Bt=[],Ut=Ht.length;Zt<Ut;Zt++)(Ht[Zt].fn!==jt||$t&&!Ht[Zt].once||Rt&&Ht[Zt].context!==Rt)&&Bt.push(Ht[Zt]);Bt.length?this._events[zt]=Bt.length===1?Bt[0]:Bt:--this._eventsCount===0?this._events=new dt:delete this._events[zt]}return this},St.prototype.removeAllListeners=function(kt){var jt;return kt?(jt=ct?ct+kt:kt,this._events[jt]&&(--this._eventsCount===0?this._events=new dt:delete this._events[jt])):(this._events=new dt,this._eventsCount=0),this},St.prototype.off=St.prototype.removeListener,St.prototype.addListener=St.prototype.on,St.prototype.setMaxListeners=function(){return this},St.prefixed=ct,St.EventEmitter=St,typeof it<"u"&&(it.exports=St)},function(it,ot,ut){Object.defineProperty(ot,"__esModule",{value:!0}),ot.matchText=ot.matchSpacing=ot.matchNewline=ot.matchBlot=ot.matchAttributor=ot.default=void 0;var ct=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Cr){return typeof Cr}:function(Cr){return Cr&&typeof Symbol=="function"&&Cr.constructor===Symbol&&Cr!==Symbol.prototype?"symbol":typeof Cr},dt=function(){function Cr(Rr,Ir){var Or=[],jr=!0,Hr=!1,Ur=void 0;try{for(var zr=Rr[Symbol.iterator](),ln;!(jr=(ln=zr.next()).done)&&(Or.push(ln.value),!(Ir&&Or.length===Ir));jr=!0);}catch(un){Hr=!0,Ur=un}finally{try{!jr&&zr.return&&zr.return()}finally{if(Hr)throw Ur}}return Or}return function(Rr,Ir){if(Array.isArray(Rr))return Rr;if(Symbol.iterator in Object(Rr))return Cr(Rr,Ir);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ft=function(){function Cr(Rr,Ir){for(var Or=0;Or<Ir.length;Or++){var jr=Ir[Or];jr.enumerable=jr.enumerable||!1,jr.configurable=!0,"value"in jr&&(jr.writable=!0),Object.defineProperty(Rr,jr.key,jr)}}return function(Rr,Ir,Or){return Ir&&Cr(Rr.prototype,Ir),Or&&Cr(Rr,Or),Rr}}(),St=ut(3),Tt=cr(St),kt=ut(2),jt=cr(kt),Rt=ut(0),$t=cr(Rt),zt=ut(5),Ht=cr(zt),Zt=ut(10),Bt=cr(Zt),Ut=ut(9),Kt=cr(Ut),Yt=ut(36),Jt=ut(37),er=ut(13),tr=cr(er),rr=ut(26),hr=ut(38),ar=ut(39),or=ut(40);function cr(Cr){return Cr&&Cr.__esModule?Cr:{default:Cr}}function gr(Cr,Rr,Ir){return Rr in Cr?Object.defineProperty(Cr,Rr,{value:Ir,enumerable:!0,configurable:!0,writable:!0}):Cr[Rr]=Ir,Cr}function yr(Cr,Rr){if(!(Cr instanceof Rr))throw new TypeError("Cannot call a class as a function")}function xr(Cr,Rr){if(!Cr)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Rr&&(typeof Rr=="object"||typeof Rr=="function")?Rr:Cr}function dr(Cr,Rr){if(typeof Rr!="function"&&Rr!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Rr);Cr.prototype=Object.create(Rr&&Rr.prototype,{constructor:{value:Cr,enumerable:!1,writable:!0,configurable:!0}}),Rr&&(Object.setPrototypeOf?Object.setPrototypeOf(Cr,Rr):Cr.__proto__=Rr)}var pr=(0,Bt.default)("quill:clipboard"),nr="__ql-matcher",ir=[[Node.TEXT_NODE,Xr],[Node.TEXT_NODE,Mr],["br",Lr],[Node.ELEMENT_NODE,Mr],[Node.ELEMENT_NODE,Pr],[Node.ELEMENT_NODE,Vr],[Node.ELEMENT_NODE,Tr],[Node.ELEMENT_NODE,qr],["li",Dr],["b",kr.bind(kr,"bold")],["i",kr.bind(kr,"italic")],["style",Fr]],mr=[Yt.AlignAttribute,hr.DirectionAttribute].reduce(function(Cr,Rr){return Cr[Rr.keyName]=Rr,Cr},{}),lr=[Yt.AlignStyle,Jt.BackgroundStyle,rr.ColorStyle,hr.DirectionStyle,ar.FontStyle,or.SizeStyle].reduce(function(Cr,Rr){return Cr[Rr.keyName]=Rr,Cr},{}),br=function(Cr){dr(Rr,Cr);function Rr(Ir,Or){yr(this,Rr);var jr=xr(this,(Rr.__proto__||Object.getPrototypeOf(Rr)).call(this,Ir,Or));return jr.quill.root.addEventListener("paste",jr.onPaste.bind(jr)),jr.container=jr.quill.addContainer("ql-clipboard"),jr.container.setAttribute("contenteditable",!0),jr.container.setAttribute("tabindex",-1),jr.matchers=[],ir.concat(jr.options.matchers).forEach(function(Hr){var Ur=dt(Hr,2),zr=Ur[0],ln=Ur[1];!Or.matchVisual&&ln===Vr||jr.addMatcher(zr,ln)}),jr}return ft(Rr,[{key:"addMatcher",value:function(Or,jr){this.matchers.push([Or,jr])}},{key:"convert",value:function(Or){if(typeof Or=="string")return this.container.innerHTML=Or.replace(/\>\r?\n +\</g,"><"),this.convert();var jr=this.quill.getFormat(this.quill.selection.savedRange.index);if(jr[tr.default.blotName]){var Hr=this.container.innerText;return this.container.innerHTML="",new jt.default().insert(Hr,gr({},tr.default.blotName,jr[tr.default.blotName]))}var Ur=this.prepareMatching(),zr=dt(Ur,2),ln=zr[0],un=zr[1],Yr=Ar(this.container,ln,un);return _r(Yr,`
`)&&Yr.ops[Yr.ops.length-1].attributes==null&&(Yr=Yr.compose(new jt.default().retain(Yr.length()-1).delete(1))),pr.log("convert",this.container.innerHTML,Yr),this.container.innerHTML="",Yr}},{key:"dangerouslyPasteHTML",value:function(Or,jr){var Hr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ht.default.sources.API;if(typeof Or=="string")this.quill.setContents(this.convert(Or),jr),this.quill.setSelection(0,Ht.default.sources.SILENT);else{var Ur=this.convert(jr);this.quill.updateContents(new jt.default().retain(Or).concat(Ur),Hr),this.quill.setSelection(Or+Ur.length(),Ht.default.sources.SILENT)}}},{key:"onPaste",value:function(Or){var jr=this;if(!(Or.defaultPrevented||!this.quill.isEnabled())){var Hr=this.quill.getSelection(),Ur=new jt.default().retain(Hr.index),zr=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(Ht.default.sources.SILENT),setTimeout(function(){Ur=Ur.concat(jr.convert()).delete(Hr.length),jr.quill.updateContents(Ur,Ht.default.sources.USER),jr.quill.setSelection(Ur.length()-Hr.length,Ht.default.sources.SILENT),jr.quill.scrollingContainer.scrollTop=zr,jr.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var Or=this,jr=[],Hr=[];return this.matchers.forEach(function(Ur){var zr=dt(Ur,2),ln=zr[0],un=zr[1];switch(ln){case Node.TEXT_NODE:Hr.push(un);break;case Node.ELEMENT_NODE:jr.push(un);break;default:[].forEach.call(Or.container.querySelectorAll(ln),function(Yr){Yr[nr]=Yr[nr]||[],Yr[nr].push(un)});break}}),[jr,Hr]}}]),Rr}(Kt.default);br.DEFAULTS={matchers:[],matchVisual:!0};function Er(Cr,Rr,Ir){return(typeof Rr>"u"?"undefined":ct(Rr))==="object"?Object.keys(Rr).reduce(function(Or,jr){return Er(Or,jr,Rr[jr])},Cr):Cr.reduce(function(Or,jr){return jr.attributes&&jr.attributes[Rr]?Or.push(jr):Or.insert(jr.insert,(0,Tt.default)({},gr({},Rr,Ir),jr.attributes))},new jt.default)}function Sr(Cr){if(Cr.nodeType!==Node.ELEMENT_NODE)return{};var Rr="__ql-computed-style";return Cr[Rr]||(Cr[Rr]=window.getComputedStyle(Cr))}function _r(Cr,Rr){for(var Ir="",Or=Cr.ops.length-1;Or>=0&&Ir.length<Rr.length;--Or){var jr=Cr.ops[Or];if(typeof jr.insert!="string")break;Ir=jr.insert+Ir}return Ir.slice(-1*Rr.length)===Rr}function wr(Cr){if(Cr.childNodes.length===0)return!1;var Rr=Sr(Cr);return["block","list-item"].indexOf(Rr.display)>-1}function Ar(Cr,Rr,Ir){return Cr.nodeType===Cr.TEXT_NODE?Ir.reduce(function(Or,jr){return jr(Cr,Or)},new jt.default):Cr.nodeType===Cr.ELEMENT_NODE?[].reduce.call(Cr.childNodes||[],function(Or,jr){var Hr=Ar(jr,Rr,Ir);return jr.nodeType===Cr.ELEMENT_NODE&&(Hr=Rr.reduce(function(Ur,zr){return zr(jr,Ur)},Hr),Hr=(jr[nr]||[]).reduce(function(Ur,zr){return zr(jr,Ur)},Hr)),Or.concat(Hr)},new jt.default):new jt.default}function kr(Cr,Rr,Ir){return Er(Ir,Cr,!0)}function Tr(Cr,Rr){var Ir=$t.default.Attributor.Attribute.keys(Cr),Or=$t.default.Attributor.Class.keys(Cr),jr=$t.default.Attributor.Style.keys(Cr),Hr={};return Ir.concat(Or).concat(jr).forEach(function(Ur){var zr=$t.default.query(Ur,$t.default.Scope.ATTRIBUTE);zr!=null&&(Hr[zr.attrName]=zr.value(Cr),Hr[zr.attrName])||(zr=mr[Ur],zr!=null&&(zr.attrName===Ur||zr.keyName===Ur)&&(Hr[zr.attrName]=zr.value(Cr)||void 0),zr=lr[Ur],zr!=null&&(zr.attrName===Ur||zr.keyName===Ur)&&(zr=lr[Ur],Hr[zr.attrName]=zr.value(Cr)||void 0))}),Object.keys(Hr).length>0&&(Rr=Er(Rr,Hr)),Rr}function Pr(Cr,Rr){var Ir=$t.default.query(Cr);if(Ir==null)return Rr;if(Ir.prototype instanceof $t.default.Embed){var Or={},jr=Ir.value(Cr);jr!=null&&(Or[Ir.blotName]=jr,Rr=new jt.default().insert(Or,Ir.formats(Cr)))}else typeof Ir.formats=="function"&&(Rr=Er(Rr,Ir.blotName,Ir.formats(Cr)));return Rr}function Lr(Cr,Rr){return _r(Rr,`
`)||Rr.insert(`
`),Rr}function Fr(){return new jt.default}function Dr(Cr,Rr){var Ir=$t.default.query(Cr);if(Ir==null||Ir.blotName!=="list-item"||!_r(Rr,`
`))return Rr;for(var Or=-1,jr=Cr.parentNode;!jr.classList.contains("ql-clipboard");)($t.default.query(jr)||{}).blotName==="list"&&(Or+=1),jr=jr.parentNode;return Or<=0?Rr:Rr.compose(new jt.default().retain(Rr.length()-1).retain(1,{indent:Or}))}function Mr(Cr,Rr){return _r(Rr,`
`)||(wr(Cr)||Rr.length()>0&&Cr.nextSibling&&wr(Cr.nextSibling))&&Rr.insert(`
`),Rr}function Vr(Cr,Rr){if(wr(Cr)&&Cr.nextElementSibling!=null&&!_r(Rr,`

`)){var Ir=Cr.offsetHeight+parseFloat(Sr(Cr).marginTop)+parseFloat(Sr(Cr).marginBottom);Cr.nextElementSibling.offsetTop>Cr.offsetTop+Ir*1.5&&Rr.insert(`
`)}return Rr}function qr(Cr,Rr){var Ir={},Or=Cr.style||{};return Or.fontStyle&&Sr(Cr).fontStyle==="italic"&&(Ir.italic=!0),Or.fontWeight&&(Sr(Cr).fontWeight.startsWith("bold")||parseInt(Sr(Cr).fontWeight)>=700)&&(Ir.bold=!0),Object.keys(Ir).length>0&&(Rr=Er(Rr,Ir)),parseFloat(Or.textIndent||0)>0&&(Rr=new jt.default().insert("	").concat(Rr)),Rr}function Xr(Cr,Rr){var Ir=Cr.data;if(Cr.parentNode.tagName==="O:P")return Rr.insert(Ir.trim());if(Ir.trim().length===0&&Cr.parentNode.classList.contains("ql-clipboard"))return Rr;if(!Sr(Cr.parentNode).whiteSpace.startsWith("pre")){var Or=function(Hr,Ur){return Ur=Ur.replace(/[^\u00a0]/g,""),Ur.length<1&&Hr?" ":Ur};Ir=Ir.replace(/\r\n/g," ").replace(/\n/g," "),Ir=Ir.replace(/\s\s+/g,Or.bind(Or,!0)),(Cr.previousSibling==null&&wr(Cr.parentNode)||Cr.previousSibling!=null&&wr(Cr.previousSibling))&&(Ir=Ir.replace(/^\s+/,Or.bind(Or,!1))),(Cr.nextSibling==null&&wr(Cr.parentNode)||Cr.nextSibling!=null&&wr(Cr.nextSibling))&&(Ir=Ir.replace(/\s+$/,Or.bind(Or,!1)))}return Rr.insert(Ir)}ot.default=br,ot.matchAttributor=Tr,ot.matchBlot=Pr,ot.matchNewline=Mr,ot.matchSpacing=Vr,ot.matchText=Xr},function(it,ot,ut){Object.defineProperty(ot,"__esModule",{value:!0});var ct=function(){function zt(Ht,Zt){for(var Bt=0;Bt<Zt.length;Bt++){var Ut=Zt[Bt];Ut.enumerable=Ut.enumerable||!1,Ut.configurable=!0,"value"in Ut&&(Ut.writable=!0),Object.defineProperty(Ht,Ut.key,Ut)}}return function(Ht,Zt,Bt){return Zt&&zt(Ht.prototype,Zt),Bt&&zt(Ht,Bt),Ht}}(),dt=function zt(Ht,Zt,Bt){Ht===null&&(Ht=Function.prototype);var Ut=Object.getOwnPropertyDescriptor(Ht,Zt);if(Ut===void 0){var Kt=Object.getPrototypeOf(Ht);return Kt===null?void 0:zt(Kt,Zt,Bt)}else{if("value"in Ut)return Ut.value;var Yt=Ut.get;return Yt===void 0?void 0:Yt.call(Bt)}},ft=ut(6),St=Tt(ft);function Tt(zt){return zt&&zt.__esModule?zt:{default:zt}}function kt(zt,Ht){if(!(zt instanceof Ht))throw new TypeError("Cannot call a class as a function")}function jt(zt,Ht){if(!zt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ht&&(typeof Ht=="object"||typeof Ht=="function")?Ht:zt}function Rt(zt,Ht){if(typeof Ht!="function"&&Ht!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Ht);zt.prototype=Object.create(Ht&&Ht.prototype,{constructor:{value:zt,enumerable:!1,writable:!0,configurable:!0}}),Ht&&(Object.setPrototypeOf?Object.setPrototypeOf(zt,Ht):zt.__proto__=Ht)}var $t=function(zt){Rt(Ht,zt);function Ht(){return kt(this,Ht),jt(this,(Ht.__proto__||Object.getPrototypeOf(Ht)).apply(this,arguments))}return ct(Ht,[{key:"optimize",value:function(Bt){dt(Ht.prototype.__proto__||Object.getPrototypeOf(Ht.prototype),"optimize",this).call(this,Bt),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return dt(Ht.__proto__||Object.getPrototypeOf(Ht),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),Ht}(St.default);$t.blotName="bold",$t.tagName=["STRONG","B"],ot.default=$t},function(it,ot,ut){Object.defineProperty(ot,"__esModule",{value:!0}),ot.addControls=ot.default=void 0;var ct=function(){function or(cr,gr){var yr=[],xr=!0,dr=!1,pr=void 0;try{for(var nr=cr[Symbol.iterator](),ir;!(xr=(ir=nr.next()).done)&&(yr.push(ir.value),!(gr&&yr.length===gr));xr=!0);}catch(mr){dr=!0,pr=mr}finally{try{!xr&&nr.return&&nr.return()}finally{if(dr)throw pr}}return yr}return function(cr,gr){if(Array.isArray(cr))return cr;if(Symbol.iterator in Object(cr))return or(cr,gr);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),dt=function(){function or(cr,gr){for(var yr=0;yr<gr.length;yr++){var xr=gr[yr];xr.enumerable=xr.enumerable||!1,xr.configurable=!0,"value"in xr&&(xr.writable=!0),Object.defineProperty(cr,xr.key,xr)}}return function(cr,gr,yr){return gr&&or(cr.prototype,gr),yr&&or(cr,yr),cr}}(),ft=ut(2),St=Bt(ft),Tt=ut(0),kt=Bt(Tt),jt=ut(5),Rt=Bt(jt),$t=ut(10),zt=Bt($t),Ht=ut(9),Zt=Bt(Ht);function Bt(or){return or&&or.__esModule?or:{default:or}}function Ut(or,cr,gr){return cr in or?Object.defineProperty(or,cr,{value:gr,enumerable:!0,configurable:!0,writable:!0}):or[cr]=gr,or}function Kt(or,cr){if(!(or instanceof cr))throw new TypeError("Cannot call a class as a function")}function Yt(or,cr){if(!or)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return cr&&(typeof cr=="object"||typeof cr=="function")?cr:or}function Jt(or,cr){if(typeof cr!="function"&&cr!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof cr);or.prototype=Object.create(cr&&cr.prototype,{constructor:{value:or,enumerable:!1,writable:!0,configurable:!0}}),cr&&(Object.setPrototypeOf?Object.setPrototypeOf(or,cr):or.__proto__=cr)}var er=(0,zt.default)("quill:toolbar"),tr=function(or){Jt(cr,or);function cr(gr,yr){Kt(this,cr);var xr=Yt(this,(cr.__proto__||Object.getPrototypeOf(cr)).call(this,gr,yr));if(Array.isArray(xr.options.container)){var dr=document.createElement("div");hr(dr,xr.options.container),gr.container.parentNode.insertBefore(dr,gr.container),xr.container=dr}else typeof xr.options.container=="string"?xr.container=document.querySelector(xr.options.container):xr.container=xr.options.container;if(!(xr.container instanceof HTMLElement)){var pr;return pr=er.error("Container required for toolbar",xr.options),Yt(xr,pr)}return xr.container.classList.add("ql-toolbar"),xr.controls=[],xr.handlers={},Object.keys(xr.options.handlers).forEach(function(nr){xr.addHandler(nr,xr.options.handlers[nr])}),[].forEach.call(xr.container.querySelectorAll("button, select"),function(nr){xr.attach(nr)}),xr.quill.on(Rt.default.events.EDITOR_CHANGE,function(nr,ir){nr===Rt.default.events.SELECTION_CHANGE&&xr.update(ir)}),xr.quill.on(Rt.default.events.SCROLL_OPTIMIZE,function(){var nr=xr.quill.selection.getRange(),ir=ct(nr,1),mr=ir[0];xr.update(mr)}),xr}return dt(cr,[{key:"addHandler",value:function(yr,xr){this.handlers[yr]=xr}},{key:"attach",value:function(yr){var xr=this,dr=[].find.call(yr.classList,function(nr){return nr.indexOf("ql-")===0});if(dr){if(dr=dr.slice(3),yr.tagName==="BUTTON"&&yr.setAttribute("type","button"),this.handlers[dr]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[dr]==null){er.warn("ignoring attaching to disabled format",dr,yr);return}if(kt.default.query(dr)==null){er.warn("ignoring attaching to nonexistent format",dr,yr);return}}var pr=yr.tagName==="SELECT"?"change":"click";yr.addEventListener(pr,function(nr){var ir=void 0;if(yr.tagName==="SELECT"){if(yr.selectedIndex<0)return;var mr=yr.options[yr.selectedIndex];mr.hasAttribute("selected")?ir=!1:ir=mr.value||!1}else yr.classList.contains("ql-active")?ir=!1:ir=yr.value||!yr.hasAttribute("value"),nr.preventDefault();xr.quill.focus();var lr=xr.quill.selection.getRange(),br=ct(lr,1),Er=br[0];if(xr.handlers[dr]!=null)xr.handlers[dr].call(xr,ir);else if(kt.default.query(dr).prototype instanceof kt.default.Embed){if(ir=prompt("Enter "+dr),!ir)return;xr.quill.updateContents(new St.default().retain(Er.index).delete(Er.length).insert(Ut({},dr,ir)),Rt.default.sources.USER)}else xr.quill.format(dr,ir,Rt.default.sources.USER);xr.update(Er)}),this.controls.push([dr,yr])}}},{key:"update",value:function(yr){var xr=yr==null?{}:this.quill.getFormat(yr);this.controls.forEach(function(dr){var pr=ct(dr,2),nr=pr[0],ir=pr[1];if(ir.tagName==="SELECT"){var mr=void 0;if(yr==null)mr=null;else if(xr[nr]==null)mr=ir.querySelector("option[selected]");else if(!Array.isArray(xr[nr])){var lr=xr[nr];typeof lr=="string"&&(lr=lr.replace(/\"/g,'\\"')),mr=ir.querySelector('option[value="'+lr+'"]')}mr==null?(ir.value="",ir.selectedIndex=-1):mr.selected=!0}else if(yr==null)ir.classList.remove("ql-active");else if(ir.hasAttribute("value")){var br=xr[nr]===ir.getAttribute("value")||xr[nr]!=null&&xr[nr].toString()===ir.getAttribute("value")||xr[nr]==null&&!ir.getAttribute("value");ir.classList.toggle("ql-active",br)}else ir.classList.toggle("ql-active",xr[nr]!=null)})}}]),cr}(Zt.default);tr.DEFAULTS={};function rr(or,cr,gr){var yr=document.createElement("button");yr.setAttribute("type","button"),yr.classList.add("ql-"+cr),gr!=null&&(yr.value=gr),or.appendChild(yr)}function hr(or,cr){Array.isArray(cr[0])||(cr=[cr]),cr.forEach(function(gr){var yr=document.createElement("span");yr.classList.add("ql-formats"),gr.forEach(function(xr){if(typeof xr=="string")rr(yr,xr);else{var dr=Object.keys(xr)[0],pr=xr[dr];Array.isArray(pr)?ar(yr,dr,pr):rr(yr,dr,pr)}}),or.appendChild(yr)})}function ar(or,cr,gr){var yr=document.createElement("select");yr.classList.add("ql-"+cr),gr.forEach(function(xr){var dr=document.createElement("option");xr!==!1?dr.setAttribute("value",xr):dr.setAttribute("selected","selected"),yr.appendChild(dr)}),or.appendChild(yr)}tr.DEFAULTS={container:null,handlers:{clean:function(){var cr=this,gr=this.quill.getSelection();if(gr!=null)if(gr.length==0){var yr=this.quill.getFormat();Object.keys(yr).forEach(function(xr){kt.default.query(xr,kt.default.Scope.INLINE)!=null&&cr.quill.format(xr,!1)})}else this.quill.removeFormat(gr,Rt.default.sources.USER)},direction:function(cr){var gr=this.quill.getFormat().align;cr==="rtl"&&gr==null?this.quill.format("align","right",Rt.default.sources.USER):!cr&&gr==="right"&&this.quill.format("align",!1,Rt.default.sources.USER),this.quill.format("direction",cr,Rt.default.sources.USER)},indent:function(cr){var gr=this.quill.getSelection(),yr=this.quill.getFormat(gr),xr=parseInt(yr.indent||0);if(cr==="+1"||cr==="-1"){var dr=cr==="+1"?1:-1;yr.direction==="rtl"&&(dr*=-1),this.quill.format("indent",xr+dr,Rt.default.sources.USER)}},link:function(cr){cr===!0&&(cr=prompt("Enter link URL:")),this.quill.format("link",cr,Rt.default.sources.USER)},list:function(cr){var gr=this.quill.getSelection(),yr=this.quill.getFormat(gr);cr==="check"?yr.list==="checked"||yr.list==="unchecked"?this.quill.format("list",!1,Rt.default.sources.USER):this.quill.format("list","unchecked",Rt.default.sources.USER):this.quill.format("list",cr,Rt.default.sources.USER)}}},ot.default=tr,ot.addControls=hr},function(it,ot){it.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(it,ot,ut){Object.defineProperty(ot,"__esModule",{value:!0});var ct=function(){function zt(Ht,Zt){for(var Bt=0;Bt<Zt.length;Bt++){var Ut=Zt[Bt];Ut.enumerable=Ut.enumerable||!1,Ut.configurable=!0,"value"in Ut&&(Ut.writable=!0),Object.defineProperty(Ht,Ut.key,Ut)}}return function(Ht,Zt,Bt){return Zt&&zt(Ht.prototype,Zt),Bt&&zt(Ht,Bt),Ht}}(),dt=function zt(Ht,Zt,Bt){Ht===null&&(Ht=Function.prototype);var Ut=Object.getOwnPropertyDescriptor(Ht,Zt);if(Ut===void 0){var Kt=Object.getPrototypeOf(Ht);return Kt===null?void 0:zt(Kt,Zt,Bt)}else{if("value"in Ut)return Ut.value;var Yt=Ut.get;return Yt===void 0?void 0:Yt.call(Bt)}},ft=ut(28),St=Tt(ft);function Tt(zt){return zt&&zt.__esModule?zt:{default:zt}}function kt(zt,Ht){if(!(zt instanceof Ht))throw new TypeError("Cannot call a class as a function")}function jt(zt,Ht){if(!zt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ht&&(typeof Ht=="object"||typeof Ht=="function")?Ht:zt}function Rt(zt,Ht){if(typeof Ht!="function"&&Ht!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Ht);zt.prototype=Object.create(Ht&&Ht.prototype,{constructor:{value:zt,enumerable:!1,writable:!0,configurable:!0}}),Ht&&(Object.setPrototypeOf?Object.setPrototypeOf(zt,Ht):zt.__proto__=Ht)}var $t=function(zt){Rt(Ht,zt);function Ht(Zt,Bt){kt(this,Ht);var Ut=jt(this,(Ht.__proto__||Object.getPrototypeOf(Ht)).call(this,Zt));return Ut.label.innerHTML=Bt,Ut.container.classList.add("ql-color-picker"),[].slice.call(Ut.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(Kt){Kt.classList.add("ql-primary")}),Ut}return ct(Ht,[{key:"buildItem",value:function(Bt){var Ut=dt(Ht.prototype.__proto__||Object.getPrototypeOf(Ht.prototype),"buildItem",this).call(this,Bt);return Ut.style.backgroundColor=Bt.getAttribute("value")||"",Ut}},{key:"selectItem",value:function(Bt,Ut){dt(Ht.prototype.__proto__||Object.getPrototypeOf(Ht.prototype),"selectItem",this).call(this,Bt,Ut);var Kt=this.label.querySelector(".ql-color-label"),Yt=Bt&&Bt.getAttribute("data-value")||"";Kt&&(Kt.tagName==="line"?Kt.style.stroke=Yt:Kt.style.fill=Yt)}}]),Ht}(St.default);ot.default=$t},function(it,ot,ut){Object.defineProperty(ot,"__esModule",{value:!0});var ct=function(){function zt(Ht,Zt){for(var Bt=0;Bt<Zt.length;Bt++){var Ut=Zt[Bt];Ut.enumerable=Ut.enumerable||!1,Ut.configurable=!0,"value"in Ut&&(Ut.writable=!0),Object.defineProperty(Ht,Ut.key,Ut)}}return function(Ht,Zt,Bt){return Zt&&zt(Ht.prototype,Zt),Bt&&zt(Ht,Bt),Ht}}(),dt=function zt(Ht,Zt,Bt){Ht===null&&(Ht=Function.prototype);var Ut=Object.getOwnPropertyDescriptor(Ht,Zt);if(Ut===void 0){var Kt=Object.getPrototypeOf(Ht);return Kt===null?void 0:zt(Kt,Zt,Bt)}else{if("value"in Ut)return Ut.value;var Yt=Ut.get;return Yt===void 0?void 0:Yt.call(Bt)}},ft=ut(28),St=Tt(ft);function Tt(zt){return zt&&zt.__esModule?zt:{default:zt}}function kt(zt,Ht){if(!(zt instanceof Ht))throw new TypeError("Cannot call a class as a function")}function jt(zt,Ht){if(!zt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ht&&(typeof Ht=="object"||typeof Ht=="function")?Ht:zt}function Rt(zt,Ht){if(typeof Ht!="function"&&Ht!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Ht);zt.prototype=Object.create(Ht&&Ht.prototype,{constructor:{value:zt,enumerable:!1,writable:!0,configurable:!0}}),Ht&&(Object.setPrototypeOf?Object.setPrototypeOf(zt,Ht):zt.__proto__=Ht)}var $t=function(zt){Rt(Ht,zt);function Ht(Zt,Bt){kt(this,Ht);var Ut=jt(this,(Ht.__proto__||Object.getPrototypeOf(Ht)).call(this,Zt));return Ut.container.classList.add("ql-icon-picker"),[].forEach.call(Ut.container.querySelectorAll(".ql-picker-item"),function(Kt){Kt.innerHTML=Bt[Kt.getAttribute("data-value")||""]}),Ut.defaultItem=Ut.container.querySelector(".ql-selected"),Ut.selectItem(Ut.defaultItem),Ut}return ct(Ht,[{key:"selectItem",value:function(Bt,Ut){dt(Ht.prototype.__proto__||Object.getPrototypeOf(Ht.prototype),"selectItem",this).call(this,Bt,Ut),Bt=Bt||this.defaultItem,this.label.innerHTML=Bt.innerHTML}}]),Ht}(St.default);ot.default=$t},function(it,ot,ut){Object.defineProperty(ot,"__esModule",{value:!0});var ct=function(){function St(Tt,kt){for(var jt=0;jt<kt.length;jt++){var Rt=kt[jt];Rt.enumerable=Rt.enumerable||!1,Rt.configurable=!0,"value"in Rt&&(Rt.writable=!0),Object.defineProperty(Tt,Rt.key,Rt)}}return function(Tt,kt,jt){return kt&&St(Tt.prototype,kt),jt&&St(Tt,jt),Tt}}();function dt(St,Tt){if(!(St instanceof Tt))throw new TypeError("Cannot call a class as a function")}var ft=function(){function St(Tt,kt){var jt=this;dt(this,St),this.quill=Tt,this.boundsContainer=kt||document.body,this.root=Tt.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){jt.root.style.marginTop=-1*jt.quill.root.scrollTop+"px"}),this.hide()}return ct(St,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(kt){var jt=kt.left+kt.width/2-this.root.offsetWidth/2,Rt=kt.bottom+this.quill.root.scrollTop;this.root.style.left=jt+"px",this.root.style.top=Rt+"px",this.root.classList.remove("ql-flip");var $t=this.boundsContainer.getBoundingClientRect(),zt=this.root.getBoundingClientRect(),Ht=0;if(zt.right>$t.right&&(Ht=$t.right-zt.right,this.root.style.left=jt+Ht+"px"),zt.left<$t.left&&(Ht=$t.left-zt.left,this.root.style.left=jt+Ht+"px"),zt.bottom>$t.bottom){var Zt=zt.bottom-zt.top,Bt=kt.bottom-kt.top+Zt;this.root.style.top=Rt-Bt+"px",this.root.classList.add("ql-flip")}return Ht}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),St}();ot.default=ft},function(it,ot,ut){Object.defineProperty(ot,"__esModule",{value:!0});var ct=function(){function ar(or,cr){var gr=[],yr=!0,xr=!1,dr=void 0;try{for(var pr=or[Symbol.iterator](),nr;!(yr=(nr=pr.next()).done)&&(gr.push(nr.value),!(cr&&gr.length===cr));yr=!0);}catch(ir){xr=!0,dr=ir}finally{try{!yr&&pr.return&&pr.return()}finally{if(xr)throw dr}}return gr}return function(or,cr){if(Array.isArray(or))return or;if(Symbol.iterator in Object(or))return ar(or,cr);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),dt=function ar(or,cr,gr){or===null&&(or=Function.prototype);var yr=Object.getOwnPropertyDescriptor(or,cr);if(yr===void 0){var xr=Object.getPrototypeOf(or);return xr===null?void 0:ar(xr,cr,gr)}else{if("value"in yr)return yr.value;var dr=yr.get;return dr===void 0?void 0:dr.call(gr)}},ft=function(){function ar(or,cr){for(var gr=0;gr<cr.length;gr++){var yr=cr[gr];yr.enumerable=yr.enumerable||!1,yr.configurable=!0,"value"in yr&&(yr.writable=!0),Object.defineProperty(or,yr.key,yr)}}return function(or,cr,gr){return cr&&ar(or.prototype,cr),gr&&ar(or,gr),or}}(),St=ut(3),Tt=Kt(St),kt=ut(8),jt=Kt(kt),Rt=ut(43),$t=Kt(Rt),zt=ut(27),Ht=Kt(zt),Zt=ut(15),Bt=ut(41),Ut=Kt(Bt);function Kt(ar){return ar&&ar.__esModule?ar:{default:ar}}function Yt(ar,or){if(!(ar instanceof or))throw new TypeError("Cannot call a class as a function")}function Jt(ar,or){if(!ar)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return or&&(typeof or=="object"||typeof or=="function")?or:ar}function er(ar,or){if(typeof or!="function"&&or!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof or);ar.prototype=Object.create(or&&or.prototype,{constructor:{value:ar,enumerable:!1,writable:!0,configurable:!0}}),or&&(Object.setPrototypeOf?Object.setPrototypeOf(ar,or):ar.__proto__=or)}var tr=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],rr=function(ar){er(or,ar);function or(cr,gr){Yt(this,or),gr.modules.toolbar!=null&&gr.modules.toolbar.container==null&&(gr.modules.toolbar.container=tr);var yr=Jt(this,(or.__proto__||Object.getPrototypeOf(or)).call(this,cr,gr));return yr.quill.container.classList.add("ql-snow"),yr}return ft(or,[{key:"extendToolbar",value:function(gr){gr.container.classList.add("ql-snow"),this.buildButtons([].slice.call(gr.container.querySelectorAll("button")),Ut.default),this.buildPickers([].slice.call(gr.container.querySelectorAll("select")),Ut.default),this.tooltip=new hr(this.quill,this.options.bounds),gr.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(yr,xr){gr.handlers.link.call(gr,!xr.format.link)})}}]),or}($t.default);rr.DEFAULTS=(0,Tt.default)(!0,{},$t.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(or){if(or){var cr=this.quill.getSelection();if(cr==null||cr.length==0)return;var gr=this.quill.getText(cr);/^\S+@\S+\.\S+$/.test(gr)&&gr.indexOf("mailto:")!==0&&(gr="mailto:"+gr);var yr=this.quill.theme.tooltip;yr.edit("link",gr)}else this.quill.format("link",!1)}}}}});var hr=function(ar){er(or,ar);function or(cr,gr){Yt(this,or);var yr=Jt(this,(or.__proto__||Object.getPrototypeOf(or)).call(this,cr,gr));return yr.preview=yr.root.querySelector("a.ql-preview"),yr}return ft(or,[{key:"listen",value:function(){var gr=this;dt(or.prototype.__proto__||Object.getPrototypeOf(or.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(yr){gr.root.classList.contains("ql-editing")?gr.save():gr.edit("link",gr.preview.textContent),yr.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(yr){if(gr.linkRange!=null){var xr=gr.linkRange;gr.restoreFocus(),gr.quill.formatText(xr,"link",!1,jt.default.sources.USER),delete gr.linkRange}yr.preventDefault(),gr.hide()}),this.quill.on(jt.default.events.SELECTION_CHANGE,function(yr,xr,dr){if(yr!=null){if(yr.length===0&&dr===jt.default.sources.USER){var pr=gr.quill.scroll.descendant(Ht.default,yr.index),nr=ct(pr,2),ir=nr[0],mr=nr[1];if(ir!=null){gr.linkRange=new Zt.Range(yr.index-mr,ir.length());var lr=Ht.default.formats(ir.domNode);gr.preview.textContent=lr,gr.preview.setAttribute("href",lr),gr.show(),gr.position(gr.quill.getBounds(gr.linkRange));return}}else delete gr.linkRange;gr.hide()}})}},{key:"show",value:function(){dt(or.prototype.__proto__||Object.getPrototypeOf(or.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),or}(Rt.BaseTooltip);hr.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),ot.default=rr},function(it,ot,ut){Object.defineProperty(ot,"__esModule",{value:!0});var ct=ut(29),dt=jr(ct),ft=ut(36),St=ut(38),Tt=ut(64),kt=ut(65),jt=jr(kt),Rt=ut(66),$t=jr(Rt),zt=ut(67),Ht=jr(zt),Zt=ut(37),Bt=ut(26),Ut=ut(39),Kt=ut(40),Yt=ut(56),Jt=jr(Yt),er=ut(68),tr=jr(er),rr=ut(27),hr=jr(rr),ar=ut(69),or=jr(ar),cr=ut(70),gr=jr(cr),yr=ut(71),xr=jr(yr),dr=ut(72),pr=jr(dr),nr=ut(73),ir=jr(nr),mr=ut(13),lr=jr(mr),br=ut(74),Er=jr(br),Sr=ut(75),_r=jr(Sr),wr=ut(57),Ar=jr(wr),kr=ut(41),Tr=jr(kr),Pr=ut(28),Lr=jr(Pr),Fr=ut(59),Dr=jr(Fr),Mr=ut(60),Vr=jr(Mr),qr=ut(61),Xr=jr(qr),Cr=ut(108),Rr=jr(Cr),Ir=ut(62),Or=jr(Ir);function jr(Hr){return Hr&&Hr.__esModule?Hr:{default:Hr}}dt.default.register({"attributors/attribute/direction":St.DirectionAttribute,"attributors/class/align":ft.AlignClass,"attributors/class/background":Zt.BackgroundClass,"attributors/class/color":Bt.ColorClass,"attributors/class/direction":St.DirectionClass,"attributors/class/font":Ut.FontClass,"attributors/class/size":Kt.SizeClass,"attributors/style/align":ft.AlignStyle,"attributors/style/background":Zt.BackgroundStyle,"attributors/style/color":Bt.ColorStyle,"attributors/style/direction":St.DirectionStyle,"attributors/style/font":Ut.FontStyle,"attributors/style/size":Kt.SizeStyle},!0),dt.default.register({"formats/align":ft.AlignClass,"formats/direction":St.DirectionClass,"formats/indent":Tt.IndentClass,"formats/background":Zt.BackgroundStyle,"formats/color":Bt.ColorStyle,"formats/font":Ut.FontClass,"formats/size":Kt.SizeClass,"formats/blockquote":jt.default,"formats/code-block":lr.default,"formats/header":$t.default,"formats/list":Ht.default,"formats/bold":Jt.default,"formats/code":mr.Code,"formats/italic":tr.default,"formats/link":hr.default,"formats/script":or.default,"formats/strike":gr.default,"formats/underline":xr.default,"formats/image":pr.default,"formats/video":ir.default,"formats/list/item":zt.ListItem,"modules/formula":Er.default,"modules/syntax":_r.default,"modules/toolbar":Ar.default,"themes/bubble":Rr.default,"themes/snow":Or.default,"ui/icons":Tr.default,"ui/picker":Lr.default,"ui/icon-picker":Vr.default,"ui/color-picker":Dr.default,"ui/tooltip":Xr.default},!0),ot.default=dt.default},function(it,ot,ut){Object.defineProperty(ot,"__esModule",{value:!0}),ot.IndentClass=void 0;var ct=function(){function Ht(Zt,Bt){for(var Ut=0;Ut<Bt.length;Ut++){var Kt=Bt[Ut];Kt.enumerable=Kt.enumerable||!1,Kt.configurable=!0,"value"in Kt&&(Kt.writable=!0),Object.defineProperty(Zt,Kt.key,Kt)}}return function(Zt,Bt,Ut){return Bt&&Ht(Zt.prototype,Bt),Ut&&Ht(Zt,Ut),Zt}}(),dt=function Ht(Zt,Bt,Ut){Zt===null&&(Zt=Function.prototype);var Kt=Object.getOwnPropertyDescriptor(Zt,Bt);if(Kt===void 0){var Yt=Object.getPrototypeOf(Zt);return Yt===null?void 0:Ht(Yt,Bt,Ut)}else{if("value"in Kt)return Kt.value;var Jt=Kt.get;return Jt===void 0?void 0:Jt.call(Ut)}},ft=ut(0),St=Tt(ft);function Tt(Ht){return Ht&&Ht.__esModule?Ht:{default:Ht}}function kt(Ht,Zt){if(!(Ht instanceof Zt))throw new TypeError("Cannot call a class as a function")}function jt(Ht,Zt){if(!Ht)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Zt&&(typeof Zt=="object"||typeof Zt=="function")?Zt:Ht}function Rt(Ht,Zt){if(typeof Zt!="function"&&Zt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Zt);Ht.prototype=Object.create(Zt&&Zt.prototype,{constructor:{value:Ht,enumerable:!1,writable:!0,configurable:!0}}),Zt&&(Object.setPrototypeOf?Object.setPrototypeOf(Ht,Zt):Ht.__proto__=Zt)}var $t=function(Ht){Rt(Zt,Ht);function Zt(){return kt(this,Zt),jt(this,(Zt.__proto__||Object.getPrototypeOf(Zt)).apply(this,arguments))}return ct(Zt,[{key:"add",value:function(Ut,Kt){if(Kt==="+1"||Kt==="-1"){var Yt=this.value(Ut)||0;Kt=Kt==="+1"?Yt+1:Yt-1}return Kt===0?(this.remove(Ut),!0):dt(Zt.prototype.__proto__||Object.getPrototypeOf(Zt.prototype),"add",this).call(this,Ut,Kt)}},{key:"canAdd",value:function(Ut,Kt){return dt(Zt.prototype.__proto__||Object.getPrototypeOf(Zt.prototype),"canAdd",this).call(this,Ut,Kt)||dt(Zt.prototype.__proto__||Object.getPrototypeOf(Zt.prototype),"canAdd",this).call(this,Ut,parseInt(Kt))}},{key:"value",value:function(Ut){return parseInt(dt(Zt.prototype.__proto__||Object.getPrototypeOf(Zt.prototype),"value",this).call(this,Ut))||void 0}}]),Zt}(St.default.Attributor.Class),zt=new $t("indent","ql-indent",{scope:St.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});ot.IndentClass=zt},function(it,ot,ut){Object.defineProperty(ot,"__esModule",{value:!0});var ct=ut(4),dt=ft(ct);function ft(Rt){return Rt&&Rt.__esModule?Rt:{default:Rt}}function St(Rt,$t){if(!(Rt instanceof $t))throw new TypeError("Cannot call a class as a function")}function Tt(Rt,$t){if(!Rt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $t&&(typeof $t=="object"||typeof $t=="function")?$t:Rt}function kt(Rt,$t){if(typeof $t!="function"&&$t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof $t);Rt.prototype=Object.create($t&&$t.prototype,{constructor:{value:Rt,enumerable:!1,writable:!0,configurable:!0}}),$t&&(Object.setPrototypeOf?Object.setPrototypeOf(Rt,$t):Rt.__proto__=$t)}var jt=function(Rt){kt($t,Rt);function $t(){return St(this,$t),Tt(this,($t.__proto__||Object.getPrototypeOf($t)).apply(this,arguments))}return $t}(dt.default);jt.blotName="blockquote",jt.tagName="blockquote",ot.default=jt},function(it,ot,ut){Object.defineProperty(ot,"__esModule",{value:!0});var ct=function(){function $t(zt,Ht){for(var Zt=0;Zt<Ht.length;Zt++){var Bt=Ht[Zt];Bt.enumerable=Bt.enumerable||!1,Bt.configurable=!0,"value"in Bt&&(Bt.writable=!0),Object.defineProperty(zt,Bt.key,Bt)}}return function(zt,Ht,Zt){return Ht&&$t(zt.prototype,Ht),Zt&&$t(zt,Zt),zt}}(),dt=ut(4),ft=St(dt);function St($t){return $t&&$t.__esModule?$t:{default:$t}}function Tt($t,zt){if(!($t instanceof zt))throw new TypeError("Cannot call a class as a function")}function kt($t,zt){if(!$t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return zt&&(typeof zt=="object"||typeof zt=="function")?zt:$t}function jt($t,zt){if(typeof zt!="function"&&zt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof zt);$t.prototype=Object.create(zt&&zt.prototype,{constructor:{value:$t,enumerable:!1,writable:!0,configurable:!0}}),zt&&(Object.setPrototypeOf?Object.setPrototypeOf($t,zt):$t.__proto__=zt)}var Rt=function($t){jt(zt,$t);function zt(){return Tt(this,zt),kt(this,(zt.__proto__||Object.getPrototypeOf(zt)).apply(this,arguments))}return ct(zt,null,[{key:"formats",value:function(Zt){return this.tagName.indexOf(Zt.tagName)+1}}]),zt}(ft.default);Rt.blotName="header",Rt.tagName=["H1","H2","H3","H4","H5","H6"],ot.default=Rt},function(it,ot,ut){Object.defineProperty(ot,"__esModule",{value:!0}),ot.default=ot.ListItem=void 0;var ct=function(){function Yt(Jt,er){for(var tr=0;tr<er.length;tr++){var rr=er[tr];rr.enumerable=rr.enumerable||!1,rr.configurable=!0,"value"in rr&&(rr.writable=!0),Object.defineProperty(Jt,rr.key,rr)}}return function(Jt,er,tr){return er&&Yt(Jt.prototype,er),tr&&Yt(Jt,tr),Jt}}(),dt=function Yt(Jt,er,tr){Jt===null&&(Jt=Function.prototype);var rr=Object.getOwnPropertyDescriptor(Jt,er);if(rr===void 0){var hr=Object.getPrototypeOf(Jt);return hr===null?void 0:Yt(hr,er,tr)}else{if("value"in rr)return rr.value;var ar=rr.get;return ar===void 0?void 0:ar.call(tr)}},ft=ut(0),St=$t(ft),Tt=ut(4),kt=$t(Tt),jt=ut(25),Rt=$t(jt);function $t(Yt){return Yt&&Yt.__esModule?Yt:{default:Yt}}function zt(Yt,Jt,er){return Jt in Yt?Object.defineProperty(Yt,Jt,{value:er,enumerable:!0,configurable:!0,writable:!0}):Yt[Jt]=er,Yt}function Ht(Yt,Jt){if(!(Yt instanceof Jt))throw new TypeError("Cannot call a class as a function")}function Zt(Yt,Jt){if(!Yt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Jt&&(typeof Jt=="object"||typeof Jt=="function")?Jt:Yt}function Bt(Yt,Jt){if(typeof Jt!="function"&&Jt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Jt);Yt.prototype=Object.create(Jt&&Jt.prototype,{constructor:{value:Yt,enumerable:!1,writable:!0,configurable:!0}}),Jt&&(Object.setPrototypeOf?Object.setPrototypeOf(Yt,Jt):Yt.__proto__=Jt)}var Ut=function(Yt){Bt(Jt,Yt);function Jt(){return Ht(this,Jt),Zt(this,(Jt.__proto__||Object.getPrototypeOf(Jt)).apply(this,arguments))}return ct(Jt,[{key:"format",value:function(tr,rr){tr===Kt.blotName&&!rr?this.replaceWith(St.default.create(this.statics.scope)):dt(Jt.prototype.__proto__||Object.getPrototypeOf(Jt.prototype),"format",this).call(this,tr,rr)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():dt(Jt.prototype.__proto__||Object.getPrototypeOf(Jt.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(tr,rr){return this.parent.isolate(this.offset(this.parent),this.length()),tr===this.parent.statics.blotName?(this.parent.replaceWith(tr,rr),this):(this.parent.unwrap(),dt(Jt.prototype.__proto__||Object.getPrototypeOf(Jt.prototype),"replaceWith",this).call(this,tr,rr))}}],[{key:"formats",value:function(tr){return tr.tagName===this.tagName?void 0:dt(Jt.__proto__||Object.getPrototypeOf(Jt),"formats",this).call(this,tr)}}]),Jt}(kt.default);Ut.blotName="list-item",Ut.tagName="LI";var Kt=function(Yt){Bt(Jt,Yt),ct(Jt,null,[{key:"create",value:function(tr){var rr=tr==="ordered"?"OL":"UL",hr=dt(Jt.__proto__||Object.getPrototypeOf(Jt),"create",this).call(this,rr);return(tr==="checked"||tr==="unchecked")&&hr.setAttribute("data-checked",tr==="checked"),hr}},{key:"formats",value:function(tr){if(tr.tagName==="OL")return"ordered";if(tr.tagName==="UL")return tr.hasAttribute("data-checked")?tr.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function Jt(er){Ht(this,Jt);var tr=Zt(this,(Jt.__proto__||Object.getPrototypeOf(Jt)).call(this,er)),rr=function(ar){if(ar.target.parentNode===er){var or=tr.statics.formats(er),cr=St.default.find(ar.target);or==="checked"?cr.format("list","unchecked"):or==="unchecked"&&cr.format("list","checked")}};return er.addEventListener("touchstart",rr),er.addEventListener("mousedown",rr),tr}return ct(Jt,[{key:"format",value:function(tr,rr){this.children.length>0&&this.children.tail.format(tr,rr)}},{key:"formats",value:function(){return zt({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(tr,rr){if(tr instanceof Ut)dt(Jt.prototype.__proto__||Object.getPrototypeOf(Jt.prototype),"insertBefore",this).call(this,tr,rr);else{var hr=rr==null?this.length():rr.offset(this),ar=this.split(hr);ar.parent.insertBefore(tr,ar)}}},{key:"optimize",value:function(tr){dt(Jt.prototype.__proto__||Object.getPrototypeOf(Jt.prototype),"optimize",this).call(this,tr);var rr=this.next;rr!=null&&rr.prev===this&&rr.statics.blotName===this.statics.blotName&&rr.domNode.tagName===this.domNode.tagName&&rr.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(rr.moveChildren(this),rr.remove())}},{key:"replace",value:function(tr){if(tr.statics.blotName!==this.statics.blotName){var rr=St.default.create(this.statics.defaultChild);tr.moveChildren(rr),this.appendChild(rr)}dt(Jt.prototype.__proto__||Object.getPrototypeOf(Jt.prototype),"replace",this).call(this,tr)}}]),Jt}(Rt.default);Kt.blotName="list",Kt.scope=St.default.Scope.BLOCK_BLOT,Kt.tagName=["OL","UL"],Kt.defaultChild="list-item",Kt.allowedChildren=[Ut],ot.ListItem=Ut,ot.default=Kt},function(it,ot,ut){Object.defineProperty(ot,"__esModule",{value:!0});var ct=ut(56),dt=ft(ct);function ft(Rt){return Rt&&Rt.__esModule?Rt:{default:Rt}}function St(Rt,$t){if(!(Rt instanceof $t))throw new TypeError("Cannot call a class as a function")}function Tt(Rt,$t){if(!Rt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $t&&(typeof $t=="object"||typeof $t=="function")?$t:Rt}function kt(Rt,$t){if(typeof $t!="function"&&$t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof $t);Rt.prototype=Object.create($t&&$t.prototype,{constructor:{value:Rt,enumerable:!1,writable:!0,configurable:!0}}),$t&&(Object.setPrototypeOf?Object.setPrototypeOf(Rt,$t):Rt.__proto__=$t)}var jt=function(Rt){kt($t,Rt);function $t(){return St(this,$t),Tt(this,($t.__proto__||Object.getPrototypeOf($t)).apply(this,arguments))}return $t}(dt.default);jt.blotName="italic",jt.tagName=["EM","I"],ot.default=jt},function(it,ot,ut){Object.defineProperty(ot,"__esModule",{value:!0});var ct=function(){function zt(Ht,Zt){for(var Bt=0;Bt<Zt.length;Bt++){var Ut=Zt[Bt];Ut.enumerable=Ut.enumerable||!1,Ut.configurable=!0,"value"in Ut&&(Ut.writable=!0),Object.defineProperty(Ht,Ut.key,Ut)}}return function(Ht,Zt,Bt){return Zt&&zt(Ht.prototype,Zt),Bt&&zt(Ht,Bt),Ht}}(),dt=function zt(Ht,Zt,Bt){Ht===null&&(Ht=Function.prototype);var Ut=Object.getOwnPropertyDescriptor(Ht,Zt);if(Ut===void 0){var Kt=Object.getPrototypeOf(Ht);return Kt===null?void 0:zt(Kt,Zt,Bt)}else{if("value"in Ut)return Ut.value;var Yt=Ut.get;return Yt===void 0?void 0:Yt.call(Bt)}},ft=ut(6),St=Tt(ft);function Tt(zt){return zt&&zt.__esModule?zt:{default:zt}}function kt(zt,Ht){if(!(zt instanceof Ht))throw new TypeError("Cannot call a class as a function")}function jt(zt,Ht){if(!zt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ht&&(typeof Ht=="object"||typeof Ht=="function")?Ht:zt}function Rt(zt,Ht){if(typeof Ht!="function"&&Ht!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Ht);zt.prototype=Object.create(Ht&&Ht.prototype,{constructor:{value:zt,enumerable:!1,writable:!0,configurable:!0}}),Ht&&(Object.setPrototypeOf?Object.setPrototypeOf(zt,Ht):zt.__proto__=Ht)}var $t=function(zt){Rt(Ht,zt);function Ht(){return kt(this,Ht),jt(this,(Ht.__proto__||Object.getPrototypeOf(Ht)).apply(this,arguments))}return ct(Ht,null,[{key:"create",value:function(Bt){return Bt==="super"?document.createElement("sup"):Bt==="sub"?document.createElement("sub"):dt(Ht.__proto__||Object.getPrototypeOf(Ht),"create",this).call(this,Bt)}},{key:"formats",value:function(Bt){if(Bt.tagName==="SUB")return"sub";if(Bt.tagName==="SUP")return"super"}}]),Ht}(St.default);$t.blotName="script",$t.tagName=["SUB","SUP"],ot.default=$t},function(it,ot,ut){Object.defineProperty(ot,"__esModule",{value:!0});var ct=ut(6),dt=ft(ct);function ft(Rt){return Rt&&Rt.__esModule?Rt:{default:Rt}}function St(Rt,$t){if(!(Rt instanceof $t))throw new TypeError("Cannot call a class as a function")}function Tt(Rt,$t){if(!Rt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $t&&(typeof $t=="object"||typeof $t=="function")?$t:Rt}function kt(Rt,$t){if(typeof $t!="function"&&$t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof $t);Rt.prototype=Object.create($t&&$t.prototype,{constructor:{value:Rt,enumerable:!1,writable:!0,configurable:!0}}),$t&&(Object.setPrototypeOf?Object.setPrototypeOf(Rt,$t):Rt.__proto__=$t)}var jt=function(Rt){kt($t,Rt);function $t(){return St(this,$t),Tt(this,($t.__proto__||Object.getPrototypeOf($t)).apply(this,arguments))}return $t}(dt.default);jt.blotName="strike",jt.tagName="S",ot.default=jt},function(it,ot,ut){Object.defineProperty(ot,"__esModule",{value:!0});var ct=ut(6),dt=ft(ct);function ft(Rt){return Rt&&Rt.__esModule?Rt:{default:Rt}}function St(Rt,$t){if(!(Rt instanceof $t))throw new TypeError("Cannot call a class as a function")}function Tt(Rt,$t){if(!Rt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $t&&(typeof $t=="object"||typeof $t=="function")?$t:Rt}function kt(Rt,$t){if(typeof $t!="function"&&$t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof $t);Rt.prototype=Object.create($t&&$t.prototype,{constructor:{value:Rt,enumerable:!1,writable:!0,configurable:!0}}),$t&&(Object.setPrototypeOf?Object.setPrototypeOf(Rt,$t):Rt.__proto__=$t)}var jt=function(Rt){kt($t,Rt);function $t(){return St(this,$t),Tt(this,($t.__proto__||Object.getPrototypeOf($t)).apply(this,arguments))}return $t}(dt.default);jt.blotName="underline",jt.tagName="U",ot.default=jt},function(it,ot,ut){Object.defineProperty(ot,"__esModule",{value:!0});var ct=function(){function Zt(Bt,Ut){for(var Kt=0;Kt<Ut.length;Kt++){var Yt=Ut[Kt];Yt.enumerable=Yt.enumerable||!1,Yt.configurable=!0,"value"in Yt&&(Yt.writable=!0),Object.defineProperty(Bt,Yt.key,Yt)}}return function(Bt,Ut,Kt){return Ut&&Zt(Bt.prototype,Ut),Kt&&Zt(Bt,Kt),Bt}}(),dt=function Zt(Bt,Ut,Kt){Bt===null&&(Bt=Function.prototype);var Yt=Object.getOwnPropertyDescriptor(Bt,Ut);if(Yt===void 0){var Jt=Object.getPrototypeOf(Bt);return Jt===null?void 0:Zt(Jt,Ut,Kt)}else{if("value"in Yt)return Yt.value;var er=Yt.get;return er===void 0?void 0:er.call(Kt)}},ft=ut(0),St=kt(ft),Tt=ut(27);function kt(Zt){return Zt&&Zt.__esModule?Zt:{default:Zt}}function jt(Zt,Bt){if(!(Zt instanceof Bt))throw new TypeError("Cannot call a class as a function")}function Rt(Zt,Bt){if(!Zt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Bt&&(typeof Bt=="object"||typeof Bt=="function")?Bt:Zt}function $t(Zt,Bt){if(typeof Bt!="function"&&Bt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Bt);Zt.prototype=Object.create(Bt&&Bt.prototype,{constructor:{value:Zt,enumerable:!1,writable:!0,configurable:!0}}),Bt&&(Object.setPrototypeOf?Object.setPrototypeOf(Zt,Bt):Zt.__proto__=Bt)}var zt=["alt","height","width"],Ht=function(Zt){$t(Bt,Zt);function Bt(){return jt(this,Bt),Rt(this,(Bt.__proto__||Object.getPrototypeOf(Bt)).apply(this,arguments))}return ct(Bt,[{key:"format",value:function(Kt,Yt){zt.indexOf(Kt)>-1?Yt?this.domNode.setAttribute(Kt,Yt):this.domNode.removeAttribute(Kt):dt(Bt.prototype.__proto__||Object.getPrototypeOf(Bt.prototype),"format",this).call(this,Kt,Yt)}}],[{key:"create",value:function(Kt){var Yt=dt(Bt.__proto__||Object.getPrototypeOf(Bt),"create",this).call(this,Kt);return typeof Kt=="string"&&Yt.setAttribute("src",this.sanitize(Kt)),Yt}},{key:"formats",value:function(Kt){return zt.reduce(function(Yt,Jt){return Kt.hasAttribute(Jt)&&(Yt[Jt]=Kt.getAttribute(Jt)),Yt},{})}},{key:"match",value:function(Kt){return/\.(jpe?g|gif|png)$/.test(Kt)||/^data:image\/.+;base64/.test(Kt)}},{key:"sanitize",value:function(Kt){return(0,Tt.sanitize)(Kt,["http","https","data"])?Kt:"//:0"}},{key:"value",value:function(Kt){return Kt.getAttribute("src")}}]),Bt}(St.default.Embed);Ht.blotName="image",Ht.tagName="IMG",ot.default=Ht},function(it,ot,ut){Object.defineProperty(ot,"__esModule",{value:!0});var ct=function(){function Zt(Bt,Ut){for(var Kt=0;Kt<Ut.length;Kt++){var Yt=Ut[Kt];Yt.enumerable=Yt.enumerable||!1,Yt.configurable=!0,"value"in Yt&&(Yt.writable=!0),Object.defineProperty(Bt,Yt.key,Yt)}}return function(Bt,Ut,Kt){return Ut&&Zt(Bt.prototype,Ut),Kt&&Zt(Bt,Kt),Bt}}(),dt=function Zt(Bt,Ut,Kt){Bt===null&&(Bt=Function.prototype);var Yt=Object.getOwnPropertyDescriptor(Bt,Ut);if(Yt===void 0){var Jt=Object.getPrototypeOf(Bt);return Jt===null?void 0:Zt(Jt,Ut,Kt)}else{if("value"in Yt)return Yt.value;var er=Yt.get;return er===void 0?void 0:er.call(Kt)}},ft=ut(4),St=ut(27),Tt=kt(St);function kt(Zt){return Zt&&Zt.__esModule?Zt:{default:Zt}}function jt(Zt,Bt){if(!(Zt instanceof Bt))throw new TypeError("Cannot call a class as a function")}function Rt(Zt,Bt){if(!Zt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Bt&&(typeof Bt=="object"||typeof Bt=="function")?Bt:Zt}function $t(Zt,Bt){if(typeof Bt!="function"&&Bt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Bt);Zt.prototype=Object.create(Bt&&Bt.prototype,{constructor:{value:Zt,enumerable:!1,writable:!0,configurable:!0}}),Bt&&(Object.setPrototypeOf?Object.setPrototypeOf(Zt,Bt):Zt.__proto__=Bt)}var zt=["height","width"],Ht=function(Zt){$t(Bt,Zt);function Bt(){return jt(this,Bt),Rt(this,(Bt.__proto__||Object.getPrototypeOf(Bt)).apply(this,arguments))}return ct(Bt,[{key:"format",value:function(Kt,Yt){zt.indexOf(Kt)>-1?Yt?this.domNode.setAttribute(Kt,Yt):this.domNode.removeAttribute(Kt):dt(Bt.prototype.__proto__||Object.getPrototypeOf(Bt.prototype),"format",this).call(this,Kt,Yt)}}],[{key:"create",value:function(Kt){var Yt=dt(Bt.__proto__||Object.getPrototypeOf(Bt),"create",this).call(this,Kt);return Yt.setAttribute("frameborder","0"),Yt.setAttribute("allowfullscreen",!0),Yt.setAttribute("src",this.sanitize(Kt)),Yt}},{key:"formats",value:function(Kt){return zt.reduce(function(Yt,Jt){return Kt.hasAttribute(Jt)&&(Yt[Jt]=Kt.getAttribute(Jt)),Yt},{})}},{key:"sanitize",value:function(Kt){return Tt.default.sanitize(Kt)}},{key:"value",value:function(Kt){return Kt.getAttribute("src")}}]),Bt}(ft.BlockEmbed);Ht.blotName="video",Ht.className="ql-video",Ht.tagName="IFRAME",ot.default=Ht},function(it,ot,ut){Object.defineProperty(ot,"__esModule",{value:!0}),ot.default=ot.FormulaBlot=void 0;var ct=function(){function Kt(Yt,Jt){for(var er=0;er<Jt.length;er++){var tr=Jt[er];tr.enumerable=tr.enumerable||!1,tr.configurable=!0,"value"in tr&&(tr.writable=!0),Object.defineProperty(Yt,tr.key,tr)}}return function(Yt,Jt,er){return Jt&&Kt(Yt.prototype,Jt),er&&Kt(Yt,er),Yt}}(),dt=function Kt(Yt,Jt,er){Yt===null&&(Yt=Function.prototype);var tr=Object.getOwnPropertyDescriptor(Yt,Jt);if(tr===void 0){var rr=Object.getPrototypeOf(Yt);return rr===null?void 0:Kt(rr,Jt,er)}else{if("value"in tr)return tr.value;var hr=tr.get;return hr===void 0?void 0:hr.call(er)}},ft=ut(35),St=$t(ft),Tt=ut(5),kt=$t(Tt),jt=ut(9),Rt=$t(jt);function $t(Kt){return Kt&&Kt.__esModule?Kt:{default:Kt}}function zt(Kt,Yt){if(!(Kt instanceof Yt))throw new TypeError("Cannot call a class as a function")}function Ht(Kt,Yt){if(!Kt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Yt&&(typeof Yt=="object"||typeof Yt=="function")?Yt:Kt}function Zt(Kt,Yt){if(typeof Yt!="function"&&Yt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Yt);Kt.prototype=Object.create(Yt&&Yt.prototype,{constructor:{value:Kt,enumerable:!1,writable:!0,configurable:!0}}),Yt&&(Object.setPrototypeOf?Object.setPrototypeOf(Kt,Yt):Kt.__proto__=Yt)}var Bt=function(Kt){Zt(Yt,Kt);function Yt(){return zt(this,Yt),Ht(this,(Yt.__proto__||Object.getPrototypeOf(Yt)).apply(this,arguments))}return ct(Yt,null,[{key:"create",value:function(er){var tr=dt(Yt.__proto__||Object.getPrototypeOf(Yt),"create",this).call(this,er);return typeof er=="string"&&(window.katex.render(er,tr,{throwOnError:!1,errorColor:"#f00"}),tr.setAttribute("data-value",er)),tr}},{key:"value",value:function(er){return er.getAttribute("data-value")}}]),Yt}(St.default);Bt.blotName="formula",Bt.className="ql-formula",Bt.tagName="SPAN";var Ut=function(Kt){Zt(Yt,Kt),ct(Yt,null,[{key:"register",value:function(){kt.default.register(Bt,!0)}}]);function Yt(){zt(this,Yt);var Jt=Ht(this,(Yt.__proto__||Object.getPrototypeOf(Yt)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return Jt}return Yt}(Rt.default);ot.FormulaBlot=Bt,ot.default=Ut},function(it,ot,ut){Object.defineProperty(ot,"__esModule",{value:!0}),ot.default=ot.CodeToken=ot.CodeBlock=void 0;var ct=function(){function er(tr,rr){for(var hr=0;hr<rr.length;hr++){var ar=rr[hr];ar.enumerable=ar.enumerable||!1,ar.configurable=!0,"value"in ar&&(ar.writable=!0),Object.defineProperty(tr,ar.key,ar)}}return function(tr,rr,hr){return rr&&er(tr.prototype,rr),hr&&er(tr,hr),tr}}(),dt=function er(tr,rr,hr){tr===null&&(tr=Function.prototype);var ar=Object.getOwnPropertyDescriptor(tr,rr);if(ar===void 0){var or=Object.getPrototypeOf(tr);return or===null?void 0:er(or,rr,hr)}else{if("value"in ar)return ar.value;var cr=ar.get;return cr===void 0?void 0:cr.call(hr)}},ft=ut(0),St=Ht(ft),Tt=ut(5),kt=Ht(Tt),jt=ut(9),Rt=Ht(jt),$t=ut(13),zt=Ht($t);function Ht(er){return er&&er.__esModule?er:{default:er}}function Zt(er,tr){if(!(er instanceof tr))throw new TypeError("Cannot call a class as a function")}function Bt(er,tr){if(!er)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tr&&(typeof tr=="object"||typeof tr=="function")?tr:er}function Ut(er,tr){if(typeof tr!="function"&&tr!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof tr);er.prototype=Object.create(tr&&tr.prototype,{constructor:{value:er,enumerable:!1,writable:!0,configurable:!0}}),tr&&(Object.setPrototypeOf?Object.setPrototypeOf(er,tr):er.__proto__=tr)}var Kt=function(er){Ut(tr,er);function tr(){return Zt(this,tr),Bt(this,(tr.__proto__||Object.getPrototypeOf(tr)).apply(this,arguments))}return ct(tr,[{key:"replaceWith",value:function(hr){this.domNode.textContent=this.domNode.textContent,this.attach(),dt(tr.prototype.__proto__||Object.getPrototypeOf(tr.prototype),"replaceWith",this).call(this,hr)}},{key:"highlight",value:function(hr){var ar=this.domNode.textContent;this.cachedText!==ar&&((ar.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=hr(ar),this.domNode.normalize(),this.attach()),this.cachedText=ar)}}]),tr}(zt.default);Kt.className="ql-syntax";var Yt=new St.default.Attributor.Class("token","hljs",{scope:St.default.Scope.INLINE}),Jt=function(er){Ut(tr,er),ct(tr,null,[{key:"register",value:function(){kt.default.register(Yt,!0),kt.default.register(Kt,!0)}}]);function tr(rr,hr){Zt(this,tr);var ar=Bt(this,(tr.__proto__||Object.getPrototypeOf(tr)).call(this,rr,hr));if(typeof ar.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var or=null;return ar.quill.on(kt.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(or),or=setTimeout(function(){ar.highlight(),or=null},ar.options.interval)}),ar.highlight(),ar}return ct(tr,[{key:"highlight",value:function(){var hr=this;if(!this.quill.selection.composing){this.quill.update(kt.default.sources.USER);var ar=this.quill.getSelection();this.quill.scroll.descendants(Kt).forEach(function(or){or.highlight(hr.options.highlight)}),this.quill.update(kt.default.sources.SILENT),ar!=null&&this.quill.setSelection(ar,kt.default.sources.SILENT)}}}]),tr}(Rt.default);Jt.DEFAULTS={highlight:function(){return window.hljs==null?null:function(er){var tr=window.hljs.highlightAuto(er);return tr.value}}(),interval:1e3},ot.CodeBlock=Kt,ot.CodeToken=Yt,ot.default=Jt},function(it,ot){it.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(it,ot){it.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(it,ot){it.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(it,ot){it.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(it,ot){it.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(it,ot){it.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(it,ot){it.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(it,ot){it.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(it,ot){it.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(it,ot){it.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(it,ot){it.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(it,ot){it.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(it,ot){it.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(it,ot){it.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(it,ot){it.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(it,ot){it.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(it,ot){it.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(it,ot){it.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(it,ot){it.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(it,ot){it.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(it,ot){it.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(it,ot){it.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(it,ot){it.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(it,ot){it.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(it,ot){it.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(it,ot){it.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(it,ot){it.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(it,ot){it.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(it,ot){it.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(it,ot){it.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(it,ot){it.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(it,ot){it.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(it,ot,ut){Object.defineProperty(ot,"__esModule",{value:!0}),ot.default=ot.BubbleTooltip=void 0;var ct=function tr(rr,hr,ar){rr===null&&(rr=Function.prototype);var or=Object.getOwnPropertyDescriptor(rr,hr);if(or===void 0){var cr=Object.getPrototypeOf(rr);return cr===null?void 0:tr(cr,hr,ar)}else{if("value"in or)return or.value;var gr=or.get;return gr===void 0?void 0:gr.call(ar)}},dt=function(){function tr(rr,hr){for(var ar=0;ar<hr.length;ar++){var or=hr[ar];or.enumerable=or.enumerable||!1,or.configurable=!0,"value"in or&&(or.writable=!0),Object.defineProperty(rr,or.key,or)}}return function(rr,hr,ar){return hr&&tr(rr.prototype,hr),ar&&tr(rr,ar),rr}}(),ft=ut(3),St=Zt(ft),Tt=ut(8),kt=Zt(Tt),jt=ut(43),Rt=Zt(jt),$t=ut(15),zt=ut(41),Ht=Zt(zt);function Zt(tr){return tr&&tr.__esModule?tr:{default:tr}}function Bt(tr,rr){if(!(tr instanceof rr))throw new TypeError("Cannot call a class as a function")}function Ut(tr,rr){if(!tr)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return rr&&(typeof rr=="object"||typeof rr=="function")?rr:tr}function Kt(tr,rr){if(typeof rr!="function"&&rr!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof rr);tr.prototype=Object.create(rr&&rr.prototype,{constructor:{value:tr,enumerable:!1,writable:!0,configurable:!0}}),rr&&(Object.setPrototypeOf?Object.setPrototypeOf(tr,rr):tr.__proto__=rr)}var Yt=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],Jt=function(tr){Kt(rr,tr);function rr(hr,ar){Bt(this,rr),ar.modules.toolbar!=null&&ar.modules.toolbar.container==null&&(ar.modules.toolbar.container=Yt);var or=Ut(this,(rr.__proto__||Object.getPrototypeOf(rr)).call(this,hr,ar));return or.quill.container.classList.add("ql-bubble"),or}return dt(rr,[{key:"extendToolbar",value:function(ar){this.tooltip=new er(this.quill,this.options.bounds),this.tooltip.root.appendChild(ar.container),this.buildButtons([].slice.call(ar.container.querySelectorAll("button")),Ht.default),this.buildPickers([].slice.call(ar.container.querySelectorAll("select")),Ht.default)}}]),rr}(Rt.default);Jt.DEFAULTS=(0,St.default)(!0,{},Rt.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(rr){rr?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var er=function(tr){Kt(rr,tr);function rr(hr,ar){Bt(this,rr);var or=Ut(this,(rr.__proto__||Object.getPrototypeOf(rr)).call(this,hr,ar));return or.quill.on(kt.default.events.EDITOR_CHANGE,function(cr,gr,yr,xr){if(cr===kt.default.events.SELECTION_CHANGE)if(gr!=null&&gr.length>0&&xr===kt.default.sources.USER){or.show(),or.root.style.left="0px",or.root.style.width="",or.root.style.width=or.root.offsetWidth+"px";var dr=or.quill.getLines(gr.index,gr.length);if(dr.length===1)or.position(or.quill.getBounds(gr));else{var pr=dr[dr.length-1],nr=or.quill.getIndex(pr),ir=Math.min(pr.length()-1,gr.index+gr.length-nr),mr=or.quill.getBounds(new $t.Range(nr,ir));or.position(mr)}}else document.activeElement!==or.textbox&&or.quill.hasFocus()&&or.hide()}),or}return dt(rr,[{key:"listen",value:function(){var ar=this;ct(rr.prototype.__proto__||Object.getPrototypeOf(rr.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){ar.root.classList.remove("ql-editing")}),this.quill.on(kt.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!ar.root.classList.contains("ql-hidden")){var or=ar.quill.getSelection();or!=null&&ar.position(ar.quill.getBounds(or))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(ar){var or=ct(rr.prototype.__proto__||Object.getPrototypeOf(rr.prototype),"position",this).call(this,ar),cr=this.root.querySelector(".ql-tooltip-arrow");if(cr.style.marginLeft="",or===0)return or;cr.style.marginLeft=-1*or-cr.offsetWidth/2+"px"}}]),rr}(jt.BaseTooltip);er.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),ot.BubbleTooltip=er,ot.default=Jt},function(it,ot,ut){it.exports=ut(63)}]).default})})(quill);var quillExports=quill.exports,__extends=commonjsGlobal&&commonjsGlobal.__extends||function(){var et=function(g,it){return et=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ot,ut){ot.__proto__=ut}||function(ot,ut){for(var ct in ut)ut.hasOwnProperty(ct)&&(ot[ct]=ut[ct])},et(g,it)};return function(g,it){et(g,it);function ot(){this.constructor=g}g.prototype=it===null?Object.create(it):(ot.prototype=it.prototype,new ot)}}(),__assign=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign=Object.assign||function(et){for(var g,it=1,ot=arguments.length;it<ot;it++){g=arguments[it];for(var ut in g)Object.prototype.hasOwnProperty.call(g,ut)&&(et[ut]=g[ut])}return et},__assign.apply(this,arguments)},__spreadArrays=commonjsGlobal&&commonjsGlobal.__spreadArrays||function(){for(var et=0,g=0,it=arguments.length;g<it;g++)et+=arguments[g].length;for(var ot=Array(et),ut=0,g=0;g<it;g++)for(var ct=arguments[g],dt=0,ft=ct.length;dt<ft;dt++,ut++)ot[ut]=ct[dt];return ot},__importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(et){return et&&et.__esModule?et:{default:et}},react_1=__importDefault(reactExports),react_dom_1=__importDefault(reactDomExports),isEqual_1=__importDefault(isEqual_1$1),quill_1=__importDefault(quillExports),ReactQuill=function(et){__extends(g,et);function g(it){var ot=et.call(this,it)||this;ot.dirtyProps=["modules","formats","bounds","theme","children"],ot.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],ot.state={generation:0},ot.selection=null,ot.onEditorChange=function(ct,dt,ft,St){var Tt,kt,jt,Rt;ct==="text-change"?(kt=(Tt=ot).onEditorChangeText)===null||kt===void 0||kt.call(Tt,ot.editor.root.innerHTML,dt,St,ot.unprivilegedEditor):ct==="selection-change"&&((Rt=(jt=ot).onEditorChangeSelection)===null||Rt===void 0||Rt.call(jt,dt,St,ot.unprivilegedEditor))};var ut=ot.isControlled()?it.value:it.defaultValue;return ot.value=ut??"",ot}return g.prototype.validateProps=function(it){var ot;if(react_1.default.Children.count(it.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(react_1.default.Children.count(it.children)){var ut=react_1.default.Children.only(it.children);if(((ot=ut)===null||ot===void 0?void 0:ot.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&it.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},g.prototype.shouldComponentUpdate=function(it,ot){var ut=this,ct;if(this.validateProps(it),!this.editor||this.state.generation!==ot.generation)return!0;if("value"in it){var dt=this.getEditorContents(),ft=(ct=it.value,ct??"");this.isEqualValue(ft,dt)||this.setEditorContents(this.editor,ft)}return it.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,it.readOnly),__spreadArrays(this.cleanProps,this.dirtyProps).some(function(St){return!isEqual_1.default(it[St],ut.props[St])})},g.prototype.shouldComponentRegenerate=function(it){var ot=this;return this.dirtyProps.some(function(ut){return!isEqual_1.default(it[ut],ot.props[ut])})},g.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},g.prototype.componentWillUnmount=function(){this.destroyEditor()},g.prototype.componentDidUpdate=function(it,ot){var ut=this;if(this.editor&&this.shouldComponentRegenerate(it)){var ct=this.editor.getContents(),dt=this.editor.getSelection();this.regenerationSnapshot={delta:ct,selection:dt},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==ot.generation){var ft=this.regenerationSnapshot,ct=ft.delta,St=ft.selection;delete this.regenerationSnapshot,this.instantiateEditor();var Tt=this.editor;Tt.setContents(ct),postpone(function(){return ut.setEditorSelection(Tt,St)})}},g.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},g.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},g.prototype.isControlled=function(){return"value"in this.props},g.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},g.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},g.prototype.createEditor=function(it,ot){var ut=new quill_1.default(it,ot);return ot.tabIndex!=null&&this.setEditorTabIndex(ut,ot.tabIndex),this.hookEditor(ut),ut},g.prototype.hookEditor=function(it){this.unprivilegedEditor=this.makeUnprivilegedEditor(it),it.on("editor-change",this.onEditorChange)},g.prototype.unhookEditor=function(it){it.off("editor-change",this.onEditorChange)},g.prototype.getEditorContents=function(){return this.value},g.prototype.getEditorSelection=function(){return this.selection},g.prototype.isDelta=function(it){return it&&it.ops},g.prototype.isEqualValue=function(it,ot){return this.isDelta(it)&&this.isDelta(ot)?isEqual_1.default(it.ops,ot.ops):isEqual_1.default(it,ot)},g.prototype.setEditorContents=function(it,ot){var ut=this;this.value=ot;var ct=this.getEditorSelection();typeof ot=="string"?it.setContents(it.clipboard.convert(ot)):it.setContents(ot),postpone(function(){return ut.setEditorSelection(it,ct)})},g.prototype.setEditorSelection=function(it,ot){if(this.selection=ot,ot){var ut=it.getLength();ot.index=Math.max(0,Math.min(ot.index,ut-1)),ot.length=Math.max(0,Math.min(ot.length,ut-1-ot.index)),it.setSelection(ot)}},g.prototype.setEditorTabIndex=function(it,ot){var ut,ct;!((ct=(ut=it)===null||ut===void 0?void 0:ut.scroll)===null||ct===void 0)&&ct.domNode&&(it.scroll.domNode.tabIndex=ot)},g.prototype.setEditorReadOnly=function(it,ot){ot?it.disable():it.enable()},g.prototype.makeUnprivilegedEditor=function(it){var ot=it;return{getHTML:function(){return ot.root.innerHTML},getLength:ot.getLength.bind(ot),getText:ot.getText.bind(ot),getContents:ot.getContents.bind(ot),getSelection:ot.getSelection.bind(ot),getBounds:ot.getBounds.bind(ot)}},g.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var it=react_dom_1.default.findDOMNode(this.editingArea);if(!it)throw new Error("Cannot find element for editing area");if(it.nodeType===3)throw new Error("Editing area cannot be a text node");return it},g.prototype.renderEditingArea=function(){var it=this,ot=this.props,ut=ot.children,ct=ot.preserveWhitespace,dt=this.state.generation,ft={key:dt,ref:function(St){it.editingArea=St}};return react_1.default.Children.count(ut)?react_1.default.cloneElement(react_1.default.Children.only(ut),ft):ct?react_1.default.createElement("pre",__assign({},ft)):react_1.default.createElement("div",__assign({},ft))},g.prototype.render=function(){var it;return react_1.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(it=this.props.className,it??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},g.prototype.onEditorChangeText=function(it,ot,ut,ct){var dt,ft;if(this.editor){var St=this.isDelta(this.value)?ct.getContents():ct.getHTML();St!==this.getEditorContents()&&(this.lastDeltaChangeSet=ot,this.value=St,(ft=(dt=this.props).onChange)===null||ft===void 0||ft.call(dt,it,ot,ut,ct))}},g.prototype.onEditorChangeSelection=function(it,ot,ut){var ct,dt,ft,St,Tt,kt;if(this.editor){var jt=this.getEditorSelection(),Rt=!jt&&it,$t=jt&&!it;isEqual_1.default(it,jt)||(this.selection=it,(dt=(ct=this.props).onChangeSelection)===null||dt===void 0||dt.call(ct,it,ot,ut),Rt?(St=(ft=this.props).onFocus)===null||St===void 0||St.call(ft,it,ot,ut):$t&&((kt=(Tt=this.props).onBlur)===null||kt===void 0||kt.call(Tt,jt,ot,ut)))}},g.prototype.focus=function(){this.editor&&this.editor.focus()},g.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},g.displayName="React Quill",g.Quill=quill_1.default,g.defaultProps={theme:"snow",modules:{},readOnly:!1},g}(react_1.default.Component);function postpone(et){Promise.resolve().then(et)}var lib=ReactQuill;const ReactQuill$1=getDefaultExportFromCjs(lib);function PromptPage(){const[et]=useSearchParams(),g=et.get("session_id"),it=reactExports.useRef(null),[ot,ut]=reactExports.useState(!0),[ct,dt]=reactExports.useState(!1),[ft,St]=reactExports.useState(""),[Tt,kt]=reactExports.useState(!1),[jt,Rt]=reactExports.useState(!1),[$t,zt]=reactExports.useState(null);reactExports.useEffect(()=>{if(ft&&it.current){const Zt=it.current.getEditor();setTimeout(()=>{Zt.root.scrollTop=0,Zt.root.dispatchEvent(new Event("input"))},100)}},[ft]),reactExports.useEffect(()=>{g?(async()=>{var Bt;try{const Ut=await axios$1.get(`https://cre8tlystudio.com/api/lead-magnets/${g}`);Ut.data&&(dt(!0),Ut.data.status==="completed"&&Ut.data.pdf_url&&(zt(Ut.data.pdf_url),Rt(!0)))}catch(Ut){console.error("Invalid session:",((Bt=Ut.response)==null?void 0:Bt.data)||Ut.message),dt(!1)}finally{ut(!1)}})():ut(!1)},[g]);const Ht=async()=>{var Zt;if(ft.trim()){kt(!0);try{await axios$1.post("https://cre8tlystudio.com/api/lead-magnets/prompt",{sessionId:g,prompt:ft}),Rt(!0);const Bt=setInterval(async()=>{try{const Ut=await axios$1.get(`https://cre8tlystudio.com/api/lead-magnets/${g}`);Ut.data.status==="completed"&&Ut.data.pdf_url&&(zt(Ut.data.pdf_url),clearInterval(Bt))}catch(Ut){console.error("Polling failed:",Ut.message)}},5e3)}catch(Bt){console.error(" Request failed:",((Zt=Bt.response)==null?void 0:Zt.data)||Bt.message)}finally{kt(!1)}}};return ot?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-screen text-xl text-gray-400",children:"Validating session..."}):ct?jsxRuntimeExports.jsxs("div",{className:"max-w-2xl mx-auto py-20 px-6 text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl sm:text-4xl font-bold mb-6",children:"Enter Your Prompt"}),jt?jsxRuntimeExports.jsxs("div",{className:"mt-6",children:[jsxRuntimeExports.jsx("p",{className:"text-xl text-green mb-6",children:" Your prompt was submitted!"}),$t?jsxRuntimeExports.jsx("a",{href:$t,target:"_blank",rel:"noopener noreferrer",className:"inline-block bg-gradient-to-r from-[#1DA1F2] to-purple-600 text-white px-8 py-4 rounded-xl shadow-lg hover:opacity-90 transition",children:"Download PDF"}):jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Your PDF is being generated... Please wait."})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("textarea",{value:ft,onChange:Zt=>St(Zt.target.value),placeholder:"Describe your audience or offer...",className:"w-full h-[500px] bg-white text-black text-left rounded-lg p-4 leading-relaxed font-montserrat border border-gray-300 focus:outline-none focus:ring-2 focus:ring-green-400 shadow-inner resize-none overflow-y-auto"}),jsxRuntimeExports.jsx("button",{onClick:Ht,disabled:Tt||!ft||ft.trim()==="<p><br></p>",className:`w-full py-4 rounded-xl font-semibold text-lg transition shadow-lg ${Tt||!ft?"bg-gray-600 cursor-not-allowed":"bg-black border border-green-400 text-white hover:opacity-90"}`,children:Tt?"Generating...":"Generate PDF"})]})]}):jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center h-screen text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold mb-4 text-red-500",children:"Invalid or expired session"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Please purchase a lead magnet to access this page."})]})}const Footer=()=>{const[et,g]=reactExports.useState(!1);return reactExports.useEffect(()=>{async function it(){try{await getVersion(),g(!0)}catch{g(!1)}}it()},[]),jsxRuntimeExports.jsx("footer",{className:"bg-gray-950 text-white py-8 px-6",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto border-t border-white/10 pt-6 flex flex-col md:flex-row justify-between items-center text-xs text-white/60",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center md:flex-row md:items-center gap-4 md:gap-6",children:[jsxRuntimeExports.jsx("a",{href:"/",className:"flex-shrink-0",children:jsxRuntimeExports.jsx("img",{src:headerLogo,alt:"Cre8tly Studio Logo",width:50,height:50})}),jsxRuntimeExports.jsxs("p",{children:[" ",new Date().getFullYear()," Cre8tlyStudio"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center md:items-end gap-2 mt-6 md:mt-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Link,{to:"/terms",className:"hover:text-white transition-colors",children:"Terms"}),jsxRuntimeExports.jsx("span",{children:"|"}),jsxRuntimeExports.jsx(Link,{to:"/privacy-policy",className:"hover:text-white transition-colors",children:"Privacy"}),!et&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{children:"|"}),jsxRuntimeExports.jsx(Link,{to:"/cookie-policy",className:"hover:text-white transition-colors",children:"Cookies"}),jsxRuntimeExports.jsx("span",{children:"|"}),jsxRuntimeExports.jsx(Link,{to:"/refund-policy",className:"hover:text-white transition-colors",children:"Refunds"})]})]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-white/40",children:["Designed by"," ",et?jsxRuntimeExports.jsx("span",{className:"cursor-not-allowed",children:"Alure Digital"}):jsxRuntimeExports.jsx("a",{href:"https://aluredigital.com",target:"_blank",rel:"noopener noreferrer",className:"hover:text-white transition-colors",children:"Alure Digital"})]})]})]})})};function SignupPage(){const{login:et}=useAuth(),g=useNavigate(),[it,ot]=reactExports.useState({name:"",email:"",password:""}),[ut,ct]=reactExports.useState(!1),dt=St=>ot({...it,[St.target.name]:St.target.value}),ft=async St=>{St.preventDefault(),ct(!0);try{const Tt=await axios$1.post("https://cre8tlystudio.com/api/auth/signup",it);Tt.status===201?(await et(it.email,it.password),g("/dashboard")):alert(Tt.data.message||"Something went wrong")}catch(Tt){console.error(Tt),alert("Signup failed. Please check your information.")}finally{ct(!1)}};return jsxRuntimeExports.jsxs("div",{style:{backgroundColor:"#030712",isolation:"isolate",minHeight:"100vh",display:"flex",flexDirection:"column"},children:[jsxRuntimeExports.jsx("section",{className:"flex flex-col justify-center items-center flex-grow text-white px-6 py-20",children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-md bg-gray-900 p-8 rounded-2xl border border-gray-800 shadow-2xl",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-green text-center mb-6",children:"Create Your Account"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 text-center mb-8",children:"Join Cre8tly Studio and start creating digital lead magnets instantly."}),jsxRuntimeExports.jsxs("form",{onSubmit:ft,className:"space-y-4",children:[jsxRuntimeExports.jsx("input",{type:"text",name:"name",value:it.name,onChange:dt,placeholder:"Full Name",required:!0,className:"w-full px-4 py-3 rounded-lg bg-gray-800 border border-gray-700 focus:outline-none focus:border-green text-white"}),jsxRuntimeExports.jsx("input",{type:"email",name:"email",value:it.email,onChange:dt,placeholder:"Email Address",required:!0,className:"w-full px-4 py-3 rounded-lg bg-gray-800 border border-gray-700 focus:outline-none focus:border-green text-white"}),jsxRuntimeExports.jsx("input",{type:"password",name:"password",value:it.password,onChange:dt,placeholder:"Password",required:!0,className:"w-full px-4 py-3 rounded-lg bg-gray-800 border border-gray-700 focus:outline-none focus:border-green text-white"}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:ut,className:"w-full bg-green text-black font-semibold py-3 rounded-lg hover:opacity-90 transition-all",children:ut?"Creating Account...":"Sign Up"})]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-400 text-center mt-6",children:["Already have an account?"," ",jsxRuntimeExports.jsx("a",{href:"/login",className:"text-green hover:underline",children:"Log In"})]})]})}),jsxRuntimeExports.jsx(Footer,{})]})}const Button=({label:et,iconURL:g,backgroundColor:it,textColor:ot,borderColor:ut,fullWidth:ct})=>jsxRuntimeExports.jsxs("button",{className:`flex justify-center items-center gap-2 px-7 py-5 sm:py-3 
  border font-montserrat text-lg leading-none
  ${it?`${it} ${ot} ${ut}`:"bg-black text-white border-green lead-text"} rounded-xl ${ct?"w-full":""}`,children:[et,g&&jsxRuntimeExports.jsx("img",{src:g,alt:"arrow right icon",className:"ml-2 rounded-full bg-white w-5 h-5"})]});/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=et=>et.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),toCamelCase=et=>et.replace(/^([A-Z])|[\s-_]+(\w)/g,(g,it,ot)=>ot?ot.toUpperCase():it.toLowerCase()),toPascalCase=et=>{const g=toCamelCase(et);return g.charAt(0).toUpperCase()+g.slice(1)},mergeClasses=(...et)=>et.filter((g,it,ot)=>!!g&&g.trim()!==""&&ot.indexOf(g)===it).join(" ").trim(),hasA11yProp=et=>{for(const g in et)if(g.startsWith("aria-")||g==="role"||g==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Icon=reactExports.forwardRef(({color:et="currentColor",size:g=24,strokeWidth:it=2,absoluteStrokeWidth:ot,className:ut="",children:ct,iconNode:dt,...ft},St)=>reactExports.createElement("svg",{ref:St,...defaultAttributes,width:g,height:g,stroke:et,strokeWidth:ot?Number(it)*24/Number(g):it,className:mergeClasses("lucide",ut),...!ct&&!hasA11yProp(ft)&&{"aria-hidden":"true"},...ft},[...dt.map(([Tt,kt])=>reactExports.createElement(Tt,kt)),...Array.isArray(ct)?ct:[ct]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const createLucideIcon=(et,g)=>{const it=reactExports.forwardRef(({className:ot,...ut},ct)=>reactExports.createElement(Icon,{ref:ct,iconNode:g,className:mergeClasses(`lucide-${toKebabCase(toPascalCase(et))}`,`lucide-${et}`,ot),...ut}));return it.displayName=toPascalCase(et),it};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],CircleArrowDown=createLucideIcon("circle-arrow-down",__iconNode$6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$5=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Download=createLucideIcon("download",__iconNode$5);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$4=[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M4 7V4a2 2 0 0 1 2-2 2 2 0 0 0-2 2",key:"1vk7w2"}],["path",{d:"M4.063 20.999a2 2 0 0 0 2 1L18 22a2 2 0 0 0 2-2V7l-5-5H6",key:"1jink5"}],["path",{d:"m5 11-3 3",key:"1dgrs4"}],["path",{d:"m5 17-3-3h10",key:"1mvvaf"}]],FileOutput=createLucideIcon("file-output",__iconNode$4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$3=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],PenLine=createLucideIcon("pen-line",__iconNode$3);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$2=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],X=createLucideIcon("x",__iconNode$2);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],ZoomIn=createLucideIcon("zoom-in",__iconNode$1);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],ZoomOut=createLucideIcon("zoom-out",__iconNode),steps=[{icon:jsxRuntimeExports.jsx(PenLine,{className:"w-10 h-10 text-white"}),title:"1. Add Your Prompt",desc:"Describe your audience, product, or idea in one line, our AI is built to expand it into full content."},{icon:jsxRuntimeExports.jsx(FileOutput,{className:"w-10 h-10 text-white"}),title:"2. AI Creates Your Lead Magnet",desc:"We generate up to 25 full A4 pages with examples, insights, and structure, styled with professional themes."},{icon:jsxRuntimeExports.jsx(CircleArrowDown,{className:"w-10 h-10 text-green"}),title:"3. Download & Launch",desc:"Receive a polished PDF ready to use instantly, perfect for selling, sharing, or capturing new leads."}];function HowItWorks(){return jsxRuntimeExports.jsx("section",{id:"how",className:`px-6 py-24 text-center bg-[#0b0f1a]
`,children:jsxRuntimeExports.jsxs("div",{className:"max-w-6xl mx-auto",children:[jsxRuntimeExports.jsx("h3",{className:"text-4xl mb-16 text-white lead-text",children:"How It Works"}),jsxRuntimeExports.jsx("div",{className:"grid gap-10 sm:grid-cols-3",children:steps.map((et,g)=>jsxRuntimeExports.jsxs("div",{className:"relative rounded-xl overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:`absolute inset-0 rounded-xl p-[2px] 
                  bg-[linear-gradient(270deg,#7bed9f,#670fe7,#7bed9f)] 
                  bg-[length:300%_300%] animate-shine`,children:jsxRuntimeExports.jsx("div",{className:"w-full h-full rounded-xl bg-[#0d0d0d]"})}),jsxRuntimeExports.jsxs("div",{className:"relative z-10 p-8 rounded-xl",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center w-16 h-16 rounded-full bg-gray-700 mb-6 mx-auto",children:et.icon}),jsxRuntimeExports.jsx("h4",{className:"text-xl font-semibold mb-3 text-white lead-text",children:et.title}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 leading-relaxed lead-text",children:et.desc})]})]},g))})]})})}function OutOfSlotsModal({open:et,onClose:g,onRefresh:it,isFirstTime:ot=!1}){if(!et)return null;const ut=ot?"Welcome to Cre8tly Studio":"Out of Lead Magnet Slots",ct=ot?`Welcome to Cre8tly Studio, your creative command center for building
       high-converting lead magnets in minutes. 
       To start creating, visit Cre8tlyStudio.com in your browser and
       purchase your first token pack. 
       Once purchased, click below to refresh your account and begin.`:`Youve reached your current plans limit.
       To purchase more tokens or lifetime unlocks, visit Cre8tlyStudio.com
       in your browser and log in with the same account.
       Once purchased, click below to refresh your slots instantly.`;return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-md flex items-center justify-center z-50 animate-fadeIn font-montserrat",children:jsxRuntimeExports.jsxs("div",{className:"relative bg-gradient-to-br from-[#0b0b0b] via-[#111827] to-[#1f2937] border border-[#00E07A]/40 shadow-[0_0_25px_rgba(0,224,122,0.3)] rounded-2xl p-8 max-w-md mx-auto text-center",children:[jsxRuntimeExports.jsx("div",{className:"absolute -inset-[1px] rounded-2xl bg-gradient-to-r from-[#00E07A] to-[#6A5ACD] opacity-20 blur-2xl"}),jsxRuntimeExports.jsxs("div",{className:"relative z-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-extrabold mb-4 bg-gradient-to-r from-[#00E07A] to-[#6A5ACD] bg-clip-text text-transparent",children:ut}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 mb-6 leading-relaxed text-[15px] whitespace-pre-line",children:ct}),jsxRuntimeExports.jsx("button",{onClick:async()=>{it&&await it(),g&&g()},className:"bg-gradient-to-r from-[#00E07A] to-[#6A5ACD] text-white px-8 py-3 rounded-xl font-semibold tracking-wide shadow-[0_0_12px_rgba(0,224,122,0.6)] hover:shadow-[0_0_20px_rgba(106,90,205,0.8)] hover:scale-[1.03] transition-all duration-200",children:ot?"Ive Purchased My First Pack":"Ive Purchased Tokens"}),jsxRuntimeExports.jsx("button",{onClick:g,className:"block mx-auto mt-4 text-sm text-gray-400 hover:text-white transition",children:"Cancel"})]})]})})}const PricingSection=()=>{const{user:et}=useAuth(),[g,it]=reactExports.useState(!1),[ot,ut]=reactExports.useState(!1),ct=()=>{g?ut(!0):window.location.href="/sign-up"};return reactExports.useEffect(()=>{async function dt(){try{await getVersion(),it(!0)}catch{it(!1)}}dt()},[]),jsxRuntimeExports.jsxs("section",{id:"pricing",className:"px-6 py-24 text-center",children:[jsxRuntimeExports.jsxs("div",{className:"max-w-3xl mx-auto",children:[jsxRuntimeExports.jsx("h3",{className:"text-4xl mb-10 lead-text",children:"Simple Pricing"}),jsxRuntimeExports.jsxs(motion.div,{className:"relative rounded-2xl max-w-md mx-auto overflow-hidden",initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.6},children:[jsxRuntimeExports.jsx("div",{className:`absolute inset-0 p-[2px] rounded-2xl 
              bg-[linear-gradient(90deg,#00ff99,#7bed9f,#00ff99)] 
              bg-[length:200%_200%] 
              animate-gradientPulse`,children:jsxRuntimeExports.jsx("div",{className:"w-full h-full rounded-2xl bg-gradient-to-b from-gray-900 to-gray-800"})}),jsxRuntimeExports.jsxs("div",{className:"relative z-10 p-10 border border-transparent rounded-2xl shadow-xl",children:[jsxRuntimeExports.jsx("p",{className:"text-3xl font-extrabold mb-4 bg-gradient-to-r from-blue to-purple-500 bg-clip-text text-white",children:"$47"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 mb-8 lead-text",children:"One-time payment for 5 lead magnet slots"}),jsxRuntimeExports.jsx("button",{onClick:ct,className:`w-full bg-royalPurple 
                text-white text-lg font-semibold py-4 rounded-xl 
                hover:opacity-90 hover:shadow-[0_0_20px_rgba(123,237,159,0.6)] 
                transition shadow-lg lead-text`,children:"Sign Up Now"})]})]}),jsxRuntimeExports.jsx("p",{className:"text-center text-sm text-silver mt-3",children:" Secure checkout"})]}),jsxRuntimeExports.jsx(OutOfSlotsModal,{open:ot,onClose:()=>ut(!1),isFirstTime:!et||!et.slot_count||et.slot_count===0})]})};function VideoPlayer(){const et=reactExports.useRef(null),[g,it]=reactExports.useState(!0),[ot,ut]=reactExports.useState(!1),ct=()=>it(St=>!St),dt=async()=>{const St=et.current;if(St)if(St.requestFullscreen){await St.requestFullscreen(),ut(!0);try{await screen.orientation.lock("landscape")}catch{}}else St.webkitEnterFullscreen&&(St.webkitEnterFullscreen(),ut(!0))},ft=()=>{const St=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;ut(!!St)};return typeof window<"u"&&(document.onfullscreenchange=ft,document.onwebkitfullscreenchange=ft),jsxRuntimeExports.jsxs("section",{className:"relative bg-black rounded-2xl overflow-hidden shadow-2xl border border-gray-800 mt-10",children:[jsxRuntimeExports.jsxs("video",{ref:et,className:"w-full h-full object-cover rounded-2xl",autoPlay:!0,loop:!0,playsInline:!0,muted:g,preload:"metadata",poster:"/assets/video-thumbnail.jpg",children:[jsxRuntimeExports.jsx("source",{src:"https://cre8tlystudio.nyc3.cdn.digitaloceanspaces.com/Videos/Cre8tlyStudio.mp4",type:"video/mp4"}),"Your browser does not support the video tag."]}),jsxRuntimeExports.jsxs("div",{className:"absolute top-4 right-4 flex items-center space-x-2",children:[jsxRuntimeExports.jsx("button",{onClick:ct,className:"bg-black/60 text-white px-4 py-2 rounded-lg text-sm hover:bg-black/80 transition",children:g?" Unmute":" Mute"}),jsxRuntimeExports.jsx("button",{onClick:dt,className:"bg-black/60 text-white px-3 py-2 rounded-lg text-sm hover:bg-black/80 transition",children:ot?" Exit":" Fullscreen"})]})]})}function PremiumEbooksCTA(){return jsxRuntimeExports.jsxs(motion.section,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"relative mt-28 mb-20 rounded-2xl overflow-hidden border border-white/10 bg-[#0b0f1a] p-10",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 blur-3xl opacity-40"}),jsxRuntimeExports.jsxs("div",{className:"relative z-10 flex flex-col lg:flex-row items-center justify-between gap-10 text-center lg:text-left",children:[jsxRuntimeExports.jsxs("div",{className:"max-w-xl",children:[jsxRuntimeExports.jsx("h3",{className:"text-4xl sm:text-5xl font-extrabold mb-4 bg-green bg-clip-text text-transparent",children:"Ready to Go Deeper?"}),jsxRuntimeExports.jsxs("p",{className:"text-gray-300 text-lg leading-relaxed mb-6",children:["Unlock our full library of"," ",jsxRuntimeExports.jsx("span",{className:"text-white font-semibold",children:"premium guides"})," ","designed to help entrepreneurs, marketers, and creators dominate their niche. Each guide is downloadable instantly."]}),jsxRuntimeExports.jsx("a",{href:"/shop",className:"inline-block px-8 py-4 bg-royalPurple text-white font-semibold rounded-lg shadow-lg hover:opacity-90 transition-all duration-300 transform hover:scale-[1.03]",children:" Browse Premium Ebooks"})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-center w-full lg:w-auto",children:jsxRuntimeExports.jsx("img",{src:ebookCover,alt:"Ebook Collection Preview",className:"rounded-xl w-80 sm:w-96 border border-white/10 "})})]})]})}const Landing=()=>{const[et,g]=reactExports.useState(!1);return reactExports.useEffect(()=>{async function it(){try{await getVersion(),g(!0)}catch{g(!1)}}it()},[]),jsxRuntimeExports.jsxs("div",{className:"min-h-screen w-full text-white flex flex-col font-sans overflow-x-hidden",children:[jsxRuntimeExports.jsxs("section",{className:"flex flex-col items-center justify-center text-center px-4 sm:px-6 py-32 relative overflow-hidden",children:[jsxRuntimeExports.jsx("img",{src:headerLogo,alt:"Logo",className:"w-24 sm:w-36 md:w-18 lg:w-22"}),jsxRuntimeExports.jsx("h1",{className:"text-headerGreen text-4xl sm:text-6xl font-extrabold",children:"Cre8tly Studio"}),jsxRuntimeExports.jsx(motion.h2,{className:"text-5xl sm:text-7xl font-extrabold leading-tight bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:1},children:"Create High-Converting Lead Magnets in Seconds"}),jsxRuntimeExports.jsxs(motion.p,{className:"mt-6 text-xl sm:text-2xl text-gray-300 max-w-2xl lead-text",initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},children:["The fastest way to turn your idea into a",jsxRuntimeExports.jsx("br",{})," sellable digital product."]}),jsxRuntimeExports.jsx("div",{className:"w-full max-w-5xl mt-12 rounded-2xl overflow-hidden shadow-2xl",children:jsxRuntimeExports.jsx(VideoPlayer,{})}),jsxRuntimeExports.jsx(motion.div,{className:"mt-16",initial:{opacity:0},animate:{opacity:1},transition:{delay:1},children:jsxRuntimeExports.jsx("a",{href:"#pricing",children:jsxRuntimeExports.jsx(Button,{label:"Generate My Lead Magnet",fullWidth:!1})})})]}),jsxRuntimeExports.jsx(HowItWorks,{}),jsxRuntimeExports.jsx(PricingSection,{}),!et&&jsxRuntimeExports.jsx(PremiumEbooksCTA,{})]})};function LoginPage(){const{login:et}=useAuth(),g=useNavigate(),[it,ot]=reactExports.useState({email:"",password:""}),[ut,ct]=reactExports.useState(!1),dt=St=>{ot({...it,[St.target.name]:St.target.value})},ft=async St=>{St.preventDefault(),ct(!0);try{await et(it.email,it.password),g("/dashboard")}catch(Tt){console.error("Login error:",Tt),alert("Invalid email or password. Please try again.")}finally{ct(!1)}};return jsxRuntimeExports.jsxs("div",{style:{backgroundColor:"#030712",isolation:"isolate",minHeight:"100vh",display:"flex",flexDirection:"column"},children:[jsxRuntimeExports.jsx("section",{className:"flex flex-col justify-center items-center flex-grow text-white px-6 py-20",children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-md bg-gray-900 p-8 rounded-2xl border border-gray-800 shadow-2xl",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-green text-center mb-6",children:"Welcome Back"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 text-center mb-8",children:"Log in to your account to continue creating and managing your lead magnets."}),jsxRuntimeExports.jsxs("form",{onSubmit:ft,className:"space-y-4",children:[jsxRuntimeExports.jsx("input",{type:"email",name:"email",value:it.email,onChange:dt,placeholder:"Email Address",required:!0,className:"w-full px-4 py-3 rounded-lg bg-gray-800 border border-gray-700 focus:outline-none focus:border-green text-white"}),jsxRuntimeExports.jsx("input",{type:"password",name:"password",value:it.password,onChange:dt,placeholder:"Password",required:!0,className:"w-full px-4 py-3 rounded-lg bg-gray-800 border border-gray-700 focus:outline-none focus:border-green text-white"}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:ut,className:"w-full bg-green text-black font-semibold py-3 rounded-lg hover:opacity-90 transition-all",children:ut?"Logging In...":"Log In"})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400 text-center mt-4",children:jsxRuntimeExports.jsx("a",{href:"/forgot-password",className:"text-green hover:underline",children:"Forgot Password?"})}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-400 text-center mt-6",children:["Dont have an account?"," ",jsxRuntimeExports.jsx("a",{href:"/sign-up",className:"text-green hover:underline",children:"Sign Up"})]})]})}),jsxRuntimeExports.jsx(Footer,{})]})}function PDFThemePreview({themeConfig:et}){if(!et)return null;const{font:g,primaryColor:it,textColor:ot,linkGradient:ut}=et;return jsxRuntimeExports.jsx("div",{className:"rounded-xl overflow-hidden shadow-lg border border-gray-700 w-full max-w-md mx-auto bg-white",style:{fontFamily:g,color:ot},children:jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-4",children:[jsxRuntimeExports.jsx("h1",{style:{color:it,fontWeight:700,fontSize:"22px",textAlign:"center"},children:"Your Lead Magnet Title"}),jsxRuntimeExports.jsx("p",{className:"text-sm leading-relaxed",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec vitae sapien ut libero venenatis faucibus. Nullam quis ante. Etiam sit amet orci eget eros faucibus tincidunt."}),jsxRuntimeExports.jsx("p",{className:"text-sm leading-relaxed",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec vitae sapien ut libero venenatis faucibus. Nullam quis ante. Etiam sit amet orci eget eros faucibus tincidunt."}),jsxRuntimeExports.jsx("div",{className:"text-center mt-4",children:jsxRuntimeExports.jsx("a",{href:"#",className:"rounded-full inline-block px-6 py-2 font-semibold shadow-md transition-transform duration-200",style:{background:et.font==="AdobeArabic"?"#000000":et.linkGradient||et.ctaBg,color:et.font==="AdobeArabic"?"#C9A86A":et.font==="Montserrat"?"#FFFFFF":et.ctaText||"#fff",border:et.font==="AdobeArabic"?"1px solid #C9A86A":"none",textDecoration:"none",boxShadow:"0 0 6px rgba(0,0,0,0.25)"},children:"Visit My Official Website"})})]})})}const quill_snow="";function LogoUploader({logoPreview:et,setLogo:g,setLogoPreview:it}){const ot=ut=>{const ct=ut.target.files[0];if(!ct)return;if(ct.size>2097152){y$4.error("File must be less than 2MB");return}const dt=new Image;dt.onload=()=>{if(dt.width>512||dt.height>512){y$4.warning("Logo too large! Please use up to 512512 px.");return}const ft=new FileReader;ft.onloadend=()=>{g(ft.result),it(ft.result)},ft.readAsDataURL(ct)},dt.src=URL.createObjectURL(ct)};return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-silver mb-2 font-medium",children:"Brand Logo (Max 512512  2 MB)"}),jsxRuntimeExports.jsx("input",{type:"file",accept:"image/png, image/jpeg, image/webp",onChange:ot,className:`block w-full text-sm text-gray-300 file:mr-4 file:py-2 file:px-4
                   file:rounded-full file:border-0 file:font-semibold
                   file:bg-royalPurple file:text-white hover:file:opacity-80`}),et&&jsxRuntimeExports.jsx("img",{src:et,alt:"Logo preview",className:"mt-3 mx-auto w-16 h-16 object-contain border border-gray-700 rounded-md"})]})}function ThemeSelector({theme:et,setTheme:g,setShowPreview:it}){return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:themes.map(ot=>jsxRuntimeExports.jsxs("div",{onClick:()=>g(ot.value),className:`cursor-pointer rounded-xl p-4 border-2 transition-all duration-300 ${et===ot.value?"border-green shadow-[0_0_15px_rgba(123,237,159,0.5)] scale-[1.02]":"border-gray-700 hover:border-gray-500"}`,children:[jsxRuntimeExports.jsx("div",{className:"h-24 rounded-md mb-3 flex items-center justify-center text-lg font-semibold",style:{background:ot.preview,color:ot.textColor,border:ot.value==="classic"?"1px solid #FFD700":"1px solid rgba(255,255,255,0.15)"},children:jsxRuntimeExports.jsx("span",{children:ot.label.split(" ")[0]})}),jsxRuntimeExports.jsx("p",{className:"text-center text-white font-medium",children:ot.label})]},ot.value))}),jsxRuntimeExports.jsx("div",{className:"mt-4 flex justify-center",children:jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>it(!0),className:"text-sm font-semibold text-green hover:underline",children:" Preview Theme"})})]})}function CoverUpload({cover:et,setCover:g}){const[it,ot]=reactExports.useState(null),{user:ut}=useAuth(),ct=reactExports.useRef(null),dt=ft=>{const St=ft.target.files[0];if(!St)return;if(St.size>1e3*1024*1024){y$4.error("File too large. Maximum 1GB allowed.");return}const Tt=new FileReader;Tt.onloadend=()=>{g(Tt.result),ot(Tt.result)},Tt.readAsDataURL(St)};return!ut||ut.pro_covers!==1?null:jsxRuntimeExports.jsxs("div",{className:"mt-6 border border-gray-700 rounded-xl p-4 bg-gray-900/60",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsxs("label",{className:"block text-gray-300 font-semibold text-lg tracking-wide",children:["Upload PDF Cover"," ",jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"(Max 667  1000 - 1GB)"})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center space-x-2",children:jsxRuntimeExports.jsx("span",{className:`bg-gradient-to-r from-[#a98aff] via-[#d2b6ff] to-[#8e66ff]
                       text-black font-semibold text-xs px-3 py-1 rounded-full
                       shadow-[0_0_10px_rgba(168,130,255,0.6)]
                       border border-[#d2b6ff]/60 uppercase tracking-wider`,children:"PRO"})})]}),jsxRuntimeExports.jsx("input",{ref:ct,type:"file",accept:"image/*",onChange:dt,className:"hidden"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>ct.current.click(),className:`inline-block bg-headerGreen text-black font-semibold px-5 py-2 rounded-md 
                   hover:bg-green-500 transition cursor-pointer text-sm shadow-md`,children:"Choose File"}),it&&jsxRuntimeExports.jsxs("div",{className:"mt-3",children:[jsxRuntimeExports.jsx("img",{src:it,alt:"Cover Preview",className:"w-52 h-auto rounded-lg shadow-lg mx-auto"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-1 text-center",children:"This cover will appear before your first page."})]})]})}function PromptSelect({setText:et}){const[g,it]=reactExports.useState(!1),ot=(ut,ct)=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"px-4 py-2 text-xs uppercase tracking-widest text-gray-300 bg-[#0a0a0a] sticky top-0 z-10 border-b border-gray-800",children:ut}),ct.map((dt,ft)=>jsxRuntimeExports.jsx("li",{onClick:()=>{et(dt.text),it(!1)},className:"px-4 py-2 text-gray-200 bg-[#0a0a0a] hover:bg-gradient-to-r from-[#00e07a] to-[#670fe7] hover:text-white cursor-pointer transition",children:dt.label},ft))]});return jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("label",{className:"block text-silver mb-2 font-medium",children:"Choose a Pre-Made Prompt"}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>it(!g),className:"w-full px-4 py-2 rounded-lg bg-gray-800 text-white border border-gray-700 text-left flex justify-between items-center hover:bg-gray-700 transition",children:[jsxRuntimeExports.jsx("span",{children:"Select a pre-made prompt..."}),jsxRuntimeExports.jsx("svg",{className:`w-4 h-4 transition-transform ${g?"rotate-180":"rotate-0"}`,fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]}),g&&jsxRuntimeExports.jsxs("ul",{className:`absolute z-50 mt-1 w-full max-h-60 overflow-y-auto 
                     rounded-lg border border-gray-700 shadow-lg
                     scrollbar-thin scrollbar-thumb-gray-700 scrollbar-track-gray-900`,style:{backgroundColor:"#0a0a0a",boxShadow:"0 0 25px rgba(0,0,0,0.7)"},children:[ot("Beginner",cannedPrompts.beginner),ot("Professional",cannedPrompts.professional),ot("Advanced",cannedPrompts.expert)]})]})}function PromptForm({text:et,setText:g,theme:it,setTheme:ot,pages:ut,setPages:ct,setLogo:dt,logoPreview:ft,setLogoPreview:St,link:Tt,setLink:kt,cover:jt,setCover:Rt,cta:$t,setCta:zt,setShowPreview:Ht,onSubmit:Zt,loading:Bt}){return jsxRuntimeExports.jsxs("form",{onSubmit:Zt,className:"space-y-6",children:[jsxRuntimeExports.jsx(PromptSelect,{setText:g}),jsxRuntimeExports.jsx("div",{className:"h-[250px] overflow-hidden rounded-lg border border-gray-600 bg-white",style:{color:"#111"},children:jsxRuntimeExports.jsx(ReactQuill$1,{theme:"snow",value:et,onChange:g,modules:{toolbar:!1},placeholder:"Write your prompt...",className:"h-[250px]"})}),jsxRuntimeExports.jsx(CoverUpload,{cover:jt,setCover:Rt}),jsxRuntimeExports.jsx(LogoUploader,{logoPreview:ft,setLogo:dt,setLogoPreview:St}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-silver mb-2 font-medium",children:"Number of Pages"}),jsxRuntimeExports.jsxs("div",{className:"relative w-full max-w-xs",children:[jsxRuntimeExports.jsx("input",{type:"number",min:"1",max:"25",value:ut??"",onChange:Ut=>{const Kt=Ut.target.value;ct(Kt===""?"":Math.min(25,Math.max(1,Number(Kt))))},className:"w-full py-3 pr-20 pl-4 rounded-lg bg-gray-800 text-white border border-gray-600 text-lg appearance-none"}),jsxRuntimeExports.jsxs("div",{className:"absolute inset-y-0 right-2 flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>ct(Ut=>Math.max(1,Number(Ut||1)-1)),className:"px-2 py-1 rounded-md bg-gray-700 text-white text-lg font-bold hover:bg-gray-600 transition",children:""}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>ct(Ut=>Math.min(25,Number(Ut||1)+1)),className:"px-2 py-1 rounded-md bg-gray-700 text-white text-lg font-bold hover:bg-gray-600 transition",children:""})]})]})]}),jsxRuntimeExports.jsx(ThemeSelector,{theme:it,setTheme:ot,setShowPreview:Ht}),jsxRuntimeExports.jsxs("div",{className:"mt-6",children:[jsxRuntimeExports.jsx("label",{className:"block text-silver mb-2 font-medium",children:"Add a Closing Message or Call-to-Action"}),jsxRuntimeExports.jsx("textarea",{placeholder:`Example:
Create your first lead magnet today with Cre8tlyStudio or join my free newsletter at https://yourwebsite.com.

Lets keep this journey going together, no tech overwhelm, no burnout, just steady growth.`,value:$t,onChange:Ut=>zt(Ut.target.value),rows:5,className:"w-full px-4 py-3 rounded-lg bg-gray-800 text-white border border-gray-600 placeholder-gray-500 focus:ring-2 focus:ring-green focus:outline-none"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"This message will appear at the end of your lead magnet."})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-silver mb-2 font-medium",children:"Optional Link or Call-to-Action"}),jsxRuntimeExports.jsx("input",{type:"url",placeholder:"https://yourwebsite.com",value:Tt,onChange:Ut=>kt(Ut.target.value),className:"w-full px-4 py-2 rounded-lg bg-gray-800 text-white border border-gray-600 placeholder-gray-500"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"This link will appear at the bottom of your PDF."})]}),!Bt&&jsxRuntimeExports.jsx("button",{type:"submit",className:"w-full px-6 py-3 rounded-xl bg-gradient-to-r from-green to-royalPurple text-white font-semibold text-lg shadow-lg hover:opacity-90 transition",children:" Submit Prompt"})]})}function ProgressBar({progress:et}){return jsxRuntimeExports.jsx("div",{className:"mt-6 w-full bg-gray-800 rounded-xl overflow-hidden shadow-lg border border-gray-700 p-4",children:jsxRuntimeExports.jsx("div",{className:"w-full bg-gray-700 rounded-full h-3",children:jsxRuntimeExports.jsx("div",{className:"h-3 bg-gradient-to-r from-green to-royalPurple rounded-full transition-all duration-700 ease-out animate-pulseGlow",style:{width:`${et}%`}})})})}function ThemePreviewModal({showPreview:et,onClose:g,theme:it,PDFThemePreview:ot}){return et?(reactExports.useEffect(()=>{document.body.style.overflow=et?"hidden":""},[et]),jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-[60]",onClick:g,children:jsxRuntimeExports.jsxs("div",{className:"bg-gray-900 rounded-2xl p-6 relative max-w-2xl w-full",onClick:ut=>ut.stopPropagation(),children:[jsxRuntimeExports.jsx("button",{onClick:g,className:"absolute top-3 right-4 text-white text-lg hover:text-red-400",children:""}),jsxRuntimeExports.jsxs("h2",{className:"text-white text-lg font-semibold mb-4 text-center",children:["PDF Theme Preview (",it,")"]}),jsxRuntimeExports.jsx(ot,{themeConfig:{modern:{font:"Montserrat",primaryColor:"#000",textColor:"#222",ctaBg:"#00E07A",ctaText:"#000",linkGradient:"linear-gradient(90deg, #00E07A 0%, #670fe7 100%)"},classic:{font:"AdobeArabic",primaryColor:"#000",textColor:"#444",ctaBg:"#000000",ctaText:"#FFD700",linkGradient:"linear-gradient(90deg, #000000 0%, #000000 100%)"},bold:{font:"Bebas Neue",primaryColor:"#000",textColor:"#111",ctaBg:"#EC4899",ctaText:"#fff",linkGradient:"linear-gradient(90deg, #EC4899 0%, #8B5CF6 100%)"}}[it]})]})})):null}function SmartPromptBuilder({onPromptReady:et}){const[g,it]=reactExports.useState(""),[ot,ut]=reactExports.useState(""),[ct,dt]=reactExports.useState(""),[ft,St]=reactExports.useState(""),[Tt,kt]=reactExports.useState(!1),jt=async()=>{if(!g||!ot||!ct){y$4.error("Please fill out all required fields.");return}kt(!0);try{const Rt=await axios$1.post("https://cre8tlystudio.com/api/lead-magnets/prompt-builder",{audience:g,pain:ot,promise:ct,offer:ft});et(Rt.data.prompt)}catch(Rt){console.error(Rt),y$4.error("Failed to generate prompt. Try again.")}finally{kt(!1)}};return jsxRuntimeExports.jsxs("div",{className:"bg-gray-900/60 p-6 rounded-xl border border-gray-700 space-y-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Smart Prompt Builder"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Answer a few quick questions so we can craft a personalized lead magnet prompt for you."}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-gray-300 mb-1",children:"Who is this for?"}),jsxRuntimeExports.jsx("input",{className:"w-full p-2 rounded bg-gray-800 text-white border border-gray-600",placeholder:"Example: entrepreneurs, creators, small business owners",value:g,onChange:Rt=>it(Rt.target.value)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-gray-300 mb-1",children:"What problem are they facing?"}),jsxRuntimeExports.jsx("input",{className:"w-full p-2 rounded bg-gray-800 text-white border border-gray-600",placeholder:"Example: struggling to grow an email list or convert leads",value:ot,onChange:Rt=>ut(Rt.target.value)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-gray-300 mb-1",children:"What transformation or result do they want?"}),jsxRuntimeExports.jsx("input",{className:"w-full p-2 rounded bg-gray-800 text-white border border-gray-600",placeholder:"Example: consistently attract qualified leads every week",value:ct,onChange:Rt=>dt(Rt.target.value)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-gray-300 mb-1",children:"Whats your offer or next step? (optional)"}),jsxRuntimeExports.jsx("input",{className:"w-full p-2 rounded bg-gray-800 text-white border border-gray-600",placeholder:"Example: join my course, book a free strategy call",value:ft,onChange:Rt=>St(Rt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mt-6 space-x-3",children:[jsxRuntimeExports.jsx("button",{onClick:jt,disabled:Tt,className:"flex-1 px-6 py-2 bg-headerGreen text-black font-semibold rounded hover:bg-green-500 transition",children:Tt?"Generating...":"Generate My Prompt"}),jsxRuntimeExports.jsx("button",{onClick:()=>et(""),disabled:Tt,className:"flex-1 px-6 py-2 border border-gray-600 text-gray-300 rounded hover:bg-gray-800 transition",children:"Skip"})]})]})}function BookPromptForm({text:et,setText:g,pages:it,setPages:ot,link:ut,setLink:ct,cover:dt,setCover:ft,title:St,setTitle:Tt,authorName:kt,setAuthorName:jt,bookName:Rt,setBookName:$t,onSubmit:zt,loading:Ht}){return jsxRuntimeExports.jsxs("form",{onSubmit:zt,className:"space-y-6",children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-silver mb-2 font-medium",children:"Book Name"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"e.g. The Clockmakers Secret",value:Rt,readOnly:!0,className:"w-full px-4 py-3 rounded-lg bg-gray-800 text-white border border-gray-600 placeholder-gray-500"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"This is your books main title."})]})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-silver mb-2 font-medium",children:"Author Name"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"e.g. John Carter or Pen Name",value:kt,readOnly:!0,className:"w-full px-4 py-3 rounded-lg bg-gray-800 text-white border border-gray-600 placeholder-gray-500"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"This name will appear as the author in your generated book PDF."}),jsxRuntimeExports.jsx("label",{className:"block text-silver mb-2 mt-6 font-medium",children:"Chapter Title"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"e.g. The Midnight Promise or Part 1: Awakening",value:St,onChange:Zt=>Tt(Zt.target.value),className:"w-full px-4 py-3 rounded-lg bg-gray-800 text-white border border-gray-600 placeholder-gray-500 focus:ring-2 focus:ring-green focus:outline-none"})]}),jsxRuntimeExports.jsx("div",{className:"h-[250px] overflow-hidden rounded-lg border border-gray-600 bg-white",style:{color:"#111"},children:jsxRuntimeExports.jsx(ReactQuill$1,{theme:"snow",value:et,onChange:g,modules:{toolbar:!1},placeholder:"Write your story...",className:"h-[250px] bg-[#111] text-white rounded-lg quill-dark"})}),jsxRuntimeExports.jsx(CoverUpload,{cover:dt,setCover:ft}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-silver mb-2 font-medium",children:"Number of Pages"}),jsxRuntimeExports.jsxs("div",{className:"relative w-full max-w-xs",children:[jsxRuntimeExports.jsx("input",{type:"number",min:"10",max:"150",value:it??"",onChange:Zt=>{const Bt=Zt.target.value;ot(Bt===""?"":Math.min(150,Math.max(10,Number(Bt))))},className:"w-full py-3 pr-20 pl-4 rounded-lg bg-gray-800 text-white border border-gray-600 text-lg appearance-none"}),jsxRuntimeExports.jsxs("div",{className:"absolute inset-y-0 right-2 flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>ot(Zt=>Math.max(10,Number(Zt||10)-1)),className:"px-2 py-1 rounded-md bg-gray-700 text-white text-lg font-bold hover:bg-gray-600 transition",children:""}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>ot(Zt=>Math.min(150,Number(Zt||10)+1)),className:"px-2 py-1 rounded-md bg-gray-700 text-white text-lg font-bold hover:bg-gray-600 transition",children:""})]})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Each part can generate up to 150 pages. You can create additional parts later."})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-silver mb-2 font-medium",children:"Optional Website or Author Link"}),jsxRuntimeExports.jsx("input",{type:"url",placeholder:"https://yourwebsite.com",value:ut,onChange:Zt=>ct(Zt.target.value),className:"w-full px-4 py-2 rounded-lg bg-gray-800 text-white border border-gray-600 placeholder-gray-500 focus:ring-2 focus:ring-green focus:outline-none"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Appears at the bottom of your book PDF."})]}),!Ht&&jsxRuntimeExports.jsx("button",{type:"submit",className:"w-full px-6 py-3 rounded-xl bg-gradient-to-r from-green to-royalPurple text-white font-semibold text-lg shadow-lg hover:opacity-90 transition",children:" Generate Book PDF"})]})}function PromptModal({isOpen:et,onClose:g,magnetId:it,accessToken:ot,onSubmitted:ut,setShowGenerating:ct,progress:dt,setProgress:ft}){const[St,Tt]=reactExports.useState(""),[kt,jt]=reactExports.useState("modern"),[Rt,$t]=reactExports.useState(5),[zt,Ht]=reactExports.useState(null),[Zt,Bt]=reactExports.useState(null),[Ut,Kt]=reactExports.useState(""),[Yt,Jt]=reactExports.useState(!1),[er,tr]=reactExports.useState(!1),[rr,hr]=reactExports.useState(null),[ar,or]=reactExports.useState(""),[cr,gr]=reactExports.useState("questions");reactExports.useEffect(()=>{et||(Tt(""),jt("modern"),$t(5),Ht(null),Bt(null),Kt(""),ft(0),Jt(!1)),gr("questions")},[et]);const yr=()=>g();async function xr(pr){pr.preventDefault(),tr(!0),ft(0),ct(!0),g();let nr;try{nr=setInterval(()=>{ft(mr=>mr<90?mr+Math.random()*5:mr)},300);const ir=await axios$1.post("https://cre8tlystudio.com/api/lead-magnets/prompt",{magnetId:it,prompt:St,theme:kt,pages:Rt,logo:zt,link:Ut,coverImage:rr,cta:ar},{headers:{Authorization:`Bearer ${ot}`}});clearInterval(nr),ft(100),y$4.success(" Lead magnet generated successfully!"),ct(!1),await new Promise(mr=>setTimeout(mr,1e3)),g(),setTimeout(()=>{typeof ut=="function"&&ut(it,St,kt)},2e3)}catch(ir){if(console.error(" Prompt submission error:",ir),clearInterval(nr),ft(0),tr(!1),ct(!1),ir.response){const{status:mr,data:lr}=ir.response;mr===413?y$4.error(lr.message||"Your input is too long. Please shorten it."):mr===400?y$4.error(lr.message||"Missing required fields."):y$4.error(lr.message||"Something went wrong on the server.")}else y$4.error("Network error  PDF is still being processed. Please refresh.");g(),typeof ut=="function"&&setTimeout(()=>ut(it,St,kt),3e3)}finally{tr(!1),g()}}async function dr(pr){pr.preventDefault(),tr(!0),ft(0),ct(!0),g();let nr;try{nr=setInterval(()=>{ft(mr=>mr<90?mr+Math.random()*4:mr)},350);const ir=await axios$1.post("https://cre8tlystudio.com/api/books/prompt",{prompt:St,theme:kt,pages:Rt,logo:zt,link:Ut,coverImage:rr},{headers:{Authorization:`Bearer ${ot}`}});clearInterval(nr),ft(100),y$4.success(" Your book was generated successfully!"),ct(!1),await new Promise(mr=>setTimeout(mr,1e3)),g()}catch(ir){console.error(" Book generation error:",ir),clearInterval(nr),ft(0),tr(!1),ct(!1),y$4.error("Something went wrong while generating your book.")}finally{tr(!1)}}return jsxRuntimeExports.jsxs(ze,{show:et,appear:!0,children:[jsxRuntimeExports.jsxs(yt,{className:"relative z-50",onClose:()=>{Yt||g()},children:[jsxRuntimeExports.jsx(Dt,{className:"fixed inset-0 bg-black/70 backdrop-blur-sm"}),jsxRuntimeExports.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:jsxRuntimeExports.jsxs(je,{className:"relative w-full max-w-3xl max-h-[85vh] overflow-y-auto rounded-2xl bg-gray-900 p-8 shadow-2xl border border-gray-700",children:[jsxRuntimeExports.jsx(Ye,{className:"text-2xl font-bold text-white mb-6 text-center",children:" Create Your Lead Magnet"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[cr==="questions"&&jsxRuntimeExports.jsx(SmartPromptBuilder,{onPromptReady:pr=>{Tt(pr),gr("generator")}}),cr==="generator"&&jsxRuntimeExports.jsxs("div",{className:`transition-all duration-300 ${er?"pointer-events-none blur-sm opacity-50":""}`,children:[jsxRuntimeExports.jsx("div",{className:"flex justify-between items-center mb-4",children:jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>gr("questions"),className:"text-sm text-gray-400 underline hover:text-gray-200 transition",children:" Back to Smart Prompt Builder"})}),jsxRuntimeExports.jsx(PromptForm,{text:St,setText:Tt,theme:kt,setTheme:jt,pages:Rt,setPages:$t,logo:zt,setLogo:Ht,logoPreview:Zt,setLogoPreview:Bt,link:Ut,setLink:Kt,cover:rr,setCover:hr,cta:ar,setCta:or,showPreview:Yt,setShowPreview:Jt,onSubmit:xr,loading:er})]}),cr==="bookBuilder"&&jsxRuntimeExports.jsxs("div",{className:`transition-all duration-300 ${er?"pointer-events-none blur-sm opacity-50":""}`,children:[jsxRuntimeExports.jsx("div",{className:"flex justify-between items-center mb-4",children:jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>gr("selection"),className:"text-sm text-gray-400 underline hover:text-gray-200 transition",children:" Back to Selection"})}),jsxRuntimeExports.jsx(BookPromptForm,{text:St,setText:Tt,theme:kt,setTheme:jt,pages:Rt,setPages:$t,logo:zt,setLogo:Ht,logoPreview:Zt,setLogoPreview:Bt,link:Ut,setLink:Kt,cover:rr,setCover:hr,cta:ar,setCta:or,showPreview:Yt,setShowPreview:Jt,onSubmit:dr,loading:er})]}),er&&jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/70 backdrop-blur-sm rounded-2xl z-20 text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-white text-xl sm:text-2xl font-semibold mb-4 animate-pulse",children:" Creating your lead magnet..."}),jsxRuntimeExports.jsx("div",{className:"w-3/4",children:jsxRuntimeExports.jsx(ProgressBar,{progress:dt})}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm mt-4 italic",children:"This might take a moment, crafting something powerful "})]})]}),jsxRuntimeExports.jsx("button",{onClick:er?void 0:yr,className:`absolute top-4 right-4 text-white text-xl transition ${er?"opacity-30 cursor-not-allowed":"hover:text-red-400"}`,disabled:er,children:""})]})})]}),Yt&&jsxRuntimeExports.jsx(ThemePreviewModal,{showPreview:Yt,onClose:()=>Jt(!1),theme:kt,PDFThemePreview})]})}function DashboardHeader({items:et=[],onCheckout:g,type:it="magnet"}){const{user:ot}=useAuth();console.log("USER DATA:",ot),console.log("ITEMS:",et);const ut=it==="book"?(ot==null?void 0:ot.book_slots)??0:(ot==null?void 0:ot.magnet_slots)??0,ct=it==="book"?et.filter(St=>St.pages>=750).length:et.filter(St=>St.status==="completed").length,dt=Math.max(ut-ct,0),ft=it==="book"?"My Books":"My Lead Magnets";return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-white mb-6",children:ft}),jsxRuntimeExports.jsxs("p",{className:"text-silver mb-6",children:["You currently have ",dt," of ",ut," slots remaining."]}),dt===0&&jsxRuntimeExports.jsx("div",{className:"mb-6",children:jsxRuntimeExports.jsx("button",{onClick:g,className:"px-6 py-3 rounded-lg bg-gradient-to-r from-green to-royalPurple text-white font-semibold hover:opacity-90 transition shadow-lg",children:"Purchase More Slots"})})]})}function LoadingState(){return jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center text-center min-h-[60vh]",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-green mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-silver",children:"Loading your lead magnets..."})]})}function EmptyState({onCheckout:et,type:g="magnet"}){const it=g==="book";return jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center text-center min-h-[60vh]",children:[jsxRuntimeExports.jsx("p",{className:"text-silver mb-6",children:it?"You havent written any books yet.":"You havent created any lead magnets yet."}),jsxRuntimeExports.jsx("button",{onClick:et,className:"px-6 py-3 rounded-lg bg-gradient-to-r from-green to-royalPurple text-white font-semibold hover:opacity-90 transition shadow-lg",children:it?"Write My First Book":"Generate My First Lead Magnet"})]})}const scriptRel="modulepreload",assetsURL=function(et){return"/"+et},seen={},__vitePreload=function et(g,it,ot){if(!it||it.length===0)return g();const ut=document.getElementsByTagName("link");return Promise.all(it.map(ct=>{if(ct=assetsURL(ct),ct in seen)return;seen[ct]=!0;const dt=ct.endsWith(".css"),ft=dt?'[rel="stylesheet"]':"";if(!!ot)for(let kt=ut.length-1;kt>=0;kt--){const jt=ut[kt];if(jt.href===ct&&(!dt||jt.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${ct}"]${ft}`))return;const Tt=document.createElement("link");if(Tt.rel=dt?"stylesheet":scriptRel,dt||(Tt.as="script",Tt.crossOrigin=""),Tt.href=ct,document.head.appendChild(Tt),dt)return new Promise((kt,jt)=>{Tt.addEventListener("load",kt),Tt.addEventListener("error",()=>jt(new Error(`Unable to preload CSS for ${ct}`)))})})).then(()=>g()).catch(ct=>{const dt=new Event("vite:preloadError",{cancelable:!0});if(dt.payload=ct,window.dispatchEvent(dt),!dt.defaultPrevented)throw ct})},isNodeJS=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],LINE_FACTOR=1.35,RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},AnnotationEditorPrefix="pdfjs_internal_editor_",AnnotationEditorType={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},AnnotationEditorParamsType={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},util_ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},VerbosityLevel={ERRORS:0,WARNINGS:1,INFOS:5},OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},DrawOPS={moveTo:0,lineTo:1,curveTo:2,closePath:3},PasswordResponses$2={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let verbosity=VerbosityLevel.WARNINGS;function setVerbosityLevel(et){Number.isInteger(et)&&(verbosity=et)}function getVerbosityLevel(){return verbosity}function info(et){verbosity>=VerbosityLevel.INFOS&&console.info(`Info: ${et}`)}function warn(et){verbosity>=VerbosityLevel.WARNINGS&&console.warn(`Warning: ${et}`)}function unreachable(et){throw new Error(et)}function assert(et,g){et||unreachable(g)}function _isValidProtocol(et){switch(et==null?void 0:et.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function createValidAbsoluteUrl(et,g=null,it=null){if(!et)return null;if(it&&typeof et=="string"){if(it.addDefaultProtocol&&et.startsWith("www.")){const ut=et.match(/\./g);(ut==null?void 0:ut.length)>=2&&(et=`http://${et}`)}if(it.tryConvertEncoding)try{et=stringToUTF8String(et)}catch{}}const ot=g?URL.parse(et,g):URL.parse(et);return _isValidProtocol(ot)?ot:null}function updateUrlHash(et,g,it=!1){const ot=URL.parse(et);return ot?(ot.hash=g,ot.href):it&&createValidAbsoluteUrl(et,"http://example.com")?et.split("#",1)[0]+`${g?`#${g}`:""}`:""}function shadow(et,g,it,ot=!1){return Object.defineProperty(et,g,{value:it,enumerable:!ot,configurable:!0,writable:!1}),it}const BaseException=function et(){function g(it,ot){this.message=it,this.name=ot}return g.prototype=new Error,g.constructor=g,g}();class PasswordException extends BaseException{constructor(g,it){super(g,"PasswordException"),this.code=it}}class UnknownErrorException extends BaseException{constructor(g,it){super(g,"UnknownErrorException"),this.details=it}}class InvalidPDFException extends BaseException{constructor(g){super(g,"InvalidPDFException")}}class ResponseException extends BaseException{constructor(g,it,ot){super(g,"ResponseException"),this.status=it,this.missing=ot}}class FormatError extends BaseException{constructor(g){super(g,"FormatError")}}class AbortException extends BaseException{constructor(g){super(g,"AbortException")}}function bytesToString(et){(typeof et!="object"||(et==null?void 0:et.length)===void 0)&&unreachable("Invalid argument for bytesToString");const g=et.length,it=8192;if(g<it)return String.fromCharCode.apply(null,et);const ot=[];for(let ut=0;ut<g;ut+=it){const ct=Math.min(ut+it,g),dt=et.subarray(ut,ct);ot.push(String.fromCharCode.apply(null,dt))}return ot.join("")}function stringToBytes(et){typeof et!="string"&&unreachable("Invalid argument for stringToBytes");const g=et.length,it=new Uint8Array(g);for(let ot=0;ot<g;++ot)it[ot]=et.charCodeAt(ot)&255;return it}function string32(et){return String.fromCharCode(et>>24&255,et>>16&255,et>>8&255,et&255)}function isLittleEndian(){const et=new Uint8Array(4);return et[0]=1,new Uint32Array(et.buffer,0,1)[0]===1}function isEvalSupported(){try{return new Function(""),!0}catch{return!1}}class util_FeatureTest{static get isLittleEndian(){return shadow(this,"isLittleEndian",isLittleEndian())}static get isEvalSupported(){return shadow(this,"isEvalSupported",isEvalSupported())}static get isOffscreenCanvasSupported(){return shadow(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return shadow(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:g,userAgent:it}=navigator;return shadow(this,"platform",{isAndroid:it.includes("Android"),isLinux:g.includes("Linux"),isMac:g.includes("Mac"),isWindows:g.includes("Win"),isFirefox:it.includes("Firefox")})}static get isCSSRoundSupported(){var g,it;return shadow(this,"isCSSRoundSupported",(it=(g=globalThis.CSS)==null?void 0:g.supports)==null?void 0:it.call(g,"width: round(1.5px, 1px)"))}}const hexNumbers=Array.from(Array(256).keys(),et=>et.toString(16).padStart(2,"0"));var km,b1,z0,Hw;class Util{static makeHexColor(g,it,ot){return`#${hexNumbers[g]}${hexNumbers[it]}${hexNumbers[ot]}`}static domMatrixToTransform(g){return[g.a,g.b,g.c,g.d,g.e,g.f]}static scaleMinMax(g,it){let ot;g[0]?(g[0]<0&&(ot=it[0],it[0]=it[2],it[2]=ot),it[0]*=g[0],it[2]*=g[0],g[3]<0&&(ot=it[1],it[1]=it[3],it[3]=ot),it[1]*=g[3],it[3]*=g[3]):(ot=it[0],it[0]=it[1],it[1]=ot,ot=it[2],it[2]=it[3],it[3]=ot,g[1]<0&&(ot=it[1],it[1]=it[3],it[3]=ot),it[1]*=g[1],it[3]*=g[1],g[2]<0&&(ot=it[0],it[0]=it[2],it[2]=ot),it[0]*=g[2],it[2]*=g[2]),it[0]+=g[4],it[1]+=g[5],it[2]+=g[4],it[3]+=g[5]}static transform(g,it){return[g[0]*it[0]+g[2]*it[1],g[1]*it[0]+g[3]*it[1],g[0]*it[2]+g[2]*it[3],g[1]*it[2]+g[3]*it[3],g[0]*it[4]+g[2]*it[5]+g[4],g[1]*it[4]+g[3]*it[5]+g[5]]}static multiplyByDOMMatrix(g,it){return[g[0]*it.a+g[2]*it.b,g[1]*it.a+g[3]*it.b,g[0]*it.c+g[2]*it.d,g[1]*it.c+g[3]*it.d,g[0]*it.e+g[2]*it.f+g[4],g[1]*it.e+g[3]*it.f+g[5]]}static applyTransform(g,it,ot=0){const ut=g[ot],ct=g[ot+1];g[ot]=ut*it[0]+ct*it[2]+it[4],g[ot+1]=ut*it[1]+ct*it[3]+it[5]}static applyTransformToBezier(g,it,ot=0){const ut=it[0],ct=it[1],dt=it[2],ft=it[3],St=it[4],Tt=it[5];for(let kt=0;kt<6;kt+=2){const jt=g[ot+kt],Rt=g[ot+kt+1];g[ot+kt]=jt*ut+Rt*dt+St,g[ot+kt+1]=jt*ct+Rt*ft+Tt}}static applyInverseTransform(g,it){const ot=g[0],ut=g[1],ct=it[0]*it[3]-it[1]*it[2];g[0]=(ot*it[3]-ut*it[2]+it[2]*it[5]-it[4]*it[3])/ct,g[1]=(-ot*it[1]+ut*it[0]+it[4]*it[1]-it[5]*it[0])/ct}static axialAlignedBoundingBox(g,it,ot){const ut=it[0],ct=it[1],dt=it[2],ft=it[3],St=it[4],Tt=it[5],kt=g[0],jt=g[1],Rt=g[2],$t=g[3];let zt=ut*kt+St,Ht=zt,Zt=ut*Rt+St,Bt=Zt,Ut=ft*jt+Tt,Kt=Ut,Yt=ft*$t+Tt,Jt=Yt;if(ct!==0||dt!==0){const er=ct*kt,tr=ct*Rt,rr=dt*jt,hr=dt*$t;zt+=rr,Bt+=rr,Zt+=hr,Ht+=hr,Ut+=er,Jt+=er,Yt+=tr,Kt+=tr}ot[0]=Math.min(ot[0],zt,Zt,Ht,Bt),ot[1]=Math.min(ot[1],Ut,Yt,Kt,Jt),ot[2]=Math.max(ot[2],zt,Zt,Ht,Bt),ot[3]=Math.max(ot[3],Ut,Yt,Kt,Jt)}static inverseTransform(g){const it=g[0]*g[3]-g[1]*g[2];return[g[3]/it,-g[1]/it,-g[2]/it,g[0]/it,(g[2]*g[5]-g[4]*g[3])/it,(g[4]*g[1]-g[5]*g[0])/it]}static singularValueDecompose2dScale(g,it){const ot=g[0],ut=g[1],ct=g[2],dt=g[3],ft=ot**2+ut**2,St=ot*ct+ut*dt,Tt=ct**2+dt**2,kt=(ft+Tt)/2,jt=Math.sqrt(kt**2-(ft*Tt-St**2));it[0]=Math.sqrt(kt+jt||1),it[1]=Math.sqrt(kt-jt||1)}static normalizeRect(g){const it=g.slice(0);return g[0]>g[2]&&(it[0]=g[2],it[2]=g[0]),g[1]>g[3]&&(it[1]=g[3],it[3]=g[1]),it}static intersect(g,it){const ot=Math.max(Math.min(g[0],g[2]),Math.min(it[0],it[2])),ut=Math.min(Math.max(g[0],g[2]),Math.max(it[0],it[2]));if(ot>ut)return null;const ct=Math.max(Math.min(g[1],g[3]),Math.min(it[1],it[3])),dt=Math.min(Math.max(g[1],g[3]),Math.max(it[1],it[3]));return ct>dt?null:[ot,ct,ut,dt]}static pointBoundingBox(g,it,ot){ot[0]=Math.min(ot[0],g),ot[1]=Math.min(ot[1],it),ot[2]=Math.max(ot[2],g),ot[3]=Math.max(ot[3],it)}static rectBoundingBox(g,it,ot,ut,ct){ct[0]=Math.min(ct[0],g,ot),ct[1]=Math.min(ct[1],it,ut),ct[2]=Math.max(ct[2],g,ot),ct[3]=Math.max(ct[3],it,ut)}static bezierBoundingBox(g,it,ot,ut,ct,dt,ft,St,Tt){Tt[0]=Math.min(Tt[0],g,ft),Tt[1]=Math.min(Tt[1],it,St),Tt[2]=Math.max(Tt[2],g,ft),Tt[3]=Math.max(Tt[3],it,St),vr(this,z0,Hw).call(this,g,ot,ct,ft,it,ut,dt,St,3*(-g+3*(ot-ct)+ft),6*(g-2*ot+ct),3*(ot-g),Tt),vr(this,z0,Hw).call(this,g,ot,ct,ft,it,ut,dt,St,3*(-it+3*(ut-dt)+St),6*(it-2*ut+dt),3*(ut-it),Tt)}}km=new WeakSet,b1=function(g,it,ot,ut,ct,dt,ft,St,Tt,kt){if(Tt<=0||Tt>=1)return;const jt=1-Tt,Rt=Tt*Tt,$t=Rt*Tt,zt=jt*(jt*(jt*g+3*Tt*it)+3*Rt*ot)+$t*ut,Ht=jt*(jt*(jt*ct+3*Tt*dt)+3*Rt*ft)+$t*St;kt[0]=Math.min(kt[0],zt),kt[1]=Math.min(kt[1],Ht),kt[2]=Math.max(kt[2],zt),kt[3]=Math.max(kt[3],Ht)},z0=new WeakSet,Hw=function(g,it,ot,ut,ct,dt,ft,St,Tt,kt,jt,Rt){if(Math.abs(Tt)<1e-12){Math.abs(kt)>=1e-12&&vr(this,km,b1).call(this,g,it,ot,ut,ct,dt,ft,St,-jt/kt,Rt);return}const $t=kt**2-4*jt*Tt;if($t<0)return;const zt=Math.sqrt($t),Ht=2*Tt;vr(this,km,b1).call(this,g,it,ot,ut,ct,dt,ft,St,(-kt+zt)/Ht,Rt),vr(this,km,b1).call(this,g,it,ot,ut,ct,dt,ft,St,(-kt-zt)/Ht,Rt)},sr(Util,km),sr(Util,z0);function stringToUTF8String(et){return decodeURIComponent(escape(et))}let NormalizeRegex=null,NormalizationMap=null;function normalizeUnicode(et){return NormalizeRegex||(NormalizeRegex=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,NormalizationMap=new Map([["","t"]])),et.replaceAll(NormalizeRegex,(g,it,ot)=>it?it.normalize("NFKC"):NormalizationMap.get(ot))}function getUuid(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const et=new Uint8Array(32);return crypto.getRandomValues(et),bytesToString(et)}const AnnotationPrefix="pdfjs_internal_id_";function _isValidExplicitDest(et,g,it){if(!Array.isArray(it)||it.length<2)return!1;const[ot,ut,...ct]=it;if(!et(ot)&&!Number.isInteger(ot)||!g(ut))return!1;const dt=ct.length;let ft=!0;switch(ut.name){case"XYZ":if(dt<2||dt>3)return!1;break;case"Fit":case"FitB":return dt===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(dt>1)return!1;break;case"FitR":if(dt!==4)return!1;ft=!1;break;default:return!1}for(const St of ct)if(!(typeof St=="number"||ft&&St===null))return!1;return!0}function MathClamp(et,g,it){return Math.min(Math.max(et,g),it)}function toBase64Util(et){return Uint8Array.prototype.toBase64?et.toBase64():btoa(bytesToString(et))}function fromBase64Util(et){return Uint8Array.fromBase64?Uint8Array.fromBase64(et):stringToBytes(atob(et))}typeof Promise.try!="function"&&(Promise.try=function(et,...g){return new Promise(it=>{it(et(...g))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(et){return et.reduce((g,it)=>g+it,0)});class XfaText{static textContent(g){const it=[],ot={items:it,styles:Object.create(null)};function ut(ct){var St;if(!ct)return;let dt=null;const ft=ct.name;if(ft==="#text")dt=ct.value;else if(XfaText.shouldBuildText(ft))(St=ct==null?void 0:ct.attributes)!=null&&St.textContent?dt=ct.attributes.textContent:ct.value&&(dt=ct.value);else return;if(dt!==null&&it.push({str:dt}),!!ct.children)for(const Tt of ct.children)ut(Tt)}return ut(g),ot}static shouldBuildText(g){return!(g==="textarea"||g==="input"||g==="option"||g==="select")}}class XfaLayer{static setupStorage(g,it,ot,ut,ct){const dt=ut.getValue(it,{value:null});switch(ot.name){case"textarea":if(dt.value!==null&&(g.textContent=dt.value),ct==="print")break;g.addEventListener("input",ft=>{ut.setValue(it,{value:ft.target.value})});break;case"input":if(ot.attributes.type==="radio"||ot.attributes.type==="checkbox"){if(dt.value===ot.attributes.xfaOn?g.setAttribute("checked",!0):dt.value===ot.attributes.xfaOff&&g.removeAttribute("checked"),ct==="print")break;g.addEventListener("change",ft=>{ut.setValue(it,{value:ft.target.checked?ft.target.getAttribute("xfaOn"):ft.target.getAttribute("xfaOff")})})}else{if(dt.value!==null&&g.setAttribute("value",dt.value),ct==="print")break;g.addEventListener("input",ft=>{ut.setValue(it,{value:ft.target.value})})}break;case"select":if(dt.value!==null){g.setAttribute("value",dt.value);for(const ft of ot.children)ft.attributes.value===dt.value?ft.attributes.selected=!0:ft.attributes.hasOwnProperty("selected")&&delete ft.attributes.selected}g.addEventListener("input",ft=>{const St=ft.target.options,Tt=St.selectedIndex===-1?"":St[St.selectedIndex].value;ut.setValue(it,{value:Tt})});break}}static setAttributes({html:g,element:it,storage:ot=null,intent:ut,linkService:ct}){const{attributes:dt}=it,ft=g instanceof HTMLAnchorElement;dt.type==="radio"&&(dt.name=`${dt.name}-${ut}`);for(const[St,Tt]of Object.entries(dt))if(Tt!=null)switch(St){case"class":Tt.length&&g.setAttribute(St,Tt.join(" "));break;case"dataId":break;case"id":g.setAttribute("data-element-id",Tt);break;case"style":Object.assign(g.style,Tt);break;case"textContent":g.textContent=Tt;break;default:(!ft||St!=="href"&&St!=="newWindow")&&g.setAttribute(St,Tt)}ft&&ct.addLinkAttributes(g,dt.href,dt.newWindow),ot&&dt.dataId&&this.setupStorage(g,dt.dataId,it,ot)}static render(g){var jt,Rt;const it=g.annotationStorage,ot=g.linkService,ut=g.xfaHtml,ct=g.intent||"display",dt=document.createElement(ut.name);ut.attributes&&this.setAttributes({html:dt,element:ut,intent:ct,linkService:ot});const ft=ct!=="richText",St=g.div;if(St.append(dt),g.viewport){const $t=`matrix(${g.viewport.transform.join(",")})`;St.style.transform=$t}ft&&St.setAttribute("class","xfaLayer xfaFont");const Tt=[];if(ut.children.length===0){if(ut.value){const $t=document.createTextNode(ut.value);dt.append($t),ft&&XfaText.shouldBuildText(ut.name)&&Tt.push($t)}return{textDivs:Tt}}const kt=[[ut,-1,dt]];for(;kt.length>0;){const[$t,zt,Ht]=kt.at(-1);if(zt+1===$t.children.length){kt.pop();continue}const Zt=$t.children[++kt.at(-1)[1]];if(Zt===null)continue;const{name:Bt}=Zt;if(Bt==="#text"){const Kt=document.createTextNode(Zt.value);Tt.push(Kt),Ht.append(Kt);continue}const Ut=(jt=Zt==null?void 0:Zt.attributes)!=null&&jt.xmlns?document.createElementNS(Zt.attributes.xmlns,Bt):document.createElement(Bt);if(Ht.append(Ut),Zt.attributes&&this.setAttributes({html:Ut,element:Zt,storage:it,intent:ct,linkService:ot}),((Rt=Zt.children)==null?void 0:Rt.length)>0)kt.push([Zt,-1,Ut]);else if(Zt.value){const Kt=document.createTextNode(Zt.value);ft&&XfaText.shouldBuildText(Bt)&&Tt.push(Kt),Ut.append(Kt)}}for(const $t of St.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))$t.setAttribute("readOnly",!0);return{textDivs:Tt}}static update(g){const it=`matrix(${g.viewport.transform.join(",")})`;g.div.style.transform=it,g.div.hidden=!1}}const SVG_NS="http://www.w3.org/2000/svg",Vu=class Vu{};Nr(Vu,"CSS",96),Nr(Vu,"PDF",72),Nr(Vu,"PDF_TO_CSS_UNITS",Vu.CSS/Vu.PDF);let PixelsPerInch=Vu;async function fetchData(et,g="text"){if(isValidFetchUrl(et,document.baseURI)){const it=await fetch(et);if(!it.ok)throw new Error(it.statusText);switch(g){case"arraybuffer":return it.arrayBuffer();case"blob":return it.blob();case"json":return it.json()}return it.text()}return new Promise((it,ot)=>{const ut=new XMLHttpRequest;ut.open("GET",et,!0),ut.responseType=g,ut.onreadystatechange=()=>{if(ut.readyState===XMLHttpRequest.DONE){if(ut.status===200||ut.status===0){switch(g){case"arraybuffer":case"blob":case"json":it(ut.response);return}it(ut.responseText);return}ot(new Error(ut.statusText))}},ut.send(null)})}class PageViewport{constructor({viewBox:g,userUnit:it,scale:ot,rotation:ut,offsetX:ct=0,offsetY:dt=0,dontFlip:ft=!1}){this.viewBox=g,this.userUnit=it,this.scale=ot,this.rotation=ut,this.offsetX=ct,this.offsetY=dt,ot*=it;const St=(g[2]+g[0])/2,Tt=(g[3]+g[1])/2;let kt,jt,Rt,$t;switch(ut%=360,ut<0&&(ut+=360),ut){case 180:kt=-1,jt=0,Rt=0,$t=1;break;case 90:kt=0,jt=1,Rt=1,$t=0;break;case 270:kt=0,jt=-1,Rt=-1,$t=0;break;case 0:kt=1,jt=0,Rt=0,$t=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}ft&&(Rt=-Rt,$t=-$t);let zt,Ht,Zt,Bt;kt===0?(zt=Math.abs(Tt-g[1])*ot+ct,Ht=Math.abs(St-g[0])*ot+dt,Zt=(g[3]-g[1])*ot,Bt=(g[2]-g[0])*ot):(zt=Math.abs(St-g[0])*ot+ct,Ht=Math.abs(Tt-g[1])*ot+dt,Zt=(g[2]-g[0])*ot,Bt=(g[3]-g[1])*ot),this.transform=[kt*ot,jt*ot,Rt*ot,$t*ot,zt-kt*ot*St-Rt*ot*Tt,Ht-jt*ot*St-$t*ot*Tt],this.width=Zt,this.height=Bt}get rawDims(){const g=this.viewBox;return shadow(this,"rawDims",{pageWidth:g[2]-g[0],pageHeight:g[3]-g[1],pageX:g[0],pageY:g[1]})}clone({scale:g=this.scale,rotation:it=this.rotation,offsetX:ot=this.offsetX,offsetY:ut=this.offsetY,dontFlip:ct=!1}={}){return new PageViewport({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:g,rotation:it,offsetX:ot,offsetY:ut,dontFlip:ct})}convertToViewportPoint(g,it){const ot=[g,it];return Util.applyTransform(ot,this.transform),ot}convertToViewportRectangle(g){const it=[g[0],g[1]];Util.applyTransform(it,this.transform);const ot=[g[2],g[3]];return Util.applyTransform(ot,this.transform),[it[0],it[1],ot[0],ot[1]]}convertToPdfPoint(g,it){const ot=[g,it];return Util.applyInverseTransform(ot,this.transform),ot}}class RenderingCancelledException extends BaseException{constructor(g,it=0){super(g,"RenderingCancelledException"),this.extraDelay=it}}function isDataScheme(et){const g=et.length;let it=0;for(;it<g&&et[it].trim()==="";)it++;return et.substring(it,it+5).toLowerCase()==="data:"}function isPdfFile(et){return typeof et=="string"&&/\.pdf$/i.test(et)}function getFilenameFromUrl(et){return[et]=et.split(/[#?]/,1),et.substring(et.lastIndexOf("/")+1)}function getPdfFilenameFromUrl(et,g="document.pdf"){if(typeof et!="string")return g;if(isDataScheme(et))return warn('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),g;const ot=(ft=>{try{return new URL(ft)}catch{try{return new URL(decodeURIComponent(ft))}catch{try{return new URL(ft,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(ft),"https://foo.bar")}catch{return null}}}}})(et);if(!ot)return g;const ut=ft=>{try{let St=decodeURIComponent(ft);return St.includes("/")?(St=St.split("/").at(-1),St.test(/^\.pdf$/i)?St:ft):St}catch{return ft}},ct=/\.pdf$/i,dt=ot.pathname.split("/").at(-1);if(ct.test(dt))return ut(dt);if(ot.searchParams.size>0){const ft=Array.from(ot.searchParams.values()).reverse();for(const Tt of ft)if(ct.test(Tt))return ut(Tt);const St=Array.from(ot.searchParams.keys()).reverse();for(const Tt of St)if(ct.test(Tt))return ut(Tt)}if(ot.hash){const St=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(ot.hash);if(St)return ut(St[0])}return g}class StatTimer{constructor(){Nr(this,"started",Object.create(null));Nr(this,"times",[])}time(g){g in this.started&&warn(`Timer is already running for ${g}`),this.started[g]=Date.now()}timeEnd(g){g in this.started||warn(`Timer has not been started for ${g}`),this.times.push({name:g,start:this.started[g],end:Date.now()}),delete this.started[g]}toString(){const g=[];let it=0;for(const{name:ot}of this.times)it=Math.max(ot.length,it);for(const{name:ot,start:ut,end:ct}of this.times)g.push(`${ot.padEnd(it)} ${ct-ut}ms
`);return g.join("")}}function isValidFetchUrl(et,g){const it=g?URL.parse(et,g):URL.parse(et);return(it==null?void 0:it.protocol)==="http:"||(it==null?void 0:it.protocol)==="https:"}function noContextMenu(et){et.preventDefault()}function stopEvent(et){et.preventDefault(),et.stopPropagation()}function deprecated(et){console.log("Deprecated API usage: "+et)}var G0;class PDFDateString{static toDateObject(g){if(g instanceof Date)return g;if(!g||typeof g!="string")return null;Ft(this,G0)||ur(this,G0,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const it=Ft(this,G0).exec(g);if(!it)return null;const ot=parseInt(it[1],10);let ut=parseInt(it[2],10);ut=ut>=1&&ut<=12?ut-1:0;let ct=parseInt(it[3],10);ct=ct>=1&&ct<=31?ct:1;let dt=parseInt(it[4],10);dt=dt>=0&&dt<=23?dt:0;let ft=parseInt(it[5],10);ft=ft>=0&&ft<=59?ft:0;let St=parseInt(it[6],10);St=St>=0&&St<=59?St:0;const Tt=it[7]||"Z";let kt=parseInt(it[8],10);kt=kt>=0&&kt<=23?kt:0;let jt=parseInt(it[9],10)||0;return jt=jt>=0&&jt<=59?jt:0,Tt==="-"?(dt+=kt,ft+=jt):Tt==="+"&&(dt-=kt,ft-=jt),new Date(Date.UTC(ot,ut,ct,dt,ft,St))}}G0=new WeakMap,sr(PDFDateString,G0,void 0);function getXfaPageViewport(et,{scale:g=1,rotation:it=0}){const{width:ot,height:ut}=et.attributes.style,ct=[0,0,parseInt(ot),parseInt(ut)];return new PageViewport({viewBox:ct,userUnit:1,scale:g,rotation:it})}function getRGB(et){if(et.startsWith("#")){const g=parseInt(et.slice(1),16);return[(g&16711680)>>16,(g&65280)>>8,g&255]}return et.startsWith("rgb(")?et.slice(4,-1).split(",").map(g=>parseInt(g)):et.startsWith("rgba(")?et.slice(5,-1).split(",").map(g=>parseInt(g)).slice(0,3):(warn(`Not a valid color format: "${et}"`),[0,0,0])}function getColorValues(et){const g=document.createElement("span");g.style.visibility="hidden",g.style.colorScheme="only light",document.body.append(g);for(const it of et.keys()){g.style.color=it;const ot=window.getComputedStyle(g).color;et.set(it,getRGB(ot))}g.remove()}function getCurrentTransform(et){const{a:g,b:it,c:ot,d:ut,e:ct,f:dt}=et.getTransform();return[g,it,ot,ut,ct,dt]}function getCurrentTransformInverse(et){const{a:g,b:it,c:ot,d:ut,e:ct,f:dt}=et.getTransform().invertSelf();return[g,it,ot,ut,ct,dt]}function setLayerDimensions(et,g,it=!1,ot=!0){if(g instanceof PageViewport){const{pageWidth:ut,pageHeight:ct}=g.rawDims,{style:dt}=et,ft=util_FeatureTest.isCSSRoundSupported,St=`var(--total-scale-factor) * ${ut}px`,Tt=`var(--total-scale-factor) * ${ct}px`,kt=ft?`round(down, ${St}, var(--scale-round-x))`:`calc(${St})`,jt=ft?`round(down, ${Tt}, var(--scale-round-y))`:`calc(${Tt})`;!it||g.rotation%180===0?(dt.width=kt,dt.height=jt):(dt.width=jt,dt.height=kt)}ot&&et.setAttribute("data-main-rotation",g.rotation)}class OutputScale{constructor(){const{pixelRatio:g}=OutputScale;this.sx=g,this.sy=g}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(g,it,ot,ut,ct=-1){let dt=1/0,ft=1/0,St=1/0;ot=OutputScale.capPixels(ot,ct),ot>0&&(dt=Math.sqrt(ot/(g*it))),ut!==-1&&(ft=ut/g,St=ut/it);const Tt=Math.min(dt,ft,St);return this.sx>Tt||this.sy>Tt?(this.sx=Tt,this.sy=Tt,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(g,it){if(it>=0){const ot=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+it/100));return g>0?Math.min(g,ot):ot}return g}}const SupportedImageMimeTypes=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class ColorScheme{static get isDarkMode(){var g;return shadow(this,"isDarkMode",!!((g=window==null?void 0:window.matchMedia)!=null&&g.call(window,"(prefers-color-scheme: dark)").matches))}}class CSSConstants{static get commentForegroundColor(){const g=document.createElement("span");g.classList.add("comment","sidebar");const{style:it}=g;it.width=it.height="0",it.display="none",it.color="var(--comment-fg-color)",document.body.append(g);const{color:ot}=window.getComputedStyle(g);return g.remove(),shadow(this,"commentForegroundColor",getRGB(ot))}}function applyOpacity(et,g,it,ot){ot=Math.min(Math.max(ot??1,0),1);const ut=255*(1-ot);return et=Math.round(et*ot+ut),g=Math.round(g*ot+ut),it=Math.round(it*ot+ut),[et,g,it]}function RGBToHSL(et,g){const it=et[0]/255,ot=et[1]/255,ut=et[2]/255,ct=Math.max(it,ot,ut),dt=Math.min(it,ot,ut),ft=(ct+dt)/2;if(ct===dt)g[0]=g[1]=0;else{const St=ct-dt;switch(g[1]=ft<.5?St/(ct+dt):St/(2-ct-dt),ct){case it:g[0]=((ot-ut)/St+(ot<ut?6:0))*60;break;case ot:g[0]=((ut-it)/St+2)*60;break;case ut:g[0]=((it-ot)/St+4)*60;break}}g[2]=ft}function HSLToRGB(et,g){const it=et[0],ot=et[1],ut=et[2],ct=(1-Math.abs(2*ut-1))*ot,dt=ct*(1-Math.abs(it/60%2-1)),ft=ut-ct/2;switch(Math.floor(it/60)){case 0:g[0]=ct+ft,g[1]=dt+ft,g[2]=ft;break;case 1:g[0]=dt+ft,g[1]=ct+ft,g[2]=ft;break;case 2:g[0]=ft,g[1]=ct+ft,g[2]=dt+ft;break;case 3:g[0]=ft,g[1]=dt+ft,g[2]=ct+ft;break;case 4:g[0]=dt+ft,g[1]=ft,g[2]=ct+ft;break;case 5:case 6:g[0]=ct+ft,g[1]=ft,g[2]=dt+ft;break}}function computeLuminance(et){return et<=.03928?et/12.92:((et+.055)/1.055)**2.4}function contrastRatio(et,g,it){HSLToRGB(et,it),it.map(computeLuminance);const ot=.2126*it[0]+.7152*it[1]+.0722*it[2];HSLToRGB(g,it),it.map(computeLuminance);const ut=.2126*it[0]+.7152*it[1]+.0722*it[2];return ot>ut?(ot+.05)/(ut+.05):(ut+.05)/(ot+.05)}const contrastCache=new Map;function findContrastColor(et,g){const it=et[0]+et[1]*256+et[2]*65536+g[0]*16777216+g[1]*4294967296+g[2]*1099511627776;let ot=contrastCache.get(it);if(ot)return ot;const ut=new Float32Array(9),ct=ut.subarray(0,3),dt=ut.subarray(3,6);RGBToHSL(et,dt);const ft=ut.subarray(6,9);RGBToHSL(g,ft);const St=ft[2]<.5,Tt=St?12:4.5;if(dt[2]=St?Math.sqrt(dt[2]):1-Math.sqrt(1-dt[2]),contrastRatio(dt,ft,ct)<Tt){let kt,jt;St?(kt=dt[2],jt=1):(kt=0,jt=dt[2]);const Rt=.005;for(;jt-kt>Rt;){const $t=dt[2]=(kt+jt)/2;St===contrastRatio(dt,ft,ct)<Tt?kt=$t:jt=$t}dt[2]=St?jt:kt}return HSLToRGB(dt,ct),ot=Util.makeHexColor(Math.round(ct[0]*255),Math.round(ct[1]*255),Math.round(ct[2]*255)),contrastCache.set(it,ot),ot}function renderRichText({html:et,dir:g,className:it},ot){const ut=document.createDocumentFragment();if(typeof et=="string"){const ct=document.createElement("p");ct.dir=g||"auto";const dt=et.split(/(?:\r\n?|\n)/);for(let ft=0,St=dt.length;ft<St;++ft){const Tt=dt[ft];ct.append(document.createTextNode(Tt)),ft<St-1&&ct.append(document.createElement("br"))}ut.append(ct)}else XfaLayer.render({xfaHtml:et,div:ut,intent:"richText"});ut.firstChild.classList.add("richText",it),ot.append(ut)}var Il,Fl,Ts,ks,q0,$l,Pm,Cm,W0,Q1,JS,J1,eA,_b,tA,Bl,ym,zu,_0;const No=class No{constructor(g){sr(this,J1);sr(this,_b);sr(this,Bl);sr(this,zu);sr(this,Il,null);sr(this,Fl,null);sr(this,Ts,void 0);sr(this,ks,null);sr(this,q0,null);sr(this,$l,null);sr(this,Pm,null);sr(this,Cm,null);ur(this,Ts,g),Ft(No,W0)||ur(No,W0,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const g=ur(this,Il,document.createElement("div"));g.classList.add("editToolbar","hidden"),g.setAttribute("role","toolbar");const it=Ft(this,Ts)._uiManager._signal;it instanceof AbortSignal&&!it.aborted&&(g.addEventListener("contextmenu",noContextMenu,{signal:it}),g.addEventListener("pointerdown",vr(No,Q1,JS),{signal:it}));const ot=ur(this,ks,document.createElement("div"));ot.className="buttons",g.append(ot);const ut=Ft(this,Ts).toolbarPosition;if(ut){const{style:ct}=g,dt=Ft(this,Ts)._uiManager.direction==="ltr"?1-ut[0]:ut[0];ct.insetInlineEnd=`${100*dt}%`,ct.top=`calc(${100*ut[1]}% + var(--editor-toolbar-vert-offset))`}return g}get div(){return Ft(this,Il)}hide(){var g;Ft(this,Il).classList.add("hidden"),(g=Ft(this,Fl))==null||g.hideDropdown()}show(){var g,it;Ft(this,Il).classList.remove("hidden"),(g=Ft(this,q0))==null||g.shown(),(it=Ft(this,$l))==null||it.shown()}addDeleteButton(){const{editorType:g,_uiManager:it}=Ft(this,Ts),ot=document.createElement("button");ot.classList.add("basic","deleteButton"),ot.tabIndex=0,ot.setAttribute("data-l10n-id",Ft(No,W0)[g]),vr(this,Bl,ym).call(this,ot)&&ot.addEventListener("click",ut=>{it.delete()},{signal:it._signal}),Ft(this,ks).append(ot)}async addAltText(g){const it=await g.render();vr(this,Bl,ym).call(this,it),Ft(this,ks).append(it,Ft(this,zu,_0)),ur(this,q0,g)}addComment(g,it=null){if(Ft(this,$l))return;const ot=g.renderForToolbar();if(!ot)return;vr(this,Bl,ym).call(this,ot);const ut=ur(this,Pm,Ft(this,zu,_0));it?(Ft(this,ks).insertBefore(ot,it),Ft(this,ks).insertBefore(ut,it)):Ft(this,ks).append(ot,ut),ur(this,$l,g),g.toolbar=this}addColorPicker(g){if(Ft(this,Fl))return;ur(this,Fl,g);const it=g.renderButton();vr(this,Bl,ym).call(this,it),Ft(this,ks).append(it,Ft(this,zu,_0))}async addEditSignatureButton(g){const it=ur(this,Cm,await g.renderEditButton(Ft(this,Ts)));vr(this,Bl,ym).call(this,it),Ft(this,ks).append(it,Ft(this,zu,_0))}removeButton(g){var it,ot;switch(g){case"comment":(it=Ft(this,$l))==null||it.removeToolbarCommentButton(),ur(this,$l,null),(ot=Ft(this,Pm))==null||ot.remove(),ur(this,Pm,null);break}}async addButton(g,it){switch(g){case"colorPicker":this.addColorPicker(it);break;case"altText":await this.addAltText(it);break;case"editSignature":await this.addEditSignatureButton(it);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(it);break}}async addButtonBefore(g,it,ot){const ut=Ft(this,ks).querySelector(ot);ut&&g==="comment"&&this.addComment(it,ut)}updateEditSignatureButton(g){Ft(this,Cm)&&(Ft(this,Cm).title=g)}remove(){var g;Ft(this,Il).remove(),(g=Ft(this,Fl))==null||g.destroy(),ur(this,Fl,null)}};Il=new WeakMap,Fl=new WeakMap,Ts=new WeakMap,ks=new WeakMap,q0=new WeakMap,$l=new WeakMap,Pm=new WeakMap,Cm=new WeakMap,W0=new WeakMap,Q1=new WeakSet,JS=function(g){g.stopPropagation()},J1=new WeakSet,eA=function(g){Ft(this,Ts)._focusEventsAllowed=!1,stopEvent(g)},_b=new WeakSet,tA=function(g){Ft(this,Ts)._focusEventsAllowed=!0,stopEvent(g)},Bl=new WeakSet,ym=function(g){const it=Ft(this,Ts)._uiManager._signal;return!(it instanceof AbortSignal)||it.aborted?!1:(g.addEventListener("focusin",vr(this,J1,eA).bind(this),{capture:!0,signal:it}),g.addEventListener("focusout",vr(this,_b,tA).bind(this),{capture:!0,signal:it}),g.addEventListener("contextmenu",noContextMenu,{signal:it}),!0)},zu=new WeakSet,_0=function(){const g=document.createElement("div");return g.className="divider",g},sr(No,Q1),sr(No,W0,null);let EditorToolbar=No;var K0,Gu,Io,eE,rA,tE,nA,X0,zw;class FloatingToolbar{constructor(g){sr(this,eE);sr(this,tE);sr(this,X0);sr(this,K0,null);sr(this,Gu,null);sr(this,Io,void 0);ur(this,Io,g)}show(g,it,ot){const[ut,ct]=vr(this,tE,nA).call(this,it,ot),{style:dt}=Ft(this,Gu)||ur(this,Gu,vr(this,eE,rA).call(this));g.append(Ft(this,Gu)),dt.insetInlineEnd=`${100*ut}%`,dt.top=`calc(${100*ct}% + var(--editor-toolbar-vert-offset))`}hide(){Ft(this,Gu).remove()}}K0=new WeakMap,Gu=new WeakMap,Io=new WeakMap,eE=new WeakSet,rA=function(){const g=ur(this,Gu,document.createElement("div"));g.className="editToolbar",g.setAttribute("role","toolbar");const it=Ft(this,Io)._signal;it instanceof AbortSignal&&!it.aborted&&g.addEventListener("contextmenu",noContextMenu,{signal:it});const ot=ur(this,K0,document.createElement("div"));return ot.className="buttons",g.append(ot),Ft(this,Io).hasCommentManager()&&vr(this,X0,zw).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{Ft(this,Io).commentSelection("floating_button")}),vr(this,X0,zw).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{Ft(this,Io).highlightSelection("floating_button")}),g},tE=new WeakSet,nA=function(g,it){let ot=0,ut=0;for(const ct of g){const dt=ct.y+ct.height;if(dt<ot)continue;const ft=ct.x+(it?ct.width:0);if(dt>ot){ut=ft,ot=dt;continue}it?ft>ut&&(ut=ft):ft<ut&&(ut=ft)}return[it?1-ut:ut,ot]},X0=new WeakSet,zw=function(g,it,ot,ut){const ct=document.createElement("button");ct.classList.add("basic",g),ct.tabIndex=0,ct.setAttribute("data-l10n-id",it);const dt=document.createElement("span");ct.append(dt),dt.className="visuallyHidden",dt.setAttribute("data-l10n-id",ot);const ft=Ft(this,Io)._signal;ft instanceof AbortSignal&&!ft.aborted&&(ct.addEventListener("contextmenu",noContextMenu,{signal:ft}),ct.addEventListener("click",ut,{signal:ft})),Ft(this,K0).append(ct)};function bindEvents(et,g,it){for(const ot of it)g.addEventListener(ot,et[ot].bind(et))}var rE;class IdManager{constructor(){sr(this,rE,0)}get id(){return`${AnnotationEditorPrefix}${Sn(this,rE)._++}`}}rE=new WeakMap;var Rm,Y0,Un,Mm,E1;const qS=class qS{constructor(){sr(this,Mm);sr(this,Rm,getUuid());sr(this,Y0,0);sr(this,Un,null)}static get _isSVGFittingCanvas(){const g='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',ot=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),ut=new Image;ut.src=g;const ct=ut.decode().then(()=>(ot.drawImage(ut,0,0,1,1,0,0,1,3),new Uint32Array(ot.getImageData(0,0,1,1).data.buffer)[0]===0));return shadow(this,"_isSVGFittingCanvas",ct)}async getFromFile(g){const{lastModified:it,name:ot,size:ut,type:ct}=g;return vr(this,Mm,E1).call(this,`${it}_${ot}_${ut}_${ct}`,g)}async getFromUrl(g){return vr(this,Mm,E1).call(this,g,g)}async getFromBlob(g,it){const ot=await it;return vr(this,Mm,E1).call(this,g,ot)}async getFromId(g){Ft(this,Un)||ur(this,Un,new Map);const it=Ft(this,Un).get(g);if(!it)return null;if(it.bitmap)return it.refCounter+=1,it;if(it.file)return this.getFromFile(it.file);if(it.blobPromise){const{blobPromise:ot}=it;return delete it.blobPromise,this.getFromBlob(it.id,ot)}return this.getFromUrl(it.url)}getFromCanvas(g,it){Ft(this,Un)||ur(this,Un,new Map);let ot=Ft(this,Un).get(g);if(ot!=null&&ot.bitmap)return ot.refCounter+=1,ot;const ut=new OffscreenCanvas(it.width,it.height);return ut.getContext("2d").drawImage(it,0,0),ot={bitmap:ut.transferToImageBitmap(),id:`image_${Ft(this,Rm)}_${Sn(this,Y0)._++}`,refCounter:1,isSvg:!1},Ft(this,Un).set(g,ot),Ft(this,Un).set(ot.id,ot),ot}getSvgUrl(g){const it=Ft(this,Un).get(g);return it!=null&&it.isSvg?it.svgUrl:null}deleteId(g){var ut;Ft(this,Un)||ur(this,Un,new Map);const it=Ft(this,Un).get(g);if(!it||(it.refCounter-=1,it.refCounter!==0))return;const{bitmap:ot}=it;if(!it.url&&!it.file){const ct=new OffscreenCanvas(ot.width,ot.height);ct.getContext("bitmaprenderer").transferFromImageBitmap(ot),it.blobPromise=ct.convertToBlob()}(ut=ot.close)==null||ut.call(ot),it.bitmap=null}isValidId(g){return g.startsWith(`image_${Ft(this,Rm)}_`)}};Rm=new WeakMap,Y0=new WeakMap,Un=new WeakMap,Mm=new WeakSet,E1=async function(g,it){Ft(this,Un)||ur(this,Un,new Map);let ot=Ft(this,Un).get(g);if(ot===null)return null;if(ot!=null&&ot.bitmap)return ot.refCounter+=1,ot;try{ot||(ot={bitmap:null,id:`image_${Ft(this,Rm)}_${Sn(this,Y0)._++}`,refCounter:0,isSvg:!1});let ut;if(typeof it=="string"?(ot.url=it,ut=await fetchData(it,"blob")):it instanceof File?ut=ot.file=it:it instanceof Blob&&(ut=it),ut.type==="image/svg+xml"){const ct=qS._isSVGFittingCanvas,dt=new FileReader,ft=new Image,St=new Promise((Tt,kt)=>{ft.onload=()=>{ot.bitmap=ft,ot.isSvg=!0,Tt()},dt.onload=async()=>{const jt=ot.svgUrl=dt.result;ft.src=await ct?`${jt}#svgView(preserveAspectRatio(none))`:jt},ft.onerror=dt.onerror=kt});dt.readAsDataURL(ut),await St}else ot.bitmap=await createImageBitmap(ut);ot.refCounter=1}catch(ut){warn(ut),ot=null}return Ft(this,Un).set(g,ot),ot&&Ft(this,Un).set(ot.id,ot),ot};let ImageManager=qS;var bn,Vl,Z0,gn;class CommandManager{constructor(g=128){sr(this,bn,[]);sr(this,Vl,!1);sr(this,Z0,void 0);sr(this,gn,-1);ur(this,Z0,g)}add({cmd:g,undo:it,post:ot,mustExec:ut,type:ct=NaN,overwriteIfSameType:dt=!1,keepUndo:ft=!1}){if(ut&&g(),Ft(this,Vl))return;const St={cmd:g,undo:it,post:ot,type:ct};if(Ft(this,gn)===-1){Ft(this,bn).length>0&&(Ft(this,bn).length=0),ur(this,gn,0),Ft(this,bn).push(St);return}if(dt&&Ft(this,bn)[Ft(this,gn)].type===ct){ft&&(St.undo=Ft(this,bn)[Ft(this,gn)].undo),Ft(this,bn)[Ft(this,gn)]=St;return}const Tt=Ft(this,gn)+1;Tt===Ft(this,Z0)?Ft(this,bn).splice(0,1):(ur(this,gn,Tt),Tt<Ft(this,bn).length&&Ft(this,bn).splice(Tt)),Ft(this,bn).push(St)}undo(){if(Ft(this,gn)===-1)return;ur(this,Vl,!0);const{undo:g,post:it}=Ft(this,bn)[Ft(this,gn)];g(),it==null||it(),ur(this,Vl,!1),ur(this,gn,Ft(this,gn)-1)}redo(){if(Ft(this,gn)<Ft(this,bn).length-1){ur(this,gn,Ft(this,gn)+1),ur(this,Vl,!0);const{cmd:g,post:it}=Ft(this,bn)[Ft(this,gn)];g(),it==null||it(),ur(this,Vl,!1)}}hasSomethingToUndo(){return Ft(this,gn)!==-1}hasSomethingToRedo(){return Ft(this,gn)<Ft(this,bn).length-1}cleanType(g){if(Ft(this,gn)!==-1){for(let it=Ft(this,gn);it>=0;it--)if(Ft(this,bn)[it].type!==g){Ft(this,bn).splice(it+1,Ft(this,gn)-it),ur(this,gn,it);return}Ft(this,bn).length=0,ur(this,gn,-1)}}destroy(){ur(this,bn,null)}}bn=new WeakMap,Vl=new WeakMap,Z0=new WeakMap,gn=new WeakMap;var nE,iA;class KeyboardManager{constructor(g){sr(this,nE);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:it}=util_FeatureTest.platform;for(const[ot,ut,ct={}]of g)for(const dt of ot){const ft=dt.startsWith("mac+");it&&ft?(this.callbacks.set(dt.slice(4),{callback:ut,options:ct}),this.allKeys.add(dt.split("+").at(-1))):!it&&!ft&&(this.callbacks.set(dt,{callback:ut,options:ct}),this.allKeys.add(dt.split("+").at(-1)))}}exec(g,it){if(!this.allKeys.has(it.key))return;const ot=this.callbacks.get(vr(this,nE,iA).call(this,it));if(!ot)return;const{callback:ut,options:{bubbles:ct=!1,args:dt=[],checker:ft=null}}=ot;ft&&!ft(g,it)||(ut.bind(g,...dt,it)(),ct||stopEvent(it))}}nE=new WeakSet,iA=function(g){g.altKey&&this.buffer.push("alt"),g.ctrlKey&&this.buffer.push("ctrl"),g.metaKey&&this.buffer.push("meta"),g.shiftKey&&this.buffer.push("shift"),this.buffer.push(g.key);const it=this.buffer.join("+");return this.buffer.length=0,it};const iE=class iE{get _colors(){const g=new Map([["CanvasText",null],["Canvas",null]]);return getColorValues(g),shadow(this,"_colors",g)}convert(g){const it=getRGB(g);if(!window.matchMedia("(forced-colors: active)").matches)return it;for(const[ot,ut]of this._colors)if(ut.every((ct,dt)=>ct===it[dt]))return iE._colorsMapping.get(ot);return it}getHexCode(g){const it=this._colors.get(g);return it?Util.makeHexColor(...it):g}};Nr(iE,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let ColorManager=iE;var jm,ls,Dm,yn,_n,Lm,Ps,Nm,Cs,Hn,Ul,Hl,Om,zl,to,Rs,qu,Q0,J0,Im,ev,oo,Gl,Fm,Wl,uo,sE,Kl,$m,tv,Xl,Wu,Bm,Yl,rv,wn,Jr,Fo,Zl,Ql,nv,Vm,iv,Jl,co,$o,sv,ov,Ms,Um,w1,av,Gw,oE,sA,aE,oA,Ku,T0,lE,aA,uE,lA,cE,uA,lv,qw,hE,cA,uv,Ww,cv,Kw,dE,hA,Nn,Xn,Bs,Do,fE,dA,pE,fA,hv,Xw,mE,pA,Xu,k0,dv,Yw;const Sm=class Sm{constructor(g,it,ot,ut,ct,dt,ft,St,Tt,kt,jt,Rt,$t,zt,Ht,Zt){sr(this,Um);sr(this,av);sr(this,oE);sr(this,aE);sr(this,Ku);sr(this,lE);sr(this,uE);sr(this,cE);sr(this,lv);sr(this,hE);sr(this,uv);sr(this,cv);sr(this,dE);sr(this,Nn);sr(this,Bs);sr(this,fE);sr(this,pE);sr(this,hv);sr(this,mE);sr(this,Xu);sr(this,dv);sr(this,jm,new AbortController);sr(this,ls,null);sr(this,Dm,null);sr(this,yn,new Map);sr(this,_n,new Map);sr(this,Lm,null);sr(this,Ps,null);sr(this,Nm,null);sr(this,Cs,new CommandManager);sr(this,Hn,null);sr(this,Ul,null);sr(this,Hl,null);sr(this,Om,0);sr(this,zl,new Set);sr(this,to,null);sr(this,Rs,null);sr(this,qu,new Set);Nr(this,"_editorUndoBar",null);sr(this,Q0,!1);sr(this,J0,!1);sr(this,Im,!1);sr(this,ev,null);sr(this,oo,null);sr(this,Gl,null);sr(this,Fm,null);sr(this,Wl,!1);sr(this,uo,null);sr(this,sE,new IdManager);sr(this,Kl,!1);sr(this,$m,!1);sr(this,tv,!1);sr(this,Xl,null);sr(this,Wu,null);sr(this,Bm,null);sr(this,Yl,null);sr(this,rv,null);sr(this,wn,AnnotationEditorType.NONE);sr(this,Jr,new Set);sr(this,Fo,null);sr(this,Zl,null);sr(this,Ql,null);sr(this,nv,null);sr(this,Vm,null);sr(this,iv,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});sr(this,Jl,[0,0]);sr(this,co,null);sr(this,$o,null);sr(this,sv,null);sr(this,ov,null);sr(this,Ms,null);const Bt=this._signal=Ft(this,jm).signal;ur(this,$o,g),ur(this,sv,it),ur(this,ov,ot),ur(this,Lm,ut),ur(this,Hn,ct),ur(this,Zl,dt),ur(this,Vm,St),this._eventBus=ft,ft._on("editingaction",this.onEditingAction.bind(this),{signal:Bt}),ft._on("pagechanging",this.onPageChanging.bind(this),{signal:Bt}),ft._on("scalechanging",this.onScaleChanging.bind(this),{signal:Bt}),ft._on("rotationchanging",this.onRotationChanging.bind(this),{signal:Bt}),ft._on("setpreference",this.onSetPreference.bind(this),{signal:Bt}),ft._on("switchannotationeditorparams",Ut=>this.updateParams(Ut.type,Ut.value),{signal:Bt}),window.addEventListener("pointerdown",()=>{ur(this,$m,!0)},{capture:!0,signal:Bt}),window.addEventListener("pointerup",()=>{ur(this,$m,!1)},{capture:!0,signal:Bt}),vr(this,lE,aA).call(this),vr(this,dE,hA).call(this),vr(this,lv,qw).call(this),ur(this,Ps,St.annotationStorage),ur(this,ev,St.filterFactory),ur(this,Ql,Tt),ur(this,Fm,kt||null),ur(this,Q0,jt),ur(this,J0,Rt),ur(this,Im,$t),ur(this,rv,zt||null),this.viewParameters={realScale:PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=Ht||null,this._supportsPinchToZoom=Zt!==!1,ct==null||ct.setSidebarUiManager(this)}static get _keyboardManager(){const g=Sm.prototype,it=dt=>Ft(dt,$o).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&dt.hasSomethingToControl(),ot=(dt,{target:ft})=>{if(ft instanceof HTMLInputElement){const{type:St}=ft;return St!=="text"&&St!=="number"}return!0},ut=this.TRANSLATE_SMALL,ct=this.TRANSLATE_BIG;return shadow(this,"_keyboardManager",new KeyboardManager([[["ctrl+a","mac+meta+a"],g.selectAll,{checker:ot}],[["ctrl+z","mac+meta+z"],g.undo,{checker:ot}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],g.redo,{checker:ot}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],g.delete,{checker:ot}],[["Enter","mac+Enter"],g.addNewEditorFromKeyboard,{checker:(dt,{target:ft})=>!(ft instanceof HTMLButtonElement)&&Ft(dt,$o).contains(ft)&&!dt.isEnterHandled}],[[" ","mac+ "],g.addNewEditorFromKeyboard,{checker:(dt,{target:ft})=>!(ft instanceof HTMLButtonElement)&&Ft(dt,$o).contains(document.activeElement)}],[["Escape","mac+Escape"],g.unselectAll],[["ArrowLeft","mac+ArrowLeft"],g.translateSelectedEditors,{args:[-ut,0],checker:it}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],g.translateSelectedEditors,{args:[-ct,0],checker:it}],[["ArrowRight","mac+ArrowRight"],g.translateSelectedEditors,{args:[ut,0],checker:it}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],g.translateSelectedEditors,{args:[ct,0],checker:it}],[["ArrowUp","mac+ArrowUp"],g.translateSelectedEditors,{args:[0,-ut],checker:it}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],g.translateSelectedEditors,{args:[0,-ct],checker:it}],[["ArrowDown","mac+ArrowDown"],g.translateSelectedEditors,{args:[0,ut],checker:it}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],g.translateSelectedEditors,{args:[0,ct],checker:it}]]))}destroy(){var g,it,ot,ut,ct,dt,ft,St,Tt;(g=Ft(this,Ms))==null||g.resolve(),ur(this,Ms,null),(it=Ft(this,jm))==null||it.abort(),ur(this,jm,null),this._signal=null;for(const kt of Ft(this,_n).values())kt.destroy();Ft(this,_n).clear(),Ft(this,yn).clear(),Ft(this,qu).clear(),(ot=Ft(this,Yl))==null||ot.clear(),ur(this,ls,null),Ft(this,Jr).clear(),Ft(this,Cs).destroy(),(ut=Ft(this,Lm))==null||ut.destroy(),(ct=Ft(this,Hn))==null||ct.destroy(),(dt=Ft(this,Zl))==null||dt.destroy(),(ft=Ft(this,uo))==null||ft.hide(),ur(this,uo,null),(St=Ft(this,Bm))==null||St.destroy(),ur(this,Bm,null),ur(this,Dm,null),Ft(this,oo)&&(clearTimeout(Ft(this,oo)),ur(this,oo,null)),Ft(this,co)&&(clearTimeout(Ft(this,co)),ur(this,co,null)),(Tt=this._editorUndoBar)==null||Tt.destroy(),ur(this,Vm,null)}combinedSignal(g){return AbortSignal.any([this._signal,g.signal])}get mlManager(){return Ft(this,rv)}get useNewAltTextFlow(){return Ft(this,J0)}get useNewAltTextWhenAddingImage(){return Ft(this,Im)}get hcmFilter(){return shadow(this,"hcmFilter",Ft(this,Ql)?Ft(this,ev).addHCMFilter(Ft(this,Ql).foreground,Ft(this,Ql).background):"none")}get direction(){return shadow(this,"direction",getComputedStyle(Ft(this,$o)).direction)}get _highlightColors(){return shadow(this,"_highlightColors",Ft(this,Fm)?new Map(Ft(this,Fm).split(",").map(g=>(g=g.split("=").map(it=>it.trim()),g[1]=g[1].toUpperCase(),g))):null)}get highlightColors(){const{_highlightColors:g}=this;if(!g)return shadow(this,"highlightColors",null);const it=new Map,ot=!!Ft(this,Ql);for(const[ut,ct]of g){const dt=ut.endsWith("_HCM");if(ot&&dt){it.set(ut.replace("_HCM",""),ct);continue}!ot&&!dt&&it.set(ut,ct)}return shadow(this,"highlightColors",it)}get highlightColorNames(){return shadow(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,g=>g.reverse())):null)}getNonHCMColor(g){if(!this._highlightColors)return g;const it=this.highlightColorNames.get(g);return this._highlightColors.get(it)||g}getNonHCMColorName(g){return this.highlightColorNames.get(g)||g}setCurrentDrawingSession(g){g?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),ur(this,Hl,g)}setMainHighlightColorPicker(g){ur(this,Bm,g)}editAltText(g,it=!1){var ot;(ot=Ft(this,Lm))==null||ot.editAltText(this,g,it)}hasCommentManager(){return!!Ft(this,Hn)}editComment(g,it,ot,ut){var ct;(ct=Ft(this,Hn))==null||ct.showDialog(this,g,it,ot,ut)}selectComment(g,it){const ot=Ft(this,_n).get(g),ut=ot==null?void 0:ot.getEditorByUID(it);ut==null||ut.toggleComment(!0,!0)}updateComment(g){var it;(it=Ft(this,Hn))==null||it.updateComment(g.getData())}updatePopupColor(g){var it;(it=Ft(this,Hn))==null||it.updatePopupColor(g)}removeComment(g){var it;(it=Ft(this,Hn))==null||it.removeComments([g.uid])}toggleComment(g,it,ot=void 0){var ut;(ut=Ft(this,Hn))==null||ut.toggleCommentPopup(g,it,ot)}makeCommentColor(g,it){var ot;return g&&((ot=Ft(this,Hn))==null?void 0:ot.makeCommentColor(g,it))||null}getCommentDialogElement(){var g;return((g=Ft(this,Hn))==null?void 0:g.dialogElement)||null}async waitForEditorsRendered(g){if(Ft(this,_n).has(g-1))return;const{resolve:it,promise:ot}=Promise.withResolvers(),ut=ct=>{ct.pageNumber===g&&(this._eventBus._off("editorsrendered",ut),it())};this._eventBus.on("editorsrendered",ut),await ot}getSignature(g){var it;(it=Ft(this,Zl))==null||it.getSignature({uiManager:this,editor:g})}get signatureManager(){return Ft(this,Zl)}switchToMode(g,it){this._eventBus.on("annotationeditormodechanged",it,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:g})}setPreference(g,it){this._eventBus.dispatch("setpreference",{source:this,name:g,value:it})}onSetPreference({name:g,value:it}){switch(g){case"enableNewAltTextWhenAddingImage":ur(this,Im,it);break}}onPageChanging({pageNumber:g}){ur(this,Om,g-1)}focusMainContainer(){Ft(this,$o).focus()}findParent(g,it){for(const ot of Ft(this,_n).values()){const{x:ut,y:ct,width:dt,height:ft}=ot.div.getBoundingClientRect();if(g>=ut&&g<=ut+dt&&it>=ct&&it<=ct+ft)return ot}return null}disableUserSelect(g=!1){Ft(this,sv).classList.toggle("noUserSelect",g)}addShouldRescale(g){Ft(this,qu).add(g)}removeShouldRescale(g){Ft(this,qu).delete(g)}onScaleChanging({scale:g}){var it;this.commitOrRemove(),this.viewParameters.realScale=g*PixelsPerInch.PDF_TO_CSS_UNITS;for(const ot of Ft(this,qu))ot.onScaleChanging();(it=Ft(this,Hl))==null||it.onScaleChanging()}onRotationChanging({pagesRotation:g}){this.commitOrRemove(),this.viewParameters.rotation=g}highlightSelection(g="",it=!1){const ot=document.getSelection();if(!ot||ot.isCollapsed)return;const{anchorNode:ut,anchorOffset:ct,focusNode:dt,focusOffset:ft}=ot,St=ot.toString(),kt=vr(this,Um,w1).call(this,ot).closest(".textLayer"),jt=this.getSelectionBoxes(kt);if(!jt)return;ot.empty();const Rt=vr(this,av,Gw).call(this,kt),$t=Ft(this,wn)===AnnotationEditorType.NONE,zt=()=>{const Ht=Rt==null?void 0:Rt.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:g,boxes:jt,anchorNode:ut,anchorOffset:ct,focusNode:dt,focusOffset:ft,text:St});$t&&this.showAllEditors("highlight",!0,!0),it&&(Ht==null||Ht.editComment())};if($t){this.switchToMode(AnnotationEditorType.HIGHLIGHT,zt);return}zt()}commentSelection(g=""){this.highlightSelection(g,!0)}getAndRemoveDataFromAnnotationStorage(g){if(!Ft(this,Ps))return null;const it=`${AnnotationEditorPrefix}${g}`,ot=Ft(this,Ps).getRawValue(it);return ot&&Ft(this,Ps).remove(it),ot}addToAnnotationStorage(g){!g.isEmpty()&&Ft(this,Ps)&&!Ft(this,Ps).has(g.id)&&Ft(this,Ps).setValue(g.id,g)}a11yAlert(g,it=null){const ot=Ft(this,ov);ot&&(ot.setAttribute("data-l10n-id",g),it?ot.setAttribute("data-l10n-args",JSON.stringify(it)):ot.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,Ft(this,Wl)&&(ur(this,Wl,!1),vr(this,Ku,T0).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:g}=document;for(const it of Ft(this,Jr))if(it.div.contains(g)){ur(this,Wu,[it,g]),it._focusEventsAllowed=!1;break}}focus(){if(!Ft(this,Wu))return;const[g,it]=Ft(this,Wu);ur(this,Wu,null),it.addEventListener("focusin",()=>{g._focusEventsAllowed=!0},{once:!0,signal:this._signal}),it.focus()}addEditListeners(){vr(this,lv,qw).call(this),vr(this,uv,Ww).call(this)}removeEditListeners(){vr(this,hE,cA).call(this),vr(this,cv,Kw).call(this)}dragOver(g){for(const{type:it}of g.dataTransfer.items)for(const ot of Ft(this,Rs))if(ot.isHandlingMimeForPasting(it)){g.dataTransfer.dropEffect="copy",g.preventDefault();return}}drop(g){for(const it of g.dataTransfer.items)for(const ot of Ft(this,Rs))if(ot.isHandlingMimeForPasting(it.type)){ot.paste(it,this.currentLayer),g.preventDefault();return}}copy(g){var ot;if(g.preventDefault(),(ot=Ft(this,ls))==null||ot.commitOrRemove(),!this.hasSelection)return;const it=[];for(const ut of Ft(this,Jr)){const ct=ut.serialize(!0);ct&&it.push(ct)}it.length!==0&&g.clipboardData.setData("application/pdfjs",JSON.stringify(it))}cut(g){this.copy(g),this.delete()}async paste(g){g.preventDefault();const{clipboardData:it}=g;for(const ct of it.items)for(const dt of Ft(this,Rs))if(dt.isHandlingMimeForPasting(ct.type)){dt.paste(ct,this.currentLayer);return}let ot=it.getData("application/pdfjs");if(!ot)return;try{ot=JSON.parse(ot)}catch(ct){warn(`paste: "${ct.message}".`);return}if(!Array.isArray(ot))return;this.unselectAll();const ut=this.currentLayer;try{const ct=[];for(const St of ot){const Tt=await ut.deserialize(St);if(!Tt)return;ct.push(Tt)}const dt=()=>{for(const St of ct)vr(this,hv,Xw).call(this,St);vr(this,dv,Yw).call(this,ct)},ft=()=>{for(const St of ct)St.remove()};this.addCommands({cmd:dt,undo:ft,mustExec:!0})}catch(ct){warn(`paste: "${ct.message}".`)}}keydown(g){!this.isShiftKeyDown&&g.key==="Shift"&&(this.isShiftKeyDown=!0),Ft(this,wn)!==AnnotationEditorType.NONE&&!this.isEditorHandlingKeyboard&&Sm._keyboardManager.exec(this,g)}keyup(g){this.isShiftKeyDown&&g.key==="Shift"&&(this.isShiftKeyDown=!1,Ft(this,Wl)&&(ur(this,Wl,!1),vr(this,Ku,T0).call(this,"main_toolbar")))}onEditingAction({name:g}){switch(g){case"undo":case"redo":case"delete":case"selectAll":this[g]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}setEditingState(g){g?(vr(this,uE,lA).call(this),vr(this,uv,Ww).call(this),vr(this,Nn,Xn).call(this,{isEditing:Ft(this,wn)!==AnnotationEditorType.NONE,isEmpty:vr(this,Xu,k0).call(this),hasSomethingToUndo:Ft(this,Cs).hasSomethingToUndo(),hasSomethingToRedo:Ft(this,Cs).hasSomethingToRedo(),hasSelectedEditor:!1})):(vr(this,cE,uA).call(this),vr(this,cv,Kw).call(this),vr(this,Nn,Xn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(g){if(!Ft(this,Rs)){ur(this,Rs,g);for(const it of Ft(this,Rs))vr(this,Bs,Do).call(this,it.defaultPropertiesToUpdate)}}getId(){return Ft(this,sE).id}get currentLayer(){return Ft(this,_n).get(Ft(this,Om))}getLayer(g){return Ft(this,_n).get(g)}get currentPageIndex(){return Ft(this,Om)}addLayer(g){Ft(this,_n).set(g.pageIndex,g),Ft(this,Kl)?g.enable():g.disable()}removeLayer(g){Ft(this,_n).delete(g.pageIndex)}async updateMode(g,it=null,ot=!1,ut=!1,ct=!1){var dt,ft,St,Tt,kt,jt;if(Ft(this,wn)!==g&&!(Ft(this,Ms)&&(await Ft(this,Ms).promise,!Ft(this,Ms)))){if(ur(this,Ms,Promise.withResolvers()),(dt=Ft(this,Hl))==null||dt.commitOrRemove(),Ft(this,wn)===AnnotationEditorType.POPUP&&((ft=Ft(this,Hn))==null||ft.hideSidebar()),(St=Ft(this,Hn))==null||St.destroyPopup(),ur(this,wn,g),g===AnnotationEditorType.NONE){this.setEditingState(!1),vr(this,pE,fA).call(this);for(const Rt of Ft(this,yn).values())Rt.hideStandaloneCommentButton();(Tt=this._editorUndoBar)==null||Tt.hide(),this.toggleComment(null),Ft(this,Ms).resolve();return}for(const Rt of Ft(this,yn).values())Rt.addStandaloneCommentButton();g===AnnotationEditorType.SIGNATURE&&await((kt=Ft(this,Zl))==null?void 0:kt.loadSignatures()),this.setEditingState(!0),await vr(this,fE,dA).call(this),this.unselectAll();for(const Rt of Ft(this,_n).values())Rt.updateMode(g);if(g===AnnotationEditorType.POPUP){Ft(this,Dm)||ur(this,Dm,await Ft(this,Vm).getAnnotationsByType(new Set(Ft(this,Rs).map(zt=>zt._editorType))));const Rt=new Set,$t=[];for(const zt of Ft(this,yn).values()){const{annotationElementId:Ht,hasComment:Zt,deleted:Bt}=zt;Ht&&Rt.add(Ht),Zt&&!Bt&&$t.push(zt.getData())}for(const zt of Ft(this,Dm)){const{id:Ht,popupRef:Zt,contentsObj:Bt}=zt;Zt&&(Bt!=null&&Bt.str)&&!Rt.has(Ht)&&!Ft(this,zl).has(Ht)&&$t.push(zt)}(jt=Ft(this,Hn))==null||jt.showSidebar($t)}if(!it){ot&&this.addNewEditorFromKeyboard(),Ft(this,Ms).resolve();return}for(const Rt of Ft(this,yn).values())Rt.uid===it?(this.setSelected(Rt),ct?Rt.editComment():ut?Rt.enterInEditMode():Rt.focus()):Rt.unselect();Ft(this,Ms).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(g){g.mode!==Ft(this,wn)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...g})}updateParams(g,it){if(Ft(this,Rs)){switch(g){case AnnotationEditorParamsType.CREATE:this.currentLayer.addNewEditor(it);return;case AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(Ft(this,nv)||ur(this,nv,new Map)).set(g,it),this.showAllEditors("highlight",it);break}if(this.hasSelection)for(const ot of Ft(this,Jr))ot.updateParams(g,it);else for(const ot of Ft(this,Rs))ot.updateDefaultParams(g,it)}}showAllEditors(g,it,ot=!1){var ct;for(const dt of Ft(this,yn).values())dt.editorType===g&&dt.show(it);(((ct=Ft(this,nv))==null?void 0:ct.get(AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL))??!0)!==it&&vr(this,Bs,Do).call(this,[[AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL,it]])}enableWaiting(g=!1){if(Ft(this,tv)!==g){ur(this,tv,g);for(const it of Ft(this,_n).values())g?it.disableClick():it.enableClick(),it.div.classList.toggle("waiting",g)}}*getEditors(g){for(const it of Ft(this,yn).values())it.pageIndex===g&&(yield it)}getEditor(g){return Ft(this,yn).get(g)}addEditor(g){Ft(this,yn).set(g.id,g)}removeEditor(g){var it,ot;g.div.contains(document.activeElement)&&(Ft(this,oo)&&clearTimeout(Ft(this,oo)),ur(this,oo,setTimeout(()=>{this.focusMainContainer(),ur(this,oo,null)},0))),Ft(this,yn).delete(g.id),g.annotationElementId&&((it=Ft(this,Yl))==null||it.delete(g.annotationElementId)),this.unselect(g),(!g.annotationElementId||!Ft(this,zl).has(g.annotationElementId))&&((ot=Ft(this,Ps))==null||ot.remove(g.id))}addDeletedAnnotationElement(g){Ft(this,zl).add(g.annotationElementId),this.addChangedExistingAnnotation(g),g.deleted=!0}isDeletedAnnotationElement(g){return Ft(this,zl).has(g)}removeDeletedAnnotationElement(g){Ft(this,zl).delete(g.annotationElementId),this.removeChangedExistingAnnotation(g),g.deleted=!1}setActiveEditor(g){Ft(this,ls)!==g&&(ur(this,ls,g),g&&vr(this,Bs,Do).call(this,g.propertiesToUpdate))}updateUI(g){Ft(this,mE,pA)===g&&vr(this,Bs,Do).call(this,g.propertiesToUpdate)}updateUIForDefaultProperties(g){vr(this,Bs,Do).call(this,g.defaultPropertiesToUpdate)}toggleSelected(g){if(Ft(this,Jr).has(g)){Ft(this,Jr).delete(g),g.unselect(),vr(this,Nn,Xn).call(this,{hasSelectedEditor:this.hasSelection});return}Ft(this,Jr).add(g),g.select(),vr(this,Bs,Do).call(this,g.propertiesToUpdate),vr(this,Nn,Xn).call(this,{hasSelectedEditor:!0})}setSelected(g){var it;this.updateToolbar({mode:g.mode,editId:g.id}),(it=Ft(this,Hl))==null||it.commitOrRemove();for(const ot of Ft(this,Jr))ot!==g&&ot.unselect();Ft(this,Jr).clear(),Ft(this,Jr).add(g),g.select(),vr(this,Bs,Do).call(this,g.propertiesToUpdate),vr(this,Nn,Xn).call(this,{hasSelectedEditor:!0})}isSelected(g){return Ft(this,Jr).has(g)}get firstSelectedEditor(){return Ft(this,Jr).values().next().value}unselect(g){g.unselect(),Ft(this,Jr).delete(g),vr(this,Nn,Xn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return Ft(this,Jr).size!==0}get isEnterHandled(){return Ft(this,Jr).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var g;Ft(this,Cs).undo(),vr(this,Nn,Xn).call(this,{hasSomethingToUndo:Ft(this,Cs).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:vr(this,Xu,k0).call(this)}),(g=this._editorUndoBar)==null||g.hide()}redo(){Ft(this,Cs).redo(),vr(this,Nn,Xn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:Ft(this,Cs).hasSomethingToRedo(),isEmpty:vr(this,Xu,k0).call(this)})}addCommands(g){Ft(this,Cs).add(g),vr(this,Nn,Xn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:vr(this,Xu,k0).call(this)})}cleanUndoStack(g){Ft(this,Cs).cleanType(g)}delete(){var ct;this.commitOrRemove();const g=(ct=this.currentLayer)==null?void 0:ct.endDrawingSession(!0);if(!this.hasSelection&&!g)return;const it=g?[g]:[...Ft(this,Jr)],ot=()=>{var dt;(dt=this._editorUndoBar)==null||dt.show(ut,it.length===1?it[0].editorType:it.length);for(const ft of it)ft.remove()},ut=()=>{for(const dt of it)vr(this,hv,Xw).call(this,dt)};this.addCommands({cmd:ot,undo:ut,mustExec:!0})}commitOrRemove(){var g;(g=Ft(this,ls))==null||g.commitOrRemove()}hasSomethingToControl(){return Ft(this,ls)||this.hasSelection}selectAll(){for(const g of Ft(this,Jr))g.commit();vr(this,dv,Yw).call(this,Ft(this,yn).values())}unselectAll(){var g;if(!(Ft(this,ls)&&(Ft(this,ls).commitOrRemove(),Ft(this,wn)!==AnnotationEditorType.NONE))&&!((g=Ft(this,Hl))!=null&&g.commitOrRemove())&&this.hasSelection){for(const it of Ft(this,Jr))it.unselect();Ft(this,Jr).clear(),vr(this,Nn,Xn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(g,it,ot=!1){if(ot||this.commitOrRemove(),!this.hasSelection)return;Ft(this,Jl)[0]+=g,Ft(this,Jl)[1]+=it;const[ut,ct]=Ft(this,Jl),dt=[...Ft(this,Jr)],ft=1e3;Ft(this,co)&&clearTimeout(Ft(this,co)),ur(this,co,setTimeout(()=>{ur(this,co,null),Ft(this,Jl)[0]=Ft(this,Jl)[1]=0,this.addCommands({cmd:()=>{for(const St of dt)Ft(this,yn).has(St.id)&&(St.translateInPage(ut,ct),St.translationDone())},undo:()=>{for(const St of dt)Ft(this,yn).has(St.id)&&(St.translateInPage(-ut,-ct),St.translationDone())},mustExec:!1})},ft));for(const St of dt)St.translateInPage(g,it),St.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),ur(this,to,new Map);for(const g of Ft(this,Jr))Ft(this,to).set(g,{savedX:g.x,savedY:g.y,savedPageIndex:g.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!Ft(this,to))return!1;this.disableUserSelect(!1);const g=Ft(this,to);ur(this,to,null);let it=!1;for(const[{x:ut,y:ct,pageIndex:dt},ft]of g)ft.newX=ut,ft.newY=ct,ft.newPageIndex=dt,it||(it=ut!==ft.savedX||ct!==ft.savedY||dt!==ft.savedPageIndex);if(!it)return!1;const ot=(ut,ct,dt,ft)=>{if(Ft(this,yn).has(ut.id)){const St=Ft(this,_n).get(ft);St?ut._setParentAndPosition(St,ct,dt):(ut.pageIndex=ft,ut.x=ct,ut.y=dt)}};return this.addCommands({cmd:()=>{for(const[ut,{newX:ct,newY:dt,newPageIndex:ft}]of g)ot(ut,ct,dt,ft)},undo:()=>{for(const[ut,{savedX:ct,savedY:dt,savedPageIndex:ft}]of g)ot(ut,ct,dt,ft)},mustExec:!0}),!0}dragSelectedEditors(g,it){if(Ft(this,to))for(const ot of Ft(this,to).keys())ot.drag(g,it)}rebuild(g){if(g.parent===null){const it=this.getLayer(g.pageIndex);it?(it.changeParent(g),it.addOrRebuild(g)):(this.addEditor(g),this.addToAnnotationStorage(g),g.rebuild())}else g.parent.addOrRebuild(g)}get isEditorHandlingKeyboard(){var g;return((g=this.getActive())==null?void 0:g.shouldGetKeyboardEvents())||Ft(this,Jr).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(g){return Ft(this,ls)===g}getActive(){return Ft(this,ls)}getMode(){return Ft(this,wn)}isEditingMode(){return Ft(this,wn)!==AnnotationEditorType.NONE}get imageManager(){return shadow(this,"imageManager",new ImageManager)}getSelectionBoxes(g){if(!g)return null;const it=document.getSelection();for(let Tt=0,kt=it.rangeCount;Tt<kt;Tt++)if(!g.contains(it.getRangeAt(Tt).commonAncestorContainer))return null;const{x:ot,y:ut,width:ct,height:dt}=g.getBoundingClientRect();let ft;switch(g.getAttribute("data-main-rotation")){case"90":ft=(Tt,kt,jt,Rt)=>({x:(kt-ut)/dt,y:1-(Tt+jt-ot)/ct,width:Rt/dt,height:jt/ct});break;case"180":ft=(Tt,kt,jt,Rt)=>({x:1-(Tt+jt-ot)/ct,y:1-(kt+Rt-ut)/dt,width:jt/ct,height:Rt/dt});break;case"270":ft=(Tt,kt,jt,Rt)=>({x:1-(kt+Rt-ut)/dt,y:(Tt-ot)/ct,width:Rt/dt,height:jt/ct});break;default:ft=(Tt,kt,jt,Rt)=>({x:(Tt-ot)/ct,y:(kt-ut)/dt,width:jt/ct,height:Rt/dt});break}const St=[];for(let Tt=0,kt=it.rangeCount;Tt<kt;Tt++){const jt=it.getRangeAt(Tt);if(!jt.collapsed)for(const{x:Rt,y:$t,width:zt,height:Ht}of jt.getClientRects())zt===0||Ht===0||St.push(ft(Rt,$t,zt,Ht))}return St.length===0?null:St}addChangedExistingAnnotation({annotationElementId:g,id:it}){(Ft(this,Nm)||ur(this,Nm,new Map)).set(g,it)}removeChangedExistingAnnotation({annotationElementId:g}){var it;(it=Ft(this,Nm))==null||it.delete(g)}renderAnnotationElement(g){var ut;const it=(ut=Ft(this,Nm))==null?void 0:ut.get(g.data.id);if(!it)return;const ot=Ft(this,Ps).getRawValue(it);ot&&(Ft(this,wn)===AnnotationEditorType.NONE&&!ot.hasBeenModified||ot.renderAnnotationElement(g))}setMissingCanvas(g,it,ot){var ct;const ut=(ct=Ft(this,Yl))==null?void 0:ct.get(g);ut&&(ut.setCanvas(it,ot),Ft(this,Yl).delete(g))}addMissingCanvas(g,it){(Ft(this,Yl)||ur(this,Yl,new Map)).set(g,it)}};jm=new WeakMap,ls=new WeakMap,Dm=new WeakMap,yn=new WeakMap,_n=new WeakMap,Lm=new WeakMap,Ps=new WeakMap,Nm=new WeakMap,Cs=new WeakMap,Hn=new WeakMap,Ul=new WeakMap,Hl=new WeakMap,Om=new WeakMap,zl=new WeakMap,to=new WeakMap,Rs=new WeakMap,qu=new WeakMap,Q0=new WeakMap,J0=new WeakMap,Im=new WeakMap,ev=new WeakMap,oo=new WeakMap,Gl=new WeakMap,Fm=new WeakMap,Wl=new WeakMap,uo=new WeakMap,sE=new WeakMap,Kl=new WeakMap,$m=new WeakMap,tv=new WeakMap,Xl=new WeakMap,Wu=new WeakMap,Bm=new WeakMap,Yl=new WeakMap,rv=new WeakMap,wn=new WeakMap,Jr=new WeakMap,Fo=new WeakMap,Zl=new WeakMap,Ql=new WeakMap,nv=new WeakMap,Vm=new WeakMap,iv=new WeakMap,Jl=new WeakMap,co=new WeakMap,$o=new WeakMap,sv=new WeakMap,ov=new WeakMap,Ms=new WeakMap,Um=new WeakSet,w1=function({anchorNode:g}){return g.nodeType===Node.TEXT_NODE?g.parentElement:g},av=new WeakSet,Gw=function(g){const{currentLayer:it}=this;if(it.hasTextLayer(g))return it;for(const ot of Ft(this,_n).values())if(ot.hasTextLayer(g))return ot;return null},oE=new WeakSet,sA=function(){const g=document.getSelection();if(!g||g.isCollapsed)return;const ot=vr(this,Um,w1).call(this,g).closest(".textLayer"),ut=this.getSelectionBoxes(ot);ut&&(Ft(this,uo)||ur(this,uo,new FloatingToolbar(this)),Ft(this,uo).show(ot,ut,this.direction==="ltr"))},aE=new WeakSet,oA=function(){var ct,dt,ft;const g=document.getSelection();if(!g||g.isCollapsed){Ft(this,Fo)&&((ct=Ft(this,uo))==null||ct.hide(),ur(this,Fo,null),vr(this,Nn,Xn).call(this,{hasSelectedText:!1}));return}const{anchorNode:it}=g;if(it===Ft(this,Fo))return;const ut=vr(this,Um,w1).call(this,g).closest(".textLayer");if(!ut){Ft(this,Fo)&&((dt=Ft(this,uo))==null||dt.hide(),ur(this,Fo,null),vr(this,Nn,Xn).call(this,{hasSelectedText:!1}));return}if((ft=Ft(this,uo))==null||ft.hide(),ur(this,Fo,it),vr(this,Nn,Xn).call(this,{hasSelectedText:!0}),!(Ft(this,wn)!==AnnotationEditorType.HIGHLIGHT&&Ft(this,wn)!==AnnotationEditorType.NONE)&&(Ft(this,wn)===AnnotationEditorType.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),ur(this,Wl,this.isShiftKeyDown),!this.isShiftKeyDown)){const St=Ft(this,wn)===AnnotationEditorType.HIGHLIGHT?vr(this,av,Gw).call(this,ut):null;if(St==null||St.toggleDrawing(),Ft(this,$m)){const Tt=new AbortController,kt=this.combinedSignal(Tt),jt=Rt=>{Rt.type==="pointerup"&&Rt.button!==0||(Tt.abort(),St==null||St.toggleDrawing(!0),Rt.type==="pointerup"&&vr(this,Ku,T0).call(this,"main_toolbar"))};window.addEventListener("pointerup",jt,{signal:kt}),window.addEventListener("blur",jt,{signal:kt})}else St==null||St.toggleDrawing(!0),vr(this,Ku,T0).call(this,"main_toolbar")}},Ku=new WeakSet,T0=function(g=""){Ft(this,wn)===AnnotationEditorType.HIGHLIGHT?this.highlightSelection(g):Ft(this,Q0)&&vr(this,oE,sA).call(this)},lE=new WeakSet,aA=function(){document.addEventListener("selectionchange",vr(this,aE,oA).bind(this),{signal:this._signal})},uE=new WeakSet,lA=function(){if(Ft(this,Gl))return;ur(this,Gl,new AbortController);const g=this.combinedSignal(Ft(this,Gl));window.addEventListener("focus",this.focus.bind(this),{signal:g}),window.addEventListener("blur",this.blur.bind(this),{signal:g})},cE=new WeakSet,uA=function(){var g;(g=Ft(this,Gl))==null||g.abort(),ur(this,Gl,null)},lv=new WeakSet,qw=function(){if(Ft(this,Xl))return;ur(this,Xl,new AbortController);const g=this.combinedSignal(Ft(this,Xl));window.addEventListener("keydown",this.keydown.bind(this),{signal:g}),window.addEventListener("keyup",this.keyup.bind(this),{signal:g})},hE=new WeakSet,cA=function(){var g;(g=Ft(this,Xl))==null||g.abort(),ur(this,Xl,null)},uv=new WeakSet,Ww=function(){if(Ft(this,Ul))return;ur(this,Ul,new AbortController);const g=this.combinedSignal(Ft(this,Ul));document.addEventListener("copy",this.copy.bind(this),{signal:g}),document.addEventListener("cut",this.cut.bind(this),{signal:g}),document.addEventListener("paste",this.paste.bind(this),{signal:g})},cv=new WeakSet,Kw=function(){var g;(g=Ft(this,Ul))==null||g.abort(),ur(this,Ul,null)},dE=new WeakSet,hA=function(){const g=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:g}),document.addEventListener("drop",this.drop.bind(this),{signal:g})},Nn=new WeakSet,Xn=function(g){Object.entries(g).some(([ot,ut])=>Ft(this,iv)[ot]!==ut)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(Ft(this,iv),g)}),Ft(this,wn)===AnnotationEditorType.HIGHLIGHT&&g.hasSelectedEditor===!1&&vr(this,Bs,Do).call(this,[[AnnotationEditorParamsType.HIGHLIGHT_FREE,!0]]))},Bs=new WeakSet,Do=function(g){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:g})},fE=new WeakSet,dA=async function(){if(!Ft(this,Kl)){ur(this,Kl,!0);const g=[];for(const it of Ft(this,_n).values())g.push(it.enable());await Promise.all(g);for(const it of Ft(this,yn).values())it.enable()}},pE=new WeakSet,fA=function(){if(this.unselectAll(),Ft(this,Kl)){ur(this,Kl,!1);for(const g of Ft(this,_n).values())g.disable();for(const g of Ft(this,yn).values())g.disable()}},hv=new WeakSet,Xw=function(g){const it=Ft(this,_n).get(g.pageIndex);it?it.addOrRebuild(g):(this.addEditor(g),this.addToAnnotationStorage(g))},mE=new WeakSet,pA=function(){let g=null;for(g of Ft(this,Jr));return g},Xu=new WeakSet,k0=function(){if(Ft(this,yn).size===0)return!0;if(Ft(this,yn).size===1)for(const g of Ft(this,yn).values())return g.isEmpty();return!1},dv=new WeakSet,Yw=function(g){for(const it of Ft(this,Jr))it.unselect();Ft(this,Jr).clear();for(const it of g)it.isEmpty()||(Ft(this,Jr).add(it),it.select());vr(this,Nn,Xn).call(this,{hasSelectedEditor:this.hasSelection})},Nr(Sm,"TRANSLATE_SMALL",1),Nr(Sm,"TRANSLATE_BIG",10);let AnnotationEditorUIManager=Sm;var kn,ho,Vs,Hm,fo,us,zm,po,es,Bo,Yu,mo,eu,Zu,P0,Gm,S1;const Yn=class Yn{constructor(g){sr(this,Zu);sr(this,Gm);sr(this,kn,null);sr(this,ho,!1);sr(this,Vs,null);sr(this,Hm,null);sr(this,fo,null);sr(this,us,null);sr(this,zm,!1);sr(this,po,null);sr(this,es,null);sr(this,Bo,null);sr(this,Yu,null);sr(this,mo,!1);ur(this,es,g),ur(this,mo,g._uiManager.useNewAltTextFlow),Ft(Yn,eu)||ur(Yn,eu,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(g){Yn._l10n??(Yn._l10n=g)}async render(){const g=ur(this,Vs,document.createElement("button"));g.className="altText",g.tabIndex="0";const it=ur(this,Hm,document.createElement("span"));g.append(it),Ft(this,mo)?(g.classList.add("new"),g.setAttribute("data-l10n-id",Ft(Yn,eu).missing),it.setAttribute("data-l10n-id",Ft(Yn,eu)["missing-label"])):(g.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),it.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const ot=Ft(this,es)._uiManager._signal;g.addEventListener("contextmenu",noContextMenu,{signal:ot}),g.addEventListener("pointerdown",ct=>ct.stopPropagation(),{signal:ot});const ut=ct=>{ct.preventDefault(),Ft(this,es)._uiManager.editAltText(Ft(this,es)),Ft(this,mo)&&Ft(this,es)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:Ft(this,Zu,P0)}})};return g.addEventListener("click",ut,{capture:!0,signal:ot}),g.addEventListener("keydown",ct=>{ct.target===g&&ct.key==="Enter"&&(ur(this,zm,!0),ut(ct))},{signal:ot}),await vr(this,Gm,S1).call(this),g}finish(){Ft(this,Vs)&&(Ft(this,Vs).focus({focusVisible:Ft(this,zm)}),ur(this,zm,!1))}isEmpty(){return Ft(this,mo)?Ft(this,kn)===null:!Ft(this,kn)&&!Ft(this,ho)}hasData(){return Ft(this,mo)?Ft(this,kn)!==null||!!Ft(this,Bo):this.isEmpty()}get guessedText(){return Ft(this,Bo)}async setGuessedText(g){Ft(this,kn)===null&&(ur(this,Bo,g),ur(this,Yu,await Yn._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:g})),vr(this,Gm,S1).call(this))}toggleAltTextBadge(g=!1){var it;if(!Ft(this,mo)||Ft(this,kn)){(it=Ft(this,po))==null||it.remove(),ur(this,po,null);return}if(!Ft(this,po)){const ot=ur(this,po,document.createElement("div"));ot.className="noAltTextBadge",Ft(this,es).div.append(ot)}Ft(this,po).classList.toggle("hidden",!g)}serialize(g){let it=Ft(this,kn);return!g&&Ft(this,Bo)===it&&(it=Ft(this,Yu)),{altText:it,decorative:Ft(this,ho),guessedText:Ft(this,Bo),textWithDisclaimer:Ft(this,Yu)}}get data(){return{altText:Ft(this,kn),decorative:Ft(this,ho)}}set data({altText:g,decorative:it,guessedText:ot,textWithDisclaimer:ut,cancel:ct=!1}){ot&&(ur(this,Bo,ot),ur(this,Yu,ut)),!(Ft(this,kn)===g&&Ft(this,ho)===it)&&(ct||(ur(this,kn,g),ur(this,ho,it)),vr(this,Gm,S1).call(this))}toggle(g=!1){Ft(this,Vs)&&(!g&&Ft(this,us)&&(clearTimeout(Ft(this,us)),ur(this,us,null)),Ft(this,Vs).disabled=!g)}shown(){Ft(this,es)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:Ft(this,Zu,P0)}})}destroy(){var g,it;(g=Ft(this,Vs))==null||g.remove(),ur(this,Vs,null),ur(this,Hm,null),ur(this,fo,null),(it=Ft(this,po))==null||it.remove(),ur(this,po,null)}};kn=new WeakMap,ho=new WeakMap,Vs=new WeakMap,Hm=new WeakMap,fo=new WeakMap,us=new WeakMap,zm=new WeakMap,po=new WeakMap,es=new WeakMap,Bo=new WeakMap,Yu=new WeakMap,mo=new WeakMap,eu=new WeakMap,Zu=new WeakSet,P0=function(){return Ft(this,kn)&&"added"||Ft(this,kn)===null&&this.guessedText&&"review"||"missing"},Gm=new WeakSet,S1=async function(){var ut,ct,dt;const g=Ft(this,Vs);if(!g)return;if(Ft(this,mo)){if(g.classList.toggle("done",!!Ft(this,kn)),g.setAttribute("data-l10n-id",Ft(Yn,eu)[Ft(this,Zu,P0)]),(ut=Ft(this,Hm))==null||ut.setAttribute("data-l10n-id",Ft(Yn,eu)[`${Ft(this,Zu,P0)}-label`]),!Ft(this,kn)){(ct=Ft(this,fo))==null||ct.remove();return}}else{if(!Ft(this,kn)&&!Ft(this,ho)){g.classList.remove("done"),(dt=Ft(this,fo))==null||dt.remove();return}g.classList.add("done"),g.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let it=Ft(this,fo);if(!it){ur(this,fo,it=document.createElement("span")),it.className="tooltip",it.setAttribute("role","tooltip"),it.id=`alt-text-tooltip-${Ft(this,es).id}`;const ft=100,St=Ft(this,es)._uiManager._signal;St.addEventListener("abort",()=>{clearTimeout(Ft(this,us)),ur(this,us,null)},{once:!0}),g.addEventListener("mouseenter",()=>{ur(this,us,setTimeout(()=>{ur(this,us,null),Ft(this,fo).classList.add("show"),Ft(this,es)._reportTelemetry({action:"alt_text_tooltip"})},ft))},{signal:St}),g.addEventListener("mouseleave",()=>{var Tt;Ft(this,us)&&(clearTimeout(Ft(this,us)),ur(this,us,null)),(Tt=Ft(this,fo))==null||Tt.classList.remove("show")},{signal:St})}Ft(this,ho)?it.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(it.removeAttribute("data-l10n-id"),it.textContent=Ft(this,kn)),it.parentNode||g.append(it);const ot=Ft(this,es).getElementForAltText();ot==null||ot.setAttribute("aria-describedby",it.id)},sr(Yn,eu,null),Nr(Yn,"_l10n",null);let AltText=Yn;var On,js,Qu,hn,fv,Ju,Us,_c,_h,_d,pv,Zw;class Comment{constructor(g){sr(this,pv);sr(this,On,null);sr(this,js,null);sr(this,Qu,!1);sr(this,hn,null);sr(this,fv,null);sr(this,Ju,null);sr(this,Us,null);sr(this,_c,null);sr(this,_h,!1);sr(this,_d,null);ur(this,hn,g)}renderForToolbar(){const g=ur(this,js,document.createElement("button"));return g.className="comment",vr(this,pv,Zw).call(this,g,!1)}renderForStandalone(){const g=ur(this,On,document.createElement("button"));g.className="annotationCommentButton";const it=Ft(this,hn).commentButtonPosition;if(it){const{style:ot}=g;ot.insetInlineEnd=`calc(${100*(Ft(this,hn)._uiManager.direction==="ltr"?1-it[0]:it[0])}% - var(--comment-button-dim))`,ot.top=`calc(${100*it[1]}% - var(--comment-button-dim))`;const ut=Ft(this,hn).commentButtonColor;ut&&(ot.backgroundColor=ut)}return vr(this,pv,Zw).call(this,g,!0)}focusButton(){setTimeout(()=>{var g;(g=Ft(this,On)??Ft(this,js))==null||g.focus()},0)}onUpdatedColor(){if(!Ft(this,On))return;const g=Ft(this,hn).commentButtonColor;g&&(Ft(this,On).style.backgroundColor=g),Ft(this,hn)._uiManager.updatePopupColor(Ft(this,hn))}get commentButtonWidth(){var g;return(((g=Ft(this,On))==null?void 0:g.getBoundingClientRect().width)??0)/Ft(this,hn).parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(Ft(this,_d))return Ft(this,_d);if(!Ft(this,On))return null;const{x:g,y:it,height:ot}=Ft(this,On).getBoundingClientRect(),{x:ut,y:ct,width:dt,height:ft}=Ft(this,hn).parent.boundingClientRect;return[(g-ut)/dt,(it+ot-ct)/ft]}set commentPopupPositionInLayer(g){ur(this,_d,g)}hasDefaultPopupPosition(){return Ft(this,_d)===null}removeStandaloneCommentButton(){var g;(g=Ft(this,On))==null||g.remove(),ur(this,On,null)}removeToolbarCommentButton(){var g;(g=Ft(this,js))==null||g.remove(),ur(this,js,null)}setCommentButtonStates({selected:g,hasPopup:it}){Ft(this,On)&&(Ft(this,On).classList.toggle("selected",g),Ft(this,On).ariaExpanded=it)}edit(g){const it=this.commentPopupPositionInLayer;let ot,ut;if(it)[ot,ut]=it;else{[ot,ut]=Ft(this,hn).commentButtonPosition;const{width:kt,height:jt,x:Rt,y:$t}=Ft(this,hn);ot=Rt+ot*kt,ut=$t+ut*jt}const ct=Ft(this,hn).parent.boundingClientRect,{x:dt,y:ft,width:St,height:Tt}=ct;Ft(this,hn)._uiManager.editComment(Ft(this,hn),dt+ot*St,ft+ut*Tt,{...g,parentDimensions:ct})}finish(){Ft(this,js)&&(Ft(this,js).focus({focusVisible:Ft(this,Qu)}),ur(this,Qu,!1))}isDeleted(){return Ft(this,_h)||Ft(this,Us)===""}isEmpty(){return Ft(this,Us)===null}hasBeenEdited(){return this.isDeleted()||Ft(this,Us)!==Ft(this,fv)}serialize(){return this.data}get data(){return{text:Ft(this,Us),richText:Ft(this,Ju),date:Ft(this,_c),deleted:this.isDeleted()}}set data(g){if(g!==Ft(this,Us)&&ur(this,Ju,null),g===null){ur(this,Us,""),ur(this,_h,!0);return}ur(this,Us,g),ur(this,_c,new Date),ur(this,_h,!1)}setInitialText(g,it=null){ur(this,fv,g),this.data=g,ur(this,_c,null),ur(this,Ju,it)}shown(){}destroy(){var g,it;(g=Ft(this,js))==null||g.remove(),ur(this,js,null),(it=Ft(this,On))==null||it.remove(),ur(this,On,null),ur(this,Us,""),ur(this,Ju,null),ur(this,_c,null),ur(this,hn,null),ur(this,Qu,!1),ur(this,_h,!1)}}On=new WeakMap,js=new WeakMap,Qu=new WeakMap,hn=new WeakMap,fv=new WeakMap,Ju=new WeakMap,Us=new WeakMap,_c=new WeakMap,_h=new WeakMap,_d=new WeakMap,pv=new WeakSet,Zw=function(g,it){if(!Ft(this,hn)._uiManager.hasCommentManager())return null;g.tabIndex="0",g.ariaHasPopup="dialog",it?(g.ariaControls="commentPopup",g.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(g.ariaControlsElements=[Ft(this,hn)._uiManager.getCommentDialogElement()],g.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button"));const ot=Ft(this,hn)._uiManager._signal;if(!(ot instanceof AbortSignal)||ot.aborted)return g;g.addEventListener("contextmenu",noContextMenu,{signal:ot}),it&&(g.addEventListener("focusin",ct=>{Ft(this,hn)._focusEventsAllowed=!1,stopEvent(ct)},{capture:!0,signal:ot}),g.addEventListener("focusout",ct=>{Ft(this,hn)._focusEventsAllowed=!0,stopEvent(ct)},{capture:!0,signal:ot})),g.addEventListener("pointerdown",ct=>ct.stopPropagation(),{signal:ot});const ut=ct=>{ct.preventDefault(),g===Ft(this,js)?this.edit():Ft(this,hn).toggleComment(!0)};return g.addEventListener("click",ut,{capture:!0,signal:ot}),g.addEventListener("keydown",ct=>{ct.target===g&&ct.key==="Enter"&&(ur(this,Qu,!0),ut(ct))},{signal:ot}),g.addEventListener("pointerenter",()=>{Ft(this,hn).toggleComment(!1,!0)},{signal:ot}),g.addEventListener("pointerleave",()=>{Ft(this,hn).toggleComment(!1,!1)},{signal:ot}),g};var qm,_f,mv,gv,yv,vv,xv,Vo,ep,Uo,tp,Ho,gE,mA,yE,gA,vE,yA;const WS=class WS{constructor({container:g,isPinchingDisabled:it=null,isPinchingStopped:ot=null,onPinchStart:ut=null,onPinching:ct=null,onPinchEnd:dt=null,signal:ft}){sr(this,gE);sr(this,yE);sr(this,vE);sr(this,qm,void 0);sr(this,_f,!1);sr(this,mv,null);sr(this,gv,void 0);sr(this,yv,void 0);sr(this,vv,void 0);sr(this,xv,void 0);sr(this,Vo,null);sr(this,ep,void 0);sr(this,Uo,null);sr(this,tp,void 0);sr(this,Ho,null);ur(this,qm,g),ur(this,mv,ot),ur(this,gv,it),ur(this,yv,ut),ur(this,vv,ct),ur(this,xv,dt),ur(this,tp,new AbortController),ur(this,ep,AbortSignal.any([ft,Ft(this,tp).signal])),g.addEventListener("touchstart",vr(this,gE,mA).bind(this),{passive:!1,signal:Ft(this,ep)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/OutputScale.pixelRatio}destroy(){var g,it;(g=Ft(this,tp))==null||g.abort(),ur(this,tp,null),(it=Ft(this,Vo))==null||it.abort(),ur(this,Vo,null)}};qm=new WeakMap,_f=new WeakMap,mv=new WeakMap,gv=new WeakMap,yv=new WeakMap,vv=new WeakMap,xv=new WeakMap,Vo=new WeakMap,ep=new WeakMap,Uo=new WeakMap,tp=new WeakMap,Ho=new WeakMap,gE=new WeakSet,mA=function(g){var ut,ct,dt;if((ut=Ft(this,gv))!=null&&ut.call(this))return;if(g.touches.length===1){if(Ft(this,Vo))return;const ft=ur(this,Vo,new AbortController),St=AbortSignal.any([Ft(this,ep),ft.signal]),Tt=Ft(this,qm),kt={capture:!0,signal:St,passive:!1},jt=Rt=>{var $t;Rt.pointerType==="touch"&&(($t=Ft(this,Vo))==null||$t.abort(),ur(this,Vo,null))};Tt.addEventListener("pointerdown",Rt=>{Rt.pointerType==="touch"&&(stopEvent(Rt),jt(Rt))},kt),Tt.addEventListener("pointerup",jt,kt),Tt.addEventListener("pointercancel",jt,kt);return}if(!Ft(this,Ho)){ur(this,Ho,new AbortController);const ft=AbortSignal.any([Ft(this,ep),Ft(this,Ho).signal]),St=Ft(this,qm),Tt={signal:ft,capture:!1,passive:!1};St.addEventListener("touchmove",vr(this,yE,gA).bind(this),Tt);const kt=vr(this,vE,yA).bind(this);St.addEventListener("touchend",kt,Tt),St.addEventListener("touchcancel",kt,Tt),Tt.capture=!0,St.addEventListener("pointerdown",stopEvent,Tt),St.addEventListener("pointermove",stopEvent,Tt),St.addEventListener("pointercancel",stopEvent,Tt),St.addEventListener("pointerup",stopEvent,Tt),(ct=Ft(this,yv))==null||ct.call(this)}if(stopEvent(g),g.touches.length!==2||(dt=Ft(this,mv))!=null&&dt.call(this)){ur(this,Uo,null);return}let[it,ot]=g.touches;it.identifier>ot.identifier&&([it,ot]=[ot,it]),ur(this,Uo,{touch0X:it.screenX,touch0Y:it.screenY,touch1X:ot.screenX,touch1Y:ot.screenY})},yE=new WeakSet,gA=function(g){var Yt;if(!Ft(this,Uo)||g.touches.length!==2)return;stopEvent(g);let[it,ot]=g.touches;it.identifier>ot.identifier&&([it,ot]=[ot,it]);const{screenX:ut,screenY:ct}=it,{screenX:dt,screenY:ft}=ot,St=Ft(this,Uo),{touch0X:Tt,touch0Y:kt,touch1X:jt,touch1Y:Rt}=St,$t=jt-Tt,zt=Rt-kt,Ht=dt-ut,Zt=ft-ct,Bt=Math.hypot(Ht,Zt)||1,Ut=Math.hypot($t,zt)||1;if(!Ft(this,_f)&&Math.abs(Ut-Bt)<=WS.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(St.touch0X=ut,St.touch0Y=ct,St.touch1X=dt,St.touch1Y=ft,!Ft(this,_f)){ur(this,_f,!0);return}const Kt=[(ut+dt)/2,(ct+ft)/2];(Yt=Ft(this,vv))==null||Yt.call(this,Kt,Ut,Bt)},vE=new WeakSet,yA=function(g){var it;g.touches.length>=2||(Ft(this,Ho)&&(Ft(this,Ho).abort(),ur(this,Ho,null),(it=Ft(this,xv))==null||it.call(this)),Ft(this,Uo)&&(stopEvent(g),ur(this,Uo,null),ur(this,_f,!1)))};let TouchManager=WS;var rp,Hs,fn,on,zo,Wm,tu,bv,In,np,Go,go,ru,Ev,sp,cs,wv,ap,qo,yo,Km,Xm,Ds,lp,Sv,xE,Av,Qw,_v,Jw,Ym,A1,bE,vA,EE,xA,Tv,eS,Zm,_1,kv,tS,wE,bA,SE,EA,AE,wA,Pv,rS,_E,SA,Cv,nS,TE,AA,kE,_A,PE,TA,Rv,iS,up,C0;const Gr=class Gr{constructor(g){sr(this,Av);sr(this,Ym);sr(this,bE);sr(this,EE);sr(this,Tv);sr(this,Zm);sr(this,kv);sr(this,wE);sr(this,SE);sr(this,AE);sr(this,Pv);sr(this,_E);sr(this,Cv);sr(this,TE);sr(this,kE);sr(this,PE);sr(this,Rv);sr(this,up);sr(this,rp,null);sr(this,Hs,null);sr(this,fn,null);sr(this,on,null);sr(this,zo,null);sr(this,Wm,!1);sr(this,tu,null);sr(this,bv,"");sr(this,In,null);sr(this,np,null);sr(this,Go,null);sr(this,go,null);sr(this,ru,null);sr(this,Ev,"");sr(this,sp,!1);sr(this,cs,null);sr(this,wv,!1);sr(this,ap,!1);sr(this,qo,!1);sr(this,yo,null);sr(this,Km,0);sr(this,Xm,0);sr(this,Ds,null);sr(this,lp,null);Nr(this,"isSelected",!1);Nr(this,"_isCopy",!1);Nr(this,"_editToolbar",null);Nr(this,"_initialOptions",Object.create(null));Nr(this,"_initialData",null);Nr(this,"_isVisible",!0);Nr(this,"_uiManager",null);Nr(this,"_focusEventsAllowed",!0);sr(this,Sv,!1);sr(this,xE,Gr._zIndex++);this.parent=g.parent,this.id=g.id,this.width=this.height=null,this.pageIndex=g.parent.pageIndex,this.name=g.name,this.div=null,this._uiManager=g.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=g.isCentered,this._structTreeParentId=null,this.annotationElementId=g.annotationElementId||null,this.creationDate=g.creationDate||new Date,this.modificationDate=g.modificationDate||null;const{rotation:it,rawDims:{pageWidth:ot,pageHeight:ut,pageX:ct,pageY:dt}}=this.parent.viewport;this.rotation=it,this.pageRotation=(360+it-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[ot,ut],this.pageTranslation=[ct,dt];const[ft,St]=this.parentDimensions;this.x=g.x/ft,this.y=g.y/St,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const g=Gr.prototype._resizeWithKeyboard,it=AnnotationEditorUIManager.TRANSLATE_SMALL,ot=AnnotationEditorUIManager.TRANSLATE_BIG;return shadow(this,"_resizerKeyboardManager",new KeyboardManager([[["ArrowLeft","mac+ArrowLeft"],g,{args:[-it,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],g,{args:[-ot,0]}],[["ArrowRight","mac+ArrowRight"],g,{args:[it,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],g,{args:[ot,0]}],[["ArrowUp","mac+ArrowUp"],g,{args:[0,-it]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],g,{args:[0,-ot]}],[["ArrowDown","mac+ArrowDown"],g,{args:[0,it]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],g,{args:[0,ot]}],[["Escape","mac+Escape"],Gr.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return shadow(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(g){const it=new FakeEditor({id:g.parent.getNextId(),parent:g.parent,uiManager:g._uiManager});it.annotationElementId=g.annotationElementId,it.deleted=!0,it._uiManager.addToAnnotationStorage(it)}static initialize(g,it){if(Gr._l10n??(Gr._l10n=g),Gr._l10nResizer||(Gr._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Gr._borderLineWidth!==-1)return;const ot=getComputedStyle(document.documentElement);Gr._borderLineWidth=parseFloat(ot.getPropertyValue("--outline-width"))||0}static updateDefaultParams(g,it){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(g){return!1}static paste(g,it){unreachable("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return Ft(this,Sv)}set _isDraggable(g){var it;ur(this,Sv,g),(it=this.div)==null||it.classList.toggle("draggable",g)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[g,it]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*it/(g*2),this.y+=this.width*g/(it*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*it/(g*2),this.y-=this.width*g/(it*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(g){this._uiManager.addCommands(g)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=Ft(this,xE)}setParent(g){var it;g!==null?(this.pageIndex=g.pageIndex,this.pageDimensions=g.pageDimensions):(vr(this,up,C0).call(this),(it=Ft(this,go))==null||it.remove(),ur(this,go,null)),this.parent=g}focusin(g){this._focusEventsAllowed&&(Ft(this,sp)?ur(this,sp,!1):this.parent.setSelected(this))}focusout(g){var ot;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const it=g.relatedTarget;it!=null&&it.closest(`#${this.id}`)||(g.preventDefault(),(ot=this.parent)!=null&&ot.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(g,it,ot,ut){const[ct,dt]=this.parentDimensions;[ot,ut]=this.screenToPageTranslation(ot,ut),this.x=(g+ot)/ct,this.y=(it+ut)/dt,this.fixAndSetPosition()}_moveAfterPaste(g,it){const[ot,ut]=this.parentDimensions;this.setAt(g*ot,it*ut,this.width*ot,this.height*ut),this._onTranslated()}translate(g,it){vr(this,Av,Qw).call(this,this.parentDimensions,g,it)}translateInPage(g,it){Ft(this,cs)||ur(this,cs,[this.x,this.y,this.width,this.height]),vr(this,Av,Qw).call(this,this.pageDimensions,g,it),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(g,it){Ft(this,cs)||ur(this,cs,[this.x,this.y,this.width,this.height]);const{div:ot,parentDimensions:[ut,ct]}=this;if(this.x+=g/ut,this.y+=it/ct,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:jt,y:Rt}=this.div.getBoundingClientRect();this.parent.findNewParent(this,jt,Rt)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:dt,y:ft}=this;const[St,Tt]=this.getBaseTranslation();dt+=St,ft+=Tt;const{style:kt}=ot;kt.left=`${(100*dt).toFixed(2)}%`,kt.top=`${(100*ft).toFixed(2)}%`,this._onTranslating(dt,ft),ot.scrollIntoView({block:"nearest"})}_onTranslating(g,it){}_onTranslated(g,it){}get _hasBeenMoved(){return!!Ft(this,cs)&&(Ft(this,cs)[0]!==this.x||Ft(this,cs)[1]!==this.y)}get _hasBeenResized(){return!!Ft(this,cs)&&(Ft(this,cs)[2]!==this.width||Ft(this,cs)[3]!==this.height)}getBaseTranslation(){const[g,it]=this.parentDimensions,{_borderLineWidth:ot}=Gr,ut=ot/g,ct=ot/it;switch(this.rotation){case 90:return[-ut,ct];case 180:return[ut,ct];case 270:return[ut,-ct];default:return[-ut,-ct]}}get _mustFixPosition(){return!0}fixAndSetPosition(g=this.rotation){const{div:{style:it},pageDimensions:[ot,ut]}=this;let{x:ct,y:dt,width:ft,height:St}=this;if(ft*=ot,St*=ut,ct*=ot,dt*=ut,this._mustFixPosition)switch(g){case 0:ct=MathClamp(ct,0,ot-ft),dt=MathClamp(dt,0,ut-St);break;case 90:ct=MathClamp(ct,0,ot-St),dt=MathClamp(dt,ft,ut);break;case 180:ct=MathClamp(ct,ft,ot),dt=MathClamp(dt,St,ut);break;case 270:ct=MathClamp(ct,St,ot),dt=MathClamp(dt,0,ut-ft);break}this.x=ct/=ot,this.y=dt/=ut;const[Tt,kt]=this.getBaseTranslation();ct+=Tt,dt+=kt,it.left=`${(100*ct).toFixed(2)}%`,it.top=`${(100*dt).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(g,it){var ot;return vr(ot=Gr,_v,Jw).call(ot,g,it,this.parentRotation)}pageTranslationToScreen(g,it){var ot;return vr(ot=Gr,_v,Jw).call(ot,g,it,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:g,pageDimensions:[it,ot]}=this;return[it*g,ot*g]}setDims(){const{div:{style:g},width:it,height:ot}=this;g.width=`${(100*it).toFixed(2)}%`,g.height=`${(100*ot).toFixed(2)}%`}getInitialTranslation(){return[0,0]}_onResized(){}static _round(g){return Math.round(g*1e4)/1e4}_onResizing(){}altTextFinish(){var g;(g=Ft(this,fn))==null||g.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||Ft(this,ap))return this._editToolbar;this._editToolbar=new EditorToolbar(this),this.div.append(this._editToolbar.render());const{toolbarButtons:g}=this;if(g)for(const[it,ot]of g)await this._editToolbar.addButton(it,ot);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){var g;(g=this._editToolbar)==null||g.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){var g;(g=this._editToolbar)==null||g.removeButton("comment")}removeEditToolbar(){var g,it;(g=this._editToolbar)==null||g.remove(),this._editToolbar=null,(it=Ft(this,fn))==null||it.destroy()}addContainer(g){var ot;const it=(ot=this._editToolbar)==null?void 0:ot.div;it?it.before(g):this.div.append(g)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return Ft(this,fn)||(AltText.initialize(Gr._l10n),ur(this,fn,new AltText(this)),Ft(this,rp)&&(Ft(this,fn).data=Ft(this,rp),ur(this,rp,null))),Ft(this,fn)}get altTextData(){var g;return(g=Ft(this,fn))==null?void 0:g.data}set altTextData(g){Ft(this,fn)&&(Ft(this,fn).data=g)}get guessedAltText(){var g;return(g=Ft(this,fn))==null?void 0:g.guessedText}async setGuessedAltText(g){var it;await((it=Ft(this,fn))==null?void 0:it.setGuessedText(g))}serializeAltText(g){var it;return(it=Ft(this,fn))==null?void 0:it.serialize(g)}hasAltText(){return!!Ft(this,fn)&&!Ft(this,fn).isEmpty()}hasAltTextData(){var g;return((g=Ft(this,fn))==null?void 0:g.hasData())??!1}focusCommentButton(){var g;(g=Ft(this,on))==null||g.focusButton()}addCommentButton(){return Ft(this,on)||ur(this,on,new Comment(this))}addStandaloneCommentButton(){if(Ft(this,zo)){this._uiManager.isEditingMode()&&Ft(this,zo).classList.remove("hidden");return}this.hasComment&&(ur(this,zo,Ft(this,on).renderForStandalone()),this.div.append(Ft(this,zo)))}removeStandaloneCommentButton(){Ft(this,on).removeStandaloneCommentButton(),ur(this,zo,null)}hideStandaloneCommentButton(){var g;(g=Ft(this,zo))==null||g.classList.add("hidden")}get comment(){const{data:{richText:g,text:it,date:ot,deleted:ut}}=Ft(this,on);return{text:it,richText:g,date:ot,deleted:ut,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(g){Ft(this,on)||ur(this,on,new Comment(this)),Ft(this,on).data=g,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:g,popupRef:it,richText:ot}){if(!it||(Ft(this,on)||ur(this,on,new Comment(this)),Ft(this,on).setInitialText(g,ot),!this.annotationElementId))return;const ut=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);ut&&this.updateFromAnnotationLayer(ut)}get hasEditedComment(){var g;return(g=Ft(this,on))==null?void 0:g.hasBeenEdited()}get hasDeletedComment(){var g;return(g=Ft(this,on))==null?void 0:g.isDeleted()}get hasComment(){return!!Ft(this,on)&&!Ft(this,on).isEmpty()&&!Ft(this,on).isDeleted()}async editComment(g){Ft(this,on)||ur(this,on,new Comment(this)),Ft(this,on).edit(g)}toggleComment(g,it=void 0){this.hasComment&&this._uiManager.toggleComment(this,g,it)}setSelectedCommentButton(g){Ft(this,on).setSelectedButton(g)}addComment(g){if(this.hasEditedComment){const[,,,ut]=g.rect,[ct]=this.pageDimensions,[dt]=this.pageTranslation,ft=dt+ct+1,St=ut-100,Tt=ft+180;g.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[ft,St,Tt,ut]}}}updateFromAnnotationLayer({popup:{contents:g,deleted:it}}){Ft(this,on).data=it?null:g}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){var dt;const g=this.div=document.createElement("div");g.setAttribute("data-editor-rotation",(360-this.rotation)%360),g.className=this.name,g.setAttribute("id",this.id),g.tabIndex=Ft(this,Wm)?-1:0,g.setAttribute("role","application"),this.defaultL10nId&&g.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||g.classList.add("hidden"),this.setInForeground(),vr(this,Cv,nS).call(this);const[it,ot]=this.parentDimensions;this.parentRotation%180!==0&&(g.style.maxWidth=`${(100*ot/it).toFixed(2)}%`,g.style.maxHeight=`${(100*it/ot).toFixed(2)}%`);const[ut,ct]=this.getInitialTranslation();return this.translate(ut,ct),bindEvents(this,g,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(Ft(this,lp)||ur(this,lp,new TouchManager({container:g,isPinchingDisabled:()=>!this.isSelected,onPinchStart:vr(this,wE,bA).bind(this),onPinching:vr(this,SE,EA).bind(this),onPinchEnd:vr(this,AE,wA).bind(this),signal:this._uiManager._signal}))),this.addStandaloneCommentButton(),(dt=this._uiManager._editorUndoBar)==null||dt.hide(),g}pointerdown(g){const{isMac:it}=util_FeatureTest.platform;if(g.button!==0||g.ctrlKey&&it){g.preventDefault();return}if(ur(this,sp,!0),this._isDraggable){vr(this,_E,SA).call(this,g);return}vr(this,Pv,rS).call(this,g)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){Ft(this,yo)&&clearTimeout(Ft(this,yo)),ur(this,yo,setTimeout(()=>{var g;ur(this,yo,null),(g=this.parent)==null||g.moveEditorInDOM(this)},0))}_setParentAndPosition(g,it,ot){g.changeParent(this),this.x=it,this.y=ot,this.fixAndSetPosition(),this._onTranslated()}getRect(g,it,ot=this.rotation){const ut=this.parentScale,[ct,dt]=this.pageDimensions,[ft,St]=this.pageTranslation,Tt=g/ut,kt=it/ut,jt=this.x*ct,Rt=this.y*dt,$t=this.width*ct,zt=this.height*dt;switch(ot){case 0:return[jt+Tt+ft,dt-Rt-kt-zt+St,jt+Tt+$t+ft,dt-Rt-kt+St];case 90:return[jt+kt+ft,dt-Rt+Tt+St,jt+kt+zt+ft,dt-Rt+Tt+$t+St];case 180:return[jt-Tt-$t+ft,dt-Rt+kt+St,jt-Tt+ft,dt-Rt+kt+zt+St];case 270:return[jt-kt-zt+ft,dt-Rt-Tt-$t+St,jt-kt+ft,dt-Rt-Tt+St];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(g,it){const[ot,ut,ct,dt]=g,ft=ct-ot,St=dt-ut;switch(this.rotation){case 0:return[ot,it-dt,ft,St];case 90:return[ot,it-ut,St,ft];case 180:return[ct,it-ut,ft,St];case 270:return[ct,it-dt,St,ft];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&Gr._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){var g;(g=Ft(this,on))==null||g.onUpdatedColor()}getData(){const{comment:{text:g,color:it,date:ot,opacity:ut,deleted:ct,richText:dt},uid:ft,pageIndex:St,creationDate:Tt,modificationDate:kt}=this;return{id:ft,pageIndex:St,rect:this.getPDFRect(),richText:dt,contentsObj:{str:g},creationDate:Tt,modificationDate:ot||kt,popupRef:!ct,color:it,opacity:ut}}onceAdded(g){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),ur(this,ap,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),ur(this,ap,!1),!0):!1}isInEditMode(){return Ft(this,ap)}shouldGetKeyboardEvents(){return Ft(this,qo)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:g,left:it,bottom:ot,right:ut}=this.getClientDimensions(),{innerHeight:ct,innerWidth:dt}=window;return it<dt&&ut>0&&g<ct&&ot>0}rebuild(){vr(this,Cv,nS).call(this)}rotate(g){}resize(){}serializeDeleted(){var g;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((g=this._initialData)==null?void 0:g.popupRef)||""}}serialize(g=!1,it=null){var ot;return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:((ot=this._initialData)==null?void 0:ot.popupRef)||""}}static async deserialize(g,it,ot){const ut=new this.prototype.constructor({parent:it,id:it.getNextId(),uiManager:ot,annotationElementId:g.annotationElementId,creationDate:g.creationDate,modificationDate:g.modificationDate});ut.rotation=g.rotation,ur(ut,rp,g.accessibilityData),ut._isCopy=g.isCopy||!1;const[ct,dt]=ut.pageDimensions,[ft,St,Tt,kt]=ut.getRectInCurrentCoords(g.rect,dt);return ut.x=ft/ct,ut.y=St/dt,ut.width=Tt/ct,ut.height=kt/dt,ut}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var g,it;if((g=Ft(this,ru))==null||g.abort(),ur(this,ru,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),Ft(this,yo)&&(clearTimeout(Ft(this,yo)),ur(this,yo,null)),vr(this,up,C0).call(this),this.removeEditToolbar(),Ft(this,Ds)){for(const ot of Ft(this,Ds).values())clearTimeout(ot);ur(this,Ds,null)}this.parent=null,(it=Ft(this,lp))==null||it.destroy(),ur(this,lp,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(vr(this,bE,vA).call(this),Ft(this,In).classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[g,it]}=this,[ot,ut,ct,dt]=this.getPDFRect();return[Gr._round(ot+(ct-ot)*g),Gr._round(ut+(dt-ut)*(1-it))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return Ft(this,on).commentPopupPositionInLayer}set commentPopupPosition(g){Ft(this,on).commentPopupPositionInLayer=g}hasDefaultPopupPosition(){return Ft(this,on).hasDefaultPopupPosition()}get commentButtonWidth(){return Ft(this,on).commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(g){Ft(this,on).setCommentButtonStates(g)}keydown(g){if(!this.isResizable||g.target!==this.div||g.key!=="Enter")return;this._uiManager.setSelected(this),ur(this,Go,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const it=Ft(this,In).children;if(!Ft(this,Hs)){ur(this,Hs,Array.from(it));const dt=vr(this,TE,AA).bind(this),ft=vr(this,kE,_A).bind(this),St=this._uiManager._signal;for(const Tt of Ft(this,Hs)){const kt=Tt.getAttribute("data-resizer-name");Tt.setAttribute("role","spinbutton"),Tt.addEventListener("keydown",dt,{signal:St}),Tt.addEventListener("blur",ft,{signal:St}),Tt.addEventListener("focus",vr(this,PE,TA).bind(this,kt),{signal:St}),Tt.setAttribute("data-l10n-id",Gr._l10nResizer[kt])}}const ot=Ft(this,Hs)[0];let ut=0;for(const dt of it){if(dt===ot)break;ut++}const ct=(360-this.rotation+this.parentRotation)%360/90*(Ft(this,Hs).length/4);if(ct!==ut){if(ct<ut)for(let ft=0;ft<ut-ct;ft++)Ft(this,In).append(Ft(this,In).firstChild);else if(ct>ut)for(let ft=0;ft<ct-ut;ft++)Ft(this,In).firstChild.before(Ft(this,In).lastChild);let dt=0;for(const ft of it){const Tt=Ft(this,Hs)[dt++].getAttribute("data-resizer-name");ft.setAttribute("data-l10n-id",Gr._l10nResizer[Tt])}}vr(this,Rv,iS).call(this,0),ur(this,qo,!0),Ft(this,In).firstChild.focus({focusVisible:!0}),g.preventDefault(),g.stopImmediatePropagation()}_resizeWithKeyboard(g,it){Ft(this,qo)&&vr(this,kv,tS).call(this,Ft(this,Ev),{deltaX:g,deltaY:it,fromKeyboard:!0})}_stopResizingWithKeyboard(){vr(this,up,C0).call(this),this.div.focus()}select(){var g,it,ot;if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),(g=this.div)==null||g.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var ut,ct;(ut=this.div)!=null&&ut.classList.contains("selectedEditor")&&((ct=this._editToolbar)==null||ct.show())});return}(it=this._editToolbar)==null||it.show(),(ot=Ft(this,fn))==null||ot.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>{var g;return(g=this.div)==null?void 0:g.focus({preventScroll:!0})},0)}unselect(){var g,it,ot,ut,ct;this.isSelected&&(this.isSelected=!1,(g=Ft(this,In))==null||g.classList.add("hidden"),(it=this.div)==null||it.classList.remove("selectedEditor"),(ot=this.div)!=null&&ot.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(ut=this._editToolbar)==null||ut.hide(),(ct=Ft(this,fn))==null||ct.toggleAltTextBadge(!0),this.hasComment&&this._uiManager.toggleComment(this,!1,!1))}updateParams(g,it){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(g){g.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return Ft(this,wv)}set isEditing(g){ur(this,wv,g),this.parent&&(g?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(g,it=!1){if(it){Ft(this,Ds)||ur(this,Ds,new Map);const{action:ot}=g;let ut=Ft(this,Ds).get(ot);ut&&clearTimeout(ut),ut=setTimeout(()=>{this._reportTelemetry(g),Ft(this,Ds).delete(ot),Ft(this,Ds).size===0&&ur(this,Ds,null)},Gr._telemetryTimeout),Ft(this,Ds).set(ot,ut);return}g.type||(g.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:g}})}show(g=this._isVisible){this.div.classList.toggle("hidden",!g),this._isVisible=g}enable(){this.div&&(this.div.tabIndex=0),ur(this,Wm,!1)}disable(){this.div&&(this.div.tabIndex=-1),ur(this,Wm,!0)}updateFakeAnnotationElement(g){if(!Ft(this,go)&&!this.deleted){ur(this,go,g.addFakeAnnotation(this));return}if(this.deleted){Ft(this,go).remove(),ur(this,go,null);return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&Ft(this,go).updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(g){if(this.deleted)return g.hide(),null;let it=g.container.querySelector(".annotationContent");if(!it)it=document.createElement("div"),it.classList.add("annotationContent",this.editorType),g.container.prepend(it);else if(it.nodeName==="CANVAS"){const ot=it;it=document.createElement("div"),it.classList.add("annotationContent",this.editorType),ot.before(it)}return it}resetAnnotationElement(g){const{firstChild:it}=g.container;(it==null?void 0:it.nodeName)==="DIV"&&it.classList.contains("annotationContent")&&it.remove()}};rp=new WeakMap,Hs=new WeakMap,fn=new WeakMap,on=new WeakMap,zo=new WeakMap,Wm=new WeakMap,tu=new WeakMap,bv=new WeakMap,In=new WeakMap,np=new WeakMap,Go=new WeakMap,go=new WeakMap,ru=new WeakMap,Ev=new WeakMap,sp=new WeakMap,cs=new WeakMap,wv=new WeakMap,ap=new WeakMap,qo=new WeakMap,yo=new WeakMap,Km=new WeakMap,Xm=new WeakMap,Ds=new WeakMap,lp=new WeakMap,Sv=new WeakMap,xE=new WeakMap,Av=new WeakSet,Qw=function([g,it],ot,ut){[ot,ut]=this.screenToPageTranslation(ot,ut),this.x+=ot/g,this.y+=ut/it,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},_v=new WeakSet,Jw=function(g,it,ot){switch(ot){case 90:return[it,-g];case 180:return[-g,-it];case 270:return[-it,g];default:return[g,it]}},Ym=new WeakSet,A1=function(g){switch(g){case 90:{const[it,ot]=this.pageDimensions;return[0,-it/ot,ot/it,0]}case 180:return[-1,0,0,-1];case 270:{const[it,ot]=this.pageDimensions;return[0,it/ot,-ot/it,0]}default:return[1,0,0,1]}},bE=new WeakSet,vA=function(){if(Ft(this,In))return;ur(this,In,document.createElement("div")),Ft(this,In).classList.add("resizers");const g=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],it=this._uiManager._signal;for(const ot of g){const ut=document.createElement("div");Ft(this,In).append(ut),ut.classList.add("resizer",ot),ut.setAttribute("data-resizer-name",ot),ut.addEventListener("pointerdown",vr(this,EE,xA).bind(this,ot),{signal:it}),ut.addEventListener("contextmenu",noContextMenu,{signal:it}),ut.tabIndex=-1}this.div.prepend(Ft(this,In))},EE=new WeakSet,xA=function(g,it){var kt;it.preventDefault();const{isMac:ot}=util_FeatureTest.platform;if(it.button!==0||it.ctrlKey&&ot)return;(kt=Ft(this,fn))==null||kt.toggle(!1);const ut=this._isDraggable;this._isDraggable=!1,ur(this,np,[it.screenX,it.screenY]);const ct=new AbortController,dt=this._uiManager.combinedSignal(ct);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",vr(this,kv,tS).bind(this,g),{passive:!0,capture:!0,signal:dt}),window.addEventListener("touchmove",stopEvent,{passive:!1,signal:dt}),window.addEventListener("contextmenu",noContextMenu,{signal:dt}),ur(this,Go,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const ft=this.parent.div.style.cursor,St=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(it.target).cursor;const Tt=()=>{var jt;ct.abort(),this.parent.togglePointerEvents(!0),(jt=Ft(this,fn))==null||jt.toggle(!0),this._isDraggable=ut,this.parent.div.style.cursor=ft,this.div.style.cursor=St,vr(this,Zm,_1).call(this)};window.addEventListener("pointerup",Tt,{signal:dt}),window.addEventListener("blur",Tt,{signal:dt})},Tv=new WeakSet,eS=function(g,it,ot,ut){this.width=ot,this.height=ut,this.x=g,this.y=it,this.setDims(),this.fixAndSetPosition(),this._onResized()},Zm=new WeakSet,_1=function(){if(!Ft(this,Go))return;const{savedX:g,savedY:it,savedWidth:ot,savedHeight:ut}=Ft(this,Go);ur(this,Go,null);const ct=this.x,dt=this.y,ft=this.width,St=this.height;ct===g&&dt===it&&ft===ot&&St===ut||this.addCommands({cmd:vr(this,Tv,eS).bind(this,ct,dt,ft,St),undo:vr(this,Tv,eS).bind(this,g,it,ot,ut),mustExec:!0})},kv=new WeakSet,tS=function(g,it){const[ot,ut]=this.parentDimensions,ct=this.x,dt=this.y,ft=this.width,St=this.height,Tt=Gr.MIN_SIZE/ot,kt=Gr.MIN_SIZE/ut,jt=vr(this,Ym,A1).call(this,this.rotation),Rt=(dr,pr)=>[jt[0]*dr+jt[2]*pr,jt[1]*dr+jt[3]*pr],$t=vr(this,Ym,A1).call(this,360-this.rotation),zt=(dr,pr)=>[$t[0]*dr+$t[2]*pr,$t[1]*dr+$t[3]*pr];let Ht,Zt,Bt=!1,Ut=!1;switch(g){case"topLeft":Bt=!0,Ht=(dr,pr)=>[0,0],Zt=(dr,pr)=>[dr,pr];break;case"topMiddle":Ht=(dr,pr)=>[dr/2,0],Zt=(dr,pr)=>[dr/2,pr];break;case"topRight":Bt=!0,Ht=(dr,pr)=>[dr,0],Zt=(dr,pr)=>[0,pr];break;case"middleRight":Ut=!0,Ht=(dr,pr)=>[dr,pr/2],Zt=(dr,pr)=>[0,pr/2];break;case"bottomRight":Bt=!0,Ht=(dr,pr)=>[dr,pr],Zt=(dr,pr)=>[0,0];break;case"bottomMiddle":Ht=(dr,pr)=>[dr/2,pr],Zt=(dr,pr)=>[dr/2,0];break;case"bottomLeft":Bt=!0,Ht=(dr,pr)=>[0,pr],Zt=(dr,pr)=>[dr,0];break;case"middleLeft":Ut=!0,Ht=(dr,pr)=>[0,pr/2],Zt=(dr,pr)=>[dr,pr/2];break}const Kt=Ht(ft,St),Yt=Zt(ft,St);let Jt=Rt(...Yt);const er=Gr._round(ct+Jt[0]),tr=Gr._round(dt+Jt[1]);let rr=1,hr=1,ar,or;if(it.fromKeyboard)({deltaX:ar,deltaY:or}=it);else{const{screenX:dr,screenY:pr}=it,[nr,ir]=Ft(this,np);[ar,or]=this.screenToPageTranslation(dr-nr,pr-ir),Ft(this,np)[0]=dr,Ft(this,np)[1]=pr}if([ar,or]=zt(ar/ot,or/ut),Bt){const dr=Math.hypot(ft,St);rr=hr=Math.max(Math.min(Math.hypot(Yt[0]-Kt[0]-ar,Yt[1]-Kt[1]-or)/dr,1/ft,1/St),Tt/ft,kt/St)}else Ut?rr=MathClamp(Math.abs(Yt[0]-Kt[0]-ar),Tt,1)/ft:hr=MathClamp(Math.abs(Yt[1]-Kt[1]-or),kt,1)/St;const cr=Gr._round(ft*rr),gr=Gr._round(St*hr);Jt=Rt(...Zt(cr,gr));const yr=er-Jt[0],xr=tr-Jt[1];Ft(this,cs)||ur(this,cs,[this.x,this.y,this.width,this.height]),this.width=cr,this.height=gr,this.x=yr,this.y=xr,this.setDims(),this.fixAndSetPosition(),this._onResizing()},wE=new WeakSet,bA=function(){var g;ur(this,Go,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(g=Ft(this,fn))==null||g.toggle(!1),this.parent.togglePointerEvents(!1)},SE=new WeakSet,EA=function(g,it,ot){let ct=.7*(ot/it)+1-.7;if(ct===1)return;const dt=vr(this,Ym,A1).call(this,this.rotation),ft=(er,tr)=>[dt[0]*er+dt[2]*tr,dt[1]*er+dt[3]*tr],[St,Tt]=this.parentDimensions,kt=this.x,jt=this.y,Rt=this.width,$t=this.height,zt=Gr.MIN_SIZE/St,Ht=Gr.MIN_SIZE/Tt;ct=Math.max(Math.min(ct,1/Rt,1/$t),zt/Rt,Ht/$t);const Zt=Gr._round(Rt*ct),Bt=Gr._round($t*ct);if(Zt===Rt&&Bt===$t)return;Ft(this,cs)||ur(this,cs,[kt,jt,Rt,$t]);const Ut=ft(Rt/2,$t/2),Kt=Gr._round(kt+Ut[0]),Yt=Gr._round(jt+Ut[1]),Jt=ft(Zt/2,Bt/2);this.x=Kt-Jt[0],this.y=Yt-Jt[1],this.width=Zt,this.height=Bt,this.setDims(),this.fixAndSetPosition(),this._onResizing()},AE=new WeakSet,wA=function(){var g;(g=Ft(this,fn))==null||g.toggle(!0),this.parent.togglePointerEvents(!0),vr(this,Zm,_1).call(this)},Pv=new WeakSet,rS=function(g){const{isMac:it}=util_FeatureTest.platform;g.ctrlKey&&!it||g.shiftKey||g.metaKey&&it?this.parent.toggleSelected(this):this.parent.setSelected(this)},_E=new WeakSet,SA=function(g){const{isSelected:it}=this;this._uiManager.setUpDragSession();let ot=!1;const ut=new AbortController,ct=this._uiManager.combinedSignal(ut),dt={capture:!0,passive:!1,signal:ct},ft=Tt=>{ut.abort(),ur(this,tu,null),ur(this,sp,!1),this._uiManager.endDragSession()||vr(this,Pv,rS).call(this,Tt),ot&&this._onStopDragging()};it&&(ur(this,Km,g.clientX),ur(this,Xm,g.clientY),ur(this,tu,g.pointerId),ur(this,bv,g.pointerType),window.addEventListener("pointermove",Tt=>{ot||(ot=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:kt,clientY:jt,pointerId:Rt}=Tt;if(Rt!==Ft(this,tu)){stopEvent(Tt);return}const[$t,zt]=this.screenToPageTranslation(kt-Ft(this,Km),jt-Ft(this,Xm));ur(this,Km,kt),ur(this,Xm,jt),this._uiManager.dragSelectedEditors($t,zt)},dt),window.addEventListener("touchmove",stopEvent,dt),window.addEventListener("pointerdown",Tt=>{Tt.pointerType===Ft(this,bv)&&(Ft(this,lp)||Tt.isPrimary)&&ft(Tt),stopEvent(Tt)},dt));const St=Tt=>{if(!Ft(this,tu)||Ft(this,tu)===Tt.pointerId){ft(Tt);return}stopEvent(Tt)};window.addEventListener("pointerup",St,{signal:ct}),window.addEventListener("blur",St,{signal:ct})},Cv=new WeakSet,nS=function(){if(Ft(this,ru)||!this.div)return;ur(this,ru,new AbortController);const g=this._uiManager.combinedSignal(Ft(this,ru));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:g}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:g})},TE=new WeakSet,AA=function(g){Gr._resizerKeyboardManager.exec(this,g)},kE=new WeakSet,_A=function(g){var it;Ft(this,qo)&&((it=g.relatedTarget)==null?void 0:it.parentNode)!==Ft(this,In)&&vr(this,up,C0).call(this)},PE=new WeakSet,TA=function(g){ur(this,Ev,Ft(this,qo)?g:"")},Rv=new WeakSet,iS=function(g){if(Ft(this,Hs))for(const it of Ft(this,Hs))it.tabIndex=g},up=new WeakSet,C0=function(){ur(this,qo,!1),vr(this,Rv,iS).call(this,-1),vr(this,Zm,_1).call(this)},sr(Gr,_v),Nr(Gr,"_l10n",null),Nr(Gr,"_l10nResizer",null),Nr(Gr,"_borderLineWidth",-1),Nr(Gr,"_colorManager",new ColorManager),Nr(Gr,"_zIndex",1),Nr(Gr,"_telemetryTimeout",1e3);let AnnotationEditor=Gr;class FakeEditor extends AnnotationEditor{constructor(g){super(g),this.annotationElementId=g.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const SEED=3285377520,MASK_HIGH=4294901760,MASK_LOW=65535;class MurmurHash3_64{constructor(g){this.h1=g?g&4294967295:SEED,this.h2=g?g&4294967295:SEED}update(g){let it,ot;if(typeof g=="string"){it=new Uint8Array(g.length*2),ot=0;for(let Ht=0,Zt=g.length;Ht<Zt;Ht++){const Bt=g.charCodeAt(Ht);Bt<=255?it[ot++]=Bt:(it[ot++]=Bt>>>8,it[ot++]=Bt&255)}}else if(ArrayBuffer.isView(g))it=g.slice(),ot=it.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const ut=ot>>2,ct=ot-ut*4,dt=new Uint32Array(it.buffer,0,ut);let ft=0,St=0,Tt=this.h1,kt=this.h2;const jt=3432918353,Rt=461845907,$t=jt&MASK_LOW,zt=Rt&MASK_LOW;for(let Ht=0;Ht<ut;Ht++)Ht&1?(ft=dt[Ht],ft=ft*jt&MASK_HIGH|ft*$t&MASK_LOW,ft=ft<<15|ft>>>17,ft=ft*Rt&MASK_HIGH|ft*zt&MASK_LOW,Tt^=ft,Tt=Tt<<13|Tt>>>19,Tt=Tt*5+3864292196):(St=dt[Ht],St=St*jt&MASK_HIGH|St*$t&MASK_LOW,St=St<<15|St>>>17,St=St*Rt&MASK_HIGH|St*zt&MASK_LOW,kt^=St,kt=kt<<13|kt>>>19,kt=kt*5+3864292196);switch(ft=0,ct){case 3:ft^=it[ut*4+2]<<16;case 2:ft^=it[ut*4+1]<<8;case 1:ft^=it[ut*4],ft=ft*jt&MASK_HIGH|ft*$t&MASK_LOW,ft=ft<<15|ft>>>17,ft=ft*Rt&MASK_HIGH|ft*zt&MASK_LOW,ut&1?Tt^=ft:kt^=ft}this.h1=Tt,this.h2=kt}hexdigest(){let g=this.h1,it=this.h2;return g^=it>>>1,g=g*3981806797&MASK_HIGH|g*36045&MASK_LOW,it=it*4283543511&MASK_HIGH|((it<<16|g>>>16)*2950163797&MASK_HIGH)>>>16,g^=it>>>1,g=g*444984403&MASK_HIGH|g*60499&MASK_LOW,it=it*3301882366&MASK_HIGH|((it<<16|g>>>16)*3120437893&MASK_HIGH)>>>16,g^=it>>>1,(g>>>0).toString(16).padStart(8,"0")+(it>>>0).toString(16).padStart(8,"0")}}const SerializableEmpty=Object.freeze({map:null,hash:"",transfer:void 0});var cp,hp,Wo,Fn,CE,kA;class AnnotationStorage{constructor(){sr(this,CE);sr(this,cp,!1);sr(this,hp,null);sr(this,Wo,null);sr(this,Fn,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(g,it){const ot=Ft(this,Fn).get(g);return ot===void 0?it:Object.assign(it,ot)}getRawValue(g){return Ft(this,Fn).get(g)}remove(g){const it=Ft(this,Fn).get(g);if(it!==void 0&&(it instanceof AnnotationEditor&&Ft(this,Wo).delete(it.annotationElementId),Ft(this,Fn).delete(g),Ft(this,Fn).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const ot of Ft(this,Fn).values())if(ot instanceof AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(g,it){const ot=Ft(this,Fn).get(g);let ut=!1;if(ot!==void 0)for(const[ct,dt]of Object.entries(it))ot[ct]!==dt&&(ut=!0,ot[ct]=dt);else ut=!0,Ft(this,Fn).set(g,it);ut&&vr(this,CE,kA).call(this),it instanceof AnnotationEditor&&((Ft(this,Wo)||ur(this,Wo,new Map)).set(it.annotationElementId,it),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(it.constructor._type))}has(g){return Ft(this,Fn).has(g)}get size(){return Ft(this,Fn).size}resetModified(){Ft(this,cp)&&(ur(this,cp,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new PrintAnnotationStorage(this)}get serializable(){if(Ft(this,Fn).size===0)return SerializableEmpty;const g=new Map,it=new MurmurHash3_64,ot=[],ut=Object.create(null);let ct=!1;for(const[dt,ft]of Ft(this,Fn)){const St=ft instanceof AnnotationEditor?ft.serialize(!1,ut):ft;St&&(g.set(dt,St),it.update(`${dt}:${JSON.stringify(St)}`),ct||(ct=!!St.bitmap))}if(ct)for(const dt of g.values())dt.bitmap&&ot.push(dt.bitmap);return g.size>0?{map:g,hash:it.hexdigest(),transfer:ot}:SerializableEmpty}get editorStats(){let g=null;const it=new Map;let ot=0,ut=0;for(const ct of Ft(this,Fn).values()){if(!(ct instanceof AnnotationEditor)){ct.popup&&(ct.popup.deleted?ut+=1:ot+=1);continue}ct.isCommentDeleted?ut+=1:ct.hasEditedComment&&(ot+=1);const dt=ct.telemetryFinalData;if(!dt)continue;const{type:ft}=dt;it.has(ft)||it.set(ft,Object.getPrototypeOf(ct).constructor),g||(g=Object.create(null));const St=g[ft]||(g[ft]=new Map);for(const[Tt,kt]of Object.entries(dt)){if(Tt==="type")continue;let jt=St.get(Tt);jt||(jt=new Map,St.set(Tt,jt));const Rt=jt.get(kt)??0;jt.set(kt,Rt+1)}}if((ut>0||ot>0)&&(g||(g=Object.create(null)),g.comments={deleted:ut,edited:ot}),!g)return null;for(const[ct,dt]of it)g[ct]=dt.computeTelemetryFinalData(g[ct]);return g}resetModifiedIds(){ur(this,hp,null)}updateEditor(g,it){var ut;const ot=(ut=Ft(this,Wo))==null?void 0:ut.get(g);return ot?(ot.updateFromAnnotationLayer(it),!0):!1}getEditor(g){var it;return((it=Ft(this,Wo))==null?void 0:it.get(g))||null}get modifiedIds(){if(Ft(this,hp))return Ft(this,hp);const g=[];if(Ft(this,Wo))for(const it of Ft(this,Wo).values())it.serialize()&&g.push(it.annotationElementId);return ur(this,hp,{ids:new Set(g),hash:g.join(",")})}[Symbol.iterator](){return Ft(this,Fn).entries()}}cp=new WeakMap,hp=new WeakMap,Wo=new WeakMap,Fn=new WeakMap,CE=new WeakSet,kA=function(){Ft(this,cp)||(ur(this,cp,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Mv;class PrintAnnotationStorage extends AnnotationStorage{constructor(it){super();sr(this,Mv,void 0);const{map:ot,hash:ut,transfer:ct}=it.serializable,dt=structuredClone(ot,ct?{transfer:ct}:null);ur(this,Mv,{map:dt,hash:ut,transfer:ct})}get print(){unreachable("Should not call PrintAnnotationStorage.print")}get serializable(){return Ft(this,Mv)}get modifiedIds(){return shadow(this,"modifiedIds",{ids:new Set,hash:""})}}Mv=new WeakMap;var Qm;class FontLoader{constructor({ownerDocument:g=globalThis.document,styleElement:it=null}){sr(this,Qm,new Set);this._document=g,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(g){this.nativeFontFaces.add(g),this._document.fonts.add(g)}removeNativeFontFace(g){this.nativeFontFaces.delete(g),this._document.fonts.delete(g)}insertRule(g){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const it=this.styleElement.sheet;it.insertRule(g,it.cssRules.length)}clear(){for(const g of this.nativeFontFaces)this._document.fonts.delete(g);this.nativeFontFaces.clear(),Ft(this,Qm).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:g,disableFontFace:it,_inspectFont:ot}){if(!(!g||Ft(this,Qm).has(g.loadedName))){if(assert(!it,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:ut,src:ct,style:dt}=g,ft=new FontFace(ut,ct,dt);this.addNativeFontFace(ft);try{await ft.load(),Ft(this,Qm).add(ut),ot==null||ot(g)}catch{warn(`Cannot load system font: ${g.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(ft)}return}unreachable("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(g){if(g.attached||g.missingFile&&!g.systemFontInfo)return;if(g.attached=!0,g.systemFontInfo){await this.loadSystemFont(g);return}if(this.isFontLoadingAPISupported){const ot=g.createNativeFontFace();if(ot){this.addNativeFontFace(ot);try{await ot.loaded}catch(ut){throw warn(`Failed to load font '${ot.family}': '${ut}'.`),g.disableFontFace=!0,ut}}return}const it=g.createFontFaceRule();if(it){if(this.insertRule(it),this.isSyncFontLoadingSupported)return;await new Promise(ot=>{const ut=this._queueLoadingCallback(ot);this._prepareFontLoadEvent(g,ut)})}}get isFontLoadingAPISupported(){var it;const g=!!((it=this._document)!=null&&it.fonts);return shadow(this,"isFontLoadingAPISupported",g)}get isSyncFontLoadingSupported(){return shadow(this,"isSyncFontLoadingSupported",isNodeJS||util_FeatureTest.platform.isFirefox)}_queueLoadingCallback(g){function it(){for(assert(!ut.done,"completeRequest() cannot be called twice."),ut.done=!0;ot.length>0&&ot[0].done;){const ct=ot.shift();setTimeout(ct.callback,0)}}const{loadingRequests:ot}=this,ut={done:!1,complete:it,callback:g};return ot.push(ut),ut}get _loadTestFont(){const g=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return shadow(this,"_loadTestFont",g)}_prepareFontLoadEvent(g,it){function ot(Yt,Jt){return Yt.charCodeAt(Jt)<<24|Yt.charCodeAt(Jt+1)<<16|Yt.charCodeAt(Jt+2)<<8|Yt.charCodeAt(Jt+3)&255}function ut(Yt,Jt,er,tr){const rr=Yt.substring(0,Jt),hr=Yt.substring(Jt+er);return rr+tr+hr}let ct,dt;const ft=this._document.createElement("canvas");ft.width=1,ft.height=1;const St=ft.getContext("2d");let Tt=0;function kt(Yt,Jt){if(++Tt>30){warn("Load test font never loaded."),Jt();return}if(St.font="30px "+Yt,St.fillText(".",0,20),St.getImageData(0,0,1,1).data[3]>0){Jt();return}setTimeout(kt.bind(null,Yt,Jt))}const jt=`lt${Date.now()}${this.loadTestFontId++}`;let Rt=this._loadTestFont;Rt=ut(Rt,976,jt.length,jt);const zt=16,Ht=1482184792;let Zt=ot(Rt,zt);for(ct=0,dt=jt.length-3;ct<dt;ct+=4)Zt=Zt-Ht+ot(jt,ct)|0;ct<jt.length&&(Zt=Zt-Ht+ot(jt+"XXX",ct)|0),Rt=ut(Rt,zt,4,string32(Zt));const Bt=`url(data:font/opentype;base64,${btoa(Rt)});`,Ut=`@font-face {font-family:"${jt}";src:${Bt}}`;this.insertRule(Ut);const Kt=this._document.createElement("div");Kt.style.visibility="hidden",Kt.style.width=Kt.style.height="10px",Kt.style.position="absolute",Kt.style.top=Kt.style.left="0px";for(const Yt of[g.loadedName,jt]){const Jt=this._document.createElement("span");Jt.textContent="Hi",Jt.style.fontFamily=Yt,Kt.append(Jt)}this._document.body.append(Kt),kt(jt,()=>{Kt.remove(),it.complete()})}}Qm=new WeakMap;var tn;class FontFaceObject{constructor(g,it=null,ot,ut){sr(this,tn,void 0);this.compiledGlyphs=Object.create(null),ur(this,tn,g),this._inspectFont=it,ot&&Object.assign(this,ot),ut&&(this.charProcOperatorList=ut)}createNativeFontFace(){var it;if(!this.data||this.disableFontFace)return null;let g;if(!this.cssFontInfo)g=new FontFace(this.loadedName,this.data,{});else{const ot={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(ot.style=`oblique ${this.cssFontInfo.italicAngle}deg`),g=new FontFace(this.cssFontInfo.fontFamily,this.data,ot)}return(it=this._inspectFont)==null||it.call(this,this),g}createFontFaceRule(){var ot;if(!this.data||this.disableFontFace)return null;const g=`url(data:${this.mimetype};base64,${toBase64Util(this.data)});`;let it;if(!this.cssFontInfo)it=`@font-face {font-family:"${this.loadedName}";src:${g}}`;else{let ut=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(ut+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),it=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${ut}src:${g}}`}return(ot=this._inspectFont)==null||ot.call(this,this,g),it}getPathGenerator(g,it){if(this.compiledGlyphs[it]!==void 0)return this.compiledGlyphs[it];const ot=this.loadedName+"_path_"+it;let ut;try{ut=g.get(ot)}catch(dt){warn(`getPathGenerator - ignoring character: "${dt}".`)}const ct=new Path2D(ut||"");return this.fontExtraProperties||g.delete(ot),this.compiledGlyphs[it]=ct}get black(){return Ft(this,tn).black}get bold(){return Ft(this,tn).bold}get disableFontFace(){return Ft(this,tn).disableFontFace??!1}get fontExtraProperties(){return Ft(this,tn).fontExtraProperties??!1}get isInvalidPDFjsFont(){return Ft(this,tn).isInvalidPDFjsFont}get isType3Font(){return Ft(this,tn).isType3Font}get italic(){return Ft(this,tn).italic}get missingFile(){return Ft(this,tn).missingFile}get remeasure(){return Ft(this,tn).remeasure}get vertical(){return Ft(this,tn).vertical}get ascent(){return Ft(this,tn).ascent}get defaultWidth(){return Ft(this,tn).defaultWidth}get descent(){return Ft(this,tn).descent}get bbox(){return Ft(this,tn).bbox}get fontMatrix(){return Ft(this,tn).fontMatrix}get fallbackName(){return Ft(this,tn).fallbackName}get loadedName(){return Ft(this,tn).loadedName}get mimetype(){return Ft(this,tn).mimetype}get name(){return Ft(this,tn).name}get data(){return Ft(this,tn).data}clearData(){Ft(this,tn).clearData()}get cssFontInfo(){return Ft(this,tn).cssFontInfo}get systemFontInfo(){return Ft(this,tn).systemFontInfo}get defaultVMetrics(){return Ft(this,tn).defaultVMetrics}}tn=new WeakMap;function getUrlProp(et){if(et instanceof URL)return et.href;if(typeof et=="string"){if(isNodeJS)return et;const g=URL.parse(et,window.location);if(g)return g.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(et){if(isNodeJS&&typeof Buffer<"u"&&et instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(et instanceof Uint8Array&&et.byteLength===et.buffer.byteLength)return et;if(typeof et=="string")return stringToBytes(et);if(et instanceof ArrayBuffer||ArrayBuffer.isView(et)||typeof et=="object"&&!isNaN(et==null?void 0:et.length))return new Uint8Array(et);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function getFactoryUrlProp(et){if(typeof et!="string")return null;if(et.endsWith("/"))return et;throw new Error(`Invalid factory url: "${et}" must include trailing slash.`)}const isRefProxy=et=>typeof et=="object"&&Number.isInteger(et==null?void 0:et.num)&&et.num>=0&&Number.isInteger(et==null?void 0:et.gen)&&et.gen>=0,isNameProxy=et=>typeof et=="object"&&typeof(et==null?void 0:et.name)=="string",isValidExplicitDest=_isValidExplicitDest.bind(null,isRefProxy,isNameProxy);var Ko,RE;class LoopbackPort{constructor(){sr(this,Ko,new Map);sr(this,RE,Promise.resolve())}postMessage(g,it){const ot={data:structuredClone(g,it?{transfer:it}:null)};Ft(this,RE).then(()=>{for(const[ut]of Ft(this,Ko))ut.call(this,ot)})}addEventListener(g,it,ot=null){let ut=null;if((ot==null?void 0:ot.signal)instanceof AbortSignal){const{signal:ct}=ot;if(ct.aborted){warn("LoopbackPort - cannot use an `aborted` signal.");return}const dt=()=>this.removeEventListener(g,it);ut=()=>ct.removeEventListener("abort",dt),ct.addEventListener("abort",dt)}Ft(this,Ko).set(it,ut)}removeEventListener(g,it){const ot=Ft(this,Ko).get(it);ot==null||ot(),Ft(this,Ko).delete(it)}terminate(){for(const[,g]of Ft(this,Ko))g==null||g();Ft(this,Ko).clear()}}Ko=new WeakMap,RE=new WeakMap;const CallbackKind={DATA:1,ERROR:2},StreamKind={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function onFn(){}function wrapReason(et){if(et instanceof AbortException||et instanceof InvalidPDFException||et instanceof PasswordException||et instanceof ResponseException||et instanceof UnknownErrorException)return et;switch(et instanceof Error||typeof et=="object"&&et!==null||unreachable('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),et.name){case"AbortException":return new AbortException(et.message);case"InvalidPDFException":return new InvalidPDFException(et.message);case"PasswordException":return new PasswordException(et.message,et.code);case"ResponseException":return new ResponseException(et.message,et.status,et.missing);case"UnknownErrorException":return new UnknownErrorException(et.message,et.details)}return new UnknownErrorException(et.message,et.toString())}var Jm,ME,PA,jE,CA,DE,RA,_g,T1;class MessageHandler{constructor(g,it,ot){sr(this,ME);sr(this,jE);sr(this,DE);sr(this,_g);sr(this,Jm,new AbortController);this.sourceName=g,this.targetName=it,this.comObj=ot,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),ot.addEventListener("message",vr(this,ME,PA).bind(this),{signal:Ft(this,Jm).signal})}on(g,it){const ot=this.actionHandler;if(ot[g])throw new Error(`There is already an actionName called "${g}"`);ot[g]=it}send(g,it,ot){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:g,data:it},ot)}sendWithPromise(g,it,ot){const ut=this.callbackId++,ct=Promise.withResolvers();this.callbackCapabilities[ut]=ct;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:g,callbackId:ut,data:it},ot)}catch(dt){ct.reject(dt)}return ct.promise}sendWithStream(g,it,ot,ut){const ct=this.streamId++,dt=this.sourceName,ft=this.targetName,St=this.comObj;return new ReadableStream({start:Tt=>{const kt=Promise.withResolvers();return this.streamControllers[ct]={controller:Tt,startCall:kt,pullCall:null,cancelCall:null,isClosed:!1},St.postMessage({sourceName:dt,targetName:ft,action:g,streamId:ct,data:it,desiredSize:Tt.desiredSize},ut),kt.promise},pull:Tt=>{const kt=Promise.withResolvers();return this.streamControllers[ct].pullCall=kt,St.postMessage({sourceName:dt,targetName:ft,stream:StreamKind.PULL,streamId:ct,desiredSize:Tt.desiredSize}),kt.promise},cancel:Tt=>{assert(Tt instanceof Error,"cancel must have a valid reason");const kt=Promise.withResolvers();return this.streamControllers[ct].cancelCall=kt,this.streamControllers[ct].isClosed=!0,St.postMessage({sourceName:dt,targetName:ft,stream:StreamKind.CANCEL,streamId:ct,reason:wrapReason(Tt)}),kt.promise}},ot)}destroy(){var g;(g=Ft(this,Jm))==null||g.abort(),ur(this,Jm,null)}}Jm=new WeakMap,ME=new WeakSet,PA=function({data:g}){if(g.targetName!==this.sourceName)return;if(g.stream){vr(this,DE,RA).call(this,g);return}if(g.callback){const ot=g.callbackId,ut=this.callbackCapabilities[ot];if(!ut)throw new Error(`Cannot resolve callback ${ot}`);if(delete this.callbackCapabilities[ot],g.callback===CallbackKind.DATA)ut.resolve(g.data);else if(g.callback===CallbackKind.ERROR)ut.reject(wrapReason(g.reason));else throw new Error("Unexpected callback case");return}const it=this.actionHandler[g.action];if(!it)throw new Error(`Unknown action from worker: ${g.action}`);if(g.callbackId){const ot=this.sourceName,ut=g.sourceName,ct=this.comObj;Promise.try(it,g.data).then(function(dt){ct.postMessage({sourceName:ot,targetName:ut,callback:CallbackKind.DATA,callbackId:g.callbackId,data:dt})},function(dt){ct.postMessage({sourceName:ot,targetName:ut,callback:CallbackKind.ERROR,callbackId:g.callbackId,reason:wrapReason(dt)})});return}if(g.streamId){vr(this,jE,CA).call(this,g);return}it(g.data)},jE=new WeakSet,CA=function(g){const it=g.streamId,ot=this.sourceName,ut=g.sourceName,ct=this.comObj,dt=this,ft=this.actionHandler[g.action],St={enqueue(Tt,kt=1,jt){if(this.isCancelled)return;const Rt=this.desiredSize;this.desiredSize-=kt,Rt>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),ct.postMessage({sourceName:ot,targetName:ut,stream:StreamKind.ENQUEUE,streamId:it,chunk:Tt},jt)},close(){this.isCancelled||(this.isCancelled=!0,ct.postMessage({sourceName:ot,targetName:ut,stream:StreamKind.CLOSE,streamId:it}),delete dt.streamSinks[it])},error(Tt){assert(Tt instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,ct.postMessage({sourceName:ot,targetName:ut,stream:StreamKind.ERROR,streamId:it,reason:wrapReason(Tt)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:g.desiredSize,ready:null};St.sinkCapability.resolve(),St.ready=St.sinkCapability.promise,this.streamSinks[it]=St,Promise.try(ft,g.data,St).then(function(){ct.postMessage({sourceName:ot,targetName:ut,stream:StreamKind.START_COMPLETE,streamId:it,success:!0})},function(Tt){ct.postMessage({sourceName:ot,targetName:ut,stream:StreamKind.START_COMPLETE,streamId:it,reason:wrapReason(Tt)})})},DE=new WeakSet,RA=function(g){const it=g.streamId,ot=this.sourceName,ut=g.sourceName,ct=this.comObj,dt=this.streamControllers[it],ft=this.streamSinks[it];switch(g.stream){case StreamKind.START_COMPLETE:g.success?dt.startCall.resolve():dt.startCall.reject(wrapReason(g.reason));break;case StreamKind.PULL_COMPLETE:g.success?dt.pullCall.resolve():dt.pullCall.reject(wrapReason(g.reason));break;case StreamKind.PULL:if(!ft){ct.postMessage({sourceName:ot,targetName:ut,stream:StreamKind.PULL_COMPLETE,streamId:it,success:!0});break}ft.desiredSize<=0&&g.desiredSize>0&&ft.sinkCapability.resolve(),ft.desiredSize=g.desiredSize,Promise.try(ft.onPull||onFn).then(function(){ct.postMessage({sourceName:ot,targetName:ut,stream:StreamKind.PULL_COMPLETE,streamId:it,success:!0})},function(Tt){ct.postMessage({sourceName:ot,targetName:ut,stream:StreamKind.PULL_COMPLETE,streamId:it,reason:wrapReason(Tt)})});break;case StreamKind.ENQUEUE:if(assert(dt,"enqueue should have stream controller"),dt.isClosed)break;dt.controller.enqueue(g.chunk);break;case StreamKind.CLOSE:if(assert(dt,"close should have stream controller"),dt.isClosed)break;dt.isClosed=!0,dt.controller.close(),vr(this,_g,T1).call(this,dt,it);break;case StreamKind.ERROR:assert(dt,"error should have stream controller"),dt.controller.error(wrapReason(g.reason)),vr(this,_g,T1).call(this,dt,it);break;case StreamKind.CANCEL_COMPLETE:g.success?dt.cancelCall.resolve():dt.cancelCall.reject(wrapReason(g.reason)),vr(this,_g,T1).call(this,dt,it);break;case StreamKind.CANCEL:if(!ft)break;const St=wrapReason(g.reason);Promise.try(ft.onCancel||onFn,St).then(function(){ct.postMessage({sourceName:ot,targetName:ut,stream:StreamKind.CANCEL_COMPLETE,streamId:it,success:!0})},function(Tt){ct.postMessage({sourceName:ot,targetName:ut,stream:StreamKind.CANCEL_COMPLETE,streamId:it,reason:wrapReason(Tt)})}),ft.sinkCapability.reject(St),ft.isCancelled=!0,delete this.streamSinks[it];break;default:throw new Error("Unexpected stream case")}},_g=new WeakSet,T1=async function(g,it){var ot,ut,ct;await Promise.allSettled([(ot=g.startCall)==null?void 0:ot.promise,(ut=g.pullCall)==null?void 0:ut.promise,(ct=g.cancelCall)==null?void 0:ct.promise]),delete this.streamControllers[it]};var jv;class BaseCanvasFactory{constructor({enableHWA:g=!1}){sr(this,jv,!1);ur(this,jv,g)}create(g,it){if(g<=0||it<=0)throw new Error("Invalid canvas size");const ot=this._createCanvas(g,it);return{canvas:ot,context:ot.getContext("2d",{willReadFrequently:!Ft(this,jv)})}}reset(g,it,ot){if(!g.canvas)throw new Error("Canvas is not specified");if(it<=0||ot<=0)throw new Error("Invalid canvas size");g.canvas.width=it,g.canvas.height=ot}destroy(g){if(!g.canvas)throw new Error("Canvas is not specified");g.canvas.width=0,g.canvas.height=0,g.canvas=null,g.context=null}_createCanvas(g,it){unreachable("Abstract method `_createCanvas` called.")}}jv=new WeakMap;class DOMCanvasFactory extends BaseCanvasFactory{constructor({ownerDocument:g=globalThis.document,enableHWA:it=!1}){super({enableHWA:it}),this._document=g}_createCanvas(g,it){const ot=this._document.createElement("canvas");return ot.width=g,ot.height=it,ot}}class BaseCMapReaderFactory{constructor({baseUrl:g=null,isCompressed:it=!0}){this.baseUrl=g,this.isCompressed=it}async fetch({name:g}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!g)throw new Error("CMap name must be specified.");const it=this.baseUrl+g+(this.isCompressed?".bcmap":"");return this._fetch(it).then(ot=>({cMapData:ot,isCompressed:this.isCompressed})).catch(ot=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${it}`)})}async _fetch(g){unreachable("Abstract method `_fetch` called.")}}class DOMCMapReaderFactory extends BaseCMapReaderFactory{async _fetch(g){const it=await fetchData(g,this.isCompressed?"arraybuffer":"text");return it instanceof ArrayBuffer?new Uint8Array(it):stringToBytes(it)}}class BaseFilterFactory{addFilter(g){return"none"}addHCMFilter(g,it){return"none"}addAlphaFilter(g){return"none"}addLuminosityFilter(g){return"none"}addHighlightHCMFilter(g,it,ot,ut,ct){return"none"}destroy(g=!1){}}var dp,ey,Xo,Yo,zn,fp,pp,Pn,Vn,mp,R0,nu,vm,ty,k1,iu,xm,LE,MA,Dv,sS,su,bm,gp,M0,yp,j0,Lv,oS,vp,D0;class DOMFilterFactory extends BaseFilterFactory{constructor({docId:it,ownerDocument:ot=globalThis.document}){super();sr(this,Pn);sr(this,mp);sr(this,nu);sr(this,ty);sr(this,iu);sr(this,LE);sr(this,Dv);sr(this,su);sr(this,gp);sr(this,yp);sr(this,Lv);sr(this,vp);sr(this,dp,void 0);sr(this,ey,void 0);sr(this,Xo,void 0);sr(this,Yo,void 0);sr(this,zn,void 0);sr(this,fp,void 0);sr(this,pp,0);ur(this,Yo,it),ur(this,zn,ot)}addFilter(it){if(!it)return"none";let ot=Ft(this,Pn,Vn).get(it);if(ot)return ot;const[ut,ct,dt]=vr(this,ty,k1).call(this,it),ft=it.length===1?ut:`${ut}${ct}${dt}`;if(ot=Ft(this,Pn,Vn).get(ft),ot)return Ft(this,Pn,Vn).set(it,ot),ot;const St=`g_${Ft(this,Yo)}_transfer_map_${Sn(this,pp)._++}`,Tt=vr(this,iu,xm).call(this,St);Ft(this,Pn,Vn).set(it,Tt),Ft(this,Pn,Vn).set(ft,Tt);const kt=vr(this,su,bm).call(this,St);return vr(this,yp,j0).call(this,ut,ct,dt,kt),Tt}addHCMFilter(it,ot){var zt;const ut=`${it}-${ot}`,ct="base";let dt=Ft(this,mp,R0).get(ct);if((dt==null?void 0:dt.key)===ut||(dt?((zt=dt.filter)==null||zt.remove(),dt.key=ut,dt.url="none",dt.filter=null):(dt={key:ut,url:"none",filter:null},Ft(this,mp,R0).set(ct,dt)),!it||!ot))return dt.url;const ft=vr(this,vp,D0).call(this,it);it=Util.makeHexColor(...ft);const St=vr(this,vp,D0).call(this,ot);if(ot=Util.makeHexColor(...St),Ft(this,nu,vm).style.color="",it==="#000000"&&ot==="#ffffff"||it===ot)return dt.url;const Tt=new Array(256);for(let Ht=0;Ht<=255;Ht++){const Zt=Ht/255;Tt[Ht]=Zt<=.03928?Zt/12.92:((Zt+.055)/1.055)**2.4}const kt=Tt.join(","),jt=`g_${Ft(this,Yo)}_hcm_filter`,Rt=dt.filter=vr(this,su,bm).call(this,jt);vr(this,yp,j0).call(this,kt,kt,kt,Rt),vr(this,Dv,sS).call(this,Rt);const $t=(Ht,Zt)=>{const Bt=ft[Ht]/255,Ut=St[Ht]/255,Kt=new Array(Zt+1);for(let Yt=0;Yt<=Zt;Yt++)Kt[Yt]=Bt+Yt/Zt*(Ut-Bt);return Kt.join(",")};return vr(this,yp,j0).call(this,$t(0,5),$t(1,5),$t(2,5),Rt),dt.url=vr(this,iu,xm).call(this,jt),dt.url}addAlphaFilter(it){let ot=Ft(this,Pn,Vn).get(it);if(ot)return ot;const[ut]=vr(this,ty,k1).call(this,[it]),ct=`alpha_${ut}`;if(ot=Ft(this,Pn,Vn).get(ct),ot)return Ft(this,Pn,Vn).set(it,ot),ot;const dt=`g_${Ft(this,Yo)}_alpha_map_${Sn(this,pp)._++}`,ft=vr(this,iu,xm).call(this,dt);Ft(this,Pn,Vn).set(it,ft),Ft(this,Pn,Vn).set(ct,ft);const St=vr(this,su,bm).call(this,dt);return vr(this,Lv,oS).call(this,ut,St),ft}addLuminosityFilter(it){let ot=Ft(this,Pn,Vn).get(it||"luminosity");if(ot)return ot;let ut,ct;if(it?([ut]=vr(this,ty,k1).call(this,[it]),ct=`luminosity_${ut}`):ct="luminosity",ot=Ft(this,Pn,Vn).get(ct),ot)return Ft(this,Pn,Vn).set(it,ot),ot;const dt=`g_${Ft(this,Yo)}_luminosity_map_${Sn(this,pp)._++}`,ft=vr(this,iu,xm).call(this,dt);Ft(this,Pn,Vn).set(it,ft),Ft(this,Pn,Vn).set(ct,ft);const St=vr(this,su,bm).call(this,dt);return vr(this,LE,MA).call(this,St),it&&vr(this,Lv,oS).call(this,ut,St),ft}addHighlightHCMFilter(it,ot,ut,ct,dt){var Ut;const ft=`${ot}-${ut}-${ct}-${dt}`;let St=Ft(this,mp,R0).get(it);if((St==null?void 0:St.key)===ft||(St?((Ut=St.filter)==null||Ut.remove(),St.key=ft,St.url="none",St.filter=null):(St={key:ft,url:"none",filter:null},Ft(this,mp,R0).set(it,St)),!ot||!ut))return St.url;const[Tt,kt]=[ot,ut].map(vr(this,vp,D0).bind(this));let jt=Math.round(.2126*Tt[0]+.7152*Tt[1]+.0722*Tt[2]),Rt=Math.round(.2126*kt[0]+.7152*kt[1]+.0722*kt[2]),[$t,zt]=[ct,dt].map(vr(this,vp,D0).bind(this));Rt<jt&&([jt,Rt,$t,zt]=[Rt,jt,zt,$t]),Ft(this,nu,vm).style.color="";const Ht=(Kt,Yt,Jt)=>{const er=new Array(256),tr=(Rt-jt)/Jt,rr=Kt/255,hr=(Yt-Kt)/(255*Jt);let ar=0;for(let or=0;or<=Jt;or++){const cr=Math.round(jt+or*tr),gr=rr+or*hr;for(let yr=ar;yr<=cr;yr++)er[yr]=gr;ar=cr+1}for(let or=ar;or<256;or++)er[or]=er[ar-1];return er.join(",")},Zt=`g_${Ft(this,Yo)}_hcm_${it}_filter`,Bt=St.filter=vr(this,su,bm).call(this,Zt);return vr(this,Dv,sS).call(this,Bt),vr(this,yp,j0).call(this,Ht($t[0],zt[0],5),Ht($t[1],zt[1],5),Ht($t[2],zt[2],5),Bt),St.url=vr(this,iu,xm).call(this,Zt),St.url}destroy(it=!1){var ot,ut,ct,dt;it&&((ot=Ft(this,fp))!=null&&ot.size)||((ut=Ft(this,Xo))==null||ut.parentNode.parentNode.remove(),ur(this,Xo,null),(ct=Ft(this,ey))==null||ct.clear(),ur(this,ey,null),(dt=Ft(this,fp))==null||dt.clear(),ur(this,fp,null),ur(this,pp,0))}}dp=new WeakMap,ey=new WeakMap,Xo=new WeakMap,Yo=new WeakMap,zn=new WeakMap,fp=new WeakMap,pp=new WeakMap,Pn=new WeakSet,Vn=function(){return Ft(this,ey)||ur(this,ey,new Map)},mp=new WeakSet,R0=function(){return Ft(this,fp)||ur(this,fp,new Map)},nu=new WeakSet,vm=function(){if(!Ft(this,Xo)){const it=Ft(this,zn).createElement("div"),{style:ot}=it;ot.visibility="hidden",ot.contain="strict",ot.width=ot.height=0,ot.position="absolute",ot.top=ot.left=0,ot.zIndex=-1;const ut=Ft(this,zn).createElementNS(SVG_NS,"svg");ut.setAttribute("width",0),ut.setAttribute("height",0),ur(this,Xo,Ft(this,zn).createElementNS(SVG_NS,"defs")),it.append(ut),ut.append(Ft(this,Xo)),Ft(this,zn).body.append(it)}return Ft(this,Xo)},ty=new WeakSet,k1=function(it){if(it.length===1){const Tt=it[0],kt=new Array(256);for(let Rt=0;Rt<256;Rt++)kt[Rt]=Tt[Rt]/255;const jt=kt.join(",");return[jt,jt,jt]}const[ot,ut,ct]=it,dt=new Array(256),ft=new Array(256),St=new Array(256);for(let Tt=0;Tt<256;Tt++)dt[Tt]=ot[Tt]/255,ft[Tt]=ut[Tt]/255,St[Tt]=ct[Tt]/255;return[dt.join(","),ft.join(","),St.join(",")]},iu=new WeakSet,xm=function(it){if(Ft(this,dp)===void 0){ur(this,dp,"");const ot=Ft(this,zn).URL;ot!==Ft(this,zn).baseURI&&(isDataScheme(ot)?warn('#createUrl: ignore "data:"-URL for performance reasons.'):ur(this,dp,updateUrlHash(ot,"")))}return`url(${Ft(this,dp)}#${it})`},LE=new WeakSet,MA=function(it){const ot=Ft(this,zn).createElementNS(SVG_NS,"feColorMatrix");ot.setAttribute("type","matrix"),ot.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),it.append(ot)},Dv=new WeakSet,sS=function(it){const ot=Ft(this,zn).createElementNS(SVG_NS,"feColorMatrix");ot.setAttribute("type","matrix"),ot.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),it.append(ot)},su=new WeakSet,bm=function(it){const ot=Ft(this,zn).createElementNS(SVG_NS,"filter");return ot.setAttribute("color-interpolation-filters","sRGB"),ot.setAttribute("id",it),Ft(this,nu,vm).append(ot),ot},gp=new WeakSet,M0=function(it,ot,ut){const ct=Ft(this,zn).createElementNS(SVG_NS,ot);ct.setAttribute("type","discrete"),ct.setAttribute("tableValues",ut),it.append(ct)},yp=new WeakSet,j0=function(it,ot,ut,ct){const dt=Ft(this,zn).createElementNS(SVG_NS,"feComponentTransfer");ct.append(dt),vr(this,gp,M0).call(this,dt,"feFuncR",it),vr(this,gp,M0).call(this,dt,"feFuncG",ot),vr(this,gp,M0).call(this,dt,"feFuncB",ut)},Lv=new WeakSet,oS=function(it,ot){const ut=Ft(this,zn).createElementNS(SVG_NS,"feComponentTransfer");ot.append(ut),vr(this,gp,M0).call(this,ut,"feFuncA",it)},vp=new WeakSet,D0=function(it){return Ft(this,nu,vm).style.color=it,getRGB(getComputedStyle(Ft(this,nu,vm)).getPropertyValue("color"))};class BaseStandardFontDataFactory{constructor({baseUrl:g=null}){this.baseUrl=g}async fetch({filename:g}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!g)throw new Error("Font filename must be specified.");const it=`${this.baseUrl}${g}`;return this._fetch(it).catch(ot=>{throw new Error(`Unable to load font data at: ${it}`)})}async _fetch(g){unreachable("Abstract method `_fetch` called.")}}class DOMStandardFontDataFactory extends BaseStandardFontDataFactory{async _fetch(g){const it=await fetchData(g,"arraybuffer");return new Uint8Array(it)}}class BaseWasmFactory{constructor({baseUrl:g=null}){this.baseUrl=g}async fetch({filename:g}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!g)throw new Error("Wasm filename must be specified.");const it=`${this.baseUrl}${g}`;return this._fetch(it).catch(ot=>{throw new Error(`Unable to load wasm data at: ${it}`)})}async _fetch(g){unreachable("Abstract method `_fetch` called.")}}class DOMWasmFactory extends BaseWasmFactory{async _fetch(g){const it=await fetchData(g,"arraybuffer");return new Uint8Array(it)}}isNodeJS&&warn("Please use the `legacy` build in Node.js environments.");async function node_utils_fetchData(et){const it=await process.getBuiltinModule("fs").promises.readFile(et);return new Uint8Array(it)}class NodeFilterFactory extends BaseFilterFactory{}class NodeCanvasFactory extends BaseCanvasFactory{_createCanvas(g,it){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(g,it)}}class NodeCMapReaderFactory extends BaseCMapReaderFactory{async _fetch(g){return node_utils_fetchData(g)}}class NodeStandardFontDataFactory extends BaseStandardFontDataFactory{async _fetch(g){return node_utils_fetchData(g)}}class NodeWasmFactory extends BaseWasmFactory{async _fetch(g){return node_utils_fetchData(g)}}const FORCED_DEPENDENCY_LABEL="__forcedDependency",{floor,ceil}=Math;function expandBBox(et,g,it,ot,ut,ct){et[g*4+0]=Math.min(et[g*4+0],it),et[g*4+1]=Math.min(et[g*4+1],ot),et[g*4+2]=Math.max(et[g*4+2],ut),et[g*4+3]=Math.max(et[g*4+3],ct)}const EMPTY_BBOX=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];var ry,ou;class BBoxReader{constructor(g,it){sr(this,ry,void 0);sr(this,ou,void 0);ur(this,ry,g),ur(this,ou,it)}get length(){return Ft(this,ry).length}isEmpty(g){return Ft(this,ry)[g]===EMPTY_BBOX}minX(g){return Ft(this,ou)[g*4+0]/256}minY(g){return Ft(this,ou)[g*4+1]/256}maxX(g){return(Ft(this,ou)[g*4+2]+1)/256}maxY(g){return(Ft(this,ou)[g*4+3]+1)/256}}ry=new WeakMap,ou=new WeakMap;const ensureDebugMetadata=(et,g)=>{if(!et)return;let it=et.get(g);return it||(it={dependencies:new Set,isRenderingOperation:!1},et.set(g,it)),it};var ts,rs,xp,zs,bp,Zo,en,rn,Qo,ns,Nv,ny,Ep,wp,Jo,Gn,vo,Ov,aS;class CanvasDependencyTracker{constructor(g,it,ot=!1){sr(this,Ov);sr(this,ts,{__proto__:null});sr(this,rs,{__proto__:null,transform:[],moveText:[],sameLineText:[],[FORCED_DEPENDENCY_LABEL]:[]});sr(this,xp,new Map);sr(this,zs,[]);sr(this,bp,[]);sr(this,Zo,[[1,0,0,1,0,0]]);sr(this,en,[-1/0,-1/0,1/0,1/0]);sr(this,rn,new Float64Array([1/0,1/0,-1/0,-1/0]));sr(this,Qo,-1);sr(this,ns,new Set);sr(this,Nv,new Map);sr(this,ny,new Map);sr(this,Ep,void 0);sr(this,wp,void 0);sr(this,Jo,void 0);sr(this,Gn,void 0);sr(this,vo,void 0);ur(this,Ep,g.width),ur(this,wp,g.height),vr(this,Ov,aS).call(this,it),ot&&ur(this,vo,new Map)}growOperationsCount(g){g>=Ft(this,Gn).length&&vr(this,Ov,aS).call(this,g,Ft(this,Gn))}save(g){return ur(this,ts,{__proto__:Ft(this,ts)}),ur(this,rs,{__proto__:Ft(this,rs),transform:{__proto__:Ft(this,rs).transform},moveText:{__proto__:Ft(this,rs).moveText},sameLineText:{__proto__:Ft(this,rs).sameLineText},[FORCED_DEPENDENCY_LABEL]:{__proto__:Ft(this,rs)[FORCED_DEPENDENCY_LABEL]}}),ur(this,en,{__proto__:Ft(this,en)}),Ft(this,zs).push(g),this}restore(g){var ut;const it=Object.getPrototypeOf(Ft(this,ts));if(it===null)return this;ur(this,ts,it),ur(this,rs,Object.getPrototypeOf(Ft(this,rs))),ur(this,en,Object.getPrototypeOf(Ft(this,en)));const ot=Ft(this,zs).pop();return ot!==void 0&&((ut=ensureDebugMetadata(Ft(this,vo),g))==null||ut.dependencies.add(ot),Ft(this,Gn)[g]=Ft(this,Gn)[ot]),this}recordOpenMarker(g){return Ft(this,zs).push(g),this}getOpenMarker(){return Ft(this,zs).length===0?null:Ft(this,zs).at(-1)}recordCloseMarker(g){var ot;const it=Ft(this,zs).pop();return it!==void 0&&((ot=ensureDebugMetadata(Ft(this,vo),g))==null||ot.dependencies.add(it),Ft(this,Gn)[g]=Ft(this,Gn)[it]),this}beginMarkedContent(g){return Ft(this,bp).push(g),this}endMarkedContent(g){var ot;const it=Ft(this,bp).pop();return it!==void 0&&((ot=ensureDebugMetadata(Ft(this,vo),g))==null||ot.dependencies.add(it),Ft(this,Gn)[g]=Ft(this,Gn)[it]),this}pushBaseTransform(g){return Ft(this,Zo).push(Util.multiplyByDOMMatrix(Ft(this,Zo).at(-1),g.getTransform())),this}popBaseTransform(){return Ft(this,Zo).length>1&&Ft(this,Zo).pop(),this}recordSimpleData(g,it){return Ft(this,ts)[g]=it,this}recordIncrementalData(g,it){return Ft(this,rs)[g].push(it),this}resetIncrementalData(g,it){return Ft(this,rs)[g].length=0,this}recordNamedData(g,it){return Ft(this,xp).set(g,it),this}recordSimpleDataFromNamed(g,it,ot){Ft(this,ts)[g]=Ft(this,xp).get(it)??ot}recordFutureForcedDependency(g,it){return this.recordIncrementalData(FORCED_DEPENDENCY_LABEL,it),this}inheritSimpleDataAsFutureForcedDependencies(g){for(const it of g)it in Ft(this,ts)&&this.recordFutureForcedDependency(it,Ft(this,ts)[it]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const g of Ft(this,ns))this.recordFutureForcedDependency(FORCED_DEPENDENCY_LABEL,g);return this}resetBBox(g){return Ft(this,Qo)!==g&&(ur(this,Qo,g),Ft(this,rn)[0]=1/0,Ft(this,rn)[1]=1/0,Ft(this,rn)[2]=-1/0,Ft(this,rn)[3]=-1/0),this}recordClipBox(g,it,ot,ut,ct,dt){const ft=Util.multiplyByDOMMatrix(Ft(this,Zo).at(-1),it.getTransform()),St=[1/0,1/0,-1/0,-1/0];Util.axialAlignedBoundingBox([ot,ct,ut,dt],ft,St);const Tt=Util.intersect(Ft(this,en),St);return Tt?(Ft(this,en)[0]=Tt[0],Ft(this,en)[1]=Tt[1],Ft(this,en)[2]=Tt[2],Ft(this,en)[3]=Tt[3]):(Ft(this,en)[0]=Ft(this,en)[1]=1/0,Ft(this,en)[2]=Ft(this,en)[3]=-1/0),this}recordBBox(g,it,ot,ut,ct,dt){const ft=Ft(this,en);if(ft[0]===1/0)return this;const St=Util.multiplyByDOMMatrix(Ft(this,Zo).at(-1),it.getTransform());if(ft[0]===-1/0)return Util.axialAlignedBoundingBox([ot,ct,ut,dt],St,Ft(this,rn)),this;const Tt=[1/0,1/0,-1/0,-1/0];return Util.axialAlignedBoundingBox([ot,ct,ut,dt],St,Tt),Ft(this,rn)[0]=Math.min(Ft(this,rn)[0],Math.max(Tt[0],ft[0])),Ft(this,rn)[1]=Math.min(Ft(this,rn)[1],Math.max(Tt[1],ft[1])),Ft(this,rn)[2]=Math.max(Ft(this,rn)[2],Math.min(Tt[2],ft[2])),Ft(this,rn)[3]=Math.max(Ft(this,rn)[3],Math.min(Tt[3],ft[3])),this}recordCharacterBBox(g,it,ot,ut=1,ct=0,dt=0,ft){const St=ot.bbox;let Tt,kt;if(St&&(Tt=St[2]!==St[0]&&St[3]!==St[1]&&Ft(this,ny).get(ot),Tt!==!1&&(kt=[0,0,0,0],Util.axialAlignedBoundingBox(St,ot.fontMatrix,kt),(ut!==1||ct!==0||dt!==0)&&Util.scaleMinMax([ut,0,0,-ut,ct,dt],kt),Tt)))return this.recordBBox(g,it,kt[0],kt[2],kt[1],kt[3]);if(!ft)return this.recordFullPageBBox(g);const jt=ft();return St&&kt&&Tt===void 0&&(Tt=kt[0]<=ct-jt.actualBoundingBoxLeft&&kt[2]>=ct+jt.actualBoundingBoxRight&&kt[1]<=dt-jt.actualBoundingBoxAscent&&kt[3]>=dt+jt.actualBoundingBoxDescent,Ft(this,ny).set(ot,Tt),Tt)?this.recordBBox(g,it,kt[0],kt[2],kt[1],kt[3]):this.recordBBox(g,it,ct-jt.actualBoundingBoxLeft,ct+jt.actualBoundingBoxRight,dt-jt.actualBoundingBoxAscent,dt+jt.actualBoundingBoxDescent)}recordFullPageBBox(g){return Ft(this,rn)[0]=Math.max(0,Ft(this,en)[0]),Ft(this,rn)[1]=Math.max(0,Ft(this,en)[1]),Ft(this,rn)[2]=Math.min(Ft(this,Ep),Ft(this,en)[2]),Ft(this,rn)[3]=Math.min(Ft(this,wp),Ft(this,en)[3]),this}getSimpleIndex(g){return Ft(this,ts)[g]}recordDependencies(g,it){const ot=Ft(this,ns),ut=Ft(this,ts),ct=Ft(this,rs);for(const dt of it)dt in Ft(this,ts)?ot.add(ut[dt]):dt in ct&&ct[dt].forEach(ot.add,ot);return this}recordNamedDependency(g,it){return Ft(this,xp).has(it)&&Ft(this,ns).add(Ft(this,xp).get(it)),this}recordOperation(g,it=!1){if(this.recordDependencies(g,[FORCED_DEPENDENCY_LABEL]),Ft(this,vo)){const ot=ensureDebugMetadata(Ft(this,vo),g),{dependencies:ut}=ot;Ft(this,ns).forEach(ut.add,ut),Ft(this,zs).forEach(ut.add,ut),Ft(this,bp).forEach(ut.add,ut),ut.delete(g),ot.isRenderingOperation=!0}if(Ft(this,Qo)===g){const ot=floor(Ft(this,rn)[0]*256/Ft(this,Ep)),ut=floor(Ft(this,rn)[1]*256/Ft(this,wp)),ct=ceil(Ft(this,rn)[2]*256/Ft(this,Ep)),dt=ceil(Ft(this,rn)[3]*256/Ft(this,wp));expandBBox(Ft(this,Jo),g,ot,ut,ct,dt);for(const ft of Ft(this,ns))ft!==g&&expandBBox(Ft(this,Jo),ft,ot,ut,ct,dt);for(const ft of Ft(this,zs))ft!==g&&expandBBox(Ft(this,Jo),ft,ot,ut,ct,dt);for(const ft of Ft(this,bp))ft!==g&&expandBBox(Ft(this,Jo),ft,ot,ut,ct,dt);it||(Ft(this,ns).clear(),ur(this,Qo,-1))}return this}recordShowTextOperation(g,it=!1){const ot=Array.from(Ft(this,ns));this.recordOperation(g,it),this.recordIncrementalData("sameLineText",g);for(const ut of ot)this.recordIncrementalData("sameLineText",ut);return this}bboxToClipBoxDropOperation(g,it=!1){return Ft(this,Qo)===g&&(ur(this,Qo,-1),Ft(this,en)[0]=Math.max(Ft(this,en)[0],Ft(this,rn)[0]),Ft(this,en)[1]=Math.max(Ft(this,en)[1],Ft(this,rn)[1]),Ft(this,en)[2]=Math.min(Ft(this,en)[2],Ft(this,rn)[2]),Ft(this,en)[3]=Math.min(Ft(this,en)[3],Ft(this,rn)[3]),it||Ft(this,ns).clear()),this}_takePendingDependencies(){const g=Ft(this,ns);return ur(this,ns,new Set),g}_extractOperation(g){const it=Ft(this,Nv).get(g);return Ft(this,Nv).delete(g),it}_pushPendingDependencies(g){for(const it of g)Ft(this,ns).add(it)}take(){return Ft(this,ny).clear(),new BBoxReader(Ft(this,Gn),Ft(this,Jo))}takeDebugMetadata(){return Ft(this,vo)}}ts=new WeakMap,rs=new WeakMap,xp=new WeakMap,zs=new WeakMap,bp=new WeakMap,Zo=new WeakMap,en=new WeakMap,rn=new WeakMap,Qo=new WeakMap,ns=new WeakMap,Nv=new WeakMap,ny=new WeakMap,Ep=new WeakMap,wp=new WeakMap,Jo=new WeakMap,Gn=new WeakMap,vo=new WeakMap,Ov=new WeakSet,aS=function(g,it){const ot=new ArrayBuffer(g*4);ur(this,Jo,new Uint8ClampedArray(ot)),ur(this,Gn,new Uint32Array(ot)),it&&it.length>0?(Ft(this,Gn).set(it),Ft(this,Gn).fill(EMPTY_BBOX,it.length)):Ft(this,Gn).fill(EMPTY_BBOX)};var an,vn,Gs,iy,sy;const KS=class KS{constructor(g,it,ot){sr(this,an,void 0);sr(this,vn,void 0);sr(this,Gs,void 0);sr(this,iy,0);sr(this,sy,0);if(g instanceof KS&&Ft(g,Gs)===!!ot)return g;ur(this,an,g),ur(this,vn,it),ur(this,Gs,!!ot)}growOperationsCount(){throw new Error("Unreachable")}save(g){return Sn(this,sy)._++,Ft(this,an).save(Ft(this,vn)),this}restore(g){return Ft(this,sy)>0&&(Ft(this,an).restore(Ft(this,vn)),Sn(this,sy)._--),this}recordOpenMarker(g){return Sn(this,iy)._++,this}getOpenMarker(){return Ft(this,iy)>0?Ft(this,vn):Ft(this,an).getOpenMarker()}recordCloseMarker(g){return Sn(this,iy)._--,this}beginMarkedContent(g){return this}endMarkedContent(g){return this}pushBaseTransform(g){return Ft(this,an).pushBaseTransform(g),this}popBaseTransform(){return Ft(this,an).popBaseTransform(),this}recordSimpleData(g,it){return Ft(this,an).recordSimpleData(g,Ft(this,vn)),this}recordIncrementalData(g,it){return Ft(this,an).recordIncrementalData(g,Ft(this,vn)),this}resetIncrementalData(g,it){return Ft(this,an).resetIncrementalData(g,Ft(this,vn)),this}recordNamedData(g,it){return this}recordSimpleDataFromNamed(g,it,ot){return Ft(this,an).recordSimpleDataFromNamed(g,it,Ft(this,vn)),this}recordFutureForcedDependency(g,it){return Ft(this,an).recordFutureForcedDependency(g,Ft(this,vn)),this}inheritSimpleDataAsFutureForcedDependencies(g){return Ft(this,an).inheritSimpleDataAsFutureForcedDependencies(g),this}inheritPendingDependenciesAsFutureForcedDependencies(){return Ft(this,an).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(g){return Ft(this,Gs)||Ft(this,an).resetBBox(Ft(this,vn)),this}recordClipBox(g,it,ot,ut,ct,dt){return Ft(this,Gs)||Ft(this,an).recordClipBox(Ft(this,vn),it,ot,ut,ct,dt),this}recordBBox(g,it,ot,ut,ct,dt){return Ft(this,Gs)||Ft(this,an).recordBBox(Ft(this,vn),it,ot,ut,ct,dt),this}recordCharacterBBox(g,it,ot,ut,ct,dt,ft){return Ft(this,Gs)||Ft(this,an).recordCharacterBBox(Ft(this,vn),it,ot,ut,ct,dt,ft),this}recordFullPageBBox(g){return Ft(this,Gs)||Ft(this,an).recordFullPageBBox(Ft(this,vn)),this}getSimpleIndex(g){return Ft(this,an).getSimpleIndex(g)}recordDependencies(g,it){return Ft(this,an).recordDependencies(Ft(this,vn),it),this}recordNamedDependency(g,it){return Ft(this,an).recordNamedDependency(Ft(this,vn),it),this}recordOperation(g){return Ft(this,an).recordOperation(Ft(this,vn),!0),this}recordShowTextOperation(g){return Ft(this,an).recordShowTextOperation(Ft(this,vn),!0),this}bboxToClipBoxDropOperation(g){return Ft(this,Gs)||Ft(this,an).bboxToClipBoxDropOperation(Ft(this,vn),!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}};an=new WeakMap,vn=new WeakMap,Gs=new WeakMap,iy=new WeakMap,sy=new WeakMap;let CanvasNestedDependencyTracker=KS;const Dependencies={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},PathType={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function applyBoundingBox(et,g){if(!g)return;const it=g[2]-g[0],ot=g[3]-g[1],ut=new Path2D;ut.rect(g[0],g[1],it,ot),et.clip(ut)}class BaseShadingPattern{isModifyingCurrentTransform(){return!1}getPattern(){unreachable("Abstract method `getPattern` called.")}}class RadialAxialShadingPattern extends BaseShadingPattern{constructor(g){super(),this._type=g[1],this._bbox=g[2],this._colorStops=g[3],this._p0=g[4],this._p1=g[5],this._r0=g[6],this._r1=g[7],this.matrix=null}_createGradient(g){let it;this._type==="axial"?it=g.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(it=g.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const ot of this._colorStops)it.addColorStop(ot[0],ot[1]);return it}getPattern(g,it,ot,ut){let ct;if(ut===PathType.STROKE||ut===PathType.FILL){const dt=it.current.getClippedPathBoundingBox(ut,getCurrentTransform(g))||[0,0,0,0],ft=Math.ceil(dt[2]-dt[0])||1,St=Math.ceil(dt[3]-dt[1])||1,Tt=it.cachedCanvases.getCanvas("pattern",ft,St),kt=Tt.context;kt.clearRect(0,0,kt.canvas.width,kt.canvas.height),kt.beginPath(),kt.rect(0,0,kt.canvas.width,kt.canvas.height),kt.translate(-dt[0],-dt[1]),ot=Util.transform(ot,[1,0,0,1,dt[0],dt[1]]),kt.transform(...it.baseTransform),this.matrix&&kt.transform(...this.matrix),applyBoundingBox(kt,this._bbox),kt.fillStyle=this._createGradient(kt),kt.fill(),ct=g.createPattern(Tt.canvas,"no-repeat");const jt=new DOMMatrix(ot);ct.setTransform(jt)}else applyBoundingBox(g,this._bbox),ct=this._createGradient(g);return ct}}function drawTriangle(et,g,it,ot,ut,ct,dt,ft){const St=g.coords,Tt=g.colors,kt=et.data,jt=et.width*4;let Rt;St[it+1]>St[ot+1]&&(Rt=it,it=ot,ot=Rt,Rt=ct,ct=dt,dt=Rt),St[ot+1]>St[ut+1]&&(Rt=ot,ot=ut,ut=Rt,Rt=dt,dt=ft,ft=Rt),St[it+1]>St[ot+1]&&(Rt=it,it=ot,ot=Rt,Rt=ct,ct=dt,dt=Rt);const $t=(St[it]+g.offsetX)*g.scaleX,zt=(St[it+1]+g.offsetY)*g.scaleY,Ht=(St[ot]+g.offsetX)*g.scaleX,Zt=(St[ot+1]+g.offsetY)*g.scaleY,Bt=(St[ut]+g.offsetX)*g.scaleX,Ut=(St[ut+1]+g.offsetY)*g.scaleY;if(zt>=Ut)return;const Kt=Tt[ct],Yt=Tt[ct+1],Jt=Tt[ct+2],er=Tt[dt],tr=Tt[dt+1],rr=Tt[dt+2],hr=Tt[ft],ar=Tt[ft+1],or=Tt[ft+2],cr=Math.round(zt),gr=Math.round(Ut);let yr,xr,dr,pr,nr,ir,mr,lr;for(let br=cr;br<=gr;br++){if(br<Zt){const Ar=br<zt?0:(zt-br)/(zt-Zt);yr=$t-($t-Ht)*Ar,xr=Kt-(Kt-er)*Ar,dr=Yt-(Yt-tr)*Ar,pr=Jt-(Jt-rr)*Ar}else{let Ar;br>Ut?Ar=1:Zt===Ut?Ar=0:Ar=(Zt-br)/(Zt-Ut),yr=Ht-(Ht-Bt)*Ar,xr=er-(er-hr)*Ar,dr=tr-(tr-ar)*Ar,pr=rr-(rr-or)*Ar}let Er;br<zt?Er=0:br>Ut?Er=1:Er=(zt-br)/(zt-Ut),nr=$t-($t-Bt)*Er,ir=Kt-(Kt-hr)*Er,mr=Yt-(Yt-ar)*Er,lr=Jt-(Jt-or)*Er;const Sr=Math.round(Math.min(yr,nr)),_r=Math.round(Math.max(yr,nr));let wr=jt*br+Sr*4;for(let Ar=Sr;Ar<=_r;Ar++)Er=(yr-Ar)/(yr-nr),Er<0?Er=0:Er>1&&(Er=1),kt[wr++]=xr-(xr-ir)*Er|0,kt[wr++]=dr-(dr-mr)*Er|0,kt[wr++]=pr-(pr-lr)*Er|0,kt[wr++]=255}}function drawFigure(et,g,it){const ot=g.coords,ut=g.colors;let ct,dt;switch(g.type){case"lattice":const ft=g.verticesPerRow,St=Math.floor(ot.length/ft)-1,Tt=ft-1;for(ct=0;ct<St;ct++){let kt=ct*ft;for(let jt=0;jt<Tt;jt++,kt++)drawTriangle(et,it,ot[kt],ot[kt+1],ot[kt+ft],ut[kt],ut[kt+1],ut[kt+ft]),drawTriangle(et,it,ot[kt+ft+1],ot[kt+1],ot[kt+ft],ut[kt+ft+1],ut[kt+1],ut[kt+ft])}break;case"triangles":for(ct=0,dt=ot.length;ct<dt;ct+=3)drawTriangle(et,it,ot[ct],ot[ct+1],ot[ct+2],ut[ct],ut[ct+1],ut[ct+2]);break;default:throw new Error("illegal figure")}}class MeshShadingPattern extends BaseShadingPattern{constructor(g){super(),this._coords=g[2],this._colors=g[3],this._figures=g[4],this._bounds=g[5],this._bbox=g[6],this._background=g[7],this.matrix=null}_createMeshCanvas(g,it,ot){const ft=Math.floor(this._bounds[0]),St=Math.floor(this._bounds[1]),Tt=Math.ceil(this._bounds[2])-ft,kt=Math.ceil(this._bounds[3])-St,jt=Math.min(Math.ceil(Math.abs(Tt*g[0]*1.1)),3e3),Rt=Math.min(Math.ceil(Math.abs(kt*g[1]*1.1)),3e3),$t=Tt/jt,zt=kt/Rt,Ht={coords:this._coords,colors:this._colors,offsetX:-ft,offsetY:-St,scaleX:1/$t,scaleY:1/zt},Zt=jt+2*2,Bt=Rt+2*2,Ut=ot.getCanvas("mesh",Zt,Bt),Kt=Ut.context,Yt=Kt.createImageData(jt,Rt);if(it){const er=Yt.data;for(let tr=0,rr=er.length;tr<rr;tr+=4)er[tr]=it[0],er[tr+1]=it[1],er[tr+2]=it[2],er[tr+3]=255}for(const er of this._figures)drawFigure(Yt,er,Ht);return Kt.putImageData(Yt,2,2),{canvas:Ut.canvas,offsetX:ft-2*$t,offsetY:St-2*zt,scaleX:$t,scaleY:zt}}isModifyingCurrentTransform(){return!0}getPattern(g,it,ot,ut){applyBoundingBox(g,this._bbox);const ct=new Float32Array(2);if(ut===PathType.SHADING)Util.singularValueDecompose2dScale(getCurrentTransform(g),ct);else if(this.matrix){Util.singularValueDecompose2dScale(this.matrix,ct);const[ft,St]=ct;Util.singularValueDecompose2dScale(it.baseTransform,ct),ct[0]*=ft,ct[1]*=St}else Util.singularValueDecompose2dScale(it.baseTransform,ct);const dt=this._createMeshCanvas(ct,ut===PathType.SHADING?null:this._background,it.cachedCanvases);return ut!==PathType.SHADING&&(g.setTransform(...it.baseTransform),this.matrix&&g.transform(...this.matrix)),g.translate(dt.offsetX,dt.offsetY),g.scale(dt.scaleX,dt.scaleY),g.createPattern(dt.canvas,"no-repeat")}}class DummyShadingPattern extends BaseShadingPattern{getPattern(){return"hotpink"}}function getShadingPattern(et){switch(et[0]){case"RadialAxial":return new RadialAxialShadingPattern(et);case"Mesh":return new MeshShadingPattern(et);case"Dummy":return new DummyShadingPattern}throw new Error(`Unknown IR type: ${et[0]}`)}const PaintType={COLORED:1,UNCOLORED:2},NE=class NE{constructor(g,it,ot,ut){this.color=g[1],this.operatorList=g[2],this.matrix=g[3],this.bbox=g[4],this.xstep=g[5],this.ystep=g[6],this.paintType=g[7],this.tilingType=g[8],this.ctx=it,this.canvasGraphicsFactory=ot,this.baseTransform=ut}createPatternCanvas(g,it){var ir,mr;const{bbox:ot,operatorList:ut,paintType:ct,tilingType:dt,color:ft,canvasGraphicsFactory:St}=this;let{xstep:Tt,ystep:kt}=this;Tt=Math.abs(Tt),kt=Math.abs(kt),info("TilingType: "+dt);const jt=ot[0],Rt=ot[1],$t=ot[2],zt=ot[3],Ht=$t-jt,Zt=zt-Rt,Bt=new Float32Array(2);Util.singularValueDecompose2dScale(this.matrix,Bt);const[Ut,Kt]=Bt;Util.singularValueDecompose2dScale(this.baseTransform,Bt);const Yt=Ut*Bt[0],Jt=Kt*Bt[1];let er=Ht,tr=Zt,rr=!1,hr=!1;const ar=Math.ceil(Tt*Yt),or=Math.ceil(kt*Jt),cr=Math.ceil(Ht*Yt),gr=Math.ceil(Zt*Jt);ar>=cr?er=Tt:rr=!0,or>=gr?tr=kt:hr=!0;const yr=this.getSizeAndScale(er,this.ctx.canvas.width,Yt),xr=this.getSizeAndScale(tr,this.ctx.canvas.height,Jt),dr=g.cachedCanvases.getCanvas("pattern",yr.size,xr.size),pr=dr.context,nr=St.createCanvasGraphics(pr,it);if(nr.groupLevel=g.groupLevel,this.setFillAndStrokeStyleToContext(nr,ct,ft),pr.translate(-yr.scale*jt,-xr.scale*Rt),nr.transform(0,yr.scale,0,0,xr.scale,0,0),pr.save(),(ir=nr.dependencyTracker)==null||ir.save(),this.clipBbox(nr,jt,Rt,$t,zt),nr.baseTransform=getCurrentTransform(nr.ctx),nr.executeOperatorList(ut),nr.endDrawing(),(mr=nr.dependencyTracker)==null||mr.restore(),pr.restore(),rr||hr){const lr=dr.canvas;rr&&(er=Tt),hr&&(tr=kt);const br=this.getSizeAndScale(er,this.ctx.canvas.width,Yt),Er=this.getSizeAndScale(tr,this.ctx.canvas.height,Jt),Sr=br.size,_r=Er.size,wr=g.cachedCanvases.getCanvas("pattern-workaround",Sr,_r),Ar=wr.context,kr=rr?Math.floor(Ht/Tt):0,Tr=hr?Math.floor(Zt/kt):0;for(let Pr=0;Pr<=kr;Pr++)for(let Lr=0;Lr<=Tr;Lr++)Ar.drawImage(lr,Sr*Pr,_r*Lr,Sr,_r,0,0,Sr,_r);return{canvas:wr.canvas,scaleX:br.scale,scaleY:Er.scale,offsetX:jt,offsetY:Rt}}return{canvas:dr.canvas,scaleX:yr.scale,scaleY:xr.scale,offsetX:jt,offsetY:Rt}}getSizeAndScale(g,it,ot){const ut=Math.max(NE.MAX_PATTERN_SIZE,it);let ct=Math.ceil(g*ot);return ct>=ut?ct=ut:ot=ct/g,{scale:ot,size:ct}}clipBbox(g,it,ot,ut,ct){const dt=ut-it,ft=ct-ot;g.ctx.rect(it,ot,dt,ft),Util.axialAlignedBoundingBox([it,ot,ut,ct],getCurrentTransform(g.ctx),g.current.minMax),g.clip(),g.endPath()}setFillAndStrokeStyleToContext(g,it,ot){const ut=g.ctx,ct=g.current;switch(it){case PaintType.COLORED:const{fillStyle:dt,strokeStyle:ft}=this.ctx;ut.fillStyle=ct.fillColor=dt,ut.strokeStyle=ct.strokeColor=ft;break;case PaintType.UNCOLORED:ut.fillStyle=ut.strokeStyle=ot,ct.fillColor=ct.strokeColor=ot;break;default:throw new FormatError(`Unsupported paint type: ${it}`)}}isModifyingCurrentTransform(){return!1}getPattern(g,it,ot,ut,ct){let dt=ot;ut!==PathType.SHADING&&(dt=Util.transform(dt,it.baseTransform),this.matrix&&(dt=Util.transform(dt,this.matrix)));const ft=this.createPatternCanvas(it,ct);let St=new DOMMatrix(dt);St=St.translate(ft.offsetX,ft.offsetY),St=St.scale(1/ft.scaleX,1/ft.scaleY);const Tt=g.createPattern(ft.canvas,"repeat");return Tt.setTransform(St),Tt}};Nr(NE,"MAX_PATTERN_SIZE",3e3);let TilingPattern=NE;function convertBlackAndWhiteToRGBA({src:et,srcPos:g=0,dest:it,width:ot,height:ut,nonBlackColor:ct=4294967295,inverseDecode:dt=!1}){const ft=util_FeatureTest.isLittleEndian?4278190080:255,[St,Tt]=dt?[ct,ft]:[ft,ct],kt=ot>>3,jt=ot&7,Rt=et.length;it=new Uint32Array(it.buffer);let $t=0;for(let zt=0;zt<ut;zt++){for(const Zt=g+kt;g<Zt;g++){const Bt=g<Rt?et[g]:255;it[$t++]=Bt&128?Tt:St,it[$t++]=Bt&64?Tt:St,it[$t++]=Bt&32?Tt:St,it[$t++]=Bt&16?Tt:St,it[$t++]=Bt&8?Tt:St,it[$t++]=Bt&4?Tt:St,it[$t++]=Bt&2?Tt:St,it[$t++]=Bt&1?Tt:St}if(jt===0)continue;const Ht=g<Rt?et[g++]:255;for(let Zt=0;Zt<jt;Zt++)it[$t++]=Ht&1<<7-Zt?Tt:St}return{srcPos:g,destPos:$t}}const MIN_FONT_SIZE=16,MAX_FONT_SIZE=100,EXECUTION_TIME=15,EXECUTION_STEPS=10,FULL_CHUNK_HEIGHT=16,SCALE_MATRIX=new DOMMatrix,XY=new Float32Array(2),MIN_MAX_INIT=new Float32Array([1/0,1/0,-1/0,-1/0]);function mirrorContextOperations(et,g){if(et._removeMirroring)throw new Error("Context is already forwarding operations.");et.__originalSave=et.save,et.__originalRestore=et.restore,et.__originalRotate=et.rotate,et.__originalScale=et.scale,et.__originalTranslate=et.translate,et.__originalTransform=et.transform,et.__originalSetTransform=et.setTransform,et.__originalResetTransform=et.resetTransform,et.__originalClip=et.clip,et.__originalMoveTo=et.moveTo,et.__originalLineTo=et.lineTo,et.__originalBezierCurveTo=et.bezierCurveTo,et.__originalRect=et.rect,et.__originalClosePath=et.closePath,et.__originalBeginPath=et.beginPath,et._removeMirroring=()=>{et.save=et.__originalSave,et.restore=et.__originalRestore,et.rotate=et.__originalRotate,et.scale=et.__originalScale,et.translate=et.__originalTranslate,et.transform=et.__originalTransform,et.setTransform=et.__originalSetTransform,et.resetTransform=et.__originalResetTransform,et.clip=et.__originalClip,et.moveTo=et.__originalMoveTo,et.lineTo=et.__originalLineTo,et.bezierCurveTo=et.__originalBezierCurveTo,et.rect=et.__originalRect,et.closePath=et.__originalClosePath,et.beginPath=et.__originalBeginPath,delete et._removeMirroring},et.save=function(){g.save(),this.__originalSave()},et.restore=function(){g.restore(),this.__originalRestore()},et.translate=function(it,ot){g.translate(it,ot),this.__originalTranslate(it,ot)},et.scale=function(it,ot){g.scale(it,ot),this.__originalScale(it,ot)},et.transform=function(it,ot,ut,ct,dt,ft){g.transform(it,ot,ut,ct,dt,ft),this.__originalTransform(it,ot,ut,ct,dt,ft)},et.setTransform=function(it,ot,ut,ct,dt,ft){g.setTransform(it,ot,ut,ct,dt,ft),this.__originalSetTransform(it,ot,ut,ct,dt,ft)},et.resetTransform=function(){g.resetTransform(),this.__originalResetTransform()},et.rotate=function(it){g.rotate(it),this.__originalRotate(it)},et.clip=function(it){g.clip(it),this.__originalClip(it)},et.moveTo=function(it,ot){g.moveTo(it,ot),this.__originalMoveTo(it,ot)},et.lineTo=function(it,ot){g.lineTo(it,ot),this.__originalLineTo(it,ot)},et.bezierCurveTo=function(it,ot,ut,ct,dt,ft){g.bezierCurveTo(it,ot,ut,ct,dt,ft),this.__originalBezierCurveTo(it,ot,ut,ct,dt,ft)},et.rect=function(it,ot,ut,ct){g.rect(it,ot,ut,ct),this.__originalRect(it,ot,ut,ct)},et.closePath=function(){g.closePath(),this.__originalClosePath()},et.beginPath=function(){g.beginPath(),this.__originalBeginPath()}}class CachedCanvases{constructor(g){this.canvasFactory=g,this.cache=Object.create(null)}getCanvas(g,it,ot){let ut;return this.cache[g]!==void 0?(ut=this.cache[g],this.canvasFactory.reset(ut,it,ot)):(ut=this.canvasFactory.create(it,ot),this.cache[g]=ut),ut}delete(g){delete this.cache[g]}clear(){for(const g in this.cache){const it=this.cache[g];this.canvasFactory.destroy(it),delete this.cache[g]}}}function drawImageAtIntegerCoords(et,g,it,ot,ut,ct,dt,ft,St,Tt){const[kt,jt,Rt,$t,zt,Ht]=getCurrentTransform(et);if(jt===0&&Rt===0){const Ut=dt*kt+zt,Kt=Math.round(Ut),Yt=ft*$t+Ht,Jt=Math.round(Yt),er=(dt+St)*kt+zt,tr=Math.abs(Math.round(er)-Kt)||1,rr=(ft+Tt)*$t+Ht,hr=Math.abs(Math.round(rr)-Jt)||1;return et.setTransform(Math.sign(kt),0,0,Math.sign($t),Kt,Jt),et.drawImage(g,it,ot,ut,ct,0,0,tr,hr),et.setTransform(kt,jt,Rt,$t,zt,Ht),[tr,hr]}if(kt===0&&$t===0){const Ut=ft*Rt+zt,Kt=Math.round(Ut),Yt=dt*jt+Ht,Jt=Math.round(Yt),er=(ft+Tt)*Rt+zt,tr=Math.abs(Math.round(er)-Kt)||1,rr=(dt+St)*jt+Ht,hr=Math.abs(Math.round(rr)-Jt)||1;return et.setTransform(0,Math.sign(jt),Math.sign(Rt),0,Kt,Jt),et.drawImage(g,it,ot,ut,ct,0,0,hr,tr),et.setTransform(kt,jt,Rt,$t,zt,Ht),[hr,tr]}et.drawImage(g,it,ot,ut,ct,dt,ft,St,Tt);const Zt=Math.hypot(kt,jt),Bt=Math.hypot(Rt,$t);return[Zt*St,Bt*Tt]}class CanvasExtraState{constructor(g,it,ot){Nr(this,"alphaIsShape",!1);Nr(this,"fontSize",0);Nr(this,"fontSizeScale",1);Nr(this,"textMatrix",null);Nr(this,"textMatrixScale",1);Nr(this,"fontMatrix",FONT_IDENTITY_MATRIX);Nr(this,"leading",0);Nr(this,"x",0);Nr(this,"y",0);Nr(this,"lineX",0);Nr(this,"lineY",0);Nr(this,"charSpacing",0);Nr(this,"wordSpacing",0);Nr(this,"textHScale",1);Nr(this,"textRenderingMode",TextRenderingMode.FILL);Nr(this,"textRise",0);Nr(this,"fillColor","#000000");Nr(this,"strokeColor","#000000");Nr(this,"patternFill",!1);Nr(this,"patternStroke",!1);Nr(this,"fillAlpha",1);Nr(this,"strokeAlpha",1);Nr(this,"lineWidth",1);Nr(this,"activeSMask",null);Nr(this,"transferMaps","none");ot==null||ot(this),this.clipBox=new Float32Array([0,0,g,it]),this.minMax=MIN_MAX_INIT.slice()}clone(){const g=Object.create(this);return g.clipBox=this.clipBox.slice(),g.minMax=this.minMax.slice(),g}getPathBoundingBox(g=PathType.FILL,it=null){const ot=this.minMax.slice();if(g===PathType.STROKE){it||unreachable("Stroke bounding box must include transform."),Util.singularValueDecompose2dScale(it,XY);const ut=XY[0]*this.lineWidth/2,ct=XY[1]*this.lineWidth/2;ot[0]-=ut,ot[1]-=ct,ot[2]+=ut,ot[3]+=ct}return ot}updateClipFromPath(){const g=Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(g||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(g){this.clipBox.set(g,0),this.minMax.set(MIN_MAX_INIT,0)}getClippedPathBoundingBox(g=PathType.FILL,it=null){return Util.intersect(this.clipBox,this.getPathBoundingBox(g,it))}}function putBinaryImageData(et,g){if(g instanceof ImageData){et.putImageData(g,0,0);return}const it=g.height,ot=g.width,ut=it%FULL_CHUNK_HEIGHT,ct=(it-ut)/FULL_CHUNK_HEIGHT,dt=ut===0?ct:ct+1,ft=et.createImageData(ot,FULL_CHUNK_HEIGHT);let St=0,Tt;const kt=g.data,jt=ft.data;let Rt,$t,zt,Ht;if(g.kind===util_ImageKind.GRAYSCALE_1BPP){const Zt=kt.byteLength,Bt=new Uint32Array(jt.buffer,0,jt.byteLength>>2),Ut=Bt.length,Kt=ot+7>>3,Yt=4294967295,Jt=util_FeatureTest.isLittleEndian?4278190080:255;for(Rt=0;Rt<dt;Rt++){for(zt=Rt<ct?FULL_CHUNK_HEIGHT:ut,Tt=0,$t=0;$t<zt;$t++){const er=Zt-St;let tr=0;const rr=er>Kt?ot:er*8-7,hr=rr&-8;let ar=0,or=0;for(;tr<hr;tr+=8)or=kt[St++],Bt[Tt++]=or&128?Yt:Jt,Bt[Tt++]=or&64?Yt:Jt,Bt[Tt++]=or&32?Yt:Jt,Bt[Tt++]=or&16?Yt:Jt,Bt[Tt++]=or&8?Yt:Jt,Bt[Tt++]=or&4?Yt:Jt,Bt[Tt++]=or&2?Yt:Jt,Bt[Tt++]=or&1?Yt:Jt;for(;tr<rr;tr++)ar===0&&(or=kt[St++],ar=128),Bt[Tt++]=or&ar?Yt:Jt,ar>>=1}for(;Tt<Ut;)Bt[Tt++]=0;et.putImageData(ft,0,Rt*FULL_CHUNK_HEIGHT)}}else if(g.kind===util_ImageKind.RGBA_32BPP){for($t=0,Ht=ot*FULL_CHUNK_HEIGHT*4,Rt=0;Rt<ct;Rt++)jt.set(kt.subarray(St,St+Ht)),St+=Ht,et.putImageData(ft,0,$t),$t+=FULL_CHUNK_HEIGHT;Rt<dt&&(Ht=ot*ut*4,jt.set(kt.subarray(St,St+Ht)),et.putImageData(ft,0,$t))}else if(g.kind===util_ImageKind.RGB_24BPP)for(zt=FULL_CHUNK_HEIGHT,Ht=ot*zt,Rt=0;Rt<dt;Rt++){for(Rt>=ct&&(zt=ut,Ht=ot*zt),Tt=0,$t=Ht;$t--;)jt[Tt++]=kt[St++],jt[Tt++]=kt[St++],jt[Tt++]=kt[St++],jt[Tt++]=255;et.putImageData(ft,0,Rt*FULL_CHUNK_HEIGHT)}else throw new Error(`bad image kind: ${g.kind}`)}function putBinaryImageMask(et,g){if(g.bitmap){et.drawImage(g.bitmap,0,0);return}const it=g.height,ot=g.width,ut=it%FULL_CHUNK_HEIGHT,ct=(it-ut)/FULL_CHUNK_HEIGHT,dt=ut===0?ct:ct+1,ft=et.createImageData(ot,FULL_CHUNK_HEIGHT);let St=0;const Tt=g.data,kt=ft.data;for(let jt=0;jt<dt;jt++){const Rt=jt<ct?FULL_CHUNK_HEIGHT:ut;({srcPos:St}=convertBlackAndWhiteToRGBA({src:Tt,srcPos:St,dest:kt,width:ot,height:Rt,nonBlackColor:0})),et.putImageData(ft,0,jt*FULL_CHUNK_HEIGHT)}}function copyCtxState(et,g){const it=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const ot of it)et[ot]!==void 0&&(g[ot]=et[ot]);et.setLineDash!==void 0&&(g.setLineDash(et.getLineDash()),g.lineDashOffset=et.lineDashOffset)}function resetCtxToDefault(et){et.strokeStyle=et.fillStyle="#000000",et.fillRule="nonzero",et.globalAlpha=1,et.lineWidth=1,et.lineCap="butt",et.lineJoin="miter",et.miterLimit=10,et.globalCompositeOperation="source-over",et.font="10px sans-serif",et.setLineDash!==void 0&&(et.setLineDash([]),et.lineDashOffset=0);const{filter:g}=et;g!=="none"&&g!==""&&(et.filter="none")}function getImageSmoothingEnabled(et,g){if(g)return!0;Util.singularValueDecompose2dScale(et,XY);const it=Math.fround(OutputScale.pixelRatio*PixelsPerInch.PDF_TO_CSS_UNITS);return XY[0]<=it&&XY[1]<=it}const LINE_CAP_STYLES=["butt","round","square"],LINE_JOIN_STYLES=["miter","round","bevel"],NORMAL_CLIP={},EO_CLIP={};var Iv,lS,Fv,uS,$v,cS;const XS=class XS{constructor(g,it,ot,ut,ct,{optionalContentConfig:dt,markedContentStack:ft=null},St,Tt,kt){sr(this,Iv);sr(this,Fv);sr(this,$v);this.ctx=g,this.current=new CanvasExtraState(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=it,this.objs=ot,this.canvasFactory=ut,this.filterFactory=ct,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=ft||[],this.optionalContentConfig=dt,this.cachedCanvases=new CachedCanvases(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=St,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=Tt,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=kt??null}getObject(g,it,ot=null){var ut;return typeof it=="string"?((ut=this.dependencyTracker)==null||ut.recordNamedDependency(g,it),it.startsWith("g_")?this.commonObjs.get(it):this.objs.get(it)):ot}beginDrawing({transform:g,viewport:it,transparency:ot=!1,background:ut=null}){const ct=this.ctx.canvas.width,dt=this.ctx.canvas.height,ft=this.ctx.fillStyle;if(this.ctx.fillStyle=ut||"#ffffff",this.ctx.fillRect(0,0,ct,dt),this.ctx.fillStyle=ft,ot){const St=this.cachedCanvases.getCanvas("transparent",ct,dt);this.compositeCtx=this.ctx,this.transparentCanvas=St.canvas,this.ctx=St.context,this.ctx.save(),this.ctx.transform(...getCurrentTransform(this.compositeCtx))}this.ctx.save(),resetCtxToDefault(this.ctx),g&&(this.ctx.transform(...g),this.outputScaleX=g[0],this.outputScaleY=g[0]),this.ctx.transform(...it.transform),this.viewportScale=it.scale,this.baseTransform=getCurrentTransform(this.ctx)}executeOperatorList(g,it,ot,ut,ct){var Bt;const dt=g.argsArray,ft=g.fnArray;let St=it||0;const Tt=dt.length;if(Tt===St)return St;const kt=Tt-St>EXECUTION_STEPS&&typeof ot=="function",jt=kt?Date.now()+EXECUTION_TIME:0;let Rt=0;const $t=this.commonObjs,zt=this.objs;let Ht,Zt;for(;;){if(ut!==void 0&&St===ut.nextBreakPoint)return ut.breakIt(St,ot),St;if(!ct||ct(St))if(Ht=ft[St],Zt=dt[St]??null,Ht!==OPS.dependency)Zt===null?this[Ht](St):this[Ht](St,...Zt);else for(const Ut of Zt){(Bt=this.dependencyTracker)==null||Bt.recordNamedData(Ut,St);const Kt=Ut.startsWith("g_")?$t:zt;if(!Kt.has(Ut))return Kt.get(Ut,ot),St}if(St++,St===Tt)return St;if(kt&&++Rt>EXECUTION_STEPS){if(Date.now()>jt)return ot(),St;Rt=0}}}endDrawing(){vr(this,Iv,lS).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const g of this._cachedBitmapsMap.values()){for(const it of g.values())typeof HTMLCanvasElement<"u"&&it instanceof HTMLCanvasElement&&(it.width=it.height=0);g.clear()}this._cachedBitmapsMap.clear(),vr(this,Fv,uS).call(this)}_scaleImage(g,it){const ot=g.width??g.displayWidth,ut=g.height??g.displayHeight;let ct=Math.max(Math.hypot(it[0],it[1]),1),dt=Math.max(Math.hypot(it[2],it[3]),1),ft=ot,St=ut,Tt="prescale1",kt,jt;for(;ct>2&&ft>1||dt>2&&St>1;){let Rt=ft,$t=St;ct>2&&ft>1&&(Rt=ft>=16384?Math.floor(ft/2)-1||1:Math.ceil(ft/2),ct/=ft/Rt),dt>2&&St>1&&($t=St>=16384?Math.floor(St/2)-1||1:Math.ceil(St)/2,dt/=St/$t),kt=this.cachedCanvases.getCanvas(Tt,Rt,$t),jt=kt.context,jt.clearRect(0,0,Rt,$t),jt.drawImage(g,0,0,ft,St,0,0,Rt,$t),g=kt.canvas,ft=Rt,St=$t,Tt=Tt==="prescale1"?"prescale2":"prescale1"}return{img:g,paintWidth:ft,paintHeight:St}}_createMaskCanvas(g,it){var ar,or;const ot=this.ctx,{width:ut,height:ct}=it,dt=this.current.fillColor,ft=this.current.patternFill,St=getCurrentTransform(ot);let Tt,kt,jt,Rt;if((it.bitmap||it.data)&&it.count>1){const cr=it.bitmap||it.data.buffer;kt=JSON.stringify(ft?St:[St.slice(0,4),dt]),Tt=this._cachedBitmapsMap.get(cr),Tt||(Tt=new Map,this._cachedBitmapsMap.set(cr,Tt));const gr=Tt.get(kt);if(gr&&!ft){const yr=Math.round(Math.min(St[0],St[2])+St[4]),xr=Math.round(Math.min(St[1],St[3])+St[5]);return(ar=this.dependencyTracker)==null||ar.recordDependencies(g,Dependencies.transformAndFill),{canvas:gr,offsetX:yr,offsetY:xr}}jt=gr}jt||(Rt=this.cachedCanvases.getCanvas("maskCanvas",ut,ct),putBinaryImageMask(Rt.context,it));let $t=Util.transform(St,[1/ut,0,0,-1/ct,0,0]);$t=Util.transform($t,[1,0,0,1,0,-ct]);const zt=MIN_MAX_INIT.slice();Util.axialAlignedBoundingBox([0,0,ut,ct],$t,zt);const[Ht,Zt,Bt,Ut]=zt,Kt=Math.round(Bt-Ht)||1,Yt=Math.round(Ut-Zt)||1,Jt=this.cachedCanvases.getCanvas("fillCanvas",Kt,Yt),er=Jt.context,tr=Ht,rr=Zt;er.translate(-tr,-rr),er.transform(...$t),jt||(jt=this._scaleImage(Rt.canvas,getCurrentTransformInverse(er)),jt=jt.img,Tt&&ft&&Tt.set(kt,jt)),er.imageSmoothingEnabled=getImageSmoothingEnabled(getCurrentTransform(er),it.interpolate),drawImageAtIntegerCoords(er,jt,0,0,jt.width,jt.height,0,0,ut,ct),er.globalCompositeOperation="source-in";const hr=Util.transform(getCurrentTransformInverse(er),[1,0,0,1,-tr,-rr]);return er.fillStyle=ft?dt.getPattern(ot,this,hr,PathType.FILL,g):dt,er.fillRect(0,0,ut,ct),Tt&&!ft&&(this.cachedCanvases.delete("fillCanvas"),Tt.set(kt,Jt.canvas)),(or=this.dependencyTracker)==null||or.recordDependencies(g,Dependencies.transformAndFill),{canvas:Jt.canvas,offsetX:Math.round(tr),offsetY:Math.round(rr)}}setLineWidth(g,it){var ot;(ot=this.dependencyTracker)==null||ot.recordSimpleData("lineWidth",g),it!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=it,this.ctx.lineWidth=it}setLineCap(g,it){var ot;(ot=this.dependencyTracker)==null||ot.recordSimpleData("lineCap",g),this.ctx.lineCap=LINE_CAP_STYLES[it]}setLineJoin(g,it){var ot;(ot=this.dependencyTracker)==null||ot.recordSimpleData("lineJoin",g),this.ctx.lineJoin=LINE_JOIN_STYLES[it]}setMiterLimit(g,it){var ot;(ot=this.dependencyTracker)==null||ot.recordSimpleData("miterLimit",g),this.ctx.miterLimit=it}setDash(g,it,ot){var ct;(ct=this.dependencyTracker)==null||ct.recordSimpleData("dash",g);const ut=this.ctx;ut.setLineDash!==void 0&&(ut.setLineDash(it),ut.lineDashOffset=ot)}setRenderingIntent(g,it){}setFlatness(g,it){}setGState(g,it){var ot,ut,ct,dt,ft;for(const[St,Tt]of it)switch(St){case"LW":this.setLineWidth(g,Tt);break;case"LC":this.setLineCap(g,Tt);break;case"LJ":this.setLineJoin(g,Tt);break;case"ML":this.setMiterLimit(g,Tt);break;case"D":this.setDash(g,Tt[0],Tt[1]);break;case"RI":this.setRenderingIntent(g,Tt);break;case"FL":this.setFlatness(g,Tt);break;case"Font":this.setFont(g,Tt[0],Tt[1]);break;case"CA":(ot=this.dependencyTracker)==null||ot.recordSimpleData("strokeAlpha",g),this.current.strokeAlpha=Tt;break;case"ca":(ut=this.dependencyTracker)==null||ut.recordSimpleData("fillAlpha",g),this.ctx.globalAlpha=this.current.fillAlpha=Tt;break;case"BM":(ct=this.dependencyTracker)==null||ct.recordSimpleData("globalCompositeOperation",g),this.ctx.globalCompositeOperation=Tt;break;case"SMask":(dt=this.dependencyTracker)==null||dt.recordSimpleData("SMask",g),this.current.activeSMask=Tt?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":(ft=this.dependencyTracker)==null||ft.recordSimpleData("filter",g),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(Tt);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const g=this.inSMaskMode;this.current.activeSMask&&!g?this.beginSMaskMode():!this.current.activeSMask&&g&&this.endSMaskMode()}beginSMaskMode(g){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const it=this.ctx.canvas.width,ot=this.ctx.canvas.height,ut="smaskGroupAt"+this.groupLevel,ct=this.cachedCanvases.getCanvas(ut,it,ot);this.suspendedCtx=this.ctx;const dt=this.ctx=ct.context;dt.setTransform(this.suspendedCtx.getTransform()),copyCtxState(this.suspendedCtx,dt),mirrorContextOperations(dt,this.suspendedCtx),this.setGState(g,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),copyCtxState(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(g){if(!this.current.activeSMask)return;g?(g[0]=Math.floor(g[0]),g[1]=Math.floor(g[1]),g[2]=Math.ceil(g[2]),g[3]=Math.ceil(g[3])):g=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const it=this.current.activeSMask,ot=this.suspendedCtx;this.composeSMask(ot,it,this.ctx,g),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(g,it,ot,ut){const ct=ut[0],dt=ut[1],ft=ut[2]-ct,St=ut[3]-dt;ft===0||St===0||(this.genericComposeSMask(it.context,ot,ft,St,it.subtype,it.backdrop,it.transferMap,ct,dt,it.offsetX,it.offsetY),g.save(),g.globalAlpha=1,g.globalCompositeOperation="source-over",g.setTransform(1,0,0,1,0,0),g.drawImage(ot.canvas,0,0),g.restore())}genericComposeSMask(g,it,ot,ut,ct,dt,ft,St,Tt,kt,jt){let Rt=g.canvas,$t=St-kt,zt=Tt-jt;if(dt)if($t<0||zt<0||$t+ot>Rt.width||zt+ut>Rt.height){const Zt=this.cachedCanvases.getCanvas("maskExtension",ot,ut),Bt=Zt.context;Bt.drawImage(Rt,-$t,-zt),Bt.globalCompositeOperation="destination-atop",Bt.fillStyle=dt,Bt.fillRect(0,0,ot,ut),Bt.globalCompositeOperation="source-over",Rt=Zt.canvas,$t=zt=0}else{g.save(),g.globalAlpha=1,g.setTransform(1,0,0,1,0,0);const Zt=new Path2D;Zt.rect($t,zt,ot,ut),g.clip(Zt),g.globalCompositeOperation="destination-atop",g.fillStyle=dt,g.fillRect($t,zt,ot,ut),g.restore()}it.save(),it.globalAlpha=1,it.setTransform(1,0,0,1,0,0),ct==="Alpha"&&ft?it.filter=this.filterFactory.addAlphaFilter(ft):ct==="Luminosity"&&(it.filter=this.filterFactory.addLuminosityFilter(ft));const Ht=new Path2D;Ht.rect(St,Tt,ot,ut),it.clip(Ht),it.globalCompositeOperation="destination-in",it.drawImage(Rt,$t,zt,ot,ut,St,Tt,ot,ut),it.restore()}save(g){var ot;this.inSMaskMode&&copyCtxState(this.ctx,this.suspendedCtx),this.ctx.save();const it=this.current;this.stateStack.push(it),this.current=it.clone(),(ot=this.dependencyTracker)==null||ot.save(g)}restore(g){var it;if((it=this.dependencyTracker)==null||it.restore(g),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&copyCtxState(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(g,it,ot,ut,ct,dt,ft){var St;(St=this.dependencyTracker)==null||St.recordIncrementalData("transform",g),this.ctx.transform(it,ot,ut,ct,dt,ft),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(g,it,ot,ut){let[ct]=ot;if(!ut){ct||(ct=ot[0]=new Path2D),this[it](g,ct);return}if(this.dependencyTracker!==null){const dt=it===OPS.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(g).recordBBox(g,this.ctx,ut[0]-dt,ut[2]+dt,ut[1]-dt,ut[3]+dt).recordDependencies(g,["transform"])}if(!(ct instanceof Path2D)){const dt=ot[0]=new Path2D;for(let ft=0,St=ct.length;ft<St;)switch(ct[ft++]){case DrawOPS.moveTo:dt.moveTo(ct[ft++],ct[ft++]);break;case DrawOPS.lineTo:dt.lineTo(ct[ft++],ct[ft++]);break;case DrawOPS.curveTo:dt.bezierCurveTo(ct[ft++],ct[ft++],ct[ft++],ct[ft++],ct[ft++],ct[ft++]);break;case DrawOPS.closePath:dt.closePath();break;default:warn(`Unrecognized drawing path operator: ${ct[ft-1]}`);break}ct=dt}Util.axialAlignedBoundingBox(ut,getCurrentTransform(this.ctx),this.current.minMax),this[it](g,ct),this._pathStartIdx=g}closePath(g){this.ctx.closePath()}stroke(g,it,ot=!0){var dt;const ut=this.ctx,ct=this.current.strokeColor;if(ut.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof ct=="object"&&(ct!=null&&ct.getPattern)){const ft=ct.isModifyingCurrentTransform()?ut.getTransform():null;if(ut.save(),ut.strokeStyle=ct.getPattern(ut,this,getCurrentTransformInverse(ut),PathType.STROKE,g),ft){const St=new Path2D;St.addPath(it,ut.getTransform().invertSelf().multiplySelf(ft)),it=St}this.rescaleAndStroke(it,!1),ut.restore()}else this.rescaleAndStroke(it,!0);(dt=this.dependencyTracker)==null||dt.recordDependencies(g,Dependencies.stroke),ot&&this.consumePath(g,it,this.current.getClippedPathBoundingBox(PathType.STROKE,getCurrentTransform(this.ctx))),ut.globalAlpha=this.current.fillAlpha}closeStroke(g,it){this.stroke(g,it)}fill(g,it,ot=!0){var Tt,kt,jt;const ut=this.ctx,ct=this.current.fillColor,dt=this.current.patternFill;let ft=!1;if(dt){const Rt=ct.isModifyingCurrentTransform()?ut.getTransform():null;if((Tt=this.dependencyTracker)==null||Tt.save(g),ut.save(),ut.fillStyle=ct.getPattern(ut,this,getCurrentTransformInverse(ut),PathType.FILL,g),Rt){const $t=new Path2D;$t.addPath(it,ut.getTransform().invertSelf().multiplySelf(Rt)),it=$t}ft=!0}const St=this.current.getClippedPathBoundingBox();this.contentVisible&&St!==null&&(this.pendingEOFill?(ut.fill(it,"evenodd"),this.pendingEOFill=!1):ut.fill(it)),(kt=this.dependencyTracker)==null||kt.recordDependencies(g,Dependencies.fill),ft&&(ut.restore(),(jt=this.dependencyTracker)==null||jt.restore(g)),ot&&this.consumePath(g,it,St)}eoFill(g,it){this.pendingEOFill=!0,this.fill(g,it)}fillStroke(g,it){this.fill(g,it,!1),this.stroke(g,it,!1),this.consumePath(g,it)}eoFillStroke(g,it){this.pendingEOFill=!0,this.fillStroke(g,it)}closeFillStroke(g,it){this.fillStroke(g,it)}closeEOFillStroke(g,it){this.pendingEOFill=!0,this.fillStroke(g,it)}endPath(g,it){this.consumePath(g,it)}rawFillPath(g,it){var ot;this.ctx.fill(it),(ot=this.dependencyTracker)==null||ot.recordDependencies(g,Dependencies.rawFillPath).recordOperation(g)}clip(g){var it;(it=this.dependencyTracker)==null||it.recordFutureForcedDependency("clipMode",g),this.pendingClip=NORMAL_CLIP}eoClip(g){var it;(it=this.dependencyTracker)==null||it.recordFutureForcedDependency("clipMode",g),this.pendingClip=EO_CLIP}beginText(g){var it;this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,(it=this.dependencyTracker)==null||it.recordOpenMarker(g).resetIncrementalData("sameLineText").resetIncrementalData("moveText",g)}endText(g){const it=this.pendingTextPaths,ot=this.ctx;if(this.dependencyTracker){const{dependencyTracker:ut}=this;it!==void 0&&ut.recordFutureForcedDependency("textClip",ut.getOpenMarker()).recordFutureForcedDependency("textClip",g),ut.recordCloseMarker(g)}if(it!==void 0){const ut=new Path2D,ct=ot.getTransform().invertSelf();for(const{transform:dt,x:ft,y:St,fontSize:Tt,path:kt}of it)kt&&ut.addPath(kt,new DOMMatrix(dt).preMultiplySelf(ct).translate(ft,St).scale(Tt,-Tt));ot.clip(ut)}delete this.pendingTextPaths}setCharSpacing(g,it){var ot;(ot=this.dependencyTracker)==null||ot.recordSimpleData("charSpacing",g),this.current.charSpacing=it}setWordSpacing(g,it){var ot;(ot=this.dependencyTracker)==null||ot.recordSimpleData("wordSpacing",g),this.current.wordSpacing=it}setHScale(g,it){var ot;(ot=this.dependencyTracker)==null||ot.recordSimpleData("hScale",g),this.current.textHScale=it/100}setLeading(g,it){var ot;(ot=this.dependencyTracker)==null||ot.recordSimpleData("leading",g),this.current.leading=-it}setFont(g,it,ot){var jt,Rt;(jt=this.dependencyTracker)==null||jt.recordSimpleData("font",g).recordSimpleDataFromNamed("fontObj",it,g);const ut=this.commonObjs.get(it),ct=this.current;if(!ut)throw new Error(`Can't find font for ${it}`);if(ct.fontMatrix=ut.fontMatrix||FONT_IDENTITY_MATRIX,(ct.fontMatrix[0]===0||ct.fontMatrix[3]===0)&&warn("Invalid font matrix for font "+it),ot<0?(ot=-ot,ct.fontDirection=-1):ct.fontDirection=1,this.current.font=ut,this.current.fontSize=ot,ut.isType3Font)return;const dt=ut.loadedName||"sans-serif",ft=((Rt=ut.systemFontInfo)==null?void 0:Rt.css)||`"${dt}", ${ut.fallbackName}`;let St="normal";ut.black?St="900":ut.bold&&(St="bold");const Tt=ut.italic?"italic":"normal";let kt=ot;ot<MIN_FONT_SIZE?kt=MIN_FONT_SIZE:ot>MAX_FONT_SIZE&&(kt=MAX_FONT_SIZE),this.current.fontSizeScale=ot/kt,this.ctx.font=`${Tt} ${St} ${kt}px ${ft}`}setTextRenderingMode(g,it){var ot;(ot=this.dependencyTracker)==null||ot.recordSimpleData("textRenderingMode",g),this.current.textRenderingMode=it}setTextRise(g,it){var ot;(ot=this.dependencyTracker)==null||ot.recordSimpleData("textRise",g),this.current.textRise=it}moveText(g,it,ot){var ut;(ut=this.dependencyTracker)==null||ut.resetIncrementalData("sameLineText").recordIncrementalData("moveText",g),this.current.x=this.current.lineX+=it,this.current.y=this.current.lineY+=ot}setLeadingMoveText(g,it,ot){this.setLeading(g,-ot),this.moveText(g,it,ot)}setTextMatrix(g,it){var ut;(ut=this.dependencyTracker)==null||ut.recordSimpleData("textMatrix",g);const{current:ot}=this;ot.textMatrix=it,ot.textMatrixScale=Math.hypot(it[0],it[1]),ot.x=ot.lineX=0,ot.y=ot.lineY=0}nextLine(g){var it;this.moveText(g,0,this.current.leading),(it=this.dependencyTracker)==null||it.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??g)}paintChar(g,it,ot,ut,ct,dt){var Bt,Ut,Kt,Yt;const ft=this.ctx,St=this.current,Tt=St.font,kt=St.textRenderingMode,jt=St.fontSize/St.fontSizeScale,Rt=kt&TextRenderingMode.FILL_STROKE_MASK,$t=!!(kt&TextRenderingMode.ADD_TO_PATH_FLAG),zt=St.patternFill&&!Tt.missingFile,Ht=St.patternStroke&&!Tt.missingFile;let Zt;if((Tt.disableFontFace||$t||zt||Ht)&&!Tt.missingFile&&(Zt=Tt.getPathGenerator(this.commonObjs,it)),Zt&&(Tt.disableFontFace||zt||Ht)){ft.save(),ft.translate(ot,ut),ft.scale(jt,-jt),(Bt=this.dependencyTracker)==null||Bt.recordCharacterBBox(g,ft,Tt);let Jt;if(Rt===TextRenderingMode.FILL||Rt===TextRenderingMode.FILL_STROKE)if(ct){Jt=ft.getTransform(),ft.setTransform(...ct);const er=vr(this,$v,cS).call(this,Zt,Jt,ct);ft.fill(er)}else ft.fill(Zt);if(Rt===TextRenderingMode.STROKE||Rt===TextRenderingMode.FILL_STROKE)if(dt){Jt||(Jt=ft.getTransform()),ft.setTransform(...dt);const{a:er,b:tr,c:rr,d:hr}=Jt,ar=Util.inverseTransform(dt),or=Util.transform([er,tr,rr,hr,0,0],ar);Util.singularValueDecompose2dScale(or,XY),ft.lineWidth*=Math.max(XY[0],XY[1])/jt,ft.stroke(vr(this,$v,cS).call(this,Zt,Jt,dt))}else ft.lineWidth/=jt,ft.stroke(Zt);ft.restore()}else(Rt===TextRenderingMode.FILL||Rt===TextRenderingMode.FILL_STROKE)&&(ft.fillText(it,ot,ut),(Ut=this.dependencyTracker)==null||Ut.recordCharacterBBox(g,ft,Tt,jt,ot,ut,()=>ft.measureText(it))),(Rt===TextRenderingMode.STROKE||Rt===TextRenderingMode.FILL_STROKE)&&(this.dependencyTracker&&((Kt=this.dependencyTracker)==null||Kt.recordCharacterBBox(g,ft,Tt,jt,ot,ut,()=>ft.measureText(it)).recordDependencies(g,Dependencies.stroke)),ft.strokeText(it,ot,ut));$t&&((this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:getCurrentTransform(ft),x:ot,y:ut,fontSize:jt,path:Zt}),(Yt=this.dependencyTracker)==null||Yt.recordCharacterBBox(g,ft,Tt,jt,ot,ut))}get isFontSubpixelAAEnabled(){const{context:g}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);g.scale(1.5,1),g.fillText("I",0,10);const it=g.getImageData(0,0,10,10).data;let ot=!1;for(let ut=3;ut<it.length;ut+=4)if(it[ut]>0&&it[ut]<255){ot=!0;break}return shadow(this,"isFontSubpixelAAEnabled",ot)}showText(g,it){var rr,hr,ar,or;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(g,Dependencies.showText).resetBBox(g),this.current.textRenderingMode&TextRenderingMode.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",g).inheritPendingDependenciesAsFutureForcedDependencies());const ot=this.current,ut=ot.font;if(ut.isType3Font){this.showType3Text(g,it),(rr=this.dependencyTracker)==null||rr.recordShowTextOperation(g);return}const ct=ot.fontSize;if(ct===0){(hr=this.dependencyTracker)==null||hr.recordOperation(g);return}const dt=this.ctx,ft=ot.fontSizeScale,St=ot.charSpacing,Tt=ot.wordSpacing,kt=ot.fontDirection,jt=ot.textHScale*kt,Rt=it.length,$t=ut.vertical,zt=$t?1:-1,Ht=ut.defaultVMetrics,Zt=ct*ot.fontMatrix[0],Bt=ot.textRenderingMode===TextRenderingMode.FILL&&!ut.disableFontFace&&!ot.patternFill;dt.save(),ot.textMatrix&&dt.transform(...ot.textMatrix),dt.translate(ot.x,ot.y+ot.textRise),kt>0?dt.scale(jt,-1):dt.scale(jt,1);let Ut,Kt;if(ot.patternFill){dt.save();const cr=ot.fillColor.getPattern(dt,this,getCurrentTransformInverse(dt),PathType.FILL,g);Ut=getCurrentTransform(dt),dt.restore(),dt.fillStyle=cr}if(ot.patternStroke){dt.save();const cr=ot.strokeColor.getPattern(dt,this,getCurrentTransformInverse(dt),PathType.STROKE,g);Kt=getCurrentTransform(dt),dt.restore(),dt.strokeStyle=cr}let Yt=ot.lineWidth;const Jt=ot.textMatrixScale;if(Jt===0||Yt===0){const cr=ot.textRenderingMode&TextRenderingMode.FILL_STROKE_MASK;(cr===TextRenderingMode.STROKE||cr===TextRenderingMode.FILL_STROKE)&&(Yt=this.getSinglePixelWidth())}else Yt/=Jt;if(ft!==1&&(dt.scale(ft,ft),Yt/=ft),dt.lineWidth=Yt,ut.isInvalidPDFjsFont){const cr=[];let gr=0;for(const xr of it)cr.push(xr.unicode),gr+=xr.width;const yr=cr.join("");if(dt.fillText(yr,0,0),this.dependencyTracker!==null){const xr=dt.measureText(yr);this.dependencyTracker.recordBBox(g,this.ctx,-xr.actualBoundingBoxLeft,xr.actualBoundingBoxRight,-xr.actualBoundingBoxAscent,xr.actualBoundingBoxDescent).recordShowTextOperation(g)}ot.x+=gr*Zt*jt,dt.restore(),this.compose();return}let er=0,tr;for(tr=0;tr<Rt;++tr){const cr=it[tr];if(typeof cr=="number"){er+=zt*cr*ct/1e3;continue}let gr=!1;const yr=(cr.isSpace?Tt:0)+St,xr=cr.fontChar,dr=cr.accent;let pr,nr,ir=cr.width;if($t){const br=cr.vmetric||Ht,Er=-(cr.vmetric?br[1]:ir*.5)*Zt,Sr=br[2]*Zt;ir=br?-br[0]:ir,pr=Er/ft,nr=(er+Sr)/ft}else pr=er/ft,nr=0;let mr;if(ut.remeasure&&ir>0){mr=dt.measureText(xr);const br=mr.width*1e3/ct*ft;if(ir<br&&this.isFontSubpixelAAEnabled){const Er=ir/br;gr=!0,dt.save(),dt.scale(Er,1),pr/=Er}else ir!==br&&(pr+=(ir-br)/2e3*ct/ft)}if(this.contentVisible&&(cr.isInFont||ut.missingFile)){if(Bt&&!dr)dt.fillText(xr,pr,nr),(ar=this.dependencyTracker)==null||ar.recordCharacterBBox(g,dt,mr?{bbox:null}:ut,ct/ft,pr,nr,()=>mr??dt.measureText(xr));else if(this.paintChar(g,xr,pr,nr,Ut,Kt),dr){const br=pr+ct*dr.offset.x/ft,Er=nr-ct*dr.offset.y/ft;this.paintChar(g,dr.fontChar,br,Er,Ut,Kt)}}const lr=$t?ir*Zt-yr*kt:ir*Zt+yr*kt;er+=lr,gr&&dt.restore()}$t?ot.y-=er:ot.x+=er*jt,dt.restore(),this.compose(),(or=this.dependencyTracker)==null||or.recordShowTextOperation(g)}showType3Text(g,it){const ot=this.ctx,ut=this.current,ct=ut.font,dt=ut.fontSize,ft=ut.fontDirection,St=ct.vertical?1:-1,Tt=ut.charSpacing,kt=ut.wordSpacing,jt=ut.textHScale*ft,Rt=ut.fontMatrix||FONT_IDENTITY_MATRIX,$t=it.length,zt=ut.textRenderingMode===TextRenderingMode.INVISIBLE;let Ht,Zt,Bt,Ut;if(zt||dt===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,ot.save(),ut.textMatrix&&ot.transform(...ut.textMatrix),ot.translate(ut.x,ut.y+ut.textRise),ot.scale(jt,ft);const Kt=this.dependencyTracker;for(this.dependencyTracker=Kt?new CanvasNestedDependencyTracker(Kt,g):null,Ht=0;Ht<$t;++Ht){if(Zt=it[Ht],typeof Zt=="number"){Ut=St*Zt*dt/1e3,this.ctx.translate(Ut,0),ut.x+=Ut*jt;continue}const Yt=(Zt.isSpace?kt:0)+Tt,Jt=ct.charProcOperatorList[Zt.operatorListId];Jt?this.contentVisible&&(this.save(),ot.scale(dt,dt),ot.transform(...Rt),this.executeOperatorList(Jt),this.restore()):warn(`Type3 character "${Zt.operatorListId}" is not available.`);const er=[Zt.width,0];Util.applyTransform(er,Rt),Bt=er[0]*dt+Yt,ot.translate(Bt,0),ut.x+=Bt*jt}ot.restore(),Kt&&(this.dependencyTracker=Kt)}setCharWidth(g,it,ot){}setCharWidthAndBounds(g,it,ot,ut,ct,dt,ft){var Tt;const St=new Path2D;St.rect(ut,ct,dt-ut,ft-ct),this.ctx.clip(St),(Tt=this.dependencyTracker)==null||Tt.recordBBox(g,this.ctx,ut,dt,ct,ft).recordClipBox(g,this.ctx,ut,dt,ct,ft),this.endPath(g)}getColorN_Pattern(g,it){let ot;if(it[0]==="TilingPattern"){const ut=this.baseTransform||getCurrentTransform(this.ctx),ct={createCanvasGraphics:(dt,ft)=>new XS(dt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new CanvasNestedDependencyTracker(this.dependencyTracker,ft,!0):null)};ot=new TilingPattern(it,this.ctx,ct,ut)}else ot=this._getPattern(g,it[1],it[2]);return ot}setStrokeColorN(g,...it){var ot;(ot=this.dependencyTracker)==null||ot.recordSimpleData("strokeColor",g),this.current.strokeColor=this.getColorN_Pattern(g,it),this.current.patternStroke=!0}setFillColorN(g,...it){var ot;(ot=this.dependencyTracker)==null||ot.recordSimpleData("fillColor",g),this.current.fillColor=this.getColorN_Pattern(g,it),this.current.patternFill=!0}setStrokeRGBColor(g,it){var ot;(ot=this.dependencyTracker)==null||ot.recordSimpleData("strokeColor",g),this.ctx.strokeStyle=this.current.strokeColor=it,this.current.patternStroke=!1}setStrokeTransparent(g){var it;(it=this.dependencyTracker)==null||it.recordSimpleData("strokeColor",g),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(g,it){var ot;(ot=this.dependencyTracker)==null||ot.recordSimpleData("fillColor",g),this.ctx.fillStyle=this.current.fillColor=it,this.current.patternFill=!1}setFillTransparent(g){var it;(it=this.dependencyTracker)==null||it.recordSimpleData("fillColor",g),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(g,it,ot=null){let ut;return this.cachedPatterns.has(it)?ut=this.cachedPatterns.get(it):(ut=getShadingPattern(this.getObject(g,it)),this.cachedPatterns.set(it,ut)),ot&&(ut.matrix=ot),ut}shadingFill(g,it){var dt;if(!this.contentVisible)return;const ot=this.ctx;this.save(g);const ut=this._getPattern(g,it);ot.fillStyle=ut.getPattern(ot,this,getCurrentTransformInverse(ot),PathType.SHADING,g);const ct=getCurrentTransformInverse(ot);if(ct){const{width:ft,height:St}=ot.canvas,Tt=MIN_MAX_INIT.slice();Util.axialAlignedBoundingBox([0,0,ft,St],ct,Tt);const[kt,jt,Rt,$t]=Tt;this.ctx.fillRect(kt,jt,Rt-kt,$t-jt)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);(dt=this.dependencyTracker)==null||dt.resetBBox(g).recordFullPageBBox(g).recordDependencies(g,Dependencies.transform).recordDependencies(g,Dependencies.fill).recordOperation(g),this.compose(this.current.getClippedPathBoundingBox()),this.restore(g)}beginInlineImage(){unreachable("Should not call beginInlineImage")}beginImageData(){unreachable("Should not call beginImageData")}paintFormXObjectBegin(g,it,ot){var ut;if(this.contentVisible&&(this.save(g),this.baseTransformStack.push(this.baseTransform),it&&this.transform(g,...it),this.baseTransform=getCurrentTransform(this.ctx),ot)){Util.axialAlignedBoundingBox(ot,this.baseTransform,this.current.minMax);const[ct,dt,ft,St]=ot,Tt=new Path2D;Tt.rect(ct,dt,ft-ct,St-dt),this.ctx.clip(Tt),(ut=this.dependencyTracker)==null||ut.recordClipBox(g,this.ctx,ct,ft,dt,St),this.endPath(g)}}paintFormXObjectEnd(g){this.contentVisible&&(this.restore(g),this.baseTransform=this.baseTransformStack.pop())}beginGroup(g,it){var Kt;if(!this.contentVisible)return;this.save(g),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const ot=this.ctx;it.isolated||info("TODO: Support non-isolated groups."),it.knockout&&warn("Knockout groups not supported.");const ut=getCurrentTransform(ot);if(it.matrix&&ot.transform(...it.matrix),!it.bbox)throw new Error("Bounding box is required.");let ct=MIN_MAX_INIT.slice();Util.axialAlignedBoundingBox(it.bbox,getCurrentTransform(ot),ct);const dt=[0,0,ot.canvas.width,ot.canvas.height];ct=Util.intersect(ct,dt)||[0,0,0,0];const ft=Math.floor(ct[0]),St=Math.floor(ct[1]),Tt=Math.max(Math.ceil(ct[2])-ft,1),kt=Math.max(Math.ceil(ct[3])-St,1);this.current.startNewPathAndClipBox([0,0,Tt,kt]);let jt="groupAt"+this.groupLevel;it.smask&&(jt+="_smask_"+this.smaskCounter++%2);const Rt=this.cachedCanvases.getCanvas(jt,Tt,kt),$t=Rt.context;$t.translate(-ft,-St),$t.transform(...ut);let zt=new Path2D;const[Ht,Zt,Bt,Ut]=it.bbox;if(zt.rect(Ht,Zt,Bt-Ht,Ut-Zt),it.matrix){const Yt=new Path2D;Yt.addPath(zt,new DOMMatrix(it.matrix)),zt=Yt}$t.clip(zt),it.smask&&this.smaskStack.push({canvas:Rt.canvas,context:$t,offsetX:ft,offsetY:St,subtype:it.smask.subtype,backdrop:it.smask.backdrop,transferMap:it.smask.transferMap||null,startTransformInverse:null}),(!it.smask||this.dependencyTracker)&&(ot.setTransform(1,0,0,1,0,0),ot.translate(ft,St),ot.save()),copyCtxState(ot,$t),this.ctx=$t,(Kt=this.dependencyTracker)==null||Kt.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(ot),this.setGState(g,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(ot),this.groupLevel++}endGroup(g,it){var ct;if(!this.contentVisible)return;this.groupLevel--;const ot=this.ctx,ut=this.groupStack.pop();if(this.ctx=ut,this.ctx.imageSmoothingEnabled=!1,(ct=this.dependencyTracker)==null||ct.popBaseTransform(),it.smask)this.tempSMask=this.smaskStack.pop(),this.restore(g),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const dt=getCurrentTransform(this.ctx);this.restore(g),this.ctx.save(),this.ctx.setTransform(...dt);const ft=MIN_MAX_INIT.slice();Util.axialAlignedBoundingBox([0,0,ot.canvas.width,ot.canvas.height],dt,ft),this.ctx.drawImage(ot.canvas,0,0),this.ctx.restore(),this.compose(ft)}}beginAnnotation(g,it,ot,ut,ct,dt){if(vr(this,Iv,lS).call(this),resetCtxToDefault(this.ctx),this.ctx.save(),this.save(g),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),ot){const ft=ot[2]-ot[0],St=ot[3]-ot[1];if(dt&&this.annotationCanvasMap){ut=ut.slice(),ut[4]-=ot[0],ut[5]-=ot[1],ot=ot.slice(),ot[0]=ot[1]=0,ot[2]=ft,ot[3]=St,Util.singularValueDecompose2dScale(getCurrentTransform(this.ctx),XY);const{viewportScale:Tt}=this,kt=Math.ceil(ft*this.outputScaleX*Tt),jt=Math.ceil(St*this.outputScaleY*Tt);this.annotationCanvas=this.canvasFactory.create(kt,jt);const{canvas:Rt,context:$t}=this.annotationCanvas;this.annotationCanvasMap.set(it,Rt),this.annotationCanvas.savedCtx=this.ctx,this.ctx=$t,this.ctx.save(),this.ctx.setTransform(XY[0],0,0,-XY[1],0,St*XY[1]),resetCtxToDefault(this.ctx)}else{resetCtxToDefault(this.ctx),this.endPath(g);const Tt=new Path2D;Tt.rect(ot[0],ot[1],ft,St),this.ctx.clip(Tt)}}this.current=new CanvasExtraState(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(g,...ut),this.transform(g,...ct)}endAnnotation(g){this.annotationCanvas&&(this.ctx.restore(),vr(this,Fv,uS).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(g,it){var ft;if(!this.contentVisible)return;const ot=it.count;it=this.getObject(g,it.data,it),it.count=ot;const ut=this.ctx,ct=this._createMaskCanvas(g,it),dt=ct.canvas;ut.save(),ut.setTransform(1,0,0,1,0,0),ut.drawImage(dt,ct.offsetX,ct.offsetY),(ft=this.dependencyTracker)==null||ft.resetBBox(g).recordBBox(g,this.ctx,ct.offsetX,ct.offsetX+dt.width,ct.offsetY,ct.offsetY+dt.height).recordOperation(g),ut.restore(),this.compose()}paintImageMaskXObjectRepeat(g,it,ot,ut=0,ct=0,dt,ft){var jt,Rt,$t;if(!this.contentVisible)return;it=this.getObject(g,it.data,it);const St=this.ctx;St.save();const Tt=getCurrentTransform(St);St.transform(ot,ut,ct,dt,0,0);const kt=this._createMaskCanvas(g,it);St.setTransform(1,0,0,1,kt.offsetX-Tt[4],kt.offsetY-Tt[5]),(jt=this.dependencyTracker)==null||jt.resetBBox(g);for(let zt=0,Ht=ft.length;zt<Ht;zt+=2){const Zt=Util.transform(Tt,[ot,ut,ct,dt,ft[zt],ft[zt+1]]);St.drawImage(kt.canvas,Zt[4],Zt[5]),(Rt=this.dependencyTracker)==null||Rt.recordBBox(g,this.ctx,Zt[4],Zt[4]+kt.canvas.width,Zt[5],Zt[5]+kt.canvas.height)}St.restore(),this.compose(),($t=this.dependencyTracker)==null||$t.recordOperation(g)}paintImageMaskXObjectGroup(g,it){var dt,ft,St;if(!this.contentVisible)return;const ot=this.ctx,ut=this.current.fillColor,ct=this.current.patternFill;(dt=this.dependencyTracker)==null||dt.resetBBox(g).recordDependencies(g,Dependencies.transformAndFill);for(const Tt of it){const{data:kt,width:jt,height:Rt,transform:$t}=Tt,zt=this.cachedCanvases.getCanvas("maskCanvas",jt,Rt),Ht=zt.context;Ht.save();const Zt=this.getObject(g,kt,Tt);putBinaryImageMask(Ht,Zt),Ht.globalCompositeOperation="source-in",Ht.fillStyle=ct?ut.getPattern(Ht,this,getCurrentTransformInverse(ot),PathType.FILL,g):ut,Ht.fillRect(0,0,jt,Rt),Ht.restore(),ot.save(),ot.transform(...$t),ot.scale(1,-1),drawImageAtIntegerCoords(ot,zt.canvas,0,0,jt,Rt,0,-1,1,1),(ft=this.dependencyTracker)==null||ft.recordBBox(g,ot,0,jt,0,Rt),ot.restore()}this.compose(),(St=this.dependencyTracker)==null||St.recordOperation(g)}paintImageXObject(g,it){if(!this.contentVisible)return;const ot=this.getObject(g,it);if(!ot){warn("Dependent image isn't ready yet");return}this.paintInlineImageXObject(g,ot)}paintImageXObjectRepeat(g,it,ot,ut,ct){if(!this.contentVisible)return;const dt=this.getObject(g,it);if(!dt){warn("Dependent image isn't ready yet");return}const ft=dt.width,St=dt.height,Tt=[];for(let kt=0,jt=ct.length;kt<jt;kt+=2)Tt.push({transform:[ot,0,0,ut,ct[kt],ct[kt+1]],x:0,y:0,w:ft,h:St});this.paintInlineImageXObjectGroup(g,dt,Tt)}applyTransferMapsToCanvas(g){return this.current.transferMaps!=="none"&&(g.filter=this.current.transferMaps,g.drawImage(g.canvas,0,0),g.filter="none"),g.canvas}applyTransferMapsToBitmap(g){if(this.current.transferMaps==="none")return g.bitmap;const{bitmap:it,width:ot,height:ut}=g,ct=this.cachedCanvases.getCanvas("inlineImage",ot,ut),dt=ct.context;return dt.filter=this.current.transferMaps,dt.drawImage(it,0,0),dt.filter="none",ct.canvas}paintInlineImageXObject(g,it){var Tt;if(!this.contentVisible)return;const ot=it.width,ut=it.height,ct=this.ctx;this.save(g);const{filter:dt}=ct;dt!=="none"&&dt!==""&&(ct.filter="none"),ct.scale(1/ot,-1/ut);let ft;if(it.bitmap)ft=this.applyTransferMapsToBitmap(it);else if(typeof HTMLElement=="function"&&it instanceof HTMLElement||!it.data)ft=it;else{const jt=this.cachedCanvases.getCanvas("inlineImage",ot,ut).context;putBinaryImageData(jt,it),ft=this.applyTransferMapsToCanvas(jt)}const St=this._scaleImage(ft,getCurrentTransformInverse(ct));ct.imageSmoothingEnabled=getImageSmoothingEnabled(getCurrentTransform(ct),it.interpolate),(Tt=this.dependencyTracker)==null||Tt.resetBBox(g).recordBBox(g,ct,0,ot,-ut,0).recordDependencies(g,Dependencies.imageXObject).recordOperation(g),drawImageAtIntegerCoords(ct,St.img,0,0,St.paintWidth,St.paintHeight,0,-ut,ot,ut),this.compose(),this.restore(g)}paintInlineImageXObjectGroup(g,it,ot){var dt,ft,St;if(!this.contentVisible)return;const ut=this.ctx;let ct;if(it.bitmap)ct=it.bitmap;else{const Tt=it.width,kt=it.height,Rt=this.cachedCanvases.getCanvas("inlineImage",Tt,kt).context;putBinaryImageData(Rt,it),ct=this.applyTransferMapsToCanvas(Rt)}(dt=this.dependencyTracker)==null||dt.resetBBox(g);for(const Tt of ot)ut.save(),ut.transform(...Tt.transform),ut.scale(1,-1),drawImageAtIntegerCoords(ut,ct,Tt.x,Tt.y,Tt.w,Tt.h,0,-1,1,1),(ft=this.dependencyTracker)==null||ft.recordBBox(g,ut,0,1,-1,0),ut.restore();(St=this.dependencyTracker)==null||St.recordOperation(g),this.compose()}paintSolidColorImageMask(g){var it;this.contentVisible&&((it=this.dependencyTracker)==null||it.resetBBox(g).recordBBox(g,this.ctx,0,1,0,1).recordDependencies(g,Dependencies.fill).recordOperation(g),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(g,it){}markPointProps(g,it,ot){}beginMarkedContent(g,it){var ot;(ot=this.dependencyTracker)==null||ot.beginMarkedContent(g),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(g,it,ot){var ut;(ut=this.dependencyTracker)==null||ut.beginMarkedContent(g),it==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(ot)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(g){var it;(it=this.dependencyTracker)==null||it.endMarkedContent(g),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(g){}endCompat(g){}consumePath(g,it,ot){var dt,ft;const ut=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(ot);const ct=this.ctx;this.pendingClip?(ut||(this.pendingClip===EO_CLIP?ct.clip(it,"evenodd"):ct.clip(it)),this.pendingClip=null,(dt=this.dependencyTracker)==null||dt.bboxToClipBoxDropOperation(g).recordFutureForcedDependency("clipPath",g)):(ft=this.dependencyTracker)==null||ft.recordOperation(g),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const g=getCurrentTransform(this.ctx);if(g[1]===0&&g[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(g[0]),Math.abs(g[3]));else{const it=Math.abs(g[0]*g[3]-g[2]*g[1]),ot=Math.hypot(g[0],g[2]),ut=Math.hypot(g[1],g[3]);this._cachedGetSinglePixelWidth=Math.max(ot,ut)/it}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:g}=this.current,{a:it,b:ot,c:ut,d:ct}=this.ctx.getTransform();let dt,ft;if(ot===0&&ut===0){const St=Math.abs(it),Tt=Math.abs(ct);if(St===Tt)if(g===0)dt=ft=1/St;else{const kt=St*g;dt=ft=kt<1?1/kt:1}else if(g===0)dt=1/St,ft=1/Tt;else{const kt=St*g,jt=Tt*g;dt=kt<1?1/kt:1,ft=jt<1?1/jt:1}}else{const St=Math.abs(it*ct-ot*ut),Tt=Math.hypot(it,ot),kt=Math.hypot(ut,ct);if(g===0)dt=kt/St,ft=Tt/St;else{const jt=g*St;dt=kt>jt?kt/jt:1,ft=Tt>jt?Tt/jt:1}}this._cachedScaleForStroking[0]=dt,this._cachedScaleForStroking[1]=ft}return this._cachedScaleForStroking}rescaleAndStroke(g,it){const{ctx:ot,current:{lineWidth:ut}}=this,[ct,dt]=this.getScaleForStroking();if(ct===dt){ot.lineWidth=(ut||1)*ct,ot.stroke(g);return}const ft=ot.getLineDash();it&&ot.save(),ot.scale(ct,dt),SCALE_MATRIX.a=1/ct,SCALE_MATRIX.d=1/dt;const St=new Path2D;if(St.addPath(g,SCALE_MATRIX),ft.length>0){const Tt=Math.max(ct,dt);ot.setLineDash(ft.map(kt=>kt/Tt)),ot.lineDashOffset/=Tt}ot.lineWidth=ut||1,ot.stroke(St),it&&ot.restore()}isContentVisible(){for(let g=this.markedContentStack.length-1;g>=0;g--)if(!this.markedContentStack[g].visible)return!1;return!0}};Iv=new WeakSet,lS=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Fv=new WeakSet,uS=function(){if(this.pageColors){const g=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(g!=="none"){const it=this.ctx.filter;this.ctx.filter=g,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=it}}},$v=new WeakSet,cS=function(g,it,ot){const ut=new Path2D;return ut.addPath(g,new DOMMatrix(ot).invertSelf().multiplySelf(it)),ut};let CanvasGraphics=XS;for(const et in OPS)CanvasGraphics.prototype[et]!==void 0&&(CanvasGraphics.prototype[OPS[et]]=CanvasGraphics.prototype[et]);var oy,ay,Bv,ly,P1;const Am=class Am{constructor(g){sr(this,ly);sr(this,oy,void 0);sr(this,ay,void 0);sr(this,Bv,void 0);ur(this,oy,g),ur(this,ay,new DataView(Ft(this,oy))),ur(this,Bv,new TextDecoder)}static write(g){const it=new TextEncoder,ot={};let ut=0;for(const Tt of Am.strings){const kt=it.encode(g[Tt]);ot[Tt]=kt,ut+=4+kt.length}const ct=new ArrayBuffer(ut),dt=new Uint8Array(ct),ft=new DataView(ct);let St=0;for(const Tt of Am.strings){const kt=ot[Tt],jt=kt.length;ft.setUint32(St,jt),dt.set(kt,St+4),St+=4+jt}return assert(St===ct.byteLength,"CssFontInfo.write: Buffer overflow"),ct}get fontFamily(){return vr(this,ly,P1).call(this,0)}get fontWeight(){return vr(this,ly,P1).call(this,1)}get italicAngle(){return vr(this,ly,P1).call(this,2)}};oy=new WeakMap,ay=new WeakMap,Bv=new WeakMap,ly=new WeakSet,P1=function(g){assert(g<Am.strings.length,"Invalid string index");let it=0;for(let ut=0;ut<g;ut++)it+=Ft(this,ay).getUint32(it)+4;const ot=Ft(this,ay).getUint32(it);return Ft(this,Bv).decode(new Uint8Array(Ft(this,oy),it+4,ot))},Nr(Am,"strings",["fontFamily","fontWeight","italicAngle"]);let CssFontInfo=Am;var au,xo,Sp,Ap,L0;const _m=class _m{constructor(g){sr(this,Ap);sr(this,au,void 0);sr(this,xo,void 0);sr(this,Sp,void 0);ur(this,au,g),ur(this,xo,new DataView(Ft(this,au))),ur(this,Sp,new TextDecoder)}static write(g){const it=new TextEncoder,ot={};let ut=0;for(const Rt of _m.strings){const $t=it.encode(g[Rt]);ot[Rt]=$t,ut+=4+$t.length}ut+=4;let ct,dt,ft=1+ut;g.style&&(ct=it.encode(g.style.style),dt=it.encode(g.style.weight),ft+=4+ct.length+4+dt.length);const St=new ArrayBuffer(ft),Tt=new Uint8Array(St),kt=new DataView(St);let jt=0;kt.setUint8(jt++,g.guessFallback?1:0),kt.setUint32(jt,0),jt+=4,ut=0;for(const Rt of _m.strings){const $t=ot[Rt],zt=$t.length;ut+=4+zt,kt.setUint32(jt,zt),Tt.set($t,jt+4),jt+=4+zt}return kt.setUint32(jt-ut-4,ut),g.style&&(kt.setUint32(jt,ct.length),Tt.set(ct,jt+4),jt+=4+ct.length,kt.setUint32(jt,dt.length),Tt.set(dt,jt+4),jt+=4+dt.length),assert(jt<=St.byteLength,"SubstitionInfo.write: Buffer overflow"),St.transferToFixedLength(jt)}get guessFallback(){return Ft(this,xo).getUint8(0)!==0}get css(){return vr(this,Ap,L0).call(this,0)}get loadedName(){return vr(this,Ap,L0).call(this,1)}get baseFontName(){return vr(this,Ap,L0).call(this,2)}get src(){return vr(this,Ap,L0).call(this,3)}get style(){let g=1;g+=4+Ft(this,xo).getUint32(g);const it=Ft(this,xo).getUint32(g),ot=Ft(this,Sp).decode(new Uint8Array(Ft(this,au),g+4,it));g+=4+it;const ut=Ft(this,xo).getUint32(g),ct=Ft(this,Sp).decode(new Uint8Array(Ft(this,au),g+4,ut));return{style:ot,weight:ct}}};au=new WeakMap,xo=new WeakMap,Sp=new WeakMap,Ap=new WeakSet,L0=function(g){assert(g<_m.strings.length,"Invalid string index");let it=5;for(let ut=0;ut<g;ut++)it+=Ft(this,xo).getUint32(it)+4;const ot=Ft(this,xo).getUint32(it);return Ft(this,Sp).decode(new Uint8Array(Ft(this,au),it+4,ot))},Nr(_m,"strings",["css","loadedName","baseFontName","src"]);let SystemFontInfo=_m;var uy,cy,hy,dy,hs,bo,Vv,nn,ds,Fs,fy,C1,_p,N0;const Wr=class Wr{constructor({data:g,extra:it}){sr(this,ds);sr(this,fy);sr(this,_p);sr(this,bo,void 0);sr(this,Vv,void 0);sr(this,nn,void 0);ur(this,bo,g),ur(this,Vv,new TextDecoder),ur(this,nn,new DataView(Ft(this,bo))),it&&Object.assign(this,it)}get black(){return vr(this,ds,Fs).call(this,0)}get bold(){return vr(this,ds,Fs).call(this,1)}get disableFontFace(){return vr(this,ds,Fs).call(this,2)}get fontExtraProperties(){return vr(this,ds,Fs).call(this,3)}get isInvalidPDFjsFont(){return vr(this,ds,Fs).call(this,4)}get isType3Font(){return vr(this,ds,Fs).call(this,5)}get italic(){return vr(this,ds,Fs).call(this,6)}get missingFile(){return vr(this,ds,Fs).call(this,7)}get remeasure(){return vr(this,ds,Fs).call(this,8)}get vertical(){return vr(this,ds,Fs).call(this,9)}get ascent(){return vr(this,fy,C1).call(this,0)}get defaultWidth(){return vr(this,fy,C1).call(this,1)}get descent(){return vr(this,fy,C1).call(this,2)}get bbox(){let g=Ft(Wr,cy);if(Ft(this,nn).getUint8(g)===0)return;g+=1;const ot=[];for(let ut=0;ut<4;ut++)ot.push(Ft(this,nn).getInt16(g,!0)),g+=2;return ot}get fontMatrix(){let g=Ft(Wr,hy);if(Ft(this,nn).getUint8(g)===0)return;g+=1;const ot=[];for(let ut=0;ut<6;ut++)ot.push(Ft(this,nn).getFloat64(g,!0)),g+=8;return ot}get defaultVMetrics(){let g=Ft(Wr,dy);if(Ft(this,nn).getUint8(g)===0)return;g+=1;const ot=[];for(let ut=0;ut<3;ut++)ot.push(Ft(this,nn).getInt16(g,!0)),g+=2;return ot}get fallbackName(){return vr(this,_p,N0).call(this,0)}get loadedName(){return vr(this,_p,N0).call(this,1)}get mimetype(){return vr(this,_p,N0).call(this,2)}get name(){return vr(this,_p,N0).call(this,3)}get data(){let g=Ft(Wr,hs);const it=Ft(this,nn).getUint32(g);g+=4+it;const ot=Ft(this,nn).getUint32(g);g+=4+ot;const ut=Ft(this,nn).getUint32(g);g+=4+ut;const ct=Ft(this,nn).getUint32(g);if(ct!==0)return new Uint8Array(Ft(this,bo),g+4,ct)}clearData(){let g=Ft(Wr,hs);const it=Ft(this,nn).getUint32(g);g+=4+it;const ot=Ft(this,nn).getUint32(g);g+=4+ot;const ut=Ft(this,nn).getUint32(g);g+=4+ut;const ct=Ft(this,nn).getUint32(g);new Uint8Array(Ft(this,bo),g+4,ct).fill(0),Ft(this,nn).setUint32(g,0)}get cssFontInfo(){let g=Ft(Wr,hs);const it=Ft(this,nn).getUint32(g);g+=4+it;const ot=Ft(this,nn).getUint32(g);g+=4+ot;const ut=Ft(this,nn).getUint32(g);if(ut===0)return null;const ct=new Uint8Array(ut);return ct.set(new Uint8Array(Ft(this,bo),g+4,ut)),new CssFontInfo(ct.buffer)}get systemFontInfo(){let g=Ft(Wr,hs);const it=Ft(this,nn).getUint32(g);g+=4+it;const ot=Ft(this,nn).getUint32(g);if(ot===0)return null;const ut=new Uint8Array(ot);return ut.set(new Uint8Array(Ft(this,bo),g+4,ot)),new SystemFontInfo(ut.buffer)}static write(g){const it=g.systemFontInfo?SystemFontInfo.write(g.systemFontInfo):null,ot=g.cssFontInfo?CssFontInfo.write(g.cssFontInfo):null,ut=new TextEncoder,ct={};let dt=0;for(const Ht of Wr.strings)ct[Ht]=ut.encode(g[Ht]),dt+=4+ct[Ht].length;const ft=Ft(Wr,hs)+4+dt+4+(it?it.byteLength:0)+4+(ot?ot.byteLength:0)+4+(g.data?g.data.length:0),St=new ArrayBuffer(ft),Tt=new Uint8Array(St),kt=new DataView(St);let jt=0;const Rt=Wr.bools.length;let $t=0,zt=0;for(let Ht=0;Ht<Rt;Ht++){const Zt=g[Wr.bools[Ht]];$t|=(Zt===void 0?0:Zt?2:1)<<zt,zt+=2,(zt===8||Ht===Rt-1)&&(kt.setUint8(jt++,$t),$t=0,zt=0)}assert(jt===Ft(Wr,uy),"FontInfo.write: Boolean properties offset mismatch");for(const Ht of Wr.numbers)kt.setFloat64(jt,g[Ht]),jt+=8;if(assert(jt===Ft(Wr,cy),"FontInfo.write: Number properties offset mismatch"),g.bbox){kt.setUint8(jt++,4);for(const Ht of g.bbox)kt.setInt16(jt,Ht,!0),jt+=2}else kt.setUint8(jt++,0),jt+=2*4;if(assert(jt===Ft(Wr,hy),"FontInfo.write: BBox properties offset mismatch"),g.fontMatrix){kt.setUint8(jt++,6);for(const Ht of g.fontMatrix)kt.setFloat64(jt,Ht,!0),jt+=8}else kt.setUint8(jt++,0),jt+=8*6;if(assert(jt===Ft(Wr,dy),"FontInfo.write: FontMatrix properties offset mismatch"),g.defaultVMetrics){kt.setUint8(jt++,1);for(const Ht of g.defaultVMetrics)kt.setInt16(jt,Ht,!0),jt+=2}else kt.setUint8(jt++,0),jt+=3*2;assert(jt===Ft(Wr,hs),"FontInfo.write: DefaultVMetrics properties offset mismatch"),kt.setUint32(Ft(Wr,hs),0),jt+=4;for(const Ht of Wr.strings){const Zt=ct[Ht],Bt=Zt.length;kt.setUint32(jt,Bt),Tt.set(Zt,jt+4),jt+=4+Bt}if(kt.setUint32(Ft(Wr,hs),jt-Ft(Wr,hs)-4),!it)kt.setUint32(jt,0),jt+=4;else{const Ht=it.byteLength;kt.setUint32(jt,Ht),assert(jt+4+Ht<=St.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),Tt.set(new Uint8Array(it),jt+4),jt+=4+Ht}if(!ot)kt.setUint32(jt,0),jt+=4;else{const Ht=ot.byteLength;kt.setUint32(jt,Ht),assert(jt+4+Ht<=St.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),Tt.set(new Uint8Array(ot),jt+4),jt+=4+Ht}return g.data===void 0?(kt.setUint32(jt,0),jt+=4):(kt.setUint32(jt,g.data.length),Tt.set(g.data,jt+4),jt+=4+g.data.length),assert(jt<=St.byteLength,"FontInfo.write: Buffer overflow"),St.transferToFixedLength(jt)}};uy=new WeakMap,cy=new WeakMap,hy=new WeakMap,dy=new WeakMap,hs=new WeakMap,bo=new WeakMap,Vv=new WeakMap,nn=new WeakMap,ds=new WeakSet,Fs=function(g){assert(g<Wr.bools.length,"Invalid boolean index");const it=Math.floor(g/4),ot=g*2%8,ut=Ft(this,nn).getUint8(it)>>ot&3;return ut===0?void 0:ut===2},fy=new WeakSet,C1=function(g){return assert(g<Wr.numbers.length,"Invalid number index"),Ft(this,nn).getFloat64(Ft(Wr,uy)+g*8)},_p=new WeakSet,N0=function(g){assert(g<Wr.strings.length,"Invalid string index");let it=Ft(Wr,hs)+4;for(let ct=0;ct<g;ct++)it+=Ft(this,nn).getUint32(it)+4;const ot=Ft(this,nn).getUint32(it),ut=new Uint8Array(ot);return ut.set(new Uint8Array(Ft(this,bo),it+4,ot)),Ft(this,Vv).decode(ut)},Nr(Wr,"bools",["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"]),Nr(Wr,"numbers",["ascent","defaultWidth","descent"]),Nr(Wr,"strings",["fallbackName","loadedName","mimetype","name"]),sr(Wr,uy,Math.ceil(Wr.bools.length*2/8)),sr(Wr,cy,Ft(Wr,uy)+Wr.numbers.length*8),sr(Wr,hy,Ft(Wr,cy)+1+2*4),sr(Wr,dy,Ft(Wr,hy)+1+8*6),sr(Wr,hs,Ft(Wr,dy)+1+2*3);let FontInfo=Wr;var Uv,Hv;class GlobalWorkerOptions{static get workerPort(){return Ft(this,Uv)}static set workerPort(g){if(!(typeof Worker<"u"&&g instanceof Worker)&&g!==null)throw new Error("Invalid `workerPort` type.");ur(this,Uv,g)}static get workerSrc(){return Ft(this,Hv)}static set workerSrc(g){if(typeof g!="string")throw new Error("Invalid `workerSrc` type.");ur(this,Hv,g)}}Uv=new WeakMap,Hv=new WeakMap,sr(GlobalWorkerOptions,Uv,null),sr(GlobalWorkerOptions,Hv,"");var py,zv;class Metadata{constructor({parsedData:g,rawData:it}){sr(this,py,void 0);sr(this,zv,void 0);ur(this,py,g),ur(this,zv,it)}getRaw(){return Ft(this,zv)}get(g){return Ft(this,py).get(g)??null}[Symbol.iterator](){return Ft(this,py).entries()}}py=new WeakMap,zv=new WeakMap;const INTERNAL=Symbol("INTERNAL");var Gv,qv,Wv,my;class OptionalContentGroup{constructor(g,{name:it,intent:ot,usage:ut,rbGroups:ct}){sr(this,Gv,!1);sr(this,qv,!1);sr(this,Wv,!1);sr(this,my,!0);ur(this,Gv,!!(g&RenderingIntentFlag.DISPLAY)),ur(this,qv,!!(g&RenderingIntentFlag.PRINT)),this.name=it,this.intent=ot,this.usage=ut,this.rbGroups=ct}get visible(){if(Ft(this,Wv))return Ft(this,my);if(!Ft(this,my))return!1;const{print:g,view:it}=this.usage;return Ft(this,Gv)?(it==null?void 0:it.viewState)!=="OFF":Ft(this,qv)?(g==null?void 0:g.printState)!=="OFF":!0}_setVisible(g,it,ot=!1){g!==INTERNAL&&unreachable("Internal method `_setVisible` called."),ur(this,Wv,ot),ur(this,my,it)}}Gv=new WeakMap,qv=new WeakMap,Wv=new WeakMap,my=new WeakMap;var lu,sn,gy,yy,Kv,hS;class OptionalContentConfig{constructor(g,it=RenderingIntentFlag.DISPLAY){sr(this,Kv);sr(this,lu,null);sr(this,sn,new Map);sr(this,gy,null);sr(this,yy,null);if(this.renderingIntent=it,this.name=null,this.creator=null,g!==null){this.name=g.name,this.creator=g.creator,ur(this,yy,g.order);for(const ot of g.groups)Ft(this,sn).set(ot.id,new OptionalContentGroup(it,ot));if(g.baseState==="OFF")for(const ot of Ft(this,sn).values())ot._setVisible(INTERNAL,!1);for(const ot of g.on)Ft(this,sn).get(ot)._setVisible(INTERNAL,!0);for(const ot of g.off)Ft(this,sn).get(ot)._setVisible(INTERNAL,!1);ur(this,gy,this.getHash())}}isVisible(g){if(Ft(this,sn).size===0)return!0;if(!g)return info("Optional content group not defined."),!0;if(g.type==="OCG")return Ft(this,sn).has(g.id)?Ft(this,sn).get(g.id).visible:(warn(`Optional content group not found: ${g.id}`),!0);if(g.type==="OCMD"){if(g.expression)return vr(this,Kv,hS).call(this,g.expression);if(!g.policy||g.policy==="AnyOn"){for(const it of g.ids){if(!Ft(this,sn).has(it))return warn(`Optional content group not found: ${it}`),!0;if(Ft(this,sn).get(it).visible)return!0}return!1}else if(g.policy==="AllOn"){for(const it of g.ids){if(!Ft(this,sn).has(it))return warn(`Optional content group not found: ${it}`),!0;if(!Ft(this,sn).get(it).visible)return!1}return!0}else if(g.policy==="AnyOff"){for(const it of g.ids){if(!Ft(this,sn).has(it))return warn(`Optional content group not found: ${it}`),!0;if(!Ft(this,sn).get(it).visible)return!0}return!1}else if(g.policy==="AllOff"){for(const it of g.ids){if(!Ft(this,sn).has(it))return warn(`Optional content group not found: ${it}`),!0;if(Ft(this,sn).get(it).visible)return!1}return!0}return warn(`Unknown optional content policy ${g.policy}.`),!0}return warn(`Unknown group type ${g.type}.`),!0}setVisibility(g,it=!0,ot=!0){var ct;const ut=Ft(this,sn).get(g);if(!ut){warn(`Optional content group not found: ${g}`);return}if(ot&&it&&ut.rbGroups.length)for(const dt of ut.rbGroups)for(const ft of dt)ft!==g&&((ct=Ft(this,sn).get(ft))==null||ct._setVisible(INTERNAL,!1,!0));ut._setVisible(INTERNAL,!!it,!0),ur(this,lu,null)}setOCGState({state:g,preserveRB:it}){let ot;for(const ut of g){switch(ut){case"ON":case"OFF":case"Toggle":ot=ut;continue}const ct=Ft(this,sn).get(ut);if(ct)switch(ot){case"ON":this.setVisibility(ut,!0,it);break;case"OFF":this.setVisibility(ut,!1,it);break;case"Toggle":this.setVisibility(ut,!ct.visible,it);break}}ur(this,lu,null)}get hasInitialVisibility(){return Ft(this,gy)===null||this.getHash()===Ft(this,gy)}getOrder(){return Ft(this,sn).size?Ft(this,yy)?Ft(this,yy).slice():[...Ft(this,sn).keys()]:null}getGroup(g){return Ft(this,sn).get(g)||null}getHash(){if(Ft(this,lu)!==null)return Ft(this,lu);const g=new MurmurHash3_64;for(const[it,ot]of Ft(this,sn))g.update(`${it}:${ot.visible}`);return ur(this,lu,g.hexdigest())}[Symbol.iterator](){return Ft(this,sn).entries()}}lu=new WeakMap,sn=new WeakMap,gy=new WeakMap,yy=new WeakMap,Kv=new WeakSet,hS=function(g){const it=g.length;if(it<2)return!0;const ot=g[0];for(let ut=1;ut<it;ut++){const ct=g[ut];let dt;if(Array.isArray(ct))dt=vr(this,Kv,hS).call(this,ct);else if(Ft(this,sn).has(ct))dt=Ft(this,sn).get(ct).visible;else return warn(`Optional content group not found: ${ct}`),!0;switch(ot){case"And":if(!dt)return!1;break;case"Or":if(dt)return!0;break;case"Not":return!dt;default:return!0}}return ot==="And"};class PDFDataTransportStream{constructor(g,{disableRange:it=!1,disableStream:ot=!1}){assert(g,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:ut,initialData:ct,progressiveDone:dt,contentDispositionFilename:ft}=g;if(this._queuedChunks=[],this._progressiveDone=dt,this._contentDispositionFilename=ft,(ct==null?void 0:ct.length)>0){const St=ct instanceof Uint8Array&&ct.byteLength===ct.buffer.byteLength?ct.buffer:new Uint8Array(ct).buffer;this._queuedChunks.push(St)}this._pdfDataRangeTransport=g,this._isStreamingSupported=!ot,this._isRangeSupported=!it,this._contentLength=ut,this._fullRequestReader=null,this._rangeReaders=[],g.addRangeListener((St,Tt)=>{this._onReceiveData({begin:St,chunk:Tt})}),g.addProgressListener((St,Tt)=>{this._onProgress({loaded:St,total:Tt})}),g.addProgressiveReadListener(St=>{this._onReceiveData({chunk:St})}),g.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),g.transportReady()}_onReceiveData({begin:g,chunk:it}){const ot=it instanceof Uint8Array&&it.byteLength===it.buffer.byteLength?it.buffer:new Uint8Array(it).buffer;if(g===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(ot):this._queuedChunks.push(ot);else{const ut=this._rangeReaders.some(function(ct){return ct._begin!==g?!1:(ct._enqueue(ot),!0)});assert(ut,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var g;return((g=this._fullRequestReader)==null?void 0:g._loaded)??0}_onProgress(g){var it,ot,ut,ct;g.total===void 0?(ot=(it=this._rangeReaders[0])==null?void 0:it.onProgress)==null||ot.call(it,{loaded:g.loaded}):(ct=(ut=this._fullRequestReader)==null?void 0:ut.onProgress)==null||ct.call(ut,{loaded:g.loaded,total:g.total})}_onProgressiveDone(){var g;(g=this._fullRequestReader)==null||g.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(g){const it=this._rangeReaders.indexOf(g);it>=0&&this._rangeReaders.splice(it,1)}getFullReader(){assert(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const g=this._queuedChunks;return this._queuedChunks=null,new PDFDataTransportStreamReader(this,g,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(g,it){if(it<=this._progressiveDataLength)return null;const ot=new PDFDataTransportStreamRangeReader(this,g,it);return this._pdfDataRangeTransport.requestDataRange(g,it),this._rangeReaders.push(ot),ot}cancelAllRequests(g){var it;(it=this._fullRequestReader)==null||it.cancel(g);for(const ot of this._rangeReaders.slice(0))ot.cancel(g);this._pdfDataRangeTransport.abort()}}class PDFDataTransportStreamReader{constructor(g,it,ot=!1,ut=null){this._stream=g,this._done=ot||!1,this._filename=isPdfFile(ut)?ut:null,this._queuedChunks=it||[],this._loaded=0;for(const ct of this._queuedChunks)this._loaded+=ct.byteLength;this._requests=[],this._headersReady=Promise.resolve(),g._fullRequestReader=this,this.onProgress=null}_enqueue(g){this._done||(this._requests.length>0?this._requests.shift().resolve({value:g,done:!1}):this._queuedChunks.push(g),this._loaded+=g.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const g=Promise.withResolvers();return this._requests.push(g),g.promise}cancel(g){this._done=!0;for(const it of this._requests)it.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class PDFDataTransportStreamRangeReader{constructor(g,it,ot){this._stream=g,this._begin=it,this._end=ot,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(g){if(!this._done){if(this._requests.length===0)this._queuedChunk=g;else{this._requests.shift().resolve({value:g,done:!1});for(const ot of this._requests)ot.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const it=this._queuedChunk;return this._queuedChunk=null,{value:it,done:!1}}if(this._done)return{value:void 0,done:!0};const g=Promise.withResolvers();return this._requests.push(g),g.promise}cancel(g){this._done=!0;for(const it of this._requests)it.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function getFilenameFromContentDispositionHeader(et){let g=!0,it=ot("filename\\*","i").exec(et);if(it){it=it[1];let kt=ft(it);return kt=unescape(kt),kt=St(kt),kt=Tt(kt),ct(kt)}if(it=dt(et),it){const kt=Tt(it);return ct(kt)}if(it=ot("filename","i").exec(et),it){it=it[1];let kt=ft(it);return kt=Tt(kt),ct(kt)}function ot(kt,jt){return new RegExp("(?:^|;)\\s*"+kt+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',jt)}function ut(kt,jt){if(kt){if(!/^[\x00-\xFF]+$/.test(jt))return jt;try{const Rt=new TextDecoder(kt,{fatal:!0}),$t=stringToBytes(jt);jt=Rt.decode($t),g=!1}catch{}}return jt}function ct(kt){return g&&/[\x80-\xff]/.test(kt)&&(kt=ut("utf-8",kt),g&&(kt=ut("iso-8859-1",kt))),kt}function dt(kt){const jt=[];let Rt;const $t=ot("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(Rt=$t.exec(kt))!==null;){let[,Ht,Zt,Bt]=Rt;if(Ht=parseInt(Ht,10),Ht in jt){if(Ht===0)break;continue}jt[Ht]=[Zt,Bt]}const zt=[];for(let Ht=0;Ht<jt.length&&Ht in jt;++Ht){let[Zt,Bt]=jt[Ht];Bt=ft(Bt),Zt&&(Bt=unescape(Bt),Ht===0&&(Bt=St(Bt))),zt.push(Bt)}return zt.join("")}function ft(kt){if(kt.startsWith('"')){const jt=kt.slice(1).split('\\"');for(let Rt=0;Rt<jt.length;++Rt){const $t=jt[Rt].indexOf('"');$t!==-1&&(jt[Rt]=jt[Rt].slice(0,$t),jt.length=Rt+1),jt[Rt]=jt[Rt].replaceAll(/\\(.)/g,"$1")}kt=jt.join('"')}return kt}function St(kt){const jt=kt.indexOf("'");if(jt===-1)return kt;const Rt=kt.slice(0,jt),zt=kt.slice(jt+1).replace(/^[^']*'/,"");return ut(Rt,zt)}function Tt(kt){return!kt.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(kt)?kt:kt.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(jt,Rt,$t,zt){if($t==="q"||$t==="Q")return zt=zt.replaceAll("_"," "),zt=zt.replaceAll(/=([0-9a-fA-F]{2})/g,function(Ht,Zt){return String.fromCharCode(parseInt(Zt,16))}),ut(Rt,zt);try{zt=atob(zt)}catch{}return ut(Rt,zt)})}return""}function createHeaders(et,g){const it=new Headers;if(!et||!g||typeof g!="object")return it;for(const ot in g){const ut=g[ot];ut!==void 0&&it.append(ot,ut)}return it}function getResponseOrigin(et){var g;return((g=URL.parse(et))==null?void 0:g.origin)??null}function validateRangeRequestCapabilities({responseHeaders:et,isHttp:g,rangeChunkSize:it,disableRange:ot}){const ut={allowRangeRequests:!1,suggestedLength:void 0},ct=parseInt(et.get("Content-Length"),10);return!Number.isInteger(ct)||(ut.suggestedLength=ct,ct<=2*it)||ot||!g||et.get("Accept-Ranges")!=="bytes"||(et.get("Content-Encoding")||"identity")!=="identity"||(ut.allowRangeRequests=!0),ut}function extractFilenameFromHeader(et){const g=et.get("Content-Disposition");if(g){let it=getFilenameFromContentDispositionHeader(g);if(it.includes("%"))try{it=decodeURIComponent(it)}catch{}if(isPdfFile(it))return it}return null}function createResponseError(et,g){return new ResponseException(`Unexpected server response (${et}) while retrieving PDF "${g}".`,et,et===404||et===0&&g.startsWith("file:"))}function validateResponseStatus(et){return et===200||et===206}function createFetchOptions(et,g,it){return{method:"GET",headers:et,signal:it.signal,mode:"cors",credentials:g?"include":"same-origin",redirect:"follow"}}function getArrayBuffer(et){return et instanceof Uint8Array?et.buffer:et instanceof ArrayBuffer?et:(warn(`getArrayBuffer - unexpected data format: ${et}`),new Uint8Array(et).buffer)}class PDFFetchStream{constructor(g){Nr(this,"_responseOrigin",null);this.source=g,this.isHttp=/^https?:/i.test(g.url),this.headers=createHeaders(this.isHttp,g.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var g;return((g=this._fullRequestReader)==null?void 0:g._loaded)??0}getFullReader(){return assert(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new PDFFetchStreamReader(this),this._fullRequestReader}getRangeReader(g,it){if(it<=this._progressiveDataLength)return null;const ot=new PDFFetchStreamRangeReader(this,g,it);return this._rangeRequestReaders.push(ot),ot}cancelAllRequests(g){var it;(it=this._fullRequestReader)==null||it.cancel(g);for(const ot of this._rangeRequestReaders.slice(0))ot.cancel(g)}}class PDFFetchStreamReader{constructor(g){this._stream=g,this._reader=null,this._loaded=0,this._filename=null;const it=g.source;this._withCredentials=it.withCredentials||!1,this._contentLength=it.length,this._headersCapability=Promise.withResolvers(),this._disableRange=it.disableRange||!1,this._rangeChunkSize=it.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!it.disableStream,this._isRangeSupported=!it.disableRange;const ot=new Headers(g.headers),ut=it.url;fetch(ut,createFetchOptions(ot,this._withCredentials,this._abortController)).then(ct=>{if(g._responseOrigin=getResponseOrigin(ct.url),!validateResponseStatus(ct.status))throw createResponseError(ct.status,ut);this._reader=ct.body.getReader(),this._headersCapability.resolve();const dt=ct.headers,{allowRangeRequests:ft,suggestedLength:St}=validateRangeRequestCapabilities({responseHeaders:dt,isHttp:g.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=ft,this._contentLength=St||this._contentLength,this._filename=extractFilenameFromHeader(dt),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var ot;await this._headersCapability.promise;const{value:g,done:it}=await this._reader.read();return it?{value:g,done:it}:(this._loaded+=g.byteLength,(ot=this.onProgress)==null||ot.call(this,{loaded:this._loaded,total:this._contentLength}),{value:getArrayBuffer(g),done:!1})}cancel(g){var it;(it=this._reader)==null||it.cancel(g),this._abortController.abort()}}class PDFFetchStreamRangeReader{constructor(g,it,ot){this._stream=g,this._reader=null,this._loaded=0;const ut=g.source;this._withCredentials=ut.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!ut.disableStream,this._abortController=new AbortController;const ct=new Headers(g.headers);ct.append("Range",`bytes=${it}-${ot-1}`);const dt=ut.url;fetch(dt,createFetchOptions(ct,this._withCredentials,this._abortController)).then(ft=>{const St=getResponseOrigin(ft.url);if(St!==g._responseOrigin)throw new Error(`Expected range response-origin "${St}" to match "${g._responseOrigin}".`);if(!validateResponseStatus(ft.status))throw createResponseError(ft.status,dt);this._readCapability.resolve(),this._reader=ft.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var ot;await this._readCapability.promise;const{value:g,done:it}=await this._reader.read();return it?{value:g,done:it}:(this._loaded+=g.byteLength,(ot=this.onProgress)==null||ot.call(this,{loaded:this._loaded}),{value:getArrayBuffer(g),done:!1})}cancel(g){var it;(it=this._reader)==null||it.cancel(g),this._abortController.abort()}}const OK_RESPONSE=200,PARTIAL_CONTENT_RESPONSE=206;function network_getArrayBuffer(et){const g=et.response;return typeof g!="string"?g:stringToBytes(g).buffer}class NetworkManager{constructor({url:g,httpHeaders:it,withCredentials:ot}){Nr(this,"_responseOrigin",null);this.url=g,this.isHttp=/^https?:/i.test(g),this.headers=createHeaders(this.isHttp,it),this.withCredentials=ot||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(g){const it=new XMLHttpRequest,ot=this.currXhrId++,ut=this.pendingRequests[ot]={xhr:it};it.open("GET",this.url),it.withCredentials=this.withCredentials;for(const[ct,dt]of this.headers)it.setRequestHeader(ct,dt);return this.isHttp&&"begin"in g&&"end"in g?(it.setRequestHeader("Range",`bytes=${g.begin}-${g.end-1}`),ut.expectedStatus=PARTIAL_CONTENT_RESPONSE):ut.expectedStatus=OK_RESPONSE,it.responseType="arraybuffer",assert(g.onError,"Expected `onError` callback to be provided."),it.onerror=()=>{g.onError(it.status)},it.onreadystatechange=this.onStateChange.bind(this,ot),it.onprogress=this.onProgress.bind(this,ot),ut.onHeadersReceived=g.onHeadersReceived,ut.onDone=g.onDone,ut.onError=g.onError,ut.onProgress=g.onProgress,it.send(null),ot}onProgress(g,it){var ut;const ot=this.pendingRequests[g];ot&&((ut=ot.onProgress)==null||ut.call(ot,it))}onStateChange(g,it){const ot=this.pendingRequests[g];if(!ot)return;const ut=ot.xhr;if(ut.readyState>=2&&ot.onHeadersReceived&&(ot.onHeadersReceived(),delete ot.onHeadersReceived),ut.readyState!==4||!(g in this.pendingRequests))return;if(delete this.pendingRequests[g],ut.status===0&&this.isHttp){ot.onError(ut.status);return}const ct=ut.status||OK_RESPONSE;if(!(ct===OK_RESPONSE&&ot.expectedStatus===PARTIAL_CONTENT_RESPONSE)&&ct!==ot.expectedStatus){ot.onError(ut.status);return}const ft=network_getArrayBuffer(ut);if(ct===PARTIAL_CONTENT_RESPONSE){const St=ut.getResponseHeader("Content-Range"),Tt=/bytes (\d+)-(\d+)\/(\d+)/.exec(St);Tt?ot.onDone({begin:parseInt(Tt[1],10),chunk:ft}):(warn('Missing or invalid "Content-Range" header.'),ot.onError(0))}else ft?ot.onDone({begin:0,chunk:ft}):ot.onError(ut.status)}getRequestXhr(g){return this.pendingRequests[g].xhr}isPendingRequest(g){return g in this.pendingRequests}abortRequest(g){const it=this.pendingRequests[g].xhr;delete this.pendingRequests[g],it.abort()}}class PDFNetworkStream{constructor(g){this._source=g,this._manager=new NetworkManager(g),this._rangeChunkSize=g.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(g){const it=this._rangeRequestReaders.indexOf(g);it>=0&&this._rangeRequestReaders.splice(it,1)}getFullReader(){return assert(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new PDFNetworkStreamFullRequestReader(this._manager,this._source),this._fullRequestReader}getRangeReader(g,it){const ot=new PDFNetworkStreamRangeRequestReader(this._manager,g,it);return ot.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(ot),ot}cancelAllRequests(g){var it;(it=this._fullRequestReader)==null||it.cancel(g);for(const ot of this._rangeRequestReaders.slice(0))ot.cancel(g)}}class PDFNetworkStreamFullRequestReader{constructor(g,it){this._manager=g,this._url=it.url,this._fullRequestId=g.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=it.disableRange||!1,this._contentLength=it.length,this._rangeChunkSize=it.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const g=this._fullRequestId,it=this._manager.getRequestXhr(g);this._manager._responseOrigin=getResponseOrigin(it.responseURL);const ot=it.getAllResponseHeaders(),ut=new Headers(ot?ot.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(ft=>{const[St,...Tt]=ft.split(": ");return[St,Tt.join(": ")]}):[]),{allowRangeRequests:ct,suggestedLength:dt}=validateRangeRequestCapabilities({responseHeaders:ut,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});ct&&(this._isRangeSupported=!0),this._contentLength=dt||this._contentLength,this._filename=extractFilenameFromHeader(ut),this._isRangeSupported&&this._manager.abortRequest(g),this._headersCapability.resolve()}_onDone(g){if(g&&(this._requests.length>0?this._requests.shift().resolve({value:g.chunk,done:!1}):this._cachedChunks.push(g.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const it of this._requests)it.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(g){this._storedError=createResponseError(g,this._url),this._headersCapability.reject(this._storedError);for(const it of this._requests)it.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(g){var it;(it=this.onProgress)==null||it.call(this,{loaded:g.loaded,total:g.lengthComputable?g.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const g=Promise.withResolvers();return this._requests.push(g),g.promise}cancel(g){this._done=!0,this._headersCapability.reject(g);for(const it of this._requests)it.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class PDFNetworkStreamRangeRequestReader{constructor(g,it,ot){this._manager=g,this._url=g.url,this._requestId=g.request({begin:it,end:ot,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var it;const g=getResponseOrigin((it=this._manager.getRequestXhr(this._requestId))==null?void 0:it.responseURL);g!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${g}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var g;(g=this.onClosed)==null||g.call(this,this)}_onDone(g){const it=g.chunk;this._requests.length>0?this._requests.shift().resolve({value:it,done:!1}):this._queuedChunk=it,this._done=!0;for(const ot of this._requests)ot.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(g){this._storedError??(this._storedError=createResponseError(g,this._url));for(const it of this._requests)it.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(g){var it;this.isStreamingSupported||(it=this.onProgress)==null||it.call(this,{loaded:g.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const it=this._queuedChunk;return this._queuedChunk=null,{value:it,done:!1}}if(this._done)return{value:void 0,done:!0};const g=Promise.withResolvers();return this._requests.push(g),g.promise}cancel(g){this._done=!0;for(const it of this._requests)it.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const urlRegex=/^[a-z][a-z0-9\-+.]+:/i;function parseUrlOrPath(et){if(urlRegex.test(et))return new URL(et);const g=process.getBuiltinModule("url");return new URL(g.pathToFileURL(et))}class PDFNodeStream{constructor(g){this.source=g,this.url=parseUrlOrPath(g.url),assert(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var g;return((g=this._fullRequestReader)==null?void 0:g._loaded)??0}getFullReader(){return assert(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new PDFNodeStreamFsFullReader(this),this._fullRequestReader}getRangeReader(g,it){if(it<=this._progressiveDataLength)return null;const ot=new PDFNodeStreamFsRangeReader(this,g,it);return this._rangeRequestReaders.push(ot),ot}cancelAllRequests(g){var it;(it=this._fullRequestReader)==null||it.cancel(g);for(const ot of this._rangeRequestReaders.slice(0))ot.cancel(g)}}class PDFNodeStreamFsFullReader{constructor(g){this._url=g.url,this._done=!1,this._storedError=null,this.onProgress=null;const it=g.source;this._contentLength=it.length,this._loaded=0,this._filename=null,this._disableRange=it.disableRange||!1,this._rangeChunkSize=it.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!it.disableStream,this._isRangeSupported=!it.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const ot=process.getBuiltinModule("fs");ot.promises.lstat(this._url).then(ut=>{this._contentLength=ut.size,this._setReadableStream(ot.createReadStream(this._url)),this._headersCapability.resolve()},ut=>{ut.code==="ENOENT"&&(ut=createResponseError(0,this._url.href)),this._storedError=ut,this._headersCapability.reject(ut)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var ot;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const g=this._readableStream.read();return g===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=g.length,(ot=this.onProgress)==null||ot.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(g).buffer,done:!1})}cancel(g){if(!this._readableStream){this._error(g);return}this._readableStream.destroy(g)}_error(g){this._storedError=g,this._readCapability.resolve()}_setReadableStream(g){this._readableStream=g,g.on("readable",()=>{this._readCapability.resolve()}),g.on("end",()=>{g.destroy(),this._done=!0,this._readCapability.resolve()}),g.on("error",it=>{this._error(it)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class PDFNodeStreamFsRangeReader{constructor(g,it,ot){this._url=g.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const ut=g.source;this._isStreamingSupported=!ut.disableStream;const ct=process.getBuiltinModule("fs");this._setReadableStream(ct.createReadStream(this._url,{start:it,end:ot-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var ot;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const g=this._readableStream.read();return g===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=g.length,(ot=this.onProgress)==null||ot.call(this,{loaded:this._loaded}),{value:new Uint8Array(g).buffer,done:!1})}cancel(g){if(!this._readableStream){this._error(g);return}this._readableStream.destroy(g)}_error(g){this._storedError=g,this._readCapability.resolve()}_setReadableStream(g){this._readableStream=g,g.on("readable",()=>{this._readCapability.resolve()}),g.on("end",()=>{g.destroy(),this._done=!0,this._readCapability.resolve()}),g.on("error",it=>{this._error(it)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const INITIAL_DATA=Symbol("INITIAL_DATA");var fs,Xv,dS;class PDFObjects{constructor(){sr(this,Xv);sr(this,fs,Object.create(null))}get(g,it=null){if(it){const ut=vr(this,Xv,dS).call(this,g);return ut.promise.then(()=>it(ut.data)),null}const ot=Ft(this,fs)[g];if(!ot||ot.data===INITIAL_DATA)throw new Error(`Requesting object that isn't resolved yet ${g}.`);return ot.data}has(g){const it=Ft(this,fs)[g];return!!it&&it.data!==INITIAL_DATA}delete(g){const it=Ft(this,fs)[g];return!it||it.data===INITIAL_DATA?!1:(delete Ft(this,fs)[g],!0)}resolve(g,it=null){const ot=vr(this,Xv,dS).call(this,g);ot.data=it,ot.resolve()}clear(){var g;for(const it in Ft(this,fs)){const{data:ot}=Ft(this,fs)[it];(g=ot==null?void 0:ot.bitmap)==null||g.close()}ur(this,fs,Object.create(null))}*[Symbol.iterator](){for(const g in Ft(this,fs)){const{data:it}=Ft(this,fs)[g];it!==INITIAL_DATA&&(yield[g,it])}}}fs=new WeakMap,Xv=new WeakSet,dS=function(g){var it;return(it=Ft(this,fs))[g]||(it[g]={...Promise.withResolvers(),data:INITIAL_DATA})};const MAX_TEXT_DIVS_TO_RENDER=1e5,DEFAULT_FONT_SIZE=30;var ZS,uu,is,Yv,Zv,Tp,na,Qv,Jv,kp,vy,xy,cu,by,ex,Ey,Pp,tx,rx,mn,wy,Cp,nx,hu,Sy,OE,jA,IE,DA,ix,fS,Ay,R1,sx,pS,FE,LA,$E,NA;let TextLayer$1=(mn=class{constructor({textContentSource:g,container:it,viewport:ot}){sr(this,OE);sr(this,IE);sr(this,ix);sr(this,uu,Promise.withResolvers());sr(this,is,null);sr(this,Yv,!1);sr(this,Zv,!!((ZS=globalThis.FontInspector)!=null&&ZS.enabled));sr(this,Tp,null);sr(this,na,null);sr(this,Qv,0);sr(this,Jv,0);sr(this,kp,null);sr(this,vy,null);sr(this,xy,0);sr(this,cu,0);sr(this,by,Object.create(null));sr(this,ex,[]);sr(this,Ey,null);sr(this,Pp,[]);sr(this,tx,new WeakMap);sr(this,rx,null);var St;if(g instanceof ReadableStream)ur(this,Ey,g);else if(typeof g=="object")ur(this,Ey,new ReadableStream({start(Tt){Tt.enqueue(g),Tt.close()}}));else throw new Error('No "textContentSource" parameter specified.');ur(this,is,ur(this,vy,it)),ur(this,cu,ot.scale*OutputScale.pixelRatio),ur(this,xy,ot.rotation),ur(this,na,{div:null,properties:null,ctx:null});const{pageWidth:ut,pageHeight:ct,pageX:dt,pageY:ft}=ot.rawDims;ur(this,rx,[1,0,0,-1,-dt,ft+ct]),ur(this,Jv,ut),ur(this,Qv,ct),vr(St=mn,FE,LA).call(St),setLayerDimensions(it,ot),Ft(this,uu).promise.finally(()=>{Ft(mn,Sy).delete(this),ur(this,na,null),ur(this,by,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:g,isFirefox:it}=util_FeatureTest.platform;return shadow(this,"fontFamilyMap",new Map([["sans-serif",`${g&&it?"Calibri, ":""}sans-serif`],["monospace",`${g&&it?"Lucida Console, ":""}monospace`]]))}render(){const g=()=>{Ft(this,kp).read().then(({value:it,done:ot})=>{if(ot){Ft(this,uu).resolve();return}Ft(this,Tp)??ur(this,Tp,it.lang),Object.assign(Ft(this,by),it.styles),vr(this,OE,jA).call(this,it.items),g()},Ft(this,uu).reject)};return ur(this,kp,Ft(this,Ey).getReader()),Ft(mn,Sy).add(this),g(),Ft(this,uu).promise}update({viewport:g,onBefore:it=null}){var ct;const ot=g.scale*OutputScale.pixelRatio,ut=g.rotation;if(ut!==Ft(this,xy)&&(it==null||it(),ur(this,xy,ut),setLayerDimensions(Ft(this,vy),{rotation:ut})),ot!==Ft(this,cu)){it==null||it(),ur(this,cu,ot);const dt={div:null,properties:null,ctx:vr(ct=mn,Ay,R1).call(ct,Ft(this,Tp))};for(const ft of Ft(this,Pp))dt.properties=Ft(this,tx).get(ft),dt.div=ft,vr(this,ix,fS).call(this,dt)}}cancel(){var it;const g=new AbortException("TextLayer task cancelled.");(it=Ft(this,kp))==null||it.cancel(g).catch(()=>{}),ur(this,kp,null),Ft(this,uu).reject(g)}get textDivs(){return Ft(this,Pp)}get textContentItemsStr(){return Ft(this,ex)}static cleanup(){if(!(Ft(this,Sy).size>0)){Ft(this,wy).clear();for(const{canvas:g}of Ft(this,Cp).values())g.remove();Ft(this,Cp).clear()}}},uu=new WeakMap,is=new WeakMap,Yv=new WeakMap,Zv=new WeakMap,Tp=new WeakMap,na=new WeakMap,Qv=new WeakMap,Jv=new WeakMap,kp=new WeakMap,vy=new WeakMap,xy=new WeakMap,cu=new WeakMap,by=new WeakMap,ex=new WeakMap,Ey=new WeakMap,Pp=new WeakMap,tx=new WeakMap,rx=new WeakMap,wy=new WeakMap,Cp=new WeakMap,nx=new WeakMap,hu=new WeakMap,Sy=new WeakMap,OE=new WeakSet,jA=function(g){var ut,ct;if(Ft(this,Yv))return;(ct=Ft(this,na)).ctx??(ct.ctx=vr(ut=mn,Ay,R1).call(ut,Ft(this,Tp)));const it=Ft(this,Pp),ot=Ft(this,ex);for(const dt of g){if(it.length>MAX_TEXT_DIVS_TO_RENDER){warn("Ignoring additional textDivs for performance reasons."),ur(this,Yv,!0);return}if(dt.str===void 0){if(dt.type==="beginMarkedContentProps"||dt.type==="beginMarkedContent"){const ft=Ft(this,is);ur(this,is,document.createElement("span")),Ft(this,is).classList.add("markedContent"),dt.id&&Ft(this,is).setAttribute("id",`${dt.id}`),ft.append(Ft(this,is))}else dt.type==="endMarkedContent"&&ur(this,is,Ft(this,is).parentNode);continue}ot.push(dt.str),vr(this,IE,DA).call(this,dt)}},IE=new WeakSet,DA=function(g){var Ht;const it=document.createElement("span"),ot={angle:0,canvasWidth:0,hasText:g.str!=="",hasEOL:g.hasEOL,fontSize:0};Ft(this,Pp).push(it);const ut=Util.transform(Ft(this,rx),g.transform);let ct=Math.atan2(ut[1],ut[0]);const dt=Ft(this,by)[g.fontName];dt.vertical&&(ct+=Math.PI/2);let ft=Ft(this,Zv)&&dt.fontSubstitution||dt.fontFamily;ft=mn.fontFamilyMap.get(ft)||ft;const St=Math.hypot(ut[2],ut[3]),Tt=St*vr(Ht=mn,$E,NA).call(Ht,ft,dt,Ft(this,Tp));let kt,jt;ct===0?(kt=ut[4],jt=ut[5]-Tt):(kt=ut[4]+Tt*Math.sin(ct),jt=ut[5]-Tt*Math.cos(ct));const Rt="calc(var(--total-scale-factor) *",$t=it.style;Ft(this,is)===Ft(this,vy)?($t.left=`${(100*kt/Ft(this,Jv)).toFixed(2)}%`,$t.top=`${(100*jt/Ft(this,Qv)).toFixed(2)}%`):($t.left=`${Rt}${kt.toFixed(2)}px)`,$t.top=`${Rt}${jt.toFixed(2)}px)`),$t.fontSize=`${Rt}${(Ft(mn,hu)*St).toFixed(2)}px)`,$t.fontFamily=ft,ot.fontSize=St,it.setAttribute("role","presentation"),it.textContent=g.str,it.dir=g.dir,Ft(this,Zv)&&(it.dataset.fontName=dt.fontSubstitutionLoadedName||g.fontName),ct!==0&&(ot.angle=ct*(180/Math.PI));let zt=!1;if(g.str.length>1)zt=!0;else if(g.str!==" "&&g.transform[0]!==g.transform[3]){const Zt=Math.abs(g.transform[0]),Bt=Math.abs(g.transform[3]);Zt!==Bt&&Math.max(Zt,Bt)/Math.min(Zt,Bt)>1.5&&(zt=!0)}if(zt&&(ot.canvasWidth=dt.vertical?g.height:g.width),Ft(this,tx).set(it,ot),Ft(this,na).div=it,Ft(this,na).properties=ot,vr(this,ix,fS).call(this,Ft(this,na)),ot.hasText&&Ft(this,is).append(it),ot.hasEOL){const Zt=document.createElement("br");Zt.setAttribute("role","presentation"),Ft(this,is).append(Zt)}},ix=new WeakSet,fS=function(g){var ft;const{div:it,properties:ot,ctx:ut}=g,{style:ct}=it;let dt="";if(Ft(mn,hu)>1&&(dt=`scale(${1/Ft(mn,hu)})`),ot.canvasWidth!==0&&ot.hasText){const{fontFamily:St}=ct,{canvasWidth:Tt,fontSize:kt}=ot;vr(ft=mn,sx,pS).call(ft,ut,kt*Ft(this,cu),St);const{width:jt}=ut.measureText(it.textContent);jt>0&&(dt=`scaleX(${Tt*Ft(this,cu)/jt}) ${dt}`)}ot.angle!==0&&(dt=`rotate(${ot.angle}deg) ${dt}`),dt.length>0&&(ct.transform=dt)},Ay=new WeakSet,R1=function(g=null){let it=Ft(this,Cp).get(g||(g=""));if(!it){const ot=document.createElement("canvas");ot.className="hiddenCanvasElement",ot.lang=g,document.body.append(ot),it=ot.getContext("2d",{alpha:!1,willReadFrequently:!0}),Ft(this,Cp).set(g,it),Ft(this,nx).set(it,{size:0,family:""})}return it},sx=new WeakSet,pS=function(g,it,ot){const ut=Ft(this,nx).get(g);it===ut.size&&ot===ut.family||(g.font=`${it}px ${ot}`,ut.size=it,ut.family=ot)},FE=new WeakSet,LA=function(){if(Ft(this,hu)!==null)return;const g=document.createElement("div");g.style.opacity=0,g.style.lineHeight=1,g.style.fontSize="1px",g.style.position="absolute",g.textContent="X",document.body.append(g),ur(this,hu,g.getBoundingClientRect().height),g.remove()},$E=new WeakSet,NA=function(g,it,ot){const ut=Ft(this,wy).get(g);if(ut)return ut;const ct=vr(this,Ay,R1).call(this,ot);ct.canvas.width=ct.canvas.height=DEFAULT_FONT_SIZE,vr(this,sx,pS).call(this,ct,DEFAULT_FONT_SIZE,g);const dt=ct.measureText(""),ft=dt.fontBoundingBoxAscent,St=Math.abs(dt.fontBoundingBoxDescent);ct.canvas.width=ct.canvas.height=0;let Tt=.8;return ft?Tt=ft/(ft+St):(util_FeatureTest.platform.isFirefox&&warn("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),it.ascent?Tt=it.ascent:it.descent&&(Tt=1+it.descent)),Ft(this,wy).set(g,Tt),Tt},sr(mn,Ay),sr(mn,sx),sr(mn,FE),sr(mn,$E),sr(mn,wy,new Map),sr(mn,Cp,new Map),sr(mn,nx,new WeakMap),sr(mn,hu,null),sr(mn,Sy,new Set),mn);const RENDERING_CANCELLED_TIMEOUT=100;function getDocument(et={}){typeof et=="string"||et instanceof URL?et={url:et}:(et instanceof ArrayBuffer||ArrayBuffer.isView(et))&&(et={data:et});const g=new PDFDocumentLoadingTask,{docId:it}=g,ot=et.url?getUrlProp(et.url):null,ut=et.data?getDataProp(et.data):null,ct=et.httpHeaders||null,dt=et.withCredentials===!0,ft=et.password??null,St=et.range instanceof PDFDataRangeTransport$1?et.range:null,Tt=Number.isInteger(et.rangeChunkSize)&&et.rangeChunkSize>0?et.rangeChunkSize:2**16;let kt=et.worker instanceof PDFWorker?et.worker:null;const jt=et.verbosity,Rt=typeof et.docBaseUrl=="string"&&!isDataScheme(et.docBaseUrl)?et.docBaseUrl:null,$t=getFactoryUrlProp(et.cMapUrl),zt=et.cMapPacked!==!1,Ht=et.CMapReaderFactory||(isNodeJS?NodeCMapReaderFactory:DOMCMapReaderFactory),Zt=getFactoryUrlProp(et.iccUrl),Bt=getFactoryUrlProp(et.standardFontDataUrl),Ut=et.StandardFontDataFactory||(isNodeJS?NodeStandardFontDataFactory:DOMStandardFontDataFactory),Kt=getFactoryUrlProp(et.wasmUrl),Yt=et.WasmFactory||(isNodeJS?NodeWasmFactory:DOMWasmFactory),Jt=et.stopAtErrors!==!0,er=Number.isInteger(et.maxImageSize)&&et.maxImageSize>-1?et.maxImageSize:-1,tr=et.isEvalSupported!==!1,rr=typeof et.isOffscreenCanvasSupported=="boolean"?et.isOffscreenCanvasSupported:!isNodeJS,hr=typeof et.isImageDecoderSupported=="boolean"?et.isImageDecoderSupported:!isNodeJS&&(util_FeatureTest.platform.isFirefox||!globalThis.chrome),ar=Number.isInteger(et.canvasMaxAreaInBytes)?et.canvasMaxAreaInBytes:-1,or=typeof et.disableFontFace=="boolean"?et.disableFontFace:isNodeJS,cr=et.fontExtraProperties===!0,gr=et.enableXfa===!0,yr=et.ownerDocument||globalThis.document,xr=et.disableRange===!0,dr=et.disableStream===!0,pr=et.disableAutoFetch===!0,nr=et.pdfBug===!0,ir=et.CanvasFactory||(isNodeJS?NodeCanvasFactory:DOMCanvasFactory),mr=et.FilterFactory||(isNodeJS?NodeFilterFactory:DOMFilterFactory),lr=et.enableHWA===!0,br=et.useWasm!==!1,Er=St?St.length:et.length??NaN,Sr=typeof et.useSystemFonts=="boolean"?et.useSystemFonts:!isNodeJS&&!or,_r=typeof et.useWorkerFetch=="boolean"?et.useWorkerFetch:!!(Ht===DOMCMapReaderFactory&&Ut===DOMStandardFontDataFactory&&Yt===DOMWasmFactory&&$t&&Bt&&Kt&&isValidFetchUrl($t,document.baseURI)&&isValidFetchUrl(Bt,document.baseURI)&&isValidFetchUrl(Kt,document.baseURI)),wr=null;setVerbosityLevel(jt);const Ar={canvasFactory:new ir({ownerDocument:yr,enableHWA:lr}),filterFactory:new mr({docId:it,ownerDocument:yr}),cMapReaderFactory:_r?null:new Ht({baseUrl:$t,isCompressed:zt}),standardFontDataFactory:_r?null:new Ut({baseUrl:Bt}),wasmFactory:_r?null:new Yt({baseUrl:Kt})};kt||(kt=PDFWorker.create({verbosity:jt,port:GlobalWorkerOptions.workerPort}),g._worker=kt);const kr={docId:it,apiVersion:"5.4.296",data:ut,password:ft,disableAutoFetch:pr,rangeChunkSize:Tt,length:Er,docBaseUrl:Rt,enableXfa:gr,evaluatorOptions:{maxImageSize:er,disableFontFace:or,ignoreErrors:Jt,isEvalSupported:tr,isOffscreenCanvasSupported:rr,isImageDecoderSupported:hr,canvasMaxAreaInBytes:ar,fontExtraProperties:cr,useSystemFonts:Sr,useWasm:br,useWorkerFetch:_r,cMapUrl:$t,iccUrl:Zt,standardFontDataUrl:Bt,wasmUrl:Kt}},Tr={ownerDocument:yr,pdfBug:nr,styleElement:wr,loadingParams:{disableAutoFetch:pr,enableXfa:gr}};return kt.promise.then(function(){if(g.destroyed)throw new Error("Loading aborted");if(kt.destroyed)throw new Error("Worker was destroyed");const Pr=kt.messageHandler.sendWithPromise("GetDocRequest",kr,ut?[ut.buffer]:null);let Lr;if(St)Lr=new PDFDataTransportStream(St,{disableRange:xr,disableStream:dr});else if(!ut){if(!ot)throw new Error("getDocument - no `url` parameter provided.");const Fr=isValidFetchUrl(ot)?PDFFetchStream:isNodeJS?PDFNodeStream:PDFNetworkStream;Lr=new Fr({url:ot,length:Er,httpHeaders:ct,withCredentials:dt,rangeChunkSize:Tt,disableRange:xr,disableStream:dr})}return Pr.then(Fr=>{if(g.destroyed)throw new Error("Loading aborted");if(kt.destroyed)throw new Error("Worker was destroyed");const Dr=new MessageHandler(it,Fr,kt.port),Mr=new WorkerTransport(Dr,g,Lr,Tr,Ar,lr);g._transport=Mr,Dr.send("Ready",null)})}).catch(g._capability.reject),g}var BE;const VE=class VE{constructor(){Nr(this,"_capability",Promise.withResolvers());Nr(this,"_transport",null);Nr(this,"_worker",null);Nr(this,"docId",`d${Sn(VE,BE)._++}`);Nr(this,"destroyed",!1);Nr(this,"onPassword",null);Nr(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var g,it,ot,ut;this.destroyed=!0;try{(g=this._worker)!=null&&g.port&&(this._worker._pendingDestroy=!0),await((it=this._transport)==null?void 0:it.destroy())}catch(ct){throw(ot=this._worker)!=null&&ot.port&&delete this._worker._pendingDestroy,ct}this._transport=null,(ut=this._worker)==null||ut.destroy(),this._worker=null}async getData(){return this._transport.getData()}};BE=new WeakMap,sr(VE,BE,0);let PDFDocumentLoadingTask=VE;var Rp,ox,ax,lx,ux,QS;let PDFDataRangeTransport$1=(QS=class{constructor(g,it,ot=!1,ut=null){sr(this,Rp,Promise.withResolvers());sr(this,ox,[]);sr(this,ax,[]);sr(this,lx,[]);sr(this,ux,[]);this.length=g,this.initialData=it,this.progressiveDone=ot,this.contentDispositionFilename=ut}addRangeListener(g){Ft(this,ux).push(g)}addProgressListener(g){Ft(this,lx).push(g)}addProgressiveReadListener(g){Ft(this,ax).push(g)}addProgressiveDoneListener(g){Ft(this,ox).push(g)}onDataRange(g,it){for(const ot of Ft(this,ux))ot(g,it)}onDataProgress(g,it){Ft(this,Rp).promise.then(()=>{for(const ot of Ft(this,lx))ot(g,it)})}onDataProgressiveRead(g){Ft(this,Rp).promise.then(()=>{for(const it of Ft(this,ax))it(g)})}onDataProgressiveDone(){Ft(this,Rp).promise.then(()=>{for(const g of Ft(this,ox))g()})}transportReady(){Ft(this,Rp).resolve()}requestDataRange(g,it){unreachable("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}},Rp=new WeakMap,ox=new WeakMap,ax=new WeakMap,lx=new WeakMap,ux=new WeakMap,QS);class PDFDocumentProxy{constructor(g,it){this._pdfInfo=g,this._transport=it}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return shadow(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(g){return this._transport.getPage(g)}getPageIndex(g){return this._transport.getPageIndex(g)}getDestinations(){return this._transport.getDestinations()}getDestination(g){return this._transport.getDestination(g)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(g,it){return this._transport.getAnnotationsByType(g,it)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:g="display"}={}){const{renderingIntent:it}=this._transport.getRenderingIntent(g);return this._transport.getOptionalContentConfig(it)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(g=!1){return this._transport.startCleanup(g||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(g){return this._transport.cachedPageNumber(g)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var ga,Mp,O0;class PDFPageProxy{constructor(g,it,ot,ut=!1){sr(this,Mp);sr(this,ga,!1);this._pageIndex=g,this._pageInfo=it,this._transport=ot,this._stats=ut?new StatTimer:null,this._pdfBug=ut,this.commonObjs=ot.commonObjs,this.objs=new PDFObjects,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:g,rotation:it=this.rotate,offsetX:ot=0,offsetY:ut=0,dontFlip:ct=!1}={}){return new PageViewport({viewBox:this.view,userUnit:this.userUnit,scale:g,rotation:it,offsetX:ot,offsetY:ut,dontFlip:ct})}getAnnotations({intent:g="display"}={}){const{renderingIntent:it}=this._transport.getRenderingIntent(g);return this._transport.getAnnotations(this._pageIndex,it)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return shadow(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var g;return((g=this._transport._htmlForXfa)==null?void 0:g.children[this._pageIndex])||null}render({canvasContext:g,canvas:it=g.canvas,viewport:ot,intent:ut="display",annotationMode:ct=AnnotationMode.ENABLE,transform:dt=null,background:ft=null,optionalContentConfigPromise:St=null,annotationCanvasMap:Tt=null,pageColors:kt=null,printAnnotationStorage:jt=null,isEditing:Rt=!1,recordOperations:$t=!1,operationsFilter:zt=null}){var hr,ar,or;(hr=this._stats)==null||hr.time("Overall");const Ht=this._transport.getRenderingIntent(ut,ct,jt,Rt),{renderingIntent:Zt,cacheKey:Bt}=Ht;ur(this,ga,!1),St||(St=this._transport.getOptionalContentConfig(Zt));let Ut=this._intentStates.get(Bt);Ut||(Ut=Object.create(null),this._intentStates.set(Bt,Ut)),Ut.streamReaderCancelTimeout&&(clearTimeout(Ut.streamReaderCancelTimeout),Ut.streamReaderCancelTimeout=null);const Kt=!!(Zt&RenderingIntentFlag.PRINT);Ut.displayReadyCapability||(Ut.displayReadyCapability=Promise.withResolvers(),Ut.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(ar=this._stats)==null||ar.time("Page Request"),this._pumpOperatorList(Ht));const Yt=!!(this._pdfBug&&((or=globalThis.StepperManager)!=null&&or.enabled)),Jt=!this.recordedBBoxes&&($t||Yt),er=cr=>{var gr,yr;if(Ut.renderTasks.delete(tr),Jt){const xr=(gr=tr.gfx)==null?void 0:gr.dependencyTracker.take();xr&&(tr.stepper&&tr.stepper.setOperatorBBoxes(xr,tr.gfx.dependencyTracker.takeDebugMetadata()),$t&&(this.recordedBBoxes=xr))}Kt&&ur(this,ga,!0),vr(this,Mp,O0).call(this),cr?(tr.capability.reject(cr),this._abortOperatorList({intentState:Ut,reason:cr instanceof Error?cr:new Error(cr)})):tr.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(yr=globalThis.Stats)!=null&&yr.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},tr=new InternalRenderTask({callback:er,params:{canvas:it,canvasContext:g,dependencyTracker:Jt?new CanvasDependencyTracker(it,Ut.operatorList.length,Yt):null,viewport:ot,transform:dt,background:ft},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Tt,operatorList:Ut.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!Kt,pdfBug:this._pdfBug,pageColors:kt,enableHWA:this._transport.enableHWA,operationsFilter:zt});(Ut.renderTasks||(Ut.renderTasks=new Set)).add(tr);const rr=tr.task;return Promise.all([Ut.displayReadyCapability.promise,St]).then(([cr,gr])=>{var yr;if(this.destroyed){er();return}if((yr=this._stats)==null||yr.time("Rendering"),!(gr.renderingIntent&Zt))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");tr.initializeGraphics({transparency:cr,optionalContentConfig:gr}),tr.operatorListChanged()}).catch(er),rr}getOperatorList({intent:g="display",annotationMode:it=AnnotationMode.ENABLE,printAnnotationStorage:ot=null,isEditing:ut=!1}={}){var Tt;function ct(){ft.operatorList.lastChunk&&(ft.opListReadCapability.resolve(ft.operatorList),ft.renderTasks.delete(St))}const dt=this._transport.getRenderingIntent(g,it,ot,ut,!0);let ft=this._intentStates.get(dt.cacheKey);ft||(ft=Object.create(null),this._intentStates.set(dt.cacheKey,ft));let St;return ft.opListReadCapability||(St=Object.create(null),St.operatorListChanged=ct,ft.opListReadCapability=Promise.withResolvers(),(ft.renderTasks||(ft.renderTasks=new Set)).add(St),ft.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Tt=this._stats)==null||Tt.time("Page Request"),this._pumpOperatorList(dt)),ft.opListReadCapability.promise}streamTextContent({includeMarkedContent:g=!1,disableNormalization:it=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:g===!0,disableNormalization:it===!0},{highWaterMark:100,size(ut){return ut.items.length}})}getTextContent(g={}){if(this._transport._htmlForXfa)return this.getXfa().then(ot=>XfaText.textContent(ot));const it=this.streamTextContent(g);return new Promise(function(ot,ut){function ct(){dt.read().then(function({value:St,done:Tt}){if(Tt){ot(ft);return}ft.lang??(ft.lang=St.lang),Object.assign(ft.styles,St.styles),ft.items.push(...St.items),ct()},ut)}const dt=it.getReader(),ft={items:[],styles:Object.create(null),lang:null};ct()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const g=[];for(const it of this._intentStates.values())if(this._abortOperatorList({intentState:it,reason:new Error("Page was destroyed."),force:!0}),!it.opListReadCapability)for(const ot of it.renderTasks)g.push(ot.completed),ot.cancel();return this.objs.clear(),ur(this,ga,!1),Promise.all(g)}cleanup(g=!1){ur(this,ga,!0);const it=vr(this,Mp,O0).call(this);return g&&it&&this._stats&&(this._stats=new StatTimer),it}_startRenderPage(g,it){var ut,ct;const ot=this._intentStates.get(it);ot&&((ut=this._stats)==null||ut.timeEnd("Page Request"),(ct=ot.displayReadyCapability)==null||ct.resolve(g))}_renderPageChunk(g,it){for(let ot=0,ut=g.length;ot<ut;ot++)it.operatorList.fnArray.push(g.fnArray[ot]),it.operatorList.argsArray.push(g.argsArray[ot]);it.operatorList.lastChunk=g.lastChunk,it.operatorList.separateAnnots=g.separateAnnots;for(const ot of it.renderTasks)ot.operatorListChanged();g.lastChunk&&vr(this,Mp,O0).call(this)}_pumpOperatorList({renderingIntent:g,cacheKey:it,annotationStorageSerializable:ot,modifiedIds:ut}){const{map:ct,transfer:dt}=ot,St=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:g,cacheKey:it,annotationStorage:ct,modifiedIds:ut},dt).getReader(),Tt=this._intentStates.get(it);Tt.streamReader=St;const kt=()=>{St.read().then(({value:jt,done:Rt})=>{if(Rt){Tt.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(jt,Tt),kt())},jt=>{if(Tt.streamReader=null,!this._transport.destroyed){if(Tt.operatorList){Tt.operatorList.lastChunk=!0;for(const Rt of Tt.renderTasks)Rt.operatorListChanged();vr(this,Mp,O0).call(this)}if(Tt.displayReadyCapability)Tt.displayReadyCapability.reject(jt);else if(Tt.opListReadCapability)Tt.opListReadCapability.reject(jt);else throw jt}})};kt()}_abortOperatorList({intentState:g,reason:it,force:ot=!1}){if(g.streamReader){if(g.streamReaderCancelTimeout&&(clearTimeout(g.streamReaderCancelTimeout),g.streamReaderCancelTimeout=null),!ot){if(g.renderTasks.size>0)return;if(it instanceof RenderingCancelledException){let ut=RENDERING_CANCELLED_TIMEOUT;it.extraDelay>0&&it.extraDelay<1e3&&(ut+=it.extraDelay),g.streamReaderCancelTimeout=setTimeout(()=>{g.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:g,reason:it,force:!0})},ut);return}}if(g.streamReader.cancel(new AbortException(it.message)).catch(()=>{}),g.streamReader=null,!this._transport.destroyed){for(const[ut,ct]of this._intentStates)if(ct===g){this._intentStates.delete(ut);break}this.cleanup()}}}get stats(){return this._stats}}ga=new WeakMap,Mp=new WeakSet,O0=function(){if(!Ft(this,ga)||this.destroyed)return!1;for(const{renderTasks:g,operatorList:it}of this._intentStates.values())if(g.size>0||!it.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),ur(this,ga,!1),!0};var du,qs,xa,jp,UE,Dp,Lp,_y,M1,HE,OA,zE,IA,Np,I0,Ty,j1;const dn=class dn{constructor({name:g=null,port:it=null,verbosity:ot=getVerbosityLevel()}={}){sr(this,_y);sr(this,HE);sr(this,zE);sr(this,Np);sr(this,du,Promise.withResolvers());sr(this,qs,null);sr(this,xa,null);sr(this,jp,null);if(this.name=g,this.destroyed=!1,this.verbosity=ot,it){if(Ft(dn,Lp).has(it))throw new Error("Cannot use more than one PDFWorker per port.");Ft(dn,Lp).set(it,this),vr(this,HE,OA).call(this,it)}else vr(this,zE,IA).call(this)}get promise(){return Ft(this,du).promise}get port(){return Ft(this,xa)}get messageHandler(){return Ft(this,qs)}destroy(){var g,it;this.destroyed=!0,(g=Ft(this,jp))==null||g.terminate(),ur(this,jp,null),Ft(dn,Lp).delete(Ft(this,xa)),ur(this,xa,null),(it=Ft(this,qs))==null||it.destroy(),ur(this,qs,null)}static create(g){const it=Ft(this,Lp).get(g==null?void 0:g.port);if(it){if(it._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return it}return new dn(g)}static get workerSrc(){if(GlobalWorkerOptions.workerSrc)return GlobalWorkerOptions.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return shadow(this,"_setupFakeWorkerGlobal",(async()=>Ft(this,Ty,j1)?Ft(this,Ty,j1):(await __vitePreload(()=>import(this.workerSrc),[])).WorkerMessageHandler)())}};du=new WeakMap,qs=new WeakMap,xa=new WeakMap,jp=new WeakMap,UE=new WeakMap,Dp=new WeakMap,Lp=new WeakMap,_y=new WeakSet,M1=function(){Ft(this,du).resolve(),Ft(this,qs).send("configure",{verbosity:this.verbosity})},HE=new WeakSet,OA=function(g){ur(this,xa,g),ur(this,qs,new MessageHandler("main","worker",g)),Ft(this,qs).on("ready",()=>{}),vr(this,_y,M1).call(this)},zE=new WeakSet,IA=function(){if(Ft(dn,Dp)||Ft(dn,Ty,j1)){vr(this,Np,I0).call(this);return}let{workerSrc:g}=dn;try{dn._isSameOrigin(window.location,g)||(g=dn._createCDNWrapper(new URL(g,window.location).href));const it=new Worker(g,{type:"module"}),ot=new MessageHandler("main","worker",it),ut=()=>{ct.abort(),ot.destroy(),it.terminate(),this.destroyed?Ft(this,du).reject(new Error("Worker was destroyed")):vr(this,Np,I0).call(this)},ct=new AbortController;it.addEventListener("error",()=>{Ft(this,jp)||ut()},{signal:ct.signal}),ot.on("test",ft=>{if(ct.abort(),this.destroyed||!ft){ut();return}ur(this,qs,ot),ur(this,xa,it),ur(this,jp,it),vr(this,_y,M1).call(this)}),ot.on("ready",ft=>{if(ct.abort(),this.destroyed){ut();return}try{dt()}catch{vr(this,Np,I0).call(this)}});const dt=()=>{const ft=new Uint8Array;ot.send("test",ft,[ft.buffer])};dt();return}catch{info("The worker has been disabled.")}vr(this,Np,I0).call(this)},Np=new WeakSet,I0=function(){Ft(dn,Dp)||(warn("Setting up fake worker."),ur(dn,Dp,!0)),dn._setupFakeWorkerGlobal.then(g=>{if(this.destroyed){Ft(this,du).reject(new Error("Worker was destroyed"));return}const it=new LoopbackPort;ur(this,xa,it);const ot=`fake${Sn(dn,UE)._++}`,ut=new MessageHandler(ot+"_worker",ot,it);g.setup(ut,it),ur(this,qs,new MessageHandler(ot,ot+"_worker",it)),vr(this,_y,M1).call(this)}).catch(g=>{Ft(this,du).reject(new Error(`Setting up fake worker failed: "${g.message}".`))})},Ty=new WeakSet,j1=function(){var g;try{return((g=globalThis.pdfjsWorker)==null?void 0:g.WorkerMessageHandler)||null}catch{return null}},sr(dn,Ty),sr(dn,UE,0),sr(dn,Dp,!1),sr(dn,Lp,new WeakMap),isNodeJS&&(ur(dn,Dp,!0),GlobalWorkerOptions.workerSrc||(GlobalWorkerOptions.workerSrc="./pdf.worker.mjs")),dn._isSameOrigin=(g,it)=>{const ot=URL.parse(g);if(!(ot!=null&&ot.origin)||ot.origin==="null")return!1;const ut=new URL(it,ot);return ot.origin===ut.origin},dn._createCDNWrapper=g=>{const it=`await import("${g}");`;return URL.createObjectURL(new Blob([it],{type:"text/javascript"}))},dn.fromPort=g=>{if(deprecated("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(g!=null&&g.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return dn.create(g)};let PDFWorker=dn;var ba,Eo,ky,Py,_a,Op,F0;class WorkerTransport{constructor(g,it,ot,ut,ct,dt){sr(this,Op);sr(this,ba,new Map);sr(this,Eo,new Map);sr(this,ky,new Map);sr(this,Py,new Map);sr(this,_a,null);this.messageHandler=g,this.loadingTask=it,this.commonObjs=new PDFObjects,this.fontLoader=new FontLoader({ownerDocument:ut.ownerDocument,styleElement:ut.styleElement}),this.loadingParams=ut.loadingParams,this._params=ut,this.canvasFactory=ct.canvasFactory,this.filterFactory=ct.filterFactory,this.cMapReaderFactory=ct.cMapReaderFactory,this.standardFontDataFactory=ct.standardFontDataFactory,this.wasmFactory=ct.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=ot,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=dt,this.setupMessageHandler()}get annotationStorage(){return shadow(this,"annotationStorage",new AnnotationStorage)}getRenderingIntent(g,it=AnnotationMode.ENABLE,ot=null,ut=!1,ct=!1){let dt=RenderingIntentFlag.DISPLAY,ft=SerializableEmpty;switch(g){case"any":dt=RenderingIntentFlag.ANY;break;case"display":break;case"print":dt=RenderingIntentFlag.PRINT;break;default:warn(`getRenderingIntent - invalid intent: ${g}`)}const St=dt&RenderingIntentFlag.PRINT&&ot instanceof PrintAnnotationStorage?ot:this.annotationStorage;switch(it){case AnnotationMode.DISABLE:dt+=RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case AnnotationMode.ENABLE:break;case AnnotationMode.ENABLE_FORMS:dt+=RenderingIntentFlag.ANNOTATIONS_FORMS;break;case AnnotationMode.ENABLE_STORAGE:dt+=RenderingIntentFlag.ANNOTATIONS_STORAGE,ft=St.serializable;break;default:warn(`getRenderingIntent - invalid annotationMode: ${it}`)}ut&&(dt+=RenderingIntentFlag.IS_EDITING),ct&&(dt+=RenderingIntentFlag.OPLIST);const{ids:Tt,hash:kt}=St.modifiedIds,jt=[dt,ft.hash,kt];return{renderingIntent:dt,cacheKey:jt.join("_"),annotationStorageSerializable:ft,modifiedIds:Tt}}destroy(){var ot;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(ot=Ft(this,_a))==null||ot.reject(new Error("Worker was destroyed during onPassword callback"));const g=[];for(const ut of Ft(this,Eo).values())g.push(ut._destroy());Ft(this,Eo).clear(),Ft(this,ky).clear(),Ft(this,Py).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const it=this.messageHandler.sendWithPromise("Terminate",null);return g.push(it),Promise.all(g).then(()=>{var ut,ct;this.commonObjs.clear(),this.fontLoader.clear(),Ft(this,ba).clear(),this.filterFactory.destroy(),TextLayer$1.cleanup(),(ut=this._networkStream)==null||ut.cancelAllRequests(new AbortException("Worker was terminated.")),(ct=this.messageHandler)==null||ct.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:g,loadingTask:it}=this;g.on("GetReader",(ot,ut)=>{assert(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=ct=>{this._lastProgress={loaded:ct.loaded,total:ct.total}},ut.onPull=()=>{this._fullReader.read().then(function({value:ct,done:dt}){if(dt){ut.close();return}assert(ct instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),ut.enqueue(new Uint8Array(ct),1,[ct])}).catch(ct=>{ut.error(ct)})},ut.onCancel=ct=>{this._fullReader.cancel(ct),ut.ready.catch(dt=>{if(!this.destroyed)throw dt})}}),g.on("ReaderHeadersReady",async ot=>{var ft;await this._fullReader.headersReady;const{isStreamingSupported:ut,isRangeSupported:ct,contentLength:dt}=this._fullReader;return(!ut||!ct)&&(this._lastProgress&&((ft=it.onProgress)==null||ft.call(it,this._lastProgress)),this._fullReader.onProgress=St=>{var Tt;(Tt=it.onProgress)==null||Tt.call(it,{loaded:St.loaded,total:St.total})}),{isStreamingSupported:ut,isRangeSupported:ct,contentLength:dt}}),g.on("GetRangeReader",(ot,ut)=>{assert(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const ct=this._networkStream.getRangeReader(ot.begin,ot.end);if(!ct){ut.close();return}ut.onPull=()=>{ct.read().then(function({value:dt,done:ft}){if(ft){ut.close();return}assert(dt instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),ut.enqueue(new Uint8Array(dt),1,[dt])}).catch(dt=>{ut.error(dt)})},ut.onCancel=dt=>{ct.cancel(dt),ut.ready.catch(ft=>{if(!this.destroyed)throw ft})}}),g.on("GetDoc",({pdfInfo:ot})=>{this._numPages=ot.numPages,this._htmlForXfa=ot.htmlForXfa,delete ot.htmlForXfa,it._capability.resolve(new PDFDocumentProxy(ot,this))}),g.on("DocException",ot=>{it._capability.reject(wrapReason(ot))}),g.on("PasswordRequest",ot=>{ur(this,_a,Promise.withResolvers());try{if(!it.onPassword)throw wrapReason(ot);const ut=ct=>{ct instanceof Error?Ft(this,_a).reject(ct):Ft(this,_a).resolve({password:ct})};it.onPassword(ut,ot.code)}catch(ut){Ft(this,_a).reject(ut)}return Ft(this,_a).promise}),g.on("DataLoaded",ot=>{var ut;(ut=it.onProgress)==null||ut.call(it,{loaded:ot.length,total:ot.length}),this.downloadInfoCapability.resolve(ot)}),g.on("StartRenderPage",ot=>{if(this.destroyed)return;Ft(this,Eo).get(ot.pageIndex)._startRenderPage(ot.transparency,ot.cacheKey)}),g.on("commonobj",([ot,ut,ct])=>{var dt;if(this.destroyed||this.commonObjs.has(ot))return null;switch(ut){case"Font":if("error"in ct){const jt=ct.error;warn(`Error during font loading: ${jt}`),this.commonObjs.resolve(ot,jt);break}const ft=new FontInfo(ct),St=this._params.pdfBug&&((dt=globalThis.FontInspector)!=null&&dt.enabled)?(jt,Rt)=>globalThis.FontInspector.fontAdded(jt,Rt):null,Tt=new FontFaceObject(ft,St,ct.extra,ct.charProcOperatorList);this.fontLoader.bind(Tt).catch(()=>g.sendWithPromise("FontFallback",{id:ot})).finally(()=>{!Tt.fontExtraProperties&&Tt.data&&Tt.clearData(),this.commonObjs.resolve(ot,Tt)});break;case"CopyLocalImage":const{imageRef:kt}=ct;assert(kt,"The imageRef must be defined.");for(const jt of Ft(this,Eo).values())for(const[,Rt]of jt.objs)if((Rt==null?void 0:Rt.ref)===kt)return Rt.dataLen?(this.commonObjs.resolve(ot,structuredClone(Rt)),Rt.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(ot,ct);break;default:throw new Error(`Got unknown common object type ${ut}`)}return null}),g.on("obj",([ot,ut,ct,dt])=>{var St;if(this.destroyed)return;const ft=Ft(this,Eo).get(ut);if(!ft.objs.has(ot)){if(ft._intentStates.size===0){(St=dt==null?void 0:dt.bitmap)==null||St.close();return}switch(ct){case"Image":case"Pattern":ft.objs.resolve(ot,dt);break;default:throw new Error(`Got unknown object type ${ct}`)}}}),g.on("DocProgress",ot=>{var ut;this.destroyed||(ut=it.onProgress)==null||ut.call(it,{loaded:ot.loaded,total:ot.total})}),g.on("FetchBinaryData",async ot=>{if(this.destroyed)throw new Error("Worker was destroyed.");const ut=this[ot.type];if(!ut)throw new Error(`${ot.type} not initialized, see the \`useWorkerFetch\` parameter.`);return ut.fetch(ot)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var ot;this.annotationStorage.size<=0&&warn("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:g,transfer:it}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:g,filename:((ot=this._fullReader)==null?void 0:ot.filename)??null},it).finally(()=>{this.annotationStorage.resetModified()})}getPage(g){if(!Number.isInteger(g)||g<=0||g>this._numPages)return Promise.reject(new Error("Invalid page request."));const it=g-1,ot=Ft(this,ky).get(it);if(ot)return ot;const ut=this.messageHandler.sendWithPromise("GetPage",{pageIndex:it}).then(ct=>{if(this.destroyed)throw new Error("Transport destroyed");ct.refStr&&Ft(this,Py).set(ct.refStr,g);const dt=new PDFPageProxy(it,ct,this,this._params.pdfBug);return Ft(this,Eo).set(it,dt),dt});return Ft(this,ky).set(it,ut),ut}getPageIndex(g){return isRefProxy(g)?this.messageHandler.sendWithPromise("GetPageIndex",{num:g.num,gen:g.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(g,it){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:g,intent:it})}getFieldObjects(){return vr(this,Op,F0).call(this,"GetFieldObjects")}hasJSActions(){return vr(this,Op,F0).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(g){return typeof g!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:g})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(g,it){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:g,pageIndexesToSkip:it})}getDocJSActions(){return vr(this,Op,F0).call(this,"GetDocJSActions")}getPageJSActions(g){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:g})}getStructTree(g){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:g})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(g){return vr(this,Op,F0).call(this,"GetOptionalContentConfig").then(it=>new OptionalContentConfig(it,g))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const g="GetMetadata",it=Ft(this,ba).get(g);if(it)return it;const ot=this.messageHandler.sendWithPromise(g,null).then(ut=>{var ct,dt;return{info:ut[0],metadata:ut[1]?new Metadata(ut[1]):null,contentDispositionFilename:((ct=this._fullReader)==null?void 0:ct.filename)??null,contentLength:((dt=this._fullReader)==null?void 0:dt.contentLength)??null}});return Ft(this,ba).set(g,ot),ot}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(g=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const it of Ft(this,Eo).values())if(!it.cleanup())throw new Error(`startCleanup: Page ${it.pageNumber} is currently rendering.`);this.commonObjs.clear(),g||this.fontLoader.clear(),Ft(this,ba).clear(),this.filterFactory.destroy(!0),TextLayer$1.cleanup()}}cachedPageNumber(g){if(!isRefProxy(g))return null;const it=g.gen===0?`${g.num}R`:`${g.num}R${g.gen}`;return Ft(this,Py).get(it)??null}}ba=new WeakMap,Eo=new WeakMap,ky=new WeakMap,Py=new WeakMap,_a=new WeakMap,Op=new WeakSet,F0=function(g,it=null){const ot=Ft(this,ba).get(g);if(ot)return ot;const ut=this.messageHandler.sendWithPromise(g,it);return Ft(this,ba).set(g,ut),ut};var fu;class RenderTask{constructor(g){sr(this,fu,null);Nr(this,"onContinue",null);Nr(this,"onError",null);ur(this,fu,g)}get promise(){return Ft(this,fu).capability.promise}cancel(g=0){Ft(this,fu).cancel(null,g)}get separateAnnots(){const{separateAnnots:g}=Ft(this,fu).operatorList;if(!g)return!1;const{annotationCanvasMap:it}=Ft(this,fu);return g.form||g.canvas&&(it==null?void 0:it.size)>0}}fu=new WeakMap;var pu,Ip;const Uu=class Uu{constructor({callback:g,params:it,objs:ot,commonObjs:ut,annotationCanvasMap:ct,operatorList:dt,pageIndex:ft,canvasFactory:St,filterFactory:Tt,useRequestAnimationFrame:kt=!1,pdfBug:jt=!1,pageColors:Rt=null,enableHWA:$t=!1,operationsFilter:zt=null}){sr(this,pu,null);this.callback=g,this.params=it,this.objs=ot,this.commonObjs=ut,this.annotationCanvasMap=ct,this.operatorListIdx=null,this.operatorList=dt,this._pageIndex=ft,this.canvasFactory=St,this.filterFactory=Tt,this._pdfBug=jt,this.pageColors=Rt,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=kt===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=it.canvas,this._canvasContext=it.canvas?null:it.canvasContext,this._enableHWA=$t,this._dependencyTracker=it.dependencyTracker,this._operationsFilter=zt}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:g=!1,optionalContentConfig:it}){var St,Tt;if(this.cancelled)return;if(this._canvas){if(Ft(Uu,Ip).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Ft(Uu,Ip).add(this._canvas)}this._pdfBug&&((St=globalThis.StepperManager)!=null&&St.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:ot,transform:ut,background:ct,dependencyTracker:dt}=this.params,ft=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new CanvasGraphics(ft,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:it},this.annotationCanvasMap,this.pageColors,dt),this.gfx.beginDrawing({transform:ut,viewport:ot,transparency:g,background:ct}),this.operatorListIdx=0,this.graphicsReady=!0,(Tt=this.graphicsReadyCallback)==null||Tt.call(this)}cancel(g=null,it=0){var ot,ut,ct;this.running=!1,this.cancelled=!0,(ot=this.gfx)==null||ot.endDrawing(),Ft(this,pu)&&(window.cancelAnimationFrame(Ft(this,pu)),ur(this,pu,null)),Ft(Uu,Ip).delete(this._canvas),g||(g=new RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,it)),this.callback(g),(ct=(ut=this.task).onError)==null||ct.call(ut,g)}operatorListChanged(){var g,it;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(g=this.gfx.dependencyTracker)==null||g.growOperationsCount(this.operatorList.fnArray.length),(it=this.stepper)==null||it.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?ur(this,pu,window.requestAnimationFrame(()=>{ur(this,pu,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Ft(Uu,Ip).delete(this._canvas),this.callback())))}};pu=new WeakMap,Ip=new WeakMap,sr(Uu,Ip,new WeakSet);let InternalRenderTask=Uu;const version="5.4.296",build="f56dc8601";var ps,Fp,Cy,Tn,cx,Ry,$a,hx,mu,Ws,dx,fx,mS,mx,gS,gx,yS,yl,Fu,GE,FA,wo,Ol;const _i=class _i{constructor({editor:g=null,uiManager:it=null}){sr(this,fx);sr(this,mx);sr(this,gx);sr(this,yl);sr(this,GE);sr(this,wo);sr(this,ps,null);sr(this,Fp,null);sr(this,Cy,void 0);sr(this,Tn,null);sr(this,cx,!1);sr(this,Ry,!1);sr(this,$a,null);sr(this,hx,void 0);sr(this,mu,null);sr(this,Ws,null);var ot,ut;g?(ur(this,Ry,!1),ur(this,$a,g)):ur(this,Ry,!0),ur(this,Ws,(g==null?void 0:g._uiManager)||it),ur(this,hx,Ft(this,Ws)._eventBus),ur(this,Cy,((ot=g==null?void 0:g.color)==null?void 0:ot.toUpperCase())||((ut=Ft(this,Ws))==null?void 0:ut.highlightColors.values().next().value)||"#FFFF98"),Ft(_i,dx)||ur(_i,dx,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return shadow(this,"_keyboardManager",new KeyboardManager([[["Escape","mac+Escape"],_i.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],_i.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],_i.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],_i.prototype._moveToPrevious],[["Home","mac+Home"],_i.prototype._moveToBeginning],[["End","mac+End"],_i.prototype._moveToEnd]]))}renderButton(){const g=ur(this,ps,document.createElement("button"));g.className="colorPicker",g.tabIndex="0",g.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),g.ariaHasPopup="true",Ft(this,$a)&&(g.ariaControls=`${Ft(this,$a).id}_colorpicker_dropdown`);const it=Ft(this,Ws)._signal;g.addEventListener("click",vr(this,yl,Fu).bind(this),{signal:it}),g.addEventListener("keydown",vr(this,gx,yS).bind(this),{signal:it});const ot=ur(this,Fp,document.createElement("span"));return ot.className="swatch",ot.ariaHidden="true",ot.style.backgroundColor=Ft(this,Cy),g.append(ot),g}renderMainDropdown(){const g=ur(this,Tn,vr(this,fx,mS).call(this));return g.ariaOrientation="horizontal",g.ariaLabelledBy="highlightColorPickerLabel",g}_colorSelectFromKeyboard(g){if(g.target===Ft(this,ps)){vr(this,yl,Fu).call(this,g);return}const it=g.target.getAttribute("data-color");it&&vr(this,mx,gS).call(this,it,g)}_moveToNext(g){var it,ot;if(!Ft(this,wo,Ol)){vr(this,yl,Fu).call(this,g);return}if(g.target===Ft(this,ps)){(it=Ft(this,Tn).firstChild)==null||it.focus();return}(ot=g.target.nextSibling)==null||ot.focus()}_moveToPrevious(g){var it,ot;if(g.target===((it=Ft(this,Tn))==null?void 0:it.firstChild)||g.target===Ft(this,ps)){Ft(this,wo,Ol)&&this._hideDropdownFromKeyboard();return}Ft(this,wo,Ol)||vr(this,yl,Fu).call(this,g),(ot=g.target.previousSibling)==null||ot.focus()}_moveToBeginning(g){var it;if(!Ft(this,wo,Ol)){vr(this,yl,Fu).call(this,g);return}(it=Ft(this,Tn).firstChild)==null||it.focus()}_moveToEnd(g){var it;if(!Ft(this,wo,Ol)){vr(this,yl,Fu).call(this,g);return}(it=Ft(this,Tn).lastChild)==null||it.focus()}hideDropdown(){var g,it;(g=Ft(this,Tn))==null||g.classList.add("hidden"),Ft(this,ps).ariaExpanded="false",(it=Ft(this,mu))==null||it.abort(),ur(this,mu,null)}_hideDropdownFromKeyboard(){var g;if(!Ft(this,Ry)){if(!Ft(this,wo,Ol)){(g=Ft(this,$a))==null||g.unselect();return}this.hideDropdown(),Ft(this,ps).focus({preventScroll:!0,focusVisible:Ft(this,cx)})}}updateColor(g){if(Ft(this,Fp)&&(Ft(this,Fp).style.backgroundColor=g),!Ft(this,Tn))return;const it=Ft(this,Ws).highlightColors.values();for(const ot of Ft(this,Tn).children)ot.ariaSelected=it.next().value===g.toUpperCase()}destroy(){var g,it;(g=Ft(this,ps))==null||g.remove(),ur(this,ps,null),ur(this,Fp,null),(it=Ft(this,Tn))==null||it.remove(),ur(this,Tn,null)}};ps=new WeakMap,Fp=new WeakMap,Cy=new WeakMap,Tn=new WeakMap,cx=new WeakMap,Ry=new WeakMap,$a=new WeakMap,hx=new WeakMap,mu=new WeakMap,Ws=new WeakMap,dx=new WeakMap,fx=new WeakSet,mS=function(){const g=document.createElement("div"),it=Ft(this,Ws)._signal;g.addEventListener("contextmenu",noContextMenu,{signal:it}),g.className="dropdown",g.role="listbox",g.ariaMultiSelectable="false",g.ariaOrientation="vertical",g.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),Ft(this,$a)&&(g.id=`${Ft(this,$a).id}_colorpicker_dropdown`);for(const[ot,ut]of Ft(this,Ws).highlightColors){const ct=document.createElement("button");ct.tabIndex="0",ct.role="option",ct.setAttribute("data-color",ut),ct.title=ot,ct.setAttribute("data-l10n-id",Ft(_i,dx)[ot]);const dt=document.createElement("span");ct.append(dt),dt.className="swatch",dt.style.backgroundColor=ut,ct.ariaSelected=ut===Ft(this,Cy),ct.addEventListener("click",vr(this,mx,gS).bind(this,ut),{signal:it}),g.append(ct)}return g.addEventListener("keydown",vr(this,gx,yS).bind(this),{signal:it}),g},mx=new WeakSet,gS=function(g,it){it.stopPropagation(),Ft(this,hx).dispatch("switchannotationeditorparams",{source:this,type:AnnotationEditorParamsType.HIGHLIGHT_COLOR,value:g}),this.updateColor(g)},gx=new WeakSet,yS=function(g){_i._keyboardManager.exec(this,g)},yl=new WeakSet,Fu=function(g){if(Ft(this,wo,Ol)){this.hideDropdown();return}if(ur(this,cx,g.detail===0),Ft(this,mu)||(ur(this,mu,new AbortController),window.addEventListener("pointerdown",vr(this,GE,FA).bind(this),{signal:Ft(this,Ws).combinedSignal(Ft(this,mu))})),Ft(this,ps).ariaExpanded="true",Ft(this,Tn)){Ft(this,Tn).classList.remove("hidden");return}const it=ur(this,Tn,vr(this,fx,mS).call(this));Ft(this,ps).append(it)},GE=new WeakSet,FA=function(g){var it;(it=Ft(this,Tn))!=null&&it.contains(g.target)||this.hideDropdown()},wo=new WeakSet,Ol=function(){return Ft(this,Tn)&&!Ft(this,Tn).classList.contains("hidden")},sr(_i,dx,null);let ColorPicker=_i;var So,yx,My,vx;const Hu=class Hu{constructor(g){sr(this,So,null);sr(this,yx,null);sr(this,My,null);ur(this,yx,g),ur(this,My,g._uiManager),Ft(Hu,vx)||ur(Hu,vx,Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(Ft(this,So))return Ft(this,So);const{editorType:g,colorType:it,colorValue:ot}=Ft(this,yx),ut=ur(this,So,document.createElement("input"));return ut.type="color",ut.value=ot||"#000000",ut.className="basicColorPicker",ut.tabIndex=0,ut.setAttribute("data-l10n-id",Ft(Hu,vx)[g]),ut.addEventListener("input",()=>{Ft(this,My).updateParams(it,ut.value)},{signal:Ft(this,My)._signal}),ut}update(g){Ft(this,So)&&(Ft(this,So).value=g)}destroy(){var g;(g=Ft(this,So))==null||g.remove(),ur(this,So,null)}hideDropdown(){}};So=new WeakMap,yx=new WeakMap,My=new WeakMap,vx=new WeakMap,sr(Hu,vx,null);let BasicColorPicker=Hu;function makeColorComp(et){return Math.floor(Math.max(0,Math.min(1,et))*255).toString(16).padStart(2,"0")}function scaleAndClamp(et){return Math.max(0,Math.min(255,255*et))}class ColorConverters{static CMYK_G([g,it,ot,ut]){return["G",1-Math.min(1,.3*g+.59*ot+.11*it+ut)]}static G_CMYK([g]){return["CMYK",0,0,0,1-g]}static G_RGB([g]){return["RGB",g,g,g]}static G_rgb([g]){return g=scaleAndClamp(g),[g,g,g]}static G_HTML([g]){const it=makeColorComp(g);return`#${it}${it}${it}`}static RGB_G([g,it,ot]){return["G",.3*g+.59*it+.11*ot]}static RGB_rgb(g){return g.map(scaleAndClamp)}static RGB_HTML(g){return`#${g.map(makeColorComp).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([g,it,ot,ut]){return["RGB",1-Math.min(1,g+ut),1-Math.min(1,ot+ut),1-Math.min(1,it+ut)]}static CMYK_rgb([g,it,ot,ut]){return[scaleAndClamp(1-Math.min(1,g+ut)),scaleAndClamp(1-Math.min(1,ot+ut)),scaleAndClamp(1-Math.min(1,it+ut))]}static CMYK_HTML(g){const it=this.CMYK_RGB(g).slice(1);return this.RGB_HTML(it)}static RGB_CMYK([g,it,ot]){const ut=1-g,ct=1-it,dt=1-ot,ft=Math.min(ut,ct,dt);return["CMYK",ut,ct,dt,ft]}}class BaseSVGFactory{create(g,it,ot=!1){if(g<=0||it<=0)throw new Error("Invalid SVG dimensions");const ut=this._createSVG("svg:svg");return ut.setAttribute("version","1.1"),ot||(ut.setAttribute("width",`${g}px`),ut.setAttribute("height",`${it}px`)),ut.setAttribute("preserveAspectRatio","none"),ut.setAttribute("viewBox",`0 0 ${g} ${it}`),ut}createElement(g){if(typeof g!="string")throw new Error("Invalid SVG element type");return this._createSVG(g)}_createSVG(g){unreachable("Abstract method `_createSVG` called.")}}class DOMSVGFactory extends BaseSVGFactory{_createSVG(g){return document.createElementNS(SVG_NS,g)}}const annotation_layer_DEFAULT_FONT_SIZE=9,GetElementsByNameSet=new WeakSet,TIMEZONE_OFFSET=new Date().getTimezoneOffset()*60*1e3;class AnnotationElementFactory{static create(g){switch(g.data.annotationType){case AnnotationType.LINK:return new LinkAnnotationElement(g);case AnnotationType.TEXT:return new TextAnnotationElement(g);case AnnotationType.WIDGET:switch(g.data.fieldType){case"Tx":return new TextWidgetAnnotationElement(g);case"Btn":return g.data.radioButton?new RadioButtonWidgetAnnotationElement(g):g.data.checkBox?new CheckboxWidgetAnnotationElement(g):new PushButtonWidgetAnnotationElement(g);case"Ch":return new ChoiceWidgetAnnotationElement(g);case"Sig":return new SignatureWidgetAnnotationElement(g)}return new WidgetAnnotationElement(g);case AnnotationType.POPUP:return new PopupAnnotationElement(g);case AnnotationType.FREETEXT:return new FreeTextAnnotationElement(g);case AnnotationType.LINE:return new LineAnnotationElement(g);case AnnotationType.SQUARE:return new SquareAnnotationElement(g);case AnnotationType.CIRCLE:return new CircleAnnotationElement(g);case AnnotationType.POLYLINE:return new PolylineAnnotationElement(g);case AnnotationType.CARET:return new CaretAnnotationElement(g);case AnnotationType.INK:return new InkAnnotationElement(g);case AnnotationType.POLYGON:return new PolygonAnnotationElement(g);case AnnotationType.HIGHLIGHT:return new HighlightAnnotationElement(g);case AnnotationType.UNDERLINE:return new UnderlineAnnotationElement(g);case AnnotationType.SQUIGGLY:return new SquigglyAnnotationElement(g);case AnnotationType.STRIKEOUT:return new StrikeOutAnnotationElement(g);case AnnotationType.STAMP:return new StampAnnotationElement(g);case AnnotationType.FILEATTACHMENT:return new FileAttachmentAnnotationElement(g);default:return new AnnotationElement(g)}}}var $p,jy,Ls,xx,vS;const YS=class YS{constructor(g,{isRenderable:it=!1,ignoreBorder:ot=!1,createQuadrilaterals:ut=!1}={}){sr(this,xx);sr(this,$p,null);sr(this,jy,!1);sr(this,Ls,null);this.isRenderable=it,this.data=g.data,this.layer=g.layer,this.linkService=g.linkService,this.downloadManager=g.downloadManager,this.imageResourcesPath=g.imageResourcesPath,this.renderForms=g.renderForms,this.svgFactory=g.svgFactory,this.annotationStorage=g.annotationStorage,this.enableComment=g.enableComment,this.enableScripting=g.enableScripting,this.hasJSActions=g.hasJSActions,this._fieldObjects=g.fieldObjects,this.parent=g.parent,it&&(this.container=this._createContainer(ot)),ut&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:g,richText:it}){return!!(g!=null&&g.str||it!=null&&it.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return YS._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){var ot;const{data:g}=this,it=(ot=this.annotationStorage)==null?void 0:ot.getEditor(g.id);return it?it.getData():g}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){var ft;const g=(ft=this.annotationStorage)==null?void 0:ft.getEditor(this.data.id);if(g)return g.commentButtonPositionInPage;const{quadPoints:it,inkLists:ot,rect:ut}=this.data;let ct=-1/0,dt=-1/0;if((it==null?void 0:it.length)>=8){for(let St=0;St<it.length;St+=8)it[St+1]>dt?(dt=it[St+1],ct=it[St+2]):it[St+1]===dt&&(ct=Math.max(ct,it[St+2]));return[ct,dt]}if((ot==null?void 0:ot.length)>=1){for(const St of ot)for(let Tt=0,kt=St.length;Tt<kt;Tt+=2)St[Tt+1]>dt?(dt=St[Tt+1],ct=St[Tt]):St[Tt+1]===dt&&(ct=Math.max(ct,St[Tt]));if(ct!==1/0)return[ct,dt]}return ut?[ut[2],ut[3]]:null}_normalizePoint(g){const{page:{view:it},viewport:{rawDims:{pageWidth:ot,pageHeight:ut,pageX:ct,pageY:dt}}}=this.parent;return g[1]=it[3]-g[1]+it[1],g[0]=100*(g[0]-ct)/ot,g[1]=100*(g[1]-dt)/ut,g}get commentText(){var it,ot,ut;const{data:g}=this;return((ot=(it=this.annotationStorage.getRawValue(`${AnnotationEditorPrefix}${g.id}`))==null?void 0:it.popup)==null?void 0:ot.contents)||((ut=g.contentsObj)==null?void 0:ut.str)||""}set commentText(g){const{data:it}=this,ot={deleted:!g,contents:g||""};this.annotationStorage.updateEditor(it.id,{popup:ot})||this.annotationStorage.setValue(`${AnnotationEditorPrefix}${it.id}`,{id:it.id,annotationType:it.annotationType,pageIndex:this.parent.page._pageIndex,popup:ot,popupRef:it.popupRef,modificationDate:new Date}),g||this.removePopup()}removePopup(){var g,it;(it=((g=Ft(this,Ls))==null?void 0:g.popup)||this.popup)==null||it.remove(),ur(this,Ls,this.popup=null)}updateEdited(g){var ct;if(!this.container)return;g.rect&&(Ft(this,$p)||ur(this,$p,{rect:this.data.rect.slice(0)}));const{rect:it,popup:ot}=g;it&&vr(this,xx,vS).call(this,it);let ut=((ct=Ft(this,Ls))==null?void 0:ct.popup)||this.popup;!ut&&(ot!=null&&ot.text)&&(this._createPopup(ot),ut=Ft(this,Ls).popup),ut&&(ut.updateEdited(g),ot!=null&&ot.deleted&&(ut.remove(),ur(this,Ls,null),this.popup=null))}resetEdited(){var g;Ft(this,$p)&&(vr(this,xx,vS).call(this,Ft(this,$p).rect),(g=Ft(this,Ls))==null||g.popup.resetEdited(),ur(this,$p,null))}_createContainer(g){const{data:it,parent:{page:ot,viewport:ut}}=this,ct=document.createElement("section");ct.setAttribute("data-annotation-id",it.id),!(this instanceof WidgetAnnotationElement)&&!(this instanceof LinkAnnotationElement)&&(ct.tabIndex=0);const{style:dt}=ct;if(dt.zIndex=this.parent.zIndex,this.parent.zIndex+=2,it.alternativeText&&(ct.title=it.alternativeText),it.noRotate&&ct.classList.add("norotate"),!it.rect||this instanceof PopupAnnotationElement){const{rotation:Ht}=it;return!it.hasOwnCanvas&&Ht!==0&&this.setRotation(Ht,ct),ct}const{width:ft,height:St}=this;if(!g&&it.borderStyle.width>0){dt.borderWidth=`${it.borderStyle.width}px`;const Ht=it.borderStyle.horizontalCornerRadius,Zt=it.borderStyle.verticalCornerRadius;if(Ht>0||Zt>0){const Ut=`calc(${Ht}px * var(--total-scale-factor)) / calc(${Zt}px * var(--total-scale-factor))`;dt.borderRadius=Ut}else if(this instanceof RadioButtonWidgetAnnotationElement){const Ut=`calc(${ft}px * var(--total-scale-factor)) / calc(${St}px * var(--total-scale-factor))`;dt.borderRadius=Ut}switch(it.borderStyle.style){case AnnotationBorderStyleType.SOLID:dt.borderStyle="solid";break;case AnnotationBorderStyleType.DASHED:dt.borderStyle="dashed";break;case AnnotationBorderStyleType.BEVELED:warn("Unimplemented border style: beveled");break;case AnnotationBorderStyleType.INSET:warn("Unimplemented border style: inset");break;case AnnotationBorderStyleType.UNDERLINE:dt.borderBottomStyle="solid";break}const Bt=it.borderColor||null;Bt?(ur(this,jy,!0),dt.borderColor=Util.makeHexColor(Bt[0]|0,Bt[1]|0,Bt[2]|0)):dt.borderWidth=0}const Tt=Util.normalizeRect([it.rect[0],ot.view[3]-it.rect[1]+ot.view[1],it.rect[2],ot.view[3]-it.rect[3]+ot.view[1]]),{pageWidth:kt,pageHeight:jt,pageX:Rt,pageY:$t}=ut.rawDims;dt.left=`${100*(Tt[0]-Rt)/kt}%`,dt.top=`${100*(Tt[1]-$t)/jt}%`;const{rotation:zt}=it;return it.hasOwnCanvas||zt===0?(dt.width=`${100*ft/kt}%`,dt.height=`${100*St/jt}%`):this.setRotation(zt,ct),ct}setRotation(g,it=this.container){if(!this.data.rect)return;const{pageWidth:ot,pageHeight:ut}=this.parent.viewport.rawDims;let{width:ct,height:dt}=this;g%180!==0&&([ct,dt]=[dt,ct]),it.style.width=`${100*ct/ot}%`,it.style.height=`${100*dt/ut}%`,it.setAttribute("data-main-rotation",(360-g)%360)}get _commonActions(){const g=(it,ot,ut)=>{const ct=ut.detail[it],dt=ct[0],ft=ct.slice(1);ut.target.style[ot]=ColorConverters[`${dt}_HTML`](ft),this.annotationStorage.setValue(this.data.id,{[ot]:ColorConverters[`${dt}_rgb`](ft)})};return shadow(this,"_commonActions",{display:it=>{const{display:ot}=it.detail,ut=ot%2===1;this.container.style.visibility=ut?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:ut,noPrint:ot===1||ot===2})},print:it=>{this.annotationStorage.setValue(this.data.id,{noPrint:!it.detail.print})},hidden:it=>{const{hidden:ot}=it.detail;this.container.style.visibility=ot?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:ot,noView:ot})},focus:it=>{setTimeout(()=>it.target.focus({preventScroll:!1}),0)},userName:it=>{it.target.title=it.detail.userName},readonly:it=>{it.target.disabled=it.detail.readonly},required:it=>{this._setRequired(it.target,it.detail.required)},bgColor:it=>{g("bgColor","backgroundColor",it)},fillColor:it=>{g("fillColor","backgroundColor",it)},fgColor:it=>{g("fgColor","color",it)},textColor:it=>{g("textColor","color",it)},borderColor:it=>{g("borderColor","borderColor",it)},strokeColor:it=>{g("strokeColor","borderColor",it)},rotation:it=>{const ot=it.detail.rotation;this.setRotation(ot),this.annotationStorage.setValue(this.data.id,{rotation:ot})}})}_dispatchEventFromSandbox(g,it){const ot=this._commonActions;for(const ut of Object.keys(it.detail)){const ct=g[ut]||ot[ut];ct==null||ct(it)}}_setDefaultPropertiesFromJS(g){if(!this.enableScripting)return;const it=this.annotationStorage.getRawValue(this.data.id);if(!it)return;const ot=this._commonActions;for(const[ut,ct]of Object.entries(it)){const dt=ot[ut];if(dt){const ft={detail:{[ut]:ct},target:g};dt(ft),delete it[ut]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:g}=this.data;if(!g)return;const[it,ot,ut,ct]=this.data.rect.map(Ht=>Math.fround(Ht));if(g.length===8){const[Ht,Zt,Bt,Ut]=g.subarray(2,6);if(ut===Ht&&ct===Zt&&it===Bt&&ot===Ut)return}const{style:dt}=this.container;let ft;if(Ft(this,jy)){const{borderColor:Ht,borderWidth:Zt}=dt;dt.borderWidth=0,ft=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Ht}" stroke-width="${Zt}">`],this.container.classList.add("hasBorder")}const St=ut-it,Tt=ct-ot,{svgFactory:kt}=this,jt=kt.createElement("svg");jt.classList.add("quadrilateralsContainer"),jt.setAttribute("width",0),jt.setAttribute("height",0),jt.role="none";const Rt=kt.createElement("defs");jt.append(Rt);const $t=kt.createElement("clipPath"),zt=`clippath_${this.data.id}`;$t.setAttribute("id",zt),$t.setAttribute("clipPathUnits","objectBoundingBox"),Rt.append($t);for(let Ht=2,Zt=g.length;Ht<Zt;Ht+=8){const Bt=g[Ht],Ut=g[Ht+1],Kt=g[Ht+2],Yt=g[Ht+3],Jt=kt.createElement("rect"),er=(Kt-it)/St,tr=(ct-Ut)/Tt,rr=(Bt-Kt)/St,hr=(Ut-Yt)/Tt;Jt.setAttribute("x",er),Jt.setAttribute("y",tr),Jt.setAttribute("width",rr),Jt.setAttribute("height",hr),$t.append(Jt),ft==null||ft.push(`<rect vector-effect="non-scaling-stroke" x="${er}" y="${tr}" width="${rr}" height="${hr}"/>`)}Ft(this,jy)&&(ft.push("</g></svg>')"),dt.backgroundImage=ft.join("")),this.container.append(jt),this.container.style.clipPath=`url(#${zt})`}_createPopup(g=null){const{data:it}=this;let ot,ut;g?(ot={str:g.text},ut=g.date):(ot=it.contentsObj,ut=it.modificationDate);const ct=ur(this,Ls,new PopupAnnotationElement({data:{color:it.color,titleObj:it.titleObj,modificationDate:ut,contentsObj:ot,richText:it.richText,parentRect:it.rect,borderStyle:0,id:`popup_${it.id}`,rotation:it.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}));this.parent._commentManager||this.parent.div.append(ct.render())}get hasPopupElement(){return!!(Ft(this,Ls)||this.popup||this.data.popupRef)}get extraPopupElement(){return Ft(this,Ls)}render(){unreachable("Abstract method `AnnotationElement.render` called")}_getElementsByName(g,it=null){const ot=[];if(this._fieldObjects){const ut=this._fieldObjects[g];if(ut)for(const{page:ct,id:dt,exportValues:ft}of ut){if(ct===-1||dt===it)continue;const St=typeof ft=="string"?ft:null,Tt=document.querySelector(`[data-element-id="${dt}"]`);if(Tt&&!GetElementsByNameSet.has(Tt)){warn(`_getElementsByName - element not allowed: ${dt}`);continue}ot.push({id:dt,exportValue:St,domElement:Tt})}return ot}for(const ut of document.getElementsByName(g)){const{exportValue:ct}=ut,dt=ut.getAttribute("data-element-id");dt!==it&&GetElementsByNameSet.has(ut)&&ot.push({id:dt,exportValue:ct,domElement:ut})}return ot}show(){var g;this.container&&(this.container.hidden=!1),(g=this.popup)==null||g.maybeShow()}hide(){var g;this.container&&(this.container.hidden=!0),(g=this.popup)==null||g.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const g=this.getElementsToTriggerPopup();if(Array.isArray(g))for(const it of g)it.classList.add("highlightArea");else g.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:g,data:{id:it}}=this;this.container.addEventListener("dblclick",()=>{var ot;(ot=this.linkService.eventBus)==null||ot.dispatch("switchannotationeditormode",{source:this,mode:g,editId:it,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};$p=new WeakMap,jy=new WeakMap,Ls=new WeakMap,xx=new WeakSet,vS=function(g){const{container:{style:it},data:{rect:ot,rotation:ut},parent:{viewport:{rawDims:{pageWidth:ct,pageHeight:dt,pageX:ft,pageY:St}}}}=this;ot==null||ot.splice(0,4,...g),it.left=`${100*(g[0]-ft)/ct}%`,it.top=`${100*(dt-g[3]+St)/dt}%`,ut===0?(it.width=`${100*(g[2]-g[0])/ct}%`,it.height=`${100*(g[3]-g[1])/dt}%`):this.setRotation(ut)};let AnnotationElement=YS;class EditorAnnotationElement extends AnnotationElement{constructor(g){super(g,{isRenderable:!0,ignoreBorder:!0}),this.editor=g.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:g}=this;g.hasComment&&(this._createPopup(g.comment),this.extraPopupElement.popup.renderCommentButton())}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(g){this.editor.comment=g,g||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.container.remove(),this.container=null,this.removePopup()}}var xl,$u,qE,$A,WE,BA;class LinkAnnotationElement extends AnnotationElement{constructor(it,ot=null){super(it,{isRenderable:!0,ignoreBorder:!!(ot!=null&&ot.ignoreBorder),createQuadrilaterals:!0});sr(this,xl);sr(this,qE);sr(this,WE);this.isTooltipOnly=it.data.isTooltipOnly}render(){const{data:it,linkService:ot}=this,ut=document.createElement("a");ut.setAttribute("data-element-id",it.id);let ct=!1;return it.url?(ot.addLinkAttributes(ut,it.url,it.newWindow),ct=!0):it.action?(this._bindNamedAction(ut,it.action,it.overlaidText),ct=!0):it.attachment?(vr(this,qE,$A).call(this,ut,it.attachment,it.overlaidText,it.attachmentDest),ct=!0):it.setOCGState?(vr(this,WE,BA).call(this,ut,it.setOCGState,it.overlaidText),ct=!0):it.dest?(this._bindLink(ut,it.dest,it.overlaidText),ct=!0):(it.actions&&(it.actions.Action||it.actions["Mouse Up"]||it.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(ut,it),ct=!0),it.resetForm?(this._bindResetFormAction(ut,it.resetForm),ct=!0):this.isTooltipOnly&&!ct&&(this._bindLink(ut,""),ct=!0)),this.container.classList.add("linkAnnotation"),ct&&this.container.append(ut),this.container}_bindLink(it,ot,ut=""){it.href=this.linkService.getDestinationHash(ot),it.onclick=()=>(ot&&this.linkService.goToDestination(ot),!1),(ot||ot==="")&&vr(this,xl,$u).call(this),ut&&(it.title=ut)}_bindNamedAction(it,ot,ut=""){it.href=this.linkService.getAnchorUrl(""),it.onclick=()=>(this.linkService.executeNamedAction(ot),!1),ut&&(it.title=ut),vr(this,xl,$u).call(this)}_bindJSAction(it,ot){it.href=this.linkService.getAnchorUrl("");const ut=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const ct of Object.keys(ot.actions)){const dt=ut.get(ct);dt&&(it[dt]=()=>{var ft;return(ft=this.linkService.eventBus)==null||ft.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ot.id,name:ct}}),!1})}ot.overlaidText&&(it.title=ot.overlaidText),it.onclick||(it.onclick=()=>!1),vr(this,xl,$u).call(this)}_bindResetFormAction(it,ot){const ut=it.onclick;if(ut||(it.href=this.linkService.getAnchorUrl("")),vr(this,xl,$u).call(this),!this._fieldObjects){warn('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),ut||(it.onclick=()=>!1);return}it.onclick=()=>{var jt;ut==null||ut();const{fields:ct,refs:dt,include:ft}=ot,St=[];if(ct.length!==0||dt.length!==0){const Rt=new Set(dt);for(const $t of ct){const zt=this._fieldObjects[$t]||[];for(const{id:Ht}of zt)Rt.add(Ht)}for(const $t of Object.values(this._fieldObjects))for(const zt of $t)Rt.has(zt.id)===ft&&St.push(zt)}else for(const Rt of Object.values(this._fieldObjects))St.push(...Rt);const Tt=this.annotationStorage,kt=[];for(const Rt of St){const{id:$t}=Rt;switch(kt.push($t),Rt.type){case"text":{const Ht=Rt.defaultValue||"";Tt.setValue($t,{value:Ht});break}case"checkbox":case"radiobutton":{const Ht=Rt.defaultValue===Rt.exportValues;Tt.setValue($t,{value:Ht});break}case"combobox":case"listbox":{const Ht=Rt.defaultValue||"";Tt.setValue($t,{value:Ht});break}default:continue}const zt=document.querySelector(`[data-element-id="${$t}"]`);if(zt){if(!GetElementsByNameSet.has(zt)){warn(`_bindResetFormAction - element not allowed: ${$t}`);continue}}else continue;zt.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((jt=this.linkService.eventBus)==null||jt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:kt,name:"ResetForm"}})),!1}}}xl=new WeakSet,$u=function(){this.container.setAttribute("data-internal-link","")},qE=new WeakSet,$A=function(it,ot,ut="",ct=null){it.href=this.linkService.getAnchorUrl(""),ot.description?it.title=ot.description:ut&&(it.title=ut),it.onclick=()=>{var dt;return(dt=this.downloadManager)==null||dt.openOrDownloadData(ot.content,ot.filename,ct),!1},vr(this,xl,$u).call(this)},WE=new WeakSet,BA=function(it,ot,ut=""){it.href=this.linkService.getAnchorUrl(""),it.onclick=()=>(this.linkService.executeSetOCGState(ot),!1),ut&&(it.title=ut),vr(this,xl,$u).call(this)};class TextAnnotationElement extends AnnotationElement{constructor(g){super(g,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const g=document.createElement("img");return g.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",g.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),g.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(g),this.container}}class WidgetAnnotationElement extends AnnotationElement{render(){return this.container}showElementAndHideCanvas(g){var it;this.data.hasOwnCanvas&&(((it=g.previousSibling)==null?void 0:it.nodeName)==="CANVAS"&&(g.previousSibling.hidden=!0),g.hidden=!1)}_getKeyModifier(g){return util_FeatureTest.platform.isMac?g.metaKey:g.ctrlKey}_setEventListener(g,it,ot,ut,ct){ot.includes("mouse")?g.addEventListener(ot,dt=>{var ft;(ft=this.linkService.eventBus)==null||ft.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:ut,value:ct(dt),shift:dt.shiftKey,modifier:this._getKeyModifier(dt)}})}):g.addEventListener(ot,dt=>{var ft;if(ot==="blur"){if(!it.focused||!dt.relatedTarget)return;it.focused=!1}else if(ot==="focus"){if(it.focused)return;it.focused=!0}ct&&((ft=this.linkService.eventBus)==null||ft.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:ut,value:ct(dt)}}))})}_setEventListeners(g,it,ot,ut){var ct,dt,ft;for(const[St,Tt]of ot)(Tt==="Action"||(ct=this.data.actions)!=null&&ct[Tt])&&((Tt==="Focus"||Tt==="Blur")&&(it||(it={focused:!1})),this._setEventListener(g,it,St,Tt,ut),Tt==="Focus"&&!((dt=this.data.actions)!=null&&dt.Blur)?this._setEventListener(g,it,"blur","Blur",null):Tt==="Blur"&&!((ft=this.data.actions)!=null&&ft.Focus)&&this._setEventListener(g,it,"focus","Focus",null))}_setBackgroundColor(g){const it=this.data.backgroundColor||null;g.style.backgroundColor=it===null?"transparent":Util.makeHexColor(it[0],it[1],it[2])}_setTextStyle(g){const it=["left","center","right"],{fontColor:ot}=this.data.defaultAppearanceData,ut=this.data.defaultAppearanceData.fontSize||annotation_layer_DEFAULT_FONT_SIZE,ct=g.style;let dt;const ft=2,St=Tt=>Math.round(10*Tt)/10;if(this.data.multiLine){const Tt=Math.abs(this.data.rect[3]-this.data.rect[1]-ft),kt=Math.round(Tt/(LINE_FACTOR*ut))||1,jt=Tt/kt;dt=Math.min(ut,St(jt/LINE_FACTOR))}else{const Tt=Math.abs(this.data.rect[3]-this.data.rect[1]-ft);dt=Math.min(ut,St(Tt/LINE_FACTOR))}ct.fontSize=`calc(${dt}px * var(--total-scale-factor))`,ct.color=Util.makeHexColor(ot[0],ot[1],ot[2]),this.data.textAlignment!==null&&(ct.textAlign=it[this.data.textAlignment])}_setRequired(g,it){it?g.setAttribute("required",!0):g.removeAttribute("required"),g.setAttribute("aria-required",it)}}class TextWidgetAnnotationElement extends WidgetAnnotationElement{constructor(g){const it=g.renderForms||g.data.hasOwnCanvas||!g.data.hasAppearance&&!!g.data.fieldValue;super(g,{isRenderable:it})}setPropertyOnSiblings(g,it,ot,ut){const ct=this.annotationStorage;for(const dt of this._getElementsByName(g.name,g.id))dt.domElement&&(dt.domElement[it]=ot),ct.setValue(dt.id,{[ut]:ot})}render(){var ut,ct;const g=this.annotationStorage,it=this.data.id;this.container.classList.add("textWidgetAnnotation");let ot=null;if(this.renderForms){const dt=g.getValue(it,{value:this.data.fieldValue});let ft=dt.value||"";const St=g.getValue(it,{charLimit:this.data.maxLen}).charLimit;St&&ft.length>St&&(ft=ft.slice(0,St));let Tt=dt.formattedValue||((ut=this.data.textContent)==null?void 0:ut.join(`
`))||null;Tt&&this.data.comb&&(Tt=Tt.replaceAll(/\s+/g,""));const kt={userValue:ft,formattedValue:Tt,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(ot=document.createElement("textarea"),ot.textContent=Tt??ft,this.data.doNotScroll&&(ot.style.overflowY="hidden")):(ot=document.createElement("input"),ot.type=this.data.password?"password":"text",ot.setAttribute("value",Tt??ft),this.data.doNotScroll&&(ot.style.overflowX="hidden")),this.data.hasOwnCanvas&&(ot.hidden=!0),GetElementsByNameSet.add(ot),ot.setAttribute("data-element-id",it),ot.disabled=this.data.readOnly,ot.name=this.data.fieldName,ot.tabIndex=0;const{datetimeFormat:jt,datetimeType:Rt,timeStep:$t}=this.data,zt=!!Rt&&this.enableScripting;jt&&(ot.title=jt),this._setRequired(ot,this.data.required),St&&(ot.maxLength=St),ot.addEventListener("input",Zt=>{g.setValue(it,{value:Zt.target.value}),this.setPropertyOnSiblings(ot,"value",Zt.target.value,"value"),kt.formattedValue=null}),ot.addEventListener("resetform",Zt=>{const Bt=this.data.defaultFieldValue??"";ot.value=kt.userValue=Bt,kt.formattedValue=null});let Ht=Zt=>{const{formattedValue:Bt}=kt;Bt!=null&&(Zt.target.value=Bt),Zt.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){ot.addEventListener("focus",Bt=>{var Kt;if(kt.focused)return;const{target:Ut}=Bt;if(zt&&(Ut.type=Rt,$t&&(Ut.step=$t)),kt.userValue){const Yt=kt.userValue;if(zt)if(Rt==="time"){const Jt=new Date(Yt),er=[Jt.getHours(),Jt.getMinutes(),Jt.getSeconds()];Ut.value=er.map(tr=>tr.toString().padStart(2,"0")).join(":")}else Ut.value=new Date(Yt-TIMEZONE_OFFSET).toISOString().split(Rt==="date"?"T":".",1)[0];else Ut.value=Yt}kt.lastCommittedValue=Ut.value,kt.commitKey=1,(Kt=this.data.actions)!=null&&Kt.Focus||(kt.focused=!0)}),ot.addEventListener("updatefromsandbox",Bt=>{this.showElementAndHideCanvas(Bt.target);const Ut={value(Kt){kt.userValue=Kt.detail.value??"",zt||g.setValue(it,{value:kt.userValue.toString()}),Kt.target.value=kt.userValue},formattedValue(Kt){const{formattedValue:Yt}=Kt.detail;kt.formattedValue=Yt,Yt!=null&&Kt.target!==document.activeElement&&(Kt.target.value=Yt);const Jt={formattedValue:Yt};zt&&(Jt.value=Yt),g.setValue(it,Jt)},selRange(Kt){Kt.target.setSelectionRange(...Kt.detail.selRange)},charLimit:Kt=>{var tr;const{charLimit:Yt}=Kt.detail,{target:Jt}=Kt;if(Yt===0){Jt.removeAttribute("maxLength");return}Jt.setAttribute("maxLength",Yt);let er=kt.userValue;!er||er.length<=Yt||(er=er.slice(0,Yt),Jt.value=kt.userValue=er,g.setValue(it,{value:er}),(tr=this.linkService.eventBus)==null||tr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:it,name:"Keystroke",value:er,willCommit:!0,commitKey:1,selStart:Jt.selectionStart,selEnd:Jt.selectionEnd}}))}};this._dispatchEventFromSandbox(Ut,Bt)}),ot.addEventListener("keydown",Bt=>{var Yt;kt.commitKey=1;let Ut=-1;if(Bt.key==="Escape"?Ut=0:Bt.key==="Enter"&&!this.data.multiLine?Ut=2:Bt.key==="Tab"&&(kt.commitKey=3),Ut===-1)return;const{value:Kt}=Bt.target;kt.lastCommittedValue!==Kt&&(kt.lastCommittedValue=Kt,kt.userValue=Kt,(Yt=this.linkService.eventBus)==null||Yt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:it,name:"Keystroke",value:Kt,willCommit:!0,commitKey:Ut,selStart:Bt.target.selectionStart,selEnd:Bt.target.selectionEnd}}))});const Zt=Ht;Ht=null,ot.addEventListener("blur",Bt=>{var Yt,Jt;if(!kt.focused||!Bt.relatedTarget)return;(Yt=this.data.actions)!=null&&Yt.Blur||(kt.focused=!1);const{target:Ut}=Bt;let{value:Kt}=Ut;if(zt){if(Kt&&Rt==="time"){const er=Kt.split(":").map(tr=>parseInt(tr,10));Kt=new Date(2e3,0,1,er[0],er[1],er[2]||0).valueOf(),Ut.step=""}else Kt.includes("T")||(Kt=`${Kt}T00:00`),Kt=new Date(Kt).valueOf();Ut.type="text"}kt.userValue=Kt,kt.lastCommittedValue!==Kt&&((Jt=this.linkService.eventBus)==null||Jt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:it,name:"Keystroke",value:Kt,willCommit:!0,commitKey:kt.commitKey,selStart:Bt.target.selectionStart,selEnd:Bt.target.selectionEnd}})),Zt(Bt)}),(ct=this.data.actions)!=null&&ct.Keystroke&&ot.addEventListener("beforeinput",Bt=>{var hr;kt.lastCommittedValue=null;const{data:Ut,target:Kt}=Bt,{value:Yt,selectionStart:Jt,selectionEnd:er}=Kt;let tr=Jt,rr=er;switch(Bt.inputType){case"deleteWordBackward":{const ar=Yt.substring(0,Jt).match(/\w*[^\w]*$/);ar&&(tr-=ar[0].length);break}case"deleteWordForward":{const ar=Yt.substring(Jt).match(/^[^\w]*\w*/);ar&&(rr+=ar[0].length);break}case"deleteContentBackward":Jt===er&&(tr-=1);break;case"deleteContentForward":Jt===er&&(rr+=1);break}Bt.preventDefault(),(hr=this.linkService.eventBus)==null||hr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:it,name:"Keystroke",value:Yt,change:Ut||"",willCommit:!1,selStart:tr,selEnd:rr}})}),this._setEventListeners(ot,kt,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Bt=>Bt.target.value)}if(Ht&&ot.addEventListener("blur",Ht),this.data.comb){const Bt=(this.data.rect[2]-this.data.rect[0])/St;ot.classList.add("comb"),ot.style.letterSpacing=`calc(${Bt}px * var(--total-scale-factor) - 1ch)`}}else ot=document.createElement("div"),ot.textContent=this.data.fieldValue,ot.style.verticalAlign="middle",ot.style.display="table-cell",this.data.hasOwnCanvas&&(ot.hidden=!0);return this._setTextStyle(ot),this._setBackgroundColor(ot),this._setDefaultPropertiesFromJS(ot),this.container.append(ot),this.container}}class SignatureWidgetAnnotationElement extends WidgetAnnotationElement{constructor(g){super(g,{isRenderable:!!g.data.hasOwnCanvas})}}class CheckboxWidgetAnnotationElement extends WidgetAnnotationElement{constructor(g){super(g,{isRenderable:g.renderForms})}render(){const g=this.annotationStorage,it=this.data,ot=it.id;let ut=g.getValue(ot,{value:it.exportValue===it.fieldValue}).value;typeof ut=="string"&&(ut=ut!=="Off",g.setValue(ot,{value:ut})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const ct=document.createElement("input");return GetElementsByNameSet.add(ct),ct.setAttribute("data-element-id",ot),ct.disabled=it.readOnly,this._setRequired(ct,this.data.required),ct.type="checkbox",ct.name=it.fieldName,ut&&ct.setAttribute("checked",!0),ct.setAttribute("exportValue",it.exportValue),ct.tabIndex=0,ct.addEventListener("change",dt=>{const{name:ft,checked:St}=dt.target;for(const Tt of this._getElementsByName(ft,ot)){const kt=St&&Tt.exportValue===it.exportValue;Tt.domElement&&(Tt.domElement.checked=kt),g.setValue(Tt.id,{value:kt})}g.setValue(ot,{value:St})}),ct.addEventListener("resetform",dt=>{const ft=it.defaultFieldValue||"Off";dt.target.checked=ft===it.exportValue}),this.enableScripting&&this.hasJSActions&&(ct.addEventListener("updatefromsandbox",dt=>{const ft={value(St){St.target.checked=St.detail.value!=="Off",g.setValue(ot,{value:St.target.checked})}};this._dispatchEventFromSandbox(ft,dt)}),this._setEventListeners(ct,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],dt=>dt.target.checked)),this._setBackgroundColor(ct),this._setDefaultPropertiesFromJS(ct),this.container.append(ct),this.container}}class RadioButtonWidgetAnnotationElement extends WidgetAnnotationElement{constructor(g){super(g,{isRenderable:g.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const g=this.annotationStorage,it=this.data,ot=it.id;let ut=g.getValue(ot,{value:it.fieldValue===it.buttonValue}).value;if(typeof ut=="string"&&(ut=ut!==it.buttonValue,g.setValue(ot,{value:ut})),ut)for(const dt of this._getElementsByName(it.fieldName,ot))g.setValue(dt.id,{value:!1});const ct=document.createElement("input");if(GetElementsByNameSet.add(ct),ct.setAttribute("data-element-id",ot),ct.disabled=it.readOnly,this._setRequired(ct,this.data.required),ct.type="radio",ct.name=it.fieldName,ut&&ct.setAttribute("checked",!0),ct.tabIndex=0,ct.addEventListener("change",dt=>{const{name:ft,checked:St}=dt.target;for(const Tt of this._getElementsByName(ft,ot))g.setValue(Tt.id,{value:!1});g.setValue(ot,{value:St})}),ct.addEventListener("resetform",dt=>{const ft=it.defaultFieldValue;dt.target.checked=ft!=null&&ft===it.buttonValue}),this.enableScripting&&this.hasJSActions){const dt=it.buttonValue;ct.addEventListener("updatefromsandbox",ft=>{const St={value:Tt=>{const kt=dt===Tt.detail.value;for(const jt of this._getElementsByName(Tt.target.name)){const Rt=kt&&jt.id===ot;jt.domElement&&(jt.domElement.checked=Rt),g.setValue(jt.id,{value:Rt})}}};this._dispatchEventFromSandbox(St,ft)}),this._setEventListeners(ct,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ft=>ft.target.checked)}return this._setBackgroundColor(ct),this._setDefaultPropertiesFromJS(ct),this.container.append(ct),this.container}}class PushButtonWidgetAnnotationElement extends LinkAnnotationElement{constructor(g){super(g,{ignoreBorder:g.data.hasAppearance})}render(){const g=super.render();g.classList.add("buttonWidgetAnnotation","pushButton");const it=g.lastChild;return this.enableScripting&&this.hasJSActions&&it&&(this._setDefaultPropertiesFromJS(it),it.addEventListener("updatefromsandbox",ot=>{this._dispatchEventFromSandbox({},ot)})),g}}class ChoiceWidgetAnnotationElement extends WidgetAnnotationElement{constructor(g){super(g,{isRenderable:g.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const g=this.annotationStorage,it=this.data.id,ot=g.getValue(it,{value:this.data.fieldValue}),ut=document.createElement("select");GetElementsByNameSet.add(ut),ut.setAttribute("data-element-id",it),ut.disabled=this.data.readOnly,this._setRequired(ut,this.data.required),ut.name=this.data.fieldName,ut.tabIndex=0;let ct=this.data.combo&&this.data.options.length>0;this.data.combo||(ut.size=this.data.options.length,this.data.multiSelect&&(ut.multiple=!0)),ut.addEventListener("resetform",kt=>{const jt=this.data.defaultFieldValue;for(const Rt of ut.options)Rt.selected=Rt.value===jt});for(const kt of this.data.options){const jt=document.createElement("option");jt.textContent=kt.displayValue,jt.value=kt.exportValue,ot.value.includes(kt.exportValue)&&(jt.setAttribute("selected",!0),ct=!1),ut.append(jt)}let dt=null;if(ct){const kt=document.createElement("option");kt.value=" ",kt.setAttribute("hidden",!0),kt.setAttribute("selected",!0),ut.prepend(kt),dt=()=>{kt.remove(),ut.removeEventListener("input",dt),dt=null},ut.addEventListener("input",dt)}const ft=kt=>{const jt=kt?"value":"textContent",{options:Rt,multiple:$t}=ut;return $t?Array.prototype.filter.call(Rt,zt=>zt.selected).map(zt=>zt[jt]):Rt.selectedIndex===-1?null:Rt[Rt.selectedIndex][jt]};let St=ft(!1);const Tt=kt=>{const jt=kt.target.options;return Array.prototype.map.call(jt,Rt=>({displayValue:Rt.textContent,exportValue:Rt.value}))};return this.enableScripting&&this.hasJSActions?(ut.addEventListener("updatefromsandbox",kt=>{const jt={value(Rt){dt==null||dt();const $t=Rt.detail.value,zt=new Set(Array.isArray($t)?$t:[$t]);for(const Ht of ut.options)Ht.selected=zt.has(Ht.value);g.setValue(it,{value:ft(!0)}),St=ft(!1)},multipleSelection(Rt){ut.multiple=!0},remove(Rt){const $t=ut.options,zt=Rt.detail.remove;$t[zt].selected=!1,ut.remove(zt),$t.length>0&&Array.prototype.findIndex.call($t,Zt=>Zt.selected)===-1&&($t[0].selected=!0),g.setValue(it,{value:ft(!0),items:Tt(Rt)}),St=ft(!1)},clear(Rt){for(;ut.length!==0;)ut.remove(0);g.setValue(it,{value:null,items:[]}),St=ft(!1)},insert(Rt){const{index:$t,displayValue:zt,exportValue:Ht}=Rt.detail.insert,Zt=ut.children[$t],Bt=document.createElement("option");Bt.textContent=zt,Bt.value=Ht,Zt?Zt.before(Bt):ut.append(Bt),g.setValue(it,{value:ft(!0),items:Tt(Rt)}),St=ft(!1)},items(Rt){const{items:$t}=Rt.detail;for(;ut.length!==0;)ut.remove(0);for(const zt of $t){const{displayValue:Ht,exportValue:Zt}=zt,Bt=document.createElement("option");Bt.textContent=Ht,Bt.value=Zt,ut.append(Bt)}ut.options.length>0&&(ut.options[0].selected=!0),g.setValue(it,{value:ft(!0),items:Tt(Rt)}),St=ft(!1)},indices(Rt){const $t=new Set(Rt.detail.indices);for(const zt of Rt.target.options)zt.selected=$t.has(zt.index);g.setValue(it,{value:ft(!0)}),St=ft(!1)},editable(Rt){Rt.target.disabled=!Rt.detail.editable}};this._dispatchEventFromSandbox(jt,kt)}),ut.addEventListener("input",kt=>{var $t;const jt=ft(!0),Rt=ft(!1);g.setValue(it,{value:jt}),kt.preventDefault(),($t=this.linkService.eventBus)==null||$t.dispatch("dispatcheventinsandbox",{source:this,detail:{id:it,name:"Keystroke",value:St,change:Rt,changeEx:jt,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(ut,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],kt=>kt.target.value)):ut.addEventListener("input",function(kt){g.setValue(it,{value:ft(!0)})}),this.data.combo&&this._setTextStyle(ut),this._setBackgroundColor(ut),this._setDefaultPropertiesFromJS(ut),this.container.append(ut),this.container}}var bx,xS;class PopupAnnotationElement extends AnnotationElement{constructor(it){const{data:ot,elements:ut,parent:ct}=it,dt=!!ct._commentManager;super(it,{isRenderable:!dt&&AnnotationElement._hasPopupData(ot)});sr(this,bx);if(this.elements=ut,dt&&AnnotationElement._hasPopupData(ot)){const ft=this.popup=vr(this,bx,xS).call(this);for(const St of ut)St.popup=ft}else this.popup=null}render(){const{container:it}=this;it.classList.add("popupAnnotation"),it.role="comment";const ot=this.popup=vr(this,bx,xS).call(this),ut=[];for(const ct of this.elements)ct.popup=ot,ct.container.ariaHasPopup="dialog",ut.push(ct.data.id),ct.addHighlightArea();return this.container.setAttribute("aria-controls",ut.map(ct=>`${AnnotationPrefix}${ct}`).join(",")),this.container}}bx=new WeakSet,xS=function(){return new PopupElement({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})};var ms,gu,KE,XE,Dy,Ly,xn,Ao,yu,Bp,Ny,Oy,To,gs,El,wl,Cn,Sl,vu,Ex,Al,Iy,Vp,xu,qn,bu,Fy,D1,wx,bS,Sx,ES,Ax,wS,$y,L1,_x,SS,YE,VA,ZE,UA,QE,HA,JE,zA,By,N1,Vy,O1,Tx,AS;class PopupElement{constructor({container:g,color:it,elements:ot,titleObj:ut,modificationDate:ct,contentsObj:dt,richText:ft,parent:St,rect:Tt,parentRect:kt,open:jt,commentManager:Rt=null}){sr(this,Fy);sr(this,wx);sr(this,Sx);sr(this,Ax);sr(this,$y);sr(this,_x);sr(this,YE);sr(this,ZE);sr(this,QE);sr(this,JE);sr(this,By);sr(this,Vy);sr(this,Tx);sr(this,ms,null);sr(this,gu,vr(this,QE,HA).bind(this));sr(this,KE,vr(this,Tx,AS).bind(this));sr(this,XE,vr(this,Vy,O1).bind(this));sr(this,Dy,vr(this,By,N1).bind(this));sr(this,Ly,null);sr(this,xn,null);sr(this,Ao,null);sr(this,yu,null);sr(this,Bp,null);sr(this,Ny,null);sr(this,Oy,null);sr(this,To,!1);sr(this,gs,null);sr(this,El,null);sr(this,wl,null);sr(this,Cn,null);sr(this,Sl,null);sr(this,vu,null);sr(this,Ex,null);sr(this,Al,null);sr(this,Iy,null);sr(this,Vp,null);sr(this,xu,!1);sr(this,qn,null);sr(this,bu,null);ur(this,xn,g),ur(this,Iy,ut),ur(this,Ao,dt),ur(this,Al,ft),ur(this,Ny,St),ur(this,Ly,it),ur(this,Ex,Tt),ur(this,Oy,kt),ur(this,Bp,ot),ur(this,ms,Rt),ur(this,qn,ot[0]),ur(this,yu,PDFDateString.toDateObject(ct)),this.trigger=ot.flatMap($t=>$t.getElementsToTriggerPopup()),Rt?this.renderCommentButton():(vr(this,Fy,D1).call(this),Ft(this,xn).hidden=!0,jt&&vr(this,By,N1).call(this))}renderCommentButton(){if(Ft(this,Cn)||(Ft(this,Sl)||vr(this,wx,bS).call(this),!Ft(this,Sl)))return;const{signal:g}=ur(this,El,new AbortController),it=!!Ft(this,qn).extraPopupElement,ot=()=>{Ft(this,ms).toggleCommentPopup(this,!0,void 0,!it)},ut=()=>{Ft(this,ms).toggleCommentPopup(this,!1,!0,!it)},ct=()=>{Ft(this,ms).toggleCommentPopup(this,!1,!1)};if(it){ur(this,Cn,Ft(this,qn).container);for(const dt of this.trigger)dt.ariaHasPopup="dialog",dt.ariaControls="commentPopup",dt.addEventListener("keydown",Ft(this,gu),{signal:g}),dt.addEventListener("click",ot,{signal:g}),dt.addEventListener("pointerenter",ut,{signal:g}),dt.addEventListener("pointerleave",ct,{signal:g}),dt.classList.add("popupTriggerArea")}else{const dt=ur(this,Cn,document.createElement("button"));dt.className="annotationCommentButton";const ft=Ft(this,qn).container;dt.style.zIndex=ft.style.zIndex+1,dt.tabIndex=0,dt.ariaHasPopup="dialog",dt.ariaControls="commentPopup",dt.setAttribute("data-l10n-id","pdfjs-show-comment-button"),vr(this,Ax,wS).call(this),vr(this,Sx,ES).call(this),dt.addEventListener("keydown",Ft(this,gu),{signal:g}),dt.addEventListener("click",ot,{signal:g}),dt.addEventListener("pointerenter",ut,{signal:g}),dt.addEventListener("pointerleave",ct,{signal:g}),ft.after(dt)}}get commentButtonColor(){const{color:g,opacity:it}=Ft(this,qn).commentData;return g?Ft(this,Ny)._commentManager.makeCommentColor(g,it):null}focusCommentButton(){setTimeout(()=>{var g;(g=Ft(this,Cn))==null||g.focus()},0)}getData(){const{richText:g,color:it,opacity:ot,creationDate:ut,modificationDate:ct}=Ft(this,qn).commentData;return{contentsObj:{str:this.comment},richText:g,color:it,opacity:ot,creationDate:ut,modificationDate:ct}}get elementBeforePopup(){return Ft(this,Cn)}get comment(){return Ft(this,bu)||ur(this,bu,Ft(this,qn).commentText),Ft(this,bu)}set comment(g){g!==this.comment&&(Ft(this,qn).commentText=ur(this,bu,g))}get parentBoundingClientRect(){return Ft(this,qn).layer.getBoundingClientRect()}setCommentButtonStates({selected:g,hasPopup:it}){Ft(this,Cn)&&(Ft(this,Cn).classList.toggle("selected",g),Ft(this,Cn).ariaExpanded=it)}setSelectedCommentButton(g){Ft(this,Cn).classList.toggle("selected",g)}get commentPopupPosition(){if(Ft(this,vu))return Ft(this,vu);const{x:g,y:it,height:ot}=Ft(this,Cn).getBoundingClientRect(),{x:ut,y:ct,width:dt,height:ft}=Ft(this,qn).layer.getBoundingClientRect();return[(g-ut)/dt,(it+ot-ct)/ft]}set commentPopupPosition(g){ur(this,vu,g)}hasDefaultPopupPosition(){return Ft(this,vu)===null}get commentButtonPosition(){return Ft(this,Sl)}get commentButtonWidth(){return Ft(this,Cn).getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(g){const[it,ot]=Ft(this,vu)||this.commentButtonPosition.map(Tt=>Tt/100),ut=this.parentBoundingClientRect,{x:ct,y:dt,width:ft,height:St}=ut;Ft(this,ms).showDialog(null,this,ct+it*ft,dt+ot*St,{...g,parentDimensions:ut})}render(){var ot,ut;if(Ft(this,gs))return;const g=ur(this,gs,document.createElement("div"));if(g.className="popup",Ft(this,Ly)){const ct=g.style.outlineColor=Util.makeHexColor(...Ft(this,Ly));g.style.backgroundColor=`color-mix(in srgb, ${ct} 30%, white)`}const it=document.createElement("span");if(it.className="header",(ot=Ft(this,Iy))!=null&&ot.str){const ct=document.createElement("span");ct.className="title",it.append(ct),{dir:ct.dir,str:ct.textContent}=Ft(this,Iy)}if(g.append(it),Ft(this,yu)){const ct=document.createElement("time");ct.className="popupDate",ct.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),ct.setAttribute("data-l10n-args",JSON.stringify({dateObj:Ft(this,yu).valueOf()})),ct.dateTime=Ft(this,yu).toISOString(),it.append(ct)}renderRichText({html:Ft(this,$y,L1)||Ft(this,Ao).str,dir:(ut=Ft(this,Ao))==null?void 0:ut.dir,className:"popupContent"},g),Ft(this,xn).append(g)}updateEdited({rect:g,popup:it,deleted:ot}){var ut;if(Ft(this,ms)){ot?(this.remove(),ur(this,bu,null)):it&&(it.deleted?this.remove():(vr(this,Ax,wS).call(this),ur(this,bu,it.text))),g&&(ur(this,Sl,null),vr(this,wx,bS).call(this),vr(this,Sx,ES).call(this));return}if(ot||it!=null&&it.deleted){this.remove();return}vr(this,Fy,D1).call(this),Ft(this,Vp)||ur(this,Vp,{contentsObj:Ft(this,Ao),richText:Ft(this,Al)}),g&&ur(this,wl,null),it&&it.text&&(ur(this,Al,vr(this,ZE,UA).call(this,it.text)),ur(this,yu,PDFDateString.toDateObject(it.date)),ur(this,Ao,null)),(ut=Ft(this,gs))==null||ut.remove(),ur(this,gs,null)}resetEdited(){var g;Ft(this,Vp)&&({contentsObj:Sn(this,Ao)._,richText:Sn(this,Al)._}=Ft(this,Vp),ur(this,Vp,null),(g=Ft(this,gs))==null||g.remove(),ur(this,gs,null),ur(this,wl,null))}remove(){var g,it,ot;if((g=Ft(this,El))==null||g.abort(),ur(this,El,null),(it=Ft(this,gs))==null||it.remove(),ur(this,gs,null),ur(this,xu,!1),ur(this,To,!1),(ot=Ft(this,Cn))==null||ot.remove(),ur(this,Cn,null),this.trigger)for(const ut of this.trigger)ut.classList.remove("popupTriggerArea")}forceHide(){ur(this,xu,this.isVisible),Ft(this,xu)&&(Ft(this,xn).hidden=!0)}maybeShow(){Ft(this,ms)||(vr(this,Fy,D1).call(this),Ft(this,xu)&&(Ft(this,gs)||vr(this,Vy,O1).call(this),ur(this,xu,!1),Ft(this,xn).hidden=!1))}get isVisible(){return Ft(this,ms)?!1:Ft(this,xn).hidden===!1}}ms=new WeakMap,gu=new WeakMap,KE=new WeakMap,XE=new WeakMap,Dy=new WeakMap,Ly=new WeakMap,xn=new WeakMap,Ao=new WeakMap,yu=new WeakMap,Bp=new WeakMap,Ny=new WeakMap,Oy=new WeakMap,To=new WeakMap,gs=new WeakMap,El=new WeakMap,wl=new WeakMap,Cn=new WeakMap,Sl=new WeakMap,vu=new WeakMap,Ex=new WeakMap,Al=new WeakMap,Iy=new WeakMap,Vp=new WeakMap,xu=new WeakMap,qn=new WeakMap,bu=new WeakMap,Fy=new WeakSet,D1=function(){var it;if(Ft(this,El))return;ur(this,El,new AbortController);const{signal:g}=Ft(this,El);for(const ot of this.trigger)ot.addEventListener("click",Ft(this,Dy),{signal:g}),ot.addEventListener("pointerenter",Ft(this,XE),{signal:g}),ot.addEventListener("pointerleave",Ft(this,KE),{signal:g}),ot.classList.add("popupTriggerArea");for(const ot of Ft(this,Bp))(it=ot.container)==null||it.addEventListener("keydown",Ft(this,gu),{signal:g})},wx=new WeakSet,bS=function(){const g=Ft(this,Bp).find(it=>it.hasCommentButton);g&&ur(this,Sl,g._normalizePoint(g.commentButtonPosition))},Sx=new WeakSet,ES=function(){if(Ft(this,qn).extraPopupElement&&!Ft(this,qn).editor)return;this.renderCommentButton();const[g,it]=Ft(this,Sl),{style:ot}=Ft(this,Cn);ot.left=`calc(${g}%)`,ot.top=`calc(${it}% - var(--comment-button-dim))`},Ax=new WeakSet,wS=function(){Ft(this,qn).extraPopupElement||(this.renderCommentButton(),Ft(this,Cn).style.backgroundColor=this.commentButtonColor||"")},$y=new WeakSet,L1=function(){const g=Ft(this,Al),it=Ft(this,Ao);return g!=null&&g.str&&(!(it!=null&&it.str)||it.str===g.str)&&Ft(this,Al).html||null},_x=new WeakSet,SS=function(){var g,it,ot;return((ot=(it=(g=Ft(this,$y,L1))==null?void 0:g.attributes)==null?void 0:it.style)==null?void 0:ot.fontSize)||0},YE=new WeakSet,VA=function(){var g,it,ot;return((ot=(it=(g=Ft(this,$y,L1))==null?void 0:g.attributes)==null?void 0:it.style)==null?void 0:ot.color)||null},ZE=new WeakSet,UA=function(g){const it=[],ot={str:g,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:it}]}},ut={style:{color:Ft(this,YE,VA),fontSize:Ft(this,_x,SS)?`calc(${Ft(this,_x,SS)}px * var(--total-scale-factor))`:""}};for(const ct of g.split(`
`))it.push({name:"span",value:ct,attributes:ut});return ot},QE=new WeakSet,HA=function(g){g.altKey||g.shiftKey||g.ctrlKey||g.metaKey||(g.key==="Enter"||g.key==="Escape"&&Ft(this,To))&&vr(this,By,N1).call(this)},JE=new WeakSet,zA=function(){if(Ft(this,wl)!==null)return;const{page:{view:g},viewport:{rawDims:{pageWidth:it,pageHeight:ot,pageX:ut,pageY:ct}}}=Ft(this,Ny);let dt=!!Ft(this,Oy),ft=dt?Ft(this,Oy):Ft(this,Ex);for(const zt of Ft(this,Bp))if(!ft||Util.intersect(zt.data.rect,ft)!==null){ft=zt.data.rect,dt=!0;break}const St=Util.normalizeRect([ft[0],g[3]-ft[1]+g[1],ft[2],g[3]-ft[3]+g[1]]),Tt=5,kt=dt?ft[2]-ft[0]+Tt:0,jt=St[0]+kt,Rt=St[1];ur(this,wl,[100*(jt-ut)/it,100*(Rt-ct)/ot]);const{style:$t}=Ft(this,xn);$t.left=`${Ft(this,wl)[0]}%`,$t.top=`${Ft(this,wl)[1]}%`},By=new WeakSet,N1=function(){if(Ft(this,ms)){Ft(this,ms).toggleCommentPopup(this,!1);return}ur(this,To,!Ft(this,To)),Ft(this,To)?(vr(this,Vy,O1).call(this),Ft(this,xn).addEventListener("click",Ft(this,Dy)),Ft(this,xn).addEventListener("keydown",Ft(this,gu))):(vr(this,Tx,AS).call(this),Ft(this,xn).removeEventListener("click",Ft(this,Dy)),Ft(this,xn).removeEventListener("keydown",Ft(this,gu)))},Vy=new WeakSet,O1=function(){Ft(this,gs)||this.render(),this.isVisible?Ft(this,To)&&Ft(this,xn).classList.add("focused"):(vr(this,JE,zA).call(this),Ft(this,xn).hidden=!1,Ft(this,xn).style.zIndex=parseInt(Ft(this,xn).style.zIndex)+1e3)},Tx=new WeakSet,AS=function(){Ft(this,xn).classList.remove("focused"),!(Ft(this,To)||!this.isVisible)&&(Ft(this,xn).hidden=!0,Ft(this,xn).style.zIndex=parseInt(Ft(this,xn).style.zIndex)-1e3)};class FreeTextAnnotationElement extends AnnotationElement{constructor(g){super(g,{isRenderable:!0,ignoreBorder:!0}),this.textContent=g.data.textContent,this.textPosition=g.data.textPosition,this.annotationEditorType=AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const g=document.createElement("div");g.classList.add("annotationTextContent"),g.setAttribute("role","comment");for(const it of this.textContent){const ot=document.createElement("span");ot.textContent=it,g.append(ot)}this.container.append(g)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var kx;class LineAnnotationElement extends AnnotationElement{constructor(it){super(it,{isRenderable:!0,ignoreBorder:!0});sr(this,kx,null)}render(){this.container.classList.add("lineAnnotation");const{data:it,width:ot,height:ut}=this,ct=this.svgFactory.create(ot,ut,!0),dt=ur(this,kx,this.svgFactory.createElement("svg:line"));return dt.setAttribute("x1",it.rect[2]-it.lineCoordinates[0]),dt.setAttribute("y1",it.rect[3]-it.lineCoordinates[1]),dt.setAttribute("x2",it.rect[2]-it.lineCoordinates[2]),dt.setAttribute("y2",it.rect[3]-it.lineCoordinates[3]),dt.setAttribute("stroke-width",it.borderStyle.width||1),dt.setAttribute("stroke","transparent"),dt.setAttribute("fill","transparent"),ct.append(dt),this.container.append(ct),!it.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Ft(this,kx)}addHighlightArea(){this.container.classList.add("highlightArea")}}kx=new WeakMap;var Px;class SquareAnnotationElement extends AnnotationElement{constructor(it){super(it,{isRenderable:!0,ignoreBorder:!0});sr(this,Px,null)}render(){this.container.classList.add("squareAnnotation");const{data:it,width:ot,height:ut}=this,ct=this.svgFactory.create(ot,ut,!0),dt=it.borderStyle.width,ft=ur(this,Px,this.svgFactory.createElement("svg:rect"));return ft.setAttribute("x",dt/2),ft.setAttribute("y",dt/2),ft.setAttribute("width",ot-dt),ft.setAttribute("height",ut-dt),ft.setAttribute("stroke-width",dt||1),ft.setAttribute("stroke","transparent"),ft.setAttribute("fill","transparent"),ct.append(ft),this.container.append(ct),!it.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Ft(this,Px)}addHighlightArea(){this.container.classList.add("highlightArea")}}Px=new WeakMap;var Cx;class CircleAnnotationElement extends AnnotationElement{constructor(it){super(it,{isRenderable:!0,ignoreBorder:!0});sr(this,Cx,null)}render(){this.container.classList.add("circleAnnotation");const{data:it,width:ot,height:ut}=this,ct=this.svgFactory.create(ot,ut,!0),dt=it.borderStyle.width,ft=ur(this,Cx,this.svgFactory.createElement("svg:ellipse"));return ft.setAttribute("cx",ot/2),ft.setAttribute("cy",ut/2),ft.setAttribute("rx",ot/2-dt/2),ft.setAttribute("ry",ut/2-dt/2),ft.setAttribute("stroke-width",dt||1),ft.setAttribute("stroke","transparent"),ft.setAttribute("fill","transparent"),ct.append(ft),this.container.append(ct),!it.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Ft(this,Cx)}addHighlightArea(){this.container.classList.add("highlightArea")}}Cx=new WeakMap;var Rx;class PolylineAnnotationElement extends AnnotationElement{constructor(it){super(it,{isRenderable:!0,ignoreBorder:!0});sr(this,Rx,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:it,vertices:ot,borderStyle:ut,popupRef:ct},width:dt,height:ft}=this;if(!ot)return this.container;const St=this.svgFactory.create(dt,ft,!0);let Tt=[];for(let jt=0,Rt=ot.length;jt<Rt;jt+=2){const $t=ot[jt]-it[0],zt=it[3]-ot[jt+1];Tt.push(`${$t},${zt}`)}Tt=Tt.join(" ");const kt=ur(this,Rx,this.svgFactory.createElement(this.svgElementName));return kt.setAttribute("points",Tt),kt.setAttribute("stroke-width",ut.width||1),kt.setAttribute("stroke","transparent"),kt.setAttribute("fill","transparent"),St.append(kt),this.container.append(St),!ct&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Ft(this,Rx)}addHighlightArea(){this.container.classList.add("highlightArea")}}Rx=new WeakMap;class PolygonAnnotationElement extends PolylineAnnotationElement{constructor(g){super(g),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class CaretAnnotationElement extends AnnotationElement{constructor(g){super(g,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Mx,Up,jx,_S;class InkAnnotationElement extends AnnotationElement{constructor(it){super(it,{isRenderable:!0,ignoreBorder:!0});sr(this,jx);sr(this,Mx,null);sr(this,Up,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?AnnotationEditorType.HIGHLIGHT:AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:it,rotation:ot,inkLists:ut,borderStyle:ct,popupRef:dt}}=this,{transform:ft,width:St,height:Tt}=vr(this,jx,_S).call(this,ot,it),kt=this.svgFactory.create(St,Tt,!0),jt=ur(this,Mx,this.svgFactory.createElement("svg:g"));kt.append(jt),jt.setAttribute("stroke-width",ct.width||1),jt.setAttribute("stroke-linecap","round"),jt.setAttribute("stroke-linejoin","round"),jt.setAttribute("stroke-miterlimit",10),jt.setAttribute("stroke","transparent"),jt.setAttribute("fill","transparent"),jt.setAttribute("transform",ft);for(let Rt=0,$t=ut.length;Rt<$t;Rt++){const zt=this.svgFactory.createElement(this.svgElementName);Ft(this,Up).push(zt),zt.setAttribute("points",ut[Rt].join(",")),jt.append(zt)}return!dt&&this.hasPopupData&&this._createPopup(),this.container.append(kt),this._editOnDoubleClick(),this.container}updateEdited(it){super.updateEdited(it);const{thickness:ot,points:ut,rect:ct}=it,dt=Ft(this,Mx);if(ot>=0&&dt.setAttribute("stroke-width",ot||1),ut)for(let ft=0,St=Ft(this,Up).length;ft<St;ft++)Ft(this,Up)[ft].setAttribute("points",ut[ft].join(","));if(ct){const{transform:ft,width:St,height:Tt}=vr(this,jx,_S).call(this,this.data.rotation,ct);dt.parentElement.setAttribute("viewBox",`0 0 ${St} ${Tt}`),dt.setAttribute("transform",ft)}}getElementsToTriggerPopup(){return Ft(this,Up)}addHighlightArea(){this.container.classList.add("highlightArea")}}Mx=new WeakMap,Up=new WeakMap,jx=new WeakSet,_S=function(it,ot){switch(it){case 90:return{transform:`rotate(90) translate(${-ot[0]},${ot[1]}) scale(1,-1)`,width:ot[3]-ot[1],height:ot[2]-ot[0]};case 180:return{transform:`rotate(180) translate(${-ot[2]},${ot[1]}) scale(1,-1)`,width:ot[2]-ot[0],height:ot[3]-ot[1]};case 270:return{transform:`rotate(270) translate(${-ot[2]},${ot[3]}) scale(1,-1)`,width:ot[3]-ot[1],height:ot[2]-ot[0]};default:return{transform:`translate(${-ot[0]},${ot[3]}) scale(1,-1)`,width:ot[2]-ot[0],height:ot[3]-ot[1]}}};class HighlightAnnotationElement extends AnnotationElement{constructor(g){super(g,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=AnnotationEditorType.HIGHLIGHT}render(){const{data:{overlaidText:g,popupRef:it}}=this;if(!it&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),g){const ot=document.createElement("mark");ot.classList.add("overlaidText"),ot.textContent=g,this.container.append(ot)}return this.container}}class UnderlineAnnotationElement extends AnnotationElement{constructor(g){super(g,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:g,popupRef:it}}=this;if(!it&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),g){const ot=document.createElement("u");ot.classList.add("overlaidText"),ot.textContent=g,this.container.append(ot)}return this.container}}class SquigglyAnnotationElement extends AnnotationElement{constructor(g){super(g,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:g,popupRef:it}}=this;if(!it&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),g){const ot=document.createElement("u");ot.classList.add("overlaidText"),ot.textContent=g,this.container.append(ot)}return this.container}}class StrikeOutAnnotationElement extends AnnotationElement{constructor(g){super(g,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:g,popupRef:it}}=this;if(!it&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),g){const ot=document.createElement("s");ot.classList.add("overlaidText"),ot.textContent=g,this.container.append(ot)}return this.container}}class StampAnnotationElement extends AnnotationElement{constructor(g){super(g,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=AnnotationEditorType.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Dx,Lx,TS;class FileAttachmentAnnotationElement extends AnnotationElement{constructor(it){var ut;super(it,{isRenderable:!0});sr(this,Lx);sr(this,Dx,null);const{file:ot}=this.data;this.filename=ot.filename,this.content=ot.content,(ut=this.linkService.eventBus)==null||ut.dispatch("fileattachmentannotation",{source:this,...ot})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:it,data:ot}=this;let ut;ot.hasAppearance||ot.fillAlpha===0?ut=document.createElement("div"):(ut=document.createElement("img"),ut.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(ot.name)?"paperclip":"pushpin"}.svg`,ot.fillAlpha&&ot.fillAlpha<1&&(ut.style=`filter: opacity(${Math.round(ot.fillAlpha*100)}%);`)),ut.addEventListener("dblclick",vr(this,Lx,TS).bind(this)),ur(this,Dx,ut);const{isMac:ct}=util_FeatureTest.platform;return it.addEventListener("keydown",dt=>{dt.key==="Enter"&&(ct?dt.metaKey:dt.ctrlKey)&&vr(this,Lx,TS).call(this)}),!ot.popupRef&&this.hasPopupData?this._createPopup():ut.classList.add("popupTriggerArea"),it.append(ut),it}getElementsToTriggerPopup(){return Ft(this,Dx)}addHighlightArea(){this.container.classList.add("highlightArea")}}Dx=new WeakMap,Lx=new WeakSet,TS=function(){var it;(it=this.downloadManager)==null||it.openOrDownloadData(this.content,this.filename)};var Uy,Hp,Hy,Eu,Nx,zp,Ox,kS,Ix,PS,Fx;let AnnotationLayer$1=(Fx=class{constructor({div:g,accessibilityManager:it,annotationCanvasMap:ot,annotationEditorUIManager:ut,page:ct,viewport:dt,structTreeLayer:ft,commentManager:St,linkService:Tt,annotationStorage:kt}){sr(this,Ox);sr(this,Ix);sr(this,Uy,null);sr(this,Hp,null);sr(this,Hy,null);sr(this,Eu,new Map);sr(this,Nx,null);sr(this,zp,null);this.div=g,ur(this,Uy,it),ur(this,Hp,ot),ur(this,Nx,ft||null),ur(this,zp,Tt||null),ur(this,Hy,kt||new AnnotationStorage),this.page=ct,this.viewport=dt,this.zIndex=0,this._annotationEditorUIManager=ut,this._commentManager=St||null}hasEditableAnnotations(){return Ft(this,Eu).size>0}async render(g){var dt,ft,St;const{annotations:it}=g,ot=this.div;setLayerDimensions(ot,this.viewport);const ut=new Map,ct={data:null,layer:ot,linkService:Ft(this,zp),downloadManager:g.downloadManager,imageResourcesPath:g.imageResourcesPath||"",renderForms:g.renderForms!==!1,svgFactory:new DOMSVGFactory,annotationStorage:Ft(this,Hy),enableComment:g.enableComment===!0,enableScripting:g.enableScripting===!0,hasJSActions:g.hasJSActions,fieldObjects:g.fieldObjects,parent:this,elements:null};for(const Tt of it){if(Tt.noHTML)continue;const kt=Tt.annotationType===AnnotationType.POPUP;if(kt){const $t=ut.get(Tt.id);if(!$t)continue;ct.elements=$t}else if(Tt.rect[2]===Tt.rect[0]||Tt.rect[3]===Tt.rect[1])continue;ct.data=Tt;const jt=AnnotationElementFactory.create(ct);if(!jt.isRenderable)continue;if(!kt&&Tt.popupRef){const $t=ut.get(Tt.popupRef);$t?$t.push(jt):ut.set(Tt.popupRef,[jt])}const Rt=jt.render();Tt.hidden&&(Rt.style.visibility="hidden"),await vr(this,Ox,kS).call(this,Rt,Tt.id,ct.elements),(ft=(dt=jt.extraPopupElement)==null?void 0:dt.popup)==null||ft.renderCommentButton(),jt._isEditable&&(Ft(this,Eu).set(jt.data.id,jt),(St=this._annotationEditorUIManager)==null||St.renderAnnotationElement(jt))}vr(this,Ix,PS).call(this)}async addLinkAnnotations(g){const it={data:null,layer:this.div,linkService:Ft(this,zp),svgFactory:new DOMSVGFactory,parent:this};for(const ot of g){ot.borderStyle||(ot.borderStyle=Fx._defaultBorderStyle),it.data=ot;const ut=AnnotationElementFactory.create(it);if(!ut.isRenderable)continue;const ct=ut.render();await vr(this,Ox,kS).call(this,ct,ot.id,null)}}update({viewport:g}){const it=this.div;this.viewport=g,setLayerDimensions(it,{rotation:g.rotation}),vr(this,Ix,PS).call(this),it.hidden=!1}getEditableAnnotations(){return Array.from(Ft(this,Eu).values())}getEditableAnnotation(g){return Ft(this,Eu).get(g)}addFakeAnnotation(g){var ft;const{div:it}=this,{id:ot,rotation:ut}=g,ct=new EditorAnnotationElement({data:{id:ot,rect:g.getPDFRect(),rotation:ut},editor:g,layer:it,parent:this,enableComment:!!this._commentManager,linkService:Ft(this,zp),annotationStorage:Ft(this,Hy)}),dt=ct.render();return it.append(dt),(ft=Ft(this,Uy))==null||ft.moveElementInDOM(it,dt,dt,!1),ct.createOrUpdatePopup(),ct}static get _defaultBorderStyle(){return shadow(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:AnnotationBorderStyleType.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}},Uy=new WeakMap,Hp=new WeakMap,Hy=new WeakMap,Eu=new WeakMap,Nx=new WeakMap,zp=new WeakMap,Ox=new WeakSet,kS=async function(g,it,ot){var ft,St;const ut=g.firstChild||g,ct=ut.id=`${AnnotationPrefix}${it}`,dt=await((ft=Ft(this,Nx))==null?void 0:ft.getAriaAttributes(ct));if(dt)for(const[Tt,kt]of dt)ut.setAttribute(Tt,kt);ot?ot.at(-1).container.after(g):(this.div.append(g),(St=Ft(this,Uy))==null||St.moveElementInDOM(this.div,g,ut,!1))},Ix=new WeakSet,PS=function(){var it;if(!Ft(this,Hp))return;const g=this.div;for(const[ot,ut]of Ft(this,Hp)){const ct=g.querySelector(`[data-annotation-id="${ot}"]`);if(!ct)continue;ut.className="annotationContent";const{firstChild:dt}=ct;dt?dt.nodeName==="CANVAS"?dt.replaceWith(ut):dt.classList.contains("annotationContent")?dt.after(ut):dt.before(ut):ct.append(ut);const ft=Ft(this,Eu).get(ot);ft&&(ft._hasNoCanvas?((it=this._annotationEditorUIManager)==null||it.setMissingCanvas(ot,ct.id,ut),ft._hasNoCanvas=!1):ft.canvas=ut)}Ft(this,Hp).clear()},Fx);const EOL_PATTERN=/\r\n?|\n/g;var ys,$x,Gp,vs,ew,GA,tw,qA,rw,WA,zy,I1,Gy,F1,qy,$1,nw,KA,Bx,CS,iw,XA;const cn=class cn extends AnnotationEditor{constructor(it){super({...it,name:"freeTextEditor"});sr(this,ew);sr(this,tw);sr(this,rw);sr(this,zy);sr(this,qy);sr(this,nw);sr(this,iw);sr(this,ys,"");sr(this,$x,`${this.id}-editor`);sr(this,Gp,null);sr(this,vs,void 0);Nr(this,"_colorPicker",null);this.color=it.color||cn._defaultColor||AnnotationEditor._defaultLineColor,ur(this,vs,it.fontSize||cn._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static get _keyboardManager(){const it=cn.prototype,ot=dt=>dt.isEmpty(),ut=AnnotationEditorUIManager.TRANSLATE_SMALL,ct=AnnotationEditorUIManager.TRANSLATE_BIG;return shadow(this,"_keyboardManager",new KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],it.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],it.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],it._translateEmpty,{args:[-ut,0],checker:ot}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],it._translateEmpty,{args:[-ct,0],checker:ot}],[["ArrowRight","mac+ArrowRight"],it._translateEmpty,{args:[ut,0],checker:ot}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],it._translateEmpty,{args:[ct,0],checker:ot}],[["ArrowUp","mac+ArrowUp"],it._translateEmpty,{args:[0,-ut],checker:ot}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],it._translateEmpty,{args:[0,-ct],checker:ot}],[["ArrowDown","mac+ArrowDown"],it._translateEmpty,{args:[0,ut],checker:ot}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],it._translateEmpty,{args:[0,ct],checker:ot}]]))}static initialize(it,ot){AnnotationEditor.initialize(it,ot);const ut=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(ut.getPropertyValue("--freetext-padding"))}static updateDefaultParams(it,ot){switch(it){case AnnotationEditorParamsType.FREETEXT_SIZE:cn._defaultFontSize=ot;break;case AnnotationEditorParamsType.FREETEXT_COLOR:cn._defaultColor=ot;break}}updateParams(it,ot){switch(it){case AnnotationEditorParamsType.FREETEXT_SIZE:vr(this,ew,GA).call(this,ot);break;case AnnotationEditorParamsType.FREETEXT_COLOR:vr(this,tw,qA).call(this,ot);break}}static get defaultPropertiesToUpdate(){return[[AnnotationEditorParamsType.FREETEXT_SIZE,cn._defaultFontSize],[AnnotationEditorParamsType.FREETEXT_COLOR,cn._defaultColor||AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[AnnotationEditorParamsType.FREETEXT_SIZE,Ft(this,vs)],[AnnotationEditorParamsType.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new BasicColorPicker(this)),[["colorPicker",this._colorPicker]]}get colorType(){return AnnotationEditorParamsType.FREETEXT_COLOR}onUpdatedColor(){var it;this.editorDiv.style.color=this.color,(it=this._colorPicker)==null||it.update(this.color),super.onUpdatedColor()}_translateEmpty(it,ot){this._uiManager.translateSelectedEditors(it,ot,!0)}getInitialTranslation(){const it=this.parentScale;return[-cn._internalPadding*it,-(cn._internalPadding+Ft(this,vs))*it]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),ur(this,Gp,new AbortController);const it=this._uiManager.combinedSignal(Ft(this,Gp));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:it}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:it}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:it}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:it}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:it}),!0}disableEditMode(){var it;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",Ft(this,$x)),this._isDraggable=!0,(it=Ft(this,Gp))==null||it.abort(),ur(this,Gp,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(it){this._focusEventsAllowed&&(super.focusin(it),it.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(it){var ot;this.width||(this.enableEditMode(),it&&this.editorDiv.focus(),(ot=this._initialOptions)!=null&&ot.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const it=Ft(this,ys),ot=ur(this,ys,vr(this,rw,WA).call(this).trimEnd());if(it===ot)return;const ut=ct=>{if(ur(this,ys,ct),!ct){this.remove();return}vr(this,qy,$1).call(this),this._uiManager.rebuild(this),vr(this,zy,I1).call(this)};this.addCommands({cmd:()=>{ut(ot)},undo:()=>{ut(it)},mustExec:!1}),vr(this,zy,I1).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(it){it.target===this.div&&it.key==="Enter"&&(this.enterInEditMode(),it.preventDefault())}editorDivKeydown(it){cn._keyboardManager.exec(this,it)}editorDivFocus(it){this.isEditing=!0}editorDivBlur(it){this.isEditing=!1}editorDivInput(it){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let it,ot;(this._isCopy||this.annotationElementId)&&(it=this.x,ot=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",Ft(this,$x)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:ut}=this.editorDiv;if(ut.fontSize=`calc(${Ft(this,vs)}px * var(--total-scale-factor))`,ut.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[ct,dt]=this.parentDimensions;if(this.annotationElementId){const{position:ft}=this._initialData;let[St,Tt]=this.getInitialTranslation();[St,Tt]=this.pageTranslationToScreen(St,Tt);const[kt,jt]=this.pageDimensions,[Rt,$t]=this.pageTranslation;let zt,Ht;switch(this.rotation){case 0:zt=it+(ft[0]-Rt)/kt,Ht=ot+this.height-(ft[1]-$t)/jt;break;case 90:zt=it+(ft[0]-Rt)/kt,Ht=ot-(ft[1]-$t)/jt,[St,Tt]=[Tt,-St];break;case 180:zt=it-this.width+(ft[0]-Rt)/kt,Ht=ot-(ft[1]-$t)/jt,[St,Tt]=[-St,-Tt];break;case 270:zt=it+(ft[0]-Rt-this.height*jt)/kt,Ht=ot+(ft[1]-$t-this.width*kt)/jt,[St,Tt]=[-Tt,St];break}this.setAt(zt*ct,Ht*dt,St,Tt)}else this._moveAfterPaste(it,ot);vr(this,qy,$1).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(it){var zt,Ht,Zt;const ot=it.clipboardData||window.clipboardData,{types:ut}=ot;if(ut.length===1&&ut[0]==="text/plain")return;it.preventDefault();const ct=vr(zt=cn,Bx,CS).call(zt,ot.getData("text")||"").replaceAll(EOL_PATTERN,`
`);if(!ct)return;const dt=window.getSelection();if(!dt.rangeCount)return;this.editorDiv.normalize(),dt.deleteFromDocument();const ft=dt.getRangeAt(0);if(!ct.includes(`
`)){ft.insertNode(document.createTextNode(ct)),this.editorDiv.normalize(),dt.collapseToStart();return}const{startContainer:St,startOffset:Tt}=ft,kt=[],jt=[];if(St.nodeType===Node.TEXT_NODE){const Bt=St.parentElement;if(jt.push(St.nodeValue.slice(Tt).replaceAll(EOL_PATTERN,"")),Bt!==this.editorDiv){let Ut=kt;for(const Kt of this.editorDiv.childNodes){if(Kt===Bt){Ut=jt;continue}Ut.push(vr(Ht=cn,Gy,F1).call(Ht,Kt))}}kt.push(St.nodeValue.slice(0,Tt).replaceAll(EOL_PATTERN,""))}else if(St===this.editorDiv){let Bt=kt,Ut=0;for(const Kt of this.editorDiv.childNodes)Ut++===Tt&&(Bt=jt),Bt.push(vr(Zt=cn,Gy,F1).call(Zt,Kt))}ur(this,ys,`${kt.join(`
`)}${ct}${jt.join(`
`)}`),vr(this,qy,$1).call(this);const Rt=new Range;let $t=Math.sumPrecise(kt.map(Bt=>Bt.length));for(const{firstChild:Bt}of this.editorDiv.childNodes)if(Bt.nodeType===Node.TEXT_NODE){const Ut=Bt.nodeValue.length;if($t<=Ut){Rt.setStart(Bt,$t),Rt.setEnd(Bt,$t);break}$t-=Ut}dt.removeAllRanges(),dt.addRange(Rt)}get contentDiv(){return this.editorDiv}getPDFRect(){const it=cn._internalPadding*this.parentScale;return this.getRect(it,it)}static async deserialize(it,ot,ut){var ft;let ct=null;if(it instanceof FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:St,fontColor:Tt},rect:kt,rotation:jt,id:Rt,popupRef:$t,richText:zt,contentsObj:Ht,creationDate:Zt,modificationDate:Bt},textContent:Ut,textPosition:Kt,parent:{page:{pageNumber:Yt}}}=it;if(!Ut||Ut.length===0)return null;ct=it={annotationType:AnnotationEditorType.FREETEXT,color:Array.from(Tt),fontSize:St,value:Ut.join(`
`),position:Kt,pageIndex:Yt-1,rect:kt.slice(0),rotation:jt,annotationElementId:Rt,id:Rt,deleted:!1,popupRef:$t,comment:(Ht==null?void 0:Ht.str)||null,richText:zt,creationDate:Zt,modificationDate:Bt}}const dt=await super.deserialize(it,ot,ut);return ur(dt,vs,it.fontSize),dt.color=Util.makeHexColor(...it.color),ur(dt,ys,vr(ft=cn,Bx,CS).call(ft,it.value)),dt._initialData=ct,it.comment&&dt.setCommentData(it),dt}serialize(it=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const ot=AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),ut=Object.assign(super.serialize(it),{color:ot,fontSize:Ft(this,vs),value:vr(this,nw,KA).call(this)});return this.addComment(ut),it?(ut.isCopy=!0,ut):this.annotationElementId&&!vr(this,iw,XA).call(this,ut)?null:(ut.id=this.annotationElementId,ut)}renderAnnotationElement(it){const ot=super.renderAnnotationElement(it);if(!ot)return null;const{style:ut}=ot;ut.fontSize=`calc(${Ft(this,vs)}px * var(--total-scale-factor))`,ut.color=this.color,ot.replaceChildren();for(const ct of Ft(this,ys).split(`
`)){const dt=document.createElement("div");dt.append(ct?document.createTextNode(ct):document.createElement("br")),ot.append(dt)}return it.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:Ft(this,ys)}}),ot}resetAnnotationElement(it){super.resetAnnotationElement(it),it.resetEdited()}};ys=new WeakMap,$x=new WeakMap,Gp=new WeakMap,vs=new WeakMap,ew=new WeakSet,GA=function(it){const ot=ct=>{this.editorDiv.style.fontSize=`calc(${ct}px * var(--total-scale-factor))`,this.translate(0,-(ct-Ft(this,vs))*this.parentScale),ur(this,vs,ct),vr(this,zy,I1).call(this)},ut=Ft(this,vs);this.addCommands({cmd:ot.bind(this,it),undo:ot.bind(this,ut),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},tw=new WeakSet,qA=function(it){const ot=ct=>{this.color=ct,this.onUpdatedColor()},ut=this.color;this.addCommands({cmd:ot.bind(this,it),undo:ot.bind(this,ut),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},rw=new WeakSet,WA=function(){var ut;const it=[];this.editorDiv.normalize();let ot=null;for(const ct of this.editorDiv.childNodes)(ot==null?void 0:ot.nodeType)===Node.TEXT_NODE&&ct.nodeName==="BR"||(it.push(vr(ut=cn,Gy,F1).call(ut,ct)),ot=ct);return it.join(`
`)},zy=new WeakSet,I1=function(){const[it,ot]=this.parentDimensions;let ut;if(this.isAttachedToDOM)ut=this.div.getBoundingClientRect();else{const{currentLayer:ct,div:dt}=this,ft=dt.style.display,St=dt.classList.contains("hidden");dt.classList.remove("hidden"),dt.style.display="hidden",ct.div.append(this.div),ut=dt.getBoundingClientRect(),dt.remove(),dt.style.display=ft,dt.classList.toggle("hidden",St)}this.rotation%180===this.parentRotation%180?(this.width=ut.width/it,this.height=ut.height/ot):(this.width=ut.height/it,this.height=ut.width/ot),this.fixAndSetPosition()},Gy=new WeakSet,F1=function(it){return(it.nodeType===Node.TEXT_NODE?it.nodeValue:it.innerText).replaceAll(EOL_PATTERN,"")},qy=new WeakSet,$1=function(){if(this.editorDiv.replaceChildren(),!!Ft(this,ys))for(const it of Ft(this,ys).split(`
`)){const ot=document.createElement("div");ot.append(it?document.createTextNode(it):document.createElement("br")),this.editorDiv.append(ot)}},nw=new WeakSet,KA=function(){return Ft(this,ys).replaceAll(""," ")},Bx=new WeakSet,CS=function(it){return it.replaceAll(" ","")},iw=new WeakSet,XA=function(it){const{value:ot,fontSize:ut,color:ct,pageIndex:dt}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||it.value!==ot||it.fontSize!==ut||it.color.some((ft,St)=>ft!==ct[St])||it.pageIndex!==dt},sr(cn,Gy),sr(cn,Bx),Nr(cn,"_freeTextDefaultContent",""),Nr(cn,"_internalPadding",0),Nr(cn,"_defaultColor",null),Nr(cn,"_defaultFontSize",10),Nr(cn,"_type","freetext"),Nr(cn,"_editorType",AnnotationEditorType.FREETEXT);let FreeTextEditor=cn;class Outline{toSVGPath(){unreachable("Abstract method `toSVGPath` must be implemented.")}get box(){unreachable("Abstract getter `box` must be implemented.")}serialize(g,it){unreachable("Abstract method `serialize` must be implemented.")}static _rescale(g,it,ot,ut,ct,dt){dt||(dt=new Float32Array(g.length));for(let ft=0,St=g.length;ft<St;ft+=2)dt[ft]=it+g[ft]*ut,dt[ft+1]=ot+g[ft+1]*ct;return dt}static _rescaleAndSwap(g,it,ot,ut,ct,dt){dt||(dt=new Float32Array(g.length));for(let ft=0,St=g.length;ft<St;ft+=2)dt[ft]=it+g[ft+1]*ut,dt[ft+1]=ot+g[ft]*ct;return dt}static _translate(g,it,ot,ut){ut||(ut=new Float32Array(g.length));for(let ct=0,dt=g.length;ct<dt;ct+=2)ut[ct]=it+g[ct],ut[ct+1]=ot+g[ct+1];return ut}static svgRound(g){return Math.round(g*1e4)}static _normalizePoint(g,it,ot,ut,ct){switch(ct){case 90:return[1-it/ot,g/ut];case 180:return[1-g/ot,1-it/ut];case 270:return[it/ot,1-g/ut];default:return[g/ot,it/ut]}}static _normalizePagePoint(g,it,ot){switch(ot){case 90:return[1-it,g];case 180:return[1-g,1-it];case 270:return[it,1-g];default:return[g,it]}}static createBezierPoints(g,it,ot,ut,ct,dt){return[(g+5*ot)/6,(it+5*ut)/6,(5*ot+ct)/6,(5*ut+dt)/6,(ot+ct)/2,(ut+dt)/2]}}Nr(Outline,"PRECISION",1e-4);var xs,Ks,Wy,Ky,ko,Kr,qp,Wp,Vx,Ux,Xy,Yy,wu,Hx,sw,ow,Kp,$0,aw,YA,lw,ZA,uw,QA,cw,JA,hw,e_,dw,t_;const Oo=class Oo{constructor({x:g,y:it},ot,ut,ct,dt,ft=0){sr(this,Kp);sr(this,aw);sr(this,lw);sr(this,uw);sr(this,cw);sr(this,hw);sr(this,dw);sr(this,xs,void 0);sr(this,Ks,[]);sr(this,Wy,void 0);sr(this,Ky,void 0);sr(this,ko,[]);sr(this,Kr,new Float32Array(18));sr(this,qp,void 0);sr(this,Wp,void 0);sr(this,Vx,void 0);sr(this,Ux,void 0);sr(this,Xy,void 0);sr(this,Yy,void 0);sr(this,wu,[]);ur(this,xs,ot),ur(this,Yy,ct*ut),ur(this,Ky,dt),Ft(this,Kr).set([NaN,NaN,NaN,NaN,g,it],6),ur(this,Wy,ft),ur(this,Ux,Ft(Oo,Hx)*ut),ur(this,Vx,Ft(Oo,ow)*ut),ur(this,Xy,ut),Ft(this,wu).push(g,it)}isEmpty(){return isNaN(Ft(this,Kr)[8])}add({x:g,y:it}){var hr;ur(this,qp,g),ur(this,Wp,it);const[ot,ut,ct,dt]=Ft(this,xs);let[ft,St,Tt,kt]=Ft(this,Kr).subarray(8,12);const jt=g-Tt,Rt=it-kt,$t=Math.hypot(jt,Rt);if($t<Ft(this,Vx))return!1;const zt=$t-Ft(this,Ux),Ht=zt/$t,Zt=Ht*jt,Bt=Ht*Rt;let Ut=ft,Kt=St;ft=Tt,St=kt,Tt+=Zt,kt+=Bt,(hr=Ft(this,wu))==null||hr.push(g,it);const Yt=-Bt/zt,Jt=Zt/zt,er=Yt*Ft(this,Yy),tr=Jt*Ft(this,Yy);return Ft(this,Kr).set(Ft(this,Kr).subarray(2,8),0),Ft(this,Kr).set([Tt+er,kt+tr],4),Ft(this,Kr).set(Ft(this,Kr).subarray(14,18),12),Ft(this,Kr).set([Tt-er,kt-tr],16),isNaN(Ft(this,Kr)[6])?(Ft(this,ko).length===0&&(Ft(this,Kr).set([ft+er,St+tr],2),Ft(this,ko).push(NaN,NaN,NaN,NaN,(ft+er-ot)/ct,(St+tr-ut)/dt),Ft(this,Kr).set([ft-er,St-tr],14),Ft(this,Ks).push(NaN,NaN,NaN,NaN,(ft-er-ot)/ct,(St-tr-ut)/dt)),Ft(this,Kr).set([Ut,Kt,ft,St,Tt,kt],6),!this.isEmpty()):(Ft(this,Kr).set([Ut,Kt,ft,St,Tt,kt],6),Math.abs(Math.atan2(Kt-St,Ut-ft)-Math.atan2(Bt,Zt))<Math.PI/2?([ft,St,Tt,kt]=Ft(this,Kr).subarray(2,6),Ft(this,ko).push(NaN,NaN,NaN,NaN,((ft+Tt)/2-ot)/ct,((St+kt)/2-ut)/dt),[ft,St,Ut,Kt]=Ft(this,Kr).subarray(14,18),Ft(this,Ks).push(NaN,NaN,NaN,NaN,((Ut+ft)/2-ot)/ct,((Kt+St)/2-ut)/dt),!0):([Ut,Kt,ft,St,Tt,kt]=Ft(this,Kr).subarray(0,6),Ft(this,ko).push(((Ut+5*ft)/6-ot)/ct,((Kt+5*St)/6-ut)/dt,((5*ft+Tt)/6-ot)/ct,((5*St+kt)/6-ut)/dt,((ft+Tt)/2-ot)/ct,((St+kt)/2-ut)/dt),[Tt,kt,ft,St,Ut,Kt]=Ft(this,Kr).subarray(12,18),Ft(this,Ks).push(((Ut+5*ft)/6-ot)/ct,((Kt+5*St)/6-ut)/dt,((5*ft+Tt)/6-ot)/ct,((5*St+kt)/6-ut)/dt,((ft+Tt)/2-ot)/ct,((St+kt)/2-ut)/dt),!0))}toSVGPath(){if(this.isEmpty())return"";const g=Ft(this,ko),it=Ft(this,Ks);if(isNaN(Ft(this,Kr)[6])&&!this.isEmpty())return vr(this,aw,YA).call(this);const ot=[];ot.push(`M${g[4]} ${g[5]}`);for(let ut=6;ut<g.length;ut+=6)isNaN(g[ut])?ot.push(`L${g[ut+4]} ${g[ut+5]}`):ot.push(`C${g[ut]} ${g[ut+1]} ${g[ut+2]} ${g[ut+3]} ${g[ut+4]} ${g[ut+5]}`);vr(this,uw,QA).call(this,ot);for(let ut=it.length-6;ut>=6;ut-=6)isNaN(it[ut])?ot.push(`L${it[ut+4]} ${it[ut+5]}`):ot.push(`C${it[ut]} ${it[ut+1]} ${it[ut+2]} ${it[ut+3]} ${it[ut+4]} ${it[ut+5]}`);return vr(this,lw,ZA).call(this,ot),ot.join(" ")}newFreeDrawOutline(g,it,ot,ut,ct,dt){return new FreeDrawOutline(g,it,ot,ut,ct,dt)}getOutlines(){var jt;const g=Ft(this,ko),it=Ft(this,Ks),ot=Ft(this,Kr),[ut,ct,dt,ft]=Ft(this,xs),St=new Float32Array((((jt=Ft(this,wu))==null?void 0:jt.length)??0)+2);for(let Rt=0,$t=St.length-2;Rt<$t;Rt+=2)St[Rt]=(Ft(this,wu)[Rt]-ut)/dt,St[Rt+1]=(Ft(this,wu)[Rt+1]-ct)/ft;if(St[St.length-2]=(Ft(this,qp)-ut)/dt,St[St.length-1]=(Ft(this,Wp)-ct)/ft,isNaN(ot[6])&&!this.isEmpty())return vr(this,cw,JA).call(this,St);const Tt=new Float32Array(Ft(this,ko).length+24+Ft(this,Ks).length);let kt=g.length;for(let Rt=0;Rt<kt;Rt+=2){if(isNaN(g[Rt])){Tt[Rt]=Tt[Rt+1]=NaN;continue}Tt[Rt]=g[Rt],Tt[Rt+1]=g[Rt+1]}kt=vr(this,dw,t_).call(this,Tt,kt);for(let Rt=it.length-6;Rt>=6;Rt-=6)for(let $t=0;$t<6;$t+=2){if(isNaN(it[Rt+$t])){Tt[kt]=Tt[kt+1]=NaN,kt+=2;continue}Tt[kt]=it[Rt+$t],Tt[kt+1]=it[Rt+$t+1],kt+=2}return vr(this,hw,e_).call(this,Tt,kt),this.newFreeDrawOutline(Tt,St,Ft(this,xs),Ft(this,Xy),Ft(this,Wy),Ft(this,Ky))}};xs=new WeakMap,Ks=new WeakMap,Wy=new WeakMap,Ky=new WeakMap,ko=new WeakMap,Kr=new WeakMap,qp=new WeakMap,Wp=new WeakMap,Vx=new WeakMap,Ux=new WeakMap,Xy=new WeakMap,Yy=new WeakMap,wu=new WeakMap,Hx=new WeakMap,sw=new WeakMap,ow=new WeakMap,Kp=new WeakSet,$0=function(){const g=Ft(this,Kr).subarray(4,6),it=Ft(this,Kr).subarray(16,18),[ot,ut,ct,dt]=Ft(this,xs);return[(Ft(this,qp)+(g[0]-it[0])/2-ot)/ct,(Ft(this,Wp)+(g[1]-it[1])/2-ut)/dt,(Ft(this,qp)+(it[0]-g[0])/2-ot)/ct,(Ft(this,Wp)+(it[1]-g[1])/2-ut)/dt]},aw=new WeakSet,YA=function(){const[g,it,ot,ut]=Ft(this,xs),[ct,dt,ft,St]=vr(this,Kp,$0).call(this);return`M${(Ft(this,Kr)[2]-g)/ot} ${(Ft(this,Kr)[3]-it)/ut} L${(Ft(this,Kr)[4]-g)/ot} ${(Ft(this,Kr)[5]-it)/ut} L${ct} ${dt} L${ft} ${St} L${(Ft(this,Kr)[16]-g)/ot} ${(Ft(this,Kr)[17]-it)/ut} L${(Ft(this,Kr)[14]-g)/ot} ${(Ft(this,Kr)[15]-it)/ut} Z`},lw=new WeakSet,ZA=function(g){const it=Ft(this,Ks);g.push(`L${it[4]} ${it[5]} Z`)},uw=new WeakSet,QA=function(g){const[it,ot,ut,ct]=Ft(this,xs),dt=Ft(this,Kr).subarray(4,6),ft=Ft(this,Kr).subarray(16,18),[St,Tt,kt,jt]=vr(this,Kp,$0).call(this);g.push(`L${(dt[0]-it)/ut} ${(dt[1]-ot)/ct} L${St} ${Tt} L${kt} ${jt} L${(ft[0]-it)/ut} ${(ft[1]-ot)/ct}`)},cw=new WeakSet,JA=function(g){const it=Ft(this,Kr),[ot,ut,ct,dt]=Ft(this,xs),[ft,St,Tt,kt]=vr(this,Kp,$0).call(this),jt=new Float32Array(36);return jt.set([NaN,NaN,NaN,NaN,(it[2]-ot)/ct,(it[3]-ut)/dt,NaN,NaN,NaN,NaN,(it[4]-ot)/ct,(it[5]-ut)/dt,NaN,NaN,NaN,NaN,ft,St,NaN,NaN,NaN,NaN,Tt,kt,NaN,NaN,NaN,NaN,(it[16]-ot)/ct,(it[17]-ut)/dt,NaN,NaN,NaN,NaN,(it[14]-ot)/ct,(it[15]-ut)/dt],0),this.newFreeDrawOutline(jt,g,Ft(this,xs),Ft(this,Xy),Ft(this,Wy),Ft(this,Ky))},hw=new WeakSet,e_=function(g,it){const ot=Ft(this,Ks);return g.set([NaN,NaN,NaN,NaN,ot[4],ot[5]],it),it+=6},dw=new WeakSet,t_=function(g,it){const ot=Ft(this,Kr).subarray(4,6),ut=Ft(this,Kr).subarray(16,18),[ct,dt,ft,St]=Ft(this,xs),[Tt,kt,jt,Rt]=vr(this,Kp,$0).call(this);return g.set([NaN,NaN,NaN,NaN,(ot[0]-ct)/ft,(ot[1]-dt)/St,NaN,NaN,NaN,NaN,Tt,kt,NaN,NaN,NaN,NaN,jt,Rt,NaN,NaN,NaN,NaN,(ut[0]-ct)/ft,(ut[1]-dt)/St],it),it+=24},sr(Oo,Hx,8),sr(Oo,sw,2),sr(Oo,ow,Ft(Oo,Hx)+Ft(Oo,sw));let FreeDrawOutliner=Oo;var Zy,Xp,_l,zx,bs,Gx,En,fw,r_;class FreeDrawOutline extends Outline{constructor(it,ot,ut,ct,dt,ft){super();sr(this,fw);sr(this,Zy,void 0);sr(this,Xp,new Float32Array(4));sr(this,_l,void 0);sr(this,zx,void 0);sr(this,bs,void 0);sr(this,Gx,void 0);sr(this,En,void 0);ur(this,En,it),ur(this,bs,ot),ur(this,Zy,ut),ur(this,Gx,ct),ur(this,_l,dt),ur(this,zx,ft),this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],vr(this,fw,r_).call(this,ft);const[St,Tt,kt,jt]=Ft(this,Xp);for(let Rt=0,$t=it.length;Rt<$t;Rt+=2)it[Rt]=(it[Rt]-St)/kt,it[Rt+1]=(it[Rt+1]-Tt)/jt;for(let Rt=0,$t=ot.length;Rt<$t;Rt+=2)ot[Rt]=(ot[Rt]-St)/kt,ot[Rt+1]=(ot[Rt+1]-Tt)/jt}toSVGPath(){const it=[`M${Ft(this,En)[4]} ${Ft(this,En)[5]}`];for(let ot=6,ut=Ft(this,En).length;ot<ut;ot+=6){if(isNaN(Ft(this,En)[ot])){it.push(`L${Ft(this,En)[ot+4]} ${Ft(this,En)[ot+5]}`);continue}it.push(`C${Ft(this,En)[ot]} ${Ft(this,En)[ot+1]} ${Ft(this,En)[ot+2]} ${Ft(this,En)[ot+3]} ${Ft(this,En)[ot+4]} ${Ft(this,En)[ot+5]}`)}return it.push("Z"),it.join(" ")}serialize([it,ot,ut,ct],dt){const ft=ut-it,St=ct-ot;let Tt,kt;switch(dt){case 0:Tt=Outline._rescale(Ft(this,En),it,ct,ft,-St),kt=Outline._rescale(Ft(this,bs),it,ct,ft,-St);break;case 90:Tt=Outline._rescaleAndSwap(Ft(this,En),it,ot,ft,St),kt=Outline._rescaleAndSwap(Ft(this,bs),it,ot,ft,St);break;case 180:Tt=Outline._rescale(Ft(this,En),ut,ot,-ft,St),kt=Outline._rescale(Ft(this,bs),ut,ot,-ft,St);break;case 270:Tt=Outline._rescaleAndSwap(Ft(this,En),ut,ct,-ft,-St),kt=Outline._rescaleAndSwap(Ft(this,bs),ut,ct,-ft,-St);break}return{outline:Array.from(Tt),points:[Array.from(kt)]}}get box(){return Ft(this,Xp)}newOutliner(it,ot,ut,ct,dt,ft=0){return new FreeDrawOutliner(it,ot,ut,ct,dt,ft)}getNewOutline(it,ot){const[ut,ct,dt,ft]=Ft(this,Xp),[St,Tt,kt,jt]=Ft(this,Zy),Rt=dt*kt,$t=ft*jt,zt=ut*kt+St,Ht=ct*jt+Tt,Zt=this.newOutliner({x:Ft(this,bs)[0]*Rt+zt,y:Ft(this,bs)[1]*$t+Ht},Ft(this,Zy),Ft(this,Gx),it,Ft(this,zx),ot??Ft(this,_l));for(let Bt=2;Bt<Ft(this,bs).length;Bt+=2)Zt.add({x:Ft(this,bs)[Bt]*Rt+zt,y:Ft(this,bs)[Bt+1]*$t+Ht});return Zt.getOutlines()}}Zy=new WeakMap,Xp=new WeakMap,_l=new WeakMap,zx=new WeakMap,bs=new WeakMap,Gx=new WeakMap,En=new WeakMap,fw=new WeakSet,r_=function(it){const ot=Ft(this,En);let ut=ot[4],ct=ot[5];const dt=[ut,ct,ut,ct];let ft=ut,St=ct,Tt=ut,kt=ct;const jt=it?Math.max:Math.min,Rt=new Float32Array(4);for(let zt=6,Ht=ot.length;zt<Ht;zt+=6){const Zt=ot[zt+4],Bt=ot[zt+5];isNaN(ot[zt])?(Util.pointBoundingBox(Zt,Bt,dt),St>Bt?(ft=Zt,St=Bt):St===Bt&&(ft=jt(ft,Zt)),kt<Bt?(Tt=Zt,kt=Bt):kt===Bt&&(Tt=jt(Tt,Zt))):(Rt[0]=Rt[1]=1/0,Rt[2]=Rt[3]=-1/0,Util.bezierBoundingBox(ut,ct,...ot.slice(zt,zt+6),Rt),Util.rectBoundingBox(Rt[0],Rt[1],Rt[2],Rt[3],dt),St>Rt[1]?(ft=Rt[0],St=Rt[1]):St===Rt[1]&&(ft=jt(ft,Rt[0])),kt<Rt[3]?(Tt=Rt[2],kt=Rt[3]):kt===Rt[3]&&(Tt=jt(Tt,Rt[2]))),ut=Zt,ct=Bt}const $t=Ft(this,Xp);$t[0]=dt[0]-Ft(this,_l),$t[1]=dt[1]-Ft(this,_l),$t[2]=dt[2]-dt[0]+2*Ft(this,_l),$t[3]=dt[3]-dt[1]+2*Ft(this,_l),this.firstPoint=[ft,St],this.lastPoint=[Tt,kt]};var qx,Wx,Kx,Su,Xs,pw,n_,Qy,B1,mw,i_,gw,s_,Xx,RS;class HighlightOutliner{constructor(g,it=0,ot=0,ut=!0){sr(this,pw);sr(this,Qy);sr(this,mw);sr(this,gw);sr(this,Xx);sr(this,qx,void 0);sr(this,Wx,void 0);sr(this,Kx,void 0);sr(this,Su,[]);sr(this,Xs,[]);const ct=[1/0,1/0,-1/0,-1/0],ft=10**-4;for(const{x:Zt,y:Bt,width:Ut,height:Kt}of g){const Yt=Math.floor((Zt-it)/ft)*ft,Jt=Math.ceil((Zt+Ut+it)/ft)*ft,er=Math.floor((Bt-it)/ft)*ft,tr=Math.ceil((Bt+Kt+it)/ft)*ft,rr=[Yt,er,tr,!0],hr=[Jt,er,tr,!1];Ft(this,Su).push(rr,hr),Util.rectBoundingBox(Yt,er,Jt,tr,ct)}const St=ct[2]-ct[0]+2*ot,Tt=ct[3]-ct[1]+2*ot,kt=ct[0]-ot,jt=ct[1]-ot;let Rt=ut?-1/0:1/0,$t=1/0;const zt=Ft(this,Su).at(ut?-1:-2),Ht=[zt[0],zt[2]];for(const Zt of Ft(this,Su)){const[Bt,Ut,Kt,Yt]=Zt;!Yt&&ut?Ut<$t?($t=Ut,Rt=Bt):Ut===$t&&(Rt=Math.max(Rt,Bt)):Yt&&!ut&&(Ut<$t?($t=Ut,Rt=Bt):Ut===$t&&(Rt=Math.min(Rt,Bt))),Zt[0]=(Bt-kt)/St,Zt[1]=(Ut-jt)/Tt,Zt[2]=(Kt-jt)/Tt}ur(this,qx,new Float32Array([kt,jt,St,Tt])),ur(this,Wx,[Rt,$t]),ur(this,Kx,Ht)}getOutlines(){Ft(this,Su).sort((it,ot)=>it[0]-ot[0]||it[1]-ot[1]||it[2]-ot[2]);const g=[];for(const it of Ft(this,Su))it[3]?(g.push(...vr(this,Xx,RS).call(this,it)),vr(this,mw,i_).call(this,it)):(vr(this,gw,s_).call(this,it),g.push(...vr(this,Xx,RS).call(this,it)));return vr(this,pw,n_).call(this,g)}}qx=new WeakMap,Wx=new WeakMap,Kx=new WeakMap,Su=new WeakMap,Xs=new WeakMap,pw=new WeakSet,n_=function(g){const it=[],ot=new Set;for(const dt of g){const[ft,St,Tt]=dt;it.push([ft,St,dt],[ft,Tt,dt])}it.sort((dt,ft)=>dt[1]-ft[1]||dt[0]-ft[0]);for(let dt=0,ft=it.length;dt<ft;dt+=2){const St=it[dt][2],Tt=it[dt+1][2];St.push(Tt),Tt.push(St),ot.add(St),ot.add(Tt)}const ut=[];let ct;for(;ot.size>0;){const dt=ot.values().next().value;let[ft,St,Tt,kt,jt]=dt;ot.delete(dt);let Rt=ft,$t=St;for(ct=[ft,Tt],ut.push(ct);;){let zt;if(ot.has(kt))zt=kt;else if(ot.has(jt))zt=jt;else break;ot.delete(zt),[ft,St,Tt,kt,jt]=zt,Rt!==ft&&(ct.push(Rt,$t,ft,$t===St?St:Tt),Rt=ft),$t=$t===St?Tt:St}ct.push(Rt,$t)}return new HighlightOutline(ut,Ft(this,qx),Ft(this,Wx),Ft(this,Kx))},Qy=new WeakSet,B1=function(g){const it=Ft(this,Xs);let ot=0,ut=it.length-1;for(;ot<=ut;){const ct=ot+ut>>1,dt=it[ct][0];if(dt===g)return ct;dt<g?ot=ct+1:ut=ct-1}return ut+1},mw=new WeakSet,i_=function([,g,it]){const ot=vr(this,Qy,B1).call(this,g);Ft(this,Xs).splice(ot,0,[g,it])},gw=new WeakSet,s_=function([,g,it]){const ot=vr(this,Qy,B1).call(this,g);for(let ut=ot;ut<Ft(this,Xs).length;ut++){const[ct,dt]=Ft(this,Xs)[ut];if(ct!==g)break;if(ct===g&&dt===it){Ft(this,Xs).splice(ut,1);return}}for(let ut=ot-1;ut>=0;ut--){const[ct,dt]=Ft(this,Xs)[ut];if(ct!==g)break;if(ct===g&&dt===it){Ft(this,Xs).splice(ut,1);return}}},Xx=new WeakSet,RS=function(g){const[it,ot,ut]=g,ct=[[it,ot,ut]],dt=vr(this,Qy,B1).call(this,ut);for(let ft=0;ft<dt;ft++){const[St,Tt]=Ft(this,Xs)[ft];for(let kt=0,jt=ct.length;kt<jt;kt++){const[,Rt,$t]=ct[kt];if(!(Tt<=Rt||$t<=St)){if(Rt>=St){if($t>Tt)ct[kt][1]=Tt;else{if(jt===1)return[];ct.splice(kt,1),kt--,jt--}continue}ct[kt][2]=St,$t>Tt&&ct.push([it,Tt,$t])}}}return ct};var Yx,Jy;class HighlightOutline extends Outline{constructor(it,ot,ut,ct){super();sr(this,Yx,void 0);sr(this,Jy,void 0);ur(this,Jy,it),ur(this,Yx,ot),this.firstPoint=ut,this.lastPoint=ct}toSVGPath(){const it=[];for(const ot of Ft(this,Jy)){let[ut,ct]=ot;it.push(`M${ut} ${ct}`);for(let dt=2;dt<ot.length;dt+=2){const ft=ot[dt],St=ot[dt+1];ft===ut?(it.push(`V${St}`),ct=St):St===ct&&(it.push(`H${ft}`),ut=ft)}it.push("Z")}return it.join(" ")}serialize([it,ot,ut,ct],dt){const ft=[],St=ut-it,Tt=ct-ot;for(const kt of Ft(this,Jy)){const jt=new Array(kt.length);for(let Rt=0;Rt<kt.length;Rt+=2)jt[Rt]=it+kt[Rt]*St,jt[Rt+1]=ct-kt[Rt+1]*Tt;ft.push(jt)}return ft}get box(){return Ft(this,Yx)}get classNamesForOutlining(){return["highlightOutline"]}}Yx=new WeakMap,Jy=new WeakMap;class FreeHighlightOutliner extends FreeDrawOutliner{newFreeDrawOutline(g,it,ot,ut,ct,dt){return new FreeHighlightOutline(g,it,ot,ut,ct,dt)}}class FreeHighlightOutline extends FreeDrawOutline{newOutliner(g,it,ot,ut,ct,dt=0){return new FreeHighlightOutliner(g,it,ot,ut,ct,dt)}}var e0,Zx,Tl,Yp,Qx,ss,Jx,e1,Zp,Es,ws,$n,t0,r0,Wn,n0,Ns,t1,r1,MS,i0,V1,yw,o_,xw,a_,bw,l_,n1,jS,Pl,Bu,Au,Em,Ew,u_,s0,U1,o0,H1,ww,c_,Sw,h_,Aw,d_,_w,f_,Tw,p_;const Zr=class Zr extends AnnotationEditor{constructor(it){super({...it,name:"highlightEditor"});sr(this,r1);sr(this,i0);sr(this,yw);sr(this,xw);sr(this,bw);sr(this,n1);sr(this,Pl);sr(this,Ew);sr(this,s0);sr(this,o0);sr(this,ww);sr(this,Sw);sr(this,Tw);sr(this,e0,null);sr(this,Zx,0);sr(this,Tl,void 0);sr(this,Yp,null);sr(this,Qx,null);sr(this,ss,null);sr(this,Jx,null);sr(this,e1,0);sr(this,Zp,null);sr(this,Es,null);sr(this,ws,null);sr(this,$n,!1);sr(this,t0,null);sr(this,r0,null);sr(this,Wn,null);sr(this,n0,"");sr(this,Ns,void 0);sr(this,t1,"");this.color=it.color||Zr._defaultColor,ur(this,Ns,it.thickness||Zr._defaultThickness),this.opacity=it.opacity||Zr._defaultOpacity,ur(this,Tl,it.boxes||null),ur(this,t1,it.methodOfCreation||""),ur(this,n0,it.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",it.highlightId>-1?(ur(this,$n,!0),vr(this,i0,V1).call(this,it),vr(this,Pl,Bu).call(this)):Ft(this,Tl)&&(ur(this,e0,it.anchorNode),ur(this,Zx,it.anchorOffset),ur(this,Jx,it.focusNode),ur(this,e1,it.focusOffset),vr(this,r1,MS).call(this),vr(this,Pl,Bu).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const it=Zr.prototype;return shadow(this,"_keyboardManager",new KeyboardManager([[["ArrowLeft","mac+ArrowLeft"],it._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],it._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],it._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],it._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:Ft(this,$n)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:Ft(this,Ns),methodOfCreation:Ft(this,t1)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(it){return{numberOfColors:it.get("color").size}}static initialize(it,ot){var ut;AnnotationEditor.initialize(it,ot),Zr._defaultColor||(Zr._defaultColor=((ut=ot.highlightColors)==null?void 0:ut.values().next().value)||"#fff066")}static updateDefaultParams(it,ot){switch(it){case AnnotationEditorParamsType.HIGHLIGHT_COLOR:Zr._defaultColor=ot;break;case AnnotationEditorParamsType.HIGHLIGHT_THICKNESS:Zr._defaultThickness=ot;break}}translateInPage(it,ot){}get toolbarPosition(){return Ft(this,r0)}get commentButtonPosition(){return Ft(this,t0)}updateParams(it,ot){switch(it){case AnnotationEditorParamsType.HIGHLIGHT_COLOR:vr(this,yw,o_).call(this,ot);break;case AnnotationEditorParamsType.HIGHLIGHT_THICKNESS:vr(this,xw,a_).call(this,ot);break}}static get defaultPropertiesToUpdate(){return[[AnnotationEditorParamsType.HIGHLIGHT_COLOR,Zr._defaultColor],[AnnotationEditorParamsType.HIGHLIGHT_THICKNESS,Zr._defaultThickness]]}get propertiesToUpdate(){return[[AnnotationEditorParamsType.HIGHLIGHT_COLOR,this.color||Zr._defaultColor],[AnnotationEditorParamsType.HIGHLIGHT_THICKNESS,Ft(this,Ns)||Zr._defaultThickness],[AnnotationEditorParamsType.HIGHLIGHT_FREE,Ft(this,$n)]]}onUpdatedColor(){var it,ot;(it=this.parent)==null||it.drawLayer.updateProperties(Ft(this,ws),{root:{fill:this.color,"fill-opacity":this.opacity}}),(ot=Ft(this,Qx))==null||ot.updateColor(this.color),super.onUpdatedColor()}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",ur(this,Qx,new ColorPicker({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(vr(this,o0,H1).call(this))}getBaseTranslation(){return[0,0]}getRect(it,ot){return super.getRect(it,ot,vr(this,o0,H1).call(this))}onceAdded(it){this.annotationElementId||this.parent.addUndoableEditor(this),it&&this.div.focus()}remove(){vr(this,n1,jS).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(vr(this,Pl,Bu).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(it){var ut;let ot=!1;this.parent&&!it?vr(this,n1,jS).call(this):it&&(vr(this,Pl,Bu).call(this,it),ot=!this.parent&&((ut=this.div)==null?void 0:ut.classList.contains("selectedEditor"))),super.setParent(it),this.show(this._isVisible),ot&&this.select()}rotate(it){var ct,dt,ft;const{drawLayer:ot}=this.parent;let ut;Ft(this,$n)?(it=(it-this.rotation+360)%360,ut=vr(ct=Zr,Au,Em).call(ct,Ft(this,Es).box,it)):ut=vr(dt=Zr,Au,Em).call(dt,[this.x,this.y,this.width,this.height],it),ot.updateProperties(Ft(this,ws),{bbox:ut,root:{"data-main-rotation":it}}),ot.updateProperties(Ft(this,Wn),{bbox:vr(ft=Zr,Au,Em).call(ft,Ft(this,ss).box,it),root:{"data-main-rotation":it}})}render(){if(this.div)return this.div;const it=super.render();Ft(this,n0)&&(it.setAttribute("aria-label",Ft(this,n0)),it.setAttribute("role","mark")),Ft(this,$n)?it.classList.add("free"):this.div.addEventListener("keydown",vr(this,Ew,u_).bind(this),{signal:this._uiManager._signal});const ot=ur(this,Zp,document.createElement("div"));return it.append(ot),ot.setAttribute("aria-hidden","true"),ot.className="internal",ot.style.clipPath=Ft(this,Yp),this.setDims(this.width,this.height),bindEvents(this,Ft(this,Zp),["pointerover","pointerleave"]),this.enableEditing(),it}pointerover(){var it;this.isSelected||(it=this.parent)==null||it.drawLayer.updateProperties(Ft(this,Wn),{rootClass:{hovered:!0}})}pointerleave(){var it;this.isSelected||(it=this.parent)==null||it.drawLayer.updateProperties(Ft(this,Wn),{rootClass:{hovered:!1}})}_moveCaret(it){switch(this.parent.unselect(this),it){case 0:case 2:vr(this,s0,U1).call(this,!0);break;case 1:case 3:vr(this,s0,U1).call(this,!1);break}}select(){var it;super.select(),Ft(this,Wn)&&((it=this.parent)==null||it.drawLayer.updateProperties(Ft(this,Wn),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var it;super.unselect(),Ft(this,Wn)&&((it=this.parent)==null||it.drawLayer.updateProperties(Ft(this,Wn),{rootClass:{selected:!1}}),Ft(this,$n)||vr(this,s0,U1).call(this,!1))}get _mustFixPosition(){return!Ft(this,$n)}show(it=this._isVisible){super.show(it),this.parent&&(this.parent.drawLayer.updateProperties(Ft(this,ws),{rootClass:{hidden:!it}}),this.parent.drawLayer.updateProperties(Ft(this,Wn),{rootClass:{hidden:!it}}))}static startHighlighting(it,ot,{target:ut,x:ct,y:dt}){const{x:ft,y:St,width:Tt,height:kt}=ut.getBoundingClientRect(),jt=new AbortController,Rt=it.combinedSignal(jt),$t=zt=>{jt.abort(),vr(this,_w,f_).call(this,it,zt)};window.addEventListener("blur",$t,{signal:Rt}),window.addEventListener("pointerup",$t,{signal:Rt}),window.addEventListener("pointerdown",stopEvent,{capture:!0,passive:!1,signal:Rt}),window.addEventListener("contextmenu",noContextMenu,{signal:Rt}),ut.addEventListener("pointermove",vr(this,Aw,d_).bind(this,it),{signal:Rt}),this._freeHighlight=new FreeHighlightOutliner({x:ct,y:dt},[ft,St,Tt,kt],it.scale,this._defaultThickness/2,ot,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=it.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(it,ot,ut){var Ht,Zt,Bt,Ut;let ct=null;if(it instanceof HighlightAnnotationElement){const{data:{quadPoints:Kt,rect:Yt,rotation:Jt,id:er,color:tr,opacity:rr,popupRef:hr,richText:ar,contentsObj:or,creationDate:cr,modificationDate:gr},parent:{page:{pageNumber:yr}}}=it;ct=it={annotationType:AnnotationEditorType.HIGHLIGHT,color:Array.from(tr),opacity:rr,quadPoints:Kt,boxes:null,pageIndex:yr-1,rect:Yt.slice(0),rotation:Jt,annotationElementId:er,id:er,deleted:!1,popupRef:hr,richText:ar,comment:(or==null?void 0:or.str)||null,creationDate:cr,modificationDate:gr}}else if(it instanceof InkAnnotationElement){const{data:{inkLists:Kt,rect:Yt,rotation:Jt,id:er,color:tr,borderStyle:{rawWidth:rr},popupRef:hr,richText:ar,contentsObj:or,creationDate:cr,modificationDate:gr},parent:{page:{pageNumber:yr}}}=it;ct=it={annotationType:AnnotationEditorType.HIGHLIGHT,color:Array.from(tr),thickness:rr,inkLists:Kt,boxes:null,pageIndex:yr-1,rect:Yt.slice(0),rotation:Jt,annotationElementId:er,id:er,deleted:!1,popupRef:hr,richText:ar,comment:(or==null?void 0:or.str)||null,creationDate:cr,modificationDate:gr}}const{color:dt,quadPoints:ft,inkLists:St,opacity:Tt}=it,kt=await super.deserialize(it,ot,ut);kt.color=Util.makeHexColor(...dt),kt.opacity=Tt||1,St&&ur(kt,Ns,it.thickness),kt._initialData=ct,it.comment&&kt.setCommentData(it);const[jt,Rt]=kt.pageDimensions,[$t,zt]=kt.pageTranslation;if(ft){const Kt=ur(kt,Tl,[]);for(let Yt=0;Yt<ft.length;Yt+=8)Kt.push({x:(ft[Yt]-$t)/jt,y:1-(ft[Yt+1]-zt)/Rt,width:(ft[Yt+2]-ft[Yt])/jt,height:(ft[Yt+1]-ft[Yt+5])/Rt});vr(Ht=kt,r1,MS).call(Ht),vr(Zt=kt,Pl,Bu).call(Zt),kt.rotate(kt.rotation)}else if(St){ur(kt,$n,!0);const Kt=St[0],Yt={x:Kt[0]-$t,y:Rt-(Kt[1]-zt)},Jt=new FreeHighlightOutliner(Yt,[0,0,jt,Rt],1,Ft(kt,Ns)/2,!0,.001);for(let rr=0,hr=Kt.length;rr<hr;rr+=2)Yt.x=Kt[rr]-$t,Yt.y=Rt-(Kt[rr+1]-zt),Jt.add(Yt);const{id:er,clipPathId:tr}=ot.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:kt.color,"fill-opacity":kt._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:Jt.toSVGPath()}},!0,!0);vr(Bt=kt,i0,V1).call(Bt,{highlightOutlines:Jt.getOutlines(),highlightId:er,clipPathId:tr}),vr(Ut=kt,Pl,Bu).call(Ut),kt.rotate(kt.parentRotation)}return kt}serialize(it=!1){if(this.isEmpty()||it)return null;if(this.deleted)return this.serializeDeleted();const ot=AnnotationEditor._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),ut=super.serialize(it);return Object.assign(ut,{color:ot,opacity:this.opacity,thickness:Ft(this,Ns),quadPoints:vr(this,ww,c_).call(this),outlines:vr(this,Sw,h_).call(this,ut.rect)}),this.addComment(ut),this.annotationElementId&&!vr(this,Tw,p_).call(this,ut)?null:(ut.id=this.annotationElementId,ut)}renderAnnotationElement(it){return this.deleted?(it.hide(),null):(it.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}};e0=new WeakMap,Zx=new WeakMap,Tl=new WeakMap,Yp=new WeakMap,Qx=new WeakMap,ss=new WeakMap,Jx=new WeakMap,e1=new WeakMap,Zp=new WeakMap,Es=new WeakMap,ws=new WeakMap,$n=new WeakMap,t0=new WeakMap,r0=new WeakMap,Wn=new WeakMap,n0=new WeakMap,Ns=new WeakMap,t1=new WeakMap,r1=new WeakSet,MS=function(){const it=new HighlightOutliner(Ft(this,Tl),.001);ur(this,Es,it.getOutlines()),[this.x,this.y,this.width,this.height]=Ft(this,Es).box;const ot=new HighlightOutliner(Ft(this,Tl),.0025,.001,this._uiManager.direction==="ltr");ur(this,ss,ot.getOutlines());const{firstPoint:ut}=Ft(this,Es);ur(this,t0,[(ut[0]-this.x)/this.width,(ut[1]-this.y)/this.height]);const{lastPoint:ct}=Ft(this,ss);ur(this,r0,[(ct[0]-this.x)/this.width,(ct[1]-this.y)/this.height])},i0=new WeakSet,V1=function({highlightOutlines:it,highlightId:ot,clipPathId:ut}){var Rt,$t;ur(this,Es,it);const ct=1.5;if(ur(this,ss,it.getNewOutline(Ft(this,Ns)/2+ct,.0025)),ot>=0)ur(this,ws,ot),ur(this,Yp,ut),this.parent.drawLayer.finalizeDraw(ot,{bbox:it.box,path:{d:it.toSVGPath()}}),ur(this,Wn,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:Ft(this,ss).box,path:{d:Ft(this,ss).toSVGPath()}},!0));else if(this.parent){const zt=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(Ft(this,ws),{bbox:vr(Rt=Zr,Au,Em).call(Rt,Ft(this,Es).box,(zt-this.rotation+360)%360),path:{d:it.toSVGPath()}}),this.parent.drawLayer.updateProperties(Ft(this,Wn),{bbox:vr($t=Zr,Au,Em).call($t,Ft(this,ss).box,zt),path:{d:Ft(this,ss).toSVGPath()}})}const[dt,ft,St,Tt]=it.box;switch(this.rotation){case 0:this.x=dt,this.y=ft,this.width=St,this.height=Tt;break;case 90:{const[zt,Ht]=this.parentDimensions;this.x=ft,this.y=1-dt,this.width=St*Ht/zt,this.height=Tt*zt/Ht;break}case 180:this.x=1-dt,this.y=1-ft,this.width=St,this.height=Tt;break;case 270:{const[zt,Ht]=this.parentDimensions;this.x=1-ft,this.y=dt,this.width=St*Ht/zt,this.height=Tt*zt/Ht;break}}const{firstPoint:kt}=it;ur(this,t0,[(kt[0]-dt)/St,(kt[1]-ft)/Tt]);const{lastPoint:jt}=Ft(this,ss);ur(this,r0,[(jt[0]-dt)/St,(jt[1]-ft)/Tt])},yw=new WeakSet,o_=function(it){const ot=(dt,ft)=>{this.color=dt,this.opacity=ft,this.onUpdatedColor()},ut=this.color,ct=this.opacity;this.addCommands({cmd:ot.bind(this,it,Zr._defaultOpacity),undo:ot.bind(this,ut,ct),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(it)},!0)},xw=new WeakSet,a_=function(it){const ot=Ft(this,Ns),ut=ct=>{ur(this,Ns,ct),vr(this,bw,l_).call(this,ct)};this.addCommands({cmd:ut.bind(this,it),undo:ut.bind(this,ot),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:it},!0)},bw=new WeakSet,l_=function(it){Ft(this,$n)&&(vr(this,i0,V1).call(this,{highlightOutlines:Ft(this,Es).getNewOutline(it/2)}),this.fixAndSetPosition(),this.setDims(this.width,this.height))},n1=new WeakSet,jS=function(){Ft(this,ws)===null||!this.parent||(this.parent.drawLayer.remove(Ft(this,ws)),ur(this,ws,null),this.parent.drawLayer.remove(Ft(this,Wn)),ur(this,Wn,null))},Pl=new WeakSet,Bu=function(it=this.parent){Ft(this,ws)===null&&({id:Sn(this,ws)._,clipPathId:Sn(this,Yp)._}=it.drawLayer.draw({bbox:Ft(this,Es).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:Ft(this,$n)},path:{d:Ft(this,Es).toSVGPath()}},!1,!0),ur(this,Wn,it.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:Ft(this,$n)},bbox:Ft(this,ss).box,path:{d:Ft(this,ss).toSVGPath()}},Ft(this,$n))),Ft(this,Zp)&&(Ft(this,Zp).style.clipPath=Ft(this,Yp)))},Au=new WeakSet,Em=function([it,ot,ut,ct],dt){switch(dt){case 90:return[1-ot-ct,it,ct,ut];case 180:return[1-it-ut,1-ot-ct,ut,ct];case 270:return[ot,1-it-ut,ct,ut]}return[it,ot,ut,ct]},Ew=new WeakSet,u_=function(it){Zr._keyboardManager.exec(this,it)},s0=new WeakSet,U1=function(it){if(!Ft(this,e0))return;const ot=window.getSelection();it?ot.setPosition(Ft(this,e0),Ft(this,Zx)):ot.setPosition(Ft(this,Jx),Ft(this,e1))},o0=new WeakSet,H1=function(){return Ft(this,$n)?this.rotation:0},ww=new WeakSet,c_=function(){if(Ft(this,$n))return null;const[it,ot]=this.pageDimensions,[ut,ct]=this.pageTranslation,dt=Ft(this,Tl),ft=new Float32Array(dt.length*8);let St=0;for(const{x:Tt,y:kt,width:jt,height:Rt}of dt){const $t=Tt*it+ut,zt=(1-kt)*ot+ct;ft[St]=ft[St+4]=$t,ft[St+1]=ft[St+3]=zt,ft[St+2]=ft[St+6]=$t+jt*it,ft[St+5]=ft[St+7]=zt-Rt*ot,St+=8}return ft},Sw=new WeakSet,h_=function(it){return Ft(this,Es).serialize(it,vr(this,o0,H1).call(this))},Aw=new WeakSet,d_=function(it,ot){this._freeHighlight.add(ot)&&it.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},_w=new WeakSet,f_=function(it,ot){this._freeHighlight.isEmpty()?it.drawLayer.remove(this._freeHighlightId):it.createAndAddNewEditor(ot,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},Tw=new WeakSet,p_=function(it){const{color:ot}=this._initialData;return this.hasEditedComment||it.color.some((ut,ct)=>ut!==ot[ct])},sr(Zr,Au),sr(Zr,Aw),sr(Zr,_w),Nr(Zr,"_defaultColor",null),Nr(Zr,"_defaultOpacity",1),Nr(Zr,"_defaultThickness",12),Nr(Zr,"_type","highlight"),Nr(Zr,"_editorType",AnnotationEditorType.HIGHLIGHT),Nr(Zr,"_freeHighlightId",-1),Nr(Zr,"_freeHighlight",null),Nr(Zr,"_freeHighlightClipId","");let HighlightEditor=Zr;var Qp;class DrawingOptions{constructor(){sr(this,Qp,Object.create(null))}updateProperty(g,it){this[g]=it,this.updateSVGProperty(g,it)}updateProperties(g){if(g)for(const[it,ot]of Object.entries(g))it.startsWith("_")||this.updateProperty(it,ot)}updateSVGProperty(g,it){Ft(this,Qp)[g]=it}toSVGProperties(){const g=Ft(this,Qp);return ur(this,Qp,Object.create(null)),{root:g}}reset(){ur(this,Qp,Object.create(null))}updateAll(g=this){this.updateProperties(g)}clone(){unreachable("Not implemented")}}Qp=new WeakMap;var Ss,a0,Rn,Jp,em,_u,Tu,ku,tm,i1,DS,s1,LS,o1,NS,rm,B0,kw,m_,l0,z1,im,V0,Pu,wm;const $r=class $r extends AnnotationEditor{constructor(it){super(it);sr(this,i1);sr(this,s1);sr(this,o1);sr(this,rm);sr(this,kw);sr(this,l0);sr(this,im);sr(this,Pu);sr(this,Ss,null);sr(this,a0,void 0);Nr(this,"_colorPicker",null);Nr(this,"_drawId",null);ur(this,a0,it.mustBeCommitted||!1),this._addOutlines(it)}onUpdatedColor(){var it;(it=this._colorPicker)==null||it.update(this.color),super.onUpdatedColor()}_addOutlines(it){it.drawOutlines&&(vr(this,i1,DS).call(this,it),vr(this,rm,B0).call(this))}static _mergeSVGProperties(it,ot){const ut=new Set(Object.keys(it));for(const[ct,dt]of Object.entries(ot))ut.has(ct)?Object.assign(it[ct],dt):it[ct]=dt;return it}static getDefaultDrawingOptions(it){unreachable("Not implemented")}static get typesMap(){unreachable("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(it,ot){const ut=this.typesMap.get(it);ut&&this._defaultDrawingOptions.updateProperty(ut,ot),this._currentParent&&(Ft($r,Rn).updateProperty(ut,ot),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(it,ot){const ut=this.constructor.typesMap.get(it);ut&&this._updateProperty(it,ut,ot)}static get defaultPropertiesToUpdate(){const it=[],ot=this._defaultDrawingOptions;for(const[ut,ct]of this.typesMap)it.push([ut,ot[ct]]);return it}get propertiesToUpdate(){const it=[],{_drawingOptions:ot}=this;for(const[ut,ct]of this.constructor.typesMap)it.push([ut,ot[ct]]);return it}_updateProperty(it,ot,ut){const ct=this._drawingOptions,dt=ct[ot],ft=St=>{var kt;ct.updateProperty(ot,St);const Tt=Ft(this,Ss).updateProperty(ot,St);Tt&&vr(this,im,V0).call(this,Tt),(kt=this.parent)==null||kt.drawLayer.updateProperties(this._drawId,ct.toSVGProperties()),it===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:ft.bind(this,ut),undo:ft.bind(this,dt),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:it,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var it;(it=this.parent)==null||it.drawLayer.updateProperties(this._drawId,$r._mergeSVGProperties(Ft(this,Ss).getPathResizingSVGProperties(vr(this,l0,z1).call(this)),{bbox:vr(this,Pu,wm).call(this)}))}_onResized(){var it;(it=this.parent)==null||it.drawLayer.updateProperties(this._drawId,$r._mergeSVGProperties(Ft(this,Ss).getPathResizedSVGProperties(vr(this,l0,z1).call(this)),{bbox:vr(this,Pu,wm).call(this)}))}_onTranslating(it,ot){var ut;(ut=this.parent)==null||ut.drawLayer.updateProperties(this._drawId,{bbox:vr(this,Pu,wm).call(this)})}_onTranslated(){var it;(it=this.parent)==null||it.drawLayer.updateProperties(this._drawId,$r._mergeSVGProperties(Ft(this,Ss).getPathTranslatedSVGProperties(vr(this,l0,z1).call(this),this.parentDimensions),{bbox:vr(this,Pu,wm).call(this)}))}_onStartDragging(){var it;(it=this.parent)==null||it.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var it;(it=this.parent)==null||it.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(it){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,Ft(this,a0)&&(ur(this,a0,!1),this.commit(),this.parent.setSelected(this),it&&this.isOnScreen&&this.div.focus())}remove(){vr(this,o1,NS).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(vr(this,rm,B0).call(this),vr(this,im,V0).call(this,Ft(this,Ss).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(it){var ut;let ot=!1;this.parent&&!it?(this._uiManager.removeShouldRescale(this),vr(this,o1,NS).call(this)):it&&(this._uiManager.addShouldRescale(this),vr(this,rm,B0).call(this,it),ot=!this.parent&&((ut=this.div)==null?void 0:ut.classList.contains("selectedEditor"))),super.setParent(it),ot&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,$r._mergeSVGProperties({bbox:vr(this,Pu,wm).call(this)},Ft(this,Ss).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&vr(this,im,V0).call(this,Ft(this,Ss).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let it,ot;this._isCopy&&(it=this.x,ot=this.y);const ut=super.render();ut.classList.add("draw");const ct=document.createElement("div");return ut.append(ct),ct.setAttribute("aria-hidden","true"),ct.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(it,ot),ut}static createDrawerInstance(it,ot,ut,ct,dt){unreachable("Not implemented")}static startDrawing(it,ot,ut,ct){var Zt;const{target:dt,offsetX:ft,offsetY:St,pointerId:Tt,pointerType:kt}=ct;if(Ft($r,Tu)&&Ft($r,Tu)!==kt)return;const{viewport:{rotation:jt}}=it,{width:Rt,height:$t}=dt.getBoundingClientRect(),zt=ur($r,Jp,new AbortController),Ht=it.combinedSignal(zt);if(Ft($r,_u)||ur($r,_u,Tt),Ft($r,Tu)??ur($r,Tu,kt),window.addEventListener("pointerup",Bt=>{var Ut;Ft($r,_u)===Bt.pointerId?this._endDraw(Bt):(Ut=Ft($r,ku))==null||Ut.delete(Bt.pointerId)},{signal:Ht}),window.addEventListener("pointercancel",Bt=>{var Ut;Ft($r,_u)===Bt.pointerId?this._currentParent.endDrawingSession():(Ut=Ft($r,ku))==null||Ut.delete(Bt.pointerId)},{signal:Ht}),window.addEventListener("pointerdown",Bt=>{Ft($r,Tu)===Bt.pointerType&&((Ft($r,ku)||ur($r,ku,new Set)).add(Bt.pointerId),Ft($r,Rn).isCancellable()&&(Ft($r,Rn).removeLastElement(),Ft($r,Rn).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:Ht}),window.addEventListener("contextmenu",noContextMenu,{signal:Ht}),dt.addEventListener("pointermove",this._drawMove.bind(this),{signal:Ht}),dt.addEventListener("touchmove",Bt=>{Bt.timeStamp===Ft($r,tm)&&stopEvent(Bt)},{signal:Ht}),it.toggleDrawing(),(Zt=ot._editorUndoBar)==null||Zt.hide(),Ft($r,Rn)){it.drawLayer.updateProperties(this._currentDrawId,Ft($r,Rn).startNew(ft,St,Rt,$t,jt));return}ot.updateUIForDefaultProperties(this),ur($r,Rn,this.createDrawerInstance(ft,St,Rt,$t,jt)),ur($r,em,this.getDefaultDrawingOptions()),this._currentParent=it,{id:this._currentDrawId}=it.drawLayer.draw(this._mergeSVGProperties(Ft($r,em).toSVGProperties(),Ft($r,Rn).defaultSVGProperties),!0,!1)}static _drawMove(it){var dt;if(ur($r,tm,-1),!Ft($r,Rn))return;const{offsetX:ot,offsetY:ut,pointerId:ct}=it;if(Ft($r,_u)===ct){if(((dt=Ft($r,ku))==null?void 0:dt.size)>=1){this._endDraw(it);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,Ft($r,Rn).add(ot,ut)),ur($r,tm,it.timeStamp),stopEvent(it)}}static _cleanup(it){it&&(this._currentDrawId=-1,this._currentParent=null,ur($r,Rn,null),ur($r,em,null),ur($r,Tu,null),ur($r,tm,NaN)),Ft($r,Jp)&&(Ft($r,Jp).abort(),ur($r,Jp,null),ur($r,_u,NaN),ur($r,ku,null))}static _endDraw(it){const ot=this._currentParent;if(ot){if(ot.toggleDrawing(!0),this._cleanup(!1),(it==null?void 0:it.target)===ot.div&&ot.drawLayer.updateProperties(this._currentDrawId,Ft($r,Rn).end(it.offsetX,it.offsetY)),this.supportMultipleDrawings){const ut=Ft($r,Rn),ct=this._currentDrawId,dt=ut.getLastElement();ot.addCommands({cmd:()=>{ot.drawLayer.updateProperties(ct,ut.setLastElement(dt))},undo:()=>{ot.drawLayer.updateProperties(ct,ut.removeLastElement())},mustExec:!1,type:AnnotationEditorParamsType.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(it){const ot=this._currentParent;if(!ot)return null;if(ot.toggleDrawing(!0),ot.cleanUndoStack(AnnotationEditorParamsType.DRAW_STEP),!Ft($r,Rn).isEmpty()){const{pageDimensions:[ut,ct],scale:dt}=ot,ft=ot.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:Ft($r,Rn).getOutlines(ut*dt,ct*dt,dt,this._INNER_MARGIN),drawingOptions:Ft($r,em),mustBeCommitted:!it});return this._cleanup(!0),ft}return ot.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(it){}static deserializeDraw(it,ot,ut,ct,dt,ft){unreachable("Not implemented")}static async deserialize(it,ot,ut){var jt,Rt;const{rawDims:{pageWidth:ct,pageHeight:dt,pageX:ft,pageY:St}}=ot.viewport,Tt=this.deserializeDraw(ft,St,ct,dt,this._INNER_MARGIN,it),kt=await super.deserialize(it,ot,ut);return kt.createDrawingOptions(it),vr(jt=kt,i1,DS).call(jt,{drawOutlines:Tt}),vr(Rt=kt,rm,B0).call(Rt),kt.onScaleChanging(),kt.rotate(),kt}serializeDraw(it){const[ot,ut]=this.pageTranslation,[ct,dt]=this.pageDimensions;return Ft(this,Ss).serialize([ot,ut,ct,dt],it)}renderAnnotationElement(it){return it.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}};Ss=new WeakMap,a0=new WeakMap,Rn=new WeakMap,Jp=new WeakMap,em=new WeakMap,_u=new WeakMap,Tu=new WeakMap,ku=new WeakMap,tm=new WeakMap,i1=new WeakSet,DS=function({drawOutlines:it,drawId:ot,drawingOptions:ut}){ur(this,Ss,it),this._drawingOptions||(this._drawingOptions=ut),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),ot>=0?(this._drawId=ot,this.parent.drawLayer.finalizeDraw(ot,it.defaultProperties)):this._drawId=vr(this,s1,LS).call(this,it,this.parent),vr(this,im,V0).call(this,it.box)},s1=new WeakSet,LS=function(it,ot){const{id:ut}=ot.drawLayer.draw($r._mergeSVGProperties(this._drawingOptions.toSVGProperties(),it.defaultSVGProperties),!1,!1);return ut},o1=new WeakSet,NS=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},rm=new WeakSet,B0=function(it=this.parent){if(!(this._drawId!==null&&this.parent===it)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,it.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=vr(this,s1,LS).call(this,Ft(this,Ss),it)}},kw=new WeakSet,m_=function([it,ot,ut,ct]){const{parentDimensions:[dt,ft],rotation:St}=this;switch(St){case 90:return[ot,1-it,ut*(ft/dt),ct*(dt/ft)];case 180:return[1-it,1-ot,ut,ct];case 270:return[1-ot,it,ut*(ft/dt),ct*(dt/ft)];default:return[it,ot,ut,ct]}},l0=new WeakSet,z1=function(){const{x:it,y:ot,width:ut,height:ct,parentDimensions:[dt,ft],rotation:St}=this;switch(St){case 90:return[1-ot,it,ut*(dt/ft),ct*(ft/dt)];case 180:return[1-it,1-ot,ut,ct];case 270:return[ot,1-it,ut*(dt/ft),ct*(ft/dt)];default:return[it,ot,ut,ct]}},im=new WeakSet,V0=function(it){[this.x,this.y,this.width,this.height]=vr(this,kw,m_).call(this,it),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()},Pu=new WeakSet,wm=function(){const{x:it,y:ot,width:ut,height:ct,rotation:dt,parentRotation:ft,parentDimensions:[St,Tt]}=this;switch((dt*4+ft)/90){case 1:return[1-ot-ct,it,ct,ut];case 2:return[1-it-ut,1-ot-ct,ut,ct];case 3:return[ot,1-it-ut,ct,ut];case 4:return[it,ot-ut*(St/Tt),ct*(Tt/St),ut*(St/Tt)];case 5:return[1-ot,it,ut*(St/Tt),ct*(Tt/St)];case 6:return[1-it-ct*(Tt/St),1-ot,ct*(Tt/St),ut*(St/Tt)];case 7:return[ot-ut*(St/Tt),1-it-ct*(Tt/St),ut*(St/Tt),ct*(Tt/St)];case 8:return[it-ut,ot-ct,ut,ct];case 9:return[1-ot,it-ut,ct,ut];case 10:return[1-it,1-ot,ut,ct];case 11:return[ot-ct,1-it,ct,ut];case 12:return[it-ct*(Tt/St),ot,ct*(Tt/St),ut*(St/Tt)];case 13:return[1-ot-ut*(St/Tt),it-ct*(Tt/St),ut*(St/Tt),ct*(Tt/St)];case 14:return[1-it,1-ot-ut*(St/Tt),ct*(Tt/St),ut*(St/Tt)];case 15:return[ot,1-it,ut*(St/Tt),ct*(Tt/St)];default:return[it,ot,ut,ct]}},Nr($r,"_currentDrawId",-1),Nr($r,"_currentParent",null),sr($r,Rn,null),sr($r,Jp,null),sr($r,em,null),sr($r,_u,NaN),sr($r,Tu,null),sr($r,ku,null),sr($r,tm,NaN),Nr($r,"_INNER_MARGIN",3);let DrawingEditor=$r;var Po,Mn,jn,sm,u0,Zn,Bn,Os,om,am,lm,c0,G1;class InkDrawOutliner{constructor(g,it,ot,ut,ct,dt){sr(this,c0);sr(this,Po,new Float64Array(6));sr(this,Mn,void 0);sr(this,jn,void 0);sr(this,sm,void 0);sr(this,u0,void 0);sr(this,Zn,void 0);sr(this,Bn,"");sr(this,Os,0);sr(this,om,new InkDrawOutline);sr(this,am,void 0);sr(this,lm,void 0);ur(this,am,ot),ur(this,lm,ut),ur(this,sm,ct),ur(this,u0,dt),[g,it]=vr(this,c0,G1).call(this,g,it);const ft=ur(this,Mn,[NaN,NaN,NaN,NaN,g,it]);ur(this,Zn,[g,it]),ur(this,jn,[{line:ft,points:Ft(this,Zn)}]),Ft(this,Po).set(ft,0)}updateProperty(g,it){g==="stroke-width"&&ur(this,u0,it)}isEmpty(){return!Ft(this,jn)||Ft(this,jn).length===0}isCancellable(){return Ft(this,Zn).length<=10}add(g,it){[g,it]=vr(this,c0,G1).call(this,g,it);const[ot,ut,ct,dt]=Ft(this,Po).subarray(2,6),ft=g-ct,St=it-dt;return Math.hypot(Ft(this,am)*ft,Ft(this,lm)*St)<=2?null:(Ft(this,Zn).push(g,it),isNaN(ot)?(Ft(this,Po).set([ct,dt,g,it],2),Ft(this,Mn).push(NaN,NaN,NaN,NaN,g,it),{path:{d:this.toSVGPath()}}):(isNaN(Ft(this,Po)[0])&&Ft(this,Mn).splice(6,6),Ft(this,Po).set([ot,ut,ct,dt,g,it],0),Ft(this,Mn).push(...Outline.createBezierPoints(ot,ut,ct,dt,g,it)),{path:{d:this.toSVGPath()}}))}end(g,it){const ot=this.add(g,it);return ot||(Ft(this,Zn).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(g,it,ot,ut,ct){ur(this,am,ot),ur(this,lm,ut),ur(this,sm,ct),[g,it]=vr(this,c0,G1).call(this,g,it);const dt=ur(this,Mn,[NaN,NaN,NaN,NaN,g,it]);ur(this,Zn,[g,it]);const ft=Ft(this,jn).at(-1);return ft&&(ft.line=new Float32Array(ft.line),ft.points=new Float32Array(ft.points)),Ft(this,jn).push({line:dt,points:Ft(this,Zn)}),Ft(this,Po).set(dt,0),ur(this,Os,0),this.toSVGPath(),null}getLastElement(){return Ft(this,jn).at(-1)}setLastElement(g){return Ft(this,jn)?(Ft(this,jn).push(g),ur(this,Mn,g.line),ur(this,Zn,g.points),ur(this,Os,0),{path:{d:this.toSVGPath()}}):Ft(this,om).setLastElement(g)}removeLastElement(){if(!Ft(this,jn))return Ft(this,om).removeLastElement();Ft(this,jn).pop(),ur(this,Bn,"");for(let g=0,it=Ft(this,jn).length;g<it;g++){const{line:ot,points:ut}=Ft(this,jn)[g];ur(this,Mn,ot),ur(this,Zn,ut),ur(this,Os,0),this.toSVGPath()}return{path:{d:Ft(this,Bn)}}}toSVGPath(){const g=Outline.svgRound(Ft(this,Mn)[4]),it=Outline.svgRound(Ft(this,Mn)[5]);if(Ft(this,Zn).length===2)return ur(this,Bn,`${Ft(this,Bn)} M ${g} ${it} Z`),Ft(this,Bn);if(Ft(this,Zn).length<=6){const ut=Ft(this,Bn).lastIndexOf("M");ur(this,Bn,`${Ft(this,Bn).slice(0,ut)} M ${g} ${it}`),ur(this,Os,6)}if(Ft(this,Zn).length===4){const ut=Outline.svgRound(Ft(this,Mn)[10]),ct=Outline.svgRound(Ft(this,Mn)[11]);return ur(this,Bn,`${Ft(this,Bn)} L ${ut} ${ct}`),ur(this,Os,12),Ft(this,Bn)}const ot=[];Ft(this,Os)===0&&(ot.push(`M ${g} ${it}`),ur(this,Os,6));for(let ut=Ft(this,Os),ct=Ft(this,Mn).length;ut<ct;ut+=6){const[dt,ft,St,Tt,kt,jt]=Ft(this,Mn).slice(ut,ut+6).map(Outline.svgRound);ot.push(`C${dt} ${ft} ${St} ${Tt} ${kt} ${jt}`)}return ur(this,Bn,Ft(this,Bn)+ot.join(" ")),ur(this,Os,Ft(this,Mn).length),Ft(this,Bn)}getOutlines(g,it,ot,ut){const ct=Ft(this,jn).at(-1);return ct.line=new Float32Array(ct.line),ct.points=new Float32Array(ct.points),Ft(this,om).build(Ft(this,jn),g,it,ot,Ft(this,sm),Ft(this,u0),ut),ur(this,Po,null),ur(this,Mn,null),ur(this,jn,null),ur(this,Bn,null),Ft(this,om)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}Po=new WeakMap,Mn=new WeakMap,jn=new WeakMap,sm=new WeakMap,u0=new WeakMap,Zn=new WeakMap,Bn=new WeakMap,Os=new WeakMap,om=new WeakMap,am=new WeakMap,lm=new WeakMap,c0=new WeakSet,G1=function(g,it){return Outline._normalizePoint(g,it,Ft(this,am),Ft(this,lm),Ft(this,sm))};var Qn,a1,l1,As,Co,Ro,h0,d0,um,Ys,Lo,Pw,g_,Cw,y_,Rw,v_;class InkDrawOutline extends Outline{constructor(){super(...arguments);sr(this,Ys);sr(this,Pw);sr(this,Cw);sr(this,Rw);sr(this,Qn,void 0);sr(this,a1,0);sr(this,l1,void 0);sr(this,As,void 0);sr(this,Co,void 0);sr(this,Ro,void 0);sr(this,h0,void 0);sr(this,d0,void 0);sr(this,um,void 0)}build(it,ot,ut,ct,dt,ft,St){ur(this,Co,ot),ur(this,Ro,ut),ur(this,h0,ct),ur(this,d0,dt),ur(this,um,ft),ur(this,l1,St??0),ur(this,As,it),vr(this,Cw,y_).call(this)}get thickness(){return Ft(this,um)}setLastElement(it){return Ft(this,As).push(it),{path:{d:this.toSVGPath()}}}removeLastElement(){return Ft(this,As).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const it=[];for(const{line:ot}of Ft(this,As)){if(it.push(`M${Outline.svgRound(ot[4])} ${Outline.svgRound(ot[5])}`),ot.length===6){it.push("Z");continue}if(ot.length===12&&isNaN(ot[6])){it.push(`L${Outline.svgRound(ot[10])} ${Outline.svgRound(ot[11])}`);continue}for(let ut=6,ct=ot.length;ut<ct;ut+=6){const[dt,ft,St,Tt,kt,jt]=ot.subarray(ut,ut+6).map(Outline.svgRound);it.push(`C${dt} ${ft} ${St} ${Tt} ${kt} ${jt}`)}}return it.join("")}serialize([it,ot,ut,ct],dt){const ft=[],St=[],[Tt,kt,jt,Rt]=vr(this,Pw,g_).call(this);let $t,zt,Ht,Zt,Bt,Ut,Kt,Yt,Jt;switch(Ft(this,d0)){case 0:Jt=Outline._rescale,$t=it,zt=ot+ct,Ht=ut,Zt=-ct,Bt=it+Tt*ut,Ut=ot+(1-kt-Rt)*ct,Kt=it+(Tt+jt)*ut,Yt=ot+(1-kt)*ct;break;case 90:Jt=Outline._rescaleAndSwap,$t=it,zt=ot,Ht=ut,Zt=ct,Bt=it+kt*ut,Ut=ot+Tt*ct,Kt=it+(kt+Rt)*ut,Yt=ot+(Tt+jt)*ct;break;case 180:Jt=Outline._rescale,$t=it+ut,zt=ot,Ht=-ut,Zt=ct,Bt=it+(1-Tt-jt)*ut,Ut=ot+kt*ct,Kt=it+(1-Tt)*ut,Yt=ot+(kt+Rt)*ct;break;case 270:Jt=Outline._rescaleAndSwap,$t=it+ut,zt=ot+ct,Ht=-ut,Zt=-ct,Bt=it+(1-kt-Rt)*ut,Ut=ot+(1-Tt-jt)*ct,Kt=it+(1-kt)*ut,Yt=ot+(1-Tt)*ct;break}for(const{line:er,points:tr}of Ft(this,As))ft.push(Jt(er,$t,zt,Ht,Zt,dt?new Array(er.length):null)),St.push(Jt(tr,$t,zt,Ht,Zt,dt?new Array(tr.length):null));return{lines:ft,points:St,rect:[Bt,Ut,Kt,Yt]}}static deserialize(it,ot,ut,ct,dt,{paths:{lines:ft,points:St},rotation:Tt,thickness:kt}){const jt=[];let Rt,$t,zt,Ht,Zt;switch(Tt){case 0:Zt=Outline._rescale,Rt=-it/ut,$t=ot/ct+1,zt=1/ut,Ht=-1/ct;break;case 90:Zt=Outline._rescaleAndSwap,Rt=-ot/ct,$t=-it/ut,zt=1/ct,Ht=1/ut;break;case 180:Zt=Outline._rescale,Rt=it/ut+1,$t=-ot/ct,zt=-1/ut,Ht=1/ct;break;case 270:Zt=Outline._rescaleAndSwap,Rt=ot/ct+1,$t=it/ut+1,zt=-1/ct,Ht=-1/ut;break}if(!ft){ft=[];for(const Ut of St){const Kt=Ut.length;if(Kt===2){ft.push(new Float32Array([NaN,NaN,NaN,NaN,Ut[0],Ut[1]]));continue}if(Kt===4){ft.push(new Float32Array([NaN,NaN,NaN,NaN,Ut[0],Ut[1],NaN,NaN,NaN,NaN,Ut[2],Ut[3]]));continue}const Yt=new Float32Array(3*(Kt-2));ft.push(Yt);let[Jt,er,tr,rr]=Ut.subarray(0,4);Yt.set([NaN,NaN,NaN,NaN,Jt,er],0);for(let hr=4;hr<Kt;hr+=2){const ar=Ut[hr],or=Ut[hr+1];Yt.set(Outline.createBezierPoints(Jt,er,tr,rr,ar,or),(hr-2)*3),[Jt,er,tr,rr]=[tr,rr,ar,or]}}}for(let Ut=0,Kt=ft.length;Ut<Kt;Ut++)jt.push({line:Zt(ft[Ut].map(Yt=>Yt??NaN),Rt,$t,zt,Ht),points:Zt(St[Ut].map(Yt=>Yt??NaN),Rt,$t,zt,Ht)});const Bt=new this.prototype.constructor;return Bt.build(jt,ut,ct,1,Tt,kt,dt),Bt}get box(){return Ft(this,Qn)}updateProperty(it,ot){return it==="stroke-width"?vr(this,Rw,v_).call(this,ot):null}updateParentDimensions([it,ot],ut){const[ct,dt]=vr(this,Ys,Lo).call(this);ur(this,Co,it),ur(this,Ro,ot),ur(this,h0,ut);const[ft,St]=vr(this,Ys,Lo).call(this),Tt=ft-ct,kt=St-dt,jt=Ft(this,Qn);return jt[0]-=Tt,jt[1]-=kt,jt[2]+=2*Tt,jt[3]+=2*kt,jt}updateRotation(it){return ur(this,a1,it),{path:{transform:this.rotationTransform}}}get viewBox(){return Ft(this,Qn).map(Outline.svgRound).join(" ")}get defaultProperties(){const[it,ot]=Ft(this,Qn);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Outline.svgRound(it)} ${Outline.svgRound(ot)}`}}}get rotationTransform(){const[,,it,ot]=Ft(this,Qn);let ut=0,ct=0,dt=0,ft=0,St=0,Tt=0;switch(Ft(this,a1)){case 90:ct=ot/it,dt=-it/ot,St=it;break;case 180:ut=-1,ft=-1,St=it,Tt=ot;break;case 270:ct=-ot/it,dt=it/ot,Tt=ot;break;default:return""}return`matrix(${ut} ${ct} ${dt} ${ft} ${Outline.svgRound(St)} ${Outline.svgRound(Tt)})`}getPathResizingSVGProperties([it,ot,ut,ct]){const[dt,ft]=vr(this,Ys,Lo).call(this),[St,Tt,kt,jt]=Ft(this,Qn);if(Math.abs(kt-dt)<=Outline.PRECISION||Math.abs(jt-ft)<=Outline.PRECISION){const Zt=it+ut/2-(St+kt/2),Bt=ot+ct/2-(Tt+jt/2);return{path:{"transform-origin":`${Outline.svgRound(it)} ${Outline.svgRound(ot)}`,transform:`${this.rotationTransform} translate(${Zt} ${Bt})`}}}const Rt=(ut-2*dt)/(kt-2*dt),$t=(ct-2*ft)/(jt-2*ft),zt=kt/ut,Ht=jt/ct;return{path:{"transform-origin":`${Outline.svgRound(St)} ${Outline.svgRound(Tt)}`,transform:`${this.rotationTransform} scale(${zt} ${Ht}) translate(${Outline.svgRound(dt)} ${Outline.svgRound(ft)}) scale(${Rt} ${$t}) translate(${Outline.svgRound(-dt)} ${Outline.svgRound(-ft)})`}}}getPathResizedSVGProperties([it,ot,ut,ct]){const[dt,ft]=vr(this,Ys,Lo).call(this),St=Ft(this,Qn),[Tt,kt,jt,Rt]=St;if(St[0]=it,St[1]=ot,St[2]=ut,St[3]=ct,Math.abs(jt-dt)<=Outline.PRECISION||Math.abs(Rt-ft)<=Outline.PRECISION){const Bt=it+ut/2-(Tt+jt/2),Ut=ot+ct/2-(kt+Rt/2);for(const{line:Kt,points:Yt}of Ft(this,As))Outline._translate(Kt,Bt,Ut,Kt),Outline._translate(Yt,Bt,Ut,Yt);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Outline.svgRound(it)} ${Outline.svgRound(ot)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const $t=(ut-2*dt)/(jt-2*dt),zt=(ct-2*ft)/(Rt-2*ft),Ht=-$t*(Tt+dt)+it+dt,Zt=-zt*(kt+ft)+ot+ft;if($t!==1||zt!==1||Ht!==0||Zt!==0)for(const{line:Bt,points:Ut}of Ft(this,As))Outline._rescale(Bt,Ht,Zt,$t,zt,Bt),Outline._rescale(Ut,Ht,Zt,$t,zt,Ut);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Outline.svgRound(it)} ${Outline.svgRound(ot)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([it,ot],ut){const[ct,dt]=ut,ft=Ft(this,Qn),St=it-ft[0],Tt=ot-ft[1];if(Ft(this,Co)===ct&&Ft(this,Ro)===dt)for(const{line:kt,points:jt}of Ft(this,As))Outline._translate(kt,St,Tt,kt),Outline._translate(jt,St,Tt,jt);else{const kt=Ft(this,Co)/ct,jt=Ft(this,Ro)/dt;ur(this,Co,ct),ur(this,Ro,dt);for(const{line:Rt,points:$t}of Ft(this,As))Outline._rescale(Rt,St,Tt,kt,jt,Rt),Outline._rescale($t,St,Tt,kt,jt,$t);ft[2]*=kt,ft[3]*=jt}return ft[0]=it,ft[1]=ot,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${Outline.svgRound(it)} ${Outline.svgRound(ot)}`}}}get defaultSVGProperties(){const it=Ft(this,Qn);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${Outline.svgRound(it[0])} ${Outline.svgRound(it[1])}`,transform:this.rotationTransform||null},bbox:it}}}Qn=new WeakMap,a1=new WeakMap,l1=new WeakMap,As=new WeakMap,Co=new WeakMap,Ro=new WeakMap,h0=new WeakMap,d0=new WeakMap,um=new WeakMap,Ys=new WeakSet,Lo=function(it=Ft(this,um)){const ot=Ft(this,l1)+it/2*Ft(this,h0);return Ft(this,d0)%180===0?[ot/Ft(this,Co),ot/Ft(this,Ro)]:[ot/Ft(this,Ro),ot/Ft(this,Co)]},Pw=new WeakSet,g_=function(){const[it,ot,ut,ct]=Ft(this,Qn),[dt,ft]=vr(this,Ys,Lo).call(this,0);return[it+dt,ot+ft,ut-2*dt,ct-2*ft]},Cw=new WeakSet,y_=function(){const it=ur(this,Qn,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:ct}of Ft(this,As)){if(ct.length<=12){for(let St=4,Tt=ct.length;St<Tt;St+=6)Util.pointBoundingBox(ct[St],ct[St+1],it);continue}let dt=ct[4],ft=ct[5];for(let St=6,Tt=ct.length;St<Tt;St+=6){const[kt,jt,Rt,$t,zt,Ht]=ct.subarray(St,St+6);Util.bezierBoundingBox(dt,ft,kt,jt,Rt,$t,zt,Ht,it),dt=zt,ft=Ht}}const[ot,ut]=vr(this,Ys,Lo).call(this);it[0]=MathClamp(it[0]-ot,0,1),it[1]=MathClamp(it[1]-ut,0,1),it[2]=MathClamp(it[2]+ot,0,1),it[3]=MathClamp(it[3]+ut,0,1),it[2]-=it[0],it[3]-=it[1]},Rw=new WeakSet,v_=function(it){const[ot,ut]=vr(this,Ys,Lo).call(this);ur(this,um,it);const[ct,dt]=vr(this,Ys,Lo).call(this),[ft,St]=[ct-ot,dt-ut],Tt=Ft(this,Qn);return Tt[0]-=ft,Tt[1]-=St,Tt[2]+=2*ft,Tt[3]+=2*St,Tt};class InkDrawingOptions extends DrawingOptions{constructor(g){super(),this._viewParameters=g,super.updateProperties({fill:"none",stroke:AnnotationEditor._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(g,it){g==="stroke-width"&&(it??(it=this["stroke-width"]),it*=this._viewParameters.realScale),super.updateSVGProperty(g,it)}clone(){const g=new InkDrawingOptions(this._viewParameters);return g.updateAll(this),g}}var Mw,x_;const Tm=class Tm extends DrawingEditor{constructor(it){super({...it,name:"inkEditor"});sr(this,Mw);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(it,ot){AnnotationEditor.initialize(it,ot),this._defaultDrawingOptions=new InkDrawingOptions(ot.viewParameters)}static getDefaultDrawingOptions(it){const ot=this._defaultDrawingOptions.clone();return ot.updateProperties(it),ot}static get supportMultipleDrawings(){return!0}static get typesMap(){return shadow(this,"typesMap",new Map([[AnnotationEditorParamsType.INK_THICKNESS,"stroke-width"],[AnnotationEditorParamsType.INK_COLOR,"stroke"],[AnnotationEditorParamsType.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(it,ot,ut,ct,dt){return new InkDrawOutliner(it,ot,ut,ct,dt,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(it,ot,ut,ct,dt,ft){return InkDrawOutline.deserialize(it,ot,ut,ct,dt,ft)}static async deserialize(it,ot,ut){let ct=null;if(it instanceof InkAnnotationElement){const{data:{inkLists:ft,rect:St,rotation:Tt,id:kt,color:jt,opacity:Rt,borderStyle:{rawWidth:$t},popupRef:zt,richText:Ht,contentsObj:Zt,creationDate:Bt,modificationDate:Ut},parent:{page:{pageNumber:Kt}}}=it;ct=it={annotationType:AnnotationEditorType.INK,color:Array.from(jt),thickness:$t,opacity:Rt,paths:{points:ft},boxes:null,pageIndex:Kt-1,rect:St.slice(0),rotation:Tt,annotationElementId:kt,id:kt,deleted:!1,popupRef:zt,richText:Ht,comment:(Zt==null?void 0:Zt.str)||null,creationDate:Bt,modificationDate:Ut}}const dt=await super.deserialize(it,ot,ut);return dt._initialData=ct,it.comment&&dt.setCommentData(it),dt}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new BasicColorPicker(this)),[["colorPicker",this._colorPicker]]}get colorType(){return AnnotationEditorParamsType.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:it,_drawingOptions:ot,parent:ut}=this;ot.updateSVGProperty("stroke-width"),ut.drawLayer.updateProperties(it,ot.toSVGProperties())}static onScaleChangingWhenDrawing(){const it=this._currentParent;it&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),it.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:it,thickness:ot,opacity:ut}){this._drawingOptions=Tm.getDefaultDrawingOptions({stroke:Util.makeHexColor(...it),"stroke-width":ot,"stroke-opacity":ut})}serialize(it=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:ot,points:ut}=this.serializeDraw(it),{_drawingOptions:{stroke:ct,"stroke-opacity":dt,"stroke-width":ft}}=this,St=Object.assign(super.serialize(it),{color:AnnotationEditor._colorManager.convert(ct),opacity:dt,thickness:ft,paths:{lines:ot,points:ut}});return this.addComment(St),it?(St.isCopy=!0,St):this.annotationElementId&&!vr(this,Mw,x_).call(this,St)?null:(St.id=this.annotationElementId,St)}renderAnnotationElement(it){if(this.deleted)return it.hide(),null;const{points:ot,rect:ut}=this.serializeDraw(!1);return it.updateEdited({rect:ut,thickness:this._drawingOptions["stroke-width"],points:ot,popup:this.comment}),null}};Mw=new WeakSet,x_=function(it){const{color:ot,thickness:ut,opacity:ct,pageIndex:dt}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||it.color.some((ft,St)=>ft!==ot[St])||it.thickness!==ut||it.opacity!==ct||it.pageIndex!==dt},Nr(Tm,"_type","ink"),Nr(Tm,"_editorType",AnnotationEditorType.INK),Nr(Tm,"_defaultDrawingOptions",null);let InkEditor=Tm;class ContourDrawOutline extends InkDrawOutline{toSVGPath(){let g=super.toSVGPath();return g.endsWith("Z")||(g+="Z"),g}}const BASE_HEADER_LENGTH=8,POINTS_PROPERTIES_NUMBER=3;var cm,u1,OS,Zs,jw,b_,Dw,E_,c1,IS,f0,q1,Lw,w_,Nw,S_,Ow,A_,h1,FS,d1,$S,Iw,__;class SignatureExtractor{static extractContoursFromText(g,{fontFamily:it,fontStyle:ot,fontWeight:ut},ct,dt,ft,St){let Tt=new OffscreenCanvas(1,1),kt=Tt.getContext("2d",{alpha:!1});const jt=200,Rt=kt.font=`${ot} ${ut} ${jt}px ${it}`,{actualBoundingBoxLeft:$t,actualBoundingBoxRight:zt,actualBoundingBoxAscent:Ht,actualBoundingBoxDescent:Zt,fontBoundingBoxAscent:Bt,fontBoundingBoxDescent:Ut,width:Kt}=kt.measureText(g),Yt=1.5,Jt=Math.ceil(Math.max(Math.abs($t)+Math.abs(zt)||0,Kt)*Yt),er=Math.ceil(Math.max(Math.abs(Ht)+Math.abs(Zt)||jt,Math.abs(Bt)+Math.abs(Ut)||jt)*Yt);Tt=new OffscreenCanvas(Jt,er),kt=Tt.getContext("2d",{alpha:!0,willReadFrequently:!0}),kt.font=Rt,kt.filter="grayscale(1)",kt.fillStyle="white",kt.fillRect(0,0,Jt,er),kt.fillStyle="black",kt.fillText(g,Jt*(Yt-1)/2,er*(3-Yt)/2);const tr=vr(this,h1,FS).call(this,kt.getImageData(0,0,Jt,er).data),rr=vr(this,Ow,A_).call(this,tr),hr=vr(this,d1,$S).call(this,rr),ar=vr(this,c1,IS).call(this,tr,Jt,er,hr);return this.processDrawnLines({lines:{curves:ar,width:Jt,height:er},pageWidth:ct,pageHeight:dt,rotation:ft,innerMargin:St,mustSmooth:!0,areContours:!0})}static process(g,it,ot,ut,ct){const[dt,ft,St]=vr(this,Iw,__).call(this,g),[Tt,kt]=vr(this,Nw,S_).call(this,dt,ft,St,Math.hypot(ft,St)*Ft(this,cm).sigmaSFactor,Ft(this,cm).sigmaR,Ft(this,cm).kernelSize),jt=vr(this,d1,$S).call(this,kt),Rt=vr(this,c1,IS).call(this,Tt,ft,St,jt);return this.processDrawnLines({lines:{curves:Rt,width:ft,height:St},pageWidth:it,pageHeight:ot,rotation:ut,innerMargin:ct,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:g,pageWidth:it,pageHeight:ot,rotation:ut,innerMargin:ct,mustSmooth:dt,areContours:ft}){ut%180!==0&&([it,ot]=[ot,it]);const{curves:St,width:Tt,height:kt}=g,jt=g.thickness??0,Rt=[],$t=Math.min(it/Tt,ot/kt),zt=$t/it,Ht=$t/ot,Zt=[];for(const{points:Ut}of St){const Kt=dt?vr(this,Lw,w_).call(this,Ut):Ut;if(!Kt)continue;Zt.push(Kt);const Yt=Kt.length,Jt=new Float32Array(Yt),er=new Float32Array(3*(Yt===2?2:Yt-2));if(Rt.push({line:er,points:Jt}),Yt===2){Jt[0]=Kt[0]*zt,Jt[1]=Kt[1]*Ht,er.set([NaN,NaN,NaN,NaN,Jt[0],Jt[1]],0);continue}let[tr,rr,hr,ar]=Kt;tr*=zt,rr*=Ht,hr*=zt,ar*=Ht,Jt.set([tr,rr,hr,ar],0),er.set([NaN,NaN,NaN,NaN,tr,rr],0);for(let or=4;or<Yt;or+=2){const cr=Jt[or]=Kt[or]*zt,gr=Jt[or+1]=Kt[or+1]*Ht;er.set(Outline.createBezierPoints(tr,rr,hr,ar,cr,gr),(or-2)*3),[tr,rr,hr,ar]=[hr,ar,cr,gr]}}if(Rt.length===0)return null;const Bt=ft?new ContourDrawOutline:new InkDrawOutline;return Bt.build(Rt,it,ot,1,ut,ft?0:jt,ct),{outline:Bt,newCurves:Zt,areContours:ft,thickness:jt,width:Tt,height:kt}}static async compressSignature({outlines:g,areContours:it,thickness:ot,width:ut,height:ct}){let dt=1/0,ft=-1/0,St=0;for(const Kt of g){St+=Kt.length;for(let Yt=2,Jt=Kt.length;Yt<Jt;Yt++){const er=Kt[Yt]-Kt[Yt-2];dt=Math.min(dt,er),ft=Math.max(ft,er)}}let Tt;dt>=-128&&ft<=127?Tt=Int8Array:dt>=-32768&&ft<=32767?Tt=Int16Array:Tt=Int32Array;const kt=g.length,jt=BASE_HEADER_LENGTH+POINTS_PROPERTIES_NUMBER*kt,Rt=new Uint32Array(jt);let $t=0;Rt[$t++]=jt*Uint32Array.BYTES_PER_ELEMENT+(St-2*kt)*Tt.BYTES_PER_ELEMENT,Rt[$t++]=0,Rt[$t++]=ut,Rt[$t++]=ct,Rt[$t++]=it?0:1,Rt[$t++]=Math.max(0,Math.floor(ot??0)),Rt[$t++]=kt,Rt[$t++]=Tt.BYTES_PER_ELEMENT;for(const Kt of g)Rt[$t++]=Kt.length-2,Rt[$t++]=Kt[0],Rt[$t++]=Kt[1];const zt=new CompressionStream("deflate-raw"),Ht=zt.writable.getWriter();await Ht.ready,Ht.write(Rt);const Zt=Tt.prototype.constructor;for(const Kt of g){const Yt=new Zt(Kt.length-2);for(let Jt=2,er=Kt.length;Jt<er;Jt++)Yt[Jt-2]=Kt[Jt]-Kt[Jt-2];Ht.write(Yt)}Ht.close();const Bt=await new Response(zt.readable).arrayBuffer(),Ut=new Uint8Array(Bt);return toBase64Util(Ut)}static async decompressSignature(g){try{const it=fromBase64Util(g),{readable:ot,writable:ut}=new DecompressionStream("deflate-raw"),ct=ut.getWriter();await ct.ready,ct.write(it).then(async()=>{await ct.ready,await ct.close()}).catch(()=>{});let dt=null,ft=0;for await(const Kt of ot)dt||(dt=new Uint8Array(new Uint32Array(Kt.buffer,0,4)[0])),dt.set(Kt,ft),ft+=Kt.length;const St=new Uint32Array(dt.buffer,0,dt.length>>2),Tt=St[1];if(Tt!==0)throw new Error(`Invalid version: ${Tt}`);const kt=St[2],jt=St[3],Rt=St[4]===0,$t=St[5],zt=St[6],Ht=St[7],Zt=[],Bt=(BASE_HEADER_LENGTH+POINTS_PROPERTIES_NUMBER*zt)*Uint32Array.BYTES_PER_ELEMENT;let Ut;switch(Ht){case Int8Array.BYTES_PER_ELEMENT:Ut=new Int8Array(dt.buffer,Bt);break;case Int16Array.BYTES_PER_ELEMENT:Ut=new Int16Array(dt.buffer,Bt);break;case Int32Array.BYTES_PER_ELEMENT:Ut=new Int32Array(dt.buffer,Bt);break}ft=0;for(let Kt=0;Kt<zt;Kt++){const Yt=St[POINTS_PROPERTIES_NUMBER*Kt+BASE_HEADER_LENGTH],Jt=new Float32Array(Yt+2);Zt.push(Jt);for(let er=0;er<POINTS_PROPERTIES_NUMBER-1;er++)Jt[er]=St[POINTS_PROPERTIES_NUMBER*Kt+BASE_HEADER_LENGTH+er+1];for(let er=0;er<Yt;er++)Jt[er+2]=Jt[er]+Ut[ft++]}return{areContours:Rt,thickness:$t,outlines:Zt,width:kt,height:jt}}catch(it){return warn(`decompressSignature: ${it}`),null}}}cm=new WeakMap,u1=new WeakSet,OS=function(g,it,ot,ut){return ot-=g,ut-=it,ot===0?ut>0?0:4:ot===1?ut+6:2-ut},Zs=new WeakMap,jw=new WeakSet,b_=function(g,it,ot,ut,ct,dt,ft){const St=vr(this,u1,OS).call(this,ot,ut,ct,dt);for(let Tt=0;Tt<8;Tt++){const kt=(-Tt+St-ft+16)%8,jt=Ft(this,Zs)[2*kt],Rt=Ft(this,Zs)[2*kt+1];if(g[(ot+jt)*it+(ut+Rt)]!==0)return kt}return-1},Dw=new WeakSet,E_=function(g,it,ot,ut,ct,dt,ft){const St=vr(this,u1,OS).call(this,ot,ut,ct,dt);for(let Tt=0;Tt<8;Tt++){const kt=(Tt+St+ft+16)%8,jt=Ft(this,Zs)[2*kt],Rt=Ft(this,Zs)[2*kt+1];if(g[(ot+jt)*it+(ut+Rt)]!==0)return kt}return-1},c1=new WeakSet,IS=function(g,it,ot,ut){const ct=g.length,dt=new Int32Array(ct);for(let kt=0;kt<ct;kt++)dt[kt]=g[kt]<=ut?1:0;for(let kt=1;kt<ot-1;kt++)dt[kt*it]=dt[kt*it+it-1]=0;for(let kt=0;kt<it;kt++)dt[kt]=dt[it*ot-1-kt]=0;let ft=1,St;const Tt=[];for(let kt=1;kt<ot-1;kt++){St=1;for(let jt=1;jt<it-1;jt++){const Rt=kt*it+jt,$t=dt[Rt];if($t===0)continue;let zt=kt,Ht=jt;if($t===1&&dt[Rt-1]===0)ft+=1,Ht-=1;else if($t>=1&&dt[Rt+1]===0)ft+=1,Ht+=1,$t>1&&(St=$t);else{$t!==1&&(St=Math.abs($t));continue}const Zt=[jt,kt],Bt=Ht===jt+1,Ut={isHole:Bt,points:Zt,id:ft,parent:0};Tt.push(Ut);let Kt;for(const or of Tt)if(or.id===St){Kt=or;break}Kt?Kt.isHole?Ut.parent=Bt?Kt.parent:St:Ut.parent=Bt?St:Kt.parent:Ut.parent=Bt?St:0;const Yt=vr(this,jw,b_).call(this,dt,it,kt,jt,zt,Ht,0);if(Yt===-1){dt[Rt]=-ft,dt[Rt]!==1&&(St=Math.abs(dt[Rt]));continue}let Jt=Ft(this,Zs)[2*Yt],er=Ft(this,Zs)[2*Yt+1];const tr=kt+Jt,rr=jt+er;zt=tr,Ht=rr;let hr=kt,ar=jt;for(;;){const or=vr(this,Dw,E_).call(this,dt,it,hr,ar,zt,Ht,1);Jt=Ft(this,Zs)[2*or],er=Ft(this,Zs)[2*or+1];const cr=hr+Jt,gr=ar+er;Zt.push(gr,cr);const yr=hr*it+ar;if(dt[yr+1]===0?dt[yr]=-ft:dt[yr]===1&&(dt[yr]=ft),cr===kt&&gr===jt&&hr===tr&&ar===rr){dt[Rt]!==1&&(St=Math.abs(dt[Rt]));break}else zt=hr,Ht=ar,hr=cr,ar=gr}}}return Tt},f0=new WeakSet,q1=function(g,it,ot,ut){if(ot-it<=4){for(let tr=it;tr<ot-2;tr+=2)ut.push(g[tr],g[tr+1]);return}const ct=g[it],dt=g[it+1],ft=g[ot-4]-ct,St=g[ot-3]-dt,Tt=Math.hypot(ft,St),kt=ft/Tt,jt=St/Tt,Rt=kt*dt-jt*ct,$t=St/ft,zt=1/Tt,Ht=Math.atan($t),Zt=Math.cos(Ht),Bt=Math.sin(Ht),Ut=zt*(Math.abs(Zt)+Math.abs(Bt)),Kt=zt*(1-Ut+Ut**2),Yt=Math.max(Math.atan(Math.abs(Bt+Zt)*Kt),Math.atan(Math.abs(Bt-Zt)*Kt));let Jt=0,er=it;for(let tr=it+2;tr<ot-2;tr+=2){const rr=Math.abs(Rt-kt*g[tr+1]+jt*g[tr]);rr>Jt&&(er=tr,Jt=rr)}Jt>(Tt*Yt)**2?(vr(this,f0,q1).call(this,g,it,er+2,ut),vr(this,f0,q1).call(this,g,er,ot,ut)):ut.push(ct,dt)},Lw=new WeakSet,w_=function(g){const it=[],ot=g.length;return vr(this,f0,q1).call(this,g,0,ot,it),it.push(g[ot-2],g[ot-1]),it.length<=4?null:it},Nw=new WeakSet,S_=function(g,it,ot,ut,ct,dt){const ft=new Float32Array(dt**2),St=-2*ut**2,Tt=dt>>1;for(let Ht=0;Ht<dt;Ht++){const Zt=(Ht-Tt)**2;for(let Bt=0;Bt<dt;Bt++)ft[Ht*dt+Bt]=Math.exp((Zt+(Bt-Tt)**2)/St)}const kt=new Float32Array(256),jt=-2*ct**2;for(let Ht=0;Ht<256;Ht++)kt[Ht]=Math.exp(Ht**2/jt);const Rt=g.length,$t=new Uint8Array(Rt),zt=new Uint32Array(256);for(let Ht=0;Ht<ot;Ht++)for(let Zt=0;Zt<it;Zt++){const Bt=Ht*it+Zt,Ut=g[Bt];let Kt=0,Yt=0;for(let er=0;er<dt;er++){const tr=Ht+er-Tt;if(!(tr<0||tr>=ot))for(let rr=0;rr<dt;rr++){const hr=Zt+rr-Tt;if(hr<0||hr>=it)continue;const ar=g[tr*it+hr],or=ft[er*dt+rr]*kt[Math.abs(ar-Ut)];Kt+=ar*or,Yt+=or}}const Jt=$t[Bt]=Math.round(Kt/Yt);zt[Jt]++}return[$t,zt]},Ow=new WeakSet,A_=function(g){const it=new Uint32Array(256);for(const ot of g)it[ot]++;return it},h1=new WeakSet,FS=function(g){const it=g.length,ot=new Uint8ClampedArray(it>>2);let ut=-1/0,ct=1/0;for(let ft=0,St=ot.length;ft<St;ft++){const Tt=ot[ft]=g[ft<<2];ut=Math.max(ut,Tt),ct=Math.min(ct,Tt)}const dt=255/(ut-ct);for(let ft=0,St=ot.length;ft<St;ft++)ot[ft]=(ot[ft]-ct)*dt;return ot},d1=new WeakSet,$S=function(g){let it,ot=-1/0,ut=-1/0;const ct=g.findIndex(St=>St!==0);let dt=ct,ft=ct;for(it=ct;it<256;it++){const St=g[it];St>ot&&(it-dt>ut&&(ut=it-dt,ft=it-1),ot=St,dt=it)}for(it=ft-1;it>=0&&!(g[it]>g[it+1]);it--);return it},Iw=new WeakSet,__=function(g){const it=g,{width:ot,height:ut}=g,{maxDim:ct}=Ft(this,cm);let dt=ot,ft=ut;if(ot>ct||ut>ct){let Rt=ot,$t=ut,zt=Math.log2(Math.max(ot,ut)/ct);const Ht=Math.floor(zt);zt=zt===Ht?Ht-1:Ht;for(let Bt=0;Bt<zt;Bt++){dt=Math.ceil(Rt/2),ft=Math.ceil($t/2);const Ut=new OffscreenCanvas(dt,ft);Ut.getContext("2d").drawImage(g,0,0,Rt,$t,0,0,dt,ft),Rt=dt,$t=ft,g!==it&&g.close(),g=Ut.transferToImageBitmap()}const Zt=Math.min(ct/dt,ct/ft);dt=Math.round(dt*Zt),ft=Math.round(ft*Zt)}const Tt=new OffscreenCanvas(dt,ft).getContext("2d",{willReadFrequently:!0});Tt.fillStyle="white",Tt.fillRect(0,0,dt,ft),Tt.filter="grayscale(1)",Tt.drawImage(g,0,0,g.width,g.height,0,0,dt,ft);const kt=Tt.getImageData(0,0,dt,ft).data;return[vr(this,h1,FS).call(this,kt),dt,ft]},sr(SignatureExtractor,u1),sr(SignatureExtractor,jw),sr(SignatureExtractor,Dw),sr(SignatureExtractor,c1),sr(SignatureExtractor,f0),sr(SignatureExtractor,Lw),sr(SignatureExtractor,Nw),sr(SignatureExtractor,Ow),sr(SignatureExtractor,h1),sr(SignatureExtractor,d1),sr(SignatureExtractor,Iw),sr(SignatureExtractor,cm,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),sr(SignatureExtractor,Zs,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class SignatureOptions extends DrawingOptions{constructor(){super(),super.updateProperties({fill:AnnotationEditor._defaultLineColor,"stroke-width":0})}clone(){const g=new SignatureOptions;return g.updateAll(this),g}}class DrawnSignatureOptions extends InkDrawingOptions{constructor(g){super(g),super.updateProperties({stroke:AnnotationEditor._defaultLineColor,"stroke-width":1})}clone(){const g=new DrawnSignatureOptions(this._viewParameters);return g.updateAll(this),g}}var Cu,Mo,Ru,hm;const as=class as extends DrawingEditor{constructor(it){super({...it,mustBeCommitted:!0,name:"signatureEditor"});sr(this,Cu,!1);sr(this,Mo,null);sr(this,Ru,null);sr(this,hm,null);this._willKeepAspectRatio=!0,ur(this,Ru,it.signatureData||null),ur(this,Mo,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(it,ot){AnnotationEditor.initialize(it,ot),this._defaultDrawingOptions=new SignatureOptions,this._defaultDrawnSignatureOptions=new DrawnSignatureOptions(ot.viewParameters)}static getDefaultDrawingOptions(it){const ot=this._defaultDrawingOptions.clone();return ot.updateProperties(it),ot}static get supportMultipleDrawings(){return!1}static get typesMap(){return shadow(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!Ft(this,Mo)}}static computeTelemetryFinalData(it){const ot=it.get("hasDescription");return{hasAltText:ot.get(!0)??0,hasNoAltText:ot.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let it,ot;const{_isCopy:ut}=this;if(ut&&(this._isCopy=!1,it=this.x,ot=this.y),super.render(),this._drawId===null)if(Ft(this,Ru)){const{lines:ct,mustSmooth:dt,areContours:ft,description:St,uuid:Tt,heightInPage:kt}=Ft(this,Ru),{rawDims:{pageWidth:jt,pageHeight:Rt},rotation:$t}=this.parent.viewport,zt=SignatureExtractor.processDrawnLines({lines:ct,pageWidth:jt,pageHeight:Rt,rotation:$t,innerMargin:as._INNER_MARGIN,mustSmooth:dt,areContours:ft});this.addSignature(zt,kt,St,Tt)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:Ft(this,Mo)||""}));return ut&&(this._isCopy=!0,this._moveAfterPaste(it,ot)),this.div}setUuid(it){ur(this,hm,it),this.addEditToolbar()}getUuid(){return Ft(this,hm)}get description(){return Ft(this,Mo)}set description(it){ur(this,Mo,it),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:it})),super.addEditToolbar().then(ot=>{ot==null||ot.updateEditSignatureButton(it)}))}getSignaturePreview(){const{newCurves:it,areContours:ot,thickness:ut,width:ct,height:dt}=Ft(this,Ru),ft=Math.max(ct,dt),St=SignatureExtractor.processDrawnLines({lines:{curves:it.map(Tt=>({points:Tt})),thickness:ut,width:ct,height:dt},pageWidth:ft,pageHeight:ft,rotation:0,innerMargin:0,mustSmooth:!1,areContours:ot});return{areContours:ot,outline:St.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(it,ot,ut,ct){const{x:dt,y:ft}=this,{outline:St}=ur(this,Ru,it);ur(this,Cu,St instanceof ContourDrawOutline),this.description=ut;let Tt;Ft(this,Cu)?Tt=as.getDefaultDrawingOptions():(Tt=as._defaultDrawnSignatureOptions.clone(),Tt.updateProperties({"stroke-width":St.thickness})),this._addOutlines({drawOutlines:St,drawingOptions:Tt});const[,kt]=this.pageDimensions;let jt=ot/kt;jt=jt>=1?.5:jt,this.width*=jt/this.height,this.width>=1&&(jt*=.9/this.width,this.width=.9),this.height=jt,this.setDims(),this.x=dt,this.y=ft,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(ct),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!ct,hasDescription:!!ut}}),this.div.hidden=!1}getFromImage(it){const{rawDims:{pageWidth:ot,pageHeight:ut},rotation:ct}=this.parent.viewport;return SignatureExtractor.process(it,ot,ut,ct,as._INNER_MARGIN)}getFromText(it,ot){const{rawDims:{pageWidth:ut,pageHeight:ct},rotation:dt}=this.parent.viewport;return SignatureExtractor.extractContoursFromText(it,ot,ut,ct,dt,as._INNER_MARGIN)}getDrawnSignature(it){const{rawDims:{pageWidth:ot,pageHeight:ut},rotation:ct}=this.parent.viewport;return SignatureExtractor.processDrawnLines({lines:it,pageWidth:ot,pageHeight:ut,rotation:ct,innerMargin:as._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:it,thickness:ot}){it?this._drawingOptions=as.getDefaultDrawingOptions():(this._drawingOptions=as._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":ot}))}serialize(it=!1){if(this.isEmpty())return null;const{lines:ot,points:ut}=this.serializeDraw(it),{_drawingOptions:{"stroke-width":ct}}=this,dt=Object.assign(super.serialize(it),{isSignature:!0,areContours:Ft(this,Cu),color:[0,0,0],thickness:Ft(this,Cu)?0:ct});return this.addComment(dt),it?(dt.paths={lines:ot,points:ut},dt.uuid=Ft(this,hm),dt.isCopy=!0):dt.lines=ot,Ft(this,Mo)&&(dt.accessibilityData={type:"Figure",alt:Ft(this,Mo)}),dt}static deserializeDraw(it,ot,ut,ct,dt,ft){return ft.areContours?ContourDrawOutline.deserialize(it,ot,ut,ct,dt,ft):InkDrawOutline.deserialize(it,ot,ut,ct,dt,ft)}static async deserialize(it,ot,ut){var dt;const ct=await super.deserialize(it,ot,ut);return ur(ct,Cu,it.areContours),ct.description=((dt=it.accessibilityData)==null?void 0:dt.alt)||"",ur(ct,hm,it.uuid),ct}};Cu=new WeakMap,Mo=new WeakMap,Ru=new WeakMap,hm=new WeakMap,Nr(as,"_type","signature"),Nr(as,"_editorType",AnnotationEditorType.SIGNATURE),Nr(as,"_defaultDrawingOptions",null);let SignatureEditor=as;var pn,Dn,Mu,Cl,ju,p0,Rl,dm,jo,_s,m0,fm,U0,pm,H0,g0,W1,y0,K1,v0,X1,f1,BS,x0,Y1,Fw,T_;class StampEditor extends AnnotationEditor{constructor(it){super({...it,name:"stampEditor"});sr(this,fm);sr(this,pm);sr(this,g0);sr(this,y0);sr(this,v0);sr(this,f1);sr(this,x0);sr(this,Fw);sr(this,pn,null);sr(this,Dn,null);sr(this,Mu,null);sr(this,Cl,null);sr(this,ju,null);sr(this,p0,"");sr(this,Rl,null);sr(this,dm,!1);sr(this,jo,null);sr(this,_s,!1);sr(this,m0,!1);ur(this,Cl,it.bitmapUrl),ur(this,ju,it.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(it,ot){AnnotationEditor.initialize(it,ot)}static isHandlingMimeForPasting(it){return SupportedImageMimeTypes.includes(it)}static paste(it,ot){ot.pasteEditor({mode:AnnotationEditorType.STAMP},{bitmapFile:it.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var it;return{type:"stamp",hasAltText:!!((it=this.altTextData)!=null&&it.altText)}}static computeTelemetryFinalData(it){const ot=it.get("hasAltText");return{hasAltText:ot.get(!0)??0,hasNoAltText:ot.get(!1)??0}}async mlGuessAltText(it=null,ot=!0){if(this.hasAltTextData())return null;const{mlManager:ut}=this._uiManager;if(!ut)throw new Error("No ML.");if(!await ut.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:ct,width:dt,height:ft}=it||this.copyCanvas(null,null,!0).imageData,St=await ut.guess({name:"altText",request:{data:ct,width:dt,height:ft,channels:ct.length/(dt*ft)}});if(!St)throw new Error("No response from the AI service.");if(St.error)throw new Error("Error from the AI service.");if(St.cancel)return null;if(!St.output)throw new Error("No valid response from the AI service.");const Tt=St.output;return await this.setGuessedAltText(Tt),ot&&!this.hasAltTextData()&&(this.altTextData={alt:Tt,decorative:!1}),Tt}remove(){var it;Ft(this,Dn)&&(ur(this,pn,null),this._uiManager.imageManager.deleteId(Ft(this,Dn)),(it=Ft(this,Rl))==null||it.remove(),ur(this,Rl,null),Ft(this,jo)&&(clearTimeout(Ft(this,jo)),ur(this,jo,null))),super.remove()}rebuild(){if(!this.parent){Ft(this,Dn)&&vr(this,g0,W1).call(this);return}super.rebuild(),this.div!==null&&(Ft(this,Dn)&&Ft(this,Rl)===null&&vr(this,g0,W1).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(it){this._isDraggable=!0,it&&this.div.focus()}isEmpty(){return!(Ft(this,Mu)||Ft(this,pn)||Ft(this,Cl)||Ft(this,ju)||Ft(this,Dn)||Ft(this,dm))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let it,ot;return this._isCopy&&(it=this.x,ot=this.y),super.render(),this.div.hidden=!0,this.createAltText(),Ft(this,dm)||(Ft(this,pn)?vr(this,y0,K1).call(this):vr(this,g0,W1).call(this)),this._isCopy&&this._moveAfterPaste(it,ot),this._uiManager.addShouldRescale(this),this.div}setCanvas(it,ot){const{id:ut,bitmap:ct}=this._uiManager.imageManager.getFromCanvas(it,ot);ot.remove(),ut&&this._uiManager.imageManager.isValidId(ut)&&(ur(this,Dn,ut),ct&&ur(this,pn,ct),ur(this,dm,!1),vr(this,y0,K1).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;Ft(this,jo)!==null&&clearTimeout(Ft(this,jo)),ur(this,jo,setTimeout(()=>{ur(this,jo,null),vr(this,f1,BS).call(this)},200))}copyCanvas(it,ot,ut=!1){it||(it=224);const{width:ct,height:dt}=Ft(this,pn),ft=new OutputScale;let St=Ft(this,pn),Tt=ct,kt=dt,jt=null;if(ot){if(ct>ot||dt>ot){const tr=Math.min(ot/ct,ot/dt);Tt=Math.floor(ct*tr),kt=Math.floor(dt*tr)}jt=document.createElement("canvas");const $t=jt.width=Math.ceil(Tt*ft.sx),zt=jt.height=Math.ceil(kt*ft.sy);Ft(this,_s)||(St=vr(this,v0,X1).call(this,$t,zt));const Ht=jt.getContext("2d");Ht.filter=this._uiManager.hcmFilter;let Zt="white",Bt="#cfcfd8";this._uiManager.hcmFilter!=="none"?Bt="black":ColorScheme.isDarkMode&&(Zt="#8f8f9d",Bt="#42414d");const Ut=15,Kt=Ut*ft.sx,Yt=Ut*ft.sy,Jt=new OffscreenCanvas(Kt*2,Yt*2),er=Jt.getContext("2d");er.fillStyle=Zt,er.fillRect(0,0,Kt*2,Yt*2),er.fillStyle=Bt,er.fillRect(0,0,Kt,Yt),er.fillRect(Kt,Yt,Kt,Yt),Ht.fillStyle=Ht.createPattern(Jt,"repeat"),Ht.fillRect(0,0,$t,zt),Ht.drawImage(St,0,0,St.width,St.height,0,0,$t,zt)}let Rt=null;if(ut){let $t,zt;if(ft.symmetric&&St.width<it&&St.height<it)$t=St.width,zt=St.height;else if(St=Ft(this,pn),ct>it||dt>it){const Bt=Math.min(it/ct,it/dt);$t=Math.floor(ct*Bt),zt=Math.floor(dt*Bt),Ft(this,_s)||(St=vr(this,v0,X1).call(this,$t,zt))}const Zt=new OffscreenCanvas($t,zt).getContext("2d",{willReadFrequently:!0});Zt.drawImage(St,0,0,St.width,St.height,0,0,$t,zt),Rt={width:$t,height:zt,data:Zt.getImageData(0,0,$t,zt).data}}return{canvas:jt,width:Tt,height:kt,imageData:Rt}}static async deserialize(it,ot,ut){var Zt;let ct=null,dt=!1;if(it instanceof StampAnnotationElement){const{data:{rect:Bt,rotation:Ut,id:Kt,structParent:Yt,popupRef:Jt,richText:er,contentsObj:tr,creationDate:rr,modificationDate:hr},container:ar,parent:{page:{pageNumber:or}},canvas:cr}=it;let gr,yr;cr?(delete it.canvas,{id:gr,bitmap:yr}=ut.imageManager.getFromCanvas(ar.id,cr),cr.remove()):(dt=!0,it._hasNoCanvas=!0);const xr=((Zt=await ot._structTree.getAriaAttributes(`${AnnotationPrefix}${Kt}`))==null?void 0:Zt.get("aria-label"))||"";ct=it={annotationType:AnnotationEditorType.STAMP,bitmapId:gr,bitmap:yr,pageIndex:or-1,rect:Bt.slice(0),rotation:Ut,annotationElementId:Kt,id:Kt,deleted:!1,accessibilityData:{decorative:!1,altText:xr},isSvg:!1,structParent:Yt,popupRef:Jt,richText:er,comment:(tr==null?void 0:tr.str)||null,creationDate:rr,modificationDate:hr}}const ft=await super.deserialize(it,ot,ut),{rect:St,bitmap:Tt,bitmapUrl:kt,bitmapId:jt,isSvg:Rt,accessibilityData:$t}=it;dt?(ut.addMissingCanvas(it.id,ft),ur(ft,dm,!0)):jt&&ut.imageManager.isValidId(jt)?(ur(ft,Dn,jt),Tt&&ur(ft,pn,Tt)):ur(ft,Cl,kt),ur(ft,_s,Rt);const[zt,Ht]=ft.pageDimensions;return ft.width=(St[2]-St[0])/zt,ft.height=(St[3]-St[1])/Ht,$t&&(ft.altTextData=$t),ft._initialData=ct,it.comment&&ft.setCommentData(it),ur(ft,m0,!!ct),ft}serialize(it=!1,ot=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const ut=Object.assign(super.serialize(it),{bitmapId:Ft(this,Dn),isSvg:Ft(this,_s)});if(this.addComment(ut),it)return ut.bitmapUrl=vr(this,x0,Y1).call(this,!0),ut.accessibilityData=this.serializeAltText(!0),ut.isCopy=!0,ut;const{decorative:ct,altText:dt}=this.serializeAltText(!1);if(!ct&&dt&&(ut.accessibilityData={type:"Figure",alt:dt}),this.annotationElementId){const St=vr(this,Fw,T_).call(this,ut);return St.isSame?null:(St.isSameAltText?delete ut.accessibilityData:ut.accessibilityData.structParent=this._initialData.structParent??-1,ut.id=this.annotationElementId,delete ut.bitmapId,ut)}if(ot===null)return ut;ot.stamps||(ot.stamps=new Map);const ft=Ft(this,_s)?(ut.rect[2]-ut.rect[0])*(ut.rect[3]-ut.rect[1]):null;if(!ot.stamps.has(Ft(this,Dn)))ot.stamps.set(Ft(this,Dn),{area:ft,serialized:ut}),ut.bitmap=vr(this,x0,Y1).call(this,!1);else if(Ft(this,_s)){const St=ot.stamps.get(Ft(this,Dn));ft>St.area&&(St.area=ft,St.serialized.bitmap.close(),St.serialized.bitmap=vr(this,x0,Y1).call(this,!1))}return ut}renderAnnotationElement(it){return this.deleted?(it.hide(),null):(it.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}pn=new WeakMap,Dn=new WeakMap,Mu=new WeakMap,Cl=new WeakMap,ju=new WeakMap,p0=new WeakMap,Rl=new WeakMap,dm=new WeakMap,jo=new WeakMap,_s=new WeakMap,m0=new WeakMap,fm=new WeakSet,U0=function(it,ot=!1){if(!it){this.remove();return}ur(this,pn,it.bitmap),ot||(ur(this,Dn,it.id),ur(this,_s,it.isSvg)),it.file&&ur(this,p0,it.file.name),vr(this,y0,K1).call(this)},pm=new WeakSet,H0=function(){if(ur(this,Mu,null),this._uiManager.enableWaiting(!1),!!Ft(this,Rl)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&Ft(this,pn)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&Ft(this,pn)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},g0=new WeakSet,W1=function(){if(Ft(this,Dn)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(Ft(this,Dn)).then(ut=>vr(this,fm,U0).call(this,ut,!0)).finally(()=>vr(this,pm,H0).call(this));return}if(Ft(this,Cl)){const ut=Ft(this,Cl);ur(this,Cl,null),this._uiManager.enableWaiting(!0),ur(this,Mu,this._uiManager.imageManager.getFromUrl(ut).then(ct=>vr(this,fm,U0).call(this,ct)).finally(()=>vr(this,pm,H0).call(this)));return}if(Ft(this,ju)){const ut=Ft(this,ju);ur(this,ju,null),this._uiManager.enableWaiting(!0),ur(this,Mu,this._uiManager.imageManager.getFromFile(ut).then(ct=>vr(this,fm,U0).call(this,ct)).finally(()=>vr(this,pm,H0).call(this)));return}const it=document.createElement("input");it.type="file",it.accept=SupportedImageMimeTypes.join(",");const ot=this._uiManager._signal;ur(this,Mu,new Promise(ut=>{it.addEventListener("change",async()=>{if(!it.files||it.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const ct=await this._uiManager.imageManager.getFromFile(it.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),vr(this,fm,U0).call(this,ct)}ut()},{signal:ot}),it.addEventListener("cancel",()=>{this.remove(),ut()},{signal:ot})}).finally(()=>vr(this,pm,H0).call(this))),it.click()},y0=new WeakSet,K1=function(){var Tt;const{div:it}=this;let{width:ot,height:ut}=Ft(this,pn);const[ct,dt]=this.pageDimensions,ft=.75;if(this.width)ot=this.width*ct,ut=this.height*dt;else if(ot>ft*ct||ut>ft*dt){const kt=Math.min(ft*ct/ot,ft*dt/ut);ot*=kt,ut*=kt}this._uiManager.enableWaiting(!1);const St=ur(this,Rl,document.createElement("canvas"));St.setAttribute("role","img"),this.addContainer(St),this.width=ot/ct,this.height=ut/dt,this.setDims(),(Tt=this._initialOptions)!=null&&Tt.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(it.hidden=!1),vr(this,f1,BS).call(this),Ft(this,m0)||(this.parent.addUndoableEditor(this),ur(this,m0,!0)),this._reportTelemetry({action:"inserted_image"}),Ft(this,p0)&&this.div.setAttribute("aria-description",Ft(this,p0)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},v0=new WeakSet,X1=function(it,ot){const{width:ut,height:ct}=Ft(this,pn);let dt=ut,ft=ct,St=Ft(this,pn);for(;dt>2*it||ft>2*ot;){const Tt=dt,kt=ft;dt>2*it&&(dt=dt>=16384?Math.floor(dt/2)-1:Math.ceil(dt/2)),ft>2*ot&&(ft=ft>=16384?Math.floor(ft/2)-1:Math.ceil(ft/2));const jt=new OffscreenCanvas(dt,ft);jt.getContext("2d").drawImage(St,0,0,Tt,kt,0,0,dt,ft),St=jt.transferToImageBitmap()}return St},f1=new WeakSet,BS=function(){const[it,ot]=this.parentDimensions,{width:ut,height:ct}=this,dt=new OutputScale,ft=Math.ceil(ut*it*dt.sx),St=Math.ceil(ct*ot*dt.sy),Tt=Ft(this,Rl);if(!Tt||Tt.width===ft&&Tt.height===St)return;Tt.width=ft,Tt.height=St;const kt=Ft(this,_s)?Ft(this,pn):vr(this,v0,X1).call(this,ft,St),jt=Tt.getContext("2d");jt.filter=this._uiManager.hcmFilter,jt.drawImage(kt,0,0,kt.width,kt.height,0,0,ft,St)},x0=new WeakSet,Y1=function(it){if(it){if(Ft(this,_s)){const ct=this._uiManager.imageManager.getSvgUrl(Ft(this,Dn));if(ct)return ct}const ot=document.createElement("canvas");return{width:ot.width,height:ot.height}=Ft(this,pn),ot.getContext("2d").drawImage(Ft(this,pn),0,0),ot.toDataURL()}if(Ft(this,_s)){const[ot,ut]=this.pageDimensions,ct=Math.round(this.width*ot*PixelsPerInch.PDF_TO_CSS_UNITS),dt=Math.round(this.height*ut*PixelsPerInch.PDF_TO_CSS_UNITS),ft=new OffscreenCanvas(ct,dt);return ft.getContext("2d").drawImage(Ft(this,pn),0,0,Ft(this,pn).width,Ft(this,pn).height,0,0,ct,dt),ft.transferToImageBitmap()}return structuredClone(Ft(this,pn))},Fw=new WeakSet,T_=function(it){var ft;const{pageIndex:ot,accessibilityData:{altText:ut}}=this._initialData,ct=it.pageIndex===ot,dt=(((ft=it.accessibilityData)==null?void 0:ft.alt)||"")===ut;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&ct&&dt,isSameAltText:dt}},Nr(StampEditor,"_type","stamp"),Nr(StampEditor,"_editorType",AnnotationEditorType.STAMP);var mm,b0,Du,Lu,Ml,os,Nu,E0,w0,Qs,Dl,Ln,Ll,Ou,S0,Br,Iu,p1,VS,$w,k_,Is,eo,m1,US,g1,HS,A0,Z1;const $s=class $s{constructor({uiManager:g,pageIndex:it,div:ot,structTreeLayer:ut,accessibilityManager:ct,annotationLayer:dt,drawLayer:ft,textLayer:St,viewport:Tt,l10n:kt}){sr(this,p1);sr(this,$w);sr(this,Is);sr(this,m1);sr(this,g1);sr(this,A0);sr(this,mm,void 0);sr(this,b0,!1);sr(this,Du,null);sr(this,Lu,null);sr(this,Ml,null);sr(this,os,new Map);sr(this,Nu,!1);sr(this,E0,!1);sr(this,w0,!1);sr(this,Qs,null);sr(this,Dl,null);sr(this,Ln,null);sr(this,Ll,null);sr(this,Ou,null);sr(this,S0,-1);sr(this,Br,void 0);const jt=[...Ft($s,Iu).values()];if(!$s._initialized){$s._initialized=!0;for(const Rt of jt)Rt.initialize(kt,g)}g.registerEditorTypes(jt),ur(this,Br,g),this.pageIndex=it,this.div=ot,ur(this,mm,ct),ur(this,Du,dt),this.viewport=Tt,ur(this,Ln,St),this.drawLayer=ft,this._structTree=ut,Ft(this,Br).addLayer(this)}get isEmpty(){return Ft(this,os).size===0}get isInvisible(){return this.isEmpty&&Ft(this,Br).getMode()===AnnotationEditorType.NONE}updateToolbar(g){Ft(this,Br).updateToolbar(g)}updateMode(g=Ft(this,Br).getMode()){switch(vr(this,A0,Z1).call(this),g){case AnnotationEditorType.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case AnnotationEditorType.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case AnnotationEditorType.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:it}=this.div;if(it.toggle("nonEditing",!1),g===AnnotationEditorType.POPUP)it.toggle("commentEditing",!0);else{it.toggle("commentEditing",!1);for(const ot of Ft($s,Iu).values())it.toggle(`${ot._type}Editing`,g===ot._editorType)}this.div.hidden=!1}hasTextLayer(g){var it;return g===((it=Ft(this,Ln))==null?void 0:it.div)}setEditingState(g){Ft(this,Br).setEditingState(g)}addCommands(g){Ft(this,Br).addCommands(g)}cleanUndoStack(g){Ft(this,Br).cleanUndoStack(g)}toggleDrawing(g=!1){this.div.classList.toggle("drawing",!g)}togglePointerEvents(g=!1){this.div.classList.toggle("disabled",!g)}toggleAnnotationLayerPointerEvents(g=!1){var it;(it=Ft(this,Du))==null||it.div.classList.toggle("disabled",!g)}async enable(){var ot;ur(this,w0,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),(ot=Ft(this,Ou))==null||ot.abort(),ur(this,Ou,null);const g=new Set;for(const ut of Ft(this,p1,VS))ut.enableEditing(),ut.show(!0),ut.annotationElementId&&(Ft(this,Br).removeChangedExistingAnnotation(ut),g.add(ut.annotationElementId));const it=Ft(this,Du);if(it)for(const ut of it.getEditableAnnotations()){if(ut.hide(),Ft(this,Br).isDeletedAnnotationElement(ut.data.id)||g.has(ut.data.id))continue;const ct=await this.deserialize(ut);ct&&(this.addOrRebuild(ct),ct.enableEditing())}ur(this,w0,!1),Ft(this,Br)._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){var ot;if(ur(this,E0,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),Ft(this,Ln)&&!Ft(this,Ou)){ur(this,Ou,new AbortController);const ut=Ft(this,Br).combinedSignal(Ft(this,Ou));Ft(this,Ln).div.addEventListener("pointerdown",ct=>{const{clientX:ft,clientY:St,timeStamp:Tt}=ct,kt=Ft(this,S0);if(Tt-kt>500){ur(this,S0,Tt);return}ur(this,S0,-1);const{classList:jt}=this.div;jt.toggle("getElements",!0);const Rt=document.elementsFromPoint(ft,St);if(jt.toggle("getElements",!1),!this.div.contains(Rt[0]))return;let $t;const zt=new RegExp(`^${AnnotationEditorPrefix}[0-9]+$`);for(const Zt of Rt)if(zt.test(Zt.id)){$t=Zt.id;break}if(!$t)return;const Ht=Ft(this,os).get($t);(Ht==null?void 0:Ht.annotationElementId)===null&&(ct.stopPropagation(),ct.preventDefault(),Ht.dblclick(ct))},{signal:ut,capture:!0})}const g=Ft(this,Du);if(g){const ut=new Map,ct=new Map;for(const ft of Ft(this,p1,VS)){if(ft.disableEditing(),!ft.annotationElementId){ft.updateFakeAnnotationElement(g);continue}if(ft.serialize()!==null){ut.set(ft.annotationElementId,ft);continue}else ct.set(ft.annotationElementId,ft);(ot=this.getEditableAnnotation(ft.annotationElementId))==null||ot.show(),ft.remove()}const dt=g.getEditableAnnotations();for(const ft of dt){const{id:St}=ft.data;if(Ft(this,Br).isDeletedAnnotationElement(St)){ft.updateEdited({deleted:!0});continue}let Tt=ct.get(St);if(Tt){Tt.resetAnnotationElement(ft),Tt.show(!1),ft.show();continue}Tt=ut.get(St),Tt&&(Ft(this,Br).addChangedExistingAnnotation(Tt),Tt.renderAnnotationElement(ft)&&Tt.show(!1)),ft.show()}}vr(this,A0,Z1).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:it}=this.div;for(const ut of Ft($s,Iu).values())it.remove(`${ut._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),ur(this,E0,!1)}getEditableAnnotation(g){var it;return((it=Ft(this,Du))==null?void 0:it.getEditableAnnotation(g))||null}setActiveEditor(g){Ft(this,Br).getActive()!==g&&Ft(this,Br).setActiveEditor(g)}enableTextSelection(){var g;if(this.div.tabIndex=-1,(g=Ft(this,Ln))!=null&&g.div&&!Ft(this,Ll)){ur(this,Ll,new AbortController);const it=Ft(this,Br).combinedSignal(Ft(this,Ll));Ft(this,Ln).div.addEventListener("pointerdown",vr(this,$w,k_).bind(this),{signal:it}),Ft(this,Ln).div.classList.add("highlighting")}}disableTextSelection(){var g;this.div.tabIndex=0,(g=Ft(this,Ln))!=null&&g.div&&Ft(this,Ll)&&(Ft(this,Ll).abort(),ur(this,Ll,null),Ft(this,Ln).div.classList.remove("highlighting"))}enableClick(){if(Ft(this,Lu))return;ur(this,Lu,new AbortController);const g=Ft(this,Br).combinedSignal(Ft(this,Lu));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:g});const it=this.pointerup.bind(this);this.div.addEventListener("pointerup",it,{signal:g}),this.div.addEventListener("pointercancel",it,{signal:g})}disableClick(){var g;(g=Ft(this,Lu))==null||g.abort(),ur(this,Lu,null)}attach(g){Ft(this,os).set(g.id,g);const{annotationElementId:it}=g;it&&Ft(this,Br).isDeletedAnnotationElement(it)&&Ft(this,Br).removeDeletedAnnotationElement(g)}detach(g){var it;Ft(this,os).delete(g.id),(it=Ft(this,mm))==null||it.removePointerInTextLayer(g.contentDiv),!Ft(this,E0)&&g.annotationElementId&&Ft(this,Br).addDeletedAnnotationElement(g)}remove(g){this.detach(g),Ft(this,Br).removeEditor(g),g.div.remove(),g.isAttachedToDOM=!1}changeParent(g){var it;g.parent!==this&&(g.parent&&g.annotationElementId&&(Ft(this,Br).addDeletedAnnotationElement(g.annotationElementId),AnnotationEditor.deleteAnnotationElement(g),g.annotationElementId=null),this.attach(g),(it=g.parent)==null||it.detach(g),g.setParent(this),g.div&&g.isAttachedToDOM&&(g.div.remove(),this.div.append(g.div)))}add(g){if(!(g.parent===this&&g.isAttachedToDOM)){if(this.changeParent(g),Ft(this,Br).addEditor(g),this.attach(g),!g.isAttachedToDOM){const it=g.render();this.div.append(it),g.isAttachedToDOM=!0}g.fixAndSetPosition(),g.onceAdded(!Ft(this,w0)),Ft(this,Br).addToAnnotationStorage(g),g._reportTelemetry(g.telemetryInitialData)}}moveEditorInDOM(g){var ot;if(!g.isAttachedToDOM)return;const{activeElement:it}=document;g.div.contains(it)&&!Ft(this,Ml)&&(g._focusEventsAllowed=!1,ur(this,Ml,setTimeout(()=>{ur(this,Ml,null),g.div.contains(document.activeElement)?g._focusEventsAllowed=!0:(g.div.addEventListener("focusin",()=>{g._focusEventsAllowed=!0},{once:!0,signal:Ft(this,Br)._signal}),it.focus())},0))),g._structTreeParentId=(ot=Ft(this,mm))==null?void 0:ot.moveElementInDOM(this.div,g.div,g.contentDiv,!0)}addOrRebuild(g){g.needsToBeRebuilt()?(g.parent||(g.parent=this),g.rebuild(),g.show()):this.add(g)}addUndoableEditor(g){const it=()=>g._uiManager.rebuild(g),ot=()=>{g.remove()};this.addCommands({cmd:it,undo:ot,mustExec:!1})}getEditorByUID(g){for(const it of Ft(this,os).values())if(it.uid===g)return it;return null}getNextId(){return Ft(this,Br).getId()}combinedSignal(g){return Ft(this,Br).combinedSignal(g)}canCreateNewEmptyEditor(){var g;return(g=Ft(this,Is,eo))==null?void 0:g.canCreateNewEmptyEditor()}async pasteEditor(g,it){this.updateToolbar(g),await Ft(this,Br).updateMode(g.mode);const{offsetX:ot,offsetY:ut}=vr(this,g1,HS).call(this),ct=this.getNextId(),dt=vr(this,m1,US).call(this,{parent:this,id:ct,x:ot,y:ut,uiManager:Ft(this,Br),isCentered:!0,...it});dt&&this.add(dt)}async deserialize(g){var it;return await((it=Ft($s,Iu).get(g.annotationType??g.annotationEditorType))==null?void 0:it.deserialize(g,this,Ft(this,Br)))||null}createAndAddNewEditor(g,it,ot={}){const ut=this.getNextId(),ct=vr(this,m1,US).call(this,{parent:this,id:ut,x:g.offsetX,y:g.offsetY,uiManager:Ft(this,Br),isCentered:it,...ot});return ct&&this.add(ct),ct}get boundingClientRect(){return this.div.getBoundingClientRect()}addNewEditor(g={}){this.createAndAddNewEditor(vr(this,g1,HS).call(this),!0,g)}setSelected(g){Ft(this,Br).setSelected(g)}toggleSelected(g){Ft(this,Br).toggleSelected(g)}unselect(g){Ft(this,Br).unselect(g)}pointerup(g){var ut;const{isMac:it}=util_FeatureTest.platform;if(g.button!==0||g.ctrlKey&&it||g.target!==this.div||!Ft(this,Nu)||(ur(this,Nu,!1),(ut=Ft(this,Is,eo))!=null&&ut.isDrawer&&Ft(this,Is,eo).supportMultipleDrawings))return;if(!Ft(this,b0)){ur(this,b0,!0);return}const ot=Ft(this,Br).getMode();if(ot===AnnotationEditorType.STAMP||ot===AnnotationEditorType.SIGNATURE){Ft(this,Br).unselectAll();return}this.createAndAddNewEditor(g,!1)}pointerdown(g){var ut;if(Ft(this,Br).getMode()===AnnotationEditorType.HIGHLIGHT&&this.enableTextSelection(),Ft(this,Nu)){ur(this,Nu,!1);return}const{isMac:it}=util_FeatureTest.platform;if(g.button!==0||g.ctrlKey&&it||g.target!==this.div)return;if(ur(this,Nu,!0),(ut=Ft(this,Is,eo))!=null&&ut.isDrawer){this.startDrawingSession(g);return}const ot=Ft(this,Br).getActive();ur(this,b0,!ot||ot.isEmpty())}startDrawingSession(g){if(this.div.focus({preventScroll:!0}),Ft(this,Qs)){Ft(this,Is,eo).startDrawing(this,Ft(this,Br),!1,g);return}Ft(this,Br).setCurrentDrawingSession(this),ur(this,Qs,new AbortController);const it=Ft(this,Br).combinedSignal(Ft(this,Qs));this.div.addEventListener("blur",({relatedTarget:ot})=>{ot&&!this.div.contains(ot)&&(ur(this,Dl,null),this.commitOrRemove())},{signal:it}),Ft(this,Is,eo).startDrawing(this,Ft(this,Br),!1,g)}pause(g){if(g){const{activeElement:it}=document;this.div.contains(it)&&ur(this,Dl,it);return}Ft(this,Dl)&&setTimeout(()=>{var it;(it=Ft(this,Dl))==null||it.focus(),ur(this,Dl,null)},0)}endDrawingSession(g=!1){return Ft(this,Qs)?(Ft(this,Br).setCurrentDrawingSession(null),Ft(this,Qs).abort(),ur(this,Qs,null),ur(this,Dl,null),Ft(this,Is,eo).endDrawing(g)):null}findNewParent(g,it,ot){const ut=Ft(this,Br).findParent(it,ot);return ut===null||ut===this?!1:(ut.changeParent(g),!0)}commitOrRemove(){return Ft(this,Qs)?(this.endDrawingSession(),!0):!1}onScaleChanging(){Ft(this,Qs)&&Ft(this,Is,eo).onScaleChangingWhenDrawing(this)}destroy(){var g,it;this.commitOrRemove(),((g=Ft(this,Br).getActive())==null?void 0:g.parent)===this&&(Ft(this,Br).commitOrRemove(),Ft(this,Br).setActiveEditor(null)),Ft(this,Ml)&&(clearTimeout(Ft(this,Ml)),ur(this,Ml,null));for(const ot of Ft(this,os).values())(it=Ft(this,mm))==null||it.removePointerInTextLayer(ot.contentDiv),ot.setParent(null),ot.isAttachedToDOM=!1,ot.div.remove();this.div=null,Ft(this,os).clear(),Ft(this,Br).removeLayer(this)}render({viewport:g}){this.viewport=g,setLayerDimensions(this.div,g);for(const it of Ft(this,Br).getEditors(this.pageIndex))this.add(it),it.rebuild();this.updateMode()}update({viewport:g}){Ft(this,Br).commitOrRemove(),vr(this,A0,Z1).call(this);const it=this.viewport.rotation,ot=g.rotation;if(this.viewport=g,setLayerDimensions(this.div,{rotation:ot}),it!==ot)for(const ut of Ft(this,os).values())ut.rotate(ot)}get pageDimensions(){const{pageWidth:g,pageHeight:it}=this.viewport.rawDims;return[g,it]}get scale(){return Ft(this,Br).viewParameters.realScale}};mm=new WeakMap,b0=new WeakMap,Du=new WeakMap,Lu=new WeakMap,Ml=new WeakMap,os=new WeakMap,Nu=new WeakMap,E0=new WeakMap,w0=new WeakMap,Qs=new WeakMap,Dl=new WeakMap,Ln=new WeakMap,Ll=new WeakMap,Ou=new WeakMap,S0=new WeakMap,Br=new WeakMap,Iu=new WeakMap,p1=new WeakSet,VS=function(){return Ft(this,os).size!==0?Ft(this,os).values():Ft(this,Br).getEditors(this.pageIndex)},$w=new WeakSet,k_=function(g){Ft(this,Br).unselectAll();const{target:it}=g;if(it===Ft(this,Ln).div||(it.getAttribute("role")==="img"||it.classList.contains("endOfContent"))&&Ft(this,Ln).div.contains(it)){const{isMac:ot}=util_FeatureTest.platform;if(g.button!==0||g.ctrlKey&&ot)return;Ft(this,Br).showAllEditors("highlight",!0,!0),Ft(this,Ln).div.classList.add("free"),this.toggleDrawing(),HighlightEditor.startHighlighting(this,Ft(this,Br).direction==="ltr",{target:Ft(this,Ln).div,x:g.x,y:g.y}),Ft(this,Ln).div.addEventListener("pointerup",()=>{Ft(this,Ln).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:Ft(this,Br)._signal}),g.preventDefault()}},Is=new WeakSet,eo=function(){return Ft($s,Iu).get(Ft(this,Br).getMode())},m1=new WeakSet,US=function(g){const it=Ft(this,Is,eo);return it?new it.prototype.constructor(g):null},g1=new WeakSet,HS=function(){const{x:g,y:it,width:ot,height:ut}=this.boundingClientRect,ct=Math.max(0,g),dt=Math.max(0,it),ft=Math.min(window.innerWidth,g+ot),St=Math.min(window.innerHeight,it+ut),Tt=(ct+ft)/2-g,kt=(dt+St)/2-it,[jt,Rt]=this.viewport.rotation%180===0?[Tt,kt]:[kt,Tt];return{offsetX:jt,offsetY:Rt}},A0=new WeakSet,Z1=function(){for(const g of Ft(this,os).values())g.isEmpty()&&g.remove()},Nr($s,"_initialized",!1),sr($s,Iu,new Map([FreeTextEditor,InkEditor,StampEditor,HighlightEditor,SignatureEditor].map(g=>[g._editorType,g])));let AnnotationEditorLayer=$s;var Js,Jn,gm,y1,Bw,P_,v1,zS,Vw,C_,x1,GS;const An=class An{constructor({pageIndex:g}){sr(this,v1);sr(this,Vw);sr(this,x1);sr(this,Js,null);sr(this,Jn,new Map);sr(this,gm,new Map);this.pageIndex=g}setParent(g){if(!Ft(this,Js)){ur(this,Js,g);return}if(Ft(this,Js)!==g){if(Ft(this,Jn).size>0)for(const it of Ft(this,Jn).values())it.remove(),g.append(it);ur(this,Js,g)}}static get _svgFactory(){return shadow(this,"_svgFactory",new DOMSVGFactory)}draw(g,it=!1,ot=!1){const ut=Sn(An,y1)._++,ct=vr(this,v1,zS).call(this),dt=An._svgFactory.createElement("defs");ct.append(dt);const ft=An._svgFactory.createElement("path");dt.append(ft);const St=`path_p${this.pageIndex}_${ut}`;ft.setAttribute("id",St),ft.setAttribute("vector-effect","non-scaling-stroke"),it&&Ft(this,gm).set(ut,ft);const Tt=ot?vr(this,Vw,C_).call(this,dt,St):null,kt=An._svgFactory.createElement("use");return ct.append(kt),kt.setAttribute("href",`#${St}`),this.updateProperties(ct,g),Ft(this,Jn).set(ut,ct),{id:ut,clipPathId:`url(#${Tt})`}}drawOutline(g,it){const ot=Sn(An,y1)._++,ut=vr(this,v1,zS).call(this),ct=An._svgFactory.createElement("defs");ut.append(ct);const dt=An._svgFactory.createElement("path");ct.append(dt);const ft=`path_p${this.pageIndex}_${ot}`;dt.setAttribute("id",ft),dt.setAttribute("vector-effect","non-scaling-stroke");let St;if(it){const jt=An._svgFactory.createElement("mask");ct.append(jt),St=`mask_p${this.pageIndex}_${ot}`,jt.setAttribute("id",St),jt.setAttribute("maskUnits","objectBoundingBox");const Rt=An._svgFactory.createElement("rect");jt.append(Rt),Rt.setAttribute("width","1"),Rt.setAttribute("height","1"),Rt.setAttribute("fill","white");const $t=An._svgFactory.createElement("use");jt.append($t),$t.setAttribute("href",`#${ft}`),$t.setAttribute("stroke","none"),$t.setAttribute("fill","black"),$t.setAttribute("fill-rule","nonzero"),$t.classList.add("mask")}const Tt=An._svgFactory.createElement("use");ut.append(Tt),Tt.setAttribute("href",`#${ft}`),St&&Tt.setAttribute("mask",`url(#${St})`);const kt=Tt.cloneNode();return ut.append(kt),Tt.classList.add("mainOutline"),kt.classList.add("secondaryOutline"),this.updateProperties(ut,g),Ft(this,Jn).set(ot,ut),ot}finalizeDraw(g,it){Ft(this,gm).delete(g),this.updateProperties(g,it)}updateProperties(g,it){var St;if(!it)return;const{root:ot,bbox:ut,rootClass:ct,path:dt}=it,ft=typeof g=="number"?Ft(this,Jn).get(g):g;if(ft){if(ot&&vr(this,x1,GS).call(this,ft,ot),ut&&vr(St=An,Bw,P_).call(St,ft,ut),ct){const{classList:Tt}=ft;for(const[kt,jt]of Object.entries(ct))Tt.toggle(kt,jt)}if(dt){const kt=ft.firstChild.firstChild;vr(this,x1,GS).call(this,kt,dt)}}}updateParent(g,it){if(it===this)return;const ot=Ft(this,Jn).get(g);ot&&(Ft(it,Js).append(ot),Ft(this,Jn).delete(g),Ft(it,Jn).set(g,ot))}remove(g){Ft(this,gm).delete(g),Ft(this,Js)!==null&&(Ft(this,Jn).get(g).remove(),Ft(this,Jn).delete(g))}destroy(){ur(this,Js,null);for(const g of Ft(this,Jn).values())g.remove();Ft(this,Jn).clear(),Ft(this,gm).clear()}};Js=new WeakMap,Jn=new WeakMap,gm=new WeakMap,y1=new WeakMap,Bw=new WeakSet,P_=function(g,[it,ot,ut,ct]){const{style:dt}=g;dt.top=`${100*ot}%`,dt.left=`${100*it}%`,dt.width=`${100*ut}%`,dt.height=`${100*ct}%`},v1=new WeakSet,zS=function(){const g=An._svgFactory.create(1,1,!0);return Ft(this,Js).append(g),g.setAttribute("aria-hidden",!0),g},Vw=new WeakSet,C_=function(g,it){const ot=An._svgFactory.createElement("clipPath");g.append(ot);const ut=`clip_${it}`;ot.setAttribute("id",ut),ot.setAttribute("clipPathUnits","objectBoundingBox");const ct=An._svgFactory.createElement("use");return ot.append(ct),ct.setAttribute("href",`#${it}`),ct.classList.add("clip"),ut},x1=new WeakSet,GS=function(g,it){for(const[ot,ut]of Object.entries(it))ut===null?g.removeAttribute(ot):g.setAttribute(ot,ut)},sr(An,Bw),sr(An,y1,0);let DrawLayer=An;globalThis._pdfjsTestingUtils={HighlightOutliner};globalThis.pdfjsLib={AbortException,AnnotationEditorLayer,AnnotationEditorParamsType,AnnotationEditorType,AnnotationEditorUIManager,AnnotationLayer:AnnotationLayer$1,AnnotationMode,AnnotationType,applyOpacity,build,ColorPicker,createValidAbsoluteUrl,CSSConstants,DOMSVGFactory,DrawLayer,FeatureTest:util_FeatureTest,fetchData,findContrastColor,getDocument,getFilenameFromUrl,getPdfFilenameFromUrl,getRGB,getUuid,getXfaPageViewport,GlobalWorkerOptions,ImageKind:util_ImageKind,InvalidPDFException,isDataScheme,isPdfFile,isValidExplicitDest,MathClamp,noContextMenu,normalizeUnicode,OPS,OutputScale,PasswordResponses:PasswordResponses$2,PDFDataRangeTransport:PDFDataRangeTransport$1,PDFDateString,PDFWorker,PermissionFlag,PixelsPerInch,RenderingCancelledException,renderRichText,ResponseException,setLayerDimensions,shadow,SignatureExtractor,stopEvent,SupportedImageMimeTypes,TextLayer:TextLayer$1,TouchManager,updateUrlHash,Util,VerbosityLevel,version,XfaLayer};const pdfjs=Object.freeze(Object.defineProperty({__proto__:null,AbortException,AnnotationEditorLayer,AnnotationEditorParamsType,AnnotationEditorType,AnnotationEditorUIManager,AnnotationLayer:AnnotationLayer$1,AnnotationMode,AnnotationType,CSSConstants,ColorPicker,DOMSVGFactory,DrawLayer,FeatureTest:util_FeatureTest,GlobalWorkerOptions,ImageKind:util_ImageKind,InvalidPDFException,MathClamp,OPS,OutputScale,PDFDataRangeTransport:PDFDataRangeTransport$1,PDFDateString,PDFWorker,PasswordResponses:PasswordResponses$2,PermissionFlag,PixelsPerInch,RenderingCancelledException,ResponseException,SignatureExtractor,SupportedImageMimeTypes,TextLayer:TextLayer$1,TouchManager,Util,VerbosityLevel,XfaLayer,applyOpacity,build,createValidAbsoluteUrl,fetchData,findContrastColor,getDocument,getFilenameFromUrl,getPdfFilenameFromUrl,getRGB,getUuid,getXfaPageViewport,isDataScheme,isPdfFile,isValidExplicitDest,noContextMenu,normalizeUnicode,renderRichText,setLayerDimensions,shadow,stopEvent,updateUrlHash,version},Symbol.toStringTag,{value:"Module"}));var has=Object.prototype.hasOwnProperty;function find(et,g,it){for(it of et.keys())if(dequal(it,g))return it}function dequal(et,g){var it,ot,ut;if(et===g)return!0;if(et&&g&&(it=et.constructor)===g.constructor){if(it===Date)return et.getTime()===g.getTime();if(it===RegExp)return et.toString()===g.toString();if(it===Array){if((ot=et.length)===g.length)for(;ot--&&dequal(et[ot],g[ot]););return ot===-1}if(it===Set){if(et.size!==g.size)return!1;for(ot of et)if(ut=ot,ut&&typeof ut=="object"&&(ut=find(g,ut),!ut)||!g.has(ut))return!1;return!0}if(it===Map){if(et.size!==g.size)return!1;for(ot of et)if(ut=ot[0],ut&&typeof ut=="object"&&(ut=find(g,ut),!ut)||!dequal(ot[1],g.get(ut)))return!1;return!0}if(it===ArrayBuffer)et=new Uint8Array(et),g=new Uint8Array(g);else if(it===DataView){if((ot=et.byteLength)===g.byteLength)for(;ot--&&et.getInt8(ot)===g.getInt8(ot););return ot===-1}if(ArrayBuffer.isView(et)){if((ot=et.byteLength)===g.byteLength)for(;ot--&&et[ot]===g[ot];);return ot===-1}if(!it||typeof et=="object"){ot=0;for(it in et)if(has.call(et,it)&&++ot&&!has.call(g,it)||!(it in g)||!dequal(et[it],g[it]))return!1;return Object.keys(g).length===ot}}return et!==et&&g!==g}function makeCancellablePromise(et){let g=!1;return{promise:new Promise((ot,ut)=>{et.then(ct=>!g&&ot(ct)).catch(ct=>!g&&ut(ct))}),cancel(){g=!0}}}const clipboardEvents=["onCopy","onCut","onPaste"],compositionEvents=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],focusEvents=["onFocus","onBlur"],formEvents=["onInput","onInvalid","onReset","onSubmit"],imageEvents=["onLoad","onError"],keyboardEvents=["onKeyDown","onKeyPress","onKeyUp"],mediaEvents=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],mouseEvents=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],dragEvents=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],selectionEvents=["onSelect"],touchEvents=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],pointerEvents=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],uiEvents=["onScroll"],wheelEvents=["onWheel"],animationEvents=["onAnimationStart","onAnimationEnd","onAnimationIteration"],transitionEvents=["onTransitionEnd"],otherEvents=["onToggle"],changeEvents=["onChange"],allEvents=[...clipboardEvents,...compositionEvents,...focusEvents,...formEvents,...imageEvents,...keyboardEvents,...mediaEvents,...mouseEvents,...dragEvents,...selectionEvents,...touchEvents,...pointerEvents,...uiEvents,...wheelEvents,...animationEvents,...transitionEvents,...changeEvents,...otherEvents];function makeEventProps(et,g){const it={};for(const ot of allEvents){const ut=et[ot];ut&&(g?it[ot]=ct=>ut(ct,g(ot)):it[ot]=ut)}return it}var isProduction=!0,prefix="Invariant failed";function invariant(et,g){if(!et){if(isProduction)throw new Error(prefix);var it=typeof g=="function"?g():g,ot=it?"".concat(prefix,": ").concat(it):prefix;throw new Error(ot)}}var warning=function(){},warning_1=warning;const warning$1=getDefaultExportFromCjs(warning_1),documentContext=reactExports.createContext(null),DocumentContext=documentContext,DEFAULT_LINK_REL="noopener noreferrer nofollow";class LinkService{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(g){this.pdfDocument=g}setViewer(g){this.pdfViewer=g}setExternalLinkRel(g){this.externalLinkRel=g}setExternalLinkTarget(g){this.externalLinkTarget=g}setHash(){}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return invariant(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber||0}set page(g){invariant(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber=g}get rotation(){return 0}set rotation(g){}addLinkAttributes(g,it,ot){g.href=it,g.rel=this.externalLinkRel||DEFAULT_LINK_REL,g.target=ot?"_blank":this.externalLinkTarget||""}goToDestination(g){return new Promise(it=>{invariant(this.pdfDocument,"PDF document not loaded."),invariant(g,"Destination is not specified."),typeof g=="string"?this.pdfDocument.getDestination(g).then(it):Array.isArray(g)?it(g):g.then(it)}).then(it=>{invariant(Array.isArray(it),`"${it}" is not a valid destination array.`);const ot=it[0];new Promise(ut=>{invariant(this.pdfDocument,"PDF document not loaded."),ot instanceof Object?this.pdfDocument.getPageIndex(ot).then(ct=>{ut(ct)}).catch(()=>{invariant(!1,`"${ot}" is not a valid page reference.`)}):typeof ot=="number"?ut(ot):invariant(!1,`"${ot}" is not a valid destination reference.`)}).then(ut=>{const ct=ut+1;invariant(this.pdfViewer,"PDF viewer is not initialized."),invariant(ct>=1&&ct<=this.pagesCount,`"${ct}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({dest:it,pageIndex:ut,pageNumber:ct})})})}goToPage(g){const it=g-1;invariant(this.pdfViewer,"PDF viewer is not initialized."),invariant(g>=1&&g<=this.pagesCount,`"${g}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({pageIndex:it,pageNumber:g})}goToXY(){}cachePageRef(){}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}executeNamedAction(){}executeSetOCGState(){}isPageVisible(){return!0}isPageCached(){return!0}navigateTo(g){this.goToDestination(g)}}function Message({children:et,type:g}){return jsxRuntimeExports.jsx("div",{className:`react-pdf__message react-pdf__message--${g}`,children:et})}const PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},PasswordResponses$1=PasswordResponses;function reducer(et,g){switch(g.type){case"RESOLVE":return{value:g.value,error:void 0};case"REJECT":return{value:!1,error:g.error};case"RESET":return{value:void 0,error:void 0};default:return et}}function useResolver(){return reactExports.useReducer(reducer,{value:void 0,error:void 0})}const isBrowser=typeof window<"u",isLocalFileSystem=isBrowser&&window.location.protocol==="file:";function isDefined(et){return typeof et<"u"}function isProvided(et){return isDefined(et)&&et!==null}function isString(et){return typeof et=="string"}function isArrayBuffer(et){return et instanceof ArrayBuffer}function isBlob(et){return invariant(isBrowser,"isBlob can only be used in a browser environment"),et instanceof Blob}function isDataURI(et){return isString(et)&&/^data:/.test(et)}function dataURItoByteString(et){invariant(isDataURI(et),"Invalid data URI.");const[g="",it=""]=et.split(",");return g.split(";").indexOf("base64")!==-1?atob(it):unescape(it)}function getDevicePixelRatio(){return isBrowser&&window.devicePixelRatio||1}const allowFileAccessFromFilesTip="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function displayCORSWarning(){warning$1(!isLocalFileSystem,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${allowFileAccessFromFilesTip}`)}function displayWorkerWarning(){warning$1(!isLocalFileSystem,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${allowFileAccessFromFilesTip}`)}function cancelRunningTask(et){et!=null&&et.cancel&&et.cancel()}function makePageCallback(et,g){return Object.defineProperty(et,"width",{get(){return this.view[2]*g},configurable:!0}),Object.defineProperty(et,"height",{get(){return this.view[3]*g},configurable:!0}),Object.defineProperty(et,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(et,"originalHeight",{get(){return this.view[3]},configurable:!0}),et}function isCancelException(et){return et.name==="RenderingCancelledException"}function loadFromFile(et){return new Promise((g,it)=>{const ot=new FileReader;ot.onload=()=>{if(!ot.result)return it(new Error("Error while reading a file."));g(ot.result)},ot.onerror=ut=>{if(!ut.target)return it(new Error("Error while reading a file."));const{error:ct}=ut.target;if(!ct)return it(new Error("Error while reading a file."));switch(ct.code){case ct.NOT_FOUND_ERR:return it(new Error("Error while reading a file: File not found."));case ct.SECURITY_ERR:return it(new Error("Error while reading a file: Security error."));case ct.ABORT_ERR:return it(new Error("Error while reading a file: Aborted."));default:return it(new Error("Error while reading a file."))}},ot.readAsArrayBuffer(et)})}const{PDFDataRangeTransport}=pdfjs,defaultOnPassword=(et,g)=>{switch(g){case PasswordResponses$1.NEED_PASSWORD:{const it=prompt("Enter the password to open this PDF file.");et(it);break}case PasswordResponses$1.INCORRECT_PASSWORD:{const it=prompt("Invalid password. Please try again.");et(it);break}}};function isParameterObject(et){return typeof et=="object"&&et!==null&&("data"in et||"range"in et||"url"in et)}const Document=reactExports.forwardRef(function et({children:g,className:it,error:ot="Failed to load PDF file.",externalLinkRel:ut,externalLinkTarget:ct,file:dt,inputRef:ft,imageResourcesPath:St,loading:Tt="Loading PDF",noData:kt="No PDF file specified.",onItemClick:jt,onLoadError:Rt,onLoadProgress:$t,onLoadSuccess:zt,onPassword:Ht=defaultOnPassword,onSourceError:Zt,onSourceSuccess:Bt,options:Ut,renderMode:Kt,rotate:Yt,scale:Jt,...er},tr){const[rr,hr]=useResolver(),{value:ar,error:or}=rr,[cr,gr]=useResolver(),{value:yr,error:xr}=cr,dr=reactExports.useRef(new LinkService),pr=reactExports.useRef([]),nr=reactExports.useRef(void 0),ir=reactExports.useRef(void 0);dt&&dt!==nr.current&&isParameterObject(dt)&&(warning$1(!dequal(dt,nr.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),nr.current=dt),Ut&&Ut!==ir.current&&(warning$1(!dequal(Ut,ir.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),ir.current=Ut);const mr=reactExports.useRef({scrollPageIntoView:Dr=>{const{dest:Mr,pageNumber:Vr,pageIndex:qr=Vr-1}=Dr;if(jt){jt({dest:Mr,pageIndex:qr,pageNumber:Vr});return}const Xr=pr.current[qr];if(Xr){Xr.scrollIntoView();return}warning$1(!1,`An internal link leading to page ${Vr} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});reactExports.useImperativeHandle(tr,()=>({linkService:dr,pages:pr,viewer:mr}),[]);function lr(){Bt&&Bt()}function br(){or&&(warning$1(!1,or.toString()),Zt&&Zt(or))}function Er(){hr({type:"RESET"})}reactExports.useEffect(Er,[dt,hr]);const Sr=reactExports.useCallback(async()=>{if(!dt)return null;if(typeof dt=="string")return isDataURI(dt)?{data:dataURItoByteString(dt)}:(displayCORSWarning(),{url:dt});if(dt instanceof PDFDataRangeTransport)return{range:dt};if(isArrayBuffer(dt))return{data:dt};if(isBrowser&&isBlob(dt))return{data:await loadFromFile(dt)};if(invariant(typeof dt=="object","Invalid parameter in file, need either Uint8Array, string or a parameter object"),invariant(isParameterObject(dt),"Invalid parameter object: need either .data, .range or .url"),"url"in dt&&typeof dt.url=="string"){if(isDataURI(dt.url)){const{url:Dr,...Mr}=dt;return{data:dataURItoByteString(Dr),...Mr}}displayCORSWarning()}return dt},[dt]);reactExports.useEffect(()=>{const Dr=makeCancellablePromise(Sr());return Dr.promise.then(Mr=>{hr({type:"RESOLVE",value:Mr})}).catch(Mr=>{hr({type:"REJECT",error:Mr})}),()=>{cancelRunningTask(Dr)}},[Sr,hr]),reactExports.useEffect(()=>{if(!(typeof ar>"u")){if(ar===!1){br();return}lr()}},[ar]);function _r(){yr&&(zt&&zt(yr),pr.current=new Array(yr.numPages),dr.current.setDocument(yr))}function wr(){xr&&(warning$1(!1,xr.toString()),Rt&&Rt(xr))}reactExports.useEffect(function(){gr({type:"RESET"})},[gr,ar]),reactExports.useEffect(function(){if(!ar)return;const Mr=Ut?{...ar,...Ut}:ar,Vr=getDocument(Mr);$t&&(Vr.onProgress=$t),Ht&&(Vr.onPassword=Ht);const qr=Vr,Xr=qr.promise.then(Cr=>{gr({type:"RESOLVE",value:Cr})}).catch(Cr=>{qr.destroyed||gr({type:"REJECT",error:Cr})});return()=>{Xr.finally(()=>qr.destroy())}},[Ut,gr,ar]),reactExports.useEffect(()=>{if(!(typeof yr>"u")){if(yr===!1){wr();return}_r()}},[yr]),reactExports.useEffect(function(){dr.current.setViewer(mr.current),dr.current.setExternalLinkRel(ut),dr.current.setExternalLinkTarget(ct)},[ut,ct]);const Ar=reactExports.useCallback((Dr,Mr)=>{pr.current[Dr]=Mr},[]),kr=reactExports.useCallback(Dr=>{delete pr.current[Dr]},[]),Tr=reactExports.useMemo(()=>({imageResourcesPath:St,linkService:dr.current,onItemClick:jt,pdf:yr,registerPage:Ar,renderMode:Kt,rotate:Yt,scale:Jt,unregisterPage:kr}),[St,jt,yr,Ar,Kt,Yt,Jt,kr]),Pr=reactExports.useMemo(()=>makeEventProps(er,()=>yr),[er,yr]);function Lr(){function Dr(Vr){return!!(Vr!=null&&Vr.pdf)}if(!Dr(Tr))throw new Error("pdf is undefined");const Mr=typeof g=="function"?g(Tr):g;return jsxRuntimeExports.jsx(DocumentContext.Provider,{value:Tr,children:Mr})}function Fr(){return dt?yr==null?jsxRuntimeExports.jsx(Message,{type:"loading",children:typeof Tt=="function"?Tt():Tt}):yr===!1?jsxRuntimeExports.jsx(Message,{type:"error",children:typeof ot=="function"?ot():ot}):Lr():jsxRuntimeExports.jsx(Message,{type:"no-data",children:typeof kt=="function"?kt():kt})}return jsxRuntimeExports.jsx("div",{className:clsx("react-pdf__Document",it),ref:ft,...Pr,children:Fr()})}),Document$1=Document;function useDocumentContext(){return reactExports.useContext(DocumentContext)}function mergeRefs(){for(var et=[],g=0;g<arguments.length;g++)et[g]=arguments[g];var it=et.filter(Boolean);if(it.length<=1){var ot=it[0];return ot||null}return function(ct){for(var dt=0,ft=it;dt<ft.length;dt++){var St=ft[dt];typeof St=="function"?St(ct):St&&(St.current=ct)}}}const pageContext=reactExports.createContext(null),PageContext=pageContext;function usePageContext(){return reactExports.useContext(PageContext)}function AnnotationLayer(){const et=useDocumentContext(),g=usePageContext();invariant(g,"Unable to find Page context.");const it={...et,...g},{imageResourcesPath:ot,linkService:ut,onGetAnnotationsError:ct,onGetAnnotationsSuccess:dt,onRenderAnnotationLayerError:ft,onRenderAnnotationLayerSuccess:St,page:Tt,pdf:kt,renderForms:jt,rotate:Rt,scale:$t=1}=it;invariant(kt,"Attempted to load page annotations, but no document was specified. Wrap <Page /> in a <Document /> or pass explicit `pdf` prop."),invariant(Tt,"Attempted to load page annotations, but no page was specified."),invariant(ut,"Attempted to load page annotations, but no linkService was specified.");const[zt,Ht]=useResolver(),{value:Zt,error:Bt}=zt,Ut=reactExports.useRef(null);warning$1(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function Kt(){Zt&&dt&&dt(Zt)}function Yt(){Bt&&(warning$1(!1,Bt.toString()),ct&&ct(Bt))}reactExports.useEffect(function(){Ht({type:"RESET"})},[Ht,Tt]),reactExports.useEffect(function(){if(!Tt)return;const hr=makeCancellablePromise(Tt.getAnnotations()),ar=hr;return hr.promise.then(or=>{Ht({type:"RESOLVE",value:or})}).catch(or=>{Ht({type:"REJECT",error:or})}),()=>{cancelRunningTask(ar)}},[Ht,Tt]),reactExports.useEffect(()=>{if(Zt!==void 0){if(Zt===!1){Yt();return}Kt()}},[Zt]);function Jt(){St&&St()}function er(rr){warning$1(!1,`${rr}`),ft&&ft(rr)}const tr=reactExports.useMemo(()=>Tt.getViewport({scale:$t,rotation:Rt}),[Tt,Rt,$t]);return reactExports.useEffect(function(){if(!kt||!Tt||!ut||!Zt)return;const{current:hr}=Ut;if(!hr)return;const ar=tr.clone({dontFlip:!0}),or={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,annotationStorage:kt.annotationStorage,commentManager:null,div:hr,l10n:null,linkService:ut,page:Tt,structTreeLayer:null,viewport:ar},cr={annotations:Zt,annotationStorage:kt.annotationStorage,div:hr,imageResourcesPath:ot,linkService:ut,page:Tt,renderForms:jt,viewport:ar};hr.innerHTML="";try{new AnnotationLayer$1(or).render(cr),Jt()}catch(gr){er(gr)}return()=>{}},[Zt,ot,ut,Tt,kt,jt,tr]),jsxRuntimeExports.jsx("div",{className:clsx("react-pdf__Page__annotations","annotationLayer"),ref:Ut})}const PDF_ROLE_TO_HTML_ROLE={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},HEADING_PATTERN=/^H(\d+)$/;function isPdfRole(et){return et in PDF_ROLE_TO_HTML_ROLE}function isStructTreeNode(et){return"children"in et}function isStructTreeNodeWithOnlyContentChild(et){return isStructTreeNode(et)?et.children.length===1&&0 in et.children&&"id"in et.children[0]:!1}function getRoleAttributes(et){const g={};if(isStructTreeNode(et)){const{role:it}=et,ot=it.match(HEADING_PATTERN);if(ot)g.role="heading",g["aria-level"]=Number(ot[1]);else if(isPdfRole(it)){const ut=PDF_ROLE_TO_HTML_ROLE[it];ut&&(g.role=ut)}}return g}function getBaseAttributes(et){const g={};if(isStructTreeNode(et)){if(et.alt!==void 0&&(g["aria-label"]=et.alt),et.lang!==void 0&&(g.lang=et.lang),isStructTreeNodeWithOnlyContentChild(et)){const[it]=et.children;if(it){const ot=getBaseAttributes(it);return{...g,...ot}}}}else"id"in et&&(g["aria-owns"]=et.id);return g}function getAttributes(et){return et?{...getRoleAttributes(et),...getBaseAttributes(et)}:null}function StructTreeItem({className:et,node:g}){const it=reactExports.useMemo(()=>getAttributes(g),[g]),ot=reactExports.useMemo(()=>!isStructTreeNode(g)||isStructTreeNodeWithOnlyContentChild(g)?null:g.children.map((ut,ct)=>jsxRuntimeExports.jsx(StructTreeItem,{node:ut},ct)),[g]);return jsxRuntimeExports.jsx("span",{className:et,...it,children:ot})}function StructTree(){const et=usePageContext();invariant(et,"Unable to find Page context.");const{onGetStructTreeError:g,onGetStructTreeSuccess:it}=et,[ot,ut]=useResolver(),{value:ct,error:dt}=ot,{customTextRenderer:ft,page:St}=et;function Tt(){ct&&it&&it(ct)}function kt(){dt&&(warning$1(!1,dt.toString()),g&&g(dt))}return reactExports.useEffect(function(){ut({type:"RESET"})},[ut,St]),reactExports.useEffect(function(){if(ft||!St)return;const Rt=makeCancellablePromise(St.getStructTree()),$t=Rt;return Rt.promise.then(zt=>{ut({type:"RESOLVE",value:zt})}).catch(zt=>{ut({type:"REJECT",error:zt})}),()=>cancelRunningTask($t)},[ft,St,ut]),reactExports.useEffect(()=>{if(ct!==void 0){if(ct===!1){kt();return}Tt()}},[ct]),ct?jsxRuntimeExports.jsx(StructTreeItem,{className:"react-pdf__Page__structTree structTree",node:ct}):null}const ANNOTATION_MODE=AnnotationMode;function Canvas(et){const g=usePageContext();invariant(g,"Unable to find Page context.");const it={...g,...et},{_className:ot,canvasBackground:ut,devicePixelRatio:ct=getDevicePixelRatio(),onRenderError:dt,onRenderSuccess:ft,page:St,renderForms:Tt,renderTextLayer:kt,rotate:jt,scale:Rt}=it,{canvasRef:$t}=et;invariant(St,"Attempted to render page canvas, but no page was specified.");const zt=reactExports.useRef(null);function Ht(){St&&ft&&ft(makePageCallback(St,Rt))}function Zt(Yt){isCancelException(Yt)||(warning$1(!1,Yt.toString()),dt&&dt(Yt))}const Bt=reactExports.useMemo(()=>St.getViewport({scale:Rt*ct,rotation:jt}),[ct,St,jt,Rt]),Ut=reactExports.useMemo(()=>St.getViewport({scale:Rt,rotation:jt}),[St,jt,Rt]);reactExports.useEffect(function(){if(!St)return;St.cleanup();const{current:Jt}=zt;if(!Jt)return;Jt.width=Bt.width,Jt.height=Bt.height,Jt.style.width=`${Math.floor(Ut.width)}px`,Jt.style.height=`${Math.floor(Ut.height)}px`,Jt.style.visibility="hidden";const er={annotationMode:Tt?ANNOTATION_MODE.ENABLE_FORMS:ANNOTATION_MODE.ENABLE,canvas:Jt,canvasContext:Jt.getContext("2d",{alpha:!1}),viewport:Bt};ut&&(er.background=ut);const tr=St.render(er),rr=tr;return tr.promise.then(()=>{Jt.style.visibility="",Ht()}).catch(Zt),()=>cancelRunningTask(rr)},[ut,St,Tt,Bt,Ut]);const Kt=reactExports.useCallback(()=>{const{current:Yt}=zt;Yt&&(Yt.width=0,Yt.height=0)},[]);return reactExports.useEffect(()=>Kt,[Kt]),jsxRuntimeExports.jsx("canvas",{className:`${ot}__canvas`,dir:"ltr",ref:mergeRefs($t,zt),style:{display:"block",userSelect:"none"},children:kt?jsxRuntimeExports.jsx(StructTree,{}):null})}function isTextItem(et){return"str"in et}function TextLayer(){const et=usePageContext();invariant(et,"Unable to find Page context.");const{customTextRenderer:g,onGetTextError:it,onGetTextSuccess:ot,onRenderTextLayerError:ut,onRenderTextLayerSuccess:ct,page:dt,pageIndex:ft,pageNumber:St,rotate:Tt,scale:kt}=et;invariant(dt,"Attempted to load page text content, but no page was specified.");const[jt,Rt]=useResolver(),{value:$t,error:zt}=jt,Ht=reactExports.useRef(null);warning$1(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function Zt(){$t&&ot&&ot($t)}function Bt(){zt&&(warning$1(!1,zt.toString()),it&&it(zt))}reactExports.useEffect(function(){Rt({type:"RESET"})},[dt,Rt]),reactExports.useEffect(function(){if(!dt)return;const rr=makeCancellablePromise(dt.getTextContent()),hr=rr;return rr.promise.then(ar=>{Rt({type:"RESOLVE",value:ar})}).catch(ar=>{Rt({type:"REJECT",error:ar})}),()=>cancelRunningTask(hr)},[dt,Rt]),reactExports.useEffect(()=>{if($t!==void 0){if($t===!1){Bt();return}Zt()}},[$t]);const Ut=reactExports.useCallback(()=>{ct&&ct()},[ct]),Kt=reactExports.useCallback(tr=>{warning$1(!1,tr.toString()),ut&&ut(tr)},[ut]);function Yt(){const tr=Ht.current;tr&&tr.classList.add("selecting")}function Jt(){const tr=Ht.current;tr&&tr.classList.remove("selecting")}const er=reactExports.useMemo(()=>dt.getViewport({scale:kt,rotation:Tt}),[dt,Tt,kt]);return reactExports.useLayoutEffect(function(){if(!dt||!$t)return;const{current:rr}=Ht;if(!rr)return;rr.innerHTML="";const hr=dt.streamTextContent({includeMarkedContent:!0}),ar={container:rr,textContentSource:hr,viewport:er},or=new TextLayer$1(ar),cr=or;return or.render().then(()=>{const gr=document.createElement("div");gr.className="endOfContent",rr.append(gr);const yr=rr.querySelectorAll('[role="presentation"]');if(g){let xr=0;$t.items.forEach((dr,pr)=>{if(!isTextItem(dr))return;const nr=yr[xr];if(!nr)return;const ir=g({pageIndex:ft,pageNumber:St,itemIndex:pr,...dr});nr.innerHTML=ir,xr+=dr.str&&dr.hasEOL?2:1})}Ut()}).catch(Kt),()=>cancelRunningTask(cr)},[g,Kt,Ut,dt,ft,St,$t,er]),jsxRuntimeExports.jsx("div",{className:clsx("react-pdf__Page__textContent","textLayer"),onMouseUp:Jt,onMouseDown:Yt,ref:Ht})}const defaultScale=1;function Page(et){const it={...useDocumentContext(),...et},{_className:ot="react-pdf__Page",_enableRegisterUnregisterPage:ut=!0,canvasBackground:ct,canvasRef:dt,children:ft,className:St,customRenderer:Tt,customTextRenderer:kt,devicePixelRatio:jt,error:Rt="Failed to load the page.",height:$t,inputRef:zt,loading:Ht="Loading page",noData:Zt="No page specified.",onGetAnnotationsError:Bt,onGetAnnotationsSuccess:Ut,onGetStructTreeError:Kt,onGetStructTreeSuccess:Yt,onGetTextError:Jt,onGetTextSuccess:er,onLoadError:tr,onLoadSuccess:rr,onRenderAnnotationLayerError:hr,onRenderAnnotationLayerSuccess:ar,onRenderError:or,onRenderSuccess:cr,onRenderTextLayerError:gr,onRenderTextLayerSuccess:yr,pageIndex:xr,pageNumber:dr,pdf:pr,registerPage:nr,renderAnnotationLayer:ir=!0,renderForms:mr=!1,renderMode:lr="canvas",renderTextLayer:br=!0,rotate:Er,scale:Sr=defaultScale,unregisterPage:_r,width:wr,...Ar}=it,[kr,Tr]=useResolver(),{value:Pr,error:Lr}=kr,Fr=reactExports.useRef(null);invariant(pr,"Attempted to load a page, but no document was specified. Wrap <Page /> in a <Document /> or pass explicit `pdf` prop.");const Dr=isProvided(dr)?dr-1:xr??null,Mr=dr??(isProvided(xr)?xr+1:null),Vr=Er??(Pr?Pr.rotate:null),qr=reactExports.useMemo(()=>{if(!Pr)return null;let un=1;const Yr=Sr??defaultScale;if(wr||$t){const Kn=Pr.getViewport({scale:1,rotation:Vr});wr?un=wr/Kn.width:$t&&(un=$t/Kn.height)}return Yr*un},[$t,Pr,Vr,Sr,wr]);reactExports.useEffect(function(){return()=>{isProvided(Dr)&&ut&&_r&&_r(Dr)}},[ut,pr,Dr,_r]);function Xr(){if(rr){if(!Pr||!qr)return;rr(makePageCallback(Pr,qr))}if(ut&&nr){if(!isProvided(Dr)||!Fr.current)return;nr(Dr,Fr.current)}}function Cr(){Lr&&(warning$1(!1,Lr.toString()),tr&&tr(Lr))}reactExports.useEffect(function(){Tr({type:"RESET"})},[Tr,pr,Dr]),reactExports.useEffect(function(){if(!pr||!Mr)return;const Yr=makeCancellablePromise(pr.getPage(Mr)),Kn=Yr;return Yr.promise.then(Qr=>{Tr({type:"RESOLVE",value:Qr})}).catch(Qr=>{Tr({type:"REJECT",error:Qr})}),()=>cancelRunningTask(Kn)},[Tr,pr,Mr]),reactExports.useEffect(()=>{if(Pr!==void 0){if(Pr===!1){Cr();return}Xr()}},[Pr,qr]);const Rr=reactExports.useMemo(()=>isProvided(Dr)&&Mr&&isProvided(Vr)&&isProvided(qr)?{_className:ot,canvasBackground:ct,customTextRenderer:kt,devicePixelRatio:jt,onGetAnnotationsError:Bt,onGetAnnotationsSuccess:Ut,onGetStructTreeError:Kt,onGetStructTreeSuccess:Yt,onGetTextError:Jt,onGetTextSuccess:er,onRenderAnnotationLayerError:hr,onRenderAnnotationLayerSuccess:ar,onRenderError:or,onRenderSuccess:cr,onRenderTextLayerError:gr,onRenderTextLayerSuccess:yr,page:Pr,pageIndex:Dr,pageNumber:Mr,renderForms:mr,renderTextLayer:br,rotate:Vr,scale:qr}:null,[ot,ct,kt,jt,Bt,Ut,Kt,Yt,Jt,er,hr,ar,or,cr,gr,yr,Pr,Dr,Mr,mr,br,Vr,qr]),Ir=reactExports.useMemo(()=>makeEventProps(Ar,()=>Pr&&(qr?makePageCallback(Pr,qr):void 0)),[Ar,Pr,qr]),Or=`${Dr}@${qr}/${Vr}`;function jr(){switch(lr){case"custom":return invariant(Tt,'renderMode was set to "custom", but no customRenderer was passed.'),jsxRuntimeExports.jsx(Tt,{},`${Or}_custom`);case"none":return null;case"canvas":default:return jsxRuntimeExports.jsx(Canvas,{canvasRef:dt},`${Or}_canvas`)}}function Hr(){return br?jsxRuntimeExports.jsx(TextLayer,{},`${Or}_text`):null}function Ur(){return ir?jsxRuntimeExports.jsx(AnnotationLayer,{},`${Or}_annotations`):null}function zr(){function un(Kn){return!!(Kn!=null&&Kn.page)}if(!un(Rr))throw new Error("page is undefined");const Yr=typeof ft=="function"?ft(Rr):ft;return jsxRuntimeExports.jsxs(PageContext.Provider,{value:Rr,children:[jr(),Hr(),Ur(),Yr]})}function ln(){return Mr?pr===null||Pr===void 0||Pr===null?jsxRuntimeExports.jsx(Message,{type:"loading",children:typeof Ht=="function"?Ht():Ht}):pr===!1||Pr===!1?jsxRuntimeExports.jsx(Message,{type:"error",children:typeof Rt=="function"?Rt():Rt}):zr():jsxRuntimeExports.jsx(Message,{type:"no-data",children:typeof Zt=="function"?Zt():Zt})}return jsxRuntimeExports.jsx("div",{className:clsx(ot,St),"data-page-number":Mr,ref:mergeRefs(zt,Fr),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${qr}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:ct||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"},...Ir,children:ln()})}displayWorkerWarning();GlobalWorkerOptions.workerSrc="pdf.worker.mjs";GlobalWorkerOptions.workerSrc=new URL("/pdf.worker.min.js",window.location.origin).toString();function PDFPreviewModal({fileUrl:et,onClose:g}){console.log(" PDFPreviewModal mounted with fileUrl:",et);const[it,ot]=reactExports.useState(null),[ut,ct]=reactExports.useState(1.2),[dt,ft]=reactExports.useState(!1),[St,Tt]=reactExports.useState(!1),[kt,jt]=reactExports.useState(null),Rt=reactExports.useMemo(()=>et?{url:`https://cre8tlystudio.com/api/pdf/proxy?url=${encodeURIComponent(et)}`}:null,[et]);if(!et)return null;reactExports.useEffect(()=>{if(!et)return;let zt,Ht=0;const Zt=async()=>{try{const Bt=await fetch(Rt.url,{method:"HEAD"}),Ut=Bt.headers.get("content-type");Bt.ok&&(Ut!=null&&Ut.includes("pdf"))?ft(!0):Ht<10?(Ht++,zt=setTimeout(Zt,1500)):jt("PDF is still being finalized. Try again in a few seconds.")}catch{Ht<10?(Ht++,zt=setTimeout(Zt,1500)):jt("PDF is still being finalized. Try again shortly.")}};return Zt(),()=>clearTimeout(zt)},[et]);const $t=async()=>{try{Tt(!0);const zt=await fetch(Rt.url);if(!zt.ok)throw new Error(`Failed: ${zt.status} ${zt.statusText}`);const Ht=await zt.blob(),Zt=URL.createObjectURL(Ht),Bt=document.createElement("a");Bt.href=Zt,Bt.download="lead-magnet.pdf",document.body.appendChild(Bt),Bt.click(),document.body.removeChild(Bt),URL.revokeObjectURL(Zt),await new Promise(Ut=>setTimeout(Ut,2e3))}catch(zt){console.error("Download error:",zt),alert(" Download failed. Please try again.")}finally{Tt(!1)}};return reactExports.useEffect(()=>{if(!et){ft(!1),jt(null),Tt(!1),ot(null),ct(1.2);return}ft(!1),jt(null),Tt(!1),ot(null),ct(1.2)},[et,g]),reactExports.useEffect(()=>{const zt=()=>ct(window.innerWidth<640?.8:1.2);return window.addEventListener("resize",zt),zt(),()=>window.removeEventListener("resize",zt)},[]),jsxRuntimeExports.jsxs("div",{className:"fixed inset-0 bg-black/95 backdrop-blur-md z-50 flex flex-col items-center justify-center p-4",children:[jsxRuntimeExports.jsxs("div",{className:"w-full max-w-5xl flex items-center justify-between mb-4 bg-[#111]/80 border border-gray-800 rounded-xl px-5 py-3 shadow-lg",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-3 text-white/80 font-semibold text-lg tracking-wide",children:" PDF Preview"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:()=>ct(ut+.2),className:"p-2 rounded-lg hover:bg-gray-800 text-gray-300 transition",title:"Zoom In",children:jsxRuntimeExports.jsx(ZoomIn,{size:20})}),jsxRuntimeExports.jsx("button",{onClick:()=>ct(Math.max(ut-.2,.6)),className:"p-2 rounded-lg hover:bg-gray-800 text-gray-300 transition",title:"Zoom Out",children:jsxRuntimeExports.jsx(ZoomOut,{size:20})}),jsxRuntimeExports.jsx("button",{onClick:$t,disabled:St,className:`p-2 rounded-lg transition text-white ${St?"bg-green-800 cursor-wait":"bg-green-600 hover:bg-green-600/90"}`,title:"Download",children:St?jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-2 text-sm",children:[jsxRuntimeExports.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",viewBox:"0 0 24 24",children:[jsxRuntimeExports.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"white",strokeWidth:"4"}),jsxRuntimeExports.jsx("path",{className:"opacity-75",fill:"white",d:"M4 12a8 8 0 018-8v4l3-3-3-3v4a8 8 0 00-8 8z"})]}),"Downloading"]}):jsxRuntimeExports.jsx(Download,{size:20})}),jsxRuntimeExports.jsx("button",{onClick:g,className:"p-2 rounded-lg hover:bg-red-600/90 bg-red-600 text-white transition",title:"Close",children:jsxRuntimeExports.jsx(X,{size:20})})]})]}),jsxRuntimeExports.jsxs("div",{className:"relative w-full max-w-5xl max-h-[85vh] overflow-y-auto bg-[#121212] border border-gray-800 rounded-xl shadow-lg flex justify-center p-2 sm:p-6",children:[!dt&&!kt&&jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-white z-20 bg-black/70 backdrop-blur-sm rounded-xl",children:[jsxRuntimeExports.jsxs("svg",{className:"animate-spin h-8 w-8 text-[#00e0ff] mb-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[jsxRuntimeExports.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),jsxRuntimeExports.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4l3-3-3-3v4a8 8 0 00-8 8z"})]}),jsxRuntimeExports.jsx("p",{className:"text-lg font-medium animate-pulse",children:" Finalizing your PDF  just a few more seconds..."}),jsxRuntimeExports.jsx("div",{className:"w-64 h-2 bg-gray-800 rounded-full overflow-hidden mt-4",children:jsxRuntimeExports.jsx("div",{className:"h-full bg-gradient-to-r from-[#00e0ff] via-[#00e07a] to-[#00e0ff] animate-progress"})})]}),kt&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-red-400 z-20 bg-black/70 backdrop-blur-sm rounded-xl",children:jsxRuntimeExports.jsx("p",{className:"text-center px-6 text-sm",children:kt})}),jsxRuntimeExports.jsx("div",{className:"w-full flex justify-center",children:dt&&!kt&&jsxRuntimeExports.jsx(Document$1,{file:Rt,onLoadSuccess:({numPages:zt})=>ot(zt),onLoadError:zt=>{console.error("PDF load error:",zt),jt("Failed to load PDF file.")},loading:jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Loading PDF"}),children:jsxRuntimeExports.jsx("div",{className:"flex flex-col items-center w-full",children:Array.from(new Array(it||0),(zt,Ht)=>jsxRuntimeExports.jsx(Page,{pageNumber:Ht+1,scale:ut,renderTextLayer:!1,renderAnnotationLayer:!1,className:"mb-4",width:Math.min(window.innerWidth-40,900)},`page_${Ht+1}`))})})})]})]})}function MagnetTable({magnets:et=[],onAddPrompt:g}){const[it,ot]=reactExports.useState(null);return!Array.isArray(et)||et.length===0?null:jsxRuntimeExports.jsxs("div",{className:"bg-[#111] hidden md:block overflow-x-auto",children:[jsxRuntimeExports.jsxs("table",{className:"min-w-full border border-gray-700 text-white",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-800",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left",children:"Slot"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left",children:"Created"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left",children:"Theme"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left",children:"Prompt"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{children:et.map(ut=>{var ct,dt,ft;return jsxRuntimeExports.jsxs("tr",{className:"border-t border-gray-700",children:[jsxRuntimeExports.jsxs("td",{className:"px-4 py-2",children:["Slot #",ut.slot_number]}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-2",children:[new Date(ut.created_at).toLocaleDateString()," "]}),jsxRuntimeExports.jsx("td",{className:"px-4 py-2",children:ut.status==="completed"?jsxRuntimeExports.jsx("span",{className:"bg-green text-black px-2 py-1 rounded-full text-xs font-semibold",children:"Completed"}):ut.status==="failed"?jsxRuntimeExports.jsx("span",{className:"bg-red-500 text-white px-2 py-1 rounded-full text-xs font-semibold",children:"Failed"}):ut.status==="pending"?jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-2 text-yellow italic",children:[jsxRuntimeExports.jsxs("svg",{className:"animate-spin h-4 w-4 text-yellow",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[jsxRuntimeExports.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),jsxRuntimeExports.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Generating your PDF"]}):jsxRuntimeExports.jsx("span",{className:"text-gray-400 italic",children:"Idle..."})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-2",children:ut.theme?jsxRuntimeExports.jsx("span",{className:"inline-block px-3 py-1 rounded-full text-xs font-semibold capitalize",style:{background:((ct=themeStyles[ut.theme])==null?void 0:ct.background)||"#333",color:((dt=themeStyles[ut.theme])==null?void 0:dt.color)||"#fff",border:((ft=themeStyles[ut.theme])==null?void 0:ft.border)||"none"},children:ut.theme}):jsxRuntimeExports.jsx("span",{className:"text-gray-500 italic",children:"N/A"})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-2",children:ut.prompt?"Submitted":"Not submitted"}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-2 flex gap-2",children:[!ut.prompt&&jsxRuntimeExports.jsx("button",{onClick:()=>g(ut.id),className:"px-3 py-1 bg-royalPurple rounded text-sm",children:"Add Prompt"}),ut.pdf_url&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx("button",{onClick:()=>ot(ut.pdf_url),className:"px-4 py-1 bg-blue rounded text-sm",children:"Download"})})]})]},ut.id)})})]}),it&&jsxRuntimeExports.jsx(PDFPreviewModal,{fileUrl:it,onClose:()=>ot(null)})]})}function MagnetCardList({magnets:et=[],onAddPrompt:g}){const[it,ot]=reactExports.useState(null);return!Array.isArray(et)||et.length===0?null:jsxRuntimeExports.jsxs("div",{className:"md:hidden space-y-4",children:[et.map((ut,ct)=>{var dt,ft,St;return jsxRuntimeExports.jsxs("div",{className:"bg-neo p-4 rounded-xl shadow border border-gray-700",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm text-white font-semibold mb-2",children:["Slot #",ut.slot_number||ct+1]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-silver",children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Created:"})," ",new Date(ut.created_at).toLocaleDateString()," ",new Date(ut.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-silver mt-1",children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Status:"})," ",ut.status==="completed"?jsxRuntimeExports.jsx("span",{className:"bg-green text-black px-2 py-1 rounded-full text-xs font-semibold",children:"Completed"}):ut.status==="failed"?jsxRuntimeExports.jsx("span",{className:"bg-red-500 text-white px-2 py-1 rounded-full text-xs font-semibold",children:"Failed"}):ut.status==="pending"?jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-2 text-yellow-400 italic",children:[jsxRuntimeExports.jsxs("svg",{className:"animate-spin h-4 w-4 text-yellow",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[jsxRuntimeExports.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),jsxRuntimeExports.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Generating your PDF"]}):jsxRuntimeExports.jsx("span",{className:"text-gray-400 italic",children:"Idle..."})]}),jsxRuntimeExports.jsxs("p",{className:"py-2 flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"font-semibold text-silver",children:"Theme:"}),ut.theme?jsxRuntimeExports.jsx("span",{className:"inline-block px-3 py-1 rounded-full text-xs font-semibold capitalize",style:{background:((dt=themeStyles[ut.theme])==null?void 0:dt.background)||"#333",color:((ft=themeStyles[ut.theme])==null?void 0:ft.color)||"#fff",border:((St=themeStyles[ut.theme])==null?void 0:St.border)||"none"},children:ut.theme}):jsxRuntimeExports.jsx("span",{className:"text-gray-500 italic",children:"N/A"})]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-silver mt-1",children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Prompt:"})," ",ut.prompt?"Submitted":"Not submitted"]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 mt-3",children:[!ut.prompt&&jsxRuntimeExports.jsx("button",{onClick:()=>g(ut.id),className:"flex-1 px-3 py-2 bg-royalPurple text-white rounded",children:"Add Prompt"}),ut.pdf_url&&jsxRuntimeExports.jsx("button",{onClick:()=>ot(ut.pdf_url),className:"flex-1 px-3 py-2 bg-blue text-white rounded",children:"Download"})]})]},ut.id)}),it&&jsxRuntimeExports.jsx(PDFPreviewModal,{fileUrl:it,onClose:()=>ot(null)})]})}function PaginationControls({currentPage:et,totalPages:g,onPageChange:it}){return g<=1?null:jsxRuntimeExports.jsxs("div",{className:"flex justify-center items-center gap-4 mt-6",children:[jsxRuntimeExports.jsx("button",{disabled:et===1,onClick:()=>it(et-1),className:"px-4 py-2 bg-gray-700 text-white rounded disabled:opacity-50",children:"Prev"}),jsxRuntimeExports.jsxs("span",{className:"text-white",children:["Page ",et," of ",g]}),jsxRuntimeExports.jsx("button",{disabled:et===g,onClick:()=>it(et+1),className:"px-4 py-2 bg-gray-700 text-white rounded disabled:opacity-50",children:"Next"})]})}function SupportTab(){const[et,g]=reactExports.useState(!1),it=[{q:"How do I generate a lead magnet?",a:"Fill out your prompt, upload a logo, add your link, select a theme, and click Generate. Your PDF will be automatically created and ready to download."},{q:"How long does it take?",a:"Most PDFs take between 515 seconds to generate, depending on the number of pages and theme you select."},{q:"Where can I find my generated PDFs?",a:"All completed lead magnets are available in your dashboard under My Lead Magnets. You can view, download, or regenerate them anytime."},{q:"Can I generate more than one lead magnet?",a:"Yes! You can create as many as you want. Simply open the Lead Magnet Creator and repeat the process with a new prompt or design."},{q:"Can I use my own branding?",a:"Absolutely. You can upload your own logo and link to your website or product page. Themes adjust automatically to fit your brand look."},{q:"What are Pro Covers?",a:"Pro Covers is an exclusive upgrade that lets you upload custom cover images for your lead magnets. Your uploaded cover appears as the first page of your PDF, giving your content a professional, branded presentation. Available only for users with the Pro Covers plan."},{q:"Can I edit or regenerate an existing PDF?",a:"No. Each slot is designed for a single finalized PDF to ensure fair usage and prevent system abuse. Allowing unlimited regenerations could cause performance issues and disrupt other users workflows. If youd like to create a new version, please start a new lead magnet using a fresh slot."},{q:"Do you offer refunds?",a:"Since Cre8tly Studio is a digital service that instantly generates custom content, we do not offer refunds after delivery. However, if you experience a technical issue or duplicate charge, please reach out, well make it right."},{q:"Can I upgrade my plan or buy more credits?",a:"Yes. Additional credits and premium plans are available directly from your account dashboard."},{q:"What if I reach my limit?",a:"If youve hit your plan limit, youll see a message prompting you to upgrade or purchase more credits. Youll never lose access to past PDFs."},{q:"How do I contact support?",a:"You can reach out anytime on our Contact Us page Our team typically responds within 24-48 hours, MondayFriday."}];return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{onClick:()=>g(!0),className:"fixed bottom-6 right-6 bg-green text-black font-semibold px-5 py-3 rounded-full shadow-lg hover:opacity-90 transition-all z-50",children:" Support"}),et&&jsxRuntimeExports.jsx("div",{onClick:()=>g(!1),className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{onClick:ot=>ot.stopPropagation(),className:"bg-gray-900 text-white p-8 rounded-2xl w-full max-w-2xl border border-gray-700 shadow-2xl relative max-h-[80vh] overflow-y-auto",children:[jsxRuntimeExports.jsx("button",{onClick:()=>g(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-red-400 text-xl",children:""}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold mb-6 text-center text-green",children:"Frequently Asked Questions"}),jsxRuntimeExports.jsx("div",{className:"space-y-5 text-gray-300",children:it.map((ot,ut)=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-white",children:ot.q}),jsxRuntimeExports.jsx("p",{className:"text-sm mt-1 leading-relaxed",children:ot.a})]},ut))}),jsxRuntimeExports.jsx("div",{className:"mt-6 text-center",children:jsxRuntimeExports.jsx(Link,{to:"/contact",className:"text-green font-medium hover:underline",children:"Need more help? Contact Support "})})]})})]})}function GenerationOverlay({visible:et,progress:g,type:it="lead"}){return jsxRuntimeExports.jsx(AnimatePresence,{children:et&&jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.4,ease:"easeInOut"},className:"fixed inset-0 flex flex-col items-center justify-center bg-black/80 backdrop-blur-sm z-[9999] text-center p-6",children:[jsxRuntimeExports.jsx(motion.h2,{animate:{opacity:[.6,1,.6]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"text-white text-xl sm:text-2xl font-semibold mb-4",children:it==="book"?" Generating your book...":" Creating your lead magnet..."}),jsxRuntimeExports.jsx("div",{className:"w-3/4 max-w-md",children:jsxRuntimeExports.jsx("div",{className:"w-full h-3 bg-gray-700 rounded-full overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:"h-full bg-gradient-to-r from-[#00E07A] to-[#6A5ACD] transition-all duration-200",style:{width:`${g}%`}})})}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm mt-4 italic",children:it==="book"?"This may take a few minutes  crafting a great story takes time ":"This might take a moment  crafting something powerful "})]},"overlay")})}function CustomerDashboard(){const{user:et,accessToken:g}=useAuth(),{magnets:it,setMagnets:ot,fetchMagnets:ut,loading:ct}=useMagnets(),[dt,ft]=reactExports.useState(!1),[St,Tt]=reactExports.useState(!1),[kt,jt]=reactExports.useState(null),[Rt,$t]=reactExports.useState(1),[zt,Ht]=reactExports.useState(!1),[Zt,Bt]=reactExports.useState(!1),[Ut,Kt]=reactExports.useState(0),Yt=useLocation(),Jt=useNavigate(),er=10;if(typeof window<"u"){const xr=new URLSearchParams(Yt.search);xr.get("session_id")&&(console.log(" Stripe checkout success:",xr.get("session_id")),ut(),window.history.replaceState({},document.title,"/dashboard"))}function tr(xr,dr,pr){ot(nr=>nr.map(ir=>ir.id===xr?{...ir,prompt:dr,status:"pending",theme:pr}:ir)),setTimeout(ut,3e3)}function rr(){zt?ft(!0):Jt("/plans")}const hr=[...it].sort((xr,dr)=>(xr.slot_number||0)-(dr.slot_number||0)),ar=Math.ceil(hr.length/er),or=(Rt-1)*er,cr=hr.slice(or,or+er);function gr(xr){jt(xr),Tt(!0)}async function yr(){try{await(await fetch("https://cre8tlystudio.com/api/auth/me",{headers:{Authorization:`Bearer ${g}`},credentials:"include"})).json()&&ut()}catch(xr){console.error("Failed to refresh slots:",xr)}}return reactExports.useEffect(()=>{et!=null&&et.has_book&&!(et!=null&&et.has_magnet)&&Jt("/books")},[et]),reactExports.useEffect(()=>{async function xr(){try{await getVersion(),Ht(!0),console.log(" Running inside Tauri app")}catch{console.log(" Running in browser"),Ht(!1)}}xr()},[]),jsxRuntimeExports.jsxs("div",{className:"p-6 pt-28 min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:[jsxRuntimeExports.jsx(DashboardHeader,{type:"magnet",items:it,onCheckout:rr}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3 mb-8",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Jt("/dashboard"),className:`px-4 py-2 rounded-lg ${Yt.pathname==="/dashboard"?"bg-blue text-white":"bg-gray-700 text-gray-200"}`,children:" Lead Magnets"}),et!=null&&et.has_book?jsxRuntimeExports.jsx("button",{onClick:()=>Jt("/books"),className:`px-4 py-2 rounded-lg ${Yt.pathname==="/books"?"bg-blue text-white":"bg-gray-700 text-gray-200"}`,children:" Books"}):jsxRuntimeExports.jsx("button",{onClick:()=>Jt("/books-upgrade"),className:"px-4 py-2 rounded-lg bg-gray-800 text-gray-400 hover:bg-gray-700",children:" Unlock Books"})]}),ct?jsxRuntimeExports.jsx(LoadingState,{}):it.length===0?jsxRuntimeExports.jsx(EmptyState,{onCheckout:rr,type:"magnet"}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(MagnetTable,{magnets:cr,onAddPrompt:gr}),jsxRuntimeExports.jsx(MagnetCardList,{magnets:cr,onAddPrompt:gr}),jsxRuntimeExports.jsx(PaginationControls,{currentPage:Rt,totalPages:ar,onPageChange:$t}),jsxRuntimeExports.jsx(SupportTab,{})]}),kt&&jsxRuntimeExports.jsx(PromptModal,{isOpen:St,onClose:()=>Tt(!1),magnetId:kt,accessToken:g,setShowGenerating:Bt,setProgress:Kt,onSubmitted:tr}),jsxRuntimeExports.jsx(OutOfSlotsModal,{open:dt,onClose:()=>ft(!1),onRefresh:yr,isFirstTime:it.length===0}),jsxRuntimeExports.jsx(GenerationOverlay,{visible:Zt,progress:Ut,type:"lead"})]})}function AdminDashboard(){const{accessToken:et}=useAuth(),[g,it]=reactExports.useState([]);return reactExports.useEffect(()=>{async function ot(){try{const ut=await axios$1.get("https://cre8tlystudio.com/api/lead-magnets/all",{headers:{Authorization:`Bearer ${et}`}});it(ut.data)}catch(ut){console.error("Error fetching all lead magnets:",ut)}}ot()},[et]),jsxRuntimeExports.jsxs("div",{className:"p-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"All Lead Magnets"}),jsxRuntimeExports.jsx("ul",{className:"space-y-2",children:g.map(ot=>jsxRuntimeExports.jsxs("li",{className:"bg-charcoal p-4 rounded-lg text-white",children:[jsxRuntimeExports.jsxs("p",{children:["User: ",ot.user_id]}),jsxRuntimeExports.jsxs("p",{children:["Prompt: ",ot.prompt]}),jsxRuntimeExports.jsxs("p",{children:["Status: ",jsxRuntimeExports.jsx("span",{className:"text-green",children:ot.status})]})]},ot.id))})]})}function Contact(){const[et,g]=reactExports.useState({name:"",email:"",subject:"",message:""}),[it,ot]=reactExports.useState(!1),ut=dt=>{g({...et,[dt.target.name]:dt.target.value})},ct=async dt=>{dt.preventDefault(),ot(!0);try{await axios$1.post("https://cre8tlystudio.com/api/support/contact",et),y$4.success(" Message sent! We'll get back to you soon.",{position:"top-center"}),g({name:"",email:"",subject:"",message:""})}catch(ft){console.error(ft),y$4.error(" Something went wrong. Please try again later.",{position:"top-center"})}finally{ot(!1)}};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("section",{className:"min-h-screen bg-gray-950 text-white flex items-center justify-center px-6 py-20",children:jsxRuntimeExports.jsxs("div",{className:"max-w-2xl w-full bg-gray-900 p-8 rounded-2xl border border-gray-700 shadow-2xl",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-green text-center mb-6",children:"Contact Support"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 text-center mb-8",children:"Have questions or need help? Fill out the form below and our support team will respond within 2448 hours."}),jsxRuntimeExports.jsxs("form",{onSubmit:ct,className:"space-y-4",children:[jsxRuntimeExports.jsx("input",{type:"text",name:"name",value:et.name,onChange:ut,placeholder:"Your Name",required:!0,className:"w-full px-4 py-3 rounded-lg bg-gray-800 border border-gray-700 focus:outline-none focus:border-green text-white"}),jsxRuntimeExports.jsx("input",{type:"email",name:"email",value:et.email,onChange:ut,placeholder:"Email associated with your account",required:!0,className:"w-full px-4 py-3 rounded-lg bg-gray-800 border border-gray-700 focus:outline-none focus:border-green text-white"}),jsxRuntimeExports.jsx("input",{type:"text",name:"subject",value:et.subject,onChange:ut,placeholder:"Subject (optional)",className:"w-full px-4 py-3 rounded-lg bg-gray-800 border border-gray-700 focus:outline-none focus:border-green text-white"}),jsxRuntimeExports.jsx("textarea",{name:"message",value:et.message,onChange:ut,placeholder:"Write your message...",rows:6,required:!0,className:"w-full px-4 py-3 rounded-lg bg-gray-800 border border-gray-700 focus:outline-none focus:border-green text-white resize-none"}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:it,className:"w-full bg-green text-black font-semibold py-3 rounded-lg hover:opacity-90 transition-all",children:it?"Sending...":"Send Message"})]})]})}),jsxRuntimeExports.jsx(Footer,{})]})}function PlansPage(){const[et,g]=reactExports.useState(null),{user:it}=useAuth(),ot=async ut=>{if(!it||!it.id){y$4.error("Please sign in before selecting a plan");return}try{g(ut);const ct=localStorage.getItem("accessToken"),dt=await axiosInstance.post("/checkout",{userId:it.id,productType:ut==="pro"?"pro_covers":"basic"},{headers:{Authorization:`Bearer ${ct}`}});window.location.href=dt.data.url}catch(ct){console.error("Checkout error:",ct),y$4.error("Failed to start checkout session"),g(null)}};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-black via-gray-900 to-black text-white flex flex-col items-center justify-center px-6 py-16",children:[jsxRuntimeExports.jsx("h1",{className:"text-5xl font-extrabold mb-12 tracking-tight text-center",children:"Choose Your Plan"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10 w-full max-w-6xl",children:[jsxRuntimeExports.jsx("div",{className:"relative p-[2px] rounded-3xl bg-gradient-to-r from-purple-600 via-blue-500 to-purple-600 shadow-[0_0_25px_rgba(147,51,234,0.4)] hover:shadow-[0_0_45px_rgba(147,51,234,0.7)] transition-all duration-500",children:jsxRuntimeExports.jsxs("div",{className:"rounded-3xl bg-gradient-to-b from-gray-900 to-gray-800 p-10 flex flex-col justify-between min-h-[460px] text-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-semibold mb-3 text-white lead-text",children:"Basic Creator"}),jsxRuntimeExports.jsxs("p",{className:"text-gray-400 mb-4 text-sm leading-relaxed",children:["Includes ",jsxRuntimeExports.jsx("span",{className:"text-white font-medium lead-text",children:"5 lead magnet slots "}),"and access to all standard lead magnet templates."]}),jsxRuntimeExports.jsx("p",{className:"text-4xl font-extrabold mb-6 text-white lead-text",children:"$47"})]}),jsxRuntimeExports.jsx("button",{onClick:()=>ot("basic"),disabled:et==="basic",className:`mt-auto py-3 px-6 text-lg font-semibold rounded-xl transition-all duration-300 shadow-lg ${et==="basic"?"opacity-50 cursor-not-allowed bg-gray-700":"bg-royalPurple hover:bg-purple-800 hover:shadow-[0_0_25px_rgba(147,51,234,0.6)] text-white"}`,children:et==="basic"?"Redirecting...":"Select Basic Plan"})]})}),jsxRuntimeExports.jsx("div",{className:"relative p-[2px] rounded-3xl bg-gradient-to-r from-green-500 via-emerald-400 to-green-500 shadow-[0_0_25px_rgba(0,255,153,0.3)] hover:shadow-[0_0_45px_rgba(0,255,153,0.6)] transition-all duration-500",children:jsxRuntimeExports.jsxs("div",{className:"rounded-3xl bg-gradient-to-b from-gray-900 to-gray-800 p-10 flex flex-col justify-between min-h-[460px] text-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-semibold mb-3 text-green-400 lead-text",children:"Pro Covers"}),jsxRuntimeExports.jsxs("p",{className:"text-gray-300 mb-4 text-sm leading-relaxed lead-text",children:["Everything in Basic plus",jsxRuntimeExports.jsx("span",{className:"text-white font-medium lead-text",children:" unlimited custom cover uploads "}),"for your lead magnets."]}),jsxRuntimeExports.jsx("p",{className:"text-4xl font-extrabold mb-6 text-green lead-text",children:"$120 One-Time"})]}),jsxRuntimeExports.jsx("button",{onClick:()=>ot("pro"),disabled:et==="pro",className:`mt-auto py-3 px-6 text-lg font-semibold rounded-xl transition-all duration-300 shadow-lg ${et==="pro"?"opacity-50 cursor-not-allowed bg-gray-700":"bg-headerGreen hover:bg-green-700 hover:shadow-[0_0_25px_rgba(0,255,153,0.6)] text-white lead-text"}`,children:et==="pro"?"Redirecting...":"Upgrade to Pro Covers"})]})})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-sm mt-10 text-center",children:" Secure Checkout"})]})}const isTauri=!!window.__TAURI__,App=()=>{const et=useLocation();return reactExports.useEffect(()=>{if(et.hash){const g=document.querySelector(et.hash);g&&setTimeout(()=>{g.scrollIntoView({behavior:"smooth",block:"start"})},200)}},[et]),isTauri?jsxRuntimeExports.jsx("main",{className:"flex items-center justify-center min-h-screen bg-black text-white text-xl font-semibold",children:"Redirecting to app..."}):jsxRuntimeExports.jsxs("main",{children:[jsxRuntimeExports.jsx(Nav,{}),jsxRuntimeExports.jsx("section",{id:"landing",className:"padding",children:jsxRuntimeExports.jsx(Landing,{})}),jsxRuntimeExports.jsx(Footer,{})]})},ReactToastify="",index="";function EntryRouter(){const et=useNavigate(),g=!!window.__TAURI__;return reactExports.useEffect(()=>{const it=setTimeout(()=>{const ot=localStorage.getItem("accessToken");g?(console.log(" Running in Tauri environment"),ot?et("/dashboard",{replace:!0}):et("/login",{replace:!0})):(console.log(" Running in browser environment"),et("/home",{replace:!0}))},250);return()=>clearTimeout(it)},[et,g]),jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center min-h-screen bg-[#030712] text-white text-xl font-semibold",children:"Loading Cre8tly Studio..."})}function ForgotPassword(){const[et,g]=reactExports.useState(""),[it,ot]=reactExports.useState(!1),ut=useNavigate(),ct=async dt=>{var ft,St;if(dt.preventDefault(),!et)return y$4.error("Please enter your email address.");ot(!0);try{console.log("sending email:",et);const Tt=await axiosInstance.post("/auth/forgot-password",{email:et});y$4.success(Tt.data.message),g(""),setTimeout(()=>ut("/login"),2500)}catch(Tt){console.error("Forgot password error:",Tt),y$4.error(((St=(ft=Tt.response)==null?void 0:ft.data)==null?void 0:St.message)||"Error sending reset email.")}finally{ot(!1)}};return jsxRuntimeExports.jsxs("div",{style:{backgroundColor:"#030712",isolation:"isolate",minHeight:"100vh",display:"flex",flexDirection:"column"},children:[jsxRuntimeExports.jsx("section",{className:"flex flex-col justify-center items-center flex-grow text-white px-6 py-20",children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-md bg-gray-900 p-8 rounded-2xl border border-gray-800 shadow-2xl",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-green text-center mb-6",children:"Forgot Password"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 text-center mb-8",children:"Enter your email below and well send you a link to reset your password."}),jsxRuntimeExports.jsxs("form",{onSubmit:ct,className:"space-y-5",children:[jsxRuntimeExports.jsx("input",{type:"email",value:et,onChange:dt=>g(dt.target.value),placeholder:"Email Address",required:!0,className:"w-full px-4 py-3 rounded-lg bg-gray-800 border border-gray-700 focus:outline-none focus:border-green text-white"}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:it,className:"w-full bg-green text-black font-semibold py-3 rounded-lg hover:opacity-90 transition-all",children:it?"Sending...":"Send Reset Link"})]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-400 text-center mt-6",children:["Remember your password?"," ",jsxRuntimeExports.jsx("a",{href:"/login",className:"text-green hover:underline",children:"Back to Login"})]})]})}),jsxRuntimeExports.jsx(Footer,{})]})}function ResetPassword(){const[et]=useSearchParams(),[g,it]=reactExports.useState(""),[ot,ut]=reactExports.useState(""),[ct,dt]=reactExports.useState(!1),[ft,St]=reactExports.useState(!1),Tt=useNavigate(),kt=et.get("token");reactExports.useEffect(()=>{kt||(y$4.error("Invalid or missing reset token."),Tt("/login"))},[kt,Tt]);const jt=async Rt=>{var $t,zt;if(Rt.preventDefault(),!g||!ot)return y$4.error("Please enter and confirm your new password.");if(g!==ot)return y$4.error("Passwords do not match.");dt(!0);try{const Ht=await axiosInstance.post("/auth/reset-password",{token:kt,newPassword:g});y$4.success(Ht.data.message||"Password reset successful!"),St(!0),setTimeout(()=>Tt("/login"),3500)}catch(Ht){console.error("Reset password error:",Ht),y$4.error(((zt=($t=Ht.response)==null?void 0:$t.data)==null?void 0:zt.message)||"Error resetting password.")}finally{dt(!1)}};return jsxRuntimeExports.jsxs("div",{style:{backgroundColor:"#030712",isolation:"isolate",minHeight:"100vh",display:"flex",flexDirection:"column"},children:[jsxRuntimeExports.jsx("section",{className:"flex flex-col justify-center items-center flex-grow text-white px-6 py-20",children:jsxRuntimeExports.jsx(AnimatePresence,{mode:"wait",children:ft?jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.4},className:"w-full max-w-md bg-gray-900 p-8 rounded-2xl border border-gray-800 shadow-2xl text-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-green mb-6",children:"Password Reset Successful"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 mb-6",children:"Your password has been updated successfully. You can now log in with your new password."}),jsxRuntimeExports.jsx("div",{className:"flex justify-center",children:jsxRuntimeExports.jsx("button",{onClick:()=>Tt("/login"),className:"bg-green text-black font-semibold px-6 py-3 rounded-lg hover:opacity-90 transition-all",children:"Go to Login"})})]},"success"):jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},exit:{opacity:0,y:-15},transition:{duration:.4},className:"w-full max-w-md bg-gray-900 p-8 rounded-2xl border border-gray-800 shadow-2xl",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-green text-center mb-6",children:"Reset Password"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 text-center mb-8",children:"Enter your new password below to reset your account."}),jsxRuntimeExports.jsxs("form",{onSubmit:jt,className:"space-y-5",children:[jsxRuntimeExports.jsx("input",{type:"password",value:g,onChange:Rt=>it(Rt.target.value),placeholder:"New Password",required:!0,className:"w-full px-4 py-3 rounded-lg bg-gray-800 border border-gray-700 focus:outline-none focus:border-green text-white"}),jsxRuntimeExports.jsx("input",{type:"password",value:ot,onChange:Rt=>ut(Rt.target.value),placeholder:"Confirm New Password",required:!0,className:"w-full px-4 py-3 rounded-lg bg-gray-800 border border-gray-700 focus:outline-none focus:border-green text-white"}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:ct,className:"w-full bg-green text-black font-semibold py-3 rounded-lg hover:opacity-90 transition-all",children:ct?"Resetting...":"Reset Password"})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400 text-center mt-6",children:jsxRuntimeExports.jsx("a",{href:"/login",className:"text-green hover:underline",children:"Back to Login"})})]},"form")})}),jsxRuntimeExports.jsx(Footer,{})]})}function EbookModal({ebook:et,onClose:g,onBuy:it,loadingBook:ot}){return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-2xl max-w-2xl w-full shadow-xl p-8 relative",children:[jsxRuntimeExports.jsx("button",{onClick:g,className:"absolute top-4 right-4 text-gray-400 hover:text-white text-xl",children:""}),jsxRuntimeExports.jsx("div",{className:"flex justify-center",children:jsxRuntimeExports.jsx("img",{src:et.image_url,alt:et.title,className:"w-56 h-auto object-contain rounded-lg border border-gray-700"})}),jsxRuntimeExports.jsxs("div",{className:"mt-6 text-left",children:[jsxRuntimeExports.jsxs("h2",{className:"text-3xl font-bold text-white mb-3",children:[et.title," (guide)"]}),jsxRuntimeExports.jsx("div",{className:"text-gray-300 mb-5 text-sm leading-relaxed space-y-3",dangerouslySetInnerHTML:{__html:et.description}}),jsxRuntimeExports.jsxs("p",{className:"text-4xl font-extrabold text-white mb-5",children:["$",et.price]}),jsxRuntimeExports.jsx("button",{onClick:()=>it(et),disabled:ot===et.product_type,className:`py-3 px-8 rounded-xl text-lg font-semibold shadow-lg ${ot===et.product_type?"opacity-50 cursor-not-allowed bg-gray-700":"bg-headerGreen text-black hover:bg-green-400 transition"}`,children:ot===et.product_type?"Redirecting...":"Buy Now"})]})]})})}function EbooksStore(){const[et,g]=reactExports.useState([]),[it,ot]=reactExports.useState(null),[ut,ct]=reactExports.useState(null),[dt,ft]=reactExports.useState(!0),{user:St}=useAuth();reactExports.useEffect(()=>{(async()=>{try{const jt=await axiosInstance.get("/ebooks");g(jt.data)}catch(jt){console.error("Failed to fetch ebooks:",jt),y$4.error("Failed to load ebooks")}finally{ft(!1)}})()},[]);const Tt=async kt=>{var jt;try{ot(kt.product_type);const Rt=localStorage.getItem("accessToken"),$t=await axiosInstance.post("/ebooks/checkout",{userId:(St==null?void 0:St.id)||null,title:kt.title,description:kt.description,price:kt.price,productType:kt.product_type},Rt?{headers:{Authorization:`Bearer ${Rt}`}}:{});window.location.href=$t.data.url}catch(Rt){console.error("Checkout error:",((jt=Rt.response)==null?void 0:jt.data)||Rt.message),y$4.error("Failed to start checkout session"),ot(null)}};return dt?jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center text-gray-400",children:"Loading ebooks..."}):et.length===0?jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center text-gray-400",children:"No ebooks available yet."}):jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-black via-gray-900 to-black text-white flex flex-col items-center px-6 py-20",children:[jsxRuntimeExports.jsxs("h1",{className:"text-5xl font-extrabold mb-12 tracking-tight text-center",children:["Shop Our ",jsxRuntimeExports.jsx("span",{className:"text-headerGreen",children:"Premium Ebooks"})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-center max-w-2xl mb-16 leading-relaxed",children:"Professionally written, conversion-focused ebooks generated by our software Cre8tly Studio. Instantly downloadable after purchase, no subscriptions, just pure value."}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10 w-full max-w-7xl",children:et.map(kt=>{const jt=kt.color==="green"?"from-green-500 via-emerald-400 to-green-500 shadow-[0_0_25px_rgba(0,255,153,0.3)] hover:shadow-[0_0_45px_rgba(0,255,153,0.6)]":kt.color==="purple"?"from-purple-600 via-blue-500 to-purple-600 shadow-[0_0_25px_rgba(147,51,234,0.4)] hover:shadow-[0_0_45px_rgba(147,51,234,0.7)]":"from-blue-600 via-cyan-400 to-blue-600 shadow-[0_0_25px_rgba(56,189,248,0.3)] hover:shadow-[0_0_45px_rgba(56,189,248,0.6)]";return jsxRuntimeExports.jsx("div",{className:`relative p-[2px] rounded-3xl bg-gradient-to-r ${jt} transition-all duration-500`,children:jsxRuntimeExports.jsxs("div",{className:"rounded-3xl bg-gradient-to-b from-gray-900 to-gray-800 p-8 flex flex-col justify-between min-h-[480px] text-center",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-center mb-6",children:jsxRuntimeExports.jsx("img",{src:kt.image_url,alt:kt.title,className:"rounded-lg w-48 h-auto object-contain border border-gray-700 shadow-md"})}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-semibold mb-3 text-white lead-text",children:kt.title}),jsxRuntimeExports.jsx("div",{className:"text-gray-300 mb-5 text-sm leading-relaxed line-clamp-3 text-left",dangerouslySetInnerHTML:{__html:kt.description}}),jsxRuntimeExports.jsx("button",{onClick:()=>ct(kt),className:"text-headerGreen text-sm hover:underline focus:outline-none mb-4",children:"Read More"}),jsxRuntimeExports.jsxs("p",{className:"text-3xl font-extrabold mb-8 text-white lead-text",children:["$",kt.price]}),jsxRuntimeExports.jsx("button",{onClick:()=>Tt(kt),disabled:it===kt.product_type,className:`mt-auto py-3 px-6 text-lg font-semibold rounded-xl transition-all duration-300 shadow-lg ${it===kt.product_type?"opacity-50 cursor-not-allowed bg-gray-700":"bg-royalPurple hover:bg-headerGreen hover:shadow-[0_0_25px_rgba(0,255,153,0.6)] text-white"}`,children:it===kt.product_type?"Redirecting...":"Purchase Ebook"})]})},kt.id)})}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-sm mt-12 text-center",children:" Secure Checkout handled by Cre8tly Studio"}),ut&&jsxRuntimeExports.jsx(EbookModal,{ebook:ut,onClose:()=>ct(null),onBuy:Tt,loadingBook:it})]})}const BookContext=reactExports.createContext();function BookProvider({children:et}){const{accessToken:g}=useAuth(),[it,ot]=reactExports.useState([]),[ut,ct]=reactExports.useState(!0),[dt,ft]=reactExports.useState(null),St=async()=>{if(g)try{const Tt=await axios$1.get("https://cre8tlystudio.com/api/books",{headers:{Authorization:`Bearer ${g}`}});ot(Tt.data)}catch(Tt){console.error("Error fetching books:",Tt),ft(Tt)}finally{ct(!1)}};return reactExports.useEffect(()=>{if(!g)return;St();const Tt=setInterval(async()=>{console.log(" [BookContext] Polling for new book updates...");try{const kt=await axios$1.get("https://cre8tlystudio.com/api/books",{headers:{Authorization:`Bearer ${g}`}});ot(jt=>JSON.stringify(jt)===JSON.stringify(kt.data)?jt:kt.data)}catch(kt){console.warn("Polling error:",kt.message)}},5e3);return()=>clearInterval(Tt)},[g]),jsxRuntimeExports.jsx(BookContext.Provider,{value:{books:it,setBooks:ot,fetchBooks:St,loading:ut,error:dt},children:et})}function useBooks(){return reactExports.useContext(BookContext)}function BookPartsModal({bookId:et,accessToken:g,onClose:it}){const[ot,ut]=reactExports.useState([]),[ct,dt]=reactExports.useState(!0);return reactExports.useEffect(()=>{async function ft(){try{const Tt=await(await fetch(`https://cre8tlystudio.com/api/books/${et}/parts`,{headers:{Authorization:`Bearer ${g}`}})).json();ut(Tt)}catch(St){console.error(" Failed to load book parts:",St)}finally{dt(!1)}}ft()},[et,g]),jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-2xl w-full max-w-2xl p-6 relative",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-white mb-6 text-center",children:" Book Parts"}),ct?jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-center",children:"Loading parts..."}):ot.length===0?jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-center",children:"No parts found yet."}):jsxRuntimeExports.jsx("ul",{className:"space-y-3 max-h-[60vh] overflow-y-auto pr-2",children:ot.map(ft=>jsxRuntimeExports.jsxs("li",{className:"flex justify-between items-center border-b border-gray-700 pb-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("p",{className:"text-white font-semibold",children:["Part ",ft.part_number,": ",ft.title||"Untitled"]}),jsxRuntimeExports.jsxs("p",{className:"text-white",children:["Total pages: ",ft.pages]}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-xs",children:new Date(ft.created_at).toLocaleString()})]}),jsxRuntimeExports.jsx("a",{href:ft.file_url,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1 bg-gradient-to-r from-[#00E07A] to-[#6A5ACD] rounded text-sm text-black font-semibold hover:opacity-90 transition",children:"Open PDF"})]},ft.id))}),jsxRuntimeExports.jsx("button",{onClick:it,className:"absolute top-3 right-3 text-white text-xl hover:text-red-400 transition",children:""})]})})}function BookTable({books:et=[],onAddPrompt:g,onGenerateNext:it}){const[ot,ut]=reactExports.useState(null),[ct,dt]=reactExports.useState(!1),[ft,St]=reactExports.useState(null),{accessToken:Tt}=useAuth();function kt(jt){St(jt),dt(!0)}return!Array.isArray(et)||et.length===0?null:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"bg-[#111] hidden md:block overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full border border-gray-700 text-white",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-800",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left",children:"Title"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left",children:"Part"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left",children:"Pages"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left",children:"Created"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left",children:"Prompt"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-2 text-left",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{children:et.map(jt=>jsxRuntimeExports.jsxs("tr",{className:"border-t border-gray-700",children:[jsxRuntimeExports.jsx("td",{className:"px-4 py-2 font-semibold",children:jt.book_name||"Untitled"}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-2",children:["Part ",jt.part_number||1]}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-2",children:[jsxRuntimeExports.jsx("div",{className:"w-24 bg-gray-800 rounded-full overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-green to-royalPurple h-2",style:{width:`${Math.min(jt.pages/750*100,100)}%`}})}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[jt.pages||0,"/750 pages"]})]}),jsxRuntimeExports.jsx("td",{className:"px-4 py-2",children:new Date(jt.created_at).toLocaleDateString()}),jsxRuntimeExports.jsx("td",{className:"px-4 py-2",children:jt.status==="pending"?jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-2 text-yellow italic",children:[jsxRuntimeExports.jsxs("svg",{className:"animate-spin h-4 w-4 text-yellow",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[jsxRuntimeExports.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),jsxRuntimeExports.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Generating"]}):jt.status==="failed"?jsxRuntimeExports.jsx("span",{className:"bg-red-500 text-white px-2 py-1 rounded-full text-xs font-semibold",children:"Failed"}):jt.pages>=750?jsxRuntimeExports.jsx("span",{className:"bg-green text-black px-2 py-1 rounded-full text-xs font-semibold",children:"Completed"}):jsxRuntimeExports.jsx("span",{className:"bg-blue-600 text-white px-2 py-1 rounded-full text-xs font-semibold",children:"In Progress"})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-2",children:jt.prompt?"Submitted":"Not submitted"}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-2 flex gap-2 flex-wrap",children:[!jt.prompt&&jsxRuntimeExports.jsx("button",{onClick:()=>g(jt.id,jt.part_number),className:"px-3 py-1 bg-blue rounded text-sm",children:"Add Chapter"}),jt.pdf_url&&jsxRuntimeExports.jsx("button",{onClick:()=>ut(jt.pdf_url),className:`px-4 py-1 rounded text-sm ${jt.pages>=750?"bg-green text-black":"bg-blue text-white"}`,children:jt.pages>=750?"Download Book":"Preview"}),jt.pdf_url&&jsxRuntimeExports.jsx("button",{onClick:()=>kt(jt.id),className:"px-3 py-1 bg-gray-700 rounded text-sm hover:bg-gray-600 transition",children:"View All Parts"}),jt.prompt&&jt.pages<750&&jsxRuntimeExports.jsx("button",{onClick:()=>it(jt.id,(jt.part_number||1)+1),className:"px-3 py-1 bg-gradient-to-r from-[#00E07A] to-[#6a5acd] text-black rounded text-sm hover:opacity-90 transition",children:jt.pages>=740?" Finish Book":` Continue Story (Part ${(jt.part_number||1)+1})`})]})]},`${jt.id}-${jt.part_number}`))})]})}),ot&&jsxRuntimeExports.jsx(PDFPreviewModal,{fileUrl:ot,onClose:()=>ut(null)}),ct&&jsxRuntimeExports.jsx(BookPartsModal,{bookId:ft,accessToken:Tt,onClose:()=>dt(!1)})]})}function BookPromptModal({isOpen:et,onClose:g,bookId:it,partNumber:ot=1,accessToken:ut,onSubmitted:ct,setShowGenerating:dt,setProgress:ft}){const[St,Tt]=reactExports.useState(""),[kt,jt]=reactExports.useState(10),[Rt,$t]=reactExports.useState(""),[zt,Ht]=reactExports.useState(null),[Zt,Bt]=reactExports.useState(""),[Ut,Kt]=reactExports.useState(!1),[Yt,Jt]=reactExports.useState(!1),[er,tr]=reactExports.useState(""),[rr,hr]=reactExports.useState(()=>localStorage.getItem("bookName")||""),[ar,or]=reactExports.useState(null);reactExports.useEffect(()=>{et||(Tt(""),jt(10),$t(""),Ht(null),Bt(""),tr(""),ft(0))},[et]),reactExports.useEffect(()=>{rr&&localStorage.setItem("bookName",rr)},[rr]),reactExports.useEffect(()=>{async function yr(){if(it)try{const dr=await(await fetch(`https://cre8tlystudio.com/api/books/${it}`,{headers:{Authorization:`Bearer ${ut}`}})).json();or(dr)}catch(xr){console.error("Failed to load book info:",xr)}}yr()},[it]);const cr=()=>{Ut||g()};async function gr(yr){var dr,pr;if(yr.preventDefault(),!St.trim()){y$4.error("Please enter your book idea or prompt first.");return}Kt(!0),ft(0),dt(!0),g();let xr;try{xr=setInterval(()=>{ft(ir=>ir<90?ir+Math.random()*4:ir)},400);const nr=await axios$1.post("https://cre8tlystudio.com/api/books/prompt",{bookId:it,prompt:St,pages:kt,link:Rt,coverImage:zt,title:Zt,authorName:er,bookName:rr,partNumber:ot},{headers:{Authorization:`Bearer ${ut}`}});clearInterval(xr),ft(100),y$4.success(" Book section generated successfully!"),setTimeout(()=>dt(!1),800),typeof ct=="function"&&setTimeout(()=>ct(it,St),1500)}catch(nr){console.error(" Book generation error:",nr),clearInterval(xr),ft(0),dt(!1),y$4.error(((pr=(dr=nr.response)==null?void 0:dr.data)==null?void 0:pr.message)||"Book generation failed. Try again."),typeof ct=="function"&&setTimeout(()=>ct(it,St),2500)}finally{Kt(!1)}}return jsxRuntimeExports.jsxs(ze,{show:et,appear:!0,children:[jsxRuntimeExports.jsxs(yt,{className:"relative z-50",onClose:cr,children:[jsxRuntimeExports.jsx(Dt,{className:"fixed inset-0 bg-black/70 backdrop-blur-sm"}),jsxRuntimeExports.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:jsxRuntimeExports.jsxs(je,{className:"relative w-full max-w-3xl max-h-[85vh] overflow-y-auto rounded-2xl bg-gray-900 p-8 shadow-2xl border border-gray-700",children:[jsxRuntimeExports.jsxs(Ye,{className:"text-2xl font-bold text-white mb-6 text-center",children:[" Build Your Novel Part ",ot]}),jsxRuntimeExports.jsx("div",{className:`transition-all duration-300 ${Ut?"pointer-events-none blur-sm opacity-50":""}`,children:jsxRuntimeExports.jsx(BookPromptForm,{text:St,setText:Tt,pages:kt,setPages:jt,link:Rt,setLink:$t,cover:zt,setCover:Ht,title:Zt,setTitle:Bt,authorName:(ar==null?void 0:ar.author_name)||"",setAuthorName:()=>{},bookName:(ar==null?void 0:ar.title)||"",setBookName:()=>{},onSubmit:gr,loading:Ut,showPreview:Yt,setShowPreview:Jt})}),jsxRuntimeExports.jsx("button",{onClick:cr,disabled:Ut,className:`absolute top-4 right-4 text-white text-xl transition ${Ut?"opacity-30 cursor-not-allowed":"hover:text-red-400"}`,children:""})]})})]}),Yt&&jsxRuntimeExports.jsx(ThemePreviewModal,{showPreview:Yt,onClose:()=>Jt(!1),PDFThemePreview})]})}function BookCardList({books:et=[],onAddPrompt:g}){const[it,ot]=reactExports.useState(null),[ut,ct]=reactExports.useState(!1),[dt,ft]=reactExports.useState(null),{accessToken:St}=useAuth();function Tt(kt){ft(kt),ct(!0)}return!Array.isArray(et)||et.length===0?null:jsxRuntimeExports.jsxs("div",{className:"md:hidden space-y-4",children:[et.map((kt,jt)=>jsxRuntimeExports.jsxs("div",{className:"bg-neo p-4 rounded-xl shadow border border-gray-700",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-white font-semibold mb-2",children:kt.title||`Book #${jt+1}`}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-silver",children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Created:"})," ",new Date(kt.created_at).toLocaleDateString()," ",new Date(kt.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-silver mt-1",children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Status:"})," ",kt.status==="completed"?jsxRuntimeExports.jsx("span",{className:"bg-green text-black px-2 py-1 rounded-full text-xs font-semibold",children:"Completed"}):kt.status==="failed"?jsxRuntimeExports.jsx("span",{className:"bg-red-500 text-white px-2 py-1 rounded-full text-xs font-semibold",children:"Failed"}):kt.status==="pending"?jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-2 text-yellow-400 italic",children:[jsxRuntimeExports.jsxs("svg",{className:"animate-spin h-4 w-4 text-yellow",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[jsxRuntimeExports.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),jsxRuntimeExports.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Generating your book"]}):jsxRuntimeExports.jsx("span",{className:"text-gray-400 italic",children:"Idle..."})]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-silver mt-1",children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Prompt:"})," ",kt.prompt?"Submitted":"Not submitted"]}),kt.part_number&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-silver mt-1",children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Part:"})," ",kt.part_number]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-2 mt-3",children:[!kt.prompt&&jsxRuntimeExports.jsx("button",{onClick:()=>g(kt.id,kt.part_number),className:"w-full px-3 py-2 bg-royalPurple text-white rounded",children:"Add Prompt"}),kt.pdf_url&&jsxRuntimeExports.jsx("button",{onClick:()=>ot(kt.pdf_url),className:"w-full px-3 py-2 bg-blue text-white rounded",children:"Download"}),kt.status==="completed"&&jsxRuntimeExports.jsx("button",{onClick:()=>Tt(kt.id),className:"w-full px-3 py-2 bg-gray-700 text-white rounded hover:bg-gray-600 transition",children:"View All Parts"})]})]},kt.id)),it&&jsxRuntimeExports.jsx(PDFPreviewModal,{fileUrl:it,onClose:()=>ot(null)}),ut&&jsxRuntimeExports.jsx(BookPartsModal,{bookId:dt,accessToken:St,onClose:()=>ct(!1)})]})}function NewBookModal({bookId:et,accessToken:g,onCreate:it,onClose:ot}){const[ut,ct]=reactExports.useState(""),[dt,ft]=reactExports.useState(""),[St,Tt]=reactExports.useState(!1);async function kt(){if(!ut||!dt){alert("Please fill in both fields.");return}Tt(!0);try{if(!(await fetch(`https://cre8tlystudio.com/api/books/update-info/${et}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${g}`},body:JSON.stringify({title:ut,authorName:dt})})).ok)throw new Error("Failed to update book info");it(ut,dt)}catch(jt){console.error("Error saving book info:",jt),alert("Something went wrong while saving your book info.")}finally{Tt(!1)}}return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50",children:jsxRuntimeExports.jsxs("div",{className:"bg-[#111] p-6 rounded-xl w-[90%] max-w-md border border-gray-700 text-white space-y-4 shadow-lg",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-center",children:"Set Up Your Book"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-silver mb-1",children:"Book Title"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"e.g. The Clockmakers Secret",value:ut,onChange:jt=>ct(jt.target.value),className:"w-full p-2 rounded bg-gray-800"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-silver mb-1",children:"Author Name"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"e.g. Elias Monroe",value:dt,onChange:jt=>ft(jt.target.value),className:"w-full p-2 rounded bg-gray-800"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2 pt-3",children:[jsxRuntimeExports.jsx("button",{onClick:ot,className:"text-gray-400 hover:text-white transition",children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:kt,disabled:St,className:"bg-gradient-to-r from-green to-royalPurple px-4 py-2 rounded text-white font-semibold hover:opacity-90 transition",children:St?"Saving...":"Continue"})]})]})})}function BooksDashboard(){const{user:et,accessToken:g}=useAuth(),{books:it,setBooks:ot,fetchBooks:ut,loading:ct}=useBooks(),[dt,ft]=reactExports.useState(!1),[St,Tt]=reactExports.useState(null),[kt,jt]=reactExports.useState(!1),[Rt,$t]=reactExports.useState(0),[zt,Ht]=reactExports.useState(!1),[Zt,Bt]=reactExports.useState(!1),[Ut,Kt]=reactExports.useState(1),[Yt,Jt]=reactExports.useState(!1),er=useNavigate(),tr=useLocation(),rr=10,hr=[...it].sort((pr,nr)=>new Date(nr.created_at)-new Date(pr.created_at)),ar=Math.ceil(hr.length/rr),or=(Ut-1)*rr,cr=hr.slice(or,or+rr);function gr(pr,nr=1){const ir=it.find(br=>br.id===pr);if(console.log("SelectedBook:",ir),!ir)return;const mr=!ir.author_name||ir.author_name.trim()==="",lr=!ir.book_name||ir.book_name.trim()===""||ir.book_name==="Untitled"||ir.book_name==="Untitled Book";if(mr||lr){Tt({id:pr,part_number:nr}),Jt(!0);return}Tt({id:pr,part_number:nr}),ft(!0)}function yr(pr,nr){ot(ir=>ir.map(mr=>mr.id===pr?{...mr,prompt:nr,status:"pending"}:mr)),setTimeout(ut,3e3)}async function xr(pr,nr){try{if(!(await fetch(`https://cre8tlystudio.com/api/books/update-info/${St.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${g}`},body:JSON.stringify({title:pr,authorName:nr})})).ok)throw new Error("Failed to update book info");ot(mr=>mr.map(lr=>lr.id===St.id?{...lr,title:pr,author_name:nr}:lr)),Jt(!1),ft(!0),ut()}catch(ir){console.error("Error updating book info:",ir)}}async function dr(){try{await(await fetch("https://cre8tlystudio.com/api/auth/me",{headers:{Authorization:`Bearer ${g}`},credentials:"include"})).json()&&ut()}catch(pr){console.error("Failed to refresh slots:",pr)}}return reactExports.useEffect(()=>{async function pr(){try{await getVersion(),Ht(!0)}catch{Ht(!1)}}pr()},[]),jsxRuntimeExports.jsxs("div",{className:"p-6 pt-28 min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900",children:[jsxRuntimeExports.jsx(DashboardHeader,{type:"book",items:it,onCheckout:()=>er("/plans")}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3 mb-8",children:[(et==null?void 0:et.has_magnet)&&jsxRuntimeExports.jsx("button",{onClick:()=>er("/dashboard"),className:`px-4 py-2 rounded-lg ${tr.pathname==="/dashboard"?"bg-blue text-white":"bg-gray-700 text-gray-200"}`,children:" Lead Magnets"}),jsxRuntimeExports.jsx("button",{onClick:()=>er("/books"),className:`px-4 py-2 rounded-lg ${tr.pathname==="/books"?"bg-blue text-white":"bg-gray-700 text-gray-200"}`,children:" Books"})]}),ct?jsxRuntimeExports.jsx(LoadingState,{}):it.length===0?jsxRuntimeExports.jsx(EmptyState,{onCheckout:()=>er("/plans"),type:"book"}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(BookTable,{books:cr,onAddPrompt:(pr,nr)=>gr(pr,nr),onGenerateNext:(pr,nr)=>gr(pr,nr)}),jsxRuntimeExports.jsx(BookCardList,{books:cr,onAddPrompt:(pr,nr)=>gr(pr,nr),onGenerateNext:(pr,nr)=>gr(pr,nr)}),jsxRuntimeExports.jsx(PaginationControls,{currentPage:Ut,totalPages:ar,onPageChange:Kt}),jsxRuntimeExports.jsx(SupportTab,{})]}),Yt&&St&&jsxRuntimeExports.jsx(NewBookModal,{bookId:St.id,accessToken:g,onCreate:xr,onClose:()=>Jt(!1)}),St&&jsxRuntimeExports.jsx(BookPromptModal,{isOpen:dt,onClose:()=>ft(!1),bookId:St.id,partNumber:St.part_number,accessToken:g,setShowGenerating:jt,setProgress:$t,onSubmitted:yr}),jsxRuntimeExports.jsx(OutOfSlotsModal,{open:Zt,onClose:()=>Bt(!1),onRefresh:dr,isFirstTime:it.length===0}),jsxRuntimeExports.jsx(GenerationOverlay,{visible:kt,progress:Rt,type:"book"})]})}const AnimatedRoutes=()=>{const et=useLocation();return jsxRuntimeExports.jsx(AnimatePresence,{mode:"sync",children:jsxRuntimeExports.jsxs(Routes,{location:et,children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(EntryRouter,{})}),jsxRuntimeExports.jsx(Route,{path:"/home",element:jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.25},className:"min-h-screen bg-[#030712]",children:jsxRuntimeExports.jsx(App,{})})}),jsxRuntimeExports.jsx(Route,{path:"/support",element:jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.25},className:"min-h-screen bg-[#030712]",children:jsxRuntimeExports.jsx(SupportPage,{})})}),jsxRuntimeExports.jsx(Route,{path:"/thank-you",element:jsxRuntimeExports.jsx(ThankYou,{})}),jsxRuntimeExports.jsx(Route,{path:"/contact",element:jsxRuntimeExports.jsx(Contact,{})}),jsxRuntimeExports.jsx(Route,{path:"/shop",element:jsxRuntimeExports.jsx(EbooksStore,{})}),jsxRuntimeExports.jsx(Route,{path:"/books",element:jsxRuntimeExports.jsx(BooksDashboard,{})}),jsxRuntimeExports.jsx(Route,{path:"/terms",element:jsxRuntimeExports.jsx(Terms,{})}),jsxRuntimeExports.jsx(Route,{path:"/privacy-policy",element:jsxRuntimeExports.jsx(Privacy,{})}),jsxRuntimeExports.jsx(Route,{path:"/refund-policy",element:jsxRuntimeExports.jsx(Refund,{})}),jsxRuntimeExports.jsx(Route,{path:"/cookie-policy",element:jsxRuntimeExports.jsx(Cookie,{})}),jsxRuntimeExports.jsx(Route,{path:"/prompt",element:jsxRuntimeExports.jsx(PromptPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/sign-up",element:jsxRuntimeExports.jsx(SignupPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/login",element:jsxRuntimeExports.jsx(LoginPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/plans",element:jsxRuntimeExports.jsx(PlansPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/forgot-password",element:jsxRuntimeExports.jsx(ForgotPassword,{})}),jsxRuntimeExports.jsx(Route,{path:"/reset-password",element:jsxRuntimeExports.jsx(ResetPassword,{})}),jsxRuntimeExports.jsx(Route,{path:"/dashboard",element:jsxRuntimeExports.jsx(PrivateRoute,{role:["customer","admin"],children:jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.25},className:"min-h-screen bg-[#030712]",children:jsxRuntimeExports.jsx(CustomerDashboard,{})})})}),jsxRuntimeExports.jsx(Route,{path:"/admin",element:jsxRuntimeExports.jsx(PrivateRoute,{role:"admin",children:jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.25},className:"min-h-screen bg-[#030712]",children:jsxRuntimeExports.jsx(AdminDashboard,{})})})}),jsxRuntimeExports.jsx(Route,{path:"/debug",element:jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.25},style:{backgroundColor:"#030712",color:"#fff",minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},children:"Debug Test Page"})}),jsxRuntimeExports.jsx(Route,{path:"*",element:jsxRuntimeExports.jsx(NotFound,{})})]},et.pathname)})},RootApp=()=>jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsx(AuthProviderWithRouter,{children:jsxRuntimeExports.jsx(BookProvider,{children:jsxRuntimeExports.jsxs(MagnetProvider,{children:[jsxRuntimeExports.jsx(Lt,{position:"top-center",autoClose:3e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"colored"}),jsxRuntimeExports.jsx(Nav,{}),jsxRuntimeExports.jsx(AnimatedRoutes,{})]})})})}),container=document.getElementById("root"),root=createRoot(container);root.render(jsxRuntimeExports.jsx(RootApp,{}));
